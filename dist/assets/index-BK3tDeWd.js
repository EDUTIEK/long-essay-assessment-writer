var nse=Object.defineProperty;var ose=(r,l,f)=>l in r?nse(r,l,{enumerable:!0,configurable:!0,writable:!0,value:f}):r[l]=f;var Cd=(r,l,f)=>ose(r,typeof l!="symbol"?l+"":l,f);(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))m(x);new MutationObserver(x=>{for(const v of x)if(v.type==="childList")for(const w of v.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&m(w)}).observe(document,{childList:!0,subtree:!0});function f(x){const v={};return x.integrity&&(v.integrity=x.integrity),x.referrerPolicy&&(v.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?v.credentials="include":x.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function m(x){if(x.ep)return;x.ep=!0;const v=f(x);fetch(x.href,v)}})();/**
* @vue/shared v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Z9(r,l){const f=new Set(r.split(","));return m=>f.has(m)}const ua={},IS=[],Jm=()=>{},rse=()=>!1,PM=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&(r.charCodeAt(2)>122||r.charCodeAt(2)<97),W9=r=>r.startsWith("onUpdate:"),El=Object.assign,j9=(r,l)=>{const f=r.indexOf(l);f>-1&&r.splice(f,1)},sse=Object.prototype.hasOwnProperty,ws=(r,l)=>sse.call(r,l),Qo=Array.isArray,BS=r=>LM(r)==="[object Map]",Uj=r=>LM(r)==="[object Set]",ur=r=>typeof r=="function",Za=r=>typeof r=="string",j0=r=>typeof r=="symbol",Ri=r=>r!==null&&typeof r=="object",Zj=r=>(Ri(r)||ur(r))&&ur(r.then)&&ur(r.catch),Wj=Object.prototype.toString,LM=r=>Wj.call(r),ise=r=>LM(r).slice(8,-1),jj=r=>LM(r)==="[object Object]",K9=r=>Za(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,kT=Z9(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),FM=r=>{const l=Object.create(null);return f=>l[f]||(l[f]=r(f))},ase=/-(\w)/g,Mf=FM(r=>r.replace(ase,(l,f)=>f?f.toUpperCase():"")),lse=/\B([A-Z])/g,gw=FM(r=>r.replace(lse,"-$1").toLowerCase()),$S=FM(r=>r.charAt(0).toUpperCase()+r.slice(1)),kH=FM(r=>r?`on${$S(r)}`:""),U0=(r,l)=>!Object.is(r,l),AH=(r,...l)=>{for(let f=0;f<r.length;f++)r[f](...l)},Kj=(r,l,f,m=!1)=>{Object.defineProperty(r,l,{configurable:!0,enumerable:!1,writable:m,value:f})},cse=r=>{const l=parseFloat(r);return isNaN(l)?r:l},use=r=>{const l=Za(r)?Number(r):NaN;return isNaN(l)?r:l};let HZ;const qj=()=>HZ||(HZ=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function L0(r){if(Qo(r)){const l={};for(let f=0;f<r.length;f++){const m=r[f],x=Za(m)?gse(m):L0(m);if(x)for(const v in x)l[v]=x[v]}return l}else if(Za(r)||Ri(r))return r}const dse=/;(?![^(]*\))/g,fse=/:([^]+)/,mse=/\/\*[^]*?\*\//g;function gse(r){const l={};return r.replace(mse,"").split(dse).forEach(f=>{if(f){const m=f.split(fse);m.length>1&&(l[m[0].trim()]=m[1].trim())}}),l}function dw(r){let l="";if(Za(r))l=r;else if(Qo(r))for(let f=0;f<r.length;f++){const m=dw(r[f]);m&&(l+=m+" ")}else if(Ri(r))for(const f in r)r[f]&&(l+=f+" ");return l.trim()}const hse="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",pse=Z9(hse);function Gj(r){return!!r||r===""}const Yj=r=>!!(r&&r.__v_isRef===!0),kd=r=>Za(r)?r:r==null?"":Qo(r)||Ri(r)&&(r.toString===Wj||!ur(r.toString))?Yj(r)?kd(r.value):JSON.stringify(r,Xj,2):String(r),Xj=(r,l)=>Yj(l)?Xj(r,l.value):BS(l)?{[`Map(${l.size})`]:[...l.entries()].reduce((f,[m,x],v)=>(f[EH(m,v)+" =>"]=x,f),{})}:Uj(l)?{[`Set(${l.size})`]:[...l.values()].map(f=>EH(f))}:j0(l)?EH(l):Ri(l)&&!Qo(l)&&!jj(l)?String(l):l,EH=(r,l="")=>{var f;return j0(r)?`Symbol(${(f=r.description)!=null?f:l})`:r};/**
* @vue/reactivity v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Of;class Jj{constructor(l=!1){this.detached=l,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Of,!l&&Of&&(this.index=(Of.scopes||(Of.scopes=[])).push(this)-1)}get active(){return this._active}run(l){if(this._active){const f=Of;try{return Of=this,l()}finally{Of=f}}}on(){Of=this}off(){Of=this.parent}stop(l){if(this._active){let f,m;for(f=0,m=this.effects.length;f<m;f++)this.effects[f].stop();for(f=0,m=this.cleanups.length;f<m;f++)this.cleanups[f]();if(this.scopes)for(f=0,m=this.scopes.length;f<m;f++)this.scopes[f].stop(!0);if(!this.detached&&this.parent&&!l){const x=this.parent.scopes.pop();x&&x!==this&&(this.parent.scopes[this.index]=x,x.index=this.index)}this.parent=void 0,this._active=!1}}}function UT(r){return new Jj(r)}function bse(r,l=Of){l&&l.active&&l.effects.push(r)}function Qj(){return Of}function Ff(r){Of&&Of.cleanups.push(r)}let ew;class q9{constructor(l,f,m,x){this.fn=l,this.trigger=f,this.scheduler=m,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,bse(this,x)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,K0();for(let l=0;l<this._depsLength;l++){const f=this.deps[l];if(f.computed&&(vse(f.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),q0()}return this._dirtyLevel>=4}set dirty(l){this._dirtyLevel=l?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let l=F0,f=ew;try{return F0=!0,ew=this,this._runnings++,VZ(this),this.fn()}finally{$Z(this),this._runnings--,ew=f,F0=l}}stop(){this.active&&(VZ(this),$Z(this),this.onStop&&this.onStop(),this.active=!1)}}function vse(r){return r.value}function VZ(r){r._trackId++,r._depsLength=0}function $Z(r){if(r.deps.length>r._depsLength){for(let l=r._depsLength;l<r.deps.length;l++)eK(r.deps[l],r);r.deps.length=r._depsLength}}function eK(r,l){const f=r.get(l);f!==void 0&&l._trackId!==f&&(r.delete(l),r.size===0&&r.cleanup())}let F0=!0,r9=0;const tK=[];function K0(){tK.push(F0),F0=!1}function q0(){const r=tK.pop();F0=r===void 0?!0:r}function G9(){r9++}function Y9(){for(r9--;!r9&&s9.length;)s9.shift()()}function nK(r,l,f){if(l.get(r)!==r._trackId){l.set(r,r._trackId);const m=r.deps[r._depsLength];m!==l?(m&&eK(m,r),r.deps[r._depsLength++]=l):r._depsLength++}}const s9=[];function oK(r,l,f){G9();for(const m of r.keys()){let x;m._dirtyLevel<l&&(x??(x=r.get(m)===m._trackId))&&(m._shouldSchedule||(m._shouldSchedule=m._dirtyLevel===0),m._dirtyLevel=l),m._shouldSchedule&&(x??(x=r.get(m)===m._trackId))&&(m.trigger(),(!m._runnings||m.allowRecurse)&&m._dirtyLevel!==2&&(m._shouldSchedule=!1,m.scheduler&&s9.push(m.scheduler)))}Y9()}const rK=(r,l)=>{const f=new Map;return f.cleanup=r,f.computed=l,f},vM=new WeakMap,tw=Symbol(""),i9=Symbol("");function Td(r,l,f){if(F0&&ew){let m=vM.get(r);m||vM.set(r,m=new Map);let x=m.get(f);x||m.set(f,x=rK(()=>m.delete(f))),nK(ew,x)}}function A1(r,l,f,m,x,v){const w=vM.get(r);if(!w)return;let E=[];if(l==="clear")E=[...w.values()];else if(f==="length"&&Qo(r)){const F=Number(m);w.forEach((P,I)=>{(I==="length"||!j0(I)&&I>=F)&&E.push(P)})}else switch(f!==void 0&&E.push(w.get(f)),l){case"add":Qo(r)?K9(f)&&E.push(w.get("length")):(E.push(w.get(tw)),BS(r)&&E.push(w.get(i9)));break;case"delete":Qo(r)||(E.push(w.get(tw)),BS(r)&&E.push(w.get(i9)));break;case"set":BS(r)&&E.push(w.get(tw));break}G9();for(const F of E)F&&oK(F,4);Y9()}function xse(r,l){const f=vM.get(r);return f&&f.get(l)}const yse=Z9("__proto__,__v_isRef,__isVue"),sK=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(j0)),UZ=wse();function wse(){const r={};return["includes","indexOf","lastIndexOf"].forEach(l=>{r[l]=function(...f){const m=To(this);for(let v=0,w=this.length;v<w;v++)Td(m,"get",v+"");const x=m[l](...f);return x===-1||x===!1?m[l](...f.map(To)):x}}),["push","pop","shift","unshift","splice"].forEach(l=>{r[l]=function(...f){K0(),G9();const m=To(this)[l].apply(this,f);return Y9(),q0(),m}}),r}function Cse(r){j0(r)||(r=String(r));const l=To(this);return Td(l,"has",r),l.hasOwnProperty(r)}class iK{constructor(l=!1,f=!1){this._isReadonly=l,this._isShallow=f}get(l,f,m){const x=this._isReadonly,v=this._isShallow;if(f==="__v_isReactive")return!x;if(f==="__v_isReadonly")return x;if(f==="__v_isShallow")return v;if(f==="__v_raw")return m===(x?v?Mse:uK:v?cK:lK).get(l)||Object.getPrototypeOf(l)===Object.getPrototypeOf(m)?l:void 0;const w=Qo(l);if(!x){if(w&&ws(UZ,f))return Reflect.get(UZ,f,m);if(f==="hasOwnProperty")return Cse}const E=Reflect.get(l,f,m);return(j0(f)?sK.has(f):yse(f))||(x||Td(l,"get",f),v)?E:Ni(E)?w&&K9(f)?E:E.value:Ri(E)?x?ZT(E):Jc(E):E}}class aK extends iK{constructor(l=!1){super(!1,l)}set(l,f,m,x){let v=l[f];if(!this._isShallow){const F=fw(v);if(!PS(m)&&!fw(m)&&(v=To(v),m=To(m)),!Qo(l)&&Ni(v)&&!Ni(m))return F?!1:(v.value=m,!0)}const w=Qo(l)&&K9(f)?Number(f)<l.length:ws(l,f),E=Reflect.set(l,f,m,x);return l===To(x)&&(w?U0(m,v)&&A1(l,"set",f,m):A1(l,"add",f,m)),E}deleteProperty(l,f){const m=ws(l,f);l[f];const x=Reflect.deleteProperty(l,f);return x&&m&&A1(l,"delete",f,void 0),x}has(l,f){const m=Reflect.has(l,f);return(!j0(f)||!sK.has(f))&&Td(l,"has",f),m}ownKeys(l){return Td(l,"iterate",Qo(l)?"length":tw),Reflect.ownKeys(l)}}class _se extends iK{constructor(l=!1){super(!0,l)}set(l,f){return!0}deleteProperty(l,f){return!0}}const Sse=new aK,kse=new _se,Ase=new aK(!0);const X9=r=>r,zM=r=>Reflect.getPrototypeOf(r);function jB(r,l,f=!1,m=!1){r=r.__v_raw;const x=To(r),v=To(l);f||(U0(l,v)&&Td(x,"get",l),Td(x,"get",v));const{has:w}=zM(x),E=m?X9:f?tV:RT;if(w.call(x,l))return E(r.get(l));if(w.call(x,v))return E(r.get(v));r!==x&&r.get(l)}function KB(r,l=!1){const f=this.__v_raw,m=To(f),x=To(r);return l||(U0(r,x)&&Td(m,"has",r),Td(m,"has",x)),r===x?f.has(r):f.has(r)||f.has(x)}function qB(r,l=!1){return r=r.__v_raw,!l&&Td(To(r),"iterate",tw),Reflect.get(r,"size",r)}function ZZ(r,l=!1){!l&&!PS(r)&&!fw(r)&&(r=To(r));const f=To(this);return zM(f).has.call(f,r)||(f.add(r),A1(f,"add",r,r)),this}function WZ(r,l,f=!1){!f&&!PS(l)&&!fw(l)&&(l=To(l));const m=To(this),{has:x,get:v}=zM(m);let w=x.call(m,r);w||(r=To(r),w=x.call(m,r));const E=v.call(m,r);return m.set(r,l),w?U0(l,E)&&A1(m,"set",r,l):A1(m,"add",r,l),this}function jZ(r){const l=To(this),{has:f,get:m}=zM(l);let x=f.call(l,r);x||(r=To(r),x=f.call(l,r)),m&&m.call(l,r);const v=l.delete(r);return x&&A1(l,"delete",r,void 0),v}function KZ(){const r=To(this),l=r.size!==0,f=r.clear();return l&&A1(r,"clear",void 0,void 0),f}function GB(r,l){return function(m,x){const v=this,w=v.__v_raw,E=To(w),F=l?X9:r?tV:RT;return!r&&Td(E,"iterate",tw),w.forEach((P,I)=>m.call(x,F(P),F(I),v))}}function YB(r,l,f){return function(...m){const x=this.__v_raw,v=To(x),w=BS(v),E=r==="entries"||r===Symbol.iterator&&w,F=r==="keys"&&w,P=x[r](...m),I=f?X9:l?tV:RT;return!l&&Td(v,"iterate",F?i9:tw),{next(){const{value:z,done:j}=P.next();return j?{value:z,done:j}:{value:E?[I(z[0]),I(z[1])]:I(z),done:j}},[Symbol.iterator](){return this}}}}function k0(r){return function(...l){return r==="delete"?!1:r==="clear"?void 0:this}}function Ese(){const r={get(v){return jB(this,v)},get size(){return qB(this)},has:KB,add:ZZ,set:WZ,delete:jZ,clear:KZ,forEach:GB(!1,!1)},l={get(v){return jB(this,v,!1,!0)},get size(){return qB(this)},has:KB,add(v){return ZZ.call(this,v,!0)},set(v,w){return WZ.call(this,v,w,!0)},delete:jZ,clear:KZ,forEach:GB(!1,!0)},f={get(v){return jB(this,v,!0)},get size(){return qB(this,!0)},has(v){return KB.call(this,v,!0)},add:k0("add"),set:k0("set"),delete:k0("delete"),clear:k0("clear"),forEach:GB(!0,!1)},m={get(v){return jB(this,v,!0,!0)},get size(){return qB(this,!0)},has(v){return KB.call(this,v,!0)},add:k0("add"),set:k0("set"),delete:k0("delete"),clear:k0("clear"),forEach:GB(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(v=>{r[v]=YB(v,!1,!1),f[v]=YB(v,!0,!1),l[v]=YB(v,!1,!0),m[v]=YB(v,!0,!0)}),[r,f,l,m]}const[Tse,Ose,Dse,Rse]=Ese();function J9(r,l){const f=l?r?Rse:Dse:r?Ose:Tse;return(m,x,v)=>x==="__v_isReactive"?!r:x==="__v_isReadonly"?r:x==="__v_raw"?m:Reflect.get(ws(f,x)&&x in m?f:m,x,v)}const Nse={get:J9(!1,!1)},Ise={get:J9(!1,!0)},Bse={get:J9(!0,!1)};const lK=new WeakMap,cK=new WeakMap,uK=new WeakMap,Mse=new WeakMap;function Pse(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Lse(r){return r.__v_skip||!Object.isExtensible(r)?0:Pse(ise(r))}function Jc(r){return fw(r)?r:Q9(r,!1,Sse,Nse,lK)}function Fse(r){return Q9(r,!1,Ase,Ise,cK)}function ZT(r){return Q9(r,!0,kse,Bse,uK)}function Q9(r,l,f,m,x){if(!Ri(r)||r.__v_raw&&!(l&&r.__v_isReactive))return r;const v=x.get(r);if(v)return v;const w=Lse(r);if(w===0)return r;const E=new Proxy(r,w===2?m:f);return x.set(r,E),E}function nw(r){return fw(r)?nw(r.__v_raw):!!(r&&r.__v_isReactive)}function fw(r){return!!(r&&r.__v_isReadonly)}function PS(r){return!!(r&&r.__v_isShallow)}function dK(r){return r?!!r.__v_raw:!1}function To(r){const l=r&&r.__v_raw;return l?To(l):r}function eV(r){return Object.isExtensible(r)&&Kj(r,"__v_skip",!0),r}const RT=r=>Ri(r)?Jc(r):r,tV=r=>Ri(r)?ZT(r):r;class fK{constructor(l,f,m,x){this.getter=l,this._setter=f,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new q9(()=>l(this._value),()=>cM(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!x,this.__v_isReadonly=m}get value(){const l=To(this);return(!l._cacheable||l.effect.dirty)&&U0(l._value,l._value=l.effect.run())&&cM(l,4),mK(l),l.effect._dirtyLevel>=2&&cM(l,2),l._value}set value(l){this._setter(l)}get _dirty(){return this.effect.dirty}set _dirty(l){this.effect.dirty=l}}function zse(r,l,f=!1){let m,x;const v=ur(r);return v?(m=r,x=Jm):(m=r.get,x=r.set),new fK(m,x,v||!x,f)}function mK(r){var l;F0&&ew&&(r=To(r),nK(ew,(l=r.dep)!=null?l:r.dep=rK(()=>r.dep=void 0,r instanceof fK?r:void 0)))}function cM(r,l=4,f,m){r=To(r);const x=r.dep;x&&oK(x,l)}function Ni(r){return!!(r&&r.__v_isRef===!0)}function kr(r){return gK(r,!1)}function Rr(r){return gK(r,!0)}function gK(r,l){return Ni(r)?r:new Hse(r,l)}class Hse{constructor(l,f){this.__v_isShallow=f,this.dep=void 0,this.__v_isRef=!0,this._rawValue=f?l:To(l),this._value=f?l:RT(l)}get value(){return mK(this),this._value}set value(l){const f=this.__v_isShallow||PS(l)||fw(l);l=f?l:To(l),U0(l,this._rawValue)&&(this._rawValue,this._rawValue=l,this._value=f?l:RT(l),cM(this,4))}}function lt(r){return Ni(r)?r.value:r}const Vse={get:(r,l,f)=>lt(Reflect.get(r,l,f)),set:(r,l,f,m)=>{const x=r[l];return Ni(x)&&!Ni(f)?(x.value=f,!0):Reflect.set(r,l,f,m)}};function hK(r){return nw(r)?r:new Proxy(r,Vse)}function WT(r){const l=Qo(r)?new Array(r.length):{};for(const f in r)l[f]=pK(r,f);return l}class $se{constructor(l,f,m){this._object=l,this._key=f,this._defaultValue=m,this.__v_isRef=!0}get value(){const l=this._object[this._key];return l===void 0?this._defaultValue:l}set value(l){this._object[this._key]=l}get dep(){return xse(To(this._object),this._key)}}class Use{constructor(l){this._getter=l,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function ts(r,l,f){return Ni(r)?r:ur(r)?new Use(r):Ri(r)&&arguments.length>1?pK(r,l,f):kr(r)}function pK(r,l,f){const m=r[l];return Ni(m)?m:new $se(r,l,f)}/**
* @vue/runtime-core v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function z0(r,l,f,m){try{return m?r(...m):r()}catch(x){HM(x,l,f)}}function eg(r,l,f,m){if(ur(r)){const x=z0(r,l,f,m);return x&&Zj(x)&&x.catch(v=>{HM(v,l,f)}),x}if(Qo(r)){const x=[];for(let v=0;v<r.length;v++)x.push(eg(r[v],l,f,m));return x}}function HM(r,l,f,m=!0){const x=l?l.vnode:null;if(l){let v=l.parent;const w=l.proxy,E=`https://vuejs.org/error-reference/#runtime-${f}`;for(;v;){const P=v.ec;if(P){for(let I=0;I<P.length;I++)if(P[I](r,w,E)===!1)return}v=v.parent}const F=l.appContext.config.errorHandler;if(F){K0(),z0(F,null,10,[r,w,E]),q0();return}}Zse(r,f,x,m)}function Zse(r,l,f,m=!0){console.error(r)}let NT=!1,a9=!1;const Qc=[];let wp=0;const MS=[];let R0=null,X2=0;const bK=Promise.resolve();let nV=null;function Pf(r){const l=nV||bK;return r?l.then(this?r.bind(this):r):l}function Wse(r){let l=wp+1,f=Qc.length;for(;l<f;){const m=l+f>>>1,x=Qc[m],v=IT(x);v<r||v===r&&x.pre?l=m+1:f=m}return l}function oV(r){(!Qc.length||!Qc.includes(r,NT&&r.allowRecurse?wp+1:wp))&&(r.id==null?Qc.push(r):Qc.splice(Wse(r.id),0,r),vK())}function vK(){!NT&&!a9&&(a9=!0,nV=bK.then(yK))}function jse(r){const l=Qc.indexOf(r);l>wp&&Qc.splice(l,1)}function Kse(r){Qo(r)?MS.push(...r):(!R0||!R0.includes(r,r.allowRecurse?X2+1:X2))&&MS.push(r),vK()}function qZ(r,l,f=NT?wp+1:0){for(;f<Qc.length;f++){const m=Qc[f];if(m&&m.pre){if(r&&m.id!==r.uid)continue;Qc.splice(f,1),f--,m()}}}function xK(r){if(MS.length){const l=[...new Set(MS)].sort((f,m)=>IT(f)-IT(m));if(MS.length=0,R0){R0.push(...l);return}for(R0=l,X2=0;X2<R0.length;X2++){const f=R0[X2];f.active!==!1&&f()}R0=null,X2=0}}const IT=r=>r.id==null?1/0:r.id,qse=(r,l)=>{const f=IT(r)-IT(l);if(f===0){if(r.pre&&!l.pre)return-1;if(l.pre&&!r.pre)return 1}return f};function yK(r){a9=!1,NT=!0,Qc.sort(qse);try{for(wp=0;wp<Qc.length;wp++){const l=Qc[wp];l&&l.active!==!1&&z0(l,l.i,l.i?15:14)}}finally{wp=0,Qc.length=0,xK(),NT=!1,nV=null,(Qc.length||MS.length)&&yK()}}let zu=null,VM=null;function xM(r){const l=zu;return zu=r,VM=r&&r.type.__scopeId||null,l}function $M(r){VM=r}function UM(){VM=null}function Wn(r,l=zu,f){if(!l||r._n)return r;const m=(...x)=>{m._d&&iW(-1);const v=xM(l);let w;try{w=r(...x)}finally{xM(v),m._d&&iW(1)}return w};return m._n=!0,m._c=!0,m._d=!0,m}function Yr(r,l){if(zu===null)return r;const f=GM(zu),m=r.dirs||(r.dirs=[]);for(let x=0;x<l.length;x++){let[v,w,E,F=ua]=l[x];v&&(ur(v)&&(v={mounted:v,updated:v}),v.deep&&M0(w),m.push({dir:v,instance:f,value:w,oldValue:void 0,arg:E,modifiers:F}))}return r}function Z2(r,l,f,m){const x=r.dirs,v=l&&l.dirs;for(let w=0;w<x.length;w++){const E=x[w];v&&(E.oldValue=v[w].value);let F=E.dir[m];F&&(K0(),eg(F,f,8,[r.el,E,r,l]),q0())}}const N0=Symbol("_leaveCb"),XB=Symbol("_enterCb");function wK(){const r={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ap(()=>{r.isMounted=!0}),$u(()=>{r.isUnmounting=!0}),r}const Xm=[Function,Array],CK={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Xm,onEnter:Xm,onAfterEnter:Xm,onEnterCancelled:Xm,onBeforeLeave:Xm,onLeave:Xm,onAfterLeave:Xm,onLeaveCancelled:Xm,onBeforeAppear:Xm,onAppear:Xm,onAfterAppear:Xm,onAppearCancelled:Xm},_K=r=>{const l=r.subTree;return l.component?_K(l.component):l},Gse={name:"BaseTransition",props:CK,setup(r,{slots:l}){const f=mV(),m=wK();return()=>{const x=l.default&&rV(l.default(),!0);if(!x||!x.length)return;let v=x[0];if(x.length>1){for(const j of x)if(j.type!==Df){v=j;break}}const w=To(r),{mode:E}=w;if(m.isLeaving)return TH(v);const F=GZ(v);if(!F)return TH(v);let P=BT(F,w,m,f,j=>P=j);LS(F,P);const I=f.subTree,z=I&&GZ(I);if(z&&z.type!==Df&&!J2(F,z)&&_K(f).type!==Df){const j=BT(z,w,m,f);if(LS(z,j),E==="out-in"&&F.type!==Df)return m.isLeaving=!0,j.afterLeave=()=>{m.isLeaving=!1,f.update.active!==!1&&(f.effect.dirty=!0,f.update())},TH(v);E==="in-out"&&F.type!==Df&&(j.delayLeave=(U,J,ne)=>{const ye=SK(m,z);ye[String(z.key)]=z,U[N0]=()=>{J(),U[N0]=void 0,delete P.delayedLeave},P.delayedLeave=ne})}return v}}},Yse=Gse;function SK(r,l){const{leavingVNodes:f}=r;let m=f.get(l.type);return m||(m=Object.create(null),f.set(l.type,m)),m}function BT(r,l,f,m,x){const{appear:v,mode:w,persisted:E=!1,onBeforeEnter:F,onEnter:P,onAfterEnter:I,onEnterCancelled:z,onBeforeLeave:j,onLeave:U,onAfterLeave:J,onLeaveCancelled:ne,onBeforeAppear:ye,onAppear:pe,onAfterAppear:We,onAppearCancelled:Fe}=l,ae=String(r.key),Ie=SK(f,r),oe=(Ye,gt)=>{Ye&&eg(Ye,m,9,gt)},Je=(Ye,gt)=>{const Se=gt[1];oe(Ye,gt),Qo(Ye)?Ye.every(Ne=>Ne.length<=1)&&Se():Ye.length<=1&&Se()},He={mode:w,persisted:E,beforeEnter(Ye){let gt=F;if(!f.isMounted)if(v)gt=ye||F;else return;Ye[N0]&&Ye[N0](!0);const Se=Ie[ae];Se&&J2(r,Se)&&Se.el[N0]&&Se.el[N0](),oe(gt,[Ye])},enter(Ye){let gt=P,Se=I,Ne=z;if(!f.isMounted)if(v)gt=pe||P,Se=We||I,Ne=Fe||z;else return;let D=!1;const Nt=Ye[XB]=sn=>{D||(D=!0,sn?oe(Ne,[Ye]):oe(Se,[Ye]),He.delayedLeave&&He.delayedLeave(),Ye[XB]=void 0)};gt?Je(gt,[Ye,Nt]):Nt()},leave(Ye,gt){const Se=String(r.key);if(Ye[XB]&&Ye[XB](!0),f.isUnmounting)return gt();oe(j,[Ye]);let Ne=!1;const D=Ye[N0]=Nt=>{Ne||(Ne=!0,gt(),Nt?oe(ne,[Ye]):oe(J,[Ye]),Ye[N0]=void 0,Ie[Se]===r&&delete Ie[Se])};Ie[Se]=r,U?Je(U,[Ye,D]):D()},clone(Ye){const gt=BT(Ye,l,f,m,x);return x&&x(gt),gt}};return He}function TH(r){if(ZM(r))return r=Z0(r),r.children=null,r}function GZ(r){if(!ZM(r))return r;const{shapeFlag:l,children:f}=r;if(f){if(l&16)return f[0];if(l&32&&ur(f.default))return f.default()}}function LS(r,l){r.shapeFlag&6&&r.component?LS(r.component.subTree,l):r.shapeFlag&128?(r.ssContent.transition=l.clone(r.ssContent),r.ssFallback.transition=l.clone(r.ssFallback)):r.transition=l}function rV(r,l=!1,f){let m=[],x=0;for(let v=0;v<r.length;v++){let w=r[v];const E=f==null?w.key:String(f)+String(w.key!=null?w.key:v);w.type===li?(w.patchFlag&128&&x++,m=m.concat(rV(w.children,l,E))):(l||w.type!==Df)&&m.push(E!=null?Z0(w,{key:E}):w)}if(x>1)for(let v=0;v<m.length;v++)m[v].patchFlag=-2;return m}/*! #__NO_SIDE_EFFECTS__ */function kK(r,l){return ur(r)?El({name:r.name},l,{setup:r}):r}const uM=r=>!!r.type.__asyncLoader,ZM=r=>r.type.__isKeepAlive;function sV(r,l){AK(r,"a",l)}function iV(r,l){AK(r,"da",l)}function AK(r,l,f=jl){const m=r.__wdc||(r.__wdc=()=>{let x=f;for(;x;){if(x.isDeactivated)return;x=x.parent}return r()});if(WM(l,m,f),f){let x=f.parent;for(;x&&x.parent;)ZM(x.parent.vnode)&&Xse(m,l,f,x),x=x.parent}}function Xse(r,l,f,m){const x=WM(l,r,m,!0);TK(()=>{j9(m[l],x)},f)}function WM(r,l,f=jl,m=!1){if(f){const x=f[r]||(f[r]=[]),v=l.__weh||(l.__weh=(...w)=>{K0();const E=KT(f),F=eg(l,f,r,w);return E(),q0(),F});return m?x.unshift(v):x.push(v),v}}const O1=r=>(l,f=jl)=>{(!qM||r==="sp")&&WM(r,(...m)=>l(...m),f)},EK=O1("bm"),Ap=O1("m"),Jse=O1("bu"),aV=O1("u"),$u=O1("bum"),TK=O1("um"),Qse=O1("sp"),eie=O1("rtg"),tie=O1("rtc");function nie(r,l=jl){WM("ec",r,l)}const OK="components",oie="directives",rie=Symbol.for("v-ndc");function sie(r){return Za(r)&&DK(OK,r,!1)||r}function jM(r){return DK(oie,r)}function DK(r,l,f=!0,m=!1){const x=zu||jl;if(x){const v=x.type;if(r===OK){const E=Yie(v,!1);if(E&&(E===l||E===Mf(l)||E===$S(Mf(l))))return v}const w=YZ(x[r]||v[r],l)||YZ(x.appContext[r],l);return!w&&m?v:w}}function YZ(r,l){return r&&(r[l]||r[Mf(l)]||r[$S(Mf(l))])}function MT(r,l,f,m){let x;const v=f;if(Qo(r)||Za(r)){x=new Array(r.length);for(let w=0,E=r.length;w<E;w++)x[w]=l(r[w],w,void 0,v)}else if(typeof r=="number"){x=new Array(r);for(let w=0;w<r;w++)x[w]=l(w+1,w,void 0,v)}else if(Ri(r))if(r[Symbol.iterator])x=Array.from(r,(w,E)=>l(w,E,void 0,v));else{const w=Object.keys(r);x=new Array(w.length);for(let E=0,F=w.length;E<F;E++){const P=w[E];x[E]=l(r[P],P,E,v)}}else x=[];return x}const l9=r=>r?YK(r)?GM(r):l9(r.parent):null,AT=El(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>l9(r.parent),$root:r=>l9(r.root),$emit:r=>r.emit,$options:r=>lV(r),$forceUpdate:r=>r.f||(r.f=()=>{r.effect.dirty=!0,oV(r.update)}),$nextTick:r=>r.n||(r.n=Pf.bind(r.proxy)),$watch:r=>Rie.bind(r)}),OH=(r,l)=>r!==ua&&!r.__isScriptSetup&&ws(r,l),iie={get({_:r},l){if(l==="__v_skip")return!0;const{ctx:f,setupState:m,data:x,props:v,accessCache:w,type:E,appContext:F}=r;let P;if(l[0]!=="$"){const U=w[l];if(U!==void 0)switch(U){case 1:return m[l];case 2:return x[l];case 4:return f[l];case 3:return v[l]}else{if(OH(m,l))return w[l]=1,m[l];if(x!==ua&&ws(x,l))return w[l]=2,x[l];if((P=r.propsOptions[0])&&ws(P,l))return w[l]=3,v[l];if(f!==ua&&ws(f,l))return w[l]=4,f[l];c9&&(w[l]=0)}}const I=AT[l];let z,j;if(I)return l==="$attrs"&&Td(r.attrs,"get",""),I(r);if((z=E.__cssModules)&&(z=z[l]))return z;if(f!==ua&&ws(f,l))return w[l]=4,f[l];if(j=F.config.globalProperties,ws(j,l))return j[l]},set({_:r},l,f){const{data:m,setupState:x,ctx:v}=r;return OH(x,l)?(x[l]=f,!0):m!==ua&&ws(m,l)?(m[l]=f,!0):ws(r.props,l)||l[0]==="$"&&l.slice(1)in r?!1:(v[l]=f,!0)},has({_:{data:r,setupState:l,accessCache:f,ctx:m,appContext:x,propsOptions:v}},w){let E;return!!f[w]||r!==ua&&ws(r,w)||OH(l,w)||(E=v[0])&&ws(E,w)||ws(m,w)||ws(AT,w)||ws(x.config.globalProperties,w)},defineProperty(r,l,f){return f.get!=null?r._.accessCache[l]=0:ws(f,"value")&&this.set(r,l,f.value,null),Reflect.defineProperty(r,l,f)}};function XZ(r){return Qo(r)?r.reduce((l,f)=>(l[f]=null,l),{}):r}let c9=!0;function aie(r){const l=lV(r),f=r.proxy,m=r.ctx;c9=!1,l.beforeCreate&&JZ(l.beforeCreate,r,"bc");const{data:x,computed:v,methods:w,watch:E,provide:F,inject:P,created:I,beforeMount:z,mounted:j,beforeUpdate:U,updated:J,activated:ne,deactivated:ye,beforeDestroy:pe,beforeUnmount:We,destroyed:Fe,unmounted:ae,render:Ie,renderTracked:oe,renderTriggered:Je,errorCaptured:He,serverPrefetch:Ye,expose:gt,inheritAttrs:Se,components:Ne,directives:D,filters:Nt}=l;if(P&&lie(P,m,null),w)for(const Tn in w){const rt=w[Tn];ur(rt)&&(m[Tn]=rt.bind(f))}if(x){const Tn=x.call(f,f);Ri(Tn)&&(r.data=Jc(Tn))}if(c9=!0,v)for(const Tn in v){const rt=v[Tn],Un=ur(rt)?rt.bind(f,f):ur(rt.get)?rt.get.bind(f,f):Jm,Hr=!ur(rt)&&ur(rt.set)?rt.set.bind(f):Jm,xt=Tt({get:Un,set:Hr});Object.defineProperty(m,Tn,{enumerable:!0,configurable:!0,get:()=>xt.value,set:yt=>xt.value=yt})}if(E)for(const Tn in E)RK(E[Tn],m,f,Tn);if(F){const Tn=ur(F)?F.call(f):F;Reflect.ownKeys(Tn).forEach(rt=>{zf(rt,Tn[rt])})}I&&JZ(I,r,"c");function vn(Tn,rt){Qo(rt)?rt.forEach(Un=>Tn(Un.bind(f))):rt&&Tn(rt.bind(f))}if(vn(EK,z),vn(Ap,j),vn(Jse,U),vn(aV,J),vn(sV,ne),vn(iV,ye),vn(nie,He),vn(tie,oe),vn(eie,Je),vn($u,We),vn(TK,ae),vn(Qse,Ye),Qo(gt))if(gt.length){const Tn=r.exposed||(r.exposed={});gt.forEach(rt=>{Object.defineProperty(Tn,rt,{get:()=>f[rt],set:Un=>f[rt]=Un})})}else r.exposed||(r.exposed={});Ie&&r.render===Jm&&(r.render=Ie),Se!=null&&(r.inheritAttrs=Se),Ne&&(r.components=Ne),D&&(r.directives=D)}function lie(r,l,f=Jm){Qo(r)&&(r=u9(r));for(const m in r){const x=r[m];let v;Ri(x)?"default"in x?v=bl(x.from||m,x.default,!0):v=bl(x.from||m):v=bl(x),Ni(v)?Object.defineProperty(l,m,{enumerable:!0,configurable:!0,get:()=>v.value,set:w=>v.value=w}):l[m]=v}}function JZ(r,l,f){eg(Qo(r)?r.map(m=>m.bind(l.proxy)):r.bind(l.proxy),l,f)}function RK(r,l,f,m){const x=m.includes(".")?jK(f,m):()=>f[m];if(Za(r)){const v=l[r];ur(v)&&Yo(x,v)}else if(ur(r))Yo(x,r.bind(f));else if(Ri(r))if(Qo(r))r.forEach(v=>RK(v,l,f,m));else{const v=ur(r.handler)?r.handler.bind(f):l[r.handler];ur(v)&&Yo(x,v,r)}}function lV(r){const l=r.type,{mixins:f,extends:m}=l,{mixins:x,optionsCache:v,config:{optionMergeStrategies:w}}=r.appContext,E=v.get(l);let F;return E?F=E:!x.length&&!f&&!m?F=l:(F={},x.length&&x.forEach(P=>yM(F,P,w,!0)),yM(F,l,w)),Ri(l)&&v.set(l,F),F}function yM(r,l,f,m=!1){const{mixins:x,extends:v}=l;v&&yM(r,v,f,!0),x&&x.forEach(w=>yM(r,w,f,!0));for(const w in l)if(!(m&&w==="expose")){const E=cie[w]||f&&f[w];r[w]=E?E(r[w],l[w]):l[w]}return r}const cie={data:QZ,props:eW,emits:eW,methods:_T,computed:_T,beforeCreate:Fu,created:Fu,beforeMount:Fu,mounted:Fu,beforeUpdate:Fu,updated:Fu,beforeDestroy:Fu,beforeUnmount:Fu,destroyed:Fu,unmounted:Fu,activated:Fu,deactivated:Fu,errorCaptured:Fu,serverPrefetch:Fu,components:_T,directives:_T,watch:die,provide:QZ,inject:uie};function QZ(r,l){return l?r?function(){return El(ur(r)?r.call(this,this):r,ur(l)?l.call(this,this):l)}:l:r}function uie(r,l){return _T(u9(r),u9(l))}function u9(r){if(Qo(r)){const l={};for(let f=0;f<r.length;f++)l[r[f]]=r[f];return l}return r}function Fu(r,l){return r?[...new Set([].concat(r,l))]:l}function _T(r,l){return r?El(Object.create(null),r,l):l}function eW(r,l){return r?Qo(r)&&Qo(l)?[...new Set([...r,...l])]:El(Object.create(null),XZ(r),XZ(l??{})):l}function die(r,l){if(!r)return l;if(!l)return r;const f=El(Object.create(null),r);for(const m in l)f[m]=Fu(r[m],l[m]);return f}function NK(){return{app:null,config:{isNativeTag:rse,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fie=0;function mie(r,l){return function(m,x=null){ur(m)||(m=El({},m)),x!=null&&!Ri(x)&&(x=null);const v=NK(),w=new WeakSet;let E=!1;const F=v.app={_uid:fie++,_component:m,_props:x,_container:null,_context:v,_instance:null,version:Jie,get config(){return v.config},set config(P){},use(P,...I){return w.has(P)||(P&&ur(P.install)?(w.add(P),P.install(F,...I)):ur(P)&&(w.add(P),P(F,...I))),F},mixin(P){return v.mixins.includes(P)||v.mixins.push(P),F},component(P,I){return I?(v.components[P]=I,F):v.components[P]},directive(P,I){return I?(v.directives[P]=I,F):v.directives[P]},mount(P,I,z){if(!E){const j=Re(m,x);return j.appContext=v,z===!0?z="svg":z===!1&&(z=void 0),I&&l?l(j,P):r(j,P,z),E=!0,F._container=P,P.__vue_app__=F,GM(j.component)}},unmount(){E&&(r(null,F._container),delete F._container.__vue_app__)},provide(P,I){return v.provides[P]=I,F},runWithContext(P){const I=ow;ow=F;try{return P()}finally{ow=I}}};return F}}let ow=null;function zf(r,l){if(jl){let f=jl.provides;const m=jl.parent&&jl.parent.provides;m===f&&(f=jl.provides=Object.create(m)),f[r]=l}}function bl(r,l,f=!1){const m=jl||zu;if(m||ow){const x=ow?ow._context.provides:m?m.parent==null?m.vnode.appContext&&m.vnode.appContext.provides:m.parent.provides:void 0;if(x&&r in x)return x[r];if(arguments.length>1)return f&&ur(l)?l.call(m&&m.proxy):l}}function gie(){return!!(jl||zu||ow)}const IK={},BK=()=>Object.create(IK),MK=r=>Object.getPrototypeOf(r)===IK;function hie(r,l,f,m=!1){const x={},v=BK();r.propsDefaults=Object.create(null),PK(r,l,x,v);for(const w in r.propsOptions[0])w in x||(x[w]=void 0);f?r.props=m?x:Fse(x):r.type.props?r.props=x:r.props=v,r.attrs=v}function pie(r,l,f,m){const{props:x,attrs:v,vnode:{patchFlag:w}}=r,E=To(x),[F]=r.propsOptions;let P=!1;if((m||w>0)&&!(w&16)){if(w&8){const I=r.vnode.dynamicProps;for(let z=0;z<I.length;z++){let j=I[z];if(KM(r.emitsOptions,j))continue;const U=l[j];if(F)if(ws(v,j))U!==v[j]&&(v[j]=U,P=!0);else{const J=Mf(j);x[J]=d9(F,E,J,U,r,!1)}else U!==v[j]&&(v[j]=U,P=!0)}}}else{PK(r,l,x,v)&&(P=!0);let I;for(const z in E)(!l||!ws(l,z)&&((I=gw(z))===z||!ws(l,I)))&&(F?f&&(f[z]!==void 0||f[I]!==void 0)&&(x[z]=d9(F,E,z,void 0,r,!0)):delete x[z]);if(v!==E)for(const z in v)(!l||!ws(l,z))&&(delete v[z],P=!0)}P&&A1(r.attrs,"set","")}function PK(r,l,f,m){const[x,v]=r.propsOptions;let w=!1,E;if(l)for(let F in l){if(kT(F))continue;const P=l[F];let I;x&&ws(x,I=Mf(F))?!v||!v.includes(I)?f[I]=P:(E||(E={}))[I]=P:KM(r.emitsOptions,F)||(!(F in m)||P!==m[F])&&(m[F]=P,w=!0)}if(v){const F=To(f),P=E||ua;for(let I=0;I<v.length;I++){const z=v[I];f[z]=d9(x,F,z,P[z],r,!ws(P,z))}}return w}function d9(r,l,f,m,x,v){const w=r[f];if(w!=null){const E=ws(w,"default");if(E&&m===void 0){const F=w.default;if(w.type!==Function&&!w.skipFactory&&ur(F)){const{propsDefaults:P}=x;if(f in P)m=P[f];else{const I=KT(x);m=P[f]=F.call(null,l),I()}}else m=F}w[0]&&(v&&!E?m=!1:w[1]&&(m===""||m===gw(f))&&(m=!0))}return m}const bie=new WeakMap;function LK(r,l,f=!1){const m=f?bie:l.propsCache,x=m.get(r);if(x)return x;const v=r.props,w={},E=[];let F=!1;if(!ur(r)){const I=z=>{F=!0;const[j,U]=LK(z,l,!0);El(w,j),U&&E.push(...U)};!f&&l.mixins.length&&l.mixins.forEach(I),r.extends&&I(r.extends),r.mixins&&r.mixins.forEach(I)}if(!v&&!F)return Ri(r)&&m.set(r,IS),IS;if(Qo(v))for(let I=0;I<v.length;I++){const z=Mf(v[I]);tW(z)&&(w[z]=ua)}else if(v)for(const I in v){const z=Mf(I);if(tW(z)){const j=v[I],U=w[z]=Qo(j)||ur(j)?{type:j}:El({},j),J=U.type;let ne=!1,ye=!0;if(Qo(J))for(let pe=0;pe<J.length;++pe){const We=J[pe],Fe=ur(We)&&We.name;if(Fe==="Boolean"){ne=!0;break}else Fe==="String"&&(ye=!1)}else ne=ur(J)&&J.name==="Boolean";U[0]=ne,U[1]=ye,(ne||ws(U,"default"))&&E.push(z)}}const P=[w,E];return Ri(r)&&m.set(r,P),P}function tW(r){return r[0]!=="$"&&!kT(r)}const FK=r=>r[0]==="_"||r==="$stable",cV=r=>Qo(r)?r.map(xp):[xp(r)],vie=(r,l,f)=>{if(l._n)return l;const m=Wn((...x)=>cV(l(...x)),f);return m._c=!1,m},zK=(r,l,f)=>{const m=r._ctx;for(const x in r){if(FK(x))continue;const v=r[x];if(ur(v))l[x]=vie(x,v,m);else if(v!=null){const w=cV(v);l[x]=()=>w}}},HK=(r,l)=>{const f=cV(l);r.slots.default=()=>f},VK=(r,l,f)=>{for(const m in l)(f||m!=="_")&&(r[m]=l[m])},xie=(r,l,f)=>{const m=r.slots=BK();if(r.vnode.shapeFlag&32){const x=l._;x?(VK(m,l,f),f&&Kj(m,"_",x,!0)):zK(l,m)}else l&&HK(r,l)},yie=(r,l,f)=>{const{vnode:m,slots:x}=r;let v=!0,w=ua;if(m.shapeFlag&32){const E=l._;E?f&&E===1?v=!1:VK(x,l,f):(v=!l.$stable,zK(l,x)),w=l}else l&&(HK(r,l),w={default:1});if(v)for(const E in x)!FK(E)&&w[E]==null&&delete x[E]};function f9(r,l,f,m,x=!1){if(Qo(r)){r.forEach((j,U)=>f9(j,l&&(Qo(l)?l[U]:l),f,m,x));return}if(uM(m)&&!x)return;const v=m.shapeFlag&4?GM(m.component):m.el,w=x?null:v,{i:E,r:F}=r,P=l&&l.r,I=E.refs===ua?E.refs={}:E.refs,z=E.setupState;if(P!=null&&P!==F&&(Za(P)?(I[P]=null,ws(z,P)&&(z[P]=null)):Ni(P)&&(P.value=null)),ur(F))z0(F,E,12,[w,I]);else{const j=Za(F),U=Ni(F);if(j||U){const J=()=>{if(r.f){const ne=j?ws(z,F)?z[F]:I[F]:F.value;x?Qo(ne)&&j9(ne,v):Qo(ne)?ne.includes(v)||ne.push(v):j?(I[F]=[v],ws(z,F)&&(z[F]=I[F])):(F.value=[v],r.k&&(I[r.k]=F.value))}else j?(I[F]=w,ws(z,F)&&(z[F]=w)):U&&(F.value=w,r.k&&(I[r.k]=w))};w?(J.id=-1,_d(J,f)):J()}}}const $K=Symbol("_vte"),wie=r=>r.__isTeleport,ET=r=>r&&(r.disabled||r.disabled===""),nW=r=>typeof SVGElement<"u"&&r instanceof SVGElement,oW=r=>typeof MathMLElement=="function"&&r instanceof MathMLElement,m9=(r,l)=>{const f=r&&r.to;return Za(f)?l?l(f):null:f},Cie={name:"Teleport",__isTeleport:!0,process(r,l,f,m,x,v,w,E,F,P){const{mc:I,pc:z,pbc:j,o:{insert:U,querySelector:J,createText:ne,createComment:ye}}=P,pe=ET(l.props);let{shapeFlag:We,children:Fe,dynamicChildren:ae}=l;if(r==null){const Ie=l.el=ne(""),oe=l.anchor=ne("");U(Ie,f,m),U(oe,f,m);const Je=l.target=m9(l.props,J),He=ZK(Je,l,ne,U);Je&&(w==="svg"||nW(Je)?w="svg":(w==="mathml"||oW(Je))&&(w="mathml"));const Ye=(gt,Se)=>{We&16&&I(Fe,gt,Se,x,v,w,E,F)};pe?Ye(f,oe):Je&&Ye(Je,He)}else{l.el=r.el,l.targetStart=r.targetStart;const Ie=l.anchor=r.anchor,oe=l.target=r.target,Je=l.targetAnchor=r.targetAnchor,He=ET(r.props),Ye=He?f:oe,gt=He?Ie:Je;if(w==="svg"||nW(oe)?w="svg":(w==="mathml"||oW(oe))&&(w="mathml"),ae?(j(r.dynamicChildren,ae,Ye,x,v,w,E),uV(r,l,!0)):F||z(r,l,Ye,gt,x,v,w,E,!1),pe)He?l.props&&r.props&&l.props.to!==r.props.to&&(l.props.to=r.props.to):JB(l,f,Ie,P,1);else if((l.props&&l.props.to)!==(r.props&&r.props.to)){const Se=l.target=m9(l.props,J);Se&&JB(l,Se,null,P,0)}else He&&JB(l,oe,Je,P,1)}UK(l)},remove(r,l,f,{um:m,o:{remove:x}},v){const{shapeFlag:w,children:E,anchor:F,targetStart:P,targetAnchor:I,target:z,props:j}=r;if(z&&(x(P),x(I)),v&&x(F),w&16){const U=v||!ET(j);for(let J=0;J<E.length;J++){const ne=E[J];m(ne,l,f,U,!!ne.dynamicChildren)}}},move:JB,hydrate:_ie};function JB(r,l,f,{o:{insert:m},m:x},v=2){v===0&&m(r.targetAnchor,l,f);const{el:w,anchor:E,shapeFlag:F,children:P,props:I}=r,z=v===2;if(z&&m(w,l,f),(!z||ET(I))&&F&16)for(let j=0;j<P.length;j++)x(P[j],l,f,2);z&&m(E,l,f)}function _ie(r,l,f,m,x,v,{o:{nextSibling:w,parentNode:E,querySelector:F,insert:P,createText:I}},z){const j=l.target=m9(l.props,F);if(j){const U=j._lpa||j.firstChild;if(l.shapeFlag&16)if(ET(l.props))l.anchor=z(w(r),l,E(r),f,m,x,v),l.targetStart=U,l.targetAnchor=U&&w(U);else{l.anchor=w(r);let J=U;for(;J;){if(J&&J.nodeType===8){if(J.data==="teleport start anchor")l.targetStart=J;else if(J.data==="teleport anchor"){l.targetAnchor=J,j._lpa=l.targetAnchor&&w(l.targetAnchor);break}}J=w(J)}l.targetAnchor||ZK(j,l,I,P),z(U&&w(U),l,j,f,m,x,v)}UK(l)}return l.anchor&&w(l.anchor)}const Sie=Cie;function UK(r){const l=r.ctx;if(l&&l.ut){let f=r.children[0].el;for(;f&&f!==r.targetAnchor;)f.nodeType===1&&f.setAttribute("data-v-owner",l.uid),f=f.nextSibling;l.ut()}}function ZK(r,l,f,m){const x=l.targetStart=f(""),v=l.targetAnchor=f("");return x[$K]=v,r&&(m(x,r),m(v,r)),v}const _d=zie;function kie(r){return Aie(r)}function Aie(r,l){const f=qj();f.__VUE__=!0;const{insert:m,remove:x,patchProp:v,createElement:w,createText:E,createComment:F,setText:P,setElementText:I,parentNode:z,nextSibling:j,setScopeId:U=Jm,insertStaticContent:J}=r,ne=(Ue,ve,De,tt=null,_e=null,It=null,en=void 0,_t=null,Yt=!!ve.dynamicChildren)=>{if(Ue===ve)return;Ue&&!J2(Ue,ve)&&(tt=Mn(Ue),yt(Ue,_e,It,!0),Ue=null),ve.patchFlag===-2&&(Yt=!1,ve.dynamicChildren=null);const{type:je,ref:et,shapeFlag:Bt}=ve;switch(je){case jT:ye(Ue,ve,De,tt);break;case Df:pe(Ue,ve,De,tt);break;case NH:Ue==null&&We(ve,De,tt,en);break;case li:Ne(Ue,ve,De,tt,_e,It,en,_t,Yt);break;default:Bt&1?Ie(Ue,ve,De,tt,_e,It,en,_t,Yt):Bt&6?D(Ue,ve,De,tt,_e,It,en,_t,Yt):(Bt&64||Bt&128)&&je.process(Ue,ve,De,tt,_e,It,en,_t,Yt,pr)}et!=null&&_e&&f9(et,Ue&&Ue.ref,It,ve||Ue,!ve)},ye=(Ue,ve,De,tt)=>{if(Ue==null)m(ve.el=E(ve.children),De,tt);else{const _e=ve.el=Ue.el;ve.children!==Ue.children&&P(_e,ve.children)}},pe=(Ue,ve,De,tt)=>{Ue==null?m(ve.el=F(ve.children||""),De,tt):ve.el=Ue.el},We=(Ue,ve,De,tt)=>{[Ue.el,Ue.anchor]=J(Ue.children,ve,De,tt,Ue.el,Ue.anchor)},Fe=({el:Ue,anchor:ve},De,tt)=>{let _e;for(;Ue&&Ue!==ve;)_e=j(Ue),m(Ue,De,tt),Ue=_e;m(ve,De,tt)},ae=({el:Ue,anchor:ve})=>{let De;for(;Ue&&Ue!==ve;)De=j(Ue),x(Ue),Ue=De;x(ve)},Ie=(Ue,ve,De,tt,_e,It,en,_t,Yt)=>{ve.type==="svg"?en="svg":ve.type==="math"&&(en="mathml"),Ue==null?oe(ve,De,tt,_e,It,en,_t,Yt):Ye(Ue,ve,_e,It,en,_t,Yt)},oe=(Ue,ve,De,tt,_e,It,en,_t)=>{let Yt,je;const{props:et,shapeFlag:Bt,transition:Mt,dirs:Gt}=Ue;if(Yt=Ue.el=w(Ue.type,It,et&&et.is,et),Bt&8?I(Yt,Ue.children):Bt&16&&He(Ue.children,Yt,null,tt,_e,DH(Ue,It),en,_t),Gt&&Z2(Ue,null,tt,"created"),Je(Yt,Ue,Ue.scopeId,en,tt),et){for(const eo in et)eo!=="value"&&!kT(eo)&&v(Yt,eo,null,et[eo],It,tt);"value"in et&&v(Yt,"value",null,et.value,It),(je=et.onVnodeBeforeMount)&&pp(je,tt,Ue)}Gt&&Z2(Ue,null,tt,"beforeMount");const xn=Eie(_e,Mt);xn&&Mt.beforeEnter(Yt),m(Yt,ve,De),((je=et&&et.onVnodeMounted)||xn||Gt)&&_d(()=>{je&&pp(je,tt,Ue),xn&&Mt.enter(Yt),Gt&&Z2(Ue,null,tt,"mounted")},_e)},Je=(Ue,ve,De,tt,_e)=>{if(De&&U(Ue,De),tt)for(let It=0;It<tt.length;It++)U(Ue,tt[It]);if(_e){let It=_e.subTree;if(ve===It){const en=_e.vnode;Je(Ue,en,en.scopeId,en.slotScopeIds,_e.parent)}}},He=(Ue,ve,De,tt,_e,It,en,_t,Yt=0)=>{for(let je=Yt;je<Ue.length;je++){const et=Ue[je]=_t?I0(Ue[je]):xp(Ue[je]);ne(null,et,ve,De,tt,_e,It,en,_t)}},Ye=(Ue,ve,De,tt,_e,It,en)=>{const _t=ve.el=Ue.el;let{patchFlag:Yt,dynamicChildren:je,dirs:et}=ve;Yt|=Ue.patchFlag&16;const Bt=Ue.props||ua,Mt=ve.props||ua;let Gt;if(De&&W2(De,!1),(Gt=Mt.onVnodeBeforeUpdate)&&pp(Gt,De,ve,Ue),et&&Z2(ve,Ue,De,"beforeUpdate"),De&&W2(De,!0),(Bt.innerHTML&&Mt.innerHTML==null||Bt.textContent&&Mt.textContent==null)&&I(_t,""),je?gt(Ue.dynamicChildren,je,_t,De,tt,DH(ve,_e),It):en||rt(Ue,ve,_t,null,De,tt,DH(ve,_e),It,!1),Yt>0){if(Yt&16)Se(_t,Bt,Mt,De,_e);else if(Yt&2&&Bt.class!==Mt.class&&v(_t,"class",null,Mt.class,_e),Yt&4&&v(_t,"style",Bt.style,Mt.style,_e),Yt&8){const xn=ve.dynamicProps;for(let eo=0;eo<xn.length;eo++){const fo=xn[eo],po=Bt[fo],Ko=Mt[fo];(Ko!==po||fo==="value")&&v(_t,fo,po,Ko,_e,De)}}Yt&1&&Ue.children!==ve.children&&I(_t,ve.children)}else!en&&je==null&&Se(_t,Bt,Mt,De,_e);((Gt=Mt.onVnodeUpdated)||et)&&_d(()=>{Gt&&pp(Gt,De,ve,Ue),et&&Z2(ve,Ue,De,"updated")},tt)},gt=(Ue,ve,De,tt,_e,It,en)=>{for(let _t=0;_t<ve.length;_t++){const Yt=Ue[_t],je=ve[_t],et=Yt.el&&(Yt.type===li||!J2(Yt,je)||Yt.shapeFlag&70)?z(Yt.el):De;ne(Yt,je,et,null,tt,_e,It,en,!0)}},Se=(Ue,ve,De,tt,_e)=>{if(ve!==De){if(ve!==ua)for(const It in ve)!kT(It)&&!(It in De)&&v(Ue,It,ve[It],null,_e,tt);for(const It in De){if(kT(It))continue;const en=De[It],_t=ve[It];en!==_t&&It!=="value"&&v(Ue,It,_t,en,_e,tt)}"value"in De&&v(Ue,"value",ve.value,De.value,_e)}},Ne=(Ue,ve,De,tt,_e,It,en,_t,Yt)=>{const je=ve.el=Ue?Ue.el:E(""),et=ve.anchor=Ue?Ue.anchor:E("");let{patchFlag:Bt,dynamicChildren:Mt,slotScopeIds:Gt}=ve;Gt&&(_t=_t?_t.concat(Gt):Gt),Ue==null?(m(je,De,tt),m(et,De,tt),He(ve.children||[],De,et,_e,It,en,_t,Yt)):Bt>0&&Bt&64&&Mt&&Ue.dynamicChildren?(gt(Ue.dynamicChildren,Mt,De,_e,It,en,_t),(ve.key!=null||_e&&ve===_e.subTree)&&uV(Ue,ve,!0)):rt(Ue,ve,De,et,_e,It,en,_t,Yt)},D=(Ue,ve,De,tt,_e,It,en,_t,Yt)=>{ve.slotScopeIds=_t,Ue==null?ve.shapeFlag&512?_e.ctx.activate(ve,De,tt,en,Yt):Nt(ve,De,tt,_e,It,en,Yt):sn(Ue,ve,Yt)},Nt=(Ue,ve,De,tt,_e,It,en)=>{const _t=Ue.component=Wie(Ue,tt,_e);if(ZM(Ue)&&(_t.ctx.renderer=pr),jie(_t,!1,en),_t.asyncDep){if(_e&&_e.registerDep(_t,vn,en),!Ue.el){const Yt=_t.subTree=Re(Df);pe(null,Yt,ve,De)}}else vn(_t,Ue,ve,De,_e,It,en)},sn=(Ue,ve,De)=>{const tt=ve.component=Ue.component;if(Pie(Ue,ve,De))if(tt.asyncDep&&!tt.asyncResolved){Tn(tt,ve,De);return}else tt.next=ve,jse(tt.update),tt.effect.dirty=!0,tt.update();else ve.el=Ue.el,tt.vnode=ve},vn=(Ue,ve,De,tt,_e,It,en)=>{const _t=()=>{if(Ue.isMounted){let{next:et,bu:Bt,u:Mt,parent:Gt,vnode:xn}=Ue;{const yo=WK(Ue);if(yo){et&&(et.el=xn.el,Tn(Ue,et,en)),yo.asyncDep.then(()=>{Ue.isUnmounted||_t()});return}}let eo=et,fo;W2(Ue,!1),et?(et.el=xn.el,Tn(Ue,et,en)):et=xn,Bt&&AH(Bt),(fo=et.props&&et.props.onVnodeBeforeUpdate)&&pp(fo,Gt,et,xn),W2(Ue,!0);const po=RH(Ue),Ko=Ue.subTree;Ue.subTree=po,ne(Ko,po,z(Ko.el),Mn(Ko),Ue,_e,It),et.el=po.el,eo===null&&Lie(Ue,po.el),Mt&&_d(Mt,_e),(fo=et.props&&et.props.onVnodeUpdated)&&_d(()=>pp(fo,Gt,et,xn),_e)}else{let et;const{el:Bt,props:Mt}=ve,{bm:Gt,m:xn,parent:eo}=Ue,fo=uM(ve);if(W2(Ue,!1),Gt&&AH(Gt),!fo&&(et=Mt&&Mt.onVnodeBeforeMount)&&pp(et,eo,ve),W2(Ue,!0),Bt&&Qi){const po=()=>{Ue.subTree=RH(Ue),Qi(Bt,Ue.subTree,Ue,_e,null)};fo?ve.type.__asyncLoader().then(()=>!Ue.isUnmounted&&po()):po()}else{const po=Ue.subTree=RH(Ue);ne(null,po,De,tt,Ue,_e,It),ve.el=po.el}if(xn&&_d(xn,_e),!fo&&(et=Mt&&Mt.onVnodeMounted)){const po=ve;_d(()=>pp(et,eo,po),_e)}(ve.shapeFlag&256||eo&&uM(eo.vnode)&&eo.vnode.shapeFlag&256)&&Ue.a&&_d(Ue.a,_e),Ue.isMounted=!0,ve=De=tt=null}},Yt=Ue.effect=new q9(_t,Jm,()=>oV(je),Ue.scope),je=Ue.update=()=>{Yt.dirty&&Yt.run()};je.i=Ue,je.id=Ue.uid,W2(Ue,!0),je()},Tn=(Ue,ve,De)=>{ve.component=Ue;const tt=Ue.vnode.props;Ue.vnode=ve,Ue.next=null,pie(Ue,ve.props,tt,De),yie(Ue,ve.children,De),K0(),qZ(Ue),q0()},rt=(Ue,ve,De,tt,_e,It,en,_t,Yt=!1)=>{const je=Ue&&Ue.children,et=Ue?Ue.shapeFlag:0,Bt=ve.children,{patchFlag:Mt,shapeFlag:Gt}=ve;if(Mt>0){if(Mt&128){Hr(je,Bt,De,tt,_e,It,en,_t,Yt);return}else if(Mt&256){Un(je,Bt,De,tt,_e,It,en,_t,Yt);return}}Gt&8?(et&16&&Sn(je,_e,It),Bt!==je&&I(De,Bt)):et&16?Gt&16?Hr(je,Bt,De,tt,_e,It,en,_t,Yt):Sn(je,_e,It,!0):(et&8&&I(De,""),Gt&16&&He(Bt,De,tt,_e,It,en,_t,Yt))},Un=(Ue,ve,De,tt,_e,It,en,_t,Yt)=>{Ue=Ue||IS,ve=ve||IS;const je=Ue.length,et=ve.length,Bt=Math.min(je,et);let Mt;for(Mt=0;Mt<Bt;Mt++){const Gt=ve[Mt]=Yt?I0(ve[Mt]):xp(ve[Mt]);ne(Ue[Mt],Gt,De,null,_e,It,en,_t,Yt)}je>et?Sn(Ue,_e,It,!0,!1,Bt):He(ve,De,tt,_e,It,en,_t,Yt,Bt)},Hr=(Ue,ve,De,tt,_e,It,en,_t,Yt)=>{let je=0;const et=ve.length;let Bt=Ue.length-1,Mt=et-1;for(;je<=Bt&&je<=Mt;){const Gt=Ue[je],xn=ve[je]=Yt?I0(ve[je]):xp(ve[je]);if(J2(Gt,xn))ne(Gt,xn,De,null,_e,It,en,_t,Yt);else break;je++}for(;je<=Bt&&je<=Mt;){const Gt=Ue[Bt],xn=ve[Mt]=Yt?I0(ve[Mt]):xp(ve[Mt]);if(J2(Gt,xn))ne(Gt,xn,De,null,_e,It,en,_t,Yt);else break;Bt--,Mt--}if(je>Bt){if(je<=Mt){const Gt=Mt+1,xn=Gt<et?ve[Gt].el:tt;for(;je<=Mt;)ne(null,ve[je]=Yt?I0(ve[je]):xp(ve[je]),De,xn,_e,It,en,_t,Yt),je++}}else if(je>Mt)for(;je<=Bt;)yt(Ue[je],_e,It,!0),je++;else{const Gt=je,xn=je,eo=new Map;for(je=xn;je<=Mt;je++){const so=ve[je]=Yt?I0(ve[je]):xp(ve[je]);so.key!=null&&eo.set(so.key,je)}let fo,po=0;const Ko=Mt-xn+1;let yo=!1,Ar=0;const jt=new Array(Ko);for(je=0;je<Ko;je++)jt[je]=0;for(je=Gt;je<=Bt;je++){const so=Ue[je];if(po>=Ko){yt(so,_e,It,!0);continue}let Nr;if(so.key!=null)Nr=eo.get(so.key);else for(fo=xn;fo<=Mt;fo++)if(jt[fo-xn]===0&&J2(so,ve[fo])){Nr=fo;break}Nr===void 0?yt(so,_e,It,!0):(jt[Nr-xn]=je+1,Nr>=Ar?Ar=Nr:yo=!0,ne(so,ve[Nr],De,null,_e,It,en,_t,Yt),po++)}const ao=yo?Tie(jt):IS;for(fo=ao.length-1,je=Ko-1;je>=0;je--){const so=xn+je,Nr=ve[so],Ms=so+1<et?ve[so+1].el:tt;jt[je]===0?ne(null,Nr,De,Ms,_e,It,en,_t,Yt):yo&&(fo<0||je!==ao[fo]?xt(Nr,De,Ms,2):fo--)}}},xt=(Ue,ve,De,tt,_e=null)=>{const{el:It,type:en,transition:_t,children:Yt,shapeFlag:je}=Ue;if(je&6){xt(Ue.component.subTree,ve,De,tt);return}if(je&128){Ue.suspense.move(ve,De,tt);return}if(je&64){en.move(Ue,ve,De,pr);return}if(en===li){m(It,ve,De);for(let Bt=0;Bt<Yt.length;Bt++)xt(Yt[Bt],ve,De,tt);m(Ue.anchor,ve,De);return}if(en===NH){Fe(Ue,ve,De);return}if(tt!==2&&je&1&&_t)if(tt===0)_t.beforeEnter(It),m(It,ve,De),_d(()=>_t.enter(It),_e);else{const{leave:Bt,delayLeave:Mt,afterLeave:Gt}=_t,xn=()=>m(It,ve,De),eo=()=>{Bt(It,()=>{xn(),Gt&&Gt()})};Mt?Mt(It,xn,eo):eo()}else m(It,ve,De)},yt=(Ue,ve,De,tt=!1,_e=!1)=>{const{type:It,props:en,ref:_t,children:Yt,dynamicChildren:je,shapeFlag:et,patchFlag:Bt,dirs:Mt,cacheIndex:Gt}=Ue;if(Bt===-2&&(_e=!1),_t!=null&&f9(_t,null,De,Ue,!0),Gt!=null&&(ve.renderCache[Gt]=void 0),et&256){ve.ctx.deactivate(Ue);return}const xn=et&1&&Mt,eo=!uM(Ue);let fo;if(eo&&(fo=en&&en.onVnodeBeforeUnmount)&&pp(fo,ve,Ue),et&6)xo(Ue.component,De,tt);else{if(et&128){Ue.suspense.unmount(De,tt);return}xn&&Z2(Ue,null,ve,"beforeUnmount"),et&64?Ue.type.remove(Ue,ve,De,pr,tt):je&&!je.hasOnce&&(It!==li||Bt>0&&Bt&64)?Sn(je,ve,De,!1,!0):(It===li&&Bt&384||!_e&&et&16)&&Sn(Yt,ve,De),tt&&qt(Ue)}(eo&&(fo=en&&en.onVnodeUnmounted)||xn)&&_d(()=>{fo&&pp(fo,ve,Ue),xn&&Z2(Ue,null,ve,"unmounted")},De)},qt=Ue=>{const{type:ve,el:De,anchor:tt,transition:_e}=Ue;if(ve===li){$r(De,tt);return}if(ve===NH){ae(Ue);return}const It=()=>{x(De),_e&&!_e.persisted&&_e.afterLeave&&_e.afterLeave()};if(Ue.shapeFlag&1&&_e&&!_e.persisted){const{leave:en,delayLeave:_t}=_e,Yt=()=>en(De,It);_t?_t(Ue.el,It,Yt):Yt()}else It()},$r=(Ue,ve)=>{let De;for(;Ue!==ve;)De=j(Ue),x(Ue),Ue=De;x(ve)},xo=(Ue,ve,De)=>{const{bum:tt,scope:_e,update:It,subTree:en,um:_t,m:Yt,a:je}=Ue;rW(Yt),rW(je),tt&&AH(tt),_e.stop(),It&&(It.active=!1,yt(en,Ue,ve,De)),_t&&_d(_t,ve),_d(()=>{Ue.isUnmounted=!0},ve),ve&&ve.pendingBranch&&!ve.isUnmounted&&Ue.asyncDep&&!Ue.asyncResolved&&Ue.suspenseId===ve.pendingId&&(ve.deps--,ve.deps===0&&ve.resolve())},Sn=(Ue,ve,De,tt=!1,_e=!1,It=0)=>{for(let en=It;en<Ue.length;en++)yt(Ue[en],ve,De,tt,_e)},Mn=Ue=>{if(Ue.shapeFlag&6)return Mn(Ue.component.subTree);if(Ue.shapeFlag&128)return Ue.suspense.next();const ve=j(Ue.anchor||Ue.el),De=ve&&ve[$K];return De?j(De):ve};let X=!1;const nr=(Ue,ve,De)=>{Ue==null?ve._vnode&&yt(ve._vnode,null,null,!0):ne(ve._vnode||null,Ue,ve,null,null,null,De),ve._vnode=Ue,X||(X=!0,qZ(),xK(),X=!1)},pr={p:ne,um:yt,m:xt,r:qt,mt:Nt,mc:He,pc:rt,pbc:gt,n:Mn,o:r};let jo,Qi;return{render:nr,hydrate:jo,createApp:mie(nr,jo)}}function DH({type:r,props:l},f){return f==="svg"&&r==="foreignObject"||f==="mathml"&&r==="annotation-xml"&&l&&l.encoding&&l.encoding.includes("html")?void 0:f}function W2({effect:r,update:l},f){r.allowRecurse=l.allowRecurse=f}function Eie(r,l){return(!r||r&&!r.pendingBranch)&&l&&!l.persisted}function uV(r,l,f=!1){const m=r.children,x=l.children;if(Qo(m)&&Qo(x))for(let v=0;v<m.length;v++){const w=m[v];let E=x[v];E.shapeFlag&1&&!E.dynamicChildren&&((E.patchFlag<=0||E.patchFlag===32)&&(E=x[v]=I0(x[v]),E.el=w.el),!f&&E.patchFlag!==-2&&uV(w,E)),E.type===jT&&(E.el=w.el)}}function Tie(r){const l=r.slice(),f=[0];let m,x,v,w,E;const F=r.length;for(m=0;m<F;m++){const P=r[m];if(P!==0){if(x=f[f.length-1],r[x]<P){l[m]=x,f.push(m);continue}for(v=0,w=f.length-1;v<w;)E=v+w>>1,r[f[E]]<P?v=E+1:w=E;P<r[f[v]]&&(v>0&&(l[m]=f[v-1]),f[v]=m)}}for(v=f.length,w=f[v-1];v-- >0;)f[v]=w,w=l[w];return f}function WK(r){const l=r.subTree.component;if(l)return l.asyncDep&&!l.asyncResolved?l:WK(l)}function rW(r){if(r)for(let l=0;l<r.length;l++)r[l].active=!1}const Oie=Symbol.for("v-scx"),Die=()=>bl(Oie);function Ep(r,l){return dV(r,null,l)}const QB={};function Yo(r,l,f){return dV(r,l,f)}function dV(r,l,{immediate:f,deep:m,flush:x,once:v,onTrack:w,onTrigger:E}=ua){if(l&&v){const oe=l;l=(...Je)=>{oe(...Je),Ie()}}const F=jl,P=oe=>m===!0?oe:M0(oe,m===!1?1:void 0);let I,z=!1,j=!1;if(Ni(r)?(I=()=>r.value,z=PS(r)):nw(r)?(I=()=>P(r),z=!0):Qo(r)?(j=!0,z=r.some(oe=>nw(oe)||PS(oe)),I=()=>r.map(oe=>{if(Ni(oe))return oe.value;if(nw(oe))return P(oe);if(ur(oe))return z0(oe,F,2)})):ur(r)?l?I=()=>z0(r,F,2):I=()=>(U&&U(),eg(r,F,3,[J])):I=Jm,l&&m){const oe=I;I=()=>M0(oe())}let U,J=oe=>{U=Fe.onStop=()=>{z0(oe,F,4),U=Fe.onStop=void 0}},ne;if(qM)if(J=Jm,l?f&&eg(l,F,3,[I(),j?[]:void 0,J]):I(),x==="sync"){const oe=Die();ne=oe.__watcherHandles||(oe.__watcherHandles=[])}else return Jm;let ye=j?new Array(r.length).fill(QB):QB;const pe=()=>{if(!(!Fe.active||!Fe.dirty))if(l){const oe=Fe.run();(m||z||(j?oe.some((Je,He)=>U0(Je,ye[He])):U0(oe,ye)))&&(U&&U(),eg(l,F,3,[oe,ye===QB?void 0:j&&ye[0]===QB?[]:ye,J]),ye=oe)}else Fe.run()};pe.allowRecurse=!!l;let We;x==="sync"?We=pe:x==="post"?We=()=>_d(pe,F&&F.suspense):(pe.pre=!0,F&&(pe.id=F.uid),We=()=>oV(pe));const Fe=new q9(I,Jm,We),ae=Qj(),Ie=()=>{Fe.stop(),ae&&j9(ae.effects,Fe)};return l?f?pe():ye=Fe.run():x==="post"?_d(Fe.run.bind(Fe),F&&F.suspense):Fe.run(),ne&&ne.push(Ie),Ie}function Rie(r,l,f){const m=this.proxy,x=Za(r)?r.includes(".")?jK(m,r):()=>m[r]:r.bind(m,m);let v;ur(l)?v=l:(v=l.handler,f=l);const w=KT(this),E=dV(x,v.bind(m),f);return w(),E}function jK(r,l){const f=l.split(".");return()=>{let m=r;for(let x=0;x<f.length&&m;x++)m=m[f[x]];return m}}function M0(r,l=1/0,f){if(l<=0||!Ri(r)||r.__v_skip||(f=f||new Set,f.has(r)))return r;if(f.add(r),l--,Ni(r))M0(r.value,l,f);else if(Qo(r))for(let m=0;m<r.length;m++)M0(r[m],l,f);else if(Uj(r)||BS(r))r.forEach(m=>{M0(m,l,f)});else if(jj(r)){for(const m in r)M0(r[m],l,f);for(const m of Object.getOwnPropertySymbols(r))Object.prototype.propertyIsEnumerable.call(r,m)&&M0(r[m],l,f)}return r}const Nie=(r,l)=>l==="modelValue"||l==="model-value"?r.modelModifiers:r[`${l}Modifiers`]||r[`${Mf(l)}Modifiers`]||r[`${gw(l)}Modifiers`];function Iie(r,l,...f){if(r.isUnmounted)return;const m=r.vnode.props||ua;let x=f;const v=l.startsWith("update:"),w=v&&Nie(m,l.slice(7));w&&(w.trim&&(x=f.map(I=>Za(I)?I.trim():I)),w.number&&(x=f.map(cse)));let E,F=m[E=kH(l)]||m[E=kH(Mf(l))];!F&&v&&(F=m[E=kH(gw(l))]),F&&eg(F,r,6,x);const P=m[E+"Once"];if(P){if(!r.emitted)r.emitted={};else if(r.emitted[E])return;r.emitted[E]=!0,eg(P,r,6,x)}}function KK(r,l,f=!1){const m=l.emitsCache,x=m.get(r);if(x!==void 0)return x;const v=r.emits;let w={},E=!1;if(!ur(r)){const F=P=>{const I=KK(P,l,!0);I&&(E=!0,El(w,I))};!f&&l.mixins.length&&l.mixins.forEach(F),r.extends&&F(r.extends),r.mixins&&r.mixins.forEach(F)}return!v&&!E?(Ri(r)&&m.set(r,null),null):(Qo(v)?v.forEach(F=>w[F]=null):El(w,v),Ri(r)&&m.set(r,w),w)}function KM(r,l){return!r||!PM(l)?!1:(l=l.slice(2).replace(/Once$/,""),ws(r,l[0].toLowerCase()+l.slice(1))||ws(r,gw(l))||ws(r,l))}function RH(r){const{type:l,vnode:f,proxy:m,withProxy:x,propsOptions:[v],slots:w,attrs:E,emit:F,render:P,renderCache:I,props:z,data:j,setupState:U,ctx:J,inheritAttrs:ne}=r,ye=xM(r);let pe,We;try{if(f.shapeFlag&4){const ae=x||m,Ie=ae;pe=xp(P.call(Ie,ae,I,z,U,j,J)),We=E}else{const ae=l;pe=xp(ae.length>1?ae(z,{attrs:E,slots:w,emit:F}):ae(z,null)),We=l.props?E:Bie(E)}}catch(ae){TT.length=0,HM(ae,r,1),pe=Re(Df)}let Fe=pe;if(We&&ne!==!1){const ae=Object.keys(We),{shapeFlag:Ie}=Fe;ae.length&&Ie&7&&(v&&ae.some(W9)&&(We=Mie(We,v)),Fe=Z0(Fe,We,!1,!0))}return f.dirs&&(Fe=Z0(Fe,null,!1,!0),Fe.dirs=Fe.dirs?Fe.dirs.concat(f.dirs):f.dirs),f.transition&&(Fe.transition=f.transition),pe=Fe,xM(ye),pe}const Bie=r=>{let l;for(const f in r)(f==="class"||f==="style"||PM(f))&&((l||(l={}))[f]=r[f]);return l},Mie=(r,l)=>{const f={};for(const m in r)(!W9(m)||!(m.slice(9)in l))&&(f[m]=r[m]);return f};function Pie(r,l,f){const{props:m,children:x,component:v}=r,{props:w,children:E,patchFlag:F}=l,P=v.emitsOptions;if(l.dirs||l.transition)return!0;if(f&&F>=0){if(F&1024)return!0;if(F&16)return m?sW(m,w,P):!!w;if(F&8){const I=l.dynamicProps;for(let z=0;z<I.length;z++){const j=I[z];if(w[j]!==m[j]&&!KM(P,j))return!0}}}else return(x||E)&&(!E||!E.$stable)?!0:m===w?!1:m?w?sW(m,w,P):!0:!!w;return!1}function sW(r,l,f){const m=Object.keys(l);if(m.length!==Object.keys(r).length)return!0;for(let x=0;x<m.length;x++){const v=m[x];if(l[v]!==r[v]&&!KM(f,v))return!0}return!1}function Lie({vnode:r,parent:l},f){for(;l;){const m=l.subTree;if(m.suspense&&m.suspense.activeBranch===r&&(m.el=r.el),m===r)(r=l.vnode).el=f,l=l.parent;else break}}const Fie=r=>r.__isSuspense;function zie(r,l){l&&l.pendingBranch?Qo(r)?l.effects.push(...r):l.effects.push(r):Kse(r)}const li=Symbol.for("v-fgt"),jT=Symbol.for("v-txt"),Df=Symbol.for("v-cmt"),NH=Symbol.for("v-stc"),TT=[];let Nf=null;function _r(r=!1){TT.push(Nf=r?null:[])}function Hie(){TT.pop(),Nf=TT[TT.length-1]||null}let PT=1;function iW(r){PT+=r,r<0&&Nf&&(Nf.hasOnce=!0)}function qK(r){return r.dynamicChildren=PT>0?Nf||IS:null,Hie(),PT>0&&Nf&&Nf.push(r),r}function pl(r,l,f,m,x,v){return qK(Bn(r,l,f,m,x,v,!0))}function $a(r,l,f,m,x){return qK(Re(r,l,f,m,x,!0))}function g9(r){return r?r.__v_isVNode===!0:!1}function J2(r,l){return r.type===l.type&&r.key===l.key}const GK=({key:r})=>r??null,dM=({ref:r,ref_key:l,ref_for:f})=>(typeof r=="number"&&(r=""+r),r!=null?Za(r)||Ni(r)||ur(r)?{i:zu,r,k:l,f:!!f}:r:null);function Bn(r,l=null,f=null,m=0,x=null,v=r===li?0:1,w=!1,E=!1){const F={__v_isVNode:!0,__v_skip:!0,type:r,props:l,key:l&&GK(l),ref:l&&dM(l),scopeId:VM,slotScopeIds:null,children:f,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:v,patchFlag:m,dynamicProps:x,dynamicChildren:null,appContext:null,ctx:zu};return E?(fV(F,f),v&128&&r.normalize(F)):f&&(F.shapeFlag|=Za(f)?8:16),PT>0&&!w&&Nf&&(F.patchFlag>0||v&6)&&F.patchFlag!==32&&Nf.push(F),F}const Re=Vie;function Vie(r,l=null,f=null,m=0,x=null,v=!1){if((!r||r===rie)&&(r=Df),g9(r)){const E=Z0(r,l,!0);return f&&fV(E,f),PT>0&&!v&&Nf&&(E.shapeFlag&6?Nf[Nf.indexOf(r)]=E:Nf.push(E)),E.patchFlag=-2,E}if(Xie(r)&&(r=r.__vccOpts),l){l=$ie(l);let{class:E,style:F}=l;E&&!Za(E)&&(l.class=dw(E)),Ri(F)&&(dK(F)&&!Qo(F)&&(F=El({},F)),l.style=L0(F))}const w=Za(r)?1:Fie(r)?128:wie(r)?64:Ri(r)?4:ur(r)?2:0;return Bn(r,l,f,m,x,w,v,!0)}function $ie(r){return r?dK(r)||MK(r)?El({},r):r:null}function Z0(r,l,f=!1,m=!1){const{props:x,ref:v,patchFlag:w,children:E,transition:F}=r,P=l?Ua(x||{},l):x,I={__v_isVNode:!0,__v_skip:!0,type:r.type,props:P,key:P&&GK(P),ref:l&&l.ref?f&&v?Qo(v)?v.concat(dM(l)):[v,dM(l)]:dM(l):v,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:E,target:r.target,targetStart:r.targetStart,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:l&&r.type!==li?w===-1?16:w|16:w,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:F,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&Z0(r.ssContent),ssFallback:r.ssFallback&&Z0(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce};return F&&m&&LS(I,F.clone(I)),I}function Sd(r=" ",l=0){return Re(jT,null,r,l)}function Wl(r="",l=!1){return l?(_r(),$a(Df,null,r)):Re(Df,null,r)}function xp(r){return r==null||typeof r=="boolean"?Re(Df):Qo(r)?Re(li,null,r.slice()):typeof r=="object"?I0(r):Re(jT,null,String(r))}function I0(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:Z0(r)}function fV(r,l){let f=0;const{shapeFlag:m}=r;if(l==null)l=null;else if(Qo(l))f=16;else if(typeof l=="object")if(m&65){const x=l.default;x&&(x._c&&(x._d=!1),fV(r,x()),x._c&&(x._d=!0));return}else{f=32;const x=l._;!x&&!MK(l)?l._ctx=zu:x===3&&zu&&(zu.slots._===1?l._=1:(l._=2,r.patchFlag|=1024))}else ur(l)?(l={default:l,_ctx:zu},f=32):(l=String(l),m&64?(f=16,l=[Sd(l)]):f=8);r.children=l,r.shapeFlag|=f}function Ua(...r){const l={};for(let f=0;f<r.length;f++){const m=r[f];for(const x in m)if(x==="class")l.class!==m.class&&(l.class=dw([l.class,m.class]));else if(x==="style")l.style=L0([l.style,m.style]);else if(PM(x)){const v=l[x],w=m[x];w&&v!==w&&!(Qo(v)&&v.includes(w))&&(l[x]=v?[].concat(v,w):w)}else x!==""&&(l[x]=m[x])}return l}function pp(r,l,f,m=null){eg(r,l,7,[f,m])}const Uie=NK();let Zie=0;function Wie(r,l,f){const m=r.type,x=(l?l.appContext:r.appContext)||Uie,v={uid:Zie++,vnode:r,type:m,parent:l,appContext:x,root:null,next:null,subTree:null,effect:null,update:null,scope:new Jj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:l?l.provides:Object.create(x.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:LK(m,x),emitsOptions:KK(m,x),emit:null,emitted:null,propsDefaults:ua,inheritAttrs:m.inheritAttrs,ctx:ua,data:ua,props:ua,attrs:ua,slots:ua,refs:ua,setupState:ua,setupContext:null,suspense:f,suspenseId:f?f.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return v.ctx={_:v},v.root=l?l.root:v,v.emit=Iie.bind(null,v),r.ce&&r.ce(v),v}let jl=null;const mV=()=>jl||zu;let wM,h9;{const r=qj(),l=(f,m)=>{let x;return(x=r[f])||(x=r[f]=[]),x.push(m),v=>{x.length>1?x.forEach(w=>w(v)):x[0](v)}};wM=l("__VUE_INSTANCE_SETTERS__",f=>jl=f),h9=l("__VUE_SSR_SETTERS__",f=>qM=f)}const KT=r=>{const l=jl;return wM(r),r.scope.on(),()=>{r.scope.off(),wM(l)}},aW=()=>{jl&&jl.scope.off(),wM(null)};function YK(r){return r.vnode.shapeFlag&4}let qM=!1;function jie(r,l=!1,f=!1){l&&h9(l);const{props:m,children:x}=r.vnode,v=YK(r);hie(r,m,v,l),xie(r,x,f);const w=v?Kie(r,l):void 0;return l&&h9(!1),w}function Kie(r,l){const f=r.type;r.accessCache=Object.create(null),r.proxy=new Proxy(r.ctx,iie);const{setup:m}=f;if(m){const x=r.setupContext=m.length>1?Gie(r):null,v=KT(r);K0();const w=z0(m,r,0,[r.props,x]);if(q0(),v(),Zj(w)){if(w.then(aW,aW),l)return w.then(E=>{lW(r,E,l)}).catch(E=>{HM(E,r,0)});r.asyncDep=w}else lW(r,w,l)}else XK(r,l)}function lW(r,l,f){ur(l)?r.type.__ssrInlineRender?r.ssrRender=l:r.render=l:Ri(l)&&(r.setupState=hK(l)),XK(r,f)}let cW;function XK(r,l,f){const m=r.type;if(!r.render){if(!l&&cW&&!m.render){const x=m.template||lV(r).template;if(x){const{isCustomElement:v,compilerOptions:w}=r.appContext.config,{delimiters:E,compilerOptions:F}=m,P=El(El({isCustomElement:v,delimiters:E},w),F);m.render=cW(x,P)}}r.render=m.render||Jm}{const x=KT(r);K0();try{aie(r)}finally{q0(),x()}}}const qie={get(r,l){return Td(r,"get",""),r[l]}};function Gie(r){const l=f=>{r.exposed=f||{}};return{attrs:new Proxy(r.attrs,qie),slots:r.slots,emit:r.emit,expose:l}}function GM(r){return r.exposed?r.exposeProxy||(r.exposeProxy=new Proxy(hK(eV(r.exposed)),{get(l,f){if(f in l)return l[f];if(f in AT)return AT[f](r)},has(l,f){return f in l||f in AT}})):r.proxy}function Yie(r,l=!0){return ur(r)?r.displayName||r.name:r.name||l&&r.__name}function Xie(r){return ur(r)&&"__vccOpts"in r}const Tt=(r,l)=>zse(r,l,qM);function W0(r,l,f){const m=arguments.length;return m===2?Ri(l)&&!Qo(l)?g9(l)?Re(r,null,[l]):Re(r,l):Re(r,null,l):(m>3?f=Array.prototype.slice.call(arguments,2):m===3&&g9(f)&&(f=[f]),Re(r,l,f))}const Jie="3.4.38";/**
* @vue/runtime-dom v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Qie="http://www.w3.org/2000/svg",eae="http://www.w3.org/1998/Math/MathML",_1=typeof document<"u"?document:null,uW=_1&&_1.createElement("template"),tae={insert:(r,l,f)=>{l.insertBefore(r,f||null)},remove:r=>{const l=r.parentNode;l&&l.removeChild(r)},createElement:(r,l,f,m)=>{const x=l==="svg"?_1.createElementNS(Qie,r):l==="mathml"?_1.createElementNS(eae,r):f?_1.createElement(r,{is:f}):_1.createElement(r);return r==="select"&&m&&m.multiple!=null&&x.setAttribute("multiple",m.multiple),x},createText:r=>_1.createTextNode(r),createComment:r=>_1.createComment(r),setText:(r,l)=>{r.nodeValue=l},setElementText:(r,l)=>{r.textContent=l},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>_1.querySelector(r),setScopeId(r,l){r.setAttribute(l,"")},insertStaticContent(r,l,f,m,x,v){const w=f?f.previousSibling:l.lastChild;if(x&&(x===v||x.nextSibling))for(;l.insertBefore(x.cloneNode(!0),f),!(x===v||!(x=x.nextSibling)););else{uW.innerHTML=m==="svg"?`<svg>${r}</svg>`:m==="mathml"?`<math>${r}</math>`:r;const E=uW.content;if(m==="svg"||m==="mathml"){const F=E.firstChild;for(;F.firstChild;)E.appendChild(F.firstChild);E.removeChild(F)}l.insertBefore(E,f)}return[w?w.nextSibling:l.firstChild,f?f.previousSibling:l.lastChild]}},A0="transition",vT="animation",FS=Symbol("_vtc"),kp=(r,{slots:l})=>W0(Yse,QK(r),l);kp.displayName="Transition";const JK={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},nae=kp.props=El({},CK,JK),j2=(r,l=[])=>{Qo(r)?r.forEach(f=>f(...l)):r&&r(...l)},dW=r=>r?Qo(r)?r.some(l=>l.length>1):r.length>1:!1;function QK(r){const l={};for(const Ne in r)Ne in JK||(l[Ne]=r[Ne]);if(r.css===!1)return l;const{name:f="v",type:m,duration:x,enterFromClass:v=`${f}-enter-from`,enterActiveClass:w=`${f}-enter-active`,enterToClass:E=`${f}-enter-to`,appearFromClass:F=v,appearActiveClass:P=w,appearToClass:I=E,leaveFromClass:z=`${f}-leave-from`,leaveActiveClass:j=`${f}-leave-active`,leaveToClass:U=`${f}-leave-to`}=r,J=oae(x),ne=J&&J[0],ye=J&&J[1],{onBeforeEnter:pe,onEnter:We,onEnterCancelled:Fe,onLeave:ae,onLeaveCancelled:Ie,onBeforeAppear:oe=pe,onAppear:Je=We,onAppearCancelled:He=Fe}=l,Ye=(Ne,D,Nt)=>{O0(Ne,D?I:E),O0(Ne,D?P:w),Nt&&Nt()},gt=(Ne,D)=>{Ne._isLeaving=!1,O0(Ne,z),O0(Ne,U),O0(Ne,j),D&&D()},Se=Ne=>(D,Nt)=>{const sn=Ne?Je:We,vn=()=>Ye(D,Ne,Nt);j2(sn,[D,vn]),fW(()=>{O0(D,Ne?F:v),C1(D,Ne?I:E),dW(sn)||mW(D,m,ne,vn)})};return El(l,{onBeforeEnter(Ne){j2(pe,[Ne]),C1(Ne,v),C1(Ne,w)},onBeforeAppear(Ne){j2(oe,[Ne]),C1(Ne,F),C1(Ne,P)},onEnter:Se(!1),onAppear:Se(!0),onLeave(Ne,D){Ne._isLeaving=!0;const Nt=()=>gt(Ne,D);C1(Ne,z),C1(Ne,j),tq(),fW(()=>{Ne._isLeaving&&(O0(Ne,z),C1(Ne,U),dW(ae)||mW(Ne,m,ye,Nt))}),j2(ae,[Ne,Nt])},onEnterCancelled(Ne){Ye(Ne,!1),j2(Fe,[Ne])},onAppearCancelled(Ne){Ye(Ne,!0),j2(He,[Ne])},onLeaveCancelled(Ne){gt(Ne),j2(Ie,[Ne])}})}function oae(r){if(r==null)return null;if(Ri(r))return[IH(r.enter),IH(r.leave)];{const l=IH(r);return[l,l]}}function IH(r){return use(r)}function C1(r,l){l.split(/\s+/).forEach(f=>f&&r.classList.add(f)),(r[FS]||(r[FS]=new Set)).add(l)}function O0(r,l){l.split(/\s+/).forEach(m=>m&&r.classList.remove(m));const f=r[FS];f&&(f.delete(l),f.size||(r[FS]=void 0))}function fW(r){requestAnimationFrame(()=>{requestAnimationFrame(r)})}let rae=0;function mW(r,l,f,m){const x=r._endId=++rae,v=()=>{x===r._endId&&m()};if(f)return setTimeout(v,f);const{type:w,timeout:E,propCount:F}=eq(r,l);if(!w)return m();const P=w+"end";let I=0;const z=()=>{r.removeEventListener(P,j),v()},j=U=>{U.target===r&&++I>=F&&z()};setTimeout(()=>{I<F&&z()},E+1),r.addEventListener(P,j)}function eq(r,l){const f=window.getComputedStyle(r),m=J=>(f[J]||"").split(", "),x=m(`${A0}Delay`),v=m(`${A0}Duration`),w=gW(x,v),E=m(`${vT}Delay`),F=m(`${vT}Duration`),P=gW(E,F);let I=null,z=0,j=0;l===A0?w>0&&(I=A0,z=w,j=v.length):l===vT?P>0&&(I=vT,z=P,j=F.length):(z=Math.max(w,P),I=z>0?w>P?A0:vT:null,j=I?I===A0?v.length:F.length:0);const U=I===A0&&/\b(transform|all)(,|$)/.test(m(`${A0}Property`).toString());return{type:I,timeout:z,propCount:j,hasTransform:U}}function gW(r,l){for(;r.length<l.length;)r=r.concat(r);return Math.max(...l.map((f,m)=>hW(f)+hW(r[m])))}function hW(r){return r==="auto"?0:Number(r.slice(0,-1).replace(",","."))*1e3}function tq(){return document.body.offsetHeight}function sae(r,l,f){const m=r[FS];m&&(l=(l?[l,...m]:[...m]).join(" ")),l==null?r.removeAttribute("class"):f?r.setAttribute("class",l):r.className=l}const CM=Symbol("_vod"),nq=Symbol("_vsh"),Cs={beforeMount(r,{value:l},{transition:f}){r[CM]=r.style.display==="none"?"":r.style.display,f&&l?f.beforeEnter(r):xT(r,l)},mounted(r,{value:l},{transition:f}){f&&l&&f.enter(r)},updated(r,{value:l,oldValue:f},{transition:m}){!l!=!f&&(m?l?(m.beforeEnter(r),xT(r,!0),m.enter(r)):m.leave(r,()=>{xT(r,!1)}):xT(r,l))},beforeUnmount(r,{value:l}){xT(r,l)}};function xT(r,l){r.style.display=l?r[CM]:"none",r[nq]=!l}const iae=Symbol(""),aae=/(^|;)\s*display\s*:/;function lae(r,l,f){const m=r.style,x=Za(f);let v=!1;if(f&&!x){if(l)if(Za(l))for(const w of l.split(";")){const E=w.slice(0,w.indexOf(":")).trim();f[E]==null&&fM(m,E,"")}else for(const w in l)f[w]==null&&fM(m,w,"");for(const w in f)w==="display"&&(v=!0),fM(m,w,f[w])}else if(x){if(l!==f){const w=m[iae];w&&(f+=";"+w),m.cssText=f,v=aae.test(f)}}else l&&r.removeAttribute("style");CM in r&&(r[CM]=v?m.display:"",r[nq]&&(m.display="none"))}const pW=/\s*!important$/;function fM(r,l,f){if(Qo(f))f.forEach(m=>fM(r,l,m));else if(f==null&&(f=""),l.startsWith("--"))r.setProperty(l,f);else{const m=cae(r,l);pW.test(f)?r.setProperty(gw(m),f.replace(pW,""),"important"):r[m]=f}}const bW=["Webkit","Moz","ms"],BH={};function cae(r,l){const f=BH[l];if(f)return f;let m=Mf(l);if(m!=="filter"&&m in r)return BH[l]=m;m=$S(m);for(let x=0;x<bW.length;x++){const v=bW[x]+m;if(v in r)return BH[l]=v}return l}const vW="http://www.w3.org/1999/xlink";function xW(r,l,f,m,x,v=pse(l)){m&&l.startsWith("xlink:")?f==null?r.removeAttributeNS(vW,l.slice(6,l.length)):r.setAttributeNS(vW,l,f):f==null||v&&!Gj(f)?r.removeAttribute(l):r.setAttribute(l,v?"":j0(f)?String(f):f)}function uae(r,l,f,m){if(l==="innerHTML"||l==="textContent"){if(f==null)return;r[l]=f;return}const x=r.tagName;if(l==="value"&&x!=="PROGRESS"&&!x.includes("-")){const w=x==="OPTION"?r.getAttribute("value")||"":r.value,E=f==null?"":String(f);(w!==E||!("_value"in r))&&(r.value=E),f==null&&r.removeAttribute(l),r._value=f;return}let v=!1;if(f===""||f==null){const w=typeof r[l];w==="boolean"?f=Gj(f):f==null&&w==="string"?(f="",v=!0):w==="number"&&(f=0,v=!0)}try{r[l]=f}catch{}v&&r.removeAttribute(l)}function dae(r,l,f,m){r.addEventListener(l,f,m)}function fae(r,l,f,m){r.removeEventListener(l,f,m)}const yW=Symbol("_vei");function mae(r,l,f,m,x=null){const v=r[yW]||(r[yW]={}),w=v[l];if(m&&w)w.value=m;else{const[E,F]=gae(l);if(m){const P=v[l]=bae(m,x);dae(r,E,P,F)}else w&&(fae(r,E,w,F),v[l]=void 0)}}const wW=/(?:Once|Passive|Capture)$/;function gae(r){let l;if(wW.test(r)){l={};let m;for(;m=r.match(wW);)r=r.slice(0,r.length-m[0].length),l[m[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):gw(r.slice(2)),l]}let MH=0;const hae=Promise.resolve(),pae=()=>MH||(hae.then(()=>MH=0),MH=Date.now());function bae(r,l){const f=m=>{if(!m._vts)m._vts=Date.now();else if(m._vts<=f.attached)return;eg(vae(m,f.value),l,5,[m])};return f.value=r,f.attached=pae(),f}function vae(r,l){if(Qo(l)){const f=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{f.call(r),r._stopped=!0},l.map(m=>x=>!x._stopped&&m&&m(x))}else return l}const CW=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)>96&&r.charCodeAt(2)<123,xae=(r,l,f,m,x,v)=>{const w=x==="svg";l==="class"?sae(r,m,w):l==="style"?lae(r,f,m):PM(l)?W9(l)||mae(r,l,f,m,v):(l[0]==="."?(l=l.slice(1),!0):l[0]==="^"?(l=l.slice(1),!1):yae(r,l,m,w))?(uae(r,l,m),!r.tagName.includes("-")&&(l==="value"||l==="checked"||l==="selected")&&xW(r,l,m,w,v,l!=="value")):(l==="true-value"?r._trueValue=m:l==="false-value"&&(r._falseValue=m),xW(r,l,m,w))};function yae(r,l,f,m){if(m)return!!(l==="innerHTML"||l==="textContent"||l in r&&CW(l)&&ur(f));if(l==="spellcheck"||l==="draggable"||l==="translate"||l==="form"||l==="list"&&r.tagName==="INPUT"||l==="type"&&r.tagName==="TEXTAREA")return!1;if(l==="width"||l==="height"){const x=r.tagName;if(x==="IMG"||x==="VIDEO"||x==="CANVAS"||x==="SOURCE")return!1}return CW(l)&&Za(f)?!1:l in r}const oq=new WeakMap,rq=new WeakMap,_M=Symbol("_moveCb"),_W=Symbol("_enterCb"),sq={name:"TransitionGroup",props:El({},nae,{tag:String,moveClass:String}),setup(r,{slots:l}){const f=mV(),m=wK();let x,v;return aV(()=>{if(!x.length)return;const w=r.moveClass||`${r.name||"v"}-move`;if(!kae(x[0].el,f.vnode.el,w))return;x.forEach(Cae),x.forEach(_ae);const E=x.filter(Sae);tq(),E.forEach(F=>{const P=F.el,I=P.style;C1(P,w),I.transform=I.webkitTransform=I.transitionDuration="";const z=P[_M]=j=>{j&&j.target!==P||(!j||/transform$/.test(j.propertyName))&&(P.removeEventListener("transitionend",z),P[_M]=null,O0(P,w))};P.addEventListener("transitionend",z)})}),()=>{const w=To(r),E=QK(w);let F=w.tag||li;if(x=[],v)for(let P=0;P<v.length;P++){const I=v[P];I.el&&I.el instanceof Element&&(x.push(I),LS(I,BT(I,E,m,f)),oq.set(I,I.el.getBoundingClientRect()))}v=l.default?rV(l.default()):[];for(let P=0;P<v.length;P++){const I=v[P];I.key!=null&&LS(I,BT(I,E,m,f))}return Re(F,null,v)}}},wae=r=>delete r.mode;sq.props;const gV=sq;function Cae(r){const l=r.el;l[_M]&&l[_M](),l[_W]&&l[_W]()}function _ae(r){rq.set(r,r.el.getBoundingClientRect())}function Sae(r){const l=oq.get(r),f=rq.get(r),m=l.left-f.left,x=l.top-f.top;if(m||x){const v=r.el.style;return v.transform=v.webkitTransform=`translate(${m}px,${x}px)`,v.transitionDuration="0s",r}}function kae(r,l,f){const m=r.cloneNode(),x=r[FS];x&&x.forEach(E=>{E.split(/\s+/).forEach(F=>F&&m.classList.remove(F))}),f.split(/\s+/).forEach(E=>E&&m.classList.add(E)),m.style.display="none";const v=l.nodeType===1?l:l.parentNode;v.appendChild(m);const{hasTransform:w}=eq(m);return v.removeChild(m),w}const Aae=El({patchProp:xae},tae);let SW;function Eae(){return SW||(SW=kie(Aae))}const Tae=(...r)=>{const l=Eae().createApp(...r),{mount:f}=l;return l.mount=m=>{const x=Dae(m);if(!x)return;const v=l._component;!ur(v)&&!v.render&&!v.template&&(v.template=x.innerHTML),x.innerHTML="";const w=f(x,!1,Oae(x));return x instanceof Element&&(x.removeAttribute("v-cloak"),x.setAttribute("data-v-app","")),w},l};function Oae(r){if(r instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&r instanceof MathMLElement)return"mathml"}function Dae(r){return Za(r)?document.querySelector(r):r}function E1(r,l){let f;function m(){f=UT(),f.run(()=>l.length?l(()=>{f==null||f.stop(),m()}):l())}Yo(r,x=>{x&&!f?m():x||(f==null||f.stop(),f=void 0)},{immediate:!0}),Ff(()=>{f==null||f.stop()})}const da=typeof window<"u",hV=da&&"IntersectionObserver"in window,Rae=da&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function kW(r,l,f){Nae(r,l),l.set(r,f)}function Nae(r,l){if(l.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Iae(r,l,f){return r.set(iq(r,l),f),f}function K2(r,l){return r.get(iq(r,l))}function iq(r,l,f){if(typeof r=="function"?r===l:r.has(l))return arguments.length<3?l:f;throw new TypeError("Private element is not present on this object")}function aq(r,l,f){const m=l.length-1;if(m<0)return r===void 0?f:r;for(let x=0;x<m;x++){if(r==null)return f;r=r[l[x]]}return r==null||r[l[m]]===void 0?f:r[l[m]]}function YM(r,l){if(r===l)return!0;if(r instanceof Date&&l instanceof Date&&r.getTime()!==l.getTime()||r!==Object(r)||l!==Object(l))return!1;const f=Object.keys(r);return f.length!==Object.keys(l).length?!1:f.every(m=>YM(r[m],l[m]))}function p9(r,l,f){return r==null||!l||typeof l!="string"?f:r[l]!==void 0?r[l]:(l=l.replace(/\[(\w+)\]/g,".$1"),l=l.replace(/^\./,""),aq(r,l.split("."),f))}function yT(r,l,f){if(l===!0)return r===void 0?f:r;if(l==null||typeof l=="boolean")return f;if(r!==Object(r)){if(typeof l!="function")return f;const x=l(r,f);return typeof x>"u"?f:x}if(typeof l=="string")return p9(r,l,f);if(Array.isArray(l))return aq(r,l,f);if(typeof l!="function")return f;const m=l(r,f);return typeof m>"u"?f:m}function lq(r){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:r},(f,m)=>l+m)}function xr(r){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(r==null||r===""))return isNaN(+r)?String(r):isFinite(+r)?`${Number(r)}${l}`:void 0}function Bae(r){return r!==null&&typeof r=="object"&&!Array.isArray(r)}function AW(r){let l;return r!==null&&typeof r=="object"&&((l=Object.getPrototypeOf(r))===Object.prototype||l===null)}function Mae(r){if(r&&"$el"in r){const l=r.$el;return(l==null?void 0:l.nodeType)===Node.TEXT_NODE?l.nextElementSibling:l}return r}const EW=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function PH(r,l){return l.every(f=>r.hasOwnProperty(f))}function Pae(r,l){const f={},m=new Set(Object.keys(r));for(const x of l)m.has(x)&&(f[x]=r[x]);return f}function Lae(r,l){const f={...r};return l.forEach(m=>delete f[m]),f}const Fae=/^on[^a-z]/,cq=r=>Fae.test(r);function pV(r){return r==null?[]:Array.isArray(r)?r:[r]}function zS(r){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(l,Math.min(f,r))}function TW(r,l){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return r+f.repeat(Math.max(0,l-r.length))}function OW(r,l){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,l-r.length))+r}function zae(r){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const f=[];let m=0;for(;m<r.length;)f.push(r.substr(m,l)),m+=l;return f}function If(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=arguments.length>2?arguments[2]:void 0;const m={};for(const x in r)m[x]=r[x];for(const x in l){const v=r[x],w=l[x];if(AW(v)&&AW(w)){m[x]=If(v,w,f);continue}if(f&&Array.isArray(v)&&Array.isArray(w)){m[x]=f(v,w);continue}m[x]=w}return m}function uq(r){return r.map(l=>l.type===li?uq(l.children):l).flat()}function rw(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(rw.cache.has(r))return rw.cache.get(r);const l=r.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return rw.cache.set(r,l),l}rw.cache=new Map;function RS(r,l){if(!l||typeof l!="object")return[];if(Array.isArray(l))return l.map(f=>RS(r,f)).flat(1);if(l.suspense)return RS(r,l.ssContent);if(Array.isArray(l.children))return l.children.map(f=>RS(r,f)).flat(1);if(l.component){if(Object.getOwnPropertySymbols(l.component.provides).includes(r))return[l.component];if(l.component.subTree)return RS(r,l.component.subTree).flat(1)}return[]}var eM=new WeakMap,kS=new WeakMap;class Hae{constructor(l){kW(this,eM,[]),kW(this,kS,0),this.size=l}push(l){K2(eM,this)[K2(kS,this)]=l,Iae(kS,this,(K2(kS,this)+1)%this.size)}values(){return K2(eM,this).slice(K2(kS,this)).concat(K2(eM,this).slice(0,K2(kS,this)))}}function bV(r){const l=Jc({}),f=Tt(r);return Ep(()=>{for(const m in f.value)l[m]=f.value[m]},{flush:"sync"}),WT(l)}function SM(r,l){return r.includes(l)}function dq(r){return r[2].toLowerCase()+r.slice(3)}const OT=()=>[Function,Array];function DW(r,l){return l="on"+$S(l),!!(r[l]||r[`${l}Once`]||r[`${l}Capture`]||r[`${l}OnceCapture`]||r[`${l}CaptureOnce`])}function fq(r){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const f=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(m=>`${m}${l?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...r.querySelectorAll(f)]}function Vae(r,l,f){let m,x=r.indexOf(document.activeElement);const v=l==="next"?1:-1;do x+=v,m=r[x];while((!m||m.offsetParent==null)&&x<r.length&&x>=0);return m}function mq(r,l){var m,x,v,w;const f=fq(r);if(!l)(r===document.activeElement||!r.contains(document.activeElement))&&((m=f[0])==null||m.focus());else if(l==="first")(x=f[0])==null||x.focus();else if(l==="last")(v=f.at(-1))==null||v.focus();else if(typeof l=="number")(w=f[l])==null||w.focus();else{const E=Vae(f,l);E?E.focus():mq(r,l==="next"?"first":"last")}}function $ae(r,l){if(!(da&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${l})`)))return null;try{return!!r&&r.matches(l)}catch{return null}}function Uae(r,l){if(!da||r===0)return l(),()=>{};const f=window.setTimeout(l,r);return()=>window.clearTimeout(f)}function b9(){const r=Rr(),l=f=>{r.value=f};return Object.defineProperty(l,"value",{enumerable:!0,get:()=>r.value,set:f=>r.value=f}),Object.defineProperty(l,"el",{enumerable:!0,get:()=>Mae(r.value)}),l}const gq=["top","bottom"],Zae=["start","end","left","right"];function v9(r,l){let[f,m]=r.split(" ");return m||(m=SM(gq,f)?"start":SM(Zae,f)?"top":"center"),{side:x9(f,l),align:x9(m,l)}}function x9(r,l){return r==="start"?l?"right":"left":r==="end"?l?"left":"right":r}function LH(r){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[r.side],align:r.align}}function FH(r){return{side:r.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[r.align]}}function RW(r){return{side:r.align,align:r.side}}function NW(r){return SM(gq,r.side)?"y":"x"}class sw{constructor(l){let{x:f,y:m,width:x,height:v}=l;this.x=f,this.y=m,this.width=x,this.height=v}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function IW(r,l){return{x:{before:Math.max(0,l.left-r.left),after:Math.max(0,r.right-l.right)},y:{before:Math.max(0,l.top-r.top),after:Math.max(0,r.bottom-l.bottom)}}}function hq(r){return Array.isArray(r)?new sw({x:r[0],y:r[1],width:0,height:0}):r.getBoundingClientRect()}function pq(r){const l=r.getBoundingClientRect(),f=getComputedStyle(r),m=f.transform;if(m){let x,v,w,E,F;if(m.startsWith("matrix3d("))x=m.slice(9,-1).split(/, /),v=+x[0],w=+x[5],E=+x[12],F=+x[13];else if(m.startsWith("matrix("))x=m.slice(7,-1).split(/, /),v=+x[0],w=+x[3],E=+x[4],F=+x[5];else return new sw(l);const P=f.transformOrigin,I=l.x-E-(1-v)*parseFloat(P),z=l.y-F-(1-w)*parseFloat(P.slice(P.indexOf(" ")+1)),j=v?l.width/v:r.offsetWidth+1,U=w?l.height/w:r.offsetHeight+1;return new sw({x:I,y:z,width:j,height:U})}else return new sw(l)}function ST(r,l,f){if(typeof r.animate>"u")return{finished:Promise.resolve()};let m;try{m=r.animate(l,f)}catch{return{finished:Promise.resolve()}}return typeof m.finished>"u"&&(m.finished=new Promise(x=>{m.onfinish=()=>{x(m)}})),m}const mM=new WeakMap;function Wae(r,l){Object.keys(l).forEach(f=>{if(cq(f)){const m=dq(f),x=mM.get(r);if(l[f]==null)x==null||x.forEach(v=>{const[w,E]=v;w===m&&(r.removeEventListener(m,E),x.delete(v))});else if(!x||![...x].some(v=>v[0]===m&&v[1]===l[f])){r.addEventListener(m,l[f]);const v=x||new Set;v.add([m,l[f]]),mM.has(r)||mM.set(r,v)}}else l[f]==null?r.removeAttribute(f):r.setAttribute(f,l[f])})}function jae(r,l){Object.keys(l).forEach(f=>{if(cq(f)){const m=dq(f),x=mM.get(r);x==null||x.forEach(v=>{const[w,E]=v;w===m&&(r.removeEventListener(m,E),x.delete(v))})}else r.removeAttribute(f)})}const AS=2.4,BW=.2126729,MW=.7151522,PW=.072175,Kae=.55,qae=.58,Gae=.57,Yae=.62,tM=.03,LW=1.45,Xae=5e-4,Jae=1.25,Qae=1.25,FW=.078,zW=12.82051282051282,nM=.06,HW=.001;function VW(r,l){const f=(r.r/255)**AS,m=(r.g/255)**AS,x=(r.b/255)**AS,v=(l.r/255)**AS,w=(l.g/255)**AS,E=(l.b/255)**AS;let F=f*BW+m*MW+x*PW,P=v*BW+w*MW+E*PW;if(F<=tM&&(F+=(tM-F)**LW),P<=tM&&(P+=(tM-P)**LW),Math.abs(P-F)<Xae)return 0;let I;if(P>F){const z=(P**Kae-F**qae)*Jae;I=z<HW?0:z<FW?z-z*zW*nM:z-nM}else{const z=(P**Yae-F**Gae)*Qae;I=z>-HW?0:z>-FW?z-z*zW*nM:z+nM}return I*100}function ele(r,l){l=Array.isArray(l)?l.slice(0,-1).map(f=>`'${f}'`).join(", ")+` or '${l.at(-1)}'`:`'${l}'`}const kM=.20689655172413793,tle=r=>r>kM**3?Math.cbrt(r):r/(3*kM**2)+4/29,nle=r=>r>kM?r**3:3*kM**2*(r-4/29);function bq(r){const l=tle,f=l(r[1]);return[116*f-16,500*(l(r[0]/.95047)-f),200*(f-l(r[2]/1.08883))]}function vq(r){const l=nle,f=(r[0]+16)/116;return[l(f+r[1]/500)*.95047,l(f),l(f-r[2]/200)*1.08883]}const ole=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],rle=r=>r<=.0031308?r*12.92:1.055*r**(1/2.4)-.055,sle=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],ile=r=>r<=.04045?r/12.92:((r+.055)/1.055)**2.4;function xq(r){const l=Array(3),f=rle,m=ole;for(let x=0;x<3;++x)l[x]=Math.round(zS(f(m[x][0]*r[0]+m[x][1]*r[1]+m[x][2]*r[2]))*255);return{r:l[0],g:l[1],b:l[2]}}function vV(r){let{r:l,g:f,b:m}=r;const x=[0,0,0],v=ile,w=sle;l=v(l/255),f=v(f/255),m=v(m/255);for(let E=0;E<3;++E)x[E]=w[E][0]*l+w[E][1]*f+w[E][2]*m;return x}function y9(r){return!!r&&/^(#|var\(--|(rgb|hsl)a?\()/.test(r)}function ale(r){return y9(r)&&!/^((rgb|hsl)a?\()?var\(--/.test(r)}const $W=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,lle={rgb:(r,l,f,m)=>({r,g:l,b:f,a:m}),rgba:(r,l,f,m)=>({r,g:l,b:f,a:m}),hsl:(r,l,f,m)=>UW({h:r,s:l,l:f,a:m}),hsla:(r,l,f,m)=>UW({h:r,s:l,l:f,a:m}),hsv:(r,l,f,m)=>LT({h:r,s:l,v:f,a:m}),hsva:(r,l,f,m)=>LT({h:r,s:l,v:f,a:m})};function Cp(r){if(typeof r=="number")return{r:(r&16711680)>>16,g:(r&65280)>>8,b:r&255};if(typeof r=="string"&&$W.test(r)){const{groups:l}=r.match($W),{fn:f,values:m}=l,x=m.split(/,\s*/).map(v=>v.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(f)?parseFloat(v)/100:parseFloat(v));return lle[f](...x)}else if(typeof r=="string"){let l=r.startsWith("#")?r.slice(1):r;return[3,4].includes(l.length)?l=l.split("").map(f=>f+f).join(""):[6,8].includes(l.length),ule(l)}else if(typeof r=="object"){if(PH(r,["r","g","b"]))return r;if(PH(r,["h","s","l"]))return LT(yq(r));if(PH(r,["h","s","v"]))return LT(r)}throw new TypeError(`Invalid color: ${r==null?r:String(r)||r.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function LT(r){const{h:l,s:f,v:m,a:x}=r,v=E=>{const F=(E+l/60)%6;return m-m*f*Math.max(Math.min(F,4-F,1),0)},w=[v(5),v(3),v(1)].map(E=>Math.round(E*255));return{r:w[0],g:w[1],b:w[2],a:x}}function UW(r){return LT(yq(r))}function yq(r){const{h:l,s:f,l:m,a:x}=r,v=m+f*Math.min(m,1-m),w=v===0?0:2-2*m/v;return{h:l,s:w,v,a:x}}function oM(r){const l=Math.round(r).toString(16);return("00".substr(0,2-l.length)+l).toUpperCase()}function cle(r){let{r:l,g:f,b:m,a:x}=r;return`#${[oM(l),oM(f),oM(m),x!==void 0?oM(Math.round(x*255)):""].join("")}`}function ule(r){r=dle(r);let[l,f,m,x]=zae(r,2).map(v=>parseInt(v,16));return x=x===void 0?x:x/255,{r:l,g:f,b:m,a:x}}function dle(r){return r.startsWith("#")&&(r=r.slice(1)),r=r.replace(/([^0-9a-f])/gi,"F"),(r.length===3||r.length===4)&&(r=r.split("").map(l=>l+l).join("")),r.length!==6&&(r=TW(TW(r,6),8,"F")),r}function fle(r,l){const f=bq(vV(r));return f[0]=f[0]+l*10,xq(vq(f))}function mle(r,l){const f=bq(vV(r));return f[0]=f[0]-l*10,xq(vq(f))}function gle(r){const l=Cp(r);return vV(l)[1]}function wq(r){const l=Math.abs(VW(Cp(0),Cp(r)));return Math.abs(VW(Cp(16777215),Cp(r)))>Math.min(l,50)?"#fff":"#000"}function vo(r,l){return f=>Object.keys(r).reduce((m,x)=>{const w=typeof r[x]=="object"&&r[x]!=null&&!Array.isArray(r[x])?r[x]:{type:r[x]};return f&&x in f?m[x]={...w,default:f[x]}:m[x]=w,l&&!m[x].source&&(m[x].source=l),m},{})}const Ii=vo({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Tl(r,l){const f=mV();if(!f)throw new Error(`[Vuetify] ${r} must be called from inside a setup function`);return f}function G0(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const l=Tl(r).type;return rw((l==null?void 0:l.aliasName)||(l==null?void 0:l.name))}let Cq=0,gM=new WeakMap;function qT(){const r=Tl("getUid");if(gM.has(r))return gM.get(r);{const l=Cq++;return gM.set(r,l),l}}qT.reset=()=>{Cq=0,gM=new WeakMap};function hle(r){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Tl("injectSelf");const{provides:f}=l;if(f&&r in f)return f[r]}const HS=Symbol.for("vuetify:defaults");function ple(r){return kr(r)}function xV(){const r=bl(HS);if(!r)throw new Error("[Vuetify] Could not find defaults instance");return r}function US(r,l){const f=xV(),m=kr(r),x=Tt(()=>{if(lt(l==null?void 0:l.disabled))return f.value;const w=lt(l==null?void 0:l.scoped),E=lt(l==null?void 0:l.reset),F=lt(l==null?void 0:l.root);if(m.value==null&&!(w||E||F))return f.value;let P=If(m.value,{prev:f.value});if(w)return P;if(E||F){const I=Number(E||1/0);for(let z=0;z<=I&&!(!P||!("prev"in P));z++)P=P.prev;return P&&typeof F=="string"&&F in P&&(P=If(If(P,{prev:P}),P[F])),P}return P.prev?If(P.prev,P):P});return zf(HS,x),x}function ble(r,l){var f,m;return typeof((f=r.props)==null?void 0:f[l])<"u"||typeof((m=r.props)==null?void 0:m[rw(l)])<"u"}function vle(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1?arguments[1]:void 0,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xV();const m=Tl("useDefaults");if(l=l??m.type.name??m.type.__name,!l)throw new Error("[Vuetify] Could not determine component name");const x=Tt(()=>{var F;return(F=f.value)==null?void 0:F[r._as??l]}),v=new Proxy(r,{get(F,P){var z,j,U,J,ne,ye,pe;const I=Reflect.get(F,P);return P==="class"||P==="style"?[(z=x.value)==null?void 0:z[P],I].filter(We=>We!=null):typeof P=="string"&&!ble(m.vnode,P)?((j=x.value)==null?void 0:j[P])!==void 0?(U=x.value)==null?void 0:U[P]:((ne=(J=f.value)==null?void 0:J.global)==null?void 0:ne[P])!==void 0?(pe=(ye=f.value)==null?void 0:ye.global)==null?void 0:pe[P]:I:I}}),w=Rr();Ep(()=>{if(x.value){const F=Object.entries(x.value).filter(P=>{let[I]=P;return I.startsWith(I[0].toUpperCase())});w.value=F.length?Object.fromEntries(F):void 0}else w.value=void 0});function E(){const F=hle(HS,m);zf(HS,Tt(()=>w.value?If((F==null?void 0:F.value)??{},w.value):F==null?void 0:F.value))}return{props:v,provideSubDefaults:E}}function ZS(r){if(r._setup=r._setup??r.setup,!r.name)return r;if(r._setup){r.props=vo(r.props??{},r.name)();const l=Object.keys(r.props).filter(f=>f!=="class"&&f!=="style");r.filterProps=function(m){return Pae(m,l)},r.props._as=String,r.setup=function(m,x){const v=xV();if(!v.value)return r._setup(m,x);const{props:w,provideSubDefaults:E}=vle(m,m._as??r.name,v),F=r._setup(w,x);return E(),F}}return r}function ns(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return l=>(r?ZS:kK)(l)}function yV(r){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",f=arguments.length>2?arguments[2]:void 0;return ns()({name:f??$S(Mf(r.replace(/__/g,"-"))),props:{tag:{type:String,default:l},...Ii()},setup(m,x){let{slots:v}=x;return()=>{var w;return W0(m.tag,{class:[r,m.class],style:m.style},(w=v.default)==null?void 0:w.call(v))}}})}function _q(r){if(typeof r.getRootNode!="function"){for(;r.parentNode;)r=r.parentNode;return r!==document?null:document}const l=r.getRootNode();return l!==document&&l.getRootNode({composed:!0})!==document?null:l}const w9="cubic-bezier(0.4, 0, 0.2, 1)",xle="cubic-bezier(0.0, 0, 0.2, 1)",yle="cubic-bezier(0.4, 0, 1, 1)";function wle(r){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;r;){if(l?Cle(r):wV(r))return r;r=r.parentElement}return document.scrollingElement}function AM(r,l){const f=[];if(l&&r&&!l.contains(r))return f;for(;r&&(wV(r)&&f.push(r),r!==l);)r=r.parentElement;return f}function wV(r){if(!r||r.nodeType!==Node.ELEMENT_NODE)return!1;const l=window.getComputedStyle(r);return l.overflowY==="scroll"||l.overflowY==="auto"&&r.scrollHeight>r.clientHeight}function Cle(r){if(!r||r.nodeType!==Node.ELEMENT_NODE)return!1;const l=window.getComputedStyle(r);return["scroll","auto"].includes(l.overflowY)}function _le(r){for(;r;){if(window.getComputedStyle(r).position==="fixed")return!0;r=r.offsetParent}return!1}function Qs(r){const l=Tl("useRender");l.render=r}function Sp(r,l,f){let m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:z=>z,x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:z=>z;const v=Tl("useProxiedModel"),w=kr(r[l]!==void 0?r[l]:f),E=rw(l),P=Tt(E!==l?()=>{var z,j,U,J;return r[l],!!(((z=v.vnode.props)!=null&&z.hasOwnProperty(l)||(j=v.vnode.props)!=null&&j.hasOwnProperty(E))&&((U=v.vnode.props)!=null&&U.hasOwnProperty(`onUpdate:${l}`)||(J=v.vnode.props)!=null&&J.hasOwnProperty(`onUpdate:${E}`)))}:()=>{var z,j;return r[l],!!((z=v.vnode.props)!=null&&z.hasOwnProperty(l)&&((j=v.vnode.props)!=null&&j.hasOwnProperty(`onUpdate:${l}`)))});E1(()=>!P.value,()=>{Yo(()=>r[l],z=>{w.value=z})});const I=Tt({get(){const z=r[l];return m(P.value?z:w.value)},set(z){const j=x(z),U=To(P.value?r[l]:w.value);U===j||m(U)===z||(w.value=j,v==null||v.emit(`update:${l}`,j))}});return Object.defineProperty(I,"externalValue",{get:()=>P.value?r[l]:w.value}),I}const Sle={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},ZW="$vuetify.",WW=(r,l)=>r.replace(/\{(\d+)\}/g,(f,m)=>String(l[+m])),Sq=(r,l,f)=>function(m){for(var x=arguments.length,v=new Array(x>1?x-1:0),w=1;w<x;w++)v[w-1]=arguments[w];if(!m.startsWith(ZW))return WW(m,v);const E=m.replace(ZW,""),F=r.value&&f.value[r.value],P=l.value&&f.value[l.value];let I=p9(F,E,null);return I||(`${m}${r.value}`,I=p9(P,E,null)),I||(I=m),typeof I!="string"&&(I=m),WW(I,v)};function kq(r,l){return(f,m)=>new Intl.NumberFormat([r.value,l.value],m).format(f)}function zH(r,l,f){const m=Sp(r,l,r[l]??f.value);return m.value=r[l]??f.value,Yo(f,x=>{r[l]==null&&(m.value=f.value)}),m}function Aq(r){return l=>{const f=zH(l,"locale",r.current),m=zH(l,"fallback",r.fallback),x=zH(l,"messages",r.messages);return{name:"vuetify",current:f,fallback:m,messages:x,t:Sq(f,m,x),n:kq(f,m),provide:Aq({current:f,fallback:m,messages:x})}}}function kle(r){const l=Rr((r==null?void 0:r.locale)??"en"),f=Rr((r==null?void 0:r.fallback)??"en"),m=kr({en:Sle,...r==null?void 0:r.messages});return{name:"vuetify",current:l,fallback:f,messages:m,t:Sq(l,f,m),n:kq(l,f),provide:Aq({current:l,fallback:f,messages:m})}}const C9=Symbol.for("vuetify:locale");function Ale(r){return r.name!=null}function Ele(r){const l=r!=null&&r.adapter&&Ale(r==null?void 0:r.adapter)?r==null?void 0:r.adapter:kle(r),f=Ole(l,r);return{...l,...f}}function Tle(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function Ole(r,l){const f=kr((l==null?void 0:l.rtl)??Tle()),m=Tt(()=>f.value[r.current.value]??!1);return{isRtl:m,rtl:f,rtlClasses:Tt(()=>`v-locale--is-${m.value?"rtl":"ltr"}`)}}function WS(){const r=bl(C9);if(!r)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:r.isRtl,rtlClasses:r.rtlClasses}}const XM={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function Dle(r,l,f){const m=[];let x=[];const v=Eq(r),w=Tq(r),E=f??XM[l.slice(-2).toUpperCase()]??0,F=(v.getDay()-E+7)%7,P=(w.getDay()-E+7)%7;for(let I=0;I<F;I++){const z=new Date(v);z.setDate(z.getDate()-(F-I)),x.push(z)}for(let I=1;I<=w.getDate();I++){const z=new Date(r.getFullYear(),r.getMonth(),I);x.push(z),x.length===7&&(m.push(x),x=[])}for(let I=1;I<7-P;I++){const z=new Date(w);z.setDate(z.getDate()+I),x.push(z)}return x.length>0&&m.push(x),m}function Rle(r,l,f){const m=f??XM[l.slice(-2).toUpperCase()]??0,x=new Date(r);for(;x.getDay()!==m;)x.setDate(x.getDate()-1);return x}function Nle(r,l){const f=new Date(r),m=((XM[l.slice(-2).toUpperCase()]??0)+6)%7;for(;f.getDay()!==m;)f.setDate(f.getDate()+1);return f}function Eq(r){return new Date(r.getFullYear(),r.getMonth(),1)}function Tq(r){return new Date(r.getFullYear(),r.getMonth()+1,0)}function Ile(r){const l=r.split("-").map(Number);return new Date(l[0],l[1]-1,l[2])}const Ble=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function Oq(r){if(r==null)return new Date;if(r instanceof Date)return r;if(typeof r=="string"){let l;if(Ble.test(r))return Ile(r);if(l=Date.parse(r),!isNaN(l))return new Date(l)}return null}const jW=new Date(2e3,0,2);function Mle(r,l){const f=l??XM[r.slice(-2).toUpperCase()]??0;return lq(7).map(m=>{const x=new Date(jW);return x.setDate(jW.getDate()+f+m),new Intl.DateTimeFormat(r,{weekday:"narrow"}).format(x)})}function Ple(r,l,f,m){const x=Oq(r)??new Date,v=m==null?void 0:m[l];if(typeof v=="function")return v(x,l,f);let w={};switch(l){case"fullDate":w={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":w={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const E=x.getDate(),F=new Intl.DateTimeFormat(f,{month:"long"}).format(x);return`${E} ${F}`;case"normalDateWithWeekday":w={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":w={month:"short",day:"numeric"};break;case"year":w={year:"numeric"};break;case"month":w={month:"long"};break;case"monthShort":w={month:"short"};break;case"monthAndYear":w={month:"long",year:"numeric"};break;case"monthAndDate":w={month:"long",day:"numeric"};break;case"weekday":w={weekday:"long"};break;case"weekdayShort":w={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(f).format(x.getDate());case"hours12h":w={hour:"numeric",hour12:!0};break;case"hours24h":w={hour:"numeric",hour12:!1};break;case"minutes":w={minute:"numeric"};break;case"seconds":w={second:"numeric"};break;case"fullTime":w={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":w={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":w={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":w={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":w={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":w={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":w={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":w={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":w={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":w={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:w=v??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(f,w).format(x)}function Lle(r,l){const f=r.toJsDate(l),m=f.getFullYear(),x=OW(String(f.getMonth()+1),2,"0"),v=OW(String(f.getDate()),2,"0");return`${m}-${x}-${v}`}function Fle(r){const[l,f,m]=r.split("-").map(Number);return new Date(l,f-1,m)}function zle(r,l){const f=new Date(r);return f.setMinutes(f.getMinutes()+l),f}function Hle(r,l){const f=new Date(r);return f.setHours(f.getHours()+l),f}function Vle(r,l){const f=new Date(r);return f.setDate(f.getDate()+l),f}function $le(r,l){const f=new Date(r);return f.setDate(f.getDate()+l*7),f}function Ule(r,l){const f=new Date(r);return f.setDate(1),f.setMonth(f.getMonth()+l),f}function Zle(r){return r.getFullYear()}function Wle(r){return r.getMonth()}function jle(r){return r.getDate()}function Kle(r){return new Date(r.getFullYear(),r.getMonth()+1,1)}function qle(r){return new Date(r.getFullYear(),r.getMonth()-1,1)}function Gle(r){return r.getHours()}function Yle(r){return r.getMinutes()}function Xle(r){return new Date(r.getFullYear(),0,1)}function Jle(r){return new Date(r.getFullYear(),11,31)}function Qle(r,l){return EM(r,l[0])&&nce(r,l[1])}function ece(r){const l=new Date(r);return l instanceof Date&&!isNaN(l.getTime())}function EM(r,l){return r.getTime()>l.getTime()}function tce(r,l){return EM(_9(r),_9(l))}function nce(r,l){return r.getTime()<l.getTime()}function KW(r,l){return r.getTime()===l.getTime()}function oce(r,l){return r.getDate()===l.getDate()&&r.getMonth()===l.getMonth()&&r.getFullYear()===l.getFullYear()}function rce(r,l){return r.getMonth()===l.getMonth()&&r.getFullYear()===l.getFullYear()}function sce(r,l){return r.getFullYear()===l.getFullYear()}function ice(r,l,f){const m=new Date(r),x=new Date(l);switch(f){case"years":return m.getFullYear()-x.getFullYear();case"quarters":return Math.floor((m.getMonth()-x.getMonth()+(m.getFullYear()-x.getFullYear())*12)/4);case"months":return m.getMonth()-x.getMonth()+(m.getFullYear()-x.getFullYear())*12;case"weeks":return Math.floor((m.getTime()-x.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((m.getTime()-x.getTime())/(1e3*60*60*24));case"hours":return Math.floor((m.getTime()-x.getTime())/(1e3*60*60));case"minutes":return Math.floor((m.getTime()-x.getTime())/(1e3*60));case"seconds":return Math.floor((m.getTime()-x.getTime())/1e3);default:return m.getTime()-x.getTime()}}function ace(r,l){const f=new Date(r);return f.setHours(l),f}function lce(r,l){const f=new Date(r);return f.setMinutes(l),f}function cce(r,l){const f=new Date(r);return f.setMonth(l),f}function uce(r,l){const f=new Date(r);return f.setDate(l),f}function dce(r,l){const f=new Date(r);return f.setFullYear(l),f}function _9(r){return new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0,0)}function fce(r){return new Date(r.getFullYear(),r.getMonth(),r.getDate(),23,59,59,999)}class mce{constructor(l){this.locale=l.locale,this.formats=l.formats}date(l){return Oq(l)}toJsDate(l){return l}toISO(l){return Lle(this,l)}parseISO(l){return Fle(l)}addMinutes(l,f){return zle(l,f)}addHours(l,f){return Hle(l,f)}addDays(l,f){return Vle(l,f)}addWeeks(l,f){return $le(l,f)}addMonths(l,f){return Ule(l,f)}getWeekArray(l,f){return Dle(l,this.locale,f?Number(f):void 0)}startOfWeek(l,f){return Rle(l,this.locale,f?Number(f):void 0)}endOfWeek(l){return Nle(l,this.locale)}startOfMonth(l){return Eq(l)}endOfMonth(l){return Tq(l)}format(l,f){return Ple(l,f,this.locale,this.formats)}isEqual(l,f){return KW(l,f)}isValid(l){return ece(l)}isWithinRange(l,f){return Qle(l,f)}isAfter(l,f){return EM(l,f)}isAfterDay(l,f){return tce(l,f)}isBefore(l,f){return!EM(l,f)&&!KW(l,f)}isSameDay(l,f){return oce(l,f)}isSameMonth(l,f){return rce(l,f)}isSameYear(l,f){return sce(l,f)}setMinutes(l,f){return lce(l,f)}setHours(l,f){return ace(l,f)}setMonth(l,f){return cce(l,f)}setDate(l,f){return uce(l,f)}setYear(l,f){return dce(l,f)}getDiff(l,f,m){return ice(l,f,m)}getWeekdays(l){return Mle(this.locale,l?Number(l):void 0)}getYear(l){return Zle(l)}getMonth(l){return Wle(l)}getDate(l){return jle(l)}getNextMonth(l){return Kle(l)}getPreviousMonth(l){return qle(l)}getHours(l){return Gle(l)}getMinutes(l){return Yle(l)}startOfDay(l){return _9(l)}endOfDay(l){return fce(l)}startOfYear(l){return Xle(l)}endOfYear(l){return Jle(l)}}const gce=Symbol.for("vuetify:date-options"),qW=Symbol.for("vuetify:date-adapter");function hce(r,l){const f=If({adapter:mce,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},r);return{options:f,instance:pce(f,l)}}function pce(r,l){const f=Jc(typeof r.adapter=="function"?new r.adapter({locale:r.locale[l.current.value]??l.current.value,formats:r.formats}):r.adapter);return Yo(l.current,m=>{f.locale=r.locale[m]??m??f.locale}),f}const S9=Symbol.for("vuetify:display"),GW={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},bce=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:GW;return If(GW,r)};function YW(r){return da&&!r?window.innerWidth:typeof r=="object"&&r.clientWidth||0}function XW(r){return da&&!r?window.innerHeight:typeof r=="object"&&r.clientHeight||0}function JW(r){const l=da&&!r?window.navigator.userAgent:"ssr";function f(J){return!!l.match(J)}const m=f(/android/i),x=f(/iphone|ipad|ipod/i),v=f(/cordova/i),w=f(/electron/i),E=f(/chrome/i),F=f(/edge/i),P=f(/firefox/i),I=f(/opera/i),z=f(/win/i),j=f(/mac/i),U=f(/linux/i);return{android:m,ios:x,cordova:v,electron:w,chrome:E,edge:F,firefox:P,opera:I,win:z,mac:j,linux:U,touch:Rae,ssr:l==="ssr"}}function vce(r,l){const{thresholds:f,mobileBreakpoint:m}=bce(r),x=Rr(XW(l)),v=Rr(JW(l)),w=Jc({}),E=Rr(YW(l));function F(){x.value=XW(),E.value=YW()}function P(){F(),v.value=JW()}return Ep(()=>{const I=E.value<f.sm,z=E.value<f.md&&!I,j=E.value<f.lg&&!(z||I),U=E.value<f.xl&&!(j||z||I),J=E.value<f.xxl&&!(U||j||z||I),ne=E.value>=f.xxl,ye=I?"xs":z?"sm":j?"md":U?"lg":J?"xl":"xxl",pe=typeof m=="number"?m:f[m],We=E.value<pe;w.xs=I,w.sm=z,w.md=j,w.lg=U,w.xl=J,w.xxl=ne,w.smAndUp=!I,w.mdAndUp=!(I||z),w.lgAndUp=!(I||z||j),w.xlAndUp=!(I||z||j||U),w.smAndDown=!(j||U||J||ne),w.mdAndDown=!(U||J||ne),w.lgAndDown=!(J||ne),w.xlAndDown=!ne,w.name=ye,w.height=x.value,w.width=E.value,w.mobile=We,w.mobileBreakpoint=m,w.platform=v.value,w.thresholds=f}),da&&window.addEventListener("resize",F,{passive:!0}),{...WT(w),update:P,ssr:!!l}}const xce=vo({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function Dq(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G0();const f=bl(S9);if(!f)throw new Error("Could not find Vuetify display injection");const m=Tt(()=>{if(r.mobile!=null)return r.mobile;if(!r.mobileBreakpoint)return f.mobile.value;const v=typeof r.mobileBreakpoint=="number"?r.mobileBreakpoint:f.thresholds.value[r.mobileBreakpoint];return f.width.value<v}),x=Tt(()=>l?{[`${l}--mobile`]:m.value}:{});return{...f,displayClasses:x,mobile:m}}const yce=Symbol.for("vuetify:goto");function wce(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:r=>r,easeInQuad:r=>r**2,easeOutQuad:r=>r*(2-r),easeInOutQuad:r=>r<.5?2*r**2:-1+(4-2*r)*r,easeInCubic:r=>r**3,easeOutCubic:r=>--r**3+1,easeInOutCubic:r=>r<.5?4*r**3:(r-1)*(2*r-2)*(2*r-2)+1,easeInQuart:r=>r**4,easeOutQuart:r=>1- --r**4,easeInOutQuart:r=>r<.5?8*r**4:1-8*--r**4,easeInQuint:r=>r**5,easeOutQuint:r=>1+--r**5,easeInOutQuint:r=>r<.5?16*r**5:1+16*--r**5}}}function Cce(r,l){return{rtl:l.isRtl,options:If(wce(),r)}}const _ce={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper"},Sce={component:r=>W0(Nq,{...r,class:"mdi"})},Hu=[String,Function,Object,Array],k9=Symbol.for("vuetify:icons"),JM=vo({icon:{type:Hu},tag:{type:String,required:!0}},"icon"),QW=ns()({name:"VComponentIcon",props:JM(),setup(r,l){let{slots:f}=l;return()=>{const m=r.icon;return Re(r.tag,null,{default:()=>{var x;return[r.icon?Re(m,null,null):(x=f.default)==null?void 0:x.call(f)]}})}}}),Rq=ZS({name:"VSvgIcon",inheritAttrs:!1,props:JM(),setup(r,l){let{attrs:f}=l;return()=>Re(r.tag,Ua(f,{style:null}),{default:()=>[Re("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(r.icon)?r.icon.map(m=>Array.isArray(m)?Re("path",{d:m[0],"fill-opacity":m[1]},null):Re("path",{d:m},null)):Re("path",{d:r.icon},null)])]})}});ZS({name:"VLigatureIcon",props:JM(),setup(r){return()=>Re(r.tag,null,{default:()=>[r.icon]})}});const Nq=ZS({name:"VClassIcon",props:JM(),setup(r){return()=>Re(r.tag,{class:r.icon},null)}});function kce(){return{svg:{component:Rq},class:{component:Nq}}}function Ace(r){const l=kce(),f=(r==null?void 0:r.defaultSet)??"mdi";return f==="mdi"&&!l.mdi&&(l.mdi=Sce),If({defaultSet:f,sets:l,aliases:{..._ce,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},r)}const Ece=r=>{const l=bl(k9);if(!l)throw new Error("Missing Vuetify Icons provide!");return{iconData:Tt(()=>{var F;const m=lt(r);if(!m)return{component:QW};let x=m;if(typeof x=="string"&&(x=x.trim(),x.startsWith("$")&&(x=(F=l.aliases)==null?void 0:F[x.slice(1)])),Array.isArray(x))return{component:Rq,icon:x};if(typeof x!="string")return{component:QW,icon:x};const v=Object.keys(l.sets).find(P=>typeof x=="string"&&x.startsWith(`${P}:`)),w=v?x.slice(v.length+1):x;return{component:l.sets[v??l.defaultSet].component,icon:w}})}},TM=Symbol.for("vuetify:theme"),Od=vo({theme:String},"theme");function ej(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function Tce(){var m,x;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ej();const l=ej();if(!r)return{...l,isDisabled:!0};const f={};for(const[v,w]of Object.entries(r.themes??{})){const E=w.dark||v==="dark"?(m=l.themes)==null?void 0:m.dark:(x=l.themes)==null?void 0:x.light;f[v]=If(E,w)}return If(l,{...r,themes:f})}function Oce(r){const l=Tce(r),f=kr(l.defaultTheme),m=kr(l.themes),x=Tt(()=>{const I={};for(const[z,j]of Object.entries(m.value)){const U=I[z]={...j,colors:{...j.colors}};if(l.variations)for(const J of l.variations.colors){const ne=U.colors[J];if(ne)for(const ye of["lighten","darken"]){const pe=ye==="lighten"?fle:mle;for(const We of lq(l.variations[ye],1))U.colors[`${J}-${ye}-${We}`]=cle(pe(Cp(ne),We))}}for(const J of Object.keys(U.colors)){if(/^on-[a-z]/.test(J)||U.colors[`on-${J}`])continue;const ne=`on-${J}`,ye=Cp(U.colors[J]);U.colors[ne]=wq(ye)}}return I}),v=Tt(()=>x.value[f.value]),w=Tt(()=>{var J;const I=[];(J=v.value)!=null&&J.dark&&q2(I,":root",["color-scheme: dark"]),q2(I,":root",tj(v.value));for(const[ne,ye]of Object.entries(x.value))q2(I,`.v-theme--${ne}`,[`color-scheme: ${ye.dark?"dark":"normal"}`,...tj(ye)]);const z=[],j=[],U=new Set(Object.values(x.value).flatMap(ne=>Object.keys(ne.colors)));for(const ne of U)/^on-[a-z]/.test(ne)?q2(j,`.${ne}`,[`color: rgb(var(--v-theme-${ne})) !important`]):(q2(z,`.bg-${ne}`,[`--v-theme-overlay-multiplier: var(--v-theme-${ne}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${ne})) !important`,`color: rgb(var(--v-theme-on-${ne})) !important`]),q2(j,`.text-${ne}`,[`color: rgb(var(--v-theme-${ne})) !important`]),q2(j,`.border-${ne}`,[`--v-border-color: var(--v-theme-${ne})`]));return I.push(...z,...j),I.map((ne,ye)=>ye===0?ne:`    ${ne}`).join("")});function E(){return{style:[{children:w.value,id:"vuetify-theme-stylesheet",nonce:l.cspNonce||!1}]}}function F(I){if(l.isDisabled)return;const z=I._context.provides.usehead;if(z)if(z.push){const U=z.push(E);da&&Yo(w,()=>{U.patch(E)})}else da?(z.addHeadObjs(Tt(E)),Ep(()=>z.updateDOM())):z.addHeadObjs(E());else{let J=function(){if(typeof document<"u"&&!U){const ne=document.createElement("style");ne.type="text/css",ne.id="vuetify-theme-stylesheet",l.cspNonce&&ne.setAttribute("nonce",l.cspNonce),U=ne,document.head.appendChild(U)}U&&(U.innerHTML=w.value)};var j=J;let U=da?document.getElementById("vuetify-theme-stylesheet"):null;da?Yo(w,J,{immediate:!0}):J()}}const P=Tt(()=>l.isDisabled?void 0:`v-theme--${f.value}`);return{install:F,isDisabled:l.isDisabled,name:f,themes:m,current:v,computedThemes:x,themeClasses:P,styles:w,global:{name:f,current:v}}}function Dd(r){Tl("provideTheme");const l=bl(TM,null);if(!l)throw new Error("Could not find Vuetify theme injection");const f=Tt(()=>r.theme??l.name.value),m=Tt(()=>l.themes.value[f.value]),x=Tt(()=>l.isDisabled?void 0:`v-theme--${f.value}`),v={...l,name:f,current:m,themeClasses:x};return zf(TM,v),v}function q2(r,l,f){r.push(`${l} {
`,...f.map(m=>`  ${m};
`),`}
`)}function tj(r){const l=r.dark?2:1,f=r.dark?1:2,m=[];for(const[x,v]of Object.entries(r.colors)){const w=Cp(v);m.push(`--v-theme-${x}: ${w.r},${w.g},${w.b}`),x.startsWith("on-")||m.push(`--v-theme-${x}-overlay-multiplier: ${gle(v)>.18?l:f}`)}for(const[x,v]of Object.entries(r.variables)){const w=typeof v=="string"&&v.startsWith("#")?Cp(v):void 0,E=w?`${w.r}, ${w.g}, ${w.b}`:void 0;m.push(`--v-${x}: ${E??v}`)}return m}function Iq(r){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const f=b9(),m=kr();if(da){const x=new ResizeObserver(v=>{v.length&&(l==="content"?m.value=v[0].contentRect:m.value=v[0].target.getBoundingClientRect())});$u(()=>{x.disconnect()}),Yo(()=>f.el,(v,w)=>{w&&(x.unobserve(w),m.value=void 0),v&&x.observe(v)},{flush:"post"})}return{resizeRef:f,contentRect:ZT(m)}}const OM=Symbol.for("vuetify:layout"),Bq=Symbol.for("vuetify:layout-item"),nj=1e3,Dce=vo({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Mq=vo({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Rce(){const r=bl(OM);if(!r)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:r.getLayoutItem,mainRect:r.mainRect,mainStyles:r.mainStyles}}function Pq(r){const l=bl(OM);if(!l)throw new Error("[Vuetify] Could not find injected layout");const f=r.id??`layout-item-${qT()}`,m=Tl("useLayoutItem");zf(Bq,{id:f});const x=Rr(!1);iV(()=>x.value=!0),sV(()=>x.value=!1);const{layoutItemStyles:v,layoutItemScrimStyles:w}=l.register(m,{...r,active:Tt(()=>x.value?!1:r.active.value),id:f});return $u(()=>l.unregister(f)),{layoutItemStyles:v,layoutRect:l.layoutRect,layoutItemScrimStyles:w}}const Nce=(r,l,f,m)=>{let x={top:0,left:0,right:0,bottom:0};const v=[{id:"",layer:{...x}}];for(const w of r){const E=l.get(w),F=f.get(w),P=m.get(w);if(!E||!F||!P)continue;const I={...x,[E.value]:parseInt(x[E.value],10)+(P.value?parseInt(F.value,10):0)};v.push({id:w,layer:I}),x=I}return v};function Ice(r){const l=bl(OM,null),f=Tt(()=>l?l.rootZIndex.value-100:nj),m=kr([]),x=Jc(new Map),v=Jc(new Map),w=Jc(new Map),E=Jc(new Map),F=Jc(new Map),{resizeRef:P,contentRect:I}=Iq(),z=Tt(()=>{const oe=new Map,Je=r.overlaps??[];for(const He of Je.filter(Ye=>Ye.includes(":"))){const[Ye,gt]=He.split(":");if(!m.value.includes(Ye)||!m.value.includes(gt))continue;const Se=x.get(Ye),Ne=x.get(gt),D=v.get(Ye),Nt=v.get(gt);!Se||!Ne||!D||!Nt||(oe.set(gt,{position:Se.value,amount:parseInt(D.value,10)}),oe.set(Ye,{position:Ne.value,amount:-parseInt(Nt.value,10)}))}return oe}),j=Tt(()=>{const oe=[...new Set([...w.values()].map(He=>He.value))].sort((He,Ye)=>He-Ye),Je=[];for(const He of oe){const Ye=m.value.filter(gt=>{var Se;return((Se=w.get(gt))==null?void 0:Se.value)===He});Je.push(...Ye)}return Nce(Je,x,v,E)}),U=Tt(()=>!Array.from(F.values()).some(oe=>oe.value)),J=Tt(()=>j.value[j.value.length-1].layer),ne=Tt(()=>({"--v-layout-left":xr(J.value.left),"--v-layout-right":xr(J.value.right),"--v-layout-top":xr(J.value.top),"--v-layout-bottom":xr(J.value.bottom),...U.value?void 0:{transition:"none"}})),ye=Tt(()=>j.value.slice(1).map((oe,Je)=>{let{id:He}=oe;const{layer:Ye}=j.value[Je],gt=v.get(He),Se=x.get(He);return{id:He,...Ye,size:Number(gt.value),position:Se.value}})),pe=oe=>ye.value.find(Je=>Je.id===oe),We=Tl("createLayout"),Fe=Rr(!1);Ap(()=>{Fe.value=!0}),zf(OM,{register:(oe,Je)=>{let{id:He,order:Ye,position:gt,layoutSize:Se,elementSize:Ne,active:D,disableTransitions:Nt,absolute:sn}=Je;w.set(He,Ye),x.set(He,gt),v.set(He,Se),E.set(He,D),Nt&&F.set(He,Nt);const Tn=RS(Bq,We==null?void 0:We.vnode).indexOf(oe);Tn>-1?m.value.splice(Tn,0,He):m.value.push(He);const rt=Tt(()=>ye.value.findIndex(yt=>yt.id===He)),Un=Tt(()=>f.value+j.value.length*2-rt.value*2),Hr=Tt(()=>{const yt=gt.value==="left"||gt.value==="right",qt=gt.value==="right",$r=gt.value==="bottom",xo=Ne.value??Se.value,Sn=xo===0?"%":"px",Mn={[gt.value]:0,zIndex:Un.value,transform:`translate${yt?"X":"Y"}(${(D.value?0:-(xo===0?100:xo))*(qt||$r?-1:1)}${Sn})`,position:sn.value||f.value!==nj?"absolute":"fixed",...U.value?void 0:{transition:"none"}};if(!Fe.value)return Mn;const X=ye.value[rt.value];if(!X)throw new Error(`[Vuetify] Could not find layout item "${He}"`);const nr=z.value.get(He);return nr&&(X[nr.position]+=nr.amount),{...Mn,height:yt?`calc(100% - ${X.top}px - ${X.bottom}px)`:Ne.value?`${Ne.value}px`:void 0,left:qt?void 0:`${X.left}px`,right:qt?`${X.right}px`:void 0,top:gt.value!=="bottom"?`${X.top}px`:void 0,bottom:gt.value!=="top"?`${X.bottom}px`:void 0,width:yt?Ne.value?`${Ne.value}px`:void 0:`calc(100% - ${X.left}px - ${X.right}px)`}}),xt=Tt(()=>({zIndex:Un.value-1}));return{layoutItemStyles:Hr,layoutItemScrimStyles:xt,zIndex:Un}},unregister:oe=>{w.delete(oe),x.delete(oe),v.delete(oe),E.delete(oe),F.delete(oe),m.value=m.value.filter(Je=>Je!==oe)},mainRect:J,mainStyles:ne,getLayoutItem:pe,items:ye,layoutRect:I,rootZIndex:f});const ae=Tt(()=>["v-layout",{"v-layout--full-height":r.fullHeight}]),Ie=Tt(()=>({zIndex:l?f.value:void 0,position:l?"relative":void 0,overflow:l?"hidden":void 0}));return{layoutClasses:ae,layoutStyles:Ie,getLayoutItem:pe,items:ye,layoutRect:I,layoutRef:P}}function Lq(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:l,...f}=r,m=If(l,f),{aliases:x={},components:v={},directives:w={}}=m,E=ple(m.defaults),F=vce(m.display,m.ssr),P=Oce(m.theme),I=Ace(m.icons),z=Ele(m.locale),j=hce(m.date,z),U=Cce(m.goTo,z);return{install:ne=>{for(const ye in w)ne.directive(ye,w[ye]);for(const ye in v)ne.component(ye,v[ye]);for(const ye in x)ne.component(ye,ZS({...x[ye],name:ye,aliasName:x[ye].name}));if(P.install(ne),ne.provide(HS,E),ne.provide(S9,F),ne.provide(TM,P),ne.provide(k9,I),ne.provide(C9,z),ne.provide(gce,j.options),ne.provide(qW,j.instance),ne.provide(yce,U),da&&m.ssr)if(ne.$nuxt)ne.$nuxt.hook("app:suspense:resolve",()=>{F.update()});else{const{mount:ye}=ne;ne.mount=function(){const pe=ye(...arguments);return Pf(()=>F.update()),ne.mount=ye,pe}}qT.reset(),ne.mixin({computed:{$vuetify(){return Jc({defaults:ES.call(this,HS),display:ES.call(this,S9),theme:ES.call(this,TM),icons:ES.call(this,k9),locale:ES.call(this,C9),date:ES.call(this,qW)})}}})},defaults:E,display:F,theme:P,icons:I,locale:z,date:j,goTo:U}}const Bce="3.7.1";Lq.version=Bce;function ES(r){var m,x;const l=this.$,f=((m=l.parent)==null?void 0:m.provides)??((x=l.vnode.appContext)==null?void 0:x.provides);if(f&&r in f)return f[r]}const Mce=Lq({theme:{themes:{light:{colors:{primary:"#1867C0",secondary:"#5CBBF6"}}}}});var Pce=!1;/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let Fq;const QM=r=>Fq=r,zq=Symbol();function A9(r){return r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"&&typeof r.toJSON!="function"}var DT;(function(r){r.direct="direct",r.patchObject="patch object",r.patchFunction="patch function"})(DT||(DT={}));function Lce(){const r=UT(!0),l=r.run(()=>kr({}));let f=[],m=[];const x=eV({install(v){QM(x),x._a=v,v.provide(zq,x),v.config.globalProperties.$pinia=x,m.forEach(w=>f.push(w)),m=[]},use(v){return!this._a&&!Pce?m.push(v):f.push(v),this},_p:f,_a:null,_e:r,_s:new Map,state:l});return x}const Hq=()=>{};function oj(r,l,f,m=Hq){r.push(l);const x=()=>{const v=r.indexOf(l);v>-1&&(r.splice(v,1),m())};return!f&&Qj()&&Ff(x),x}function TS(r,...l){r.slice().forEach(f=>{f(...l)})}const Fce=r=>r(),rj=Symbol(),HH=Symbol();function E9(r,l){r instanceof Map&&l instanceof Map?l.forEach((f,m)=>r.set(m,f)):r instanceof Set&&l instanceof Set&&l.forEach(r.add,r);for(const f in l){if(!l.hasOwnProperty(f))continue;const m=l[f],x=r[f];A9(x)&&A9(m)&&r.hasOwnProperty(f)&&!Ni(m)&&!nw(m)?r[f]=E9(x,m):r[f]=m}return r}const zce=Symbol();function Hce(r){return!A9(r)||!r.hasOwnProperty(zce)}const{assign:D0}=Object;function Vce(r){return!!(Ni(r)&&r.effect)}function $ce(r,l,f,m){const{state:x,actions:v,getters:w}=l,E=f.state.value[r];let F;function P(){E||(f.state.value[r]=x?x():{});const I=WT(f.state.value[r]);return D0(I,v,Object.keys(w||{}).reduce((z,j)=>(z[j]=eV(Tt(()=>{QM(f);const U=f._s.get(r);return w[j].call(U,U)})),z),{}))}return F=Vq(r,P,l,f,m,!0),F}function Vq(r,l,f={},m,x,v){let w;const E=D0({actions:{}},f),F={deep:!0};let P,I,z=[],j=[],U;const J=m.state.value[r];!v&&!J&&(m.state.value[r]={}),kr({});let ne;function ye(He){let Ye;P=I=!1,typeof He=="function"?(He(m.state.value[r]),Ye={type:DT.patchFunction,storeId:r,events:U}):(E9(m.state.value[r],He),Ye={type:DT.patchObject,payload:He,storeId:r,events:U});const gt=ne=Symbol();Pf().then(()=>{ne===gt&&(P=!0)}),I=!0,TS(z,Ye,m.state.value[r])}const pe=v?function(){const{state:Ye}=f,gt=Ye?Ye():{};this.$patch(Se=>{D0(Se,gt)})}:Hq;function We(){w.stop(),z=[],j=[],m._s.delete(r)}const Fe=(He,Ye="")=>{if(rj in He)return He[HH]=Ye,He;const gt=function(){QM(m);const Se=Array.from(arguments),Ne=[],D=[];function Nt(Tn){Ne.push(Tn)}function sn(Tn){D.push(Tn)}TS(j,{args:Se,name:gt[HH],store:Ie,after:Nt,onError:sn});let vn;try{vn=He.apply(this&&this.$id===r?this:Ie,Se)}catch(Tn){throw TS(D,Tn),Tn}return vn instanceof Promise?vn.then(Tn=>(TS(Ne,Tn),Tn)).catch(Tn=>(TS(D,Tn),Promise.reject(Tn))):(TS(Ne,vn),vn)};return gt[rj]=!0,gt[HH]=Ye,gt},ae={_p:m,$id:r,$onAction:oj.bind(null,j),$patch:ye,$reset:pe,$subscribe(He,Ye={}){const gt=oj(z,He,Ye.detached,()=>Se()),Se=w.run(()=>Yo(()=>m.state.value[r],Ne=>{(Ye.flush==="sync"?I:P)&&He({storeId:r,type:DT.direct,events:U},Ne)},D0({},F,Ye)));return gt},$dispose:We},Ie=Jc(ae);m._s.set(r,Ie);const Je=(m._a&&m._a.runWithContext||Fce)(()=>m._e.run(()=>(w=UT()).run(()=>l({action:Fe}))));for(const He in Je){const Ye=Je[He];if(Ni(Ye)&&!Vce(Ye)||nw(Ye))v||(J&&Hce(Ye)&&(Ni(Ye)?Ye.value=J[He]:E9(Ye,J[He])),m.state.value[r][He]=Ye);else if(typeof Ye=="function"){const gt=Fe(Ye,He);Je[He]=gt,E.actions[He]=Ye}}return D0(Ie,Je),D0(To(Ie),Je),Object.defineProperty(Ie,"$state",{get:()=>m.state.value[r],set:He=>{ye(Ye=>{D0(Ye,He)})}}),m._p.forEach(He=>{D0(Ie,w.run(()=>He({store:Ie,app:m._a,pinia:m,options:E})))}),J&&v&&f.hydrate&&f.hydrate(Ie.$state,J),P=!0,I=!0,Ie}function rh(r,l,f){let m,x;const v=typeof l=="function";typeof r=="string"?(m=r,x=v?f:l):(x=r,m=r.id);function w(E,F){const P=gie();return E=E||(P?bl(zq,null):null),E&&QM(E),E=Fq,E._s.has(m)||(v?Vq(m,l,x,E):$ce(m,x,E)),E._s.get(m)}return w.$id=m,w}const Uce=Lce();function Zce(r){r.use(Mce).use(Uce)}var rM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function e8(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function sM(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $q={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(r,l){(function(f){r.exports=f()})(function(){return function f(m,x,v){function w(P,I){if(!x[P]){if(!m[P]){var z=typeof sM=="function"&&sM;if(!I&&z)return z(P,!0);if(E)return E(P,!0);var j=new Error("Cannot find module '"+P+"'");throw j.code="MODULE_NOT_FOUND",j}var U=x[P]={exports:{}};m[P][0].call(U.exports,function(J){var ne=m[P][1][J];return w(ne||J)},U,U.exports,f,m,x,v)}return x[P].exports}for(var E=typeof sM=="function"&&sM,F=0;F<v.length;F++)w(v[F]);return w}({1:[function(f,m,x){(function(v){var w=v.MutationObserver||v.WebKitMutationObserver,E;if(w){var F=0,P=new w(J),I=v.document.createTextNode("");P.observe(I,{characterData:!0}),E=function(){I.data=F=++F%2}}else if(!v.setImmediate&&typeof v.MessageChannel<"u"){var z=new v.MessageChannel;z.port1.onmessage=J,E=function(){z.port2.postMessage(0)}}else"document"in v&&"onreadystatechange"in v.document.createElement("script")?E=function(){var ye=v.document.createElement("script");ye.onreadystatechange=function(){J(),ye.onreadystatechange=null,ye.parentNode.removeChild(ye),ye=null},v.document.documentElement.appendChild(ye)}:E=function(){setTimeout(J,0)};var j,U=[];function J(){j=!0;for(var ye,pe,We=U.length;We;){for(pe=U,U=[],ye=-1;++ye<We;)pe[ye]();We=U.length}j=!1}m.exports=ne;function ne(ye){U.push(ye)===1&&!j&&E()}}).call(this,typeof rM<"u"?rM:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(f,m,x){var v=f(1);function w(){}var E={},F=["REJECTED"],P=["FULFILLED"],I=["PENDING"];m.exports=z;function z(Ie){if(typeof Ie!="function")throw new TypeError("resolver must be a function");this.state=I,this.queue=[],this.outcome=void 0,Ie!==w&&ne(this,Ie)}z.prototype.catch=function(Ie){return this.then(null,Ie)},z.prototype.then=function(Ie,oe){if(typeof Ie!="function"&&this.state===P||typeof oe!="function"&&this.state===F)return this;var Je=new this.constructor(w);if(this.state!==I){var He=this.state===P?Ie:oe;U(Je,He,this.outcome)}else this.queue.push(new j(Je,Ie,oe));return Je};function j(Ie,oe,Je){this.promise=Ie,typeof oe=="function"&&(this.onFulfilled=oe,this.callFulfilled=this.otherCallFulfilled),typeof Je=="function"&&(this.onRejected=Je,this.callRejected=this.otherCallRejected)}j.prototype.callFulfilled=function(Ie){E.resolve(this.promise,Ie)},j.prototype.otherCallFulfilled=function(Ie){U(this.promise,this.onFulfilled,Ie)},j.prototype.callRejected=function(Ie){E.reject(this.promise,Ie)},j.prototype.otherCallRejected=function(Ie){U(this.promise,this.onRejected,Ie)};function U(Ie,oe,Je){v(function(){var He;try{He=oe(Je)}catch(Ye){return E.reject(Ie,Ye)}He===Ie?E.reject(Ie,new TypeError("Cannot resolve promise with itself")):E.resolve(Ie,He)})}E.resolve=function(Ie,oe){var Je=ye(J,oe);if(Je.status==="error")return E.reject(Ie,Je.value);var He=Je.value;if(He)ne(Ie,He);else{Ie.state=P,Ie.outcome=oe;for(var Ye=-1,gt=Ie.queue.length;++Ye<gt;)Ie.queue[Ye].callFulfilled(oe)}return Ie},E.reject=function(Ie,oe){Ie.state=F,Ie.outcome=oe;for(var Je=-1,He=Ie.queue.length;++Je<He;)Ie.queue[Je].callRejected(oe);return Ie};function J(Ie){var oe=Ie&&Ie.then;if(Ie&&(typeof Ie=="object"||typeof Ie=="function")&&typeof oe=="function")return function(){oe.apply(Ie,arguments)}}function ne(Ie,oe){var Je=!1;function He(Ne){Je||(Je=!0,E.reject(Ie,Ne))}function Ye(Ne){Je||(Je=!0,E.resolve(Ie,Ne))}function gt(){oe(Ye,He)}var Se=ye(gt);Se.status==="error"&&He(Se.value)}function ye(Ie,oe){var Je={};try{Je.value=Ie(oe),Je.status="success"}catch(He){Je.status="error",Je.value=He}return Je}z.resolve=pe;function pe(Ie){return Ie instanceof this?Ie:E.resolve(new this(w),Ie)}z.reject=We;function We(Ie){var oe=new this(w);return E.reject(oe,Ie)}z.all=Fe;function Fe(Ie){var oe=this;if(Object.prototype.toString.call(Ie)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Je=Ie.length,He=!1;if(!Je)return this.resolve([]);for(var Ye=new Array(Je),gt=0,Se=-1,Ne=new this(w);++Se<Je;)D(Ie[Se],Se);return Ne;function D(Nt,sn){oe.resolve(Nt).then(vn,function(Tn){He||(He=!0,E.reject(Ne,Tn))});function vn(Tn){Ye[sn]=Tn,++gt===Je&&!He&&(He=!0,E.resolve(Ne,Ye))}}}z.race=ae;function ae(Ie){var oe=this;if(Object.prototype.toString.call(Ie)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Je=Ie.length,He=!1;if(!Je)return this.resolve([]);for(var Ye=-1,gt=new this(w);++Ye<Je;)Se(Ie[Ye]);return gt;function Se(Ne){oe.resolve(Ne).then(function(D){He||(He=!0,E.resolve(gt,D))},function(D){He||(He=!0,E.reject(gt,D))})}}},{1:1}],3:[function(f,m,x){(function(v){typeof v.Promise!="function"&&(v.Promise=f(2))}).call(this,typeof rM<"u"?rM:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(f,m,x){var v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xe){return typeof xe}:function(xe){return xe&&typeof Symbol=="function"&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":typeof xe};function w(xe,Ke){if(!(xe instanceof Ke))throw new TypeError("Cannot call a class as a function")}function E(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var F=E();function P(){try{if(!F||!F.open)return!1;var xe=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Ke=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!xe||Ke)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function I(xe,Ke){xe=xe||[],Ke=Ke||{};try{return new Blob(xe,Ke)}catch($e){if($e.name!=="TypeError")throw $e;for(var Ee=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,at=new Ee,ot=0;ot<xe.length;ot+=1)at.append(xe[ot]);return at.getBlob(Ke.type)}}typeof Promise>"u"&&f(3);var z=Promise;function j(xe,Ke){Ke&&xe.then(function(Ee){Ke(null,Ee)},function(Ee){Ke(Ee)})}function U(xe,Ke,Ee){typeof Ke=="function"&&xe.then(Ke),typeof Ee=="function"&&xe.catch(Ee)}function J(xe){return typeof xe!="string"&&(console.warn(xe+" used as a key, but it is not a string."),xe=String(xe)),xe}function ne(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var ye="local-forage-detect-blob-support",pe=void 0,We={},Fe=Object.prototype.toString,ae="readonly",Ie="readwrite";function oe(xe){for(var Ke=xe.length,Ee=new ArrayBuffer(Ke),at=new Uint8Array(Ee),ot=0;ot<Ke;ot++)at[ot]=xe.charCodeAt(ot);return Ee}function Je(xe){return new z(function(Ke){var Ee=xe.transaction(ye,Ie),at=I([""]);Ee.objectStore(ye).put(at,"key"),Ee.onabort=function(ot){ot.preventDefault(),ot.stopPropagation(),Ke(!1)},Ee.oncomplete=function(){var ot=navigator.userAgent.match(/Chrome\/(\d+)/),$e=navigator.userAgent.match(/Edge\//);Ke($e||!ot||parseInt(ot[1],10)>=43)}}).catch(function(){return!1})}function He(xe){return typeof pe=="boolean"?z.resolve(pe):Je(xe).then(function(Ke){return pe=Ke,pe})}function Ye(xe){var Ke=We[xe.name],Ee={};Ee.promise=new z(function(at,ot){Ee.resolve=at,Ee.reject=ot}),Ke.deferredOperations.push(Ee),Ke.dbReady?Ke.dbReady=Ke.dbReady.then(function(){return Ee.promise}):Ke.dbReady=Ee.promise}function gt(xe){var Ke=We[xe.name],Ee=Ke.deferredOperations.pop();if(Ee)return Ee.resolve(),Ee.promise}function Se(xe,Ke){var Ee=We[xe.name],at=Ee.deferredOperations.pop();if(at)return at.reject(Ke),at.promise}function Ne(xe,Ke){return new z(function(Ee,at){if(We[xe.name]=We[xe.name]||yt(),xe.db)if(Ke)Ye(xe),xe.db.close();else return Ee(xe.db);var ot=[xe.name];Ke&&ot.push(xe.version);var $e=F.open.apply(F,ot);Ke&&($e.onupgradeneeded=function(Ft){var Jt=$e.result;try{Jt.createObjectStore(xe.storeName),Ft.oldVersion<=1&&Jt.createObjectStore(ye)}catch(an){if(an.name==="ConstraintError")console.warn('The database "'+xe.name+'" has been upgraded from version '+Ft.oldVersion+" to version "+Ft.newVersion+', but the storage "'+xe.storeName+'" already exists.');else throw an}}),$e.onerror=function(Ft){Ft.preventDefault(),at($e.error)},$e.onsuccess=function(){var Ft=$e.result;Ft.onversionchange=function(Jt){Jt.target.close()},Ee(Ft),gt(xe)}})}function D(xe){return Ne(xe,!1)}function Nt(xe){return Ne(xe,!0)}function sn(xe,Ke){if(!xe.db)return!0;var Ee=!xe.db.objectStoreNames.contains(xe.storeName),at=xe.version<xe.db.version,ot=xe.version>xe.db.version;if(at&&(xe.version!==Ke&&console.warn('The database "'+xe.name+`" can't be downgraded from version `+xe.db.version+" to version "+xe.version+"."),xe.version=xe.db.version),ot||Ee){if(Ee){var $e=xe.db.version+1;$e>xe.version&&(xe.version=$e)}return!0}return!1}function vn(xe){return new z(function(Ke,Ee){var at=new FileReader;at.onerror=Ee,at.onloadend=function(ot){var $e=btoa(ot.target.result||"");Ke({__local_forage_encoded_blob:!0,data:$e,type:xe.type})},at.readAsBinaryString(xe)})}function Tn(xe){var Ke=oe(atob(xe.data));return I([Ke],{type:xe.type})}function rt(xe){return xe&&xe.__local_forage_encoded_blob}function Un(xe){var Ke=this,Ee=Ke._initReady().then(function(){var at=We[Ke._dbInfo.name];if(at&&at.dbReady)return at.dbReady});return U(Ee,xe,xe),Ee}function Hr(xe){Ye(xe);for(var Ke=We[xe.name],Ee=Ke.forages,at=0;at<Ee.length;at++){var ot=Ee[at];ot._dbInfo.db&&(ot._dbInfo.db.close(),ot._dbInfo.db=null)}return xe.db=null,D(xe).then(function($e){return xe.db=$e,sn(xe)?Nt(xe):$e}).then(function($e){xe.db=Ke.db=$e;for(var Ft=0;Ft<Ee.length;Ft++)Ee[Ft]._dbInfo.db=$e}).catch(function($e){throw Se(xe,$e),$e})}function xt(xe,Ke,Ee,at){at===void 0&&(at=1);try{var ot=xe.db.transaction(xe.storeName,Ke);Ee(null,ot)}catch($e){if(at>0&&(!xe.db||$e.name==="InvalidStateError"||$e.name==="NotFoundError"))return z.resolve().then(function(){if(!xe.db||$e.name==="NotFoundError"&&!xe.db.objectStoreNames.contains(xe.storeName)&&xe.version<=xe.db.version)return xe.db&&(xe.version=xe.db.version+1),Nt(xe)}).then(function(){return Hr(xe).then(function(){xt(xe,Ke,Ee,at-1)})}).catch(Ee);Ee($e)}}function yt(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function qt(xe){var Ke=this,Ee={db:null};if(xe)for(var at in xe)Ee[at]=xe[at];var ot=We[Ee.name];ot||(ot=yt(),We[Ee.name]=ot),ot.forages.push(Ke),Ke._initReady||(Ke._initReady=Ke.ready,Ke.ready=Un);var $e=[];function Ft(){return z.resolve()}for(var Jt=0;Jt<ot.forages.length;Jt++){var an=ot.forages[Jt];an!==Ke&&$e.push(an._initReady().catch(Ft))}var fn=ot.forages.slice(0);return z.all($e).then(function(){return Ee.db=ot.db,D(Ee)}).then(function(on){return Ee.db=on,sn(Ee,Ke._defaultConfig.version)?Nt(Ee):on}).then(function(on){Ee.db=ot.db=on,Ke._dbInfo=Ee;for(var ro=0;ro<fn.length;ro++){var tn=fn[ro];tn!==Ke&&(tn._dbInfo.db=Ee.db,tn._dbInfo.version=Ee.version)}})}function $r(xe,Ke){var Ee=this;xe=J(xe);var at=new z(function(ot,$e){Ee.ready().then(function(){xt(Ee._dbInfo,ae,function(Ft,Jt){if(Ft)return $e(Ft);try{var an=Jt.objectStore(Ee._dbInfo.storeName),fn=an.get(xe);fn.onsuccess=function(){var on=fn.result;on===void 0&&(on=null),rt(on)&&(on=Tn(on)),ot(on)},fn.onerror=function(){$e(fn.error)}}catch(on){$e(on)}})}).catch($e)});return j(at,Ke),at}function xo(xe,Ke){var Ee=this,at=new z(function(ot,$e){Ee.ready().then(function(){xt(Ee._dbInfo,ae,function(Ft,Jt){if(Ft)return $e(Ft);try{var an=Jt.objectStore(Ee._dbInfo.storeName),fn=an.openCursor(),on=1;fn.onsuccess=function(){var ro=fn.result;if(ro){var tn=ro.value;rt(tn)&&(tn=Tn(tn));var rr=xe(tn,ro.key,on++);rr!==void 0?ot(rr):ro.continue()}else ot()},fn.onerror=function(){$e(fn.error)}}catch(ro){$e(ro)}})}).catch($e)});return j(at,Ke),at}function Sn(xe,Ke,Ee){var at=this;xe=J(xe);var ot=new z(function($e,Ft){var Jt;at.ready().then(function(){return Jt=at._dbInfo,Fe.call(Ke)==="[object Blob]"?He(Jt.db).then(function(an){return an?Ke:vn(Ke)}):Ke}).then(function(an){xt(at._dbInfo,Ie,function(fn,on){if(fn)return Ft(fn);try{var ro=on.objectStore(at._dbInfo.storeName);an===null&&(an=void 0);var tn=ro.put(an,xe);on.oncomplete=function(){an===void 0&&(an=null),$e(an)},on.onabort=on.onerror=function(){var rr=tn.error?tn.error:tn.transaction.error;Ft(rr)}}catch(rr){Ft(rr)}})}).catch(Ft)});return j(ot,Ee),ot}function Mn(xe,Ke){var Ee=this;xe=J(xe);var at=new z(function(ot,$e){Ee.ready().then(function(){xt(Ee._dbInfo,Ie,function(Ft,Jt){if(Ft)return $e(Ft);try{var an=Jt.objectStore(Ee._dbInfo.storeName),fn=an.delete(xe);Jt.oncomplete=function(){ot()},Jt.onerror=function(){$e(fn.error)},Jt.onabort=function(){var on=fn.error?fn.error:fn.transaction.error;$e(on)}}catch(on){$e(on)}})}).catch($e)});return j(at,Ke),at}function X(xe){var Ke=this,Ee=new z(function(at,ot){Ke.ready().then(function(){xt(Ke._dbInfo,Ie,function($e,Ft){if($e)return ot($e);try{var Jt=Ft.objectStore(Ke._dbInfo.storeName),an=Jt.clear();Ft.oncomplete=function(){at()},Ft.onabort=Ft.onerror=function(){var fn=an.error?an.error:an.transaction.error;ot(fn)}}catch(fn){ot(fn)}})}).catch(ot)});return j(Ee,xe),Ee}function nr(xe){var Ke=this,Ee=new z(function(at,ot){Ke.ready().then(function(){xt(Ke._dbInfo,ae,function($e,Ft){if($e)return ot($e);try{var Jt=Ft.objectStore(Ke._dbInfo.storeName),an=Jt.count();an.onsuccess=function(){at(an.result)},an.onerror=function(){ot(an.error)}}catch(fn){ot(fn)}})}).catch(ot)});return j(Ee,xe),Ee}function pr(xe,Ke){var Ee=this,at=new z(function(ot,$e){if(xe<0){ot(null);return}Ee.ready().then(function(){xt(Ee._dbInfo,ae,function(Ft,Jt){if(Ft)return $e(Ft);try{var an=Jt.objectStore(Ee._dbInfo.storeName),fn=!1,on=an.openKeyCursor();on.onsuccess=function(){var ro=on.result;if(!ro){ot(null);return}xe===0||fn?ot(ro.key):(fn=!0,ro.advance(xe))},on.onerror=function(){$e(on.error)}}catch(ro){$e(ro)}})}).catch($e)});return j(at,Ke),at}function jo(xe){var Ke=this,Ee=new z(function(at,ot){Ke.ready().then(function(){xt(Ke._dbInfo,ae,function($e,Ft){if($e)return ot($e);try{var Jt=Ft.objectStore(Ke._dbInfo.storeName),an=Jt.openKeyCursor(),fn=[];an.onsuccess=function(){var on=an.result;if(!on){at(fn);return}fn.push(on.key),on.continue()},an.onerror=function(){ot(an.error)}}catch(on){ot(on)}})}).catch(ot)});return j(Ee,xe),Ee}function Qi(xe,Ke){Ke=ne.apply(this,arguments);var Ee=this.config();xe=typeof xe!="function"&&xe||{},xe.name||(xe.name=xe.name||Ee.name,xe.storeName=xe.storeName||Ee.storeName);var at=this,ot;if(!xe.name)ot=z.reject("Invalid arguments");else{var $e=xe.name===Ee.name&&at._dbInfo.db,Ft=$e?z.resolve(at._dbInfo.db):D(xe).then(function(Jt){var an=We[xe.name],fn=an.forages;an.db=Jt;for(var on=0;on<fn.length;on++)fn[on]._dbInfo.db=Jt;return Jt});xe.storeName?ot=Ft.then(function(Jt){if(Jt.objectStoreNames.contains(xe.storeName)){var an=Jt.version+1;Ye(xe);var fn=We[xe.name],on=fn.forages;Jt.close();for(var ro=0;ro<on.length;ro++){var tn=on[ro];tn._dbInfo.db=null,tn._dbInfo.version=an}var rr=new z(function(_o,No){var cs=F.open(xe.name,an);cs.onerror=function(mo){var cl=cs.result;cl.close(),No(mo)},cs.onupgradeneeded=function(){var mo=cs.result;mo.deleteObjectStore(xe.storeName)},cs.onsuccess=function(){var mo=cs.result;mo.close(),_o(mo)}});return rr.then(function(_o){fn.db=_o;for(var No=0;No<on.length;No++){var cs=on[No];cs._dbInfo.db=_o,gt(cs._dbInfo)}}).catch(function(_o){throw(Se(xe,_o)||z.resolve()).catch(function(){}),_o})}}):ot=Ft.then(function(Jt){Ye(xe);var an=We[xe.name],fn=an.forages;Jt.close();for(var on=0;on<fn.length;on++){var ro=fn[on];ro._dbInfo.db=null}var tn=new z(function(rr,_o){var No=F.deleteDatabase(xe.name);No.onerror=function(){var cs=No.result;cs&&cs.close(),_o(No.error)},No.onblocked=function(){console.warn('dropInstance blocked for database "'+xe.name+'" until all open connections are closed')},No.onsuccess=function(){var cs=No.result;cs&&cs.close(),rr(cs)}});return tn.then(function(rr){an.db=rr;for(var _o=0;_o<fn.length;_o++){var No=fn[_o];gt(No._dbInfo)}}).catch(function(rr){throw(Se(xe,rr)||z.resolve()).catch(function(){}),rr})})}return j(ot,Ke),ot}var Ue={_driver:"asyncStorage",_initStorage:qt,_support:P(),iterate:xo,getItem:$r,setItem:Sn,removeItem:Mn,clear:X,length:nr,key:pr,keys:jo,dropInstance:Qi};function ve(){return typeof openDatabase=="function"}var De="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tt="~~local_forage_type~",_e=/^~~local_forage_type~([^~]+)~/,It="__lfsc__:",en=It.length,_t="arbf",Yt="blob",je="si08",et="ui08",Bt="uic8",Mt="si16",Gt="si32",xn="ur16",eo="ui32",fo="fl32",po="fl64",Ko=en+_t.length,yo=Object.prototype.toString;function Ar(xe){var Ke=xe.length*.75,Ee=xe.length,at,ot=0,$e,Ft,Jt,an;xe[xe.length-1]==="="&&(Ke--,xe[xe.length-2]==="="&&Ke--);var fn=new ArrayBuffer(Ke),on=new Uint8Array(fn);for(at=0;at<Ee;at+=4)$e=De.indexOf(xe[at]),Ft=De.indexOf(xe[at+1]),Jt=De.indexOf(xe[at+2]),an=De.indexOf(xe[at+3]),on[ot++]=$e<<2|Ft>>4,on[ot++]=(Ft&15)<<4|Jt>>2,on[ot++]=(Jt&3)<<6|an&63;return fn}function jt(xe){var Ke=new Uint8Array(xe),Ee="",at;for(at=0;at<Ke.length;at+=3)Ee+=De[Ke[at]>>2],Ee+=De[(Ke[at]&3)<<4|Ke[at+1]>>4],Ee+=De[(Ke[at+1]&15)<<2|Ke[at+2]>>6],Ee+=De[Ke[at+2]&63];return Ke.length%3===2?Ee=Ee.substring(0,Ee.length-1)+"=":Ke.length%3===1&&(Ee=Ee.substring(0,Ee.length-2)+"=="),Ee}function ao(xe,Ke){var Ee="";if(xe&&(Ee=yo.call(xe)),xe&&(Ee==="[object ArrayBuffer]"||xe.buffer&&yo.call(xe.buffer)==="[object ArrayBuffer]")){var at,ot=It;xe instanceof ArrayBuffer?(at=xe,ot+=_t):(at=xe.buffer,Ee==="[object Int8Array]"?ot+=je:Ee==="[object Uint8Array]"?ot+=et:Ee==="[object Uint8ClampedArray]"?ot+=Bt:Ee==="[object Int16Array]"?ot+=Mt:Ee==="[object Uint16Array]"?ot+=xn:Ee==="[object Int32Array]"?ot+=Gt:Ee==="[object Uint32Array]"?ot+=eo:Ee==="[object Float32Array]"?ot+=fo:Ee==="[object Float64Array]"?ot+=po:Ke(new Error("Failed to get type for BinaryArray"))),Ke(ot+jt(at))}else if(Ee==="[object Blob]"){var $e=new FileReader;$e.onload=function(){var Ft=tt+xe.type+"~"+jt(this.result);Ke(It+Yt+Ft)},$e.readAsArrayBuffer(xe)}else try{Ke(JSON.stringify(xe))}catch(Ft){console.error("Couldn't convert value into a JSON string: ",xe),Ke(null,Ft)}}function so(xe){if(xe.substring(0,en)!==It)return JSON.parse(xe);var Ke=xe.substring(Ko),Ee=xe.substring(en,Ko),at;if(Ee===Yt&&_e.test(Ke)){var ot=Ke.match(_e);at=ot[1],Ke=Ke.substring(ot[0].length)}var $e=Ar(Ke);switch(Ee){case _t:return $e;case Yt:return I([$e],{type:at});case je:return new Int8Array($e);case et:return new Uint8Array($e);case Bt:return new Uint8ClampedArray($e);case Mt:return new Int16Array($e);case xn:return new Uint16Array($e);case Gt:return new Int32Array($e);case eo:return new Uint32Array($e);case fo:return new Float32Array($e);case po:return new Float64Array($e);default:throw new Error("Unkown type: "+Ee)}}var Nr={serialize:ao,deserialize:so,stringToBuffer:Ar,bufferToString:jt};function Ms(xe,Ke,Ee,at){xe.executeSql("CREATE TABLE IF NOT EXISTS "+Ke.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Ee,at)}function Ht(xe){var Ke=this,Ee={db:null};if(xe)for(var at in xe)Ee[at]=typeof xe[at]!="string"?xe[at].toString():xe[at];var ot=new z(function($e,Ft){try{Ee.db=openDatabase(Ee.name,String(Ee.version),Ee.description,Ee.size)}catch(Jt){return Ft(Jt)}Ee.db.transaction(function(Jt){Ms(Jt,Ee,function(){Ke._dbInfo=Ee,$e()},function(an,fn){Ft(fn)})},Ft)});return Ee.serializer=Nr,ot}function Ks(xe,Ke,Ee,at,ot,$e){xe.executeSql(Ee,at,ot,function(Ft,Jt){Jt.code===Jt.SYNTAX_ERR?Ft.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Ke.storeName],function(an,fn){fn.rows.length?$e(an,Jt):Ms(an,Ke,function(){an.executeSql(Ee,at,ot,$e)},$e)},$e):$e(Ft,Jt)},$e)}function $o(xe,Ke){var Ee=this;xe=J(xe);var at=new z(function(ot,$e){Ee.ready().then(function(){var Ft=Ee._dbInfo;Ft.db.transaction(function(Jt){Ks(Jt,Ft,"SELECT * FROM "+Ft.storeName+" WHERE key = ? LIMIT 1",[xe],function(an,fn){var on=fn.rows.length?fn.rows.item(0).value:null;on&&(on=Ft.serializer.deserialize(on)),ot(on)},function(an,fn){$e(fn)})})}).catch($e)});return j(at,Ke),at}function vl(xe,Ke){var Ee=this,at=new z(function(ot,$e){Ee.ready().then(function(){var Ft=Ee._dbInfo;Ft.db.transaction(function(Jt){Ks(Jt,Ft,"SELECT * FROM "+Ft.storeName,[],function(an,fn){for(var on=fn.rows,ro=on.length,tn=0;tn<ro;tn++){var rr=on.item(tn),_o=rr.value;if(_o&&(_o=Ft.serializer.deserialize(_o)),_o=xe(_o,rr.key,tn+1),_o!==void 0){ot(_o);return}}ot()},function(an,fn){$e(fn)})})}).catch($e)});return j(at,Ke),at}function yr(xe,Ke,Ee,at){var ot=this;xe=J(xe);var $e=new z(function(Ft,Jt){ot.ready().then(function(){Ke===void 0&&(Ke=null);var an=Ke,fn=ot._dbInfo;fn.serializer.serialize(Ke,function(on,ro){ro?Jt(ro):fn.db.transaction(function(tn){Ks(tn,fn,"INSERT OR REPLACE INTO "+fn.storeName+" (key, value) VALUES (?, ?)",[xe,on],function(){Ft(an)},function(rr,_o){Jt(_o)})},function(tn){if(tn.code===tn.QUOTA_ERR){if(at>0){Ft(yr.apply(ot,[xe,an,Ee,at-1]));return}Jt(tn)}})})}).catch(Jt)});return j($e,Ee),$e}function Ps(xe,Ke,Ee){return yr.apply(this,[xe,Ke,Ee,1])}function Vf(xe,Ke){var Ee=this;xe=J(xe);var at=new z(function(ot,$e){Ee.ready().then(function(){var Ft=Ee._dbInfo;Ft.db.transaction(function(Jt){Ks(Jt,Ft,"DELETE FROM "+Ft.storeName+" WHERE key = ?",[xe],function(){ot()},function(an,fn){$e(fn)})})}).catch($e)});return j(at,Ke),at}function tu(xe){var Ke=this,Ee=new z(function(at,ot){Ke.ready().then(function(){var $e=Ke._dbInfo;$e.db.transaction(function(Ft){Ks(Ft,$e,"DELETE FROM "+$e.storeName,[],function(){at()},function(Jt,an){ot(an)})})}).catch(ot)});return j(Ee,xe),Ee}function ql(xe){var Ke=this,Ee=new z(function(at,ot){Ke.ready().then(function(){var $e=Ke._dbInfo;$e.db.transaction(function(Ft){Ks(Ft,$e,"SELECT COUNT(key) as c FROM "+$e.storeName,[],function(Jt,an){var fn=an.rows.item(0).c;at(fn)},function(Jt,an){ot(an)})})}).catch(ot)});return j(Ee,xe),Ee}function Wa(xe,Ke){var Ee=this,at=new z(function(ot,$e){Ee.ready().then(function(){var Ft=Ee._dbInfo;Ft.db.transaction(function(Jt){Ks(Jt,Ft,"SELECT key FROM "+Ft.storeName+" WHERE id = ? LIMIT 1",[xe+1],function(an,fn){var on=fn.rows.length?fn.rows.item(0).key:null;ot(on)},function(an,fn){$e(fn)})})}).catch($e)});return j(at,Ke),at}function nu(xe){var Ke=this,Ee=new z(function(at,ot){Ke.ready().then(function(){var $e=Ke._dbInfo;$e.db.transaction(function(Ft){Ks(Ft,$e,"SELECT key FROM "+$e.storeName,[],function(Jt,an){for(var fn=[],on=0;on<an.rows.length;on++)fn.push(an.rows.item(on).key);at(fn)},function(Jt,an){ot(an)})})}).catch(ot)});return j(Ee,xe),Ee}function ar(xe){return new z(function(Ke,Ee){xe.transaction(function(at){at.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ot,$e){for(var Ft=[],Jt=0;Jt<$e.rows.length;Jt++)Ft.push($e.rows.item(Jt).name);Ke({db:xe,storeNames:Ft})},function(ot,$e){Ee($e)})},function(at){Ee(at)})})}function Yn(xe,Ke){Ke=ne.apply(this,arguments);var Ee=this.config();xe=typeof xe!="function"&&xe||{},xe.name||(xe.name=xe.name||Ee.name,xe.storeName=xe.storeName||Ee.storeName);var at=this,ot;return xe.name?ot=new z(function($e){var Ft;xe.name===Ee.name?Ft=at._dbInfo.db:Ft=openDatabase(xe.name,"","",0),xe.storeName?$e({db:Ft,storeNames:[xe.storeName]}):$e(ar(Ft))}).then(function($e){return new z(function(Ft,Jt){$e.db.transaction(function(an){function fn(rr){return new z(function(_o,No){an.executeSql("DROP TABLE IF EXISTS "+rr,[],function(){_o()},function(cs,mo){No(mo)})})}for(var on=[],ro=0,tn=$e.storeNames.length;ro<tn;ro++)on.push(fn($e.storeNames[ro]));z.all(on).then(function(){Ft()}).catch(function(rr){Jt(rr)})},function(an){Jt(an)})})}):ot=z.reject("Invalid arguments"),j(ot,Ke),ot}var xl={_driver:"webSQLStorage",_initStorage:Ht,_support:ve(),iterate:vl,getItem:$o,setItem:Ps,removeItem:Vf,clear:tu,length:ql,key:Wa,keys:nu,dropInstance:Yn};function ci(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function ou(xe,Ke){var Ee=xe.name+"/";return xe.storeName!==Ke.storeName&&(Ee+=xe.storeName+"/"),Ee}function nn(){var xe="_localforage_support_test";try{return localStorage.setItem(xe,!0),localStorage.removeItem(xe),!1}catch{return!0}}function ru(){return!nn()||localStorage.length>0}function $f(xe){var Ke=this,Ee={};if(xe)for(var at in xe)Ee[at]=xe[at];return Ee.keyPrefix=ou(xe,Ke._defaultConfig),ru()?(Ke._dbInfo=Ee,Ee.serializer=Nr,z.resolve()):z.reject()}function Xr(xe){var Ke=this,Ee=Ke.ready().then(function(){for(var at=Ke._dbInfo.keyPrefix,ot=localStorage.length-1;ot>=0;ot--){var $e=localStorage.key(ot);$e.indexOf(at)===0&&localStorage.removeItem($e)}});return j(Ee,xe),Ee}function Uf(xe,Ke){var Ee=this;xe=J(xe);var at=Ee.ready().then(function(){var ot=Ee._dbInfo,$e=localStorage.getItem(ot.keyPrefix+xe);return $e&&($e=ot.serializer.deserialize($e)),$e});return j(at,Ke),at}function Aa(xe,Ke){var Ee=this,at=Ee.ready().then(function(){for(var ot=Ee._dbInfo,$e=ot.keyPrefix,Ft=$e.length,Jt=localStorage.length,an=1,fn=0;fn<Jt;fn++){var on=localStorage.key(fn);if(on.indexOf($e)===0){var ro=localStorage.getItem(on);if(ro&&(ro=ot.serializer.deserialize(ro)),ro=xe(ro,on.substring(Ft),an++),ro!==void 0)return ro}}});return j(at,Ke),at}function al(xe,Ke){var Ee=this,at=Ee.ready().then(function(){var ot=Ee._dbInfo,$e;try{$e=localStorage.key(xe)}catch{$e=null}return $e&&($e=$e.substring(ot.keyPrefix.length)),$e});return j(at,Ke),at}function ja(xe){var Ke=this,Ee=Ke.ready().then(function(){for(var at=Ke._dbInfo,ot=localStorage.length,$e=[],Ft=0;Ft<ot;Ft++){var Jt=localStorage.key(Ft);Jt.indexOf(at.keyPrefix)===0&&$e.push(Jt.substring(at.keyPrefix.length))}return $e});return j(Ee,xe),Ee}function Ur(xe){var Ke=this,Ee=Ke.keys().then(function(at){return at.length});return j(Ee,xe),Ee}function ea(xe,Ke){var Ee=this;xe=J(xe);var at=Ee.ready().then(function(){var ot=Ee._dbInfo;localStorage.removeItem(ot.keyPrefix+xe)});return j(at,Ke),at}function ll(xe,Ke,Ee){var at=this;xe=J(xe);var ot=at.ready().then(function(){Ke===void 0&&(Ke=null);var $e=Ke;return new z(function(Ft,Jt){var an=at._dbInfo;an.serializer.serialize(Ke,function(fn,on){if(on)Jt(on);else try{localStorage.setItem(an.keyPrefix+xe,fn),Ft($e)}catch(ro){(ro.name==="QuotaExceededError"||ro.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Jt(ro),Jt(ro)}})})});return j(ot,Ee),ot}function Zf(xe,Ke){if(Ke=ne.apply(this,arguments),xe=typeof xe!="function"&&xe||{},!xe.name){var Ee=this.config();xe.name=xe.name||Ee.name,xe.storeName=xe.storeName||Ee.storeName}var at=this,ot;return xe.name?ot=new z(function($e){xe.storeName?$e(ou(xe,at._defaultConfig)):$e(xe.name+"/")}).then(function($e){for(var Ft=localStorage.length-1;Ft>=0;Ft--){var Jt=localStorage.key(Ft);Jt.indexOf($e)===0&&localStorage.removeItem(Jt)}}):ot=z.reject("Invalid arguments"),j(ot,Ke),ot}var yc={_driver:"localStorageWrapper",_initStorage:$f,_support:ci(),iterate:Aa,getItem:Uf,setItem:ll,removeItem:ea,clear:Xr,length:Ur,key:al,keys:ja,dropInstance:Zf},wc=function(Ke,Ee){return Ke===Ee||typeof Ke=="number"&&typeof Ee=="number"&&isNaN(Ke)&&isNaN(Ee)},Nd=function(Ke,Ee){for(var at=Ke.length,ot=0;ot<at;){if(wc(Ke[ot],Ee))return!0;ot++}return!1},Uu=Array.isArray||function(xe){return Object.prototype.toString.call(xe)==="[object Array]"},Uo={},bs={},$s={INDEXEDDB:Ue,WEBSQL:xl,LOCALSTORAGE:yc},Wf=[$s.INDEXEDDB._driver,$s.WEBSQL._driver,$s.LOCALSTORAGE._driver],Ea=["dropInstance"],Cc=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ea),ta={description:"",driver:Wf.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function na(xe,Ke){xe[Ke]=function(){var Ee=arguments;return xe.ready().then(function(){return xe[Ke].apply(xe,Ee)})}}function _c(){for(var xe=1;xe<arguments.length;xe++){var Ke=arguments[xe];if(Ke)for(var Ee in Ke)Ke.hasOwnProperty(Ee)&&(Uu(Ke[Ee])?arguments[0][Ee]=Ke[Ee].slice():arguments[0][Ee]=Ke[Ee])}return arguments[0]}var dr=function(){function xe(Ke){w(this,xe);for(var Ee in $s)if($s.hasOwnProperty(Ee)){var at=$s[Ee],ot=at._driver;this[Ee]=ot,Uo[ot]||this.defineDriver(at)}this._defaultConfig=_c({},ta),this._config=_c({},this._defaultConfig,Ke),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return xe.prototype.config=function(Ee){if((typeof Ee>"u"?"undefined":v(Ee))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var at in Ee){if(at==="storeName"&&(Ee[at]=Ee[at].replace(/\W/g,"_")),at==="version"&&typeof Ee[at]!="number")return new Error("Database version must be a number.");this._config[at]=Ee[at]}return"driver"in Ee&&Ee.driver?this.setDriver(this._config.driver):!0}else return typeof Ee=="string"?this._config[Ee]:this._config},xe.prototype.defineDriver=function(Ee,at,ot){var $e=new z(function(Ft,Jt){try{var an=Ee._driver,fn=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Ee._driver){Jt(fn);return}for(var on=Cc.concat("_initStorage"),ro=0,tn=on.length;ro<tn;ro++){var rr=on[ro],_o=!Nd(Ea,rr);if((_o||Ee[rr])&&typeof Ee[rr]!="function"){Jt(fn);return}}var No=function(){for(var cl=function(os){return function(){var Zu=new Error("Method "+os+" is not implemented by the current driver"),_s=z.reject(Zu);return j(_s,arguments[arguments.length-1]),_s}},Bi=0,Jn=Ea.length;Bi<Jn;Bi++){var Ta=Ea[Bi];Ee[Ta]||(Ee[Ta]=cl(Ta))}};No();var cs=function(cl){Uo[an]&&console.info("Redefining LocalForage driver: "+an),Uo[an]=Ee,bs[an]=cl,Ft()};"_support"in Ee?Ee._support&&typeof Ee._support=="function"?Ee._support().then(cs,Jt):cs(!!Ee._support):cs(!0)}catch(mo){Jt(mo)}});return U($e,at,ot),$e},xe.prototype.driver=function(){return this._driver||null},xe.prototype.getDriver=function(Ee,at,ot){var $e=Uo[Ee]?z.resolve(Uo[Ee]):z.reject(new Error("Driver not found."));return U($e,at,ot),$e},xe.prototype.getSerializer=function(Ee){var at=z.resolve(Nr);return U(at,Ee),at},xe.prototype.ready=function(Ee){var at=this,ot=at._driverSet.then(function(){return at._ready===null&&(at._ready=at._initDriver()),at._ready});return U(ot,Ee,Ee),ot},xe.prototype.setDriver=function(Ee,at,ot){var $e=this;Uu(Ee)||(Ee=[Ee]);var Ft=this._getSupportedDrivers(Ee);function Jt(){$e._config.driver=$e.driver()}function an(ro){return $e._extend(ro),Jt(),$e._ready=$e._initStorage($e._config),$e._ready}function fn(ro){return function(){var tn=0;function rr(){for(;tn<ro.length;){var _o=ro[tn];return tn++,$e._dbInfo=null,$e._ready=null,$e.getDriver(_o).then(an).catch(rr)}Jt();var No=new Error("No available storage method found.");return $e._driverSet=z.reject(No),$e._driverSet}return rr()}}var on=this._driverSet!==null?this._driverSet.catch(function(){return z.resolve()}):z.resolve();return this._driverSet=on.then(function(){var ro=Ft[0];return $e._dbInfo=null,$e._ready=null,$e.getDriver(ro).then(function(tn){$e._driver=tn._driver,Jt(),$e._wrapLibraryMethodsWithReady(),$e._initDriver=fn(Ft)})}).catch(function(){Jt();var ro=new Error("No available storage method found.");return $e._driverSet=z.reject(ro),$e._driverSet}),U(this._driverSet,at,ot),this._driverSet},xe.prototype.supports=function(Ee){return!!bs[Ee]},xe.prototype._extend=function(Ee){_c(this,Ee)},xe.prototype._getSupportedDrivers=function(Ee){for(var at=[],ot=0,$e=Ee.length;ot<$e;ot++){var Ft=Ee[ot];this.supports(Ft)&&at.push(Ft)}return at},xe.prototype._wrapLibraryMethodsWithReady=function(){for(var Ee=0,at=Cc.length;Ee<at;Ee++)na(this,Cc[Ee])},xe.prototype.createInstance=function(Ee){return new xe(Ee)},xe}(),Zr=new dr;m.exports=Zr},{3:3}]},{},[4])(4)})})($q);var Wce=$q.exports;const D1=e8(Wce);function Uq(r,l){return function(){return r.apply(l,arguments)}}const{toString:jce}=Object.prototype,{getPrototypeOf:CV}=Object,t8=(r=>l=>{const f=jce.call(l);return r[f]||(r[f]=f.slice(8,-1).toLowerCase())})(Object.create(null)),sh=r=>(r=r.toLowerCase(),l=>t8(l)===r),n8=r=>l=>typeof l===r,{isArray:jS}=Array,FT=n8("undefined");function Kce(r){return r!==null&&!FT(r)&&r.constructor!==null&&!FT(r.constructor)&&Bf(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Zq=sh("ArrayBuffer");function qce(r){let l;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?l=ArrayBuffer.isView(r):l=r&&r.buffer&&Zq(r.buffer),l}const Gce=n8("string"),Bf=n8("function"),Wq=n8("number"),o8=r=>r!==null&&typeof r=="object",Yce=r=>r===!0||r===!1,hM=r=>{if(t8(r)!=="object")return!1;const l=CV(r);return(l===null||l===Object.prototype||Object.getPrototypeOf(l)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Xce=sh("Date"),Jce=sh("File"),Qce=sh("Blob"),eue=sh("FileList"),tue=r=>o8(r)&&Bf(r.pipe),nue=r=>{let l;return r&&(typeof FormData=="function"&&r instanceof FormData||Bf(r.append)&&((l=t8(r))==="formdata"||l==="object"&&Bf(r.toString)&&r.toString()==="[object FormData]"))},oue=sh("URLSearchParams"),[rue,sue,iue,aue]=["ReadableStream","Request","Response","Headers"].map(sh),lue=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function GT(r,l,{allOwnKeys:f=!1}={}){if(r===null||typeof r>"u")return;let m,x;if(typeof r!="object"&&(r=[r]),jS(r))for(m=0,x=r.length;m<x;m++)l.call(null,r[m],m,r);else{const v=f?Object.getOwnPropertyNames(r):Object.keys(r),w=v.length;let E;for(m=0;m<w;m++)E=v[m],l.call(null,r[E],E,r)}}function jq(r,l){l=l.toLowerCase();const f=Object.keys(r);let m=f.length,x;for(;m-- >0;)if(x=f[m],l===x.toLowerCase())return x;return null}const Q2=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Kq=r=>!FT(r)&&r!==Q2;function T9(){const{caseless:r}=Kq(this)&&this||{},l={},f=(m,x)=>{const v=r&&jq(l,x)||x;hM(l[v])&&hM(m)?l[v]=T9(l[v],m):hM(m)?l[v]=T9({},m):jS(m)?l[v]=m.slice():l[v]=m};for(let m=0,x=arguments.length;m<x;m++)arguments[m]&&GT(arguments[m],f);return l}const cue=(r,l,f,{allOwnKeys:m}={})=>(GT(l,(x,v)=>{f&&Bf(x)?r[v]=Uq(x,f):r[v]=x},{allOwnKeys:m}),r),uue=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),due=(r,l,f,m)=>{r.prototype=Object.create(l.prototype,m),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:l.prototype}),f&&Object.assign(r.prototype,f)},fue=(r,l,f,m)=>{let x,v,w;const E={};if(l=l||{},r==null)return l;do{for(x=Object.getOwnPropertyNames(r),v=x.length;v-- >0;)w=x[v],(!m||m(w,r,l))&&!E[w]&&(l[w]=r[w],E[w]=!0);r=f!==!1&&CV(r)}while(r&&(!f||f(r,l))&&r!==Object.prototype);return l},mue=(r,l,f)=>{r=String(r),(f===void 0||f>r.length)&&(f=r.length),f-=l.length;const m=r.indexOf(l,f);return m!==-1&&m===f},gue=r=>{if(!r)return null;if(jS(r))return r;let l=r.length;if(!Wq(l))return null;const f=new Array(l);for(;l-- >0;)f[l]=r[l];return f},hue=(r=>l=>r&&l instanceof r)(typeof Uint8Array<"u"&&CV(Uint8Array)),pue=(r,l)=>{const m=(r&&r[Symbol.iterator]).call(r);let x;for(;(x=m.next())&&!x.done;){const v=x.value;l.call(r,v[0],v[1])}},bue=(r,l)=>{let f;const m=[];for(;(f=r.exec(l))!==null;)m.push(f);return m},vue=sh("HTMLFormElement"),xue=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(f,m,x){return m.toUpperCase()+x}),sj=(({hasOwnProperty:r})=>(l,f)=>r.call(l,f))(Object.prototype),yue=sh("RegExp"),qq=(r,l)=>{const f=Object.getOwnPropertyDescriptors(r),m={};GT(f,(x,v)=>{let w;(w=l(x,v,r))!==!1&&(m[v]=w||x)}),Object.defineProperties(r,m)},wue=r=>{qq(r,(l,f)=>{if(Bf(r)&&["arguments","caller","callee"].indexOf(f)!==-1)return!1;const m=r[f];if(Bf(m)){if(l.enumerable=!1,"writable"in l){l.writable=!1;return}l.set||(l.set=()=>{throw Error("Can not rewrite read-only method '"+f+"'")})}})},Cue=(r,l)=>{const f={},m=x=>{x.forEach(v=>{f[v]=!0})};return jS(r)?m(r):m(String(r).split(l)),f},_ue=()=>{},Sue=(r,l)=>r!=null&&Number.isFinite(r=+r)?r:l,VH="abcdefghijklmnopqrstuvwxyz",ij="0123456789",Gq={DIGIT:ij,ALPHA:VH,ALPHA_DIGIT:VH+VH.toUpperCase()+ij},kue=(r=16,l=Gq.ALPHA_DIGIT)=>{let f="";const{length:m}=l;for(;r--;)f+=l[Math.random()*m|0];return f};function Aue(r){return!!(r&&Bf(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const Eue=r=>{const l=new Array(10),f=(m,x)=>{if(o8(m)){if(l.indexOf(m)>=0)return;if(!("toJSON"in m)){l[x]=m;const v=jS(m)?[]:{};return GT(m,(w,E)=>{const F=f(w,x+1);!FT(F)&&(v[E]=F)}),l[x]=void 0,v}}return m};return f(r,0)},Tue=sh("AsyncFunction"),Oue=r=>r&&(o8(r)||Bf(r))&&Bf(r.then)&&Bf(r.catch),Yq=((r,l)=>r?setImmediate:l?((f,m)=>(Q2.addEventListener("message",({source:x,data:v})=>{x===Q2&&v===f&&m.length&&m.shift()()},!1),x=>{m.push(x),Q2.postMessage(f,"*")}))(`axios@${Math.random()}`,[]):f=>setTimeout(f))(typeof setImmediate=="function",Bf(Q2.postMessage)),Due=typeof queueMicrotask<"u"?queueMicrotask.bind(Q2):typeof process<"u"&&process.nextTick||Yq,Vt={isArray:jS,isArrayBuffer:Zq,isBuffer:Kce,isFormData:nue,isArrayBufferView:qce,isString:Gce,isNumber:Wq,isBoolean:Yce,isObject:o8,isPlainObject:hM,isReadableStream:rue,isRequest:sue,isResponse:iue,isHeaders:aue,isUndefined:FT,isDate:Xce,isFile:Jce,isBlob:Qce,isRegExp:yue,isFunction:Bf,isStream:tue,isURLSearchParams:oue,isTypedArray:hue,isFileList:eue,forEach:GT,merge:T9,extend:cue,trim:lue,stripBOM:uue,inherits:due,toFlatObject:fue,kindOf:t8,kindOfTest:sh,endsWith:mue,toArray:gue,forEachEntry:pue,matchAll:bue,isHTMLForm:vue,hasOwnProperty:sj,hasOwnProp:sj,reduceDescriptors:qq,freezeMethods:wue,toObjectSet:Cue,toCamelCase:xue,noop:_ue,toFiniteNumber:Sue,findKey:jq,global:Q2,isContextDefined:Kq,ALPHABET:Gq,generateString:kue,isSpecCompliantForm:Aue,toJSONObject:Eue,isAsyncFn:Tue,isThenable:Oue,setImmediate:Yq,asap:Due};function Cr(r,l,f,m,x){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",l&&(this.code=l),f&&(this.config=f),m&&(this.request=m),x&&(this.response=x,this.status=x.status?x.status:null)}Vt.inherits(Cr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Vt.toJSONObject(this.config),code:this.code,status:this.status}}});const Xq=Cr.prototype,Jq={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Jq[r]={value:r}});Object.defineProperties(Cr,Jq);Object.defineProperty(Xq,"isAxiosError",{value:!0});Cr.from=(r,l,f,m,x,v)=>{const w=Object.create(Xq);return Vt.toFlatObject(r,w,function(F){return F!==Error.prototype},E=>E!=="isAxiosError"),Cr.call(w,r.message,l,f,m,x),w.cause=r,w.name=r.name,v&&Object.assign(w,v),w};const Rue=null;function O9(r){return Vt.isPlainObject(r)||Vt.isArray(r)}function Qq(r){return Vt.endsWith(r,"[]")?r.slice(0,-2):r}function aj(r,l,f){return r?r.concat(l).map(function(x,v){return x=Qq(x),!f&&v?"["+x+"]":x}).join(f?".":""):l}function Nue(r){return Vt.isArray(r)&&!r.some(O9)}const Iue=Vt.toFlatObject(Vt,{},null,function(l){return/^is[A-Z]/.test(l)});function r8(r,l,f){if(!Vt.isObject(r))throw new TypeError("target must be an object");l=l||new FormData,f=Vt.toFlatObject(f,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ne,ye){return!Vt.isUndefined(ye[ne])});const m=f.metaTokens,x=f.visitor||I,v=f.dots,w=f.indexes,F=(f.Blob||typeof Blob<"u"&&Blob)&&Vt.isSpecCompliantForm(l);if(!Vt.isFunction(x))throw new TypeError("visitor must be a function");function P(J){if(J===null)return"";if(Vt.isDate(J))return J.toISOString();if(!F&&Vt.isBlob(J))throw new Cr("Blob is not supported. Use a Buffer instead.");return Vt.isArrayBuffer(J)||Vt.isTypedArray(J)?F&&typeof Blob=="function"?new Blob([J]):Buffer.from(J):J}function I(J,ne,ye){let pe=J;if(J&&!ye&&typeof J=="object"){if(Vt.endsWith(ne,"{}"))ne=m?ne:ne.slice(0,-2),J=JSON.stringify(J);else if(Vt.isArray(J)&&Nue(J)||(Vt.isFileList(J)||Vt.endsWith(ne,"[]"))&&(pe=Vt.toArray(J)))return ne=Qq(ne),pe.forEach(function(Fe,ae){!(Vt.isUndefined(Fe)||Fe===null)&&l.append(w===!0?aj([ne],ae,v):w===null?ne:ne+"[]",P(Fe))}),!1}return O9(J)?!0:(l.append(aj(ye,ne,v),P(J)),!1)}const z=[],j=Object.assign(Iue,{defaultVisitor:I,convertValue:P,isVisitable:O9});function U(J,ne){if(!Vt.isUndefined(J)){if(z.indexOf(J)!==-1)throw Error("Circular reference detected in "+ne.join("."));z.push(J),Vt.forEach(J,function(pe,We){(!(Vt.isUndefined(pe)||pe===null)&&x.call(l,pe,Vt.isString(We)?We.trim():We,ne,j))===!0&&U(pe,ne?ne.concat(We):[We])}),z.pop()}}if(!Vt.isObject(r))throw new TypeError("data must be an object");return U(r),l}function lj(r){const l={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(m){return l[m]})}function _V(r,l){this._pairs=[],r&&r8(r,this,l)}const eG=_V.prototype;eG.append=function(l,f){this._pairs.push([l,f])};eG.toString=function(l){const f=l?function(m){return l.call(this,m,lj)}:lj;return this._pairs.map(function(x){return f(x[0])+"="+f(x[1])},"").join("&")};function Bue(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tG(r,l,f){if(!l)return r;const m=f&&f.encode||Bue,x=f&&f.serialize;let v;if(x?v=x(l,f):v=Vt.isURLSearchParams(l)?l.toString():new _V(l,f).toString(m),v){const w=r.indexOf("#");w!==-1&&(r=r.slice(0,w)),r+=(r.indexOf("?")===-1?"?":"&")+v}return r}class cj{constructor(){this.handlers=[]}use(l,f,m){return this.handlers.push({fulfilled:l,rejected:f,synchronous:m?m.synchronous:!1,runWhen:m?m.runWhen:null}),this.handlers.length-1}eject(l){this.handlers[l]&&(this.handlers[l]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(l){Vt.forEach(this.handlers,function(m){m!==null&&l(m)})}}const nG={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Mue=typeof URLSearchParams<"u"?URLSearchParams:_V,Pue=typeof FormData<"u"?FormData:null,Lue=typeof Blob<"u"?Blob:null,Fue={isBrowser:!0,classes:{URLSearchParams:Mue,FormData:Pue,Blob:Lue},protocols:["http","https","file","blob","url","data"]},SV=typeof window<"u"&&typeof document<"u",D9=typeof navigator=="object"&&navigator||void 0,zue=SV&&(!D9||["ReactNative","NativeScript","NS"].indexOf(D9.product)<0),Hue=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Vue=SV&&window.location.href||"http://localhost",$ue=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:SV,hasStandardBrowserEnv:zue,hasStandardBrowserWebWorkerEnv:Hue,navigator:D9,origin:Vue},Symbol.toStringTag,{value:"Module"})),Ad={...$ue,...Fue};function Uue(r,l){return r8(r,new Ad.classes.URLSearchParams,Object.assign({visitor:function(f,m,x,v){return Ad.isNode&&Vt.isBuffer(f)?(this.append(m,f.toString("base64")),!1):v.defaultVisitor.apply(this,arguments)}},l))}function Zue(r){return Vt.matchAll(/\w+|\[(\w*)]/g,r).map(l=>l[0]==="[]"?"":l[1]||l[0])}function Wue(r){const l={},f=Object.keys(r);let m;const x=f.length;let v;for(m=0;m<x;m++)v=f[m],l[v]=r[v];return l}function oG(r){function l(f,m,x,v){let w=f[v++];if(w==="__proto__")return!0;const E=Number.isFinite(+w),F=v>=f.length;return w=!w&&Vt.isArray(x)?x.length:w,F?(Vt.hasOwnProp(x,w)?x[w]=[x[w],m]:x[w]=m,!E):((!x[w]||!Vt.isObject(x[w]))&&(x[w]=[]),l(f,m,x[w],v)&&Vt.isArray(x[w])&&(x[w]=Wue(x[w])),!E)}if(Vt.isFormData(r)&&Vt.isFunction(r.entries)){const f={};return Vt.forEachEntry(r,(m,x)=>{l(Zue(m),x,f,0)}),f}return null}function jue(r,l,f){if(Vt.isString(r))try{return(l||JSON.parse)(r),Vt.trim(r)}catch(m){if(m.name!=="SyntaxError")throw m}return(f||JSON.stringify)(r)}const YT={transitional:nG,adapter:["xhr","http","fetch"],transformRequest:[function(l,f){const m=f.getContentType()||"",x=m.indexOf("application/json")>-1,v=Vt.isObject(l);if(v&&Vt.isHTMLForm(l)&&(l=new FormData(l)),Vt.isFormData(l))return x?JSON.stringify(oG(l)):l;if(Vt.isArrayBuffer(l)||Vt.isBuffer(l)||Vt.isStream(l)||Vt.isFile(l)||Vt.isBlob(l)||Vt.isReadableStream(l))return l;if(Vt.isArrayBufferView(l))return l.buffer;if(Vt.isURLSearchParams(l))return f.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),l.toString();let E;if(v){if(m.indexOf("application/x-www-form-urlencoded")>-1)return Uue(l,this.formSerializer).toString();if((E=Vt.isFileList(l))||m.indexOf("multipart/form-data")>-1){const F=this.env&&this.env.FormData;return r8(E?{"files[]":l}:l,F&&new F,this.formSerializer)}}return v||x?(f.setContentType("application/json",!1),jue(l)):l}],transformResponse:[function(l){const f=this.transitional||YT.transitional,m=f&&f.forcedJSONParsing,x=this.responseType==="json";if(Vt.isResponse(l)||Vt.isReadableStream(l))return l;if(l&&Vt.isString(l)&&(m&&!this.responseType||x)){const w=!(f&&f.silentJSONParsing)&&x;try{return JSON.parse(l)}catch(E){if(w)throw E.name==="SyntaxError"?Cr.from(E,Cr.ERR_BAD_RESPONSE,this,null,this.response):E}}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ad.classes.FormData,Blob:Ad.classes.Blob},validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Vt.forEach(["delete","get","head","post","put","patch"],r=>{YT.headers[r]={}});const Kue=Vt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),que=r=>{const l={};let f,m,x;return r&&r.split(`
`).forEach(function(w){x=w.indexOf(":"),f=w.substring(0,x).trim().toLowerCase(),m=w.substring(x+1).trim(),!(!f||l[f]&&Kue[f])&&(f==="set-cookie"?l[f]?l[f].push(m):l[f]=[m]:l[f]=l[f]?l[f]+", "+m:m)}),l},uj=Symbol("internals");function wT(r){return r&&String(r).trim().toLowerCase()}function pM(r){return r===!1||r==null?r:Vt.isArray(r)?r.map(pM):String(r)}function Gue(r){const l=Object.create(null),f=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let m;for(;m=f.exec(r);)l[m[1]]=m[2];return l}const Yue=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function $H(r,l,f,m,x){if(Vt.isFunction(m))return m.call(this,l,f);if(x&&(l=f),!!Vt.isString(l)){if(Vt.isString(m))return l.indexOf(m)!==-1;if(Vt.isRegExp(m))return m.test(l)}}function Xue(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(l,f,m)=>f.toUpperCase()+m)}function Jue(r,l){const f=Vt.toCamelCase(" "+l);["get","set","has"].forEach(m=>{Object.defineProperty(r,m+f,{value:function(x,v,w){return this[m].call(this,l,x,v,w)},configurable:!0})})}class Ed{constructor(l){l&&this.set(l)}set(l,f,m){const x=this;function v(E,F,P){const I=wT(F);if(!I)throw new Error("header name must be a non-empty string");const z=Vt.findKey(x,I);(!z||x[z]===void 0||P===!0||P===void 0&&x[z]!==!1)&&(x[z||F]=pM(E))}const w=(E,F)=>Vt.forEach(E,(P,I)=>v(P,I,F));if(Vt.isPlainObject(l)||l instanceof this.constructor)w(l,f);else if(Vt.isString(l)&&(l=l.trim())&&!Yue(l))w(que(l),f);else if(Vt.isHeaders(l))for(const[E,F]of l.entries())v(F,E,m);else l!=null&&v(f,l,m);return this}get(l,f){if(l=wT(l),l){const m=Vt.findKey(this,l);if(m){const x=this[m];if(!f)return x;if(f===!0)return Gue(x);if(Vt.isFunction(f))return f.call(this,x,m);if(Vt.isRegExp(f))return f.exec(x);throw new TypeError("parser must be boolean|regexp|function")}}}has(l,f){if(l=wT(l),l){const m=Vt.findKey(this,l);return!!(m&&this[m]!==void 0&&(!f||$H(this,this[m],m,f)))}return!1}delete(l,f){const m=this;let x=!1;function v(w){if(w=wT(w),w){const E=Vt.findKey(m,w);E&&(!f||$H(m,m[E],E,f))&&(delete m[E],x=!0)}}return Vt.isArray(l)?l.forEach(v):v(l),x}clear(l){const f=Object.keys(this);let m=f.length,x=!1;for(;m--;){const v=f[m];(!l||$H(this,this[v],v,l,!0))&&(delete this[v],x=!0)}return x}normalize(l){const f=this,m={};return Vt.forEach(this,(x,v)=>{const w=Vt.findKey(m,v);if(w){f[w]=pM(x),delete f[v];return}const E=l?Xue(v):String(v).trim();E!==v&&delete f[v],f[E]=pM(x),m[E]=!0}),this}concat(...l){return this.constructor.concat(this,...l)}toJSON(l){const f=Object.create(null);return Vt.forEach(this,(m,x)=>{m!=null&&m!==!1&&(f[x]=l&&Vt.isArray(m)?m.join(", "):m)}),f}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([l,f])=>l+": "+f).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(l){return l instanceof this?l:new this(l)}static concat(l,...f){const m=new this(l);return f.forEach(x=>m.set(x)),m}static accessor(l){const m=(this[uj]=this[uj]={accessors:{}}).accessors,x=this.prototype;function v(w){const E=wT(w);m[E]||(Jue(x,w),m[E]=!0)}return Vt.isArray(l)?l.forEach(v):v(l),this}}Ed.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Vt.reduceDescriptors(Ed.prototype,({value:r},l)=>{let f=l[0].toUpperCase()+l.slice(1);return{get:()=>r,set(m){this[f]=m}}});Vt.freezeMethods(Ed);function UH(r,l){const f=this||YT,m=l||f,x=Ed.from(m.headers);let v=m.data;return Vt.forEach(r,function(E){v=E.call(f,v,x.normalize(),l?l.status:void 0)}),x.normalize(),v}function rG(r){return!!(r&&r.__CANCEL__)}function KS(r,l,f){Cr.call(this,r??"canceled",Cr.ERR_CANCELED,l,f),this.name="CanceledError"}Vt.inherits(KS,Cr,{__CANCEL__:!0});function sG(r,l,f){const m=f.config.validateStatus;!f.status||!m||m(f.status)?r(f):l(new Cr("Request failed with status code "+f.status,[Cr.ERR_BAD_REQUEST,Cr.ERR_BAD_RESPONSE][Math.floor(f.status/100)-4],f.config,f.request,f))}function Que(r){const l=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return l&&l[1]||""}function ede(r,l){r=r||10;const f=new Array(r),m=new Array(r);let x=0,v=0,w;return l=l!==void 0?l:1e3,function(F){const P=Date.now(),I=m[v];w||(w=P),f[x]=F,m[x]=P;let z=v,j=0;for(;z!==x;)j+=f[z++],z=z%r;if(x=(x+1)%r,x===v&&(v=(v+1)%r),P-w<l)return;const U=I&&P-I;return U?Math.round(j*1e3/U):void 0}}function tde(r,l){let f=0,m=1e3/l,x,v;const w=(P,I=Date.now())=>{f=I,x=null,v&&(clearTimeout(v),v=null),r.apply(null,P)};return[(...P)=>{const I=Date.now(),z=I-f;z>=m?w(P,I):(x=P,v||(v=setTimeout(()=>{v=null,w(x)},m-z)))},()=>x&&w(x)]}const DM=(r,l,f=3)=>{let m=0;const x=ede(50,250);return tde(v=>{const w=v.loaded,E=v.lengthComputable?v.total:void 0,F=w-m,P=x(F),I=w<=E;m=w;const z={loaded:w,total:E,progress:E?w/E:void 0,bytes:F,rate:P||void 0,estimated:P&&E&&I?(E-w)/P:void 0,event:v,lengthComputable:E!=null,[l?"download":"upload"]:!0};r(z)},f)},dj=(r,l)=>{const f=r!=null;return[m=>l[0]({lengthComputable:f,total:r,loaded:m}),l[1]]},fj=r=>(...l)=>Vt.asap(()=>r(...l)),nde=Ad.hasStandardBrowserEnv?function(){const l=Ad.navigator&&/(msie|trident)/i.test(Ad.navigator.userAgent),f=document.createElement("a");let m;function x(v){let w=v;return l&&(f.setAttribute("href",w),w=f.href),f.setAttribute("href",w),{href:f.href,protocol:f.protocol?f.protocol.replace(/:$/,""):"",host:f.host,search:f.search?f.search.replace(/^\?/,""):"",hash:f.hash?f.hash.replace(/^#/,""):"",hostname:f.hostname,port:f.port,pathname:f.pathname.charAt(0)==="/"?f.pathname:"/"+f.pathname}}return m=x(window.location.href),function(w){const E=Vt.isString(w)?x(w):w;return E.protocol===m.protocol&&E.host===m.host}}():function(){return function(){return!0}}(),ode=Ad.hasStandardBrowserEnv?{write(r,l,f,m,x,v){const w=[r+"="+encodeURIComponent(l)];Vt.isNumber(f)&&w.push("expires="+new Date(f).toGMTString()),Vt.isString(m)&&w.push("path="+m),Vt.isString(x)&&w.push("domain="+x),v===!0&&w.push("secure"),document.cookie=w.join("; ")},read(r){const l=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return l?decodeURIComponent(l[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function rde(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function sde(r,l){return l?r.replace(/\/?\/$/,"")+"/"+l.replace(/^\/+/,""):r}function iG(r,l){return r&&!rde(l)?sde(r,l):l}const mj=r=>r instanceof Ed?{...r}:r;function mw(r,l){l=l||{};const f={};function m(P,I,z){return Vt.isPlainObject(P)&&Vt.isPlainObject(I)?Vt.merge.call({caseless:z},P,I):Vt.isPlainObject(I)?Vt.merge({},I):Vt.isArray(I)?I.slice():I}function x(P,I,z){if(Vt.isUndefined(I)){if(!Vt.isUndefined(P))return m(void 0,P,z)}else return m(P,I,z)}function v(P,I){if(!Vt.isUndefined(I))return m(void 0,I)}function w(P,I){if(Vt.isUndefined(I)){if(!Vt.isUndefined(P))return m(void 0,P)}else return m(void 0,I)}function E(P,I,z){if(z in l)return m(P,I);if(z in r)return m(void 0,P)}const F={url:v,method:v,data:v,baseURL:w,transformRequest:w,transformResponse:w,paramsSerializer:w,timeout:w,timeoutMessage:w,withCredentials:w,withXSRFToken:w,adapter:w,responseType:w,xsrfCookieName:w,xsrfHeaderName:w,onUploadProgress:w,onDownloadProgress:w,decompress:w,maxContentLength:w,maxBodyLength:w,beforeRedirect:w,transport:w,httpAgent:w,httpsAgent:w,cancelToken:w,socketPath:w,responseEncoding:w,validateStatus:E,headers:(P,I)=>x(mj(P),mj(I),!0)};return Vt.forEach(Object.keys(Object.assign({},r,l)),function(I){const z=F[I]||x,j=z(r[I],l[I],I);Vt.isUndefined(j)&&z!==E||(f[I]=j)}),f}const aG=r=>{const l=mw({},r);let{data:f,withXSRFToken:m,xsrfHeaderName:x,xsrfCookieName:v,headers:w,auth:E}=l;l.headers=w=Ed.from(w),l.url=tG(iG(l.baseURL,l.url),r.params,r.paramsSerializer),E&&w.set("Authorization","Basic "+btoa((E.username||"")+":"+(E.password?unescape(encodeURIComponent(E.password)):"")));let F;if(Vt.isFormData(f)){if(Ad.hasStandardBrowserEnv||Ad.hasStandardBrowserWebWorkerEnv)w.setContentType(void 0);else if((F=w.getContentType())!==!1){const[P,...I]=F?F.split(";").map(z=>z.trim()).filter(Boolean):[];w.setContentType([P||"multipart/form-data",...I].join("; "))}}if(Ad.hasStandardBrowserEnv&&(m&&Vt.isFunction(m)&&(m=m(l)),m||m!==!1&&nde(l.url))){const P=x&&v&&ode.read(v);P&&w.set(x,P)}return l},ide=typeof XMLHttpRequest<"u",ade=ide&&function(r){return new Promise(function(f,m){const x=aG(r);let v=x.data;const w=Ed.from(x.headers).normalize();let{responseType:E,onUploadProgress:F,onDownloadProgress:P}=x,I,z,j,U,J;function ne(){U&&U(),J&&J(),x.cancelToken&&x.cancelToken.unsubscribe(I),x.signal&&x.signal.removeEventListener("abort",I)}let ye=new XMLHttpRequest;ye.open(x.method.toUpperCase(),x.url,!0),ye.timeout=x.timeout;function pe(){if(!ye)return;const Fe=Ed.from("getAllResponseHeaders"in ye&&ye.getAllResponseHeaders()),Ie={data:!E||E==="text"||E==="json"?ye.responseText:ye.response,status:ye.status,statusText:ye.statusText,headers:Fe,config:r,request:ye};sG(function(Je){f(Je),ne()},function(Je){m(Je),ne()},Ie),ye=null}"onloadend"in ye?ye.onloadend=pe:ye.onreadystatechange=function(){!ye||ye.readyState!==4||ye.status===0&&!(ye.responseURL&&ye.responseURL.indexOf("file:")===0)||setTimeout(pe)},ye.onabort=function(){ye&&(m(new Cr("Request aborted",Cr.ECONNABORTED,r,ye)),ye=null)},ye.onerror=function(){m(new Cr("Network Error",Cr.ERR_NETWORK,r,ye)),ye=null},ye.ontimeout=function(){let ae=x.timeout?"timeout of "+x.timeout+"ms exceeded":"timeout exceeded";const Ie=x.transitional||nG;x.timeoutErrorMessage&&(ae=x.timeoutErrorMessage),m(new Cr(ae,Ie.clarifyTimeoutError?Cr.ETIMEDOUT:Cr.ECONNABORTED,r,ye)),ye=null},v===void 0&&w.setContentType(null),"setRequestHeader"in ye&&Vt.forEach(w.toJSON(),function(ae,Ie){ye.setRequestHeader(Ie,ae)}),Vt.isUndefined(x.withCredentials)||(ye.withCredentials=!!x.withCredentials),E&&E!=="json"&&(ye.responseType=x.responseType),P&&([j,J]=DM(P,!0),ye.addEventListener("progress",j)),F&&ye.upload&&([z,U]=DM(F),ye.upload.addEventListener("progress",z),ye.upload.addEventListener("loadend",U)),(x.cancelToken||x.signal)&&(I=Fe=>{ye&&(m(!Fe||Fe.type?new KS(null,r,ye):Fe),ye.abort(),ye=null)},x.cancelToken&&x.cancelToken.subscribe(I),x.signal&&(x.signal.aborted?I():x.signal.addEventListener("abort",I)));const We=Que(x.url);if(We&&Ad.protocols.indexOf(We)===-1){m(new Cr("Unsupported protocol "+We+":",Cr.ERR_BAD_REQUEST,r));return}ye.send(v||null)})},lde=(r,l)=>{const{length:f}=r=r?r.filter(Boolean):[];if(l||f){let m=new AbortController,x;const v=function(P){if(!x){x=!0,E();const I=P instanceof Error?P:this.reason;m.abort(I instanceof Cr?I:new KS(I instanceof Error?I.message:I))}};let w=l&&setTimeout(()=>{w=null,v(new Cr(`timeout ${l} of ms exceeded`,Cr.ETIMEDOUT))},l);const E=()=>{r&&(w&&clearTimeout(w),w=null,r.forEach(P=>{P.unsubscribe?P.unsubscribe(v):P.removeEventListener("abort",v)}),r=null)};r.forEach(P=>P.addEventListener("abort",v));const{signal:F}=m;return F.unsubscribe=()=>Vt.asap(E),F}},cde=function*(r,l){let f=r.byteLength;if(!l||f<l){yield r;return}let m=0,x;for(;m<f;)x=m+l,yield r.slice(m,x),m=x},ude=async function*(r,l){for await(const f of dde(r))yield*cde(f,l)},dde=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const l=r.getReader();try{for(;;){const{done:f,value:m}=await l.read();if(f)break;yield m}}finally{await l.cancel()}},gj=(r,l,f,m)=>{const x=ude(r,l);let v=0,w,E=F=>{w||(w=!0,m&&m(F))};return new ReadableStream({async pull(F){try{const{done:P,value:I}=await x.next();if(P){E(),F.close();return}let z=I.byteLength;if(f){let j=v+=z;f(j)}F.enqueue(new Uint8Array(I))}catch(P){throw E(P),P}},cancel(F){return E(F),x.return()}},{highWaterMark:2})},s8=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",lG=s8&&typeof ReadableStream=="function",fde=s8&&(typeof TextEncoder=="function"?(r=>l=>r.encode(l))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),cG=(r,...l)=>{try{return!!r(...l)}catch{return!1}},mde=lG&&cG(()=>{let r=!1;const l=new Request(Ad.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!l}),hj=64*1024,R9=lG&&cG(()=>Vt.isReadableStream(new Response("").body)),RM={stream:R9&&(r=>r.body)};s8&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(l=>{!RM[l]&&(RM[l]=Vt.isFunction(r[l])?f=>f[l]():(f,m)=>{throw new Cr(`Response type '${l}' is not supported`,Cr.ERR_NOT_SUPPORT,m)})})})(new Response);const gde=async r=>{if(r==null)return 0;if(Vt.isBlob(r))return r.size;if(Vt.isSpecCompliantForm(r))return(await new Request(Ad.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(Vt.isArrayBufferView(r)||Vt.isArrayBuffer(r))return r.byteLength;if(Vt.isURLSearchParams(r)&&(r=r+""),Vt.isString(r))return(await fde(r)).byteLength},hde=async(r,l)=>{const f=Vt.toFiniteNumber(r.getContentLength());return f??gde(l)},pde=s8&&(async r=>{let{url:l,method:f,data:m,signal:x,cancelToken:v,timeout:w,onDownloadProgress:E,onUploadProgress:F,responseType:P,headers:I,withCredentials:z="same-origin",fetchOptions:j}=aG(r);P=P?(P+"").toLowerCase():"text";let U=lde([x,v&&v.toAbortSignal()],w),J;const ne=U&&U.unsubscribe&&(()=>{U.unsubscribe()});let ye;try{if(F&&mde&&f!=="get"&&f!=="head"&&(ye=await hde(I,m))!==0){let Ie=new Request(l,{method:"POST",body:m,duplex:"half"}),oe;if(Vt.isFormData(m)&&(oe=Ie.headers.get("content-type"))&&I.setContentType(oe),Ie.body){const[Je,He]=dj(ye,DM(fj(F)));m=gj(Ie.body,hj,Je,He)}}Vt.isString(z)||(z=z?"include":"omit");const pe="credentials"in Request.prototype;J=new Request(l,{...j,signal:U,method:f.toUpperCase(),headers:I.normalize().toJSON(),body:m,duplex:"half",credentials:pe?z:void 0});let We=await fetch(J);const Fe=R9&&(P==="stream"||P==="response");if(R9&&(E||Fe&&ne)){const Ie={};["status","statusText","headers"].forEach(Ye=>{Ie[Ye]=We[Ye]});const oe=Vt.toFiniteNumber(We.headers.get("content-length")),[Je,He]=E&&dj(oe,DM(fj(E),!0))||[];We=new Response(gj(We.body,hj,Je,()=>{He&&He(),ne&&ne()}),Ie)}P=P||"text";let ae=await RM[Vt.findKey(RM,P)||"text"](We,r);return!Fe&&ne&&ne(),await new Promise((Ie,oe)=>{sG(Ie,oe,{data:ae,headers:Ed.from(We.headers),status:We.status,statusText:We.statusText,config:r,request:J})})}catch(pe){throw ne&&ne(),pe&&pe.name==="TypeError"&&/fetch/i.test(pe.message)?Object.assign(new Cr("Network Error",Cr.ERR_NETWORK,r,J),{cause:pe.cause||pe}):Cr.from(pe,pe&&pe.code,r,J)}}),N9={http:Rue,xhr:ade,fetch:pde};Vt.forEach(N9,(r,l)=>{if(r){try{Object.defineProperty(r,"name",{value:l})}catch{}Object.defineProperty(r,"adapterName",{value:l})}});const pj=r=>`- ${r}`,bde=r=>Vt.isFunction(r)||r===null||r===!1,uG={getAdapter:r=>{r=Vt.isArray(r)?r:[r];const{length:l}=r;let f,m;const x={};for(let v=0;v<l;v++){f=r[v];let w;if(m=f,!bde(f)&&(m=N9[(w=String(f)).toLowerCase()],m===void 0))throw new Cr(`Unknown adapter '${w}'`);if(m)break;x[w||"#"+v]=m}if(!m){const v=Object.entries(x).map(([E,F])=>`adapter ${E} `+(F===!1?"is not supported by the environment":"is not available in the build"));let w=l?v.length>1?`since :
`+v.map(pj).join(`
`):" "+pj(v[0]):"as no adapter specified";throw new Cr("There is no suitable adapter to dispatch the request "+w,"ERR_NOT_SUPPORT")}return m},adapters:N9};function ZH(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new KS(null,r)}function bj(r){return ZH(r),r.headers=Ed.from(r.headers),r.data=UH.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),uG.getAdapter(r.adapter||YT.adapter)(r).then(function(m){return ZH(r),m.data=UH.call(r,r.transformResponse,m),m.headers=Ed.from(m.headers),m},function(m){return rG(m)||(ZH(r),m&&m.response&&(m.response.data=UH.call(r,r.transformResponse,m.response),m.response.headers=Ed.from(m.response.headers))),Promise.reject(m)})}const dG="1.7.7",kV={};["object","boolean","number","function","string","symbol"].forEach((r,l)=>{kV[r]=function(m){return typeof m===r||"a"+(l<1?"n ":" ")+r}});const vj={};kV.transitional=function(l,f,m){function x(v,w){return"[Axios v"+dG+"] Transitional option '"+v+"'"+w+(m?". "+m:"")}return(v,w,E)=>{if(l===!1)throw new Cr(x(w," has been removed"+(f?" in "+f:"")),Cr.ERR_DEPRECATED);return f&&!vj[w]&&(vj[w]=!0,console.warn(x(w," has been deprecated since v"+f+" and will be removed in the near future"))),l?l(v,w,E):!0}};function vde(r,l,f){if(typeof r!="object")throw new Cr("options must be an object",Cr.ERR_BAD_OPTION_VALUE);const m=Object.keys(r);let x=m.length;for(;x-- >0;){const v=m[x],w=l[v];if(w){const E=r[v],F=E===void 0||w(E,v,r);if(F!==!0)throw new Cr("option "+v+" must be "+F,Cr.ERR_BAD_OPTION_VALUE);continue}if(f!==!0)throw new Cr("Unknown option "+v,Cr.ERR_BAD_OPTION)}}const I9={assertOptions:vde,validators:kV},E0=I9.validators;class iw{constructor(l){this.defaults=l,this.interceptors={request:new cj,response:new cj}}async request(l,f){try{return await this._request(l,f)}catch(m){if(m instanceof Error){let x;Error.captureStackTrace?Error.captureStackTrace(x={}):x=new Error;const v=x.stack?x.stack.replace(/^.+\n/,""):"";try{m.stack?v&&!String(m.stack).endsWith(v.replace(/^.+\n.+\n/,""))&&(m.stack+=`
`+v):m.stack=v}catch{}}throw m}}_request(l,f){typeof l=="string"?(f=f||{},f.url=l):f=l||{},f=mw(this.defaults,f);const{transitional:m,paramsSerializer:x,headers:v}=f;m!==void 0&&I9.assertOptions(m,{silentJSONParsing:E0.transitional(E0.boolean),forcedJSONParsing:E0.transitional(E0.boolean),clarifyTimeoutError:E0.transitional(E0.boolean)},!1),x!=null&&(Vt.isFunction(x)?f.paramsSerializer={serialize:x}:I9.assertOptions(x,{encode:E0.function,serialize:E0.function},!0)),f.method=(f.method||this.defaults.method||"get").toLowerCase();let w=v&&Vt.merge(v.common,v[f.method]);v&&Vt.forEach(["delete","get","head","post","put","patch","common"],J=>{delete v[J]}),f.headers=Ed.concat(w,v);const E=[];let F=!0;this.interceptors.request.forEach(function(ne){typeof ne.runWhen=="function"&&ne.runWhen(f)===!1||(F=F&&ne.synchronous,E.unshift(ne.fulfilled,ne.rejected))});const P=[];this.interceptors.response.forEach(function(ne){P.push(ne.fulfilled,ne.rejected)});let I,z=0,j;if(!F){const J=[bj.bind(this),void 0];for(J.unshift.apply(J,E),J.push.apply(J,P),j=J.length,I=Promise.resolve(f);z<j;)I=I.then(J[z++],J[z++]);return I}j=E.length;let U=f;for(z=0;z<j;){const J=E[z++],ne=E[z++];try{U=J(U)}catch(ye){ne.call(this,ye);break}}try{I=bj.call(this,U)}catch(J){return Promise.reject(J)}for(z=0,j=P.length;z<j;)I=I.then(P[z++],P[z++]);return I}getUri(l){l=mw(this.defaults,l);const f=iG(l.baseURL,l.url);return tG(f,l.params,l.paramsSerializer)}}Vt.forEach(["delete","get","head","options"],function(l){iw.prototype[l]=function(f,m){return this.request(mw(m||{},{method:l,url:f,data:(m||{}).data}))}});Vt.forEach(["post","put","patch"],function(l){function f(m){return function(v,w,E){return this.request(mw(E||{},{method:l,headers:m?{"Content-Type":"multipart/form-data"}:{},url:v,data:w}))}}iw.prototype[l]=f(),iw.prototype[l+"Form"]=f(!0)});class AV{constructor(l){if(typeof l!="function")throw new TypeError("executor must be a function.");let f;this.promise=new Promise(function(v){f=v});const m=this;this.promise.then(x=>{if(!m._listeners)return;let v=m._listeners.length;for(;v-- >0;)m._listeners[v](x);m._listeners=null}),this.promise.then=x=>{let v;const w=new Promise(E=>{m.subscribe(E),v=E}).then(x);return w.cancel=function(){m.unsubscribe(v)},w},l(function(v,w,E){m.reason||(m.reason=new KS(v,w,E),f(m.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(l){if(this.reason){l(this.reason);return}this._listeners?this._listeners.push(l):this._listeners=[l]}unsubscribe(l){if(!this._listeners)return;const f=this._listeners.indexOf(l);f!==-1&&this._listeners.splice(f,1)}toAbortSignal(){const l=new AbortController,f=m=>{l.abort(m)};return this.subscribe(f),l.signal.unsubscribe=()=>this.unsubscribe(f),l.signal}static source(){let l;return{token:new AV(function(x){l=x}),cancel:l}}}function xde(r){return function(f){return r.apply(null,f)}}function yde(r){return Vt.isObject(r)&&r.isAxiosError===!0}const B9={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(B9).forEach(([r,l])=>{B9[l]=r});function fG(r){const l=new iw(r),f=Uq(iw.prototype.request,l);return Vt.extend(f,iw.prototype,l,{allOwnKeys:!0}),Vt.extend(f,l,null,{allOwnKeys:!0}),f.create=function(x){return fG(mw(r,x))},f}const Di=fG(YT);Di.Axios=iw;Di.CanceledError=KS;Di.CancelToken=AV;Di.isCancel=rG;Di.VERSION=dG;Di.toFormData=r8;Di.AxiosError=Cr;Di.Cancel=Di.CanceledError;Di.all=function(l){return Promise.all(l)};Di.spread=xde;Di.isAxiosError=yde;Di.mergeConfig=mw;Di.AxiosHeaders=Ed;Di.formToJSON=r=>oG(Vt.isHTMLForm(r)?new FormData(r):r);Di.getAdapter=uG.getAdapter;Di.HttpStatusCode=B9;Di.default=Di;/*! js-cookie v3.0.5 | MIT */function iM(r){for(var l=1;l<arguments.length;l++){var f=arguments[l];for(var m in f)r[m]=f[m]}return r}var wde={read:function(r){return r[0]==='"'&&(r=r.slice(1,-1)),r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(r){return encodeURIComponent(r).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function M9(r,l){function f(x,v,w){if(!(typeof document>"u")){w=iM({},l,w),typeof w.expires=="number"&&(w.expires=new Date(Date.now()+w.expires*864e5)),w.expires&&(w.expires=w.expires.toUTCString()),x=encodeURIComponent(x).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var E="";for(var F in w)w[F]&&(E+="; "+F,w[F]!==!0&&(E+="="+w[F].split(";")[0]));return document.cookie=x+"="+r.write(v,x)+E}}function m(x){if(!(typeof document>"u"||arguments.length&&!x)){for(var v=document.cookie?document.cookie.split("; "):[],w={},E=0;E<v.length;E++){var F=v[E].split("="),P=F.slice(1).join("=");try{var I=decodeURIComponent(F[0]);if(w[I]=r.read(P,I),x===I)break}catch{}}return x?w[x]:w}}return Object.create({set:f,get:m,remove:function(x,v){f(x,"",iM({},v,{expires:-1}))},withAttributes:function(x){return M9(this.converter,iM({},this.attributes,x))},withConverter:function(x){return M9(iM({},this.converter,x),this.attributes)}},{attributes:{value:Object.freeze(l)},converter:{value:Object.freeze(r)}})}var Va=M9(wde,{path:"/"});const Cde=`.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]){outline:3px solid #ffe89d}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe89d;outline:none}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#fed635}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden):before{content:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A);cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked:before{content:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A)}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden):before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px white;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;tab-size:4;-webkit-hyphens:none;hyphens:none}pre[class*=language-]::selection,pre[class*=language-] ::selection,code[class*=language-]::selection,code[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.property,.token.tag,.token.boolean,.token.number,.token.constant,.token.symbol,.token.deleted{color:#905}.token.selector,.token.attr-name,.token.string,.token.char,.token.builtin,.token.inserted{color:#690}.token.operator,.token.entity,.token.url,.language-css .token.string,.style .token.string{color:#9a6e3a;background:#ffffff80}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.function,.token.class-name{color:#dd4a68}.token.regex,.token.important,.token.variable{color:#e90}.token.important,.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body *[data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body *[contentEditable=false]{cursor:default}.mce-content-body *[contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:#006ce71a}.mce-content-body .mce-mergetag-affix{background-color:#006ce71a;color:#006ce7}.mce-object{background:transparent url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A) no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--21by9,.tiny-pageembed--16by9,.tiny-pageembed--4by3,.tiny-pageembed--1by1{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--21by9 iframe,.tiny-pageembed--16by9 iframe,.tiny-pageembed--4by3 iframe,.tiny-pageembed--1by1 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks):before{color:#222f3eb3;content:attr(data-mce-placeholder);position:absolute}@media (forced-colors: active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks):before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks):before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks):before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:nth-of-type(1){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns th,.mce-content-body .mce-clonedresizable.mce-resizetable-columns td{border:0}.mce-content-body .mce-resize-helper{background:#555;background:#000;border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor:before{background-color:inherit;border-radius:50%;content:"";display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover:after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body img[data-mce-selected],.mce-content-body video[data-mce-selected],.mce-content-body audio[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body details[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body *[contentEditable=false] *[contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body *[contentEditable=false] *[contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body *[contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly *[contentEditable=true]:focus,.mce-content-body.mce-content-readonly *[contentEditable=true]:hover{outline:none}.mce-content-body *[data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:none}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]:after,.mce-content-body th[data-mce-selected]:after{background-color:#b4d7ffb3;border:1px solid rgba(180,215,255,.7);bottom:-1px;content:"";left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast: active),(-ms-high-contrast: none){.mce-content-body td[data-mce-selected]:after,.mce-content-body th[data-mce-selected]:after{border-color:#0054b4b3}}.mce-content-body img[data-mce-selected]::selection{background:none}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}table[style*="border-width: 0px"],.mce-item-table:not([border]),.mce-item-table[border="0"],table[style*="border-width: 0px"] td,.mce-item-table:not([border]) td,.mce-item-table[border="0"] td,table[style*="border-width: 0px"] th,.mce-item-table:not([border]) th,.mce-item-table[border="0"] th,table[style*="border-width: 0px"] caption,.mce-item-table:not([border]) caption,.mce-item-table[border="0"] caption{border:1px dashed #bbb}.mce-visualblocks p,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks section,.mce-visualblocks article,.mce-visualblocks blockquote,.mce-visualblocks address,.mce-visualblocks pre,.mce-visualblocks figure,.mce-visualblocks figcaption,.mce-visualblocks hgroup,.mce-visualblocks aside,.mce-visualblocks ul,.mce-visualblocks ol,.mce-visualblocks dl{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) ul,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) dl{margin-left:3px}.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] ul,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] dl{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy:after{content:"-"}body{font-family:sans-serif}table{border-collapse:collapse}`,_de=".mce-content-body,.long-essay-content{font-family:serif;font-size:1rem;max-width:60em;line-height:150%}.mce-content-body h1,.long-essay-content h1,.mce-content-body h2,.long-essay-content h2,.mce-content-body h3,.long-essay-content h3,.mce-content-body h4,.long-essay-content h4,.mce-content-body h5,.long-essay-content h5,.mce-content-body h6,.long-essay-content h6{font-size:1rem;font-weight:700;padding:0;margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body ol,.long-essay-content ol,.mce-content-body ul,.long-essay-content ul{margin-left:10px;margin-bottom:20px}.mce-content-body li,.long-essay-content li{margin-left:20px;margin-bottom:5px;min-height:1.5em}.mce-content-body p,.long-essay-content p,.mce-content-body pre,.long-essay-content pre{margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body,.long-essay-content,.tox-menu{counter-reset:h1 h2 h3 h4 h5 h6}.mce-content-body h1,.long-essay-content h1,.tox-menu h1{counter-increment:h1;counter-reset:h2 h3 h4 h5 h6}.mce-content-body h2,.long-essay-content h2,.tox-menu h2{counter-increment:h2;counter-reset:h3 h4 h5 h6}.mce-content-body h3,.long-essay-content h3,.tox-menu h3{counter-increment:h3;counter-reset:h4 h5 h6}.mce-content-body h4,.long-essay-content h4,.tox-menu h4{counter-increment:h4;counter-reset:h5 h6}.mce-content-body h5,.long-essay-content h5,.tox-menu h5{counter-increment:h5;counter-reset:h6}.mce-content-body h6,.long-essay-content h6,.tox-menu h6{counter-increment:h6}.tox-menu p,.tox-menu h1,.tox-menu h2,.tox-menu h3,.tox-menu h4,.tox-menu h5,.tox-menu h6,.tox-menu pre,.tox-menu li{font-size:1rem!important}",Sde="",kde=".mce-content-body h1,.tox-menu h1,.headlines-three h1{font-size:1.3rem!important}.mce-content-body h2,.tox-menu h2,.headlines-three h2{font-size:1.15rem!important}.mce-content-body h3,.tox-menu h3,.headlines-three h3{font-size:1rem!important}",Ade='.mce-content-body h1:before,.headlines-numeric h1:before{content:counter(h1,decimal) " "}.mce-content-body h2:before,.headlines-numeric h2:before{content:counter(h1,decimal) "." counter(h2,decimal) " "}.mce-content-body h3:before,.headlines-numeric h3:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) " "}.mce-content-body h4:before,.headlines-numeric h4:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) "." counter(h4,decimal) " "}.mce-content-body h5:before,.headlines-numeric h5:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) "." counter(h4,decimal) "." counter(h5,decimal) " "}.mce-content-body h6:before,.headlines-numeric h6:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) "." counter(h4,decimal) "." counter(h5,decimal) "." counter(h6,decimal) " "}',Ede='.mce-content-body h1:before,.headlines-edutiek h1:before{content:counter(h1,upper-latin) ". "}.mce-content-body h2:before,.headlines-edutiek h2:before{content:counter(h2,upper-roman) ". "}.mce-content-body h3:before,.headlines-edutiek h3:before{content:counter(h3,decimal) ". "}.mce-content-body h4:before,.headlines-edutiek h4:before{content:counter(h4,lower-latin) ". "}.mce-content-body h5:before,.headlines-edutiek h5:before{content:counter(h5,lower-latin) counter(h5,lower-latin) ". "}.mce-content-body h6:before,.headlines-edutiek h6:before{content:"(" counter(h6,decimal) ") "}',WH=D1.createInstance({storeName:"writer-settings",description:"Settings data"}),_p=rh("settings",{state:()=>({headline_scheme:null,formatting_options:null,notice_boards:0,copy_allowed:!1,primary_color:null,primary_text_color:null,allow_spellcheck:!1}),getters:{hasNotes:r=>r.notice_boards>0,primaryColorCss:r=>r.primary_color?"#"+r.primary_color:"",primaryTextColorCss:r=>r.primary_text_color?"#"+r.primary_text_color:"",primaryTextColorFullCss:r=>r.primary_text_color?"color: #"+r.primary_text_color+";":"",tinyToolbar:r=>{switch(r.formatting_options){case"full":return"zoomOut zoomIn | undo redo | styles | bold italic underline | bullist numlist | removeformat | charmap | paste help";case"medium":return"zoomOut zoomIn | undo redo | bold italic underline | bullist numlist | removeformat | charmap | paste help";case"minimal":return"zoomOut zoomIn | undo redo | bold italic underline | removeformat | charmap | paste help";case"none":default:return"zoomOut zoomIn | undo redo | charmap |paste help"}},tinyValidElements:r=>{switch(r.formatting_options){case"full":return"p/div,br,strong/b,em/i,u,ol,ul,li,h1,h2,h3,h4,h5,h6,pre";case"medium":return"p/div,br,strong/b,em/i,u,ol,ul,li";case"minimal":return"p/div,p/li,br,strong/b,em/i,u";case"none":default:return"p/div,p/li,br"}},tinyStyles:r=>{switch(r.headline_scheme){case"single":return[{title:"Absatz",format:"p"},{title:"berschrift",format:"h1"},{title:"Maschinenschrift",format:"pre"},{title:"Listenelement",block:"li"}];case"three":return[{title:"Absatz",format:"p"},{title:"berschrift 1",format:"h1"},{title:"berschrift 2",format:"h2"},{title:"berschrift 3",format:"h3"},{title:"Maschinenschrift",format:"pre"},{title:"Listenelement",block:"li"}];default:return[{title:"Absatz",format:"p"},{title:"berschrift 1",format:"h1"},{title:"berschrift 2",format:"h2"},{title:"berschrift 3",format:"h3"},{title:"berschrift 4",format:"h4"},{title:"berschrift 5",format:"h5"},{title:"berschrift 6",format:"h6"},{title:"Maschinenschrift",format:"pre"},{title:"Listenelement",block:"li"}]}},tinyFormats:r=>({underline:{inline:"u",remove:"all"}}),tinyContentStyle:r=>{const l=Cde.toString()+`
`+_de.toString();switch(r.headline_scheme){case"single":return l+`
`+Sde.toString();case"three":return l+`
`+kde.toString();case"numeric":return l+`
`+Ade.toString();case"edutiek":return l+`
`+Ede.toString();default:return l}},contentClass:r=>{switch(r.headline_scheme){case"single":return"headlines-single";case"three":return"headlines-three";case"numeric":return"headlines-numeric";case"edutiek":return"headlines-edutiek";default:return""}}},actions:{setData(r){this.headline_scheme=r.headline_scheme,this.formatting_options=r.formatting_options,this.notice_boards=r.notice_boards,this.copy_allowed=r.copy_allowed,this.primary_color=r.primary_color,this.primary_text_color=r.primary_text_color,this.allow_spellcheck=r.allow_spellcheck},async clearStorage(){try{await WH.clear()}catch(r){console.log(r)}},async loadFromStorage(){try{const r=await WH.getItem("settings");this.setData(r)}catch(r){console.log(r)}},async loadFromData(r){try{await WH.setItem("settings",r),this.setData(r)}catch(l){console.log(l)}}}}),Xc=class Xc{constructor(l={}){Cd(this,"action",null);Cd(this,"type",null);Cd(this,"key","");Cd(this,"last_change",0);this.setData(l),this.last_change==0&&(this.last_change=Date.now())}setData(l){l.action!==void 0&&Xc.ALLOWED_ACTIONS.includes(l.action)&&(this.action=l.action.toString()),l.type!==void 0&&Xc.ALLOWED_TYPES.includes(l.type)&&(this.type=l.type.toString()),l.key!==void 0&&l.key!==null&&(this.key=l.key.toString()),l.last_change!==void 0&&l.last_change!==null&&(this.last_change=parseInt(l.last_change))}getData(){return{action:this.action,type:this.type,key:this.key,last_change:this.last_change}}isValid(){return Xc.ALLOWED_TYPES.includes(this.type)&&Xc.ALLOWED_ACTIONS.includes(this.action)&&this.key!=""}};Cd(Xc,"ACTION_SAVE","save"),Cd(Xc,"ACTION_DELETE","delete"),Cd(Xc,"ALLOWED_ACTIONS",[Xc.ACTION_SAVE,Xc.ACTION_DELETE]),Cd(Xc,"TYPE_NOTES","notes"),Cd(Xc,"TYPE_PREFERENCES","preferences"),Cd(Xc,"ALLOWED_TYPES",[Xc.TYPE_NOTES,Xc.TYPE_PREFERENCES]);let eu=Xc;const aM=D1.createInstance({storeName:"writer-changes",description:"Writer changes data"});function xj(){const r={changes:{}};for(const l of eu.ALLOWED_TYPES)r.changes[l]={};return r}const yp=rh("changes",{state:()=>xj(),getters:{countChanges:r=>{let l=0;for(const f in r.changes)l+=Object.keys(r.changes[f]).length;return l},getCountOfChangesFor:r=>function(f){return eu.ALLOWED_TYPES.includes(f)?Object.keys(r.changes[f]).length:(console.log("wrong type"+f),0)},getChangesFor:r=>function(f,m=0){if(!eu.ALLOWED_TYPES.includes(f))return[];const x=[];for(const v in r.changes[f]){const w=r.changes[f][v];(m==0||w.last_change<=m)&&x.push(w)}return x}},actions:{async clearStorage(){try{await aM.clear()}catch(r){console.log(r)}this.$reset()},async loadFromStorage(){const r=xj();try{for(const l in r.changes){const f=await aM.getItem(l);if(f){const m=JSON.parse(f);if(typeof m=="object"&&m!==null)for(const x in m)r.changes[l][x]=new eu(m[x])}}}catch(l){console.log(l)}this.$patch(r)},async saveChangesOfTypeToStorage(r){const l={};for(const f in this.changes[r]){const m=this.changes[r][f];l[f]=m.getData()}await aM.setItem(r,JSON.stringify(l))},async hasChangesInStorage(){for(const r in this.changes){const l=await aM.getItem(r);if(l){const f=JSON.parse(l);if(Object.keys(f).length>0)return!0}}return!1},async setChange(r){r.isValid()&&(this.changes[r.type][r.key]=r,await this.saveChangesOfTypeToStorage(r.type))},async unsetChange(r){r.isValid()&&(delete this.changes[r.type][r.key],await this.saveChangesOfTypeToStorage(r.type))},async setChangesSent(r,l,f){const m=this.changes[r];let x=!1;for(const v in l){const w=l[v],E=m[v];E&&(E.last_change<=f?(delete m[v],x=!0):(w==null||w!=v)&&(E.key=w,m[w]=E,delete m[v],x=!0))}x&&await this.saveChangesOfTypeToStorage(r)}}}),jH=D1.createInstance({storeName:"writer-preferences",description:"Preferences data"}),aw=rh("preferences",{state:()=>({instructions_zoom:1,editor_zoom:1}),getters:{allData:r=>({instructions_zoom:r.instructions_zoom,editor_zoom:r.editor_zoom})},actions:{async clearStorage(){try{await jH.clear()}catch(r){console.log(r)}this.$reset()},async loadFromStorage(){try{const r=await jH.getItem("preferences");r&&this.$patch(r)}catch(r){console.log(r)}},async saveToStorage(){try{await jH.setItem("preferences",this.allData)}catch(r){console.log(r)}},loadFromData(r){try{this.$patch(r),this.sent=!0,this.saveToStorage()}catch(l){console.log(l)}},async update(){const r=yp();Lf(),await this.saveToStorage(),await r.setChange(new eu({type:eu.TYPE_PREFERENCES,action:eu.ACTION_SAVE,key:"preferences"}))},async getChangedData(r=0){const l=Lf(),f=yp(),m=[];for(const x of f.getChangesFor(eu.TYPE_PREFERENCES,r))m.push(l.getChangeDataToSend(x,this.allData));return m},zoomInstructionsIn(){this.instructions_zoom=this.instructions_zoom*1.1,this.update()},zoomInstructionsOut(){this.instructions_zoom=this.instructions_zoom*.9,this.update()},zoomEditorIn(){this.editor_zoom=this.editor_zoom*1.1,this.update()},zoomEditorOut(){this.editor_zoom=this.editor_zoom*.9,this.update()}}}),w1=D1.createInstance({storeName:"writer-resources",description:"Resource data"}),H0=rh("resources",{state:()=>({keys:[],resources:[],activeKey:""}),getters:{hasResources:r=>r.resources.length>0,hasInstruction(r){return!!r.resources.find(f=>f.type=="instruct")},getInstruction(r){return r.resources.find(l=>l.type=="instruct")},hasFileResources(r){return!!r.resources.find(f=>f.type=="file")},hasFileOrUrlResources(r){return!!r.resources.find(f=>f.type=="file"||f.type=="url")},getFileOrUrlResources(r){return r.resources.filter(l=>l.type=="file"||l.type=="url")},activeTitle(r){const l=r.resources.find(f=>f.key==r.activeKey);return l?l.title:""},getResource(r){return l=>r.resources.find(f=>f.key==l)},isActive(r){return l=>r.activeKey==l.key}},actions:{async clearStorage(){try{await w1.clear()}catch(r){console.log(r)}},async loadFromStorage(){try{const r=await w1.getItem("resourceKeys");r&&(this.keys=JSON.parse(r)),this.activeKey=await w1.getItem("activeKey")??[],this.resources=[];let l=0;for(;l<this.keys.length;){let f=await w1.getItem(this.keys[l]);this.resources.push(f),l++}await this.loadFiles()}catch(r){console.log(r)}},async loadFromData(r){const l=Lf();try{await w1.clear(),this.keys=[],this.resources=[],this.activeKey="";let f=0;for(;f<r.length;){let m=r[f];m.url=l.getResourceUrl(m.key),this.resources.push(m),this.keys.push(m.key),m.type=="file"&&this.activeKey==""&&(this.activeKey=m.key),await w1.setItem(m.key,m),f++}await w1.setItem("resourceKeys",JSON.stringify(this.keys)),await w1.setItem("activeKey",this.activeKey),this.loadFiles()}catch(f){console.log(f)}},async selectResource(r){this.activeKey=r.key,await w1.setItem("activeKey",this.activeKey)},async loadFiles(){let r=0;for(;r<this.keys.length;){let l=this.getResource(this.keys[r]),f=null;if(l.type!="url")try{console.log("preload "+l.title+"..."),f=await Di(l.url,{responseType:"blob",timeout:6e4}),console.log("finished. ")}catch(m){console.error(m)}r++}}}}),KH=D1.createInstance({storeName:"writer-layout",description:"Layout data"}),lw=rh("layout",{state:()=>({expandedColumn:"none",leftContent:"instructions",rightContent:"essay",showTimer:!1}),getters:{isLeftExpanded:r=>r.expandedColumn=="left",isRightExpanded:r=>r.expandedColumn=="right",isLeftVisible:r=>r.expandedColumn!="right",isRightVisible:r=>r.expandedColumn!="left",isInstructionsSelected:r=>r.leftContent=="instructions",isInstructionsPdfSelected:r=>r.leftContent=="instructionsPdf",isResourcesSelected:r=>r.leftContent=="resources",isEssaySelected:r=>r.rightContent=="essay",isNotesSelected:r=>r.rightContent=="notes",isInstructionsVisible:r=>r.expandedColumn!="right"&&r.leftContent=="instructions",isInstructionsPdfVisible:r=>r.isInstructionsPdfSelected&&r.isLeftVisible,isResourcesVisible:r=>r.expandedColumn!="right"&&r.leftContent=="resources",isEssayVisible:r=>r.expandedColumn!="left"&&r.rightContent=="essay",isNotesVisible:r=>r.expandedColumn!="left"&&r.rightContent=="notes"},actions:{async initialize(){await this.clearStorage();const r=H0(),l=Qm();this.leftContent=l.hasInstructions?"instructions":r.hasInstruction?"instructionsPdf":r.hasFileResources?"resources":"",this.leftContent||(this.expandedColumn="right")},async clearStorage(){try{await KH.clear()}catch(r){console.log(r)}},async loadFromStorage(){try{const r=await KH.getItem("layout");r&&(this.expandedColumn=r.expandedColumn,this.showTimer=r.showTimer)}catch(r){console.log(r)}},async saveToStorage(){try{await KH.setItem("layout",{expandedColumn:this.expandedColumn,showTimer:this.showTimer})}catch(r){console.log(r)}},showInstructions(){this.setLeftVisible(),this.leftContent="instructions",this.saveToStorage()},showInstructionsPdf(){this.setLeftVisible(),this.leftContent="instructionsPdf",this.saveToStorage()},showResources(){this.setLeftVisible(),this.leftContent="resources",this.saveToStorage()},showEssay(){this.setRightVisible(),this.rightContent="essay",this.saveToStorage()},showNotes(){this.setRightVisible(),this.rightContent="notes",this.saveToStorage()},setLeftVisible(){this.isLeftVisible||(this.expandedColumn="left",this.saveToStorage())},setRightVisible(){this.isRightVisible||(this.expandedColumn="right",this.saveToStorage())},setLeftExpanded(r){this.expandedColumn=r?"left":"none",this.saveToStorage()},setRightExpanded(r){this.expandedColumn=r?"right":"none",this.saveToStorage()},toggleTimer(){this.showTimer=!this.showTimer,this.saveToStorage()}}});var mG={exports:{}};(function(r){var l=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},f=-1,m=1,x=0;l.Diff=function(v,w){return[v,w]},l.prototype.diff_main=function(v,w,E,F){typeof F>"u"&&(this.Diff_Timeout<=0?F=Number.MAX_VALUE:F=new Date().getTime()+this.Diff_Timeout*1e3);var P=F;if(v==null||w==null)throw new Error("Null input. (diff_main)");if(v==w)return v?[new l.Diff(x,v)]:[];typeof E>"u"&&(E=!0);var I=E,z=this.diff_commonPrefix(v,w),j=v.substring(0,z);v=v.substring(z),w=w.substring(z),z=this.diff_commonSuffix(v,w);var U=v.substring(v.length-z);v=v.substring(0,v.length-z),w=w.substring(0,w.length-z);var J=this.diff_compute_(v,w,I,P);return j&&J.unshift(new l.Diff(x,j)),U&&J.push(new l.Diff(x,U)),this.diff_cleanupMerge(J),J},l.prototype.diff_compute_=function(v,w,E,F){var P;if(!v)return[new l.Diff(m,w)];if(!w)return[new l.Diff(f,v)];var I=v.length>w.length?v:w,z=v.length>w.length?w:v,j=I.indexOf(z);if(j!=-1)return P=[new l.Diff(m,I.substring(0,j)),new l.Diff(x,z),new l.Diff(m,I.substring(j+z.length))],v.length>w.length&&(P[0][0]=P[2][0]=f),P;if(z.length==1)return[new l.Diff(f,v),new l.Diff(m,w)];var U=this.diff_halfMatch_(v,w);if(U){var J=U[0],ne=U[1],ye=U[2],pe=U[3],We=U[4],Fe=this.diff_main(J,ye,E,F),ae=this.diff_main(ne,pe,E,F);return Fe.concat([new l.Diff(x,We)],ae)}return E&&v.length>100&&w.length>100?this.diff_lineMode_(v,w,F):this.diff_bisect_(v,w,F)},l.prototype.diff_lineMode_=function(v,w,E){var F=this.diff_linesToChars_(v,w);v=F.chars1,w=F.chars2;var P=F.lineArray,I=this.diff_main(v,w,!1,E);this.diff_charsToLines_(I,P),this.diff_cleanupSemantic(I),I.push(new l.Diff(x,""));for(var z=0,j=0,U=0,J="",ne="";z<I.length;){switch(I[z][0]){case m:U++,ne+=I[z][1];break;case f:j++,J+=I[z][1];break;case x:if(j>=1&&U>=1){I.splice(z-j-U,j+U),z=z-j-U;for(var ye=this.diff_main(J,ne,!1,E),pe=ye.length-1;pe>=0;pe--)I.splice(z,0,ye[pe]);z=z+ye.length}U=0,j=0,J="",ne="";break}z++}return I.pop(),I},l.prototype.diff_bisect_=function(v,w,E){for(var F=v.length,P=w.length,I=Math.ceil((F+P)/2),z=I,j=2*I,U=new Array(j),J=new Array(j),ne=0;ne<j;ne++)U[ne]=-1,J[ne]=-1;U[z+1]=0,J[z+1]=0;for(var ye=F-P,pe=ye%2!=0,We=0,Fe=0,ae=0,Ie=0,oe=0;oe<I&&!(new Date().getTime()>E);oe++){for(var Je=-oe+We;Je<=oe-Fe;Je+=2){var He=z+Je,Ye;Je==-oe||Je!=oe&&U[He-1]<U[He+1]?Ye=U[He+1]:Ye=U[He-1]+1;for(var gt=Ye-Je;Ye<F&&gt<P&&v.charAt(Ye)==w.charAt(gt);)Ye++,gt++;if(U[He]=Ye,Ye>F)Fe+=2;else if(gt>P)We+=2;else if(pe){var Se=z+ye-Je;if(Se>=0&&Se<j&&J[Se]!=-1){var Ne=F-J[Se];if(Ye>=Ne)return this.diff_bisectSplit_(v,w,Ye,gt,E)}}}for(var D=-oe+ae;D<=oe-Ie;D+=2){var Se=z+D,Ne;D==-oe||D!=oe&&J[Se-1]<J[Se+1]?Ne=J[Se+1]:Ne=J[Se-1]+1;for(var Nt=Ne-D;Ne<F&&Nt<P&&v.charAt(F-Ne-1)==w.charAt(P-Nt-1);)Ne++,Nt++;if(J[Se]=Ne,Ne>F)Ie+=2;else if(Nt>P)ae+=2;else if(!pe){var He=z+ye-D;if(He>=0&&He<j&&U[He]!=-1){var Ye=U[He],gt=z+Ye-He;if(Ne=F-Ne,Ye>=Ne)return this.diff_bisectSplit_(v,w,Ye,gt,E)}}}}return[new l.Diff(f,v),new l.Diff(m,w)]},l.prototype.diff_bisectSplit_=function(v,w,E,F,P){var I=v.substring(0,E),z=w.substring(0,F),j=v.substring(E),U=w.substring(F),J=this.diff_main(I,z,!1,P),ne=this.diff_main(j,U,!1,P);return J.concat(ne)},l.prototype.diff_linesToChars_=function(v,w){var E=[],F={};E[0]="";function P(U){for(var J="",ne=0,ye=-1,pe=E.length;ye<U.length-1;){ye=U.indexOf(`
`,ne),ye==-1&&(ye=U.length-1);var We=U.substring(ne,ye+1);(F.hasOwnProperty?F.hasOwnProperty(We):F[We]!==void 0)?J+=String.fromCharCode(F[We]):(pe==I&&(We=U.substring(ne),ye=U.length),J+=String.fromCharCode(pe),F[We]=pe,E[pe++]=We),ne=ye+1}return J}var I=4e4,z=P(v);I=65535;var j=P(w);return{chars1:z,chars2:j,lineArray:E}},l.prototype.diff_charsToLines_=function(v,w){for(var E=0;E<v.length;E++){for(var F=v[E][1],P=[],I=0;I<F.length;I++)P[I]=w[F.charCodeAt(I)];v[E][1]=P.join("")}},l.prototype.diff_commonPrefix=function(v,w){if(!v||!w||v.charAt(0)!=w.charAt(0))return 0;for(var E=0,F=Math.min(v.length,w.length),P=F,I=0;E<P;)v.substring(I,P)==w.substring(I,P)?(E=P,I=E):F=P,P=Math.floor((F-E)/2+E);return P},l.prototype.diff_commonSuffix=function(v,w){if(!v||!w||v.charAt(v.length-1)!=w.charAt(w.length-1))return 0;for(var E=0,F=Math.min(v.length,w.length),P=F,I=0;E<P;)v.substring(v.length-P,v.length-I)==w.substring(w.length-P,w.length-I)?(E=P,I=E):F=P,P=Math.floor((F-E)/2+E);return P},l.prototype.diff_commonOverlap_=function(v,w){var E=v.length,F=w.length;if(E==0||F==0)return 0;E>F?v=v.substring(E-F):E<F&&(w=w.substring(0,E));var P=Math.min(E,F);if(v==w)return P;for(var I=0,z=1;;){var j=v.substring(P-z),U=w.indexOf(j);if(U==-1)return I;z+=U,(U==0||v.substring(P-z)==w.substring(0,z))&&(I=z,z++)}},l.prototype.diff_halfMatch_=function(v,w){if(this.Diff_Timeout<=0)return null;var E=v.length>w.length?v:w,F=v.length>w.length?w:v;if(E.length<4||F.length*2<E.length)return null;var P=this;function I(Fe,ae,Ie){for(var oe=Fe.substring(Ie,Ie+Math.floor(Fe.length/4)),Je=-1,He="",Ye,gt,Se,Ne;(Je=ae.indexOf(oe,Je+1))!=-1;){var D=P.diff_commonPrefix(Fe.substring(Ie),ae.substring(Je)),Nt=P.diff_commonSuffix(Fe.substring(0,Ie),ae.substring(0,Je));He.length<Nt+D&&(He=ae.substring(Je-Nt,Je)+ae.substring(Je,Je+D),Ye=Fe.substring(0,Ie-Nt),gt=Fe.substring(Ie+D),Se=ae.substring(0,Je-Nt),Ne=ae.substring(Je+D))}return He.length*2>=Fe.length?[Ye,gt,Se,Ne,He]:null}var z=I(E,F,Math.ceil(E.length/4)),j=I(E,F,Math.ceil(E.length/2)),U;if(!z&&!j)return null;j?z?U=z[4].length>j[4].length?z:j:U=j:U=z;var J,ne,ye,pe;v.length>w.length?(J=U[0],ne=U[1],ye=U[2],pe=U[3]):(ye=U[0],pe=U[1],J=U[2],ne=U[3]);var We=U[4];return[J,ne,ye,pe,We]},l.prototype.diff_cleanupSemantic=function(v){for(var w=!1,E=[],F=0,P=null,I=0,z=0,j=0,U=0,J=0;I<v.length;)v[I][0]==x?(E[F++]=I,z=U,j=J,U=0,J=0,P=v[I][1]):(v[I][0]==m?U+=v[I][1].length:J+=v[I][1].length,P&&P.length<=Math.max(z,j)&&P.length<=Math.max(U,J)&&(v.splice(E[F-1],0,new l.Diff(f,P)),v[E[F-1]+1][0]=m,F--,F--,I=F>0?E[F-1]:-1,z=0,j=0,U=0,J=0,P=null,w=!0)),I++;for(w&&this.diff_cleanupMerge(v),this.diff_cleanupSemanticLossless(v),I=1;I<v.length;){if(v[I-1][0]==f&&v[I][0]==m){var ne=v[I-1][1],ye=v[I][1],pe=this.diff_commonOverlap_(ne,ye),We=this.diff_commonOverlap_(ye,ne);pe>=We?(pe>=ne.length/2||pe>=ye.length/2)&&(v.splice(I,0,new l.Diff(x,ye.substring(0,pe))),v[I-1][1]=ne.substring(0,ne.length-pe),v[I+1][1]=ye.substring(pe),I++):(We>=ne.length/2||We>=ye.length/2)&&(v.splice(I,0,new l.Diff(x,ne.substring(0,We))),v[I-1][0]=m,v[I-1][1]=ye.substring(0,ye.length-We),v[I+1][0]=f,v[I+1][1]=ne.substring(We),I++),I++}I++}},l.prototype.diff_cleanupSemanticLossless=function(v){function w(We,Fe){if(!We||!Fe)return 6;var ae=We.charAt(We.length-1),Ie=Fe.charAt(0),oe=ae.match(l.nonAlphaNumericRegex_),Je=Ie.match(l.nonAlphaNumericRegex_),He=oe&&ae.match(l.whitespaceRegex_),Ye=Je&&Ie.match(l.whitespaceRegex_),gt=He&&ae.match(l.linebreakRegex_),Se=Ye&&Ie.match(l.linebreakRegex_),Ne=gt&&We.match(l.blanklineEndRegex_),D=Se&&Fe.match(l.blanklineStartRegex_);return Ne||D?5:gt||Se?4:oe&&!He&&Ye?3:He||Ye?2:oe||Je?1:0}for(var E=1;E<v.length-1;){if(v[E-1][0]==x&&v[E+1][0]==x){var F=v[E-1][1],P=v[E][1],I=v[E+1][1],z=this.diff_commonSuffix(F,P);if(z){var j=P.substring(P.length-z);F=F.substring(0,F.length-z),P=j+P.substring(0,P.length-z),I=j+I}for(var U=F,J=P,ne=I,ye=w(F,P)+w(P,I);P.charAt(0)===I.charAt(0);){F+=P.charAt(0),P=P.substring(1)+I.charAt(0),I=I.substring(1);var pe=w(F,P)+w(P,I);pe>=ye&&(ye=pe,U=F,J=P,ne=I)}v[E-1][1]!=U&&(U?v[E-1][1]=U:(v.splice(E-1,1),E--),v[E][1]=J,ne?v[E+1][1]=ne:(v.splice(E+1,1),E--))}E++}},l.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,l.whitespaceRegex_=/\s/,l.linebreakRegex_=/[\r\n]/,l.blanklineEndRegex_=/\n\r?\n$/,l.blanklineStartRegex_=/^\r?\n\r?\n/,l.prototype.diff_cleanupEfficiency=function(v){for(var w=!1,E=[],F=0,P=null,I=0,z=!1,j=!1,U=!1,J=!1;I<v.length;)v[I][0]==x?(v[I][1].length<this.Diff_EditCost&&(U||J)?(E[F++]=I,z=U,j=J,P=v[I][1]):(F=0,P=null),U=J=!1):(v[I][0]==f?J=!0:U=!0,P&&(z&&j&&U&&J||P.length<this.Diff_EditCost/2&&z+j+U+J==3)&&(v.splice(E[F-1],0,new l.Diff(f,P)),v[E[F-1]+1][0]=m,F--,P=null,z&&j?(U=J=!0,F=0):(F--,I=F>0?E[F-1]:-1,U=J=!1),w=!0)),I++;w&&this.diff_cleanupMerge(v)},l.prototype.diff_cleanupMerge=function(v){v.push(new l.Diff(x,""));for(var w=0,E=0,F=0,P="",I="",z;w<v.length;)switch(v[w][0]){case m:F++,I+=v[w][1],w++;break;case f:E++,P+=v[w][1],w++;break;case x:E+F>1?(E!==0&&F!==0&&(z=this.diff_commonPrefix(I,P),z!==0&&(w-E-F>0&&v[w-E-F-1][0]==x?v[w-E-F-1][1]+=I.substring(0,z):(v.splice(0,0,new l.Diff(x,I.substring(0,z))),w++),I=I.substring(z),P=P.substring(z)),z=this.diff_commonSuffix(I,P),z!==0&&(v[w][1]=I.substring(I.length-z)+v[w][1],I=I.substring(0,I.length-z),P=P.substring(0,P.length-z))),w-=E+F,v.splice(w,E+F),P.length&&(v.splice(w,0,new l.Diff(f,P)),w++),I.length&&(v.splice(w,0,new l.Diff(m,I)),w++),w++):w!==0&&v[w-1][0]==x?(v[w-1][1]+=v[w][1],v.splice(w,1)):w++,F=0,E=0,P="",I="";break}v[v.length-1][1]===""&&v.pop();var j=!1;for(w=1;w<v.length-1;)v[w-1][0]==x&&v[w+1][0]==x&&(v[w][1].substring(v[w][1].length-v[w-1][1].length)==v[w-1][1]?(v[w][1]=v[w-1][1]+v[w][1].substring(0,v[w][1].length-v[w-1][1].length),v[w+1][1]=v[w-1][1]+v[w+1][1],v.splice(w-1,1),j=!0):v[w][1].substring(0,v[w+1][1].length)==v[w+1][1]&&(v[w-1][1]+=v[w+1][1],v[w][1]=v[w][1].substring(v[w+1][1].length)+v[w+1][1],v.splice(w+1,1),j=!0)),w++;j&&this.diff_cleanupMerge(v)},l.prototype.diff_xIndex=function(v,w){var E=0,F=0,P=0,I=0,z;for(z=0;z<v.length&&(v[z][0]!==m&&(E+=v[z][1].length),v[z][0]!==f&&(F+=v[z][1].length),!(E>w));z++)P=E,I=F;return v.length!=z&&v[z][0]===f?I:I+(w-P)},l.prototype.diff_prettyHtml=function(v){for(var w=[],E=/&/g,F=/</g,P=/>/g,I=/\n/g,z=0;z<v.length;z++){var j=v[z][0],U=v[z][1],J=U.replace(E,"&amp;").replace(F,"&lt;").replace(P,"&gt;").replace(I,"&para;<br>");switch(j){case m:w[z]='<ins style="background:#e6ffe6;">'+J+"</ins>";break;case f:w[z]='<del style="background:#ffe6e6;">'+J+"</del>";break;case x:w[z]="<span>"+J+"</span>";break}}return w.join("")},l.prototype.diff_text1=function(v){for(var w=[],E=0;E<v.length;E++)v[E][0]!==m&&(w[E]=v[E][1]);return w.join("")},l.prototype.diff_text2=function(v){for(var w=[],E=0;E<v.length;E++)v[E][0]!==f&&(w[E]=v[E][1]);return w.join("")},l.prototype.diff_levenshtein=function(v){for(var w=0,E=0,F=0,P=0;P<v.length;P++){var I=v[P][0],z=v[P][1];switch(I){case m:E+=z.length;break;case f:F+=z.length;break;case x:w+=Math.max(E,F),E=0,F=0;break}}return w+=Math.max(E,F),w},l.prototype.diff_toDelta=function(v){for(var w=[],E=0;E<v.length;E++)switch(v[E][0]){case m:w[E]="+"+encodeURI(v[E][1]);break;case f:w[E]="-"+v[E][1].length;break;case x:w[E]="="+v[E][1].length;break}return w.join("	").replace(/%20/g," ")},l.prototype.diff_fromDelta=function(v,w){for(var E=[],F=0,P=0,I=w.split(/\t/g),z=0;z<I.length;z++){var j=I[z].substring(1);switch(I[z].charAt(0)){case"+":try{E[F++]=new l.Diff(m,decodeURI(j))}catch{throw new Error("Illegal escape in diff_fromDelta: "+j)}break;case"-":case"=":var U=parseInt(j,10);if(isNaN(U)||U<0)throw new Error("Invalid number in diff_fromDelta: "+j);var J=v.substring(P,P+=U);I[z].charAt(0)=="="?E[F++]=new l.Diff(x,J):E[F++]=new l.Diff(f,J);break;default:if(I[z])throw new Error("Invalid diff operation in diff_fromDelta: "+I[z])}}if(P!=v.length)throw new Error("Delta length ("+P+") does not equal source text length ("+v.length+").");return E},l.prototype.match_main=function(v,w,E){if(v==null||w==null||E==null)throw new Error("Null input. (match_main)");return E=Math.max(0,Math.min(E,v.length)),v==w?0:v.length?v.substring(E,E+w.length)==w?E:this.match_bitap_(v,w,E):-1},l.prototype.match_bitap_=function(v,w,E){if(w.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var F=this.match_alphabet_(w),P=this;function I(Ye,gt){var Se=Ye/w.length,Ne=Math.abs(E-gt);return P.Match_Distance?Se+Ne/P.Match_Distance:Ne?1:Se}var z=this.Match_Threshold,j=v.indexOf(w,E);j!=-1&&(z=Math.min(I(0,j),z),j=v.lastIndexOf(w,E+w.length),j!=-1&&(z=Math.min(I(0,j),z)));var U=1<<w.length-1;j=-1;for(var J,ne,ye=w.length+v.length,pe,We=0;We<w.length;We++){for(J=0,ne=ye;J<ne;)I(We,E+ne)<=z?J=ne:ye=ne,ne=Math.floor((ye-J)/2+J);ye=ne;var Fe=Math.max(1,E-ne+1),ae=Math.min(E+ne,v.length)+w.length,Ie=Array(ae+2);Ie[ae+1]=(1<<We)-1;for(var oe=ae;oe>=Fe;oe--){var Je=F[v.charAt(oe-1)];if(We===0?Ie[oe]=(Ie[oe+1]<<1|1)&Je:Ie[oe]=(Ie[oe+1]<<1|1)&Je|((pe[oe+1]|pe[oe])<<1|1)|pe[oe+1],Ie[oe]&U){var He=I(We,oe-1);if(He<=z)if(z=He,j=oe-1,j>E)Fe=Math.max(1,2*E-j);else break}}if(I(We+1,E)>z)break;pe=Ie}return j},l.prototype.match_alphabet_=function(v){for(var w={},E=0;E<v.length;E++)w[v.charAt(E)]=0;for(var E=0;E<v.length;E++)w[v.charAt(E)]|=1<<v.length-E-1;return w},l.prototype.patch_addContext_=function(v,w){if(w.length!=0){if(v.start2===null)throw Error("patch not initialized");for(var E=w.substring(v.start2,v.start2+v.length1),F=0;w.indexOf(E)!=w.lastIndexOf(E)&&E.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)F+=this.Patch_Margin,E=w.substring(v.start2-F,v.start2+v.length1+F);F+=this.Patch_Margin;var P=w.substring(v.start2-F,v.start2);P&&v.diffs.unshift(new l.Diff(x,P));var I=w.substring(v.start2+v.length1,v.start2+v.length1+F);I&&v.diffs.push(new l.Diff(x,I)),v.start1-=P.length,v.start2-=P.length,v.length1+=P.length+I.length,v.length2+=P.length+I.length}},l.prototype.patch_make=function(v,w,E){var F,P;if(typeof v=="string"&&typeof w=="string"&&typeof E>"u")F=v,P=this.diff_main(F,w,!0),P.length>2&&(this.diff_cleanupSemantic(P),this.diff_cleanupEfficiency(P));else if(v&&typeof v=="object"&&typeof w>"u"&&typeof E>"u")P=v,F=this.diff_text1(P);else if(typeof v=="string"&&w&&typeof w=="object"&&typeof E>"u")F=v,P=w;else if(typeof v=="string"&&typeof w=="string"&&E&&typeof E=="object")F=v,P=E;else throw new Error("Unknown call format to patch_make.");if(P.length===0)return[];for(var I=[],z=new l.patch_obj,j=0,U=0,J=0,ne=F,ye=F,pe=0;pe<P.length;pe++){var We=P[pe][0],Fe=P[pe][1];switch(!j&&We!==x&&(z.start1=U,z.start2=J),We){case m:z.diffs[j++]=P[pe],z.length2+=Fe.length,ye=ye.substring(0,J)+Fe+ye.substring(J);break;case f:z.length1+=Fe.length,z.diffs[j++]=P[pe],ye=ye.substring(0,J)+ye.substring(J+Fe.length);break;case x:Fe.length<=2*this.Patch_Margin&&j&&P.length!=pe+1?(z.diffs[j++]=P[pe],z.length1+=Fe.length,z.length2+=Fe.length):Fe.length>=2*this.Patch_Margin&&j&&(this.patch_addContext_(z,ne),I.push(z),z=new l.patch_obj,j=0,ne=ye,U=J);break}We!==m&&(U+=Fe.length),We!==f&&(J+=Fe.length)}return j&&(this.patch_addContext_(z,ne),I.push(z)),I},l.prototype.patch_deepCopy=function(v){for(var w=[],E=0;E<v.length;E++){var F=v[E],P=new l.patch_obj;P.diffs=[];for(var I=0;I<F.diffs.length;I++)P.diffs[I]=new l.Diff(F.diffs[I][0],F.diffs[I][1]);P.start1=F.start1,P.start2=F.start2,P.length1=F.length1,P.length2=F.length2,w[E]=P}return w},l.prototype.patch_apply=function(v,w){if(v.length==0)return[w,[]];v=this.patch_deepCopy(v);var E=this.patch_addPadding(v);w=E+w+E,this.patch_splitMax(v);for(var F=0,P=[],I=0;I<v.length;I++){var z=v[I].start2+F,j=this.diff_text1(v[I].diffs),U,J=-1;if(j.length>this.Match_MaxBits?(U=this.match_main(w,j.substring(0,this.Match_MaxBits),z),U!=-1&&(J=this.match_main(w,j.substring(j.length-this.Match_MaxBits),z+j.length-this.Match_MaxBits),(J==-1||U>=J)&&(U=-1))):U=this.match_main(w,j,z),U==-1)P[I]=!1,F-=v[I].length2-v[I].length1;else{P[I]=!0,F=U-z;var ne;if(J==-1?ne=w.substring(U,U+j.length):ne=w.substring(U,J+this.Match_MaxBits),j==ne)w=w.substring(0,U)+this.diff_text2(v[I].diffs)+w.substring(U+j.length);else{var ye=this.diff_main(j,ne,!1);if(j.length>this.Match_MaxBits&&this.diff_levenshtein(ye)/j.length>this.Patch_DeleteThreshold)P[I]=!1;else{this.diff_cleanupSemanticLossless(ye);for(var pe=0,We,Fe=0;Fe<v[I].diffs.length;Fe++){var ae=v[I].diffs[Fe];ae[0]!==x&&(We=this.diff_xIndex(ye,pe)),ae[0]===m?w=w.substring(0,U+We)+ae[1]+w.substring(U+We):ae[0]===f&&(w=w.substring(0,U+We)+w.substring(U+this.diff_xIndex(ye,pe+ae[1].length))),ae[0]!==f&&(pe+=ae[1].length)}}}}}return w=w.substring(E.length,w.length-E.length),[w,P]},l.prototype.patch_addPadding=function(v){for(var w=this.Patch_Margin,E="",F=1;F<=w;F++)E+=String.fromCharCode(F);for(var F=0;F<v.length;F++)v[F].start1+=w,v[F].start2+=w;var P=v[0],I=P.diffs;if(I.length==0||I[0][0]!=x)I.unshift(new l.Diff(x,E)),P.start1-=w,P.start2-=w,P.length1+=w,P.length2+=w;else if(w>I[0][1].length){var z=w-I[0][1].length;I[0][1]=E.substring(I[0][1].length)+I[0][1],P.start1-=z,P.start2-=z,P.length1+=z,P.length2+=z}if(P=v[v.length-1],I=P.diffs,I.length==0||I[I.length-1][0]!=x)I.push(new l.Diff(x,E)),P.length1+=w,P.length2+=w;else if(w>I[I.length-1][1].length){var z=w-I[I.length-1][1].length;I[I.length-1][1]+=E.substring(0,z),P.length1+=z,P.length2+=z}return E},l.prototype.patch_splitMax=function(v){for(var w=this.Match_MaxBits,E=0;E<v.length;E++)if(!(v[E].length1<=w)){var F=v[E];v.splice(E--,1);for(var P=F.start1,I=F.start2,z="";F.diffs.length!==0;){var j=new l.patch_obj,U=!0;for(j.start1=P-z.length,j.start2=I-z.length,z!==""&&(j.length1=j.length2=z.length,j.diffs.push(new l.Diff(x,z)));F.diffs.length!==0&&j.length1<w-this.Patch_Margin;){var J=F.diffs[0][0],ne=F.diffs[0][1];J===m?(j.length2+=ne.length,I+=ne.length,j.diffs.push(F.diffs.shift()),U=!1):J===f&&j.diffs.length==1&&j.diffs[0][0]==x&&ne.length>2*w?(j.length1+=ne.length,P+=ne.length,U=!1,j.diffs.push(new l.Diff(J,ne)),F.diffs.shift()):(ne=ne.substring(0,w-j.length1-this.Patch_Margin),j.length1+=ne.length,P+=ne.length,J===x?(j.length2+=ne.length,I+=ne.length):U=!1,j.diffs.push(new l.Diff(J,ne)),ne==F.diffs[0][1]?F.diffs.shift():F.diffs[0][1]=F.diffs[0][1].substring(ne.length))}z=this.diff_text2(j.diffs),z=z.substring(z.length-this.Patch_Margin);var ye=this.diff_text1(F.diffs).substring(0,this.Patch_Margin);ye!==""&&(j.length1+=ye.length,j.length2+=ye.length,j.diffs.length!==0&&j.diffs[j.diffs.length-1][0]===x?j.diffs[j.diffs.length-1][1]+=ye:j.diffs.push(new l.Diff(x,ye))),U||v.splice(++E,0,j)}}},l.prototype.patch_toText=function(v){for(var w=[],E=0;E<v.length;E++)w[E]=v[E];return w.join("")},l.prototype.patch_fromText=function(v){var w=[];if(!v)return w;for(var E=v.split(`
`),F=0,P=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;F<E.length;){var I=E[F].match(P);if(!I)throw new Error("Invalid patch string: "+E[F]);var z=new l.patch_obj;for(w.push(z),z.start1=parseInt(I[1],10),I[2]===""?(z.start1--,z.length1=1):I[2]=="0"?z.length1=0:(z.start1--,z.length1=parseInt(I[2],10)),z.start2=parseInt(I[3],10),I[4]===""?(z.start2--,z.length2=1):I[4]=="0"?z.length2=0:(z.start2--,z.length2=parseInt(I[4],10)),F++;F<E.length;){var j=E[F].charAt(0);try{var U=decodeURI(E[F].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+U)}if(j=="-")z.diffs.push(new l.Diff(f,U));else if(j=="+")z.diffs.push(new l.Diff(m,U));else if(j==" ")z.diffs.push(new l.Diff(x,U));else{if(j=="@")break;if(j!=="")throw new Error('Invalid patch mode "'+j+'" in: '+U)}F++}}return w},l.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},l.patch_obj.prototype.toString=function(){var v,w;this.length1===0?v=this.start1+",0":this.length1==1?v=this.start1+1:v=this.start1+1+","+this.length1,this.length2===0?w=this.start2+",0":this.length2==1?w=this.start2+1:w=this.start2+1+","+this.length2;for(var E=["@@ -"+v+" +"+w+` @@
`],F,P=0;P<this.diffs.length;P++){switch(this.diffs[P][0]){case m:F="+";break;case f:F="-";break;case x:F=" ";break}E[P+1]=F+encodeURI(this.diffs[P][1])+`
`}return E.join("").replace(/%20/g," ")},r.exports=l,r.exports.diff_match_patch=l,r.exports.DIFF_DELETE=f,r.exports.DIFF_INSERT=m,r.exports.DIFF_EQUAL=x})(mG);var Tde=mG.exports;const Ode=e8(Tde);var gG={exports:{}},hG={exports:{}};(function(){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l={rotl:function(f,m){return f<<m|f>>>32-m},rotr:function(f,m){return f<<32-m|f>>>m},endian:function(f){if(f.constructor==Number)return l.rotl(f,8)&16711935|l.rotl(f,24)&4278255360;for(var m=0;m<f.length;m++)f[m]=l.endian(f[m]);return f},randomBytes:function(f){for(var m=[];f>0;f--)m.push(Math.floor(Math.random()*256));return m},bytesToWords:function(f){for(var m=[],x=0,v=0;x<f.length;x++,v+=8)m[v>>>5]|=f[x]<<24-v%32;return m},wordsToBytes:function(f){for(var m=[],x=0;x<f.length*32;x+=8)m.push(f[x>>>5]>>>24-x%32&255);return m},bytesToHex:function(f){for(var m=[],x=0;x<f.length;x++)m.push((f[x]>>>4).toString(16)),m.push((f[x]&15).toString(16));return m.join("")},hexToBytes:function(f){for(var m=[],x=0;x<f.length;x+=2)m.push(parseInt(f.substr(x,2),16));return m},bytesToBase64:function(f){for(var m=[],x=0;x<f.length;x+=3)for(var v=f[x]<<16|f[x+1]<<8|f[x+2],w=0;w<4;w++)x*8+w*6<=f.length*8?m.push(r.charAt(v>>>6*(3-w)&63)):m.push("=");return m.join("")},base64ToBytes:function(f){f=f.replace(/[^A-Z0-9+\/]/ig,"");for(var m=[],x=0,v=0;x<f.length;v=++x%4)v!=0&&m.push((r.indexOf(f.charAt(x-1))&Math.pow(2,-2*v+8)-1)<<v*2|r.indexOf(f.charAt(x))>>>6-v*2);return m}};hG.exports=l})();var Dde=hG.exports,P9={utf8:{stringToBytes:function(r){return P9.bin.stringToBytes(unescape(encodeURIComponent(r)))},bytesToString:function(r){return decodeURIComponent(escape(P9.bin.bytesToString(r)))}},bin:{stringToBytes:function(r){for(var l=[],f=0;f<r.length;f++)l.push(r.charCodeAt(f)&255);return l},bytesToString:function(r){for(var l=[],f=0;f<r.length;f++)l.push(String.fromCharCode(r[f]));return l.join("")}}},yj=P9;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Rde=function(r){return r!=null&&(pG(r)||Nde(r)||!!r._isBuffer)};function pG(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function Nde(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&pG(r.slice(0,0))}(function(){var r=Dde,l=yj.utf8,f=Rde,m=yj.bin,x=function(v,w){v.constructor==String?w&&w.encoding==="binary"?v=m.stringToBytes(v):v=l.stringToBytes(v):f(v)?v=Array.prototype.slice.call(v,0):!Array.isArray(v)&&v.constructor!==Uint8Array&&(v=v.toString());for(var E=r.bytesToWords(v),F=v.length*8,P=1732584193,I=-271733879,z=-1732584194,j=271733878,U=0;U<E.length;U++)E[U]=(E[U]<<8|E[U]>>>24)&16711935|(E[U]<<24|E[U]>>>8)&4278255360;E[F>>>5]|=128<<F%32,E[(F+64>>>9<<4)+14]=F;for(var J=x._ff,ne=x._gg,ye=x._hh,pe=x._ii,U=0;U<E.length;U+=16){var We=P,Fe=I,ae=z,Ie=j;P=J(P,I,z,j,E[U+0],7,-680876936),j=J(j,P,I,z,E[U+1],12,-389564586),z=J(z,j,P,I,E[U+2],17,606105819),I=J(I,z,j,P,E[U+3],22,-1044525330),P=J(P,I,z,j,E[U+4],7,-176418897),j=J(j,P,I,z,E[U+5],12,1200080426),z=J(z,j,P,I,E[U+6],17,-1473231341),I=J(I,z,j,P,E[U+7],22,-45705983),P=J(P,I,z,j,E[U+8],7,1770035416),j=J(j,P,I,z,E[U+9],12,-1958414417),z=J(z,j,P,I,E[U+10],17,-42063),I=J(I,z,j,P,E[U+11],22,-1990404162),P=J(P,I,z,j,E[U+12],7,1804603682),j=J(j,P,I,z,E[U+13],12,-40341101),z=J(z,j,P,I,E[U+14],17,-1502002290),I=J(I,z,j,P,E[U+15],22,1236535329),P=ne(P,I,z,j,E[U+1],5,-165796510),j=ne(j,P,I,z,E[U+6],9,-1069501632),z=ne(z,j,P,I,E[U+11],14,643717713),I=ne(I,z,j,P,E[U+0],20,-373897302),P=ne(P,I,z,j,E[U+5],5,-701558691),j=ne(j,P,I,z,E[U+10],9,38016083),z=ne(z,j,P,I,E[U+15],14,-660478335),I=ne(I,z,j,P,E[U+4],20,-405537848),P=ne(P,I,z,j,E[U+9],5,568446438),j=ne(j,P,I,z,E[U+14],9,-1019803690),z=ne(z,j,P,I,E[U+3],14,-187363961),I=ne(I,z,j,P,E[U+8],20,1163531501),P=ne(P,I,z,j,E[U+13],5,-1444681467),j=ne(j,P,I,z,E[U+2],9,-51403784),z=ne(z,j,P,I,E[U+7],14,1735328473),I=ne(I,z,j,P,E[U+12],20,-1926607734),P=ye(P,I,z,j,E[U+5],4,-378558),j=ye(j,P,I,z,E[U+8],11,-2022574463),z=ye(z,j,P,I,E[U+11],16,1839030562),I=ye(I,z,j,P,E[U+14],23,-35309556),P=ye(P,I,z,j,E[U+1],4,-1530992060),j=ye(j,P,I,z,E[U+4],11,1272893353),z=ye(z,j,P,I,E[U+7],16,-155497632),I=ye(I,z,j,P,E[U+10],23,-1094730640),P=ye(P,I,z,j,E[U+13],4,681279174),j=ye(j,P,I,z,E[U+0],11,-358537222),z=ye(z,j,P,I,E[U+3],16,-722521979),I=ye(I,z,j,P,E[U+6],23,76029189),P=ye(P,I,z,j,E[U+9],4,-640364487),j=ye(j,P,I,z,E[U+12],11,-421815835),z=ye(z,j,P,I,E[U+15],16,530742520),I=ye(I,z,j,P,E[U+2],23,-995338651),P=pe(P,I,z,j,E[U+0],6,-198630844),j=pe(j,P,I,z,E[U+7],10,1126891415),z=pe(z,j,P,I,E[U+14],15,-1416354905),I=pe(I,z,j,P,E[U+5],21,-57434055),P=pe(P,I,z,j,E[U+12],6,1700485571),j=pe(j,P,I,z,E[U+3],10,-1894986606),z=pe(z,j,P,I,E[U+10],15,-1051523),I=pe(I,z,j,P,E[U+1],21,-2054922799),P=pe(P,I,z,j,E[U+8],6,1873313359),j=pe(j,P,I,z,E[U+15],10,-30611744),z=pe(z,j,P,I,E[U+6],15,-1560198380),I=pe(I,z,j,P,E[U+13],21,1309151649),P=pe(P,I,z,j,E[U+4],6,-145523070),j=pe(j,P,I,z,E[U+11],10,-1120210379),z=pe(z,j,P,I,E[U+2],15,718787259),I=pe(I,z,j,P,E[U+9],21,-343485551),P=P+We>>>0,I=I+Fe>>>0,z=z+ae>>>0,j=j+Ie>>>0}return r.endian([P,I,z,j])};x._ff=function(v,w,E,F,P,I,z){var j=v+(w&E|~w&F)+(P>>>0)+z;return(j<<I|j>>>32-I)+w},x._gg=function(v,w,E,F,P,I,z){var j=v+(w&F|E&~F)+(P>>>0)+z;return(j<<I|j>>>32-I)+w},x._hh=function(v,w,E,F,P,I,z){var j=v+(w^E^F)+(P>>>0)+z;return(j<<I|j>>>32-I)+w},x._ii=function(v,w,E,F,P,I,z){var j=v+(E^(w|~F))+(P>>>0)+z;return(j<<I|j>>>32-I)+w},x._blocksize=16,x._digestsize=16,gG.exports=function(v,w){if(v==null)throw new Error("Illegal argument "+v);var E=r.wordsToBytes(x(v,w));return w&&w.asBytes?E:w&&w.asString?m.bytesToString(E):r.bytesToHex(E)}})();var Ide=gG.exports;const bG=e8(Ide),Ji=D1.createInstance({storeName:"writer-essay",description:"Essay data"}),G2=new Ode,qH=1e3,Bde=5e3,Mde=5e3,Pde=10,Lde=1e3,GH={storedContent:"",storedHash:"",history:[],lastStoredIndex:-1,lastSentIndex:-1,lastSentHash:"",currentContent:"",sumOfDistances:0,lastCheck:0,lastSave:0,lastSending:0};let OS=0,wj=0;const S1=rh("essay",{state:()=>GH,getters:{hasHistory:r=>r.history.length>0,historyLength:r=>r.history.length,openSendings:r=>r.lastStoredIndex-r.lastSentIndex,unsentHistory(r){let l=[],f=r.lastSentIndex+1;for(;f<r.history.length;)l.push(r.history[f]),f++;return l},formatTimestamp(){return r=>new Date(r).toISOString().slice(0,19).replace("T"," ")},formatIndex(){return r=>r.toString().padStart(9,"0")},makeHash(){return(r,l)=>bG(r+l)}},actions:{async clearStorage(){try{await Ji.clear()}catch(r){console.log(r)}},addToHistory(r,l=0){let f=this.history.push(r)-1;return r.is_delta?this.sumOfDistances+=l:this.sumOfDistances=0,f},async loadFromData(r){OS=1;try{this.$state=GH,this.currentContent=r.content??"",this.storedContent=r.content??"",this.storedHash=r.hash??"",await Ji.clear(),await Ji.setItem("storedContent",this.storedContent),await Ji.setItem("storedHash",this.storedHash);let l=0;for(;l<r.steps.length;){let f=r.steps[l],m={is_delta:f.is_delta,timestamp:f.timestamp,content:f.content,hash_before:f.hash_before,hash_after:f.hash_after};this.addToHistory(m),await Ji.setItem(this.formatIndex(l),m),l++}this.lastStoredIndex=this.history.length-1,this.lastSentIndex=this.history.length-1,this.lastSentHash=this.storedHash,await Ji.setItem("lastStoredIndex",this.lastStoredIndex),await Ji.setItem("lastSentIndex",this.lastSentIndex),await Ji.setItem("lastSentHash",this.lastSentHash)}catch(l){console.log(l)}OS=0,setInterval(this.updateContent,qH)},async loadFromStorage(){OS=1;try{this.$state=GH,this.lastStoredIndex=await Ji.getItem("lastStoredIndex")??-1,this.lastSentIndex=await Ji.getItem("lastSentIndex")??-1,this.lastSentHash=await Ji.getItem("lastSentHash")??"",this.storedContent=await Ji.getItem("storedContent")??"",this.storedHash=await Ji.getItem("storedHash")??"",this.currentContent=this.storedContent;let r=0;for(;r<=this.lastStoredIndex;){let l=await Ji.getItem(this.formatIndex(r));if(l==null)break;this.addToHistory(l),r++}}catch(r){console.log(r)}OS=0,setInterval(this.updateContent,qH)},async updateContent(r=!1,l=!1){const f=Lf(),m=Date.now();if(!(!l&&m-this.lastCheck<qH||OS++||Qm().writingEndReached)){try{const v=this.currentContent+"";let w=null;if(v!=this.storedContent){const E=this.makeHash(v,f.getServerTime(m));let F=G2.diff_main(this.storedContent,v);G2.diff_cleanupEfficiency(F);const P=G2.diff_levenshtein(F),I=G2.patch_toText(G2.patch_make(this.storedContent,F)),z=G2.patch_apply(G2.patch_fromText(I),this.storedContent);this.history.length==0||l||I.length>v.length||this.sumOfDistances+P>Lde||z[0]!=v?w={is_delta:0,timestamp:f.getServerTime(m),content:v,hash_before:this.storedHash,hash_after:E}:(P>=Pde||m-this.lastSave>Bde)&&(w={is_delta:1,timestamp:f.getServerTime(m),content:I,hash_before:this.storedHash,hash_after:E}),w!==null&&(this.lastStoredIndex=this.addToHistory(w,P),this.lastSave=m,this.storedContent=v,this.storedHash=E,await Ji.setItem("storedContent",this.storedContent),await Ji.setItem("storedHash",this.storedHash),await Ji.setItem(this.formatIndex(this.lastStoredIndex),w),await Ji.setItem("lastStoredIndex",this.lastStoredIndex),console.log("Delta:",w.is_delta,"| Distance (sum): ",P,"(",this.sumOfDistances,")","| Editor: ",r,"| Duration:",Date.now()-m,"ms"))}this.lastCheck=m,this.sendUpdate(l)}catch(v){console.error(v)}OS=0}},async sendUpdate(r=!1){if(!r&&Date.now()-this.lastSending<Mde||wj++)return;let l=[],f=this.lastSentIndex,m=this.lastSentHash,x=this.lastSentIndex+1;for(;x<this.history.length;)l.push(this.history[x]),m=this.history[x].hash_after,f=x++;l.length>0&&(await Lf().saveWritingStepsToBackend(l)&&(this.lastSentIndex=f,this.lastSentHash=m,await Ji.setItem("lastSentIndex",f),await Ji.setItem("lastSentHash",m)),this.lastSending=Date.now()),wj=!1},async setAllSavingsSent(){this.lastSentIndex=this.lastStoredIndex,this.lastSentHash=this.storedHash,await Ji.setItem("lastSentIndex",this.lastSentIndex),await Ji.setItem("lastSentHash",this.lastSentHash),this.lastSending=Date.now()},async hasUnsentSavingsInStorage(){return this.lastStoredIndex=await Ji.getItem("lastStoredIndex")??-1,this.lastSentIndex=await Ji.getItem("lastSentIndex")??-1,this.lastStoredIndex>this.lastSentIndex},async hasHashInStorage(r){return this.lastSentHash=await Ji.getItem("lastSentHash")??"",r==this.lastSentHash}}});class k1{constructor(l={}){Cd(this,"note_no",0);Cd(this,"note_text","");Cd(this,"last_change",null);this.setData(l)}static getKeyForNo(l){return"NOTE_"+l}setData(l){l.note_no!==void 0&&l.note_no!==null&&(this.note_no=parseInt(l.note_no)),l.note_text!==void 0&&l.note_text!==null&&(this.note_text=l.note_text.toString()),l.last_change!==void 0&&l.last_change!==null&&(this.last_change=parseInt(l.last_change))}getData(){return{note_no:this.note_no,note_text:this.note_text,last_change:this.last_change}}getKey(){return k1.getKeyForNo(this.note_no)}getClone(){return new k1(this.getData())}isEqual(l){for(const f in this)if(this[f]!==l[f])return!1;return!0}}const bp=D1.createInstance({storeName:"writer-notes",description:"Writer notes data"}),Cj=200;function Fde(){return{keys:[],notes:{},editNotes:{},lastCheck:0,activeKey:null}}let YH=0;const P0=rh("notes",{state:()=>Fde(),getters:{hasWrittenNotes:r=>{for(const l in r.notes)if(r.notes[l].note_text.length>0)return!0;return!1}},actions:{async clearStorage(){try{await bp.clear()}catch(r){console.log(r)}this.$reset()},async loadFromStorage(){try{this.$reset();const r=await bp.getItem("keys");r&&(this.keys=JSON.parse(r));for(const l of this.keys){const f=await bp.getItem(l);if(f){const m=JSON.parse(f);if(typeof m=="object"&&m!==null){const x=new k1(m);this.notes[l]=x,this.editNotes[l]=x.getClone()}}}}catch(r){console.log(r)}},async loadFromData(r){try{await bp.clear(),this.$reset();for(const l of r){const f=new k1(l);this.notes[f.getKey()]=f,this.editNotes[f.getKey()]=f.getClone(),this.keys.push(f.getKey()),await bp.setItem(f.getKey(),JSON.stringify(f.getData()))}await bp.setItem("keys",JSON.stringify(this.keys))}catch(l){console.log(l)}YH=0,setInterval(this.updateContent,Cj)},async prepareNotes(r){const l=[];let f=!1;for(let m=0;m<r;m++){const x=k1.getKeyForNo(m);if(l.push(x),this.activeKey==x&&(f=!0),!(x in this.notes)){const v=new k1({note_no:m});this.notes[x]=v,this.editNotes[x]=v.getClone(),await bp.setItem(x,JSON.stringify(v.getData()))}}this.keys=l,await bp.setItem("keys",JSON.stringify(this.keys)),r>0&&!f&&(this.activeKey=k1.getKeyForNo(0))},async updateContent(r=!1,l=!1){const f=Date.now();if(!(f-this.lastCheck<Cj&&!l||YH++&&!l||Qm().writingEndReached)){for(const x in this.editNotes)try{const v=this.editNotes[x].getClone(),w=this.notes[x]??new k1;if(!v.isEqual(w)){const E=Lf(),F=yp();v.last_change=E.getServerTime(Date.now()),this.editNotes[x].setData(v.getData()),this.notes[x]=v,await bp.setItem(x,JSON.stringify(v.getData())),await F.setChange(new eu({type:eu.TYPE_NOTES,action:eu.ACTION_SAVE,key:x})),console.log("Save Change ","| Editor: ",r,"| Duration:",Date.now()-f,"ms")}this.lastCheck=f}catch(v){console.error(v)}YH=0}},async getChangedData(r=0){const l=Lf(),f=yp(),m=[];for(const x of f.getChangesFor(eu.TYPE_NOTES,r)){const v=await bp.getItem(x.key);v?m.push(l.getChangeDataToSend(x,JSON.parse(v))):m.push(l.getChangeDataToSend(x))}return m}}}),T0=D1.createInstance({storeName:"writer-alerts",description:"Alert Messages"}),NM=rh("alerts",{state:()=>({keys:[],alerts:[],activeKey:"",showAllAlerts:!1}),getters:{countAlerts:r=>r.alerts.length,hasAlerts:r=>r.alerts.length>0,hasActiveAlert:r=>r.activeKey!="",activeMessage(r){const l=r.alerts.find(f=>f.key==r.activeKey);return l?l.message:""},getAlert(r){return l=>r.alerts.find(f=>f.key==l)},formatTimestamp(){return r=>new Date(r*1e3).toLocaleString()}},actions:{showAlerts(){this.showAllAlerts=!0},hideAlert(){this.activeKey="",this.showAllAlerts=!1},async clearStorage(){try{await T0.clear()}catch(r){console.log(r)}},async loadFromStorage(){try{const r=await T0.getItem("alertKeys");r&&(this.keys=JSON.parse(r)),this.activeKey=await T0.getItem("activeKey")??"",this.alerts=[];let l=0;for(;l<this.alerts.length;){let f=await T0.getItem(this.keys[l]);this.alerts.push(f),l++}}catch(r){console.log(r)}},async loadFromData(r){try{await T0.clear();let l=[],f=[],m=0;for(;m<r.length;){let x=r[m];typeof this.getAlert(x.key)>"u"&&(this.activeKey=x.key),f.push(x),l.push(x.key),await T0.setItem(x.key,x),m++}this.keys=l,this.alerts=f,await T0.setItem("alertKeys",JSON.stringify(this.keys)),await T0.setItem("activeKey",this.activeKey)}catch(l){console.log(l)}}}}),zde=5e3,Lf=rh("api",{state:()=>({backendUrl:"",returnUrl:"",userKey:"",environmentKey:"",dataToken:"",fileToken:"",timeOffset:0,initialized:!1,review:!1,showInitFailure:!1,showReplaceConfirmation:!1,showReloadConfirmation:!1,showFinalizeFailure:!1,showAuthorizeFailure:!1,lastStepsTry:0,lastSendingTry:0}),getters:{isAllSent:r=>{const l=S1(),f=yp();return!r.isSending&&l.openSendings+f.countChanges==0},isSending:r=>{r.lastSendingTry>0||r.lastStepsTry>0},getRequestConfig:r=>function(f){let m=r.backendUrl,x=new URLSearchParams,v=m.search(/\?+/);return v!=-1&&(x=new URLSearchParams(m.substr(v)),m=m.substr(0,v)),x.append("LongEssayUser",r.userKey),x.append("LongEssayEnvironment",r.environmentKey),x.append("LongEssaySignature",bG(r.userKey+r.environmentKey+f)),{baseURL:m,params:x,timeout:3e4,responseType:"json",responseEncoding:"utf8"}},getResourceUrl:r=>function(f){const m=this.getRequestConfig(this.fileToken);return m.baseURL+"/file/"+f+"?"+m.params.toString()},getServerTime:r=>function(f){return f==0?0:Math.floor((f-r.timeOffset)/1e3)},getChangeDataToSend:r=>function(f,m=null){const x=f.getData();return m&&(x.payload=m),x.server_time=r.getServerTime(f.last_change),x}},actions:{async init(){let r=!1,l=Va.get("LongEssayHash");if(this.backendUrl=localStorage.getItem("writerBackendUrl"),this.returnUrl=localStorage.getItem("writerReturnUrl"),this.userKey=localStorage.getItem("writerUserKey"),this.environmentKey=localStorage.getItem("writerEnvironmentKey"),this.dataToken=localStorage.getItem("writerDataToken"),this.fileToken=localStorage.getItem("writerFileToken"),this.timeOffset=Math.floor(localStorage.getItem("writerTimeOffset")??0),Va.get("LongEssayUser")&&Va.get("LongEssayUser")!==this.userKey&&(this.userKey=Va.get("LongEssayUser"),r=!0),Va.get("LongEssayEnvironment")&&Va.get("LongEssayEnvironment")!==this.environmentKey&&(this.environmentKey=Va.get("LongEssayEnvironment"),r=!0),Va.get("LongEssayBackend")&&Va.get("LongEssayBackend")!==this.backendUrl&&(this.backendUrl=Va.get("LongEssayBackend")),Va.get("LongEssayReturn")&&Va.get("LongEssayReturn")!==this.returnUrl&&(this.returnUrl=Va.get("LongEssayReturn")),Va.get("LongEssayToken")&&Va.get("LongEssayToken")!==this.dataToken&&(this.dataToken=Va.get("LongEssayToken")),!this.backendUrl||!this.returnUrl||!this.userKey||!this.environmentKey||!this.dataToken){this.showInitFailure=!0;return}const f=S1(),m=yp();r?await f.hasUnsentSavingsInStorage()||m.countChanges>0?(console.log("init: new context, open savings"),this.showReplaceConfirmation=!0):(console.log("init: new context, no open savings"),await this.loadDataFromBackend()):l?await f.hasHashInStorage(l)?(console.log("init: same context, same hash"),await this.loadDataFromStorage()):await f.hasUnsentSavingsInStorage()||m.countChanges>0?(console.log("init: same context, hashes differ, open savings"),this.showReloadConfirmation=!0):(console.log("init: same context, hashes differ, no open savings"),await this.loadDataFromBackend()):await f.hasUnsentSavingsInStorage()||m.countChanges>0?(console.log("init: same context, no server hash, open savings"),await this.loadDataFromStorage()):(console.log("init: same context, no server hash, no open savings"),await this.loadDataFromBackend()),setInterval(this.timedSync,zde)},async timedSync(){await this.saveChangesToBackend(),await this.loadUpdateFromBackend()},async loadDataFromStorage(){console.log("loadDataFromStorage..."),this.updateConfig();const r=_p(),l=aw(),f=Qm(),m=H0(),x=S1(),v=P0(),w=lw(),E=yp();await r.loadFromStorage(),await l.loadFromStorage(),await f.loadFromStorage(),await m.loadFromStorage(),await x.loadFromStorage(),await v.loadFromStorage(),await v.prepareNotes(r.notice_boards),await w.loadFromStorage(),await E.loadFromStorage(),await this.loadUpdateFromBackend(),this.initialized=!0},async loadDataFromBackend(){console.log("loadDataFromBackend..."),this.updateConfig();let r={};try{r=await Di.get("/data",this.getRequestConfig(this.dataToken)),this.setTimeOffset(r),this.refreshToken(r)}catch(P){console.error(P),this.showInitFailure=!0;return}const l=_p(),f=aw(),m=Qm(),x=H0(),v=S1(),w=P0(),E=yp(),F=lw();await l.loadFromData(r.data.settings),await f.loadFromData(r.data.preferences),await m.loadFromData(r.data.task),await x.loadFromData(r.data.resources),await v.loadFromData(r.data.essay),await w.loadFromData(r.data.notes),await w.prepareNotes(l.notice_boards),await E.clearStorage(),await F.initialize(),r.data.essay.started||await this.sendStart(),this.initialized=!0},async loadUpdateFromBackend(){if(this.lastSendingTry>0)return!1;this.lastSendingTry=Date.now();try{const r=await Di.get("/update",this.getRequestConfig(this.dataToken));this.setTimeOffset(r),this.refreshToken(r);const l=Qm(),f=NM(),m=_p(),x=P0();return await l.loadFromData(r.data.task),await f.loadFromData(r.data.alerts),await m.loadFromData(r.data.settings),await x.prepareNotes(m.notice_boards),this.lastSendingTry=0,!0}catch(r){return console.error(r),this.lastSendingTry=0,!1}},async sendStart(){let r={},l={started:this.getServerTime(Date.now())};try{return r=await Di.put("/start",l,this.getRequestConfig(this.dataToken)),this.setTimeOffset(r),this.refreshToken(r),!0}catch(f){return console.error(f),this.showInitFailure=!0,!1}},async saveWritingStepsToBackend(r){let l={},f={steps:r};this.lastStepsTry=Date.now();try{return l=await Di.put("/steps",f,this.getRequestConfig(this.dataToken)),this.setTimeOffset(l),this.refreshToken(l),this.lastStepsTry=0,!0}catch(m){return console.error(m),this.lastStepsTry=0,!1}},async saveChangesToBackend(r=!1){const l=yp(),f=P0(),m=aw();if(r){let x=0;for(;x<5&&this.lastSendingTry>0;)x++,await new Promise(v=>setTimeout(v,1e3))}if(this.lastSendingTry>0)return!1;if(l.countChanges>0){this.lastSendingTry=Date.now();try{const x={notes:await f.getChangedData(this.lastSendingTry),preferences:await m.getChangedData(this.lastSendingTry)},v=await Di.put("/changes",x,this.getRequestConfig(this.dataToken));this.setTimeOffset(v),this.refreshToken(v),await l.setChangesSent(eu.TYPE_NOTES,v.data.notes,this.lastSendingTry),await l.setChangesSent(eu.TYPE_PREFERENCES,v.data.preferences,this.lastSendingTry)}catch(x){return console.error(x),this.lastSendingTry=0,!1}this.lastSendingTry=0}return!0},async saveFinalContentToBackend(r,l,f,m){let x={},v={steps:r,content:l,hash:f,authorized:m};try{return x=await Di.put("/final",v,this.getRequestConfig(this.dataToken)),this.refreshToken(x),!0}catch(w){return console.error(w),!1}},updateConfig(){Va.remove("LongEssayBackend"),Va.remove("LongEssayReturn"),Va.remove("LongEssayUser"),Va.remove("LongEssayEnvironment"),Va.remove("LongEssayToken"),Va.remove("LongEssayHash"),localStorage.setItem("writerBackendUrl",this.backendUrl),localStorage.setItem("writerReturnUrl",this.returnUrl),localStorage.setItem("writerUserKey",this.userKey),localStorage.setItem("writerEnvironmentKey",this.environmentKey),localStorage.setItem("writerDataToken",this.dataToken),localStorage.setItem("writerFileToken",this.fileToken)},setTimeOffset(r){if(r.headers.longessaytime){const l=r.headers.longessaytime*1e3,f=Date.now();this.timeOffset=f-l,localStorage.setItem("writerTimeOffset",this.timeOffset)}},refreshToken(r){r.headers.longessaydatatoken&&(this.dataToken=r.headers.longessaydatatoken,localStorage.setItem("writerDataToken",this.dataToken)),r.headers.longessayfiletoken&&(this.fileToken=r.headers.longessayfiletoken,localStorage.setItem("writerFileToken",this.fileToken))},async finalize(r){const l=_p(),f=Qm(),m=H0(),x=S1(),v=P0(),w=lw(),E=NM(),F=yp();if((r||x.openSendings>0)&&!await this.saveFinalContentToBackend(x.unsentHistory,x.storedContent,x.storedHash,r)){this.review=!0,this.showFinalizeFailure=!0,this.showAuthorizeFailure=r;return}await l.clearStorage(),await f.clearStorage(),await m.clearStorage(),await x.clearStorage(),await v.clearStorage(),await w.clearStorage(),await E.clearStorage(),await F.clearStorage(),localStorage.clear(),window.location=this.returnUrl},async retry(){const r=S1();await this.saveFinalContentToBackend(r.unsentHistory,r.storedContent,r.storedHash,!1)?await r.setAllSavingsSent():this.showFinalizeFailure=!0,this.review=!0}}}),XH=D1.createInstance({storeName:"writer-task",description:"Task data"}),Qm=rh("task",{state:()=>({title:null,writer_name:null,instructions:null,writing_end:null,writing_excluded:null,remaining_time:null}),getters:{hasInstructions:r=>!!r.instructions,hasWritingEnd:r=>!!r.writing_end,writingEndReached:r=>r.remaining_time===0,isExcluded:r=>r.writing_excluded>0},actions:{setData(r){this.title=r.title,this.instructions=r.instructions,this.writer_name=r.writer_name,this.writing_end=r.writing_end,this.writing_excluded=r.writing_excluded},async clearStorage(){try{await XH.clear()}catch(r){console.log(r)}},async loadFromStorage(){try{const r=await XH.getItem("task");this.setData(r)}catch(r){console.log(r)}this.updateRemainingTime(),setInterval(this.updateRemainingTime,1e3)},async loadFromData(r){try{await XH.setItem("task",r),this.setData(r)}catch(l){console.log(l)}this.updateRemainingTime(),setInterval(this.updateRemainingTime,1e3)},updateRemainingTime(){const r=Lf();this.writing_end?this.remaining_time=Math.max(0,this.writing_end-r.getServerTime(Date.now())):this.remaining_time=null,(this.writingEndReached||this.isExcluded)&&(r.review=!0)}}}),Y0=vo({border:[Boolean,Number,String]},"border");function X0(r){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G0();return{borderClasses:Tt(()=>{const m=Ni(r)?r.value:r.border,x=[];if(m===!0||m==="")x.push(`${l}--border`);else if(typeof m=="string"||m===0)for(const v of String(m).split(" "))x.push(`border-${v}`);return x})}}const Hde=[null,"default","comfortable","compact"],hw=vo({density:{type:String,default:"default",validator:r=>Hde.includes(r)}},"density");function qS(r){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G0();return{densityClasses:Tt(()=>`${l}--density-${r.density}`)}}const pw=vo({elevation:{type:[Number,String],validator(r){const l=parseInt(r);return!isNaN(l)&&l>=0&&l<=24}}},"elevation");function bw(r){return{elevationClasses:Tt(()=>{const f=Ni(r)?r.value:r.elevation,m=[];return f==null||m.push(`elevation-${f}`),m})}}const Tp=vo({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function Op(r){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G0();return{roundedClasses:Tt(()=>{const m=Ni(r)?r.value:r.rounded,x=Ni(r)?r.value:r.tile,v=[];if(m===!0||m==="")v.push(`${l}--rounded`);else if(typeof m=="string"||m===0)for(const w of String(m).split(" "))v.push(`rounded-${w}`);else(x||m===!1)&&v.push("rounded-0");return v})}}const Kl=vo({tag:{type:String,default:"div"}},"tag");function EV(r){return bV(()=>{const l=[],f={};if(r.value.background)if(y9(r.value.background)){if(f.backgroundColor=r.value.background,!r.value.text&&ale(r.value.background)){const m=Cp(r.value.background);if(m.a==null||m.a===1){const x=wq(m);f.color=x,f.caretColor=x}}}else l.push(`bg-${r.value.background}`);return r.value.text&&(y9(r.value.text)?(f.color=r.value.text,f.caretColor=r.value.text):l.push(`text-${r.value.text}`)),{colorClasses:l,colorStyles:f}})}function VS(r,l){const f=Tt(()=>({text:Ni(r)?r.value:l?r[l]:null})),{colorClasses:m,colorStyles:x}=EV(f);return{textColorClasses:m,textColorStyles:x}}function T1(r,l){const f=Tt(()=>({background:Ni(r)?r.value:l?r[l]:null})),{colorClasses:m,colorStyles:x}=EV(f);return{backgroundColorClasses:m,backgroundColorStyles:x}}const Vde=["elevated","flat","tonal","outlined","text","plain"];function i8(r,l){return Re(li,null,[r&&Re("span",{key:"overlay",class:`${l}__overlay`},null),Re("span",{key:"underlay",class:`${l}__underlay`},null)])}const GS=vo({color:String,variant:{type:String,default:"elevated",validator:r=>Vde.includes(r)}},"variant");function a8(r){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G0();const f=Tt(()=>{const{variant:v}=lt(r);return`${l}--variant-${v}`}),{colorClasses:m,colorStyles:x}=EV(Tt(()=>{const{variant:v,color:w}=lt(r);return{[["elevated","flat"].includes(v)?"background":"text"]:w}}));return{colorClasses:m,colorStyles:x,variantClasses:f}}const vG=vo({baseColor:String,divided:Boolean,...Y0(),...Ii(),...hw(),...pw(),...Tp(),...Kl(),...Od(),...GS()},"VBtnGroup"),zT=ns()({name:"VBtnGroup",props:vG(),setup(r,l){let{slots:f}=l;const{themeClasses:m}=Dd(r),{densityClasses:x}=qS(r),{borderClasses:v}=X0(r),{elevationClasses:w}=bw(r),{roundedClasses:E}=Op(r);US({VBtn:{height:"auto",baseColor:ts(r,"baseColor"),color:ts(r,"color"),density:ts(r,"density"),flat:!0,variant:ts(r,"variant")}}),Qs(()=>Re(r.tag,{class:["v-btn-group",{"v-btn-group--divided":r.divided},m.value,v.value,x.value,w.value,E.value,r.class],style:r.style},f))}}),$de=vo({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Ude=vo({value:null,disabled:Boolean,selectedClass:String},"group-item");function Zde(r,l){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const m=Tl("useGroupItem");if(!m)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const x=qT();zf(Symbol.for(`${l.description}:id`),x);const v=bl(l,null);if(!v){if(!f)return v;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${l.description}`)}const w=ts(r,"value"),E=Tt(()=>!!(v.disabled.value||r.disabled));v.register({id:x,value:w,disabled:E},m),$u(()=>{v.unregister(x)});const F=Tt(()=>v.isSelected(x)),P=Tt(()=>v.items.value[0].id===x),I=Tt(()=>v.items.value[v.items.value.length-1].id===x),z=Tt(()=>F.value&&[v.selectedClass.value,r.selectedClass]);return Yo(F,j=>{m.emit("group:selected",{value:j})},{flush:"sync"}),{id:x,isSelected:F,isFirst:P,isLast:I,toggle:()=>v.select(x,!F.value),select:j=>v.select(x,j),selectedClass:z,value:w,disabled:E,group:v}}function Wde(r,l){let f=!1;const m=Jc([]),x=Sp(r,"modelValue",[],j=>j==null?[]:xG(m,pV(j)),j=>{const U=Kde(m,j);return r.multiple?U:U[0]}),v=Tl("useGroup");function w(j,U){const J=j,ne=Symbol.for(`${l.description}:id`),pe=RS(ne,v==null?void 0:v.vnode).indexOf(U);lt(J.value)==null&&(J.value=pe,J.useIndexAsValue=!0),pe>-1?m.splice(pe,0,J):m.push(J)}function E(j){if(f)return;F();const U=m.findIndex(J=>J.id===j);m.splice(U,1)}function F(){const j=m.find(U=>!U.disabled);j&&r.mandatory==="force"&&!x.value.length&&(x.value=[j.id])}Ap(()=>{F()}),$u(()=>{f=!0}),aV(()=>{for(let j=0;j<m.length;j++)m[j].useIndexAsValue&&(m[j].value=j)});function P(j,U){const J=m.find(ne=>ne.id===j);if(!(U&&(J!=null&&J.disabled)))if(r.multiple){const ne=x.value.slice(),ye=ne.findIndex(We=>We===j),pe=~ye;if(U=U??!pe,pe&&r.mandatory&&ne.length<=1||!pe&&r.max!=null&&ne.length+1>r.max)return;ye<0&&U?ne.push(j):ye>=0&&!U&&ne.splice(ye,1),x.value=ne}else{const ne=x.value.includes(j);if(r.mandatory&&ne)return;x.value=U??!ne?[j]:[]}}function I(j){if(r.multiple,x.value.length){const U=x.value[0],J=m.findIndex(pe=>pe.id===U);let ne=(J+j)%m.length,ye=m[ne];for(;ye.disabled&&ne!==J;)ne=(ne+j)%m.length,ye=m[ne];if(ye.disabled)return;x.value=[m[ne].id]}else{const U=m.find(J=>!J.disabled);U&&(x.value=[U.id])}}const z={register:w,unregister:E,selected:x,select:P,disabled:ts(r,"disabled"),prev:()=>I(m.length-1),next:()=>I(1),isSelected:j=>x.value.includes(j),selectedClass:Tt(()=>r.selectedClass),items:Tt(()=>m),getItemIndex:j=>jde(m,j)};return zf(l,z),z}function jde(r,l){const f=xG(r,[l]);return f.length?r.findIndex(m=>m.id===f[0]):-1}function xG(r,l){const f=[];return l.forEach(m=>{const x=r.find(w=>YM(m,w.value)),v=r[m];(x==null?void 0:x.value)!=null?f.push(x.id):v!=null&&f.push(v.id)}),f}function Kde(r,l){const f=[];return l.forEach(m=>{const x=r.findIndex(v=>v.id===m);if(~x){const v=r[x];f.push(v.value!=null?v.value:x)}}),f}const yG=Symbol.for("vuetify:v-btn-toggle"),qde=vo({...vG(),...$de()},"VBtnToggle"),Gde=ns()({name:"VBtnToggle",props:qde(),emits:{"update:modelValue":r=>!0},setup(r,l){let{slots:f}=l;const{isSelected:m,next:x,prev:v,select:w,selected:E}=Wde(r,yG);return Qs(()=>{const F=zT.filterProps(r);return Re(zT,Ua({class:["v-btn-toggle",r.class]},F,{style:r.style}),{default:()=>{var P;return[(P=f.default)==null?void 0:P.call(f,{isSelected:m,next:x,prev:v,select:w,selected:E})]}})}),{next:x,prev:v,select:w}}}),Yde=vo({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),Vu=ns(!1)({name:"VDefaultsProvider",props:Yde(),setup(r,l){let{slots:f}=l;const{defaults:m,disabled:x,reset:v,root:w,scoped:E}=WT(r);return US(m,{reset:v,root:w,scoped:E,disabled:x}),()=>{var F;return(F=f.default)==null?void 0:F.call(f)}}}),Xde=["x-small","small","default","large","x-large"],l8=vo({size:{type:[String,Number],default:"default"}},"size");function c8(r){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G0();return bV(()=>{let f,m;return SM(Xde,r.size)?f=`${l}--size-${r.size}`:r.size&&(m={width:xr(r.size),height:xr(r.size)}),{sizeClasses:f,sizeStyles:m}})}const Jde=vo({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:Hu,...Ii(),...l8(),...Kl({tag:"i"}),...Od()},"VIcon"),zr=ns()({name:"VIcon",props:Jde(),setup(r,l){let{attrs:f,slots:m}=l;const x=kr(),{themeClasses:v}=Dd(r),{iconData:w}=Ece(Tt(()=>x.value||r.icon)),{sizeClasses:E}=c8(r),{textColorClasses:F,textColorStyles:P}=VS(ts(r,"color"));return Qs(()=>{var j,U;const I=(j=m.default)==null?void 0:j.call(m);I&&(x.value=(U=uq(I).filter(J=>J.type===jT&&J.children&&typeof J.children=="string")[0])==null?void 0:U.children);const z=!!(f.onClick||f.onClickOnce);return Re(w.value.component,{tag:r.tag,icon:w.value.icon,class:["v-icon","notranslate",v.value,E.value,F.value,{"v-icon--clickable":z,"v-icon--disabled":r.disabled,"v-icon--start":r.start,"v-icon--end":r.end},r.class],style:[E.value?void 0:{fontSize:xr(r.size),height:xr(r.size),width:xr(r.size)},P.value,r.style],role:z?"button":void 0,"aria-hidden":!z,tabindex:z?r.disabled?-1:0:void 0},{default:()=>[I]})}),{}}});function wG(r,l){const f=kr(),m=Rr(!1);if(hV){const x=new IntersectionObserver(v=>{m.value=!!v.find(w=>w.isIntersecting)},l);$u(()=>{x.disconnect()}),Yo(f,(v,w)=>{w&&(x.unobserve(w),m.value=!1),v&&x.observe(v)},{flush:"post"})}return{intersectionRef:f,isIntersecting:m}}const Qde=vo({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Ii(),...l8(),...Kl({tag:"div"}),...Od()},"VProgressCircular"),efe=ns()({name:"VProgressCircular",props:Qde(),setup(r,l){let{slots:f}=l;const m=20,x=2*Math.PI*m,v=kr(),{themeClasses:w}=Dd(r),{sizeClasses:E,sizeStyles:F}=c8(r),{textColorClasses:P,textColorStyles:I}=VS(ts(r,"color")),{textColorClasses:z,textColorStyles:j}=VS(ts(r,"bgColor")),{intersectionRef:U,isIntersecting:J}=wG(),{resizeRef:ne,contentRect:ye}=Iq(),pe=Tt(()=>Math.max(0,Math.min(100,parseFloat(r.modelValue)))),We=Tt(()=>Number(r.width)),Fe=Tt(()=>F.value?Number(r.size):ye.value?ye.value.width:Math.max(We.value,32)),ae=Tt(()=>m/(1-We.value/Fe.value)*2),Ie=Tt(()=>We.value/Fe.value*ae.value),oe=Tt(()=>xr((100-pe.value)/100*x));return Ep(()=>{U.value=v.value,ne.value=v.value}),Qs(()=>Re(r.tag,{ref:v,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!r.indeterminate,"v-progress-circular--visible":J.value,"v-progress-circular--disable-shrink":r.indeterminate==="disable-shrink"},w.value,E.value,P.value,r.class],style:[F.value,I.value,r.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":r.indeterminate?void 0:pe.value},{default:()=>[Re("svg",{style:{transform:`rotate(calc(-90deg + ${Number(r.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${ae.value} ${ae.value}`},[Re("circle",{class:["v-progress-circular__underlay",z.value],style:j.value,fill:"transparent",cx:"50%",cy:"50%",r:m,"stroke-width":Ie.value,"stroke-dasharray":x,"stroke-dashoffset":0},null),Re("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:m,"stroke-width":Ie.value,"stroke-dasharray":x,"stroke-dashoffset":oe.value},null)]),f.default&&Re("div",{class:"v-progress-circular__content"},[f.default({value:pe.value})])]})),{}}}),vw=vo({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function xw(r){return{dimensionStyles:Tt(()=>{const f={},m=xr(r.height),x=xr(r.maxHeight),v=xr(r.maxWidth),w=xr(r.minHeight),E=xr(r.minWidth),F=xr(r.width);return m!=null&&(f.height=m),x!=null&&(f.maxHeight=x),v!=null&&(f.maxWidth=v),w!=null&&(f.minHeight=w),E!=null&&(f.minWidth=E),F!=null&&(f.width=F),f})}}const _j={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},TV=vo({location:String},"location");function OV(r){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=arguments.length>2?arguments[2]:void 0;const{isRtl:m}=WS();return{locationStyles:Tt(()=>{if(!r.location)return{};const{side:v,align:w}=v9(r.location.split(" ").length>1?r.location:`${r.location} center`,m.value);function E(P){return f?f(P):0}const F={};return v!=="center"&&(l?F[_j[v]]=`calc(100% - ${E(v)}px)`:F[v]=0),w!=="center"?l?F[_j[w]]=`calc(100% - ${E(w)}px)`:F[w]=0:(v==="center"?F.top=F.left="50%":F[{top:"left",bottom:"left",left:"top",right:"top"}[v]]="50%",F.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[v]),F})}}const tfe=vo({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Ii(),...TV({location:"top"}),...Tp(),...Kl(),...Od()},"VProgressLinear"),nfe=ns()({name:"VProgressLinear",props:tfe(),emits:{"update:modelValue":r=>!0},setup(r,l){var Se;let{slots:f}=l;const m=Sp(r,"modelValue"),{isRtl:x,rtlClasses:v}=WS(),{themeClasses:w}=Dd(r),{locationStyles:E}=OV(r),{textColorClasses:F,textColorStyles:P}=VS(r,"color"),{backgroundColorClasses:I,backgroundColorStyles:z}=T1(Tt(()=>r.bgColor||r.color)),{backgroundColorClasses:j,backgroundColorStyles:U}=T1(Tt(()=>r.bufferColor||r.bgColor||r.color)),{backgroundColorClasses:J,backgroundColorStyles:ne}=T1(r,"color"),{roundedClasses:ye}=Op(r),{intersectionRef:pe,isIntersecting:We}=wG(),Fe=Tt(()=>parseFloat(r.max)),ae=Tt(()=>parseFloat(r.height)),Ie=Tt(()=>zS(parseFloat(r.bufferValue)/Fe.value*100,0,100)),oe=Tt(()=>zS(parseFloat(m.value)/Fe.value*100,0,100)),Je=Tt(()=>x.value!==r.reverse),He=Tt(()=>r.indeterminate?"fade-transition":"slide-x-transition"),Ye=da&&((Se=window.matchMedia)==null?void 0:Se.call(window,"(forced-colors: active)").matches);function gt(Ne){if(!pe.value)return;const{left:D,right:Nt,width:sn}=pe.value.getBoundingClientRect(),vn=Je.value?sn-Ne.clientX+(Nt-sn):Ne.clientX-D;m.value=Math.round(vn/sn*Fe.value)}return Qs(()=>Re(r.tag,{ref:pe,class:["v-progress-linear",{"v-progress-linear--absolute":r.absolute,"v-progress-linear--active":r.active&&We.value,"v-progress-linear--reverse":Je.value,"v-progress-linear--rounded":r.rounded,"v-progress-linear--rounded-bar":r.roundedBar,"v-progress-linear--striped":r.striped},ye.value,w.value,v.value,r.class],style:[{bottom:r.location==="bottom"?0:void 0,top:r.location==="top"?0:void 0,height:r.active?xr(ae.value):0,"--v-progress-linear-height":xr(ae.value),...r.absolute?E.value:{}},r.style],role:"progressbar","aria-hidden":r.active?"false":"true","aria-valuemin":"0","aria-valuemax":r.max,"aria-valuenow":r.indeterminate?void 0:oe.value,onClick:r.clickable&&gt},{default:()=>[r.stream&&Re("div",{key:"stream",class:["v-progress-linear__stream",F.value],style:{...P.value,[Je.value?"left":"right"]:xr(-ae.value),borderTop:`${xr(ae.value/2)} dotted`,opacity:parseFloat(r.bufferOpacity),top:`calc(50% - ${xr(ae.value/4)})`,width:xr(100-Ie.value,"%"),"--v-progress-linear-stream-to":xr(ae.value*(Je.value?1:-1))}},null),Re("div",{class:["v-progress-linear__background",Ye?void 0:I.value],style:[z.value,{opacity:parseFloat(r.bgOpacity),width:r.stream?0:void 0}]},null),Re("div",{class:["v-progress-linear__buffer",Ye?void 0:j.value],style:[U.value,{opacity:parseFloat(r.bufferOpacity),width:xr(Ie.value,"%")}]},null),Re(kp,{name:He.value},{default:()=>[r.indeterminate?Re("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(Ne=>Re("div",{key:Ne,class:["v-progress-linear__indeterminate",Ne,Ye?void 0:J.value],style:ne.value},null))]):Re("div",{class:["v-progress-linear__determinate",Ye?void 0:J.value],style:[ne.value,{width:xr(oe.value,"%")}]},null)]}),f.default&&Re("div",{class:"v-progress-linear__content"},[f.default({value:oe.value,buffer:Ie.value})])]})),{}}}),CG=vo({loading:[Boolean,String]},"loader");function _G(r){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G0();return{loaderClasses:Tt(()=>({[`${l}--loading`]:r.loading}))}}function ofe(r,l){var m;let{slots:f}=l;return Re("div",{class:`${r.name}__loader`},[((m=f.default)==null?void 0:m.call(f,{color:r.color,isActive:r.active}))||Re(nfe,{absolute:r.absolute,active:r.active,color:r.color,height:"2",indeterminate:!0},null)])}const rfe=["static","relative","fixed","absolute","sticky"],SG=vo({position:{type:String,validator:r=>rfe.includes(r)}},"position");function kG(r){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G0();return{positionClasses:Tt(()=>r.position?`${l}--${r.position}`:void 0)}}function sfe(){const r=Tl("useRoute");return Tt(()=>{var l;return(l=r==null?void 0:r.proxy)==null?void 0:l.$route})}function AG(){var r,l;return(l=(r=Tl("useRouter"))==null?void 0:r.proxy)==null?void 0:l.$router}function DV(r,l){var P,I;const f=sie("RouterLink"),m=Tt(()=>!!(r.href||r.to)),x=Tt(()=>(m==null?void 0:m.value)||DW(l,"click")||DW(r,"click"));if(typeof f=="string"||!("useLink"in f))return{isLink:m,isClickable:x,href:ts(r,"href")};const v=Tt(()=>({...r,to:ts(()=>r.to||"")})),w=f.useLink(v.value),E=Tt(()=>r.to?w:void 0),F=sfe();return{isLink:m,isClickable:x,route:(P=E.value)==null?void 0:P.route,navigate:(I=E.value)==null?void 0:I.navigate,isActive:Tt(()=>{var z,j,U;return E.value?r.exact?F.value?((U=E.value.isExactActive)==null?void 0:U.value)&&YM(E.value.route.value.query,F.value.query):((j=E.value.isExactActive)==null?void 0:j.value)??!1:((z=E.value.isActive)==null?void 0:z.value)??!1:!1}),href:Tt(()=>{var z;return r.to?(z=E.value)==null?void 0:z.route.value.href:r.href})}}const RV=vo({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let JH=!1;function ife(r,l){let f=!1,m,x;da&&(Pf(()=>{window.addEventListener("popstate",v),m=r==null?void 0:r.beforeEach((w,E,F)=>{JH?f?l(F):F():setTimeout(()=>f?l(F):F()),JH=!0}),x=r==null?void 0:r.afterEach(()=>{JH=!1})}),Ff(()=>{window.removeEventListener("popstate",v),m==null||m(),x==null||x()}));function v(w){var E;(E=w.state)!=null&&E.replaced||(f=!0,setTimeout(()=>f=!1))}}function afe(r,l){Yo(()=>{var f;return(f=r.isActive)==null?void 0:f.value},f=>{r.isLink.value&&f&&l&&Pf(()=>{l(!0)})},{immediate:!0})}const L9=Symbol("rippleStop"),lfe=80;function Sj(r,l){r.style.transform=l,r.style.webkitTransform=l}function F9(r){return r.constructor.name==="TouchEvent"}function EG(r){return r.constructor.name==="KeyboardEvent"}const cfe=function(r,l){var z;let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=0,x=0;if(!EG(r)){const j=l.getBoundingClientRect(),U=F9(r)?r.touches[r.touches.length-1]:r;m=U.clientX-j.left,x=U.clientY-j.top}let v=0,w=.3;(z=l._ripple)!=null&&z.circle?(w=.15,v=l.clientWidth/2,v=f.center?v:v+Math.sqrt((m-v)**2+(x-v)**2)/4):v=Math.sqrt(l.clientWidth**2+l.clientHeight**2)/2;const E=`${(l.clientWidth-v*2)/2}px`,F=`${(l.clientHeight-v*2)/2}px`,P=f.center?E:`${m-v}px`,I=f.center?F:`${x-v}px`;return{radius:v,scale:w,x:P,y:I,centerX:E,centerY:F}},IM={show(r,l){var U;let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((U=l==null?void 0:l._ripple)!=null&&U.enabled))return;const m=document.createElement("span"),x=document.createElement("span");m.appendChild(x),m.className="v-ripple__container",f.class&&(m.className+=` ${f.class}`);const{radius:v,scale:w,x:E,y:F,centerX:P,centerY:I}=cfe(r,l,f),z=`${v*2}px`;x.className="v-ripple__animation",x.style.width=z,x.style.height=z,l.appendChild(m);const j=window.getComputedStyle(l);j&&j.position==="static"&&(l.style.position="relative",l.dataset.previousPosition="static"),x.classList.add("v-ripple__animation--enter"),x.classList.add("v-ripple__animation--visible"),Sj(x,`translate(${E}, ${F}) scale3d(${w},${w},${w})`),x.dataset.activated=String(performance.now()),setTimeout(()=>{x.classList.remove("v-ripple__animation--enter"),x.classList.add("v-ripple__animation--in"),Sj(x,`translate(${P}, ${I}) scale3d(1,1,1)`)},0)},hide(r){var v;if(!((v=r==null?void 0:r._ripple)!=null&&v.enabled))return;const l=r.getElementsByClassName("v-ripple__animation");if(l.length===0)return;const f=l[l.length-1];if(f.dataset.isHiding)return;f.dataset.isHiding="true";const m=performance.now()-Number(f.dataset.activated),x=Math.max(250-m,0);setTimeout(()=>{f.classList.remove("v-ripple__animation--in"),f.classList.add("v-ripple__animation--out"),setTimeout(()=>{var E;r.getElementsByClassName("v-ripple__animation").length===1&&r.dataset.previousPosition&&(r.style.position=r.dataset.previousPosition,delete r.dataset.previousPosition),((E=f.parentNode)==null?void 0:E.parentNode)===r&&r.removeChild(f.parentNode)},300)},x)}};function TG(r){return typeof r>"u"||!!r}function HT(r){const l={},f=r.currentTarget;if(!(!(f!=null&&f._ripple)||f._ripple.touched||r[L9])){if(r[L9]=!0,F9(r))f._ripple.touched=!0,f._ripple.isTouch=!0;else if(f._ripple.isTouch)return;if(l.center=f._ripple.centered||EG(r),f._ripple.class&&(l.class=f._ripple.class),F9(r)){if(f._ripple.showTimerCommit)return;f._ripple.showTimerCommit=()=>{IM.show(r,f,l)},f._ripple.showTimer=window.setTimeout(()=>{var m;(m=f==null?void 0:f._ripple)!=null&&m.showTimerCommit&&(f._ripple.showTimerCommit(),f._ripple.showTimerCommit=null)},lfe)}else IM.show(r,f,l)}}function kj(r){r[L9]=!0}function Rf(r){const l=r.currentTarget;if(l!=null&&l._ripple){if(window.clearTimeout(l._ripple.showTimer),r.type==="touchend"&&l._ripple.showTimerCommit){l._ripple.showTimerCommit(),l._ripple.showTimerCommit=null,l._ripple.showTimer=window.setTimeout(()=>{Rf(r)});return}window.setTimeout(()=>{l._ripple&&(l._ripple.touched=!1)}),IM.hide(l)}}function OG(r){const l=r.currentTarget;l!=null&&l._ripple&&(l._ripple.showTimerCommit&&(l._ripple.showTimerCommit=null),window.clearTimeout(l._ripple.showTimer))}let VT=!1;function DG(r){!VT&&(r.keyCode===EW.enter||r.keyCode===EW.space)&&(VT=!0,HT(r))}function RG(r){VT=!1,Rf(r)}function NG(r){VT&&(VT=!1,Rf(r))}function IG(r,l,f){const{value:m,modifiers:x}=l,v=TG(m);if(v||IM.hide(r),r._ripple=r._ripple??{},r._ripple.enabled=v,r._ripple.centered=x.center,r._ripple.circle=x.circle,Bae(m)&&m.class&&(r._ripple.class=m.class),v&&!f){if(x.stop){r.addEventListener("touchstart",kj,{passive:!0}),r.addEventListener("mousedown",kj);return}r.addEventListener("touchstart",HT,{passive:!0}),r.addEventListener("touchend",Rf,{passive:!0}),r.addEventListener("touchmove",OG,{passive:!0}),r.addEventListener("touchcancel",Rf),r.addEventListener("mousedown",HT),r.addEventListener("mouseup",Rf),r.addEventListener("mouseleave",Rf),r.addEventListener("keydown",DG),r.addEventListener("keyup",RG),r.addEventListener("blur",NG),r.addEventListener("dragstart",Rf,{passive:!0})}else!v&&f&&BG(r)}function BG(r){r.removeEventListener("mousedown",HT),r.removeEventListener("touchstart",HT),r.removeEventListener("touchend",Rf),r.removeEventListener("touchmove",OG),r.removeEventListener("touchcancel",Rf),r.removeEventListener("mouseup",Rf),r.removeEventListener("mouseleave",Rf),r.removeEventListener("keydown",DG),r.removeEventListener("keyup",RG),r.removeEventListener("dragstart",Rf),r.removeEventListener("blur",NG)}function ufe(r,l){IG(r,l,!1)}function dfe(r){delete r._ripple,BG(r)}function ffe(r,l){if(l.value===l.oldValue)return;const f=TG(l.oldValue);IG(r,l,f)}const NV={mounted:ufe,unmounted:dfe,updated:ffe},mfe=vo({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:yG},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Hu,appendIcon:Hu,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...Y0(),...Ii(),...hw(),...vw(),...pw(),...Ude(),...CG(),...TV(),...SG(),...Tp(),...RV(),...l8(),...Kl({tag:"button"}),...Od(),...GS({variant:"elevated"})},"VBtn"),ai=ns()({name:"VBtn",props:mfe(),emits:{"group:selected":r=>!0},setup(r,l){let{attrs:f,slots:m}=l;const{themeClasses:x}=Dd(r),{borderClasses:v}=X0(r),{densityClasses:w}=qS(r),{dimensionStyles:E}=xw(r),{elevationClasses:F}=bw(r),{loaderClasses:P}=_G(r),{locationStyles:I}=OV(r),{positionClasses:z}=kG(r),{roundedClasses:j}=Op(r),{sizeClasses:U,sizeStyles:J}=c8(r),ne=Zde(r,r.symbol,!1),ye=DV(r,f),pe=Tt(()=>{var Se;return r.active!==void 0?r.active:ye.isLink.value?(Se=ye.isActive)==null?void 0:Se.value:ne==null?void 0:ne.isSelected.value}),We=Tt(()=>pe.value?r.activeColor??r.color:r.color),Fe=Tt(()=>{var Ne,D;return{color:(ne==null?void 0:ne.isSelected.value)&&(!ye.isLink.value||((Ne=ye.isActive)==null?void 0:Ne.value))||!ne||((D=ye.isActive)==null?void 0:D.value)?We.value??r.baseColor:r.baseColor,variant:r.variant}}),{colorClasses:ae,colorStyles:Ie,variantClasses:oe}=a8(Fe),Je=Tt(()=>(ne==null?void 0:ne.disabled.value)||r.disabled),He=Tt(()=>r.variant==="elevated"&&!(r.disabled||r.flat||r.border)),Ye=Tt(()=>{if(!(r.value===void 0||typeof r.value=="symbol"))return Object(r.value)===r.value?JSON.stringify(r.value,null,0):r.value});function gt(Se){var Ne;Je.value||ye.isLink.value&&(Se.metaKey||Se.ctrlKey||Se.shiftKey||Se.button!==0||f.target==="_blank")||((Ne=ye.navigate)==null||Ne.call(ye,Se),ne==null||ne.toggle())}return afe(ye,ne==null?void 0:ne.select),Qs(()=>{const Se=ye.isLink.value?"a":r.tag,Ne=!!(r.prependIcon||m.prepend),D=!!(r.appendIcon||m.append),Nt=!!(r.icon&&r.icon!==!0);return Yr(Re(Se,{type:Se==="a"?void 0:"button",class:["v-btn",ne==null?void 0:ne.selectedClass.value,{"v-btn--active":pe.value,"v-btn--block":r.block,"v-btn--disabled":Je.value,"v-btn--elevated":He.value,"v-btn--flat":r.flat,"v-btn--icon":!!r.icon,"v-btn--loading":r.loading,"v-btn--readonly":r.readonly,"v-btn--slim":r.slim,"v-btn--stacked":r.stacked},x.value,v.value,ae.value,w.value,F.value,P.value,z.value,j.value,U.value,oe.value,r.class],style:[Ie.value,E.value,I.value,J.value,r.style],"aria-busy":r.loading?!0:void 0,disabled:Je.value||void 0,href:ye.href.value,tabindex:r.loading||r.readonly?-1:void 0,onClick:gt,value:Ye.value},{default:()=>{var sn;return[i8(!0,"v-btn"),!r.icon&&Ne&&Re("span",{key:"prepend",class:"v-btn__prepend"},[m.prepend?Re(Vu,{key:"prepend-defaults",disabled:!r.prependIcon,defaults:{VIcon:{icon:r.prependIcon}}},m.prepend):Re(zr,{key:"prepend-icon",icon:r.prependIcon},null)]),Re("span",{class:"v-btn__content","data-no-activator":""},[!m.default&&Nt?Re(zr,{key:"content-icon",icon:r.icon},null):Re(Vu,{key:"content-defaults",disabled:!Nt,defaults:{VIcon:{icon:r.icon}}},{default:()=>{var vn;return[((vn=m.default)==null?void 0:vn.call(m))??r.text]}})]),!r.icon&&D&&Re("span",{key:"append",class:"v-btn__append"},[m.append?Re(Vu,{key:"append-defaults",disabled:!r.appendIcon,defaults:{VIcon:{icon:r.appendIcon}}},m.append):Re(zr,{key:"append-icon",icon:r.appendIcon},null)]),!!r.loading&&Re("span",{key:"loader",class:"v-btn__loader"},[((sn=m.loader)==null?void 0:sn.call(m))??Re(efe,{color:typeof r.loading=="boolean"?void 0:r.loading,indeterminate:!0,width:"2"},null)])]}}),[[NV,!Je.value&&r.ripple,"",{center:!!r.icon}]])}),{group:ne}}}),gfe={__name:"Timer",setup(r){const l=Qm(),f=lw();function m(x){const v=("00"+Math.floor(x)%60).slice(-2),w=("00"+Math.floor(x/60)%60).slice(-2),E=("00"+Math.floor(x/3600)%24).slice(-2),F=Math.floor(x/86400);return F>1?F+" Tage "+E+" Stunden":F>0?F+" Tag "+E+" Stunden":E!="00"?E+":"+w+":"+v+" Stunden":w!="00"?w+":"+v+" Minuten":v+" Sekunden"}return(x,v)=>Yr((_r(),$a(ai,{onClick:v[0]||(v[0]=w=>lt(f).toggleTimer())},{default:Wn(()=>[Re(zr,{left:"",icon:"mdi-clock-outline"}),Yr(Bn("span",null,kd(m(lt(l).remaining_time)),513),[[Cs,lt(f).showTimer]]),Yr(Bn("span",null,"Restzeit",512),[[Cs,!lt(f).showTimer]])]),_:1},512)),[[Cs,!lt(l).writingEndReached]])}},V0=ns()({name:"VCardActions",props:Ii(),setup(r,l){let{slots:f}=l;return US({VBtn:{slim:!0,variant:"text"}}),Qs(()=>{var m;return Re("div",{class:["v-card-actions",r.class],style:r.style},[(m=f.default)==null?void 0:m.call(f)])}),{}}}),hfe=vo({opacity:[Number,String],...Ii(),...Kl()},"VCardSubtitle"),pfe=ns()({name:"VCardSubtitle",props:hfe(),setup(r,l){let{slots:f}=l;return Qs(()=>Re(r.tag,{class:["v-card-subtitle",r.class],style:[{"--v-card-subtitle-opacity":r.opacity},r.style]},f)),{}}}),z9=yV("v-card-title");function bfe(r){return{aspectStyles:Tt(()=>{const l=Number(r.aspectRatio);return l?{paddingBottom:String(1/l*100)+"%"}:void 0})}}const MG=vo({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...Ii(),...vw()},"VResponsive"),Aj=ns()({name:"VResponsive",props:MG(),setup(r,l){let{slots:f}=l;const{aspectStyles:m}=bfe(r),{dimensionStyles:x}=xw(r);return Qs(()=>{var v;return Re("div",{class:["v-responsive",{"v-responsive--inline":r.inline},r.class],style:[x.value,r.style]},[Re("div",{class:"v-responsive__sizer",style:m.value},null),(v=f.additional)==null?void 0:v.call(f),f.default&&Re("div",{class:["v-responsive__content",r.contentClass]},[f.default()])])}),{}}}),PG=vo({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:r=>r!==!0}},"transition"),NS=(r,l)=>{let{slots:f}=l;const{transition:m,disabled:x,group:v,...w}=r,{component:E=v?gV:kp,...F}=typeof m=="object"?m:{};return W0(E,Ua(typeof m=="string"?{name:x?"":m}:F,typeof m=="string"?{}:Object.fromEntries(Object.entries({disabled:x,group:v}).filter(P=>{let[I,z]=P;return z!==void 0})),w),f)};function vfe(r,l){if(!hV)return;const f=l.modifiers||{},m=l.value,{handler:x,options:v}=typeof m=="object"?m:{handler:m,options:{}},w=new IntersectionObserver(function(){var z;let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],F=arguments.length>1?arguments[1]:void 0;const P=(z=r._observe)==null?void 0:z[l.instance.$.uid];if(!P)return;const I=E.some(j=>j.isIntersecting);x&&(!f.quiet||P.init)&&(!f.once||I||P.init)&&x(I,E,F),I&&f.once?LG(r,l):P.init=!0},v);r._observe=Object(r._observe),r._observe[l.instance.$.uid]={init:!1,observer:w},w.observe(r)}function LG(r,l){var m;const f=(m=r._observe)==null?void 0:m[l.instance.$.uid];f&&(f.observer.unobserve(r),delete r._observe[l.instance.$.uid])}const xfe={mounted:vfe,unmounted:LG},yfe=vo({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...MG(),...Ii(),...Tp(),...PG()},"VImg"),u8=ns()({name:"VImg",directives:{intersect:xfe},props:yfe(),emits:{loadstart:r=>!0,load:r=>!0,error:r=>!0},setup(r,l){let{emit:f,slots:m}=l;const{backgroundColorClasses:x,backgroundColorStyles:v}=T1(ts(r,"color")),{roundedClasses:w}=Op(r),E=Tl("VImg"),F=Rr(""),P=kr(),I=Rr(r.eager?"loading":"idle"),z=Rr(),j=Rr(),U=Tt(()=>r.src&&typeof r.src=="object"?{src:r.src.src,srcset:r.srcset||r.src.srcset,lazySrc:r.lazySrc||r.src.lazySrc,aspect:Number(r.aspectRatio||r.src.aspect||0)}:{src:r.src,srcset:r.srcset,lazySrc:r.lazySrc,aspect:Number(r.aspectRatio||0)}),J=Tt(()=>U.value.aspect||z.value/j.value||0);Yo(()=>r.src,()=>{ne(I.value!=="idle")}),Yo(J,(Ne,D)=>{!Ne&&D&&P.value&&ae(P.value)}),EK(()=>ne());function ne(Ne){if(!(r.eager&&Ne)&&!(hV&&!Ne&&!r.eager)){if(I.value="loading",U.value.lazySrc){const D=new Image;D.src=U.value.lazySrc,ae(D,null)}U.value.src&&Pf(()=>{var D;f("loadstart",((D=P.value)==null?void 0:D.currentSrc)||U.value.src),setTimeout(()=>{var Nt;if(!E.isUnmounted)if((Nt=P.value)!=null&&Nt.complete){if(P.value.naturalWidth||pe(),I.value==="error")return;J.value||ae(P.value,null),I.value==="loading"&&ye()}else J.value||ae(P.value),We()})})}}function ye(){var Ne;E.isUnmounted||(We(),ae(P.value),I.value="loaded",f("load",((Ne=P.value)==null?void 0:Ne.currentSrc)||U.value.src))}function pe(){var Ne;E.isUnmounted||(I.value="error",f("error",((Ne=P.value)==null?void 0:Ne.currentSrc)||U.value.src))}function We(){const Ne=P.value;Ne&&(F.value=Ne.currentSrc||Ne.src)}let Fe=-1;$u(()=>{clearTimeout(Fe)});function ae(Ne){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const Nt=()=>{if(clearTimeout(Fe),E.isUnmounted)return;const{naturalHeight:sn,naturalWidth:vn}=Ne;sn||vn?(z.value=vn,j.value=sn):!Ne.complete&&I.value==="loading"&&D!=null?Fe=window.setTimeout(Nt,D):(Ne.currentSrc.endsWith(".svg")||Ne.currentSrc.startsWith("data:image/svg+xml"))&&(z.value=1,j.value=1)};Nt()}const Ie=Tt(()=>({"v-img__img--cover":r.cover,"v-img__img--contain":!r.cover})),oe=()=>{var Nt;if(!U.value.src||I.value==="idle")return null;const Ne=Re("img",{class:["v-img__img",Ie.value],style:{objectPosition:r.position},src:U.value.src,srcset:U.value.srcset,alt:r.alt,crossorigin:r.crossorigin,referrerpolicy:r.referrerpolicy,draggable:r.draggable,sizes:r.sizes,ref:P,onLoad:ye,onError:pe},null),D=(Nt=m.sources)==null?void 0:Nt.call(m);return Re(NS,{transition:r.transition,appear:!0},{default:()=>[Yr(D?Re("picture",{class:"v-img__picture"},[D,Ne]):Ne,[[Cs,I.value==="loaded"]])]})},Je=()=>Re(NS,{transition:r.transition},{default:()=>[U.value.lazySrc&&I.value!=="loaded"&&Re("img",{class:["v-img__img","v-img__img--preload",Ie.value],style:{objectPosition:r.position},src:U.value.lazySrc,alt:r.alt,crossorigin:r.crossorigin,referrerpolicy:r.referrerpolicy,draggable:r.draggable},null)]}),He=()=>m.placeholder?Re(NS,{transition:r.transition,appear:!0},{default:()=>[(I.value==="loading"||I.value==="error"&&!m.error)&&Re("div",{class:"v-img__placeholder"},[m.placeholder()])]}):null,Ye=()=>m.error?Re(NS,{transition:r.transition,appear:!0},{default:()=>[I.value==="error"&&Re("div",{class:"v-img__error"},[m.error()])]}):null,gt=()=>r.gradient?Re("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${r.gradient})`}},null):null,Se=Rr(!1);{const Ne=Yo(J,D=>{D&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{Se.value=!0})}),Ne())})}return Qs(()=>{const Ne=Aj.filterProps(r);return Yr(Re(Aj,Ua({class:["v-img",{"v-img--absolute":r.absolute,"v-img--booting":!Se.value},x.value,w.value,r.class],style:[{width:xr(r.width==="auto"?z.value:r.width)},v.value,r.style]},Ne,{aspectRatio:J.value,"aria-label":r.alt,role:r.alt?"img":void 0}),{additional:()=>Re(li,null,[Re(oe,null,null),Re(Je,null,null),Re(gt,null,null),Re(He,null,null),Re(Ye,null,null)]),default:m.default}),[[jM("intersect"),{handler:ne,options:r.options},null,{once:!0}]])}),{currentSrc:F,image:P,state:I,naturalWidth:z,naturalHeight:j}}}),wfe=vo({start:Boolean,end:Boolean,icon:Hu,image:String,text:String,...Y0(),...Ii(),...hw(),...Tp(),...l8(),...Kl(),...Od(),...GS({variant:"flat"})},"VAvatar"),BM=ns()({name:"VAvatar",props:wfe(),setup(r,l){let{slots:f}=l;const{themeClasses:m}=Dd(r),{borderClasses:x}=X0(r),{colorClasses:v,colorStyles:w,variantClasses:E}=a8(r),{densityClasses:F}=qS(r),{roundedClasses:P}=Op(r),{sizeClasses:I,sizeStyles:z}=c8(r);return Qs(()=>Re(r.tag,{class:["v-avatar",{"v-avatar--start":r.start,"v-avatar--end":r.end},m.value,x.value,v.value,F.value,P.value,I.value,E.value,r.class],style:[w.value,z.value,r.style]},{default:()=>[f.default?Re(Vu,{key:"content-defaults",defaults:{VImg:{cover:!0,src:r.image},VIcon:{icon:r.icon}}},{default:()=>[f.default()]}):r.image?Re(u8,{key:"image",src:r.image,alt:"",cover:!0},null):r.icon?Re(zr,{key:"icon",icon:r.icon},null):r.text,i8(!1,"v-avatar")]})),{}}}),Cfe=vo({appendAvatar:String,appendIcon:Hu,prependAvatar:String,prependIcon:Hu,subtitle:[String,Number],title:[String,Number],...Ii(),...hw()},"VCardItem"),_fe=ns()({name:"VCardItem",props:Cfe(),setup(r,l){let{slots:f}=l;return Qs(()=>{var P;const m=!!(r.prependAvatar||r.prependIcon),x=!!(m||f.prepend),v=!!(r.appendAvatar||r.appendIcon),w=!!(v||f.append),E=!!(r.title!=null||f.title),F=!!(r.subtitle!=null||f.subtitle);return Re("div",{class:["v-card-item",r.class],style:r.style},[x&&Re("div",{key:"prepend",class:"v-card-item__prepend"},[f.prepend?Re(Vu,{key:"prepend-defaults",disabled:!m,defaults:{VAvatar:{density:r.density,image:r.prependAvatar},VIcon:{density:r.density,icon:r.prependIcon}}},f.prepend):Re(li,null,[r.prependAvatar&&Re(BM,{key:"prepend-avatar",density:r.density,image:r.prependAvatar},null),r.prependIcon&&Re(zr,{key:"prepend-icon",density:r.density,icon:r.prependIcon},null)])]),Re("div",{class:"v-card-item__content"},[E&&Re(z9,{key:"title"},{default:()=>{var I;return[((I=f.title)==null?void 0:I.call(f))??r.title]}}),F&&Re(pfe,{key:"subtitle"},{default:()=>{var I;return[((I=f.subtitle)==null?void 0:I.call(f))??r.subtitle]}}),(P=f.default)==null?void 0:P.call(f)]),w&&Re("div",{key:"append",class:"v-card-item__append"},[f.append?Re(Vu,{key:"append-defaults",disabled:!v,defaults:{VAvatar:{density:r.density,image:r.appendAvatar},VIcon:{density:r.density,icon:r.appendIcon}}},f.append):Re(li,null,[r.appendIcon&&Re(zr,{key:"append-icon",density:r.density,icon:r.appendIcon},null),r.appendAvatar&&Re(BM,{key:"append-avatar",density:r.density,image:r.appendAvatar},null)])])])}),{}}}),Sfe=vo({opacity:[Number,String],...Ii(),...Kl()},"VCardText"),$0=ns()({name:"VCardText",props:Sfe(),setup(r,l){let{slots:f}=l;return Qs(()=>Re(r.tag,{class:["v-card-text",r.class],style:[{"--v-card-text-opacity":r.opacity},r.style]},f)),{}}}),kfe=vo({appendAvatar:String,appendIcon:Hu,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Hu,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...Y0(),...Ii(),...hw(),...vw(),...pw(),...CG(),...TV(),...SG(),...Tp(),...RV(),...Kl(),...Od(),...GS({variant:"elevated"})},"VCard"),cw=ns()({name:"VCard",directives:{Ripple:NV},props:kfe(),setup(r,l){let{attrs:f,slots:m}=l;const{themeClasses:x}=Dd(r),{borderClasses:v}=X0(r),{colorClasses:w,colorStyles:E,variantClasses:F}=a8(r),{densityClasses:P}=qS(r),{dimensionStyles:I}=xw(r),{elevationClasses:z}=bw(r),{loaderClasses:j}=_G(r),{locationStyles:U}=OV(r),{positionClasses:J}=kG(r),{roundedClasses:ne}=Op(r),ye=DV(r,f),pe=Tt(()=>r.link!==!1&&ye.isLink.value),We=Tt(()=>!r.disabled&&r.link!==!1&&(r.link||ye.isClickable.value));return Qs(()=>{const Fe=pe.value?"a":r.tag,ae=!!(m.title||r.title!=null),Ie=!!(m.subtitle||r.subtitle!=null),oe=ae||Ie,Je=!!(m.append||r.appendAvatar||r.appendIcon),He=!!(m.prepend||r.prependAvatar||r.prependIcon),Ye=!!(m.image||r.image),gt=oe||He||Je,Se=!!(m.text||r.text!=null);return Yr(Re(Fe,{class:["v-card",{"v-card--disabled":r.disabled,"v-card--flat":r.flat,"v-card--hover":r.hover&&!(r.disabled||r.flat),"v-card--link":We.value},x.value,v.value,w.value,P.value,z.value,j.value,J.value,ne.value,F.value,r.class],style:[E.value,I.value,U.value,r.style],href:ye.href.value,onClick:We.value&&ye.navigate,tabindex:r.disabled?-1:void 0},{default:()=>{var Ne;return[Ye&&Re("div",{key:"image",class:"v-card__image"},[m.image?Re(Vu,{key:"image-defaults",disabled:!r.image,defaults:{VImg:{cover:!0,src:r.image}}},m.image):Re(u8,{key:"image-img",cover:!0,src:r.image},null)]),Re(ofe,{name:"v-card",active:!!r.loading,color:typeof r.loading=="boolean"?void 0:r.loading},{default:m.loader}),gt&&Re(_fe,{key:"item",prependAvatar:r.prependAvatar,prependIcon:r.prependIcon,title:r.title,subtitle:r.subtitle,appendAvatar:r.appendAvatar,appendIcon:r.appendIcon},{default:m.item,prepend:m.prepend,title:m.title,subtitle:m.subtitle,append:m.append}),Se&&Re($0,{key:"text"},{default:()=>{var D;return[((D=m.text)==null?void 0:D.call(m))??r.text]}}),(Ne=m.default)==null?void 0:Ne.call(m),m.actions&&Re(V0,null,{default:m.actions}),i8(We.value,"v-card")]}}),[[jM("ripple"),We.value&&r.ripple]])}),{}}}),Afe=vo({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function Hf(r,l,f){return ns()({name:r,props:Afe({mode:f,origin:l}),setup(m,x){let{slots:v}=x;const w={onBeforeEnter(E){m.origin&&(E.style.transformOrigin=m.origin)},onLeave(E){if(m.leaveAbsolute){const{offsetTop:F,offsetLeft:P,offsetWidth:I,offsetHeight:z}=E;E._transitionInitialStyles={position:E.style.position,top:E.style.top,left:E.style.left,width:E.style.width,height:E.style.height},E.style.position="absolute",E.style.top=`${F}px`,E.style.left=`${P}px`,E.style.width=`${I}px`,E.style.height=`${z}px`}m.hideOnLeave&&E.style.setProperty("display","none","important")},onAfterLeave(E){if(m.leaveAbsolute&&(E!=null&&E._transitionInitialStyles)){const{position:F,top:P,left:I,width:z,height:j}=E._transitionInitialStyles;delete E._transitionInitialStyles,E.style.position=F||"",E.style.top=P||"",E.style.left=I||"",E.style.width=z||"",E.style.height=j||""}}};return()=>{const E=m.group?gV:kp;return W0(E,{name:m.disabled?"":r,css:!m.disabled,...m.group?void 0:{mode:m.mode},...m.disabled?{}:w},v.default)}}})}function FG(r,l){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return ns()({name:r,props:{mode:{type:String,default:f},disabled:Boolean,group:Boolean},setup(m,x){let{slots:v}=x;const w=m.group?gV:kp;return()=>W0(w,{name:m.disabled?"":r,css:!m.disabled,...m.disabled?{}:l},v.default)}})}function zG(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const f=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",m=Mf(`offset-${f}`);return{onBeforeEnter(w){w._parent=w.parentNode,w._initialStyle={transition:w.style.transition,overflow:w.style.overflow,[f]:w.style[f]}},onEnter(w){const E=w._initialStyle;w.style.setProperty("transition","none","important"),w.style.overflow="hidden";const F=`${w[m]}px`;w.style[f]="0",w.offsetHeight,w.style.transition=E.transition,r&&w._parent&&w._parent.classList.add(r),requestAnimationFrame(()=>{w.style[f]=F})},onAfterEnter:v,onEnterCancelled:v,onLeave(w){w._initialStyle={transition:"",overflow:w.style.overflow,[f]:w.style[f]},w.style.overflow="hidden",w.style[f]=`${w[m]}px`,w.offsetHeight,requestAnimationFrame(()=>w.style[f]="0")},onAfterLeave:x,onLeaveCancelled:x};function x(w){r&&w._parent&&w._parent.classList.remove(r),v(w)}function v(w){const E=w._initialStyle[f];w.style.overflow=w._initialStyle.overflow,E!=null&&(w.style[f]=E),delete w._initialStyle}}const Efe=vo({target:[Object,Array]},"v-dialog-transition"),Tfe=ns()({name:"VDialogTransition",props:Efe(),setup(r,l){let{slots:f}=l;const m={onBeforeEnter(x){x.style.pointerEvents="none",x.style.visibility="hidden"},async onEnter(x,v){var j;await new Promise(U=>requestAnimationFrame(U)),await new Promise(U=>requestAnimationFrame(U)),x.style.visibility="";const{x:w,y:E,sx:F,sy:P,speed:I}=Tj(r.target,x),z=ST(x,[{transform:`translate(${w}px, ${E}px) scale(${F}, ${P})`,opacity:0},{}],{duration:225*I,easing:xle});(j=Ej(x))==null||j.forEach(U=>{ST(U,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*I,easing:w9})}),z.finished.then(()=>v())},onAfterEnter(x){x.style.removeProperty("pointer-events")},onBeforeLeave(x){x.style.pointerEvents="none"},async onLeave(x,v){var j;await new Promise(U=>requestAnimationFrame(U));const{x:w,y:E,sx:F,sy:P,speed:I}=Tj(r.target,x);ST(x,[{},{transform:`translate(${w}px, ${E}px) scale(${F}, ${P})`,opacity:0}],{duration:125*I,easing:yle}).finished.then(()=>v()),(j=Ej(x))==null||j.forEach(U=>{ST(U,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*I,easing:w9})})},onAfterLeave(x){x.style.removeProperty("pointer-events")}};return()=>r.target?Re(kp,Ua({name:"dialog-transition"},m,{css:!1}),f):Re(kp,{name:"dialog-transition"},f)}});function Ej(r){var f;const l=(f=r.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:f.children;return l&&[...l]}function Tj(r,l){const f=hq(r),m=pq(l),[x,v]=getComputedStyle(l).transformOrigin.split(" ").map(pe=>parseFloat(pe)),[w,E]=getComputedStyle(l).getPropertyValue("--v-overlay-anchor-origin").split(" ");let F=f.left+f.width/2;w==="left"||E==="left"?F-=f.width/2:(w==="right"||E==="right")&&(F+=f.width/2);let P=f.top+f.height/2;w==="top"||E==="top"?P-=f.height/2:(w==="bottom"||E==="bottom")&&(P+=f.height/2);const I=f.width/m.width,z=f.height/m.height,j=Math.max(1,I,z),U=I/j||0,J=z/j||0,ne=m.width*m.height/(window.innerWidth*window.innerHeight),ye=ne>.12?Math.min(1.5,(ne-.12)*10+1):1;return{x:F-(x+m.left),y:P-(v+m.top),sx:U,sy:J,speed:ye}}Hf("fab-transition","center center","out-in");Hf("dialog-bottom-transition");Hf("dialog-top-transition");Hf("fade-transition");Hf("scale-transition");Hf("scroll-x-transition");Hf("scroll-x-reverse-transition");Hf("scroll-y-transition");Hf("scroll-y-reverse-transition");Hf("slide-x-transition");Hf("slide-x-reverse-transition");Hf("slide-y-transition");Hf("slide-y-reverse-transition");const HG=FG("expand-transition",zG());FG("expand-x-transition",zG("",!0));function QH(r,l){return{x:r.x+l.x,y:r.y+l.y}}function Ofe(r,l){return{x:r.x-l.x,y:r.y-l.y}}function Oj(r,l){if(r.side==="top"||r.side==="bottom"){const{side:f,align:m}=r,x=m==="left"?0:m==="center"?l.width/2:m==="right"?l.width:m,v=f==="top"?0:f==="bottom"?l.height:f;return QH({x,y:v},l)}else if(r.side==="left"||r.side==="right"){const{side:f,align:m}=r,x=f==="left"?0:f==="right"?l.width:f,v=m==="top"?0:m==="center"?l.height/2:m==="bottom"?l.height:m;return QH({x,y:v},l)}return QH({x:l.width/2,y:l.height/2},l)}const VG={static:Nfe,connected:Bfe},Dfe=vo({locationStrategy:{type:[String,Function],default:"static",validator:r=>typeof r=="function"||r in VG},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function Rfe(r,l){const f=kr({}),m=kr();da&&E1(()=>!!(l.isActive.value&&r.locationStrategy),v=>{var w,E;Yo(()=>r.locationStrategy,v),Ff(()=>{window.removeEventListener("resize",x),m.value=void 0}),window.addEventListener("resize",x,{passive:!0}),typeof r.locationStrategy=="function"?m.value=(w=r.locationStrategy(l,r,f))==null?void 0:w.updateLocation:m.value=(E=VG[r.locationStrategy](l,r,f))==null?void 0:E.updateLocation});function x(v){var w;(w=m.value)==null||w.call(m,v)}return{contentStyles:f,updateLocation:m}}function Nfe(){}function Ife(r,l){const f=pq(r);return l?f.x+=parseFloat(r.style.right||0):f.x-=parseFloat(r.style.left||0),f.y-=parseFloat(r.style.top||0),f}function Bfe(r,l,f){(Array.isArray(r.target.value)||_le(r.target.value))&&Object.assign(f.value,{position:"fixed",top:0,[r.isRtl.value?"right":"left"]:0});const{preferredAnchor:x,preferredOrigin:v}=bV(()=>{const J=v9(l.location,r.isRtl.value),ne=l.origin==="overlap"?J:l.origin==="auto"?LH(J):v9(l.origin,r.isRtl.value);return J.side===ne.side&&J.align===FH(ne).align?{preferredAnchor:RW(J),preferredOrigin:RW(ne)}:{preferredAnchor:J,preferredOrigin:ne}}),[w,E,F,P]=["minWidth","minHeight","maxWidth","maxHeight"].map(J=>Tt(()=>{const ne=parseFloat(l[J]);return isNaN(ne)?1/0:ne})),I=Tt(()=>{if(Array.isArray(l.offset))return l.offset;if(typeof l.offset=="string"){const J=l.offset.split(" ").map(parseFloat);return J.length<2&&J.push(0),J}return typeof l.offset=="number"?[l.offset,0]:[0,0]});let z=!1;const j=new ResizeObserver(()=>{z&&U()});Yo([r.target,r.contentEl],(J,ne)=>{let[ye,pe]=J,[We,Fe]=ne;We&&!Array.isArray(We)&&j.unobserve(We),ye&&!Array.isArray(ye)&&j.observe(ye),Fe&&j.unobserve(Fe),pe&&j.observe(pe)},{immediate:!0}),Ff(()=>{j.disconnect()});function U(){if(z=!1,requestAnimationFrame(()=>z=!0),!r.target.value||!r.contentEl.value)return;const J=hq(r.target.value),ne=Ife(r.contentEl.value,r.isRtl.value),ye=AM(r.contentEl.value),pe=12;ye.length||(ye.push(document.documentElement),r.contentEl.value.style.top&&r.contentEl.value.style.left||(ne.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),ne.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const We=ye.reduce((Se,Ne)=>{const D=Ne.getBoundingClientRect(),Nt=new sw({x:Ne===document.documentElement?0:D.x,y:Ne===document.documentElement?0:D.y,width:Ne.clientWidth,height:Ne.clientHeight});return Se?new sw({x:Math.max(Se.left,Nt.left),y:Math.max(Se.top,Nt.top),width:Math.min(Se.right,Nt.right)-Math.max(Se.left,Nt.left),height:Math.min(Se.bottom,Nt.bottom)-Math.max(Se.top,Nt.top)}):Nt},void 0);We.x+=pe,We.y+=pe,We.width-=pe*2,We.height-=pe*2;let Fe={anchor:x.value,origin:v.value};function ae(Se){const Ne=new sw(ne),D=Oj(Se.anchor,J),Nt=Oj(Se.origin,Ne);let{x:sn,y:vn}=Ofe(D,Nt);switch(Se.anchor.side){case"top":vn-=I.value[0];break;case"bottom":vn+=I.value[0];break;case"left":sn-=I.value[0];break;case"right":sn+=I.value[0];break}switch(Se.anchor.align){case"top":vn-=I.value[1];break;case"bottom":vn+=I.value[1];break;case"left":sn-=I.value[1];break;case"right":sn+=I.value[1];break}return Ne.x+=sn,Ne.y+=vn,Ne.width=Math.min(Ne.width,F.value),Ne.height=Math.min(Ne.height,P.value),{overflows:IW(Ne,We),x:sn,y:vn}}let Ie=0,oe=0;const Je={x:0,y:0},He={x:!1,y:!1};let Ye=-1;for(;!(Ye++>10);){const{x:Se,y:Ne,overflows:D}=ae(Fe);Ie+=Se,oe+=Ne,ne.x+=Se,ne.y+=Ne;{const Nt=NW(Fe.anchor),sn=D.x.before||D.x.after,vn=D.y.before||D.y.after;let Tn=!1;if(["x","y"].forEach(rt=>{if(rt==="x"&&sn&&!He.x||rt==="y"&&vn&&!He.y){const Un={anchor:{...Fe.anchor},origin:{...Fe.origin}},Hr=rt==="x"?Nt==="y"?FH:LH:Nt==="y"?LH:FH;Un.anchor=Hr(Un.anchor),Un.origin=Hr(Un.origin);const{overflows:xt}=ae(Un);(xt[rt].before<=D[rt].before&&xt[rt].after<=D[rt].after||xt[rt].before+xt[rt].after<(D[rt].before+D[rt].after)/2)&&(Fe=Un,Tn=He[rt]=!0)}}),Tn)continue}D.x.before&&(Ie+=D.x.before,ne.x+=D.x.before),D.x.after&&(Ie-=D.x.after,ne.x-=D.x.after),D.y.before&&(oe+=D.y.before,ne.y+=D.y.before),D.y.after&&(oe-=D.y.after,ne.y-=D.y.after);{const Nt=IW(ne,We);Je.x=We.width-Nt.x.before-Nt.x.after,Je.y=We.height-Nt.y.before-Nt.y.after,Ie+=Nt.x.before,ne.x+=Nt.x.before,oe+=Nt.y.before,ne.y+=Nt.y.before}break}const gt=NW(Fe.anchor);return Object.assign(f.value,{"--v-overlay-anchor-origin":`${Fe.anchor.side} ${Fe.anchor.align}`,transformOrigin:`${Fe.origin.side} ${Fe.origin.align}`,top:xr(e9(oe)),left:r.isRtl.value?void 0:xr(e9(Ie)),right:r.isRtl.value?xr(e9(-Ie)):void 0,minWidth:xr(gt==="y"?Math.min(w.value,J.width):w.value),maxWidth:xr(Dj(zS(Je.x,w.value===1/0?0:w.value,F.value))),maxHeight:xr(Dj(zS(Je.y,E.value===1/0?0:E.value,P.value)))}),{available:Je,contentBox:ne}}return Yo(()=>[x.value,v.value,l.offset,l.minWidth,l.minHeight,l.maxWidth,l.maxHeight],()=>U()),Pf(()=>{const J=U();if(!J)return;const{available:ne,contentBox:ye}=J;ye.height>ne.y&&requestAnimationFrame(()=>{U(),requestAnimationFrame(()=>{U()})})}),{updateLocation:U}}function e9(r){return Math.round(r*devicePixelRatio)/devicePixelRatio}function Dj(r){return Math.ceil(r*devicePixelRatio)/devicePixelRatio}let H9=!0;const MM=[];function Mfe(r){!H9||MM.length?(MM.push(r),V9()):(H9=!1,r(),V9())}let Rj=-1;function V9(){cancelAnimationFrame(Rj),Rj=requestAnimationFrame(()=>{const r=MM.shift();r&&r(),MM.length?V9():H9=!0})}const bM={none:null,close:Ffe,block:zfe,reposition:Hfe},Pfe=vo({scrollStrategy:{type:[String,Function],default:"block",validator:r=>typeof r=="function"||r in bM}},"VOverlay-scroll-strategies");function Lfe(r,l){if(!da)return;let f;Ep(async()=>{f==null||f.stop(),l.isActive.value&&r.scrollStrategy&&(f=UT(),await new Promise(m=>setTimeout(m)),f.active&&f.run(()=>{var m;typeof r.scrollStrategy=="function"?r.scrollStrategy(l,r,f):(m=bM[r.scrollStrategy])==null||m.call(bM,l,r,f)}))}),Ff(()=>{f==null||f.stop()})}function Ffe(r){function l(f){r.isActive.value=!1}$G(r.targetEl.value??r.contentEl.value,l)}function zfe(r,l){var w;const f=(w=r.root.value)==null?void 0:w.offsetParent,m=[...new Set([...AM(r.targetEl.value,l.contained?f:void 0),...AM(r.contentEl.value,l.contained?f:void 0)])].filter(E=>!E.classList.contains("v-overlay-scroll-blocked")),x=window.innerWidth-document.documentElement.offsetWidth,v=(E=>wV(E)&&E)(f||document.documentElement);v&&r.root.value.classList.add("v-overlay--scroll-blocked"),m.forEach((E,F)=>{E.style.setProperty("--v-body-scroll-x",xr(-E.scrollLeft)),E.style.setProperty("--v-body-scroll-y",xr(-E.scrollTop)),E!==document.documentElement&&E.style.setProperty("--v-scrollbar-offset",xr(x)),E.classList.add("v-overlay-scroll-blocked")}),Ff(()=>{m.forEach((E,F)=>{const P=parseFloat(E.style.getPropertyValue("--v-body-scroll-x")),I=parseFloat(E.style.getPropertyValue("--v-body-scroll-y")),z=E.style.scrollBehavior;E.style.scrollBehavior="auto",E.style.removeProperty("--v-body-scroll-x"),E.style.removeProperty("--v-body-scroll-y"),E.style.removeProperty("--v-scrollbar-offset"),E.classList.remove("v-overlay-scroll-blocked"),E.scrollLeft=-P,E.scrollTop=-I,E.style.scrollBehavior=z}),v&&r.root.value.classList.remove("v-overlay--scroll-blocked")})}function Hfe(r,l,f){let m=!1,x=-1,v=-1;function w(E){Mfe(()=>{var I,z;const F=performance.now();(z=(I=r.updateLocation).value)==null||z.call(I,E),m=(performance.now()-F)/(1e3/60)>2})}v=(typeof requestIdleCallback>"u"?E=>E():requestIdleCallback)(()=>{f.run(()=>{$G(r.targetEl.value??r.contentEl.value,E=>{m?(cancelAnimationFrame(x),x=requestAnimationFrame(()=>{x=requestAnimationFrame(()=>{w(E)})})):w(E)})})}),Ff(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(v),cancelAnimationFrame(x)})}function $G(r,l){const f=[document,...AM(r)];f.forEach(m=>{m.addEventListener("scroll",l,{passive:!0})}),Ff(()=>{f.forEach(m=>{m.removeEventListener("scroll",l)})})}const Vfe=Symbol.for("vuetify:v-menu"),UG=vo({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function ZG(r,l){let f=()=>{};function m(w){f==null||f();const E=Number(w?r.openDelay:r.closeDelay);return new Promise(F=>{f=Uae(E,()=>{l==null||l(w),F(w)})})}function x(){return m(!0)}function v(){return m(!1)}return{clearDelay:f,runOpenDelay:x,runCloseDelay:v}}const $fe=vo({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...UG()},"VOverlay-activator");function Ufe(r,l){let{isActive:f,isTop:m,contentEl:x}=l;const v=Tl("useActivator"),w=kr();let E=!1,F=!1,P=!0;const I=Tt(()=>r.openOnFocus||r.openOnFocus==null&&r.openOnHover),z=Tt(()=>r.openOnClick||r.openOnClick==null&&!r.openOnHover&&!I.value),{runOpenDelay:j,runCloseDelay:U}=ZG(r,He=>{He===(r.openOnHover&&E||I.value&&F)&&!(r.openOnHover&&f.value&&!m.value)&&(f.value!==He&&(P=!0),f.value=He)}),J=kr(),ne={onClick:He=>{He.stopPropagation(),w.value=He.currentTarget||He.target,f.value||(J.value=[He.clientX,He.clientY]),f.value=!f.value},onMouseenter:He=>{var Ye;(Ye=He.sourceCapabilities)!=null&&Ye.firesTouchEvents||(E=!0,w.value=He.currentTarget||He.target,j())},onMouseleave:He=>{E=!1,U()},onFocus:He=>{$ae(He.target,":focus-visible")!==!1&&(F=!0,He.stopPropagation(),w.value=He.currentTarget||He.target,j())},onBlur:He=>{F=!1,He.stopPropagation(),U()}},ye=Tt(()=>{const He={};return z.value&&(He.onClick=ne.onClick),r.openOnHover&&(He.onMouseenter=ne.onMouseenter,He.onMouseleave=ne.onMouseleave),I.value&&(He.onFocus=ne.onFocus,He.onBlur=ne.onBlur),He}),pe=Tt(()=>{const He={};if(r.openOnHover&&(He.onMouseenter=()=>{E=!0,j()},He.onMouseleave=()=>{E=!1,U()}),I.value&&(He.onFocusin=()=>{F=!0,j()},He.onFocusout=()=>{F=!1,U()}),r.closeOnContentClick){const Ye=bl(Vfe,null);He.onClick=()=>{f.value=!1,Ye==null||Ye.closeParents()}}return He}),We=Tt(()=>{const He={};return r.openOnHover&&(He.onMouseenter=()=>{P&&(E=!0,P=!1,j())},He.onMouseleave=()=>{E=!1,U()}),He});Yo(m,He=>{var Ye;He&&(r.openOnHover&&!E&&(!I.value||!F)||I.value&&!F&&(!r.openOnHover||!E))&&!((Ye=x.value)!=null&&Ye.contains(document.activeElement))&&(f.value=!1)}),Yo(f,He=>{He||setTimeout(()=>{J.value=void 0})},{flush:"post"});const Fe=b9();Ep(()=>{Fe.value&&Pf(()=>{w.value=Fe.el})});const ae=b9(),Ie=Tt(()=>r.target==="cursor"&&J.value?J.value:ae.value?ae.el:WG(r.target,v)||w.value),oe=Tt(()=>Array.isArray(Ie.value)?void 0:Ie.value);let Je;return Yo(()=>!!r.activator,He=>{He&&da?(Je=UT(),Je.run(()=>{Zfe(r,v,{activatorEl:w,activatorEvents:ye})})):Je&&Je.stop()},{flush:"post",immediate:!0}),Ff(()=>{Je==null||Je.stop()}),{activatorEl:w,activatorRef:Fe,target:Ie,targetEl:oe,targetRef:ae,activatorEvents:ye,contentEvents:pe,scrimEvents:We}}function Zfe(r,l,f){let{activatorEl:m,activatorEvents:x}=f;Yo(()=>r.activator,(F,P)=>{if(P&&F!==P){const I=E(P);I&&w(I)}F&&Pf(()=>v())},{immediate:!0}),Yo(()=>r.activatorProps,()=>{v()}),Ff(()=>{w()});function v(){let F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E(),P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.activatorProps;F&&Wae(F,Ua(x.value,P))}function w(){let F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E(),P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.activatorProps;F&&jae(F,Ua(x.value,P))}function E(){let F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.activator;const P=WG(F,l);return m.value=(P==null?void 0:P.nodeType)===Node.ELEMENT_NODE?P:void 0,m.value}}function WG(r,l){var m,x;if(!r)return;let f;if(r==="parent"){let v=(x=(m=l==null?void 0:l.proxy)==null?void 0:m.$el)==null?void 0:x.parentNode;for(;v!=null&&v.hasAttribute("data-no-activator");)v=v.parentNode;f=v}else typeof r=="string"?f=document.querySelector(r):"$el"in r?f=r.$el:f=r;return f}function Wfe(){if(!da)return Rr(!1);const{ssr:r}=Dq();if(r){const l=Rr(!1);return Ap(()=>{l.value=!0}),l}else return Rr(!0)}const jfe=vo({eager:Boolean},"lazy");function Kfe(r,l){const f=Rr(!1),m=Tt(()=>f.value||r.eager||l.value);Yo(l,()=>f.value=!0);function x(){r.eager||(f.value=!1)}return{isBooted:f,hasContent:m,onAfterLeave:x}}function IV(){const l=Tl("useScopeId").vnode.scopeId;return{scopeId:l?{[l]:""}:void 0}}const Nj=Symbol.for("vuetify:stack"),CT=Jc([]);function qfe(r,l,f){const m=Tl("useStack"),x=!f,v=bl(Nj,void 0),w=Jc({activeChildren:new Set});zf(Nj,w);const E=Rr(+l.value);E1(r,()=>{var z;const I=(z=CT.at(-1))==null?void 0:z[1];E.value=I?I+10:+l.value,x&&CT.push([m.uid,E.value]),v==null||v.activeChildren.add(m.uid),Ff(()=>{if(x){const j=To(CT).findIndex(U=>U[0]===m.uid);CT.splice(j,1)}v==null||v.activeChildren.delete(m.uid)})});const F=Rr(!0);x&&Ep(()=>{var z;const I=((z=CT.at(-1))==null?void 0:z[0])===m.uid;setTimeout(()=>F.value=I)});const P=Tt(()=>!w.activeChildren.size);return{globalTop:ZT(F),localTop:P,stackStyles:Tt(()=>({zIndex:E.value}))}}function Gfe(r){return{teleportTarget:Tt(()=>{const f=r();if(f===!0||!da)return;const m=f===!1?document.body:typeof f=="string"?document.querySelector(f):f;if(m==null)return;let x=[...m.children].find(v=>v.matches(".v-overlay-container"));return x||(x=document.createElement("div"),x.className="v-overlay-container",m.appendChild(x)),x})}}function Yfe(){return!0}function jG(r,l,f){if(!r||KG(r,f)===!1)return!1;const m=_q(l);if(typeof ShadowRoot<"u"&&m instanceof ShadowRoot&&m.host===r.target)return!1;const x=(typeof f.value=="object"&&f.value.include||(()=>[]))();return x.push(l),!x.some(v=>v==null?void 0:v.contains(r.target))}function KG(r,l){return(typeof l.value=="object"&&l.value.closeConditional||Yfe)(r)}function Xfe(r,l,f){const m=typeof f.value=="function"?f.value:f.value.handler;r.shadowTarget=r.target,l._clickOutside.lastMousedownWasOutside&&jG(r,l,f)&&setTimeout(()=>{KG(r,f)&&m&&m(r)},0)}function Ij(r,l){const f=_q(r);l(document),typeof ShadowRoot<"u"&&f instanceof ShadowRoot&&l(f)}const Jfe={mounted(r,l){const f=x=>Xfe(x,r,l),m=x=>{r._clickOutside.lastMousedownWasOutside=jG(x,r,l)};Ij(r,x=>{x.addEventListener("click",f,!0),x.addEventListener("mousedown",m,!0)}),r._clickOutside||(r._clickOutside={lastMousedownWasOutside:!1}),r._clickOutside[l.instance.$.uid]={onClick:f,onMousedown:m}},beforeUnmount(r,l){r._clickOutside&&(Ij(r,f=>{var v;if(!f||!((v=r._clickOutside)!=null&&v[l.instance.$.uid]))return;const{onClick:m,onMousedown:x}=r._clickOutside[l.instance.$.uid];f.removeEventListener("click",m,!0),f.removeEventListener("mousedown",x,!0)}),delete r._clickOutside[l.instance.$.uid])}};function Qfe(r){const{modelValue:l,color:f,...m}=r;return Re(kp,{name:"fade-transition",appear:!0},{default:()=>[r.modelValue&&Re("div",Ua({class:["v-overlay__scrim",r.color.backgroundColorClasses.value],style:r.color.backgroundColorStyles.value},m),null)]})}const qG=vo({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...$fe(),...Ii(),...vw(),...jfe(),...Dfe(),...Pfe(),...Od(),...PG()},"VOverlay"),Bj=ns()({name:"VOverlay",directives:{ClickOutside:Jfe},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...qG()},emits:{"click:outside":r=>!0,"update:modelValue":r=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(r,l){let{slots:f,attrs:m,emit:x}=l;const v=Tl("VOverlay"),w=kr(),E=kr(),F=kr(),P=Sp(r,"modelValue"),I=Tt({get:()=>P.value,set:Sn=>{Sn&&r.disabled||(P.value=Sn)}}),{themeClasses:z}=Dd(r),{rtlClasses:j,isRtl:U}=WS(),{hasContent:J,onAfterLeave:ne}=Kfe(r,I),ye=T1(Tt(()=>typeof r.scrim=="string"?r.scrim:null)),{globalTop:pe,localTop:We,stackStyles:Fe}=qfe(I,ts(r,"zIndex"),r._disableGlobalStack),{activatorEl:ae,activatorRef:Ie,target:oe,targetEl:Je,targetRef:He,activatorEvents:Ye,contentEvents:gt,scrimEvents:Se}=Ufe(r,{isActive:I,isTop:We,contentEl:F}),{teleportTarget:Ne}=Gfe(()=>{var X,nr,pr;const Sn=r.attach||r.contained;if(Sn)return Sn;const Mn=((X=ae==null?void 0:ae.value)==null?void 0:X.getRootNode())||((pr=(nr=v.proxy)==null?void 0:nr.$el)==null?void 0:pr.getRootNode());return Mn instanceof ShadowRoot?Mn:!1}),{dimensionStyles:D}=xw(r),Nt=Wfe(),{scopeId:sn}=IV();Yo(()=>r.disabled,Sn=>{Sn&&(I.value=!1)});const{contentStyles:vn,updateLocation:Tn}=Rfe(r,{isRtl:U,contentEl:F,target:oe,isActive:I});Lfe(r,{root:w,contentEl:F,targetEl:Je,isActive:I,updateLocation:Tn});function rt(Sn){x("click:outside",Sn),r.persistent?qt():I.value=!1}function Un(Sn){return I.value&&pe.value&&(!r.scrim||Sn.target===E.value||Sn instanceof MouseEvent&&Sn.shadowTarget===E.value)}da&&Yo(I,Sn=>{Sn?window.addEventListener("keydown",Hr):window.removeEventListener("keydown",Hr)},{immediate:!0}),$u(()=>{da&&window.removeEventListener("keydown",Hr)});function Hr(Sn){var Mn,X;Sn.key==="Escape"&&pe.value&&(r.persistent?qt():(I.value=!1,(Mn=F.value)!=null&&Mn.contains(document.activeElement)&&((X=ae.value)==null||X.focus())))}const xt=AG();E1(()=>r.closeOnBack,()=>{ife(xt,Sn=>{pe.value&&I.value?(Sn(!1),r.persistent?qt():I.value=!1):Sn()})});const yt=kr();Yo(()=>I.value&&(r.absolute||r.contained)&&Ne.value==null,Sn=>{if(Sn){const Mn=wle(w.value);Mn&&Mn!==document.scrollingElement&&(yt.value=Mn.scrollTop)}});function qt(){r.noClickAnimation||F.value&&ST(F.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:w9})}function $r(){x("afterEnter")}function xo(){ne(),x("afterLeave")}return Qs(()=>{var Sn;return Re(li,null,[(Sn=f.activator)==null?void 0:Sn.call(f,{isActive:I.value,targetRef:He,props:Ua({ref:Ie},Ye.value,r.activatorProps)}),Nt.value&&J.value&&Re(Sie,{disabled:!Ne.value,to:Ne.value},{default:()=>[Re("div",Ua({class:["v-overlay",{"v-overlay--absolute":r.absolute||r.contained,"v-overlay--active":I.value,"v-overlay--contained":r.contained},z.value,j.value,r.class],style:[Fe.value,{"--v-overlay-opacity":r.opacity,top:xr(yt.value)},r.style],ref:w},sn,m),[Re(Qfe,Ua({color:ye,modelValue:I.value&&!!r.scrim,ref:E},Se.value),null),Re(NS,{appear:!0,persisted:!0,transition:r.transition,target:oe.value,onAfterEnter:$r,onAfterLeave:xo},{default:()=>{var Mn;return[Yr(Re("div",Ua({ref:F,class:["v-overlay__content",r.contentClass],style:[D.value,vn.value]},gt.value,r.contentProps),[(Mn=f.default)==null?void 0:Mn.call(f,{isActive:I})]),[[Cs,I.value],[jM("click-outside"),{handler:rt,closeConditional:Un,include:()=>[ae.value]}]])]}})])]})])}),{activatorEl:ae,scrimEl:E,target:oe,animateClick:qt,contentEl:F,globalTop:pe,localTop:We,updateLocation:Tn}}}),t9=Symbol("Forwarded refs");function n9(r,l){let f=r;for(;f;){const m=Reflect.getOwnPropertyDescriptor(f,l);if(m)return m;f=Object.getPrototypeOf(f)}}function eme(r){for(var l=arguments.length,f=new Array(l>1?l-1:0),m=1;m<l;m++)f[m-1]=arguments[m];return r[t9]=f,new Proxy(r,{get(x,v){if(Reflect.has(x,v))return Reflect.get(x,v);if(!(typeof v=="symbol"||v.startsWith("$")||v.startsWith("__"))){for(const w of f)if(w.value&&Reflect.has(w.value,v)){const E=Reflect.get(w.value,v);return typeof E=="function"?E.bind(w.value):E}}},has(x,v){if(Reflect.has(x,v))return!0;if(typeof v=="symbol"||v.startsWith("$")||v.startsWith("__"))return!1;for(const w of f)if(w.value&&Reflect.has(w.value,v))return!0;return!1},set(x,v,w){if(Reflect.has(x,v))return Reflect.set(x,v,w);if(typeof v=="symbol"||v.startsWith("$")||v.startsWith("__"))return!1;for(const E of f)if(E.value&&Reflect.has(E.value,v))return Reflect.set(E.value,v,w);return!1},getOwnPropertyDescriptor(x,v){var E;const w=Reflect.getOwnPropertyDescriptor(x,v);if(w)return w;if(!(typeof v=="symbol"||v.startsWith("$")||v.startsWith("__"))){for(const F of f){if(!F.value)continue;const P=n9(F.value,v)??("_"in F.value?n9((E=F.value._)==null?void 0:E.setupState,v):void 0);if(P)return P}for(const F of f){const P=F.value&&F.value[t9];if(!P)continue;const I=P.slice();for(;I.length;){const z=I.shift(),j=n9(z.value,v);if(j)return j;const U=z.value&&z.value[t9];U&&I.push(...U)}}}}})}const tme=vo({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...qG({origin:"center center",scrollStrategy:"block",transition:{component:Tfe},zIndex:2400})},"VDialog"),uw=ns()({name:"VDialog",props:tme(),emits:{"update:modelValue":r=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(r,l){let{emit:f,slots:m}=l;const x=Sp(r,"modelValue"),{scopeId:v}=IV(),w=kr();function E(I){var U,J;const z=I.relatedTarget,j=I.target;if(z!==j&&((U=w.value)!=null&&U.contentEl)&&((J=w.value)!=null&&J.globalTop)&&![document,w.value.contentEl].includes(j)&&!w.value.contentEl.contains(j)){const ne=fq(w.value.contentEl);if(!ne.length)return;const ye=ne[0],pe=ne[ne.length-1];z===ye?pe.focus():ye.focus()}}da&&Yo(()=>x.value&&r.retainFocus,I=>{I?document.addEventListener("focusin",E):document.removeEventListener("focusin",E)},{immediate:!0});function F(){var I;f("afterEnter"),(I=w.value)!=null&&I.contentEl&&!w.value.contentEl.contains(document.activeElement)&&w.value.contentEl.focus({preventScroll:!0})}function P(){f("afterLeave")}return Yo(x,async I=>{var z;I||(await Pf(),(z=w.value.activatorEl)==null||z.focus({preventScroll:!0}))}),Qs(()=>{const I=Bj.filterProps(r),z=Ua({"aria-haspopup":"dialog","aria-expanded":String(x.value)},r.activatorProps),j=Ua({tabindex:-1},r.contentProps);return Re(Bj,Ua({ref:w,class:["v-dialog",{"v-dialog--fullscreen":r.fullscreen,"v-dialog--scrollable":r.scrollable},r.class],style:r.style},I,{modelValue:x.value,"onUpdate:modelValue":U=>x.value=U,"aria-modal":"true",activatorProps:z,contentProps:j,role:"dialog",onAfterEnter:F,onAfterLeave:P},v),{activator:m.activator,default:function(){for(var U=arguments.length,J=new Array(U),ne=0;ne<U;ne++)J[ne]=arguments[ne];return Re(Vu,{root:"VDialog"},{default:()=>{var ye;return[(ye=m.default)==null?void 0:ye.call(m,...J)]}})}})}),eme({},w)}}),nme=Bn("span",null,"OK",-1),ome=Bn("br",null,null,-1),rme=Bn("span",null,"OK",-1),sme={__name:"Alerts",setup(r){const l=NM();return(f,m)=>(_r(),pl(li,null,[Yr(Re(ai,{onClick:m[0]||(m[0]=x=>lt(l).showAlerts())},{default:Wn(()=>[Re(zr,{left:"",icon:"mdi-bell-outline"}),Yr(Bn("span",null,"1 Nachricht",512),[[Cs,lt(l).countAlerts==1]]),Yr(Bn("span",null,kd(lt(l).countAlerts)+" Nachrichten",513),[[Cs,lt(l).countAlerts>1]])]),_:1},512),[[Cs,lt(l).hasAlerts]]),Re(uw,{persistent:"",modelValue:lt(l).hasActiveAlert,"onUpdate:modelValue":m[2]||(m[2]=x=>lt(l).hasActiveAlert=x)},{default:Wn(()=>[Re(cw,null,{default:Wn(()=>[Re(z9,null,{default:Wn(()=>[Sd(" Nachricht der Aufsicht: ")]),_:1}),Re($0,null,{default:Wn(()=>[Bn("p",null,kd(lt(l).activeMessage),1)]),_:1}),Re(V0,null,{default:Wn(()=>[Re(ai,{onClick:m[1]||(m[1]=x=>lt(l).hideAlert())},{default:Wn(()=>[Re(zr,{left:"",icon:"mdi-check"}),nme]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),Re(uw,{persistent:"",modelValue:lt(l).showAllAlerts,"onUpdate:modelValue":m[4]||(m[4]=x=>lt(l).showAllAlerts=x)},{default:Wn(()=>[Re(cw,null,{default:Wn(()=>[Re(z9,null,{default:Wn(()=>[Sd(" Nachrichten der Aufsicht: ")]),_:1}),Re($0,null,{default:Wn(()=>[(_r(!0),pl(li,null,MT(lt(l).alerts,x=>(_r(),pl(li,{key:x.key},[Bn("p",null,[Bn("strong",null,kd(lt(l).formatTimestamp(x.time)),1)]),Bn("p",null,kd(x.message),1),ome],64))),128))]),_:1}),Re(V0,null,{default:Wn(()=>[Re(ai,{onClick:m[3]||(m[3]=x=>lt(l).hideAlert())},{default:Wn(()=>[Re(zr,{left:"",icon:"mdi-check"}),rme]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},GG=vo({text:String,...Ii(),...Kl()},"VToolbarTitle"),YG=ns()({name:"VToolbarTitle",props:GG(),setup(r,l){let{slots:f}=l;return Qs(()=>{const m=!!(f.default||f.text||r.text);return Re(r.tag,{class:["v-toolbar-title",r.class],style:r.style},{default:()=>{var x;return[m&&Re("div",{class:"v-toolbar-title__placeholder"},[f.text?f.text():r.text,(x=f.default)==null?void 0:x.call(f)])]}})}),{}}}),ime=[null,"prominent","default","comfortable","compact"],XG=vo({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:r=>ime.includes(r)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Y0(),...Ii(),...pw(),...Tp(),...Kl({tag:"header"}),...Od()},"VToolbar"),Mj=ns()({name:"VToolbar",props:XG(),setup(r,l){var U;let{slots:f}=l;const{backgroundColorClasses:m,backgroundColorStyles:x}=T1(ts(r,"color")),{borderClasses:v}=X0(r),{elevationClasses:w}=bw(r),{roundedClasses:E}=Op(r),{themeClasses:F}=Dd(r),{rtlClasses:P}=WS(),I=Rr(!!(r.extended||(U=f.extension)!=null&&U.call(f))),z=Tt(()=>parseInt(Number(r.height)+(r.density==="prominent"?Number(r.height):0)-(r.density==="comfortable"?8:0)-(r.density==="compact"?16:0),10)),j=Tt(()=>I.value?parseInt(Number(r.extensionHeight)+(r.density==="prominent"?Number(r.extensionHeight):0)-(r.density==="comfortable"?4:0)-(r.density==="compact"?8:0),10):0);return US({VBtn:{variant:"text"}}),Qs(()=>{var pe;const J=!!(r.title||f.title),ne=!!(f.image||r.image),ye=(pe=f.extension)==null?void 0:pe.call(f);return I.value=!!(r.extended||ye),Re(r.tag,{class:["v-toolbar",{"v-toolbar--absolute":r.absolute,"v-toolbar--collapse":r.collapse,"v-toolbar--flat":r.flat,"v-toolbar--floating":r.floating,[`v-toolbar--density-${r.density}`]:!0},m.value,v.value,w.value,E.value,F.value,P.value,r.class],style:[x.value,r.style]},{default:()=>[ne&&Re("div",{key:"image",class:"v-toolbar__image"},[f.image?Re(Vu,{key:"image-defaults",disabled:!r.image,defaults:{VImg:{cover:!0,src:r.image}}},f.image):Re(u8,{key:"image-img",cover:!0,src:r.image},null)]),Re(Vu,{defaults:{VTabs:{height:xr(z.value)}}},{default:()=>{var We,Fe,ae;return[Re("div",{class:"v-toolbar__content",style:{height:xr(z.value)}},[f.prepend&&Re("div",{class:"v-toolbar__prepend"},[(We=f.prepend)==null?void 0:We.call(f)]),J&&Re(YG,{key:"title",text:r.title},{text:f.title}),(Fe=f.default)==null?void 0:Fe.call(f),f.append&&Re("div",{class:"v-toolbar__append"},[(ae=f.append)==null?void 0:ae.call(f)])])]}}),Re(Vu,{defaults:{VTabs:{height:xr(j.value)}}},{default:()=>[Re(HG,null,{default:()=>[I.value&&Re("div",{class:"v-toolbar__extension",style:{height:xr(j.value)}},[ye])]})]})]})}),{contentHeight:z,extensionHeight:j}}}),ame=vo({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function lme(r){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:f}=l;let m=0,x=0;const v=kr(null),w=Rr(0),E=Rr(0),F=Rr(0),P=Rr(!1),I=Rr(!1),z=Tt(()=>Number(r.scrollThreshold)),j=Tt(()=>zS((z.value-w.value)/z.value||0)),U=()=>{const J=v.value;if(!J||f&&!f.value)return;m=w.value,w.value="window"in J?J.pageYOffset:J.scrollTop;const ne=J instanceof Window?document.documentElement.scrollHeight:J.scrollHeight;if(x!==ne){x=ne;return}I.value=w.value<m,F.value=Math.abs(w.value-z.value)};return Yo(I,()=>{E.value=E.value||w.value}),Yo(P,()=>{E.value=0}),Ap(()=>{Yo(()=>r.scrollTarget,J=>{var ye;const ne=J?document.querySelector(J):window;ne&&ne!==v.value&&((ye=v.value)==null||ye.removeEventListener("scroll",U),v.value=ne,v.value.addEventListener("scroll",U,{passive:!0}))},{immediate:!0})}),$u(()=>{var J;(J=v.value)==null||J.removeEventListener("scroll",U)}),f&&Yo(f,U,{immediate:!0}),{scrollThreshold:z,currentScroll:w,currentThreshold:F,isScrollActive:P,scrollRatio:j,isScrollingUp:I,savedScroll:E}}function d8(){const r=Rr(!1);return Ap(()=>{window.requestAnimationFrame(()=>{r.value=!0})}),{ssrBootStyles:Tt(()=>r.value?void 0:{transition:"none !important"}),isBooted:ZT(r)}}const cme=vo({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:r=>["top","bottom"].includes(r)},...XG(),...Mq(),...ame(),height:{type:[Number,String],default:64}},"VAppBar"),JG=ns()({name:"VAppBar",props:cme(),emits:{"update:modelValue":r=>!0},setup(r,l){let{slots:f}=l;const m=kr(),x=Sp(r,"modelValue"),v=Tt(()=>{var Fe;const We=new Set(((Fe=r.scrollBehavior)==null?void 0:Fe.split(" "))??[]);return{hide:We.has("hide"),fullyHide:We.has("fully-hide"),inverted:We.has("inverted"),collapse:We.has("collapse"),elevate:We.has("elevate"),fadeImage:We.has("fade-image")}}),w=Tt(()=>{const We=v.value;return We.hide||We.fullyHide||We.inverted||We.collapse||We.elevate||We.fadeImage||!x.value}),{currentScroll:E,scrollThreshold:F,isScrollingUp:P,scrollRatio:I}=lme(r,{canScroll:w}),z=Tt(()=>v.value.hide||v.value.fullyHide),j=Tt(()=>r.collapse||v.value.collapse&&(v.value.inverted?I.value>0:I.value===0)),U=Tt(()=>r.flat||v.value.fullyHide&&!x.value||v.value.elevate&&(v.value.inverted?E.value>0:E.value===0)),J=Tt(()=>v.value.fadeImage?v.value.inverted?1-I.value:I.value:void 0),ne=Tt(()=>{var ae,Ie;if(v.value.hide&&v.value.inverted)return 0;const We=((ae=m.value)==null?void 0:ae.contentHeight)??0,Fe=((Ie=m.value)==null?void 0:Ie.extensionHeight)??0;return z.value?E.value<F.value||v.value.fullyHide?We+Fe:We:We+Fe});E1(Tt(()=>!!r.scrollBehavior),()=>{Ep(()=>{z.value?v.value.inverted?x.value=E.value>F.value:x.value=P.value||E.value<F.value:x.value=!0})});const{ssrBootStyles:ye}=d8(),{layoutItemStyles:pe}=Pq({id:r.name,order:Tt(()=>parseInt(r.order,10)),position:ts(r,"location"),layoutSize:ne,elementSize:Rr(void 0),active:x,absolute:ts(r,"absolute")});return Qs(()=>{const We=Mj.filterProps(r);return Re(Mj,Ua({ref:m,class:["v-app-bar",{"v-app-bar--bottom":r.location==="bottom"},r.class],style:[{...pe.value,"--v-toolbar-image-opacity":J.value,height:void 0,...ye.value},r.style]},We,{collapse:j.value,flat:U.value}),f)}),{}}}),ume=ns()({name:"VAppBarTitle",props:GG(),setup(r,l){let{slots:f}=l;return Qs(()=>Re(YG,Ua(r,{class:"v-app-bar-title"}),f)),{}}}),BV=yV("v-spacer","div","VSpacer"),dme=Bn("span",null,"Unterbrechen",-1),fme=Bn("span",null,"Vorschau zur Abgabe ",-1),mme={__name:"AppBar",setup(r){const l=Lf(),f=Qm(),m=NM(),x=S1();function v(){return(f.writer_name==null?"":f.writer_name+", ")+(f.title??"")}function w(P){return new Promise(I=>setTimeout(I,P))}async function E(){await x.updateContent(!1,!0),await w(500),x.openSendings>0?l.review=!0:window.location=l.returnUrl}async function F(){await x.updateContent(!1,!0),await w(500),l.review=!0}return(P,I)=>(_r(),$a(JG,{elevation:"1",color:"white",density:"compact"},{default:Wn(()=>[Re(ume,null,{default:Wn(()=>[Sd(kd(v()),1)]),_:1}),Re(BV),lt(m).hasAlerts?(_r(),$a(sme,{key:0})):Wl("",!0),lt(f).hasWritingEnd?(_r(),$a(gfe,{key:1})):Wl("",!0),Yr(Re(ai,{onClick:I[0]||(I[0]=z=>E())},{default:Wn(()=>[Re(zr,{left:"",icon:"mdi-pause"}),dme]),_:1},512),[[Cs,!lt(l).review]]),Yr(Re(ai,{onClick:F},{default:Wn(()=>[Re(zr,{left:"",icon:"mdi-eye"}),fme]),_:1},512),[[Cs,!lt(l).review]])]),_:1}))}},R1=(r,l)=>{const f=r.__vccOpts||r;for(const[m,x]of l)f[m]=x;return f},gme=vo({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...Ii(),...Od()},"VDivider"),$9=ns()({name:"VDivider",props:gme(),setup(r,l){let{attrs:f,slots:m}=l;const{themeClasses:x}=Dd(r),{textColorClasses:v,textColorStyles:w}=VS(ts(r,"color")),E=Tt(()=>{const F={};return r.length&&(F[r.vertical?"height":"width"]=xr(r.length)),r.thickness&&(F[r.vertical?"borderRightWidth":"borderTopWidth"]=xr(r.thickness)),F});return Qs(()=>{const F=Re("hr",{class:[{"v-divider":!0,"v-divider--inset":r.inset,"v-divider--vertical":r.vertical},x.value,v.value,r.class],style:[E.value,w.value,{"--v-border-opacity":r.opacity},r.style],"aria-orientation":!f.role||f.role==="separator"?r.vertical?"vertical":"horizontal":void 0,role:`${f.role||"separator"}`},null);return m.default?Re("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":r.vertical,"v-divider__wrapper--inset":r.inset}]},[F,Re("div",{class:"v-divider__content"},[m.default()]),F]):F}),{}}}),U9=Symbol.for("vuetify:list");function QG(){const r=bl(U9,{hasPrepend:Rr(!1),updateHasPrepend:()=>null}),l={hasPrepend:Rr(!1),updateHasPrepend:f=>{f&&(l.hasPrepend.value=f)}};return zf(U9,l),r}function eY(){return bl(U9,null)}const MV=r=>{const l={activate:f=>{let{id:m,value:x,activated:v}=f;return m=To(m),r&&!x&&v.size===1&&v.has(m)||(x?v.add(m):v.delete(m)),v},in:(f,m,x)=>{let v=new Set;if(f!=null)for(const w of pV(f))v=l.activate({id:w,value:!0,activated:new Set(v),children:m,parents:x});return v},out:f=>Array.from(f)};return l},tY=r=>{const l=MV(r);return{activate:m=>{let{activated:x,id:v,...w}=m;v=To(v);const E=x.has(v)?new Set([v]):new Set;return l.activate({...w,id:v,activated:E})},in:(m,x,v)=>{let w=new Set;if(m!=null){const E=pV(m);E.length&&(w=l.in(E.slice(0,1),x,v))}return w},out:(m,x,v)=>l.out(m,x,v)}},hme=r=>{const l=MV(r);return{activate:m=>{let{id:x,activated:v,children:w,...E}=m;return x=To(x),w.has(x)?v:l.activate({id:x,activated:v,children:w,...E})},in:l.in,out:l.out}},pme=r=>{const l=tY(r);return{activate:m=>{let{id:x,activated:v,children:w,...E}=m;return x=To(x),w.has(x)?v:l.activate({id:x,activated:v,children:w,...E})},in:l.in,out:l.out}},bme={open:r=>{let{id:l,value:f,opened:m,parents:x}=r;if(f){const v=new Set;v.add(l);let w=x.get(l);for(;w!=null;)v.add(w),w=x.get(w);return v}else return m.delete(l),m},select:()=>null},nY={open:r=>{let{id:l,value:f,opened:m,parents:x}=r;if(f){let v=To(x.get(l));for(m.add(l);v!=null&&v!==l;)m.add(v),v=To(x.get(v));return m}else m.delete(l);return m},select:()=>null},vme={open:nY.open,select:r=>{let{id:l,value:f,opened:m,parents:x}=r;if(!f)return m;const v=[];let w=x.get(l);for(;w!=null;)v.push(w),w=x.get(w);return new Set(v)}},PV=r=>{const l={select:f=>{let{id:m,value:x,selected:v}=f;if(m=To(m),r&&!x){const w=Array.from(v.entries()).reduce((E,F)=>{let[P,I]=F;return I==="on"&&E.push(P),E},[]);if(w.length===1&&w[0]===m)return v}return v.set(m,x?"on":"off"),v},in:(f,m,x)=>{let v=new Map;for(const w of f||[])v=l.select({id:w,value:!0,selected:new Map(v),children:m,parents:x});return v},out:f=>{const m=[];for(const[x,v]of f.entries())v==="on"&&m.push(x);return m}};return l},oY=r=>{const l=PV(r);return{select:m=>{let{selected:x,id:v,...w}=m;v=To(v);const E=x.has(v)?new Map([[v,x.get(v)]]):new Map;return l.select({...w,id:v,selected:E})},in:(m,x,v)=>{let w=new Map;return m!=null&&m.length&&(w=l.in(m.slice(0,1),x,v)),w},out:(m,x,v)=>l.out(m,x,v)}},xme=r=>{const l=PV(r);return{select:m=>{let{id:x,selected:v,children:w,...E}=m;return x=To(x),w.has(x)?v:l.select({id:x,selected:v,children:w,...E})},in:l.in,out:l.out}},yme=r=>{const l=oY(r);return{select:m=>{let{id:x,selected:v,children:w,...E}=m;return x=To(x),w.has(x)?v:l.select({id:x,selected:v,children:w,...E})},in:l.in,out:l.out}},wme=r=>{const l={select:f=>{let{id:m,value:x,selected:v,children:w,parents:E}=f;m=To(m);const F=new Map(v),P=[m];for(;P.length;){const z=P.shift();v.set(To(z),x?"on":"off"),w.has(z)&&P.push(...w.get(z))}let I=To(E.get(m));for(;I;){const z=w.get(I),j=z.every(J=>v.get(To(J))==="on"),U=z.every(J=>!v.has(To(J))||v.get(To(J))==="off");v.set(I,j?"on":U?"off":"indeterminate"),I=To(E.get(I))}return r&&!x&&Array.from(v.entries()).reduce((j,U)=>{let[J,ne]=U;return ne==="on"&&j.push(J),j},[]).length===0?F:v},in:(f,m,x)=>{let v=new Map;for(const w of f||[])v=l.select({id:w,value:!0,selected:new Map(v),children:m,parents:x});return v},out:(f,m)=>{const x=[];for(const[v,w]of f.entries())w==="on"&&!m.has(v)&&x.push(v);return x}};return l},$T=Symbol.for("vuetify:nested"),rY={id:Rr(),root:{register:()=>null,unregister:()=>null,parents:kr(new Map),children:kr(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:kr(!1),selectable:kr(!1),opened:kr(new Set),activated:kr(new Set),selected:kr(new Map),selectedValues:kr([])}},Cme=vo({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),_me=r=>{let l=!1;const f=kr(new Map),m=kr(new Map),x=Sp(r,"opened",r.opened,U=>new Set(To(U)),U=>[...U.values()]),v=Tt(()=>{if(typeof r.activeStrategy=="object")return r.activeStrategy;if(typeof r.activeStrategy=="function")return r.activeStrategy(r.mandatory);switch(r.activeStrategy){case"leaf":return hme(r.mandatory);case"single-leaf":return pme(r.mandatory);case"independent":return MV(r.mandatory);case"single-independent":default:return tY(r.mandatory)}}),w=Tt(()=>{if(typeof r.selectStrategy=="object")return r.selectStrategy;if(typeof r.selectStrategy=="function")return r.selectStrategy(r.mandatory);switch(r.selectStrategy){case"single-leaf":return yme(r.mandatory);case"leaf":return xme(r.mandatory);case"independent":return PV(r.mandatory);case"single-independent":return oY(r.mandatory);case"classic":default:return wme(r.mandatory)}}),E=Tt(()=>{if(typeof r.openStrategy=="object")return r.openStrategy;switch(r.openStrategy){case"list":return vme;case"single":return bme;case"multiple":default:return nY}}),F=Sp(r,"activated",r.activated,U=>v.value.in(U,f.value,m.value),U=>v.value.out(U,f.value,m.value)),P=Sp(r,"selected",r.selected,U=>w.value.in(U,f.value,m.value),U=>w.value.out(U,f.value,m.value));$u(()=>{l=!0});function I(U){const J=[];let ne=U;for(;ne!=null;)J.unshift(ne),ne=m.value.get(ne);return J}const z=Tl("nested"),j={id:Rr(),root:{opened:x,activatable:ts(r,"activatable"),selectable:ts(r,"selectable"),activated:F,selected:P,selectedValues:Tt(()=>{const U=[];for(const[J,ne]of P.value.entries())ne==="on"&&U.push(J);return U}),register:(U,J,ne)=>{J&&U!==J&&m.value.set(U,J),ne&&f.value.set(U,[]),J!=null&&f.value.set(J,[...f.value.get(J)||[],U])},unregister:U=>{if(l)return;f.value.delete(U);const J=m.value.get(U);if(J){const ne=f.value.get(J)??[];f.value.set(J,ne.filter(ye=>ye!==U))}m.value.delete(U)},open:(U,J,ne)=>{z.emit("click:open",{id:U,value:J,path:I(U),event:ne});const ye=E.value.open({id:U,value:J,opened:new Set(x.value),children:f.value,parents:m.value,event:ne});ye&&(x.value=ye)},openOnSelect:(U,J,ne)=>{const ye=E.value.select({id:U,value:J,selected:new Map(P.value),opened:new Set(x.value),children:f.value,parents:m.value,event:ne});ye&&(x.value=ye)},select:(U,J,ne)=>{z.emit("click:select",{id:U,value:J,path:I(U),event:ne});const ye=w.value.select({id:U,value:J,selected:new Map(P.value),children:f.value,parents:m.value,event:ne});ye&&(P.value=ye),j.root.openOnSelect(U,J,ne)},activate:(U,J,ne)=>{if(!r.activatable)return j.root.select(U,!0,ne);z.emit("click:activate",{id:U,value:J,path:I(U),event:ne});const ye=v.value.activate({id:U,value:J,activated:new Set(F.value),children:f.value,parents:m.value,event:ne});ye&&(F.value=ye)},children:f,parents:m}};return zf($T,j),j.root},sY=(r,l)=>{const f=bl($T,rY),m=Symbol(qT()),x=Tt(()=>r.value!==void 0?r.value:m),v={...f,id:x,open:(w,E)=>f.root.open(To(x.value),w,E),openOnSelect:(w,E)=>f.root.openOnSelect(x.value,w,E),isOpen:Tt(()=>f.root.opened.value.has(To(x.value))),parent:Tt(()=>f.root.parents.value.get(x.value)),activate:(w,E)=>f.root.activate(x.value,w,E),isActivated:Tt(()=>f.root.activated.value.has(To(x.value))),select:(w,E)=>f.root.select(x.value,w,E),isSelected:Tt(()=>f.root.selected.value.get(To(x.value))==="on"),isIndeterminate:Tt(()=>f.root.selected.value.get(x.value)==="indeterminate"),isLeaf:Tt(()=>!f.root.children.value.get(x.value)),isGroupActivator:f.isGroupActivator};return!f.isGroupActivator&&f.root.register(x.value,f.id.value,l),$u(()=>{!f.isGroupActivator&&f.root.unregister(x.value)}),l&&zf($T,v),v},Sme=()=>{const r=bl($T,rY);zf($T,{...r,isGroupActivator:!0})},kme=ZS({name:"VListGroupActivator",setup(r,l){let{slots:f}=l;return Sme(),()=>{var m;return(m=f.default)==null?void 0:m.call(f)}}}),Ame=vo({activeColor:String,baseColor:String,color:String,collapseIcon:{type:Hu,default:"$collapse"},expandIcon:{type:Hu,default:"$expand"},prependIcon:Hu,appendIcon:Hu,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Ii(),...Kl()},"VListGroup"),Pj=ns()({name:"VListGroup",props:Ame(),setup(r,l){let{slots:f}=l;const{isOpen:m,open:x,id:v}=sY(ts(r,"value"),!0),w=Tt(()=>`v-list-group--id-${String(v.value)}`),E=eY(),{isBooted:F}=d8();function P(U){U.stopPropagation(),x(!m.value,U)}const I=Tt(()=>({onClick:P,class:"v-list-group__header",id:w.value})),z=Tt(()=>m.value?r.collapseIcon:r.expandIcon),j=Tt(()=>({VListItem:{active:m.value,activeColor:r.activeColor,baseColor:r.baseColor,color:r.color,prependIcon:r.prependIcon||r.subgroup&&z.value,appendIcon:r.appendIcon||!r.subgroup&&z.value,title:r.title,value:r.value}}));return Qs(()=>Re(r.tag,{class:["v-list-group",{"v-list-group--prepend":E==null?void 0:E.hasPrepend.value,"v-list-group--fluid":r.fluid,"v-list-group--subgroup":r.subgroup,"v-list-group--open":m.value},r.class],style:r.style},{default:()=>[f.activator&&Re(Vu,{defaults:j.value},{default:()=>[Re(kme,null,{default:()=>[f.activator({props:I.value,isOpen:m.value})]})]}),Re(NS,{transition:{component:HG},disabled:!F.value},{default:()=>{var U;return[Yr(Re("div",{class:"v-list-group__items",role:"group","aria-labelledby":w.value},[(U=f.default)==null?void 0:U.call(f)]),[[Cs,m.value]])]}})]})),{isOpen:m}}}),Eme=vo({opacity:[Number,String],...Ii(),...Kl()},"VListItemSubtitle"),Tme=ns()({name:"VListItemSubtitle",props:Eme(),setup(r,l){let{slots:f}=l;return Qs(()=>Re(r.tag,{class:["v-list-item-subtitle",r.class],style:[{"--v-list-item-subtitle-opacity":r.opacity},r.style]},f)),{}}}),Ome=yV("v-list-item-title"),Dme=vo({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Hu,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Hu,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:OT(),onClickOnce:OT(),...Y0(),...Ii(),...hw(),...vw(),...pw(),...Tp(),...RV(),...Kl(),...Od(),...GS({variant:"text"})},"VListItem"),B0=ns()({name:"VListItem",directives:{Ripple:NV},props:Dme(),emits:{click:r=>!0},setup(r,l){let{attrs:f,slots:m,emit:x}=l;const v=DV(r,f),w=Tt(()=>r.value===void 0?v.href.value:r.value),{activate:E,isActivated:F,select:P,isOpen:I,isSelected:z,isIndeterminate:j,isGroupActivator:U,root:J,parent:ne,openOnSelect:ye}=sY(w,!1),pe=eY(),We=Tt(()=>{var xt;return r.active!==!1&&(r.active||((xt=v.isActive)==null?void 0:xt.value)||(J.activatable.value?F.value:z.value))}),Fe=Tt(()=>r.link!==!1&&v.isLink.value),ae=Tt(()=>!r.disabled&&r.link!==!1&&(r.link||v.isClickable.value||!!pe&&(J.selectable.value||J.activatable.value||r.value!=null))),Ie=Tt(()=>r.rounded||r.nav),oe=Tt(()=>r.color??r.activeColor),Je=Tt(()=>({color:We.value?oe.value??r.baseColor:r.baseColor,variant:r.variant}));Yo(()=>{var xt;return(xt=v.isActive)==null?void 0:xt.value},xt=>{xt&&ne.value!=null&&J.open(ne.value,!0),xt&&ye(xt)},{immediate:!0});const{themeClasses:He}=Dd(r),{borderClasses:Ye}=X0(r),{colorClasses:gt,colorStyles:Se,variantClasses:Ne}=a8(Je),{densityClasses:D}=qS(r),{dimensionStyles:Nt}=xw(r),{elevationClasses:sn}=bw(r),{roundedClasses:vn}=Op(Ie),Tn=Tt(()=>r.lines?`v-list-item--${r.lines}-line`:void 0),rt=Tt(()=>({isActive:We.value,select:P,isOpen:I.value,isSelected:z.value,isIndeterminate:j.value}));function Un(xt){var yt;x("click",xt),ae.value&&((yt=v.navigate)==null||yt.call(v,xt),!U&&(J.activatable.value?E(!F.value,xt):(J.selectable.value||r.value!=null)&&P(!z.value,xt)))}function Hr(xt){(xt.key==="Enter"||xt.key===" ")&&(xt.preventDefault(),xt.target.dispatchEvent(new MouseEvent("click",xt)))}return Qs(()=>{const xt=Fe.value?"a":r.tag,yt=m.title||r.title!=null,qt=m.subtitle||r.subtitle!=null,$r=!!(r.appendAvatar||r.appendIcon),xo=!!($r||m.append),Sn=!!(r.prependAvatar||r.prependIcon),Mn=!!(Sn||m.prepend);return pe==null||pe.updateHasPrepend(Mn),r.activeColor&&ele("active-color",["color","base-color"]),Yr(Re(xt,{class:["v-list-item",{"v-list-item--active":We.value,"v-list-item--disabled":r.disabled,"v-list-item--link":ae.value,"v-list-item--nav":r.nav,"v-list-item--prepend":!Mn&&(pe==null?void 0:pe.hasPrepend.value),"v-list-item--slim":r.slim,[`${r.activeClass}`]:r.activeClass&&We.value},He.value,Ye.value,gt.value,D.value,sn.value,Tn.value,vn.value,Ne.value,r.class],style:[Se.value,Nt.value,r.style],href:v.href.value,tabindex:ae.value?pe?-2:0:void 0,onClick:Un,onKeydown:ae.value&&!Fe.value&&Hr},{default:()=>{var X;return[i8(ae.value||We.value,"v-list-item"),Mn&&Re("div",{key:"prepend",class:"v-list-item__prepend"},[m.prepend?Re(Vu,{key:"prepend-defaults",disabled:!Sn,defaults:{VAvatar:{density:r.density,image:r.prependAvatar},VIcon:{density:r.density,icon:r.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var nr;return[(nr=m.prepend)==null?void 0:nr.call(m,rt.value)]}}):Re(li,null,[r.prependAvatar&&Re(BM,{key:"prepend-avatar",density:r.density,image:r.prependAvatar},null),r.prependIcon&&Re(zr,{key:"prepend-icon",density:r.density,icon:r.prependIcon},null)]),Re("div",{class:"v-list-item__spacer"},null)]),Re("div",{class:"v-list-item__content","data-no-activator":""},[yt&&Re(Ome,{key:"title"},{default:()=>{var nr;return[((nr=m.title)==null?void 0:nr.call(m,{title:r.title}))??r.title]}}),qt&&Re(Tme,{key:"subtitle"},{default:()=>{var nr;return[((nr=m.subtitle)==null?void 0:nr.call(m,{subtitle:r.subtitle}))??r.subtitle]}}),(X=m.default)==null?void 0:X.call(m,rt.value)]),xo&&Re("div",{key:"append",class:"v-list-item__append"},[m.append?Re(Vu,{key:"append-defaults",disabled:!$r,defaults:{VAvatar:{density:r.density,image:r.appendAvatar},VIcon:{density:r.density,icon:r.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var nr;return[(nr=m.append)==null?void 0:nr.call(m,rt.value)]}}):Re(li,null,[r.appendIcon&&Re(zr,{key:"append-icon",density:r.density,icon:r.appendIcon},null),r.appendAvatar&&Re(BM,{key:"append-avatar",density:r.density,image:r.appendAvatar},null)]),Re("div",{class:"v-list-item__spacer"},null)])]}}),[[jM("ripple"),ae.value&&r.ripple]])}),{activate:E,isActivated:F,isGroupActivator:U,isSelected:z,list:pe,select:P}}}),Rme=vo({color:String,inset:Boolean,sticky:Boolean,title:String,...Ii(),...Kl()},"VListSubheader"),Nme=ns()({name:"VListSubheader",props:Rme(),setup(r,l){let{slots:f}=l;const{textColorClasses:m,textColorStyles:x}=VS(ts(r,"color"));return Qs(()=>{const v=!!(f.default||r.title);return Re(r.tag,{class:["v-list-subheader",{"v-list-subheader--inset":r.inset,"v-list-subheader--sticky":r.sticky},m.value,r.class],style:[{textColorStyles:x},r.style]},{default:()=>{var w;return[v&&Re("div",{class:"v-list-subheader__text"},[((w=f.default)==null?void 0:w.call(f))??r.title])]}})}),{}}}),Ime=vo({items:Array,returnObject:Boolean},"VListChildren"),iY=ns()({name:"VListChildren",props:Ime(),setup(r,l){let{slots:f}=l;return QG(),()=>{var m,x;return((m=f.default)==null?void 0:m.call(f))??((x=r.items)==null?void 0:x.map(v=>{var j,U;let{children:w,props:E,type:F,raw:P}=v;if(F==="divider")return((j=f.divider)==null?void 0:j.call(f,{props:E}))??Re($9,E,null);if(F==="subheader")return((U=f.subheader)==null?void 0:U.call(f,{props:E}))??Re(Nme,E,null);const I={subtitle:f.subtitle?J=>{var ne;return(ne=f.subtitle)==null?void 0:ne.call(f,{...J,item:P})}:void 0,prepend:f.prepend?J=>{var ne;return(ne=f.prepend)==null?void 0:ne.call(f,{...J,item:P})}:void 0,append:f.append?J=>{var ne;return(ne=f.append)==null?void 0:ne.call(f,{...J,item:P})}:void 0,title:f.title?J=>{var ne;return(ne=f.title)==null?void 0:ne.call(f,{...J,item:P})}:void 0},z=Pj.filterProps(E);return w?Re(Pj,Ua({value:E==null?void 0:E.value},z),{activator:J=>{let{props:ne}=J;const ye={...E,...ne,value:r.returnObject?P:E.value};return f.header?f.header({props:ye}):Re(B0,ye,I)},default:()=>Re(iY,{items:w,returnObject:r.returnObject},f)}):f.item?f.item({props:E}):Re(B0,Ua(E,{value:r.returnObject?P:E.value}),I)}))}}}),Bme=vo({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:YM}},"list-items");function Mme(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"}function Pme(r,l){const f=yT(l,r.itemType,"item"),m=Mme(l)?l:yT(l,r.itemTitle),x=yT(l,r.itemValue,void 0),v=yT(l,r.itemChildren),w=r.itemProps===!0?Lae(l,["children"]):yT(l,r.itemProps),E={title:m,value:x,...w};return{type:f,title:E.title,value:E.value,props:E,children:f==="item"&&v?aY(r,v):void 0,raw:l}}function aY(r,l){const f=[];for(const m of l)f.push(Pme(r,m));return f}function Lme(r){return{items:Tt(()=>aY(r,r.items))}}const Fme=vo({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":OT(),"onClick:select":OT(),"onUpdate:opened":OT(),...Cme({selectStrategy:"single-leaf",openStrategy:"list"}),...Y0(),...Ii(),...hw(),...vw(),...pw(),itemType:{type:String,default:"type"},...Bme(),...Tp(),...Kl(),...Od(),...GS({variant:"text"})},"VList"),Lj=ns()({name:"VList",props:Fme(),emits:{"update:selected":r=>!0,"update:activated":r=>!0,"update:opened":r=>!0,"click:open":r=>!0,"click:activate":r=>!0,"click:select":r=>!0},setup(r,l){let{slots:f}=l;const{items:m}=Lme(r),{themeClasses:x}=Dd(r),{backgroundColorClasses:v,backgroundColorStyles:w}=T1(ts(r,"bgColor")),{borderClasses:E}=X0(r),{densityClasses:F}=qS(r),{dimensionStyles:P}=xw(r),{elevationClasses:I}=bw(r),{roundedClasses:z}=Op(r),{children:j,open:U,parents:J,select:ne}=_me(r),ye=Tt(()=>r.lines?`v-list--${r.lines}-line`:void 0),pe=ts(r,"activeColor"),We=ts(r,"baseColor"),Fe=ts(r,"color");QG(),US({VListGroup:{activeColor:pe,baseColor:We,color:Fe,expandIcon:ts(r,"expandIcon"),collapseIcon:ts(r,"collapseIcon")},VListItem:{activeClass:ts(r,"activeClass"),activeColor:pe,baseColor:We,color:Fe,density:ts(r,"density"),disabled:ts(r,"disabled"),lines:ts(r,"lines"),nav:ts(r,"nav"),slim:ts(r,"slim"),variant:ts(r,"variant")}});const ae=Rr(!1),Ie=kr();function oe(Ne){ae.value=!0}function Je(Ne){ae.value=!1}function He(Ne){var D;!ae.value&&!(Ne.relatedTarget&&((D=Ie.value)!=null&&D.contains(Ne.relatedTarget)))&&Se()}function Ye(Ne){const D=Ne.target;if(!(!Ie.value||["INPUT","TEXTAREA"].includes(D.tagName))){if(Ne.key==="ArrowDown")Se("next");else if(Ne.key==="ArrowUp")Se("prev");else if(Ne.key==="Home")Se("first");else if(Ne.key==="End")Se("last");else return;Ne.preventDefault()}}function gt(Ne){ae.value=!0}function Se(Ne){if(Ie.value)return mq(Ie.value,Ne)}return Qs(()=>Re(r.tag,{ref:Ie,class:["v-list",{"v-list--disabled":r.disabled,"v-list--nav":r.nav,"v-list--slim":r.slim},x.value,v.value,E.value,F.value,I.value,ye.value,z.value,r.class],style:[w.value,P.value,r.style],tabindex:r.disabled||ae.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:oe,onFocusout:Je,onFocus:He,onKeydown:Ye,onMousedown:gt},{default:()=>[Re(iY,{items:m.value,returnObject:r.returnObject},f)]})),{open:U,select:ne,focus:Se,children:j,parents:J}}});function zme(r){let{rootEl:l,isSticky:f,layoutItemStyles:m}=r;const x=Rr(!1),v=Rr(0),w=Tt(()=>{const P=typeof x.value=="boolean"?"top":x.value;return[f.value?{top:"auto",bottom:"auto",height:void 0}:void 0,x.value?{[P]:xr(v.value)}:{top:m.value.top}]});Ap(()=>{Yo(f,P=>{P?window.addEventListener("scroll",F,{passive:!0}):window.removeEventListener("scroll",F)},{immediate:!0})}),$u(()=>{window.removeEventListener("scroll",F)});let E=0;function F(){const P=E>window.scrollY?"up":"down",I=l.value.getBoundingClientRect(),z=parseFloat(m.value.top??0),j=window.scrollY-Math.max(0,v.value-z),U=I.height+Math.max(v.value,z)-window.scrollY-window.innerHeight,J=parseFloat(getComputedStyle(l.value).getPropertyValue("--v-body-scroll-y"))||0;I.height<window.innerHeight-z?(x.value="top",v.value=z):P==="up"&&x.value==="bottom"||P==="down"&&x.value==="top"?(v.value=window.scrollY+I.top-J,x.value=!0):P==="down"&&U<=0?(v.value=0,x.value="bottom"):P==="up"&&j<=0&&(J?x.value!=="top"&&(v.value=-j+J+z,x.value="top"):(v.value=I.top+j,x.value="top")),E=window.scrollY}return{isStuck:x,stickyStyles:w}}const Hme=100,Vme=20;function Fj(r){return(r<0?-1:1)*Math.sqrt(Math.abs(r))*1.41421356237}function zj(r){if(r.length<2)return 0;if(r.length===2)return r[1].t===r[0].t?0:(r[1].d-r[0].d)/(r[1].t-r[0].t);let l=0;for(let f=r.length-1;f>0;f--){if(r[f].t===r[f-1].t)continue;const m=Fj(l),x=(r[f].d-r[f-1].d)/(r[f].t-r[f-1].t);l+=(x-m)*Math.abs(x),f===r.length-1&&(l*=.5)}return Fj(l)*1e3}function $me(){const r={};function l(x){Array.from(x.changedTouches).forEach(v=>{(r[v.identifier]??(r[v.identifier]=new Hae(Vme))).push([x.timeStamp,v])})}function f(x){Array.from(x.changedTouches).forEach(v=>{delete r[v.identifier]})}function m(x){var P;const v=(P=r[x])==null?void 0:P.values().reverse();if(!v)throw new Error(`No samples for touch id ${x}`);const w=v[0],E=[],F=[];for(const I of v){if(w[0]-I[0]>Hme)break;E.push({t:I[0],d:I[1].clientX}),F.push({t:I[0],d:I[1].clientY})}return{x:zj(E),y:zj(F),get direction(){const{x:I,y:z}=this,[j,U]=[Math.abs(I),Math.abs(z)];return j>U&&I>=0?"right":j>U&&I<=0?"left":U>j&&z>=0?"down":U>j&&z<=0?"up":Ume()}}}return{addMovement:l,endTouch:f,getVelocity:m}}function Ume(){throw new Error}function Zme(r){let{el:l,isActive:f,isTemporary:m,width:x,touchless:v,position:w}=r;Ap(()=>{window.addEventListener("touchstart",We,{passive:!0}),window.addEventListener("touchmove",Fe,{passive:!1}),window.addEventListener("touchend",ae,{passive:!0})}),$u(()=>{window.removeEventListener("touchstart",We),window.removeEventListener("touchmove",Fe),window.removeEventListener("touchend",ae)});const E=Tt(()=>["left","right"].includes(w.value)),{addMovement:F,endTouch:P,getVelocity:I}=$me();let z=!1;const j=Rr(!1),U=Rr(0),J=Rr(0);let ne;function ye(oe,Je){return(w.value==="left"?oe:w.value==="right"?document.documentElement.clientWidth-oe:w.value==="top"?oe:w.value==="bottom"?document.documentElement.clientHeight-oe:DS())-(Je?x.value:0)}function pe(oe){let Je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const He=w.value==="left"?(oe-J.value)/x.value:w.value==="right"?(document.documentElement.clientWidth-oe-J.value)/x.value:w.value==="top"?(oe-J.value)/x.value:w.value==="bottom"?(document.documentElement.clientHeight-oe-J.value)/x.value:DS();return Je?Math.max(0,Math.min(1,He)):He}function We(oe){if(v.value)return;const Je=oe.changedTouches[0].clientX,He=oe.changedTouches[0].clientY,Ye=25,gt=w.value==="left"?Je<Ye:w.value==="right"?Je>document.documentElement.clientWidth-Ye:w.value==="top"?He<Ye:w.value==="bottom"?He>document.documentElement.clientHeight-Ye:DS(),Se=f.value&&(w.value==="left"?Je<x.value:w.value==="right"?Je>document.documentElement.clientWidth-x.value:w.value==="top"?He<x.value:w.value==="bottom"?He>document.documentElement.clientHeight-x.value:DS());(gt||Se||f.value&&m.value)&&(ne=[Je,He],J.value=ye(E.value?Je:He,f.value),U.value=pe(E.value?Je:He),z=J.value>-20&&J.value<80,P(oe),F(oe))}function Fe(oe){const Je=oe.changedTouches[0].clientX,He=oe.changedTouches[0].clientY;if(z){if(!oe.cancelable){z=!1;return}const gt=Math.abs(Je-ne[0]),Se=Math.abs(He-ne[1]);(E.value?gt>Se&&gt>3:Se>gt&&Se>3)?(j.value=!0,z=!1):(E.value?Se:gt)>3&&(z=!1)}if(!j.value)return;oe.preventDefault(),F(oe);const Ye=pe(E.value?Je:He,!1);U.value=Math.max(0,Math.min(1,Ye)),Ye>1?J.value=ye(E.value?Je:He,!0):Ye<0&&(J.value=ye(E.value?Je:He,!1))}function ae(oe){if(z=!1,!j.value)return;F(oe),j.value=!1;const Je=I(oe.changedTouches[0].identifier),He=Math.abs(Je.x),Ye=Math.abs(Je.y);(E.value?He>Ye&&He>400:Ye>He&&Ye>3)?f.value=Je.direction===({left:"right",right:"left",top:"down",bottom:"up"}[w.value]||DS()):f.value=U.value>.5}const Ie=Tt(()=>j.value?{transform:w.value==="left"?`translateX(calc(-100% + ${U.value*x.value}px))`:w.value==="right"?`translateX(calc(100% - ${U.value*x.value}px))`:w.value==="top"?`translateY(calc(-100% + ${U.value*x.value}px))`:w.value==="bottom"?`translateY(calc(100% - ${U.value*x.value}px))`:DS(),transition:"none"}:void 0);return E1(j,()=>{var He,Ye;const oe=((He=l.value)==null?void 0:He.style.transform)??null,Je=((Ye=l.value)==null?void 0:Ye.style.transition)??null;Ep(()=>{var gt,Se,Ne,D;(Se=l.value)==null||Se.style.setProperty("transform",((gt=Ie.value)==null?void 0:gt.transform)||"none"),(D=l.value)==null||D.style.setProperty("transition",((Ne=Ie.value)==null?void 0:Ne.transition)||null)}),Ff(()=>{var gt,Se;(gt=l.value)==null||gt.style.setProperty("transform",oe),(Se=l.value)==null||Se.style.setProperty("transition",Je)})}),{isDragging:j,dragProgress:U,dragStyles:Ie}}function DS(){throw new Error}const Wme=["start","end","left","right","top","bottom"],jme=vo({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:r=>Wme.includes(r)},sticky:Boolean,...Y0(),...Ii(),...UG(),...xce({mobile:null}),...pw(),...Mq(),...Tp(),...Kl({tag:"nav"}),...Od()},"VNavigationDrawer"),Kme=ns()({name:"VNavigationDrawer",props:jme(),emits:{"update:modelValue":r=>!0,"update:rail":r=>!0},setup(r,l){let{attrs:f,emit:m,slots:x}=l;const{isRtl:v}=WS(),{themeClasses:w}=Dd(r),{borderClasses:E}=X0(r),{backgroundColorClasses:F,backgroundColorStyles:P}=T1(ts(r,"color")),{elevationClasses:I}=bw(r),{displayClasses:z,mobile:j}=Dq(r),{roundedClasses:U}=Op(r),J=AG(),ne=Sp(r,"modelValue",null,xt=>!!xt),{ssrBootStyles:ye}=d8(),{scopeId:pe}=IV(),We=kr(),Fe=Rr(!1),{runOpenDelay:ae,runCloseDelay:Ie}=ZG(r,xt=>{Fe.value=xt}),oe=Tt(()=>r.rail&&r.expandOnHover&&Fe.value?Number(r.width):Number(r.rail?r.railWidth:r.width)),Je=Tt(()=>x9(r.location,v.value)),He=Tt(()=>r.persistent),Ye=Tt(()=>!r.permanent&&(j.value||r.temporary)),gt=Tt(()=>r.sticky&&!Ye.value&&Je.value!=="bottom");E1(()=>r.expandOnHover&&r.rail!=null,()=>{Yo(Fe,xt=>m("update:rail",!xt))}),E1(()=>!r.disableResizeWatcher,()=>{Yo(Ye,xt=>!r.permanent&&Pf(()=>ne.value=!xt))}),E1(()=>!r.disableRouteWatcher&&!!J,()=>{Yo(J.currentRoute,()=>Ye.value&&(ne.value=!1))}),Yo(()=>r.permanent,xt=>{xt&&(ne.value=!0)}),r.modelValue==null&&!Ye.value&&(ne.value=r.permanent||!j.value);const{isDragging:Se,dragProgress:Ne}=Zme({el:We,isActive:ne,isTemporary:Ye,width:oe,touchless:ts(r,"touchless"),position:Je}),D=Tt(()=>{const xt=Ye.value?0:r.rail&&r.expandOnHover?Number(r.railWidth):oe.value;return Se.value?xt*Ne.value:xt}),Nt=Tt(()=>["top","bottom"].includes(r.location)?0:oe.value),{layoutItemStyles:sn,layoutItemScrimStyles:vn}=Pq({id:r.name,order:Tt(()=>parseInt(r.order,10)),position:Je,layoutSize:D,elementSize:Nt,active:Tt(()=>ne.value||Se.value),disableTransitions:Tt(()=>Se.value),absolute:Tt(()=>r.absolute||gt.value&&typeof Tn.value!="string")}),{isStuck:Tn,stickyStyles:rt}=zme({rootEl:We,isSticky:gt,layoutItemStyles:sn}),Un=T1(Tt(()=>typeof r.scrim=="string"?r.scrim:null)),Hr=Tt(()=>({...Se.value?{opacity:Ne.value*.2,transition:"none"}:void 0,...vn.value}));return US({VList:{bgColor:"transparent"}}),Qs(()=>{const xt=x.image||r.image;return Re(li,null,[Re(r.tag,Ua({ref:We,onMouseenter:ae,onMouseleave:Ie,class:["v-navigation-drawer",`v-navigation-drawer--${Je.value}`,{"v-navigation-drawer--expand-on-hover":r.expandOnHover,"v-navigation-drawer--floating":r.floating,"v-navigation-drawer--is-hovering":Fe.value,"v-navigation-drawer--rail":r.rail,"v-navigation-drawer--temporary":Ye.value,"v-navigation-drawer--persistent":He.value,"v-navigation-drawer--active":ne.value,"v-navigation-drawer--sticky":gt.value},w.value,F.value,E.value,z.value,I.value,U.value,r.class],style:[P.value,sn.value,ye.value,rt.value,r.style,["top","bottom"].includes(Je.value)?{height:"auto"}:{}]},pe,f),{default:()=>{var yt,qt,$r;return[xt&&Re("div",{key:"image",class:"v-navigation-drawer__img"},[x.image?Re(Vu,{key:"image-defaults",disabled:!r.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:r.image}}},x.image):Re(u8,{key:"image-img",alt:"",cover:!0,height:"inherit",src:r.image},null)]),x.prepend&&Re("div",{class:"v-navigation-drawer__prepend"},[(yt=x.prepend)==null?void 0:yt.call(x)]),Re("div",{class:"v-navigation-drawer__content"},[(qt=x.default)==null?void 0:qt.call(x)]),x.append&&Re("div",{class:"v-navigation-drawer__append"},[($r=x.append)==null?void 0:$r.call(x)])]}}),Re(kp,{name:"fade-transition"},{default:()=>[Ye.value&&(Se.value||ne.value)&&!!r.scrim&&Re("div",Ua({class:["v-navigation-drawer__scrim",Un.backgroundColorClasses.value],style:[Hr.value,Un.backgroundColorStyles.value],onClick:()=>{He.value||(ne.value=!1)}},pe),null)]})])}),{isStuck:Tn}}}),qme={__name:"NavBar",setup(r){const l=lw(),f=H0(),m=Qm(),x=_p(),v=Lf();function w(){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseleave"))}function E(P){P.type=="url"?window.open(P.source,"long-essay-writer-resource-"+P.key):(f.selectResource(P),l.showResources())}function F(P){switch(P.type){case"url":return f.isActive(P)&&l.isResourcesVisible?"mdi-file-link":"mdi-file-link-outline";default:return f.isActive(P)&&l.isResourcesVisible?"mdi-file":"mdi-file-outline"}}return(P,I)=>(_r(),$a(Kme,{id:"app-navigation-drawer",elevation:"2",width:"500",permanent:"",rail:"","expand-on-hover":""},{append:Wn(()=>[Re(Lj,null,{default:Wn(()=>[Re(B0,{disabled:lt(v).isAllSent,title:lt(v).isSending?"nderungen werden gesendet":lt(v).isAllSent?"Alles gesendet":"Noch nderungen zu senden"},{prepend:Wn(()=>[Re(zr,{title:lt(v).isSending?"nderungen werden gesendet":lt(v).isAllSent?"Alles gesendet":"Noch nderungen zu senden",icon:lt(v).isSending?"mdi-cloud-upload":lt(v).isAllSent?"mdi-cloud-check-outline":"mdi-cloud-outline"},null,8,["title","icon"])]),_:1},8,["disabled","title"])]),_:1})]),default:Wn(()=>[Re(Lj,null,{default:Wn(()=>[Yr(Re(B0,{onClick:I[0]||(I[0]=z=>{lt(l).showInstructions(),w()}),title:"Aufgabenstellung"+(lt(l).isInstructionsVisible?" (ausgewhlt)":"")},{prepend:Wn(()=>[Re(zr,{title:"Aufgabenstellung"+(lt(l).isInstructionsVisible?" (ausgewhlt)":""),icon:lt(l).isInstructionsVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["title","icon"])]),_:1},8,["title"]),[[Cs,lt(m).hasInstructions]]),Yr(Re(B0,{onClick:I[1]||(I[1]=z=>{lt(l).showInstructionsPdf(),w()}),title:"Aufgabenstellung als PDF"+(lt(l).isInstructionsPdfVisible?" (ausgewhlt)":"")},{prepend:Wn(()=>[Re(zr,{title:"Aufgabenstellung als PDF"+(lt(l).isInstructionsPdfVisible?" (ausgewhlt)":""),icon:lt(l).isInstructionsPdfVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["title","icon"])]),_:1},8,["title"]),[[Cs,lt(f).hasInstruction]]),Re($9,{class:"border-opacity-75"}),Re(B0,{onClick:I[2]||(I[2]=z=>{lt(l).showEssay(),w()}),title:"Abgabe-Text"+(lt(l).isEssayVisible?" (ausgewhlt)":"")},{prepend:Wn(()=>[Re(zr,{title:"Abgabe-Text"+(lt(l).isEssayVisible?" (ausgewhlt)":""),icon:lt(l).isEssayVisible?"mdi-file-edit":"mdi-file-edit-outline"},null,8,["title","icon"])]),_:1},8,["title"]),lt(x).hasNotes?(_r(),$a(B0,{key:0,onClick:I[3]||(I[3]=z=>{lt(l).showNotes(),w()}),title:"Notizen, werden bei der Abgabe verworfen"+(lt(l).isNotesVisible?" (ausgewhlt)":"")},{prepend:Wn(()=>[Re(zr,{title:"Notizen, werden bei der Abgabe verworfen"+(lt(l).isNotesVisible?" (ausgewhlt)":""),icon:lt(l).isNotesVisible?"mdi-file-edit":"mdi-file-edit-outline"},null,8,["title","icon"])]),_:1},8,["title"])):Wl("",!0),Re($9,{class:"border-opacity-75"}),(_r(!0),pl(li,null,MT(lt(f).getFileOrUrlResources,z=>(_r(),$a(B0,{onClick:j=>{E(z),w()},title:z.title+(lt(f).isActive(z)&&lt(l).isResourcesVisible?" (ausgewhlt)":""),key:z.key},{prepend:Wn(()=>[Re(zr,{title:z.title+(lt(f).isActive(z)&&lt(l).isResourcesVisible?" (ausgewhlt)":""),icon:F(z)},null,8,["title","icon"])]),_:2},1032,["onClick","title"]))),128))]),_:1})]),_:1}))}},Gme=R1(qme,[["__scopeId","data-v-c45f550d"]]);function lM(r){const l=document.createElement("div");return l.innerHTML=r,(l.innerText||l.textContent).replace(/[\s\n\r]+/g,"")}const f8=rh("clipboard",{state:()=>({content:"",show_warning:!1}),getters:{getPasteAllowed:r=>function(f){return!!(_p().copy_allowed||(console.log("content:",f),console.log("normalized content:",lM(f)),console.log("state.content:",r.content),console.log("normalized state.content:",lM(r.content)),lM(f)==lM(r.content)))}},actions:{setContent(r){this.content=r},showWarning(){this.show_warning=!0},hideWarning(){this.show_warning=!1}}}),Yme={id:"app-instructions-wrapper"},Xme={class:"appTextButtons"},Jme={class:"app-instructions-scroll"},Qme=["innerHTML"],ege={__name:"Instructions",setup(r){const l=Qm(),f=aw(),m=f8();function x(w){const E=v();console.log(E),m.setContent(E),w.clipboardData.setData("text/html",E),w.preventDefault()}function v(){var w;if(document.selection&&document.selection.createRange)return w=document.selection.createRange(),w.htmlText;if(window.getSelection){var E=window.getSelection();if(E.rangeCount>0){w=E.getRangeAt(0);var F=w.cloneContents(),P=document.createElement("div");return P.appendChild(F),P.innerHTML}else return""}else return""}return(w,E)=>(_r(),pl("div",Yme,[Bn("div",Xme,[Re(zT,{density:"comfortable",variant:"outlined",divided:""},{default:Wn(()=>[Re(ai,{title:"Verkleinern",size:"small",icon:"mdi-magnify-minus-outline",onClick:E[0]||(E[0]=F=>lt(f).zoomInstructionsOut())}),Re(ai,{title:"Vergrern",size:"small",icon:"mdi-magnify-plus-outline",onClick:E[1]||(E[1]=F=>lt(f).zoomInstructionsIn())})]),_:1})]),Bn("div",Jme,[Bn("div",{class:"long-essay-content",style:L0("font-size:"+lt(f).instructions_zoom*16+"px;"),innerHTML:lt(l).instructions,onCopy:x,onCut:E[2]||(E[2]=(...F)=>w.handleCut&&w.handleCut(...F))},null,44,Qme)])]))}},tge=R1(ege,[["__scopeId","data-v-56211261"]]),nge=["data"],oge={__name:"InstructionsPdf",setup(r){const f=H0().getInstruction;return(m,x)=>(_r(),pl("div",null,[lt(f).mimetype=="application/pdf"?(_r(),pl("object",{key:0,type:"application/pdf",data:lt(f).url,width:"100%",height:"100%"},null,8,nge)):Wl("",!0)]))}},rge=R1(oge,[["__scopeId","data-v-f6c007fd"]]),sge={class:"resources"},ige={key:0},age=["data"],lge={__name:"Resources",setup(r){const l=H0();return(f,m)=>(_r(),pl("div",sge,[(_r(!0),pl(li,null,MT(lt(l).resources,x=>(_r(),pl(li,{key:x.key},[x.type=="file"?Yr((_r(),pl("div",ige,[x.mimetype=="application/pdf"?(_r(),pl("object",{key:0,type:"application/pdf",data:x.url,width:"100%",height:"100%"},null,8,age)):Wl("",!0)],512)),[[Cs,lt(l).isActive(x)]]):Wl("",!0)],64))),128))]))}},cge=R1(lge,[["__scopeId","data-v-59828a6d"]]);var lY={exports:{}};(function(r){(function(){var l=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},f=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},m=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},x=function(e,t){return v(function(n,s){return e.eq(t(n),t(s))})},v=function(e){return{eq:e}},w=v(function(e,t){return e===t}),E=w,F=function(e){return v(function(t,n){if(t.length!==n.length)return!1;for(var s=t.length,a=0;a<s;a++)if(!e.eq(t[a],n[a]))return!1;return!0})},P=function(e,t){return x(F(e),function(n){return m(n,t)})},I=function(e){return v(function(t,n){var s=Object.keys(t),a=Object.keys(n);if(!P(E).eq(s,a))return!1;for(var d=s.length,g=0;g<d;g++){var C=s[g];if(!e.eq(t[C],n[C]))return!1}return!0})},z=v(function(e,t){if(e===t)return!0;var n=l(e),s=l(t);return n!==s?!1:f(n)?e===t:n==="array"?F(z).eq(e,t):n==="object"?I(z).eq(e,t):!1});const j=Object.getPrototypeOf,U=(e,t,n)=>{var s;return n(e,t.prototype)?!0:((s=e.constructor)===null||s===void 0?void 0:s.name)===t.name},J=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&U(e,String,(n,s)=>s.isPrototypeOf(n))?"string":t},ne=e=>t=>J(t)===e,ye=e=>t=>typeof t===e,pe=e=>t=>e===t,We=(e,t)=>ae(e)&&U(e,t,(n,s)=>j(n)===s),Fe=ne("string"),ae=ne("object"),Ie=e=>We(e,Object),oe=ne("array"),Je=pe(null),He=ye("boolean"),Ye=pe(void 0),gt=e=>e==null,Se=e=>!gt(e),Ne=ye("function"),D=ye("number"),Nt=(e,t)=>{if(oe(e)){for(let n=0,s=e.length;n<s;++n)if(!t(e[n]))return!1;return!0}return!1},sn=()=>{},vn=(e,t)=>(...n)=>e(t.apply(null,n)),Tn=(e,t)=>n=>e(t(n)),rt=e=>()=>e,Un=e=>e,Hr=(e,t)=>e===t;function xt(e,...t){return(...n)=>{const s=t.concat(n);return e.apply(null,s)}}const yt=e=>t=>!e(t),qt=e=>()=>{throw new Error(e)},$r=e=>e(),xo=e=>{e()},Sn=rt(!1),Mn=rt(!0);class X{constructor(t,n){this.tag=t,this.value=n}static some(t){return new X(!0,t)}static none(){return X.singletonNone}fold(t,n){return this.tag?n(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?X.some(t(this.value)):X.none()}bind(t){return this.tag?t(this.value):X.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:X.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return Se(t)?X.some(t):X.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}X.singletonNone=new X(!1);const nr=Array.prototype.slice,pr=Array.prototype.indexOf,jo=Array.prototype.push,Qi=(e,t)=>pr.call(e,t),Ue=(e,t)=>{const n=Qi(e,t);return n===-1?X.none():X.some(n)},ve=(e,t)=>Qi(e,t)>-1,De=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const a=e[n];if(t(a,n))return!0}return!1},tt=(e,t)=>{const n=e.length,s=new Array(n);for(let a=0;a<n;a++){const d=e[a];s[a]=t(d,a)}return s},_e=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const a=e[n];t(a,n)}},It=(e,t)=>{for(let n=e.length-1;n>=0;n--){const s=e[n];t(s,n)}},en=(e,t)=>{const n=[],s=[];for(let a=0,d=e.length;a<d;a++){const g=e[a];(t(g,a)?n:s).push(g)}return{pass:n,fail:s}},_t=(e,t)=>{const n=[];for(let s=0,a=e.length;s<a;s++){const d=e[s];t(d,s)&&n.push(d)}return n},Yt=(e,t,n)=>(It(e,(s,a)=>{n=t(n,s,a)}),n),je=(e,t,n)=>(_e(e,(s,a)=>{n=t(n,s,a)}),n),et=(e,t,n)=>{for(let s=0,a=e.length;s<a;s++){const d=e[s];if(t(d,s))return X.some(d);if(n(d,s))break}return X.none()},Bt=(e,t)=>et(e,t,Sn),Mt=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const a=e[n];if(t(a,n))return X.some(n)}return X.none()},Gt=e=>{const t=[];for(let n=0,s=e.length;n<s;++n){if(!oe(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);jo.apply(t,e[n])}return t},xn=(e,t)=>Gt(tt(e,t)),eo=(e,t)=>{for(let n=0,s=e.length;n<s;++n){const a=e[n];if(t(a,n)!==!0)return!1}return!0},fo=e=>{const t=nr.call(e,0);return t.reverse(),t},po=(e,t)=>_t(e,n=>!ve(t,n)),Ko=(e,t)=>{const n={};for(let s=0,a=e.length;s<a;s++){const d=e[s];n[String(d)]=t(d,s)}return n},yo=(e,t)=>{const n=nr.call(e,0);return n.sort(t),n},Ar=(e,t)=>t>=0&&t<e.length?X.some(e[t]):X.none(),jt=e=>Ar(e,0),ao=e=>Ar(e,e.length-1),so=Ne(Array.from)?Array.from:e=>nr.call(e),Nr=(e,t)=>{for(let n=0;n<e.length;n++){const s=t(e[n],n);if(s.isSome())return s}return X.none()},Ms=(e,t)=>{const n=[],s=Ne(t)?a=>De(n,d=>t(d,a)):a=>ve(n,a);for(let a=0,d=e.length;a<d;a++){const g=e[a];s(g)||n.push(g)}return n},Ht=Object.keys,Ks=Object.hasOwnProperty,$o=(e,t)=>{const n=Ht(e);for(let s=0,a=n.length;s<a;s++){const d=n[s],g=e[d];t(g,d)}},vl=(e,t)=>yr(e,(n,s)=>({k:s,v:t(n,s)})),yr=(e,t)=>{const n={};return $o(e,(s,a)=>{const d=t(s,a);n[d.k]=d.v}),n},Ps=e=>(t,n)=>{e[n]=t},Vf=(e,t,n,s)=>{$o(e,(a,d)=>{(t(a,d)?n:s)(a,d)})},tu=(e,t)=>{const n={},s={};return Vf(e,t,Ps(n),Ps(s)),{t:n,f:s}},ql=(e,t)=>{const n={};return Vf(e,t,Ps(n),sn),n},Wa=(e,t)=>{const n=[];return $o(e,(s,a)=>{n.push(t(s,a))}),n},nu=e=>Wa(e,Un),ar=(e,t)=>Yn(e,t)?X.from(e[t]):X.none(),Yn=(e,t)=>Ks.call(e,t),xl=(e,t)=>Yn(e,t)&&e[t]!==void 0&&e[t]!==null,ci=(e,t,n=z)=>I(n).eq(e,t),ou=e=>{const t={};return _e(e,n=>{t[n]={}}),Ht(t)},nn=e=>e.length!==void 0,ru=Array.isArray,$f=e=>{if(ru(e))return e;{const t=[];for(let n=0,s=e.length;n<s;n++)t[n]=e[n];return t}},Xr=(e,t,n)=>{if(!e)return!1;if(n=n||e,nn(e)){for(let s=0,a=e.length;s<a;s++)if(t.call(n,e[s],s,e)===!1)return!1}else for(const s in e)if(Yn(e,s)&&t.call(n,e[s],s,e)===!1)return!1;return!0},Uf=(e,t)=>{const n=[];return Xr(e,(s,a)=>{n.push(t(s,a,e))}),n},Aa=(e,t)=>{const n=[];return Xr(e,(s,a)=>{(!t||t(s,a,e))&&n.push(s)}),n},al=(e,t)=>{if(e){for(let n=0,s=e.length;n<s;n++)if(e[n]===t)return n}return-1},ja=(e,t,n,s)=>{let a=Ye(n)?e[0]:n;for(let d=0;d<e.length;d++)a=t.call(s,a,e[d],d);return a},Ur=(e,t,n)=>{for(let s=0,a=e.length;s<a;s++)if(t.call(n,e[s],s,e))return s;return-1},ea=e=>e[e.length-1],ll=e=>{let t=!1,n;return(...s)=>(t||(t=!0,n=e.apply(null,s)),n)},Zf=(e,t,n,s)=>{const a=e.isiOS()&&/ipad/i.test(n)===!0,d=e.isiOS()&&!a,g=e.isiOS()||e.isAndroid(),C=g||s("(pointer:coarse)"),A=a||!d&&g&&s("(min-device-width:768px)"),L=d||g&&!A,W=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,q=!L&&!A&&!W;return{isiPad:rt(a),isiPhone:rt(d),isTablet:rt(A),isPhone:rt(L),isTouch:rt(C),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:rt(W),isDesktop:rt(q)}},yc=(e,t)=>{for(let n=0;n<e.length;n++){const s=e[n];if(s.test(t))return s}},wc=(e,t)=>{const n=yc(e,t);if(!n)return{major:0,minor:0};const s=a=>Number(t.replace(n,"$"+a));return Uo(s(1),s(2))},Nd=(e,t)=>{const n=String(t).toLowerCase();return e.length===0?Uu():wc(e,n)},Uu=()=>Uo(0,0),Uo=(e,t)=>({major:e,minor:t}),bs={nu:Uo,detect:Nd,unknown:Uu},$s=(e,t)=>Nr(t.brands,n=>{const s=n.brand.toLowerCase();return Bt(e,a=>{var d;return s===((d=a.brand)===null||d===void 0?void 0:d.toLowerCase())}).map(a=>({current:a.name,version:bs.nu(parseInt(n.version,10),0)}))}),Wf=(e,t)=>{const n=String(t).toLowerCase();return Bt(e,s=>s.search(n))},Ea=(e,t)=>Wf(e,t).map(n=>{const s=bs.detect(n.versionRegexes,t);return{current:n.name,version:s}}),Cc=(e,t)=>Wf(e,t).map(n=>{const s=bs.detect(n.versionRegexes,t);return{current:n.name,version:s}}),ta=(e,t)=>e.substring(t),na=(e,t,n)=>t===""||e.length>=t.length&&e.substr(n,n+t.length)===t,_c=(e,t)=>Zr(e,t)?ta(e,t.length):e,dr=(e,t,n=0,s)=>{const a=e.indexOf(t,n);return a!==-1?Ye(s)?!0:a+t.length<=s:!1},Zr=(e,t)=>na(e,t,0),xe=(e,t)=>na(e,t,e.length-t.length),Ke=e=>t=>t.replace(e,""),Ee=Ke(/^\s+|\s+$/g),at=Ke(/^\s+/g),ot=Ke(/\s+$/g),$e=e=>e.length>0,Ft=e=>!$e(e),Jt=(e,t)=>t<=0?"":new Array(t+1).join(e),an=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?X.none():X.some(n)},fn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,on=e=>t=>dr(t,e),ro=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>dr(e,"edge/")&&dr(e,"chrome")&&dr(e,"safari")&&dr(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,fn],search:e=>dr(e,"chrome")&&!dr(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>dr(e,"msie")||dr(e,"trident")},{name:"Opera",versionRegexes:[fn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:on("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:on("firefox")},{name:"Safari",versionRegexes:[fn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(dr(e,"safari")||dr(e,"mobile/"))&&dr(e,"applewebkit")}],tn=[{name:"Windows",search:on("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>dr(e,"iphone")||dr(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:on("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:on("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:on("linux"),versionRegexes:[]},{name:"Solaris",search:on("sunos"),versionRegexes:[]},{name:"FreeBSD",search:on("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:on("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],rr={browsers:rt(ro),oses:rt(tn)},_o="Edge",No="Chromium",cs="IE",mo="Opera",cl="Firefox",Bi="Safari",Jn=()=>Ta({current:void 0,version:bs.unknown()}),Ta=e=>{const t=e.current,n=e.version,s=a=>()=>t===a;return{current:t,version:n,isEdge:s(_o),isChromium:s(No),isIE:s(cs),isOpera:s(mo),isFirefox:s(cl),isSafari:s(Bi)}},Ka={unknown:Jn,nu:Ta,edge:rt(_o),chromium:rt(No),ie:rt(cs),opera:rt(mo),firefox:rt(cl),safari:rt(Bi)},os="Windows",Zu="iOS",_s="Android",Id="Linux",ul="macOS",er="Solaris",su="FreeBSD",jf="ChromeOS",ih=()=>us({current:void 0,version:bs.unknown()}),us=e=>{const t=e.current,n=e.version,s=a=>()=>t===a;return{current:t,version:n,isWindows:s(os),isiOS:s(Zu),isAndroid:s(_s),isMacOS:s(ul),isLinux:s(Id),isSolaris:s(er),isFreeBSD:s(su),isChromeOS:s(jf)}},Gl={unknown:ih,nu:us,windows:rt(os),ios:rt(Zu),android:rt(_s),linux:rt(Id),macos:rt(ul),solaris:rt(er),freebsd:rt(su),chromeos:rt(jf)},Ir={detect:(e,t,n)=>{const s=rr.browsers(),a=rr.oses(),d=t.bind(A=>$s(s,A)).orThunk(()=>Ea(s,e)).fold(Ka.unknown,Ka.nu),g=Cc(a,e).fold(Gl.unknown,Gl.nu),C=Zf(g,d,e,n);return{browser:d,os:g,deviceType:C}}},Kf=e=>window.matchMedia(e).matches;let dl=ll(()=>Ir.detect(window.navigator.userAgent,X.from(window.navigator.userAgentData),Kf));const Mi=()=>dl(),tg=window.navigator.userAgent,ui=Mi(),Oa=ui.browser,Pi=ui.os,fl=ui.deviceType,ah=tg.indexOf("Windows Phone")!==-1,So={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Oa.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Oa.isIE(),windowsPhone:ah,browser:{current:Oa.current,version:Oa.version,isChromium:Oa.isChromium,isEdge:Oa.isEdge,isFirefox:Oa.isFirefox,isIE:Oa.isIE,isOpera:Oa.isOpera,isSafari:Oa.isSafari},os:{current:Pi.current,version:Pi.version,isAndroid:Pi.isAndroid,isChromeOS:Pi.isChromeOS,isFreeBSD:Pi.isFreeBSD,isiOS:Pi.isiOS,isLinux:Pi.isLinux,isMacOS:Pi.isMacOS,isSolaris:Pi.isSolaris,isWindows:Pi.isWindows},deviceType:{isDesktop:fl.isDesktop,isiPad:fl.isiPad,isiPhone:fl.isiPhone,isPhone:fl.isPhone,isTablet:fl.isTablet,isTouch:fl.isTouch,isWebView:fl.isWebView}},Sc=/^\s*|\s*$/g,Wu=e=>gt(e)?"":(""+e).replace(Sc,""),iu=(e,t)=>t?t==="array"&&ru(e)?!0:typeof e===t:e!==void 0,Dp=(e,t,n={})=>{const s=Fe(e)?e.split(t||","):e||[];let a=s.length;for(;a--;)n[s[a]]={};return n},J0=Yn,N1=(e,...t)=>{for(let n=0;n<t.length;n++){const s=t[n];for(const a in s)if(Yn(s,a)){const d=s[a];d!==void 0&&(e[a]=d)}}return e},I1=function(e,t,n,s){s=s||this,e&&(n&&(e=e[n]),Xr(e,(a,d)=>t.call(s,a,d,n)===!1?!1:(I1(a,t,n,s),!0)))},Wt={trim:Wu,isArray:ru,is:iu,toArray:$f,makeMap:Dp,each:Xr,map:Uf,grep:Aa,inArray:al,hasOwn:J0,extend:N1,walk:I1,resolve:(e,t=window)=>{const n=e.split(".");for(let s=0,a=n.length;s<a&&(t=t[n[s]],!!t);s++);return t},explode:(e,t)=>oe(e)?e:e===""?[]:Uf(e.split(t||","),Wu),_addCacheSuffix:e=>{const t=So.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},Bd=(e,t,n=Hr)=>e.exists(s=>n(s,t)),Md=(e,t,n=Hr)=>Li(e,t,n).getOr(e.isNone()&&t.isNone()),M1=e=>{const t=[],n=s=>{t.push(s)};for(let s=0;s<e.length;s++)e[s].each(n);return t},Li=(e,t,n)=>e.isSome()&&t.isSome()?X.some(n(e.getOrDie(),t.getOrDie())):X.none(),Pd=(e,t,n,s)=>e.isSome()&&t.isSome()&&n.isSome()?X.some(s(e.getOrDie(),t.getOrDie(),n.getOrDie())):X.none(),ng=(e,t)=>e?X.some(t):X.none(),Q0=typeof window<"u"?window:Function("return this;")(),ex=(e,t)=>{let n=t??Q0;for(let s=0;s<e.length&&n!==void 0&&n!==null;++s)n=n[e[s]];return n},Rp=(e,t)=>{const n=e.split(".");return ex(n,t)},tx=(e,t)=>Rp(e,t),P1=(e,t)=>{const n=tx(e,t);if(n==null)throw new Error(e+" not available on this browser");return n},nx=Object.getPrototypeOf,og=e=>P1("HTMLElement",e),L1=e=>{const t=Rp("ownerDocument.defaultView",e);return ae(e)&&(og(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(nx(e).constructor.name))},Ld=8,Fd=9,Fi=11,Ga=1,rg=3,Mo=e=>e.dom.nodeName.toLowerCase(),ju=e=>e.dom.nodeType,sg=e=>t=>ju(t)===e,ig=e=>ju(e)===Ld||Mo(e)==="#comment",fa=e=>Ss(e)&&L1(e.dom),Ss=sg(Ga),Wr=sg(rg),yi=sg(Fd),Br=sg(Fi),zd=e=>t=>Ss(t)&&Mo(t)===e,qf=(e,t,n)=>{if(Fe(n)||He(n)||D(n))e.setAttribute(t,n+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple")},ei=(e,t,n)=>{qf(e.dom,t,n)},ma=(e,t)=>{const n=e.dom;$o(t,(s,a)=>{qf(n,a,s)})},oa=(e,t)=>{const n=e.dom.getAttribute(t);return n===null?void 0:n},kc=(e,t)=>X.from(oa(e,t)),Ku=(e,t)=>{const n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},bo=(e,t)=>{e.dom.removeAttribute(t)},Us=e=>{const t=e.dom.attributes;return t==null||t.length===0},Ya=e=>je(e.dom.attributes,(t,n)=>(t[n.name]=n.value,t),{}),qu=(e,t)=>{const n=oa(e,t);return n===void 0||n===""?[]:n.split(" ")},wi=(e,t,n)=>{const a=qu(e,t).concat([n]);return ei(e,t,a.join(" ")),!0},En=(e,t,n)=>{const s=_t(qu(e,t),a=>a!==n);return s.length>0?ei(e,t,s.join(" ")):bo(e,t),!1},Yl=e=>e.dom.classList!==void 0,Xl=e=>qu(e,"class"),sr=(e,t)=>wi(e,"class",t),ch=(e,t)=>En(e,"class",t),Np=(e,t)=>ve(Xl(e),t)?ch(e,t):sr(e,t),Gu=(e,t)=>{Yl(e)?e.dom.classList.add(t):sr(e,t)},ko=e=>{(Yl(e)?e.dom.classList:Xl(e)).length===0&&bo(e,"class")},ga=(e,t)=>{Yl(e)?e.dom.classList.remove(t):ch(e,t),ko(e)},uh=(e,t)=>{const n=Yl(e)?e.dom.classList.toggle(t):Np(e,t);return ko(e),n},Yu=(e,t)=>Yl(e)&&e.dom.classList.contains(t),Ip=(e,t)=>{const s=(t||document).createElement("div");if(s.innerHTML=e,!s.hasChildNodes()||s.childNodes.length>1){const a="HTML does not have a single root node";throw console.error(a,e),new Error(a)}return Ec(s.childNodes[0])},Ac=(e,t)=>{const s=(t||document).createElement(e);return Ec(s)},Da=(e,t)=>{const s=(t||document).createTextNode(e);return Ec(s)},Ec=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Oe={fromHtml:Ip,fromTag:Ac,fromText:Da,fromDom:Ec,fromPoint:(e,t,n)=>X.from(e.dom.elementFromPoint(t,n)).map(Ec)},Gf=(e,t)=>{const n=[],s=d=>(n.push(d),t(d));let a=t(e);do a=a.bind(s);while(a.isSome());return n},fr=(e,t)=>{const n=e.dom;if(n.nodeType!==Ga)return!1;{const s=n;if(s.matches!==void 0)return s.matches(t);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(t);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(t);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Bp=e=>e.nodeType!==Ga&&e.nodeType!==Fd&&e.nodeType!==Fi||e.childElementCount===0,ag=(e,t)=>{const n=t===void 0?document:t.dom;return Bp(n)?[]:tt(n.querySelectorAll(e),Oe.fromDom)},Tc=(e,t)=>{const n=t===void 0?document:t.dom;return Bp(n)?X.none():X.from(n.querySelector(e)).map(Oe.fromDom)},Po=(e,t)=>e.dom===t.dom,zi=(e,t)=>{const n=e.dom,s=t.dom;return n===s?!1:n.contains(s)},au=e=>Oe.fromDom(e.dom.ownerDocument),Ol=e=>yi(e)?e:au(e),lu=e=>Oe.fromDom(Ol(e).dom.documentElement),cu=e=>Oe.fromDom(Ol(e).dom.defaultView),Hi=e=>X.from(e.dom.parentNode).map(Oe.fromDom),Vd=e=>X.from(e.dom.parentElement).map(Oe.fromDom),Yf=(e,t)=>{const n=Ne(t)?t:Sn;let s=e.dom;const a=[];for(;s.parentNode!==null&&s.parentNode!==void 0;){const d=s.parentNode,g=Oe.fromDom(d);if(a.push(g),n(g)===!0)break;s=d}return a},Mp=e=>{const t=n=>_t(n,s=>!Po(e,s));return Hi(e).map(Vi).map(t).getOr([])},ti=e=>X.from(e.dom.previousSibling).map(Oe.fromDom),In=e=>X.from(e.dom.nextSibling).map(Oe.fromDom),uu=e=>fo(Gf(e,ti)),Xf=e=>Gf(e,In),Vi=e=>tt(e.dom.childNodes,Oe.fromDom),du=(e,t)=>{const n=e.dom.childNodes;return X.from(n[t]).map(Oe.fromDom)},ml=e=>du(e,0),fu=e=>du(e,e.dom.childNodes.length-1),Xu=e=>e.dom.childNodes.length,ni=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return Oe.fromDom(t)},Dl=e=>Br(e)&&Se(e.dom.host),Oc=e=>Oe.fromDom(e.dom.getRootNode()),Jf=e=>Dl(e)?e:ni(Ol(e)),F1=e=>Dl(e)?e:Oe.fromDom(Ol(e).dom.body),mu=e=>{const t=Oc(e);return Dl(t)?X.some(t):X.none()},$d=e=>Oe.fromDom(e.dom.host),Pp=e=>{if(Se(e.target)){const t=Oe.fromDom(e.target);if(Ss(t)&&rs(t)&&e.composed&&e.composedPath){const n=e.composedPath();if(n)return jt(n)}}return X.from(e.target)},rs=e=>Se(e.dom.shadowRoot),ha=e=>{const t=Wr(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const n=t.ownerDocument;return mu(Oe.fromDom(t)).fold(()=>n.body.contains(t),Tn(ha,$d))};var ra=(e,t,n,s,a)=>e(n,s)?X.some(n):Ne(a)&&a(n)?X.none():t(n,s,a);const Ra=(e,t,n)=>{let s=e.dom;const a=Ne(n)?n:Sn;for(;s.parentNode;){s=s.parentNode;const d=Oe.fromDom(s);if(t(d))return X.some(d);if(a(d))break}return X.none()},qs=(e,t,n)=>ra((a,d)=>d(a),Ra,e,t,n),dh=(e,t)=>{const n=e.dom;return n.parentNode?Zs(Oe.fromDom(n.parentNode),s=>!Po(e,s)&&t(s)):X.none()},Zs=(e,t)=>{const n=a=>t(Oe.fromDom(a));return Bt(e.dom.childNodes,n).map(Oe.fromDom)},Ci=(e,t)=>{const n=s=>{for(let a=0;a<s.childNodes.length;a++){const d=Oe.fromDom(s.childNodes[a]);if(t(d))return X.some(d);const g=n(s.childNodes[a]);if(g.isSome())return g}return X.none()};return n(e.dom)},Dc=(e,t,n)=>Ra(e,s=>fr(s,t),n),kt=(e,t)=>Tc(t,e),_i=(e,t,n)=>ra((a,d)=>fr(a,d),Dc,e,t,n),fh=e=>_i(e,"[contenteditable]"),ss=(e,t=!1)=>ha(e)?e.dom.isContentEditable:fh(e).fold(rt(t),n=>gu(n)==="true"),gu=e=>e.dom.contentEditable,pa=e=>e.style!==void 0&&Ne(e.style.getPropertyValue),Jl=(e,t,n)=>{if(!Fe(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);pa(e)&&e.style.setProperty(t,n)},Qf=(e,t)=>{pa(e)&&e.style.removeProperty(t)},Na=(e,t,n)=>{const s=e.dom;Jl(s,t,n)},Io=(e,t)=>{const n=e.dom;$o(t,(s,a)=>{Jl(n,a,s)})},ks=(e,t)=>{const n=e.dom,a=window.getComputedStyle(n).getPropertyValue(t);return a===""&&!ha(e)?Ud(n,t):a},Ud=(e,t)=>pa(e)?e.style.getPropertyValue(t):"",vs=(e,t)=>{const n=e.dom,s=Ud(n,t);return X.from(s).filter(a=>a.length>0)},lg=e=>{const t={},n=e.dom;if(pa(n))for(let s=0;s<n.style.length;s++){const a=n.style.item(s);t[a]=n.style[a]}return t},Rc=(e,t)=>{const n=e.dom;Qf(n,t),Bd(kc(e,"style").map(Ee),"")&&bo(e,"style")},z1=e=>e.dom.offsetWidth,ds=(e,t)=>{Hi(e).each(s=>{s.dom.insertBefore(t.dom,e.dom)})},Xe=(e,t)=>{In(e).fold(()=>{Hi(e).each(a=>{As(a,t)})},s=>{ds(s,t)})},ba=(e,t)=>{ml(e).fold(()=>{As(e,t)},s=>{e.dom.insertBefore(t.dom,s.dom)})},As=(e,t)=>{e.dom.appendChild(t.dom)},yl=(e,t)=>{ds(e,t),As(t,e)},Ql=(e,t)=>{_e(t,(n,s)=>{const a=s===0?e:t[s-1];Xe(a,n)})},Ls=(e,t)=>{_e(t,n=>{As(e,n)})},Mr=e=>{e.dom.textContent="",_e(Vi(e),t=>{lr(t)})},lr=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},va=e=>{const t=Vi(e);t.length>0&&Ql(e,t),lr(e)},wl=(e,t)=>{const s=(t||document).createElement("div");return s.innerHTML=e,Vi(Oe.fromDom(s))},Nc=e=>tt(e,Oe.fromDom),Ju=e=>e.dom.innerHTML,em=(e,t)=>{const s=au(e).dom,a=Oe.fromDom(s.createDocumentFragment()),d=wl(t,s);Ls(a,d),Mr(e),As(e,a)},cg=e=>{const t=Oe.fromTag("div"),n=Oe.fromDom(e.dom.cloneNode(!0));return As(t,n),Ju(t)},ug=(e,t,n,s,a,d,g)=>({target:e,x:t,y:n,stop:s,prevent:a,kill:d,raw:g}),Lp=e=>{const t=Oe.fromDom(Pp(e).getOr(e.target)),n=()=>e.stopPropagation(),s=()=>e.preventDefault(),a=vn(s,n);return ug(t,e.clientX,e.clientY,n,s,a,e)},Fp=(e,t)=>n=>{e(n)&&t(Lp(n))},hu=(e,t,n,s,a)=>{const d=Fp(n,s);return e.dom.addEventListener(t,d,a),{unbind:xt(Z,e,t,d,a)}},R=(e,t,n,s)=>hu(e,t,n,s,!1),Z=(e,t,n,s)=>{e.dom.removeEventListener(t,n,s)},ee=(e,t)=>({left:e,top:t,translate:(s,a)=>ee(e+s,t+a)}),ke=ee,Le=e=>{const t=e.getBoundingClientRect();return ke(t.left,t.top)},At=(e,t)=>e!==void 0?e:t!==void 0?t:0,Pn=e=>{const t=e.dom.ownerDocument,n=t.body,s=t.defaultView,a=t.documentElement;if(n===e.dom)return ke(n.offsetLeft,n.offsetTop);const d=At(s==null?void 0:s.pageYOffset,a.scrollTop),g=At(s==null?void 0:s.pageXOffset,a.scrollLeft),C=At(a.clientTop,n.clientTop),A=At(a.clientLeft,n.clientLeft);return io(e).translate(g-A,d-C)},io=e=>{const t=e.dom,s=t.ownerDocument.body;return s===t?ke(s.offsetLeft,s.offsetTop):ha(e)?Le(t):ke(0,0)},Xn=e=>{const t=e!==void 0?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,s=t.body.scrollTop||t.documentElement.scrollTop;return ke(n,s)},wn=(e,t,n)=>{const a=(n!==void 0?n.dom:document).defaultView;a&&a.scrollTo(e,t)},Xo=(e,t)=>{Mi().browser.isSafari()&&Ne(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Es=e=>{const t=e===void 0?window:e;return Mi().browser.isFirefox()?X.none():X.from(t.visualViewport)},is=(e,t,n,s)=>({x:e,y:t,width:n,height:s,right:e+n,bottom:t+s}),ec=e=>{const t=e===void 0?window:e,n=t.document,s=Xn(Oe.fromDom(n));return Es(t).fold(()=>{const a=t.document.documentElement,d=a.clientWidth,g=a.clientHeight;return is(s.left,s.top,d,g)},a=>is(Math.max(a.pageLeft,s.left),Math.max(a.pageTop,s.top),a.width,a.height))},tm=(e,t)=>_t(Vi(e),t),nm=(e,t)=>{let n=[];return _e(Vi(e),s=>{t(s)&&(n=n.concat([s])),n=n.concat(nm(s,t))}),n},Gs=(e,t)=>ag(t,e),ww=(e,t,n)=>Ra(e,t,n).isSome(),zp=(e,t)=>dh(e,t).isSome(),H1=(e,t)=>Ci(e,t).isSome();class $i{constructor(t,n){this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,n,s,a){if(t){if(!a&&t[n])return t[n];if(t!==this.rootNode){let d=t[s];if(d)return d;for(let g=t.parentNode;g&&g!==this.rootNode;g=g.parentNode)if(d=g[s],d)return d}}}findPreviousNode(t,n){if(t){const s=t.previousSibling;if(this.rootNode&&s===this.rootNode)return;if(s){if(!n){for(let d=s.lastChild;d;d=d.lastChild)if(!d.lastChild)return d}return s}const a=t.parentNode;if(a&&a!==this.rootNode)return a}}}const fs="\uFEFF",di="",pu=e=>e===fs,mh=e=>e.replace(/\uFEFF/g,""),ox=/^[ \t\r\n]*$/,Rl=e=>ox.test(e),Xa=e=>{for(const t of e)if(!pu(t))return!1;return!0},Hp=e=>" \f	\v".indexOf(e)!==-1,Zd=e=>e===`
`||e==="\r",YS=(e,t)=>t<e.length&&t>=0?Zd(e[t]):!1,Vp=(e,t=4,n=!0,s=!0)=>{const a=Jt(" ",t),d=e.replace(/\t/g,a);return je(d,(C,A)=>Hp(A)||A===di?C.pcIsSpace||C.str===""&&n||C.str.length===d.length-1&&s||YS(d,C.str.length+1)?{pcIsSpace:!1,str:C.str+di}:{pcIsSpace:!0,str:C.str+" "}:{pcIsSpace:Zd(A),str:C.str+A},{pcIsSpace:!1,str:""}).str},Qu=e=>t=>!!t&&t.nodeType===e,Wd=e=>!!e&&!Object.getPrototypeOf(e),yn=Qu(1),Ic=e=>yn(e)&&fa(Oe.fromDom(e)),$p=e=>yn(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",jd=e=>{const t=e.toLowerCase();return n=>Se(n)&&n.nodeName.toLowerCase()===t},Ui=e=>{const t=e.map(n=>n.toLowerCase());return n=>{if(n&&n.nodeName){const s=n.nodeName.toLowerCase();return ve(t,s)}return!1}},tc=(e,t)=>{const n=t.toLowerCase().split(" ");return s=>{if(yn(s)){const a=s.ownerDocument.defaultView;if(a)for(let d=0;d<n.length;d++){const g=a.getComputedStyle(s,null);if((g?g.getPropertyValue(e):null)===n[d])return!0}}return!1}},dg=e=>t=>yn(t)&&t.hasAttribute(e),Kd=e=>yn(e)&&e.hasAttribute("data-mce-bogus"),V1=e=>yn(e)&&e.getAttribute("data-mce-bogus")==="all",Bc=e=>yn(e)&&e.tagName==="TABLE",gh=e=>t=>!!(Ic(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),hh=Ui(["textarea","input"]),Lt=Qu(3),rx=Qu(4),qd=Qu(7),ho=Qu(8),Cn=Qu(9),Gd=Qu(11),Jr=jd("br"),nc=jd("img"),oc=gh("true"),to=gh("false"),ph=Ui(["td","th"]),Cw=Ui(["td","th","caption"]),bt=Ui(["video","audio","object","embed"]),sx=jd("li"),bh=jd("details"),vh=jd("summary"),fg={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},om=(e,t,n)=>{const s=Oe.fromDom(t),a=Oe.fromDom(e),d=n.getWhitespaceElements();return ww(a,C=>Yn(d,Mo(C)),xt(Po,s))},_w=e=>yn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Yd=(e,t)=>yn(e)&&Yn(t.getNonEmptyElements(),e.nodeName),Vr=dg("data-mce-bookmark"),bu=e=>Vd(Oe.fromDom(e)).exists(t=>!ss(t)),$1=(e,t,n)=>Rl(e.data)&&!om(e,t,n),Mc=(e,t,n,s)=>Lt(e)&&!$1(e,t,n)&&(!s.includeZwsp||!Xa(e.data)),rm=(e,t,n,s)=>Ne(s.isContent)&&s.isContent(t)||Yd(t,e)||Vr(t)||_w(t)||Mc(t,n,e,s)||to(t)||oc(t)&&bu(t),Nl=(e,t,n)=>{const s={...fg,...n};if(s.checkRootAsContent&&rm(e,t,t,s))return!1;let a=t.firstChild,d=0;if(!a)return!0;const g=new $i(a,t);do{if(s.skipBogus&&yn(a)){const C=a.getAttribute("data-mce-bogus");if(C){a=g.next(C==="all");continue}}if(ho(a)){a=g.next(!0);continue}if(Jr(a)){d++,a=g.next();continue}if(rm(e,a,t,s))return!1;a=g.next()}while(a);return d<=1},Ts=(e,t,n)=>Nl(e,t.dom,{checkRootAsContent:!0,...n}),Up=(e,t,n)=>rm(e,t,t,{includeZwsp:fg.includeZwsp,...n}),fi=e=>{let t=e;return{get:()=>t,set:a=>{t=a}}},U1=e=>{const t=fi(X.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(X.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:C=>{n(),t.set(X.some(C))}}},rc=e=>{const t=fi(X.none()),n=()=>t.get().each(C=>clearInterval(C));return{clear:()=>{n(),t.set(X.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:C=>{n(),t.set(X.some(setInterval(C,e)))}}},mi=()=>{const e=U1(sn);return{...e,on:n=>e.get().each(n)}},zt=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},sm=e=>zt(e)!=="html",gi=e=>sm(e.nodeName),Sw=e=>zt(e.nodeName),kw=["svg","math"],XS=()=>{const e=mi(),t=()=>e.get().map(Sw).getOr("html");return{track:a=>(gi(a)?e.set(a):e.get().exists(d=>!d.contains(a))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},ed="data-mce-block",mg=e=>_t(Ht(e),t=>!/[A-Z]/.test(t)),Zp=e=>tt(mg(e),t=>{const n=CSS.escape(t);return`${n}:`+tt(kw,s=>`not(${s} ${n})`).join(":")}).join(","),Z1=(e,t)=>Se(t.querySelector(e))?(t.setAttribute(ed,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(ed),!1),ix=(e,t)=>{const n=Zp(e.getTransparentElements()),s=Zp(e.getBlockElements());return _t(t.querySelectorAll(n),a=>Z1(s,a))},as=(e,t,n)=>{var s;const a=n?"lastChild":"firstChild";for(let d=t[a];d;d=d[a])if(Nl(e,d,{checkRootAsContent:!0})){(s=d.parentNode)===null||s===void 0||s.removeChild(d);return}},Wp=(e,t,n)=>{const s=document.createRange(),a=t.parentNode;if(a){s.setStartBefore(t),s.setEndBefore(n);const d=s.extractContents();as(e,d,!0),s.setStartAfter(n),s.setEndAfter(t);const g=s.extractContents();as(e,g,!1),Nl(e,d,{checkRootAsContent:!0})||a.insertBefore(d,t),Nl(e,n,{checkRootAsContent:!0})||a.insertBefore(n,t),Nl(e,g,{checkRootAsContent:!0})||a.insertBefore(g,t),a.removeChild(t)}},ms=(e,t,n)=>{const s=e.getBlockElements(),a=Oe.fromDom(t),d=C=>Mo(C)in s,g=C=>Po(C,a);_e(Nc(n),C=>{Ra(C,d,g).each(A=>{const L=tm(C,W=>d(W)&&!e.isValidChild(Mo(A),Mo(W)));if(L.length>0){const W=Vd(A);_e(L,q=>{Ra(q,d,g).each(Y=>{Wp(e,Y.dom,q.dom)})}),W.each(q=>ix(e,q.dom))}})})},Ia=(e,t,n)=>{_e([...n,...Xd(e,t)?[t]:[]],s=>_e(Gs(Oe.fromDom(s),s.nodeName.toLowerCase()),a=>{Aw(e,a.dom)&&va(a)}))},Os=(e,t)=>{const n=ix(e,t);ms(e,t,n),Ia(e,t,n)},Il=(e,t)=>{if(xh(e,t)){const n=Zp(e.getBlockElements());Z1(n,t)}},td=(e,t,n)=>{const s=d=>Po(d,Oe.fromDom(t)),a=Yf(Oe.fromDom(n),s);Ar(a,a.length-2).filter(Ss).fold(()=>Os(e,t),d=>Os(e,d.dom))},Si=e=>e.hasAttribute(ed),jp=(e,t)=>Yn(e.getTransparentElements(),t),xh=(e,t)=>yn(t)&&jp(e,t.nodeName),Xd=(e,t)=>xh(e,t)&&Si(t),Aw=(e,t)=>xh(e,t)&&!Si(t),yh=(e,t)=>t.type===1&&jp(e,t.name)&&Fe(t.attr(ed)),ax=Mi().browser,W1=e=>Bt(e,Ss),Kp=e=>ax.isFirefox()&&Mo(e)==="table"?W1(Vi(e)).filter(t=>Mo(t)==="caption").bind(t=>W1(Xf(t)).map(n=>{const s=n.dom.offsetTop,a=t.dom.offsetTop,d=t.dom.offsetHeight;return s<=a?-d:0})).getOr(0):0,j1=(e,t)=>e.children&&ve(e.children,t),lx=(e,t,n)=>{let s=0,a=0;const d=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&ks(Oe.fromDom(e),"position")==="static"){const C=t.getBoundingClientRect();return s=C.left+(d.documentElement.scrollLeft||e.scrollLeft)-d.documentElement.clientLeft,a=C.top+(d.documentElement.scrollTop||e.scrollTop)-d.documentElement.clientTop,{x:s,y:a}}let g=t;for(;g&&g!==n&&g.nodeType&&!j1(g,n);){const C=g;s+=C.offsetLeft||0,a+=C.offsetTop||0,g=C.offsetParent}for(g=t.parentNode;g&&g!==n&&g.nodeType&&!j1(g,n);)s-=g.scrollLeft||0,a-=g.scrollTop||0,g=g.parentNode;a+=Kp(Oe.fromDom(t))}return{x:s,y:a}},im=(e,t={})=>{let n=0;const s={},a=Oe.fromDom(e),d=Ol(a),g=Pe=>{t.referrerPolicy=Pe},C=Pe=>{t.contentCssCors=Pe},A=Pe=>{As(Jf(a),Pe)},L=Pe=>{const Ze=Jf(a);kt(Ze,"#"+Pe).each(lr)},W=Pe=>ar(s,Pe).getOrThunk(()=>({id:"mce-u"+n++,passed:[],failed:[],count:0})),q=Pe=>new Promise((Ze,Ve)=>{let st;const Rt=Wt._addCacheSuffix(Pe),Zt=W(Rt);s[Rt]=Zt,Zt.count++;const dn=(pn,On)=>{_e(pn,xo),Zt.status=On,Zt.passed=[],Zt.failed=[],st&&(st.onload=null,st.onerror=null,st=null)},vt=()=>dn(Zt.passed,2),ut=()=>dn(Zt.failed,3);if(Ze&&Zt.passed.push(Ze),Ve&&Zt.failed.push(Ve),Zt.status===1)return;if(Zt.status===2){vt();return}if(Zt.status===3){ut();return}Zt.status=1;const Ot=Oe.fromTag("link",d.dom);ma(Ot,{rel:"stylesheet",type:"text/css",id:Zt.id}),t.contentCssCors&&ei(Ot,"crossOrigin","anonymous"),t.referrerPolicy&&ei(Ot,"referrerpolicy",t.referrerPolicy),st=Ot.dom,st.onload=vt,st.onerror=ut,A(Ot),ei(Ot,"href",Rt)}),Y=(Pe,Ze)=>{const Ve=W(Pe);s[Pe]=Ve,Ve.count++;const st=Oe.fromTag("style",d.dom);ma(st,{rel:"stylesheet",type:"text/css",id:Ve.id}),st.dom.innerHTML=Ze,A(st)},ce=Pe=>Promise.allSettled(tt(Pe,Ve=>q(Ve).then(rt(Ve)))).then(Ve=>{const st=en(Ve,Rt=>Rt.status==="fulfilled");return st.fail.length>0?Promise.reject(tt(st.fail,Rt=>Rt.reason)):tt(st.pass,Rt=>Rt.value)}),he=Pe=>{const Ze=Wt._addCacheSuffix(Pe);ar(s,Ze).each(Ve=>{--Ve.count===0&&(delete s[Ze],L(Ve.id))})};return{load:q,loadRawCss:Y,loadAll:ce,unload:he,unloadRawCss:Pe=>{ar(s,Pe).each(Ze=>{--Ze.count===0&&(delete s[Pe],L(Ze.id))})},unloadAll:Pe=>{_e(Pe,Ze=>{he(Ze)})},_setReferrerPolicy:g,_setContentCssCors:C}},K1=(()=>{const e=new WeakMap;return{forElement:(n,s)=>{const d=Oc(n).dom;return X.from(e.get(d)).getOrThunk(()=>{const g=im(d,s);return e.set(d,g),g})}}})(),q1=e=>e.nodeName.toLowerCase()==="span",cx=(e,t)=>Se(e)&&(Up(t,e)||t.isInline(e.nodeName.toLowerCase())),ux=(e,t,n)=>{const s=new $i(e,t).prev(!1),a=new $i(e,t).next(!1),d=Ye(s)||cx(s,n),g=Ye(a)||cx(a,n);return d&&g},qp=e=>q1(e)&&e.getAttribute("data-mce-type")==="bookmark",dx=(e,t,n)=>Lt(e)&&e.data.length>0&&ux(e,t,n),fx=e=>yn(e)?e.childNodes.length>0:!1,Gp=e=>Gd(e)||Cn(e),wh=(e,t,n,s)=>{var a;const d=s||t;if(yn(t)&&qp(t))return t;const g=t.childNodes;for(let C=g.length-1;C>=0;C--)wh(e,g[C],n,d);if(yn(t)){const C=t.childNodes;C.length===1&&qp(C[0])&&((a=t.parentNode)===null||a===void 0||a.insertBefore(C[0],t))}return!Gp(t)&&!Up(n,t)&&!fx(t)&&!dx(t,d,n)&&e.remove(t),t},mx=Wt.makeMap,Yp=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Xp=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,am=/[<>&\"\']/g,Ch=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,gx={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},nd={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},gg={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},hg=e=>{const t=Oe.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},od=(e,t)=>{const n={};if(e){const s=e.split(",");t=t||10;for(let a=0;a<s.length;a+=2){const d=String.fromCharCode(parseInt(s[a],t));if(!nd[d]){const g="&"+s[a+1]+";";n[d]=g,n[g]=d}}return n}else return},Jd=od("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Jp=(e,t)=>e.replace(t?Yp:Xp,n=>nd[n]||n),QS=e=>(""+e).replace(am,t=>nd[t]||t),Qp=(e,t)=>e.replace(t?Yp:Xp,n=>n.length>1?"&#"+((n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320)+65536)+";":nd[n]||"&#"+n.charCodeAt(0)+";"),sc=(e,t,n)=>{const s=n||Jd;return e.replace(t?Yp:Xp,a=>nd[a]||s[a]||a)},pg={encodeRaw:Jp,encodeAllRaw:QS,encodeNumeric:Qp,encodeNamed:sc,getEncodeFunc:(e,t)=>{const n=od(t)||Jd,s=(g,C)=>g.replace(C?Yp:Xp,A=>nd[A]!==void 0?nd[A]:n[A]!==void 0?n[A]:A.length>1?"&#"+((A.charCodeAt(0)-55296)*1024+(A.charCodeAt(1)-56320)+65536)+";":"&#"+A.charCodeAt(0)+";"),a=(g,C)=>sc(g,C,n),d=mx(e.replace(/\+/g,","));return d.named&&d.numeric?s:d.named?t?a:sc:d.numeric?Qp:Jp},decode:e=>e.replace(Ch,(t,n)=>n?(n.charAt(0).toLowerCase()==="x"?n=parseInt(n.substr(1),16):n=parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(n&1023))):gx[n]||String.fromCharCode(n)):gg[t]||Jd[t]||hg(t))},Zi=(e,t)=>(e=Wt.trim(e),e?e.split(t||" "):[]),bg=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),vg=e=>ae(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",G1=e=>{const t=n=>oe(n)?tt(n,t):vg(n)?new RegExp(n.source,n.flags):ae(n)?vl(n,t):n;return t(e)},Lo=e=>{const t=/^(~)?(.+)$/;return xn(Zi(e,","),n=>{const s=t.exec(n);if(s){const d=s[1]==="~"?"span":"div",g=s[2];return[{cloneName:d,name:g}]}else return[]})},Ja=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),vu=e=>{let t,n;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",n="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",n+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(n=[n,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const s=[t,n].join(" ");return{blockContent:t,phrasingContent:n,flowContent:s}},sa=e=>{const{blockContent:t,phrasingContent:n,flowContent:s}=vu(e),a=d=>Object.freeze(d.split(" "));return Object.freeze({blockContent:a(t),phrasingContent:a(n),flowContent:a(s)})},Er={html4:ll(()=>sa("html4")),html5:ll(()=>sa("html5")),"html5-strict":ll(()=>sa("html5-strict"))},eb=(e,t)=>{const{blockContent:n,phrasingContent:s,flowContent:a}=Er[e]();return t==="blocks"?X.some(n):t==="phrasing"?X.some(s):t==="flow"?X.some(a):X.none()},Tw=e=>{const t=Ja(e),{phrasingContent:n,flowContent:s}=vu(e),a={},d=(A,L,W)=>{a[A]={attributes:Ko(L,rt({})),attributesOrder:L,children:Ko(W,rt({}))}},g=(A,L="",W="")=>{const q=Zi(W),Y=Zi(A);let ce=Y.length;const he=[...t,...Zi(L)];for(;ce--;)d(Y[ce],he.slice(),q)},C=(A,L)=>{const W=Zi(A),q=Zi(L);let Y=W.length;for(;Y--;){const ce=a[W[Y]];for(let he=0,ue=q.length;he<ue;he++)ce.attributes[q[he]]={},ce.attributesOrder.push(q[he])}};return e!=="html5-strict"&&(_e(Zi("acronym applet basefont big font strike tt"),W=>{g(W,"",n)}),_e(Zi("center dir isindex noframes"),W=>{g(W,"",s)})),g("html","manifest","head body"),g("head","","base command link meta noscript script style title"),g("title hr noscript br"),g("base","href target"),g("link","href rel media hreflang type sizes hreflang"),g("meta","name http-equiv content charset"),g("style","media type scoped"),g("script","src async defer type charset"),g("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",s),g("dd div","",s),g("address dt caption","",e==="html4"?n:s),g("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",n),g("blockquote","cite",s),g("ol","reversed start type","li"),g("ul","","li"),g("li","value",s),g("dl","","dt dd"),g("a","href target rel media hreflang type",e==="html4"?n:s),g("q","cite",n),g("ins del","cite datetime",s),g("img","src sizes srcset alt usemap ismap width height"),g("iframe","src name width height",s),g("embed","src type width height"),g("object","data type typemustmatch name usemap form width height",[s,"param"].join(" ")),g("param","name value"),g("map","name",[s,"area"].join(" ")),g("area","alt coords shape href target rel media hreflang type"),g("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),g("colgroup","span","col"),g("col","span"),g("tbody thead tfoot","","tr"),g("tr","","td th"),g("td","colspan rowspan headers",s),g("th","colspan rowspan headers scope abbr",s),g("form","accept-charset action autocomplete enctype method name novalidate target",s),g("fieldset","disabled form name",[s,"legend"].join(" ")),g("label","form for",n),g("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),g("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?s:n),g("select","disabled form multiple name required size","option optgroup"),g("optgroup","disabled label","option"),g("option","disabled label selected value"),g("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),g("menu","type label",[s,"li"].join(" ")),g("noscript","",s),e!=="html4"&&(g("wbr"),g("ruby","",[n,"rt rp"].join(" ")),g("figcaption","",s),g("mark rt rp bdi","",n),g("summary","",[n,"h1 h2 h3 h4 h5 h6"].join(" ")),g("canvas","width height",s),g("data","value",n),g("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[s,"track source"].join(" ")),g("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[s,"track source"].join(" ")),g("picture","","img source"),g("source","src srcset type media sizes"),g("track","kind src srclang label default"),g("datalist","",[n,"option"].join(" ")),g("article section nav aside main header footer","",s),g("hgroup","","h1 h2 h3 h4 h5 h6"),g("figure","",[s,"figcaption"].join(" ")),g("time","datetime",n),g("dialog","open",s),g("command","type label icon disabled checked radiogroup command"),g("output","for form name",n),g("progress","value max",n),g("meter","value min max low high optimum",n),g("details","open",[s,"summary"].join(" ")),g("keygen","autofocus challenge disabled form keytype name"),d("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(C("script","language xml:space"),C("style","xml:space"),C("object","declare classid code codebase codetype archive standby align border hspace vspace"),C("embed","align name hspace vspace"),C("param","valuetype type"),C("a","charset name rev shape coords"),C("br","clear"),C("applet","codebase archive code object alt name width height align hspace vspace"),C("img","name longdesc align border hspace vspace"),C("iframe","longdesc frameborder marginwidth marginheight scrolling align"),C("font basefont","size color face"),C("input","usemap align"),C("select"),C("textarea"),C("h1 h2 h3 h4 h5 h6 div p legend caption","align"),C("ul","type compact"),C("li","type"),C("ol dl menu dir","compact"),C("pre","width xml:space"),C("hr","align noshade size width"),C("isindex","prompt"),C("table","summary width frame rules cellspacing cellpadding align bgcolor"),C("col","width align char charoff valign"),C("colgroup","width align char charoff valign"),C("thead","align char charoff valign"),C("tr","align char charoff valign bgcolor"),C("th","axis align char charoff valign nowrap bgcolor width height"),C("form","accept"),C("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),C("tfoot","align char charoff valign"),C("tbody","align char charoff valign"),C("area","nohref"),C("body","background bgcolor text link vlink alink")),e!=="html4"&&(C("input button select textarea","autofocus"),C("input textarea","placeholder"),C("a","download"),C("link script img","crossorigin"),C("img","loading"),C("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&_e([a.video,a.audio],A=>{delete A.children.audio,delete A.children.video}),_e(Zi("a form meter progress dfn"),A=>{a[A]&&delete a[A].children[A]}),delete a.caption.children.table,delete a.script,a},ek=e=>e==="-"?"remove":"add",jr=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return X.from(t.exec(e)).map(n=>({preset:n[1]==="@",name:n[2]}))},Y1=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return xn(Zi(e,","),n=>{const s=t.exec(n);if(s){const a=s[1],d=a?ek(a):"replace",g=s[2],C=xn(Zi(s[3],"|"),A=>jr(A).toArray());return[{operation:d,name:g,validChildren:C}]}else return[]})},px=(e,t)=>{const n=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,s=/[*?+]/,{attributes:a,attributesOrder:d}=t;return _e(Zi(e,"|"),g=>{const C=n.exec(g);if(C){const A={},L=C[1],W=C[2].replace(/[\\:]:/g,":"),q=C[3],Y=C[4];if(L==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(W),A.required=!0),L==="-"){delete a[W],d.splice(Wt.inArray(d,W),1);return}if(q&&(q==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:W,value:Y}),A.defaultValue=Y):q==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:W,value:Y}),A.forcedValue=Y):q==="<"&&(A.validValues=Wt.makeMap(Y,"?"))),s.test(W)){const ce=A;t.attributePatterns=t.attributePatterns||[],ce.pattern=bg(W),t.attributePatterns.push(ce)}else a[W]||d.push(W),a[W]=A}})},lm=(e,t)=>{$o(e.attributes,(n,s)=>{t.attributes[s]=n}),t.attributesOrder.push(...e.attributesOrder)},ic=(e,t)=>{const n=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return xn(Zi(t,","),s=>{const a=n.exec(s);if(a){const d=a[1],g=a[2],C=a[3],A=a[4],L=a[5],W={attributes:{},attributesOrder:[]};if(e.each(q=>lm(q,W)),d==="#"?W.paddEmpty=!0:d==="-"&&(W.removeEmpty=!0),A==="!"&&(W.removeEmptyAttrs=!0),L&&px(L,W),C&&(W.outputName=g),g==="@")if(e.isNone())e=X.some(W);else return[];return[C?{name:g,element:W,aliasName:C}:{name:g,element:W}]}else return[]})},_h={},mn=Wt.makeMap,Pc=Wt.each,bx=Wt.extend,X1=Wt.explode,Sh=(e,t={})=>{const n=mn(e," ",mn(e.toUpperCase()," "));return bx(n,t)},J1=e=>Sh("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),xg=(e,t)=>{if(e){const n={};return Fe(e)&&(e={"*":e}),Pc(e,(s,a)=>{n[a]=n[a.toUpperCase()]=t==="map"?mn(s,/[, ]/):X1(s,/[, ]/)}),n}else return},ac=(e={})=>{var t;const n={},s={};let a=[];const d={},g={},C=(Nn,Wo,Is)=>{const Js=e[Nn];if(Js)return mn(Js,/[, ]/,mn(Js.toUpperCase(),/[, ]/));{let Oi=_h[Nn];return Oi||(Oi=Sh(Wo,Is),_h[Nn]=Oi),Oi}},A=(t=e.schema)!==null&&t!==void 0?t:"html5",L=Tw(A);e.verify_html===!1&&(e.valid_elements="*[*]");const W=xg(e.valid_styles),q=xg(e.invalid_styles,"map"),Y=xg(e.valid_classes,"map"),ce=C("whitespace_elements","pre script noscript style textarea video audio iframe object code"),he=C("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),ue=C("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),we=C("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),Pe="td th iframe video audio object script code",Ze=C("non_empty_elements",Pe+" pre svg textarea summary",ue),Ve=C("move_caret_before_on_enter_elements",Pe+" table",ue),st="h1 h2 h3 h4 h5 h6",Rt=C("text_block_elements",st+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Zt=C("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",Rt),dn=C("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),vt=C("transparent_elements","a ins del canvas map"),ut=C("wrap_block_elements","pre "+st);Pc("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Nn=>{g[Nn]=new RegExp("</"+Nn+"[^>]*>","gi")});const Ot=Nn=>{const Wo=X.from(n["@"]),Is=/[*?+]/;_e(ic(Wo,Nn??""),({name:Js,element:Oi,aliasName:Ha})=>{if(Ha&&(n[Ha]=Oi),Is.test(Js)){const vi=Oi;vi.pattern=bg(Js),a.push(vi)}else n[Js]=Oi})},pn=Nn=>{a=[],_e(Ht(n),Wo=>{delete n[Wo]}),Ot(Nn)},On=(Nn,Wo)=>{var Is,Js;delete _h.text_block_elements,delete _h.block_elements;const Oi=Wo.extends?!Pu(Wo.extends):!1,Ha=Wo.extends;if(s[Nn]=Ha?s[Ha]:{},d[Nn]=Ha??Nn,Ze[Nn.toUpperCase()]={},Ze[Nn]={},Oi||(Zt[Nn.toUpperCase()]={},Zt[Nn]={}),Ha&&!n[Nn]&&n[Ha]){const vi=G1(n[Ha]);delete vi.removeEmptyAttrs,delete vi.removeEmpty,n[Nn]=vi}else n[Nn]={attributesOrder:[],attributes:{}};if(oe(Wo.attributes)){const vi=Ul=>{xi.attributesOrder.push(Ul),xi.attributes[Ul]={}},xi=(Is=n[Nn])!==null&&Is!==void 0?Is:{};delete xi.attributesDefault,delete xi.attributesForced,delete xi.attributePatterns,delete xi.attributesRequired,xi.attributesOrder=[],xi.attributes={},_e(Wo.attributes,Ul=>{const Wm=Ja(A);jr(Ul).each(({preset:jm,name:Km})=>{jm?Km==="global"&&_e(Wm,vi):vi(Km)})}),n[Nn]=xi}if(He(Wo.padEmpty)){const vi=(Js=n[Nn])!==null&&Js!==void 0?Js:{};vi.paddEmpty=Wo.padEmpty,n[Nn]=vi}if(oe(Wo.children)){const vi={},xi=Wm=>{vi[Wm]={}},Ul=Wm=>{eb(A,Wm).each(jm=>{_e(jm,xi)})};_e(Wo.children,Wm=>{jr(Wm).each(({preset:jm,name:Km})=>{jm?Ul(Km):xi(Km)})}),s[Nn]=vi}Ha&&$o(s,(vi,xi)=>{vi[Ha]&&(s[xi]=vi=bx({},s[xi]),vi[Nn]=vi[Ha])})},wo=Nn=>{_e(Lo(Nn??""),({name:Wo,cloneName:Is})=>{On(Wo,{extends:Is})})},Oo=Nn=>{ae(Nn)?$o(Nn,(Wo,Is)=>On(Is,Wo)):Fe(Nn)&&wo(Nn)},cr=Nn=>{_e(Y1(Nn??""),({operation:Wo,name:Is,validChildren:Js})=>{const Oi=Wo==="replace"?{"#comment":{}}:s[Is],Ha=xi=>{Wo==="remove"?delete Oi[xi]:Oi[xi]={}},vi=xi=>{eb(A,xi).each(Ul=>{_e(Ul,Ha)})};_e(Js,({preset:xi,name:Ul})=>{xi?vi(Ul):Ha(Ul)}),s[Is]=Oi})},wr=Nn=>{const Wo=n[Nn];if(Wo)return Wo;let Is=a.length;for(;Is--;){const Js=a[Is];if(Js.pattern.test(Nn))return Js}},js=()=>{e.valid_elements?(pn(e.valid_elements),Pc(L,(Nn,Wo)=>{s[Wo]=Nn.children})):(Pc(L,(Nn,Wo)=>{n[Wo]={attributes:Nn.attributes,attributesOrder:Nn.attributesOrder},s[Wo]=Nn.children}),Pc(Zi("strong/b em/i"),Nn=>{const Wo=Zi(Nn,"/");n[Wo[1]].outputName=Wo[0]}),Pc(dn,(Nn,Wo)=>{n[Wo]&&(e.padd_empty_block_inline_children&&(n[Wo].paddInEmptyBlock=!0),n[Wo].removeEmpty=!0)}),Pc(Zi("ol ul blockquote a table tbody"),Nn=>{n[Nn]&&(n[Nn].removeEmpty=!0)}),Pc(Zi("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Nn=>{n[Nn]&&(n[Nn].paddEmpty=!0)}),Pc(Zi("span"),Nn=>{n[Nn].removeEmptyAttrs=!0})),delete n.svg,Oo(e.custom_elements),cr(e.valid_children),Ot(e.extended_valid_elements),cr("+ol[ul|ol],+ul[ul|ol]"),Pc({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Nn,Wo)=>{n[Wo]&&(n[Wo].parentsRequired=Zi(Nn))}),e.invalid_elements&&Pc(X1(e.invalid_elements),Nn=>{n[Nn]&&delete n[Nn]}),wr("span")||Ot("span[!data-mce-type|*]")},il=rt(W),Dr=rt(q),Qt=rt(Y),An=rt(we),Jo=rt(Zt),rn=rt(Rt),zn=rt(dn),Eo=rt(Object.seal(ue)),un=rt(he),Co=rt(Ze),Do=rt(Ve),ca=rt(ce),vr=rt(vt),Xi=rt(ut),kf=rt(Object.seal(g)),oh=(Nn,Wo)=>{const Is=s[Nn.toLowerCase()];return!!(Is&&Is[Wo.toLowerCase()])},$l=(Nn,Wo)=>{const Is=wr(Nn);if(Is)if(Wo){if(Is.attributes[Wo])return!0;const Js=Is.attributePatterns;if(Js){let Oi=Js.length;for(;Oi--;)if(Js[Oi].pattern.test(Wo))return!0}}else return!0;return!1},Pu=Nn=>Yn(Jo(),Nn),Af=Nn=>!Zr(Nn,"#")&&$l(Nn)&&!Pu(Nn),Lu=Nn=>Yn(Xi(),Nn)||Af(Nn),Ef=rt(d);return js(),{type:A,children:s,elements:n,getValidStyles:il,getValidClasses:Qt,getBlockElements:Jo,getInvalidStyles:Dr,getVoidElements:Eo,getTextBlockElements:rn,getTextInlineElements:zn,getBoolAttrs:An,getElementRule:wr,getSelfClosingElements:un,getNonEmptyElements:Co,getMoveCaretBeforeOnEnterElements:Do,getWhitespaceElements:ca,getTransparentElements:vr,getSpecialElements:kf,isValidChild:oh,isValid:$l,isBlock:Pu,isInline:Af,isWrapper:Lu,getCustomElements:Ef,addValidElements:Ot,setValidElements:pn,addCustomElements:Oo,addValidChildren:cr}},tk=e=>({value:Q1(e)}),Q1=e=>_c(e,"#").toUpperCase(),vx=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},ev=e=>{const t=vx(e.red)+vx(e.green)+vx(e.blue);return tk(t)},xx=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,yx=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,tv=(e,t,n,s)=>({red:e,green:t,blue:n,alpha:s}),wx=(e,t,n,s)=>{const a=parseInt(e,10),d=parseInt(t,10),g=parseInt(n,10),C=parseFloat(s);return tv(a,d,g,C)},Cx=e=>xx.test(e)?"rgb":yx.test(e)?"rgba":"other",Ow=e=>{const t=xx.exec(e);if(t!==null)return X.some(wx(t[1],t[2],t[3],"1"));const n=yx.exec(e);return n!==null?X.some(wx(n[1],n[2],n[3],n[4])):X.none()},nk=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,tb=e=>Ow(e).map(ev).map(t=>"#"+t.value).getOr(e),_x=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,a=/\s+$/,d={};let g,C;const A=fs;t&&(g=t.getValidStyles(),C=t.getInvalidStyles());const L=(`\\" \\' \\; \\: ; : `+A).split(" ");for(let q=0;q<L.length;q++)d[L[q]]=A+q,d[A+q]=L[q];const W={parse:q=>{const Y={};let ce=!1;const he=e.url_converter,ue=e.url_converter_scope||W,we=(vt,ut,Ot)=>{const pn=Y[vt+"-top"+ut];if(!pn)return;const On=Y[vt+"-right"+ut];if(!On)return;const wo=Y[vt+"-bottom"+ut];if(!wo)return;const Oo=Y[vt+"-left"+ut];if(!Oo)return;const cr=[pn,On,wo,Oo];let wr=cr.length-1;for(;wr--&&cr[wr]===cr[wr+1];);wr>-1&&Ot||(Y[vt+ut]=wr===-1?cr[0]:cr.join(" "),delete Y[vt+"-top"+ut],delete Y[vt+"-right"+ut],delete Y[vt+"-bottom"+ut],delete Y[vt+"-left"+ut])},Pe=vt=>{const ut=Y[vt];if(!ut)return;const Ot=ut.indexOf(",")>-1?[ut]:ut.split(" ");let pn=Ot.length;for(;pn--;)if(Ot[pn]!==Ot[0])return!1;return Y[vt]=Ot[0],!0},Ze=(vt,ut,Ot,pn)=>{Pe(ut)&&Pe(Ot)&&Pe(pn)&&(Y[vt]=Y[ut]+" "+Y[Ot]+" "+Y[pn],delete Y[ut],delete Y[Ot],delete Y[pn])},Ve=vt=>(ce=!0,d[vt]),st=(vt,ut)=>(ce&&(vt=vt.replace(/\uFEFF[0-9]/g,Ot=>d[Ot])),ut||(vt=vt.replace(/\\([\'\";:])/g,"$1")),vt),Rt=vt=>String.fromCharCode(parseInt(vt.slice(1),16)),Zt=vt=>vt.replace(/\\[0-9a-f]+/gi,Rt),dn=(vt,ut,Ot,pn,On,wo)=>{if(On=On||wo,On)return On=st(On),"'"+On.replace(/\'/g,"\\'")+"'";if(ut=st(ut||Ot||pn||""),!e.allow_script_urls){const Oo=ut.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Oo)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Oo))return""}return he&&(ut=he.call(ue,ut,"style")),"url('"+ut.replace(/\'/g,"\\'")+"')"};if(q){q=q.replace(/[\u0000-\u001F]/g,""),q=q.replace(/\\[\"\';:\uFEFF]/g,Ve).replace(/\"[^\"]+\"|\'[^\']+\'/g,ut=>ut.replace(/[;:]/g,Ve));let vt;for(;vt=s.exec(q);){s.lastIndex=vt.index+vt[0].length;let ut=vt[1].replace(a,"").toLowerCase(),Ot=vt[2].replace(a,"");if(ut&&Ot){if(ut=Zt(ut),Ot=Zt(Ot),ut.indexOf(A)!==-1||ut.indexOf('"')!==-1||!e.allow_script_urls&&(ut==="behavior"||/expression\s*\(|\/\*|\*\//.test(Ot)))continue;ut==="font-weight"&&Ot==="700"?Ot="bold":(ut==="color"||ut==="background-color")&&(Ot=Ot.toLowerCase()),Cx(Ot)==="rgb"&&Ow(Ot).each(pn=>{Ot=tb(nk(pn)).toLowerCase()}),Ot=Ot.replace(n,dn),Y[ut]=ce?st(Ot,!0):Ot}}we("border","",!0),we("border","-width"),we("border","-color"),we("border","-style"),we("padding",""),we("margin",""),Ze("border","border-width","border-style","border-color"),Y.border==="medium none"&&delete Y.border,Y["border-image"]==="none"&&delete Y["border-image"]}return Y},serialize:(q,Y)=>{let ce="";const he=(we,Pe)=>{const Ze=Pe[we];if(Ze)for(let Ve=0,st=Ze.length;Ve<st;Ve++){const Rt=Ze[Ve],Zt=q[Rt];Zt&&(ce+=(ce.length>0?" ":"")+Rt+": "+Zt+";")}},ue=(we,Pe)=>{if(!C||!Pe)return!0;let Ze=C["*"];return Ze&&Ze[we]?!1:(Ze=C[Pe],!(Ze&&Ze[we]))};return Y&&g?(he("*",g),he(Y,g)):$o(q,(we,Pe)=>{we&&ue(Pe,Y)&&(ce+=(ce.length>0?" ":"")+Pe+": "+we+";")}),ce}};return W},yg={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},ok=e=>e instanceof Event||Ne(e.initEvent),rk=e=>e.isDefaultPrevented===Mn||e.isDefaultPrevented===Sn,Qd=e=>gt(e.preventDefault)||ok(e),cm=(e,t)=>{const n=t??{};for(const s in e)Yn(yg,s)||(n[s]=e[s]);return Se(e.composedPath)&&(n.composedPath=()=>e.composedPath()),Se(e.getModifierState)&&(n.getModifierState=s=>e.getModifierState(s)),Se(e.getTargetRanges)&&(n.getTargetRanges=()=>e.getTargetRanges()),n},nv=(e,t,n,s)=>{var a;const d=cm(t,s);return d.type=e,gt(d.target)&&(d.target=(a=d.srcElement)!==null&&a!==void 0?a:n),Qd(t)&&(d.preventDefault=()=>{d.defaultPrevented=!0,d.isDefaultPrevented=Mn,Ne(t.preventDefault)&&t.preventDefault()},d.stopPropagation=()=>{d.cancelBubble=!0,d.isPropagationStopped=Mn,Ne(t.stopPropagation)&&t.stopPropagation()},d.stopImmediatePropagation=()=>{d.isImmediatePropagationStopped=Mn,d.stopPropagation()},rk(d)||(d.isDefaultPrevented=d.defaultPrevented===!0?Mn:Sn,d.isPropagationStopped=d.cancelBubble===!0?Mn:Sn,d.isImmediatePropagationStopped=Sn)),d},Dw="mce-data-",Sx=/^(?:mouse|contextmenu)|click/,nb=(e,t,n,s)=>{e.addEventListener(t,n,s||!1)},rd=(e,t,n,s)=>{e.removeEventListener(t,n,s||!1)},ov=e=>Se(e)&&Sx.test(e.type),Ys=(e,t)=>{const n=nv(e.type,e,document,t);if(ov(e)&&Ye(e.pageX)&&!Ye(e.clientX)){const s=n.target.ownerDocument||document,a=s.documentElement,d=s.body,g=n;g.pageX=e.clientX+(a&&a.scrollLeft||d&&d.scrollLeft||0)-(a&&a.clientLeft||d&&d.clientLeft||0),g.pageY=e.clientY+(a&&a.scrollTop||d&&d.scrollTop||0)-(a&&a.clientTop||d&&d.clientTop||0)}return n},xs=(e,t,n)=>{const s=e.document,a={type:"ready"};if(n.domLoaded){t(a);return}const d=()=>s.readyState==="complete"||s.readyState==="interactive"&&s.body,g=()=>{rd(e,"DOMContentLoaded",g),rd(e,"load",g),n.domLoaded||(n.domLoaded=!0,t(a)),e=null};d()?g():nb(e,"DOMContentLoaded",g),n.domLoaded||nb(e,"load",g)};class ef{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Dw+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,n,s,a){const d=this;let g;const C=window,A=Y=>{d.executeHandlers(Ys(Y||C.event),L)};if(!t||Lt(t)||ho(t))return s;let L;t[d.expando]?L=t[d.expando]:(L=d.count++,t[d.expando]=L,d.events[L]={}),a=a||t;const W=n.split(" ");let q=W.length;for(;q--;){let Y=W[q],ce=A,he=!1,ue=!1;if(Y==="DOMContentLoaded"&&(Y="ready"),d.domLoaded&&Y==="ready"&&t.readyState==="complete"){s.call(a,Ys({type:Y}));continue}!d.hasFocusIn&&(Y==="focusin"||Y==="focusout")&&(he=!0,ue=Y==="focusin"?"focus":"blur",ce=we=>{const Pe=Ys(we||C.event);Pe.type=Pe.type==="focus"?"focusin":"focusout",d.executeHandlers(Pe,L)}),g=d.events[L][Y],g?Y==="ready"&&d.domLoaded?s(Ys({type:Y})):g.push({func:s,scope:a}):(d.events[L][Y]=g=[{func:s,scope:a}],g.fakeName=ue,g.capture=he,g.nativeHandler=ce,Y==="ready"?xs(t,ce,d):nb(t,ue||Y,ce,he))}return t=g=null,s}unbind(t,n,s){if(!t||Lt(t)||ho(t))return this;const a=t[this.expando];if(a){let d=this.events[a];if(n){const g=n.split(" ");let C=g.length;for(;C--;){const A=g[C],L=d[A];if(L){if(s){let W=L.length;for(;W--;)if(L[W].func===s){const q=L.nativeHandler,Y=L.fakeName,ce=L.capture,he=L.slice(0,W).concat(L.slice(W+1));he.nativeHandler=q,he.fakeName=Y,he.capture=ce,d[A]=he}}(!s||L.length===0)&&(delete d[A],rd(t,L.fakeName||A,L.nativeHandler,L.capture))}}}else $o(d,(g,C)=>{rd(t,g.fakeName||C,g.nativeHandler,g.capture)}),d={};for(const g in d)if(Yn(d,g))return this;delete this.events[a];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,n,s){return this.dispatch(t,n,s)}dispatch(t,n,s){if(!t||Lt(t)||ho(t))return this;const a=Ys({type:n,target:t},s);do{const d=t[this.expando];d&&this.executeHandlers(a,d),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!a.isPropagationStopped());return this}clean(t){if(!t||Lt(t)||ho(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const n=t.getElementsByTagName("*");let s=n.length;for(;s--;)t=n[s],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,n){const s=this.events[n],a=s&&s[t.type];if(a)for(let d=0,g=a.length;d<g;d++){const C=a[d];if(C&&C.func.call(C.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}ef.Event=new ef;const kx=Wt.each,rv=Wt.grep,ki="data-mce-style",Ba=Wt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),wg=(e,t,n)=>{gt(n)||n===""?bo(e,t):ei(e,t,n)},tf=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),um=(e,t)=>{let n=0;if(e)for(let s=e.nodeType,a=e.previousSibling;a;a=a.previousSibling){const d=a.nodeType;t&&Lt(a)&&(d===s||!a.data.length)||(n++,s=d)}return n},sv=(e,t)=>{const n=oa(t,"style"),s=e.serialize(e.parse(n),Mo(t));wg(t,ki,s)},Rw=(e,t)=>D(e)?Yn(Ba,t)?e+"":e+"px":e,Ax=(e,t,n)=>{const s=tf(t);gt(n)||n===""?Rc(e,s):Na(e,s,Rw(n,s))},dm=(e,t,n)=>{const s=t.keep_values,a={set:(g,C,A)=>{const L=Oe.fromDom(g);Ne(t.url_converter)&&Se(C)&&(C=t.url_converter.call(t.url_converter_scope||n(),String(C),A,g));const W="data-mce-"+A;wg(L,W,C),wg(L,A,C)},get:(g,C)=>{const A=Oe.fromDom(g);return oa(A,"data-mce-"+C)||oa(A,C)}},d={style:{set:(g,C)=>{const A=Oe.fromDom(g);s&&wg(A,ki,C),bo(A,"style"),Fe(C)&&Io(A,e.parse(C))},get:g=>{const C=Oe.fromDom(g),A=oa(C,ki)||oa(C,"style");return e.serialize(e.parse(A),Mo(C))}}};return s&&(d.href=d.src=a),d},Tr=(e,t={})=>{const n={},s=window,a={};let d=0;const g=!0,C=!0,A=K1.forElement(Oe.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),L=[],W=t.schema?t.schema:ac({}),q=_x({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),Y=t.ownEvents?new ef:ef.Event,ce=W.getBlockElements(),he=ct=>Fe(ct)?Yn(ce,ct):yn(ct)&&(Yn(ce,ct.nodeName)||Xd(W,ct)),ue=ct=>ct&&e&&Fe(ct)?e.getElementById(ct):ct,we=ct=>{const dt=ue(ct);return Se(dt)?Oe.fromDom(dt):null},Pe=(ct,dt,Xt="")=>{let Ut;const Zn=we(ct);if(Se(Zn)&&Ss(Zn)){const zo=bT[dt];zo&&zo.get?Ut=zo.get(Zn.dom,dt):Ut=oa(Zn,dt)}return Se(Ut)?Ut:Xt},Ze=ct=>{const dt=ue(ct);return gt(dt)?[]:dt.attributes},Ve=(ct,dt,Xt)=>{An(ct,Ut=>{if(yn(Ut)){const Zn=Oe.fromDom(Ut),zo=Xt===""?null:Xt,Bs=oa(Zn,dt),qm=bT[dt];qm&&qm.set?qm.set(Zn.dom,zo,dt):wg(Zn,dt,zo),Bs!==zo&&t.onSetAttrib&&t.onSetAttrib({attrElm:Zn.dom,attrName:dt,attrValue:zo})}})},st=(ct,dt)=>ct.cloneNode(dt),Rt=()=>t.root_element||e.body,Zt=ct=>{const dt=ec(ct);return{x:dt.x,y:dt.y,w:dt.width,h:dt.height}},dn=(ct,dt)=>lx(e.body,ue(ct),dt),vt=(ct,dt,Xt)=>{An(ct,Ut=>{const Zn=Oe.fromDom(Ut);Ax(Zn,dt,Xt),t.update_styles&&sv(q,Zn)})},ut=(ct,dt)=>{An(ct,Xt=>{const Ut=Oe.fromDom(Xt);$o(dt,(Zn,zo)=>{Ax(Ut,zo,Zn)}),t.update_styles&&sv(q,Ut)})},Ot=(ct,dt,Xt)=>{const Ut=ue(ct);if(!(gt(Ut)||!Ic(Ut)&&!$p(Ut)))return Xt?ks(Oe.fromDom(Ut),tf(dt)):(dt=dt.replace(/-(\D)/g,(Zn,zo)=>zo.toUpperCase()),dt==="float"&&(dt="cssFloat"),Ut.style?Ut.style[dt]:void 0)},pn=ct=>{const dt=ue(ct);if(!dt)return{w:0,h:0};let Xt=Ot(dt,"width"),Ut=Ot(dt,"height");return(!Xt||Xt.indexOf("px")===-1)&&(Xt="0"),(!Ut||Ut.indexOf("px")===-1)&&(Ut="0"),{w:parseInt(Xt,10)||dt.offsetWidth||dt.clientWidth,h:parseInt(Ut,10)||dt.offsetHeight||dt.clientHeight}},On=ct=>{const dt=ue(ct),Xt=dn(dt),Ut=pn(dt);return{x:Xt.x,y:Xt.y,w:Ut.w,h:Ut.h}},wo=(ct,dt)=>{if(!ct)return!1;const Xt=oe(ct)?ct:[ct];return De(Xt,Ut=>fr(Oe.fromDom(Ut),dt))},Oo=(ct,dt,Xt,Ut)=>{const Zn=[];let zo=ue(ct);Ut=Ut===void 0;const Bs=Xt||(Rt().nodeName!=="BODY"?Rt().parentNode:null);if(Fe(dt))if(dt==="*")dt=yn;else{const qm=dt;dt=ZB=>wo(ZB,qm)}for(;zo&&!(zo===Bs||gt(zo.nodeType)||Cn(zo)||Gd(zo));){if(!dt||dt(zo))if(Ut)Zn.push(zo);else return[zo];zo=zo.parentNode}return Ut?Zn:null},cr=(ct,dt,Xt)=>{const Ut=Oo(ct,dt,Xt,!1);return Ut&&Ut.length>0?Ut[0]:null},wr=(ct,dt,Xt)=>{let Ut=dt;if(ct){Fe(dt)&&(Ut=Zn=>wo(Zn,dt));for(let Zn=ct[Xt];Zn;Zn=Zn[Xt])if(Ne(Ut)&&Ut(Zn))return Zn}return null},js=(ct,dt)=>wr(ct,dt,"nextSibling"),il=(ct,dt)=>wr(ct,dt,"previousSibling"),Dr=ct=>Ne(ct.querySelectorAll),Qt=(ct,dt)=>{var Xt,Ut;const Zn=(Ut=(Xt=ue(dt))!==null&&Xt!==void 0?Xt:t.root_element)!==null&&Ut!==void 0?Ut:e;return Dr(Zn)?so(Zn.querySelectorAll(ct)):[]},An=function(ct,dt,Xt){const Ut=Xt??this;if(oe(ct)){const Zn=[];return kx(ct,(zo,Bs)=>{const qm=ue(zo);qm&&Zn.push(dt.call(Ut,qm,Bs))}),Zn}else{const Zn=ue(ct);return Zn?dt.call(Ut,Zn):!1}},Jo=(ct,dt)=>{An(ct,Xt=>{$o(dt,(Ut,Zn)=>{Ve(Xt,Zn,Ut)})})},rn=(ct,dt)=>{An(ct,Xt=>{const Ut=Oe.fromDom(Xt);em(Ut,dt)})},zn=(ct,dt,Xt,Ut,Zn)=>An(ct,zo=>{const Bs=Fe(dt)?e.createElement(dt):dt;return Se(Xt)&&Jo(Bs,Xt),Ut&&(!Fe(Ut)&&Ut.nodeType?Bs.appendChild(Ut):Fe(Ut)&&rn(Bs,Ut)),Zn?Bs:zo.appendChild(Bs)}),Eo=(ct,dt,Xt)=>zn(e.createElement(ct),ct,dt,Xt,!0),un=pg.decode,Co=pg.encodeAllRaw,Do=(ct,dt,Xt="")=>{let Ut="<"+ct;for(const Zn in dt)xl(dt,Zn)&&(Ut+=" "+Zn+'="'+Co(dt[Zn])+'"');return Ft(Xt)&&Yn(W.getVoidElements(),ct)?Ut+" />":Ut+">"+Xt+"</"+ct+">"},ca=ct=>{const dt=e.createElement("div"),Xt=e.createDocumentFragment();Xt.appendChild(dt),ct&&(dt.innerHTML=ct);let Ut;for(;Ut=dt.firstChild;)Xt.appendChild(Ut);return Xt.removeChild(dt),Xt},vr=(ct,dt)=>An(ct,Xt=>{const Ut=Oe.fromDom(Xt);return dt&&_e(Vi(Ut),Zn=>{Wr(Zn)&&Zn.dom.length===0?lr(Zn):ds(Ut,Zn)}),lr(Ut),Ut.dom}),Xi=ct=>An(ct,dt=>{const Xt=dt.attributes;for(let Ut=Xt.length-1;Ut>=0;Ut--)dt.removeAttributeNode(Xt.item(Ut))}),kf=ct=>q.parse(ct),oh=(ct,dt)=>q.serialize(ct,dt),$l=ct=>{if(hp!==Tr.DOM&&e===document){if(n[ct])return;n[ct]=!0}let dt=e.getElementById("mceDefaultStyles");if(!dt){dt=e.createElement("style"),dt.id="mceDefaultStyles",dt.type="text/css";const Xt=e.head;Xt.firstChild?Xt.insertBefore(dt,Xt.firstChild):Xt.appendChild(dt)}dt.styleSheet?dt.styleSheet.cssText+=ct:dt.appendChild(e.createTextNode(ct))},Pu=ct=>{ct||(ct=""),_e(ct.split(","),dt=>{a[dt]=!0,A.load(dt).catch(sn)})},Af=(ct,dt,Xt)=>{An(ct,Ut=>{if(yn(Ut)){const Zn=Oe.fromDom(Ut),zo=dt.split(" ");_e(zo,Bs=>{Se(Xt)?(Xt?Gu:ga)(Zn,Bs):uh(Zn,Bs)})}})},Lu=(ct,dt)=>{Af(ct,dt,!0)},Ef=(ct,dt)=>{Af(ct,dt,!1)},Nn=(ct,dt)=>{const Xt=we(ct),Ut=dt.split(" ");return Se(Xt)&&eo(Ut,Zn=>Yu(Xt,Zn))},Wo=ct=>{An(ct,dt=>Rc(Oe.fromDom(dt),"display"))},Is=ct=>{An(ct,dt=>Na(Oe.fromDom(dt),"display","none"))},Js=ct=>{const dt=we(ct);return Se(dt)&&Bd(vs(dt,"display"),"none")},Oi=ct=>(ct||"mce_")+d++,Ha=ct=>{const dt=we(ct);return Se(dt)?yn(dt.dom)?dt.dom.outerHTML:cg(dt):""},vi=(ct,dt)=>{An(ct,Xt=>{yn(Xt)&&(Xt.outerHTML=dt)})},xi=(ct,dt)=>{const Xt=ue(dt);return An(ct,Ut=>{const Zn=Xt==null?void 0:Xt.parentNode,zo=Xt==null?void 0:Xt.nextSibling;return Zn&&(zo?Zn.insertBefore(Ut,zo):Zn.appendChild(Ut)),Ut})},Ul=(ct,dt,Xt)=>An(dt,Ut=>{var Zn;const zo=oe(dt)?ct.cloneNode(!0):ct;return Xt&&kx(rv(Ut.childNodes),Bs=>{zo.appendChild(Bs)}),(Zn=Ut.parentNode)===null||Zn===void 0||Zn.replaceChild(zo,Ut),Ut}),Wm=(ct,dt)=>{if(ct.nodeName!==dt.toUpperCase()){const Xt=Eo(dt);return kx(Ze(ct),Ut=>{Ve(Xt,Ut.nodeName,Pe(ct,Ut.nodeName))}),Ul(Xt,ct,!0),Xt}else return ct},jm=(ct,dt)=>{let Xt=ct;for(;Xt;){let Ut=dt;for(;Ut&&Xt!==Ut;)Ut=Ut.parentNode;if(Xt===Ut)break;Xt=Xt.parentNode}return!Xt&&ct.ownerDocument?ct.ownerDocument.documentElement:Xt},Km=(ct,dt,Xt)=>Ie(dt)?Nl(W,ct,{...Xt,isContent:Zn=>{const zo=Zn.nodeName.toLowerCase();return!!dt[zo]}}):Nl(W,ct,Xt),Tf=()=>e.createRange(),S0=(ct,dt,Xt)=>{let Ut=Tf(),Zn,zo;if(ct&&dt&&ct.parentNode&&dt.parentNode){const Bs=ct.parentNode;return Ut.setStart(Bs,um(ct)),Ut.setEnd(dt.parentNode,um(dt)),Zn=Ut.extractContents(),Ut=Tf(),Ut.setStart(dt.parentNode,um(dt)+1),Ut.setEnd(Bs,um(ct)+1),zo=Ut.extractContents(),Bs.insertBefore(wh(hp,Zn,W),ct),Xt?Bs.insertBefore(Xt,ct):Bs.insertBefore(dt,ct),Bs.insertBefore(wh(hp,zo,W),ct),vr(ct),Xt||dt}else return},_S=(ct,dt,Xt,Ut)=>{if(oe(ct)){let Zn=ct.length;const zo=[];for(;Zn--;)zo[Zn]=_S(ct[Zn],dt,Xt,Ut);return zo}else return t.collect&&(ct===e||ct===s)&&L.push([ct,dt,Xt,Ut]),Y.bind(ct,dt,Xt,Ut||hp)},SS=(ct,dt,Xt)=>{if(oe(ct)){let Ut=ct.length;const Zn=[];for(;Ut--;)Zn[Ut]=SS(ct[Ut],dt,Xt);return Zn}else{if(L.length>0&&(ct===e||ct===s)){let Ut=L.length;for(;Ut--;){const[Zn,zo,Bs]=L[Ut];ct===Zn&&(!dt||dt===zo)&&(!Xt||Xt===Bs)&&Y.unbind(Zn,zo,Bs)}}return Y.unbind(ct,dt,Xt)}},CH=(ct,dt,Xt)=>Y.dispatch(ct,dt,Xt),x1=(ct,dt,Xt)=>Y.dispatch(ct,dt,Xt),UB=ct=>{if(ct&&Ic(ct)){const dt=ct.getAttribute("data-mce-contenteditable");return dt&&dt!=="inherit"?dt:ct.contentEditable!=="inherit"?ct.contentEditable:null}else return null},hp={doc:e,settings:t,win:s,files:a,stdMode:g,boxModel:C,styleSheetLoader:A,boundEvents:L,styles:q,schema:W,events:Y,isBlock:he,root:null,clone:st,getRoot:Rt,getViewPort:Zt,getRect:On,getSize:pn,getParent:cr,getParents:Oo,get:ue,getNext:js,getPrev:il,select:Qt,is:wo,add:zn,create:Eo,createHTML:Do,createFragment:ca,remove:vr,setStyle:vt,getStyle:Ot,setStyles:ut,removeAllAttribs:Xi,setAttrib:Ve,setAttribs:Jo,getAttrib:Pe,getPos:dn,parseStyle:kf,serializeStyle:oh,addStyle:$l,loadCSS:Pu,addClass:Lu,removeClass:Ef,hasClass:Nn,toggleClass:Af,show:Wo,hide:Is,isHidden:Js,uniqueId:Oi,setHTML:rn,getOuterHTML:Ha,setOuterHTML:vi,decode:un,encode:Co,insertAfter:xi,replace:Ul,rename:Wm,findCommonAncestor:jm,run:An,getAttribs:Ze,isEmpty:Km,createRng:Tf,nodeIndex:um,split:S0,bind:_S,unbind:SS,fire:x1,dispatch:CH,getContentEditable:UB,getContentEditableParent:ct=>{const dt=Rt();let Xt=null;for(let Ut=ct;Ut&&Ut!==dt&&(Xt=UB(Ut),Xt===null);Ut=Ut.parentNode);return Xt},isEditable:ct=>{if(Se(ct)){const dt=yn(ct)?ct:ct.parentElement;return Se(dt)&&Ic(dt)&&ss(Oe.fromDom(dt))}else return!1},destroy:()=>{if(L.length>0){let ct=L.length;for(;ct--;){const[dt,Xt,Ut]=L[ct];Y.unbind(dt,Xt,Ut)}}$o(a,(ct,dt)=>{A.unload(dt),delete a[dt]})},isChildOf:(ct,dt)=>ct===dt||dt.contains(ct),dumpRng:ct=>"startContainer: "+ct.startContainer.nodeName+", startOffset: "+ct.startOffset+", endContainer: "+ct.endContainer.nodeName+", endOffset: "+ct.endOffset},bT=dm(q,t,rt(hp));return hp};Tr.DOM=Tr(document),Tr.nodeIndex=um;const iv=Tr.DOM,Kr=0,xu=1,Lc=2,Cg=3;class Qa{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((n,s)=>{const a=iv;let d;const g=()=>{a.remove(L),d&&(d.onerror=d.onload=d=null)},C=()=>{g(),n()},A=()=>{g(),s("Failed to load script: "+t)},L=a.uniqueId();d=document.createElement("script"),d.id=L,d.type="text/javascript",d.src=Wt._addCacheSuffix(t),this.settings.referrerPolicy&&a.setAttrib(d,"referrerpolicy",this.settings.referrerPolicy),d.onload=C,d.onerror=A,(document.getElementsByTagName("head")[0]||document.body).appendChild(d)})}isDone(t){return this.states[t]===Lc}markDone(t){this.states[t]=Lc}add(t){const n=this;return n.queue.push(t),n.states[t]===void 0&&(n.states[t]=Kr),new Promise((a,d)=>{n.scriptLoadedCallbacks[t]||(n.scriptLoadedCallbacks[t]=[]),n.scriptLoadedCallbacks[t].push({resolve:a,reject:d})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const n=this,s=(A,L)=>{ar(n.scriptLoadedCallbacks,L).each(W=>{_e(W,q=>q[A](L))}),delete n.scriptLoadedCallbacks[L]},a=A=>{const L=_t(A,W=>W.status==="rejected");return L.length>0?Promise.reject(xn(L,({reason:W})=>oe(W)?W:[W])):Promise.resolve()},d=A=>Promise.allSettled(tt(A,L=>n.states[L]===Lc?(s("resolve",L),Promise.resolve()):n.states[L]===Cg?(s("reject",L),Promise.reject(L)):(n.states[L]=xu,n.loadScript(L).then(()=>{n.states[L]=Lc,s("resolve",L);const W=n.queue;return W.length>0?(n.queue=[],d(W).then(a)):Promise.resolve()},()=>(n.states[L]=Cg,s("reject",L),Promise.reject(L)))))),g=A=>(n.loading=!0,d(A).then(L=>{n.loading=!1;const W=n.queueLoadedCallbacks.shift();return X.from(W).each(xo),a(L)})),C=ou(t);return n.loading?new Promise((A,L)=>{n.queueLoadedCallbacks.push(()=>{g(C).then(A,L)})}):g(C)}}Qa.ScriptLoader=new Qa;const Wi=(e,t)=>{const n=e.indexOf(t);return n!==-1&&e.indexOf(t,n+1)>n},fm=e=>ae(e)&&Yn(e,"raw"),ob=e=>oe(e)&&e.length>1,_g={},rb=fi("en"),Sg=()=>ar(_g,rb.get()),lc={getData:()=>vl(_g,e=>({...e})),setCode:e=>{e&&rb.set(e)},getCode:()=>rb.get(),add:(e,t)=>{let n=_g[e];n||(_g[e]=n={});const s=tt(Ht(t),a=>a.toLowerCase());$o(t,(a,d)=>{const g=d.toLowerCase();g!==d&&Wi(s,g)?(Yn(t,g)||(n[g]=a),n[d]=a):n[g]=a})},translate:e=>{const t=Sg().getOr({}),n=g=>Ne(g)?Object.prototype.toString.call(g):s(g)?"":""+g,s=g=>g===""||g===null||g===void 0,a=g=>{const C=n(g);return Yn(t,C)?n(t[C]):ar(t,C.toLowerCase()).map(n).getOr(C)},d=g=>g.replace(/{context:\w+}$/,"");if(s(e))return"";if(fm(e))return n(e.raw);if(ob(e)){const g=e.slice(1),C=a(e[0]).replace(/\{([0-9]+)\}/g,(A,L)=>Yn(g,L)?n(g[L]):A);return d(C)}return d(a(e))},isRtl:()=>Sg().bind(e=>ar(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>Yn(_g,e)},Ma=()=>{const e=[],t={},n={},s=[],a=(ue,we)=>{const Pe=_t(s,Ze=>Ze.name===ue&&Ze.state===we);_e(Pe,Ze=>Ze.resolve())},d=ue=>Yn(t,ue),g=ue=>Yn(n,ue),C=ue=>{if(n[ue])return n[ue].instance},A=(ue,we)=>{const Pe=lc.getCode(),Ze=","+(we||"")+",";!Pe||we&&Ze.indexOf(","+Pe+",")===-1||Qa.ScriptLoader.add(t[ue]+"/langs/"+Pe+".js")},L=(ue,we)=>{Ma.languageLoad!==!1&&(d(ue)?A(ue,we):he(ue,"loaded").then(()=>A(ue,we)))},W=(ue,we)=>(e.push(we),n[ue]={instance:we},a(ue,"added"),we),q=ue=>{delete t[ue],delete n[ue]},Y=(ue,we)=>Fe(we)?Fe(ue)?{prefix:"",resource:we,suffix:""}:{prefix:ue.prefix,resource:we,suffix:ue.suffix}:we,ce=(ue,we)=>{if(t[ue])return Promise.resolve();let Pe=Fe(we)?we:we.prefix+we.resource+we.suffix;Pe.indexOf("/")!==0&&Pe.indexOf("://")===-1&&(Pe=Ma.baseURL+"/"+Pe),t[ue]=Pe.substring(0,Pe.lastIndexOf("/"));const Ze=()=>(a(ue,"loaded"),Promise.resolve());return n[ue]?Ze():Qa.ScriptLoader.add(Pe).then(Ze)},he=(ue,we="added")=>we==="added"&&g(ue)||we==="loaded"&&d(ue)?Promise.resolve():new Promise(Pe=>{s.push({name:ue,state:we,resolve:Pe})});return{items:e,urls:t,lookup:n,get:C,requireLangPack:L,add:W,remove:q,createUrl:Y,load:ce,waitFor:he}};Ma.languageLoad=!0,Ma.baseURL="",Ma.PluginManager=Ma(),Ma.ThemeManager=Ma(),Ma.ModelManager=Ma();const kg=(e,t)=>{let n=null;return{cancel:()=>{Je(n)||(clearTimeout(n),n=null)},throttle:(...d)=>{Je(n)&&(n=setTimeout(()=>{n=null,e.apply(null,d)},t))}}},kh=(e,t)=>{let n=null;const s=()=>{Je(n)||(clearTimeout(n),n=null)};return{cancel:s,throttle:(...d)=>{s(),n=setTimeout(()=>{n=null,e.apply(null,d)},t)}}},Mw=(e,t,n)=>Dc(e,t,n).isSome(),gs=rt("mce-annotation"),hs=rt("data-mce-annotation"),Fs=rt("data-mce-annotation-uid"),mr=rt("data-mce-annotation-active"),ls=rt("data-mce-annotation-classes"),Ds=rt("data-mce-annotation-attrs"),av=e=>t=>Po(t,e),lv=(e,t)=>{const n=e.selection.getRng(),s=Oe.fromDom(n.startContainer),a=Oe.fromDom(e.getBody()),d=t.fold(()=>"."+gs(),A=>`[${hs()}="${A}"]`),g=du(s,n.startOffset).getOr(s);return _i(g,d,av(a)).bind(A=>kc(A,`${Fs()}`).bind(L=>kc(A,`${hs()}`).map(W=>{const q=Dx(e,L);return{uid:L,name:W,elements:q}})))},Ox=e=>Ss(e)&&Yu(e,gs()),sb=(e,t)=>Ku(e,"data-mce-bogus")||Mw(e,'[data-mce-bogus="all"]',av(t)),Dx=(e,t)=>{const n=Oe.fromDom(e.getBody()),s=Gs(n,`[${Fs()}="${t}"]`);return _t(s,a=>!sb(a,n))},Ag=(e,t)=>{const n=Oe.fromDom(e.getBody()),s=Gs(n,`[${hs()}="${t}"]`),a={};return _e(s,d=>{if(!sb(d,n)){const g=oa(d,Fs()),C=ar(a,g).getOr([]);a[g]=C.concat([d])}}),a},cv=(e,t)=>{const n=fi({}),s=()=>({listeners:[],previous:mi()}),a=(q,Y)=>{d(q,ce=>(Y(ce),ce))},d=(q,Y)=>{const ce=n.get(),he=ar(ce,q).getOrThunk(s),ue=Y(he);ce[q]=ue,n.set(ce)},g=(q,Y,ce)=>{a(q,he=>{_e(he.listeners,ue=>ue(!0,q,{uid:Y,nodes:tt(ce,we=>we.dom)}))})},C=q=>{a(q,Y=>{_e(Y.listeners,ce=>ce(!1,q))})},A=(q,Y)=>{_e(Dx(e,q),ce=>{Y?ei(ce,mr(),"true"):bo(ce,mr())})},L=kh(()=>{const q=yo(t.getNames());_e(q,Y=>{d(Y,ce=>{const he=ce.previous.get();return lv(e,X.some(Y)).fold(()=>{he.each(ue=>{C(Y),ce.previous.clear(),A(ue,!1)})},({uid:ue,name:we,elements:Pe})=>{Bd(he,ue)||(he.each(Ze=>A(Ze,!1)),g(we,ue,Pe),ce.previous.set(ue),A(ue,!0))}),{previous:ce.previous,listeners:ce.listeners}})})},30);return e.on("remove",()=>{L.cancel()}),e.on("NodeChange",()=>{L.throttle()}),{addListener:(q,Y)=>{d(q,ce=>({previous:ce.previous,listeners:ce.listeners.concat([Y])}))}}},uv=(e,t)=>{const n=hs(),s=d=>X.from(d.attr(n)).bind(t.lookup),a=d=>{var g,C;d.attr(Fs(),null),d.attr(hs(),null),d.attr(mr(),null);const A=X.from(d.attr(Ds())).map(Y=>Y.split(",")).getOr([]),L=X.from(d.attr(ls())).map(Y=>Y.split(",")).getOr([]);_e(A,Y=>d.attr(Y,null));const W=(C=(g=d.attr("class"))===null||g===void 0?void 0:g.split(" "))!==null&&C!==void 0?C:[],q=po(W,[gs()].concat(L));d.attr("class",q.length>0?q.join(" "):null),d.attr(ls(),null),d.attr(Ds(),null)};e.serializer.addTempAttr(mr()),e.serializer.addAttributeFilter(n,d=>{for(const g of d)s(g).each(C=>{C.persistent===!1&&(g.name==="span"?g.unwrap():a(g))})})},Rx=()=>{const e={};return{register:(a,d)=>{e[a]={name:a,settings:d}},lookup:a=>ar(e,a).map(d=>d.settings),getNames:()=>Ht(e)}},ib=(e,t,n)=>Math.min(Math.max(e,t),n),el=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Nx=0;const xa=e=>{const n=new Date().getTime(),s=Math.floor(el()*1e9);return Nx++,e+"_"+s+Nx+String(n)},ab=(e,t)=>{_e(t,n=>{Gu(e,n)})},Eg=(e,t)=>{_e(t,n=>{ga(e,n)})},Fc=(e,t)=>Oe.fromDom(e.dom.cloneNode(t)),Rs=e=>Fc(e,!1),gm=e=>Fc(e,!0),Ix=(e,t)=>{const n=Oe.fromTag(t),s=Ya(e);return ma(n,s),n},Bx=(e,t)=>{const n=Ix(e,t);Xe(e,n);const s=Vi(e);return Ls(n,s),lr(e),n},lb=(e,t,n=Sn)=>{const s=new $i(e,t),a=d=>{let g;do g=s[d]();while(g&&!Lt(g)&&!n(g));return X.from(g).filter(Lt)};return{current:()=>X.from(s.current()).filter(Lt),next:()=>a("next"),prev:()=>a("prev"),prev2:()=>a("prev2")}},sd=(e,t)=>{const n=t||(g=>e.isBlock(g)||Jr(g)||to(g)),s=(g,C,A,L)=>{if(Lt(g)){const W=L(g,C,g.data);if(W!==-1)return X.some({container:g,offset:W})}return A().bind(W=>s(W.container,W.offset,A,L))};return{backwards:(g,C,A,L)=>{const W=lb(g,L??e.getRoot(),n);return s(g,C,()=>W.prev().map(q=>({container:q,offset:q.length})),A).getOrNull()},forwards:(g,C,A,L)=>{const W=lb(g,L??e.getRoot(),n);return s(g,C,()=>W.next().map(q=>({container:q,offset:0})),A).getOrNull()}}},cb=((e,t)=>{const n=d=>{if(!e(d))throw new Error("Can only get "+t+" value of a "+t+" node");return s(d).getOr("")},s=d=>e(d)?X.from(d.dom.nodeValue):X.none();return{get:n,getOption:s,set:(d,g)=>{if(!e(d))throw new Error("Can only set raw "+t+" value of a "+t+" node");d.dom.nodeValue=g}}})(Wr,"text"),hm=e=>cb.get(e),Pw=e=>cb.getOption(e),ub=(e,t)=>cb.set(e,t),db=["td","th"],dv=["thead","tbody","tfoot"],Ah=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],fv=["li","dd","dt"],ya=["ul","ol","dl"],Mx=["pre","script","textarea","style"],id=e=>{let t;return n=>(t=t||Ko(e,Mn),Yn(t,Mo(n)))},fb=e=>Mo(e)==="table",yu=e=>Ss(e)&&Mo(e)==="br",mb=id(Ah),gb=id(ya),pm=id(fv),Tg=id(dv),cc=id(db),hb=id(Mx),ik=e=>{const t=[];let n=e.dom;for(;n;)t.push(Oe.fromDom(n)),n=n.lastChild;return t},Bl=e=>{const t=Gs(e,"br"),n=_t(ik(e).slice(-1),yu);t.length===n.length&&_e(n,lr)},ad=()=>{const e=Oe.fromTag("br");return ei(e,"data-mce-bogus","1"),e},uc=e=>{Mr(e),As(e,ad())},Px=(e,t)=>{fu(e).each(n=>{ti(n).each(s=>{t.isBlock(Mo(e))&&yu(n)&&t.isBlock(Mo(s))&&lr(n)})})},oi=fs,dc=pu,tl=mh,ak=e=>e.insertContent(oi,{preserve_zwsp:!0}),nf=yn,ld=Lt,Eh=e=>(ld(e)&&(e=e.parentNode),nf(e)&&e.hasAttribute("data-mce-caret")),bm=e=>ld(e)&&dc(e.data),Cl=e=>Eh(e)||bm(e),mv=e=>e.firstChild!==e.lastChild||!Jr(e.firstChild),gv=(e,t)=>{var n;const a=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(oi),d=e.parentNode;if(t){const g=e.previousSibling;if(ld(g)){if(Cl(g))return g;if(cd(g))return g.splitText(g.data.length-1)}d==null||d.insertBefore(a,e)}else{const g=e.nextSibling;if(ld(g)){if(Cl(g))return g;if(bb(g))return g.splitText(1),g}e.nextSibling?d==null||d.insertBefore(a,e.nextSibling):d==null||d.appendChild(a)}return a},pb=e=>{const t=e.container();return Lt(t)?t.data.charAt(e.offset())===oi||e.isAtStart()&&bm(t.previousSibling):!1},hv=e=>{const t=e.container();return Lt(t)?t.data.charAt(e.offset()-1)===oi||e.isAtEnd()&&bm(t.nextSibling):!1},Lw=(e,t,n)=>{var s;const d=((s=t.ownerDocument)!==null&&s!==void 0?s:document).createElement(e);d.setAttribute("data-mce-caret",n?"before":"after"),d.setAttribute("data-mce-bogus","all"),d.appendChild(ad().dom);const g=t.parentNode;return n?g==null||g.insertBefore(d,t):t.nextSibling?g==null||g.insertBefore(d,t.nextSibling):g==null||g.appendChild(d),d},bb=e=>ld(e)&&e.data[0]===oi,cd=e=>ld(e)&&e.data[e.data.length-1]===oi,vb=e=>{var t;const n=e.getElementsByTagName("br"),s=n[n.length-1];Kd(s)&&((t=s.parentNode)===null||t===void 0||t.removeChild(s))},Og=e=>e&&e.hasAttribute("data-mce-caret")?(vb(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Dg=e=>Eh(e.startContainer),of=Math.round,rf=e=>e?{left:of(e.left),top:of(e.top),bottom:of(e.bottom),right:of(e.right),width:of(e.width),height:of(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},xb=(e,t)=>(e=rf(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),sf=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,af=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,lf=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top?!0:e.top>t.bottom?!1:af(t.top-e.bottom,e,t)},Rg=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:af(t.bottom-e.top,e,t),pv=(e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom,Th=e=>je(e,(t,n)=>t.fold(()=>X.some(n),s=>{const a=Math.min(n.left,s.left),d=Math.min(n.top,s.top),g=Math.max(n.right,s.right),C=Math.max(n.bottom,s.bottom);return X.some({top:d,right:g,bottom:C,left:a,width:g-a,height:C-d})}),X.none()),bv=(e,t,n)=>{const s=Math.max(Math.min(t,e.left+e.width),e.left),a=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-s)*(t-s)+(n-a)*(n-a))},Lx=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),Oh=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},ri=(e,t)=>{if(yn(e)&&e.hasChildNodes()){const n=e.childNodes,s=ib(t,0,n.length-1);return n[s]}else return e},Fx=(e,t)=>{if(!(t<0&&yn(e)&&e.hasChildNodes()))return ri(e,t)},Fw=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),zx=e=>Fe(e)&&e.charCodeAt(0)>=768&&Fw.test(e),Hx=(...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1},cf=(...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0},vv=oc,yb=to,Vx=Jr,lk=Lt,uf=Ui(["script","style","textarea"]),wb=Ui(["img","input","textarea","hr","iframe","video","audio","object","embed"]),zw=Ui(["table"]),Hw=Cl,zc=e=>Hw(e)?!1:lk(e)?!uf(e.parentNode):wb(e)||Vx(e)||zw(e)||xv(e),$x=e=>yn(e)&&e.getAttribute("unselectable")==="true",xv=e=>!$x(e)&&yb(e),Vw=(e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(xv(n))return!1;if(vv(n))return!0}return!0},Ng=e=>xv(e)?!je(so(e.getElementsByTagName("*")),(t,n)=>t||vv(n),!1):!1,Dh=e=>wb(e)||Ng(e),Cb=(e,t)=>zc(e)&&Vw(e,t),$w=yn,Hc=zc,vm=tc("display","block table"),_b=tc("float","left right"),Sb=cf($w,Hc,yt(_b)),yv=yt(tc("white-space","pre pre-line pre-wrap")),kb=Lt,Ki=Jr,wv=Tr.nodeIndex,xm=Fx,ym=e=>e?e.createRange():Tr.DOM.createRng(),Ab=e=>Fe(e)&&/[\r\n\t ]/.test(e),Cv=e=>!!e.setStart&&!!e.setEnd,Ig=e=>{const t=e.startContainer,n=e.startOffset;if(Ab(e.toString())&&yv(t.parentNode)&&Lt(t)){const s=t.data;if(Ab(s[n-1])||Ab(s[n+1]))return!0}return!1},df=e=>{const t=e.ownerDocument,n=ym(t),s=t.createTextNode(di),a=e.parentNode;a.insertBefore(s,e),n.setStart(s,0),n.setEnd(s,1);const d=rf(n.getBoundingClientRect());return a.removeChild(s),d},Ux=e=>{const t=e.startContainer,n=e.endContainer,s=e.startOffset,a=e.endOffset;if(t===n&&Lt(n)&&s===0&&a===1){const d=e.cloneRange();return d.setEndAfter(n),Pa(d)}else return null},_v=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Pa=e=>{var t;let n;const s=e.getClientRects();return s.length>0?n=rf(s[0]):n=rf(e.getBoundingClientRect()),!Cv(e)&&Ki(e)&&_v(n)?df(e):_v(n)&&Cv(e)&&(t=Ux(e))!==null&&t!==void 0?t:n},ff=(e,t)=>{const n=xb(e,t);return n.width=1,n.right=n.left+1,n},Zx=e=>{const t=[],n=g=>{g.height!==0&&(t.length>0&&sf(g,t[t.length-1])||t.push(g))},s=(g,C)=>{const A=ym(g.ownerDocument);if(C<g.data.length){if(zx(g.data[C]))return;if(zx(g.data[C-1])&&(A.setStart(g,C),A.setEnd(g,C+1),!Ig(A))){n(ff(Pa(A),!1));return}}C>0&&(A.setStart(g,C-1),A.setEnd(g,C),Ig(A)||n(ff(Pa(A),!1))),C<g.data.length&&(A.setStart(g,C),A.setEnd(g,C+1),Ig(A)||n(ff(Pa(A),!0)))},a=e.container(),d=e.offset();if(kb(a))return s(a,d),t;if($w(a))if(e.isAtEnd()){const g=xm(a,d);kb(g)&&s(g,g.data.length),Sb(g)&&!Ki(g)&&n(ff(Pa(g),!1))}else{const g=xm(a,d);if(kb(g)&&s(g,0),Sb(g)&&e.isAtEnd())return n(ff(Pa(g),!1)),t;const C=xm(e.container(),e.offset()-1);Sb(C)&&!Ki(C)&&(vm(C)||vm(g)||!Sb(g))&&n(ff(Pa(C),!1)),Sb(g)&&n(ff(Pa(g),!0))}return t},ft=(e,t,n)=>{const s=()=>(kb(e),t===0),a=()=>kb(e)?t>=e.data.length:t>=e.childNodes.length,d=()=>{const W=ym(e.ownerDocument);return W.setStart(e,t),W.setEnd(e,t),W},g=()=>(n||(n=Zx(ft(e,t))),n),C=()=>g().length>0,A=W=>W&&e===W.container()&&t===W.offset(),L=W=>xm(e,W?t-1:t);return{container:rt(e),offset:rt(t),toRange:d,getClientRects:g,isVisible:C,isAtStart:s,isAtEnd:a,isEqual:A,getNode:L}};ft.fromRangeStart=e=>ft(e.startContainer,e.startOffset),ft.fromRangeEnd=e=>ft(e.endContainer,e.endOffset),ft.after=e=>ft(e.parentNode,wv(e)+1),ft.before=e=>ft(e.parentNode,wv(e)),ft.isAbove=(e,t)=>Li(jt(t.getClientRects()),ao(e.getClientRects()),lf).getOr(!1),ft.isBelow=(e,t)=>Li(ao(t.getClientRects()),jt(e.getClientRects()),Rg).getOr(!1),ft.isAtStart=e=>e?e.isAtStart():!1,ft.isAtEnd=e=>e?e.isAtEnd():!1,ft.isTextPosition=e=>e?Lt(e.container()):!1,ft.isElementPosition=e=>!ft.isTextPosition(e);const Rh=(e,t)=>{Lt(t)&&t.data.length===0&&e.remove(t)},ck=(e,t,n)=>{t.insertNode(n),Rh(e,n.previousSibling),Rh(e,n.nextSibling)},Uw=(e,t,n)=>{const s=X.from(n.firstChild),a=X.from(n.lastChild);t.insertNode(n),s.each(d=>Rh(e,d.previousSibling)),a.each(d=>Rh(e,d.nextSibling))},Sv=(e,t,n)=>{Gd(n)?Uw(e,t,n):ck(e,t,n)},Vc=Lt,kv=Kd,Eb=Tr.nodeIndex,Wx=e=>{const t=e.parentNode;return kv(t)?Wx(t):t},jx=e=>e?ja(e.childNodes,(t,n)=>(kv(n)&&n.nodeName!=="BR"?t=t.concat(jx(n)):t.push(n),t),[]):[],uk=(e,t)=>{let n=e;for(;(n=n.previousSibling)&&Vc(n);)t+=n.data.length;return t},b=e=>t=>e===t,_=e=>{let t,n;t=jx(Wx(e)),n=Ur(t,b(e),e),t=t.slice(0,n+1);const s=ja(t,(a,d,g)=>(Vc(d)&&Vc(t[g-1])&&a++,a),0);return t=Aa(t,Ui([e.nodeName])),n=Ur(t,b(e),e),n-s},T=e=>(Vc(e)?"text()":e.nodeName.toLowerCase())+"["+_(e)+"]",B=(e,t,n)=>{const s=[];for(let a=t.parentNode;a&&a!==e;a=a.parentNode)s.push(a);return s},V=(e,t)=>{let n=[],s=t.container(),a=t.offset(),d;if(Vc(s))d=uk(s,a);else{const C=s.childNodes;a>=C.length?(d="after",a=C.length-1):d="before",s=C[a]}n.push(T(s));let g=B(e,s);return g=Aa(g,yt(Kd)),n=n.concat(Uf(g,C=>T(C))),n.reverse().join("/")+","+d},$=(e,t,n)=>{let s=jx(e);return s=Aa(s,(a,d)=>!Vc(a)||!Vc(s[d-1])),s=Aa(s,Ui([t])),s[n]},Q=(e,t)=>{let n=e,s=0;for(;Vc(n);){const a=n.data.length;if(t>=s&&t<=s+a){e=n,t=t-s;break}if(!Vc(n.nextSibling)){e=n,t=a;break}s+=a,n=n.nextSibling}return Vc(e)&&t>e.data.length&&(t=e.data.length),ft(e,t)},te=(e,t)=>{if(!t)return null;const n=t.split(","),s=n[0].split("/"),a=n.length>1?n[1]:"before",d=ja(s,(g,C)=>{const A=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(C);return A?(A[1]==="text()"&&(A[1]="#text"),$(g,A[1],parseInt(A[2],10))):null},e);if(!d)return null;if(!Vc(d)&&d.parentNode){let g;return a==="after"?g=Eb(d)+1:g=Eb(d),ft(d.parentNode,g)}return Q(d,parseInt(a,10))},fe=to,Ae=(e,t,n)=>{let s=e(t.data.slice(0,n)).length;for(let a=t.previousSibling;a&&Lt(a);a=a.previousSibling)s+=e(a.data).length;return s},ze=(e,t,n,s,a)=>{const d=a?s.startContainer:s.endContainer;let g=a?s.startOffset:s.endOffset;const C=[],A=e.getRoot();if(Lt(d))C.push(n?Ae(t,d,g):g);else{let L=0;const W=d.childNodes;g>=W.length&&W.length&&(L=1,g=Math.max(0,W.length-1)),C.push(e.nodeIndex(W[g],n)+L)}for(let L=d;L&&L!==A;L=L.parentNode)C.push(e.nodeIndex(L,n));return C},Ce=(e,t,n,s)=>{const a=t.dom,d=ze(a,e,n,s,!0),g=t.isForward(),C=Dg(s)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:d,forward:g,...C};{const A=ze(a,e,n,s,!1);return{start:d,end:A,forward:g,...C}}},Te=(e,t,n)=>{let s=0;return Wt.each(e.select(t),a=>{if(a.getAttribute("data-mce-bogus")!=="all"){if(a===n)return!1;s++;return}}),s},Be=(e,t)=>{let n=t?e.startContainer:e.endContainer,s=t?e.startOffset:e.endOffset;if(yn(n)&&n.nodeName==="TR"){const a=n.childNodes;n=a[Math.min(t?s:s-1,a.length-1)],n&&(s=t?0:n.childNodes.length,t?e.setStart(n,s):e.setEnd(n,s))}},Ge=e=>(Be(e,!0),Be(e,!1),e),Qe=(e,t)=>{if(yn(e)&&(e=ri(e,t),fe(e)))return e;if(Cl(e)){Lt(e)&&Eh(e)&&(e=e.parentNode);let n=e.previousSibling;if(fe(n)||(n=e.nextSibling,fe(n)))return n}},St=e=>Qe(e.startContainer,e.startOffset)||Qe(e.endContainer,e.endOffset),Et=(e,t,n)=>{const s=n.getNode(),a=n.getRng();if(s.nodeName==="IMG"||fe(s)){const g=s.nodeName;return{name:g,index:Te(n.dom,g,s)}}const d=St(a);if(d){const g=d.tagName;return{name:g,index:Te(n.dom,g,d)}}return Ce(e,n,t,a)},Ct=e=>{const t=e.getRng();return{start:V(e.dom.getRoot(),ft.fromRangeStart(t)),end:V(e.dom.getRoot(),ft.fromRangeEnd(t)),forward:e.isForward()}},Dt=e=>({rng:e.getRng(),forward:e.isForward()}),$t=(e,t,n)=>{const s={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",s,"&#xFEFF;"):e.create("span",s)},Kt=(e,t)=>{const n=e.dom;let s=e.getRng();const a=n.uniqueId(),d=e.isCollapsed(),g=e.getNode(),C=g.nodeName,A=e.isForward();if(C==="IMG")return{name:C,index:Te(n,C,g)};const L=Ge(s.cloneRange());if(!d){L.collapse(!1);const q=$t(n,a+"_end",t);Sv(n,L,q)}s=Ge(s),s.collapse(!0);const W=$t(n,a+"_start",t);return Sv(n,s,W),e.moveToBookmark({id:a,keep:!0,forward:A}),{id:a,forward:A}},nt=(e,t,n=!1)=>t===2?Et(tl,n,e):t===3?Ct(e):t?Dt(e):Kt(e,!1),gn=xt(Et,Un,!0),Hn=e=>{const t=d=>d(e),n=rt(e),s=()=>a,a={tag:!0,inner:e,fold:(d,g)=>g(e),isValue:Mn,isError:Sn,map:d=>Vn.value(d(e)),mapError:s,bind:t,exists:t,forall:t,getOr:n,or:s,getOrThunk:n,orThunk:s,getOrDie:n,each:d=>{d(e)},toOptional:()=>X.some(e)};return a},co=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(s,a)=>s(e),isValue:Sn,isError:Mn,map:t,mapError:s=>Vn.error(s(e)),bind:t,exists:Sn,forall:Mn,getOr:Un,or:Un,getOrThunk:$r,orThunk:$r,getOrDie:qt(String(e)),each:sn,toOptional:X.none};return n},Vn={value:Hn,error:co,fromOption:(e,t)=>e.fold(()=>co(t),Hn)},Bo={generate:e=>{if(!oe(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],n={};return _e(e,(s,a)=>{const d=Ht(s);if(d.length!==1)throw new Error("one and only one name per case");const g=d[0],C=s[g];if(n[g]!==void 0)throw new Error("duplicate key detected:"+g);if(g==="cata")throw new Error("cannot have a case named cata (sorry)");if(!oe(C))throw new Error("case arguments must be an array");t.push(g),n[g]=(...A)=>{const L=A.length;if(L!==C.length)throw new Error("Wrong number of arguments to case "+g+". Expected "+C.length+" ("+C+"), got "+L);return{fold:(...q)=>{if(q.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+q.length);return q[a].apply(null,A)},match:q=>{const Y=Ht(q);if(t.length!==Y.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+Y.join(","));if(!eo(t,he=>ve(Y,he)))throw new Error("Not all branches were specified when using match. Specified: "+Y.join(", ")+`
Required: `+t.join(", "));return q[g].apply(null,A)},log:q=>{console.log(q,{constructors:t,constructor:g,params:A})}}}}),n}};Bo.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const zs=e=>{const t=[],n=[];return _e(e,s=>{s.fold(a=>{t.push(a)},a=>{n.push(a)})}),{errors:t,values:n}},ia=e=>e.type==="inline-command"||e.type==="inline-format",Ai=e=>e.type==="block-command"||e.type==="block-format",Ml=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,wm=e=>{var t;const n=a=>Vn.error({message:a,pattern:e}),s=(a,d,g)=>{if(e.format!==void 0){let C;if(oe(e.format)){if(!eo(e.format,Fe))return n(a+" pattern has non-string items in the `format` array");C=e.format}else if(Fe(e.format))C=[e.format];else return n(a+" pattern has non-string `format` parameter");return Vn.value(d(C))}else return e.cmd!==void 0?Fe(e.cmd)?Vn.value(g(e.cmd,e.value)):n(a+" pattern has non-string `cmd` parameter"):n(a+" pattern is missing both `format` and `cmd` parameters")};if(!ae(e))return n("Raw pattern is not an object");if(!Fe(e.start))return n("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!Fe(e.end))return n("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let a=e.start,d=e.end;return d.length===0&&(d=a,a=""),s("Inline",g=>({type:"inline-format",start:a,end:d,format:g}),(g,C)=>({type:"inline-command",start:a,end:d,cmd:g,value:C}))}else{if(e.replacement!==void 0)return Fe(e.replacement)?e.start.length===0?n("Replacement pattern has empty `start` parameter"):Vn.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter");{const a=(t=e.trigger)!==null&&t!==void 0?t:"space";return e.start.length===0?n("Block pattern has empty `start` parameter"):s("Block",d=>({type:"block-format",start:e.start,format:d[0],trigger:a}),(d,g)=>({type:"block-command",start:e.start,cmd:d,value:g,trigger:a}))}}},aa=e=>_t(e,Ai),wu=e=>_t(e,ia),Nh=(e,t)=>({inlinePatterns:wu(e),blockPatterns:aa(e),dynamicPatternsLookup:t}),mf=(e,t)=>({...e,blockPatterns:_t(e.blockPatterns,n=>Ml(n,t))}),Ih=e=>{const t=zs(tt(e,wm));return _e(t.errors,n=>console.error(n.message,n.pattern)),t.values},Av=e=>t=>{const n=e(t);return Ih(n)},gf=Mi().deviceType,Zw=gf.isTouch(),m8=Tr.DOM,g8=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return je(t,(n,s)=>{const a=s.split("="),d=a[0],g=a.length>1?a[1]:d;return n[Ee(d)]=Ee(g),n},{})},XT=e=>We(e,RegExp),hn=e=>t=>t.options.get(e),Kx=e=>Fe(e)||ae(e),dk=(e,t="")=>n=>{const s=Fe(n);if(s)if(n.indexOf("=")!==-1){const a=g8(n);return{value:ar(a,e.id).getOr(t),valid:s}}else return{value:n,valid:s};else return{valid:!1,message:"Must be a string."}},Ww=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:dk(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:dk(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:n=>{const s=Fe(n)&&$e(n);return s?{value:n,valid:s}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:n=>{const s=ve(["block","linebreak","invert","default"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:n=>He(n)?{valid:!0,value:n}:Fe(n)?{valid:!0,value:n}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:n=>{const s=n===!1||Fe(n)||Nt(n,Fe);return s?Fe(n)?{value:tt(n.split(","),Ee),valid:s}:oe(n)?{value:n,valid:s}:n===!1?{value:[],valid:s}:{value:n,valid:s}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Tb(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:n=>{const s=Fe(n)||Nt(n,Fe);return s?{value:oe(n)?n:tt(n.split(","),Ee),valid:s}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:n=>{const s=He(n)||Fe(n);return s?n===!1||gf.isiPhone()||gf.isiPad()?{value:"",valid:s}:{value:n===!0?"table,img,figure.image,div,video,iframe":n,valid:s}:{valid:!1,message:"Must be boolean or a string"}},default:!Zw}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("theme",{processor:n=>n===!1||Fe(n)||Ne(n),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:n=>{const s=n===!1||Fe(n);return s?{value:n===!1?"":n,valid:s}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:Kx}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:Kx}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:Kx}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:Kx}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:n=>Fe(n)||n===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:n=>Nt(n,ae)||n===!1?{value:Ih(n===!1?[]:n),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:n=>Ne(n)?{value:Av(n),valid:!0}:{valid:!1,message:"Must be a single function"},default:n=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:n=>Nt(n,XT)?{value:n,valid:!0}:XT(n)?{value:[n],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:n=>{const s=ve(["inherited","collapsed","expanded"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:n=>{const s=ve(["inherited","collapsed","expanded"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:lc.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:m8.getAttrib(e.getElement(),"placeholder")})})},nl=hn("iframe_attrs"),ud=hn("doctype"),$c=hn("document_base_url"),jw=hn("body_id"),fk=hn("body_class"),JT=hn("content_security_policy"),mk=hn("br_in_pre"),La=hn("forced_root_block"),qx=hn("forced_root_block_attrs"),gk=hn("newline_behavior"),QT=hn("br_newline_selector"),eO=hn("no_newline_selector"),hk=hn("keep_styles"),pk=hn("end_container_on_empty_block"),Or=hn("automatic_uploads"),Bg=hn("images_reuse_filename"),tO=hn("images_replace_blob_uris"),bk=hn("icons"),nO=hn("icons_url"),vk=hn("images_upload_url"),oO=hn("images_upload_base_path"),xk=hn("images_upload_credentials"),h8=hn("images_upload_handler"),rO=hn("content_css_cors"),Gx=hn("referrer_policy"),yk=hn("language"),p8=hn("language_url"),sO=hn("indent_use_margin"),Uc=hn("indentation"),gl=hn("content_css"),Ev=hn("content_style"),iO=hn("font_css"),b8=hn("directionality"),Ho=hn("inline_boundaries_selector"),aO=hn("object_resizing"),lO=hn("resize_img_proportional"),wk=hn("placeholder"),cO=hn("event_root"),v8=hn("service_message"),Tv=hn("theme"),x8=hn("theme_url"),Yx=hn("model"),Ck=hn("model_url"),Ov=hn("inline_boundaries"),y8=hn("formats"),w8=hn("preview_styles"),C8=hn("format_empty_lines"),qn=hn("format_noneditable_selector"),uO=hn("custom_ui_selector"),Tb=hn("inline"),_k=hn("hidden_input"),dO=hn("submit_patch"),fO=hn("add_form_submit_trigger"),mO=hn("add_unload_trigger"),gO=hn("custom_undo_redo_levels"),_8=hn("disable_nodechange"),hO=hn("readonly"),or=hn("editable_root"),pO=hn("content_css_cors"),dd=hn("plugins"),Cm=hn("external_plugins"),Kw=hn("block_unsupported_drop"),fc=hn("visual"),qw=hn("visual_table_class"),Dv=hn("visual_anchor_class"),Xx=hn("iframe_aria_text"),Rv=hn("setup"),S8=hn("init_instance_callback"),k8=hn("urlconverter_callback"),A8=hn("auto_focus"),E8=hn("browser_spellcheck"),Zo=hn("protect"),hf=hn("paste_block_drop"),_m=hn("paste_data_images"),T8=hn("paste_preprocess"),Jx=hn("paste_postprocess"),qo=hn("newdocument_content"),bO=hn("paste_webkit_styles"),Sk=hn("paste_remove_styles_if_webkit"),O8=hn("paste_merge_formats"),Ob=hn("smart_paste"),Db=hn("paste_as_text"),vO=hn("paste_tab_spaces"),D8=hn("allow_html_data_urls"),R8=hn("text_patterns"),Qx=hn("text_patterns_lookup"),Rb=hn("noneditable_class"),N8=hn("editable_class"),xO=hn("noneditable_regexp"),I8=hn("preserve_cdata"),yO=hn("highlight_on_focus"),wO=hn("xss_sanitization"),CO=hn("init_content_sync"),kk=e=>e.options.isSet("text_patterns_lookup"),Ak=e=>Wt.explode(e.options.get("font_size_style_values")),Ek=e=>Wt.explode(e.options.get("font_size_classes")),_O=e=>e.options.get("encoding")==="xml",Tk=e=>Wt.explode(e.options.get("images_file_types")),SO=hn("table_tab_navigation"),Gw=hn("details_initial_state"),kO=hn("details_serialized_state"),Ok=hn("sandbox_iframes"),Yw=e=>e.options.get("sandbox_iframes_exclusions"),AO=hn("convert_unsafe_embeds"),EO=hn("license_key"),TO=hn("api_key"),B8=yn,OO=Lt,ey=e=>{const t=e.parentNode;t&&t.removeChild(e)},Dk=e=>{const t=tl(e);return{count:e.length-t.length,text:t}},Rk=e=>{let t;for(;(t=e.data.lastIndexOf(oi))!==-1;)e.deleteData(t,1)},Nk=(e,t)=>(Bh(e),t),M8=(e,t)=>{const n=Dk(e.data.substr(0,t.offset())),s=Dk(e.data.substr(t.offset()));return(n.text+s.text).length>0?(Rk(e),ft(e,t.offset()-n.count)):t},P8=(e,t)=>{const n=t.container(),s=Ue(so(n.childNodes),e).map(a=>a<t.offset()?ft(n,t.offset()-1):t).getOr(t);return Bh(e),s},L8=(e,t)=>OO(e)&&t.container()===e?M8(e,t):Nk(e,t),F8=(e,t)=>t.container()===e.parentNode?P8(e,t):Nk(e,t),z8=(e,t)=>ft.isTextPosition(t)?L8(e,t):F8(e,t),Bh=e=>{B8(e)&&Cl(e)&&(mv(e)?e.removeAttribute("data-mce-caret"):ey(e)),OO(e)&&(Rk(e),e.data.length===0&&ey(e))},DO=to,Xw=bt,H8=ph,Ik="*[contentEditable=false],video,audio,embed,object",RO=(e,t,n)=>{const s=xb(t.getBoundingClientRect(),n);let a,d;if(e.tagName==="BODY"){const C=e.ownerDocument.documentElement;a=e.scrollLeft||C.scrollLeft,d=e.scrollTop||C.scrollTop}else{const C=e.getBoundingClientRect();a=e.scrollLeft-C.left,d=e.scrollTop-C.top}s.left+=a,s.right+=a,s.top+=d,s.bottom+=d,s.width=1;let g=t.offsetWidth-t.clientWidth;return g>0&&(n&&(g*=-1),s.left+=g,s.right+=g),s},NO=e=>{var t,n;const s=Gs(Oe.fromDom(e),Ik);for(let a=0;a<s.length;a++){const d=s[a].dom;let g=d.previousSibling;if(cd(g)){const C=g.data;C.length===1?(t=g.parentNode)===null||t===void 0||t.removeChild(g):g.deleteData(C.length-1,1)}g=d.nextSibling,bb(g)&&(g.data.length===1?(n=g.parentNode)===null||n===void 0||n.removeChild(g):g.deleteData(0,1))}},IO=(e,t,n,s)=>{const a=mi();let d,g;const C=La(e),A=e.dom,L=(ue,we)=>{let Pe;if(W(),H8(we))return null;if(n(we)){const Ze=Lw(C,we,ue),Ve=RO(t,we,ue);A.setStyle(Ze,"top",Ve.top),A.setStyle(Ze,"caret-color","transparent"),g=Ze;const st=A.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});A.setStyles(st,{...Ve}),A.add(t,st),a.set({caret:st,element:we,before:ue}),ue&&A.addClass(st,"mce-visual-caret-before"),q(),Pe=we.ownerDocument.createRange(),Pe.setStart(Ze,0),Pe.setEnd(Ze,0)}else return g=gv(we,ue),Pe=we.ownerDocument.createRange(),ty(g.nextSibling)?(Pe.setStart(g,0),Pe.setEnd(g,0)):(Pe.setStart(g,1),Pe.setEnd(g,1)),Pe;return Pe},W=()=>{NO(t),g&&(Bh(g),g=null),a.on(ue=>{A.remove(ue.caret),a.clear()}),d&&(clearInterval(d),d=void 0)},q=()=>{d=setInterval(()=>{a.on(ue=>{s()?A.toggleClass(ue.caret,"mce-visual-caret-hidden"):A.addClass(ue.caret,"mce-visual-caret-hidden")})},500)};return{show:L,hide:W,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{a.on(ue=>{const we=RO(t,ue.element,ue.before);A.setStyles(ue.caret,{...we})})},destroy:()=>clearInterval(d)}},Bk=()=>So.browser.isFirefox(),ty=e=>DO(e)||Xw(e),ny=e=>(ty(e)||Bc(e)&&Bk())&&Vd(Oe.fromDom(e)).exists(ss),Jw=oc,Qw=to,BO=bt,Mk=tc("display","block table table-cell table-caption list-item"),Pk=Cl,MO=Eh,V8=yn,eC=Lt,PO=zc,Nb=e=>e>0,Ib=e=>e<0,tC=(e,t)=>{let n;for(;n=e(t);)if(!MO(n))return n;return null},oy=(e,t,n,s,a)=>{const d=new $i(e,s),g=Qw(e)||MO(e);let C;if(Ib(t)){if(g&&(C=tC(d.prev.bind(d),!0),n(C)))return C;for(;C=tC(d.prev.bind(d),a);)if(n(C))return C}if(Nb(t)){if(g&&(C=tC(d.next.bind(d),!0),n(C)))return C;for(;C=tC(d.next.bind(d),a);)if(n(C))return C}return null},$8=(e,t)=>{const n=a=>Jw(a.dom),s=a=>a.dom===t;return Ra(Oe.fromDom(e),n,s).map(a=>a.dom).getOr(t)},Mh=(e,t)=>{for(;e&&e!==t;){if(Mk(e))return e;e=e.parentNode}return null},Sm=(e,t,n)=>Mh(e.container(),n)===Mh(t.container(),n),nC=(e,t)=>{if(!t)return X.none();const n=t.container(),s=t.offset();return V8(n)?X.from(n.childNodes[s+e]):X.none()},LO=(e,t)=>{var n;const a=((n=t.ownerDocument)!==null&&n!==void 0?n:document).createRange();return e?(a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)),a},FO=(e,t,n)=>Mh(t,e)===Mh(n,e),Lk=(e,t,n)=>{const s=e?"previousSibling":"nextSibling";let a=n;for(;a&&a!==t;){let d=a[s];if(d&&Pk(d)&&(d=d[s]),Qw(d)||BO(d)){if(FO(t,d,a))return d;break}if(PO(d))break;a=a.parentNode}return null},ry=xt(LO,!0),sy=xt(LO,!1),Fk=(e,t,n)=>{let s;const a=xt(Lk,!0,t),d=xt(Lk,!1,t),g=n.startContainer,C=n.startOffset;if(Eh(g)){const A=eC(g)?g.parentNode:g,L=A.getAttribute("data-mce-caret");if(L==="before"&&(s=A.nextSibling,ny(s)))return ry(s);if(L==="after"&&(s=A.previousSibling,ny(s)))return sy(s)}if(!n.collapsed)return n;if(Lt(g)){if(Pk(g)){if(e===1){if(s=d(g),s)return ry(s);if(s=a(g),s)return sy(s)}if(e===-1){if(s=a(g),s)return sy(s);if(s=d(g),s)return ry(s)}return n}if(cd(g)&&C>=g.data.length-1)return e===1&&(s=d(g),s)?ry(s):n;if(bb(g)&&C<=1)return e===-1&&(s=a(g),s)?sy(s):n;if(C===g.data.length)return s=d(g),s?ry(s):n;if(C===0)return s=a(g),s?sy(s):n}return n},zO=(e,t)=>nC(e?0:-1,t).filter(Qw),iy=(e,t,n)=>{const s=Fk(e,t,n);return e===-1?ft.fromRangeStart(s):ft.fromRangeEnd(s)},oC=e=>X.from(e.getNode()).map(Oe.fromDom),U8=e=>X.from(e.getNode(!0)).map(Oe.fromDom),zk=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},rC=(e,t)=>{const n=Sm(e,t);return!n&&Jr(e.getNode())?!0:n};var wa;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(wa||(wa={}));const Z8=to,km=Lt,HO=yn,kn=Jr,Bb=zc,Hk=Dh,sC=Cb,Vk=(e,t)=>{const n=[];let s=e;for(;s&&s!==t;)n.push(s),s=s.parentNode;return n},VO=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,ay=(e,t)=>{if(Nb(e)){if(Bb(t.previousSibling)&&!km(t.previousSibling))return ft.before(t);if(km(t))return ft(t,0)}if(Ib(e)){if(Bb(t.nextSibling)&&!km(t.nextSibling))return ft.after(t);if(km(t))return ft(t,t.data.length)}return Ib(e)?kn(t)?ft.before(t):ft.after(t):ft.before(t)},$O=(e,t)=>{const n=t.nextSibling;return n&&Bb(n)?km(n)?ft(n,0):ft.before(n):$k(wa.Forwards,ft.after(t),e)},$k=(e,t,n)=>{let s,a,d,g;if(!HO(n)||!t)return null;if(t.isEqual(ft.after(n))&&n.lastChild){if(g=ft.after(n.lastChild),Ib(e)&&Bb(n.lastChild)&&HO(n.lastChild))return kn(n.lastChild)?ft.before(n.lastChild):g}else g=t;const C=g.container();let A=g.offset();if(km(C)){if(Ib(e)&&A>0)return ft(C,--A);if(Nb(e)&&A<C.length)return ft(C,++A);s=C}else{if(Ib(e)&&A>0&&(a=VO(C,A-1),Bb(a)))return!Hk(a)&&(d=oy(a,e,sC,a),d)?km(d)?ft(d,d.data.length):ft.after(d):km(a)?ft(a,a.data.length):ft.before(a);if(Nb(e)&&A<C.childNodes.length&&(a=VO(C,A),Bb(a)))return kn(a)?$O(n,a):!Hk(a)&&(d=oy(a,e,sC,a),d)?km(d)?ft(d,0):ft.before(d):km(a)?ft(a,0):ft.after(a);s=a||g.getNode()}if(s&&(Nb(e)&&g.isAtEnd()||Ib(e)&&g.isAtStart())&&(s=oy(s,e,Mn,n,!0),sC(s,n)))return ay(e,s);a=s&&oy(s,e,sC,n);const L=ea(_t(Vk(C,n),Z8));return L&&(!a||!L.contains(a))?(Nb(e)?g=ft.after(L):g=ft.before(L),g):a?ay(e,a):null},Fn=e=>({next:t=>$k(wa.Forwards,t,e),prev:t=>$k(wa.Backwards,t,e)}),uo=(e,t,n)=>{const s=e?ft.before(n):ft.after(n);return Zc(e,t,s)},UO=e=>Jr(e)?ft.before(e):ft.after(e),ZO=e=>ft.isTextPosition(e)?e.offset()===0:zc(e.getNode()),WO=e=>{if(ft.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return zc(e.getNode(!0))},jO=(e,t)=>!ft.isTextPosition(e)&&!ft.isTextPosition(t)&&e.getNode()===t.getNode(!0),jn=e=>!ft.isTextPosition(e)&&Jr(e.getNode()),ly=(e,t,n)=>e?!jO(t,n)&&!jn(t)&&WO(t)&&ZO(n):!jO(n,t)&&ZO(t)&&WO(n),Zc=(e,t,n)=>{const s=Fn(t);return X.from(e?s.next(n):s.prev(n))},Mb=(e,t,n)=>Zc(e,t,n).bind(s=>Sm(n,s,t)&&ly(e,n,s)?Zc(e,t,s):X.some(s)),KO=(e,t,n,s)=>Mb(e,t,n).bind(a=>s(a)?KO(e,t,a,s):X.some(a)),Nv=(e,t)=>{const n=e?t.firstChild:t.lastChild;return Lt(n)?X.some(ft(n,e?0:n.data.length)):n?zc(n)?X.some(e?ft.before(n):UO(n)):uo(e,t,n):X.none()},_l=xt(Zc,!0),mc=xt(Zc,!1),$n=xt(Nv,!0),Cu=xt(Nv,!1),Iv="_mce_caret",Wc=e=>yn(e)&&e.id===Iv,Ph=(e,t)=>{let n=t;for(;n&&n!==e;){if(Wc(n))return n;n=n.parentNode}return null},qO=e=>Fe(e.start),GO=e=>Yn(e,"rng"),YO=e=>Yn(e,"id"),Uk=e=>Yn(e,"name"),XO=e=>Wt.isArray(e.start),iC=e=>!Uk(e)&&He(e.forward)?e.forward:!0,JO=(e,t)=>(yn(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),W8=(e,t)=>{const n=X.from(te(e.getRoot(),t.start)),s=X.from(te(e.getRoot(),t.end));return Li(n,s,(a,d)=>{const g=e.createRng();return g.setStart(a.container(),a.offset()),g.setEnd(d.container(),d.offset()),{range:g,forward:iC(t)}})},j8=(e,t)=>{var n;const a=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(oi);e.appendChild(a),t.setStart(a,0),t.setEnd(a,0)},Zk=e=>!e.hasChildNodes(),Wk=(e,t)=>Cu(e).fold(Sn,n=>(t.setStart(n.container(),n.offset()),t.setEnd(n.container(),n.offset()),!0)),QO=(e,t,n)=>Zk(t)&&Ph(e,t)?(j8(t,n),!0):!1,e5=(e,t,n,s)=>{const a=n[t?"start":"end"],d=e.getRoot();if(a){let g=d,C=a[0];for(let A=a.length-1;g&&A>=1;A--){const L=g.childNodes;if(QO(d,g,s))return!0;if(a[A]>L.length-1)return QO(d,g,s)?!0:Wk(g,s);g=L[a[A]]}Lt(g)&&(C=Math.min(a[0],g.data.length)),yn(g)&&(C=Math.min(a[0],g.childNodes.length)),t?s.setStart(g,C):s.setEnd(g,C)}return!0},jk=e=>Lt(e)&&e.data.length>0,t5=(e,t,n)=>{const s=e.get(n.id+"_"+t),a=s==null?void 0:s.parentNode,d=n.keep;if(s&&a){let g,C;if(t==="start"?d?s.hasChildNodes()?(g=s.firstChild,C=1):jk(s.nextSibling)?(g=s.nextSibling,C=0):jk(s.previousSibling)?(g=s.previousSibling,C=s.previousSibling.data.length):(g=a,C=e.nodeIndex(s)+1):(g=a,C=e.nodeIndex(s)):d?s.hasChildNodes()?(g=s.firstChild,C=1):jk(s.previousSibling)?(g=s.previousSibling,C=s.previousSibling.data.length):(g=a,C=e.nodeIndex(s)):(g=a,C=e.nodeIndex(s)),!d){const A=s.previousSibling,L=s.nextSibling;Wt.each(Wt.grep(s.childNodes),q=>{Lt(q)&&(q.data=q.data.replace(/\uFEFF/g,""))});let W;for(;W=e.get(n.id+"_"+t);)e.remove(W,!0);if(Lt(L)&&Lt(A)&&!So.browser.isOpera()){const q=A.data.length;A.appendData(L.data),e.remove(L),g=A,C=q}}return X.some(ft(g,C))}else return X.none()},n5=(e,t)=>{const n=e.createRng();return e5(e,!0,t,n)&&e5(e,!1,t,n)?X.some({range:n,forward:iC(t)}):X.none()},Pb=(e,t)=>{const n=t5(e,"start",t),s=t5(e,"end",t);return Li(n,s.or(n),(a,d)=>{const g=e.createRng();return g.setStart(JO(e,a.container()),a.offset()),g.setEnd(JO(e,d.container()),d.offset()),{range:g,forward:iC(t)}})},o5=(e,t)=>X.from(e.select(t.name)[t.index]).map(n=>{const s=e.createRng();return s.selectNode(n),{range:s,forward:!0}}),r5=(e,t)=>{const n=e.dom;if(t){if(XO(t))return n5(n,t);if(qO(t))return W8(n,t);if(YO(t))return Pb(n,t);if(Uk(t))return o5(n,t);if(GO(t))return X.some({range:t.rng,forward:iC(t)})}return X.none()},K8=(e,t,n)=>nt(e,t,n),q8=(e,t)=>{r5(e,t).each(({range:n,forward:s})=>{e.setRng(n,s)})},jc=e=>yn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",Fa=(e=>t=>e===t)(di),Lb=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Mg=e=>!Lb(e)&&!Fa(e)&&!pu(e),Qr=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},_u=e=>xn(e,t=>{const n=Oh(t);return n?[Oe.fromDom(n)]:[]}),cy=e=>Qr(e).length>1,aC=e=>_t(_u(e),cc),Bv=e=>Gs(e,"td[data-mce-selected],th[data-mce-selected]"),s5=(e,t)=>{const n=Bv(t);return n.length>0?n:aC(e)},pf=e=>s5(Qr(e.selection.getSel()),Oe.fromDom(e.getBody())),gr=(e,t)=>Dc(e,"table",t),uy=e=>{const t=e.startContainer,n=e.startOffset;return Lt(t)?n===0?X.some(Oe.fromDom(t)):X.none():X.from(t.childNodes[n]).map(Oe.fromDom)},i5=e=>{const t=e.endContainer,n=e.endOffset;return Lt(t)?n===t.data.length?X.some(Oe.fromDom(t)):X.none():X.from(t.childNodes[n-1]).map(Oe.fromDom)},Kk=e=>ml(e).fold(rt([e]),t=>[e].concat(Kk(t))),dy=e=>fu(e).fold(rt([e]),t=>Mo(t)==="br"?ti(t).map(n=>[e].concat(dy(n))).getOr([]):[e].concat(dy(t))),fy=(e,t)=>Li(uy(t),i5(t),(n,s)=>{const a=Bt(Kk(e),xt(Po,n)),d=Bt(dy(e),xt(Po,s));return a.isSome()&&d.isSome()}).getOr(!1),my=(e,t,n,s)=>{const a=n,d=new $i(n,a),g=ql(e.schema.getMoveCaretBeforeOnEnterElements(),(A,L)=>!ve(["td","th","table"],L.toLowerCase()));let C=n;do{if(Lt(C)&&Wt.trim(C.data).length!==0){s?t.setStart(C,0):t.setEnd(C,C.data.length);return}if(g[C.nodeName]){s?t.setStartBefore(C):C.nodeName==="BR"?t.setEndBefore(C):t.setEndAfter(C);return}}while(C=s?d.next():d.prev());a.nodeName==="BODY"&&(s?t.setStart(a,0):t.setEnd(a,a.childNodes.length))},Mv=e=>{const t=e.selection.getSel();return Se(t)&&t.rangeCount>0},Pv=(e,t)=>{const n=pf(e);n.length>0?_e(n,s=>{const a=s.dom,d=e.dom.createRng();d.setStartBefore(a),d.setEndAfter(a),t(d,!0)}):t(e.selection.getRng(),!1)},lC=(e,t,n)=>{const s=Kt(e,t);n(s),e.moveToBookmark(s)},Lv=e=>D(e==null?void 0:e.nodeType),cC=e=>yn(e)&&!jc(e)&&!Wc(e)&&!Kd(e),a5=(e,t)=>{if(cC(t)&&!/^(TD|TH)$/.test(t.nodeName)){const n=e.getAttrib(t,"data-mce-selected"),s=parseInt(n,10);return!isNaN(s)&&s>0}else return!1},qk=(e,t,n)=>{const{selection:s,dom:a}=e,d=s.getNode(),g=to(d);lC(s,!0,()=>{t()}),g&&to(d)&&a.isChildOf(d,e.getBody())?e.selection.select(d):n(s.getStart())&&l5(a,s)},l5=(e,t)=>{var n,s;const a=t.getRng(),{startContainer:d,startOffset:g}=a,C=t.getNode();if(!a5(e,C)&&yn(d)){const A=d.childNodes,L=e.getRoot();let W;if(g<A.length){const q=A[g];W=new $i(q,(n=e.getParent(q,e.isBlock))!==null&&n!==void 0?n:L)}else{const q=A[A.length-1];W=new $i(q,(s=e.getParent(q,e.isBlock))!==null&&s!==void 0?s:L),W.next(!0)}for(let q=W.current();q;q=W.next()){if(e.getContentEditable(q)==="false")return;if(Lt(q)&&!Gk(q)){a.setStart(q,0),t.setRng(a);return}}}},Fb=(e,t,n)=>{if(e){const s=t?"nextSibling":"previousSibling";for(e=e[s];e;e=e[s])if(yn(e)||!Gk(e))return e}},uC=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Xd(e,t),Lh=(e,t,n)=>e.schema.isValidChild(t,n),Gk=(e,t=!1)=>{if(Se(e)&&Lt(e)){const n=t?e.data.replace(/ /g,""):e.data;return Rl(n)}else return!1},Y8=e=>Se(e)&&Lt(e)&&e.length===0,c5=(e,t)=>{const n="[data-mce-cef-wrappable]",s=qn(e),a=Ft(s)?n:`${n},${s}`;return fr(Oe.fromDom(t),a)},Yk=(e,t)=>{const n=e.dom;return cC(t)&&n.getContentEditable(t)==="false"&&c5(e,t)&&n.select('[contenteditable="true"]',t).length===0},Pg=(e,t)=>Ne(e)?e(t):(Se(t)&&(e=e.replace(/%(\w+)/g,(n,s)=>t[s]||n)),e),Fv=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),dC=(e,t)=>{if(gt(e))return null;{let n=String(e);return(t==="color"||t==="backgroundColor")&&(n=tb(n)),t==="fontWeight"&&e===700&&(n="bold"),t==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},gy=(e,t,n)=>{const s=e.getStyle(t,n);return dC(s,n)},Xk=(e,t)=>{let n;return e.getParent(t,s=>yn(s)?(n=e.getStyle(s,"text-decoration"),!!n&&n!=="none"):!1),n},hy=(e,t,n)=>e.getParents(t,n,e.getRoot()),fC=(e,t,n)=>{const s=e.formatter.get(t);return Se(s)&&De(s,n)},u5=(e,t)=>fC(e,t,s=>{const a=d=>Ne(d)||d.length>1&&d.charAt(0)==="%";return De(["styles","attributes"],d=>ar(s,d).exists(g=>{const C=oe(g)?g:nu(g);return De(C,a)}))}),d5=(e,t,n)=>{const s=["inline","block","selector","attributes","styles","classes"],a=d=>ql(d,(g,C)=>De(s,A=>A===C));return fC(e,t,d=>{const g=a(d);return fC(e,n,C=>{const A=a(C);return ci(g,A)})})},bf=e=>xl(e,"block"),f5=e=>bf(e)&&e.wrapper===!0,m5=e=>bf(e)&&e.wrapper!==!0,gc=e=>xl(e,"selector"),qi=e=>xl(e,"inline"),g5=e=>gc(e)&&qi(e)&&Bd(ar(e,"mixed"),!0),mC=e=>gc(e)&&e.expand!==!1&&!qi(e),h5=e=>{const t=[];let n=e;for(;n;){if(Lt(n)&&n.data!==oi||n.childNodes.length>1)return[];yn(n)&&t.push(n),n=n.firstChild}return t},Jk=e=>h5(e).length>0,gC=e=>Wc(e.dom)&&Jk(e.dom),Fh=jc,py=hy,hC=Gk,pC=uC,p5=e=>Jr(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,by=(e,t)=>{let n=t;for(;n;){if(yn(n)&&e.getContentEditable(n))return e.getContentEditable(n)==="false"?n:t;n=n.parentNode}return t},bC=(e,t,n,s)=>{const a=t.data;if(e){for(let d=n;d>0;d--)if(s(a.charAt(d-1)))return d}else for(let d=n;d<a.length;d++)if(s(a.charAt(d)))return d;return-1},vy=(e,t,n)=>bC(e,t,n,s=>Fa(s)||Lb(s)),Qk=(e,t,n)=>bC(e,t,n,Mg),eA=(e,t,n,s,a,d)=>{let g;const C=e.getParent(n,e.isBlock)||t,A=(W,q,Y)=>{const ce=sd(e),he=a?ce.backwards:ce.forwards;return X.from(he(W,q,(ue,we)=>Fh(ue.parentNode)?-1:(g=ue,Y(a,ue,we)),C))};return A(n,s,vy).bind(W=>d?A(W.container,W.offset+(a?-1:0),Qk):X.some(W)).orThunk(()=>g?X.some({container:g,offset:a?0:g.length}):X.none())},zb=(e,t,n,s,a)=>{const d=s[a];Lt(s)&&Ft(s.data)&&d&&(s=d);const g=py(e,s);for(let C=0;C<g.length;C++)for(let A=0;A<t.length;A++){const L=t[A];if(!(Se(L.collapsed)&&L.collapsed!==n.collapsed)&&gc(L)&&e.is(g[C],L.selector))return g[C]}return s},vC=(e,t,n,s)=>{var a;let d=n;const g=e.getRoot(),C=t[0];if(bf(C)&&(d=C.wrapper?null:e.getParent(n,C.block,g)),!d){const A=(a=e.getParent(n,"LI,TD,TH,SUMMARY"))!==null&&a!==void 0?a:g;d=e.getParent(Lt(n)?n.parentNode:n,L=>L!==g&&pC(e.schema,L),A)}if(d&&bf(C)&&C.wrapper&&(d=py(e,d,"ul,ol").reverse()[0]||d),!d)for(d=n;d&&d[s]&&!e.isBlock(d[s])&&(d=d[s],!Fv(d,"br")););return d||n},xC=(e,t,n,s)=>{const a=n.parentNode;return Se(n[s])?!1:a===t||gt(a)||e.isBlock(a)?!0:xC(e,t,a,s)},Lg=(e,t,n,s,a)=>{let d=n;const g=a?"previousSibling":"nextSibling",C=e.getRoot();if(Lt(n)&&!hC(n)&&(a?s>0:s<n.data.length))return n;for(;d;){if(!t[0].block_expand&&e.isBlock(d))return d;for(let A=d[g];A;A=A[g]){const L=Lt(A)&&!xC(e,C,A,g);if(!Fh(A)&&!p5(A)&&!hC(A,L))return d}if(d===C||d.parentNode===C){n=d;break}d=d.parentNode}return n},Fg=e=>Fh(e.parentNode)||Fh(e),zh=(e,t,n,s=!1)=>{let{startContainer:a,startOffset:d,endContainer:g,endOffset:C}=t;const A=n[0];return yn(a)&&a.hasChildNodes()&&(a=ri(a,d),Lt(a)&&(d=0)),yn(g)&&g.hasChildNodes()&&(g=ri(g,t.collapsed?C:C-1),Lt(g)&&(C=g.data.length)),a=by(e,a),g=by(e,g),Fg(a)&&(a=Fh(a)?a:a.parentNode,t.collapsed?a=a.previousSibling||a:a=a.nextSibling||a,Lt(a)&&(d=t.collapsed?a.length:0)),Fg(g)&&(g=Fh(g)?g:g.parentNode,t.collapsed?g=g.nextSibling||g:g=g.previousSibling||g,Lt(g)&&(C=t.collapsed?0:g.length)),t.collapsed&&(eA(e,e.getRoot(),a,d,!0,s).each(({container:q,offset:Y})=>{a=q,d=Y}),eA(e,e.getRoot(),g,C,!1,s).each(({container:q,offset:Y})=>{g=q,C=Y})),(qi(A)||A.block_expand)&&((!qi(A)||!Lt(a)||d===0)&&(a=Lg(e,n,a,d,!0)),(!qi(A)||!Lt(g)||C===g.data.length)&&(g=Lg(e,n,g,C,!1))),mC(A)&&(a=zb(e,n,t,a,"previousSibling"),g=zb(e,n,t,g,"nextSibling")),(bf(A)||gc(A))&&(a=vC(e,n,a,"previousSibling"),g=vC(e,n,g,"nextSibling"),bf(A)&&(e.isBlock(a)||(a=Lg(e,n,a,d,!0),Lt(a)&&(d=0)),e.isBlock(g)||(g=Lg(e,n,g,C,!1),Lt(g)&&(C=g.data.length)))),yn(a)&&a.parentNode&&(d=e.nodeIndex(a),a=a.parentNode),yn(g)&&g.parentNode&&(C=e.nodeIndex(g)+1,g=g.parentNode),{startContainer:a,startOffset:d,endContainer:g,endOffset:C}},xy=(e,t,n)=>{var s;const a=t.startOffset,d=ri(t.startContainer,a),g=t.endOffset,C=ri(t.endContainer,g-1),A=we=>{const Pe=we[0];Lt(Pe)&&Pe===d&&a>=Pe.data.length&&we.splice(0,1);const Ze=we[we.length-1];return g===0&&we.length>0&&Ze===C&&Lt(Ze)&&we.splice(we.length-1,1),we},L=(we,Pe,Ze)=>{const Ve=[];for(;we&&we!==Ze;we=we[Pe])Ve.push(we);return Ve},W=(we,Pe)=>e.getParent(we,Ze=>Ze.parentNode===Pe,Pe),q=(we,Pe,Ze)=>{const Ve=Ze?"nextSibling":"previousSibling";for(let st=we,Rt=st.parentNode;st&&st!==Pe;st=Rt){Rt=st.parentNode;const Zt=L(st===we?st:st[Ve],Ve);Zt.length&&(Ze||Zt.reverse(),n(A(Zt)))}};if(d===C)return n(A([d]));const Y=(s=e.findCommonAncestor(d,C))!==null&&s!==void 0?s:e.getRoot();if(e.isChildOf(d,C))return q(d,Y,!0);if(e.isChildOf(C,d))return q(C,Y);const ce=W(d,Y)||d,he=W(C,Y)||C;q(d,ce,!0);const ue=L(ce===d?ce:ce.nextSibling,"nextSibling",he===C?he.nextSibling:he);ue.length&&n(A(ue)),q(C,he)},X8=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],b5=e=>Wr(e)&&hm(e)===oi,v5=(e,t,n,s)=>Hi(t).fold(()=>"skipping",a=>s==="br"||b5(t)?"valid":Ox(t)?"existing":Wc(t.dom)?"caret":De(X8,d=>fr(t,d))?"valid-block":!Lh(e,n,s)||!Lh(e,Mo(a),n)?"invalid-child":"valid"),Hh=(e,t)=>{const n=zh(e.dom,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},Vh=(e,t,n,s,a,d)=>{const{uid:g=t,...C}=n;Gu(e,gs()),ei(e,`${Fs()}`,g),ei(e,`${hs()}`,s);const{attributes:A={},classes:L=[]}=a(g,C);if(ma(e,A),ab(e,L),d){L.length>0&&ei(e,`${ls()}`,L.join(","));const W=Ht(A);W.length>0&&ei(e,`${Ds()}`,W.join(","))}},Ca=e=>{ga(e,gs()),bo(e,`${Fs()}`),bo(e,`${hs()}`),bo(e,`${mr()}`);const t=kc(e,`${Ds()}`).map(s=>s.split(",")).getOr([]),n=kc(e,`${ls()}`).map(s=>s.split(",")).getOr([]);_e(t,s=>bo(e,s)),Eg(e,n),bo(e,`${ls()}`),bo(e,`${Ds()}`)},Am=(e,t,n,s,a)=>{const d=Oe.fromTag("span",e);return Vh(d,t,n,s,a,!1),d},tr=(e,t,n,s,a,d)=>{const g=[],C=Am(e.getDoc(),n,d,s,a),A=mi(),L=()=>{A.clear()},W=()=>A.get().getOrThunk(()=>{const he=Rs(C);return g.push(he),A.set(he),he}),q=he=>{_e(he,Y)},Y=he=>{switch(v5(e,he,"span",Mo(he))){case"invalid-child":{L();const we=Vi(he);q(we),L();break}case"valid-block":{L(),Vh(he,n,d,s,a,!0);break}case"valid":{const we=W();yl(he,we);break}}},ce=he=>{const ue=tt(he,Oe.fromDom);q(ue)};return xy(e.dom,t,he=>{L(),ce(he)}),g},J8=(e,t,n,s)=>{e.undoManager.transact(()=>{const a=e.selection,d=a.getRng(),g=pf(e).length>0,C=xa("mce-annotation");if(d.collapsed&&!g&&Hh(e,d),a.getRng().collapsed&&!g){const A=Am(e.getDoc(),C,s,t,n.decorate);em(A,di),a.getRng().insertNode(A.dom),a.select(A.dom)}else lC(a,!1,()=>{Pv(e,A=>{tr(e,A,C,t,n.decorate,s)})})})},x5=e=>{const t=Rx();uv(e,t);const n=cv(e,t),s=zd("span"),a=d=>{_e(d,g=>{s(g)?va(g):Ca(g)})};return{register:(d,g)=>{t.register(d,g)},annotate:(d,g)=>{t.lookup(d).each(C=>{J8(e,d,C,g)})},annotationChanged:(d,g)=>{n.addListener(d,g)},remove:d=>{lv(e,X.some(d)).each(({elements:g})=>{const C=e.selection.getBookmark();a(g),e.selection.moveToBookmark(C)})},removeAll:d=>{const g=e.selection.getBookmark();$o(Ag(e,d),(C,A)=>{a(C)}),e.selection.moveToBookmark(g)},getAll:d=>{const g=Ag(e,d);return vl(g,C=>tt(C,A=>A.dom))}}},Sr=e=>({getBookmark:xt(K8,e),moveToBookmark:xt(q8,e)});Sr.isBookmarkNode=jc;const tA=(e,t,n)=>n.collapsed?!1:De(n.getClientRects(),s=>pv(s,e,t)),yy=(e,t)=>e.dispatch("PreProcess",t),wy=(e,t)=>e.dispatch("PostProcess",t),Cy=e=>{e.dispatch("remove")},_y=e=>{e.dispatch("detach")},y5=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},Q8=(e,t,n,s,a)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:s,origin:a})},eP=(e,t,n,s,a)=>{e.dispatch("ObjectResized",{target:t,width:n,height:s,origin:a})},tP=e=>{e.dispatch("PreInit")},nP=e=>{e.dispatch("PostRender")},Hs=e=>{e.dispatch("Init")},w5=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},nA=(e,t,n)=>{e.dispatch(t,n)},C5=(e,t,n,s)=>{e.dispatch("FormatApply",{format:t,node:n,vars:s})},_5=(e,t,n,s)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:s})},oP=(e,t)=>e.dispatch("BeforeSetContent",t),Pl=(e,t)=>e.dispatch("SetContent",t),vf=(e,t)=>e.dispatch("BeforeGetContent",t),S5=(e,t)=>e.dispatch("GetContent",t),oA=(e,t)=>{e.dispatch("AutocompleterStart",t)},rA=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},sA=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},rP=e=>{e.dispatch("AutocompleterEnd")},Sy=(e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}),yC=(e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}),wC=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),sP=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),ln={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||ln.metaKeyPressed(e),metaKeyPressed:e=>So.os.isMacOS()||So.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Hb="data-mce-selected",iP="table,img,figure.image,hr,video,span.mce-preview-object,details",Kc=Math.abs,$h=Math.round,CC={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},fd=e=>e.type==="longpress"||e.type.indexOf("touch")===0,br=(e,t)=>{const n=t.dom,s=t.getDoc(),a=document,d=t.getBody();let g,C,A,L,W,q,Y,ce,he,ue,we,Pe,Ze,Ve,st,Rt,Zt;const dn=un=>Se(un)&&(nc(un)||n.is(un,"figure.image")),vt=un=>bt(un)||n.hasClass(un,"mce-preview-object"),ut=(un,Co)=>{if(fd(un)){const Do=un.touches[0];return dn(un.target)&&!tA(Do.clientX,Do.clientY,Co)}else return dn(un.target)&&!tA(un.clientX,un.clientY,Co)},Ot=un=>{const Co=un.target;ut(un,t.selection.getRng())&&!un.isDefaultPrevented()&&t.selection.select(Co)},pn=un=>n.hasClass(un,"mce-preview-object")&&Se(un.firstElementChild)?[un,un.firstElementChild]:n.is(un,"figure.image")?[un.querySelector("img")]:[un],On=un=>{const Co=aO(t);return!Co||un.getAttribute("data-mce-resize")==="false"||un===t.getBody()?!1:n.hasClass(un,"mce-preview-object")&&Se(un.firstElementChild)?fr(Oe.fromDom(un.firstElementChild),Co):fr(Oe.fromDom(un),Co)},wo=(un,Co)=>{if(vt(Co))return un.create("img",{src:So.transparentSrc});if(Bc(Co)){const ca=Zr(L.name,"n")?jt:ao,vr=Co.cloneNode(!0);return ca(un.select("tr",vr)).each(Xi=>{const kf=un.select("td,th",Xi);un.setStyle(Xi,"height",null),_e(kf,oh=>un.setStyle(oh,"height",null))}),vr}else return Co.cloneNode(!0)},Oo=(un,Co,Do)=>{if(Se(Do)){const ca=pn(un);_e(ca,vr=>{vr.style[Co]||!t.schema.isValid(vr.nodeName.toLowerCase(),Co)?n.setStyle(vr,Co,Do):n.setAttrib(vr,Co,""+Do)})}},cr=(un,Co,Do)=>{Oo(un,"width",Co),Oo(un,"height",Do)},wr=un=>{let Co,Do,ca,vr,Xi;Co=un.screenX-q,Do=un.screenY-Y,Ve=Co*L[2]+ue,st=Do*L[3]+we,Ve=Ve<5?5:Ve,st=st<5?5:st,(dn(g)||vt(g))&&lO(t)!==!1?ca=!ln.modifierPressed(un):ca=ln.modifierPressed(un),ca&&(Kc(Co)>Kc(Do)?(st=$h(Ve*Pe),Ve=$h(st/Pe)):(Ve=$h(st/Pe),st=$h(Ve*Pe))),cr(C,Ve,st),vr=L.startPos.x+Co,Xi=L.startPos.y+Do,vr=vr>0?vr:0,Xi=Xi>0?Xi:0,n.setStyles(A,{left:vr,top:Xi,display:"block"}),A.innerHTML=Ve+" &times; "+st,L[2]<0&&C.clientWidth<=Ve&&n.setStyle(C,"left",ce+(ue-Ve)),L[3]<0&&C.clientHeight<=st&&n.setStyle(C,"top",he+(we-st)),Co=d.scrollWidth-Rt,Do=d.scrollHeight-Zt,Co+Do!==0&&n.setStyles(A,{left:vr-Co,top:Xi-Do}),Ze||(Q8(t,g,ue,we,"corner-"+L.name),Ze=!0)},js=()=>{const un=Ze;Ze=!1,un&&(Oo(g,"width",Ve),Oo(g,"height",st)),n.unbind(s,"mousemove",wr),n.unbind(s,"mouseup",js),a!==s&&(n.unbind(a,"mousemove",wr),n.unbind(a,"mouseup",js)),n.remove(C),n.remove(A),n.remove(W),il(g),un&&(eP(t,g,Ve,st,"corner-"+L.name),n.setAttrib(g,"style",n.getAttrib(g,"style"))),t.nodeChanged()},il=un=>{rn();const Co=n.getPos(un,d),Do=Co.x,ca=Co.y,vr=un.getBoundingClientRect(),Xi=vr.width||vr.right-vr.left,kf=vr.height||vr.bottom-vr.top;g!==un&&(Qt(),g=un,Ve=st=0);const oh=t.dispatch("ObjectSelected",{target:un});On(un)&&!oh.isDefaultPrevented()?$o(CC,($l,Pu)=>{const Af=Ef=>{const Nn=pn(g)[0];q=Ef.screenX,Y=Ef.screenY,ue=Nn.clientWidth,we=Nn.clientHeight,Pe=we/ue,L=$l,L.name=Pu,L.startPos={x:Xi*$l[0]+Do,y:kf*$l[1]+ca},Rt=d.scrollWidth,Zt=d.scrollHeight,W=n.add(d,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(W,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),C=wo(n,g),n.addClass(C,"mce-clonedresizable"),n.setAttrib(C,"data-mce-bogus","all"),C.contentEditable="false",n.setStyles(C,{left:Do,top:ca,margin:0}),cr(C,Xi,kf),C.removeAttribute(Hb),d.appendChild(C),n.bind(s,"mousemove",wr),n.bind(s,"mouseup",js),a!==s&&(n.bind(a,"mousemove",wr),n.bind(a,"mouseup",js)),A=n.add(d,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ue+" &times; "+we)};let Lu=n.get("mceResizeHandle"+Pu);Lu&&n.remove(Lu),Lu=n.add(d,"div",{id:"mceResizeHandle"+Pu,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Pu+"-resize; margin:0; padding:0"}),n.bind(Lu,"mousedown",Ef=>{Ef.stopImmediatePropagation(),Ef.preventDefault(),Af(Ef)}),$l.elm=Lu,n.setStyles(Lu,{left:Xi*$l[0]+Do-Lu.offsetWidth/2,top:kf*$l[1]+ca-Lu.offsetHeight/2})}):Qt(!1)},Dr=kg(il,0),Qt=(un=!0)=>{Dr.cancel(),rn(),g&&un&&g.removeAttribute(Hb),$o(CC,(Co,Do)=>{const ca=n.get("mceResizeHandle"+Do);ca&&(n.unbind(ca),n.remove(ca))})},An=(un,Co)=>n.isChildOf(un,Co),Jo=un=>{if(Ze||t.removed||t.composing)return;const Co=un.type==="mousedown"?un.target:e.getNode(),Do=_i(Oe.fromDom(Co),iP).map(vr=>vr.dom).filter(vr=>n.isEditable(vr.parentElement)||vr.nodeName==="IMG"&&n.isEditable(vr)).getOrUndefined(),ca=Se(Do)?n.getAttrib(Do,Hb,"1"):"1";if(_e(n.select(`img[${Hb}],hr[${Hb}]`),vr=>{vr.removeAttribute(Hb)}),Se(Do)&&An(Do,d)&&t.hasFocus()){zn();const vr=e.getStart(!0);if(An(vr,Do)&&An(e.getEnd(!0),Do)){n.setAttrib(Do,Hb,ca),Dr.throttle(Do);return}}Qt()},rn=()=>{$o(CC,un=>{un.elm&&(n.unbind(un.elm),delete un.elm)})},zn=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{zn(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Jo),t.on("keyup compositionend",un=>{g&&g.nodeName==="TABLE"&&Jo(un)}),t.on("hide blur",Qt),t.on("contextmenu longpress",Ot,!0)}),t.on("remove",rn),{isResizable:On,showResizeRect:il,hideResizeRect:Qt,updateResizeRect:Jo,destroy:()=>{Dr.cancel(),g=C=W=null}}},zv=(e,t)=>{t.fold(n=>{e.setStartBefore(n.dom)},(n,s)=>{e.setStart(n.dom,s)},n=>{e.setStartAfter(n.dom)})},_C=(e,t)=>{t.fold(n=>{e.setEndBefore(n.dom)},(n,s)=>{e.setEnd(n.dom,s)},n=>{e.setEndAfter(n.dom)})},iA=(e,t,n)=>{const s=e.document.createRange();return zv(s,t),_C(s,n),s},ky=(e,t,n,s,a)=>{const d=e.document.createRange();return d.setStart(t.dom,n),d.setEnd(s.dom,a),d},Vb=Bo.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),k5=(e,t,n)=>t(Oe.fromDom(n.startContainer),n.startOffset,Oe.fromDom(n.endContainer),n.endOffset),aA=(e,t)=>t.match({domRange:n=>({ltr:rt(n),rtl:X.none}),relative:(n,s)=>({ltr:ll(()=>iA(e,n,s)),rtl:ll(()=>X.some(iA(e,s,n)))}),exact:(n,s,a,d)=>({ltr:ll(()=>ky(e,n,s,a,d)),rtl:ll(()=>X.some(ky(e,a,d,n,s)))})}),aP=(e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter(a=>a.collapsed===!1).map(a=>Vb.rtl(Oe.fromDom(a.endContainer),a.endOffset,Oe.fromDom(a.startContainer),a.startOffset)).getOrThunk(()=>k5(e,Vb.ltr,n)):k5(e,Vb.ltr,n)},A5=(e,t)=>{const n=aA(e,t);return aP(e,n)};Vb.ltr,Vb.rtl;const SC={create:(e,t,n,s)=>({start:e,soffset:t,finish:n,foffset:s})},E5=(e,t,n)=>{var s;return X.from((s=e.caretPositionFromPoint)===null||s===void 0?void 0:s.call(e,t,n)).bind(a=>{if(a.offsetNode===null)return X.none();const d=e.createRange();return d.setStart(a.offsetNode,a.offset),d.collapse(),X.some(d)})},kC=(e,t,n)=>{var s;return X.from((s=e.caretRangeFromPoint)===null||s===void 0?void 0:s.call(e,t,n))},cP=(e,t,n)=>e.caretPositionFromPoint?E5(e,t,n):e.caretRangeFromPoint?kC(e,t,n):X.none(),uP=(e,t,n)=>{const s=e.document;return cP(s,t,n).map(a=>SC.create(Oe.fromDom(a.startContainer),a.startOffset,Oe.fromDom(a.endContainer),a.endOffset))},lA=Bo.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),dP=(e,t,n,s)=>e.fold(t,n,s),fP=e=>e.fold(Un,Un,Un),T5=lA.before,mP=lA.on,gP=lA.after,Em={before:T5,on:mP,after:gP,cata:dP,getStart:fP},Ay=Bo.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),hP=e=>Ay.exact(e.start,e.soffset,e.finish,e.foffset),pP=e=>e.match({domRange:t=>Oe.fromDom(t.startContainer),relative:(t,n)=>Em.getStart(t),exact:(t,n,s,a)=>t}),O5=Ay.domRange,Su=Ay.relative,bP=Ay.exact,D5=e=>{const t=pP(e);return cu(t)},cA=SC.create,Uh={domRange:O5,relative:Su,exact:bP,exactFromRange:hP,getWin:D5,range:cA},Ey=(e,t)=>{const n=Mo(e);return n==="input"?Em.after(e):ve(["br","img"],n)?t===0?Em.before(e):Em.after(e):Em.on(e,t)},R5=(e,t)=>{const n=e.fold(Em.before,Ey,Em.after),s=t.fold(Em.before,Ey,Em.after);return Uh.relative(n,s)},AC=(e,t,n,s)=>{const a=Ey(e,t),d=Ey(n,s);return Uh.relative(a,d)},N5=e=>e.match({domRange:t=>{const n=Oe.fromDom(t.startContainer),s=Oe.fromDom(t.endContainer);return AC(n,t.startOffset,s,t.endOffset)},relative:R5,exact:AC}),hc=(e,t)=>{const s=document.createDocumentFragment();return _e(e,a=>{s.appendChild(a.dom)}),Oe.fromDom(s)},vP=e=>{const t=Uh.getWin(e).dom,n=(a,d,g,C)=>ky(t,a,d,g,C),s=N5(e);return A5(t,s).match({ltr:n,rtl:n})},uA=(e,t,n)=>uP(e,t,n),I5=(e,t,n)=>{const s=cu(Oe.fromDom(n));return uA(s.dom,e,t).map(a=>{const d=n.createRange();return d.setStart(a.start.dom,a.soffset),d.setEnd(a.finish.dom,a.foffset),d}).getOrUndefined()},Ty=(e,t)=>Se(e)&&Se(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,xf=(e,t,n)=>{let s=e;for(;s&&s!==t;){if(n(s))return s;s=s.parentNode}return null},EC=(e,t,n)=>xf(e,t,n)!==null,TC=(e,t,n)=>EC(e,t,s=>s.nodeName===n),B5=(e,t)=>Cl(e)&&!EC(e,t,Wc),M5=(e,t,n)=>{const s=t.parentNode;if(s){const a=new $i(t,e.getParent(s,e.isBlock)||e.getRoot());let d;for(;d=a[n?"prev":"next"]();)if(Jr(d))return!0}return!1},P5=(e,t)=>{var n;return((n=e.previousSibling)===null||n===void 0?void 0:n.nodeName)===t},L5=(e,t)=>{let n=t;for(;n&&n!==e;){if(to(n))return!0;n=n.parentNode}return!1},Oy=(e,t,n,s,a)=>{const d=e.getRoot(),g=e.schema.getNonEmptyElements(),C=a.parentNode;let A,L;if(!C)return X.none();const W=e.getParent(C,e.isBlock)||d;if(s&&Jr(a)&&t&&e.isEmpty(W))return X.some(ft(C,e.nodeIndex(a)));const q=new $i(a,W);for(;L=q[s?"prev":"next"]();){if(e.getContentEditableParent(L)==="false"||B5(L,d))return X.none();if(Lt(L)&&L.data.length>0)return TC(L,d,"A")?X.none():X.some(ft(L,s?L.data.length:0));if(e.isBlock(L)||g[L.nodeName.toLowerCase()])return X.none();A=L}return ho(A)?X.none():n&&A?X.some(ft(A,0)):X.none()},dA=(e,t,n,s)=>{const a=e.getRoot();let d,g=!1,C=n?s.startContainer:s.endContainer,A=n?s.startOffset:s.endOffset;const L=yn(C)&&A===C.childNodes.length,W=e.schema.getNonEmptyElements();let q=n;if(Cl(C))return X.none();if(yn(C)&&A>C.childNodes.length-1&&(q=!1),Cn(C)&&(C=a,A=0),C===a){if(q&&(d=C.childNodes[A>0?A-1:0],d&&(Cl(d)||W[d.nodeName]||Bc(d))))return X.none();if(C.hasChildNodes()){if(A=Math.min(!q&&A>0?A-1:A,C.childNodes.length-1),C=C.childNodes[A],A=Lt(C)&&L?C.data.length:0,!t&&C===a.lastChild&&Bc(C)||L5(a,C)||Cl(C)||bh(C))return X.none();if(C.hasChildNodes()&&!Bc(C)){d=C;const Y=new $i(C,a);do{if(to(d)||Cl(d)){g=!1;break}if(Lt(d)&&d.data.length>0){A=q?0:d.data.length,C=d,g=!0;break}if(W[d.nodeName.toLowerCase()]&&!Cw(d)){A=e.nodeIndex(d),C=d.parentNode,q||A++,g=!0;break}}while(d=q?Y.next():Y.prev())}}}return t&&(Lt(C)&&A===0&&Oy(e,L,t,!0,C).each(Y=>{C=Y.container(),A=Y.offset(),g=!0}),yn(C)&&(d=C.childNodes[A],d||(d=C.childNodes[A-1]),d&&Jr(d)&&!P5(d,"A")&&!M5(e,d,!1)&&!M5(e,d,!0)&&Oy(e,L,t,!0,d).each(Y=>{C=Y.container(),A=Y.offset(),g=!0}))),q&&!t&&Lt(C)&&A===C.data.length&&Oy(e,L,t,!1,C).each(Y=>{C=Y.container(),A=Y.offset(),g=!0}),g&&C?X.some(ft(C,A)):X.none()},Tm=(e,t)=>{const n=t.collapsed,s=t.cloneRange(),a=ft.fromRangeStart(t);return dA(e,n,!0,s).each(d=>{(!n||!ft.isAbove(a,d))&&s.setStart(d.container(),d.offset())}),n||dA(e,n,!1,s).each(d=>{s.setEnd(d.container(),d.offset())}),n&&s.collapse(!0),Ty(t,s)?X.none():X.some(s)},Dy=(e,t)=>e.splitText(t),Ry=e=>{let t=e.startContainer,n=e.startOffset,s=e.endContainer,a=e.endOffset;if(t===s&&Lt(t)){if(n>0&&n<t.data.length)if(s=Dy(t,n),t=s.previousSibling,a>n){a=a-n;const d=Dy(s,a).previousSibling;t=s=d,a=d.data.length,n=0}else a=0}else if(Lt(t)&&n>0&&n<t.data.length&&(t=Dy(t,n),n=0),Lt(s)&&a>0&&a<s.data.length){const d=Dy(s,a).previousSibling;s=d,a=d.data.length}return{startContainer:t,startOffset:n,endContainer:s,endOffset:a}},Zh=e=>({walk:(d,g)=>xy(e,d,g),split:Ry,expand:(d,g={type:"word"})=>{if(g.type==="word"){const C=zh(e,d,[{inline:"span"}]),A=e.createRng();return A.setStart(C.startContainer,C.startOffset),A.setEnd(C.endContainer,C.endOffset),A}return d},normalize:d=>Tm(e,d).fold(Sn,g=>(d.setStart(g.startContainer,g.startOffset),d.setEnd(g.endContainer,g.endOffset),!0))});Zh.compareRanges=Ty,Zh.getCaretRangeFromPoint=I5,Zh.getSelectedNode=Oh,Zh.getNode=ri;const fA=((e,t)=>{const n=(C,A)=>{if(!D(A)&&!A.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+A);const L=C.dom;pa(L)&&(L.style[e]=A+"px")},s=C=>{const A=t(C);if(A<=0||A===null){const L=ks(C,e);return parseFloat(L)||0}return A},a=s,d=(C,A)=>je(A,(L,W)=>{const q=ks(C,W),Y=q===void 0?0:parseInt(q,10);return isNaN(Y)?L:L+Y},0);return{set:n,get:s,getOuter:a,aggregate:d,max:(C,A,L)=>{const W=d(C,L);return A>W?A-W:0}}})("height",e=>{const t=e.dom;return ha(e)?t.getBoundingClientRect().height:t.offsetHeight}),$b=e=>fA.get(e),F5=()=>Oe.fromDom(document),z5=(e,t)=>e.view(t).fold(rt([]),s=>{const a=e.owner(s),d=z5(e,a);return[s].concat(d)}),OC=(e,t)=>{const n=t.owner(e);return z5(t,n)};var wP=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?X.none():X.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(Oe.fromDom)},owner:e=>Ol(e)});const H5=e=>{const t=F5(),n=Xn(t),s=OC(e,wP),a=io(e),d=Yt(s,(g,C)=>{const A=io(C);return{left:g.left+A.left,top:g.top+A.top}},{left:0,top:0});return ke(d.left+a.left+n.left,d.top+a.top+n.top)},zg=e=>Mo(e)==="textarea",V5=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),$5=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},U5=(e,t)=>{const n=Vi(e);if(n.length===0||zg(e))return{element:e,offset:t};if(t<n.length&&!zg(n[t]))return{element:n[t],offset:0};{const s=n[n.length-1];return zg(s)?{element:e,offset:t}:Mo(s)==="img"?{element:s,offset:1}:Wr(s)?{element:s,offset:hm(s).length}:{element:s,offset:Vi(s).length}}},Ny=(e,t)=>{const n=Pn(e),s=$b(e);return{element:e,bottom:n.top+s,height:s,pos:n,cleanup:t}},Z5=(e,t)=>{const n=U5(e,t),s=Oe.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+oi+"</span>");return ds(n.element,s),Ny(s,()=>lr(s))},W5=e=>Ny(Oe.fromDom(e),sn),j5=(e,t,n,s)=>{q5(e,(a,d)=>K5(e,t,n,s),n)},Iy=(e,t,n,s,a)=>{const d={elm:s.element.dom,alignToTop:a};if(V5(e,d))return;const g=Xn(t).top;n(e,t,g,s,a),$5(e,d)},K5=(e,t,n,s)=>{const a=Oe.fromDom(e.getBody()),d=Oe.fromDom(e.getDoc());z1(a);const g=Z5(Oe.fromDom(n.startContainer),n.startOffset);Iy(e,d,t,g,s),g.cleanup()},DC=(e,t,n,s)=>{const a=Oe.fromDom(e.getDoc());Iy(e,a,n,W5(t),s)},q5=(e,t,n)=>{const s=n.startContainer,a=n.startOffset,d=n.endContainer,g=n.endOffset;t(Oe.fromDom(s),Oe.fromDom(d));const C=e.dom.createRng();C.setStart(s,a),C.setEnd(d,g),e.selection.setRng(n)},By=(e,t,n,s,a)=>{const d=t.pos;if(s)wn(d.left,d.top,a);else{const g=d.top-n+t.height;wn(-e.getBody().getBoundingClientRect().left,g,a)}},mA=(e,t,n,s,a,d)=>{const g=s+n,C=a.pos.top,A=a.bottom,L=A-C>=s;C<n?By(e,a,s,d!==!1,t):C>g?By(e,a,s,L?d!==!1:d===!0,t):A>g&&!L&&By(e,a,s,d===!0,t)},My=(e,t,n,s,a)=>{const d=cu(t).dom.innerHeight;mA(e,t,n,d,s,a)},Om=(e,t,n,s,a)=>{const d=cu(t).dom.innerHeight;mA(e,t,n,d,s,a);const g=H5(s.element),C=ec(window);g.top<C.y?Xo(s.element,a!==!1):g.top>C.bottom&&Xo(s.element,a===!0)},CP=(e,t,n)=>j5(e,My,t,n),gA=(e,t,n)=>DC(e,t,My,n),Xs=(e,t,n)=>j5(e,Om,t,n),hA=(e,t,n)=>DC(e,t,Om,n),pA=(e,t,n)=>{(e.inline?gA:hA)(e,t,n)},ku=(e,t,n)=>{(e.inline?CP:Xs)(e,t,n)},bA=(e,t=!1)=>e.dom.focus({preventScroll:t}),vA=e=>{const t=Oc(e).dom;return e.dom===t.activeElement},Ub=(e=F5())=>X.from(e.dom.activeElement).map(Oe.fromDom),_P=e=>Ub(Oc(e)).filter(t=>e.dom.contains(t.dom)),G5=(e,t)=>{const n=Wr(t)?hm(t).length:Vi(t).length+1;return e>n?n:e<0?0:e},Hv=e=>Uh.range(e.start,G5(e.soffset,e.start),e.finish,G5(e.foffset,e.finish)),Y5=(e,t)=>!Wd(t.dom)&&(zi(e,t)||Po(e,t)),Wh=e=>t=>Y5(e,t.start)&&Y5(e,t.finish),SP=e=>e.inline||So.browser.isFirefox(),jh=e=>Uh.range(Oe.fromDom(e.startContainer),e.startOffset,Oe.fromDom(e.endContainer),e.endOffset),kP=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?X.none():X.from(t.getRangeAt(0))).map(jh)},Au=e=>{const t=cu(e);return kP(t.dom).filter(Wh(e))},Py=(e,t)=>X.from(t).filter(Wh(e)).map(Hv),xA=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),X.some(t)}catch{return X.none()}},Vv=e=>{const t=SP(e)?Au(Oe.fromDom(e.getBody())):X.none();e.bookmark=t.isSome()?t:e.bookmark},yA=e=>(e.bookmark?e.bookmark:X.none()).bind(n=>Py(Oe.fromDom(e.getBody()),n)).bind(xA),RC=e=>{yA(e).each(t=>e.selection.setRng(t))},Eu={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},NC=(e,t)=>(D(t)||(t=0),setTimeout(e,t)),X5=(e,t)=>(D(t)||(t=0),setInterval(e,t)),pc={setEditorTimeout:(e,t,n)=>NC(()=>{e.removed||t()},n),setEditorInterval:(e,t,n)=>{const s=X5(()=>{e.removed?clearInterval(s):t()},n);return s}},wA=e=>e.type==="nodechange"&&e.selectionChange,Zb=(e,t)=>{const n=()=>{t.throttle()};Tr.DOM.bind(document,"mouseup",n),e.on("remove",()=>{Tr.DOM.unbind(document,"mouseup",n)})},CA=(e,t)=>{e.on("mouseup touchend",n=>{t.throttle()})},J5=(e,t)=>{CA(e,t),e.on("keyup NodeChange AfterSetSelectionRange",n=>{wA(n)||Vv(e)})},AP=e=>{const t=kg(()=>{Vv(e)},0);e.on("init",()=>{e.inline&&Zb(e,t),J5(e,t)}),e.on("remove",()=>{t.cancel()})};let Dm;const _A=Tr.DOM,Q5=e=>yn(e)&&Eu.isEditorUIElement(e),Ly=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},IC=(e,t)=>{const n=uO(e);return _A.getParent(t,a=>Q5(a)||(n?e.dom.is(a,n):!1))!==null},BC=e=>{try{const t=Oc(Oe.fromDom(e.getElement()));return Ub(t).fold(()=>document.body,n=>n.dom)}catch{return document.body}},eD=(e,t)=>{const n=t.editor;AP(n);const s=(a,d)=>{if(yO(a)&&a.inline!==!0){const g=Oe.fromDom(a.getContainer());d(g,"tox-edit-focus")}};n.on("focusin",()=>{const a=e.focusedEditor;Ly(BC(n))&&s(n,Gu),a!==n&&(a&&a.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:a}),n.focus(!0))}),n.on("focusout",()=>{pc.setEditorTimeout(n,()=>{const a=e.focusedEditor;(!Ly(BC(n))||a!==n)&&s(n,ga),!IC(n,BC(n))&&a===n&&(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Dm||(Dm=a=>{const d=e.activeEditor;d&&Pp(a).each(g=>{const C=g;C.ownerDocument===document&&C!==document.body&&!IC(d,C)&&e.focusedEditor===d&&(d.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},_A.bind(document,"focusin",Dm))},EP=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Dm&&(_A.unbind(document,"focusin",Dm),Dm=null)},TP=e=>{e.on("AddEditor",xt(eD,e)),e.on("RemoveEditor",xt(EP,e))},OP=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="true"),DP=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="false")!==null,RP=e=>e.collapsed?X.from(ri(e.startContainer,e.startOffset)).map(Oe.fromDom):X.none(),NP=(e,t)=>RP(t).bind(n=>Tg(n)?X.some(n):zi(e,n)?X.none():X.some(e)),tD=(e,t)=>{NP(Oe.fromDom(e.getBody()),t).bind(n=>$n(n.dom)).fold(()=>{e.selection.normalize()},n=>e.selection.setRng(n.toRange()))},MC=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},IP=e=>vA(e)||_P(e).isSome(),BP=e=>Se(e.iframeElement)&&vA(Oe.fromDom(e.iframeElement)),MP=e=>{const t=e.getBody();return t&&IP(Oe.fromDom(t))},nD=e=>{const t=Oc(Oe.fromDom(e.getElement()));return Ub(t).filter(n=>!Ly(n.dom)&&IC(e,n.dom)).isSome()},$v=e=>e.inline?MP(e):BP(e),Wb=e=>$v(e)||nD(e),PP=e=>{const t=e.selection,n=e.getBody();let s=t.getRng();e.quirks.refreshContentEditable();const a=g=>{yA(g).each(C=>{g.selection.setRng(C),s=C})};!$v(e)&&e.hasEditableRoot()&&a(e);const d=OP(e,t.getNode());if(d&&e.dom.isChildOf(d,n)){DP(e,d)||MC(n),MC(d),e.hasEditableRoot()||a(e),tD(e,s),SA(e);return}e.inline||(So.browser.isOpera()||MC(n),e.getWin().focus()),(So.browser.isFirefox()||e.inline)&&(MC(n),tD(e,s)),SA(e)},SA=e=>e.editorManager.setActive(e),oD=(e,t)=>{e.removed||(t?SA(e):PP(e))},rD=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),sD=(e,t,n,s,a)=>{const d=n?t.startContainer:t.endContainer,g=n?t.startOffset:t.endOffset;return X.from(d).map(Oe.fromDom).map(C=>!s||!t.collapsed?du(C,a(C,g)).getOr(C):C).bind(C=>Ss(C)?X.some(C):Hi(C).filter(Ss)).map(C=>C.dom).getOr(e)},iD=(e,t,n=!1)=>sD(e,t,!0,n,(s,a)=>Math.min(Xu(s),a)),aD=(e,t,n=!1)=>sD(e,t,!1,n,(s,a)=>a>0?a-1:a),lD=(e,t)=>{const n=e;for(;e&&Lt(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||n},LP=(e,t)=>{if(!t)return e;let n=t.startContainer,s=t.endContainer;const a=t.startOffset,d=t.endOffset;let g=t.commonAncestorContainer;t.collapsed||(n===s&&d-a<2&&n.hasChildNodes()&&(g=n.childNodes[a]),Lt(n)&&Lt(s)&&(n.length===a?n=lD(n.nextSibling,!0):n=n.parentNode,d===0?s=lD(s.previousSibling,!1):s=s.parentNode,n&&n===s&&(g=n)));const C=Lt(g)?g.parentNode:g;return Ic(C)?C:e},kA=(e,t,n,s)=>{const a=[],d=e.getRoot(),g=e.getParent(n||iD(d,t,t.collapsed),e.isBlock),C=e.getParent(s||aD(d,t,t.collapsed),e.isBlock);if(g&&g!==d&&a.push(g),g&&C&&g!==C){let A;const L=new $i(g,d);for(;(A=L.next())&&A!==C;)e.isBlock(A)&&a.push(A)}return C&&g!==C&&C!==d&&a.push(C),a},Fy=(e,t,n)=>X.from(t).bind(s=>X.from(s.parentNode).map(a=>{const d=e.nodeIndex(s),g=e.createRng();return g.setStart(a,d),g.setEnd(a,d+1),n&&(my(e,g,s,!0),my(e,g,s,!1)),g})),PC=(e,t)=>tt(t,n=>{const s=e.dispatch("GetSelectionRange",{range:n});return s.range!==n?s.range:n}),FP={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},jb=(e,t,n)=>{const s=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[s])return e[s];if(e!==t){let d=e[a];if(d)return d;for(let g=e.parent;g&&g!==t;g=g.parent)if(d=g[a],d)return d}},cD=e=>{var t;const n=(t=e.value)!==null&&t!==void 0?t:"";if(!Rl(n))return!1;const s=e.parent;return!(s&&(s.name!=="span"||s.attr("style"))&&/^[ ]+$/.test(n))},hi=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class la{static create(t,n){const s=new la(t,FP[t]||1);return n&&$o(n,(a,d)=>{s.attr(d,a)}),s}constructor(t,n){this.name=t,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}replace(t){const n=this;return t.parent&&t.remove(),n.insert(t,n),n.remove(),n}attr(t,n){const s=this;if(!Fe(t))return Se(t)&&$o(t,(d,g)=>{s.attr(g,d)}),s;const a=s.attributes;if(a){if(n!==void 0){if(n===null){if(t in a.map){delete a.map[t];let d=a.length;for(;d--;)if(a[d].name===t)return a.splice(d,1),s}return s}if(t in a.map){let d=a.length;for(;d--;)if(a[d].name===t){a[d].value=n;break}}else a.push({name:t,value:n});return a.map[t]=n,s}return a.map[t]}}clone(){const t=this,n=new la(t.name,t.type),s=t.attributes;if(s){const a=[];a.map={};for(let d=0,g=s.length;d<g;d++){const C=s[d];C.name!=="id"&&(a[a.length]={name:C.name,value:C.value},a.map[C.name]=C.value)}n.attributes=a}return n.value=t.value,n}wrap(t){const n=this;return n.parent&&(n.parent.insert(t,n),t.append(n)),n}unwrap(){const t=this;for(let n=t.firstChild;n;){const s=n.next;t.insert(n,t,!0),n=s}t.remove()}remove(){const t=this,n=t.parent,s=t.next,a=t.prev;return n&&(n.firstChild===t?(n.firstChild=s,s&&(s.prev=null)):a&&(a.next=s),n.lastChild===t?(n.lastChild=a,a&&(a.next=null)):s&&(s.prev=a),t.parent=t.next=t.prev=null),t}append(t){const n=this;t.parent&&t.remove();const s=n.lastChild;return s?(s.next=t,t.prev=s,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t}insert(t,n,s){t.parent&&t.remove();const a=n.parent||this;return s?(n===a.firstChild?a.firstChild=t:n.prev&&(n.prev.next=t),t.prev=n.prev,t.next=n,n.prev=t):(n===a.lastChild?a.lastChild=t:n.next&&(n.next.prev=t),t.next=n.next,t.prev=n,n.next=t),t.parent=a,t}getAll(t){const n=this,s=[];for(let a=n.firstChild;a;a=jb(a,n))a.name===t&&s.push(a);return s}children(){const t=this,n=[];for(let s=t.firstChild;s;s=s.next)n.push(s);return n}empty(){const t=this;if(t.firstChild){const n=[];for(let a=t.firstChild;a;a=jb(a,t))n.push(a);let s=n.length;for(;s--;){const a=n[s];a.parent=a.firstChild=a.lastChild=a.next=a.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,n={},s){var a;const d=this;let g=d.firstChild;if(hi(d))return!1;if(g)do{if(g.type===1){if(g.attr("data-mce-bogus"))continue;if(t[g.name]||hi(g))return!1}if(g.type===8||g.type===3&&!cD(g)||g.type===3&&g.parent&&n[g.parent.name]&&Rl((a=g.value)!==null&&a!==void 0?a:"")||s&&s(g))return!1}while(g=jb(g,d));return!0}walk(t){return jb(this,null,t)}}const uD=Wt.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),LC=e=>Fe(e.nodeValue)&&e.nodeValue.includes(oi),zy=e=>`${e.length===0?"":`${tt(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,Kh=(e,t)=>t.querySelectorAll(zy(e)),Hg=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>LC(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),dD=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(LC(t)){const n=t.parentNode;return n&&Yn(uD,n.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),zP=e=>Hg(e).nextNode()!==null,Uv=e=>dD(e).nextNode()!==null,Zv=(e,t)=>t.querySelector(zy(e))!==null,Wv=(e,t)=>{_e(Kh(e,t),n=>{const s=Oe.fromDom(n);oa(s,"data-mce-bogus")==="all"?lr(s):_e(e,a=>{Ku(s,a)&&bo(s,a)})})},FC=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},AA=vn(FC,Hg),fD=vn(FC,dD),EA=(e,t)=>{const n=[{condition:xt(Zv,t),action:xt(Wv,t)},{condition:zP,action:AA},{condition:Uv,action:fD}];let s=e,a=!1;return _e(n,({condition:d,action:g})=>{d(s)&&(a||(s=e.cloneNode(!0),a=!0),g(s))}),s},mD=e=>{const t=Gs(e,"[data-mce-bogus]");_e(t,n=>{oa(n,"data-mce-bogus")==="all"?lr(n):yu(n)?(ds(n,Oe.fromText(fs)),lr(n)):va(n)})},gD=e=>{const t=Gs(e,"input");_e(t,n=>{bo(n,"name")})},hD=(e,t)=>{const n=La(e),s=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${n}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(s,"")},pD=(e,t)=>{const n=e.getDoc(),s=Oc(Oe.fromDom(e.getBody())),a=Oe.fromTag("div",n);ei(a,"data-mce-bogus","all"),Io(a,{position:"fixed",left:"-9999999px",top:"0"}),em(a,t.innerHTML),mD(a),gD(a);const d=F1(s);As(d,a);const g=tl(a.dom.innerText);return lr(a),g},Hy=(e,t,n)=>{let s;return t.format==="raw"?s=Wt.trim(tl(EA(n,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?s=pD(e,n):t.format==="tree"?s=e.serializer.serialize(n,t):s=hD(e,e.serializer.serialize(n,t)),t.format!=="text"&&!hb(Oe.fromDom(n))&&Fe(s)?Wt.trim(s):s},bD=(e,t)=>X.from(e.getBody()).fold(rt(t.format==="tree"?new la("body",11):""),n=>Hy(e,t,n)),TA=Wt.makeMap,OA=e=>{const t=[];e=e||{};const n=e.indent,s=TA(e.indent_before||""),a=TA(e.indent_after||""),d=pg.getEncodeFunc(e.entity_encoding||"raw",e.entities),g=e.element_format!=="xhtml";return{start:(C,A,L)=>{if(n&&s[C]&&t.length>0){const W=t[t.length-1];W.length>0&&W!==`
`&&t.push(`
`)}if(t.push("<",C),A)for(let W=0,q=A.length;W<q;W++){const Y=A[W];t.push(" ",Y.name,'="',d(Y.value,!0),'"')}if(!L||g?t[t.length]=">":t[t.length]=" />",L&&n&&a[C]&&t.length>0){const W=t[t.length-1];W.length>0&&W!==`
`&&t.push(`
`)}},end:C=>{let A;t.push("</",C,">"),n&&a[C]&&t.length>0&&(A=t[t.length-1],A.length>0&&A!==`
`&&t.push(`
`))},text:(C,A)=>{C.length>0&&(t[t.length]=A?C:d(C))},cdata:C=>{t.push("<![CDATA[",C,"]]>")},comment:C=>{t.push("<!--",C,"-->")},pi:(C,A)=>{A?t.push("<?",C," ",d(A),"?>"):t.push("<?",C,"?>"),n&&t.push(`
`)},doctype:C=>{t.push("<!DOCTYPE",C,">",n?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},Vg=(e={},t=ac())=>{const n=OA(e);return e.validate="validate"in e?e.validate:!0,{serialize:a=>{const d=e.validate,g={3:A=>{var L;n.text((L=A.value)!==null&&L!==void 0?L:"",A.raw)},8:A=>{var L;n.comment((L=A.value)!==null&&L!==void 0?L:"")},7:A=>{n.pi(A.name,A.value)},10:A=>{var L;n.doctype((L=A.value)!==null&&L!==void 0?L:"")},4:A=>{var L;n.cdata((L=A.value)!==null&&L!==void 0?L:"")},11:A=>{let L=A;if(L=L.firstChild)do C(L);while(L=L.next)}};n.reset();const C=A=>{var L;const W=g[A.type];if(W)W(A);else{const q=A.name,Y=q in t.getVoidElements();let ce=A.attributes;if(d&&ce&&ce.length>1){const he=[];he.map={};const ue=t.getElementRule(A.name);if(ue){for(let we=0,Pe=ue.attributesOrder.length;we<Pe;we++){const Ze=ue.attributesOrder[we];if(Ze in ce.map){const Ve=ce.map[Ze];he.map[Ze]=Ve,he.push({name:Ze,value:Ve})}}for(let we=0,Pe=ce.length;we<Pe;we++){const Ze=ce[we].name;if(!(Ze in he.map)){const Ve=ce.map[Ze];he.map[Ze]=Ve,he.push({name:Ze,value:Ve})}}ce=he}}if(n.start(q,ce,Y),sm(q))Fe(A.value)&&n.text(A.value,!0),n.end(q);else if(!Y){let he=A.firstChild;if(he){(q==="pre"||q==="textarea")&&he.type===3&&((L=he.value)===null||L===void 0?void 0:L[0])===`
`&&n.text(`
`,!0);do C(he);while(he=he.next)}n.end(q)}}};return a.type===1&&!e.inner?C(a):a.type===3?g[3](a):g[11](a),n.getContent()}}},DA=new Set;_e(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{DA.add(t)});const RA=new Set;_e(["background-color"],t=>{RA.add(t)});const NA=["font","text-decoration","text-emphasis"],vD=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),Kb=(e,t)=>Ht(vD(e,t)),IA=e=>DA.has(e),Vy=e=>RA.has(e),BA=(e,t)=>De(Kb(e,t),n=>IA(n)),xD=(e,t)=>BA(e,t)&&De(Kb(e,t),n=>Vy(n)),zC=e=>_t(e,t=>De(NA,n=>Zr(t,n))),HP=(e,t,n)=>{const s=Kb(e,t),a=Kb(e,n),d=g=>{var C,A;const L=(C=e.getStyle(t,g))!==null&&C!==void 0?C:"",W=(A=e.getStyle(n,g))!==null&&A!==void 0?A:"";return $e(L)&&$e(W)&&L!==W};return De(s,g=>{const C=A=>De(A,L=>L===g);if(!C(a)&&C(NA)){const A=zC(a);return De(A,d)}else return d(g)})},yD=(e,t,n)=>X.from(n.container()).filter(Lt).exists(s=>{const a=e?0:-1;return t(s.data.charAt(n.offset()+a))}),$g=xt(yD,!0,Lb),$y=xt(yD,!1,Lb),wD=e=>{const t=e.container();return Lt(t)&&(t.data.length===0||dc(t.data)&&Sr.isBookmarkNode(t.parentNode))},md=(e,t)=>n=>nC(e?0:-1,n).filter(t).isSome(),MA=e=>nc(e)&&ks(Oe.fromDom(e),"display")==="block",HC=e=>to(e)&&!V1(e),CD=md(!0,MA),_D=md(!1,MA),qb=md(!0,bt),jv=md(!1,bt),SD=md(!0,Bc),Kv=md(!1,Bc),pi=md(!0,HC),yf=md(!1,HC),Gb=e=>e.slice(0,-1),kD=(e,t,n)=>zi(t,e)?Gb(Yf(e,s=>n(s)||Po(s,t))):[],Ll=(e,t)=>kD(e,t,Sn),bc=(e,t)=>[e].concat(Ll(e,t)),VC=(e,t,n)=>KO(e,t,n,wD),AD=e=>t=>e.isBlock(Mo(t)),PA=(e,t,n)=>Bt(bc(Oe.fromDom(t.container()),e),AD(n)),qv=(e,t,n,s)=>VC(e,t.dom,n).forall(a=>PA(t,n,s).fold(()=>!Sm(a,n,t.dom),d=>!Sm(a,n,t.dom)&&zi(d,Oe.fromDom(a.container())))),$C=(e,t,n,s)=>PA(t,n,s).fold(()=>VC(e,t.dom,n).forall(a=>!Sm(a,n,t.dom)),a=>VC(e,a.dom,n).isNone()),UC=xt($C,!1),ED=xt($C,!0),LA=xt(qv,!1),FA=xt(qv,!0),VP=e=>oC(e).exists(yu),Tu=(e,t,n,s)=>{const a=_t(bc(Oe.fromDom(n.container()),t),g=>s.isBlock(Mo(g))),d=jt(a).getOr(t);return Zc(e,d.dom,n).filter(VP)},Uy=(e,t,n)=>oC(t).exists(yu)||Tu(!0,e,t,n).isSome(),Yb=(e,t,n)=>U8(t).exists(yu)||Tu(!1,e,t,n).isSome(),ZC=xt(Tu,!1),TD=xt(Tu,!0),zA=e=>ft.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),HA=(e,t,n)=>{const s=_t(bc(Oe.fromDom(t.container()),e),a=>n.isBlock(Mo(a)));return jt(s).getOr(e)},OD=(e,t,n)=>zA(t)?$y(t):$y(t)||mc(HA(e,t,n).dom,t).exists($y),DD=(e,t,n)=>zA(t)?$g(t):$g(t)||_l(HA(e,t,n).dom,t).exists($g),RD=e=>ve(["pre","pre-wrap"],e),WC=e=>oC(e).bind(t=>qs(t,Ss)).exists(t=>RD(ks(t,"white-space"))),VA=(e,t)=>mc(e.dom,t).isNone(),$A=(e,t)=>_l(e.dom,t).isNone(),ND=(e,t,n)=>VA(e,t)||$A(e,t)||UC(e,t,n)||ED(e,t,n)||Yb(e,t,n)||Uy(e,t,n),UA=e=>Se(e)&&to(e)&&Mk(e),ZA=(e,t)=>n=>UA(new $i(n,e)[t]()),ID=(e,t)=>{const n=_l(e.dom,t).getOr(t),s=ZA(e.dom,"next");return t.isAtEnd()&&(s(t.container())||s(n.container()))},WA=(e,t)=>{const n=mc(e.dom,t).getOr(t),s=ZA(e.dom,"prev");return t.isAtStart()&&(s(t.container())||s(n.container()))},jA=(e,t,n)=>WC(t)?!1:ND(e,t,n)||OD(e,t,n)||DD(e,t,n),Gv=(e,t,n)=>WC(t)?!1:UC(e,t,n)||LA(e,t,n)||Yb(e,t,n)||OD(e,t,n)||WA(e,t),BD=e=>{const t=e.container(),n=e.offset();return Lt(t)&&n<t.data.length?ft(t,n+1):e},Xb=(e,t,n)=>WC(t)?!1:ED(e,t,n)||FA(e,t,n)||Uy(e,t,n)||DD(e,t,n)||ID(e,t),KA=(e,t,n)=>Gv(e,t,n)||Xb(e,BD(t),n),Zy=(e,t)=>Fa(e.charAt(t)),qA=(e,t)=>Lb(e.charAt(t)),MD=e=>{const t=e.container();return Lt(t)&&dr(t.data,di)},$P=e=>{const t=e.split("");return tt(t,(n,s)=>Fa(n)&&s>0&&s<t.length-1&&Mg(t[s-1])&&Mg(t[s+1])?" ":n).join("")},PD=(e,t,n,s)=>{const a=t.data,d=ft(t,0);return!n&&Zy(a,0)&&!KA(e,d,s)?(t.data=" "+a.slice(1),!0):n&&qA(a,0)&&Gv(e,d,s)?(t.data=di+a.slice(1),!0):!1},LD=e=>{const t=e.data,n=$P(t);return n!==t?(e.data=n,!0):!1},FD=(e,t,n,s)=>{const a=t.data,d=ft(t,a.length-1);return!n&&Zy(a,a.length-1)&&!KA(e,d,s)?(t.data=a.slice(0,-1)+" ",!0):n&&qA(a,a.length-1)&&Xb(e,d,s)?(t.data=a.slice(0,-1)+di,!0):!1},zD=(e,t,n)=>{const s=t.container();if(!Lt(s))return X.none();if(MD(t)){const a=PD(e,s,!1,n)||LD(s)||FD(e,s,!1,n);return ng(a,t)}else if(KA(e,t,n)){const a=PD(e,s,!0,n)||FD(e,s,!0,n);return ng(a,t)}else return X.none()},UP=e=>{const t=Oe.fromDom(e.getBody());e.selection.isCollapsed()&&zD(t,ft.fromRangeStart(e.selection.getRng()),e.schema).each(n=>{e.selection.setRng(n.toRange())})},HD=(e,t,n,s)=>{if(n===0)return;const a=Oe.fromDom(e),d=Ra(a,L=>s.isBlock(Mo(L))).getOr(a),g=e.data.slice(t,t+n),C=t+n>=e.data.length&&Xb(d,ft(e,e.data.length),s),A=t===0&&Gv(d,ft(e,0),s);e.replaceData(t,n,Vp(g,4,A,C))},jC=(e,t,n)=>{const s=e.data.slice(t),a=s.length-at(s).length;HD(e,t,a,n)},ys=(e,t,n)=>{const s=e.data.slice(0,t),a=s.length-ot(s).length;HD(e,t-a,a,n)},Wy=(e,t,n,s,a=!0)=>{const d=ot(e.data).length,g=a?e:t,C=a?t:e;return a?g.appendData(C.data):g.insertData(0,C.data),lr(Oe.fromDom(C)),s&&jC(g,d,n),g},ZP=(e,t)=>{const n=e.container(),s=e.offset();return!ft.isTextPosition(e)&&n===t.parentNode&&s>ft.before(t).offset()},WP=(e,t)=>ZP(t,e)?ft(t.container(),t.offset()-1):t,Yv=e=>Lt(e)?ft(e,0):ft.before(e),qh=e=>Lt(e)?ft(e,e.data.length):ft.after(e),Rm=e=>zc(e.previousSibling)?X.some(qh(e.previousSibling)):e.previousSibling?Cu(e.previousSibling):X.none(),GA=e=>zc(e.nextSibling)?X.some(Yv(e.nextSibling)):e.nextSibling?$n(e.nextSibling):X.none(),VD=(e,t)=>X.from(t.previousSibling?t.previousSibling:t.parentNode).bind(n=>mc(e,ft.before(n))).orThunk(()=>_l(e,ft.after(t))),$D=(e,t)=>_l(e,ft.after(t)).orThunk(()=>mc(e,ft.before(t))),KC=(e,t)=>Rm(t).orThunk(()=>GA(t)).orThunk(()=>VD(e,t)),jP=(e,t)=>GA(t).orThunk(()=>Rm(t)).orThunk(()=>$D(e,t)),YA=(e,t,n)=>e?jP(t,n):KC(t,n),UD=(e,t,n)=>YA(e,t,n).map(xt(WP,n)),XA=(e,t,n)=>{n.fold(()=>{e.focus()},s=>{e.selection.setRng(s.toRange(),t)})},JA=e=>t=>t.dom===e,ZD=(e,t)=>t&&Yn(e.schema.getBlockElements(),Mo(t)),QA=(e,t,n)=>{if(Ts(e,t)){const s=Oe.fromHtml('<br data-mce-bogus="1">');return n?_e(Vi(t),a=>{gC(a)||lr(a)}):Mr(t),As(t,s),X.some(ft.before(s.dom))}else return X.none()},KP=(e,t,n,s)=>{const a=ti(e).filter(Wr),d=In(e).filter(Wr);return lr(e),Pd(a,d,t,(g,C,A)=>{const L=g.dom,W=C.dom,q=L.data.length;return Wy(L,W,n,s),A.container()===W?ft(L,q):A}).orThunk(()=>(s&&(a.each(g=>ys(g.dom,g.dom.length,n)),d.each(g=>jC(g.dom,0,n))),t))},qP=(e,t)=>Yn(e.schema.getTextInlineElements(),Mo(t)),ol=(e,t,n,s=!0,a=!1)=>{const d=UD(t,e.getBody(),n.dom),g=Ra(n,xt(ZD,e),JA(e.getBody())),C=KP(n,d,e.schema,qP(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):g.bind(A=>QA(e.schema,A,a)).fold(()=>{s&&XA(e,t,C)},A=>{s&&XA(e,t,X.some(A))})},WD=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,GP=e=>WD.test(e),Jb=(e,t)=>fr(Oe.fromDom(t),Ho(e))&&!Xd(e.schema,t)&&e.dom.isEditable(t),jy=e=>{var t;return Tr.DOM.getStyle(e,"direction",!0)==="rtl"||GP((t=e.textContent)!==null&&t!==void 0?t:"")},YP=(e,t,n)=>_t(Tr.DOM.getParents(n.container(),"*",t),e),Gh=(e,t,n)=>{const s=YP(e,t,n);return X.from(s[s.length-1])},jD=(e,t,n)=>{const s=Mh(t,e),a=Mh(n,e);return Se(s)&&s===a},eE=e=>pb(e)||hv(e),Ou=(e,t)=>{const n=t.container(),s=t.offset();return e?bm(n)?Lt(n.nextSibling)?ft(n.nextSibling,0):ft.after(n):pb(t)?ft(n,s+1):t:bm(n)?Lt(n.previousSibling)?ft(n.previousSibling,n.previousSibling.data.length):ft.before(n):hv(t)?ft(n,s-1):t},KD=xt(Ou,!0),Xv=xt(Ou,!1),tE=(e,t)=>{const n=s=>s.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},qD=e=>{e.execCommand("delete")},qC=e=>tE(e,"Delete"),nE=e=>tE(e,"ForwardDelete"),Ky=e=>t=>Bd(Hi(t),e,Po),GD=e=>mb(e)||pm(e),qy=(e,t)=>zi(e,t)?qs(t,GD,Ky(e)):X.none(),GC=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},YD=(e,t,n)=>Li($n(n),Cu(n),(s,a)=>{const d=Ou(!0,s),g=Ou(!1,a),C=Ou(!1,t);return e?_l(n,C).exists(A=>A.isEqual(g)&&t.isEqual(d)):mc(n,C).exists(A=>A.isEqual(d)&&t.isEqual(g))}).getOr(!0),gd=e=>(ig(e)?ti(e):fu(e)).bind(gd).orThunk(()=>X.some(e)),YC=(e,t,n,s=!0)=>{var a;t.deleteContents();const d=gd(n).getOr(n),g=Oe.fromDom((a=e.dom.getParent(d.dom,e.dom.isBlock))!==null&&a!==void 0?a:n.dom);if(g.dom===e.getBody()?GC(e,s):Ts(e.schema,g,{checkRootAsContent:!1})&&(uc(g),s&&e.selection.setCursorLocation(g.dom,0)),!Po(n,g)){const C=Bd(Hi(g),n)?[]:Mp(g);_e(C.concat(Vi(n)),A=>{!Po(A,g)&&!zi(A,g)&&Ts(e.schema,A)&&lr(A)})}},XP=e=>t=>Po(e,t),oE=e=>Gs(e,"td,th"),ir=(e,t)=>gr(Oe.fromDom(e),t),JP=e=>Li(e.startTable,e.endTable,(t,n)=>{const s=H1(t,d=>Po(d,n)),a=H1(n,d=>Po(d,t));return!s&&!a?e:{...e,startTable:s?X.none():e.startTable,endTable:a?X.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),Gy=e=>JP(e),QP=(e,t)=>{const n=ir(e.startContainer,t),s=ir(e.endContainer,t),a=n.isSome(),d=s.isSome(),g=Li(n,s,Po).getOr(!1);return Gy({startTable:n,endTable:s,isStartInTable:a,isEndInTable:d,isSameTable:g,isMultiTable:!g&&a&&d})},XC=(e,t)=>({start:e,end:t}),Yh=(e,t,n)=>({rng:e,table:t,cells:n}),za=Bo.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Xh=(e,t)=>_i(Oe.fromDom(e),"td,th",t),Ug=e=>!Po(e.start,e.end),wf=(e,t)=>gr(e.start,t).bind(n=>gr(e.end,t).bind(s=>ng(Po(n,s),n))),Yy=(e,t)=>!Ug(e)&&wf(e,t).exists(n=>{const s=n.dom.rows;return s.length===1&&s[0].cells.length===1}),rE=(e,t)=>{const n=Xh(e.startContainer,t),s=Xh(e.endContainer,t);return Li(n,s,XC)},sE=e=>t=>gr(t,e).bind(n=>ao(oE(n)).map(s=>XC(t,s))),XD=e=>t=>gr(t,e).bind(n=>jt(oE(n)).map(s=>XC(s,t))),JC=e=>t=>wf(t,e).map(n=>Yh(t,n,oE(n))),JD=(e,t,n,s)=>{if(n.collapsed||!e.forall(Ug))return X.none();if(t.isSameTable){const a=e.bind(JC(s));return X.some({start:a,end:a})}else{const a=Xh(n.startContainer,s),d=Xh(n.endContainer,s),g=a.bind(sE(s)).bind(JC(s)),C=d.bind(XD(s)).bind(JC(s));return X.some({start:g,end:C})}},QD=(e,t)=>Mt(e,n=>Po(n,t)),QC=e=>Li(QD(e.cells,e.rng.start),QD(e.cells,e.rng.end),(t,n)=>e.cells.slice(t,n+1)),eR=(e,t,n)=>e.exists(s=>Yy(s,n)&&fy(s.start,t)),iE=(e,t)=>{const{startTable:n,endTable:s}=t,a=e.cloneRange();return n.each(d=>a.setStartAfter(d.dom)),s.each(d=>a.setEndBefore(d.dom)),a},tR=(e,t,n,s)=>JD(e,t,n,s).bind(({start:a,end:d})=>a.or(d)).bind(a=>{const{isSameTable:d}=t,g=QC(a).getOr([]);if(d&&a.cells.length===g.length)return X.some(za.fullTable(a.table));if(g.length>0){if(d)return X.some(za.partialTable(g,X.none()));{const C=iE(n,t);return X.some(za.partialTable(g,X.some({...t,rng:C})))}}else return X.none()}),aE=(e,t,n,s)=>JD(e,t,n,s).bind(({start:a,end:d})=>{const g=a.bind(QC).getOr([]),C=d.bind(QC).getOr([]);if(g.length>0&&C.length>0){const A=iE(n,t);return X.some(za.multiTable(g,C,A))}else return X.none()}),e7=(e,t)=>{const n=XP(e),s=rE(t,n),a=QP(t,n);return eR(s,t,n)?s.map(d=>za.singleCellTable(t,d.start)):a.isMultiTable?aE(s,a,t,n):tR(s,a,t,n)},nR=e=>_e(e,t=>{bo(t,"contenteditable"),uc(t)}),t7=(e,t)=>X.from(e.dom.getParent(t,e.dom.isBlock)).map(Oe.fromDom),Nm=(e,t,n)=>{n.each(s=>{t?lr(s):(uc(s),e.selection.setCursorLocation(s.dom,0))})},Qb=(e,t,n,s)=>{const a=n.cloneRange();s?(a.setStart(n.startContainer,n.startOffset),a.setEndAfter(t.dom.lastChild)):(a.setStartBefore(t.dom.firstChild),a.setEnd(n.endContainer,n.endOffset)),uE(e,a,t,!1).each(d=>d())},lE=e=>{const t=pf(e),n=Oe.fromDom(e.selection.getNode());ph(n.dom)&&Ts(e.schema,n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&De(t,s=>Po(s,n))&&ei(n,"data-mce-selected","1")},cE=(e,t,n)=>X.some(()=>{const s=e.selection.getRng(),a=n.bind(({rng:d,isStartInTable:g})=>{const C=t7(e,g?d.endContainer:d.startContainer);d.deleteContents(),Nm(e,g,C.filter(xt(Ts,e.schema)));const A=g?t[0]:t[t.length-1];return Qb(e,A,s,g),Ts(e.schema,A)?X.none():X.some(g?t.slice(1):t.slice(0,-1))}).getOr(t);nR(a),lE(e)}),oR=(e,t,n,s)=>X.some(()=>{const a=e.selection.getRng(),d=t[0],g=n[n.length-1];Qb(e,d,a,!0),Qb(e,g,a,!1);const C=Ts(e.schema,d)?t:t.slice(1),A=Ts(e.schema,g)?n:n.slice(0,-1);nR(C.concat(A)),s.deleteContents(),lE(e)}),uE=(e,t,n,s=!0)=>X.some(()=>{YC(e,t,n,s)}),Jh=(e,t)=>X.some(()=>ol(e,!1,t)),n7=(e,t,n)=>e7(t,n).bind(s=>s.fold(xt(uE,e),xt(Jh,e),xt(cE,e),xt(oR,e))),o7=(e,t)=>e_(e,t),r7=(e,t,n,s)=>dE(t,s).fold(()=>n7(e,t,n),a=>o7(e,a)),s7=(e,t,n)=>{const s=Oe.fromDom(e.getBody()),a=e.selection.getRng();return n.length!==0?cE(e,n,X.none()):r7(e,s,a,t)},rR=(e,t)=>Bt(bc(t,e),cc),dE=(e,t)=>Bt(bc(t,e),zd("caption")),i7=(e,t,n,s,a)=>Mb(n,e.getBody(),a).bind(d=>rR(t,Oe.fromDom(d.getNode())).bind(g=>Po(g,s)?X.none():X.some(sn))),e_=(e,t)=>X.some(()=>{uc(t),e.selection.setCursorLocation(t.dom,0)}),a7=(e,t,n,s)=>$n(e.dom).bind(a=>Cu(e.dom).map(d=>t?n.isEqual(a)&&s.isEqual(d):n.isEqual(d)&&s.isEqual(a))).getOr(!0),t_=(e,t)=>e_(e,t),l7=(e,t,n)=>dE(e,Oe.fromDom(n.getNode())).fold(()=>X.some(sn),s=>ng(!Po(s,t),sn)),Xy=(e,t,n,s,a)=>Mb(n,e.getBody(),a).fold(()=>X.some(sn),d=>a7(s,n,a,d)?t_(e,s):l7(t,s,d)),fE=(e,t,n,s)=>{const a=ft.fromRangeStart(e.selection.getRng());return rR(n,s).bind(d=>Ts(e.schema,d,{checkRootAsContent:!1})?e_(e,d):i7(e,n,t,d,a))},e1=(e,t,n,s)=>{const a=ft.fromRangeStart(e.selection.getRng());return Ts(e.schema,s)?e_(e,s):Xy(e,n,t,s,a)},Qh=(e,t)=>e?SD(t):Kv(t),n_=(e,t)=>{const n=ft.fromRangeStart(e.selection.getRng());return Qh(t,n)||Zc(t,e.getBody(),n).exists(s=>Qh(t,s))},o_=(e,t,n)=>{const s=Oe.fromDom(e.getBody());return dE(s,n).fold(()=>fE(e,t,s,n).orThunk(()=>ng(n_(e,t),sn)),a=>e1(e,t,s,a))},Zg=(e,t)=>{const n=Oe.fromDom(e.selection.getStart(!0)),s=pf(e);return e.selection.isCollapsed()&&s.length===0?o_(e,t,n):s7(e,n,s)},Du=(e,t)=>{let n=t;for(;n&&n!==e;){if(oc(n)||to(n))return n;n=n.parentNode}return null},r_=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],s_=Wt.each,i_=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),s=(d,g)=>{if(d.nodeName!==g.nodeName||d.nodeType!==g.nodeType)return!1;const C=L=>{const W={};return s_(t.getAttribs(L),q=>{const Y=q.nodeName.toLowerCase();Y!=="style"&&!a(Y)&&(W[Y]=t.getAttrib(L,Y))}),W},A=(L,W)=>{for(const q in L)if(Yn(L,q)){const Y=W[q];if(Ye(Y)||L[q]!==Y)return!1;delete W[q]}for(const q in W)if(Yn(W,q))return!1;return!0};return yn(d)&&yn(g)&&(!A(C(d),C(g))||!A(t.parseStyle(t.getAttrib(d,"style")),t.parseStyle(t.getAttrib(g,"style"))))?!1:!jc(d)&&!jc(g)},a=d=>De(r_,g=>Zr(d,g))||n.has(d);return{compare:s,isAttributeInternal:a}},a_=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),mE=e=>e.name==="summary",sR=(e,t)=>{let n=e;for(;n=n.walk();)t(n)},gE=(e,t,n,s)=>{const a=n.name;for(let d=0,g=e.length;d<g;d++){const C=e[d];if(C.name===a){const A=s.nodes[a];A?A.nodes.push(n):s.nodes[a]={filter:C,nodes:[n]}}}if(n.attributes)for(let d=0,g=t.length;d<g;d++){const C=t[d],A=C.name;if(A in n.attributes.map){const L=s.attributes[A];L?L.nodes.push(n):s.attributes[A]={filter:C,nodes:[n]}}}},Jv=(e,t,n)=>{const s={nodes:{},attributes:{}};return n.firstChild&&sR(n,a=>{gE(e,t,a,s)}),s},hE=(e,t)=>{const n=(s,a)=>{$o(s,d=>{const g=so(d.nodes);_e(d.filter.callbacks,C=>{for(let A=g.length-1;A>=0;A--){const L=g[A];(!(a?L.attr(d.filter.name)!==void 0:L.name===d.filter.name)||gt(L.parent))&&g.splice(A,1)}g.length>0&&C(g,d.filter.name,t)})})};n(e.nodes,!1),n(e.attributes,!0)},pE=(e,t,n,s={})=>{const a=Jv(e,t,n);hE(a,s)},l_=(e,t,n,s)=>{if((e.pad_empty_with_br||t.insert)&&n(s)){const d=new la("br",1);t.insert&&d.attr("data-mce-bogus","1"),s.empty().append(d)}else s.empty().append(new la("#text",3)).value=di},c_=e=>{var t;return bE(e,"#text")&&((t=e==null?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===di},bE=(e,t)=>{const n=e==null?void 0:e.firstChild;return Se(n)&&n===e.lastChild&&n.name===t},iR=(e,t)=>{const n=e.getElementRule(t.name);return(n==null?void 0:n.paddEmpty)===!0},Qv=(e,t,n,s)=>s.isEmpty(t,n,a=>iR(e,a)),aR=(e,t)=>Se(e)&&(t(e)||e.name==="br"),Wg=e=>{let t;for(let n=e;n;n=n.parent){const s=n.attr("contenteditable");if(s==="false")break;s==="true"&&(t=n)}return X.from(t)},Im=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const s=e.children();for(const a of s)n&&!t.isValidChild(n.name,a.name)&&Im(a,t,n);e.unwrap()}},qc=(e,t,n,s=sn)=>{const a=t.getTextBlockElements(),d=t.getNonEmptyElements(),g=t.getWhitespaceElements(),C=Wt.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),A=new Set,L=W=>W!==n&&!C[W.name];for(let W=0;W<e.length;W++){const q=e[W];let Y,ce,he;if(!q.parent||A.has(q))continue;if(a[q.name]&&q.parent.name==="li"){let we=q.next;for(;we&&a[we.name];){we.name="li",A.add(we),q.parent.insert(we,q.parent);we=we.next}q.unwrap();continue}const ue=[q];for(Y=q.parent;Y&&!t.isValidChild(Y.name,q.name)&&L(Y);Y=Y.parent)ue.push(Y);if(Y&&ue.length>1)if(Jy(t,q,Y))Im(q,t);else{ue.reverse(),ce=ue[0].clone(),s(ce);let we=ce;for(let Pe=0;Pe<ue.length-1;Pe++){t.isValidChild(we.name,ue[Pe].name)&&Pe>0?(he=ue[Pe].clone(),s(he),we.append(he)):he=we;for(let Ze=ue[Pe].firstChild;Ze&&Ze!==ue[Pe+1];){const Ve=Ze.next;he.append(Ze),Ze=Ve}we=he}Qv(t,d,g,ce)?Y.insert(q,ue[0],!0):(Y.insert(ce,ue[0],!0),Y.insert(q,ce)),Y=ue[0],(Qv(t,d,g,Y)||bE(Y,"br"))&&Y.empty().remove()}else if(q.parent){if(q.name==="li"){let we=q.prev;if(we&&(we.name==="ul"||we.name==="ol")){we.append(q);continue}if(we=q.next,we&&(we.name==="ul"||we.name==="ol")&&we.firstChild){we.insert(q,we.firstChild,!0);continue}const Pe=new la("ul",1);s(Pe),q.wrap(Pe);continue}if(t.isValidChild(q.parent.name,"div")&&t.isValidChild("div",q.name)){const we=new la("div",1);s(we),q.wrap(we)}else Im(q,t)}}},vE=(e,t)=>{let n=e;for(;n;){if(n.name===t)return!0;n=n.parent}return!1},Jy=(e,t,n=t.parent)=>n?e.children[t.name]&&!e.isValidChild(n.name,t.name)||t.name==="a"&&vE(n,"a")?!0:mE(n)&&a_(t)?!((n==null?void 0:n.firstChild)===t&&(n==null?void 0:n.lastChild)===t):!1:!1,lR=(e,t,n,s)=>{const a=document.createRange();return a.setStart(e,t),a.setEnd(n,s),a},cR=e=>{const t=ft.fromRangeStart(e),n=ft.fromRangeEnd(e),s=e.commonAncestorContainer;return Zc(!1,s,n).map(a=>!Sm(t,n,s)&&Sm(t,a,s)?lR(t.container(),t.offset(),a.container(),a.offset()):e).getOr(e)},u_=e=>e.collapsed?e:cR(e),xE=e=>Se(e.firstChild)&&e.firstChild===e.lastChild,uR=e=>e.name==="br"||e.value===di,dR=(e,t)=>e.getBlockElements()[t.name]&&xE(t)&&uR(t.firstChild),yE=(e,t)=>{const n=e.getNonEmptyElements();return Se(t)&&(t.isEmpty(n)||dR(e,t))},Bm=(e,t)=>{let n=t.firstChild,s=t.lastChild;return n&&n.name==="meta"&&(n=n.next),s&&s.attr("id")==="mce_marker"&&(s=s.prev),yE(e,s)&&(s=s==null?void 0:s.prev),!n||n!==s?!1:n.name==="ul"||n.name==="ol"},hd=e=>{var t,n;const s=e.firstChild,a=e.lastChild;return s&&s.nodeName==="META"&&((t=s.parentNode)===null||t===void 0||t.removeChild(s)),a&&a.id==="mce_marker"&&((n=a.parentNode)===null||n===void 0||n.removeChild(a)),e},d_=(e,t,n)=>{const s=t.serialize(n),a=e.createFragment(s);return hd(a)},fR=e=>{var t;return _t((t=e==null?void 0:e.childNodes)!==null&&t!==void 0?t:[],n=>n.nodeName==="LI")},f_=e=>e.data===di||Jr(e),mR=e=>Se(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&f_(e.firstChild),gR=e=>!e.firstChild||mR(e),hR=e=>e.length>0&&gR(e[e.length-1])?e.slice(0,-1):e,m_=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&n.nodeName==="LI"?n:null},pR=(e,t)=>!!m_(e,t),bR=(e,t)=>{const n=t.cloneRange(),s=t.cloneRange();return n.setStartBefore(e),s.setEndAfter(e),[n.cloneContents(),s.cloneContents()]},g_=(e,t)=>{const n=ft.before(e),a=Fn(t).next(n);return a?a.toRange():null},h_=(e,t)=>{const n=ft.after(e),a=Fn(t).prev(n);return a?a.toRange():null},vR=(e,t,n,s)=>{const a=bR(e,s),d=e.parentNode;return d&&(d.insertBefore(a[0],e),Wt.each(t,g=>{d.insertBefore(g,e)}),d.insertBefore(a[1],e),d.removeChild(e)),h_(t[t.length-1],n)},wE=(e,t,n)=>{const s=e.parentNode;return s&&Wt.each(t,a=>{s.insertBefore(a,e)}),g_(e,n)},c7=(e,t,n,s)=>(s.insertAfter(t.reverse(),e),h_(t[0],n)),u7=(e,t,n,s)=>{const a=d_(t,e,s),d=m_(t,n.startContainer),g=hR(fR(a.firstChild)),C=1,A=2,L=t.getRoot(),W=q=>{const Y=ft.fromRangeStart(n),ce=Fn(t.getRoot()),he=q===C?ce.prev(Y):ce.next(Y),ue=he==null?void 0:he.getNode();return ue?m_(t,ue)!==d:!0};return d?W(C)?wE(d,g,L):W(A)?c7(d,g,L,t):vR(d,g,L,n):null},d7=["pre"],f7=(e,t,n,s)=>{var a;const d=t.firstChild,g=t.lastChild,C=g.attr("data-mce-type")==="bookmark"?g.prev:g,A=d===C,L=ve(d7,d.name);if(A&&L){const W=d.attr("contenteditable")!=="false",q=((a=e.getParent(n,e.isBlock))===null||a===void 0?void 0:a.nodeName.toLowerCase())===d.name,Y=X.from(Du(s,n)).forall(oc);return W&&q&&Y}else return!1},CE=ph,m7=(e,t,n)=>{if(Se(n)){const s=e.getParent(t.endContainer,CE);return n===s&&fy(Oe.fromDom(n),t)}else return!1},p_=(e,t,n)=>{var s;if(n.getAttribute("data-mce-bogus")==="all")(s=n.parentNode)===null||s===void 0||s.insertBefore(e.dom.createFragment(t),n);else{const a=n.firstChild,d=n.lastChild;!a||a===d&&a.nodeName==="BR"?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})}},_E=(e,t,n)=>{X.from(e.getParent(t,"td,th")).map(Oe.fromDom).each(s=>Px(s,n))},xR=(e,t)=>{const n=e.schema.getTextInlineElements(),s=e.dom;if(t){const a=e.getBody(),d=i_(e),g="*[data-mce-fragment]",C=s.select(g);Wt.each(C,A=>{const L=Y=>Se(n[Y.nodeName.toLowerCase()]),W=Y=>Y.childNodes.length===1;if((Y=>!(BA(s,Y)||xD(s,Y)))(A)&&L(A)&&W(A)){const Y=Kb(s,A),ce=(Pe,Ze)=>eo(Pe,Ve=>ve(Ze,Ve)),he=Pe=>W(A)&&s.is(Pe,g)&&L(Pe)&&(Pe.nodeName===A.nodeName&&ce(Y,Kb(s,Pe))||he(Pe.children[0])),ue=Pe=>Se(Pe)&&Pe!==a&&(d.compare(A,Pe)||ue(Pe.parentElement)),we=Pe=>Se(Pe)&&Pe!==a&&s.is(Pe,g)&&(HP(s,A,Pe)||we(Pe.parentElement));(he(A.children[0])||ue(A.parentElement)&&!we(A.parentElement))&&s.remove(A,!0)}})}},SE=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},g7=e=>{Wt.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},h7=e=>!!e.getAttribute("data-mce-fragment"),p7=(e,t)=>Se(t)&&!e.schema.getVoidElements()[t.nodeName],b7=(e,t)=>{var n,s,a;let d;const g=e.dom,C=e.selection;if(!t)return;C.scrollIntoView(t);const A=Du(e.getBody(),t);if(A&&g.getContentEditable(A)==="false"){g.remove(t),C.select(A);return}let L=g.createRng();const W=t.previousSibling;if(Lt(W)){L.setStart(W,(s=(n=W.nodeValue)===null||n===void 0?void 0:n.length)!==null&&s!==void 0?s:0);const ce=t.nextSibling;Lt(ce)&&(W.appendData(ce.data),(a=ce.parentNode)===null||a===void 0||a.removeChild(ce))}else L.setStartBefore(t),L.setEndBefore(t);const q=ce=>{let he=ft.fromRangeStart(ce);return he=Fn(e.getBody()).next(he),he==null?void 0:he.toRange()},Y=g.getParent(t,g.isBlock);if(g.remove(t),Y&&g.isEmpty(Y)){const ce=CE(Y);Mr(Oe.fromDom(Y)),L.setStart(Y,0),L.setEnd(Y,0),!ce&&!h7(Y)&&(d=q(L))?(L=d,g.remove(Y)):g.add(Y,g.create("br",ce?{}:{"data-mce-bogus":"1"}))}C.setRng(L)},v7=e=>{const t=e.dom,n=u_(e.selection.getRng());e.selection.setRng(n);const s=t.getParent(n.startContainer,CE);m7(t,n,s)?uE(e,n,Oe.fromDom(s)):n.startContainer===n.endContainer&&n.endOffset-n.startOffset===1&&Lt(n.startContainer.childNodes[n.startOffset])?n.deleteContents():e.getDoc().execCommand("Delete",!1)},x7=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return X.some(t);return X.none()},b_=(e,t,n)=>{var s;return De(n.children(),a_)&&((s=e.getParent(t,e.isBlock))===null||s===void 0?void 0:s.nodeName)==="SUMMARY"},v_=(e,t,n)=>{var s,a;const d=e.selection,g=e.dom,C=e.parser,A=n.merge,L=Vg({validate:!0},e.schema),W='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.preserve_zwsp||(t=tl(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,W);let q=d.getRng();const Y=q.startContainer,ce=e.getBody();Y===ce&&d.isCollapsed()&&g.isBlock(ce.firstChild)&&p7(e,ce.firstChild)&&g.isEmpty(ce.firstChild)&&(q=g.createRng(),q.setStart(ce.firstChild,0),q.setEnd(ce.firstChild,0),d.setRng(q)),d.isCollapsed()||v7(e);const he=d.getNode(),ue={context:he.nodeName.toLowerCase(),data:n.data,insert:!0},we=C.parse(t,ue);if(n.paste===!0&&Bm(e.schema,we)&&pR(g,he))return q=u7(L,g,d.getRng(),we),q&&d.setRng(q),t;n.paste===!0&&f7(g,we,he,e.getBody())&&((s=we.firstChild)===null||s===void 0||s.unwrap()),SE(we);let Pe=we.lastChild;if(Pe&&Pe.attr("id")==="mce_marker"){const Ze=Pe;for(Pe=Pe.prev;Pe;Pe=Pe.walk(!0))if(Pe.type===3||!g.isBlock(Pe.name)){Pe.parent&&e.schema.isValidChild(Pe.parent.name,"span")&&Pe.parent.insert(Ze,Pe,Pe.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(he),!ue.invalid&&!b_(g,he,we))t=L.serialize(we),p_(e,t,he);else{e.selection.setContent(W);let Ze=d.getNode(),Ve;const st=e.getBody();for(Cn(Ze)?Ze=Ve=st:Ve=Ze;Ve&&Ve!==st;)Ze=Ve,Ve=Ve.parentNode;t=Ze===st?st.innerHTML:g.getOuterHTML(Ze);const Rt=C.parse(t),Zt=x7(Rt),dn=Zt.bind(Wg).getOr(Rt);Zt.each(pn=>pn.replace(we));const vt=we.children(),ut=(a=we.parent)!==null&&a!==void 0?a:Rt;we.unwrap();const Ot=_t(vt,pn=>Jy(e.schema,pn,ut));qc(Ot,e.schema,dn),pE(C.getNodeFilters(),C.getAttributeFilters(),Rt),t=L.serialize(Rt),Ze===st?g.setHTML(st,t):g.setOuterHTML(Ze,t)}return xR(e,A),b7(e,g.get("mce_marker")),g7(e.getBody()),_E(g,d.getStart(),e.schema),td(e.schema,e.getBody(),d.getStart()),t},t1=e=>e instanceof la,y7=e=>{$v(e)&&$n(e.getBody()).each(t=>{const n=t.getNode(),s=Bc(n)?$n(n).getOr(t):t;e.selection.setRng(s.toRange())})},kE=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),n!==!0&&y7(e)},w7=(e,t,n,s)=>{if(n=tl(n),n.length===0||/^\s+$/.test(n)){const a='<br data-mce-bogus="1">';t.nodeName==="TABLE"?n="<tr><td>"+a+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+a+"</li>");const d=La(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),d.toLowerCase())?(n=a,n=e.dom.createHTML(d,qx(e),n)):n||(n=a),kE(e,n,s.no_selection),{content:n,html:n}}else{s.format!=="raw"&&(n=Vg({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const a=hb(Oe.fromDom(t))?n:Wt.trim(n);return kE(e,a,s.no_selection),{content:a,html:a}}},C7=(e,t,n,s)=>{pE(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const a=Vg({validate:!1},e.schema).serialize(n),d=tl(hb(Oe.fromDom(t))?a:Wt.trim(a));return kE(e,d,s.no_selection),{content:n,html:d}},_7=(e,t,n)=>X.from(e.getBody()).map(s=>t1(t)?C7(e,s,t,n):w7(e,s,t,n)).getOr({content:t,html:t1(n.content)?"":n.content}),yR=e=>Ne(e)?e:Sn,pd=(e,t,n)=>{let s=e.dom;const a=yR(n);for(;s.parentNode;){s=s.parentNode;const d=Oe.fromDom(s),g=t(d);if(g.isSome())return g;if(a(d))break}return X.none()},Qy=(e,t,n)=>{const s=t(e),a=yR(n);return s.orThunk(()=>a(e)?X.none():pd(e,t,a))},x_=Fv,AE=(e,t,n)=>{const s=e.formatter.get(n);if(s)for(let a=0;a<s.length;a++){const d=s[a];if(gc(d)&&d.inherit===!1&&e.dom.is(t,d.selector))return!0}return!1},y_=(e,t,n,s,a)=>{const d=e.dom.getRoot();if(t===d)return!1;const g=e.dom.getParent(t,C=>AE(e,C,n)?!0:C.parentNode===d||!!Mm(e,C,n,s,!0));return!!Mm(e,g,n,s,a)},w_=(e,t,n)=>qi(n)&&x_(t,n.inline)||bf(n)&&x_(t,n.block)?!0:gc(n)?yn(t)&&e.is(t,n.selector):!1,EE=(e,t,n,s,a,d)=>{const g=n[s],C=s==="attributes";if(Ne(n.onmatch))return n.onmatch(t,n,s);if(g){if(nn(g)){for(let A=0;A<g.length;A++)if(C?e.getAttrib(t,g[A]):gy(e,t,g[A]))return!0}else for(const A in g)if(Yn(g,A)){const L=C?e.getAttrib(t,A):gy(e,t,A),W=Pg(g[A],d),q=gt(L)||Ft(L);if(q&&gt(W))continue;if(a&&q&&!n.exact||(!a||n.exact)&&!x_(L,dC(W,A)))return!1}}return!0},Mm=(e,t,n,s,a)=>{const d=e.formatter.get(n),g=e.dom;if(d&&yn(t))for(let C=0;C<d.length;C++){const A=d[C];if(w_(e.dom,t,A)&&EE(g,t,A,"attributes",a,s)&&EE(g,t,A,"styles",a,s)){const L=A.classes;if(L){for(let W=0;W<L.length;W++)if(!e.dom.hasClass(t,Pg(L[W],s)))return}return A}}},ep=(e,t,n,s,a)=>{if(s)return y_(e,s,t,n,a);if(s=e.selection.getNode(),y_(e,s,t,n,a))return!0;const d=e.selection.getStart();return!!(d!==s&&y_(e,d,t,n,a))},wR=(e,t,n)=>{const s=[],a={},d=e.selection.getStart();return e.dom.getParent(d,g=>{for(let C=0;C<t.length;C++){const A=t[C];!a[A]&&Mm(e,g,A,n)&&(a[A]=!0,s.push(A))}},e.dom.getRoot()),s},CR=(e,t)=>{const n=a=>Po(a,Oe.fromDom(e.getBody())),s=(a,d)=>Mm(e,a.dom,d)?X.some(d):X.none();return X.from(e.selection.getStart(!0)).bind(a=>Qy(Oe.fromDom(a),d=>Nr(t,g=>s(d,g)),n)).getOrNull()},_R=(e,t)=>{const n=e.formatter.get(t),s=e.dom;if(n&&e.selection.isEditable()){const a=e.selection.getStart(),d=hy(s,a);for(let g=n.length-1;g>=0;g--){const C=n[g];if(!gc(C))return!0;for(let A=d.length-1;A>=0;A--)if(s.is(d[A],C.selector))return!0}}return!1},TE=(e,t,n)=>je(n,(s,a)=>{const d=u5(e,a);return e.formatter.matchNode(t,a,{},d)?s.concat([a]):s},[]),e2=oi,S7=(e,t)=>e.importNode(t,!0),SR=e=>{if(e){const t=new $i(e,e);for(let n=t.current();n;n=t.next())if(Lt(n))return n}return null},Pm=e=>{const t=Oe.fromTag("span");return ma(t,{id:Iv,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&As(t,Oe.fromText(e2)),t},OE=e=>{const t=SR(e);return t&&t.data.charAt(0)===e2&&t.deleteData(0,1),t},DE=(e,t,n)=>{const s=e.dom,a=e.selection;if(Jk(t))ol(e,!1,Oe.fromDom(t),n,!0);else{const d=a.getRng(),g=s.getParent(t,s.isBlock),C=d.startContainer,A=d.startOffset,L=d.endContainer,W=d.endOffset,q=OE(t);s.remove(t,!0),C===q&&A>0&&d.setStart(q,A-1),L===q&&W>0&&d.setEnd(q,W-1),g&&s.isEmpty(g)&&uc(Oe.fromDom(g)),a.setRng(d)}},RE=(e,t,n)=>{const s=e.dom,a=e.selection;if(t)DE(e,t,n);else if(t=Ph(e.getBody(),a.getStart()),!t)for(;t=s.get(Iv);)DE(e,t,n)},n1=(e,t,n)=>{var s,a;const d=e.dom,g=d.getParent(n,xt(uC,e.schema));g&&d.isEmpty(g)?(s=n.parentNode)===null||s===void 0||s.replaceChild(t,n):(Bl(Oe.fromDom(n)),d.isEmpty(n)?(a=n.parentNode)===null||a===void 0||a.replaceChild(t,n):d.insertAfter(t,n))},NE=(e,t)=>(e.appendChild(t),t),t2=(e,t)=>{var n;const s=Yt(e,(d,g)=>NE(d,g.cloneNode(!1)),t),a=(n=s.ownerDocument)!==null&&n!==void 0?n:document;return NE(s,a.createTextNode(e2))},k7=(e,t,n,s,a,d)=>{const g=e.formatter,C=e.dom,A=_t(Ht(g.get()),q=>q!==s&&!dr(q,"removeformat")),L=TE(e,n,A);if(_t(L,q=>!d5(e,q,s)).length>0){const q=n.cloneNode(!1);return C.add(t,q),g.remove(s,a,q,d),C.remove(q),X.some(q)}else return X.none()},kR=e=>ub(e,hm(e).replace(new RegExp(`${di}$`)," ")),IE=(e,t)=>{const n=()=>{t!==null&&!e.dom.isEmpty(t)&&ti(Oe.fromDom(t)).each(s=>{Wr(s)?kR(s):Ci(s,a=>Wr(a)).each(a=>{Wr(a)&&kR(a)})})};e.once("input",s=>{s.data&&!Lb(s.data)&&(s.isComposing?e.once("compositionend",()=>{n()}):n())})},jg=(e,t,n)=>{let s;const a=e.selection,d=e.formatter.get(t);if(!d)return;const g=a.getRng();let C=g.startOffset;const L=g.startContainer.nodeValue;s=Ph(e.getBody(),a.getStart());const W=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(L&&C>0&&C<L.length&&W.test(L.charAt(C))&&W.test(L.charAt(C-1))){const q=a.getBookmark();g.collapse(!0);let Y=zh(e.dom,g,d);Y=Ry(Y),e.formatter.apply(t,n,Y),a.moveToBookmark(q)}else{let q=s?SR(s):null;(!s||(q==null?void 0:q.data)!==e2)&&(s=S7(e.getDoc(),Pm(!0).dom),q=s.firstChild,g.insertNode(s),C=1,IE(e,s)),e.formatter.apply(t,n,s),a.setCursorLocation(q,C)}},BE=(e,t,n,s)=>{const a=e.dom,d=e.selection;let g=!1;const C=e.formatter.get(t);if(!C)return;const A=d.getRng(),L=A.startContainer,W=A.startOffset;let q=L;Lt(L)&&(W!==L.data.length&&(g=!0),q=q.parentNode);const Y=[];let ce;for(;q;){if(Mm(e,q,t,n,s)){ce=q;break}q.nextSibling&&(g=!0),Y.push(q),q=q.parentNode}if(ce)if(g){const he=d.getBookmark();A.collapse(!0);let ue=zh(a,A,C,!0);ue=Ry(ue),e.formatter.remove(t,n,ue,s),d.moveToBookmark(he)}else{const he=Ph(e.getBody(),ce),ue=Se(he)?a.getParents(ce.parentNode,Mn,he):[],we=Pm(!1).dom;n1(e,we,he??ce);const Pe=k7(e,we,ce,t,n,s),Ze=t2([...Y,...Pe.toArray(),...ue],we);he&&DE(e,he,Se(he)),d.setCursorLocation(Ze,1),IE(e,we),a.isEmpty(ce)&&a.remove(ce)}},ME=(e,t,n)=>{const s=e.selection,a=e.getBody();RE(e,null,n),(t===8||t===46)&&s.isCollapsed()&&s.getStart().innerHTML===e2&&RE(e,Ph(a,s.getStart()),!0),(t===37||t===39)&&RE(e,Ph(a,s.getStart()),!0)},PE=e=>Lt(e)&&xe(e.data,di),AR=e=>{e.on("mouseup keydown",t=>{ME(e,t.keyCode,PE(e.selection.getRng().endContainer))})},LE=e=>{const t=Pm(!1),n=t2(e,t.dom);return{caretContainer:t,caretPosition:ft(n,0)}},FE=(e,t)=>{const{caretContainer:n,caretPosition:s}=LE(t);return ds(Oe.fromDom(e),n),lr(Oe.fromDom(e)),s},A7=(e,t)=>{const{caretContainer:n,caretPosition:s}=LE(t);return e.insertNode(n.dom),s},e0=(e,t)=>{if(Wc(t.dom))return!1;const n=e.schema.getTextInlineElements();return Yn(n,Mo(t))&&!Wc(t.dom)&&!Kd(t.dom)},tp={},zE=Ui(["pre"]),ER=(e,t)=>{tp[e]||(tp[e]=[]),tp[e].push(t)},TR=(e,t)=>{Yn(tp,e)&&_e(tp[e],n=>{n(t)})};ER("pre",e=>{const t=e.selection.getRng(),n=a=>d=>{const g=d.previousSibling;return zE(g)&&ve(a,g)},s=(a,d)=>{const g=Oe.fromDom(d),C=Ol(g).dom;lr(g),Ls(Oe.fromDom(a),[Oe.fromTag("br",C),Oe.fromTag("br",C),...Vi(g)])};if(!t.collapsed){const a=e.selection.getSelectedBlocks(),d=_t(_t(a,zE),n(a));_e(d,g=>{s(g.previousSibling,g)})}});const HE=["fontWeight","fontStyle","color","fontSize","fontFamily"],C_=e=>ae(e.styles)&&De(Ht(e.styles),t=>ve(HE,t)),VE=e=>Bt(e,t=>qi(t)&&t.inline==="span"&&C_(t)),t0=(e,t)=>{const n=e.get(t);return oe(n)?VE(n):X.none()},OR=(e,t)=>mc(t,ft.fromRangeStart(e)).isNone(),$E=(e,t)=>_l(t,ft.fromRangeEnd(e)).exists(n=>!Jr(n.getNode())||_l(t,n).isSome())===!1,DR=e=>t=>sx(t)&&e.isEditable(t),E7=e=>{const t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return OR(n,t[0])&&$E(n,t[0])?t:[];{const s=jt(t).filter(g=>OR(n,g)).toArray(),a=ao(t).filter(g=>$E(n,g)).toArray(),d=t.slice(1,-1);return s.concat(d).concat(a)}},RR=e=>_t(E7(e),DR(e.dom)),UE=e=>_t(e.getSelectedBlocks(),DR(e.dom)),ZE=Wt.each,__=e=>yn(e)&&!jc(e)&&!Wc(e)&&!Kd(e),np=(e,t)=>{for(let n=e;n;n=n[t]){if(Lt(n)&&$e(n.data))return e;if(yn(n)&&!jc(n))return n}return e},WE=(e,t,n)=>{const s=i_(e),a=Ic(t)&&e.dom.isEditable(t),d=Ic(n)&&e.dom.isEditable(n);if(a&&d){const g=np(t,"previousSibling"),C=np(n,"nextSibling");if(s.compare(g,C)){for(let A=g.nextSibling;A&&A!==C;){const L=A;A=A.nextSibling,g.appendChild(L)}return e.dom.remove(C),Wt.each(Wt.grep(C.childNodes),A=>{g.appendChild(A)}),g}}return n},S_=(e,t,n,s)=>{var a;if(s&&t.merge_siblings!==!1){const d=(a=WE(e,Fb(s),s))!==null&&a!==void 0?a:s;WE(e,d,Fb(d,!0))}},NR=(e,t,n)=>{if(t.clear_child_styles){const s=t.links?"*:not(a)":"*";ZE(e.select(s,n),a=>{__(a)&&e.isEditable(a)&&ZE(t.styles,(d,g)=>{e.setStyle(a,g,"")})})}},n2=(e,t,n)=>{ZE(e.childNodes,s=>{__(s)&&(t(s)&&n(s),s.hasChildNodes()&&n2(s,t,n))})},op=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},jE=(e,t)=>n=>!!(n&&gy(e,n,t)),Gc=(e,t,n)=>s=>{e.setStyle(s,t,n),s.getAttribute("style")===""&&s.removeAttribute("style"),op(e,s)},Ru=Bo.generate([{keep:[]},{rename:["name"]},{removed:[]}]),KE=/^(src|href|style)$/,k_=Wt.each,A_=Fv,IR=e=>/^(TR|TH|TD)$/.test(e.nodeName),o1=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),o2=(e,t,n)=>{let s=t[n?"startContainer":"endContainer"],a=t[n?"startOffset":"endOffset"];if(yn(s)){const d=s.childNodes.length-1;!n&&a&&a--,s=s.childNodes[a>d?d:a]}return Lt(s)&&n&&a>=s.data.length&&(s=new $i(s,e.getBody()).next()||s),Lt(s)&&!n&&a===0&&(s=new $i(s,e.getBody()).prev()||s),s},qE=(e,t)=>{const n=t?"firstChild":"lastChild",s=e[n];return IR(e)&&s?e.nodeName==="TR"&&s[n]||s:e},E_=(e,t,n,s)=>{var a;const d=e.create(n,s);return(a=t.parentNode)===null||a===void 0||a.insertBefore(d,t),d.appendChild(t),d},T_=(e,t,n,s,a)=>{const d=Oe.fromDom(t),g=Oe.fromDom(e.create(s,a)),C=n?Xf(d):uu(d);return Ls(g,C),n?(ds(d,g),ba(g,d)):(Xe(d,g),As(g,d)),g.dom},T7=(e,t)=>t.links&&e.nodeName==="A",BR=(e,t,n)=>{const s=t.parentNode;let a;const d=e.dom,g=La(e);bf(n)&&s===d.getRoot()&&(!n.list_block||!A_(t,n.list_block))&&_e(so(t.childNodes),C=>{Lh(e,g,C.nodeName.toLowerCase())?a?a.appendChild(C):(a=E_(d,C,g),d.setAttribs(a,qx(e))):a=null}),!(g5(n)&&!A_(n.inline,t))&&d.remove(t,!0)},GE=(e,t,n)=>D(e)?{name:t,value:null}:{name:e,value:Pg(t,n)},MR=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},vc=(e,t,n,s,a)=>{let d=!1;k_(n.styles,(g,C)=>{const{name:A,value:L}=GE(C,g,s),W=dC(L,A);(n.remove_similar||Je(L)||!yn(a)||A_(gy(e,a,A),W))&&e.setStyle(t,A,""),d=!0}),d&&MR(e,t)},YE=(e,t,n)=>{t==="removeformat"?_e(UE(e.selection),s=>{_e(HE,a=>e.dom.setStyle(s,a,"")),MR(e.dom,s)}):t0(e.formatter,t).each(s=>{_e(UE(e.selection),a=>vc(e.dom,a,s,n,null))})},XE=(e,t,n,s,a)=>{const d=e.dom,g=i_(e),C=e.schema;if(qi(t)&&jp(C,t.inline)&&Xd(C,s)&&s.parentElement===e.getBody())return BR(e,s,t),Ru.removed();if(!t.ceFalseOverride&&s&&d.getContentEditableParent(s)==="false"||s&&!w_(d,s,t)&&!T7(s,t))return Ru.keep();const A=s,L=t.preserve_attributes;if(qi(t)&&t.remove==="all"&&oe(L)){const W=_t(d.getAttribs(A),q=>ve(L,q.name.toLowerCase()));if(d.removeAllAttribs(A),_e(W,q=>d.setAttrib(A,q.name,q.value)),W.length>0)return Ru.rename("span")}if(t.remove!=="all"){vc(d,A,t,n,a),k_(t.attributes,(q,Y)=>{const{name:ce,value:he}=GE(Y,q,n);if(t.remove_similar||Je(he)||!yn(a)||A_(d.getAttrib(a,ce),he)){if(ce==="class"){const ue=d.getAttrib(A,ce);if(ue){let we="";if(_e(ue.split(/\s+/),Pe=>{/mce\-\w+/.test(Pe)&&(we+=(we?" ":"")+Pe)}),we){d.setAttrib(A,ce,we);return}}}if(KE.test(ce)&&A.removeAttribute("data-mce-"+ce),ce==="style"&&Ui(["li"])(A)&&d.getStyle(A,"list-style-type")==="none"){A.removeAttribute(ce),d.setStyle(A,"list-style-type","none");return}ce==="class"&&A.removeAttribute("className"),A.removeAttribute(ce)}}),k_(t.classes,q=>{q=Pg(q,n),(!yn(a)||d.hasClass(a,q))&&d.removeClass(A,q)});const W=d.getAttribs(A);for(let q=0;q<W.length;q++){const Y=W[q].nodeName;if(!g.isAttributeInternal(Y))return Ru.keep()}}return t.remove!=="none"?(BR(e,A,t),Ru.removed()):Ru.keep()},JE=(e,t,n,s,a)=>{let d;return t.parentNode&&_e(hy(e.dom,t.parentNode).reverse(),g=>{if(!d&&yn(g)&&g.id!=="_start"&&g.id!=="_end"){const C=Mm(e,g,n,s,a);C&&C.split!==!1&&(d=g)}}),d},PR=(e,t,n,s)=>XE(e,t,n,s,s).fold(rt(s),a=>(e.dom.createFragment().appendChild(s),e.dom.rename(s,a)),rt(null)),r2=(e,t,n,s,a,d,g,C)=>{var A,L;let W,q;const Y=e.dom;if(n){const ce=n.parentNode;for(let he=s.parentNode;he&&he!==ce;he=he.parentNode){let ue=Y.clone(he,!1);for(let we=0;we<t.length&&(ue=PR(e,t[we],C,ue),ue!==null);we++);ue&&(W&&ue.appendChild(W),q||(q=ue),W=ue)}(!g.mixed||!Y.isBlock(n))&&(s=(A=Y.split(n,s))!==null&&A!==void 0?A:s),W&&q&&((L=a.parentNode)===null||L===void 0||L.insertBefore(W,a),q.appendChild(a),qi(g)&&S_(e,g,C,W))}return s},Kg=(e,t,n,s,a)=>{const d=e.formatter.get(t),g=d[0],C=e.dom,A=e.selection,L=ue=>{const we=JE(e,ue,t,n,a);return r2(e,d,we,ue,ue,!0,g,n)},W=ue=>jc(ue)&&yn(ue)&&(ue.id==="_start"||ue.id==="_end"),q=ue=>De(d,we=>sp(e,we,n,ue,ue)),Y=ue=>{const we=so(ue.childNodes),Ze=q(ue)||De(d,Rt=>w_(C,ue,Rt)),Ve=ue.parentNode;if(!Ze&&Se(Ve)&&mC(g)&&q(Ve),g.deep&&we.length)for(let Rt=0;Rt<we.length;Rt++)Y(we[Rt]);_e(["underline","line-through","overline"],Rt=>{yn(ue)&&e.dom.getStyle(ue,"text-decoration")===Rt&&ue.parentNode&&Xk(C,ue.parentNode)===Rt&&sp(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Rt}},void 0,ue)})},ce=ue=>{const we=C.get(ue?"_start":"_end");if(we){let Pe=we[ue?"firstChild":"lastChild"];return W(Pe)&&(Pe=Pe[ue?"firstChild":"lastChild"]),Lt(Pe)&&Pe.data.length===0&&(Pe=ue?we.previousSibling||we.nextSibling:we.nextSibling||we.previousSibling),C.remove(we,!0),Pe}else return null},he=ue=>{let we,Pe,Ze=zh(C,ue,d,ue.collapsed);if(g.split){if(Ze=Ry(Ze),we=o2(e,Ze,!0),Pe=o2(e,Ze),we!==Pe){if(we=qE(we,!0),Pe=qE(Pe,!1),o1(C,we,Pe)){const st=X.from(we.firstChild).getOr(we);L(T_(C,st,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ce(!0);return}if(o1(C,Pe,we)){const st=X.from(Pe.lastChild).getOr(Pe);L(T_(C,st,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ce(!1);return}we=E_(C,we,"span",{id:"_start","data-mce-type":"bookmark"}),Pe=E_(C,Pe,"span",{id:"_end","data-mce-type":"bookmark"});const Ve=C.createRng();Ve.setStartAfter(we),Ve.setEndBefore(Pe),xy(C,Ve,st=>{_e(st,Rt=>{!jc(Rt)&&!jc(Rt.parentNode)&&L(Rt)})}),L(we),L(Pe),we=ce(!0),Pe=ce()}else we=Pe=L(we);Ze.startContainer=we.parentNode?we.parentNode:we,Ze.startOffset=C.nodeIndex(we),Ze.endContainer=Pe.parentNode?Pe.parentNode:Pe,Ze.endOffset=C.nodeIndex(Pe)+1}xy(C,Ze,Ve=>{_e(Ve,Y)})};if(s){if(Lv(s)){const ue=C.createRng();ue.setStartBefore(s),ue.setEndAfter(s),he(ue)}else he(s);_5(e,t,s,n);return}!A.isCollapsed()||!qi(g)||pf(e).length?(qk(e,()=>Pv(e,he),ue=>qi(g)&&ep(e,t,n,ue)),e.nodeChanged()):BE(e,t,n,a),YE(e,t,n),_5(e,t,s,n)},rp=(e,t,n,s,a)=>{(s||e.selection.isEditable())&&Kg(e,t,n,s,a)},sp=(e,t,n,s,a)=>XE(e,t,n,s,a).fold(Sn,d=>(e.dom.rename(s,d),!0),Mn),O_=Wt.each,QE=(e,t,n,s)=>{const a=d=>{if(Ic(d)&&yn(d.parentNode)&&e.isEditable(d)){const g=Xk(e,d.parentNode);e.getStyle(d,"color")&&g?e.setStyle(d,"text-decoration",g):e.getStyle(d,"text-decoration")===g&&e.setStyle(d,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(Wt.walk(s,a,"childNodes"),a(s))},LR=(e,t,n,s)=>{if(t.styles&&t.styles.backgroundColor){const a=jE(e,"fontSize");n2(s,d=>a(d)&&e.isEditable(d),Gc(e,"backgroundColor",Pg(t.styles.backgroundColor,n)))}},O7=(e,t,n,s)=>{if(qi(t)&&(t.inline==="sub"||t.inline==="sup")){const a=jE(e,"fontSize");n2(s,g=>a(g)&&e.isEditable(g),Gc(e,"fontSize",""));const d=_t(e.select(t.inline==="sup"?"sub":"sup",s),e.isEditable);e.remove(d,!0)}},FR=(e,t,n,s)=>{O_(t,a=>{qi(a)&&O_(e.dom.select(a.inline,s),d=>{__(d)&&sp(e,a,n,d,a.exact?d:null)}),NR(e.dom,a,s)})},zR=(e,t,n,s,a)=>{const d=a.parentNode;Mm(e,d,n,s)&&sp(e,t,s,a)||t.merge_with_parents&&d&&e.dom.getParent(d,g=>Mm(e,g,n,s)?(sp(e,t,s,a),!0):!1)},s2=Wt.each,HR=(e,t,n,s)=>{if(C8(e)&&qi(t)&&n.parentNode){const a=J1(e.schema),d=zp(Oe.fromDom(n),g=>Wc(g.dom));return xl(a,s)&&Nl(e.schema,n.parentNode,{skipBogus:!1,includeZwsp:!0})&&!d}else return!1},VR=(e,t,n,s)=>{if(s2(n.styles,(a,d)=>{e.setStyle(t,d,Pg(a,s))}),n.styles){const a=e.getAttrib(t,"style");a&&e.setAttrib(t,"data-mce-style",a)}},D7=(e,t,n,s)=>{const a=e.formatter.get(t),d=a[0],g=!s&&e.selection.isCollapsed(),C=e.dom,A=e.selection,L=(he,ue=d)=>{Ne(ue.onformat)&&ue.onformat(he,ue,n,s),VR(C,he,ue,n),s2(ue.attributes,(we,Pe)=>{C.setAttrib(he,Pe,Pg(we,n))}),s2(ue.classes,we=>{const Pe=Pg(we,n);C.hasClass(he,Pe)||C.addClass(he,Pe)})},W=(he,ue)=>{let we=!1;return s2(he,Pe=>gc(Pe)?C.getContentEditable(ue)==="false"&&!Pe.ceFalseOverride||Se(Pe.collapsed)&&Pe.collapsed!==g?!0:C.is(ue,Pe.selector)&&!Wc(ue)?(L(ue,Pe),we=!0,!1):!0:!1),we},q=he=>{if(Fe(he)){const ue=C.create(he);return L(ue),ue}else return null},Y=(he,ue,we)=>{const Pe=[];let Ze=!0;const Ve=d.inline||d.block,st=q(Ve),Rt=vt=>f5(d)&&Mm(e,vt,t,n),Zt=(vt,ut,Ot)=>{const pn=m5(d)&&uC(e.schema,vt)&&Lh(e,ut,Ve);return Ot&&pn},dn=(vt,ut,Ot,pn)=>{const On=vt.nodeName.toLowerCase(),wo=Lh(e,Ve,On)&&Lh(e,ut,Ve),Oo=!we&&Lt(vt)&&dc(vt.data),cr=Wc(vt),wr=!qi(d)||!he.isBlock(vt);return(Ot||pn)&&wo&&!Oo&&!cr&&wr};xy(he,ue,vt=>{let ut;const Ot=pn=>{let On=!1,wo=Ze,Oo=!1;const cr=pn.parentNode,wr=cr.nodeName.toLowerCase(),js=he.getContentEditable(pn);Se(js)&&(wo=Ze,Ze=js==="true",On=!0,Oo=Yk(e,pn));const il=Ze&&!On;if(Jr(pn)&&!HR(e,d,pn,wr)){ut=null,bf(d)&&he.remove(pn);return}if(Rt(pn)){ut=null;return}if(Zt(pn,wr,il)){const Dr=he.rename(pn,Ve);L(Dr),Pe.push(Dr),ut=null;return}if(gc(d)){let Dr=W(a,pn);if(!Dr&&Se(cr)&&mC(d)&&(Dr=W(a,cr)),!qi(d)||Dr){ut=null;return}}Se(st)&&dn(pn,wr,il,Oo)?(ut||(ut=he.clone(st,!1),cr.insertBefore(ut,pn),Pe.push(ut)),Oo&&On&&(Ze=wo),ut.appendChild(pn)):(ut=null,_e(so(pn.childNodes),Ot),On&&(Ze=wo),ut=null)};_e(vt,Ot)}),d.links===!0&&_e(Pe,vt=>{const ut=Ot=>{Ot.nodeName==="A"&&L(Ot,d),_e(so(Ot.childNodes),ut)};ut(vt)}),_e(Pe,vt=>{const ut=On=>{let wo=0;return _e(On.childNodes,Oo=>{!Y8(Oo)&&!jc(Oo)&&wo++}),wo},Ot=On=>Bt(On.childNodes,cC).filter(Oo=>he.getContentEditable(Oo)!=="false"&&w_(he,Oo,d)).map(Oo=>{const cr=he.clone(Oo,!1);return L(cr),he.replace(cr,On,!0),he.remove(Oo,!0),cr}).getOr(On),pn=ut(vt);if((Pe.length>1||!he.isBlock(vt))&&pn===0){he.remove(vt,!0);return}(qi(d)||bf(d)&&d.wrapper)&&(!d.exact&&pn===1&&(vt=Ot(vt)),FR(e,a,n,vt),zR(e,d,t,n,vt),LR(he,d,n,vt),QE(he,d,n,vt),O7(he,d,n,vt),S_(e,d,n,vt))})},ce=Lv(s)?s:A.getNode();if(C.getContentEditable(ce)==="false"&&!Yk(e,ce)){s=ce,W(a,s),C5(e,t,s,n);return}if(d){if(s)if(Lv(s)){if(!W(a,s)){const he=C.createRng();he.setStartBefore(s),he.setEndAfter(s),Y(C,zh(C,he,a),!0)}}else Y(C,s,!0);else!g||!qi(d)||pf(e).length?(A.setRng(u_(A.getRng())),qk(e,()=>{Pv(e,(he,ue)=>{const we=ue?he:zh(C,he,a);Y(C,we,!1)})},Mn),e.nodeChanged()):jg(e,t,n),t0(e.formatter,t).each(he=>{_e(RR(e.selection),ue=>VR(C,ue,he,n))});TR(t,e)}C5(e,t,s,n)},$R=(e,t,n,s)=>{(s||e.selection.isEditable())&&D7(e,t,n,s)},Sl=e=>Yn(e,"vars"),UR=(e,t)=>{e.set({}),t.on("NodeChange",n=>{t3(t,n.element,e.get())}),t.on("FormatApply FormatRemove",n=>{const s=X.from(n.node).map(a=>Lv(a)?a:a.startContainer).bind(a=>yn(a)?X.some(a):X.from(a.parentElement)).getOrThunk(()=>n0(t));t3(t,s,e.get())})},n0=e=>e.selection.getStart(),ZR=(e,t,n,s,a)=>et(t,C=>{const A=e.formatter.matchNode(C,n,a??{},s);return!Ye(A)},C=>AE(e,C,n)?!0:s?!1:Se(e.formatter.matchNode(C,n,a,!0))),e3=(e,t)=>{const n=t??n0(e);return _t(hy(e.dom,n),s=>yn(s)&&!Kd(s))},t3=(e,t,n)=>{const s=e3(e,t);$o(n,(a,d)=>{const g=C=>{const A=ZR(e,s,d,C.similar,Sl(C)?C.vars:void 0),L=A.isSome();if(C.state.get()!==L){C.state.set(L);const W=A.getOr(t);Sl(C)?C.callback(L,{node:W,format:d,parents:s}):_e(C.callbacks,q=>q(L,{node:W,format:d,parents:s}))}};_e([a.withSimilar,a.withoutSimilar],g),_e(a.withVars,g)})},n3=(e,t,n,s,a,d)=>{const g=t.get();_e(n.split(","),C=>{const A=ar(g,C).getOrThunk(()=>{const W={withSimilar:{state:fi(!1),similar:!0,callbacks:[]},withoutSimilar:{state:fi(!1),similar:!1,callbacks:[]},withVars:[]};return g[C]=W,W}),L=()=>{const W=e3(e);return ZR(e,W,C,a,d).isSome()};if(Ye(d)){const W=a?A.withSimilar:A.withoutSimilar;W.callbacks.push(s),W.callbacks.length===1&&W.state.set(L())}else A.withVars.push({state:fi(L()),similar:a,vars:d,callback:s})}),t.set(g)},WR=(e,t,n)=>{const s=e.get();_e(t.split(","),a=>ar(s,a).each(d=>{s[a]={withSimilar:{...d.withSimilar,callbacks:_t(d.withSimilar.callbacks,g=>g!==n)},withoutSimilar:{...d.withoutSimilar,callbacks:_t(d.withoutSimilar.callbacks,g=>g!==n)},withVars:_t(d.withVars,g=>g.callback!==n)}})),e.set(s)},R7=(e,t,n,s,a,d)=>(n3(e,t,n,s,a,d),{unbind:()=>WR(t,n,s)}),N7=(e,t,n,s)=>{const a=e.formatter.get(t);a&&(ep(e,t,n,s)&&(!("toggle"in a[0])||a[0].toggle)?rp(e,t,n,s):$R(e,t,n,s))},jR=Wt.explode,D_=()=>{const e={};return{addFilter:(a,d)=>{_e(jR(a),g=>{Yn(e,g)||(e[g]={name:g,callbacks:[]}),e[g].callbacks.push(d)})},getFilters:()=>nu(e),removeFilter:(a,d)=>{_e(jR(a),g=>{if(Yn(e,g))if(Se(d)){const C=e[g],A=_t(C.callbacks,L=>L!==d);A.length>0?C.callbacks=A:delete e[g]}else delete e[g]})}}},I7=(e,t)=>{_e(t,n=>{e.attr(n,null)})},B7=(e,t,n)=>{e.addNodeFilter("font",s=>{_e(s,a=>{const d=t.parse(a.attr("style")),g=a.attr("color"),C=a.attr("face"),A=a.attr("size");g&&(d.color=g),C&&(d["font-family"]=C),A&&an(A).each(L=>{d["font-size"]=n[L-1]}),a.name="span",a.attr("style",t.serialize(d)),I7(a,["color","face","size"])})})},KR=(e,t,n)=>{e.addNodeFilter("strike",s=>{const a=t.type!=="html4";_e(s,d=>{if(a)d.name="s";else{const g=n.parse(d.attr("style"));g["text-decoration"]="line-through",d.name="span",d.attr("style",n.serialize(g))}})})},M7=(e,t,n)=>{var s;const a=_x();t.convert_fonts_to_spans&&B7(e,a,Wt.explode((s=t.font_size_legacy_values)!==null&&s!==void 0?s:"")),KR(e,n,a)},P7=(e,t,n)=>{t.inline_styles&&M7(e,t,n)},o3=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),R_=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},N_=e=>{const[t,...n]=e.split(","),s=n.join(","),a=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(a){const d=a[2]===";base64",g=d?R_(s):decodeURIComponent(s);return X.some({type:a[1],data:g,base64Encoded:d})}else return X.none()},r3=(e,t,n=!0)=>{let s=t;if(n)try{s=atob(t)}catch{return X.none()}const a=new Uint8Array(s.length);for(let d=0;d<a.length;d++)a[d]=s.charCodeAt(d);return X.some(new Blob([a],{type:e}))},s3=e=>new Promise((t,n)=>{N_(e).bind(({type:s,data:a,base64Encoded:d})=>r3(s,a,d)).fold(()=>n("Invalid data URI"),t)}),L7=e=>Zr(e,"blob:")?o3(e):Zr(e,"data:")?s3(e):Promise.reject("Unknown URI format"),qR=e=>new Promise((t,n)=>{const s=new FileReader;s.onloadend=()=>{t(s.result)},s.onerror=()=>{var a;n((a=s.error)===null||a===void 0?void 0:a.message)},s.readAsDataURL(e)});let F7=0;const r1=e=>"blobid"+F7++,GR=(e,t,n)=>N_(e).bind(({data:s,type:a,base64Encoded:d})=>{if(t&&!d)return X.none();{const g=d?s:btoa(s);return n(g,a)}}),i2=(e,t,n)=>{const s=e.create(r1(),t,n);return e.add(s),s},YR=(e,t,n=!1)=>GR(t,n,(s,a)=>X.from(e.getByData(s,a)).orThunk(()=>r3(a,s).map(d=>i2(e,d,s)))),i3=(e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(Zr(t,"blob:")){const s=e.getByUri(t);return Se(s)?Promise.resolve(s):L7(t).then(a=>qR(a).then(d=>GR(d,!1,g=>X.some(i2(e,a,g))).getOrThunk(n)))}else return Zr(t,"data:")?YR(e,t).fold(n,s=>Promise.resolve(s)):Promise.reject("Unknown image data format")},XR=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,JR=e=>X.from(e.match(XR)).bind(t=>Ar(t,1)).map(t=>Zr(t,"www.")?t.substring(4):t),a3=(e,t)=>{X.from(e.attr("src")).bind(JR).forall(n=>!ve(t,n))&&e.attr("sandbox","")},o0=(e,t)=>Zr(e,`${t}/`),z7=e=>Ye(e)?"iframe":o0(e,"image")?"img":o0(e,"video")?"video":o0(e,"audio")?"audio":"iframe",H7=({type:e,src:t,width:n,height:s}={},a,d)=>{const g=z7(e),C=new la(g,1);return C.attr(g==="audio"?{src:t}:{src:t,width:n,height:s}),(g==="audio"||g==="video")&&C.attr("controls",""),g==="iframe"&&a&&a3(C,d),C},l3=e=>Se(e.attr("data-mce-bogus")),QR=e=>e.attr("src")===So.transparentSrc||Se(e.attr("data-mce-placeholder")),V7=(e,t)=>{const{blob_cache:n}=t;if(n){const s=a=>{const d=a.attr("src");QR(a)||l3(a)||gt(d)||YR(n,d,!0).each(g=>{a.attr("src",g.blobUri())})};e.addAttributeFilter("src",a=>_e(a,s))}},$7=(e,t)=>{var n,s;const a=e.schema;e.addAttributeFilter("href",A=>{let L=A.length;const W=Y=>Y.split(" ").filter(he=>he.length>0).concat(["noopener"]).sort().join(" "),q=Y=>{const ce=Y?Wt.trim(Y):"";return/\b(noopener)\b/g.test(ce)?ce:W(ce)};if(!t.allow_unsafe_link_target)for(;L--;){const Y=A[L];Y.name==="a"&&Y.attr("target")==="_blank"&&Y.attr("rel",q(Y.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",A=>{let L=A.length,W,q,Y,ce;for(;L--;)if(ce=A[L],ce.name==="a"&&ce.firstChild&&!ce.attr("href"))for(Y=ce.parent,W=ce.lastChild;W&&Y;)q=W.prev,Y.insert(W,ce),W=q}),t.fix_list_elements&&e.addNodeFilter("ul,ol",A=>{let L=A.length,W,q;for(;L--;)if(W=A[L],q=W.parent,q&&(q.name==="ul"||q.name==="ol"))if(W.prev&&W.prev.name==="li")W.prev.append(W);else{const Y=new la("li",1);Y.attr("style","list-style-type: none"),W.wrap(Y)}});const d=a.getValidClasses();t.validate&&d&&e.addAttributeFilter("class",A=>{var L;let W=A.length;for(;W--;){const q=A[W],Y=(L=q.attr("class"))!==null&&L!==void 0?L:"",ce=Wt.explode(Y," ");let he="";for(let ue=0;ue<ce.length;ue++){const we=ce[ue];let Pe=!1,Ze=d["*"];Ze&&Ze[we]&&(Pe=!0),Ze=d[q.name],!Pe&&Ze&&Ze[we]&&(Pe=!0),Pe&&(he&&(he+=" "),he+=we)}he.length||(he=null),q.attr("class",he)}}),V7(e,t);const g=(n=t.sandbox_iframes)!==null&&n!==void 0?n:!1,C=Ms((s=t.sandbox_iframes_exclusions)!==null&&s!==void 0?s:[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",A=>_e(A,L=>{L.replace(H7({type:L.attr("type"),src:L.name==="object"?L.attr("data"):L.attr("src"),width:L.attr("width"),height:L.attr("height")},g,C))})),g&&e.addNodeFilter("iframe",A=>_e(A,L=>a3(L,C)))},{entries:eN,setPrototypeOf:tN,isFrozen:c3,getPrototypeOf:nN,getOwnPropertyDescriptor:U7}=Object;let{freeze:xc,seal:es,create:Z7}=Object,{apply:u3,construct:I_}=typeof Reflect<"u"&&Reflect;u3||(u3=function(t,n,s){return t.apply(n,s)}),xc||(xc=function(t){return t}),es||(es=function(t){return t}),I_||(I_=function(t,n){return new t(...n)});const d3=zl(Array.prototype.forEach),oN=zl(Array.prototype.pop),bd=zl(Array.prototype.push),r0=zl(String.prototype.toLowerCase),B_=zl(String.prototype.toString),f3=zl(String.prototype.match),Nu=zl(String.prototype.replace),m3=zl(String.prototype.indexOf),rN=zl(String.prototype.trim),Fl=zl(RegExp.prototype.test),ip=a2(TypeError);function zl(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return u3(e,t,s)}}function a2(e){return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return I_(e,n)}}function Vo(e,t,n){var s;n=(s=n)!==null&&s!==void 0?s:r0,tN&&tN(e,null);let a=t.length;for(;a--;){let d=t[a];if(typeof d=="string"){const g=n(d);g!==d&&(c3(t)||(t[a]=g),d=g)}e[d]=!0}return e}function Lm(e){const t=Z7(null);for(const[n,s]of eN(e))t[n]=s;return t}function l2(e,t){for(;e!==null;){const s=U7(e,t);if(s){if(s.get)return zl(s.get);if(typeof s.value=="function")return zl(s.value)}e=nN(e)}function n(s){return console.warn("fallback value for",s),null}return n}const g3=xc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),h3=xc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),M_=xc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),W7=xc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),p3=xc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),c2=xc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),sN=xc(["#text"]),iN=xc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),b3=xc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),aN=xc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),P_=xc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),j7=es(/\{\{[\w\W]*|[\w\W]*\}\}/gm),K7=es(/<%[\w\W]*|[\w\W]*%>/gm),q7=es(/\${[\w\W]*}/gm),G7=es(/^data-[\-\w.\u00B7-\uFFFF]/),Y7=es(/^aria-[\-\w]+$/),lN=es(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),cN=es(/^(?:\w+script|data):/i),uN=es(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),v3=es(/^html$/i);var x3=Object.freeze({__proto__:null,MUSTACHE_EXPR:j7,ERB_EXPR:K7,TMPLIT_EXPR:q7,DATA_ATTR:G7,ARIA_ATTR:Y7,IS_ALLOWED_URI:lN,IS_SCRIPT_OR_DATA:cN,ATTR_WHITESPACE:uN,DOCTYPE_NAME:v3});const dN=()=>typeof window>"u"?null:window,fN=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let s=null;const a="data-tt-policy-suffix";n&&n.hasAttribute(a)&&(s=n.getAttribute(a));const d="dompurify"+(s?"#"+s:"");try{return t.createPolicy(d,{createHTML(g){return g},createScriptURL(g){return g}})}catch{return console.warn("TrustedTypes policy "+d+" could not be created."),null}};function y3(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:dN();const t=Ro=>y3(Ro);if(t.version="3.0.5",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;const n=e.document,s=n.currentScript;let{document:a}=e;const{DocumentFragment:d,HTMLTemplateElement:g,Node:C,Element:A,NodeFilter:L,NamedNodeMap:W=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:q,DOMParser:Y,trustedTypes:ce}=e,he=A.prototype,ue=l2(he,"cloneNode"),we=l2(he,"nextSibling"),Pe=l2(he,"childNodes"),Ze=l2(he,"parentNode");if(typeof g=="function"){const Ro=a.createElement("template");Ro.content&&Ro.content.ownerDocument&&(a=Ro.content.ownerDocument)}let Ve,st="";const{implementation:Rt,createNodeIterator:Zt,createDocumentFragment:dn,getElementsByTagName:vt}=a,{importNode:ut}=n;let Ot={};t.isSupported=typeof eN=="function"&&typeof Ze=="function"&&Rt&&Rt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:pn,ERB_EXPR:On,TMPLIT_EXPR:wo,DATA_ATTR:Oo,ARIA_ATTR:cr,IS_SCRIPT_OR_DATA:wr,ATTR_WHITESPACE:js}=x3;let{IS_ALLOWED_URI:il}=x3,Dr=null;const Qt=Vo({},[...g3,...h3,...M_,...p3,...sN]);let An=null;const Jo=Vo({},[...iN,...b3,...aN,...P_]);let rn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),zn=null,Eo=null,un=!0,Co=!0,Do=!1,ca=!0,vr=!1,Xi=!1,kf=!1,oh=!1,$l=!1,Pu=!1,Af=!1,Lu=!0,Ef=!1;const Nn="user-content-";let Wo=!0,Is=!1,Js={},Oi=null;const Ha=Vo({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let vi=null;const xi=Vo({},["audio","video","img","source","image","track"]);let Ul=null;const Wm=Vo({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),jm="http://www.w3.org/1998/Math/MathML",Km="http://www.w3.org/2000/svg",Tf="http://www.w3.org/1999/xhtml";let S0=Tf,_S=!1,SS=null;const CH=Vo({},[jm,Km,Tf],B_);let x1;const UB=["application/xhtml+xml","text/html"],IZ="text/html";let Al,U2=null;const BZ=a.createElement("form"),_H=function(ht){return ht instanceof RegExp||ht instanceof Function},hp=function(ht){if(!(U2&&U2===ht)){if((!ht||typeof ht!="object")&&(ht={}),ht=Lm(ht),x1=UB.indexOf(ht.PARSER_MEDIA_TYPE)===-1?x1=IZ:x1=ht.PARSER_MEDIA_TYPE,Al=x1==="application/xhtml+xml"?B_:r0,Dr="ALLOWED_TAGS"in ht?Vo({},ht.ALLOWED_TAGS,Al):Qt,An="ALLOWED_ATTR"in ht?Vo({},ht.ALLOWED_ATTR,Al):Jo,SS="ALLOWED_NAMESPACES"in ht?Vo({},ht.ALLOWED_NAMESPACES,B_):CH,Ul="ADD_URI_SAFE_ATTR"in ht?Vo(Lm(Wm),ht.ADD_URI_SAFE_ATTR,Al):Wm,vi="ADD_DATA_URI_TAGS"in ht?Vo(Lm(xi),ht.ADD_DATA_URI_TAGS,Al):xi,Oi="FORBID_CONTENTS"in ht?Vo({},ht.FORBID_CONTENTS,Al):Ha,zn="FORBID_TAGS"in ht?Vo({},ht.FORBID_TAGS,Al):{},Eo="FORBID_ATTR"in ht?Vo({},ht.FORBID_ATTR,Al):{},Js="USE_PROFILES"in ht?ht.USE_PROFILES:!1,un=ht.ALLOW_ARIA_ATTR!==!1,Co=ht.ALLOW_DATA_ATTR!==!1,Do=ht.ALLOW_UNKNOWN_PROTOCOLS||!1,ca=ht.ALLOW_SELF_CLOSE_IN_ATTR!==!1,vr=ht.SAFE_FOR_TEMPLATES||!1,Xi=ht.WHOLE_DOCUMENT||!1,$l=ht.RETURN_DOM||!1,Pu=ht.RETURN_DOM_FRAGMENT||!1,Af=ht.RETURN_TRUSTED_TYPE||!1,oh=ht.FORCE_BODY||!1,Lu=ht.SANITIZE_DOM!==!1,Ef=ht.SANITIZE_NAMED_PROPS||!1,Wo=ht.KEEP_CONTENT!==!1,Is=ht.IN_PLACE||!1,il=ht.ALLOWED_URI_REGEXP||lN,S0=ht.NAMESPACE||Tf,rn=ht.CUSTOM_ELEMENT_HANDLING||{},ht.CUSTOM_ELEMENT_HANDLING&&_H(ht.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(rn.tagNameCheck=ht.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ht.CUSTOM_ELEMENT_HANDLING&&_H(ht.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(rn.attributeNameCheck=ht.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ht.CUSTOM_ELEMENT_HANDLING&&typeof ht.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(rn.allowCustomizedBuiltInElements=ht.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),vr&&(Co=!1),Pu&&($l=!0),Js&&(Dr=Vo({},[...sN]),An=[],Js.html===!0&&(Vo(Dr,g3),Vo(An,iN)),Js.svg===!0&&(Vo(Dr,h3),Vo(An,b3),Vo(An,P_)),Js.svgFilters===!0&&(Vo(Dr,M_),Vo(An,b3),Vo(An,P_)),Js.mathMl===!0&&(Vo(Dr,p3),Vo(An,aN),Vo(An,P_))),ht.ADD_TAGS&&(Dr===Qt&&(Dr=Lm(Dr)),Vo(Dr,ht.ADD_TAGS,Al)),ht.ADD_ATTR&&(An===Jo&&(An=Lm(An)),Vo(An,ht.ADD_ATTR,Al)),ht.ADD_URI_SAFE_ATTR&&Vo(Ul,ht.ADD_URI_SAFE_ATTR,Al),ht.FORBID_CONTENTS&&(Oi===Ha&&(Oi=Lm(Oi)),Vo(Oi,ht.FORBID_CONTENTS,Al)),Wo&&(Dr["#text"]=!0),Xi&&Vo(Dr,["html","head","body"]),Dr.table&&(Vo(Dr,["tbody"]),delete zn.tbody),ht.TRUSTED_TYPES_POLICY){if(typeof ht.TRUSTED_TYPES_POLICY.createHTML!="function")throw ip('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ht.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ip('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Ve=ht.TRUSTED_TYPES_POLICY,st=Ve.createHTML("")}else Ve===void 0&&(Ve=fN(ce,s)),Ve!==null&&typeof st=="string"&&(st=Ve.createHTML(""));xc&&xc(ht),U2=ht}},bT=Vo({},["mi","mo","mn","ms","mtext"]),ct=Vo({},["foreignobject","desc","title","annotation-xml"]),dt=Vo({},["title","style","font","a","script"]),Xt=Vo({},h3);Vo(Xt,M_),Vo(Xt,W7);const Ut=Vo({},p3);Vo(Ut,c2);const Zn=function(ht){let _n=Ze(ht);(!_n||!_n.tagName)&&(_n={namespaceURI:S0,tagName:"template"});const oo=r0(ht.tagName),ii=r0(_n.tagName);return SS[ht.namespaceURI]?ht.namespaceURI===Km?_n.namespaceURI===Tf?oo==="svg":_n.namespaceURI===jm?oo==="svg"&&(ii==="annotation-xml"||bT[ii]):!!Xt[oo]:ht.namespaceURI===jm?_n.namespaceURI===Tf?oo==="math":_n.namespaceURI===Km?oo==="math"&&ct[ii]:!!Ut[oo]:ht.namespaceURI===Tf?_n.namespaceURI===Km&&!ct[ii]||_n.namespaceURI===jm&&!bT[ii]?!1:!Ut[oo]&&(dt[oo]||!Xt[oo]):!!(x1==="application/xhtml+xml"&&SS[ht.namespaceURI]):!1},zo=function(ht){bd(t.removed,{element:ht});try{ht.parentNode.removeChild(ht)}catch{ht.remove()}},Bs=function(ht,_n){try{bd(t.removed,{attribute:_n.getAttributeNode(ht),from:_n})}catch{bd(t.removed,{attribute:null,from:_n})}if(_n.removeAttribute(ht),ht==="is"&&!An[ht])if($l||Pu)try{zo(_n)}catch{}else try{_n.setAttribute(ht,"")}catch{}},qm=function(ht){let _n,oo;if(oh)ht="<remove></remove>"+ht;else{const Gm=f3(ht,/^[\r\n\t ]+/);oo=Gm&&Gm[0]}x1==="application/xhtml+xml"&&S0===Tf&&(ht='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ht+"</body></html>");const ii=Ve?Ve.createHTML(ht):ht;if(S0===Tf)try{_n=new Y().parseFromString(ii,x1)}catch{}if(!_n||!_n.documentElement){_n=Rt.createDocument(S0,"template",null);try{_n.documentElement.innerHTML=_S?st:ii}catch{}}const Zl=_n.body||_n.documentElement;return ht&&oo&&Zl.insertBefore(a.createTextNode(oo),Zl.childNodes[0]||null),S0===Tf?vt.call(_n,Xi?"html":"body")[0]:Xi?_n.documentElement:Zl},ZB=function(ht){return Zt.call(ht.ownerDocument||ht,ht,L.SHOW_ELEMENT|L.SHOW_COMMENT|L.SHOW_TEXT,null,!1)},Qre=function(ht){return ht instanceof q&&(typeof ht.nodeName!="string"||typeof ht.textContent!="string"||typeof ht.removeChild!="function"||!(ht.attributes instanceof W)||typeof ht.removeAttribute!="function"||typeof ht.setAttribute!="function"||typeof ht.namespaceURI!="string"||typeof ht.insertBefore!="function"||typeof ht.hasChildNodes!="function")},WB=function(ht){return typeof C=="object"?ht instanceof C:ht&&typeof ht=="object"&&typeof ht.nodeType=="number"&&typeof ht.nodeName=="string"},y1=function(ht,_n,oo){Ot[ht]&&d3(Ot[ht],ii=>{ii.call(t,_n,oo,U2)})},MZ=function(ht){let _n;if(y1("beforeSanitizeElements",ht,null),Qre(ht))return zo(ht),!0;const oo=Al(ht.nodeName);if(y1("uponSanitizeElement",ht,{tagName:oo,allowedTags:Dr}),ht.hasChildNodes()&&!WB(ht.firstElementChild)&&(!WB(ht.content)||!WB(ht.content.firstElementChild))&&Fl(/<[/\w]/g,ht.innerHTML)&&Fl(/<[/\w]/g,ht.textContent))return zo(ht),!0;if(!Dr[oo]||zn[oo]){if(!zn[oo]&&LZ(oo)&&(rn.tagNameCheck instanceof RegExp&&Fl(rn.tagNameCheck,oo)||rn.tagNameCheck instanceof Function&&rn.tagNameCheck(oo)))return!1;if(Wo&&!Oi[oo]){const ii=Ze(ht)||ht.parentNode,Zl=Pe(ht)||ht.childNodes;if(Zl&&ii){const Gm=Zl.length;for(let ka=Gm-1;ka>=0;--ka)ii.insertBefore(ue(Zl[ka],!0),we(ht))}}return zo(ht),!0}return ht instanceof A&&!Zn(ht)||(oo==="noscript"||oo==="noembed"||oo==="noframes")&&Fl(/<\/no(script|embed|frames)/i,ht.innerHTML)?(zo(ht),!0):(vr&&ht.nodeType===3&&(_n=ht.textContent,_n=Nu(_n,pn," "),_n=Nu(_n,On," "),_n=Nu(_n,wo," "),ht.textContent!==_n&&(bd(t.removed,{element:ht.cloneNode()}),ht.textContent=_n)),y1("afterSanitizeElements",ht,null),!1)},PZ=function(ht,_n,oo){if(Lu&&(_n==="id"||_n==="name")&&(oo in a||oo in BZ))return!1;if(!(Co&&!Eo[_n]&&Fl(Oo,_n))){if(!(un&&Fl(cr,_n))){if(!An[_n]||Eo[_n]){if(!(LZ(ht)&&(rn.tagNameCheck instanceof RegExp&&Fl(rn.tagNameCheck,ht)||rn.tagNameCheck instanceof Function&&rn.tagNameCheck(ht))&&(rn.attributeNameCheck instanceof RegExp&&Fl(rn.attributeNameCheck,_n)||rn.attributeNameCheck instanceof Function&&rn.attributeNameCheck(_n))||_n==="is"&&rn.allowCustomizedBuiltInElements&&(rn.tagNameCheck instanceof RegExp&&Fl(rn.tagNameCheck,oo)||rn.tagNameCheck instanceof Function&&rn.tagNameCheck(oo))))return!1}else if(!Ul[_n]){if(!Fl(il,Nu(oo,js,""))){if(!((_n==="src"||_n==="xlink:href"||_n==="href")&&ht!=="script"&&m3(oo,"data:")===0&&vi[ht])){if(!(Do&&!Fl(wr,Nu(oo,js,"")))){if(oo)return!1}}}}}}return!0},LZ=function(ht){return ht.indexOf("-")>0},FZ=function(ht){let _n,oo,ii,Zl;y1("beforeSanitizeAttributes",ht,null);const{attributes:Gm}=ht;if(!Gm)return;const ka={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:An};for(Zl=Gm.length;Zl--;){_n=Gm[Zl];const{name:Ym,namespaceURI:SH}=_n;oo=Ym==="value"?_n.value:rN(_n.value);const tse=oo;if(ii=Al(Ym),ka.attrName=ii,ka.attrValue=oo,ka.keepAttr=!0,ka.forceKeepAttr=void 0,y1("uponSanitizeAttribute",ht,ka),oo=ka.attrValue,ka.forceKeepAttr)continue;if(!ka.keepAttr){Bs(Ym,ht);continue}if(!ca&&Fl(/\/>/i,oo)){Bs(Ym,ht);continue}vr&&(oo=Nu(oo,pn," "),oo=Nu(oo,On," "),oo=Nu(oo,wo," "));const zZ=Al(ht.nodeName);if(!PZ(zZ,ii,oo)){Bs(Ym,ht);continue}if(Ef&&(ii==="id"||ii==="name")&&(Bs(Ym,ht),oo=Nn+oo),Ve&&typeof ce=="object"&&typeof ce.getAttributeType=="function"&&!SH)switch(ce.getAttributeType(zZ,ii)){case"TrustedHTML":{oo=Ve.createHTML(oo);break}case"TrustedScriptURL":{oo=Ve.createScriptURL(oo);break}}if(oo!==tse)try{SH?ht.setAttributeNS(SH,Ym,oo):ht.setAttribute(Ym,oo)}catch{Bs(Ym,ht)}}y1("afterSanitizeAttributes",ht,null)},ese=function Ro(ht){let _n;const oo=ZB(ht);for(y1("beforeSanitizeShadowDOM",ht,null);_n=oo.nextNode();)y1("uponSanitizeShadowNode",_n,null),!MZ(_n)&&(_n.content instanceof d&&Ro(_n.content),FZ(_n));y1("afterSanitizeShadowDOM",ht,null)};return t.sanitize=function(Ro){let ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_n,oo,ii,Zl;if(_S=!Ro,_S&&(Ro="<!-->"),typeof Ro!="string"&&!WB(Ro))if(typeof Ro.toString=="function"){if(Ro=Ro.toString(),typeof Ro!="string")throw ip("dirty is not a string, aborting")}else throw ip("toString is not a function");if(!t.isSupported)return Ro;if(kf||hp(ht),t.removed=[],typeof Ro=="string"&&(Is=!1),Is){if(Ro.nodeName){const Ym=Al(Ro.nodeName);if(!Dr[Ym]||zn[Ym])throw ip("root node is forbidden and cannot be sanitized in-place")}}else if(Ro instanceof C)_n=qm("<!---->"),oo=_n.ownerDocument.importNode(Ro,!0),oo.nodeType===1&&oo.nodeName==="BODY"||oo.nodeName==="HTML"?_n=oo:_n.appendChild(oo);else{if(!$l&&!vr&&!Xi&&Ro.indexOf("<")===-1)return Ve&&Af?Ve.createHTML(Ro):Ro;if(_n=qm(Ro),!_n)return $l?null:Af?st:""}_n&&oh&&zo(_n.firstChild);const Gm=ZB(Is?Ro:_n);for(;ii=Gm.nextNode();)MZ(ii)||(ii.content instanceof d&&ese(ii.content),FZ(ii));if(Is)return Ro;if($l){if(Pu)for(Zl=dn.call(_n.ownerDocument);_n.firstChild;)Zl.appendChild(_n.firstChild);else Zl=_n;return(An.shadowroot||An.shadowrootmode)&&(Zl=ut.call(n,Zl,!0)),Zl}let ka=Xi?_n.outerHTML:_n.innerHTML;return Xi&&Dr["!doctype"]&&_n.ownerDocument&&_n.ownerDocument.doctype&&_n.ownerDocument.doctype.name&&Fl(v3,_n.ownerDocument.doctype.name)&&(ka="<!DOCTYPE "+_n.ownerDocument.doctype.name+`>
`+ka),vr&&(ka=Nu(ka,pn," "),ka=Nu(ka,On," "),ka=Nu(ka,wo," ")),Ve&&Af?Ve.createHTML(ka):ka},t.setConfig=function(Ro){hp(Ro),kf=!0},t.clearConfig=function(){U2=null,kf=!1},t.isValidAttribute=function(Ro,ht,_n){U2||hp({});const oo=Al(Ro),ii=Al(ht);return PZ(oo,ii,_n)},t.addHook=function(Ro,ht){typeof ht=="function"&&(Ot[Ro]=Ot[Ro]||[],bd(Ot[Ro],ht))},t.removeHook=function(Ro){if(Ot[Ro])return oN(Ot[Ro])},t.removeHooks=function(Ro){Ot[Ro]&&(Ot[Ro]=[])},t.removeAllHooks=function(){Ot={}},t}var w3=y3();const mN=Wt.each,gN=Wt.trim,X7=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],J7={ftp:21,http:80,https:443,mailto:25},hN=["img","video"],pN=(e,t)=>Se(e)?!e:Se(t)?!ve(hN,t):!0,Q7=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},C3=(e,t,n)=>{const s=Q7(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(s)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(s)?pN(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(s):/^data:/i.test(s)};class Iu{static parseDataUri(t){let n;const s=decodeURIComponent(t).split(","),a=/data:([^;]+)/.exec(s[0]);return a&&(n=a[1]),{type:n,data:s[1]}}static isDomSafe(t,n,s={}){if(s.allow_script_urls)return!0;{const a=pg.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!C3(s,a,n)}}static getDocumentBaseUrl(t){var n;let s;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?s=(n=t.href)!==null&&n!==void 0?n:"":s=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/")),s}constructor(t,n={}){this.path="",this.directory="",t=gN(t),this.settings=n;const s=n.base_uri,a=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){a.source=t;return}const d=t.indexOf("//")===0;if(t.indexOf("/")===0&&!d&&(t=(s&&s.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const C=s?s.path:new Iu(document.location.href).directory;if((s==null?void 0:s.protocol)==="")t="//mce_host"+a.toAbsPath(C,t);else{const A=/([^#?]*)([#?]?.*)/.exec(t);A&&(t=(s&&s.protocol||"http")+"://mce_host"+a.toAbsPath(C,A[1])+A[2])}}t=t.replace(/@@/g,"(mce_at)");const g=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);g&&mN(X7,(C,A)=>{let L=g[A];L&&(L=L.replace(/\(mce_at\)/g,"@@")),a[C]=L}),s&&(a.protocol||(a.protocol=s.protocol),a.userInfo||(a.userInfo=s.userInfo),!a.port&&a.host==="mce_host"&&(a.port=s.port),(!a.host||a.host==="mce_host")&&(a.host=s.host),a.source=""),d&&(a.protocol="")}setPath(t){const n=/^(.*?)\/?(\w+)?$/.exec(t);n&&(this.path=n[0],this.directory=n[1],this.file=n[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const n=new Iu(t,{base_uri:this});if(n.host!=="mce_host"&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&n.protocol!=="")return n.getURI();const s=this.getURI(),a=n.getURI();if(s===a||s.charAt(s.length-1)==="/"&&s.substr(0,s.length-1)===a)return s;let d=this.toRelPath(this.path,n.path);return n.query&&(d+="?"+n.query),n.anchor&&(d+="#"+n.anchor),d}toAbsolute(t,n){const s=new Iu(t,{base_uri:this});return s.getURI(n&&this.isSameOrigin(s))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const n=this.protocol?J7[this.protocol]:null;if(n&&(this.port||n)==(t.port||n))return!0}return!1}toRelPath(t,n){let s=0,a="",d,g;const C=t.substring(0,t.lastIndexOf("/")).split("/"),A=n.split("/");if(C.length>=A.length){for(d=0,g=C.length;d<g;d++)if(d>=A.length||C[d]!==A[d]){s=d+1;break}}if(C.length<A.length){for(d=0,g=A.length;d<g;d++)if(d>=C.length||C[d]!==A[d]){s=d+1;break}}if(s===1)return n;for(d=0,g=C.length-(s-1);d<g;d++)a+="../";for(d=s-1,g=A.length;d<g;d++)d!==s-1?a+="/"+A[d]:a+=A[d];return a}toAbsPath(t,n){let s=0;const a=/\/$/.test(n)?"/":"",d=t.split("/"),g=n.split("/"),C=[];mN(d,q=>{q&&C.push(q)});const A=[];for(let q=g.length-1;q>=0;q--)if(!(g[q].length===0||g[q]===".")){if(g[q]===".."){s++;continue}if(s>0){s--;continue}A.push(g[q])}const L=C.length-s;let W;return L<=0?W=fo(A).join("/"):W=C.slice(0,L).join("/")+"/"+fo(A).join("/"),W.indexOf("/")!==0&&(W="/"+W),a&&W.lastIndexOf("/")!==W.length-1&&(W+=a),W}getURI(t=!1){let n;return(!this.source||t)&&(n="",t||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source}}const eL=Wt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),_3="data-mce-type";let bN=0;const vN=(e,t,n,s,a)=>{var d,g,C,A;const L=t.validate,W=n.getSpecialElements();e.nodeType===Ld&&!t.allow_conditional_comments&&/^\[if/i.test((d=e.nodeValue)!==null&&d!==void 0?d:"")&&(e.nodeValue=" "+e.nodeValue);const q=(g=a==null?void 0:a.tagName)!==null&&g!==void 0?g:e.nodeName.toLowerCase();if(s!=="html"&&n.isValid(s)){Se(a)&&(a.allowedTags[q]=!0);return}if(e.nodeType!==Ga||q==="body")return;const Y=Oe.fromDom(e),ce=Ku(Y,_3),he=oa(Y,"data-mce-bogus");if(!ce&&Fe(he)){he==="all"?lr(Y):va(Y);return}const ue=n.getElementRule(q);if(L&&!ue){Yn(W,q)?lr(Y):va(Y);return}else Se(a)&&(a.allowedTags[q]=!0);if(L&&ue&&!ce){if(_e((C=ue.attributesForced)!==null&&C!==void 0?C:[],we=>{ei(Y,we.name,we.value==="{$uid}"?`mce_${bN++}`:we.value)}),_e((A=ue.attributesDefault)!==null&&A!==void 0?A:[],we=>{Ku(Y,we.name)||ei(Y,we.name,we.value==="{$uid}"?`mce_${bN++}`:we.value)}),ue.attributesRequired&&!De(ue.attributesRequired,we=>Ku(Y,we))){va(Y);return}if(ue.removeEmptyAttrs&&Us(Y)){va(Y);return}ue.outputName&&ue.outputName!==q&&Bx(Y,ue.outputName)}},tL=(e,t,n,s,a)=>{const d=e.tagName.toLowerCase(),{attrName:g,attrValue:C}=a;a.keepAttr=u2(t,n,s,d,g,C),a.keepAttr?(a.allowedAttributes[g]=!0,k3(g,n)&&(a.attrValue=g),t.allow_svg_data_urls&&Zr(C,"data:image/svg+xml")&&(a.forceKeepAttr=!0)):S3(e,g)&&(a.forceKeepAttr=!0)},u2=(e,t,n,s,a,d)=>n!=="html"&&!sm(s)?!0:!(a in eL&&C3(e,d,s))&&(!e.validate||t.isValid(s,a)||Zr(a,"data-")||Zr(a,"aria-")),S3=(e,t)=>e.hasAttribute(_3)&&(t==="id"||t==="class"||t==="style"),k3=(e,t)=>e in t.getBoolAttrs(),xN=(e,t,n,s)=>{const{attributes:a}=e;for(let d=a.length-1;d>=0;d--){const g=a[d],C=g.name,A=g.value;!u2(t,n,s,e.tagName.toLowerCase(),C,A)&&!S3(e,C)?e.removeAttribute(C):k3(C,n)&&e.setAttribute(C,C)}},nL=(e,t,n)=>{const s=w3();return s.addHook("uponSanitizeElement",(a,d)=>{vN(a,e,t,n.track(a),d)}),s.addHook("uponSanitizeAttribute",(a,d)=>{tL(a,e,t,n.current(),d)}),s},oL=(e,t)=>{const s={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return s.PARSER_MEDIA_TYPE=t,e.allow_script_urls?s.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(s.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),s},yN=e=>{const t=Sw(e);if(t==="svg"){const n=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(a=>`xlink:${a}`),s={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:n};w3().sanitize(e,s)}else if(t==="math"){const n={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}};w3().sanitize(e,n)}else throw new Error("Not a namespace element")},rL=(e,t)=>{const n=XS();if(e.sanitize){const s=nL(e,t,n);return{sanitizeHtmlElement:(d,g)=>{s.sanitize(d,oL(e,g)),s.removed=[],n.reset()},sanitizeNamespaceElement:yN}}else return{sanitizeHtmlElement:(d,g)=>{const C=document.createNodeIterator(d,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let A;for(;A=C.nextNode();){const L=n.track(A);vN(A,e,t,L),yn(A)&&xN(A,e,t,L)}n.reset()},sanitizeNamespaceElement:sn}},L_=Wt.makeMap,A3=Wt.extend,wN=(e,t,n,s)=>{const a=e.name,d=a in n&&a!=="title"&&a!=="textarea"&&a!=="noscript",g=t.childNodes;for(let C=0,A=g.length;C<A;C++){const L=g[C],W=new la(L.nodeName.toLowerCase(),L.nodeType);if(yn(L)){const q=L.attributes;for(let Y=0,ce=q.length;Y<ce;Y++){const he=q[Y];W.attr(he.name,he.value)}sm(W.name)&&(s(L),W.value=L.innerHTML)}else Lt(L)?(W.value=L.data,d&&(W.raw=!0)):(ho(L)||rx(L)||qd(L))&&(W.value=L.data);sm(W.name)||wN(W,L,n,s),e.append(W)}},Gi=(e,t,n)=>{const s=[];for(let a=e,d=a;a;d=a,a=a.walk()){const g=a;_e(t,C=>C(g)),gt(g.parent)&&g!==e?a=d:s.push(g)}for(let a=s.length-1;a>=0;a--){const d=s[a];_e(n,g=>g(d))}},Fm=(e,t,n,s)=>{const a=n.validate,d=t.getNonEmptyElements(),g=t.getWhitespaceElements(),C=A3(L_("script,style,head,html,body,title,meta,param"),t.getBlockElements()),A=J1(t),L=/[ \t\r\n]+/g,W=/^[ \t\r\n]+/,q=/[ \t\r\n]+$/,Y=Ze=>{let Ve=Ze.parent;for(;Se(Ve);){if(Ve.name in g)return!0;Ve=Ve.parent}return!1},ce=Ze=>{let Ve=Ze;for(;Se(Ve);){if(Ve.name in A)return Qv(t,d,g,Ve);Ve=Ve.parent}return!1},he=Ze=>Ze.name in C||yh(t,Ze)||sm(Ze.name)&&Ze.parent===e,ue=(Ze,Ve)=>{const st=Ve?Ze.prev:Ze.next;return Se(st)||gt(Ze.parent)?!1:he(Ze.parent)&&(Ze.parent!==e||s.isRootContent===!0)};return[Ze=>{var Ve;if(Ze.type===3&&!Y(Ze)){let st=(Ve=Ze.value)!==null&&Ve!==void 0?Ve:"";st=st.replace(L," "),(aR(Ze.prev,he)||ue(Ze,!0))&&(st=st.replace(W,"")),st.length===0||st===" "&&Ze.prev&&Ze.prev.type===Ld&&Ze.next&&Ze.next.type===Ld?Ze.remove():Ze.value=st}},Ze=>{var Ve;if(Ze.type===1){const st=t.getElementRule(Ze.name);if(a&&st){const Rt=Qv(t,d,g,Ze);st.paddInEmptyBlock&&Rt&&ce(Ze)?l_(n,s,he,Ze):st.removeEmpty&&Rt?he(Ze)?Ze.remove():Ze.unwrap():st.paddEmpty&&(Rt||c_(Ze))&&l_(n,s,he,Ze)}}else if(Ze.type===3&&!Y(Ze)){let st=(Ve=Ze.value)!==null&&Ve!==void 0?Ve:"";(Ze.next&&he(Ze.next)||ue(Ze,!1))&&(st=st.replace(q,"")),st.length===0?Ze.remove():Ze.value=st}}]},sL=(e,t)=>{var n;const s=(n=t.forced_root_block)!==null&&n!==void 0?n:e.forced_root_block;return s===!1?"":s===!0?"p":s},s0=(e={},t=ac())=>{const n=D_(),s=D_(),a={validate:!0,root_name:"body",sanitize:!0,...e},d=new DOMParser,g=rL(a,t),C=(Ve,st,Rt="html")=>{const Zt=Rt==="xhtml"?"application/xhtml+xml":"text/html",dn=Yn(t.getSpecialElements(),st.toLowerCase()),vt=dn?`<${st}>${Ve}</${st}>`:Ve,ut=()=>Rt==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${vt}</body></html>`:/^[\s]*<head/i.test(Ve)||/^[\s]*<html/i.test(Ve)||/^[\s]*<!DOCTYPE/i.test(Ve)?`<html>${vt}</html>`:`<body>${vt}</body>`,Ot=d.parseFromString(ut(),Zt).body;return g.sanitizeHtmlElement(Ot,Zt),dn?Ot.firstChild:Ot},A=n.addFilter,L=n.getFilters,W=n.removeFilter,q=s.addFilter,Y=s.getFilters,ce=s.removeFilter,he=(Ve,st)=>{Jy(t,Ve)&&st.push(Ve)},ue=(Ve,st)=>{const Rt=Fe(st.attr(_3)),Zt=st.type===1&&!Yn(Ve,st.name)&&!yh(t,st)&&!sm(st.name);return st.type===3||Zt&&!Rt},we=(Ve,st)=>{const Rt=A3(L_("script,style,head,html,body,title,meta,param"),t.getBlockElements()),Zt=/^[ \t\r\n]+/,dn=/[ \t\r\n]+$/;let vt=Ve.firstChild,ut=null;const Ot=pn=>{var On,wo;pn&&(vt=pn.firstChild,vt&&vt.type===3&&(vt.value=(On=vt.value)===null||On===void 0?void 0:On.replace(Zt,"")),vt=pn.lastChild,vt&&vt.type===3&&(vt.value=(wo=vt.value)===null||wo===void 0?void 0:wo.replace(dn,"")))};if(t.isValidChild(Ve.name,st.toLowerCase())){for(;vt;){const pn=vt.next;ue(Rt,vt)?(ut||(ut=new la(st,1),ut.attr(a.forced_root_block_attrs),Ve.insert(ut,vt)),ut.append(vt)):(Ot(ut),ut=null),vt=pn}Ot(ut)}},Ze={schema:t,addAttributeFilter:q,getAttributeFilters:Y,removeAttributeFilter:ce,addNodeFilter:A,getNodeFilters:L,removeNodeFilter:W,parse:(Ve,st={})=>{var Rt;const Zt=a.validate,dn=(Rt=st.context)!==null&&Rt!==void 0?Rt:a.root_name,vt=C(Ve,dn,st.format);Os(t,vt);const ut=new la(dn,11);wN(ut,vt,t.getSpecialElements(),g.sanitizeNamespaceElement),vt.innerHTML="";const[Ot,pn]=Fm(ut,t,a,st),On=[],wo=Zt?js=>he(js,On):sn,Oo={nodes:{},attributes:{}},cr=js=>gE(L(),Y(),js,Oo);if(Gi(ut,[Ot,cr],[pn,wo]),On.reverse(),Zt&&On.length>0)if(st.context){const{pass:js,fail:il}=en(On,Dr=>Dr.parent===ut);qc(il,t,ut,cr),st.invalid=js.length>0}else qc(On,t,ut,cr);const wr=sL(a,st);return wr&&(ut.name==="body"||st.isRootContent)&&we(ut,wr),st.invalid||hE(Oo,st),ut}};return $7(Ze,a),P7(Ze,a,t),Ze},iL=e=>t1(e)?Vg({validate:!1}).serialize(e):e,E3=(e,t,n)=>{const s=iL(e),a=t(s);if(a.isDefaultPrevented())return a;if(t1(e))if(a.content!==s){const d=s0({validate:!1,forced_root_block:!1,...n}).parse(a.content,{context:e.name});return{...a,content:d}}else return{...a,content:e};else return a},s1=e=>({sanitize:wO(e),sandbox_iframes:Ok(e),sandbox_iframes_exclusions:Yw(e)}),CN=(e,t)=>{if(t.no_events)return Vn.value(t);{const n=vf(e,t);return n.isDefaultPrevented()?Vn.error(S5(e,{content:"",...n}).content):Vn.value(n)}},vd=(e,t,n)=>n.no_events?t:E3(t,a=>S5(e,{...n,content:a}),s1(e)).content,T3=(e,t)=>{if(t.no_events)return Vn.value(t);{const n=E3(t.content,s=>oP(e,{...t,content:s}),s1(e));return n.isDefaultPrevented()?(Pl(e,n),Vn.error(void 0)):Vn.value(n)}},O3=(e,t,n)=>{n.no_events||Pl(e,{...n,content:t})},F_=(e,t,n)=>({element:e,width:t,rows:n}),D3=(e,t)=>({element:e,cells:t}),aL=(e,t)=>({x:e,y:t}),z_=(e,t)=>kc(e,t).bind(an).getOr(1),zm=(e,t,n,s,a)=>{const d=z_(a,"rowspan"),g=z_(a,"colspan"),C=e.rows;for(let A=n;A<n+d;A++){C[A]||(C[A]=D3(gm(s),[]));for(let L=t;L<t+g;L++){const W=C[A].cells;W[L]=A===n&&L===t?a:Rs(a)}}},_N=(e,t,n)=>{const s=e.rows;return!!(s[n]?s[n].cells:[])[t]},SN=(e,t,n)=>{for(;_N(e,t,n);)t++;return t},d2=e=>je(e,(t,n)=>n.cells.length>t?n.cells.length:t,0),H_=(e,t)=>{const n=e.rows;for(let s=0;s<n.length;s++){const a=n[s].cells;for(let d=0;d<a.length;d++)if(Po(a[d],t))return X.some(aL(d,s))}return X.none()},R3=(e,t,n,s,a)=>{const d=[],g=e.rows;for(let C=n;C<=a;C++){const A=g[C].cells,L=t<s?A.slice(t,s+1):A.slice(s,t+1);d.push(D3(g[C].element,L))}return d},kN=(e,t,n)=>{const s=t.x,a=t.y,d=n.x,g=n.y,C=a<g?R3(e,s,a,d,g):R3(e,s,g,d,a);return F_(e.element,d2(C),C)},AN=(e,t)=>{const n=Rs(e.element),s=Oe.fromTag("tbody");return Ls(s,t),As(n,s),n},lL=e=>tt(e.rows,t=>{const n=tt(t.cells,a=>{const d=gm(a);return bo(d,"colspan"),bo(d,"rowspan"),d}),s=Rs(t.element);return Ls(s,n),s}),cL=e=>{const t=F_(Rs(e),0,[]);return _e(Gs(e,"tr"),(n,s)=>{_e(Gs(n,"td,th"),(a,d)=>{zm(t,SN(t,d,s),s,n,a)})}),F_(t.element,d2(t.rows),t.rows)},uL=e=>AN(e,lL(e)),EN=(e,t,n)=>H_(e,t).bind(s=>H_(e,n).map(a=>kN(e,s,a))),TN=e=>Bt(e,t=>Mo(t)==="ul"||Mo(t)==="ol"),dL=(e,t)=>Bt(e,n=>Mo(n)==="li"&&fy(n,t)).fold(rt([]),n=>TN(e).map(s=>{const a=Oe.fromTag(Mo(s)),d=ql(lg(s),(g,C)=>Zr(C,"list-style"));return Io(a,d),[Oe.fromTag("li"),a]}).getOr([])),N3=(e,t)=>{const n=je(t,(s,a)=>(As(a,s),a),e);return t.length>0?hc([n]):n},ON=e=>pm(e)?Hi(e).filter(gb).fold(rt([]),t=>[e,t]):gb(e)?[e]:[],fL=(e,t,n)=>{const s=Oe.fromDom(t.commonAncestorContainer),a=bc(s,e),d=_t(a,A=>n.isWrapper(Mo(A))),g=dL(a,t),C=d.concat(g.length?g:ON(s));return tt(C,Rs)},I3=()=>hc([]),mL=(e,t,n)=>N3(Oe.fromDom(t.cloneContents()),fL(e,t,n)),gL=(e,t)=>Dc(t,"table",xt(Po,e)),rl=(e,t)=>gL(e,t[0]).bind(n=>{const s=t[0],a=t[t.length-1],d=cL(n);return EN(d,s,a).map(g=>hc([uL(g)]))}).getOrThunk(I3),hL=(e,t,n)=>t.length>0&&t[0].collapsed?I3():mL(e,t[0],n),pL=(e,t,n)=>{const s=s5(t,e);return s.length>0?rl(e,s):hL(e,t,n)},V_=(e,t)=>t>=0&&t<e.length&&Lb(e.charAt(t)),DN=e=>tl(e.innerText),$_=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),bL=e=>X.from(e.selection.getRng()).map(t=>{var n;const s=X.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),a=e.getBody(),d=$_(s),g=Oe.fromDom(t.cloneContents());mD(g),gD(g);const C=e.dom.add(a,d,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},g.dom),A=DN(C),L=tl((n=C.textContent)!==null&&n!==void 0?n:"");if(e.dom.remove(C),V_(L,0)||V_(L,L.length-1)){const W=s.getOr(a),q=DN(W),Y=q.indexOf(A);if(Y===-1)return A;{const ce=V_(q,Y-1),he=V_(q,Y+A.length);return(ce?" ":"")+A+(he?" ":"")}}else return A}).getOr(""),B3=(e,t)=>{const n=e.selection.getRng(),s=e.dom.create("body"),a=e.selection.getSel(),d=PC(e,Qr(a)),g=t.contextual?pL(Oe.fromDom(e.getBody()),d,e.schema).dom:n.cloneContents();return g&&s.appendChild(g),e.selection.serializer.serialize(s,t)},M3=(e,t)=>{if(t.format==="text")return bL(e);{const n=B3(e,t);return t.format==="tree"?n:e.selection.isCollapsed()?"":n}},vL=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),xL=(e,t,n={})=>{const s=vL(n,t);return CN(e,s).fold(Un,a=>{const d=M3(e,a);return vd(e,d,a)})},Bu=0,P3=1,RN=2,L3=(e,t)=>{const n=e.length+t.length+2,s=new Array(n),a=new Array(n),d=(W,q,Y)=>({start:W,end:q,diag:Y}),g=(W,q,Y,ce,he)=>{const ue=A(W,q,Y,ce);if(ue===null||ue.start===q&&ue.diag===q-ce||ue.end===W&&ue.diag===W-Y){let we=W,Pe=Y;for(;we<q||Pe<ce;)we<q&&Pe<ce&&e[we]===t[Pe]?(he.push([Bu,e[we]]),++we,++Pe):q-W>ce-Y?(he.push([RN,e[we]]),++we):(he.push([P3,t[Pe]]),++Pe)}else{g(W,ue.start,Y,ue.start-ue.diag,he);for(let we=ue.start;we<ue.end;++we)he.push([Bu,e[we]]);g(ue.end,q,ue.end-ue.diag,ce,he)}},C=(W,q,Y,ce)=>{let he=W;for(;he-q<ce&&he<Y&&e[he]===t[he-q];)++he;return d(W,he,q)},A=(W,q,Y,ce)=>{const he=q-W,ue=ce-Y;if(he===0||ue===0)return null;const we=he-ue,Pe=ue+he,Ze=(Pe%2===0?Pe:Pe+1)/2;s[1+Ze]=W,a[1+Ze]=q+1;let Ve,st,Rt,Zt,dn;for(Ve=0;Ve<=Ze;++Ve){for(st=-Ve;st<=Ve;st+=2){for(Rt=st+Ze,st===-Ve||st!==Ve&&s[Rt-1]<s[Rt+1]?s[Rt]=s[Rt+1]:s[Rt]=s[Rt-1]+1,Zt=s[Rt],dn=Zt-W+Y-st;Zt<q&&dn<ce&&e[Zt]===t[dn];)s[Rt]=++Zt,++dn;if(we%2!==0&&we-Ve<=st&&st<=we+Ve&&a[Rt-we]<=s[Rt])return C(a[Rt-we],st+W-Y,q,ce)}for(st=we-Ve;st<=we+Ve;st+=2){for(Rt=st+Ze-we,st===we-Ve||st!==we+Ve&&a[Rt+1]<=a[Rt-1]?a[Rt]=a[Rt+1]-1:a[Rt]=a[Rt-1],Zt=a[Rt]-1,dn=Zt-W+Y-st;Zt>=W&&dn>=Y&&e[Zt]===t[dn];)a[Rt]=Zt--,dn--;if(we%2===0&&-Ve<=st&&st<=Ve&&a[Rt]<=s[Rt+we])return C(a[Rt],st+W-Y,q,ce)}}return null},L=[];return g(0,e.length,0,t.length,L),L},F3=e=>yn(e)?e.outerHTML:Lt(e)?pg.encodeRaw(e.data,!1):ho(e)?"<!--"+e.data+"-->":"",U_=e=>{let t;const n=document.createElement("div"),s=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)s.appendChild(t);return s},NN=(e,t,n)=>{const s=U_(t);if(e.hasChildNodes()&&n<e.childNodes.length){const a=e.childNodes[n];e.insertBefore(s,a)}else e.appendChild(s)},IN=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];e.removeChild(n)}},BN=(e,t)=>{let n=0;_e(e,s=>{s[0]===Bu?n++:s[0]===P3?(NN(t,s[1],n),n++):s[0]===RN&&IN(t,n)})},yL=(e,t)=>_t(tt(so(e.childNodes),vn(tl,F3)),n=>n.length>0),wL=(e,t)=>{const n=tt(so(t.childNodes),F3);return BN(L3(n,e),t),t},z3=ll(()=>document.implementation.createHTMLDocument("undo")),CL=e=>e.querySelector("iframe")!==null,_L=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),Z_=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),i0=e=>{const t=e.serializer.getTempAttrs(),n=EA(e.getBody(),t);return CL(n)?_L(yL(n)):Z_(tl(n.innerHTML))},f2=(e,t,n)=>{const s=n?t.beforeBookmark:t.bookmark;t.type==="fragmented"?wL(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:Se(s)&&XO(s)?!s.isFakeCaret:!0}),s&&(e.selection.moveToBookmark(s),e.selection.scrollIntoView())},W_=e=>e.type==="fragmented"?e.fragments.join(""):e.content,qg=e=>{const t=Oe.fromTag("body",z3());return em(t,W_(e)),_e(Gs(t,"*[data-mce-bogus]"),va),Ju(t)},SL=(e,t)=>W_(e)===W_(t),kL=(e,t)=>qg(e)===qg(t),a0=(e,t)=>!e||!t?!1:SL(e,t)?!0:kL(e,t),j_=e=>e.get()===0,m2=(e,t,n)=>{j_(n)&&(e.typing=t)},H3=(e,t)=>{e.typing&&(m2(e,!1,t),e.add())},AL=e=>{e.typing&&(e.typing=!1,e.add())},EL=(e,t,n)=>{j_(t)&&n.set(gn(e.selection))},V3=(e,t,n,s,a,d,g)=>{const C=i0(e),A=Wt.extend(d||{},C);if(!j_(s)||e.removed)return null;const L=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:A,lastLevel:L,originalEvent:g}).isDefaultPrevented()||L&&a0(L,A))return null;t.data[n.get()]&&a.get().each(Y=>{t.data[n.get()].beforeBookmark=Y});const W=gO(e);if(W&&t.data.length>W){for(let Y=0;Y<t.data.length-1;Y++)t.data[Y]=t.data[Y+1];t.data.length--,n.set(t.data.length)}A.bookmark=gn(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(A),n.set(t.data.length-1);const q={level:A,lastLevel:L,originalEvent:g};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",q),e.dispatch("change",q)):e.dispatch("AddUndo",q),A},$3=(e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")},U3=(e,t,n,s,a)=>{if(t.transact(s)){const d=t.data[n.get()].bookmark,g=t.data[n.get()-1];f2(e,g,!0),t.transact(a)&&(t.data[n.get()-1].beforeBookmark=d)}},MN=(e,t,n)=>{let s;return t.get()<n.length-1&&(t.set(t.get()+1),s=n[t.get()],f2(e,s,!1),e.setDirty(!0),e.dispatch("Redo",{level:s})),s},K_=(e,t,n,s)=>{let a;return t.typing&&(t.add(),t.typing=!1,m2(t,!1,n)),s.get()>0&&(s.set(s.get()-1),a=t.data[s.get()],f2(e,a,!0),e.setDirty(!0),e.dispatch("Undo",{level:a})),a},PN=e=>{e.clear(),e.add()},LN=(e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!a0(i0(e),t.data[0]),TL=(e,t)=>t.get()<e.data.length-1&&!e.typing,OL=(e,t,n)=>(H3(e,t),e.beforeChange(),e.ignore(n),e.add()),Z3=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},FN=(e,t)=>{const n=e.dom,s=Se(t)?t:e.getBody();_e(n.select("table,a",s),a=>{switch(a.nodeName){case"TABLE":const d=qw(e),g=n.getAttrib(a,"border");(!g||g==="0")&&e.hasVisual?n.addClass(a,d):n.removeClass(a,d);break;case"A":if(!n.getAttrib(a,"href")){const C=n.getAttrib(a,"name")||a.id,A=Dv(e);C&&e.hasVisual?n.addClass(a,A):n.removeClass(a,A)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},W3=e=>({init:{bindEvents:sn},undoManager:{beforeChange:(t,n)=>EL(e,t,n),add:(t,n,s,a,d,g)=>V3(e,t,n,s,a,d,g),undo:(t,n,s)=>K_(e,t,n,s),redo:(t,n)=>MN(e,t,n),clear:(t,n)=>$3(e,t,n),reset:t=>PN(t),hasUndo:(t,n)=>LN(e,t,n),hasRedo:(t,n)=>TL(t,n),transact:(t,n,s)=>OL(t,n,s),ignore:(t,n)=>Z3(t,n),extra:(t,n,s,a)=>U3(e,t,n,s,a)},formatter:{match:(t,n,s,a)=>ep(e,t,n,s,a),matchAll:(t,n)=>wR(e,t,n),matchNode:(t,n,s,a)=>Mm(e,t,n,s,a),canApply:t=>_R(e,t),closest:t=>CR(e,t),apply:(t,n,s)=>$R(e,t,n,s),remove:(t,n,s,a)=>rp(e,t,n,s,a),toggle:(t,n,s)=>N7(e,t,n,s),formatChanged:(t,n,s,a,d)=>R7(e,t,n,s,a,d)},editor:{getContent:t=>bD(e,t),setContent:(t,n)=>_7(e,t,n),insertContent:(t,n)=>v_(e,t,n),addVisual:t=>FN(e,t)},selection:{getContent:(t,n)=>xL(e,t,n)},autocompleter:{addDecoration:sn,removeDecoration:sn},raw:{getModel:()=>X.none()}}),DL=e=>{const t=L=>ae(L)?L:{},{init:n,undoManager:s,formatter:a,editor:d,selection:g,autocompleter:C,raw:A}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:s.beforeChange,add:s.add,undo:s.undo,redo:s.redo,clear:s.clear,reset:s.reset,hasUndo:s.hasUndo,hasRedo:s.hasRedo,transact:(L,W,q)=>s.transact(q),ignore:(L,W)=>s.ignore(W),extra:(L,W,q,Y)=>s.extra(q,Y)},formatter:{match:(L,W,q,Y)=>a.match(L,t(W),Y),matchAll:a.matchAll,matchNode:a.matchNode,canApply:L=>a.canApply(L),closest:L=>a.closest(L),apply:(L,W,q)=>a.apply(L,t(W)),remove:(L,W,q,Y)=>a.remove(L,t(W)),toggle:(L,W,q)=>a.toggle(L,t(W)),formatChanged:(L,W,q,Y,ce)=>a.formatChanged(W,q,Y,ce)},editor:{getContent:L=>d.getContent(L),setContent:(L,W)=>({content:d.setContent(L,W),html:""}),insertContent:(L,W)=>(d.insertContent(L),""),addVisual:d.addVisual},selection:{getContent:(L,W)=>g.getContent(W)},autocompleter:{addDecoration:C.addDecoration,removeDecoration:C.removeDecoration},raw:{getModel:()=>X.some(A.getRawModel())}}},RL=()=>{const e=rt(null),t=rt("");return{init:{bindEvents:sn},undoManager:{beforeChange:sn,add:e,undo:e,redo:e,clear:sn,reset:sn,hasUndo:Sn,hasRedo:Sn,transact:e,ignore:sn,extra:sn},formatter:{match:Sn,matchAll:rt([]),matchNode:rt(void 0),canApply:Sn,closest:t,apply:sn,remove:sn,toggle:sn,formatChanged:rt({unbind:sn})},editor:{getContent:t,setContent:rt({content:"",html:""}),insertContent:rt(""),addVisual:sn},selection:{getContent:t},autocompleter:{addDecoration:sn,removeDecoration:sn},raw:{getModel:rt(X.none())}}},Hm=e=>Yn(e.plugins,"rtc"),zN=e=>ar(e.plugins,"rtc").bind(t=>X.from(t.setup)),HN=e=>{const t=e;return zN(e).fold(()=>(t.rtcInstance=W3(e),X.none()),n=>(t.rtcInstance=RL(),X.some(()=>n().then(s=>(t.rtcInstance=DL(s),s.rtc.isRemote)))))},j3=e=>e.rtcInstance?e.rtcInstance:W3(e),Yi=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},l0=(e,t,n)=>{Yi(e).undoManager.beforeChange(t,n)},NL=(e,t,n,s,a,d,g)=>Yi(e).undoManager.add(t,n,s,a,d,g),IL=(e,t,n,s)=>Yi(e).undoManager.undo(t,n,s),VN=(e,t,n)=>Yi(e).undoManager.redo(t,n),$N=(e,t,n)=>{Yi(e).undoManager.clear(t,n)},q_=(e,t)=>{Yi(e).undoManager.reset(t)},BL=(e,t,n)=>Yi(e).undoManager.hasUndo(t,n),ML=(e,t,n)=>Yi(e).undoManager.hasRedo(t,n),PL=(e,t,n,s)=>Yi(e).undoManager.transact(t,n,s),LL=(e,t,n)=>{Yi(e).undoManager.ignore(t,n)},FL=(e,t,n,s,a)=>{Yi(e).undoManager.extra(t,n,s,a)},zL=(e,t,n,s,a)=>Yi(e).formatter.match(t,n,s,a),HL=(e,t,n)=>Yi(e).formatter.matchAll(t,n),VL=(e,t,n,s,a)=>Yi(e).formatter.matchNode(t,n,s,a),$L=(e,t)=>Yi(e).formatter.canApply(t),UL=(e,t)=>Yi(e).formatter.closest(t),Pr=(e,t,n,s)=>{Yi(e).formatter.apply(t,n,s)},UN=(e,t,n,s,a)=>{Yi(e).formatter.remove(t,n,s,a)},K3=(e,t,n,s)=>{Yi(e).formatter.toggle(t,n,s)},ZN=(e,t,n,s,a,d)=>Yi(e).formatter.formatChanged(t,n,s,a,d),WN=(e,t)=>j3(e).editor.getContent(t),q3=(e,t,n)=>j3(e).editor.setContent(t,n),ZL=(e,t,n)=>j3(e).editor.insertContent(t,n),WL=(e,t,n)=>Yi(e).selection.getContent(t,n),jN=(e,t)=>Yi(e).editor.addVisual(t),KN=e=>Yi(e).init.bindEvents(),jL=(e,t={})=>{const n=t.format?t.format:"html";return WL(e,n,t)},i1=e=>e.dom.length===0?(lr(e),X.none()):X.some(e),KL=(e,t)=>e.filter(n=>Sr.isBookmarkNode(n.dom)).bind(t?In:ti),c0=(e,t,n,s,a)=>{const d=e.dom,g=t.dom,C=s?d.length:g.length;s?(Wy(d,g,a,!1,!s),n.setStart(g,C)):(Wy(g,d,a,!1,!s),n.setEnd(g,C))},g2=(e,t,n)=>{Hi(e).each(s=>{const a=e.dom;t&&Gv(s,ft(a,0),n)?jC(a,0,n):!t&&Xb(s,ft(a,a.length),n)&&ys(a,a.length,n)})},a1=(e,t,n,s,a)=>{e.bind(d=>((s?ys:jC)(d.dom,s?d.dom.length:0,a),t.filter(Wr).map(C=>c0(d,C,n,s,a)))).orThunk(()=>KL(t,s).or(t).filter(Wr).map(g=>g2(g,s,a)))},G3=(e,t,n)=>{const s=X.from(t.firstChild).map(Oe.fromDom),a=X.from(t.lastChild).map(Oe.fromDom);e.deleteContents(),e.insertNode(t);const d=s.bind(ti).filter(Wr).bind(i1),g=a.bind(In).filter(Wr).bind(i1);a1(d,s,e,!0,n),a1(g,a,e,!1,n),e.collapse(!1)},qN=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),GN=(e,t)=>{if(t.format!=="raw"){const n=e.selection.getRng(),s=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),a=s?{context:s.nodeName.toLowerCase()}:{},d=e.parser.parse(t.content,{forced_root_block:!1,...a,...t});return Vg({validate:!1},e.schema).serialize(d)}else return t.content},Y3=(e,t,n={})=>{const s=qN(n,t);T3(e,s).each(a=>{const d=GN(e,a),g=e.selection.getRng();G3(g,g.createContextualFragment(d),e.schema),e.selection.setRng(g),ku(e,g),O3(e,d,a)})},X3=(e,t,n)=>{if(Yn(e,t)){const s=_t(e[t],a=>a!==n);s.length===0?delete e[t]:e[t]=s}};var YN=(e,t)=>{let n,s;const a=(C,A)=>Bt(A,L=>e.is(L,C)),d=C=>e.getParents(C,void 0,e.getRoot()),g=()=>{n={},s={},t.on("NodeChange",C=>{const A=C.element,L=d(A),W={};$o(n,(q,Y)=>{a(Y,L).each(ce=>{s[Y]||(_e(q,he=>{he(!0,{node:ce,selector:Y,parents:L})}),s[Y]=q),W[Y]=q})}),$o(s,(q,Y)=>{W[Y]||(delete s[Y],_e(q,ce=>{ce(!1,{node:A,selector:Y,parents:L})}))})})};return{selectorChangedWithUnbind:(C,A)=>(n||g(),n[C]||(n[C]=[]),n[C].push(A),a(C,d(t.selection.getStart())).each(()=>{s[C]=n[C]}),{unbind:()=>{X3(n,C,A),X3(s,C,A)}})}};const J3=e=>!!(e&&e.ownerDocument)&&zi(Oe.fromDom(e.ownerDocument),Oe.fromDom(e)),Q3=e=>e?J3(e.startContainer)&&J3(e.endContainer):!1,e4=(e,t,n,s)=>{let a,d;const{selectorChangedWithUnbind:g}=YN(e,s),C=(Qt,An)=>{const Jo=e.createRng();Se(Qt)&&Se(An)?(Jo.setStart(Qt,An),Jo.setEnd(Qt,An),st(Jo),Pe(!1)):(my(e,Jo,s.getBody(),!0),st(Jo))},A=Qt=>jL(s,Qt),L=(Qt,An)=>Y3(s,Qt,An),W=Qt=>iD(s.getBody(),Ve(),Qt),q=Qt=>aD(s.getBody(),Ve(),Qt),Y=(Qt,An)=>il.getBookmark(Qt,An),ce=Qt=>il.moveToBookmark(Qt),he=(Qt,An)=>(Fy(e,Qt,An).each(st),Qt),ue=()=>{const Qt=Ve(),An=Ze();return!Qt||Qt.item?!1:Qt.compareEndPoints?Qt.compareEndPoints("StartToEnd",Qt)===0:!An||Qt.collapsed},we=()=>{const Qt=Ve(),An=s.getBody().querySelectorAll('[data-mce-selected="1"]');return An.length>0?eo(An,Jo=>e.isEditable(Jo.parentElement)):rD(e,Qt)},Pe=Qt=>{const An=Ve();An.collapse(!!Qt),st(An)},Ze=()=>t.getSelection?t.getSelection():t.document.selection,Ve=()=>{let Qt;const An=(rn,zn,Eo)=>{try{return zn.compareBoundaryPoints(rn,Eo)}catch{return-1}},Jo=t.document;if(Se(s.bookmark)&&!$v(s)){const rn=yA(s);if(rn.isSome())return rn.map(zn=>PC(s,[zn])[0]).getOr(Jo.createRange())}try{const rn=Ze();rn&&!Wd(rn.anchorNode)&&(rn.rangeCount>0?Qt=rn.getRangeAt(0):Qt=Jo.createRange(),Qt=PC(s,[Qt])[0])}catch{}if(Qt||(Qt=Jo.createRange()),Cn(Qt.startContainer)&&Qt.collapsed){const rn=e.getRoot();Qt.setStart(rn,0),Qt.setEnd(rn,0)}return a&&d&&(An(Qt.START_TO_START,Qt,a)===0&&An(Qt.END_TO_END,Qt,a)===0?Qt=d:(a=null,d=null)),Qt},st=(Qt,An)=>{if(!Q3(Qt))return;const Jo=Ze();if(Qt=s.dispatch("SetSelectionRange",{range:Qt,forward:An}).range,Jo){d=Qt;try{Jo.removeAllRanges(),Jo.addRange(Qt)}catch{}An===!1&&Jo.extend&&(Jo.collapse(Qt.endContainer,Qt.endOffset),Jo.extend(Qt.startContainer,Qt.startOffset)),a=Jo.rangeCount>0?Jo.getRangeAt(0):null}if(!Qt.collapsed&&Qt.startContainer===Qt.endContainer&&(Jo!=null&&Jo.setBaseAndExtent)&&Qt.endOffset-Qt.startOffset<2&&Qt.startContainer.hasChildNodes()){const zn=Qt.startContainer.childNodes[Qt.startOffset];zn&&zn.nodeName==="IMG"&&(Jo.setBaseAndExtent(Qt.startContainer,Qt.startOffset,Qt.endContainer,Qt.endOffset),(Jo.anchorNode!==Qt.startContainer||Jo.focusNode!==Qt.endContainer)&&Jo.setBaseAndExtent(zn,0,zn,1))}s.dispatch("AfterSetSelectionRange",{range:Qt,forward:An})},Rt=Qt=>(L(e.getOuterHTML(Qt)),Qt),Zt=()=>LP(s.getBody(),Ve()),dn=(Qt,An)=>kA(e,Ve(),Qt,An),vt=()=>{const Qt=Ze(),An=Qt==null?void 0:Qt.anchorNode,Jo=Qt==null?void 0:Qt.focusNode;if(!Qt||!An||!Jo||Wd(An)||Wd(Jo))return!0;const rn=e.createRng(),zn=e.createRng();try{rn.setStart(An,Qt.anchorOffset),rn.collapse(!0),zn.setStart(Jo,Qt.focusOffset),zn.collapse(!0)}catch{return!0}return rn.compareBoundaryPoints(rn.START_TO_START,zn)<=0},js={dom:e,win:t,serializer:n,editor:s,expand:(Qt={type:"word"})=>st(Zh(e).expand(Ve(),Qt)),collapse:Pe,setCursorLocation:C,getContent:A,setContent:L,getBookmark:Y,moveToBookmark:ce,select:he,isCollapsed:ue,isEditable:we,isForward:vt,setNode:Rt,getNode:Zt,getSel:Ze,setRng:st,getRng:Ve,getStart:W,getEnd:q,getSelectedBlocks:dn,normalize:()=>{const Qt=Ve(),An=Ze();if(!cy(An)&&Mv(s)){const Jo=Tm(e,Qt);return Jo.each(rn=>{st(rn,vt())}),Jo.getOr(Qt)}return Qt},selectorChanged:(Qt,An)=>(g(Qt,An),js),selectorChangedWithUnbind:g,getScrollContainer:()=>{let Qt,An=e.getRoot();for(;An&&An.nodeName!=="BODY";){if(An.scrollHeight>An.clientHeight){Qt=An;break}An=An.parentNode}return Qt},scrollIntoView:(Qt,An)=>{Se(Qt)?pA(s,Qt,An):ku(s,Ve(),An)},placeCaretAt:(Qt,An)=>st(I5(Qt,An,s.getDoc())),getBoundingClientRect:()=>{const Qt=Ve();return Qt.collapsed?ft.fromRangeStart(Qt).getClientRects()[0]:Qt.getBoundingClientRect()},destroy:()=>{t=a=d=null,Dr.destroy()}},il=Sr(js),Dr=br(js,s);return js.bookmarkManager=il,js.controlSelection=Dr,js},XN=(e,t,n)=>{t.addNodeFilter("br",(s,a,d)=>{const g=Wt.extend({},n.getBlockElements()),C=n.getNonEmptyElements(),A=n.getWhitespaceElements();g.body=1;const L=W=>W.name in g||yh(n,W);for(let W=0,q=s.length;W<q;W++){let Y=s[W],ce=Y.parent;if(ce&&L(ce)&&Y===ce.lastChild){let he=Y.prev;for(;he;){const ue=he.name;if(ue!=="span"||he.attr("data-mce-type")!=="bookmark"){ue==="br"&&(Y=null);break}he=he.prev}if(Y&&(Y.remove(),Qv(n,C,A,ce))){const ue=n.getElementRule(ce.name);ue&&(ue.removeEmpty?ce.remove():ue.paddEmpty&&l_(e,d,L,ce))}}else{let he=Y;for(;ce&&ce.firstChild===he&&ce.lastChild===he&&(he=ce,!g[ce.name]);)ce=ce.parent;if(he===ce){const ue=new la("#text",3);ue.value=di,Y.replace(ue)}}}})},t4=(e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",(s,a)=>{let d=s.length;for(;d--;){const g=s[d];g.attr("tabindex",g.attr("data-mce-tabindex")),g.attr(a,null)}}),e.addAttributeFilter("src,href,style",(s,a)=>{const d="data-mce-"+a,g=t.url_converter,C=t.url_converter_scope;let A=s.length;for(;A--;){const L=s[A];let W=L.attr(d);W!==void 0?(L.attr(a,W.length>0?W:null),L.attr(d,null)):(W=L.attr(a),a==="style"?W=n.serializeStyle(n.parseStyle(W),L.name):g&&(W=g.call(C,W,a,L.name)),L.attr(a,W.length>0?W:null))}}),e.addAttributeFilter("class",s=>{let a=s.length;for(;a--;){const d=s[a];let g=d.attr("class");g&&(g=g.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),d.attr("class",g.length>0?g:null))}}),e.addAttributeFilter("data-mce-type",(s,a,d)=>{let g=s.length;for(;g--;){const C=s[g];C.attr("data-mce-type")==="bookmark"&&!d.cleanup&&(X.from(C.firstChild).exists(L=>{var W;return!dc((W=L.value)!==null&&W!==void 0?W:"")})?C.unwrap():C.remove())}}),e.addNodeFilter("script,style",(s,a)=>{var d;const g=A=>A.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let C=s.length;for(;C--;){const A=s[C],L=A.firstChild,W=(d=L==null?void 0:L.value)!==null&&d!==void 0?d:"";if(a==="script"){const q=A.attr("type");q&&A.attr("type",q==="mce-no/type"?null:q.replace(/^mce\-/,"")),t.element_format==="xhtml"&&L&&W.length>0&&(L.value=`// <![CDATA[
`+g(W)+`
// ]]>`)}else t.element_format==="xhtml"&&L&&W.length>0&&(L.value=`<!--
`+g(W)+`
-->`)}}),e.addNodeFilter("#comment",s=>{let a=s.length;for(;a--;){const d=s[a],g=d.value;t.preserve_cdata&&(g==null?void 0:g.indexOf("[CDATA["))===0?(d.name="#cdata",d.type=4,d.value=n.decode(g.replace(/^\[CDATA\[|\]\]$/g,""))):(g==null?void 0:g.indexOf("mce:protected "))===0&&(d.name="#text",d.type=3,d.raw=!0,d.value=unescape(g).substr(14))}}),e.addNodeFilter("xml:namespace,input",(s,a)=>{let d=s.length;for(;d--;){const g=s[d];g.type===7?g.remove():g.type===1&&a==="input"&&!g.attr("type")&&g.attr("type","text")}}),e.addAttributeFilter("data-mce-type",s=>{_e(s,a=>{a.attr("data-mce-type")==="format-caret"&&(a.isEmpty(e.schema.getNonEmptyElements())?a.remove():a.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(s,a)=>{let d=s.length;for(;d--;)s[d].attr(a,null)}),t.remove_trailing_brs&&XN(t,e,e.schema)},qL=e=>{const t=s=>(s==null?void 0:s.name)==="br",n=e.lastChild;if(t(n)){const s=n.prev;t(s)&&(n.remove(),s.remove())}},JN=(e,t,n)=>{let s;const a=e.dom;let d=t.cloneNode(!0);const g=document.implementation;if(g.createHTMLDocument){const C=g.createHTMLDocument("");Wt.each(d.nodeName==="BODY"?d.childNodes:[d],A=>{C.body.appendChild(C.importNode(A,!0))}),d.nodeName!=="BODY"?d=C.body.firstChild:d=C.body,s=a.doc,a.doc=C}return yy(e,{...n,node:d}),s&&(a.doc=s),d},QN=(e,t)=>Se(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,e6=(e,t,n)=>QN(e,n)?JN(e,t,n):t,GL=(e,t,n)=>{Wt.inArray(t,n)===-1&&(e.addAttributeFilter(n,(s,a)=>{let d=s.length;for(;d--;)s[d].attr(a,null)}),t.push(n))},YL=(e,t,n)=>!t.no_events&&e?wy(e,{...t,content:n}).content:n,G_=(e,t,n)=>{const s=tl(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||hb(Oe.fromDom(t))?s:Wt.trim(s)},t6=(e,t,n)=>{const s=n.selection?{forced_root_block:!1,...n}:n,a=e.parse(t,s);return qL(a),a},n6=(e,t,n)=>Vg(e,t).serialize(n),o6=(e,t,n,s,a)=>{const d=n6(t,n,s);return YL(e,a,d)},XL=(e,t)=>{const n=["data-mce-selected"],s={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},a=t&&t.dom?t.dom:Tr.DOM,d=t&&t.schema?t.schema:ac(s),g=s0(s,d);t4(g,s,a);const C=(A,L={})=>{const W={format:"html",...L},q=e6(t,A,W),Y=G_(a,q,W),ce=t6(g,Y,W);return W.format==="tree"?ce:o6(t,s,d,ce,W)};return{schema:d,addNodeFilter:g.addNodeFilter,addAttributeFilter:g.addAttributeFilter,serialize:C,addRules:d.addValidElements,setRules:d.setValidElements,addTempAttr:xt(GL,g,n),getTempAttrs:rt(n),getNodeFilters:g.getNodeFilters,getAttributeFilters:g.getAttributeFilters,removeNodeFilter:g.removeNodeFilter,removeAttributeFilter:g.removeAttributeFilter}},r6=(e,t)=>{const n=XL(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},JL="html",QL=(e,t)=>({...e,format:t,get:!0,getInner:!0}),s6=(e,t={})=>{const n=t.format?t.format:JL,s=QL(t,n);return CN(e,s).fold(Un,a=>{const d=WN(e,a);return vd(e,d,a)})},i6="html",a6=(e,t)=>({format:i6,...e,set:!0,content:t}),n4=(e,t,n={})=>{const s=a6(n,t);return T3(e,s).map(a=>{const d=q3(e,a.content,a);return O3(e,d.html,a),d.content}).getOr(t)},eF="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),tF=[],nF="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),h2=[],o4=(e,t)=>{const n=_t(t,s=>Yn(e,s));return yo(n)},oF=e=>{const t=o4(e,eF),n=e.forced_root_block;return(n===!1||n==="")&&t.push("forced_root_block (false only)"),yo(t)},l6=e=>o4(e,tF),r4=(e,t)=>{const n=Wt.makeMap(e.plugins," "),a=_t(t,d=>Yn(n,d));return yo(a)},s4=e=>r4(e,nF),c6=e=>r4(e,h2.map(t=>t.name)),u6=(e,t)=>{const n=oF(e),s=s4(t),a=s.length>0,d=n.length>0,g=t.theme==="mobile";if(a||d||g){const C=`
- `,A=g?`

Themes:${C}mobile`:"",L=a?`

Plugins:${C}${s.join(C)}`:"",W=d?`

Options:${C}${n.join(C)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+A+L+W)}},d6=e=>Bt(h2,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),rF=(e,t)=>{const n=l6(e),s=c6(t),a=s.length>0,d=n.length>0;if(a||d){const g=`
- `,C=a?`

Plugins:${g}${s.map(d6).join(g)}`:"",A=d?`

Options:${g}${n.join(g)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+C+A)}},sF=(e,t)=>{u6(e,t),rF(e,t)},ap=Tr.DOM,iF=e=>{ap.setStyle(e.id,"display",e.orgDisplay)},p2=e=>X.from(e).each(t=>t.destroy()),Y_=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const n=e.selection;if(n){const s=n.dom;t.selection=n.win=n.dom=s.doc=null}},f6=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),ap.unbind(t,"submit reset",e.formEventDelegate))},m6=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,s=e.getBody(),a=e.getElement();s&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Se(a==null?void 0:a.nextSibling)&&ap.remove(a.nextSibling),Cy(e),e.editorManager.remove(e),!e.inline&&s&&iF(e),_y(e),ap.remove(e.getContainer()),p2(t),p2(n),e.destroy()}},aF=(e,t)=>{const{selection:n,dom:s}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),p2(n),p2(s)),f6(e),Y_(e),e.destroyed=!0}},b2=(()=>{const e={};return{add:(a,d)=>{e[a]=d},get:a=>e[a]?e[a]:{icons:{}},has:a=>Yn(e,a)}})(),lp=Ma.ModelManager,v2=(e,t)=>t.dom[e],i4=(e,t)=>parseInt(ks(t,e),10),a4=xt(v2,"clientWidth"),g6=xt(v2,"clientHeight"),lF=xt(i4,"margin-top"),h6=xt(i4,"margin-left"),cF=e=>e.dom.getBoundingClientRect(),p6=(e,t,n)=>{const s=a4(e),a=g6(e);return t>=0&&n>=0&&t<=s&&n<=a},b6=(e,t,n,s)=>{const a=cF(t),d=e?a.left+t.dom.clientLeft+h6(t):0,g=e?a.top+t.dom.clientTop+lF(t):0,C=n-d,A=s-g;return{x:C,y:A}},uF=(e,t,n)=>{const s=Oe.fromDom(e.getBody()),a=e.inline?s:lu(s),d=b6(e.inline,a,t,n);return p6(a,d.x,d.y)},v6=e=>X.from(e).map(Oe.fromDom),l4=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return v6(t).map(ha).getOr(!1)};var x6=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const c4=e=>{const t=[],n=()=>{const Y=e.theme;return Y&&Y.getNotificationManagerImpl?Y.getNotificationManagerImpl():x6()},s=()=>X.from(t[0]),a=(Y,ce)=>Y.type===ce.type&&Y.text===ce.text&&!Y.progressBar&&!Y.timeout&&!ce.progressBar&&!ce.timeout,d=()=>{s().each(Y=>{Y.reposition()})},g=Y=>{t.push(Y)},C=Y=>{Mt(t,ce=>ce===Y).each(ce=>{t.splice(ce,1)})},A=(Y,ce=!0)=>e.removed||!l4(e)?{}:(ce&&e.dispatch("BeforeOpenNotification",{notification:Y}),Bt(t,he=>a(n().getArgs(he),Y)).getOrThunk(()=>{e.editorManager.setActive(e);const he=n().open(Y,()=>{C(he)},()=>Wb(e));return g(he),d(),e.dispatch("OpenNotification",{notification:{...he}}),he})),L=()=>{s().each(Y=>{n().close(Y),C(Y),d()})},W=rt(t);return(Y=>{Y.on("SkinLoaded",()=>{const ce=v8(Y);ce&&A({text:ce,type:"warning",timeout:0},!1),d()}),Y.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(d)}),Y.on("remove",()=>{_e(t.slice(),ce=>{n().close(ce)})}),Y.addShortcut("alt+F12","Focus to notification",()=>s().map(ce=>Oe.fromDom(ce.getEl())).each(ce=>bA(ce)))})(e),{open:A,close:L,getNotifications:W}},l1=Ma.PluginManager,cp=Ma.ThemeManager;var dF=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const y6=e=>{let t=[];const n=()=>{const ue=e.theme;return ue&&ue.getWindowManagerImpl?ue.getWindowManagerImpl():dF()},s=(ue,we)=>(...Pe)=>we?we.apply(ue,Pe):void 0,a=ue=>{e.dispatch("OpenWindow",{dialog:ue})},d=ue=>{e.dispatch("CloseWindow",{dialog:ue})},g=ue=>{t.push(ue),a(ue)},C=ue=>{d(ue),t=_t(t,we=>we!==ue),t.length===0&&e.focus()},A=()=>X.from(t[t.length-1]),L=ue=>{e.editorManager.setActive(e),Vv(e),e.ui.show();const we=ue();return g(we),we},W=(ue,we)=>L(()=>n().open(ue,we,C)),q=ue=>L(()=>n().openUrl(ue,C)),Y=(ue,we,Pe)=>{const Ze=n();Ze.alert(ue,s(Pe||Ze,we))},ce=(ue,we,Pe)=>{const Ze=n();Ze.confirm(ue,s(Pe||Ze,we))},he=()=>{A().each(ue=>{n().close(ue),C(ue)})};return e.on("remove",()=>{_e(t,ue=>{n().close(ue)})}),{open:W,openUrl:q,alert:Y,confirm:ce,close:he}},X_=(e,t)=>{e.notificationManager.open({type:"error",text:t})},J_=(e,t)=>{e._skinLoaded?X_(e,t):e.on("SkinLoaded",()=>{X_(e,t)})},w6=(e,t)=>{J_(e,lc.translate(["Failed to upload image: {0}",t]))},u0=(e,t,n)=>{nA(e,t,{message:n}),console.error(n)},c1=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,u4=(e,t,n)=>{u0(e,"PluginLoadError",c1("plugin",t,n))},d4=(e,t,n)=>{u0(e,"IconsLoadError",c1("icons",t,n))},fF=(e,t,n)=>{u0(e,"LanguageLoadError",c1("language",t,n))},C6=(e,t,n)=>{u0(e,"ThemeLoadError",c1("theme",t,n))},mF=(e,t,n)=>{u0(e,"ModelLoadError",c1("model",t,n))},gF=(e,t,n)=>{const s=lc.translate(["Failed to initialize plugin: {0}",t]);nA(e,"PluginLoadError",{message:s}),x2(s,n),J_(e,s)},x2=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},f4=e=>/^[a-z0-9\-]+$/i.test(e),m4=e=>"content/"+e+"/content.css",Q_=e=>tinymce.Resource.has(m4(e)),hF=e=>_6(e,gl(e)),pF=e=>_6(e,iO(e)),_6=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",a=`content${e.editorManager.suffix}.css`;return tt(t,d=>Q_(d)?d:f4(d)&&!e.inline?`${n}/${d}/${a}`:e.documentBaseURI.toAbsolute(d))},S6=e=>{e.contentCSS=e.contentCSS.concat(hF(e),pF(e))},k6=e=>e?so(e.getElementsByTagName("img")):[],bF=(e,t)=>{const n={};return{findAll:(a,d=Mn)=>{const g=_t(k6(a),A=>{const L=A.src;return A.hasAttribute("data-mce-bogus")||A.hasAttribute("data-mce-placeholder")||!L||L===So.transparentSrc?!1:Zr(L,"blob:")?!e.isUploaded(L)&&d(A):Zr(L,"data:")?d(A):!1}),C=tt(g,A=>{const L=A.src;if(Yn(n,L))return n[L].then(W=>Fe(W)?W:{image:A,blobInfo:W.blobInfo});{const W=i3(t,L).then(q=>(delete n[L],{image:A,blobInfo:q})).catch(q=>(delete n[L],q));return n[L]=W,W}});return Promise.all(C)}}},g4=()=>{let n={};const s=(Y,ce)=>({status:Y,resultUri:ce}),a=Y=>Y in n;return{hasBlobUri:a,getResultUri:Y=>{const ce=n[Y];return ce?ce.resultUri:null},isPending:Y=>a(Y)?n[Y].status===1:!1,isUploaded:Y=>a(Y)?n[Y].status===2:!1,markPending:Y=>{n[Y]=s(1,null)},markUploaded:(Y,ce)=>{n[Y]=s(2,ce)},removeFailed:Y=>{delete n[Y]},destroy:()=>{n={}}}};let y2=0;const A6=()=>{const e=()=>Math.round(el()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},vF=e=>e+y2+++A6(),E6=()=>{let e=[];const t=q=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[q.toLowerCase()]||"dat",n=(q,Y,ce,he,ue)=>{if(Fe(q))return s({id:q,name:he,filename:ue,blob:Y,base64:ce});if(ae(q))return s(q);throw new Error("Unknown input type")},s=q=>{if(!q.blob||!q.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const Y=q.id||vF("blobid"),ce=q.name||Y,he=q.blob;return{id:rt(Y),name:rt(ce),filename:rt(q.filename||ce+"."+t(he.type)),blob:rt(he),base64:rt(q.base64),blobUri:rt(q.blobUri||URL.createObjectURL(he)),uri:rt(q.uri)}},a=q=>{g(q.id())||e.push(q)},d=q=>Bt(e,q).getOrUndefined(),g=q=>d(Y=>Y.id()===q);return{create:n,add:a,get:g,getByUri:q=>d(Y=>Y.blobUri()===q),getByData:(q,Y)=>d(ce=>ce.base64()===q&&ce.blob().type===Y),findFirst:d,removeByUri:q=>{e=_t(e,Y=>Y.blobUri()===q?(URL.revokeObjectURL(Y.blobUri()),!1):!0)},destroy:()=>{_e(e,q=>{URL.revokeObjectURL(q.blobUri())}),e=[]}}},T6=(e,t)=>{const n={},s=(ue,we)=>ue?ue.replace(/\/$/,"")+"/"+we.replace(/^\//,""):we,a=(ue,we)=>new Promise((Pe,Ze)=>{const Ve=new XMLHttpRequest;Ve.open("POST",t.url),Ve.withCredentials=t.credentials,Ve.upload.onprogress=Rt=>{we(Rt.loaded/Rt.total*100)},Ve.onerror=()=>{Ze("Image upload failed due to a XHR Transport error. Code: "+Ve.status)},Ve.onload=()=>{if(Ve.status<200||Ve.status>=300){Ze("HTTP Error: "+Ve.status);return}const Rt=JSON.parse(Ve.responseText);if(!Rt||!Fe(Rt.location)){Ze("Invalid JSON: "+Ve.responseText);return}Pe(s(t.basePath,Rt.location))};const st=new FormData;st.append("file",ue.blob(),ue.filename()),Ve.send(st)}),d=Ne(t.handler)?t.handler:a,g=()=>new Promise(ue=>{ue([])}),C=(ue,we)=>({url:we,blobInfo:ue,status:!0}),A=(ue,we)=>({url:"",blobInfo:ue,status:!1,error:we}),L=(ue,we)=>{Wt.each(n[ue],Pe=>{Pe(we)}),delete n[ue]},W=(ue,we,Pe)=>(e.markPending(ue.blobUri()),new Promise(Ze=>{let Ve,st;try{const Rt=()=>{Ve&&(Ve.close(),st=sn)},Zt=vt=>{Rt(),e.markUploaded(ue.blobUri(),vt),L(ue.blobUri(),C(ue,vt)),Ze(C(ue,vt))},dn=vt=>{Rt(),e.removeFailed(ue.blobUri()),L(ue.blobUri(),A(ue,vt)),Ze(A(ue,vt))};st=vt=>{vt<0||vt>100||X.from(Ve).orThunk(()=>X.from(Pe).map($r)).each(ut=>{Ve=ut,ut.progressBar.value(vt)})},we(ue,st).then(Zt,vt=>{dn(Fe(vt)?{message:vt}:vt)})}catch(Rt){Ze(A(ue,Rt))}})),q=ue=>ue===a,Y=ue=>{const we=ue.blobUri();return new Promise(Pe=>{n[we]=n[we]||[],n[we].push(Pe)})},ce=(ue,we)=>(ue=Wt.grep(ue,Pe=>!e.isUploaded(Pe.blobUri())),Promise.all(Wt.map(ue,Pe=>e.isPending(Pe.blobUri())?Y(Pe):W(Pe,d,we))));return{upload:(ue,we)=>!t.url&&q(d)?g():ce(ue,we)}},O6=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),D6=(e,t)=>T6(t,{url:vk(e),basePath:oO(e),credentials:xk(e),handler:h8(e)}),xF=e=>{const t=g4(),n=D6(e,t);return{upload:(s,a=!0)=>n.upload(s,a?O6(e):void 0)}},yF=(e,t)=>e.dom.isEmpty(t.dom)&&Se(e.schema.getTextBlockElements()[Mo(t)]),R6=e=>t=>{yF(e,t)&&As(t,Oe.fromHtml('<br data-mce-bogus="1" />'))},h4=e=>{const t=E6();let n,s;const a=g4(),d=[],g=Ve=>st=>e.selection?Ve(st):[],C=Ve=>Ve+(Ve.indexOf("?")===-1?"?":"&")+new Date().getTime(),A=(Ve,st,Rt)=>{let Zt=0;do Zt=Ve.indexOf(st,Zt),Zt!==-1&&(Ve=Ve.substring(0,Zt)+Rt+Ve.substr(Zt+st.length),Zt+=Rt.length-st.length+1);while(Zt!==-1);return Ve},L=(Ve,st,Rt)=>{const Zt=`src="${Rt}"${Rt===So.transparentSrc?' data-mce-placeholder="1"':""}`;return Ve=A(Ve,`src="${st}"`,Zt),Ve=A(Ve,'data-mce-src="'+st+'"','data-mce-src="'+Rt+'"'),Ve},W=(Ve,st)=>{_e(e.undoManager.data,Rt=>{Rt.type==="fragmented"?Rt.fragments=tt(Rt.fragments,Zt=>L(Zt,Ve,st)):Rt.content=L(Rt.content,Ve,st)})},q=(Ve,st)=>{const Rt=e.convertURL(st,"src");W(Ve.src,st),ma(Oe.fromDom(Ve),{src:Bg(e)?C(st):st,"data-mce-src":Rt})},Y=()=>(n||(n=D6(e,a)),we().then(g(Ve=>{const st=tt(Ve,Rt=>Rt.blobInfo);return n.upload(st,O6(e)).then(g(Rt=>{const Zt=[];let dn=!1;const vt=tt(Rt,(ut,Ot)=>{const{blobInfo:pn,image:On}=Ve[Ot];let wo=!1;return ut.status&&tO(e)?(ut.url&&!dr(On.src,ut.url)&&(dn=!0),t.removeByUri(On.src),Hm(e)||q(On,ut.url)):ut.error&&(ut.error.remove&&(W(On.src,So.transparentSrc),Zt.push(On),wo=!0),w6(e,ut.error.message)),{element:On,status:ut.status,uploadUri:ut.url,blobInfo:pn,removed:wo}});return Zt.length>0&&!Hm(e)?e.undoManager.transact(()=>{_e(Nc(Zt),ut=>{const Ot=Hi(ut);lr(ut),Ot.each(R6(e)),t.removeByUri(ut.dom.src)})}):dn&&e.undoManager.dispatchChange(),vt}))}))),ce=()=>Or(e)?Y():Promise.resolve([]),he=Ve=>eo(d,st=>st(Ve)),ue=Ve=>{d.push(Ve)},we=()=>(s||(s=bF(a,t)),s.findAll(e.getBody(),he).then(g(Ve=>{const st=_t(Ve,Rt=>Fe(Rt)?(J_(e,Rt),!1):Rt.uriType!=="blob");return Hm(e)||_e(st,Rt=>{W(Rt.image.src,Rt.blobInfo.blobUri()),Rt.image.src=Rt.blobInfo.blobUri(),Rt.image.removeAttribute("data-mce-src")}),st}))),Pe=()=>{t.destroy(),a.destroy(),s=n=null},Ze=Ve=>Ve.replace(/src="(blob:[^"]+)"/g,(st,Rt)=>{const Zt=a.getResultUri(Rt);if(Zt)return'src="'+Zt+'"';let dn=t.getByUri(Rt);return dn||(dn=je(e.editorManager.get(),(vt,ut)=>vt||ut.editorUpload&&ut.editorUpload.blobCache.getByUri(Rt),void 0)),dn?'src="data:'+dn.blob().type+";base64,"+dn.base64()+'"':st});return e.on("SetContent",()=>{Or(e)?ce():we()}),e.on("RawSaveContent",Ve=>{Ve.content=Ze(Ve.content)}),e.on("GetContent",Ve=>{Ve.source_view||Ve.format==="raw"||Ve.format==="tree"||(Ve.content=Ze(Ve.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",Ve=>{_e(Ve,st=>{const Rt=st.attr("src");if(!Rt||t.getByUri(Rt))return;const Zt=a.getResultUri(Rt);Zt&&st.attr("src",Zt)})})}),{blobCache:t,addFilter:ue,uploadImages:Y,uploadImagesAuto:ce,scanForImages:we,destroy:Pe}},N6=e=>{const t=e.dom,n=e.schema.type,s={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:a=>{t.setStyle(a,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:a=>{t.setStyle(a,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const a={inline:"span",styles:{textDecoration:"line-through"},exact:!0},d={inline:"strike",remove:"all",preserve_attributes:["class","style"]},g={inline:"s",remove:"all",preserve_attributes:["class","style"]};return n!=="html4"?[g,a,d]:[a,g,d]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(a,d,g)=>yn(a)&&a.hasAttribute("href"),onformat:(a,d,g)=>{Wt.each(g,(C,A)=>{t.setAttrib(a,A,C)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":a=>{var d;return(d=a==null?void 0:a.customValue)!==null&&d!==void 0?d:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Wt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),a=>{s[a]={block:a,remove:"all"}}),s},p4={remove_similar:!0,inherit:!1},u1={selector:"td,th",...p4},I6={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...u1},tablecellverticalalign:{styles:{"vertical-align":"%value"},...u1},tablecellbordercolor:{styles:{borderColor:"%value"},...u1},tablecellclass:{classes:["%value"],...u1},tableclass:{selector:"table",classes:["%value"],...p4},tablecellborderstyle:{styles:{borderStyle:"%value"},...u1},tablecellborderwidth:{styles:{borderWidth:"%value"},...u1}},wF=rt(I6),b4=e=>{const t={},n=g=>Se(g)?t[g]:t,s=g=>Yn(t,g),a=(g,C)=>{g&&(Fe(g)?(oe(C)||(C=[C]),_e(C,A=>{Ye(A.deep)&&(A.deep=!gc(A)),Ye(A.split)&&(A.split=!gc(A)||qi(A)),Ye(A.remove)&&gc(A)&&!qi(A)&&(A.remove="none"),gc(A)&&qi(A)&&(A.mixed=!0,A.block_expand=!0),Fe(A.classes)&&(A.classes=A.classes.split(/\s+/))}),t[g]=C):$o(g,(A,L)=>{a(L,A)}))},d=g=>(g&&t[g]&&delete t[g],t);return a(N6(e)),a(wF()),a(y8(e)),{get:n,has:s,register:a,unregister:d}},d1=Wt.each,Hl=Tr.DOM,Cf=e=>Se(e)&&ae(e),w2=(e,t)=>{const n=t&&t.schema||ac({}),s=(A,L)=>{L.classes.length>0&&Hl.addClass(A,L.classes.join(" ")),Hl.setAttribs(A,L.attrs)},a=A=>{const L=Fe(A)?{name:A,classes:[],attrs:{}}:A,W=Hl.create(L.name);return s(W,L),W},d=(A,L)=>{const W=n.getElementRule(A.nodeName.toLowerCase()),q=W==null?void 0:W.parentsRequired;return q&&q.length?L&&ve(q,L)?L:q[0]:!1},g=(A,L,W)=>{let q;const Y=L[0],ce=Cf(Y)?Y.name:void 0,he=d(A,ce);if(he)ce===he?(q=Y,L=L.slice(1)):q=he;else if(Y)q=Y,L=L.slice(1);else if(!W)return A;const ue=q?a(q):Hl.create("div");ue.appendChild(A),W&&Wt.each(W,Pe=>{const Ze=a(Pe);ue.insertBefore(Ze,A)});const we=Cf(q)?q.siblings:void 0;return g(ue,L,we)},C=Hl.create("div");if(e.length>0){const A=e[0],L=a(A),W=Cf(A)?A.siblings:void 0;C.appendChild(g(L,e.slice(1),W))}return C},d0=e=>{e=Wt.trim(e);let t="div";const n={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(s,a,d,g,C)=>{switch(a){case"#":n.attrs.id=d;break;case".":n.classes.push(d);break;case":":Wt.inArray("checked disabled enabled read-only required".split(" "),d)!==-1&&(n.attrs[d]=d);break}if(g==="["){const A=C.match(/([\w\-]+)(?:\=\"([^\"]+))?/);A&&(n.attrs[A[1]]=A[2])}return""})),n.name=t||"div",n},B6=e=>Fe(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Wt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const n=Wt.map(t.split(/(?:~\+|~|\+)/),d0),s=n.pop();return n.length&&(s.siblings=n),s}).reverse()):[],M6=(e,t)=>{let n="",s=w8(e);if(s==="")return"";const a=Y=>Fe(Y)?Y.replace(/%(\w+)/g,""):"",d=(Y,ce)=>Hl.getStyle(ce??e.getBody(),Y,!0);if(Fe(t)){const Y=e.formatter.get(t);if(!Y)return"";t=Y[0]}if("preview"in t){const Y=t.preview;if(Y===!1)return"";s=Y||s}let g=t.block||t.inline||"span",C;const A=B6(t.selector);A.length>0?(A[0].name||(A[0].name=g),g=t.selector,C=w2(A,e)):C=w2([g],e);const L=Hl.select(g,C)[0]||C.firstChild;d1(t.styles,(Y,ce)=>{const he=a(Y);he&&Hl.setStyle(L,ce,he)}),d1(t.attributes,(Y,ce)=>{const he=a(Y);he&&Hl.setAttrib(L,ce,he)}),d1(t.classes,Y=>{const ce=a(Y);Hl.hasClass(L,ce)||Hl.addClass(L,ce)}),e.dispatch("PreviewFormats"),Hl.setStyles(C,{position:"absolute",left:-65535}),e.getBody().appendChild(C);const W=d("fontSize"),q=/px$/.test(W)?parseInt(W,10):0;return d1(s.split(" "),Y=>{let ce=d(Y,L);if(!(Y==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ce)&&(ce=d(Y),tb(ce).toLowerCase()==="#ffffff"))&&!(Y==="color"&&tb(ce).toLowerCase()==="#000000")){if(Y==="font-size"&&/em|%$/.test(ce)){if(q===0)return;ce=parseFloat(ce)/(/%$/.test(ce)?100:1)*q+"px"}Y==="border"&&ce&&(n+="padding:0 2px;"),n+=Y+":"+ce+";"}}),e.dispatch("AfterPreviewFormats"),Hl.remove(C),n},v4=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},C2=e=>{const t=b4(e),n=fi({});return v4(e),AR(e),Hm(e)||UR(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(s,a,d)=>{Pr(e,s,a,d)},remove:(s,a,d,g)=>{UN(e,s,a,d,g)},toggle:(s,a,d)=>{K3(e,s,a,d)},match:(s,a,d,g)=>zL(e,s,a,d,g),closest:s=>UL(e,s),matchAll:(s,a)=>HL(e,s,a),matchNode:(s,a,d,g)=>VL(e,s,a,d,g),canApply:s=>$L(e,s),formatChanged:(s,a,d,g)=>ZN(e,n,s,a,d,g),getCssText:xt(M6,e)}},Gg=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},f1=(e,t,n)=>{const s=fi(!1),a=A=>{m2(t,!1,n),t.add({},A)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",A=>{const L=A.command;Gg(L)||(H3(t,n),t.beforeChange())}),e.on("ExecCommand",A=>{const L=A.command;Gg(L)||a(A)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",a),e.on("dragend",a),e.on("keyup",A=>{const L=A.keyCode;if(A.isDefaultPrevented())return;const W=So.os.isMacOS()&&A.key==="Meta";(L>=33&&L<=36||L>=37&&L<=40||L===45||A.ctrlKey||W)&&(a(),e.nodeChanged()),(L===46||L===8)&&e.nodeChanged(),s.get()&&t.typing&&!a0(i0(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),s.set(!1),e.nodeChanged())}),e.on("keydown",A=>{const L=A.keyCode;if(A.isDefaultPrevented())return;if(L>=33&&L<=36||L>=37&&L<=40||L===45){t.typing&&a(A);return}const W=A.ctrlKey&&!A.altKey||A.metaKey;if((L<16||L>20)&&L!==224&&L!==91&&!t.typing&&!W){t.beforeChange(),m2(t,!0,n),t.add({},A),s.set(!0);return}(So.os.isMacOS()?A.metaKey:A.ctrlKey&&!A.altKey)&&t.beforeChange()}),e.on("mousedown",A=>{t.typing&&a(A)});const d=A=>A.inputType==="insertReplacementText",g=A=>A.inputType==="insertText"&&A.data===null,C=A=>A.inputType==="insertFromPaste"||A.inputType==="insertFromDrop";e.on("input",A=>{A.inputType&&(d(A)||g(A)||C(A))&&a(A)}),e.on("AddUndo Undo Redo ClearUndos",A=>{A.isDefaultPrevented()||e.nodeChanged()})},P6=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},L6=e=>{const t=mi(),n=fi(0),s=fi(0),a={data:[],typing:!1,beforeChange:()=>{l0(e,n,t)},add:(d,g)=>NL(e,a,s,n,t,d,g),dispatchChange:()=>{e.setDirty(!0);const d=i0(e);d.bookmark=gn(e.selection),e.dispatch("change",{level:d,lastLevel:Ar(a.data,s.get()).getOrUndefined()})},undo:()=>IL(e,a,n,s),redo:()=>VN(e,s,a.data),clear:()=>{$N(e,a,s)},reset:()=>{q_(e,a)},hasUndo:()=>BL(e,a,s),hasRedo:()=>ML(e,a,s),transact:d=>PL(e,a,n,d),ignore:d=>{LL(e,n,d)},extra:(d,g)=>{FL(e,a,s,d,g)}};return Hm(e)||f1(e,a,n),P6(e),a},F6=[9,27,ln.HOME,ln.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,ln.DOWN,ln.UP,ln.LEFT,ln.RIGHT].concat(So.browser.isFirefox()?[224]:[]),z6="data-mce-placeholder",H6=e=>e.type==="keydown"||e.type==="keyup",V6=e=>{const t=e.keyCode;return t===ln.BACKSPACE||t===ln.DELETE},x4=e=>{if(H6(e)){const t=e.keyCode;return!V6(e)&&(ln.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||ve(F6,t))}else return!1},$6=e=>H6(e)&&!(V6(e)||e.type==="keyup"&&e.keyCode===229),CF=(e,t,n)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const s=t.firstElementChild;return s?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:n===s.nodeName.toLowerCase():!0}else return!1},U6=e=>{var t;const n=e.dom,s=La(e),a=(t=wk(e))!==null&&t!==void 0?t:"",d=(g,C)=>{if(x4(g))return;const A=e.getBody(),L=$6(g)?!1:CF(n,A,s);(n.getAttrib(A,z6)!==""!==L||C)&&(n.setAttrib(A,z6,L?a:null),w5(e,L),e.on(L?"keydown":"keyup",d),e.off(L?"keyup":"keydown",d))};$e(a)&&e.on("init",g=>{d(g,!0),e.on("change SetContent ExecCommand",d),e.on("paste",C=>pc.setEditorTimeout(e,()=>d(C)))})},_F=(e,t)=>({block:e,position:t}),y4=(e,t)=>({from:e,to:t}),w4=(e,t)=>{const n=Oe.fromDom(e),s=Oe.fromDom(t.container());return qy(n,s).map(a=>_F(a,t))},Z6=e=>!(zi(e.to.block,e.from.block)||zi(e.from.block,e.to.block)),C4=e=>!Po(e.from.block,e.to.block),_4=(e,t)=>qs(t,a=>cc(a)||oc(a.dom),a=>Po(a,e)).filter(Ss).getOr(e),S4=(e,t)=>{const n=Oe.fromDom(e);return Po(_4(n,t.from.block),_4(n,t.to.block))},SF=e=>to(e.from.block.dom)===!1&&to(e.to.block.dom)===!1,W6=e=>{const t=n=>mb(n)||Si(n.dom)||pm(n);return t(e.from.block)&&t(e.to.block)},kF=(e,t,n,s)=>Jr(s.position.getNode())&&!Ts(e,s.block)?Nv(!1,s.block.dom).bind(a=>a.isEqual(s.position)?Zc(n,t,a).bind(d=>w4(t,d)):X.some(s)).getOr(s):s,j6=(e,t,n,s)=>{const a=w4(t,ft.fromRangeStart(s)),d=a.bind(g=>Zc(n,t,g.position).bind(C=>w4(t,C).map(A=>kF(e,t,n,A))));return Li(a,d,y4).filter(g=>C4(g)&&S4(t,g)&&SF(g)&&W6(g)&&Z6(g))},K6=(e,t,n,s)=>s.collapsed?j6(e,t,n,s):X.none(),AF=(e,t)=>{const n=Vi(e);return Mt(n,s=>t.isBlock(Mo(s))).fold(rt(n),s=>n.slice(0,s))},q6=(e,t)=>{const n=AF(e,t);return _e(n,lr),n},G6=(e,t,n)=>{const s=bc(n,t);return Bt(s.reverse(),a=>Ts(e,a)).each(lr)},EF=(e,t)=>_t(uu(t),n=>!Ts(e,n)).length===0,TF=(e,t,n,s,a)=>{if(Ts(s,n))return uc(n),$n(n.dom);EF(s,a)&&Ts(s,t)&&ds(a,Oe.fromTag("br"));const d=mc(n.dom,ft.before(a.dom));return _e(q6(t,s),g=>{ds(a,g)}),G6(s,e,t),d},m1=(e,t)=>e.isInline(Mo(t)),Y6=(e,t,n,s)=>{if(Ts(s,n)){if(Ts(s,t)){const g=Yt((C=>{const A=(L,W)=>ml(L).fold(()=>W,q=>m1(s,q)?A(q,W.concat(Rs(q))):W);return A(C,[])})(n),(C,A)=>(yl(C,A),A),ad());Mr(t),As(t,g)}return lr(n),$n(t.dom)}const a=Cu(n.dom);return _e(q6(t,s),d=>{As(n,d)}),G6(s,e,t),a},X6=(e,t)=>{const n=bc(t,e);return X.from(n[n.length-1])},J6=(e,t)=>zi(t,e)?X6(t,e):X.none(),Q6=(e,t)=>{Nv(e,t.dom).bind(n=>X.from(n.getNode())).map(Oe.fromDom).filter(yu).each(lr)},eI=(e,t,n,s)=>(Q6(!0,t),Q6(!1,n),J6(t,n).fold(xt(Y6,e,t,n,s),xt(TF,e,t,n,s))),Yg=(e,t,n,s,a)=>t?eI(e,s,n,a):eI(e,n,s,a),eS=(e,t)=>{const n=Oe.fromDom(e.getBody());return K6(e.schema,n.dom,t,e.selection.getRng()).map(a=>()=>{Yg(n,t,a.from.block,a.to.block,e.schema).each(d=>{e.selection.setRng(d.toRange())})})},tS=(e,t,n)=>{const s=t.getRng();return Li(qy(e,Oe.fromDom(s.startContainer)),qy(e,Oe.fromDom(s.endContainer)),(a,d)=>Po(a,d)?X.none():X.some(()=>{s.deleteContents(),Yg(e,!0,a,d,n).each(g=>{t.setRng(g.toRange())})})).getOr(X.none())},tI=(e,t)=>{const n=Oe.fromDom(t),s=xt(Po,e);return Ra(n,cc,s).isSome()},nI=(e,t)=>tI(e,t.startContainer)||tI(e,t.endContainer),OF=(e,t)=>{const n=mc(e.dom,ft.fromRangeStart(t)).isNone(),s=_l(e.dom,ft.fromRangeEnd(t)).isNone();return!nI(e,t)&&n&&s},DF=e=>X.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),k4=e=>{const t=Oe.fromDom(e.getBody()),n=e.selection.getRng();return OF(t,n)?DF(e):tS(t,e.selection,e.schema)},A4=(e,t)=>e.selection.isCollapsed()?X.none():k4(e),ps=(e,t,n,s,a)=>X.from(t._selectionOverrides.showCaret(e,n,s,a)),RF=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},_2=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?X.none():X.some(RF(t)),E4=(e,t,n)=>{const s=Fk(1,e.getBody(),t),a=ft.fromRangeStart(s),d=a.getNode();if(ty(d))return ps(1,e,d,!a.isAtEnd(),!1);const g=a.getNode(!0);if(ty(g))return ps(1,e,g,!1,!1);const C=Du(e.dom.getRoot(),a.getNode());return ty(C)?ps(1,e,C,!1,n):X.none()},nS=(e,t,n)=>t.collapsed?E4(e,t,n).getOr(t):t,T4=e=>pi(e)||qb(e),NF=e=>yf(e)||jv(e),IF=(e,t)=>{Lt(t)&&t.data.length===0&&e.remove(t)},oI=(e,t,n,s,a,d)=>{ps(s,e,d.getNode(!a),a,!0).each(g=>{if(t.collapsed){const C=t.cloneRange();a?C.setEnd(g.startContainer,g.startOffset):C.setStart(g.endContainer,g.endOffset),C.deleteContents()}else t.deleteContents();e.selection.setRng(g)}),IF(e.dom,n)},BF=(e,t)=>{const n=e.selection.getRng();if(!Lt(n.commonAncestorContainer))return X.none();const s=t?wa.Forwards:wa.Backwards,a=Fn(e.getBody()),d=xt(zk,t?a.next:a.prev),g=t?T4:NF,C=iy(s,e.getBody(),n),A=d(C),L=A&&Ou(t,A);if(!L||!rC(C,L))return X.none();if(g(L))return X.some(()=>oI(e,n,C.getNode(),s,t,L));const W=d(L);return W&&g(W)&&rC(L,W)?X.some(()=>oI(e,n,C.getNode(),s,t,W)):X.none()},O4=(e,t)=>BF(e,t),D4=(e,t)=>{const n=e.getBody();return t?$n(n).filter(pi):Cu(n).filter(yf)},R4=e=>{const t=e.selection.getRng();return!t.collapsed&&(D4(e,!0).exists(n=>n.isEqual(ft.fromRangeStart(t)))||D4(e,!1).exists(n=>n.isEqual(ft.fromRangeEnd(t))))},f0=e=>Se(e)&&(cc(Oe.fromDom(e))||pm(Oe.fromDom(e))),Ei=Bo.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),MF=(e,t)=>{const n=t.getNode(!e),s=e?"after":"before";return yn(n)&&n.getAttribute("data-mce-caret")===s},PF=(e,t,n,s,a)=>{const d=g=>a.isInline(g.nodeName.toLowerCase())&&!Sm(n,s,e);return zO(!t,n).fold(()=>zO(t,s).fold(Sn,d),d)},rI=(e,t,n,s,a)=>{const d=a.getNode(!n);return qy(Oe.fromDom(t),Oe.fromDom(s.getNode())).map(g=>Ts(e,g)?Ei.remove(g.dom):Ei.moveToElement(d)).orThunk(()=>X.some(Ei.moveToElement(d)))},sI=(e,t,n,s)=>Zc(t,e,n).bind(a=>f0(a.getNode())||PF(e,t,n,a,s)?X.none():t&&to(a.getNode())||!t&&to(a.getNode(!0))?rI(s,e,t,n,a):t&&yf(n)||!t&&pi(n)?X.some(Ei.moveToPosition(a)):X.none()),LF=(e,t)=>gt(t)?X.none():e&&to(t.nextSibling)?X.some(Ei.moveToElement(t.nextSibling)):!e&&to(t.previousSibling)?X.some(Ei.moveToElement(t.previousSibling)):X.none(),FF=(e,t,n)=>n.fold(s=>X.some(Ei.remove(s)),s=>X.some(Ei.moveToElement(s)),s=>Sm(t,s,e)?X.none():X.some(Ei.moveToPosition(s))),zF=(e,t,n,s)=>MF(t,n)?LF(t,n.getNode(!t)).orThunk(()=>sI(e,t,n,s)):sI(e,t,n,s).bind(a=>FF(e,n,a)),HF=(e,t,n,s)=>{const a=Fk(t?1:-1,e,n),d=ft.fromRangeStart(a),g=Oe.fromDom(e);return!t&&yf(d)?X.some(Ei.remove(d.getNode(!0))):t&&pi(d)?X.some(Ei.remove(d.getNode())):!t&&pi(d)&&Yb(g,d,s)?ZC(g,d,s).map(C=>Ei.remove(C.getNode())):t&&yf(d)&&Uy(g,d,s)?TD(g,d,s).map(C=>Ei.remove(C.getNode())):zF(e,t,d,s)},VF=(e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),ol(e,t,Oe.fromDom(n)),!0),$F=(e,t)=>n=>{const s=t?ft.before(n):ft.after(n);return e.selection.setRng(s.toRange()),!0},UF=e=>t=>(e.selection.setRng(t.toRange()),!0),iI=(e,t)=>X.from(Du(e.getBody(),t)),ZF=(e,t)=>{const n=e.selection.getNode();return iI(e,n).filter(to).fold(()=>HF(e.getBody(),t,e.selection.getRng(),e.schema).map(s=>()=>s.fold(VF(e,t),$F(e,t),UF(e))),()=>X.some(sn))},WF=e=>{_e(Gs(e,".mce-offscreen-selection"),lr)},jF=(e,t)=>{const n=e.selection.getNode();return to(n)&&!ph(n)?iI(e,n.parentNode).filter(to).fold(()=>X.some(()=>{WF(Oe.fromDom(e.getBody())),ol(e,t,Oe.fromDom(e.selection.getNode())),GC(e)}),()=>X.some(sn)):R4(e)?X.some(()=>{YC(e,e.selection.getRng(),Oe.fromDom(e.getBody()))}):X.none()},aI=e=>{const t=e.dom,n=e.selection,s=Du(e.getBody(),n.getNode());if(oc(s)&&t.isBlock(s)&&t.isEmpty(s)){const a=t.create("br",{"data-mce-bogus":"1"});t.setHTML(s,""),s.appendChild(a),n.setRng(ft.before(a).toRange())}return!0},N4=(e,t)=>e.selection.isCollapsed()?ZF(e,t):jF(e,t),lI=e=>e.hasOwnProperty("text"),cI=e=>e.hasOwnProperty("marker"),uI=(e,t)=>{const n=(d,g)=>{if(Lt(d))return{text:d,offset:g};{const C=t(),A=d.childNodes;return g<A.length?(d.insertBefore(C,A[g]),{marker:C,before:!0}):(d.appendChild(C),{marker:C,before:!1})}},s=n(e.endContainer,e.endOffset);return{start:n(e.startContainer,e.startOffset),end:s}},dI=e=>{var t,n;const{start:s,end:a}=e,d=new window.Range;return lI(s)?d.setStart(s.text,s.offset):cI(s)&&(s.before?d.setStartBefore(s.marker):d.setStartAfter(s.marker),(t=s.marker.parentNode)===null||t===void 0||t.removeChild(s.marker)),lI(a)?d.setEnd(a.text,a.offset):cI(a)&&(a.before?d.setEndBefore(a.marker):d.setEndAfter(a.marker),(n=a.marker.parentNode)===null||n===void 0||n.removeChild(a.marker)),d},I4=(e,t)=>{var n;const s=e.dom,a=s.getParent(e.selection.getStart(),s.isBlock),d=s.getParent(e.selection.getEnd(),s.isBlock),g=e.getBody();if(((n=a==null?void 0:a.nodeName)===null||n===void 0?void 0:n.toLowerCase())==="div"&&a&&d&&a===g.firstChild&&d===g.lastChild&&!s.isEmpty(g)){const A=a.cloneNode(!1),L=()=>{if(t?nE(e):qC(e),g.firstChild!==a){const W=uI(e.selection.getRng(),()=>document.createElement("span"));Array.from(g.childNodes).forEach(q=>A.appendChild(q)),g.appendChild(A),e.selection.setRng(dI(W))}};return X.some(L)}return X.none()},KF=(e,t)=>{const n=ft.fromRangeStart(e.selection.getRng());return Zc(t,e.getBody(),n).filter(s=>t?CD(s):_D(s)).bind(s=>nC(t?0:-1,s)).map(s=>()=>e.selection.select(s))},B4=(e,t)=>e.selection.isCollapsed()?KF(e,t):X.none(),m0=Lt,fI=e=>m0(e)&&e.data[0]===oi,mI=e=>m0(e)&&e.data[e.data.length-1]===oi,gI=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(oi)},qF=e=>{var t;if(m0(e.previousSibling))return mI(e.previousSibling)||e.previousSibling.appendData(oi),e.previousSibling;if(m0(e))return fI(e)||e.insertData(0,oi),e;{const n=gI(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(n,e),n}},GF=e=>{var t,n;if(m0(e.nextSibling))return fI(e.nextSibling)||e.nextSibling.insertData(0,oi),e.nextSibling;if(m0(e))return mI(e)||e.appendData(oi),e;{const s=gI(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(s,e.nextSibling):(n=e.parentNode)===null||n===void 0||n.appendChild(s),s}},oS=(e,t)=>e?qF(t):GF(t),hI=xt(oS,!0),YF=xt(oS,!1),pI=(e,t)=>Lt(e.container())?oS(t,e.container()):oS(t,e.getNode()),bI=(e,t)=>{const n=t.get();return n&&e.container()===n&&bm(n)},M4=(e,t)=>t.fold(n=>{Bh(e.get());const s=hI(n);return e.set(s),X.some(ft(s,s.length-1))},n=>$n(n).map(s=>{if(bI(s,e)){const a=e.get();return ft(a,1)}else{Bh(e.get());const a=pI(s,!0);return e.set(a),ft(a,1)}}),n=>Cu(n).map(s=>{if(bI(s,e)){const a=e.get();return ft(a,a.length-1)}else{Bh(e.get());const a=pI(s,!1);return e.set(a),ft(a,a.length-1)}}),n=>{Bh(e.get());const s=YF(n);return e.set(s),X.some(ft(s,1))}),vI=(e,t)=>{for(let n=0;n<e.length;n++){const s=e[n].apply(null,t);if(s.isSome())return s}return X.none()},kl=Bo.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),xI=(e,t)=>{const n=Mh(t,e);return n||e},XF=(e,t,n)=>{const s=KD(n),a=xI(t,s.container());return Gh(e,a,s).fold(()=>_l(a,s).bind(xt(Gh,e,a)).map(d=>kl.before(d)),X.none)},yI=(e,t)=>Ph(e,t)===null,wI=(e,t,n)=>Gh(e,t,n).filter(xt(yI,t)),JF=(e,t,n)=>{const s=Xv(n);return wI(e,t,s).bind(a=>mc(a,s).isNone()?X.some(kl.start(a)):X.none())},QF=(e,t,n)=>{const s=KD(n);return wI(e,t,s).bind(a=>_l(a,s).isNone()?X.some(kl.end(a)):X.none())},ez=(e,t,n)=>{const s=Xv(n),a=xI(t,s.container());return Gh(e,a,s).fold(()=>mc(a,s).bind(xt(Gh,e,a)).map(d=>kl.after(d)),X.none)},CI=e=>!jy(P4(e)),Vm=(e,t,n)=>vI([XF,JF,QF,ez],[e,t,n]).filter(CI),P4=e=>e.fold(Un,Un,Un,Un),_I=e=>e.fold(rt("before"),rt("start"),rt("end"),rt("after")),S2=e=>e.fold(kl.before,kl.before,kl.after,kl.after),rS=e=>e.fold(kl.start,kl.start,kl.end,kl.end),tz=(e,t)=>_I(e)===_I(t)&&P4(e)===P4(t),SI=(e,t,n,s,a,d)=>Li(Gh(t,n,s),Gh(t,n,a),(g,C)=>g!==C&&jD(n,g,C)?kl.after(e?g:C):d).getOr(d),nz=(e,t)=>e.fold(Mn,n=>!tz(n,t)),oz=(e,t,n,s,a)=>{const d=Ou(e,a);return Zc(e,n,d).map(xt(Ou,e)).fold(()=>s.map(S2),A=>Vm(t,n,A).map(xt(SI,e,t,n,d,A)).filter(xt(nz,s))).filter(CI)},rz=(e,t)=>e?t.fold(vn(X.some,kl.start),X.none,vn(X.some,kl.after),X.none):t.fold(X.none,vn(X.some,kl.before),X.none,vn(X.some,kl.end)),sz=(e,t,n,s)=>{const a=Ou(e,s),d=Vm(t,n,a);return Vm(t,n,a).bind(xt(rz,e)).orThunk(()=>oz(e,t,n,d,s))},iz=e=>Ne(e.selection.getSel().modify),kI=(e,t,n)=>{const s=e?1:-1;return t.setRng(ft(n.container(),n.offset()+s).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},L4=(e,t)=>{const n=t.selection.getRng(),s=e?ft.fromRangeEnd(n):ft.fromRangeStart(n);return iz(t)?e&&pb(s)?kI(!0,t.selection,s):!e&&hv(s)?kI(!1,t.selection,s):!1:!1};var xd;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(xd||(xd={}));const sS=(e,t)=>e===wa.Backwards?fo(t):t,AI=(e,t,n)=>e===wa.Forwards?t.next(n):t.prev(n),az=(e,t,n,s)=>Jr(s.getNode(t===wa.Forwards))?xd.Br:Sm(n,s)===!1?xd.Block:xd.Wrap,EI=(e,t,n,s)=>{const a=Fn(n);let d=s;const g=[];for(;d;){const C=AI(t,a,d);if(!C)break;if(Jr(C.getNode(!1)))return t===wa.Forwards?{positions:sS(t,g).concat([C]),breakType:xd.Br,breakAt:X.some(C)}:{positions:sS(t,g),breakType:xd.Br,breakAt:X.some(C)};if(!C.isVisible()){d=C;continue}if(e(d,C)){const A=az(n,t,d,C);return{positions:sS(t,g),breakType:A,breakAt:X.some(C)}}g.push(C),d=C}return{positions:sS(t,g),breakType:xd.Eol,breakAt:X.none()}},TI=(e,t,n,s)=>t(n,s).breakAt.map(a=>{const d=t(n,a).positions;return e===wa.Backwards?d.concat(a):[a].concat(d)}).getOr([]),F4=(e,t)=>je(e,(n,s)=>n.fold(()=>X.some(s),a=>Li(jt(a.getClientRects()),jt(s.getClientRects()),(d,g)=>{const C=Math.abs(t-d.left);return Math.abs(t-g.left)<=C?s:a}).or(n)),X.none()),iS=(e,t)=>jt(t.getClientRects()).bind(n=>F4(e,n.left)),k2=xt(EI,ft.isAbove,-1),A2=xt(EI,ft.isBelow,1),OI=xt(TI,-1,k2),aS=xt(TI,1,A2),DI=(e,t)=>k2(e,t).breakAt.isNone(),RI=(e,t)=>A2(e,t).breakAt.isNone(),lz=e=>$n(e).map(t=>[t].concat(A2(e,t).positions)).getOr([]),NI=e=>Cu(e).map(t=>k2(e,t).positions.concat(t)).getOr([]),g1=(e,t)=>iS(OI(e,t),t),cz=(e,t)=>iS(aS(e,t),t),uz=to,II=(e,t)=>Math.abs(e.left-t),Vl=(e,t)=>Math.abs(e.right-t),BI=e=>xl(e,"node"),MI=(e,t)=>ja(e,(n,s)=>{const a=Math.min(II(n,t),Vl(n,t)),d=Math.min(II(s,t),Vl(s,t));return d===a&&BI(s)&&uz(s.node)||d<a?s:n}),dz=e=>{const t=n=>tt(n,s=>{const a=rf(s);return a.node=e,a});if(yn(e))return t(e.getClientRects());if(Lt(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}else return[]},PI=e=>xn(e,dz);var E2;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(E2||(E2={}));const fz=(e,t,n,s)=>{let a=s;for(;a=oy(a,e,Cb,t);)if(n(a))return},z4=(e,t,n,s,a,d)=>{let g=0;const C=[],A=q=>{let Y=PI([q]);e===-1&&(Y=Y.reverse());for(let ce=0;ce<Y.length;ce++){const he=Y[ce];if(!n(he,L)){if(C.length>0&&t(he,ea(C))&&g++,he.line=g,a(he))return!0;C.push(he)}}return!1},L=ea(d.getClientRects());if(!L)return C;const W=d.getNode();return W&&(A(W),fz(e,s,A,W)),C},mz=(e,t)=>t.line>e,gz=(e,t)=>t.line===e,hz=xt(z4,E2.Up,lf,Rg),pz=xt(z4,E2.Down,Rg,lf),LI=e=>ea(e.getClientRects()),g0=(e,t,n,s)=>{const a=Fn(t);let d,g,C,A;const L=[];let W=0;e===1?(d=a.next,g=Rg,C=lf,A=ft.after(s)):(d=a.prev,g=lf,C=Rg,A=ft.before(s));const q=LI(A);do{if(!A.isVisible())continue;const Y=LI(A);if(C(Y,q))continue;L.length>0&&g(Y,ea(L))&&W++;const ce=rf(Y);if(ce.position=A,ce.line=W,n(ce))return L;L.push(ce)}while(A=d(A));return L},H4=e=>t=>mz(e,t),h0=e=>t=>gz(e,t),_f=(e,t)=>{e.selection.setRng(t),ku(e,e.selection.getRng())},lS=(e,t,n)=>X.some(nS(e,t,n)),V4=(e,t,n,s,a,d)=>{const g=t===wa.Forwards,C=Fn(e.getBody()),A=xt(zk,g?C.next:C.prev),L=g?s:a;if(!n.collapsed){const he=Oh(n);if(d(he))return ps(t,e,he,t===wa.Backwards,!1);if(R4(e)){const ue=n.cloneRange();return ue.collapse(t===wa.Backwards),X.from(ue)}}const W=iy(t,e.getBody(),n);if(L(W))return _2(e,W.getNode(!g));let q=A(W);const Y=Dg(n);if(q)q=Ou(g,q);else return Y?X.some(n):X.none();if(L(q))return ps(t,e,q.getNode(!g),g,!1);const ce=A(q);return ce&&L(ce)&&rC(q,ce)?ps(t,e,ce.getNode(!g),g,!1):Y?lS(e,q.toRange(),!1):X.none()},FI=(e,t,n,s,a,d)=>{const g=iy(t,e.getBody(),n),C=ea(g.getClientRects()),A=t===E2.Down,L=e.getBody();if(!C)return X.none();if(R4(e)){const we=A?ft.fromRangeEnd(n):ft.fromRangeStart(n);return(A?cz:g1)(L,we).orThunk(()=>X.from(we)).map(Ze=>Ze.toRange())}const q=(A?pz:hz)(L,H4(1),g),Y=_t(q,h0(1)),ce=C.left,he=MI(Y,ce);if(he&&d(he.node)){const we=Math.abs(ce-he.left),Pe=Math.abs(ce-he.right);return ps(t,e,he.node,we<Pe,!1)}let ue;if(s(g)?ue=g.getNode():a(g)?ue=g.getNode(!0):ue=Oh(n),ue){const we=g0(t,L,H4(1),ue);let Pe=MI(_t(we,h0(1)),ce);if(Pe||(Pe=ea(_t(we,h0(0))),Pe))return lS(e,Pe.position.toRange(),!1)}return Y.length===0?cS(e,A).filter(A?a:s).map(we=>nS(e,we.toRange(),!1)):X.none()},cS=(e,t)=>{const n=e.selection.getRng(),s=t?ft.fromRangeEnd(n):ft.fromRangeStart(n),a=$8(s.container(),e.getBody());if(t){const d=A2(a,s);return ao(d.positions)}else{const d=k2(a,s);return jt(d.positions)}},zI=(e,t,n)=>cS(e,t).filter(n).exists(s=>(e.selection.setRng(s.toRange()),!0)),T2=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},$4=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},U4=(e,t,n)=>M4(t,n).map(s=>(T2(e,s),n)),HI=(e,t,n)=>{const s=ft.fromRangeStart(e);if(e.collapsed)return s;{const a=ft.fromRangeEnd(e);return n?mc(t,a).getOr(a):_l(t,s).getOr(s)}},VI=(e,t,n)=>{const s=e.getBody(),a=HI(e.selection.getRng(),s,n),d=xt(Jb,e);return sz(n,d,s,a).bind(C=>U4(e,t,C))},$I=(e,t,n)=>{const s=tt(Gs(Oe.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),g=>g.dom),a=_t(s,e),d=_t(n,e);_e(po(a,d),xt($4,!1)),_e(po(d,a),xt($4,!0))},Z4=(e,t)=>{const n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){const s=ft.fromRangeStart(e.selection.getRng());ft.isTextPosition(s)&&!eE(s)&&(T2(e,z8(n,s)),t.set(null))}},UI=(e,t,n,s)=>{if(t.selection.isCollapsed()){const a=_t(s,e);_e(a,d=>{const g=ft.fromRangeStart(t.selection.getRng());Vm(e,t.getBody(),g).bind(C=>U4(t,n,C))})}},W4=(e,t,n)=>Ov(e)?VI(e,t,n).isSome():!1,j4=(e,t,n)=>Ov(t)?L4(e,t):!1,ZI=e=>{const t=fi(null),n=xt(Jb,e);return e.on("NodeChange",s=>{Ov(e)&&($I(n,e.dom,s.parents),Z4(e,t),UI(n,e,t,s.parents))}),t},WI=xt(j4,!0),jI=xt(j4,!1),O2=(e,t,n)=>{if(Ov(e)){const s=cS(e,t).getOrThunk(()=>{const a=e.selection.getRng();return t?ft.fromRangeEnd(a):ft.fromRangeStart(a)});return Vm(xt(Jb,e),e.getBody(),s).exists(a=>{const d=S2(a);return M4(n,d).exists(g=>(T2(e,g),!0))})}else return!1},K4=(e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},q4=e=>Li($n(e),Cu(e),(t,n)=>{const s=Ou(!0,t),a=Ou(!1,n);return _l(e,s).forall(d=>d.isEqual(a))}).getOr(!0),D2=(e,t)=>n=>M4(t,n).map(s=>()=>T2(e,s)),G4=(e,t,n,s)=>{const a=e.getBody(),d=xt(Jb,e);e.undoManager.ignore(()=>{e.selection.setRng(K4(n,s)),qC(e),Vm(d,a,ft.fromRangeStart(e.selection.getRng())).map(rS).bind(D2(e,t)).each(xo)}),e.nodeChanged()},KI=(e,t)=>{const n=Mh(t,e);return n||e},qI=(e,t,n,s)=>{const a=KI(e.getBody(),s.container()),d=xt(Jb,e),g=Vm(d,a,s);return g.bind(A=>n?A.fold(rt(X.some(rS(A))),X.none,rt(X.some(S2(A))),X.none):A.fold(X.none,rt(X.some(S2(A))),X.none,rt(X.some(rS(A))))).map(D2(e,t)).getOrThunk(()=>{const A=Mb(n,a,s),L=A.bind(W=>Vm(d,a,W));return Li(g,L,()=>Gh(d,a,s).bind(W=>q4(W)?X.some(()=>{ol(e,n,Oe.fromDom(W))}):X.none())).getOrThunk(()=>L.bind(()=>A.map(W=>()=>{n?G4(e,t,s,W):G4(e,t,W,s)})))})},R2=(e,t,n)=>{if(e.selection.isCollapsed()&&Ov(e)){const s=ft.fromRangeStart(e.selection.getRng());return qI(e,t,n,s)}return X.none()},GI=e=>Xu(e)>1,Y4=(e,t)=>{const n=Oe.fromDom(e.getBody()),s=Oe.fromDom(e.selection.getStart()),a=bc(s,n);return Mt(a,t).fold(rt(a),d=>a.slice(0,d))},YI=e=>Xu(e)===1,bz=e=>Y4(e,t=>e.schema.isBlock(Mo(t))||GI(t)),XI=e=>Y4(e,t=>e.schema.isBlock(Mo(t))),X4=(e,t)=>{const n=xt(e0,e);return xn(t,s=>n(s)?[s.dom]:[])},N2=e=>{const t=XI(e);return X4(e,t)},JI=(e,t,n,s)=>{const a=X4(t,s);if(a.length===0)ol(t,e,n);else{const d=FE(n.dom,a);t.selection.setRng(d.toRange())}},QI=(e,t)=>{const n=_t(bz(e),YI);return ao(n).bind(s=>{const a=ft.fromRangeStart(e.selection.getRng());return YD(t,a,s.dom)&&!gC(s)?X.some(()=>JI(t,e,s,n)):X.none()})},J4=(e,t)=>{const n=t.parentElement;return Jr(t)&&!Je(n)&&e.dom.isEmpty(n)},vz=e=>gC(Oe.fromDom(e)),Q4=(e,t)=>{const n=e.selection.getStart(),s=J4(e,n)||vz(n)?FE(n,t):A7(e.selection.getRng(),t);e.selection.setRng(s.toRange())},xz=(e,t)=>{const n=po(t,N2(e));n.length>0&&Q4(e,n)},eT=e=>Lt(e.startContainer),eB=e=>e.startOffset===0&&eT(e),yz=(e,t)=>{const n=t.startContainer.parentElement;return!Je(n)&&e0(e,Oe.fromDom(n))},wz=e=>{const t=e.startContainer.parentNode,n=e.endContainer.parentNode;return!Je(t)&&!Je(n)&&t.isEqualNode(n)},o=e=>{const t=e.endContainer;return e.endOffset===(Lt(t)?t.length:t.childNodes.length)},i=e=>wz(e)&&o(e),c=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),u=e=>i(e)||c(e),h=e=>{const t=e.selection.getRng();return eB(t)&&yz(e,t)&&u(t)},p=e=>{if(h(e)){const t=N2(e);return X.some(()=>{qC(e),xz(e,t)})}else return X.none()},y=(e,t)=>e.selection.isCollapsed()?QI(e,t):p(e),S=(e,t)=>ww(e,n=>Wc(n.dom),n=>t.isBlock(Mo(n))),k=e=>S(Oe.fromDom(e.selection.getStart()),e.schema),O=e=>{const t=e.selection.getRng();return t.collapsed&&(eT(t)||e.dom.isEmpty(t.startContainer))&&!k(e)},M=e=>(O(e)&&Q4(e,[]),!0),N=(e,t,n)=>Se(n)?X.some(()=>{e._selectionOverrides.hideFakeCaret(),ol(e,t,Oe.fromDom(n))}):X.none(),H=(e,t)=>{const n=t?qb:jv,s=t?wa.Forwards:wa.Backwards,a=iy(s,e.getBody(),e.selection.getRng());return n(a)?N(e,t,a.getNode(!t)):X.from(Ou(t,a)).filter(d=>n(d)&&rC(a,d)).bind(d=>N(e,t,d.getNode(!t)))},K=(e,t)=>{const n=e.selection.getNode();return bt(n)?N(e,t,n):X.none()},G=(e,t)=>e.selection.isCollapsed()?H(e,t):K(e,t),re=e=>qs(e,t=>oc(t.dom)||to(t.dom)).exists(t=>oc(t.dom)),le=e=>an(e??"").getOr(0),me=(e,t)=>{const n=e||fb(t)?"margin":"padding",s=ks(t,"direction")==="rtl"?"-right":"-left";return n+s},ie=(e,t,n,s,a,d)=>{const g=me(n,Oe.fromDom(d)),C=le(e.getStyle(d,g));if(t==="outdent"){const A=Math.max(0,C-s);e.setStyle(d,g,A?A+a:"")}else{const A=C+s+a;e.setStyle(d,g,A)}},se=(e,t)=>eo(t,n=>{const s=me(sO(e),n),a=vs(n,s).map(le).getOr(0);return e.dom.getContentEditable(n.dom)!=="false"&&a>0}),de=e=>{const t=Me(e);return!e.mode.isReadOnly()&&(t.length>1||se(e,t))},ge=e=>gb(e)||pm(e),be=e=>Hi(e).exists(ge),Me=e=>_t(Nc(e.selection.getSelectedBlocks()),t=>!ge(t)&&!be(t)&&re(t)),qe=(e,t)=>{var n,s;const{dom:a}=e,d=Uc(e),g=(s=(n=/[a-z%]+$/i.exec(d))===null||n===void 0?void 0:n[0])!==null&&s!==void 0?s:"px",C=le(d),A=sO(e);_e(Me(e),L=>{ie(a,t,A,C,g,L.dom)})},wt=e=>qe(e,"indent"),pt=e=>qe(e,"outdent"),mt=e=>{if(e.selection.isCollapsed()&&de(e)){const t=e.dom,n=e.selection.getRng(),s=ft.fromRangeStart(n),a=t.getParent(n.startContainer,t.isBlock);if(a!==null&&UC(Oe.fromDom(a),s,e.schema))return X.some(()=>pt(e))}return X.none()},Pt=(e,t,n)=>Nr([mt,N4,O4,(s,a)=>R2(s,t,a),eS,Zg,B4,G,A4,y,I4],s=>s(e,n)).filter(s=>e.selection.isEditable()),cn=(e,t)=>{Pt(e,t,!1).fold(()=>{e.selection.isEditable()&&(qC(e),GC(e))},xo)},bn=(e,t)=>{Pt(e,t,!0).fold(()=>{e.selection.isEditable()&&nE(e)},xo)},Dn=(e,t)=>{e.addCommand("delete",()=>{cn(e,t)}),e.addCommand("forwardDelete",()=>{bn(e,t)})},Gn=5,Ao=400,Lr=e=>e.touches===void 0||e.touches.length!==1?X.none():X.some(e.touches[0]),qr=(e,t)=>{const n=Math.abs(e.clientX-t.x),s=Math.abs(e.clientY-t.y);return n>Gn||s>Gn},go=e=>{const t=mi(),n=fi(!1),s=kh(a=>{e.dispatch("longpress",{...a,type:"longpress"}),n.set(!0)},Ao);e.on("touchstart",a=>{Lr(a).each(d=>{s.cancel();const g={x:d.clientX,y:d.clientY,target:a.target};s.throttle(a),n.set(!1),t.set(g)})},!0),e.on("touchmove",a=>{s.cancel(),Lr(a).each(d=>{t.on(g=>{qr(d,g)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",a=>{s.cancel(),a.type!=="touchcancel"&&t.get().filter(d=>d.target.isEqualNode(a.target)).each(()=>{n.get()?a.preventDefault():e.dispatch("tap",{...a,type:"tap"})})},!0)},Fo=(e,t)=>Yn(e,t.nodeName),Ln=(e,t)=>Lt(t)?!0:yn(t)?!Fo(e.getBlockElements(),t)&&!jc(t)&&!Xd(e,t)&&!gi(t):!1,Gr=(e,t,n)=>De(Ll(Oe.fromDom(n),Oe.fromDom(t)),s=>Fo(e,s.dom)),hr=(e,t)=>{if(Lt(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||Fo(e,t.nextSibling)||gi(t.nextSibling)}return!1},_a=e=>e.dom.create(La(e),qx(e)),Sa=e=>{const t=e.dom,n=e.selection,s=e.schema,a=s.getBlockElements(),d=n.getStart(),g=e.getBody();let C,A,L=null;const W=La(e);if(!d||!yn(d))return;const q=g.nodeName.toLowerCase();if(!s.isValidChild(q,W.toLowerCase())||Gr(a,g,d))return;if(g.firstChild===g.lastChild&&Jr(g.firstChild)){C=_a(e),C.appendChild(ad().dom),g.replaceChild(C,g.firstChild),e.selection.setCursorLocation(C,0),e.nodeChanged();return}let Y=g.firstChild;for(;Y;)if(yn(Y)&&Il(s,Y),Ln(s,Y)){if(hr(a,Y)){A=Y,Y=Y.nextSibling,t.remove(A);continue}if(!C){if(!L&&e.hasFocus()&&(L=uI(e.selection.getRng(),()=>document.createElement("span"))),!Y.parentNode){Y=null;break}C=_a(e),g.insertBefore(C,Y)}A=Y,Y=Y.nextSibling,C.appendChild(A)}else C=null,Y=Y.nextSibling;L&&(e.selection.setRng(dI(L)),e.nodeChanged())},Ti=(e,t,n)=>{const s=Oe.fromDom(_a(e)),a=ad();As(s,a),n(t,s);const d=document.createRange();return d.setStartBefore(a.dom),d.setEndBefore(a.dom),d},bi=e=>{e.on("NodeChange",()=>Sa(e))},Xg=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,p0=(e,t,n)=>function(s){const a=arguments,d=a[a.length-2],g=d>0?t.charAt(d-1):"";if(g==='"')return s;if(g===">"){const C=t.lastIndexOf("<",d);if(C!==-1&&t.substring(C,d).indexOf('contenteditable="false"')!==-1)return s}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(a[0])+'">'+e.dom.encode(typeof a[1]=="string"?a[1]:a[0])+"</span>"},up=(e,t,n)=>{let s=t.length,a=n.content;if(n.format!=="raw"){for(;s--;)a=a.replace(t[s],p0(e,a,Rb(e)));n.content=a}},Jg=(e,t)=>eo(e,n=>{const s=t.match(n);return s!==null&&s[0].length===t.length}),I2=e=>{const t="contenteditable",n=" "+Wt.trim(N8(e))+" ",s=" "+Wt.trim(Rb(e))+" ",a=Xg(n),d=Xg(s),g=xO(e);g.length>0&&e.on("BeforeSetContent",C=>{up(e,g,C)}),e.parser.addAttributeFilter("class",C=>{let A=C.length;for(;A--;){const L=C[A];a(L)?L.attr(t,"true"):d(L)&&L.attr(t,"false")}}),e.serializer.addAttributeFilter(t,C=>{let A=C.length;for(;A--;){const L=C[A];if(!a(L)&&!d(L))continue;const W=L.attr("data-mce-content");g.length>0&&W?Jg(g,W)?(L.name="#text",L.type=3,L.raw=!0,L.value=W):L.remove():L.attr(t,null)}})},dp=e=>kt(Oe.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),$m=(e,t)=>{t.hasAttribute("data-mce-caret")&&(Og(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},h1=(e,t)=>{const n=dp(e);if(n){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),$m(e,n);return}mv(n)&&($m(e,n),e.undoManager.add())}},p1=e=>{e.on("keyup compositionstart",xt(h1,e))},b0=to,uS=(e,t,n)=>V4(t,e,n,pi,yf,b0),B2=(e,t,n)=>FI(t,e,n,d=>pi(d)||SD(d),d=>yf(d)||Kv(d),b0),fp=e=>{const t=e.dom.create(La(e));return t.innerHTML='<br data-mce-bogus="1">',t},Um=(e,t,n)=>{const s=Fn(e.getBody()),a=xt(zk,t===1?s.next:s.prev);if(n.collapsed){const d=e.dom.getParent(n.startContainer,"PRE");if(!d)return;if(!a(ft.fromRangeStart(n))){const C=Oe.fromDom(fp(e));t===1?Xe(Oe.fromDom(d),C):ds(Oe.fromDom(d),C),e.selection.select(C.dom,!0),e.selection.collapse()}}},Qg=(e,t)=>{const n=t?wa.Forwards:wa.Backwards,s=e.selection.getRng();return uS(n,e,s).orThunk(()=>(Um(e,n,s),X.none()))},M2=(e,t)=>{const n=t?1:-1,s=e.selection.getRng();return B2(n,e,s).orThunk(()=>(Um(e,n,s),X.none()))},P2=(e,t)=>{const n=t?e.getEnd(!0):e.getStart(!0);return jy(n)?!t:t},Go=(e,t)=>Qg(e,P2(e.selection,t)).exists(n=>(_f(e,n),!0)),Zm=(e,t)=>M2(e,t).exists(n=>(_f(e,n),!0)),yd=(e,t)=>zI(e,t,t?yf:pi),b1=(e,t)=>D4(e,!t).map(n=>{const s=n.toRange(),a=e.selection.getRng();return t?s.setStart(a.startContainer,a.startOffset):s.setEnd(a.endContainer,a.endOffset),s}).exists(n=>(_f(e,n),!0)),dS=e=>ve(["figcaption"],Mo(e)),eh=(e,t,n)=>{const s=xt(Po,t);return qs(Oe.fromDom(e.container()),a=>n.isBlock(Mo(a)),s).filter(dS)},v0=(e,t,n)=>t?RI(e.dom,n):DI(e.dom,n),tT=(e,t)=>{const n=Oe.fromDom(e.getBody()),s=ft.fromRangeStart(e.selection.getRng());return eh(s,n,e.schema).exists(()=>{if(v0(n,t,s)){const d=Ti(e,n,t?As:ba);return e.selection.setRng(d),!0}else return!1})},fS=(e,t)=>e.selection.isCollapsed()?tT(e,t):!1,Cz=(e,t,n)=>{const s=e.selection.getRng(),a=ft.fromRangeStart(s);return e.getBody().firstChild===t&&DI(n,a)?(e.execCommand("InsertNewBlockBefore"),!0):!1},x0=(e,t)=>{const n=e.selection.getRng(),s=ft.fromRangeStart(n);return e.getBody().lastChild===t&&RI(t,s)?(e.execCommand("InsertNewBlockAfter"),!0):!1},_z=(e,t)=>t?X.from(e.dom.getParent(e.selection.getNode(),"details")).map(n=>x0(e,n)).getOr(!1):X.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(n=>X.from(e.dom.getParent(n,"details")).map(s=>Cz(e,s,n))).getOr(!1),sl=(e,t)=>_z(e,t),v1={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},Sz=e=>tt(e,t=>({...v1,...t})),tB=e=>tt(e,t=>({...v1,...t})),mS=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,nB=(e,t)=>xn(Sz(e),n=>mS(n,t)?[n]:[]),oB=(e,t)=>xn(tB(e),n=>mS(n,t)?[n]:[]),Qn=(e,...t)=>()=>e.apply(null,t),mp=(e,t)=>Bt(nB(e,t),n=>n.action()),gS=(e,t)=>Nr(oB(e,t),n=>n.action()),gp=(e,t)=>{const n=t?wa.Forwards:wa.Backwards,s=e.selection.getRng();return V4(e,n,s,qb,jv,bt).exists(a=>(_f(e,a),!0))},y0=(e,t)=>{const n=t?1:-1,s=e.selection.getRng();return FI(e,n,s,qb,jv,bt).exists(a=>(_f(e,a),!0))},nT=(e,t)=>zI(e,t,t?jv:qb),oT=Bo.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Mu={...oT,none:e=>oT.none(e)},rB=(e,t)=>sT(e,t,Mn),sT=(e,t,n)=>xn(Vi(e),s=>fr(s,t)?n(s)?[s]:[]:sT(s,t,n)),sB=(e,t,n=Sn)=>{if(n(t))return X.none();if(ve(e,Mo(t)))return X.some(t);const s=a=>fr(a,"table")||n(a);return Dc(t,e.join(","),s)},iB=(e,t)=>sB(["td","th"],e,t),kz=e=>rB(e,"th,td"),it=(e,t)=>_i(e,"table",t),Rn=(e,t,n,s,a=Mn)=>{const d=s===1;if(!d&&n<=0)return Mu.first(e[0]);if(d&&n>=e.length-1)return Mu.last(e[e.length-1]);{const g=n+s,C=e[g];return a(C)?Mu.middle(t,C):Rn(e,t,g,s,a)}},no=(e,t)=>it(e,t).bind(n=>{const s=kz(n);return Mt(s,d=>Po(e,d)).map(d=>({index:d,all:s}))}),Fr=(e,t,n)=>no(e,n).fold(()=>Mu.none(e),a=>Rn(a.all,e,a.index,1,t)),Ns=(e,t,n)=>no(e,n).fold(()=>Mu.none(),a=>Rn(a.all,e,a.index,-1,t)),Ws=e=>Pw(e).filter(t=>t.trim().length!==0||t.indexOf(di)>-1).isSome(),Vs=e=>fa(e)&&oa(e,"contenteditable")==="false",si=["img","br"],w0=e=>Ws(e)||ve(si,Mo(e))||Vs(e),Az=e=>Ci(e,w0),aB=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),$V=(e,t)=>xn(t,n=>{const s=aB(rf(n.getBoundingClientRect()),-1);return[{x:s.left,y:e(s),cell:n},{x:s.right,y:e(s),cell:n}]}),mY=(e,t,n)=>je(e,(s,a)=>s.fold(()=>X.some(a),d=>{const g=Math.sqrt(Math.abs(d.x-t)+Math.abs(d.y-n)),C=Math.sqrt(Math.abs(a.x-t)+Math.abs(a.y-n));return X.some(C<g?a:d)}),X.none()),UV=(e,t,n,s,a)=>{const d=Gs(Oe.fromDom(n),"td,th,caption").map(C=>C.dom),g=_t($V(e,d),C=>t(C,a));return mY(g,s,a).map(C=>C.cell)},gY=e=>e.bottom,hY=e=>e.top,pY=(e,t)=>e.y<t,bY=(e,t)=>e.y>t,vY=xt(UV,gY,pY),xY=xt(UV,hY,bY),yY=(e,t)=>jt(t.getClientRects()).bind(n=>vY(e,n.left,n.top)).bind(n=>iS(NI(n),t)),wY=(e,t)=>ao(t.getClientRects()).bind(n=>xY(e,n.left,n.top)).bind(n=>iS(lz(n),t)),CY=(e,t,n)=>n.breakAt.exists(s=>e(t,s).breakAt.isSome()),_Y=e=>e.breakType===xd.Wrap&&e.positions.length===0,SY=e=>e.breakType===xd.Br&&e.positions.length===1,ZV=(e,t,n)=>{const s=e(t,n);return _Y(s)||!Jr(n.getNode())&&SY(s)?!CY(e,t,s):s.breakAt.isNone()},kY=xt(ZV,k2),AY=xt(ZV,A2),EY=(e,t,n)=>{const s=ft.fromRangeStart(t);return Nv(!e,n).exists(a=>a.isEqual(s))},TY=(e,t,n,s)=>{const a=e.selection.getRng(),d=t?1:-1;return Bk()&&EY(t,a,n)?(ps(d,e,n,!t,!1).each(g=>{_f(e,g)}),!0):!1},OY=(e,t,n)=>yY(t,n).orThunk(()=>jt(n.getClientRects()).bind(s=>F4(OI(e,ft.before(t)),s.left))).getOr(ft.before(t)),DY=(e,t,n)=>wY(t,n).orThunk(()=>jt(n.getClientRects()).bind(s=>F4(aS(e,ft.after(t)),s.left))).getOr(ft.after(t)),WV=(e,t)=>{const n=t.getNode(e);return Bc(n)?X.some(n):X.none()},RY=(e,t,n)=>{t.undoManager.transact(()=>{const s=e?Xe:ds,a=Ti(t,Oe.fromDom(n),s);_f(t,a)})},jV=(e,t,n)=>{const s=WV(!!t,n),a=t===!1;s.fold(()=>_f(e,n.toRange()),d=>Nv(a,e.getBody()).filter(g=>g.isEqual(n)).fold(()=>_f(e,n.toRange()),g=>RY(t,e,d)))},NY=(e,t,n,s)=>{const a=e.selection.getRng(),d=ft.fromRangeStart(a),g=e.getBody();if(!t&&kY(s,d)){const C=OY(g,n,d);return jV(e,t,C),!0}else if(t&&AY(s,d)){const C=DY(g,n,d);return jV(e,t,C),!0}else return!1},KV=(e,t,n)=>X.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(s=>X.from(e.dom.getParent(s,"table")).map(a=>n(e,t,a,s))).getOr(!1),qV=(e,t)=>KV(e,t,TY),Ez=(e,t)=>KV(e,t,NY),IY=e=>{const t=Uh.exact(e,0,e,0);return vP(t)},GV=(e,t,n)=>n.fold(X.none,X.none,(s,a)=>Az(a).map(d=>IY(d)),s=>(e.execCommand("mceTableInsertRowAfter"),YV(e,t,s))),YV=(e,t,n)=>GV(e,t,Fr(n,ss)),BY=(e,t,n)=>GV(e,t,Ns(n,ss)),XV=(e,t)=>{const n=["table","li","dl"],s=Oe.fromDom(e.getBody()),a=C=>{const A=Mo(C);return Po(C,s)||ve(n,A)},d=e.selection.getRng(),g=Oe.fromDom(t?d.endContainer:d.startContainer);return iB(g,a).map(C=>(it(C,a).each(W=>{e.model.table.clearSelectedCells(W.dom)}),e.selection.collapse(!t),(t?YV:BY)(e,a,C).each(W=>{e.selection.setRng(W)}),!0)).getOr(!1)},MY=(e,t,n)=>{const s=So.os.isMacOS()||So.os.isiOS();mp([{keyCode:ln.RIGHT,action:Qn(Go,e,!0)},{keyCode:ln.LEFT,action:Qn(Go,e,!1)},{keyCode:ln.UP,action:Qn(Zm,e,!1)},{keyCode:ln.DOWN,action:Qn(Zm,e,!0)},...s?[{keyCode:ln.UP,action:Qn(b1,e,!1),metaKey:!0,shiftKey:!0},{keyCode:ln.DOWN,action:Qn(b1,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:ln.RIGHT,action:Qn(qV,e,!0)},{keyCode:ln.LEFT,action:Qn(qV,e,!1)},{keyCode:ln.UP,action:Qn(Ez,e,!1)},{keyCode:ln.DOWN,action:Qn(Ez,e,!0)},{keyCode:ln.UP,action:Qn(Ez,e,!1)},{keyCode:ln.UP,action:Qn(sl,e,!1)},{keyCode:ln.DOWN,action:Qn(sl,e,!0)},{keyCode:ln.RIGHT,action:Qn(gp,e,!0)},{keyCode:ln.LEFT,action:Qn(gp,e,!1)},{keyCode:ln.UP,action:Qn(y0,e,!1)},{keyCode:ln.DOWN,action:Qn(y0,e,!0)},{keyCode:ln.RIGHT,action:Qn(W4,e,t,!0)},{keyCode:ln.LEFT,action:Qn(W4,e,t,!1)},{keyCode:ln.RIGHT,ctrlKey:!s,altKey:s,action:Qn(WI,e,t)},{keyCode:ln.LEFT,ctrlKey:!s,altKey:s,action:Qn(jI,e,t)},{keyCode:ln.UP,action:Qn(fS,e,!1)},{keyCode:ln.DOWN,action:Qn(fS,e,!0)}],n).each(a=>{n.preventDefault()})},PY=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||MY(e,t,n)})},th=(e,t)=>({container:e,offset:t}),lB=Tr.DOM,cB=e=>t=>e===t?-1:0,LY=e=>t=>e.isBlock(t)||ve(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",Tz=(e,t,n)=>{if(Lt(e)&&t>=0)return X.some(th(e,t));{const s=sd(lB);return X.from(s.backwards(e,t,cB(e),n)).map(a=>th(a.container,a.container.data.length))}},FY=(e,t,n)=>{if(Lt(e)&&t>=e.length)return X.some(th(e,t));{const s=sd(lB);return X.from(s.forwards(e,t,cB(e),n)).map(a=>th(a.container,0))}},Oz=(e,t,n)=>{if(!Lt(e))return X.none();const s=e.data;if(t>=0&&t<=s.length)return X.some(th(e,t));{const a=sd(lB);return X.from(a.backwards(e,t,cB(e),n)).bind(d=>{const g=d.container.data;return Oz(d.container,t+g.length,n)})}},JV=(e,t,n)=>{if(!Lt(e))return X.none();const s=e.data;if(t<=s.length)return X.some(th(e,t));{const a=sd(lB);return X.from(a.forwards(e,t,cB(e),n)).bind(d=>JV(d.container,t-s.length,n))}},Dz=(e,t,n,s,a)=>{const d=sd(e,LY(e));return X.from(d.backwards(t,n,s,a))},zY=e=>e.collapsed&&Lt(e.startContainer),HY=e=>tl(e.toString().replace(/\u00A0/g," ")),QV=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,VY=(e,t)=>e.substring(t.length),$Y=(e,t,n,s=!1)=>{let a;const d=n.charAt(0);for(a=t-1;a>=0;a--){const g=e.charAt(a);if(!s&&QV(g))return X.none();if(d===g&&dr(e,n,a,t))break}return X.some(a)},Rz=(e,t,n,s=!1)=>{if(!zY(t))return X.none();const a={text:"",offset:0},d=(C,A,L)=>(a.text=L+a.text,a.offset+=A,$Y(a.text,a.offset,n,s).getOr(A)),g=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return Dz(e,t.startContainer,t.startOffset,d,g).bind(C=>{const A=t.cloneRange();if(A.setStart(C.container,C.offset),A.setEnd(t.endContainer,t.endOffset),A.collapsed)return X.none();const L=HY(A);return L.lastIndexOf(n)!==0?X.none():X.some({text:VY(L,n),range:A,trigger:n})})},UY=e=>e.nodeType===rg,ZY=e=>e.nodeType===Ga,e$=e=>{if(UY(e))return th(e,e.data.length);{const t=e.childNodes;return t.length>0?e$(t[t.length-1]):th(e,t.length)}},t$=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?t$(n[t],0):n.length>0&&ZY(e)&&n.length===t?e$(n[n.length-1]):th(e,t)},WY=(e,t)=>{var n;const s=(n=e.getParent(t.container,e.isBlock))!==null&&n!==void 0?n:e.getRoot();return Dz(e,t.container,t.offset,(a,d)=>d===0?-1:d,s).filter(a=>{const d=a.container.data.charAt(a.offset-1);return!QV(d)}).isSome()},jY=e=>t=>{const n=t$(t.startContainer,t.startOffset);return!WY(e,n)},KY=(e,t,n)=>Nr(n.triggers,s=>Rz(e,t,s)),qY=(e,t)=>{const n=t(),s=e.selection.getRng();return KY(e.dom,s,n).bind(a=>n$(e,t,a))},n$=(e,t,n,s={})=>{var a;const d=t(),C=(a=e.selection.getRng().startContainer.nodeValue)!==null&&a!==void 0?a:"",A=_t(d.lookupByTrigger(n.trigger),W=>n.text.length>=W.minChars&&W.matches.getOrThunk(()=>jY(e.dom))(n.range,C,n.text));if(A.length===0)return X.none();const L=Promise.all(tt(A,W=>W.fetch(n.text,W.maxResults,s).then(Y=>({matchText:n.text,items:Y,columns:W.columns,onAction:W.onAction,highlightOn:W.highlightOn}))));return X.some({lookupData:L,context:n})};var nh;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(nh||(nh={}));const Nz=(e,t,n)=>e.stype===nh.Error?t(e.serror):n(e.svalue),GY=e=>{const t=[],n=[];return _e(e,s=>{Nz(s,a=>n.push(a),a=>t.push(a))}),{values:t,errors:n}},YY=(e,t)=>e.stype===nh.Error?{stype:nh.Error,serror:t(e.serror)}:e,XY=(e,t)=>e.stype===nh.Value?{stype:nh.Value,svalue:t(e.svalue)}:e,JY=(e,t)=>e.stype===nh.Value?t(e.svalue):e,QY=(e,t)=>e.stype===nh.Error?t(e.serror):e,o$=e=>({stype:nh.Value,svalue:e}),r$=e=>({stype:nh.Error,serror:e}),hl={fromResult:e=>e.fold(r$,o$),toResult:e=>Nz(e,Vn.error,Vn.value),svalue:o$,partition:GY,serror:r$,bind:JY,bindError:QY,map:XY,mapError:YY,fold:Nz},Iz=e=>ae(e)&&Ht(e).length>100?" removed due to size":JSON.stringify(e,null,2),eX=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:rt("... (only showing first ten failures)")}]):e;return tt(t,n=>"Failed path: ("+n.path.join(" > ")+`)
`+n.getErrorInfo())},uB=(e,t)=>hl.serror([{path:e,getErrorInfo:t}]),tX=(e,t,n)=>uB(e,()=>'Could not find valid *required* value for "'+t+'" in '+Iz(n)),nX=(e,t)=>uB(e,()=>'Choice schema did not contain choice key: "'+t+'"'),oX=(e,t,n)=>uB(e,()=>'The chosen schema: "'+n+'" did not exist in branches: '+Iz(t)),rX=(e,t)=>uB(e,rt(t)),sX=(e,t,n,s)=>ar(n,s).fold(()=>oX(e,n,s),d=>d.extract(e.concat(["branch: "+s]),t)),iX=(e,t)=>({extract:(a,d)=>ar(d,e).fold(()=>nX(a,e),C=>sX(a,d,t,C)),toString:()=>"chooseOn("+e+"). Possible values: "+Ht(t)}),aX=(e,t)=>t,lX=(e,t)=>Ie(e)&&Ie(t)?dB(e,t):t,s$=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const n={};for(let s=0;s<t.length;s++){const a=t[s];for(const d in a)Yn(a,d)&&(n[d]=e(n[d],a[d]))}return n},dB=s$(lX),i$=s$(aX),a$=()=>({tag:"required",process:{}}),cX=e=>({tag:"defaultedThunk",process:e}),l$=e=>cX(rt(e)),uX=()=>({tag:"option",process:{}}),dX=(e,t)=>e.length>0?hl.svalue(dB(t,i$.apply(void 0,e))):hl.svalue(t),c$=e=>vn(hl.serror,Gt)(e),fX={consolidateObj:(e,t)=>{const n=hl.partition(e);return n.errors.length>0?c$(n.errors):dX(n.values,t)},consolidateArr:e=>{const t=hl.partition(e);return t.errors.length>0?c$(t.errors):hl.svalue(t.values)}},mX=(e,t,n,s)=>({tag:"field",key:e,newKey:t,presence:n,prop:s}),gX=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),u$=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},Bz=e=>{const t=(s,a)=>hl.bindError(e(a),d=>rX(s,d)),n=rt("val");return{extract:t,toString:n}},hX=Bz(hl.svalue),pX=(e,t,n,s)=>ar(t,n).fold(()=>tX(e,n,t),s),d$=(e,t,n,s)=>{const a=ar(e,t).getOrThunk(()=>n(e));return s(a)},bX=(e,t,n)=>n(ar(e,t)),vX=(e,t,n,s)=>{const a=ar(e,t).map(d=>d===!0?n(e):d);return s(a)},xX=(e,t,n,s,a)=>{const d=C=>a.extract(t.concat([s]),C),g=C=>C.fold(()=>hl.svalue(X.none()),A=>{const L=a.extract(t.concat([s]),A);return hl.map(L,X.some)});switch(e.tag){case"required":return pX(t,n,s,d);case"defaultedThunk":return d$(n,s,e.process,d);case"option":return bX(n,s,g);case"defaultedOptionThunk":return vX(n,s,e.process,g);case"mergeWithThunk":return d$(n,s,rt({}),C=>{const A=dB(e.process(n),C);return d(A)})}},yX=(e,t,n)=>{const s={},a=[];for(const d of n)u$(d,(g,C,A,L)=>{const W=xX(A,e,t,g,L);hl.fold(W,q=>{a.push(...q)},q=>{s[C]=q})},(g,C)=>{s[g]=C(t)});return a.length>0?hl.serror(a):hl.svalue(s)},Mz=e=>({extract:(s,a)=>yX(s,a,e),toString:()=>`obj{
`+tt(e,a=>u$(a,(d,g,C,A)=>d+" -> "+A.toString(),(d,g)=>"state("+d+")")).join(`
`)+"}"}),f$=e=>({extract:(s,a)=>{const d=tt(a,(g,C)=>e.extract(s.concat(["["+C+"]"]),g));return fX.consolidateArr(d)},toString:()=>"array("+e.toString()+")"}),wX=e=>Bz(t=>e(t).fold(hl.serror,hl.svalue)),CX=(e,t,n)=>{const s=t.extract([e],n);return hl.mapError(s,a=>({input:n,errors:a}))},_X=(e,t,n)=>hl.toResult(CX(e,t,n)),SX=e=>`Errors: 
`+eX(e.errors).join(`
`)+`

Input object: `+Iz(e.input),m$=(e,t)=>iX(e,vl(t,Mz)),kX=rt(hX),fB=(e,t)=>Bz(n=>{const s=typeof n;return e(n)?hl.svalue(n):hl.serror(`Expected type: ${t} but got: ${s}`)}),AX=fB(D,"number"),mB=fB(Fe,"string"),EX=fB(He,"boolean"),Pz=fB(Ne,"function"),iT=mX,g$=gX,TX=e=>wX(t=>ve(e,t)?Vn.value(t):Vn.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),h$=(e,t)=>iT(e,e,a$(),t),p$=e=>h$(e,mB),b$=e=>h$(e,Pz),OX=(e,t)=>iT(e,e,a$(),f$(t)),Lz=(e,t)=>iT(e,e,uX(),t),gB=e=>Lz(e,mB),DX=e=>Lz(e,Pz),RX=(e,t)=>iT(e,e,l$(t),kX()),hS=(e,t,n)=>iT(e,e,l$(t),n),v$=(e,t)=>hS(e,t,AX),NX=(e,t)=>hS(e,t,mB),x$=(e,t,n)=>hS(e,t,TX(n)),Fz=(e,t)=>hS(e,t,EX),zz=(e,t)=>hS(e,t,Pz),IX=(e,t,n)=>hS(e,t,f$(n)),BX=p$("type"),MX=b$("fetch"),Hz=b$("onAction"),PX=zz("onSetup",()=>sn),LX=gB("text"),FX=gB("icon"),zX=gB("tooltip"),HX=gB("label"),VX=Fz("active",!1),$X=Fz("enabled",!0),y$=Fz("primary",!1),UX=e=>RX("columns",e),aT=e=>NX("type",e),ZX=Mz([BX,p$("trigger"),v$("minChars",1),UX(1),v$("maxResults",10),DX("matches"),MX,Hz,IX("highlightOn",[],mB)]),WX=e=>_X("Autocompleter",ZX,e),Vz=[$X,zX,FX,LX,PX],w$=[VX].concat(Vz),jX=[zz("predicate",Sn),x$("scope","node",["node","editor"]),x$("position","selection",["node","selection","line"])],KX=Vz.concat([aT("contextformbutton"),y$,Hz,g$("original",Un)]),qX=w$.concat([aT("contextformbutton"),y$,Hz,g$("original",Un)]),GX=Vz.concat([aT("contextformbutton")]),YX=w$.concat([aT("contextformtogglebutton")]),XX=m$("type",{contextformbutton:KX,contextformtogglebutton:qX});Mz([aT("contextform"),zz("initValue",rt("")),HX,OX("commands",XX),Lz("launch",m$("type",{contextformbutton:GX,contextformtogglebutton:YX}))].concat(jX));const JX=e=>{const t=e.ui.registry.getAll().popups,n=vl(t,g=>WX(g).fold(C=>{throw new Error(SX(C))},Un)),s=ou(Wa(n,g=>g.trigger)),a=nu(n);return{dataset:n,triggers:s,lookupByTrigger:g=>_t(a,C=>C.trigger===g)}},QX=(e,t)=>{const n=kh(t.load,50);e.on("input",s=>{s.inputType==="insertCompositionText"&&!e.composing||n.throttle()}),e.on("keydown",s=>{const a=s.which;a===8?n.throttle():a===27?(n.cancel(),t.cancelIfNecessary()):(a===38||a===40)&&n.cancel()},!0),e.on("remove",n.cancel)},eJ=e=>{const t=mi(),n=fi(!1),s=t.isSet,a=()=>{s()&&(rP(e),n.set(!1),t.clear())},d=q=>{s()||t.set({trigger:q.trigger,matchLength:q.text.length})},g=ll(()=>JX(e)),C=q=>t.get().map(Y=>Rz(e.dom,e.selection.getRng(),Y.trigger,!0).bind(ce=>n$(e,g,ce,q))).getOrThunk(()=>qY(e,g)),A=q=>{C(q).fold(a,Y=>{d(Y.context),Y.lookupData.then(ce=>{t.get().map(he=>{const ue=Y.context;he.trigger===ue.trigger&&(t.set({...he,matchLength:ue.text.length}),n.get()?(sA(e,{range:ue.range}),rA(e,{lookupData:ce})):(n.set(!0),sA(e,{range:ue.range}),oA(e,{lookupData:ce})))})})})},L=(q,Y)=>{const ce=q.compareBoundaryPoints(window.Range.START_TO_START,Y),he=q.compareBoundaryPoints(window.Range.END_TO_END,Y);return ce>=0&&he<=0},W=()=>t.get().bind(({trigger:q})=>{const Y=e.selection.getRng();return Rz(e.dom,Y,q,n.get()).filter(({range:ce})=>L(Y,ce)).map(({range:ce})=>ce)});e.addCommand("mceAutocompleterReload",(q,Y)=>{const ce=ae(Y)?Y.fetchOptions:{};A(ce)}),e.addCommand("mceAutocompleterClose",a),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{W().each(q=>{sA(e,{range:q})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>W().isSome()),QX(e,{cancelIfNecessary:a,load:A})},tJ=Mi().browser.isSafari(),C$=e=>uc(Oe.fromDom(e)),_$=(e,t)=>{var n;return e.startOffset===0&&e.endOffset===((n=t.textContent)===null||n===void 0?void 0:n.length)},hB=(e,t)=>X.from(e.getParent(t.container(),"details")),S$=(e,t)=>hB(e,t).isSome(),nJ=(e,t)=>{const n=X.from(e.getParent(t.startContainer,"details")),s=X.from(e.getParent(t.endContainer,"details"));if(n.isSome()||s.isSome()){const a=n.bind(d=>X.from(e.select("summary",d)[0]));return X.some({startSummary:a,startDetails:n,endDetails:s})}else return X.none()},oJ=(e,t)=>$n(t).exists(n=>n.isEqual(e)),rJ=(e,t)=>Cu(t).exists(n=>Jr(n.getNode())&&mc(t,n).exists(s=>s.isEqual(e))||n.isEqual(e)),sJ=(e,t)=>t.startSummary.exists(n=>oJ(e,n)),iJ=(e,t)=>t.startSummary.exists(n=>rJ(e,n)),aJ=(e,t)=>t.startDetails.exists(n=>mc(n,e).forall(s=>t.startSummary.exists(a=>!a.contains(e.container())&&a.contains(s.container())))),lJ=(e,t,n)=>n.startDetails.exists(s=>_l(e,t).forall(a=>!s.contains(a.container()))),k$=(e,t)=>{const n=t.getNode();Ye(n)||e.selection.setCursorLocation(n,t.offset())},A$=(e,t,n)=>{const s=e.dom.getParent(t.container(),"details");if(s&&!s.open){const a=e.dom.select("summary",s)[0];a&&(n?$n(a):Cu(a)).each(g=>k$(e,g))}else k$(e,t)},cJ=(e,t)=>{const n=A=>A.contains(e.startContainer),s=A=>A.contains(e.endContainer),a=t.startSummary.exists(n),d=t.startSummary.exists(s),g=t.startDetails.forall(A=>t.endDetails.forall(L=>A!==L));return(a||d)&&!(a&&d)||g},E$=(e,t,n)=>{const{dom:s,selection:a}=e,d=e.getBody();if(n==="character"){const g=ft.fromRangeStart(a.getRng()),C=s.getParent(g.container(),s.isBlock),A=hB(s,g),L=C&&s.isEmpty(C),W=Je(C==null?void 0:C.previousSibling),q=Je(C==null?void 0:C.nextSibling);return L&&(t?q:W)&&Mb(!t,d,g).exists(he=>S$(s,he)&&!Md(A,hB(s,he)))?!0:Mb(t,d,g).fold(Sn,Y=>{const ce=hB(s,Y);if(S$(s,Y)&&!Md(A,ce)){if(t||A$(e,Y,!1),C&&L){if(t&&W)return!0;if(!t&&q)return!0;A$(e,Y,t),e.dom.remove(C)}return!0}else return!1})}else return!1},uJ=(e,t,n,s)=>{const d=e.selection.getRng(),g=ft.fromRangeStart(d),C=e.getBody();return s==="selection"?cJ(d,t):n?iJ(g,t)||lJ(C,g,t):sJ(g,t)||aJ(g,t)},dJ=(e,t,n)=>nJ(e.dom,e.selection.getRng()).fold(()=>E$(e,t,n),s=>uJ(e,s,t,n)||E$(e,t,n)),fJ=(e,t,n)=>{const s=e.selection,a=s.getNode(),d=s.getRng(),g=ft.fromRangeStart(d);return vh(a)?(n==="selection"&&_$(d,a)||YD(t,g,a)?C$(a):e.undoManager.transact(()=>{const C=s.getSel();let{anchorNode:A,anchorOffset:L,focusNode:W,focusOffset:q}=C??{};const Y=()=>{Se(A)&&Se(L)&&Se(W)&&Se(q)&&(C==null||C.setBaseAndExtent(A,L,W,q))},ce=()=>{A=C==null?void 0:C.anchorNode,L=C==null?void 0:C.anchorOffset,W=C==null?void 0:C.focusNode,q=C==null?void 0:C.focusOffset},he=(we,Pe)=>{_e(we.childNodes,Ze=>{Lv(Ze)&&Pe.appendChild(Ze)})},ue=e.dom.create("span",{"data-mce-bogus":"1"});he(a,ue),a.appendChild(ue),Y(),(n==="word"||n==="line")&&(C==null||C.modify("extend",t?"right":"left",n)),!s.isCollapsed()&&_$(s.getRng(),ue)?C$(a):(e.execCommand(t?"ForwardDelete":"Delete"),ce(),he(ue,a),Y()),e.dom.remove(ue)}),!0):!1},L2=(e,t,n)=>dJ(e,t,n)||tJ&&fJ(e,t,n)?X.some(sn):X.none(),T$=e=>(t,n,s={})=>{const a=t.getBody(),d={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:a,currentTarget:a,eventPhase:Event.AT_TARGET,originalTarget:a,explicitOriginalTarget:a,isTrusted:!1,srcElement:a,cancelable:!1,preventDefault:sn,inputType:n},g=cm(new InputEvent(e));return t.dispatch(e,{...g,...d,...s})},lT=T$("input"),pB=T$("beforeinput"),O$=Mi(),D$=O$.os,R$=D$.isMacOS()||D$.isiOS(),mJ=O$.browser.isFirefox(),gJ=(e,t,n)=>{const s=n.keyCode===ln.BACKSPACE?"deleteContentBackward":"deleteContentForward",a=e.selection.isCollapsed(),d=a?"character":"selection",g=C=>a?C?"word":"line":"selection";gS([{keyCode:ln.BACKSPACE,action:Qn(mt,e)},{keyCode:ln.BACKSPACE,action:Qn(N4,e,!1)},{keyCode:ln.DELETE,action:Qn(N4,e,!0)},{keyCode:ln.BACKSPACE,action:Qn(O4,e,!1)},{keyCode:ln.DELETE,action:Qn(O4,e,!0)},{keyCode:ln.BACKSPACE,action:Qn(R2,e,t,!1)},{keyCode:ln.DELETE,action:Qn(R2,e,t,!0)},{keyCode:ln.BACKSPACE,action:Qn(Zg,e,!1)},{keyCode:ln.DELETE,action:Qn(Zg,e,!0)},{keyCode:ln.BACKSPACE,action:Qn(L2,e,!1,d)},{keyCode:ln.DELETE,action:Qn(L2,e,!0,d)},...R$?[{keyCode:ln.BACKSPACE,altKey:!0,action:Qn(L2,e,!1,g(!0))},{keyCode:ln.DELETE,altKey:!0,action:Qn(L2,e,!0,g(!0))},{keyCode:ln.BACKSPACE,metaKey:!0,action:Qn(L2,e,!1,g(!1))}]:[{keyCode:ln.BACKSPACE,ctrlKey:!0,action:Qn(L2,e,!1,g(!0))},{keyCode:ln.DELETE,ctrlKey:!0,action:Qn(L2,e,!0,g(!0))}],{keyCode:ln.BACKSPACE,action:Qn(B4,e,!1)},{keyCode:ln.DELETE,action:Qn(B4,e,!0)},{keyCode:ln.BACKSPACE,action:Qn(G,e,!1)},{keyCode:ln.DELETE,action:Qn(G,e,!0)},{keyCode:ln.BACKSPACE,action:Qn(A4,e,!1)},{keyCode:ln.DELETE,action:Qn(A4,e,!0)},{keyCode:ln.BACKSPACE,action:Qn(eS,e,!1)},{keyCode:ln.DELETE,action:Qn(eS,e,!0)},{keyCode:ln.BACKSPACE,action:Qn(y,e,!1)},{keyCode:ln.DELETE,action:Qn(y,e,!0)},{keyCode:ln.BACKSPACE,action:Qn(I4,e,!1)},{keyCode:ln.DELETE,action:Qn(I4,e,!0)}],n).filter(C=>e.selection.isEditable()).each(C=>{n.preventDefault(),pB(e,s).isDefaultPrevented()||(C(),lT(e,s))})},hJ=(e,t,n)=>mp([{keyCode:ln.BACKSPACE,action:Qn(aI,e)},{keyCode:ln.DELETE,action:Qn(aI,e)},...R$?[{keyCode:ln.BACKSPACE,altKey:!0,action:Qn(M,e)},{keyCode:ln.DELETE,altKey:!0,action:Qn(M,e)},...n?[{keyCode:mJ?224:91,action:Qn(M,e)}]:[]]:[{keyCode:ln.BACKSPACE,ctrlKey:!0,action:Qn(M,e)},{keyCode:ln.DELETE,ctrlKey:!0,action:Qn(M,e)}]],t),pJ=(e,t)=>{let n=!1;e.on("keydown",s=>{n=s.keyCode===ln.BACKSPACE,s.isDefaultPrevented()||gJ(e,t,s)}),e.on("keyup",s=>{s.isDefaultPrevented()||hJ(e,s,n),n=!1})},bJ=e=>{for(;e;){if(yn(e)||Lt(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},pS=(e,t)=>{const n=e.dom,s=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const d=bJ(t.firstChild);d&&/^(UL|OL|DL)$/.test(d.nodeName)&&t.insertBefore(n.doc.createTextNode(di),t.firstChild)}const a=n.createRng();if(t.normalize(),t.hasChildNodes()){const d=new $i(t,t);let g=t,C;for(;C=d.current();){if(Lt(C)){a.setStart(C,0),a.setEnd(C,0);break}if(s[C.nodeName.toLowerCase()]){a.setStartBefore(C),a.setEndBefore(C);break}g=C,C=d.next()}C||(a.setStart(g,0),a.setEnd(g,0))}else Jr(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)):(a.setStart(t,0),a.setEnd(t,0));e.selection.setRng(a),ku(e,a)},cT=(e,t)=>{const n=e.getRoot();let s,a=t;for(;a!==n&&a&&e.getContentEditable(a)!=="false";){if(e.getContentEditable(a)==="true"){s=a;break}a=a.parentNode}return a!==n?s:n},$z=e=>X.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),vJ=e=>$z(e).fold(rt(""),t=>t.nodeName.toUpperCase()),xJ=e=>$z(e).filter(t=>pm(Oe.fromDom(t))).isSome(),Uz=e=>{e.innerHTML='<br data-mce-bogus="1">'},yJ=(e,t,n)=>{const s=e.dom;X.from(n.style).map(s.parseStyle).each(A=>{const W={...lg(Oe.fromDom(t)),...A};s.setStyles(t,W)});const a=X.from(n.class).map(A=>A.split(/\s+/)),d=X.from(t.className).map(A=>_t(A.split(/\s+/),L=>L!==""));Li(a,d,(A,L)=>{const W=_t(L,Y=>!ve(A,Y)),q=[...A,...W];s.setAttrib(t,"class",q.join(" "))});const g=["style","class"],C=ql(n,(A,L)=>!ve(g,L));s.setAttribs(t,C)},uT=(e,t)=>{if(La(e).toLowerCase()===t.tagName.toLowerCase()){const s=qx(e);yJ(e,t,s)}},N$=(e,t,n,s,a=!0,d,g)=>{const C=e.dom,A=e.schema,L=La(e),W=n?n.nodeName.toUpperCase():"";let q=t;const Y=A.getTextInlineElements();let ce;d||W==="TABLE"||W==="HR"?ce=C.create(d||L,g||{}):ce=n.cloneNode(!1);let he=ce;if(!a)C.setAttrib(ce,"style",null),C.setAttrib(ce,"class",null);else do if(Y[q.nodeName]){if(Wc(q)||jc(q))continue;const ue=q.cloneNode(!1);C.setAttrib(ue,"id",""),ce.hasChildNodes()?(ue.appendChild(ce.firstChild),ce.appendChild(ue)):(he=ue,ce.appendChild(ue))}while((q=q.parentNode)&&q!==s);return uT(e,ce),Uz(he),ce},wJ=(e,t)=>e.dom.getParent(t,bh),CJ=(e,t,n)=>{let s=t;for(;s&&s!==e&&Je(s.nextSibling);){const a=s.parentElement;if(!a||!n(a))return bh(a);s=a}return!1},_J=(e,t,n)=>!t&&n.nodeName.toLowerCase()===La(e)&&e.dom.isEmpty(n)&&CJ(e.getBody(),n,s=>Yn(e.schema.getTextBlockElements(),s.nodeName.toLowerCase())),SJ=(e,t,n)=>{var s,a,d;const g=t(La(e)),C=wJ(e,n);C&&(e.dom.insertAfter(g,C),pS(e,g),((d=(a=(s=n.parentElement)===null||s===void 0?void 0:s.childNodes)===null||a===void 0?void 0:a.length)!==null&&d!==void 0?d:0)>1&&e.dom.remove(n))},kJ=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,AJ=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},I$=(e,t)=>{const n=e==null?void 0:e.parentNode;return Se(n)&&n.nodeName===t},B$=e=>Se(e)&&/^(OL|UL|LI)$/.test(e.nodeName),Zz=e=>Se(e)&&/^(LI|DT|DD)$/.test(e.nodeName),EJ=e=>B$(e)&&B$(e.parentNode),bB=e=>{const t=e.parentNode;return Zz(t)?t:e},vB=(e,t,n)=>{let s=e[n?"firstChild":"lastChild"];for(;s&&!yn(s);)s=s[n?"nextSibling":"previousSibling"];return s===t},M$=e=>je(Wa(lg(Oe.fromDom(e)),(t,n)=>`${n}: ${t};`),(t,n)=>t+n,""),TJ=(e,t,n,s,a)=>{const d=e.dom,g=e.selection.getRng(),C=n.parentNode;if(n===e.getBody()||!C)return;EJ(n)&&(a="LI");const A=Zz(s)?M$(s):void 0;let L=Zz(s)&&A?t(a,{style:M$(s)}):t(a);if(vB(n,s,!0)&&vB(n,s,!1))if(I$(n,"LI")){const W=bB(n);d.insertAfter(L,W),AJ(n)?d.remove(W):d.remove(n)}else d.replace(L,n);else if(vB(n,s,!0))I$(n,"LI")?(d.insertAfter(L,bB(n)),L.appendChild(d.doc.createTextNode(" ")),L.appendChild(n)):C.insertBefore(L,n),d.remove(s);else if(vB(n,s,!1))d.insertAfter(L,bB(n)),d.remove(s);else{n=bB(n);const W=g.cloneRange();W.setStartAfter(s),W.setEndAfter(n);const q=W.extractContents();if(a==="LI"&&kJ(q,"LI")){const Y=_t(tt(L.children,Oe.fromDom),yt(zd("br")));L=q.firstChild,d.insertAfter(q,n),_e(Y,ce=>ba(Oe.fromDom(L),ce)),A&&L.setAttribute("style",A)}else d.insertAfter(q,n),d.insertAfter(L,n);d.remove(s)}pS(e,L)},OJ=e=>{_e(nm(Oe.fromDom(e),Wr),t=>{const n=t.dom;n.nodeValue=tl(n.data)})},DJ=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return n!==null&&e.dom.getContentEditableParent(n)==="false"},RJ=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),Wz=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,jz=(e,t)=>Se(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",NJ=(e,t,n)=>{var s;const a=[];if(!n)return;let d=n;for(;d=d.firstChild;){if(e.isBlock(d))return;yn(d)&&!t[d.nodeName.toLowerCase()]&&a.push(d)}let g=a.length;for(;g--;)d=a[g],(!d.hasChildNodes()||d.firstChild===d.lastChild&&((s=d.firstChild)===null||s===void 0?void 0:s.nodeValue)===""||RJ(e,d))&&e.remove(d)},Kz=(e,t,n)=>Lt(t)?e?n===1&&t.data.charAt(n-1)===oi?0:n:n===t.data.length-1&&t.data.charAt(n)===oi?t.data.length:n:n,IJ=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,Kz(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,Kz(!1,e.endContainer,e.endOffset)),t},BJ=e=>{let t=e;do Lt(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},MJ=(e,t,n,s,a)=>{var d,g;const C=e.dom,A=(d=cT(C,s))!==null&&d!==void 0?d:C.getRoot();let L=C.getParent(s,C.isBlock);if(!L||!jz(C,L)){if(L=L||A,!L.hasChildNodes()){const ce=C.create(t);return uT(e,ce),L.appendChild(ce),n.setStart(ce,0),n.setEnd(ce,0),ce}let W=s;for(;W&&W.parentNode!==L;)W=W.parentNode;let q;for(;W&&!C.isBlock(W);)q=W,W=W.previousSibling;const Y=(g=q==null?void 0:q.parentElement)===null||g===void 0?void 0:g.nodeName;if(q&&Y&&e.schema.isValidChild(Y,t.toLowerCase())){const ce=q.parentNode,he=C.create(t);for(uT(e,he),ce.insertBefore(he,q),W=q;W&&!C.isBlock(W);){const ue=W.nextSibling;he.appendChild(W),W=ue}n.setStart(s,a),n.setEnd(s,a)}}return s},PJ=(e,t)=>{t.normalize();const n=t.lastChild;(!n||yn(n)&&/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")},LJ=(e,t)=>{const n=pk(e);return gt(t)?!1:Fe(n)?ve(Wt.explode(n),t.nodeName.toLowerCase()):n},P$={insert:(e,t)=>{let n,s,a,d,g=!1;const C=e.dom,A=e.schema,L=A.getNonEmptyElements(),W=e.selection.getRng(),q=La(e),Y=Oe.fromDom(W.startContainer),ce=du(Y,W.startOffset),he=ce.exists(Ot=>fa(Ot)&&!ss(Ot)),ue=W.collapsed&&he,we=(Ot,pn)=>N$(e,n,Zt,Rt,hk(e),Ot,pn),Pe=Ot=>{const pn=Kz(Ot,n,s);if(Lt(n)&&(Ot?pn>0:pn<n.data.length))return!1;if((n.parentNode===Zt||n===Zt)&&g&&!Ot||Ot&&yn(n)&&n===Zt.firstChild)return!0;if(Wz(n,"TABLE")||Wz(n,"HR"))return g&&!Ot||!g&&Ot;const On=new $i(n,Zt);Lt(n)&&(Ot&&pn===0?On.prev():!Ot&&pn===n.data.length&&On.next());let wo;for(;wo=On.current();){if(yn(wo)){if(!wo.getAttribute("data-mce-bogus")){const Oo=wo.nodeName.toLowerCase();if(L[Oo]&&Oo!=="br")return!1}}else if(Lt(wo)&&!Rl(wo.data))return!1;Ot?On.prev():On.next()}return!0},Ze=()=>{let Ot;return/^(H[1-6]|PRE|FIGURE)$/.test(a)&&dn!=="HGROUP"?Ot=we(q):Ot=we(),LJ(e,d)&&jz(C,d)&&C.isEmpty(Zt,void 0,{includeZwsp:!0})?Ot=C.split(d,Zt):C.insertAfter(Ot,Zt),pS(e,Ot),Ot};Tm(C,W).each(Ot=>{W.setStart(Ot.startContainer,Ot.startOffset),W.setEnd(Ot.endContainer,Ot.endOffset)}),n=W.startContainer,s=W.startOffset;const Ve=!!(t&&t.shiftKey),st=!!(t&&t.ctrlKey);yn(n)&&n.hasChildNodes()&&!ue&&(g=s>n.childNodes.length-1,n=n.childNodes[Math.min(s,n.childNodes.length-1)]||n,g&&Lt(n)?s=n.data.length:s=0);const Rt=cT(C,n);if(!Rt||DJ(e,n))return;Ve||(n=MJ(e,q,W,n,s));let Zt=C.getParent(n,C.isBlock)||C.getRoot();d=Se(Zt==null?void 0:Zt.parentNode)?C.getParent(Zt.parentNode,C.isBlock):null,a=Zt?Zt.nodeName.toUpperCase():"";const dn=d?d.nodeName.toUpperCase():"";if(dn==="LI"&&!st){const Ot=d;Zt=Ot,d=Ot.parentNode,a=dn}if(yn(d)&&_J(e,Ve,Zt))return SJ(e,we,Zt);if(/^(LI|DT|DD)$/.test(a)&&yn(d)&&C.isEmpty(Zt)){TJ(e,we,d,Zt,q);return}if(!ue&&(Zt===e.getBody()||!jz(C,Zt)))return;const vt=Zt.parentNode;let ut;if(ue)ut=we(q),ce.fold(()=>{As(Y,Oe.fromDom(ut))},Ot=>{ds(Ot,Oe.fromDom(ut))}),e.selection.setCursorLocation(ut,0);else if(Eh(Zt))ut=Og(Zt),C.isEmpty(Zt)&&Uz(Zt),uT(e,ut),pS(e,ut);else if(Pe(!1))ut=Ze();else if(Pe(!0)&&vt){const Ot=ft.fromRangeStart(W),pn=Kv(Ot),On=Oe.fromDom(Zt),Oo=Yb(On,Ot,e.schema)?ZC(On,Ot,e.schema).bind(wr=>X.from(wr.getNode())):X.none();ut=vt.insertBefore(we(),Zt);const cr=Wz(Zt,"HR")||pn?ut:Oo.getOr(Zt);pS(e,cr)}else{const Ot=IJ(W).cloneRange();Ot.setEndAfter(Zt);const pn=Ot.extractContents();OJ(pn),BJ(pn),ut=pn.firstChild,C.insertAfter(pn,Zt),NJ(C,L,ut),PJ(C,Zt),C.isEmpty(Zt)&&Uz(Zt),ut.normalize(),C.isEmpty(ut)?(C.remove(ut),Ze()):(uT(e,ut),pS(e,ut))}C.setAttrib(ut,"id",""),e.dispatch("NewBlock",{newBlock:ut})},fakeEventName:"insertParagraph"},FJ=(e,t,n)=>{const s=new $i(t,n);let a;const d=e.getNonEmptyElements();for(;a=s.next();)if(d[a.nodeName.toLowerCase()]||Lt(a)&&a.length>0)return!0;return!1},L$=(e,t,n)=>{const s=e.dom.createRng();n?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)),e.selection.setRng(s),ku(e,s)},zJ=(e,t)=>{const n=e.selection,s=e.dom,a=n.getRng();let d,g=!1;Tm(s,a).each(ce=>{a.setStart(ce.startContainer,ce.startOffset),a.setEnd(ce.endContainer,ce.endOffset)});let C=a.startOffset,A=a.startContainer;if(yn(A)&&A.hasChildNodes()){const ce=C>A.childNodes.length-1;A=A.childNodes[Math.min(C,A.childNodes.length-1)]||A,ce&&Lt(A)?C=A.data.length:C=0}let L=s.getParent(A,s.isBlock);const W=L&&L.parentNode?s.getParent(L.parentNode,s.isBlock):null,q=W?W.nodeName.toUpperCase():"",Y=!!(t&&t.ctrlKey);q==="LI"&&!Y&&(L=W),Lt(A)&&C>=A.data.length&&(FJ(e.schema,A,L||s.getRoot())||(d=s.create("br"),a.insertNode(d),a.setStartAfter(d),a.setEndAfter(d),g=!0)),d=s.create("br"),Sv(s,a,d),L$(e,d,g),e.undoManager.add()},HJ=(e,t)=>{const n=Oe.fromTag("br");ds(Oe.fromDom(t),n),e.undoManager.add()},VJ=(e,t)=>{UJ(e.getBody(),t)||Xe(Oe.fromDom(t),Oe.fromTag("br"));const n=Oe.fromTag("br");Xe(Oe.fromDom(t),n),L$(e,n.dom,!1),e.undoManager.add()},$J=e=>Jr(e.getNode()),UJ=(e,t)=>$J(ft.after(t))?!0:_l(e,ft.after(t)).map(n=>Jr(n.getNode())).getOr(!1),F$=e=>e&&e.nodeName==="A"&&"href"in e,ZJ=e=>e.fold(Sn,F$,F$,Sn),WJ=e=>{const t=xt(Jb,e),n=ft.fromRangeStart(e.selection.getRng());return Vm(t,e.getBody(),n).filter(ZJ)},jJ=(e,t)=>{t.fold(sn,xt(HJ,e),xt(VJ,e),sn)},z$={insert:(e,t)=>{const n=WJ(e);n.isSome()?n.each(xt(jJ,e)):zJ(e,t)},fakeEventName:"insertLineBreak"},H$=(e,t)=>$z(e).filter(n=>t.length>0&&fr(Oe.fromDom(n),t)).isSome(),KJ=e=>H$(e,QT(e)),qJ=e=>H$(e,eO(e)),wd=Bo.generate([{br:[]},{block:[]},{none:[]}]),GJ=(e,t)=>qJ(e),V$=e=>(t,n)=>xJ(t)===e,$$=(e,t)=>(n,s)=>vJ(n)===e.toUpperCase()===t,YJ=e=>{const t=cT(e.dom,e.selection.getStart());return gt(t)},dT=e=>$$("pre",e),XJ=()=>$$("summary",!0),xB=e=>(t,n)=>mk(t)===e,JJ=(e,t)=>KJ(e),yB=(e,t)=>t,QJ=e=>{const t=La(e),n=cT(e.dom,e.selection.getStart());return Se(n)&&e.schema.isValidChild(n.nodeName,t)},eQ=e=>{const t=e.selection.getRng(),n=Oe.fromDom(t.startContainer),a=du(n,t.startOffset).map(d=>fa(d)&&!ss(d));return t.collapsed&&a.getOr(!0)},Sf=(e,t)=>(n,s)=>je(e,(d,g)=>d&&g(n,s),!0)?X.some(t):X.none(),tQ=(e,t)=>vI([Sf([GJ],wd.none()),Sf([dT(!0),YJ],wd.none()),Sf([XJ()],wd.br()),Sf([dT(!0),xB(!1),yB],wd.br()),Sf([dT(!0),xB(!1)],wd.block()),Sf([dT(!0),xB(!0),yB],wd.block()),Sf([dT(!0),xB(!0)],wd.br()),Sf([V$(!0),yB],wd.br()),Sf([V$(!0)],wd.block()),Sf([JJ],wd.br()),Sf([yB],wd.br()),Sf([QJ],wd.block()),Sf([eQ],wd.block())],[e,!!(t&&t.shiftKey)]).getOr(wd.none()),wB=(e,t,n)=>{t.selection.isCollapsed()||qD(t),!(Se(n)&&pB(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,n),Se(n)&&lT(t,e.fakeEventName))},U$=(e,t)=>{const n=()=>wB(z$,e,t),s=()=>wB(P$,e,t),a=tQ(e,t);switch(gk(e)){case"linebreak":a.fold(n,n,sn);break;case"block":a.fold(s,s,sn);break;case"invert":a.fold(s,n,sn);break;default:a.fold(n,s,sn);break}},Z$=Mi(),nQ=Z$.os.isiOS()&&Z$.browser.isSafari(),W$=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),AL(e.undoManager),e.undoManager.transact(()=>{U$(e,t)}))},oQ=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(Lt(t)){const n=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,s=t.data.charAt(e.startOffset-1);return n.test(s)}else return!1},rQ=e=>{let t=X.none();const n=a=>{t=X.some(a.selection.getBookmark()),a.undoManager.add()},s=(a,d)=>{a.undoManager.undo(),t.fold(sn,g=>a.selection.moveToBookmark(g)),W$(a,d),t=X.none()};e.on("keydown",a=>{a.keyCode===ln.ENTER&&(nQ&&oQ(e.selection.getRng())?n(e):W$(e,a))}),e.on("keyup",a=>{a.keyCode===ln.ENTER&&t.each(()=>s(e,a))})},sQ=(e,t,n)=>{const s=So.os.isMacOS()||So.os.isiOS();mp([{keyCode:ln.END,action:Qn(yd,e,!0)},{keyCode:ln.HOME,action:Qn(yd,e,!1)},...s?[]:[{keyCode:ln.HOME,action:Qn(b1,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:ln.END,action:Qn(b1,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:ln.END,action:Qn(nT,e,!0)},{keyCode:ln.HOME,action:Qn(nT,e,!1)},{keyCode:ln.END,action:Qn(O2,e,!0,t)},{keyCode:ln.HOME,action:Qn(O2,e,!1,t)}],n).each(a=>{n.preventDefault()})},iQ=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||sQ(e,t,n)})},aQ=e=>{e.on("input",t=>{t.isComposing||UP(e)})},lQ=Mi(),cQ=(e,t,n)=>{mp([{keyCode:ln.PAGE_UP,action:Qn(O2,e,!1,t)},{keyCode:ln.PAGE_DOWN,action:Qn(O2,e,!0,t)}],n)},j$=e=>e.stopImmediatePropagation(),K$=e=>e.keyCode===ln.PAGE_UP||e.keyCode===ln.PAGE_DOWN,q$=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",j$,!0):!n&&e.get()&&t.off("NodeChange",j$),e.set(n)},uQ=(e,t)=>{if(lQ.os.isMacOS())return;const n=fi(!1);e.on("keydown",s=>{K$(s)&&q$(n,e,!0)}),e.on("keyup",s=>{s.isDefaultPrevented()||cQ(e,t,s),K$(s)&&n.get()&&(q$(n,e,!1),e.nodeChanged())})},dQ=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||De(t.getTargetRanges(),n=>!rD(e.dom,n)))&&t.preventDefault()})},G$=(e,t)=>{const n=t.container(),s=t.offset();return Lt(n)?(n.insertData(s,e),X.some(ft(n,s+e.length))):oC(t).map(a=>{const d=Oe.fromText(e);return t.isAtEnd()?Xe(a,d):ds(a,d),ft(d.dom,e.length)})},Y$=xt(G$,di),X$=xt(G$," "),fQ=(e,t,n)=>jA(e,t,n)?Y$(t):X$(t),mQ=e=>t=>t.fold(n=>mc(e.dom,ft.before(n)),n=>$n(n),n=>Cu(n),n=>_l(e.dom,ft.after(n))),gQ=(e,t,n)=>s=>jA(e,s,n)?Y$(t):X$(t),J$=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},hQ=(e,t)=>e.isEditable(e.getParent(t,"summary")),pQ=e=>{const t=ft.fromRangeStart(e.selection.getRng()),n=Oe.fromDom(e.getBody());if(e.selection.isCollapsed()){const s=xt(Jb,e),a=ft.fromRangeStart(e.selection.getRng());return Vm(s,e.getBody(),a).bind(mQ(n)).map(d=>()=>gQ(n,t,e.schema)(d).each(J$(e)))}else return X.none()},bQ=e=>{const t=()=>{const n=Oe.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const s=ft.fromRangeStart(e.selection.getRng());fQ(n,s,e.schema).each(J$(e))};return ng(So.browser.isFirefox()&&e.selection.isEditable()&&hQ(e.dom,e.selection.getRng().startContainer),t)},vQ=(e,t)=>{gS([{keyCode:ln.SPACEBAR,action:Qn(pQ,e)},{keyCode:ln.SPACEBAR,action:Qn(bQ,e)}],t).each(n=>{t.preventDefault(),pB(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),lT(e,"insertText",{data:" "}))})},xQ=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||vQ(e,t)})},yQ=e=>SO(e)?[{keyCode:ln.TAB,action:Qn(XV,e,!0)},{keyCode:ln.TAB,shiftKey:!0,action:Qn(XV,e,!1)}]:[],wQ=(e,t)=>{mp([...yQ(e)],t).each(n=>{t.preventDefault()})},CQ=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||wQ(e,t)})},_Q=e=>{if(e.addShortcut("Meta+P","","mcePrint"),eJ(e),Hm(e))return fi(null);{const t=ZI(e);return dQ(e),p1(e),PY(e,t),pJ(e,t),rQ(e),xQ(e),aQ(e),CQ(e),iQ(e,t),uQ(e,t),t}};class SQ{constructor(t){this.lastPath=[],this.editor=t;let n;const s=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",a=>{const d=t.selection.getRng(),g={startContainer:d.startContainer,startOffset:d.startOffset,endContainer:d.endContainer,endOffset:d.endOffset};(a.type==="nodechange"||!Ty(g,n))&&t.dispatch("SelectionChange"),n=g}),t.on("contextmenu",()=>{Vv(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const a=t.selection.getStart(!0);a&&Mv(t)&&!s.isSameElementPath(a)&&t.dom.isChildOf(a,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",a=>{!a.isDefaultPrevented()&&Mv(t)&&(t.selection.getNode().nodeName==="IMG"?pc.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const n=this.editor.selection;let s;if(this.editor.initialized&&n&&!_8(this.editor)&&!this.editor.mode.isReadOnly()){const a=this.editor.getBody();s=n.getStart(!0)||a,(s.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(s,a))&&(s=a);const d=[];this.editor.dom.getParent(s,g=>g===a?!0:(d.push(g),!1)),this.editor.dispatch("NodeChange",{...t,element:s,parents:d})}}isSameElementPath(t){let n;const s=this.editor,a=fo(s.dom.getParents(t,Mn,s.getBody()));if(a.length===this.lastPath.length){for(n=a.length;n>=0&&a[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=a,!0}return this.lastPath=a,!1}}const Q$=xa("image"),kQ=e=>{const t=e;return X.from(t[Q$])},AQ=(e,t)=>{const n=e;n[Q$]=t},qz=xa("event"),EQ=e=>{const t=e;return X.from(t[qz])},CB=e=>t=>{const n=t;n[qz]=e},TQ=(e,t)=>CB(t)(e),eU=CB(0),OQ=CB(2),DQ=CB(1),RQ=(e=>t=>{const n=t;return X.from(n[qz]).exists(s=>s===e)})(0),NQ=()=>Object.freeze({length:0,item:e=>null}),Gz=xa("mode"),IQ=e=>{const t=e;return X.from(t[Gz])},_B=e=>t=>{const n=t;n[Gz]=e},tU=(e,t)=>_B(t)(e),nU=_B(0),Yz=_B(2),BQ=_B(1),oU=e=>t=>{const n=t;return X.from(n[Gz]).exists(s=>s===e)},bS=oU(0),rU=oU(1),MQ=(e,t)=>({...t,get length(){return t.length},add:(n,s)=>{if(bS(e))if(Fe(n)){if(!Ye(s))return t.add(n,s)}else return t.add(n);return null},remove:n=>{bS(e)&&t.remove(n)},clear:()=>{bS(e)&&t.clear()}}),PQ=["none","copy","link","move"],LQ=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],Xz=()=>{const e=new window.DataTransfer;let t="move",n="all";const s={get dropEffect(){return t},set dropEffect(a){ve(PQ,a)&&(t=a)},get effectAllowed(){return n},set effectAllowed(a){RQ(s)&&ve(LQ,a)&&(n=a)},get items(){return MQ(s,e.items)},get files(){return rU(s)?NQ():e.files},get types(){return e.types},setDragImage:(a,d,g)=>{bS(s)&&(AQ(s,{image:a,x:d,y:g}),e.setDragImage(a,d,g))},getData:a=>rU(s)?"":e.getData(a),setData:(a,d)=>{bS(s)&&e.setData(a,d)},clearData:a=>{bS(s)&&e.clearData(a)}};return nU(s),s},FQ=e=>{const t=Xz(),n=IQ(e);return Yz(e),eU(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,kQ(e).each(s=>t.setDragImage(s.image,s.x,s.y)),_e(e.types,s=>{s!=="Files"&&t.setData(s,e.getData(s))}),_e(e.files,s=>t.items.add(s)),EQ(e).each(s=>{TQ(t,s)}),n.each(s=>{tU(e,s),tU(t,s)}),t},zQ=e=>{const t=e.getData("text/html");return t===""?X.none():X.some(t)},sU=(e,t)=>e.setData("text/html",t),iU="x-tinymce/html",SB=rt(iU),Jz="<!-- "+iU+" -->",HQ=e=>Jz+e,VQ=e=>e.replace(Jz,""),aU=e=>e.indexOf(Jz)!==-1,$Q=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),UQ=(e,t)=>{let n="<"+e;const s=Wa(t,(a,d)=>d+'="'+pg.encodeAllRaw(a)+'"');return s.length&&(n+=" "+s.join(" ")),n+">"},ZQ=(e,t,n)=>{const s=e.split(/\n\n/),a=UQ(t,n),d="</"+t+">",g=tt(s,A=>A.split(/\n/).join("<br />")),C=A=>a+A+d;return g.length===1?g[0]:tt(g,C).join("")},lU="%MCEPASTEBIN%",WQ=(e,t)=>{const{dom:n,selection:s}=e,a=e.getBody();t.set(s.getRng());const d=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},lU);So.browser.isFirefox()&&n.setStyle(d,"left",n.getStyle(a,"direction",!0)==="rtl"?65535:-65535),n.bind(d,"beforedeactivate focusin focusout",g=>{g.stopPropagation()}),d.focus(),s.select(d,!0)},jQ=(e,t)=>{const n=e.dom;if(Qz(e)){let s;const a=t.get();for(;s=Qz(e);)n.remove(s),n.unbind(s);a&&e.selection.setRng(a)}t.set(null)},Qz=e=>e.dom.get("mcepastebin"),KQ=e=>Se(e)&&e.id==="mcepastebin",qQ=e=>{const t=e.dom,n=(g,C)=>{g.appendChild(C),t.remove(C,!0)},[s,...a]=_t(e.getBody().childNodes,KQ);_e(a,g=>{n(s,g)});const d=t.select("div[id=mcepastebin]",s);for(let g=d.length-1;g>=0;g--){const C=t.create("div");s.insertBefore(C,d[g]),n(C,d[g])}return s?s.innerHTML:""},cU=e=>e===lU,GQ=e=>{const t=fi(null);return{create:()=>WQ(e,t),remove:()=>jQ(e,t),getEl:()=>Qz(e),getHtml:()=>qQ(e),getLastRng:t.get}},uU=(e,t)=>(Wt.each(t,n=>{We(n,RegExp)?e=e.replace(n,""):e=e.replace(n[0],n[1])}),e),YQ=e=>{const t=ac(),n=s0({},t);let s="";const a=t.getVoidElements(),d=Wt.makeMap("script noscript style textarea video audio iframe object"," "),g=t.getBlockElements(),C=A=>{const L=A.name,W=A;if(L==="br"){s+=`
`;return}if(L!=="wbr"){if(a[L]&&(s+=" "),d[L]){s+=" ";return}if(A.type===3&&(s+=A.value),!(A.name in t.getVoidElements())){let q=A.firstChild;if(q)do C(q);while(q=q.next)}g[L]&&W.next&&(s+=`
`,L==="p"&&(s+=`
`))}};return e=uU(e,[/<!\[[^\]]+\]>/g]),C(n.parse(e)),s},dU=e=>(e=uU(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(n,s,a)=>!s&&!a?" ":di],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),XQ=e=>{let t=0;return()=>e+t++},JQ=e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Wt.hasOwn(n,t)?"image/"+n[t]:"image/"+t},QQ=(e,t)=>{const n=s0({sanitize:wO(e),sandbox_iframes:Ok(e),sandbox_iframes_exclusions:Yw(e),convert_unsafe_embeds:AO(e)},e.schema);n.addNodeFilter("meta",a=>{Wt.each(a,d=>{d.remove()})});const s=n.parse(t,{forced_root_block:!1,isRootContent:!0});return Vg({validate:!0},e.schema).serialize(s)},fU=(e,t)=>({content:e,cancelled:t}),eee=(e,t,n)=>{const s=e.dom.create("div",{style:"display:none"},t),a=yC(e,s,n);return fU(a.node.innerHTML,a.isDefaultPrevented())},tee=(e,t,n)=>{const s=Sy(e,t,n),a=QQ(e,s.content);return e.hasEventListeners("PastePostProcess")&&!s.isDefaultPrevented()?eee(e,a,n):fU(a,s.isDefaultPrevented())},nee=(e,t,n)=>tee(e,t,n),eH=(e,t)=>(e.insertContent(t,{merge:O8(e),paste:!0}),!0),tH=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),oee=(e,t)=>tH(t)&&De(Tk(e),n=>xe(t.toLowerCase(),`.${n.toLowerCase()}`)),ree=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),see=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),iee=(e,t,n)=>!e.selection.isCollapsed()&&tH(t)?see(e,t,n):!1,aee=(e,t,n)=>oee(e,t)?ree(e,t,n):!1,lee=(e,t)=>{Wt.each([iee,aee,eH],n=>!n(e,t,eH))},cee=(e,t,n)=>{n||!Ob(e)?eH(e,t):lee(e,t)},uee=XQ("mceclip"),dee=e=>{const t=Xz();return sU(t,e),Yz(t),t},mU=(e,t,n,s,a)=>{const d=nee(e,t,n);if(!d.cancelled){const g=d.content,C=()=>cee(e,g,s);a?pB(e,"insertFromPaste",{dataTransfer:dee(g)}).isDefaultPrevented()||(C(),lT(e,"insertFromPaste")):C()}},kB=(e,t,n,s)=>{const a=n||aU(t);mU(e,VQ(t),a,!1,s)},nH=(e,t,n)=>{const s=e.dom.encode(t).replace(/\r\n/g,`
`),a=Vp(s,vO(e)),d=ZQ(a,La(e),qx(e));mU(e,d,!1,!0,n)},gU=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const s=e.types[n];try{t[s]=e.getData(s)}catch{t[s]=""}}return t},C0=(e,t)=>t in e&&e[t].length>0,hU=e=>C0(e,"text/html")||C0(e,"text/plain"),fee=(e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Se(n)?e.dom.encode(n[1]):void 0},mee=(e,t,n,s)=>{const a=uee(),d=Bg(e)&&Se(n.name),g=d?fee(e,n.name):a,C=d?n.name:void 0,A=t.create(a,n,s,g,C);return t.add(A),A},gee=(e,t)=>{N_(t.uri).each(({data:n,type:s,base64Encoded:a})=>{const d=a?n:btoa(n),g=t.file,C=e.editorUpload.blobCache,A=C.getByData(d,s),L=A??mee(e,C,g,d);kB(e,`<img src="${L.blobUri()}">`,!1,!0)})},hee=e=>e.type==="paste",pee=e=>Promise.all(tt(e,t=>qR(t).then(n=>({file:t,uri:n})))),bee=e=>{const t=Tk(e);return n=>Zr(n.type,"image/")&&De(t,s=>JQ(s)===n.type)},vee=(e,t)=>{const n=t.items?xn(so(t.items),a=>a.kind==="file"?[a.getAsFile()]:[]):[],s=t.files?so(t.files):[];return _t(n.length>0?n:s,bee(e))},pU=(e,t,n)=>{const s=hee(t)?t.clipboardData:t.dataTransfer;if(_m(e)&&s){const a=vee(e,s);if(a.length>0)return t.preventDefault(),pee(a).then(d=>{n&&e.selection.setRng(n),_e(d,g=>{gee(e,g)})}),!0}return!1},xee=e=>{var t,n;return So.os.isAndroid()&&((n=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||n===void 0?void 0:n.length)===0},yee=e=>ln.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,oH=(e,t,n,s,a)=>{let d=dU(n);const g=C0(t,SB())||aU(n),C=!g&&$Q(d),A=tH(d);(cU(d)||!d.length||C&&!A)&&(s=!0),(s||A)&&(C0(t,"text/plain")&&C?d=t["text/plain"]:d=YQ(d)),!cU(d)&&(s?nH(e,d,a):kB(e,d,g,a))},wee=(e,t,n)=>{let s;const a=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",d=>{yee(d)&&!d.isDefaultPrevented()&&(s=d.shiftKey&&d.keyCode===86)}),e.on("paste",d=>{if(d.isDefaultPrevented()||xee(d))return;const g=n.get()==="text"||s;s=!1;const C=gU(d.clipboardData);!hU(C)&&pU(e,d,a())||(C0(C,"text/html")?(d.preventDefault(),oH(e,C,C["text/html"],g,!0)):C0(C,"text/plain")&&C0(C,"text/uri-list")?(d.preventDefault(),oH(e,C,C["text/plain"],g,!0)):(t.create(),pc.setEditorTimeout(e,()=>{const A=t.getHtml();t.remove(),oH(e,C,A,g,!1)},0)))})},Cee=e=>{const t=a=>Zr(a,"webkit-fake-url"),n=a=>Zr(a,"data:"),s=a=>{var d;return((d=a.data)===null||d===void 0?void 0:d.paste)===!0};e.parser.addNodeFilter("img",(a,d,g)=>{if(!_m(e)&&s(g))for(const C of a){const A=C.attr("src");Fe(A)&&!C.attr("data-mce-object")&&A!==So.transparentSrc&&(t(A)||!D8(e)&&n(A))&&C.remove()}})},_ee=(e,t,n)=>{wee(e,t,n),Cee(e)},See=(e,t)=>{t.get()==="text"?(t.set("html"),wC(e,!1)):(t.set("text"),wC(e,!0)),e.focus()},kee=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{See(e,t)}),e.addCommand("mceInsertClipboardContent",(n,s)=>{s.html&&kB(e,s.html,s.internal,!1),s.text&&nH(e,s.text,!1)})},Aee=(e,t,n)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(SB(),t),!0}catch{return!1}else return!1},bU=(e,t,n,s)=>{Aee(e.clipboardData,t.html,t.text)?(e.preventDefault(),s()):n(t.html,s)},vU=e=>(t,n)=>{const{dom:s,selection:a}=e,d=s.create("div",{contenteditable:"false","data-mce-bogus":"all"}),g=s.create("div",{contenteditable:"true"},t);s.setStyles(d,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),d.appendChild(g),s.add(e.getBody(),d);const C=a.getRng();g.focus();const A=s.createRng();A.selectNodeContents(g),a.setRng(A),pc.setEditorTimeout(e,()=>{a.setRng(C),s.remove(d),n()},0)},xU=e=>({html:HQ(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),Eee=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),yU=e=>!e.selection.isCollapsed()||Eee(e),Tee=e=>t=>{!t.isDefaultPrevented()&&yU(e)&&e.selection.isEditable()&&bU(t,xU(e),vU(e),()=>{if(So.browser.isChromium()||So.browser.isFirefox()){const n=e.selection.getRng();pc.setEditorTimeout(e,()=>{e.selection.setRng(n),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},Oee=e=>t=>{!t.isDefaultPrevented()&&yU(e)&&bU(t,xU(e),vU(e),sn)},Dee=e=>{e.on("cut",Tee(e)),e.on("copy",Oee(e))},wU=(e,t)=>{var n,s;return Zh.getCaretRangeFromPoint((n=t.clientX)!==null&&n!==void 0?n:0,(s=t.clientY)!==null&&s!==void 0?s:0,e.getDoc())},Ree=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},CU=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},Nee=e=>De(e.files,t=>/^image\//.test(t.type)),Iee=(e,t,n,s)=>{const a=e.getParent(n,g=>Xd(t,g));if(!Je(e.getParent(n,"summary")))return!0;if(a&&Yn(s,"text/html")){const g=new DOMParser().parseFromString(s["text/html"],"text/html").body;return!Je(g.querySelector(a.nodeName.toLowerCase()))}else return!1},Bee=e=>{e.on("input",t=>{const n=s=>Je(s.querySelector("summary"));if(t.inputType==="deleteByDrag"){const s=_t(e.dom.select("details"),n);_e(s,a=>{Jr(a.firstChild)&&a.firstChild.remove();const d=e.dom.create("summary");d.appendChild(ad().dom),a.prepend(d)})}})},Mee=(e,t)=>{hf(e)&&e.on("dragend dragover draggesture dragdrop drop drag",n=>{n.preventDefault(),n.stopPropagation()}),_m(e)||e.on("drop",n=>{const s=n.dataTransfer;s&&Nee(s)&&n.preventDefault()}),e.on("drop",n=>{if(n.isDefaultPrevented())return;const s=wU(e,n);if(gt(s))return;const a=gU(n.dataTransfer),d=C0(a,SB());if((!hU(a)||Ree(a))&&pU(e,n,s))return;const g=a[SB()],C=g||a["text/html"]||a["text/plain"],A=Iee(e.dom,e.schema,s.startContainer,a),L=t.get();L&&!A||C&&(n.preventDefault(),pc.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(g||L&&A)&&e.execCommand("Delete"),CU(e,s);const W=dU(C);a["text/html"]?kB(e,W,d,!0):nH(e,W,!0)})}))}),e.on("dragstart",n=>{t.set(!0)}),e.on("dragover dragend",n=>{_m(e)&&!t.get()&&(n.preventDefault(),CU(e,wU(e,n))),n.type==="dragend"&&t.set(!1)}),Bee(e)},Pee=e=>{const t=a=>d=>{a(e,d)},n=T8(e);Ne(n)&&e.on("PastePreProcess",t(n));const s=Jx(e);Ne(s)&&e.on("PastePostProcess",t(s))},Lee=(e,t)=>{e.on("PastePreProcess",n=>{n.content=t(e,n.content,n.internal)})},Fee=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,_U=e=>Wt.trim(e).replace(Fee,tb).toLowerCase(),zee=(e,t,n)=>{const s=bO(e);if(n||s==="all"||!Sk(e))return t;const a=s?s.split(/[, ]/):[];if(a&&s!=="none"){const d=e.dom,g=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(C,A,L,W)=>{const q=d.parseStyle(d.decode(L)),Y={};for(let he=0;he<a.length;he++){const ue=q[a[he]];let we=ue,Pe=d.getStyle(g,a[he],!0);/color/.test(a[he])&&(we=_U(we),Pe=_U(Pe)),Pe!==we&&(Y[a[he]]=ue)}const ce=d.serializeStyle(Y,"span");return ce?A+' style="'+ce+'"'+W:A+W})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(d,g,C,A)=>g+' style="'+C+'"'+A),t},Hee=e=>{(So.browser.isChromium()||So.browser.isSafari())&&Lee(e,zee)},Vee=e=>{const t=fi(!1),n=fi(Db(e)?"text":"html"),s=GQ(e);Hee(e),kee(e,n),Pee(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>n.get()==="text"),e.on("PreInit",()=>{Dee(e),Mee(e,t),_ee(e,s,n)})},$ee=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},Uee=e=>{e.parser.addNodeFilter("details",t=>{const n=Gw(e);_e(t,s=>{n==="expanded"?s.attr("open","open"):n==="collapsed"&&s.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const n=kO(e);_e(t,s=>{n==="expanded"?s.attr("open","open"):n==="collapsed"&&s.attr("open",null)})})},Zee=e=>{$ee(e),Uee(e)},Wee=Jr,SU=Lt,jee=e=>to(e.dom),Kee=e=>oc(e.dom),kU=e=>t=>Po(Oe.fromDom(e),t),qee=(e,t,n)=>qs(Oe.fromDom(e),s=>Kee(s)||n.isBlock(Mo(s)),kU(t)).getOr(Oe.fromDom(t)).dom,AU=(e,t)=>qs(Oe.fromDom(e),jee,kU(t)),EU=(e,t,n)=>{const s=new $i(e,t),a=n?s.next.bind(s):s.prev.bind(s);let d=e;for(let g=n?e:a();g&&!Wee(g);g=a())zc(g)&&(d=g);return d},Gee=(e,t,n)=>{const a=ft.fromRangeStart(e).getNode(),d=qee(a,t,n),g=EU(a,d,!1),C=EU(a,d,!0),A=document.createRange();return AU(g,d).fold(()=>{SU(g)?A.setStart(g,0):A.setStartBefore(g)},L=>A.setStartBefore(L.dom)),AU(C,d).fold(()=>{SU(C)?A.setEnd(C,C.data.length):A.setEndAfter(C)},L=>A.setEndAfter(L.dom)),A},Yee=e=>{const t=Gee(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(u_(t))},Xee=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),Yee(e))})};var vS;(function(e){e.Before="before",e.After="after"})(vS||(vS={}));const Jee=(e,t)=>Math.abs(e.left-t),Qee=(e,t)=>Math.abs(e.right-t),ete=(e,t)=>e>=t.top&&e<=t.bottom,tte=(e,t)=>e.top<t.bottom&&e.bottom>t.top,nte=(e,t)=>{const n=Lx(e,t)/Math.min(e.height,t.height);return tte(e,t)&&n>.5},ote=(e,t)=>{const n=_t(e,s=>ete(t,s));return Th(n).fold(()=>[[],e],s=>{const{pass:a,fail:d}=en(e,g=>nte(g,s));return[a,d]})},rte=(e,t)=>({node:e.node,position:Jee(e,t)<Qee(e,t)?vS.Before:vS.After}),ste=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),rH=(e,t,n,s)=>{const a=q=>zc(q.node)?X.some(q):yn(q.node)?rH(so(q.node.childNodes),t,n,!1):X.none(),d=(q,Y,ce)=>a(Y).filter(he=>Math.abs(ce(q,t,n)-ce(he,t,n))<2&&Lt(he.node)),g=(q,Y)=>{const ce=yo(q,(he,ue)=>Y(he,t,n)-Y(ue,t,n));return Nr(ce,a).map(he=>s&&!Lt(he.node)&&ce.length>1?d(he,ce[1],Y).getOr(he):he)},[C,A]=ote(PI(e),n),{pass:L,fail:W}=en(A,q=>q.top<n);return g(C,ste).orThunk(()=>g(W,bv)).orThunk(()=>g(L,bv))},ite=(e,t,n,s)=>{const a=(d,g)=>{const C=L=>yn(L)&&L.classList.contains("mce-drag-container"),A=_t(d.dom.childNodes,yt(C));return g.fold(()=>rH(A,n,s,!0),L=>{const W=_t(A,q=>q!==L.dom);return rH(W,n,s,!0)}).orThunk(()=>(Po(d,e)?X.none():Vd(d)).bind(W=>a(W,X.some(d))))};return a(t,X.none())},ate=(e,t,n)=>{const s=Oe.fromDom(e),a=Ol(s),g=Oe.fromPoint(a,t,n).filter(C=>zi(s,C)).getOr(s);return ite(s,g,t,n)},TU=(e,t,n)=>ate(e,t,n).filter(s=>ny(s.node)).map(s=>rte(s,t)),OU=e=>{var t,n;const s=e.getBoundingClientRect(),a=e.ownerDocument,d=a.documentElement,g=a.defaultView;return{top:s.top+((t=g==null?void 0:g.scrollY)!==null&&t!==void 0?t:0)-d.clientTop,left:s.left+((n=g==null?void 0:g.scrollX)!==null&&n!==void 0?n:0)-d.clientLeft}},lte=e=>e.inline?OU(e.getBody()):{left:0,top:0},cte=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},ute=e=>{const t=e.getBody(),n=e.getDoc().documentElement,s={left:t.scrollLeft,top:t.scrollTop},a={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?s:a},dte=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=OU(e.getContentAreaContainer()),s=ute(e);return{left:t.pageX-n.left+s.left,top:t.pageY-n.top+s.top}}return{left:t.pageX,top:t.pageY}},fte=(e,t,n)=>({pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}),mte=(e,t)=>fte(lte(e),cte(e),dte(e,t)),DU=e=>({target:e,srcElement:e}),gte=(e,t,n,s)=>({...t,dataTransfer:s,type:e,...DU(n)}),hte=(e,t,n)=>{const s=qt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:s,initEvent:s,preventDefault:sn,stopImmediatePropagation:sn,stopPropagation:sn,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:s,initMouseEvent:s,getModifierState:s,dataTransfer:n,...DU(t)}},pte=(e,t)=>{const n=FQ(e);return t==="dragstart"?(eU(n),nU(n)):t==="drop"?(OQ(n),Yz(n)):(DQ(n),BQ(n)),n},bte=(e,t,n,s)=>{const a=pte(n,e);return Ye(s)?hte(e,t,a):gte(e,s,t,a)},AB=32,vte=100,EB=8,TB=16,RU=to,xte=Hx(RU,oc),yte=(e,t,n)=>RU(n)&&n!==t&&e.isEditable(n.parentElement),wte=(e,t,n)=>gt(t)||t===n||e.dom.isChildOf(t,n)?!1:e.dom.isEditable(t),Cte=(e,t,n,s)=>{const a=e.dom,d=t.cloneNode(!0);a.setStyles(d,{width:n,height:s}),a.setAttrib(d,"data-mce-selected",null);const g=a.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return a.setStyles(g,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:s}),a.setStyles(d,{margin:0,boxSizing:"border-box"}),g.appendChild(d),g},_te=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},OB=(e,t)=>n=>()=>{const s=e==="left"?n.scrollX:n.scrollY;n.scroll({[e]:s+t,behavior:"smooth"})},NU=OB("left",-AB),IU=OB("left",AB),BU=OB("top",-AB),MU=OB("top",AB),Ste=(e,t,n,s,a,d,g,C,A,L,W,q)=>{let Y=0,ce=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>a&&(Y=t.pageX+n-a),t.pageY+s>d&&(ce=t.pageY+s-d),e.style.width=n-Y+"px",e.style.height=s-ce+"px";const he=A.clientHeight,ue=A.clientWidth,we=g+A.getBoundingClientRect().top,Pe=C+A.getBoundingClientRect().left;W.on(Ze=>{Ze.intervalId.clear(),Ze.dragging&&q&&(g+EB>=he?Ze.intervalId.set(MU(L)):g-EB<=0?Ze.intervalId.set(BU(L)):C+EB>=ue?Ze.intervalId.set(IU(L)):C-EB<=0?Ze.intervalId.set(NU(L)):we+TB>=window.innerHeight?Ze.intervalId.set(MU(window)):we-TB<=0?Ze.intervalId.set(BU(window)):Pe+TB>=window.innerWidth?Ze.intervalId.set(IU(window)):Pe-TB<=0&&Ze.intervalId.set(NU(window)))})},PU=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},kte=(e,t)=>{const n=e.getParent(t.parentNode,e.isBlock);PU(t),n&&n!==e.getRoot()&&e.isEmpty(n)&&uc(Oe.fromDom(n))},Ate=e=>e.button===0,Ete=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),Tte=(e,t)=>n=>{if(Ate(n)){const s=Bt(t.dom.getParents(n.target),xte).getOr(null);if(Se(s)&&yte(t.dom,t.getBody(),s)){const a=t.dom.getPos(s),d=t.getBody(),g=t.getDoc().documentElement;e.set({element:s,dataTransfer:Xz(),dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?d.scrollWidth:g.offsetWidth)-2,maxY:(t.inline?d.scrollHeight:g.offsetHeight)-2,relX:n.pageX-a.x,relY:n.pageY-a.y,width:s.offsetWidth,height:s.offsetHeight,ghost:Cte(t,s,s.offsetWidth,s.offsetHeight),intervalId:rc(vte)})}}},Ote=(e,t,n)=>{e._selectionOverrides.hideFakeCaret(),TU(e.getBody(),t,n).fold(()=>e.selection.placeCaretAt(t,n),s=>{const a=e._selectionOverrides.showCaret(1,s.node,s.position===vS.Before,!1);a?e.selection.setRng(a):e.selection.placeCaretAt(t,n)})},fT=(e,t,n,s,a)=>{t==="dragstart"&&sU(s,e.dom.getOuterHTML(n));const d=bte(t,n,s,a);return e.dispatch(t,d)},Dte=(e,t)=>{const n=kg((a,d)=>Ote(t,a,d),0);t.on("remove",n.cancel);const s=e;return a=>e.on(d=>{const g=Math.max(Math.abs(a.screenX-d.screenX),Math.abs(a.screenY-d.screenY));if(!d.dragging&&g>10){const C=fT(t,"dragstart",d.element,d.dataTransfer,a);if(Se(C.dataTransfer)&&(d.dataTransfer=C.dataTransfer),C.isDefaultPrevented())return;d.dragging=!0,t.focus()}if(d.dragging){const C=a.currentTarget===t.getDoc().documentElement,A=Ete(d,mte(t,a));_te(d.ghost,t.getBody()),Ste(d.ghost,A,d.width,d.height,d.maxX,d.maxY,a.clientY,a.clientX,t.getContentAreaContainer(),t.getWin(),s,C),n.throttle(a.clientX,a.clientY)}})},Rte=e=>{const t=e.getSel();if(Se(t)){const s=t.getRangeAt(0).startContainer;return Lt(s)?s.parentNode:s}else return null},Nte=(e,t)=>n=>{e.on(s=>{var a;if(s.intervalId.clear(),s.dragging){if(wte(t,Rte(t.selection),s.element)){const d=(a=t.getDoc().elementFromPoint(n.clientX,n.clientY))!==null&&a!==void 0?a:t.getBody();fT(t,"drop",d,s.dataTransfer,n).isDefaultPrevented()||t.undoManager.transact(()=>{kte(t.dom,s.element),zQ(s.dataTransfer).each(C=>t.insertContent(C)),t._selectionOverrides.hideFakeCaret()})}fT(t,"dragend",t.getBody(),s.dataTransfer,n)}}),FU(e)},LU=(e,t,n)=>{e.on(s=>{s.intervalId.clear(),s.dragging&&n.fold(()=>fT(t,"dragend",s.element,s.dataTransfer),a=>fT(t,"dragend",s.element,s.dataTransfer,a))}),FU(e)},Ite=(e,t)=>n=>LU(e,t,X.some(n)),FU=e=>{e.on(t=>{t.intervalId.clear(),PU(t.ghost)}),e.clear()},Bte=e=>{const t=mi(),n=Tr.DOM,s=document,a=Tte(t,e),d=Dte(t,e),g=Nte(t,e),C=Ite(t,e);e.on("mousedown",a),e.on("mousemove",d),e.on("mouseup",g),n.bind(s,"mousemove",d),n.bind(s,"mouseup",C),e.on("remove",()=>{n.unbind(s,"mousemove",d),n.unbind(s,"mouseup",C)}),e.on("keydown",A=>{A.keyCode===ln.ESC&&LU(t,e,X.none())})},Mte=e=>{const t=a=>{if(!a.isDefaultPrevented()){const d=a.dataTransfer;d&&(ve(d.types,"Files")||d.files.length>0)&&(a.preventDefault(),a.type==="drop"&&J_(e,"Dropped file type is not supported"))}},n=a=>{IC(e,a.target)&&t(a)},s=()=>{const a=Tr.DOM,d=e.dom,g=document,C=e.inline?e.getBody():e.getDoc(),A=["drop","dragover"];_e(A,L=>{a.bind(g,L,n),d.bind(C,L,t)}),e.on("remove",()=>{_e(A,L=>{a.unbind(g,L,n),d.unbind(C,L,t)})})};e.on("init",()=>{pc.setEditorTimeout(e,s,0)})},Pte=e=>{Bte(e),Kw(e)&&Mte(e)},Lte=e=>{const t=kg(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const n=e.selection.getRng();if(n.collapsed){const s=nS(e,n,!1);e.selection.setRng(s)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},Fte=e=>{e.on("init",()=>{e.on("focusin",t=>{const n=t.target;if(bt(n)){const s=Du(e.getBody(),n),a=to(s)?s:n;e.selection.getNode()!==a&&_2(e,a).each(d=>e.selection.setRng(d))}})})},mT=to,zU=(e,t)=>Du(e.getBody(),t),zte=e=>{const t=e.selection,n=e.dom,s=e.getBody(),a=IO(e,s,n.isBlock,()=>$v(e)),d="sel-"+n.uniqueId(),g="data-mce-selected";let C;const A=dn=>Se(dn)&&n.hasClass(dn,"mce-offscreen-selection"),L=dn=>dn!==s&&(mT(dn)||bt(dn))&&n.isChildOf(dn,s)&&n.isEditable(dn.parentNode),W=dn=>{dn&&t.setRng(dn)},q=(dn,vt,ut,Ot=!0)=>e.dispatch("ShowCaret",{target:vt,direction:dn,before:ut}).isDefaultPrevented()?null:(Ot&&t.scrollIntoView(vt,dn===-1),a.show(ut,vt)),Y=dn=>{dn.hasAttribute("data-mce-caret")&&(Og(dn),t.scrollIntoView(dn))},ce=()=>{e.on("click",vt=>{n.isEditable(vt.target)||(vt.preventDefault(),e.focus())}),e.on("blur NewBlock",st),e.on("ResizeWindow FullscreenStateChanged",a.reposition),e.on("tap",vt=>{const ut=vt.target,Ot=zU(e,ut);mT(Ot)?(vt.preventDefault(),_2(e,Ot).each(Ve)):L(ut)&&_2(e,ut).each(Ve)},!0),e.on("mousedown",vt=>{const ut=vt.target;if(ut!==s&&ut.nodeName!=="HTML"&&!n.isChildOf(ut,s)||!uF(e,vt.clientX,vt.clientY))return;st(),Zt();const Ot=zU(e,ut);mT(Ot)?(vt.preventDefault(),_2(e,Ot).each(Ve)):TU(s,vt.clientX,vt.clientY).each(pn=>{vt.preventDefault();const On=q(1,pn.node,pn.position===vS.Before,!1);W(On),Ic(Ot)?Ot.focus():e.getBody().focus()})}),e.on("keypress",vt=>{ln.modifierPressed(vt)||mT(t.getNode())&&vt.preventDefault()}),e.on("GetSelectionRange",vt=>{let ut=vt.range;if(C){if(!C.parentNode){C=null;return}ut=ut.cloneRange(),ut.selectNode(C),vt.range=ut}}),e.on("SetSelectionRange",vt=>{vt.range=we(vt.range);const ut=Ve(vt.range,vt.forward);ut&&(vt.range=ut)});const dn=vt=>yn(vt)&&vt.id==="mcepastebin";e.on("AfterSetSelectionRange",vt=>{const ut=vt.range,Ot=ut.startContainer.parentElement;!ue(ut)&&!dn(Ot)&&Zt(),A(Ot)||st()}),Pte(e),Lte(e),Fte(e)},he=dn=>Cl(dn)||bb(dn)||cd(dn),ue=dn=>he(dn.startContainer)||he(dn.endContainer),we=dn=>{const vt=e.schema.getVoidElements(),ut=n.createRng(),Ot=dn.startContainer,pn=dn.startOffset,On=dn.endContainer,wo=dn.endOffset;return Yn(vt,Ot.nodeName.toLowerCase())?pn===0?ut.setStartBefore(Ot):ut.setStartAfter(Ot):ut.setStart(Ot,pn),Yn(vt,On.nodeName.toLowerCase())?wo===0?ut.setEndBefore(On):ut.setEndAfter(On):ut.setEnd(On,wo),ut},Pe=(dn,vt)=>{const ut=Oe.fromDom(e.getBody()),Ot=e.getDoc(),pn=kt(ut,"#"+d).getOrThunk(()=>{const Oo=Oe.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Ot);return ei(Oo,"id",d),As(ut,Oo),Oo}),On=n.createRng();Mr(pn),Ls(pn,[Oe.fromText(di,Ot),Oe.fromDom(vt),Oe.fromText(di,Ot)]),On.setStart(pn.dom.firstChild,1),On.setEnd(pn.dom.lastChild,0),Io(pn,{top:n.getPos(dn,e.getBody()).y+"px"}),bA(pn);const wo=t.getSel();return wo&&(wo.removeAllRanges(),wo.addRange(On)),On},Ze=dn=>{const vt=dn.cloneNode(!0),ut=e.dispatch("ObjectSelected",{target:dn,targetClone:vt});if(ut.isDefaultPrevented())return null;const Ot=Pe(dn,ut.targetClone),pn=Oe.fromDom(dn);return _e(Gs(Oe.fromDom(e.getBody()),`*[${g}]`),On=>{Po(pn,On)||bo(On,g)}),n.getAttrib(dn,g)||dn.setAttribute(g,"1"),C=dn,Zt(),Ot},Ve=(dn,vt)=>{if(!dn)return null;if(dn.collapsed){if(!ue(dn)){const On=vt?1:-1,wo=iy(On,s,dn),Oo=wo.getNode(!vt);if(Se(Oo)){if(ny(Oo))return q(On,Oo,vt?!wo.isAtEnd():!1,!1);if(bm(Oo)&&to(Oo.nextSibling)){const wr=n.createRng();return wr.setStart(Oo,0),wr.setEnd(Oo,0),wr}}const cr=wo.getNode(vt);if(Se(cr)){if(ny(cr))return q(On,cr,vt?!1:!wo.isAtEnd(),!1);if(bm(cr)&&to(cr.previousSibling)){const wr=n.createRng();return wr.setStart(cr,1),wr.setEnd(cr,1),wr}}}return null}let ut=dn.startContainer,Ot=dn.startOffset;const pn=dn.endOffset;if(Lt(ut)&&Ot===0&&mT(ut.parentNode)&&(ut=ut.parentNode,Ot=n.nodeIndex(ut),ut=ut.parentNode),!yn(ut))return null;if(pn===Ot+1&&ut===dn.endContainer){const On=ut.childNodes[Ot];if(L(On))return Ze(On)}return null},st=()=>{C&&C.removeAttribute(g),kt(Oe.fromDom(e.getBody()),"#"+d).each(lr),C=null},Rt=()=>{a.destroy(),C=null},Zt=()=>{a.hide()};return Hm(e)||ce(),{showCaret:q,showBlockCaretContainer:Y,hideFakeCaret:Zt,destroy:Rt}},Hte=(e,t)=>{let n=t;for(let s=e.previousSibling;Lt(s);s=s.previousSibling)n+=s.data.length;return n},HU=(e,t,n,s,a)=>{if(Lt(n)&&(s<0||s>n.data.length))return[];const d=a&&Lt(n)?[Hte(n,s)]:[s];let g=n;for(;g!==t&&g.parentNode;)d.push(e.nodeIndex(g,a)),g=g.parentNode;return g===t?d.reverse():[]},sH=(e,t,n,s,a,d,g=!1)=>{const C=HU(e,t,n,s,g),A=HU(e,t,a,d,g);return{start:C,end:A}},VU=(e,t)=>{const n=t.slice(),s=n.pop();return D(s)?je(n,(d,g)=>d.bind(C=>X.from(C.childNodes[g])),X.some(e)).bind(d=>Lt(d)&&(s<0||s>d.data.length)?X.none():X.some({node:d,offset:s})):X.none()},$U=(e,t)=>VU(e,t.start).bind(({node:n,offset:s})=>VU(e,t.end).map(({node:a,offset:d})=>{const g=document.createRange();return g.setStart(n,s),g.setEnd(a,d),g})),Vte=(e,t,n,s=!1)=>sH(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,s),xS=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const s=t.parentNode;e.remove(t,Lt(t.firstChild)&&Rl(t.firstChild.data)),xS(e,s,n)}},DB=(e,t,n,s=!0)=>{const a=t.startContainer.parentNode,d=t.endContainer.parentNode;t.deleteContents(),s&&!n(t.startContainer)&&(Lt(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),Lt(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),xS(e,a,n),a!==d&&xS(e,d,n))},RB=(e,t)=>X.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),iH=(e,t,n)=>{const s=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:aa(s).concat(e.blockPatterns),inlinePatterns:wu(s).concat(e.inlinePatterns)}},aH=(e,t,n,s)=>{const a=e.createRng();return a.setStart(t,0),a.setEnd(n,s),a.toString()},UU=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),NB=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},ZU=(e,t,n)=>{const s=$U(e.getRoot(),n).getOrDie("Unable to resolve path range"),a=s.startContainer,d=s.endContainer,g=s.endOffset===0?d:d.splitText(s.endOffset),C=s.startOffset===0?a:a.splitText(s.startOffset),A=C.parentNode,L=g.parentNode;return{prefix:t,end:L.insertBefore(UU(e,t+"-end"),g),start:A.insertBefore(UU(e,t+"-start"),C)}},WU=(e,t,n)=>{xS(e,e.get(t.prefix+"-end"),n),xS(e,e.get(t.prefix+"-start"),n)},lH=e=>e.start.length===0,$te=e=>(t,n)=>{const a=t.data.substring(0,n),d=a.lastIndexOf(e.charAt(e.length-1)),g=a.lastIndexOf(e);return g!==-1?g+e.length:d!==-1?d+1:-1},jU=(e,t,n,s)=>{const a=t.start;return Dz(e,s.container,s.offset,$te(a),n).bind(g=>{var C,A;const L=(A=(C=n.textContent)===null||C===void 0?void 0:C.indexOf(a))!==null&&A!==void 0?A:-1;if(L!==-1&&g.offset>=L+a.length){const q=e.createRng();return q.setStart(g.container,g.offset-a.length),q.setEnd(g.container,g.offset),X.some(q)}else{const q=g.offset-a.length;return Oz(g.container,q,n).map(Y=>{const ce=e.createRng();return ce.setStart(Y.container,Y.offset),ce.setEnd(g.container,g.offset),ce}).filter(Y=>Y.toString()===a).orThunk(()=>jU(e,t,n,th(g.container,0)))}})},Ute=(e,t,n,s,a,d=!1)=>{if(t.start.length===0&&!d){const g=e.createRng();return g.setStart(n,s),g.setEnd(n,s),X.some(g)}return Tz(n,s,a).bind(g=>jU(e,t,a,g).bind(A=>{var L;if(d){if(A.endContainer===g.container&&A.endOffset===g.offset)return X.none();if(g.offset===0&&((L=A.endContainer.textContent)===null||L===void 0?void 0:L.length)===A.endOffset)return X.none()}return X.some(A)}))},Zte=(e,t,n,s)=>{const a=e.dom,d=a.getRoot(),g=n.pattern,C=n.position.container,A=n.position.offset;return Oz(C,A-n.pattern.end.length,t).bind(L=>{const W=sH(a,d,L.container,L.offset,C,A,s);if(lH(g))return X.some({matches:[{pattern:g,startRng:W,endRng:W}],position:L});{const q=IB(e,n.remainingPatterns,L.container,L.offset,t,s),Y=q.getOr({matches:[],position:L}),ce=Y.position;return Ute(a,g,ce.container,ce.offset,t,q.isNone()).map(ue=>{const we=Vte(a,d,ue,s);return{matches:Y.matches.concat([{pattern:g,startRng:we,endRng:W}]),position:th(ue.startContainer,ue.startOffset)}})}})},IB=(e,t,n,s,a,d)=>{const g=e.dom;return Tz(n,s,g.getRoot()).bind(C=>{const A=aH(g,a,n,s);for(let L=0;L<t.length;L++){const W=t[L];if(!xe(A,W.end))continue;const q=t.slice();q.splice(L,1);const Y=Zte(e,a,{pattern:W,remainingPatterns:q,position:C},d);if(Y.isNone()&&s>0)return IB(e,t,n,s-1,a,d);if(Y.isSome())return Y}return X.none()})},KU=(e,t,n)=>{e.selection.setRng(n),t.type==="inline-format"?_e(t.format,s=>{e.formatter.apply(s)}):e.execCommand(t.cmd,!1,t.value)},Wte=(e,t,n,s)=>{const a=NB(e.dom,n);DB(e.dom,a,s),KU(e,t,a)},jte=(e,t,n,s,a)=>{const d=e.dom,g=NB(d,s),C=NB(d,n);DB(d,C,a),DB(d,g,a);const A={prefix:n.prefix,start:n.end,end:s.start},L=NB(d,A);KU(e,t,L)},Kte=(e,t)=>{const n=xa("mce_textpattern"),s=Yt(t,(a,d)=>{const g=ZU(e,n+`_end${a.length}`,d.endRng);return a.concat([{...d,endMarker:g}])},[]);return Yt(s,(a,d)=>{const g=s.length-a.length-1,C=lH(d.pattern)?d.endMarker:ZU(e,n+`_start${g}`,d.startRng);return a.concat([{...d,startMarker:C}])},[])},qte=e=>yo(e,(t,n)=>n.end.length-t.end.length),Gte=(e,t)=>{const n=eo(e,s=>De(t,a=>s.pattern.start===a.pattern.start&&s.pattern.end===a.pattern.end));return e.length===t.length?n?e:t:e.length>t.length?e:t},qU=(e,t,n,s,a,d)=>{const g=IB(e,a.inlinePatterns,n,s,t,d).fold(()=>[],A=>A.matches),C=IB(e,qte(a.inlinePatterns),n,s,t,d).fold(()=>[],A=>A.matches);return Gte(g,C)},GU=(e,t)=>{if(t.length===0)return;const n=e.dom,s=e.selection.getBookmark(),a=Kte(n,t);_e(a,d=>{const g=n.getParent(d.startMarker.start,n.isBlock),C=A=>A===g;lH(d.pattern)?Wte(e,d.pattern,d.endMarker,C):jte(e,d.pattern,d.startMarker,d.endMarker,C),WU(n,d.endMarker,C),WU(n,d.startMarker,C)}),e.selection.moveToBookmark(s)},YU=(e,t,n)=>FY(t,0,t).map(s=>{const a=s.container;return JV(a,n.start.length,t).each(d=>{const g=e.createRng();g.setStart(a,0),g.setEnd(d.container,d.offset),DB(e,g,C=>C===t)}),a}),XU=e=>(t,n)=>{const s=t.dom,a=n.pattern,d=$U(s.getRoot(),n.range).getOrDie("Unable to resolve path range"),g=(C,A)=>{const L=A.get(C);return oe(L)&&jt(L).exists(W=>Yn(W,"block"))};return RB(t,d).each(C=>{a.type==="block-format"?g(a.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,C,a),t.formatter.apply(a.format)}):a.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,C,a),t.execCommand(a.cmd,!1,a.value)})}),!0},Yte=e=>yo(e,(t,n)=>n.start.length-t.start.length),JU=e=>(t,n)=>{const s=Yte(t),a=n.replace(di," ");return Bt(s,d=>e(d,n,a))},QU=(e,t)=>(n,s,a,d,g)=>{var C;g===void 0&&(g=(C=s.textContent)!==null&&C!==void 0?C:"");const A=n.dom,L=La(n);return A.is(s,L)?e(a.blockPatterns,g).map(W=>t&&Wt.trim(g).length===W.start.length?[]:[{pattern:W,range:sH(A,A.getRoot(),s,0,s,0,d)}]).getOr([]):[]},Xte=e=>/^\s[^\s]/.test(e),Jte=XU((e,t,n)=>{YU(e,t,n).each(s=>{const a=Oe.fromDom(s),d=hm(a);Xte(d)&&ub(a,d.slice(1))})}),Qte=JU((e,t,n)=>t.indexOf(e.start)===0||n.indexOf(e.start)===0),ene=QU(Qte,!0),tne=(e,t)=>{const n=e.selection.getRng();return RB(e,n).map(s=>{var a;const d=Math.max(0,n.startOffset),g=iH(t,s,(a=s.textContent)!==null&&a!==void 0?a:""),C=qU(e,s,n.startContainer,d,g,!0),A=ene(e,s,g,!0);return{inlineMatches:C,blockMatches:A}}).filter(({inlineMatches:s,blockMatches:a})=>a.length>0||s.length>0)},nne=(e,t)=>{if(t.length===0)return;const n=e.selection.getBookmark();_e(t,s=>Jte(e,s)),e.selection.moveToBookmark(n)},one=XU(YU),rne=JU((e,t,n)=>t===e.start||n===e.start),sne=QU(rne,!1),ine=(e,t)=>{const n=e.selection.getRng();return RB(e,n).map(s=>{const a=Math.max(0,n.startOffset),d=aH(e.dom,s,n.startContainer,a),g=iH(t,s,d);return sne(e,s,g,!1,d)}).filter(s=>s.length>0)},ane=(e,t)=>{_e(t,n=>one(e,n))},lne=(e,t)=>tne(e,t).fold(Sn,({inlineMatches:n,blockMatches:s})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{ak(e),GU(e,n),nne(e,s);const a=e.selection.getRng(),d=Tz(a.startContainer,a.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),d.each(g=>{const C=g.container;C.data.charAt(g.offset-1)===fs&&(C.deleteData(g.offset-1,1),xS(e.dom,C.parentNode,A=>A===e.dom.getRoot()))})}),!0)),cne=(e,t)=>{const n=e.selection.getRng();RB(e,n).map(s=>{const a=Math.max(0,n.startOffset-1),d=aH(e.dom,s,n.startContainer,a),g=iH(t,s,d),C=qU(e,s,n.startContainer,a,g,!1);C.length>0&&e.undoManager.transact(()=>{GU(e,C)})})},une=(e,t)=>ine(e,t).fold(Sn,n=>(e.undoManager.transact(()=>{ane(e,n)}),!0)),eZ=(e,t,n)=>{for(let s=0;s<e.length;s++)if(n(e[s],t))return!0;return!1},dne=(e,t)=>eZ(e,t,(n,s)=>n===s.keyCode&&!ln.modifierPressed(s)),fne=(e,t)=>eZ(e,t,(n,s)=>n.charCodeAt(0)===s.charCode),mne=e=>{const t=[",",".",";",":","!","?"],n=[32],s=()=>Nh(R8(e).filter(g=>g.type==="inline-command"||g.type==="block-command"?e.queryCommandSupported(g.cmd):!0),Qx(e)),a=()=>kk(e);e.on("keydown",g=>{if(g.keyCode===13&&!ln.modifierPressed(g)&&e.selection.isCollapsed()){const C=mf(s(),"enter");(C.inlinePatterns.length>0||C.blockPatterns.length>0||a())&&lne(e,C)&&g.preventDefault()}},!0),e.on("keydown",g=>{if(g.keyCode===32&&e.selection.isCollapsed()){const C=mf(s(),"space");(C.blockPatterns.length>0||a())&&une(e,C)&&g.preventDefault()}},!0);const d=()=>{if(e.selection.isCollapsed()){const g=mf(s(),"space");(g.inlinePatterns.length>0||a())&&cne(e,g)}};e.on("keyup",g=>{dne(n,g)&&d()}),e.on("keypress",g=>{fne(t,g)&&pc.setEditorTimeout(e,d)})},gne=e=>{mne(e)},hne=e=>{const t=Wt.each,n=ln.BACKSPACE,s=ln.DELETE,a=e.dom,d=e.selection,g=e.parser,C=So.browser,A=C.isFirefox(),L=C.isChromium()||C.isSafari(),W=So.deviceType.isiPhone()||So.deviceType.isiPad(),q=So.os.isMacOS()||So.os.isiOS(),Y=(rn,zn)=>{try{e.getDoc().execCommand(rn,!1,String(zn))}catch{}},ce=rn=>rn.isDefaultPrevented(),he=()=>{const rn=Eo=>{const un=a.create("body"),Co=Eo.cloneContents();return un.appendChild(Co),d.serializer.serialize(un,{format:"html"})},zn=Eo=>{const un=rn(Eo),Co=a.createRng();Co.selectNode(e.getBody());const Do=rn(Co);return un===Do};e.on("keydown",Eo=>{const un=Eo.keyCode;if(!ce(Eo)&&(un===s||un===n)&&e.selection.isEditable()){const Co=e.selection.isCollapsed(),Do=e.getBody();if(Co&&!Nl(e.schema,Do)||!Co&&!zn(e.selection.getRng()))return;Eo.preventDefault(),e.setContent(""),Do.firstChild&&a.isBlock(Do.firstChild)?e.selection.setCursorLocation(Do.firstChild,0):e.selection.setCursorLocation(Do,0),e.nodeChanged()}})},ue=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},we=()=>{e.inline||a.bind(e.getDoc(),"mousedown mouseup",rn=>{let zn;if(rn.target===e.getDoc().documentElement)if(zn=d.getRng(),e.getBody().focus(),rn.type==="mousedown"){if(Cl(zn.startContainer))return;d.placeCaretAt(rn.clientX,rn.clientY)}else d.setRng(zn)})},Pe=()=>{e.on("keydown",rn=>{if(!ce(rn)&&rn.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(d.isCollapsed()&&d.getRng().startOffset===0){const zn=d.getNode(),Eo=zn.previousSibling;if(zn.nodeName==="HR"){a.remove(zn),rn.preventDefault();return}Eo&&Eo.nodeName&&Eo.nodeName.toLowerCase()==="hr"&&(a.remove(Eo),rn.preventDefault())}}})},Ze=()=>{Range.prototype.getClientRects||e.on("mousedown",rn=>{if(!ce(rn)&&rn.target.nodeName==="HTML"){const zn=e.getBody();zn.blur(),pc.setEditorTimeout(e,()=>{zn.focus()})}})},Ve=()=>{const rn=Dv(e);e.on("click",zn=>{const Eo=zn.target;/^(IMG|HR)$/.test(Eo.nodeName)&&a.isEditable(Eo)&&(zn.preventDefault(),e.selection.select(Eo),e.nodeChanged()),Eo.nodeName==="A"&&a.hasClass(Eo,rn)&&Eo.childNodes.length===0&&a.isEditable(Eo.parentNode)&&(zn.preventDefault(),d.select(Eo))})},st=()=>{const rn=()=>{const Eo=a.getAttribs(d.getStart().cloneNode(!1));return()=>{const un=d.getStart();un!==e.getBody()&&(a.setAttrib(un,"style",null),t(Eo,Co=>{un.setAttributeNode(Co.cloneNode(!0))}))}},zn=()=>!d.isCollapsed()&&a.getParent(d.getStart(),a.isBlock)!==a.getParent(d.getEnd(),a.isBlock);e.on("keypress",Eo=>{let un;return!ce(Eo)&&(Eo.keyCode===8||Eo.keyCode===46)&&zn()?(un=rn(),e.getDoc().execCommand("delete",!1),un(),Eo.preventDefault(),!1):!0}),a.bind(e.getDoc(),"cut",Eo=>{if(!ce(Eo)&&zn()){const un=rn();pc.setEditorTimeout(e,()=>{un()})}})},Rt=()=>{e.on("keydown",rn=>{if(!ce(rn)&&rn.keyCode===n&&d.isCollapsed()&&d.getRng().startOffset===0){const zn=d.getNode().previousSibling;if(zn&&zn.nodeName&&zn.nodeName.toLowerCase()==="table")return rn.preventDefault(),!1}return!0})},Zt=()=>{e.on("keydown",rn=>{if(ce(rn)||rn.keyCode!==ln.BACKSPACE)return;let zn=d.getRng();const Eo=zn.startContainer,un=zn.startOffset,Co=a.getRoot();let Do=Eo;if(!(!zn.collapsed||un!==0)){for(;Do.parentNode&&Do.parentNode.firstChild===Do&&Do.parentNode!==Co;)Do=Do.parentNode;Do.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Do),zn=a.createRng(),zn.setStart(Eo,0),zn.setEnd(Eo,0),d.setRng(zn))}})},dn=()=>{const rn=()=>{Y("StyleWithCSS",!1),Y("enableInlineTableEditing",!1),aO(e)||Y("enableObjectResizing",!1)};hO(e)||e.on("BeforeExecCommand mousedown",rn)},vt=()=>{const rn=()=>{t(a.select("a:not([data-mce-block])"),zn=>{var Eo;let un=zn.parentNode;const Co=a.getRoot();if((un==null?void 0:un.lastChild)===zn){for(;un&&!a.isBlock(un);){if(((Eo=un.parentNode)===null||Eo===void 0?void 0:Eo.lastChild)!==un||un===Co)return;un=un.parentNode}a.add(un,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",zn=>{(zn.type==="setcontent"||zn.command==="mceInsertLink")&&rn()})},ut=()=>{e.on("init",()=>{Y("DefaultParagraphSeparator",La(e))})},Ot=rn=>{const zn=rn.getBody(),Eo=rn.selection.getRng();return Eo.startContainer===Eo.endContainer&&Eo.startContainer===zn&&Eo.startOffset===0&&Eo.endOffset===zn.childNodes.length},pn=()=>{e.on("keyup focusin mouseup",rn=>{!ln.modifierPressed(rn)&&!Ot(e)&&d.normalize()},!0)},On=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},wo=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},Oo=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",rn=>{let zn;rn.target.nodeName==="HTML"&&(zn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(zn),e.selection.normalize(),e.nodeChanged())}))},cr=()=>{q&&e.on("keydown",rn=>{ln.metaKeyPressed(rn)&&!rn.shiftKey&&(rn.keyCode===37||rn.keyCode===39)&&(rn.preventDefault(),e.selection.getSel().modify("move",rn.keyCode===37?"backward":"forward","lineboundary"))})},wr=()=>{e.on("click",rn=>{let zn=rn.target;do if(zn.tagName==="A"){rn.preventDefault();return}while(zn=zn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},js=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",rn=>{rn.preventDefault()})})},il=()=>{g.addNodeFilter("br",rn=>{let zn=rn.length;for(;zn--;)rn[zn].attr("class")==="Apple-interchange-newline"&&rn[zn].remove()})},Dr=sn,Qt=()=>{if(!A||e.removed)return!1;const rn=e.selection.getSel();return!rn||!rn.rangeCount||rn.rangeCount===0},An=()=>{L&&(we(),Ve(),js(),ue(),W&&(wo(),Oo(),wr())),A&&(Ze(),dn(),On(),cr())},Jo=()=>{Zt(),he(),So.windowsPhone||pn(),L&&(we(),Ve(),ut(),js(),Rt(),il(),W?(wo(),Oo(),wr()):ue()),A&&(Pe(),Ze(),st(),dn(),vt(),On(),cr(),Rt())};return Hm(e)?An():Jo(),{refreshContentEditable:Dr,isHidden:Qt}},pne=e=>e.toLowerCase()==="gpl",bne=e=>e.length>=64&&e.length<=255,vne=e=>pne(e)||bne(e)?"VALID":"INVALID",xne=e=>{const t=EO(e);!Fe(TO(e))&&(Ye(t)||vne(t)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},cH=Tr.DOM,yne=(e,t)=>{const n=Oe.fromDom(e.getBody()),s=Jf(Oc(n)),a=Oe.fromTag("style");ei(a,"type","text/css"),As(a,Oe.fromText(t)),As(s,a),e.on("remove",()=>{lr(a)})},wne=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,uH=e=>ql(e,t=>Ye(t)===!1),tZ=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return uH({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:wne(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:Yw(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},nZ=e=>{const t=e.options.get;return uH({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},Cne=e=>{const t=e.options.get;return{...tZ(e),...nZ(e),...uH({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},_ne=e=>{const t=s0(tZ(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(n,s)=>{const a=e.dom,d="data-mce-"+s;let g=n.length;for(;g--;){const C=n[g];let A=C.attr(s);if(A&&!C.attr(d)){if(A.indexOf("data:")===0||A.indexOf("blob:")===0)continue;s==="style"?(A=a.serializeStyle(a.parseStyle(A),C.name),A.length||(A=null),C.attr(d,A),C.attr(s,A)):s==="tabindex"?(C.attr(d,A),C.attr(s,null)):C.attr(d,e.convertURL(A,s,C.name))}}}),t.addNodeFilter("script",n=>{let s=n.length;for(;s--;){const a=n[s],d=a.attr("type")||"no/type";d.indexOf("mce-")!==0&&a.attr("type","mce-"+d)}}),I8(e)&&t.addNodeFilter("#cdata",n=>{var s;let a=n.length;for(;a--;){const d=n[a];d.type=8,d.name="#comment",d.value="[CDATA["+e.dom.encode((s=d.value)!==null&&s!==void 0?s:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",n=>{let s=n.length;const a=e.schema.getNonEmptyElements();for(;s--;){const d=n[s];d.isEmpty(a)&&d.getAll("br").length===0&&d.append(new la("br",1))}}),t},Sne=e=>{const t=A8(e);t&&pc.setEditorTimeout(e,()=>{let n;t===!0?n=e:n=e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())},100)},kne=e=>{const t=e.dom.getRoot();!e.inline&&(!Mv(e)||e.selection.getStart(!0)===t)&&$n(t).each(n=>{const s=n.getNode(),a=Bc(s)?$n(s).getOr(n):n;e.selection.setRng(a.toRange())})},Ane=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Hs(e),e.focus(!0),kne(e),e.nodeChanged({initial:!0});const t=S8(e);Ne(t)&&t.call(e,e),Sne(e)},dH=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,Ene=(e,t,n)=>{const{pass:s,fail:a}=en(t,C=>tinymce.Resource.has(m4(C))),g=[...s.map(C=>{const A=tinymce.Resource.get(m4(C));return Fe(A)?Promise.resolve(dH(e).loadRawCss(C,A)):Promise.resolve()}),dH(e).loadAll(a)];return e.inline?g:g.concat([e.ui.styleSheetLoader.loadAll(n)])},oZ=e=>{const t=dH(e),n=iO(e),s=e.contentCSS,a=()=>{t.unloadAll(s),e.inline||e.ui.styleSheetLoader.unloadAll(n)},d=()=>{e.removed?a():e.on("remove",a)};if(e.contentStyles.length>0){let A="";Wt.each(e.contentStyles,L=>{A+=L+`\r
`}),e.dom.addStyle(A)}const g=Promise.all(Ene(e,s,n)).then(d).catch(d),C=Ev(e);return C&&yne(e,C),g},Tne=e=>{const t=e.getDoc(),n=e.getBody();tP(e),E8(e)||(t.body.spellcheck=!1,cH.setAttrib(n,"spellcheck","false")),e.quirks=hne(e),nP(e);const s=b8(e);s!==void 0&&(n.dir=s);const a=Zo(e);a&&e.on("BeforeSetContent",d=>{Wt.each(a,g=>{d.content=d.content.replace(g,C=>"<!--mce:protected "+escape(C)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",d=>{e.composing=d.type==="compositionstart"})},One=e=>{Hm(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},fH=e=>{e.removed!==!0&&(One(e),Ane(e))},Dne=e=>{let t=!1;const n=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(n),t=!0,e.setProgressState(!1)}},rZ=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(cH.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const s=e.getBody();s.disabled=!0,e.readonly=hO(e),e._editableRoot=or(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&cH.getStyle(s,"position",!0)==="static"&&(s.style.position="relative"),s.contentEditable="true"),s.disabled=!1,e.editorUpload=h4(e),e.schema=ac(nZ(e)),e.dom=Tr(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:rO(e),referrerPolicy:Gx(e),onSetAttrib:g=>{e.dispatch("SetAttrib",g)}}),e.parser=_ne(e),e.serializer=r6(Cne(e),e),e.selection=e4(e.dom,e.getWin(),e.serializer,e),e.annotator=x5(e),e.formatter=C2(e),e.undoManager=L6(e),e._nodeChangeDispatcher=new SQ(e),e._selectionOverrides=zte(e),go(e),Zee(e),I2(e),Hm(e)||(Xee(e),gne(e));const a=_Q(e);Dn(e,a),bi(e),U6(e),Vee(e);const d=HN(e);Tne(e),xne(e),d.fold(()=>{const g=Dne(e);oZ(e).then(()=>{fH(e),g()})},g=>{e.setProgressState(!0),oZ(e).then(()=>{g().then(C=>{e.setProgressState(!1),fH(e),KN(e)},C=>{e.notificationManager.open({type:"error",text:String(C)}),fH(e),KN(e)})})})},Rne=Mn,Nne=(e,t,n)=>R(e,t,Rne,n),mH=Tr.DOM,Ine=(e,t,n,s)=>{const a=Oe.fromTag("iframe");return s.each(d=>ei(a,"tabindex",d)),ma(a,n),ma(a,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Gu(a,"tox-edit-area__iframe"),a},Bne=e=>{let t=ud(e)+"<html><head>";$c(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=jw(e),s=fk(e),a=e.translate(Xx(e));return JT(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+JT(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${s}" data-id="${e.id}" aria-label="${a}"><br></body></html>`,t},Mne=(e,t)=>{const n=So.browser.isFirefox()?Xx(e):"Rich Text Area",s=e.translate(n),a=kc(Oe.fromDom(e.getElement()),"tabindex").bind(an),d=Ine(e.id,s,nl(e),a).dom;d.onload=()=>{d.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=d,e.iframeHTML=Bne(e),mH.add(t.iframeContainer,d)},Pne=e=>{const t=e.iframeElement,n=()=>{e.contentDocument=t.contentDocument,rZ(e)};if(CO(e)||So.browser.isFirefox()){const s=e.getDoc();s.open(),s.write(e.iframeHTML),s.close(),n()}else{const s=Nne(Oe.fromDom(t),"load",()=>{s.unbind(),n()});t.srcdoc=e.iframeHTML}},Lne=(e,t)=>{Mne(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=mH.isHidden(t.editorContainer)),e.getElement().style.display="none",mH.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,Pne(e)},sZ=Tr.DOM,Fne=(e,t,n)=>{const s=l1.get(n),a=l1.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=Wt.trim(n),s&&Wt.inArray(t,n)===-1){if(e.plugins[n])return;try{const d=s(e,a)||{};e.plugins[n]=d,Ne(d.init)&&(d.init(e,a),t.push(n))}catch(d){gF(e,n,d)}}},zne=e=>e.replace(/^\-/,""),Hne=e=>{const t=[];_e(dd(e),n=>{Fne(e,t,zne(n))})},Vne=e=>{const t=Wt.trim(bk(e)),n=e.ui.registry.getAll().icons,s={...b2.get("default").icons,...b2.get(t).icons};$o(s,(a,d)=>{Yn(n,d)||e.ui.registry.addIcon(d,a)})},$ne=e=>{const t=Tv(e);if(Fe(t)){const n=cp.get(t);e.theme=n(e,cp.urls[t])||{},Ne(e.theme.init)&&e.theme.init(e,cp.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},Une=e=>{const t=Yx(e),n=lp.get(t);e.model=n(e,lp.urls[t])},Zne=e=>{const t=e.theme.renderUI;return t?t():aZ(e)},Wne=e=>{const t=e.getElement(),s=Tv(e)(e,t);return s.editorContainer.nodeType&&(s.editorContainer.id=s.editorContainer.id||e.id+"_parent"),s.iframeContainer&&s.iframeContainer.nodeType&&(s.iframeContainer.id=s.iframeContainer.id||e.id+"_iframecontainer"),s.height=s.iframeHeight?s.iframeHeight:t.offsetHeight,s},iZ=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),jne=e=>{const t=sZ.create("div");return sZ.insertAfter(t,e),iZ(t,t)},aZ=e=>{const t=e.getElement();return e.inline?iZ(null):jne(t)},Kne=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,Fe(Tv(e))?Zne(e):Ne(Tv(e))?Wne(e):aZ(e)},qne=(e,t)=>{const n={show:X.from(t.show).getOr(sn),hide:X.from(t.hide).getOr(sn),isEnabled:X.from(t.isEnabled).getOr(Mn),setEnabled:s=>{e.mode.isReadOnly()||X.from(t.setEnabled).each(a=>a(s))}};e.ui={...e.ui,...n}},Gne=async e=>{e.dispatch("ScriptsLoaded"),Vne(e),$ne(e),Une(e),Hne(e);const t=await Kne(e);qne(e,X.from(t.api).getOr({})),e.editorContainer=t.editorContainer,S6(e),e.inline?rZ(e):Lne(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},F2=Tr.DOM,lZ=e=>e.charAt(0)==="-",Yne=(e,t)=>{const n=yk(t),s=p8(t);if(!lc.hasCode(n)&&n!=="en"){const a=$e(s)?s:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(a).catch(()=>{fF(t,a,n)})}},Xne=(e,t)=>{const n=Tv(e);if(Fe(n)&&!lZ(n)&&!Yn(cp.urls,n)){const s=x8(e),a=s?e.documentBaseURI.toAbsolute(s):`themes/${n}/theme${t}.js`;cp.load(n,a).catch(()=>{C6(e,a,n)})}},Jne=(e,t)=>{const n=Yx(e);if(n!=="plugin"&&!Yn(lp.urls,n)){const s=Ck(e),a=Fe(s)?e.documentBaseURI.toAbsolute(s):`models/${n}/model${t}.js`;lp.load(n,a).catch(()=>{mF(e,a,n)})}},Qne=e=>X.from(nO(e)).filter($e).map(t=>({url:t,name:X.none()})),cZ=(e,t,n)=>X.from(t).filter(s=>$e(s)&&!b2.has(s)).map(s=>({url:`${e.editorManager.baseURL}/icons/${s}/icons${n}.js`,name:X.some(s)})),eoe=(e,t,n)=>{const s=cZ(t,"default",n),a=Qne(t).orThunk(()=>cZ(t,bk(t),""));_e(M1([s,a]),d=>{e.add(d.url).catch(()=>{d4(t,d.url,d.name.getOrUndefined())})})},toe=(e,t)=>{const n=(s,a)=>{l1.load(s,a).catch(()=>{u4(e,a,s)})};$o(Cm(e),(s,a)=>{n(a,s),e.options.set("plugins",dd(e).concat(a))}),_e(dd(e),s=>{s=Wt.trim(s),s&&!l1.urls[s]&&!lZ(s)&&n(s,`plugins/${s}/plugin${t}.js`)})},noe=e=>{const t=Tv(e);return!Fe(t)||Se(cp.get(t))},ooe=e=>{const t=Yx(e);return Se(lp.get(t))},roe=(e,t)=>{const n=Qa.ScriptLoader,s=()=>{!e.removed&&noe(e)&&ooe(e)&&Gne(e)};Xne(e,t),Jne(e,t),Yne(n,e),eoe(n,e,t),toe(e,t),n.loadQueue().then(s,s)},soe=(e,t)=>K1.forElement(e,{contentCssCors:pO(t),referrerPolicy:Gx(t)}),ioe=e=>{const t=e.id;lc.setCode(yk(e));const n=()=>{F2.unbind(window,"ready",n),e.render()};if(!ef.Event.domLoaded){F2.bind(window,"ready",n);return}if(!e.getElement())return;const s=Oe.fromDom(e.getElement()),a=Ya(s);e.on("remove",()=>{It(s.dom.attributes,g=>bo(s,g.name)),ma(s,a)}),e.ui.styleSheetLoader=soe(s,e),Tb(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const d=e.getElement().form||F2.getParent(t,"form");d&&(e.formElement=d,_k(e)&&!hh(e.getElement())&&(F2.insertAfter(F2.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=g=>{e.dispatch(g.type,g)},F2.bind(d,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),dO(e)&&!d.submit.nodeType&&!d.submit.length&&!d._mceOldSubmit&&(d._mceOldSubmit=d.submit,d.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),d._mceOldSubmit(d)))),e.windowManager=y6(e),e.notificationManager=c4(e),_O(e)&&e.on("GetContent",g=>{g.save&&(g.content=F2.encode(g.content))}),fO(e)&&e.on("submit",()=>{e.initialized&&e.save()}),mO(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),roe(e,e.suffix)},aoe=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),sP(e,t))},loe=e=>e._editableRoot,coe=(e,t)=>({sections:rt(e),options:rt(t)}),uZ=Mi().deviceType,dZ=uZ.isPhone(),uoe=uZ.isTablet(),gT=e=>{if(gt(e))return[];{const t=oe(e)?e:e.split(/[ ,]/),n=tt(t,Ee);return _t(n,$e)}},doe=(e,t)=>{const n=tu(t,(s,a)=>ve(e,a));return coe(n.t,n.f)},foe=(e,t,n={})=>{const s=e.sections(),a=ar(s,t).getOr({});return Wt.extend({},n,a)},gH=(e,t)=>Yn(e.sections(),t),moe=(e,t)=>gH(e,t)?e.sections()[t]:{},goe=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:ar(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),hoe=(e,t)=>{var n;const s=(n=t.external_plugins)!==null&&n!==void 0?n:{};return e&&e.external_plugins?Wt.extend({},e.external_plugins,s):s},poe=(e,t)=>[...gT(e),...gT(t)],boe=(e,t,n,s)=>e&&gH(t,"mobile")?s:n,voe=(e,t,n,s)=>{const a=gT(n.forced_plugins),d=gT(s.plugins),g=moe(t,"mobile"),C=g.plugins?gT(g.plugins):d,A=boe(e,t,d,C),L=poe(a,A);return Wt.extend(s,{forced_plugins:a,plugins:L})},xoe=(e,t)=>e&&gH(t,"mobile"),yoe=(e,t,n,s,a)=>{var d;const g=e?{mobile:goe((d=a.mobile)!==null&&d!==void 0?d:{},t)}:{},C=doe(["mobile"],dB(g,a)),A=Wt.extend(n,s,C.options(),xoe(e,C)?foe(C,"mobile"):{},{external_plugins:hoe(s,C.options())});return voe(e,C,s,A)},woe=(e,t)=>{const n=i$(t);return yoe(dZ||uoe,dZ,n,e,n)},Coe=(e,t)=>jN(e,t),_oe=e=>{const t=(s,a)=>{e.formatter.toggle(s,a),e.nodeChanged()},n=s=>()=>{_e("left,center,right,justify".split(","),a=>{s!==a&&e.formatter.remove("align"+a)}),s!=="none"&&t("align"+s)};e.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})},Soe=e=>{const t=n=>()=>{const s=e.selection,a=s.isCollapsed()?[e.dom.getParent(s.getNode(),e.dom.isBlock)]:s.getSelectedBlocks();return De(a,d=>Se(e.formatter.matchNode(d,n)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},koe=e=>{_oe(e),Soe(e)},Aoe=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let s;try{n.execCommand(t)}catch{s=!0}if(t==="paste"&&!n.queryCommandEnabled(t)&&(s=!0),s||!n.queryCommandSupported(t)){let a=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(So.os.isMacOS()||So.os.isiOS())&&(a=a.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:a,type:"error"})}}})},Eoe=(e,t,n,s)=>{const a=Oe.fromDom(e.getRoot());return Gv(a,ft.fromRangeStart(t),s)?n=n.replace(/^ /,"&nbsp;"):n=n.replace(/^&nbsp;/," "),Xb(a,ft.fromRangeEnd(t),s)?n=n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n=n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},Toe=e=>{if(typeof e!="string"){const t=Wt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},Ooe=(e,t)=>{const n=e.selection,s=e.dom;return/^ | $/.test(t)?Eoe(s,n.getRng(),t,e.schema):t},BB=(e,t)=>{if(e.selection.isEditable()){const{content:n,details:s}=Toe(t);T3(e,{...s,content:Ooe(e,n),format:"html",set:!1,selection:!0}).each(a=>{const d=ZL(e,a.content,s);O3(e,d,a),e.addVisual()})}},Doe=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,s)=>{BB(e,e.dom.createHTML("img",{src:s}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,s)=>{BB(e,e.dom.encode(s))},insertHTML:(t,n,s)=>{BB(e,s)},mceInsertContent:(t,n,s)=>{BB(e,s)},mceSetContent:(t,n,s)=>{e.setContent(s)},mceReplaceContent:(t,n,s)=>{e.execCommand("mceInsertContent",!1,s.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(qo(e))}})},Roe={"font-size":"size","font-family":"face"},Noe=zd("font"),Ioe=(e,t,n)=>{const s=d=>vs(d,e).orThunk(()=>Noe(d)?ar(Roe,e).bind(g=>kc(d,g)):X.none()),a=d=>Po(Oe.fromDom(t),d);return Qy(Oe.fromDom(n),d=>s(d),a)},Boe=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),Moe=(e,t)=>X.from(Tr.DOM.getStyle(t,e,!0)),fZ=e=>(t,n)=>X.from(n).map(Oe.fromDom).filter(Ss).bind(s=>Ioe(e,t,s.dom).or(Moe(e,s.dom))).getOr(""),Poe=fZ("font-size"),Loe=vn(Boe,fZ("font-family")),Foe=e=>$n(e.getBody()).bind(t=>{const n=t.container();return X.from(Lt(n)?n.parentNode:n)}),zoe=e=>X.from(e.selection.getRng()).bind(t=>{const n=e.getBody();return t.startContainer===n&&t.startOffset===0?X.none():X.from(e.selection.getStart(!0))}),Hoe=(e,t)=>zoe(e).orThunk(xt(Foe,e)).map(Oe.fromDom).filter(Ss).bind(t),hH=(e,t)=>Hoe(e,Tn(X.some,t)),mZ=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const s=Ak(e),a=Ek(e);return a.length>0?a[n-1]||t:s[n-1]||t}else return t}else return t},Voe=e=>{const t=e.split(/\s*,\s*/);return tt(t,n=>n.indexOf(" ")!==-1&&!(Zr(n,'"')||Zr(n,"'"))?`'${n}'`:n).join(",")},$oe=(e,t)=>{const n=mZ(e,t);e.formatter.toggle("fontname",{value:Voe(n)}),e.nodeChanged()},Uoe=e=>hH(e,t=>Loe(e.getBody(),t.dom)).getOr(""),Zoe=(e,t)=>{e.formatter.toggle("fontsize",{value:mZ(e,t)}),e.nodeChanged()},Woe=e=>hH(e,t=>Poe(e.getBody(),t.dom)).getOr(""),joe=e=>hH(e,t=>{const n=Oe.fromDom(e.getBody()),s=Qy(t,d=>vs(d,"line-height"),xt(Po,n)),a=()=>{const d=parseFloat(ks(t,"line-height")),g=parseFloat(ks(t,"font-size"));return String(d/g)};return s.getOrThunk(a)}).getOr(""),Koe=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},qoe=e=>{const t=(n,s)=>{e.formatter.toggle(n,s),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>{t(n)},"ForeColor,HiliteColor":(n,s,a)=>{t(n,{value:a})},BackColor:(n,s,a)=>{t("hilitecolor",{value:a})},FontName:(n,s,a)=>{$oe(e,a)},FontSize:(n,s,a)=>{Zoe(e,a)},LineHeight:(n,s,a)=>{Koe(e,a)},Lang:(n,s,a)=>{var d;t(n,{value:a.code,customValue:(d=a.customCode)!==null&&d!==void 0?d:null})},RemoveFormat:n=>{e.formatter.remove(n)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(n,s,a)=>{t(Fe(a)?a:"p")},mceToggleFormat:(n,s,a)=>{t(a)}})},Goe=e=>{const t=n=>e.formatter.match(n);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>t(n),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>Uoe(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>Woe(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>joe(e))},Yoe=e=>{qoe(e),Goe(e)},Xoe=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},Joe=e=>{e.editorCommands.addCommands({Indent:()=>{wt(e)},Outdent:()=>{pt(e)}}),e.editorCommands.addCommands({Outdent:()=>de(e)},"state")},Qoe=e=>{const t=(n,s,a)=>{const d=Fe(a)?{href:a}:a,g=e.dom.getParent(e.selection.getNode(),"a");ae(d)&&Fe(d.href)&&(d.href=d.href.replace(/ /g,"%20"),(!g||!d.href)&&e.formatter.remove("link"),d.href&&e.formatter.apply("link",d,g))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const n=e.dom.getParent(e.selection.getStart(),"a");n&&e.dom.remove(n,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},ere=(e,t,n,s)=>{const a=e.dom,d=C=>a.isBlock(C)&&C.parentElement===n,g=d(t)?t:a.getParent(s,d,n);return X.from(g).map(Oe.fromDom)},gZ=(e,t)=>{const n=e.dom,s=e.selection.getRng(),a=t?e.selection.getStart():e.selection.getEnd(),d=t?s.startContainer:s.endContainer,g=cT(n,d);if(!g||!g.isContentEditable)return;const C=t?ds:Xe,A=La(e);ere(e,a,g,d).each(L=>{const W=N$(e,d,L.dom,g,!1,A);C(L,Oe.fromDom(W)),e.selection.setCursorLocation(W,0),e.dispatch("NewBlock",{newBlock:W}),lT(e,"insertParagraph")})},tre=e=>gZ(e,!0),nre=e=>gZ(e,!1),ore=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{tre(e)},InsertNewBlockAfter:()=>{nre(e)}})},rre=e=>{e.editorCommands.addCommands({insertParagraph:()=>{wB(P$,e)},mceInsertNewLine:(t,n,s)=>{U$(e,s)},InsertLineBreak:(t,n,s)=>{wB(z$,e)}})},sre=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,s)=>{let a=0;e.dom.getParent(e.selection.getNode(),d=>yn(d)&&a++===s?(e.selection.select(d),!1):!0,e.getBody())},mceSelectNode:(t,n,s)=>{e.selection.select(s)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),oc);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})},ire=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,s)=>{const a=s??e.selection.getNode();if(a!==e.getBody()){const d=e.selection.getBookmark();e.dom.remove(a,!0),e.selection.moveToBookmark(d)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,s)=>{oD(e,s===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},are=e=>{koe(e),Aoe(e),Xoe(e),sre(e),Doe(e),Qoe(e),Joe(e),ore(e),rre(e),Yoe(e),ire(e)},lre=["toggleview"],hZ=e=>ve(lre,e.toLowerCase());class pZ{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,n=!1,s,a){const d=this.editor,g=t.toLowerCase(),C=a==null?void 0:a.skip_focus;if(d.removed||(g!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(g)&&!C?d.focus():RC(d)),d.dispatch("BeforeExecCommand",{command:t,ui:n,value:s}).isDefaultPrevented()))return!1;const L=this.commands.exec[g];return Ne(L)?(L(g,n,s),d.dispatch("ExecCommand",{command:t,ui:n,value:s}),!0):!1}queryCommandState(t){if(!hZ(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const n=t.toLowerCase(),s=this.commands.state[n];return Ne(s)?s(n):!1}queryCommandValue(t){if(!hZ(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const n=t.toLowerCase(),s=this.commands.value[n];return Ne(s)?s(n):""}addCommands(t,n="exec"){const s=this.commands;$o(t,(a,d)=>{_e(d.toLowerCase().split(","),g=>{s[n][g]=a})})}addCommand(t,n,s){const a=t.toLowerCase();this.commands.exec[a]=(d,g,C)=>n.call(s??this.editor,g,C)}queryCommandSupported(t){const n=t.toLowerCase();return!!this.commands.exec[n]}addQueryStateHandler(t,n,s){this.commands.state[t.toLowerCase()]=()=>n.call(s??this.editor)}addQueryValueHandler(t,n,s){this.commands.value[t.toLowerCase()]=()=>n.call(s??this.editor)}}const z2="data-mce-contenteditable",cre=(e,t,n)=>{Yu(e,t)&&!n?ga(e,t):n&&Gu(e,t)},pH=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch{}},MB=(e,t)=>{e.dom.contentEditable=t?"true":"false"},ure=e=>{_e(Gs(e,'*[contenteditable="true"]'),t=>{ei(t,z2,"true"),MB(t,!1)})},dre=e=>{_e(Gs(e,`*[${z2}="true"]`),t=>{bo(t,z2),MB(t,!0)})},fre=e=>{X.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},mre=e=>{e.selection.setRng(e.selection.getRng())},gre=(e,t)=>{const n=Oe.fromDom(e.getBody());cre(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),fre(e),e.readonly=!0,MB(n,!1),ure(n)):(e.readonly=!1,e.hasEditableRoot()&&MB(n,!0),dre(n),pH(e,"StyleWithCSS",!1),pH(e,"enableInlineTableEditing",!1),pH(e,"enableObjectResizing",!1),Wb(e)&&e.focus(),mre(e),e.nodeChanged())},H2=e=>e.readonly,bZ=e=>{e.parser.addAttributeFilter("contenteditable",t=>{H2(e)&&_e(t,n=>{n.attr(z2,n.attr("contenteditable")),n.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(z2,t=>{H2(e)&&_e(t,n=>{n.attr("contenteditable",n.attr(z2))})}),e.serializer.addTempAttr(z2)},hre=e=>{e.serializer?bZ(e):e.on("PreInit",()=>{bZ(e)})},pre=e=>e.type==="click",bre=["copy"],vre=e=>ve(bre,e.type),xre=(e,t)=>_i(t,"a",s=>Po(s,Oe.fromDom(e.getBody()))).bind(s=>kc(s,"href")),yre=(e,t)=>{if(pre(t)&&!ln.metaKeyPressed(t)){const n=Oe.fromDom(t.target);xre(e,n).each(s=>{if(t.preventDefault(),/^#/.test(s)){const a=e.dom.select(`${s},[name="${_c(s,"#")}"]`);a.length&&e.selection.scrollIntoView(a[0],!0)}else window.open(s,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else vre(t)&&e.dispatch(t.type,t)},wre=e=>{e.on("ShowCaret",t=>{H2(e)&&t.preventDefault()}),e.on("ObjectSelected",t=>{H2(e)&&t.preventDefault()})},Cre=Wt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class bH{static isNative(t){return!!Cre[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Sn}fire(t,n){return this.dispatch(t,n)}dispatch(t,n){const s=t.toLowerCase(),a=nv(s,n??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(a);const d=this.bindings[s];if(d)for(let g=0,C=d.length;g<C;g++){const A=d[g];if(!A.removed){if(A.once&&this.off(s,A.func),a.isImmediatePropagationStopped())return a;if(A.func.call(this.scope,a)===!1)return a.preventDefault(),a}}return a}on(t,n,s,a){if(n===!1&&(n=Sn),n){const d={func:n,removed:!1};a&&Wt.extend(d,a);const g=t.toLowerCase().split(" ");let C=g.length;for(;C--;){const A=g[C];let L=this.bindings[A];L||(L=[],this.toggleEvent(A,!0)),s?L=[d,...L]:L=[...L,d],this.bindings[A]=L}}return this}off(t,n){if(t){const s=t.toLowerCase().split(" ");let a=s.length;for(;a--;){const d=s[a];let g=this.bindings[d];if(!d)return $o(this.bindings,(C,A)=>{this.toggleEvent(A,!1),delete this.bindings[A]}),this;if(g){if(!n)g.length=0;else{const C=en(g,A=>A.func===n);g=C.fail,this.bindings[d]=g,_e(C.pass,A=>{A.removed=!0})}g.length||(this.toggleEvent(t,!1),delete this.bindings[d])}}}else $o(this.bindings,(s,a)=>{this.toggleEvent(a,!1)}),this.bindings={};return this}once(t,n,s){return this.on(t,n,s,{once:!0})}has(t){t=t.toLowerCase();const n=this.bindings[t];return!(!n||n.length===0)}}const hT=e=>(e._eventDispatcher||(e._eventDispatcher=new bH({scope:e,toggleEvent:(t,n)=>{bH.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),vH={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const s=this;if(s.removed&&e!=="remove"&&e!=="detach")return nv(e.toLowerCase(),t??{},s);const a=hT(s).dispatch(e,t);if(n!==!1&&s.parent){let d=s.parent();for(;d&&!a.isPropagationStopped();)d.dispatch(e,a,!1),d=d.parent?d.parent():void 0}return a},on(e,t,n){return hT(this).on(e,t,n)},off(e,t){return hT(this).off(e,t)},once(e,t){return hT(this).once(e,t)},hasEventListeners(e){return hT(this).has(e)}},PB=Tr.DOM;let V2;const LB=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const n=cO(e);return n?(e.eventRoot||(e.eventRoot=PB.select(n)[0]),e.eventRoot):e.getBody()},_re=e=>!e.hidden&&!H2(e),vZ=(e,t,n)=>{_re(e)?e.dispatch(t,n):H2(e)&&yre(e,n)},xZ=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=LB(e,t);if(cO(e)){if(V2||(V2={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||V2&&($o(V2,(a,d)=>{e.dom.unbind(LB(e,d))}),V2=null)})),V2[t])return;const s=a=>{const d=a.target,g=e.editorManager.get();let C=g.length;for(;C--;){const A=g[C].getBody();(A===d||PB.isChildOf(d,A))&&vZ(g[C],t,a)}};V2[t]=s,PB.bind(n,t,s)}else{const s=a=>{vZ(e,t,a)};PB.bind(n,t,s),e.delegates[t]=s}},yZ={...vH,bindPendingEventDelegates(){const e=this;Wt.each(e._pendingNativeEvents,t=>{xZ(e,t)})},toggleNativeEvent(e,t){const n=this;e==="focus"||e==="blur"||n.removed||(t?n.initialized?xZ(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(LB(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&($o(e.delegates,(s,a)=>{e.dom.unbind(LB(e,a),a,s)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},Sre=e=>Fe(e)?{value:e.split(/[ ,]/),valid:!0}:Nt(e,Fe)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},kre=e=>{const t=(()=>{switch(e){case"array":return oe;case"boolean":return He;case"function":return Ne;case"number":return D;case"object":return ae;case"string":return Fe;case"string[]":return Sre;case"object[]":return n=>Nt(n,ae);case"regexp":return n=>We(n,RegExp);default:return Mn}})();return n=>xH(n,t,`The value must be a ${e}.`)},Are=e=>Fe(e.processor),wZ=(e,t)=>{const n=Ft(t.message)?"":`. ${t.message}`;return e+n},CZ=e=>e.valid,xH=(e,t,n="")=>{const s=t(e);return He(s)?s?{value:e,valid:!0}:{valid:!1,message:n}:s},Ere=(e,t,n)=>{if(!Ye(t)){const s=xH(t,n);if(CZ(s))return s.value;console.error(wZ(`Invalid default value passed for the "${e}" option`,s))}},Tre=(e,t,n=t)=>{const s={},a={},d=(ce,he,ue)=>{const we=xH(he,ue);return CZ(we)?(a[ce]=we.value,!0):(console.warn(wZ(`Invalid value passed for the ${ce} option`,we)),!1)},g=(ce,he)=>{const ue=Are(he)?kre(he.processor):he.processor,we=Ere(ce,he.default,ue);s[ce]={...he,default:we,processor:ue},ar(a,ce).orThunk(()=>ar(t,ce)).each(Ze=>d(ce,Ze,ue))},C=ce=>Yn(s,ce);return{register:g,isRegistered:C,get:ce=>ar(a,ce).orThunk(()=>ar(s,ce).map(he=>he.default)).getOrUndefined(),set:(ce,he)=>{if(C(ce)){const ue=s[ce];return ue.immutable?(console.error(`"${ce}" is an immutable option and cannot be updated`),!1):d(ce,he,ue.processor)}else return console.warn(`"${ce}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:ce=>{const he=C(ce);return he&&delete a[ce],he},isSet:ce=>Yn(a,ce),debug:()=>{try{console.log(JSON.parse(JSON.stringify(n,(ce,he)=>He(he)||D(he)||Fe(he)||Je(he)||oe(he)||Ie(he)?he:Object.prototype.toString.call(he))))}catch(ce){console.error(ce)}}}},Ore=["design","readonly"],_Z=(e,t,n,s)=>{const a=n[t.get()],d=n[s];try{d.activate()}catch(g){console.error(`problem while activating editor mode ${s}:`,g);return}a.deactivate(),a.editorReadOnly!==d.editorReadOnly&&gre(e,d.editorReadOnly),t.set(s),y5(e,s)},Dre=(e,t,n,s)=>{if(s!==n.get()){if(!Yn(t,s))throw new Error(`Editor mode '${s}' is invalid`);e.initialized?_Z(e,n,t,s):e.on("init",()=>_Z(e,n,t,s))}},Rre=(e,t,n)=>{if(ve(Ore,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(s){console.error(`problem while deactivating editor mode ${t}:`,s)}}}}},Nre=e=>{const t=fi("design"),n=fi({design:{activate:sn,deactivate:sn,editorReadOnly:!1},readonly:{activate:sn,deactivate:sn,editorReadOnly:!0}});return hre(e),wre(e),{isReadOnly:()=>H2(e),set:s=>Dre(e,n.get(),t,s),get:()=>t.get(),register:(s,a)=>{n.set(Rre(n.get(),s,a))}}},yH=Wt.each,wH=Wt.explode,Ire={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},SZ=Wt.makeMap("alt,ctrl,shift,meta,access"),Bre=e=>e in SZ,Mre=e=>{const t={},n=So.os.isMacOS()||So.os.isiOS();yH(wH(e.toLowerCase(),"+"),d=>{Bre(d)?t[d]=!0:/^[0-9]{2,}$/.test(d)?t.keyCode=parseInt(d,10):(t.charCode=d.charCodeAt(0),t.keyCode=Ire[d]||d.toUpperCase().charCodeAt(0))});const s=[t.keyCode];let a;for(a in SZ)t[a]?s.push(a):t[a]=!1;return t.id=s.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class kZ{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const n=this;t.on("keyup keypress keydown",s=>{(n.hasModifier(s)||n.isFunctionKey(s))&&!s.isDefaultPrevented()&&(yH(n.shortcuts,a=>{n.matchShortcut(s,a)&&(n.pendingPatterns=a.subpatterns.slice(0),s.type==="keydown"&&n.executeShortcutAction(a))}),n.matchShortcut(s,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&s.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}add(t,n,s,a){const d=this,g=d.normalizeCommandFunc(s);return yH(wH(Wt.trim(t)),C=>{const A=d.createShortcut(C,n,g,a);d.shortcuts[A.id]=A}),!0}remove(t){const n=this.createShortcut(t);return this.shortcuts[n.id]?(delete this.shortcuts[n.id],!0):!1}normalizeCommandFunc(t){const n=this,s=t;return typeof s=="string"?()=>{n.editor.execCommand(s,!1,null)}:Wt.isArray(s)?()=>{n.editor.execCommand(s[0],s[1],s[2])}:s}createShortcut(t,n,s,a){const d=Wt.map(wH(t,">"),Mre);return d[d.length-1]=Wt.extend(d[d.length-1],{func:s,scope:a||this.editor}),Wt.extend(d[0],{desc:this.editor.translate(n),subpatterns:d.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,n){return!n||n.ctrl!==t.ctrlKey||n.meta!==t.metaKey||n.alt!==t.altKey||n.shift!==t.shiftKey?!1:t.keyCode===n.keyCode||t.charCode&&t.charCode===n.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const Pre=()=>{const e={},t={},n={},s={},a={},d={},g={},C={},A=(W,q)=>(Y,ce)=>{W[Y.toLowerCase()]={...ce,type:q}},L=(W,q)=>s[W.toLowerCase()]=q;return{addButton:A(e,"button"),addGroupToolbarButton:A(e,"grouptoolbarbutton"),addToggleButton:A(e,"togglebutton"),addMenuButton:A(e,"menubutton"),addSplitButton:A(e,"splitbutton"),addMenuItem:A(t,"menuitem"),addNestedMenuItem:A(t,"nestedmenuitem"),addToggleMenuItem:A(t,"togglemenuitem"),addAutocompleter:A(n,"autocompleter"),addContextMenu:A(a,"contextmenu"),addContextToolbar:A(d,"contexttoolbar"),addContextForm:A(d,"contextform"),addSidebar:A(g,"sidebar"),addView:A(C,"views"),addIcon:L,getAll:()=>({buttons:e,menuItems:t,icons:s,popups:n,contextMenus:a,contextToolbars:d,sidebars:g,views:C})}},Lre=()=>{const e=Pre();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},$2=Tr.DOM,AZ=Wt.extend,Fre=Wt.each;class FB{constructor(t,n,s){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=s,this.documentBaseUrl=s.documentBaseURL,AZ(this,yZ);const a=this;this.id=t,this.hidden=!1;const d=woe(s.defaultOptions,n);this.options=Tre(a,d,n),Ww(a);const g=this.options.get;g("deprecation_warnings")&&sF(n,d);const C=g("suffix");C&&(s.suffix=C),this.suffix=s.suffix;const A=g("base_url");A&&s._setBaseUrl(A),this.baseUri=s.baseURI;const L=Gx(a);L&&(Qa.ScriptLoader._setReferrerPolicy(L),Tr.DOM.styleSheetLoader._setReferrerPolicy(L));const W=pO(a);Se(W)&&Tr.DOM.styleSheetLoader._setContentCssCors(W),Ma.languageLoad=g("language_load"),Ma.baseURL=s.baseURL,this.setDirty(!1),this.documentBaseURI=new Iu($c(a),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Tb(a),this.hasVisual=fc(a),this.shortcuts=new kZ(this),this.editorCommands=new pZ(this),are(this);const q=g("cache_suffix");q&&(So.cacheSuffix=q.replace(/^[\?\&]+/,"")),this.ui={registry:Lre(),styleSheetLoader:void 0,show:sn,hide:sn,setEnabled:sn,isEnabled:Mn},this.mode=Nre(a),s.dispatch("SetupEditor",{editor:this});const Y=Rv(a);Ne(Y)&&Y.call(a,a)}render(){ioe(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return $v(this)}translate(t){return lc.translate(t)}getParam(t,n,s){const a=this.options;return a.isRegistered(t)||(Se(s)?a.register(t,{processor:s,default:n}):a.register(t,{processor:Mn,default:n})),!a.isSet(t)&&!Ye(n)?n:a.get(t)}hasPlugin(t,n){return ve(dd(this),t)?n?l1.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,n,s){this.editorCommands.addCommand(t,n,s)}addQueryStateHandler(t,n,s){this.editorCommands.addQueryStateHandler(t,n,s)}addQueryValueHandler(t,n,s){this.editorCommands.addQueryValueHandler(t,n,s)}addShortcut(t,n,s,a){this.shortcuts.add(t,n,s,a)}execCommand(t,n,s,a){return this.editorCommands.execCommand(t,n,s,a)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":($2.show(t.getContainer()),$2.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):($2.hide(t.getContainer()),$2.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,n){this.dispatch("ProgressState",{state:t,time:n})}load(t={}){const n=this,s=n.getElement();if(n.removed)return"";if(s){const a={...t,load:!0},d=hh(s)?s.value:s.innerHTML,g=n.setContent(d,a);return a.no_events||n.dispatch("LoadContent",{...a,element:s}),g}else return""}save(t={}){const n=this;let s=n.getElement();if(!s||!n.initialized||n.removed)return"";const a={...t,save:!0,element:s};let d=n.getContent(a);const g={...a,content:d};if(g.no_events||n.dispatch("SaveContent",g),g.format==="raw"&&n.dispatch("RawSaveContent",g),d=g.content,hh(s))s.value=d;else{(t.is_removing||!n.inline)&&(s.innerHTML=d);const C=$2.getParent(n.id,"form");C&&Fre(C.elements,A=>A.name===n.id?(A.value=d,!1):!0)}return g.element=a.element=s=null,g.set_dirty!==!1&&n.setDirty(!1),d}setContent(t,n){return n4(this,t,n)}getContent(t){return s6(this,t)}insertContent(t,n){n&&(t=AZ({content:t},n)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?n4(this,this.startContent,{format:"raw"}):n4(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const n=!this.isNotDirty;this.isNotDirty=!t,t&&t!==n&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||$2.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=$2.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const n=t.iframeElement;n&&(t.contentWindow=n.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const n=t.getWin();n&&(t.contentDocument=n.document)}return t.contentDocument}getBody(){var t,n;const s=this.getDoc();return(n=(t=this.bodyElement)!==null&&t!==void 0?t:s==null?void 0:s.body)!==null&&n!==void 0?n:null}convertURL(t,n,s){const a=this,d=a.options.get,g=k8(a);if(Ne(g))return g.call(a,t,s,!0,n);if(!d("convert_urls")||s==="link"||ae(s)&&s.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const C=new Iu(t);return C.protocol!=="http"&&C.protocol!=="https"&&C.protocol!==""?t:d("relative_urls")?a.documentBaseURI.toRelative(t):(t=a.documentBaseURI.toAbsolute(t,d("remove_script_host")),t)}addVisual(t){Coe(this,t)}setEditableRoot(t){aoe(this,t)}hasEditableRoot(){return loe(this)}remove(){m6(this)}destroy(t){aF(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const yS=Tr.DOM,zB=Wt.each;let EZ=!1,HB,Yc=[];const VB=e=>{const t=e.type;zB(_0.get(),n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e);break}})},TZ=e=>{if(e!==EZ){const t=Tr.DOM;e?(t.bind(window,"resize",VB),t.bind(window,"scroll",VB)):(t.unbind(window,"resize",VB),t.unbind(window,"scroll",VB)),EZ=e}},OZ=e=>{const t=Yc;return Yc=_t(Yc,n=>e!==n),_0.activeEditor===e&&(_0.activeEditor=Yc.length>0?Yc[0]:null),_0.focusedEditor===e&&(_0.focusedEditor=null),t.length!==Yc.length},zre=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(OZ(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},Hre=document.compatMode!=="CSS1Compat",_0={...vH,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"3.0",releaseDate:"2024-08-07",i18n:lc,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",s=Iu.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/"));const a=window.tinymce||window.tinyMCEPreInit;if(a)t=a.base||a.baseURL,n=a.suffix;else{const d=document.getElementsByTagName("script");for(let g=0;g<d.length;g++){const C=d[g].src||"";if(C==="")continue;const A=C.substring(C.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(C)){A.indexOf(".min")!==-1&&(n=".min"),t=C.substring(0,C.lastIndexOf("/"));break}}if(!t&&document.currentScript){const g=document.currentScript.src;g.indexOf(".min")!==-1&&(n=".min"),t=g.substring(0,g.lastIndexOf("/"))}}e.baseURL=new Iu(s).toAbsolute(t),e.documentBaseURL=s,e.baseURI=new Iu(e.baseURL),e.suffix=n,TP(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const s=e.plugin_base_urls;s!==void 0&&$o(s,(a,d)=>{Ma.PluginManager.urls[d]=a})},init(e){const t=this;let n;const s=Wt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),a=(W,q)=>W.inline&&q.tagName.toLowerCase()in s,d=W=>{let q=W.id;return q||(q=ar(W,"name").filter(Y=>!yS.get(Y)).getOrThunk(yS.uniqueId),W.setAttribute("id",q)),q},g=W=>{const q=e[W];if(q)return q.apply(t,[])},C=W=>So.browser.isIE()||So.browser.isEdge()?(x2("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):Hre?(x2("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):Fe(W.selector)?yS.select(W.selector):Se(W.target)?[W.target]:[];let A=W=>{n=W};const L=()=>{let W=0;const q=[];let Y;const ce=(he,ue,we)=>{const Pe=new FB(he,ue,t);q.push(Pe),Pe.on("init",()=>{++W===Y.length&&A(q)}),Pe.targetElm=Pe.targetElm||we,Pe.render()};yS.unbind(window,"ready",L),g("onpageload"),Y=Ms(C(e)),Wt.each(Y,he=>{zre(t.get(he.id))}),Y=Wt.grep(Y,he=>!t.get(he.id)),Y.length===0?A([]):zB(Y,he=>{a(e,he)?x2("Could not initialize inline editor on invalid inline target element",he):ce(d(he),e,he)})};return yS.bind(window,"ready",L),new Promise(W=>{n?W(n):A=q=>{W(q)}})},get(e){return arguments.length===0?Yc.slice(0):Fe(e)?Bt(Yc,t=>t.id===e).getOr(null):D(e)&&Yc[e]?Yc[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(n===null&&Yc.push(e),TZ(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),HB||(HB=s=>{const a=t.dispatch("BeforeUnload");if(a.returnValue)return s.preventDefault(),s.returnValue=a.returnValue,a.returnValue},window.addEventListener("beforeunload",HB))),e},createEditor(e,t){return this.add(new FB(e,t,this))},remove(e){const t=this;let n;if(!e){for(let s=Yc.length-1;s>=0;s--)t.remove(Yc[s]);return}if(Fe(e)){zB(yS.select(e),s=>{n=t.get(s.id),n&&t.remove(n)});return}return n=e,Je(t.get(n.id))?null:(OZ(n)&&t.dispatch("RemoveEditor",{editor:n}),Yc.length===0&&window.removeEventListener("beforeunload",HB),n.remove(),TZ(Yc.length>0),n)},execCommand(e,t,n){var s;const a=this,d=ae(n)?(s=n.id)!==null&&s!==void 0?s:n.index:n;switch(e){case"mceAddEditor":{if(!a.get(d)){const g=n.options;new FB(d,g,a).render()}return!0}case"mceRemoveEditor":{const g=a.get(d);return g&&g.remove(),!0}case"mceToggleEditor":{const g=a.get(d);return g?(g.isHidden()?g.show():g.hide(),!0):(a.execCommand("mceAddEditor",!1,n),!0)}}return a.activeEditor?a.activeEditor.execCommand(e,t,n):!1},triggerSave:()=>{zB(Yc,e=>{e.save()})},addI18n:(e,t)=>{lc.add(e,t)},translate:e=>lc.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Iu(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Iu(this.baseURL)}};_0.setup();const Vre=(()=>{const e=mi(),t=d=>({items:d,types:Ht(d),getType:g=>ar(d,g).getOrUndefined()}),n=d=>{e.set(d)},s=()=>e.get().getOrUndefined(),a=e.clear;return{FakeClipboardItem:t,write:n,read:s,clear:a}})(),DZ=Math.min,wS=Math.max,$B=Math.round,RZ=(e,t,n)=>{let s=t.x,a=t.y;const d=e.w,g=e.h,C=t.w,A=t.h,L=(n||"").split("");return L[0]==="b"&&(a+=A),L[1]==="r"&&(s+=C),L[0]==="c"&&(a+=$B(A/2)),L[1]==="c"&&(s+=$B(C/2)),L[3]==="b"&&(a-=g),L[4]==="r"&&(s-=d),L[3]==="c"&&(a-=$B(g/2)),L[4]==="c"&&(s-=$B(d/2)),CS(s,a,d,g)},$re=(e,t,n,s)=>{for(let a=0;a<s.length;a++){const d=RZ(e,t,s[a]);if(d.x>=n.x&&d.x+d.w<=n.w+n.x&&d.y>=n.y&&d.y+d.h<=n.h+n.y)return s[a]}return null},Ure=(e,t,n)=>CS(e.x-t,e.y-n,e.w+t*2,e.h+n*2),Zre=(e,t)=>{const n=wS(e.x,t.x),s=wS(e.y,t.y),a=DZ(e.x+e.w,t.x+t.w),d=DZ(e.y+e.h,t.y+t.h);return a-n<0||d-s<0?null:CS(n,s,a-n,d-s)},Wre=(e,t,n)=>{let s=e.x,a=e.y,d=e.x+e.w,g=e.y+e.h;const C=t.x+t.w,A=t.y+t.h,L=wS(0,t.x-s),W=wS(0,t.y-a),q=wS(0,d-C),Y=wS(0,g-A);return s+=L,a+=W,n&&(d+=L,g+=W,s-=q,a-=Y),d-=q,g-=Y,CS(s,a,d-s,g-a)},CS=(e,t,n,s)=>({x:e,y:t,w:n,h:s}),jre={inflate:Ure,relativePosition:RZ,findBestRelativePosition:$re,intersect:Zre,clamp:Wre,create:CS,fromClientRect:e=>CS(e.left,e.top,e.width,e.height)},Kre=(e,t,n=1e3)=>{let s=!1,a=null;const d=L=>(...W)=>{s||(s=!0,a!==null&&(clearTimeout(a),a=null),L.apply(null,W))},g=d(e),C=d(t);return{start:(...L)=>{!s&&a===null&&(a=setTimeout(()=>C.apply(null,L),n))},resolve:g,reject:C}},qre=(()=>{const e={},t={},n={};return{load:(A,L)=>{const W=`Script at URL "${L}" failed to load`,q=`Script at URL "${L}" did not call \`tinymce.Resource.add('${A}', data)\` within 1 second`;if(e[A]!==void 0)return e[A];{const Y=new Promise((ce,he)=>{const ue=Kre(ce,he);t[A]=ue.resolve,Qa.ScriptLoader.loadScript(L).then(()=>ue.start(q),()=>ue.reject(W))});return e[A]=Y,Y}},add:(A,L)=>{t[A]!==void 0&&(t[A](L),delete t[A]),e[A]=Promise.resolve(L),n[A]=L},has:A=>A in n,get:A=>n[A],unload:A=>{delete e[A],delete n[A]}}})(),Gre=()=>(()=>{let e={},t=[];const n={getItem:s=>{const a=e[s];return a||null},setItem:(s,a)=>{t.push(s),e[s]=String(a)},key:s=>t[s],removeItem:s=>{t=t.filter(a=>a===s),delete e[s]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})();let pT;try{const e="__storage_test__";pT=window.localStorage,pT.setItem(e,e),pT.removeItem(e)}catch{pT=Gre()}var Yre=pT;const Xre={geom:{Rect:jre},util:{Delay:pc,Tools:Wt,VK:ln,URI:Iu,EventDispatcher:bH,Observable:vH,I18n:lc,LocalStorage:Yre,ImageUploader:xF},dom:{EventUtils:ef,TreeWalker:$i,TextSeeker:sd,DOMUtils:Tr,ScriptLoader:Qa,RangeUtils:Zh,Serializer:r6,StyleSheetLoader:im,ControlSelection:br,BookmarkManager:Sr,Selection:e4,Event:ef.Event},html:{Styles:_x,Entities:pg,Node:la,Schema:ac,DomParser:s0,Writer:OA,Serializer:Vg},Env:So,AddOnManager:Ma,Annotator:x5,Formatter:C2,UndoManager:L6,EditorCommands:pZ,WindowManager:y6,NotificationManager:c4,EditorObservable:yZ,Shortcuts:kZ,Editor:FB,FocusManager:Eu,EditorManager:_0,DOM:Tr.DOM,ScriptLoader:Qa.ScriptLoader,PluginManager:l1,ThemeManager:cp,ModelManager:lp,IconManager:b2,Resource:qre,FakeClipboard:Vre,trim:Wt.trim,isArray:Wt.isArray,is:Wt.is,toArray:Wt.toArray,makeMap:Wt.makeMap,each:Wt.each,map:Wt.map,grep:Wt.grep,inArray:Wt.inArray,extend:Wt.extend,walk:Wt.walk,resolve:Wt.resolve,explode:Wt.explode,_addCacheSuffix:Wt._addCacheSuffix},NZ=Wt.extend(_0,Xre),Jre=e=>{try{r.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(NZ),Jre(NZ)})()})(lY);var uge=lY.exports;const cY=e8(uge);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const r=Object.getPrototypeOf,l=(o,i,c)=>{var u;return!!c(o,i.prototype)||((u=o.constructor)===null||u===void 0?void 0:u.name)===i.name},f=o=>i=>(c=>{const u=typeof c;return c===null?"null":u==="object"&&Array.isArray(c)?"array":u==="object"&&l(c,String,(h,p)=>p.isPrototypeOf(h))?"string":u})(i)===o,m=o=>i=>typeof i===o,x=o=>i=>o===i,v=f("string"),w=f("object"),E=o=>((i,c)=>w(i)&&l(i,c,(u,h)=>r(u)===h))(o,Object),F=f("array"),P=x(null),I=m("boolean"),z=x(void 0),j=o=>o==null,U=o=>!j(o),J=m("function"),ne=m("number"),ye=(o,i)=>{if(F(o)){for(let c=0,u=o.length;c<u;++c)if(!i(o[c]))return!1;return!0}return!1},pe=()=>{},We=o=>()=>o(),Fe=(o,i)=>(...c)=>o(i.apply(null,c)),ae=o=>()=>o,Ie=o=>o,oe=(o,i)=>o===i;function Je(o,...i){return(...c)=>{const u=i.concat(c);return o.apply(null,u)}}const He=o=>i=>!o(i),Ye=o=>()=>{throw new Error(o)},gt=o=>o(),Se=ae(!1),Ne=ae(!0);class D{constructor(i,c){this.tag=i,this.value=c}static some(i){return new D(!0,i)}static none(){return D.singletonNone}fold(i,c){return this.tag?c(this.value):i()}isSome(){return this.tag}isNone(){return!this.tag}map(i){return this.tag?D.some(i(this.value)):D.none()}bind(i){return this.tag?i(this.value):D.none()}exists(i){return this.tag&&i(this.value)}forall(i){return!this.tag||i(this.value)}filter(i){return!this.tag||i(this.value)?this:D.none()}getOr(i){return this.tag?this.value:i}or(i){return this.tag?this:i}getOrThunk(i){return this.tag?this.value:i()}orThunk(i){return this.tag?this:i()}getOrDie(i){if(this.tag)return this.value;throw new Error(i??"Called getOrDie on None")}static from(i){return U(i)?D.some(i):D.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(i){this.tag&&i(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}D.singletonNone=new D(!1);const Nt=Array.prototype.slice,sn=Array.prototype.indexOf,vn=Array.prototype.push,Tn=(o,i)=>sn.call(o,i),rt=(o,i)=>Tn(o,i)>-1,Un=(o,i)=>{for(let c=0,u=o.length;c<u;c++)if(i(o[c],c))return!0;return!1},Hr=(o,i)=>{const c=[];for(let u=0;u<o;u++)c.push(i(u));return c},xt=(o,i)=>{const c=[];for(let u=0;u<o.length;u+=i){const h=Nt.call(o,u,u+i);c.push(h)}return c},yt=(o,i)=>{const c=o.length,u=new Array(c);for(let h=0;h<c;h++){const p=o[h];u[h]=i(p,h)}return u},qt=(o,i)=>{for(let c=0,u=o.length;c<u;c++)i(o[c],c)},$r=(o,i)=>{const c=[],u=[];for(let h=0,p=o.length;h<p;h++){const y=o[h];(i(y,h)?c:u).push(y)}return{pass:c,fail:u}},xo=(o,i)=>{const c=[];for(let u=0,h=o.length;u<h;u++){const p=o[u];i(p,u)&&c.push(p)}return c},Sn=(o,i,c)=>(((u,h)=>{for(let p=u.length-1;p>=0;p--)h(u[p],p)})(o,(u,h)=>{c=i(c,u,h)}),c),Mn=(o,i,c)=>(qt(o,(u,h)=>{c=i(c,u,h)}),c),X=(o,i)=>((c,u,h)=>{for(let p=0,y=c.length;p<y;p++){const S=c[p];if(u(S,p))return D.some(S);if(h(S,p))break}return D.none()})(o,i,Se),nr=(o,i)=>{for(let c=0,u=o.length;c<u;c++)if(i(o[c],c))return D.some(c);return D.none()},pr=o=>{const i=[];for(let c=0,u=o.length;c<u;++c){if(!F(o[c]))throw new Error("Arr.flatten item "+c+" was not an array, input: "+o);vn.apply(i,o[c])}return i},jo=(o,i)=>pr(yt(o,i)),Qi=(o,i)=>{for(let c=0,u=o.length;c<u;++c)if(i(o[c],c)!==!0)return!1;return!0},Ue=o=>{const i=Nt.call(o,0);return i.reverse(),i},ve=(o,i)=>xo(o,c=>!rt(i,c)),De=(o,i)=>{const c={};for(let u=0,h=o.length;u<h;u++){const p=o[u];c[String(p)]=i(p,u)}return c},tt=o=>[o],_e=(o,i)=>{const c=Nt.call(o,0);return c.sort(i),c},It=(o,i)=>i>=0&&i<o.length?D.some(o[i]):D.none(),en=o=>It(o,0),_t=o=>It(o,o.length-1),Yt=J(Array.from)?Array.from:o=>Nt.call(o),je=(o,i)=>{for(let c=0;c<o.length;c++){const u=i(o[c],c);if(u.isSome())return u}return D.none()},et=Object.keys,Bt=Object.hasOwnProperty,Mt=(o,i)=>{const c=et(o);for(let u=0,h=c.length;u<h;u++){const p=c[u];i(o[p],p)}},Gt=(o,i)=>xn(o,(c,u)=>({k:u,v:i(c,u)})),xn=(o,i)=>{const c={};return Mt(o,(u,h)=>{const p=i(u,h);c[p.k]=p.v}),c},eo=o=>(i,c)=>{o[c]=i},fo=(o,i,c,u)=>{Mt(o,(h,p)=>{(i(h,p)?c:u)(h,p)})},po=(o,i)=>{const c={};return fo(o,i,eo(c),pe),c},Ko=(o,i)=>{const c=[];return Mt(o,(u,h)=>{c.push(i(u,h))}),c},yo=(o,i)=>{const c=et(o);for(let u=0,h=c.length;u<h;u++){const p=c[u],y=o[p];if(i(y,p,o))return D.some(y)}return D.none()},Ar=o=>Ko(o,Ie),jt=(o,i)=>ao(o,i)?D.from(o[i]):D.none(),ao=(o,i)=>Bt.call(o,i),so=(o,i)=>ao(o,i)&&o[i]!==void 0&&o[i]!==null,Nr=(o,i,c=oe)=>o.exists(u=>c(u,i)),Ms=o=>{const i=[],c=u=>{i.push(u)};for(let u=0;u<o.length;u++)o[u].each(c);return i},Ht=(o,i,c)=>o.isSome()&&i.isSome()?D.some(c(o.getOrDie(),i.getOrDie())):D.none(),Ks=(o,i)=>o!=null?D.some(i(o)):D.none(),$o=(o,i)=>o?D.some(i):D.none(),vl=(o,i,c)=>i===""||o.length>=i.length&&o.substr(c,c+i.length)===i,yr=(o,i)=>Vf(o,i)?((c,u)=>c.substring(u))(o,i.length):o,Ps=(o,i,c=0,u)=>{const h=o.indexOf(i,c);return h!==-1&&(!!z(u)||h+i.length<=u)},Vf=(o,i)=>vl(o,i,0),tu=(o,i)=>vl(o,i,o.length-i.length),ql=(Ld=/^\s+|\s+$/g,o=>o.replace(Ld,"")),Wa=o=>o.length>0,nu=o=>!Wa(o),ar=o=>o.style!==void 0&&J(o.style.getPropertyValue),Yn=o=>{if(o==null)throw new Error("Node cannot be null or undefined");return{dom:o}},xl=(o,i)=>{const c=document.createElement("div");if(c.innerHTML=o,!c.hasChildNodes()||c.childNodes.length>1){const u="HTML does not have a single root node";throw console.error(u,o),new Error(u)}return Yn(c.childNodes[0])},ci=(o,i)=>{const c=document.createElement(o);return Yn(c)},ou=(o,i)=>{const c=document.createTextNode(o);return Yn(c)},nn=Yn,ru=typeof window<"u"?window:Function("return this;")(),$f=(o,i)=>((c,u)=>{let h=u??ru;for(let p=0;p<c.length&&h!=null;++p)h=h[c[p]];return h})(o.split("."),i),Xr=Object.getPrototypeOf,Uf=o=>{const i=$f("ownerDocument.defaultView",o);return w(o)&&((c=>((u,h)=>{const p=((y,S)=>$f(y,S))(u,h);if(p==null)throw new Error(u+" not available on this browser");return p})("HTMLElement",c))(i).prototype.isPrototypeOf(o)||/^HTML\w*Element$/.test(Xr(o).constructor.name))},Aa=o=>o.dom.nodeName.toLowerCase(),al=o=>i=>(c=>c.dom.nodeType)(i)===o,ja=o=>Ur(o)&&Uf(o.dom),Ur=al(1),ea=al(3),ll=al(9),Zf=al(11),yc=o=>i=>Ur(i)&&Aa(i)===o,wc=(o,i)=>{const c=o.dom;if(c.nodeType!==1)return!1;{const u=c;if(u.matches!==void 0)return u.matches(i);if(u.msMatchesSelector!==void 0)return u.msMatchesSelector(i);if(u.webkitMatchesSelector!==void 0)return u.webkitMatchesSelector(i);if(u.mozMatchesSelector!==void 0)return u.mozMatchesSelector(i);throw new Error("Browser lacks native selectors")}},Nd=o=>o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11||o.childElementCount===0,Uu=(o,i)=>{const c=i===void 0?document:i.dom;return Nd(c)?D.none():D.from(c.querySelector(o)).map(nn)},Uo=(o,i)=>o.dom===i.dom,bs=(o,i)=>{const c=o.dom,u=i.dom;return c!==u&&c.contains(u)},$s=o=>nn(o.dom.ownerDocument),Wf=o=>ll(o)?o:$s(o),Ea=o=>nn(Wf(o).dom.documentElement),Cc=o=>nn(Wf(o).dom.defaultView),ta=o=>D.from(o.dom.parentNode).map(nn),na=o=>D.from(o.dom.parentElement).map(nn),_c=o=>D.from(o.dom.offsetParent).map(nn),dr=o=>yt(o.dom.childNodes,nn),Zr=(o,i)=>{const c=o.dom.childNodes;return D.from(c[i]).map(nn)},xe=o=>Zr(o,0),Ke=(o,i)=>({element:o,offset:i}),Ee=(o,i)=>{const c=dr(o);return c.length>0&&i<c.length?Ke(c[i],0):Ke(o,i)},at=o=>Zf(o)&&U(o.dom.host),ot=o=>nn(o.dom.getRootNode()),$e=o=>at(o)?o:nn(Wf(o).dom.body),Ft=o=>{const i=ot(o);return at(i)?D.some(i):D.none()},Jt=o=>nn(o.dom.host),an=o=>{const i=ea(o)?o.dom.parentNode:o.dom;if(i==null||i.ownerDocument===null)return!1;const c=i.ownerDocument;return Ft(nn(i)).fold(()=>c.body.contains(i),(u=an,h=Jt,p=>u(h(p))));var u,h},fn=()=>on(nn(document)),on=o=>{const i=o.dom.body;if(i==null)throw new Error("Body is not available yet");return nn(i)},ro=(o,i,c)=>{if(!(v(c)||I(c)||ne(c)))throw console.error("Invalid call to Attribute.set. Key ",i,":: Value ",c,":: Element ",o),new Error("Attribute value was not simple");o.setAttribute(i,c+"")},tn=(o,i,c)=>{ro(o.dom,i,c)},rr=(o,i)=>{const c=o.dom;Mt(i,(u,h)=>{ro(c,h,u)})},_o=(o,i)=>{const c=o.dom.getAttribute(i);return c===null?void 0:c},No=(o,i)=>D.from(_o(o,i)),cs=(o,i)=>{const c=o.dom;return!(!c||!c.hasAttribute)&&c.hasAttribute(i)},mo=(o,i)=>{o.dom.removeAttribute(i)},cl=(o,i,c)=>{if(!v(c))throw console.error("Invalid call to CSS.set. Property ",i,":: Value ",c,":: Element ",o),new Error("CSS value must be a string: "+c);ar(o)&&o.style.setProperty(i,c)},Bi=(o,i)=>{ar(o)&&o.style.removeProperty(i)},Jn=(o,i,c)=>{const u=o.dom;cl(u,i,c)},Ta=(o,i)=>{const c=o.dom;Mt(i,(u,h)=>{cl(c,h,u)})},Ka=(o,i)=>{const c=o.dom;Mt(i,(u,h)=>{u.fold(()=>{Bi(c,h)},p=>{cl(c,h,p)})})},os=(o,i)=>{const c=o.dom,u=window.getComputedStyle(c).getPropertyValue(i);return u!==""||an(o)?u:Zu(c,i)},Zu=(o,i)=>ar(o)?o.style.getPropertyValue(i):"",_s=(o,i)=>{const c=o.dom,u=Zu(c,i);return D.from(u).filter(h=>h.length>0)},Id=o=>{const i={},c=o.dom;if(ar(c))for(let u=0;u<c.style.length;u++){const h=c.style.item(u);i[h]=c.style[h]}return i},ul=(o,i,c)=>{const u=ci(o);return Jn(u,i,c),_s(u,i).isSome()},er=(o,i)=>{const c=o.dom;Bi(c,i),Nr(No(o,"style").map(ql),"")&&mo(o,"style")},su=o=>o.dom.offsetWidth,jf=(o,i)=>{const c=h=>{const p=i(h);if(p<=0||p===null){const y=os(h,o);return parseFloat(y)||0}return p},u=(h,p)=>Mn(p,(y,S)=>{const k=os(h,S),O=k===void 0?0:parseInt(k,10);return isNaN(O)?y:y+O},0);return{set:(h,p)=>{if(!ne(p)&&!p.match(/^[0-9]+$/))throw new Error(o+".set accepts only positive integer values. Value was "+p);const y=h.dom;ar(y)&&(y.style[o]=p+"px")},get:c,getOuter:c,aggregate:u,max:(h,p,y)=>{const S=u(h,y);return p>S?p-S:0}}},ih=jf("height",o=>{const i=o.dom;return an(o)?i.getBoundingClientRect().height:i.offsetHeight}),us=o=>ih.get(o),Gl=o=>ih.getOuter(o),qa=(o,i)=>({left:o,top:i,translate:(c,u)=>qa(o+c,i+u)}),Ir=qa,Kf=(o,i)=>o!==void 0?o:i!==void 0?i:0,dl=o=>{const i=o.dom.ownerDocument,c=i.body,u=i.defaultView,h=i.documentElement;if(c===o.dom)return Ir(c.offsetLeft,c.offsetTop);const p=Kf(u==null?void 0:u.pageYOffset,h.scrollTop),y=Kf(u==null?void 0:u.pageXOffset,h.scrollLeft),S=Kf(h.clientTop,c.clientTop),k=Kf(h.clientLeft,c.clientLeft);return Mi(o).translate(y-k,p-S)},Mi=o=>{const i=o.dom,c=i.ownerDocument.body;return c===i?Ir(c.offsetLeft,c.offsetTop):an(o)?(u=>{const h=u.getBoundingClientRect();return Ir(h.left,h.top)})(i):Ir(0,0)},tg=jf("width",o=>o.dom.offsetWidth),ui=o=>tg.get(o),Oa=o=>tg.getOuter(o),Pi=o=>{let i,c=!1;return(...u)=>(c||(c=!0,i=o.apply(null,u)),i)},fl=()=>ah(0,0),ah=(o,i)=>({major:o,minor:i}),So={nu:ah,detect:(o,i)=>{const c=String(i).toLowerCase();return o.length===0?fl():((u,h)=>{const p=((S,k)=>{for(let O=0;O<S.length;O++){const M=S[O];if(M.test(k))return M}})(u,h);if(!p)return{major:0,minor:0};const y=S=>Number(h.replace(p,"$"+S));return ah(y(1),y(2))})(o,c)},unknown:fl},Sc=(o,i)=>{const c=String(i).toLowerCase();return X(o,u=>u.search(c))},Wu=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,iu=o=>i=>Ps(i,o),Dp=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:o=>Ps(o,"edge/")&&Ps(o,"chrome")&&Ps(o,"safari")&&Ps(o,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Wu],search:o=>Ps(o,"chrome")&&!Ps(o,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:o=>Ps(o,"msie")||Ps(o,"trident")},{name:"Opera",versionRegexes:[Wu,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:iu("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:iu("firefox")},{name:"Safari",versionRegexes:[Wu,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:o=>(Ps(o,"safari")||Ps(o,"mobile/"))&&Ps(o,"applewebkit")}],J0=[{name:"Windows",search:iu("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:o=>Ps(o,"iphone")||Ps(o,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:iu("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:iu("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:iu("linux"),versionRegexes:[]},{name:"Solaris",search:iu("sunos"),versionRegexes:[]},{name:"FreeBSD",search:iu("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:iu("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],N1={browsers:ae(Dp),oses:ae(J0)},I1="Edge",yw="Chromium",lh="Opera",B1="Firefox",Wt="Safari",Bd=o=>{const i=o.current,c=o.version,u=h=>()=>i===h;return{current:i,version:c,isEdge:u(I1),isChromium:u(yw),isIE:u("IE"),isOpera:u(lh),isFirefox:u(B1),isSafari:u(Wt)}},Md=()=>Bd({current:void 0,version:So.unknown()}),M1=Bd,Li="Windows",Pd="Android",ng="Linux",Q0="macOS",ex="Solaris",Rp="FreeBSD",tx="ChromeOS",P1=o=>{const i=o.current,c=o.version,u=h=>()=>i===h;return{current:i,version:c,isWindows:u(Li),isiOS:u("iOS"),isAndroid:u(Pd),isMacOS:u(Q0),isLinux:u(ng),isSolaris:u(ex),isFreeBSD:u(Rp),isChromeOS:u(tx)}},nx=()=>P1({current:void 0,version:So.unknown()}),og=P1,L1=o=>window.matchMedia(o).matches;var Ld;let Fd=Pi(()=>((o,i,c)=>{const u=N1.browsers(),h=N1.oses(),p=i.bind(k=>((O,M)=>je(M.brands,N=>{const H=N.brand.toLowerCase();return X(O,K=>{var G;return H===((G=K.brand)===null||G===void 0?void 0:G.toLowerCase())}).map(K=>({current:K.name,version:So.nu(parseInt(N.version,10),0)}))}))(u,k)).orThunk(()=>((k,O)=>Sc(k,O).map(M=>{const N=So.detect(M.versionRegexes,O);return{current:M.name,version:N}}))(u,o)).fold(Md,M1),y=((k,O)=>Sc(k,O).map(M=>{const N=So.detect(M.versionRegexes,O);return{current:M.name,version:N}}))(h,o).fold(nx,og),S=((k,O,M,N)=>{const H=k.isiOS()&&/ipad/i.test(M)===!0,K=k.isiOS()&&!H,G=k.isiOS()||k.isAndroid(),re=G||N("(pointer:coarse)"),le=H||!K&&G&&N("(min-device-width:768px)"),me=K||G&&!le,ie=O.isSafari()&&k.isiOS()&&/safari/i.test(M)===!1,se=!me&&!le&&!ie;return{isiPad:ae(H),isiPhone:ae(K),isTablet:ae(le),isPhone:ae(me),isTouch:ae(re),isAndroid:k.isAndroid,isiOS:k.isiOS,isWebView:ae(ie),isDesktop:ae(se)}})(y,p,o,c);return{browser:p,os:y,deviceType:S}})(window.navigator.userAgent,D.from(window.navigator.userAgentData),L1));const Fi=()=>Fd(),Ga=o=>{const i=nn((p=>{if(U(p.target)){const y=nn(p.target);if(Ur(y)&&(S=>U(S.dom.shadowRoot))(y)&&p.composed&&p.composedPath){const S=p.composedPath();if(S)return en(S)}}return D.from(p.target)})(o).getOr(o.target)),c=()=>o.stopPropagation(),u=()=>o.preventDefault(),h=Fe(u,c);return((p,y,S,k,O,M,N)=>({target:p,x:y,y:S,stop:k,prevent:O,kill:M,raw:N}))(i,o.clientX,o.clientY,c,u,h,o)},rg=(o,i,c,u,h)=>{const p=((y,S)=>k=>{y(k)&&S(Ga(k))})(c,u);return o.dom.addEventListener(i,p,h),{unbind:Je(Mo,o,i,p,h)}},Mo=(o,i,c,u)=>{o.dom.removeEventListener(i,c,u)},ju=(o,i)=>{ta(o).each(c=>{c.dom.insertBefore(i.dom,o.dom)})},sg=(o,i)=>{(u=>D.from(u.dom.nextSibling).map(nn))(o).fold(()=>{ta(o).each(u=>{fa(u,i)})},u=>{ju(u,i)})},ig=(o,i)=>{xe(o).fold(()=>{fa(o,i)},c=>{o.dom.insertBefore(i.dom,c.dom)})},fa=(o,i)=>{o.dom.appendChild(i.dom)},Ss=(o,i)=>{qt(i,c=>{fa(o,c)})},Wr=o=>{o.dom.textContent="",qt(dr(o),i=>{yi(i)})},yi=o=>{const i=o.dom;i.parentNode!==null&&i.parentNode.removeChild(i)},Br=o=>{const i=o!==void 0?o.dom:document,c=i.body.scrollLeft||i.documentElement.scrollLeft,u=i.body.scrollTop||i.documentElement.scrollTop;return Ir(c,u)},zd=(o,i,c)=>{const u=(c!==void 0?c.dom:document).defaultView;u&&u.scrollTo(o,i)},qf=(o,i,c,u)=>({x:o,y:i,width:c,height:u,right:o+c,bottom:i+u}),ei=o=>{const i=o===void 0?window:o,c=i.document,u=Br(nn(c));return(h=>{const p=h===void 0?window:h;return Fi().browser.isFirefox()?D.none():D.from(p.visualViewport)})(i).fold(()=>{const h=i.document.documentElement,p=h.clientWidth,y=h.clientHeight;return qf(u.left,u.top,p,y)},h=>qf(Math.max(h.pageLeft,u.left),Math.max(h.pageTop,u.top),h.width,h.height))},ma=()=>nn(document),oa=(o,i)=>o.view(i).fold(ae([]),c=>{const u=o.owner(c),h=oa(o,u);return[c].concat(h)});var kc=Object.freeze({__proto__:null,view:o=>{var i;return(o.dom===document?D.none():D.from((i=o.dom.defaultView)===null||i===void 0?void 0:i.frameElement)).map(nn)},owner:o=>$s(o)});const Ku=o=>{const i=ma(),c=Br(i);return((h,p)=>{const y=p.owner(h),S=oa(p,y);return D.some(S)})(o,kc).fold(Je(dl,o),h=>{const p=Mi(o),y=Sn(h,(S,k)=>{const O=Mi(k);return{left:S.left+O.left,top:S.top+O.top}},{left:0,top:0});return Ir(y.left+p.left+c.left,y.top+p.top+c.top)})},bo=(o,i,c,u)=>({x:o,y:i,width:c,height:u,right:o+c,bottom:i+u}),Us=o=>{const i=dl(o),c=Oa(o),u=Gl(o);return bo(i.left,i.top,c,u)},Ya=o=>{const i=Ku(o),c=Oa(o),u=Gl(o);return bo(i.left,i.top,c,u)},qu=(o,i)=>{const c=Math.max(o.x,i.x),u=Math.max(o.y,i.y),h=Math.min(o.right,i.right),p=Math.min(o.bottom,i.bottom);return bo(c,u,h-c,p-u)},wi=()=>ei(window),En=o=>{let i=o;return{get:()=>i,set:c=>{i=c}}},Yl=o=>{const i=En(D.none()),c=()=>i.get().each(o);return{clear:()=>{c(),i.set(D.none())},isSet:()=>i.get().isSome(),get:()=>i.get(),set:u=>{c(),i.set(D.some(u))}}},Xl=()=>Yl(o=>o.unbind()),sr=()=>{const o=Yl(pe);return{...o,on:i=>o.get().each(i)}};var ch=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Np=o=>{const i=p=>p(o),c=ae(o),u=()=>h,h={tag:!0,inner:o,fold:(p,y)=>y(o),isValue:Ne,isError:Se,map:p=>ko.value(p(o)),mapError:u,bind:i,exists:i,forall:i,getOr:c,or:u,getOrThunk:c,orThunk:u,getOrDie:c,each:p=>{p(o)},toOptional:()=>D.some(o)};return h},Gu=o=>{const i=()=>c,c={tag:!1,inner:o,fold:(u,h)=>u(o),isValue:Se,isError:Ne,map:i,mapError:u=>ko.error(u(o)),bind:i,exists:Se,forall:Ne,getOr:Ie,or:Ie,getOrThunk:gt,orThunk:gt,getOrDie:Ye(String(o)),each:pe,toOptional:D.none};return c},ko={value:Np,error:Gu,fromOption:(o,i)=>o.fold(()=>Gu(i),Np)};var ga;(function(o){o[o.Error=0]="Error",o[o.Value=1]="Value"})(ga||(ga={}));const uh=(o,i,c)=>o.stype===ga.Error?i(o.serror):c(o.svalue),Yu=o=>({stype:ga.Value,svalue:o}),Ip=o=>({stype:ga.Error,serror:o}),Ac=Yu,Da=Ip,Ec=uh,Hd=(o,i,c,u)=>({tag:"field",key:o,newKey:i,presence:c,prop:u}),Oe=(o,i,c)=>{switch(o.tag){case"field":return i(o.key,o.newKey,o.presence,o.prop);case"custom":return c(o.newKey,o.instantiator)}},Gf=o=>(...i)=>{if(i.length===0)throw new Error("Can't merge zero objects");const c={};for(let u=0;u<i.length;u++){const h=i[u];for(const p in h)ao(h,p)&&(c[p]=o(c[p],h[p]))}return c},fr=Gf((o,i)=>E(o)&&E(i)?fr(o,i):i),Bp=Gf((o,i)=>i),ag=o=>({tag:"defaultedThunk",process:o}),Tc=o=>ag(ae(o)),Po=o=>({tag:"mergeWithThunk",process:o}),zi=o=>{const i=(u=>{const h=[],p=[];return qt(u,y=>{uh(y,S=>p.push(S),S=>h.push(S))}),{values:h,errors:p}})(o);return i.errors.length>0?(c=i.errors,Fe(Da,pr)(c)):Ac(i.values);var c},au=o=>w(o)&&et(o).length>100?" removed due to size":JSON.stringify(o,null,2),Ol=(o,i)=>Da([{path:o,getErrorInfo:i}]),lu=o=>({extract:(i,c)=>((u,h)=>u.stype===ga.Error?h(u.serror):u)(o(c),u=>((h,p)=>Ol(h,ae(p)))(i,u)),toString:ae("val")}),cu=lu(Ac),Hi=(o,i,c,u)=>u(jt(o,i).getOrThunk(()=>c(o))),Vd=(o,i,c,u,h)=>{const p=S=>h.extract(i.concat([u]),S),y=S=>S.fold(()=>Ac(D.none()),k=>((O,M)=>O.stype===ga.Value?{stype:ga.Value,svalue:M(O.svalue)}:O)(h.extract(i.concat([u]),k),D.some));switch(o.tag){case"required":return((S,k,O,M)=>jt(k,O).fold(()=>((N,H,K)=>Ol(N,()=>'Could not find valid *required* value for "'+H+'" in '+au(K)))(S,O,k),M))(i,c,u,p);case"defaultedThunk":return Hi(c,u,o.process,p);case"option":return((S,k,O)=>O(jt(S,k)))(c,u,y);case"defaultedOptionThunk":return((S,k,O,M)=>M(jt(S,k).map(N=>N===!0?O(S):N)))(c,u,o.process,y);case"mergeWithThunk":return Hi(c,u,ae({}),S=>{const k=fr(o.process(c),S);return p(k)})}},Yf=o=>({extract:(i,c)=>o().extract(i,c),toString:()=>o().toString()}),Mp=o=>et(po(o,U)),ti=o=>{const i=In(o),c=Sn(o,(u,h)=>Oe(h,p=>fr(u,{[p]:!0}),ae(u)),{});return{extract:(u,h)=>{const p=I(h)?[]:Mp(h),y=xo(p,S=>!so(c,S));return y.length===0?i.extract(u,h):((S,k)=>Ol(S,()=>"There are unsupported fields: ["+k.join(", ")+"] specified"))(u,y)},toString:i.toString}},In=o=>({extract:(i,c)=>((u,h,p)=>{const y={},S=[];for(const k of p)Oe(k,(O,M,N,H)=>{const K=Vd(N,u,h,O,H);Ec(K,G=>{S.push(...G)},G=>{y[M]=G})},(O,M)=>{y[O]=M(h)});return S.length>0?Da(S):Ac(y)})(i,c,o),toString:()=>`obj{
`+yt(o,c=>Oe(c,(u,h,p,y)=>u+" -> "+y.toString(),(u,h)=>"state("+u+")")).join(`
`)+"}"}),uu=o=>({extract:(i,c)=>{const u=yt(c,(h,p)=>o.extract(i.concat(["["+p+"]"]),h));return zi(u)},toString:()=>"array("+o.toString()+")"}),Xf=(o,i)=>{const c=i!==void 0?i:Ie;return{extract:(u,h)=>{const p=[];for(const y of o){const S=y.extract(u,h);if(S.stype===ga.Value)return{stype:ga.Value,svalue:c(S.svalue)};p.push(S)}return zi(p)},toString:()=>"oneOf("+yt(o,u=>u.toString()).join(", ")+")"}},Vi=(o,i)=>({extract:(c,u)=>{const h=et(u),p=((y,S)=>uu(lu(o)).extract(y,S))(c,h);return((y,S)=>y.stype===ga.Value?S(y.svalue):y)(p,y=>{const S=yt(y,k=>Hd(k,k,{tag:"required",process:{}},i));return In(S).extract(c,u)})},toString:()=>"setOf("+i.toString()+")"}),du=Fe(uu,In),ml=ae(cu),fu=(o,i)=>lu(c=>{const u=typeof c;return o(c)?Ac(c):Da(`Expected type: ${i} but got: ${u}`)}),Xu=fu(ne,"number"),ni=fu(v,"string"),Dl=fu(I,"boolean"),Oc=fu(J,"function"),Jf=o=>{if(Object(o)!==o)return!0;switch({}.toString.call(o).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(o).every(i=>Jf(o[i]));default:return!1}},F1=lu(o=>Jf(o)?Ac(o):Da("Expected value to be acceptable for sending via postMessage")),mu=(o,i)=>({extract:(c,u)=>jt(u,o).fold(()=>((h,p)=>Ol(h,()=>'Choice schema did not contain choice key: "'+p+'"'))(c,o),h=>((p,y,S,k)=>jt(S,k).fold(()=>((O,M,N)=>Ol(O,()=>'The chosen schema: "'+N+'" did not exist in branches: '+au(M)))(p,S,k),O=>O.extract(p.concat(["branch: "+k]),y)))(c,u,i,h)),toString:()=>"chooseOn("+o+"). Possible values: "+et(i)}),$d=o=>lu(i=>o(i).fold(Da,Ac)),Pp=(o,i)=>Vi(c=>o(c).fold(Ip,Yu),i),rs=(o,i,c)=>{return u=((h,p,y)=>((S,k)=>S.stype===ga.Error?{stype:ga.Error,serror:k(S.serror)}:S)(p.extract([h],y),S=>({input:y,errors:S})))(o,i,c),uh(u,ko.error,ko.value);var u},ha=o=>o.fold(i=>{throw new Error(Ra(i))},Ie),ra=(o,i,c)=>ha(rs(o,i,c)),Ra=o=>`Errors: 
`+(i=>{const c=i.length>10?i.slice(0,10).concat([{path:[],getErrorInfo:ae("... (only showing first ten failures)")}]):i;return yt(c,u=>"Failed path: ("+u.path.join(" > ")+`)
`+u.getErrorInfo())})(o.errors).join(`
`)+`

Input object: `+au(o.input),qs=(o,i)=>mu(o,Gt(i,In)),dh=(o,i)=>((c,u)=>{const h=Pi(u);return{extract:(p,y)=>h().extract(p,y),toString:()=>h().toString()}})(0,i),Zs=Hd,Ci=(o,i)=>({tag:"custom",newKey:o,instantiator:i}),Dc=o=>$d(i=>rt(o,i)?ko.value(i):ko.error(`Unsupported value: "${i}", choose one of "${o.join(", ")}".`)),kt=o=>Zs(o,o,{tag:"required",process:{}},ml()),_i=(o,i)=>Zs(o,o,{tag:"required",process:{}},i),fh=o=>_i(o,Xu),ss=o=>_i(o,ni),gu=(o,i)=>Zs(o,o,{tag:"required",process:{}},Dc(i)),pa=o=>_i(o,Oc),Jl=(o,i)=>Zs(o,o,{tag:"required",process:{}},In(i)),Qf=(o,i)=>Zs(o,o,{tag:"required",process:{}},du(i)),Na=(o,i)=>Zs(o,o,{tag:"required",process:{}},uu(i)),Io=o=>Zs(o,o,{tag:"option",process:{}},ml()),ks=(o,i)=>Zs(o,o,{tag:"option",process:{}},i),Ud=o=>ks(o,Xu),vs=o=>ks(o,ni),lg=(o,i)=>ks(o,Dc(i)),Rc=o=>ks(o,Oc),z1=(o,i)=>ks(o,uu(i)),ds=(o,i)=>ks(o,In(i)),Xe=(o,i)=>Zs(o,o,Tc(i),ml()),ba=(o,i,c)=>Zs(o,o,Tc(i),c),As=(o,i)=>ba(o,i,Xu),yl=(o,i)=>ba(o,i,ni),Ql=(o,i,c)=>ba(o,i,Dc(c)),Ls=(o,i)=>ba(o,i,Dl),Mr=(o,i)=>ba(o,i,Oc),lr=(o,i,c)=>ba(o,i,uu(c)),va=(o,i,c)=>ba(o,i,In(c)),wl=o=>{if(!F(o))throw new Error("cases must be an array");if(o.length===0)throw new Error("there must be at least one case");const i=[],c={};return qt(o,(u,h)=>{const p=et(u);if(p.length!==1)throw new Error("one and only one name per case");const y=p[0],S=u[y];if(c[y]!==void 0)throw new Error("duplicate key detected:"+y);if(y==="cata")throw new Error("cannot have a case named cata (sorry)");if(!F(S))throw new Error("case arguments must be an array");i.push(y),c[y]=(...k)=>{const O=k.length;if(O!==S.length)throw new Error("Wrong number of arguments to case "+y+". Expected "+S.length+" ("+S+"), got "+O);return{fold:(...M)=>{if(M.length!==o.length)throw new Error("Wrong number of arguments to fold. Expected "+o.length+", got "+M.length);return M[h].apply(null,k)},match:M=>{const N=et(M);if(i.length!==N.length)throw new Error("Wrong number of arguments to match. Expected: "+i.join(",")+`
Actual: `+N.join(","));if(!Qi(i,H=>rt(N,H)))throw new Error("Not all branches were specified when using match. Specified: "+N.join(", ")+`
Required: `+i.join(", "));return M[y].apply(null,k)},log:M=>{console.log(M,{constructors:i,constructor:y,params:k})}}}}),c};wl([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Nc=(o,i)=>((c,u)=>({[c]:u}))(o,i),Ju=o=>(i=>{const c={};return qt(i,u=>{c[u.key]=u.value}),c})(o),em=o=>J(o)?o:Se,cg=(o,i,c)=>{let u=o.dom;const h=em(c);for(;u.parentNode;){u=u.parentNode;const p=nn(u),y=i(p);if(y.isSome())return y;if(h(p))break}return D.none()},ug=(o,i,c)=>{const u=i(o),h=em(c);return u.orThunk(()=>h(o)?D.none():cg(o,i,h))},Lp=(o,i)=>Uo(o.element,i.event.target),Fp={can:Ne,abort:Se,run:pe},hu=o=>{if(!so(o,"can")&&!so(o,"abort")&&!so(o,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(o,null,2)+" does not have can, abort, or run!");return{...Fp,...o}},R=ae,Z=R("touchstart"),ee=R("touchmove"),ke=R("touchend"),Le=R("touchcancel"),At=R("mousedown"),Pn=R("mousemove"),io=R("mouseout"),Xn=R("mouseup"),wn=R("mouseover"),Xo=R("focusin"),Es=R("focusout"),is=R("keydown"),ec=R("keyup"),tm=R("input"),nm=R("change"),Gs=R("click"),ww=R("transitioncancel"),zp=R("transitionend"),H1=R("transitionstart"),$i=R("selectstart"),fs=o=>ae("alloy."+o),di={tap:fs("tap")},pu=fs("focus"),mh=fs("blur.post"),ox=fs("paste.post"),Rl=fs("receive"),Xa=fs("execute"),Hp=fs("focus.item"),Zd=di.tap,YS=fs("longpress"),Vp=fs("sandbox.close"),Qu=fs("typeahead.cancel"),Wd=fs("system.init"),yn=fs("system.touchmove"),Ic=fs("system.touchend"),$p=fs("system.scroll"),jd=fs("system.resize"),Ui=fs("system.attached"),tc=fs("system.detached"),dg=fs("system.dismissRequested"),Kd=fs("system.repositionRequested"),V1=fs("focusmanager.shifted"),Bc=fs("slotcontainer.visibility"),gh=fs("system.external.element.scroll"),hh=fs("change.tab"),Lt=fs("dismiss.tab"),rx=fs("highlight"),qd=fs("dehighlight"),ho=(o,i)=>{nc(o,o.element,i,{})},Cn=(o,i,c)=>{nc(o,o.element,i,c)},Gd=o=>{ho(o,Xa())},Jr=(o,i,c)=>{nc(o,i,c,{})},nc=(o,i,c,u)=>{const h={target:i,...u};o.getSystem().triggerEvent(c,i,h)},oc=(o,i,c,u)=>{o.getSystem().triggerEvent(c,i,u.event)},to=o=>Ju(o),ph=(o,i)=>({key:o,value:hu({abort:i})}),Cw=o=>({key:o,value:hu({run:(i,c)=>{c.event.prevent()}})}),bt=(o,i)=>({key:o,value:hu({run:i})}),sx=(o,i,c)=>({key:o,value:hu({run:(u,h)=>{i.apply(void 0,[u,h].concat(c))}})}),bh=o=>i=>({key:o,value:hu({run:(c,u)=>{Lp(c,u)&&i(c,u)}})}),vh=(o,i,c)=>((u,h)=>bt(u,(p,y)=>{p.getSystem().getByUid(h).each(S=>{oc(S,S.element,u,y)})}))(o,i.partUids[c]),fg=(o,i)=>bt(o,(c,u)=>{const h=u.event,p=c.getSystem().getByDom(h.target).getOrThunk(()=>ug(h.target,y=>c.getSystem().getByDom(y).toOptional(),Se).getOr(c));i(c,p,u)}),om=o=>bt(o,(i,c)=>{c.cut()}),_w=o=>bt(o,(i,c)=>{c.stop()}),Yd=(o,i)=>bh(o)(i),Vr=bh(Ui()),bu=bh(tc()),$1=bh(Wd()),Mc=(am=Xa(),o=>bt(am,o)),rm=o=>yt(o,i=>tu(i,"/*")?i.substring(0,i.length-2):i),Nl=(o,i)=>{const c=o.toString(),u=c.indexOf(")")+1,h=c.indexOf("("),p=c.substring(h+1,u-1).split(/,\s*/);return o.toFunctionAnnotation=()=>({name:i,parameters:rm(p)}),o},Ts=o=>({classes:z(o.classes)?[]:o.classes,attributes:z(o.attributes)?{}:o.attributes,styles:z(o.styles)?{}:o.styles}),Up=(o,i,c)=>$1((u,h)=>{c(u,o,i)}),fi=o=>({key:o,value:void 0}),U1=(o,i,c,u,h,p,y)=>{const S=M=>so(M,c)?M[c]():D.none(),k=Gt(h,(M,N)=>((H,K,G)=>((re,le,me)=>{const ie=me.toString(),se=ie.indexOf(")")+1,de=ie.indexOf("("),ge=ie.substring(de+1,se-1).split(/,\s*/);return re.toFunctionAnnotation=()=>({name:le,parameters:rm(ge.slice(0,1).concat(ge.slice(3)))}),re})((re,...le)=>{const me=[re].concat(le);return re.config({name:ae(H)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+H+". Using API: "+G)},ie=>{const se=Array.prototype.slice.call(me,1);return K.apply(void 0,[re,ie.config,ie.state].concat(se))})},G,K))(c,M,N)),O={...Gt(p,(M,N)=>Nl(M,N)),...k,revoke:Je(fi,c),config:M=>{const N=ra(c+"-config",o,M);return{key:c,value:{config:N,me:O,configAsRaw:Pi(()=>ra(c+"-config",o,M)),initialConfig:M,state:y}}},schema:ae(i),exhibit:(M,N)=>Ht(S(M),jt(u,"exhibit"),(H,K)=>K(N,H.config,H.state)).getOrThunk(()=>Ts({})),name:ae(c),handlers:M=>S(M).map(N=>jt(u,"events").getOr(()=>({}))(N.config,N.state)).getOr({})};return O},rc={init:()=>mi({readState:ae("No State required")})},mi=o=>o,zt=o=>Ju(o),sm=ti([kt("fields"),kt("name"),Xe("active",{}),Xe("apis",{}),Xe("state",rc),Xe("extra",{})]),gi=o=>{const i=ra("Creating behaviour: "+o.name,sm,o);return((c,u,h,p,y,S)=>{const k=ti(c),O=ds(u,[(M=c,ks("config",ti(M)))]);var M;return U1(k,O,u,h,p,y,S)})(i.fields,i.name,i.active,i.apis,i.extra,i.state)},Sw=ti([kt("branchKey"),kt("branches"),kt("name"),Xe("active",{}),Xe("apis",{}),Xe("state",rc),Xe("extra",{})]),kw=o=>{const i=ra("Creating behaviour: "+o.name,Sw,o);return((c,u,h,p,y,S)=>{const k=c,O=ds(u,[ks("config",c)]);return U1(k,O,u,h,p,y,S)})(qs(i.branchKey,i.branches),i.name,i.active,i.apis,i.extra,i.state)},XS=ae(void 0),ed=(o,i)=>{const c=_o(o,i);return c===void 0||c===""?[]:c.split(" ")},mg=o=>o.dom.classList!==void 0,Zp=o=>ed(o,"class"),Z1=(o,i)=>((c,u,h)=>{const p=ed(c,u).concat([h]);return tn(c,u,p.join(" ")),!0})(o,"class",i),ix=(o,i)=>((c,u,h)=>{const p=xo(ed(c,u),y=>y!==h);return p.length>0?tn(c,u,p.join(" ")):mo(c,u),!1})(o,"class",i),as=(o,i)=>{mg(o)?o.dom.classList.add(i):Z1(o,i)},Wp=o=>{(mg(o)?o.dom.classList:Zp(o)).length===0&&mo(o,"class")},ms=(o,i)=>{mg(o)?o.dom.classList.remove(i):ix(o,i),Wp(o)},Ia=(o,i)=>mg(o)&&o.dom.classList.contains(i),Os=(o,i)=>{qt(i,c=>{as(o,c)})},Il=(o,i)=>{qt(i,c=>{ms(o,c)})},td=o=>mg(o)?(i=>{const c=i.dom.classList,u=new Array(c.length);for(let h=0;h<c.length;h++){const p=c.item(h);p!==null&&(u[h]=p)}return u})(o):Zp(o),Si=(o,i,c,u,h)=>{const p=y=>y+"px";return{position:o,left:i.map(p),top:c.map(p),right:u.map(p),bottom:h.map(p)}},jp=(o,i)=>{Ka(o,(c=>({...c,position:D.some(c.position)}))(i))},xh=o=>(Nr(_s(o,"position"),"fixed")?D.none():_c(o)).orThunk(()=>{const i=ci("span");return ta(o).bind(c=>{fa(c,i);const u=_c(i);return yi(i),u})}),Xd=o=>xh(o).map(dl).getOrThunk(()=>Ir(0,0)),Aw=(o,i)=>{const c=o.element;as(c,i.transitionClass),ms(c,i.fadeOutClass),as(c,i.fadeInClass),i.onShow(o)},yh=(o,i)=>{const c=o.element;as(c,i.transitionClass),ms(c,i.fadeInClass),as(c,i.fadeOutClass),i.onHide(o)},ax=(o,i)=>o.y>=i.y,W1=(o,i)=>o.bottom<=i.bottom,Kp=(o,i,c)=>({location:"top",leftX:i,topY:c.bounds.y-o.y}),j1=(o,i,c)=>({location:"bottom",leftX:i,bottomY:o.bottom-c.bounds.bottom}),lx=o=>o.box.x-o.win.x,im=(o,i,c)=>c.getInitialPos().map(u=>{const h=((p,y)=>{const S=y.optScrollEnv.fold(ae(p.bounds.y),k=>k.scrollElmTop+(p.bounds.y-k.currentScrollTop));return Ir(p.bounds.x,S)})(u,i);return{box:bo(h.left,h.top,ui(o),us(o)),location:u.location}}),JS=(o,i,c,u,h)=>{const p=((S,k)=>{const O=k.optScrollEnv.fold(ae(S.y),M=>S.y+M.currentScrollTop-M.scrollElmTop);return Ir(S.x,O)})(i,c),y=bo(p.left,p.top,i.width,i.height);u.setInitialPos({style:Id(o),position:os(o,"position")||"static",bounds:y,location:h.location})},K1=(o,i,c)=>c.getInitialPos().bind(u=>{var h;switch(c.clearInitialPos(),u.position){case"static":return D.some({morph:"static"});case"absolute":const p=xh(o).getOr(fn()),y=Us(p),S=(h=p.dom.scrollTop)!==null&&h!==void 0?h:0;return D.some({morph:"absolute",positionCss:Si("absolute",jt(u.style,"left").map(k=>i.x-y.x),jt(u.style,"top").map(k=>i.y-y.y+S),jt(u.style,"right").map(k=>y.right-i.right),jt(u.style,"bottom").map(k=>y.bottom-i.bottom))});default:return D.none()}}),q1=o=>{switch(o.location){case"top":return D.some({morph:"fixed",positionCss:Si("fixed",D.some(o.leftX),D.some(o.topY),D.none(),D.none())});case"bottom":return D.some({morph:"fixed",positionCss:Si("fixed",D.some(o.leftX),D.none(),D.none(),D.some(o.bottomY))});default:return D.none()}},cx=(o,i,c)=>{const u=o.element;return Nr(_s(u,"position"),"fixed")?((h,p,y)=>((S,k,O)=>im(S,k,O).filter(({box:M})=>((N,H,K)=>Qi(N,G=>{switch(G){case"bottom":return W1(H,K.bounds);case"top":return ax(H,K.bounds)}}))(O.getModes(),M,k)).bind(({box:M})=>K1(S,M,O)))(h,p,y).orThunk(()=>p.optScrollEnv.bind(S=>im(h,p,y)).bind(({box:S,location:k})=>{const O=wi(),M=lx({win:O,box:S}),N=k==="top"?Kp(O,M,p):j1(O,M,p);return q1(N)})))(u,i,c):((h,p,y)=>{const S=Us(h),k=wi(),O=((M,N,H)=>{const K=N.win,G=N.box,re=lx(N);return je(M,le=>{switch(le){case"bottom":return W1(G,H.bounds)?D.none():D.some(j1(K,re,H));case"top":return ax(G,H.bounds)?D.none():D.some(Kp(K,re,H));default:return D.none()}}).getOr({location:"no-dock"})})(y.getModes(),{win:k,box:S},p);return O.location==="top"||O.location==="bottom"?(JS(h,S,p,y,O),q1(O)):D.none()})(u,i,c)},ux=(o,i,c)=>{c.setDocked(!1),qt(["left","right","top","bottom","position"],u=>er(o.element,u)),i.onUndocked(o)},qp=(o,i,c,u)=>{const h=u.position==="fixed";c.setDocked(h),jp(o.element,u),(h?i.onDocked:i.onUndocked)(o)},dx=(o,i,c,u,h=!1)=>{i.contextual.each(p=>{p.lazyContext(o).each(y=>{const S=((k,O)=>k.y<O.bottom&&k.bottom>O.y)(y,u.bounds);S!==c.isVisible()&&(c.setVisible(S),h&&!S?(Os(o.element,[p.fadeOutClass]),p.onHide(o)):(S?Aw:yh)(o,p))})})},fx=(o,i,c,u,h)=>{dx(o,i,c,u,!0),qp(o,i,c,h.positionCss)},Gp=(o,i,c)=>{o.getSystem().isConnected()&&((u,h,p)=>{const y=h.lazyViewport(u);dx(u,h,p,y),cx(u,y,p).each(S=>{((k,O,M,N,H)=>{switch(H.morph){case"static":return ux(k,O,M);case"absolute":return qp(k,O,M,H.positionCss);case"fixed":fx(k,O,M,N,H)}})(u,h,p,y,S)})})(o,i,c)},wh=(o,i,c)=>{c.isDocked()&&((u,h,p)=>{const y=u.element;p.setDocked(!1);const S=h.lazyViewport(u);((k,O,M)=>{const N=k.element;return im(N,O,M).bind(({box:H})=>K1(N,H,M))})(u,S,p).each(k=>{switch(k.morph){case"static":ux(u,h,p);break;case"absolute":qp(u,h,p,k.positionCss)}}),p.setVisible(!0),h.contextual.each(k=>{Il(y,[k.fadeInClass,k.fadeOutClass,k.transitionClass]),k.onShow(u)}),Gp(u,h,p)})(o,i,c)},mx=o=>(i,c,u)=>{const h=c.lazyViewport(i);((p,y,S,k)=>{const O=Us(p),M=wi(),N=k(M,lx({win:M,box:O}),y);return N.location==="bottom"||N.location==="top"?(((H,K,G,re,le)=>{re.getInitialPos().fold(()=>JS(H,K,G,re,le),()=>pe)})(p,O,y,S,N),q1(N)):D.none()})(i.element,h,u,o).each(p=>{fx(i,c,u,h,p)})},Yp=mx(Kp),Xp=mx(j1);var am,Ch=Object.freeze({__proto__:null,refresh:Gp,reset:wh,isDocked:(o,i,c)=>c.isDocked(),getModes:(o,i,c)=>c.getModes(),setModes:(o,i,c,u)=>c.setModes(u),forceDockToTop:Yp,forceDockToBottom:Xp}),gx=Object.freeze({__proto__:null,events:(o,i)=>to([Yd(zp(),(c,u)=>{o.contextual.each(h=>{Ia(c.element,h.transitionClass)&&(Il(c.element,[h.transitionClass,h.fadeInClass]),(i.isVisible()?h.onShown:h.onHidden)(c)),u.stop()})}),bt($p(),(c,u)=>{Gp(c,o,i)}),bt(gh(),(c,u)=>{Gp(c,o,i)}),bt(jd(),(c,u)=>{wh(c,o,i)})])});const nd=o=>o.dom.innerHTML,gg=(o,i)=>{const c=$s(o).dom,u=nn(c.createDocumentFragment()),h=((p,y)=>{const S=(y||document).createElement("div");return S.innerHTML=p,dr(nn(S))})(i,c);Ss(u,h),Wr(o),fa(o,u)},hg=(o,i)=>nn(o.dom.cloneNode(i)),od=o=>(i=>{if(at(i))return"#shadow-root";{const c=(u=>hg(u,!1))(i);return(u=>{const h=ci("div"),p=nn(u.dom.cloneNode(!0));return fa(h,p),nd(h)})(c)}})(o);var Jd;(function(o){o[o.STOP=0]="STOP",o[o.NORMAL=1]="NORMAL",o[o.LOGGING=2]="LOGGING"})(Jd||(Jd={}));const Jp=En({}),QS=["alloy/data/Fields","alloy/debugging/Debugging"],Qp=(o,i,c)=>((u,h,p)=>{switch(jt(Jp.get(),u).orThunk(()=>{const y=et(Jp.get());return je(y,S=>u.indexOf(S)>-1?D.some(Jp.get()[S]):D.none())}).getOr(Jd.NORMAL)){case Jd.NORMAL:return p(sc());case Jd.LOGGING:{const y=((k,O)=>{const M=[],N=new Date().getTime();return{logEventCut:(H,K,G)=>{M.push({outcome:"cut",target:K,purpose:G})},logEventStopped:(H,K,G)=>{M.push({outcome:"stopped",target:K,purpose:G})},logNoParent:(H,K,G)=>{M.push({outcome:"no-parent",target:K,purpose:G})},logEventNoHandlers:(H,K)=>{M.push({outcome:"no-handlers-left",target:K})},logEventResponse:(H,K,G)=>{M.push({outcome:"response",purpose:G,target:K})},write:()=>{const H=new Date().getTime();rt(["mousemove","mouseover","mouseout",Wd()],k)||console.log(k,{event:k,time:H-N,target:O.dom,sequence:yt(M,K=>rt(["cut","stopped","response"],K.outcome)?"{"+K.purpose+"} "+K.outcome+" at ("+od(K.target)+")":K.outcome)})}}})(u,h),S=p(y);return y.write(),S}case Jd.STOP:return!0}})(o,i,c),sc=ae({logEventCut:pe,logEventStopped:pe,logNoParent:pe,logEventNoHandlers:pe,logEventResponse:pe,write:pe}),Ew=ae([kt("menu"),kt("selectedMenu")]),hx=ae([kt("item"),kt("selectedItem")]);ae(In(hx().concat(Ew())));const pg=ae(In(hx())),Zi=Jl("initSize",[kt("numColumns"),kt("numRows")]),bg=()=>Jl("markers",[kt("backgroundMenu")].concat(Ew()).concat(hx())),vg=o=>Jl("markers",yt(o,kt)),G1=(o,i,c)=>((()=>{const u=new Error;if(u.stack!==void 0){const h=u.stack.split(`
`);X(h,p=>p.indexOf("alloy")>0&&!Un(QS,y=>p.indexOf(y)>-1)).getOr("unknown")}})(),Zs(i,i,c,$d(u=>ko.value((...h)=>u.apply(void 0,h))))),Lo=o=>G1(0,o,Tc(pe)),Ja=o=>G1(0,o,Tc(D.none)),vu=o=>G1(0,o,{tag:"required",process:{}}),sa=o=>G1(0,o,{tag:"required",process:{}}),Er=(o,i)=>Ci(o,ae(i)),eb=o=>Ci(o,Ie),Tw=ae(Zi);var ek=[ds("contextual",[ss("fadeInClass"),ss("fadeOutClass"),ss("transitionClass"),pa("lazyContext"),Lo("onShow"),Lo("onShown"),Lo("onHide"),Lo("onHidden")]),Mr("lazyViewport",()=>({bounds:wi(),optScrollEnv:D.none()})),lr("modes",["top","bottom"],ni),Lo("onDocked"),Lo("onUndocked")];const jr=gi({fields:ek,name:"docking",active:gx,apis:Ch,state:Object.freeze({__proto__:null,init:o=>{const i=En(!1),c=En(!0),u=sr(),h=En(o.modes);return mi({isDocked:i.get,setDocked:i.set,getInitialPos:u.get,setInitialPos:u.set,clearInitialPos:u.clear,isVisible:c.get,setVisible:c.set,getModes:h.get,setModes:h.set,readState:()=>`docked:  ${i.get()}, visible: ${c.get()}, modes: ${h.get().join(",")}`})}})}),Y1=to([((o,i)=>({key:o,value:hu({can:(c,u)=>{const h=u.event,p=h.originator,y=h.target;return!((S,k,O)=>Uo(k,S.element)&&!Uo(k,O))(c,p,y)||(console.warn(pu()+` did not get interpreted by the desired target. 
Originator: `+od(p)+`
Target: `+od(y)+`
Check the `+pu()+" event handlers"),!1)}})}))(pu())]);var px=Object.freeze({__proto__:null,events:Y1});const lm=(o,i,c,u)=>{const h=o+i;return h>u?c:h<c?u:h},ic=(o,i,c)=>Math.min(Math.max(o,i),c);let _h=0;const mn=o=>{const i=new Date().getTime(),c=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return _h++,o+"_"+c+_h+String(i)},Pc=ae("alloy-id-"),bx=ae("data-alloy-id"),X1=Pc(),Sh=bx(),J1=(o,i)=>{Object.defineProperty(o.dom,Sh,{value:i,writable:!0})},xg=o=>{const i=Ur(o)?o.dom[Sh]:null;return D.from(i)},ac=o=>mn(o),tk=Ie,Q1=o=>{const i=h=>`The component must be in a context to execute: ${h}`+(o?`
`+od(o().element)+" is not in context.":""),c=h=>()=>{throw new Error(i(h))},u=h=>()=>{console.warn(i(h))};return{debugInfo:ae("fake"),triggerEvent:u("triggerEvent"),triggerFocus:u("triggerFocus"),triggerEscape:u("triggerEscape"),broadcast:u("broadcast"),broadcastOn:u("broadcastOn"),broadcastEvent:u("broadcastEvent"),build:c("build"),buildOrPatch:c("buildOrPatch"),addToWorld:c("addToWorld"),removeFromWorld:c("removeFromWorld"),addToGui:c("addToGui"),removeFromGui:c("removeFromGui"),getByUid:c("getByUid"),getByDom:c("getByDom"),isConnected:Se}},vx=Q1(),ev=mn("alloy-premade"),xx=o=>(Object.defineProperty(o.element.dom,ev,{value:o.uid,writable:!0}),Nc(ev,o)),yx=o=>jt(o,ev),tv=o=>((i,c)=>{const u=c.toString(),h=u.indexOf(")")+1,p=u.indexOf("("),y=u.substring(p+1,h-1).split(/,\s*/);return i.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:rm(y.slice(1))}),i})((i,...c)=>o(i.getApis(),i,...c),o),wx=(o,i)=>{const c={};return Mt(o,(u,h)=>{Mt(u,(p,y)=>{const S=jt(c,y).getOr([]);c[y]=S.concat([i(h,p)])})}),c},Cx=o=>o.cHandler,Ow=(o,i)=>({name:o,handler:i}),nk=(o,i)=>{const c={};return qt(o,u=>{c[u.name()]=u.handlers(i)}),c},tb=(o,i,c)=>{const u=i[c];return u?((h,p,y,S)=>{try{const k=_e(y,(O,M)=>{const N=O[p],H=M[p],K=S.indexOf(N),G=S.indexOf(H);if(K===-1)throw new Error("The ordering for "+h+" does not have an entry for "+N+`.
Order specified: `+JSON.stringify(S,null,2));if(G===-1)throw new Error("The ordering for "+h+" does not have an entry for "+H+`.
Order specified: `+JSON.stringify(S,null,2));return K<G?-1:G<K?1:0});return ko.value(k)}catch(k){return ko.error([k])}})("Event: "+c,"name",o,u).map(h=>(p=>({can:((k,O)=>(...M)=>Mn(k,(N,H)=>N&&(K=>K.can)(H).apply(void 0,M),!0))(p),abort:((k,O)=>(...M)=>Mn(k,(N,H)=>N||(K=>K.abort)(H).apply(void 0,M),!1))(p),run:(...k)=>{qt(p,O=>{O.run.apply(void 0,k)})}}))(yt(h,p=>p.handler))):((h,p)=>ko.error(["The event ("+h+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(yt(p,y=>y.name),null,2)]))(c,o)},_x=(o,i)=>((c,u)=>{const h=(y=>{const S=[],k=[];return qt(y,O=>{O.fold(M=>{S.push(M)},M=>{k.push(M)})}),{errors:S,values:k}})(c);return h.errors.length>0?(p=h.errors,ko.error(pr(p))):((y,S)=>y.length===0?ko.value(S):ko.value(fr(S,Bp.apply(void 0,y))))(h.values,u);var p})(Ko(o,(c,u)=>(c.length===1?ko.value(c[0].handler):tb(c,i,u)).map(h=>{const p=(S=>{const k=(O=>J(O)?{can:Ne,abort:Se,run:O}:O)(S);return(O,M,...N)=>{const H=[O,M].concat(N);k.abort.apply(void 0,H)?M.stop():k.can.apply(void 0,H)&&k.run.apply(void 0,H)}})(h),y=c.length>1?xo(i[u],S=>Un(c,k=>k.name===S)).join(" > "):c[0].name;return Nc(u,((S,k)=>({handler:S,purpose:k}))(p,y))})),{}),yg="alloy.base.behaviour",ok=In([Zs("dom","dom",{tag:"required",process:{}},In([kt("tag"),Xe("styles",{}),Xe("classes",[]),Xe("attributes",{}),Io("value"),Io("innerHtml")])),kt("components"),kt("uid"),Xe("events",{}),Xe("apis",{}),Zs("eventOrder","eventOrder",(wg={[Xa()]:["disabling",yg,"toggling","typeaheadevents"],[pu()]:[yg,"focusing","keying"],[Wd()]:[yg,"disabling","toggling","representing","tooltipping"],[tm()]:[yg,"representing","streaming","invalidating"],[tc()]:[yg,"representing","item-events","toolbar-button-events","tooltipping"],[At()]:["focusing",yg,"item-type-events"],[Z()]:["focusing",yg,"item-type-events"],[wn()]:["item-type-events","tooltipping"],[Rl()]:["receiving","reflecting","tooltipping"]},Po(ae(wg))),ml()),Io("domModification")]),rk=o=>o.events,Qd=o=>o.dom.value,cm=(o,i)=>{if(i===void 0)throw new Error("Value.set was undefined");o.dom.value=i},nv=(o,i,c)=>{c.fold(()=>fa(o,i),u=>{Uo(u,i)||(ju(u,i),yi(u))})},Dw=(o,i,c)=>{const u=yt(i,c),h=dr(o);return qt(h.slice(u.length),yi),u},Sx=(o,i,c,u)=>{const h=Zr(o,i),p=u(c,h),y=((S,k,O)=>Zr(S,k).map(M=>{if(O.exists(N=>!Uo(N,M))){const N=O.map(Aa).getOr("span"),H=ci(N);return ju(M,H),H}return M}))(o,i,h);return nv(o,p.element,y),p},nb=(o,i)=>{const c=et(o),u=et(i),h=ve(u,c),p=((y,S)=>{const k={},O={};return fo(y,(M,N)=>!ao(i,N)||M!==i[N],eo(k),eo(O)),{t:k,f:O}})(o).t;return{toRemove:h,toSet:p}},rd=(o,i)=>{const c=i.filter(u=>Aa(u)===o.tag&&!(h=>h.innerHtml.isSome()&&h.domChildren.length>0)(o)&&!(h=>ao(h.dom,ev))(u)).bind(u=>((h,p)=>{try{const y=((S,k)=>{const{class:O,style:M,...N}=(de=>Mn(de.dom.attributes,(ge,be)=>(ge[be.name]=be.value,ge),{}))(k),{toSet:H,toRemove:K}=nb(S.attributes,N),G=Id(k),{toSet:re,toRemove:le}=nb(S.styles,G),me=td(k),ie=ve(me,S.classes),se=ve(S.classes,me);return qt(K,de=>mo(k,de)),rr(k,H),Os(k,se),Il(k,ie),qt(le,de=>er(k,de)),Ta(k,re),S.innerHtml.fold(()=>{const de=S.domChildren;((ge,be)=>{Dw(ge,be,(Me,qe)=>{const wt=Zr(ge,qe);return nv(ge,Me,wt),Me})})(k,de)},de=>{gg(k,de)}),(()=>{const de=k,ge=S.value.getOrUndefined();ge!==Qd(de)&&cm(de,ge??"")})(),k})(h,p);return D.some(y)}catch{return D.none()}})(o,u)).getOrThunk(()=>(u=>{const h=ci(u.tag);rr(h,u.attributes),Os(h,u.classes),Ta(h,u.styles),u.innerHtml.each(y=>gg(h,y));const p=u.domChildren;return Ss(h,p),u.value.each(y=>{cm(h,y)}),h})(o));return J1(c,o.uid),c},ov=o=>{const i=(c=>{const u=jt(c,"behaviours").getOr({});return jo(et(u),h=>{const p=u[h];return U(p)?[p.me]:[]})})(o);return((c,u)=>((h,p)=>{const y=yt(p,k=>ds(k.name(),[kt("config"),Xe("state",rc)])),S=rs("component.behaviours",In(y),h.behaviours).fold(k=>{throw new Error(Ra(k)+`
Complete spec:
`+JSON.stringify(h,null,2))},Ie);return{list:p,data:Gt(S,k=>{const O=k.map(M=>({config:M.config,state:M.state.init(M.config)}));return ae(O)})}})(c,u))(o,i)},Ys=(o,i)=>{const c=()=>H,u=En(vx),h=ha((K=>rs("custom.definition",ok,K))(o)),p=ov(o),y=(K=>K.list)(p),S=(K=>K.data)(p),k=((K,G,re)=>{const le={...(me=K).dom,uid:me.uid,domChildren:yt(me.components,Me=>Me.element)};var me;const ie=(Me=>Me.domModification.fold(()=>Ts({}),Ts))(K),se={"alloy.base.modification":ie},de=G.length>0?((Me,qe,wt,pt)=>{const mt={...qe};qt(wt,Ao=>{mt[Ao.name()]=Ao.exhibit(Me,pt)});const Pt=wx(mt,(Ao,Lr)=>({name:Ao,modification:Lr})),cn=Ao=>Sn(Ao,(Lr,qr)=>({...qr.modification,...Lr}),{}),bn=Sn(Pt.classes,(Ao,Lr)=>Lr.modification.concat(Ao),[]),Dn=cn(Pt.attributes),Gn=cn(Pt.styles);return Ts({classes:bn,attributes:Dn,styles:Gn})})(re,se,G,le):ie;return ge=le,be=de,{...ge,attributes:{...ge.attributes,...be.attributes},styles:{...ge.styles,...be.styles},classes:ge.classes.concat(be.classes)};var ge,be})(h,y,S),O=rd(k,i),M=((K,G,re)=>{const le={"alloy.base.behaviour":rk(K)};return((me,ie,se,de)=>{const ge=((be,Me,qe)=>{const wt={...qe,...nk(Me,be)};return wx(wt,Ow)})(me,se,de);return _x(ge,ie)})(re,K.eventOrder,G,le).getOrDie()})(h,y,S),N=En(h.components),H={uid:o.uid,getSystem:u.get,config:K=>{const G=S;return(J(G[K.name()])?G[K.name()]:()=>{throw new Error("Could not find "+K.name()+" in "+JSON.stringify(o,null,2))})()},hasConfigured:K=>J(S[K.name()]),spec:o,readState:K=>S[K]().map(G=>G.state.readState()).getOr("not enabled"),getApis:()=>h.apis,connect:K=>{u.set(K)},disconnect:()=>{u.set(Q1(c))},element:O,syncComponents:()=>{const K=dr(O),G=jo(K,re=>u.get().getByDom(re).fold(()=>[],tt));N.set(G)},components:N.get,events:M};return H},xs=o=>{const i=ou(o);return ef({element:i})},ef=o=>{const i=ra("external.component",ti([kt("element"),Io("uid")]),o),c=En(Q1()),u=i.uid.getOrThunk(()=>ac("external"));J1(i.element,u);const h={uid:u,getSystem:c.get,config:D.none,hasConfigured:Se,connect:p=>{c.set(p)},disconnect:()=>{c.set(Q1(()=>h))},getApis:()=>({}),element:i.element,spec:o,readState:ae("No state"),syncComponents:pe,components:ae([]),events:{}};return xx(h)},kx=ac,rv=(o,i)=>yx(o).getOrThunk(()=>((c,u)=>{const{events:h,...p}=tk(c),y=((k,O)=>{const M=jt(k,"components").getOr([]);return O.fold(()=>yt(M,ki),N=>yt(M,(H,K)=>rv(H,Zr(N,K))))})(p,u),S={...p,events:{...px,...h},components:y};return ko.value(Ys(S,u))})((c=>ao(c,"uid"))(o)?o:{uid:kx(""),...o},i).getOrDie()),ki=o=>rv(o,D.none()),Ba=xx;var wg,tf=(o,i,c,u,h)=>o(c,u)?D.some(c):J(h)&&h(c)?D.none():i(c,u,h);const um=(o,i,c)=>{let u=o.dom;const h=J(c)?c:Se;for(;u.parentNode;){u=u.parentNode;const p=nn(u);if(i(p))return D.some(p);if(h(p))break}return D.none()},sv=(o,i,c)=>tf((u,h)=>h(u),um,o,i,c),Rw=(o,i)=>X(o.dom.childNodes,c=>i(nn(c))).map(nn),Ax=(o,i,c)=>sv(o,i,c).isSome(),dm=(o,i,c)=>um(o,u=>wc(u,i),c),Tr=(o,i)=>((c,u)=>{const h=c.dom;return h.parentNode?Rw(nn(h.parentNode),p=>!Uo(c,p)&&wc(p,i)):D.none()})(o),iv=(o,i)=>Rw(o,c=>wc(c,i)),Kr=(o,i)=>Uu(i,o),xu=(o,i,c)=>tf((u,h)=>wc(u,h),dm,o,i,c),Lc="aria-controls",Cg=()=>{const o=mn(Lc);return{id:o,link:i=>{tn(i,Lc,o)},unlink:i=>{mo(i,Lc)}}},Qa=(o,i)=>Ax(i,c=>Uo(c,o.element),Se)||((c,u)=>(h=>sv(h,p=>{if(!Ur(p))return!1;const y=_o(p,"id");return y!==void 0&&y.indexOf(Lc)>-1}).bind(p=>{const y=_o(p,"id"),S=ot(p);return Kr(S,`[${Lc}="${y}"]`)}))(u).exists(h=>Qa(c,h)))(o,i),Wi=(o,i,c,u,h,p,y,S=!1)=>({x:o,y:i,bubble:c,direction:u,placement:h,restriction:p,label:`${y}-${h}`,alwaysFit:S}),fm=wl([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),ob=fm.southeast,_g=fm.southwest,rb=fm.northeast,Sg=fm.northwest,Nw=fm.south,Ex=fm.north,Tx=fm.east,Iw=fm.west,ji=(o,i)=>De(["left","right","top","bottom"],c=>jt(i,c).map(u=>((h,p)=>{switch(p){case 1:return h.x;case 0:return h.x+h.width;case 2:return h.y;case 3:return h.y+h.height}})(o,u))),mm="layout",Bw=o=>o.x,lc=(o,i)=>o.x+o.width/2-i.width/2,Ma=(o,i)=>o.x+o.width-i.width,kg=(o,i)=>o.y-i.height,kh=o=>o.y+o.height,Mw=(o,i)=>o.y+o.height/2-i.height/2,gs=(o,i,c)=>Wi(Bw(o),kh(o),c.southeast(),ob(),"southeast",ji(o,{left:1,top:3}),mm),hs=(o,i,c)=>Wi(Ma(o,i),kh(o),c.southwest(),_g(),"southwest",ji(o,{right:0,top:3}),mm),Fs=(o,i,c)=>Wi(Bw(o),kg(o,i),c.northeast(),rb(),"northeast",ji(o,{left:1,bottom:2}),mm),mr=(o,i,c)=>Wi(Ma(o,i),kg(o,i),c.northwest(),Sg(),"northwest",ji(o,{right:0,bottom:2}),mm),ls=(o,i,c)=>Wi(lc(o,i),kg(o,i),c.north(),Ex(),"north",ji(o,{bottom:2}),mm),Ds=(o,i,c)=>Wi(lc(o,i),kh(o),c.south(),Nw(),"south",ji(o,{top:3}),mm),av=(o,i,c)=>Wi((u=>u.x+u.width)(o),Mw(o,i),c.east(),Tx(),"east",ji(o,{left:0}),mm),lv=(o,i,c)=>Wi(((u,h)=>u.x-h.width)(o,i),Mw(o,i),c.west(),Iw(),"west",ji(o,{right:1}),mm),Ox=()=>[gs,hs,Fs,mr,Ds,ls,av,lv],sb=()=>[hs,gs,mr,Fs,Ds,ls,av,lv],Dx=()=>[Fs,mr,gs,hs,ls,Ds],Ag=()=>[mr,Fs,hs,gs,ls,Ds],cv=()=>[gs,hs,Fs,mr,Ds,ls],uv=()=>[hs,gs,mr,Fs,Ds,ls];var Rx=Object.freeze({__proto__:null,events:o=>to([bt(Rl(),(i,c)=>{const u=o.channels,h=et(u),p=c,y=((S,k)=>k.universal?S:xo(S,O=>rt(k.channels,O)))(h,p);qt(y,S=>{const k=u[S],O=k.schema,M=ra("channel["+S+`] data
Receiver: `+od(i.element),O,p.data);k.onReceive(i,M)})})])}),ib=[_i("channels",Pp(ko.value,ti([vu("onReceive"),Xe("schema",ml())])))];const el=gi({fields:ib,name:"receiving",active:Rx});var Nx=Object.freeze({__proto__:null,exhibit:(o,i)=>Ts({classes:[],styles:i.useFixed()?{}:{position:"relative"}})});const xa=(o,i=!1)=>o.dom.focus({preventScroll:i}),ab=o=>o.dom.blur(),Eg=o=>{const i=ot(o).dom;return o.dom===i.activeElement},Fc=(o=ma())=>D.from(o.dom.activeElement).map(nn),Rs=o=>Fc(ot(o)).filter(i=>o.dom.contains(i.dom)),gm=(o,i)=>{const c=ot(i),u=Fc(c).bind(p=>{const y=S=>Uo(p,S);return y(i)?D.some(i):((S,k)=>{const O=M=>{for(let N=0;N<M.childNodes.length;N++){const H=nn(M.childNodes[N]);if(k(H))return D.some(H);const K=O(M.childNodes[N]);if(K.isSome())return K}return D.none()};return O(S.dom)})(i,y)}),h=o(i);return u.each(p=>{Fc(c).filter(y=>Uo(y,p)).fold(()=>{xa(p)},pe)}),h},Ix=wl([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Bx=(o,i,c,u,h,p)=>{const y=i.rect,S=y.x-c,k=y.y-u,O=h-(S+y.width),M=p-(k+y.height),N=D.some(S),H=D.some(k),K=D.some(O),G=D.some(M),re=D.none();return i.direction.fold(()=>Si(o,N,H,re,re),()=>Si(o,re,H,K,re),()=>Si(o,N,re,re,G),()=>Si(o,re,re,K,G),()=>Si(o,N,H,re,re),()=>Si(o,N,re,re,G),()=>Si(o,N,H,re,re),()=>Si(o,re,H,K,re))},lb=(o,i)=>o.fold(()=>{const c=i.rect;return Si("absolute",D.some(c.x),D.some(c.y),D.none(),D.none())},(c,u,h,p)=>Bx("absolute",i,c,u,h,p),(c,u,h,p)=>Bx("fixed",i,c,u,h,p)),sd=(o,i)=>{const c=Je(Ku,i),u=o.fold(c,c,()=>{const y=Br();return Ku(i).translate(-y.left,-y.top)}),h=Oa(i),p=Gl(i);return bo(u.left,u.top,h,p)},sk=(o,i)=>i.fold(()=>o.fold(wi,wi,bo),c=>o.fold(ae(c),ae(c),()=>{const u=cb(o,c.x,c.y);return bo(u.left,u.top,c.width,c.height)})),cb=(o,i,c)=>{const u=Ir(i,c);return o.fold(ae(u),ae(u),()=>{const h=Br();return u.translate(-h.left,-h.top)})};Ix.none;const hm=Ix.relative,Pw=Ix.fixed,ub="data-alloy-placement",db=o=>No(o,ub),dv=wl([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Ah=(o,i,c,u)=>{const h=o.bubble,p=h.offset,y=((de,ge,be)=>{const Me=(Pt,cn)=>ge[Pt].map(bn=>{const Dn=Pt==="top"||Pt==="bottom",Gn=Dn?be.top:be.left,Ao=(Pt==="left"||Pt==="top"?Math.max:Math.min)(bn,cn)+Gn;return Dn?ic(Ao,de.y,de.bottom):ic(Ao,de.x,de.right)}).getOr(cn),qe=Me("left",de.x),wt=Me("top",de.y),pt=Me("right",de.right),mt=Me("bottom",de.bottom);return bo(qe,wt,pt-qe,mt-wt)})(u,o.restriction,p),S=o.x+p.left,k=o.y+p.top,O=bo(S,k,i,c),{originInBounds:M,sizeInBounds:N,visibleW:H,visibleH:K}=((de,ge)=>{const{x:be,y:Me,right:qe,bottom:wt}=ge,{x:pt,y:mt,right:Pt,bottom:cn,width:bn,height:Dn}=de;return{originInBounds:pt>=be&&pt<=qe&&mt>=Me&&mt<=wt,sizeInBounds:Pt<=qe&&Pt>=be&&cn<=wt&&cn>=Me,visibleW:Math.min(bn,pt>=be?qe-pt:Pt-be),visibleH:Math.min(Dn,mt>=Me?wt-mt:cn-Me)}})(O,y),G=M&&N,re=G?O:((de,ge)=>{const{x:be,y:Me,right:qe,bottom:wt}=ge,{x:pt,y:mt,width:Pt,height:cn}=de,bn=Math.max(be,qe-Pt),Dn=Math.max(Me,wt-cn),Gn=ic(pt,be,bn),Ao=ic(mt,Me,Dn),Lr=Math.min(Gn+Pt,qe)-Gn,qr=Math.min(Ao+cn,wt)-Ao;return bo(Gn,Ao,Lr,qr)})(O,y),le=re.width>0&&re.height>0,{maxWidth:me,maxHeight:ie}=((de,ge,be)=>{const Me=ae(ge.bottom-be.y),qe=ae(be.bottom-ge.y),wt=((cn,bn,Dn,Gn)=>cn.fold(bn,bn,Gn,Gn,bn,Gn,Dn,Dn))(de,qe,qe,Me),pt=ae(ge.right-be.x),mt=ae(be.right-ge.x);return{maxWidth:((cn,bn,Dn,Gn)=>cn.fold(bn,Gn,bn,Gn,Dn,Dn,bn,Gn))(de,mt,mt,pt),maxHeight:wt}})(o.direction,re,u),se={rect:re,maxHeight:ie,maxWidth:me,direction:o.direction,placement:o.placement,classes:{on:h.classesOn,off:h.classesOff},layout:o.label,testY:k};return G||o.alwaysFit?dv.fit(se):dv.nofit(se,H,K,le)},fv=Ne,ya=(o,i,c)=>((u,h,p,y)=>rg(u,h,p,y,!1))(o,i,fv,c),Mx=(o,i,c)=>((u,h,p,y)=>rg(u,h,p,y,!0))(o,i,fv,c),id=Ga,fb=["top","bottom","right","left"],yu="data-alloy-transition-timer",mb=(o,i,c,u,h,p)=>{const y=((S,k,O)=>O.exists(M=>{const N=S.mode;return N==="all"||M[N]!==k[N]}))(u,h,p);if(y||((S,k)=>((O,M)=>Qi(M,N=>Ia(O,N)))(S,k.classes))(o,u)){Jn(o,"position",c.position);const S=sd(i,o),k=lb(i,{...h,rect:S}),O=De(fb,M=>k[M]);((M,N)=>{const H=K=>parseFloat(K).toFixed(3);return yo(N,(K,G)=>!((re,le,me=oe)=>Ht(re,le,me).getOr(re.isNone()&&le.isNone()))(M[G].map(H),K.map(H))).isSome()})(c,O)&&(Ka(o,O),y&&((M,N)=>{Os(M,N.classes),No(M,yu).each(H=>{clearTimeout(parseInt(H,10)),mo(M,yu)}),((H,K)=>{const G=Xl(),re=Xl();let le;const me=ge=>{var be;const Me=(be=ge.raw.pseudoElement)!==null&&be!==void 0?be:"";return Uo(ge.target,H)&&nu(Me)&&rt(fb,ge.raw.propertyName)},ie=ge=>{if(j(ge)||me(ge)){G.clear(),re.clear();const be=ge==null?void 0:ge.raw.type;(j(be)||be===zp())&&(clearTimeout(le),mo(H,yu),Il(H,K.classes))}},se=ya(H,H1(),ge=>{me(ge)&&(se.unbind(),G.set(ya(H,zp(),ie)),re.set(ya(H,ww(),ie)))}),de=(ge=>{const be=pt=>{const mt=os(ge,pt).split(/\s*,\s*/);return xo(mt,Wa)},Me=pt=>{if(v(pt)&&/^[\d.]+/.test(pt)){const mt=parseFloat(pt);return tu(pt,"ms")?mt:1e3*mt}return 0},qe=be("transition-delay"),wt=be("transition-duration");return Mn(wt,(pt,mt,Pt)=>{const cn=Me(qe[Pt])+Me(mt);return Math.max(pt,cn)},0)})(H);requestAnimationFrame(()=>{le=setTimeout(ie,de+17),tn(H,yu,le)})})(M,N)})(o,u),su(o))}else Il(o,u.classes)},gb=(o,i)=>{((c,u)=>{const h=ih.max(c,u,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);Jn(c,"max-height",h+"px")})(o,Math.floor(i))},pm=ae((o,i)=>{gb(o,i),Ta(o,{"overflow-x":"hidden","overflow-y":"auto"})}),Tg=ae((o,i)=>{gb(o,i)}),cc=(o,i,c)=>o[i]===void 0?c:o[i],hb=(o,i,c,u)=>{const h=((p,y,S,k)=>{er(y,"max-height"),er(y,"max-width");const O={width:Oa(M=y),height:Gl(M)};var M;return((N,H,K,G,re,le)=>{const me=G.width,ie=G.height,se=(de,ge,be,Me,qe)=>{const wt=de(K,G,re,N,le),pt=Ah(wt,me,ie,le);return pt.fold(ae(pt),(mt,Pt,cn,bn)=>(qe===bn?cn>Me||Pt>be:!qe&&bn)?pt:dv.nofit(ge,be,Me,qe))};return Mn(H,(de,ge)=>{const be=Je(se,ge);return de.fold(ae(de),be)},dv.nofit({rect:K,maxHeight:G.height,maxWidth:G.width,direction:ob(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:K.y},-1,-1,!1)).fold(Ie,Ie)})(y,k.preference,p,O,S,k.bounds)})(o,i,c,u);return((p,y,S)=>{const k=lb(S.origin,y);S.transition.each(O=>{mb(p,S.origin,k,O,y,S.lastPlacement)}),jp(p,k)})(i,h,u),((p,y)=>{((S,k)=>{tn(S,ub,k)})(p,y.placement)})(i,h),((p,y)=>{const S=y.classes;Il(p,S.off),Os(p,S.on)})(i,h),((p,y,S)=>{(0,S.maxHeightFunction)(p,y.maxHeight)})(i,h,u),((p,y,S)=>{(0,S.maxWidthFunction)(p,y.maxWidth)})(i,h,u),{layout:h.layout,placement:h.placement}},ik=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Bl=(o,i,c,u=1)=>{const h=o*u,p=i*u,y=k=>jt(c,k).getOr([]),S=(k,O,M)=>{const N=ve(ik,M);return{offset:Ir(k,O),classesOn:jo(M,y),classesOff:jo(N,y)}};return{southeast:()=>S(-o,i,["top","alignLeft"]),southwest:()=>S(o,i,["top","alignRight"]),south:()=>S(-o/2,i,["top","alignCentre"]),northeast:()=>S(-o,-i,["bottom","alignLeft"]),northwest:()=>S(o,-i,["bottom","alignRight"]),north:()=>S(-o/2,-i,["bottom","alignCentre"]),east:()=>S(o,-i/2,["valignCentre","left"]),west:()=>S(-o,-i/2,["valignCentre","right"]),insetNortheast:()=>S(h,p,["top","alignLeft","inset"]),insetNorthwest:()=>S(-h,p,["top","alignRight","inset"]),insetNorth:()=>S(-h/2,p,["top","alignCentre","inset"]),insetSoutheast:()=>S(h,-p,["bottom","alignLeft","inset"]),insetSouthwest:()=>S(-h,-p,["bottom","alignRight","inset"]),insetSouth:()=>S(-h/2,-p,["bottom","alignCentre","inset"]),insetEast:()=>S(-h,-p/2,["valignCentre","right","inset"]),insetWest:()=>S(h,-p/2,["valignCentre","left","inset"])}},ad=()=>Bl(0,0,{}),uc=Ie,Px=(o,i)=>c=>oi(c)==="rtl"?i:o,oi=o=>os(o,"direction")==="rtl"?"rtl":"ltr";var dc;(function(o){o.TopToBottom="toptobottom",o.BottomToTop="bottomtotop"})(dc||(dc={}));const tl="data-alloy-vertical-dir",ak=o=>Ax(o,i=>Ur(i)&&_o(i,"data-alloy-vertical-dir")===dc.BottomToTop),nf=()=>ds("layouts",[kt("onLtr"),kt("onRtl"),Io("onBottomLtr"),Io("onBottomRtl")]),ld=(o,i,c,u,h,p,y)=>{const S=y.map(ak).getOr(!1),k=i.layouts.map(H=>H.onLtr(o)),O=i.layouts.map(H=>H.onRtl(o)),M=S?i.layouts.bind(H=>H.onBottomLtr.map(K=>K(o))).or(k).getOr(h):k.getOr(c),N=S?i.layouts.bind(H=>H.onBottomRtl.map(K=>K(o))).or(O).getOr(p):O.getOr(u);return Px(M,N)(o)};var Eh=[kt("hotspot"),Io("bubble"),Xe("overrides",{}),nf(),Er("placement",(o,i,c)=>{const u=i.hotspot,h=sd(c,u.element),p=ld(o.element,i,cv(),uv(),Dx(),Ag(),D.some(i.hotspot.element));return D.some(uc({anchorBox:h,bubble:i.bubble.getOr(ad()),overrides:i.overrides,layouts:p}))})],bm=[kt("x"),kt("y"),Xe("height",0),Xe("width",0),Xe("bubble",ad()),Xe("overrides",{}),nf(),Er("placement",(o,i,c)=>{const u=cb(c,i.x,i.y),h=bo(u.left,u.top,i.width,i.height),p=ld(o.element,i,Ox(),sb(),Ox(),sb(),D.none());return D.some(uc({anchorBox:h,bubble:i.bubble,overrides:i.overrides,layouts:p}))})];const Cl=wl([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),mv=o=>o.fold(Ie,(i,c,u)=>i.translate(-c,-u)),gv=o=>o.fold(Ie,Ie),pb=o=>Mn(o,(i,c)=>i.translate(c.left,c.top),Ir(0,0)),hv=o=>{const i=yt(o,gv);return pb(i)},Lw=Cl.screen,bb=Cl.absolute,cd=(o,i,c)=>{const u=$s(o.element),h=Br(u),p=((y,S,k)=>{const O=Cc(k.root).dom;return D.from(O.frameElement).map(nn).filter(M=>{const N=$s(M),H=$s(y.element);return Uo(N,H)}).map(dl)})(o,0,c).getOr(h);return bb(p,h.left,h.top)},vb=(o,i,c,u)=>{const h=Lw(Ir(o,i));return D.some(((p,y,S)=>({point:p,width:y,height:S}))(h,c,u))},Og=(o,i,c,u,h)=>o.map(p=>{const y=[i,p.point],S=(k=()=>hv(y),O=()=>hv(y),M=()=>(se=>{const de=yt(se,mv);return pb(de)})(y),u.fold(k,O,M));var k,O,M;const N=(re=S.left,le=S.top,me=p.width,ie=p.height,{x:re,y:le,width:me,height:ie}),H=c.showAbove?Dx():cv(),K=c.showAbove?Ag():uv(),G=ld(h,c,H,K,H,K,D.none());var re,le,me,ie;return uc({anchorBox:N,bubble:c.bubble.getOr(ad()),overrides:c.overrides,layouts:G})});var Dg=[kt("node"),kt("root"),Io("bubble"),nf(),Xe("overrides",{}),Xe("showAbove",!1),Er("placement",(o,i,c)=>{const u=cd(o,0,i);return i.node.filter(an).bind(h=>{const p=h.dom.getBoundingClientRect(),y=vb(p.left,p.top,p.width,p.height),S=i.node.getOr(o.element);return Og(y,u,i,c,S)})})];const of=(o,i,c,u)=>({start:o,soffset:i,finish:c,foffset:u}),rf=wl([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),xb=(rf.before,rf.on,rf.after,o=>o.fold(Ie,Ie,Ie)),sf=wl([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),af={domRange:sf.domRange,relative:sf.relative,exact:sf.exact,exactFromRange:o=>sf.exact(o.start,o.soffset,o.finish,o.foffset),getWin:o=>{const i=(c=>c.match({domRange:u=>nn(u.startContainer),relative:(u,h)=>xb(u),exact:(u,h,p,y)=>u}))(o);return Cc(i)},range:of},lf=(o,i,c)=>{const u=o.document.createRange();var h;return h=u,i.fold(p=>{h.setStartBefore(p.dom)},(p,y)=>{h.setStart(p.dom,y)},p=>{h.setStartAfter(p.dom)}),((p,y)=>{y.fold(S=>{p.setEndBefore(S.dom)},(S,k)=>{p.setEnd(S.dom,k)},S=>{p.setEndAfter(S.dom)})})(u,c),u},Rg=(o,i,c,u,h)=>{const p=o.document.createRange();return p.setStart(i.dom,c),p.setEnd(u.dom,h),p},pv=o=>({left:o.left,top:o.top,right:o.right,bottom:o.bottom,width:o.width,height:o.height}),Th=wl([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),bv=(o,i,c)=>i(nn(c.startContainer),c.startOffset,nn(c.endContainer),c.endOffset),Lx=(o,i)=>((c,u)=>{const h=((p,y)=>y.match({domRange:S=>({ltr:ae(S),rtl:D.none}),relative:(S,k)=>({ltr:Pi(()=>lf(p,S,k)),rtl:Pi(()=>D.some(lf(p,k,S)))}),exact:(S,k,O,M)=>({ltr:Pi(()=>Rg(p,S,k,O,M)),rtl:Pi(()=>D.some(Rg(p,O,M,S,k)))})}))(c,u);return((p,y)=>{const S=y.ltr();return S.collapsed?y.rtl().filter(k=>k.collapsed===!1).map(k=>Th.rtl(nn(k.endContainer),k.endOffset,nn(k.startContainer),k.startOffset)).getOrThunk(()=>bv(0,Th.ltr,S)):bv(0,Th.ltr,S)})(0,h)})(o,i).match({ltr:(c,u,h,p)=>{const y=o.document.createRange();return y.setStart(c.dom,u),y.setEnd(h.dom,p),y},rtl:(c,u,h,p)=>{const y=o.document.createRange();return y.setStart(h.dom,p),y.setEnd(c.dom,u),y}});Th.ltr,Th.rtl;const Oh=(o,i,c)=>xo(((u,h)=>{const p=J(h)?h:Se;let y=u.dom;const S=[];for(;y.parentNode!==null&&y.parentNode!==void 0;){const k=y.parentNode,O=nn(k);if(S.push(O),p(O)===!0)break;y=k}return S})(o,c),i),ri=(o,i)=>((c,u)=>{const h=u===void 0?document:u.dom;return Nd(h)?[]:yt(h.querySelectorAll(c),nn)})(i,o),Fx=o=>{if(o.rangeCount>0){const i=o.getRangeAt(0),c=o.getRangeAt(o.rangeCount-1);return D.some(of(nn(i.startContainer),i.startOffset,nn(c.endContainer),c.endOffset))}return D.none()},Fw=o=>{if(o.anchorNode===null||o.focusNode===null)return Fx(o);{const i=nn(o.anchorNode),c=nn(o.focusNode);return((u,h,p,y)=>{const S=((O,M,N,H)=>{const K=$s(O).dom.createRange();return K.setStart(O.dom,M),K.setEnd(N.dom,H),K})(u,h,p,y),k=Uo(u,p)&&h===y;return S.collapsed&&!k})(i,o.anchorOffset,c,o.focusOffset)?D.some(of(i,o.anchorOffset,c,o.focusOffset)):Fx(o)}},zx=(o,i)=>(c=>{const u=c.getClientRects(),h=u.length>0?u[0]:c.getBoundingClientRect();return h.width>0||h.height>0?D.some(h).map(pv):D.none()})(Lx(o,i)),Hx=((o,i)=>{const c=u=>o(u)?D.from(u.dom.nodeValue):D.none();return{get:u=>{if(!o(u))throw new Error("Can only get text value of a text node");return c(u).getOr("")},getOption:c,set:(u,h)=>{if(!o(u))throw new Error("Can only set raw text value of a text node");u.dom.nodeValue=h}}})(ea),cf=(o,i)=>({element:o,offset:i}),vv=(o,i)=>ea(o)?cf(o,i):((c,u)=>{const h=dr(c);if(h.length===0)return cf(c,u);if(u<h.length)return cf(h[u],0);{const p=h[h.length-1],y=ea(p)?(S=>Hx.get(S))(p).length:dr(p).length;return cf(p,y)}})(o,i),yb=o=>o.foffset!==void 0,Vx=(o,i)=>i.getSelection.getOrThunk(()=>()=>(c=>(u=>D.from(u.getSelection()))(c).filter(u=>u.rangeCount>0).bind(Fw))(o))().map(c=>{if(yb(c)){const u=vv(c.start,c.soffset),h=vv(c.finish,c.foffset);return af.range(u.element,u.offset,h.element,h.offset)}return c});var lk=[Io("getSelection"),kt("root"),Io("bubble"),nf(),Xe("overrides",{}),Xe("showAbove",!1),Er("placement",(o,i,c)=>{const u=Cc(i.root).dom,h=cd(o,0,i),p=Vx(u,i).bind(S=>{if(yb(S))return((O,M)=>(N=>{const H=N.getBoundingClientRect();return H.width>0||H.height>0?D.some(H).map(pv):D.none()})(Lx(O,M)))(u,af.exactFromRange(S)).orThunk(()=>{const O=ou("\uFEFF");ju(S.start,O);const M=zx(u,af.exact(O,0,O,1));return yi(O),M}).bind(O=>vb(O.left,O.top,O.width,O.height));{const k=Gt(S,M=>M.dom.getBoundingClientRect()),O={left:Math.min(k.firstCell.left,k.lastCell.left),right:Math.max(k.firstCell.right,k.lastCell.right),top:Math.min(k.firstCell.top,k.lastCell.top),bottom:Math.max(k.firstCell.bottom,k.lastCell.bottom)};return vb(O.left,O.top,O.right-O.left,O.bottom-O.top)}}),y=Vx(u,i).bind(S=>yb(S)?Ur(S.start)?D.some(S.start):na(S.start):D.some(S.firstCell)).getOr(o.element);return Og(p,h,i,c,y)})];const uf="link-layout",wb=o=>o.x+o.width,zw=(o,i)=>o.x-i.width,Hw=(o,i)=>o.y-i.height+o.height,zc=o=>o.y,$x=(o,i,c)=>Wi(wb(o),zc(o),c.southeast(),ob(),"southeast",ji(o,{left:0,top:2}),uf),xv=(o,i,c)=>Wi(zw(o,i),zc(o),c.southwest(),_g(),"southwest",ji(o,{right:1,top:2}),uf),Vw=(o,i,c)=>Wi(wb(o),Hw(o,i),c.northeast(),rb(),"northeast",ji(o,{left:0,bottom:3}),uf),Ng=(o,i,c)=>Wi(zw(o,i),Hw(o,i),c.northwest(),Sg(),"northwest",ji(o,{right:1,bottom:3}),uf),Dh=()=>[$x,xv,Vw,Ng],Cb=()=>[xv,$x,Ng,Vw];var $w=[kt("item"),nf(),Xe("overrides",{}),Er("placement",(o,i,c)=>{const u=sd(c,i.item.element),h=ld(o.element,i,Dh(),Cb(),Dh(),Cb(),D.none());return D.some(uc({anchorBox:u,bubble:ad(),overrides:i.overrides,layouts:h}))})],Hc=qs("type",{selection:lk,node:Dg,hotspot:Eh,submenu:$w,makeshift:bm});const vm=[Na("classes",ni),Ql("mode","all",["all","layout","placement"])],_b=[Xe("useFixed",Se),Io("getBounds")],Sb=[_i("anchor",Hc),ds("transition",vm)],yv=(o,i,c,u,h,p)=>{const y=ra("placement.info",In(Sb),h),S=y.anchor,k=u.element,O=c.get(u.uid);gm(()=>{Jn(k,"position","fixed");const M=_s(k,"visibility");Jn(k,"visibility","hidden");const N=i.useFixed()?(()=>{const H=document.documentElement;return Pw(0,0,H.clientWidth,H.clientHeight)})():(H=>{const K=dl(H.element),G=H.element.dom.getBoundingClientRect();return hm(K.left,K.top,G.width,G.height)})(o);S.placement(o,S,N).each(H=>{const K=p.orThunk(()=>i.getBounds.map(gt)),G=((re,le,me,ie,se,de)=>((ge,be,Me,qe,wt,pt,mt,Pt)=>{const cn=cc(mt,"maxHeightFunction",pm()),bn=cc(mt,"maxWidthFunction",pe),Dn=ge.anchorBox,Gn=ge.origin,Ao={bounds:sk(Gn,pt),origin:Gn,preference:qe,maxHeightFunction:cn,maxWidthFunction:bn,lastPlacement:wt,transition:Pt};return hb(Dn,be,Me,Ao)})(((ge,be)=>((Me,qe)=>({anchorBox:Me,origin:qe}))(ge,be))(le.anchorBox,re),ie.element,le.bubble,le.layouts,se,me,le.overrides,de))(N,H,K,u,O,y.transition);c.set(u.uid,G)}),M.fold(()=>{er(k,"visibility")},H=>{Jn(k,"visibility",H)}),_s(k,"left").isNone()&&_s(k,"top").isNone()&&_s(k,"right").isNone()&&_s(k,"bottom").isNone()&&Nr(_s(k,"position"),"fixed")&&er(k,"position")},k)};var kb=Object.freeze({__proto__:null,position:(o,i,c,u,h)=>{const p=D.none();yv(o,i,c,u,h,p)},positionWithinBounds:yv,getMode:(o,i,c)=>i.useFixed()?"fixed":"absolute",reset:(o,i,c,u)=>{const h=u.element;qt(["position","left","right","top","bottom"],p=>er(h,p)),(p=>{mo(p,ub)})(h),c.clear(u.uid)}});const Ki=gi({fields:_b,name:"positioning",active:Nx,apis:kb,state:Object.freeze({__proto__:null,init:()=>{let o={};return mi({readState:()=>o,clear:i=>{U(i)?delete o[i]:o={}},set:(i,c)=>{o[i]=c},get:i=>jt(o,i)})}})}),wv=o=>o.getSystem().isConnected(),xm=o=>{ho(o,tc());const i=o.components();qt(i,xm)},ym=o=>{const i=o.components();qt(i,ym),ho(o,Ui())},Ab=(o,i)=>{o.getSystem().addToWorld(i),an(o.element)&&ym(i)},Cv=o=>{xm(o),o.getSystem().removeFromWorld(o)},Ig=(o,i)=>{fa(o.element,i.element)},df=(o,i)=>{Ux(o,i,fa)},Ux=(o,i,c)=>{o.getSystem().addToWorld(i),c(o.element,i.element),an(o.element)&&ym(i),o.syncComponents()},_v=o=>{xm(o),yi(o.element),o.getSystem().removeFromWorld(o)},Pa=o=>{const i=ta(o.element).bind(c=>o.getSystem().getByDom(c).toOptional());_v(o),i.each(c=>{c.syncComponents()})},ff=o=>{const i=o.components();qt(i,_v),Wr(o.element),o.syncComponents()},Zx=(o,i)=>{Rh(o,i,fa)},ft=(o,i)=>{Rh(o,i,sg)},Rh=(o,i,c)=>{c(o,i.element);const u=dr(i.element);qt(u,h=>{i.getByDom(h).each(ym)})},ck=o=>{const i=dr(o.element);qt(i,c=>{o.getByDom(c).each(xm)}),yi(o.element)},Uw=(o,i,c,u)=>{c.get().each(y=>{ff(o)});const h=i.getAttachPoint(o);df(h,o);const p=o.getSystem().build(u);return df(o,p),c.set(p),p},Sv=(o,i,c,u)=>{const h=Uw(o,i,c,u);return i.onOpen(o,h),h},Vc=(o,i,c)=>{c.get().each(u=>{ff(o),Pa(o),i.onClose(o,u),c.clear()})},kv=(o,i,c)=>c.isOpen(),Eb=(o,i,c)=>{const u=i.getAttachPoint(o);Jn(o.element,"position",Ki.getMode(u)),((h,p,y,S)=>{_s(h.element,p).fold(()=>{mo(h.element,y)},k=>{tn(h.element,y,k)}),Jn(h.element,p,"hidden")})(o,"visibility",i.cloakVisibilityAttr)},Wx=(o,i,c)=>{(u=>Un(["top","left","right","bottom"],h=>_s(u,h).isSome()))(o.element)||er(o.element,"position"),((u,h,p)=>{No(u.element,p).fold(()=>er(u.element,h),y=>Jn(u.element,h,y))})(o,"visibility",i.cloakVisibilityAttr)};var jx=Object.freeze({__proto__:null,cloak:Eb,decloak:Wx,open:Sv,openWhileCloaked:(o,i,c,u,h)=>{Eb(o,i),Sv(o,i,c,u),h(),Wx(o,i)},close:Vc,isOpen:kv,isPartOf:(o,i,c,u)=>kv(0,0,c)&&c.get().exists(h=>i.isPartOf(o,h,u)),getState:(o,i,c)=>c.get(),setContent:(o,i,c,u)=>c.get().map(()=>Uw(o,i,c,u))}),uk=Object.freeze({__proto__:null,events:(o,i)=>to([bt(Vp(),(c,u)=>{Vc(c,o,i)})])}),b=[Lo("onOpen"),Lo("onClose"),kt("isPartOf"),kt("getAttachPoint"),Xe("cloakVisibilityAttr","data-precloak-visibility")],_=Object.freeze({__proto__:null,init:()=>{const o=sr(),i=ae("not-implemented");return mi({readState:i,isOpen:o.isSet,clear:o.clear,set:o.set,get:o.get})}});const T=gi({fields:b,name:"sandboxing",active:uk,apis:jx,state:_}),B=ae("dismiss.popups"),V=ae("reposition.popups"),$=ae("mouse.released"),Q=ti([Xe("isExtraPart",Se),ds("fireEventInstead",[Xe("event",dg())])]),te=o=>{const i=ra("Dismissal",Q,o);return{[B()]:{schema:ti([kt("target")]),onReceive:(c,u)=>{T.isOpen(c)&&(T.isPartOf(c,u.target)||i.isExtraPart(c,u.target)||i.fireEventInstead.fold(()=>T.close(c),h=>ho(c,h.event)))}}}},fe=ti([ds("fireEventInstead",[Xe("event",Kd())]),pa("doReposition")]),Ae=o=>{const i=ra("Reposition",fe,o);return{[V()]:{onReceive:c=>{T.isOpen(c)&&i.fireEventInstead.fold(()=>i.doReposition(c),u=>ho(c,u.event))}}}},ze=(o,i,c)=>{i.store.manager.onLoad(o,i,c)},Ce=(o,i,c)=>{i.store.manager.onUnload(o,i,c)};var Te=Object.freeze({__proto__:null,onLoad:ze,onUnload:Ce,setValue:(o,i,c,u)=>{i.store.manager.setValue(o,i,c,u)},getValue:(o,i,c)=>i.store.manager.getValue(o,i,c),getState:(o,i,c)=>c}),Be=Object.freeze({__proto__:null,events:(o,i)=>{const c=o.resetOnDom?[Vr((u,h)=>{ze(u,o,i)}),bu((u,h)=>{Ce(u,o,i)})]:[Up(o,i,ze)];return to(c)}});const Ge=()=>{const o=En(null);return mi({set:o.set,get:o.get,isNotSet:()=>o.get()===null,clear:()=>{o.set(null)},readState:()=>({mode:"memory",value:o.get()})})},Qe=()=>{const o=En({}),i=En({});return mi({readState:()=>({mode:"dataset",dataByValue:o.get(),dataByText:i.get()}),lookup:c=>jt(o.get(),c).orThunk(()=>jt(i.get(),c)),update:c=>{const u=o.get(),h=i.get(),p={},y={};qt(c,S=>{p[S.value]=S,jt(S,"meta").each(k=>{jt(k,"text").each(O=>{y[O]=S})})}),o.set({...u,...p}),i.set({...h,...y})},clear:()=>{o.set({}),i.set({})}})};var St=Object.freeze({__proto__:null,memory:Ge,dataset:Qe,manual:()=>mi({readState:pe}),init:o=>o.store.manager.state(o)});const Et=(o,i,c,u)=>{const h=i.store;c.update([u]),h.setValue(o,u),i.onSetValue(o,u)};var Ct=[Io("initialValue"),kt("getFallbackEntry"),kt("getDataKey"),kt("setValue"),Er("manager",{setValue:Et,getValue:(o,i,c)=>{const u=i.store,h=u.getDataKey(o);return c.lookup(h).getOrThunk(()=>u.getFallbackEntry(h))},onLoad:(o,i,c)=>{i.store.initialValue.each(u=>{Et(o,i,c,u)})},onUnload:(o,i,c)=>{c.clear()},state:Qe})],Dt=[kt("getValue"),Xe("setValue",pe),Io("initialValue"),Er("manager",{setValue:(o,i,c,u)=>{i.store.setValue(o,u),i.onSetValue(o,u)},getValue:(o,i,c)=>i.store.getValue(o),onLoad:(o,i,c)=>{i.store.initialValue.each(u=>{i.store.setValue(o,u)})},onUnload:pe,state:rc.init})],$t=[Io("initialValue"),Er("manager",{setValue:(o,i,c,u)=>{c.set(u),i.onSetValue(o,u)},getValue:(o,i,c)=>c.get(),onLoad:(o,i,c)=>{i.store.initialValue.each(u=>{c.isNotSet()&&c.set(u)})},onUnload:(o,i,c)=>{c.clear()},state:Ge})],Kt=[ba("store",{mode:"memory"},qs("mode",{memory:$t,manual:Dt,dataset:Ct})),Lo("onSetValue"),Xe("resetOnDom",!1)];const nt=gi({fields:Kt,name:"representing",active:Be,apis:Te,extra:{setValueFrom:(o,i)=>{const c=nt.getValue(i);nt.setValue(o,c)}},state:St}),gn=(o,i)=>va(o,{},yt(i,c=>{return u=c.name(),h="Cannot configure "+c.name()+" for "+o,Zs(u,u,{tag:"option",process:{}},lu(p=>Da("The field: "+u+" is forbidden. "+h)));var u,h}).concat([Ci("dump",Ie)])),Hn=o=>o.dump,co=(o,i)=>({...zt(i),...o.dump}),Kn=gn,Vn=co,lo="placeholder",Bo=wl([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),zs=o=>ao(o,"uiType"),ia=(o,i,c,u)=>((h,p,y,S)=>zs(y)&&y.uiType===lo?((k,O,M,N)=>k.exists(H=>H!==M.owner)?Bo.single(!0,ae(M)):jt(N,M.name).fold(()=>{throw new Error("Unknown placeholder component: "+M.name+`
Known: [`+et(N)+`]
Namespace: `+k.getOr("none")+`
Spec: `+JSON.stringify(M,null,2))},H=>H.replace()))(h,0,y,S):Bo.single(!1,ae(y)))(o,0,c,u).fold((h,p)=>{const y=zs(c)?p(i,c.config,c.validated):p(i),S=jt(y,"components").getOr([]),k=jo(S,O=>ia(o,i,O,u));return[{...y,components:k}]},(h,p)=>{if(zs(c)){const y=p(i,c.config,c.validated);return c.validated.preprocess.getOr(Ie)(y)}return p(i)}),Ai=Bo.single,Ml=Bo.multiple,wm=ae(lo),aa=wl([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),wu=Xe("factory",{sketch:Ie}),Nh=Xe("schema",[]),mf=kt("name"),Ih=Zs("pname","pname",ag(o=>"<alloy."+mn(o.name)+">"),ml()),Av=Ci("schema",()=>[Io("preprocess")]),gf=Xe("defaults",ae({})),Zw=Xe("overrides",ae({})),m8=In([wu,Nh,mf,Ih,gf,Zw]),g8=In([wu,Nh,mf,gf,Zw]),XT=In([wu,Nh,mf,Ih,gf,Zw]),hn=In([wu,Av,mf,kt("unit"),Ih,gf,Zw]),Kx=o=>o.fold(D.some,D.none,D.some,D.some),dk=o=>{const i=c=>c.name;return o.fold(i,i,i,i)},Ww=(o,i)=>c=>{const u=ra("Converting part type",i,c);return o(u)},nl=Ww(aa.required,m8),ud=Ww(aa.external,g8),$c=Ww(aa.optional,XT),jw=Ww(aa.group,hn),fk=ae("entirety");var JT=Object.freeze({__proto__:null,required:nl,external:ud,optional:$c,group:jw,asNamedPart:Kx,name:dk,asCommon:o=>o.fold(Ie,Ie,Ie,Ie),original:fk});const mk=(o,i,c,u)=>fr(i.defaults(o,c,u),c,{uid:o.partUids[i.name]},i.overrides(o,c,u)),La=(o,i)=>{const c={};return qt(i,u=>{Kx(u).each(h=>{const p=qx(o,h.pname);c[h.name]=y=>{const S=ra("Part: "+h.name+" in "+o,In(h.schema),y);return{...p,config:y,validated:S}}})}),c},qx=(o,i)=>({uiType:wm(),owner:o,name:i}),gk=(o,i,c)=>({uiType:wm(),owner:o,name:i,config:c,validated:{}}),QT=o=>jo(o,i=>i.fold(D.none,D.some,D.none,D.none).map(c=>Jl(c.name,c.schema.concat([eb(fk())]))).toArray()),eO=o=>yt(o,dk),hk=(o,i,c)=>((u,h,p)=>{const y={},S={};return qt(p,k=>{k.fold(O=>{y[O.pname]=Ai(!0,(M,N,H)=>O.factory.sketch(mk(M,O,N,H)))},O=>{const M=h.parts[O.name];S[O.name]=ae(O.factory.sketch(mk(h,O,M[fk()]),M))},O=>{y[O.pname]=Ai(!1,(M,N,H)=>O.factory.sketch(mk(M,O,N,H)))},O=>{y[O.pname]=Ml(!0,(M,N,H)=>{const K=M[O.name];return yt(K,G=>O.factory.sketch(fr(O.defaults(M,G,H),G,O.overrides(M,G))))})})}),{internals:ae(y),externals:ae(S)}})(0,i,c),pk=(o,i,c)=>((u,h,p,y)=>{const S=Gt(y,(O,M)=>((N,H)=>{let K=!1;return{name:ae(N),required:()=>H.fold((G,re)=>G,(G,re)=>G),used:()=>K,replace:()=>{if(K)throw new Error("Trying to use the same placeholder more than once: "+N);return K=!0,H}}})(M,O)),k=((O,M,N,H)=>jo(N,K=>ia(O,M,K,H)))(u,h,p,S);return Mt(S,O=>{if(O.used()===!1&&O.required())throw new Error("Placeholder: "+O.name()+` was not found in components list
Namespace: `+u.getOr("none")+`
Components: `+JSON.stringify(h.components,null,2))}),k})(D.some(o),i,i.components,c),Or=(o,i,c)=>{const u=i.partUids[c];return o.getSystem().getByUid(u).toOptional()},Bg=(o,i,c)=>Or(o,i,c).getOrDie("Could not find part: "+c),tO=(o,i,c)=>{const u={},h=i.partUids,p=o.getSystem();return qt(c,y=>{u[y]=ae(p.getByUid(h[y]))}),u},bk=(o,i)=>{const c=o.getSystem();return Gt(i.partUids,(u,h)=>ae(c.getByUid(u)))},nO=o=>et(o.partUids),vk=(o,i,c)=>{const u={},h=i.partUids,p=o.getSystem();return qt(c,y=>{u[y]=ae(p.getByUid(h[y]).getOrDie())}),u},oO=(o,i)=>{const c=eO(i);return Ju(yt(c,u=>({key:u,value:o+"-"+u})))},xk=o=>Zs("partUids","partUids",Po(i=>oO(i.uid,o)),ml());var h8=Object.freeze({__proto__:null,generate:La,generateOne:gk,schemas:QT,names:eO,substitutes:hk,components:pk,defaultUids:oO,defaultUidsSchema:xk,getAllParts:bk,getAllPartNames:nO,getPart:Or,getPartOrDie:Bg,getParts:tO,getPartsOrDie:vk});const rO=(o,i,c,u,h)=>{const p=((y,S)=>(y.length>0?[Jl("parts",y)]:[]).concat([kt("uid"),Xe("dom",{}),Xe("components",[]),eb("originalSpec"),Xe("debug.sketcher",{})]).concat(S))(u,h);return ra(o+" [SpecSchema]",ti(p.concat(i)),c)},Gx=(o,i,c,u,h)=>{const p=yk(h),y=QT(c),S=xk(c),k=rO(o,i,p,y,[S]),O=hk(0,k,c);return u(k,pk(o,k,O.internals()),p,O.externals())},yk=o=>(i=>ao(i,"uid"))(o)?o:{...o,uid:ac("uid")},p8=ti([kt("name"),kt("factory"),kt("configFields"),Xe("apis",{}),Xe("extraApis",{})]),sO=ti([kt("name"),kt("factory"),kt("configFields"),kt("partFields"),Xe("apis",{}),Xe("extraApis",{})]),Uc=o=>{const i=ra("Sketcher for "+o.name,p8,o),c=Gt(i.apis,tv),u=Gt(i.extraApis,(h,p)=>Nl(h,p));return{name:i.name,configFields:i.configFields,sketch:h=>((p,y,S,k)=>{const O=yk(k);return S(rO(p,y,O,[],[]),O)})(i.name,i.configFields,i.factory,h),...c,...u}},gl=o=>{const i=ra("Sketcher for "+o.name,sO,o),c=La(i.name,i.partFields),u=Gt(i.apis,tv),h=Gt(i.extraApis,(p,y)=>Nl(p,y));return{name:i.name,partFields:i.partFields,configFields:i.configFields,sketch:p=>Gx(i.name,i.configFields,i.partFields,i.factory,p),parts:c,...u,...h}},Ev=o=>yc("input")(o)&&_o(o,"type")!=="radio"||yc("textarea")(o);var iO=Object.freeze({__proto__:null,getCurrent:(o,i,c)=>i.find(o)});const b8=[kt("find")],Ho=gi({fields:b8,name:"composing",apis:iO}),aO=["input","button","textarea","select"],lO=(o,i,c)=>{(i.disabled()?Yx:Ck)(o,i)},wk=(o,i)=>i.useNative===!0&&rt(aO,Aa(o.element)),cO=o=>{tn(o.element,"disabled","disabled")},v8=o=>{mo(o.element,"disabled")},Tv=o=>{tn(o.element,"aria-disabled","true")},x8=o=>{tn(o.element,"aria-disabled","false")},Yx=(o,i,c)=>{i.disableClass.each(u=>{as(o.element,u)}),(wk(o,i)?cO:Tv)(o),i.onDisabled(o)},Ck=(o,i,c)=>{i.disableClass.each(u=>{ms(o.element,u)}),(wk(o,i)?v8:x8)(o),i.onEnabled(o)},Ov=(o,i)=>wk(o,i)?(c=>cs(c.element,"disabled"))(o):(c=>_o(c.element,"aria-disabled")==="true")(o);var y8=Object.freeze({__proto__:null,enable:Ck,disable:Yx,isDisabled:Ov,onLoad:lO,set:(o,i,c,u)=>{(u?Yx:Ck)(o,i)}}),w8=Object.freeze({__proto__:null,exhibit:(o,i)=>Ts({classes:i.disabled()?i.disableClass.toArray():[]}),events:(o,i)=>to([ph(Xa(),(c,u)=>Ov(c,o)),Up(o,i,lO)])}),C8=[Mr("disabled",Se),Xe("useNative",!0),Io("disableClass"),Lo("onDisabled"),Lo("onEnabled")];const qn=gi({fields:C8,name:"disabling",active:w8,apis:y8}),uO=(o,i,c,u)=>{const h=ri(o.element,"."+i.highlightClass);qt(h,p=>{Un(u,y=>Uo(y.element,p))||(ms(p,i.highlightClass),o.getSystem().getByDom(p).each(y=>{i.onDehighlight(o,y),ho(y,qd())}))})},Tb=(o,i,c,u)=>{uO(o,i,0,[u]),_k(o,i,c,u)||(as(u.element,i.highlightClass),i.onHighlight(o,u),ho(u,rx()))},_k=(o,i,c,u)=>Ia(u.element,i.highlightClass),dO=(o,i,c)=>Kr(o.element,"."+i.itemClass).bind(u=>o.getSystem().getByDom(u).toOptional()),fO=(o,i,c)=>{const u=ri(o.element,"."+i.itemClass);return(u.length>0?D.some(u[u.length-1]):D.none()).bind(h=>o.getSystem().getByDom(h).toOptional())},mO=(o,i,c,u)=>{const h=ri(o.element,"."+i.itemClass);return nr(h,p=>Ia(p,i.highlightClass)).bind(p=>{const y=lm(p,u,0,h.length-1);return o.getSystem().getByDom(h[y]).toOptional()})},gO=(o,i,c)=>{const u=ri(o.element,"."+i.itemClass);return Ms(yt(u,h=>o.getSystem().getByDom(h).toOptional()))};var _8=Object.freeze({__proto__:null,dehighlightAll:(o,i,c)=>uO(o,i,0,[]),dehighlight:(o,i,c,u)=>{_k(o,i,c,u)&&(ms(u.element,i.highlightClass),i.onDehighlight(o,u),ho(u,qd()))},highlight:Tb,highlightFirst:(o,i,c)=>{dO(o,i).each(u=>{Tb(o,i,c,u)})},highlightLast:(o,i,c)=>{fO(o,i).each(u=>{Tb(o,i,c,u)})},highlightAt:(o,i,c,u)=>{((h,p,y,S)=>{const k=ri(h.element,"."+p.itemClass);return D.from(k[S]).fold(()=>ko.error(new Error("No element found with index "+S)),h.getSystem().getByDom)})(o,i,0,u).fold(h=>{throw h},h=>{Tb(o,i,c,h)})},highlightBy:(o,i,c,u)=>{const h=gO(o,i);X(h,u).each(p=>{Tb(o,i,c,p)})},isHighlighted:_k,getHighlighted:(o,i,c)=>Kr(o.element,"."+i.highlightClass).bind(u=>o.getSystem().getByDom(u).toOptional()),getFirst:dO,getLast:fO,getPrevious:(o,i,c)=>mO(o,i,0,-1),getNext:(o,i,c)=>mO(o,i,0,1),getCandidates:gO}),hO=[kt("highlightClass"),kt("itemClass"),Lo("onHighlight"),Lo("onDehighlight")];const or=gi({fields:hO,name:"highlighting",apis:_8}),pO=[8],dd=[9],Cm=[13],Kw=[27],fc=[32],qw=[37],Dv=[38],Xx=[39],Rv=[40],S8=(o,i,c)=>{const u=Ue(o.slice(0,i)),h=Ue(o.slice(i+1));return X(u.concat(h),c)},k8=(o,i,c)=>{const u=Ue(o.slice(0,i));return X(u,c)},A8=(o,i,c)=>{const u=o.slice(0,i),h=o.slice(i+1);return X(h.concat(u),c)},E8=(o,i,c)=>{const u=o.slice(i+1);return X(u,c)},Zo=o=>i=>{const c=i.raw;return rt(o,c.which)},hf=o=>i=>Qi(o,c=>c(i)),_m=o=>o.raw.shiftKey===!0,T8=o=>o.raw.ctrlKey===!0,Jx=He(_m),qo=(o,i)=>({matches:o,classification:i}),bO=(o,i,c)=>{i.exists(u=>c.exists(h=>Uo(h,u)))||Cn(o,V1(),{prevFocus:i,newFocus:c})},Sk=()=>{const o=i=>Rs(i.element);return{get:o,set:(i,c)=>{const u=o(i);i.getSystem().triggerFocus(c,i.element);const h=o(i);bO(i,u,h)}}},O8=()=>{const o=i=>or.getHighlighted(i).map(c=>c.element);return{get:o,set:(i,c)=>{const u=o(i);i.getSystem().getByDom(c).fold(pe,p=>{or.highlight(i,p)});const h=o(i);bO(i,u,h)}}};var Ob;(function(o){o.OnFocusMode="onFocus",o.OnEnterOrSpaceMode="onEnterOrSpace",o.OnApiMode="onApi"})(Ob||(Ob={}));const Db=(o,i,c,u,h)=>{const p=(S,k,O,M,N)=>{return(H=O(S,k,M,N),K=k.event,X(H,G=>G.matches(K)).map(G=>G.classification)).bind(G=>G(S,k,M,N));var H,K},y={schema:()=>o.concat([Xe("focusManager",Sk()),ba("focusInside","onFocus",$d(S=>rt(["onFocus","onEnterOrSpace","onApi"],S)?ko.value(S):ko.error("Invalid value for focusInside"))),Er("handler",y),Er("state",i),Er("sendFocusIn",h)]),processKey:p,toEvents:(S,k)=>{const O=S.focusInside!==Ob.OnFocusMode?D.none():h(S).map(N=>bt(pu(),(H,K)=>{N(H,S,k),K.stop()})),M=[bt(is(),(N,H)=>{p(N,H,c,S,k).fold(()=>{((K,G)=>{const re=Zo(fc.concat(Cm))(G.event);S.focusInside===Ob.OnEnterOrSpaceMode&&re&&Lp(K,G)&&h(S).each(le=>{le(K,S,k),G.stop()})})(N,H)},K=>{H.stop()})}),bt(ec(),(N,H)=>{p(N,H,u,S,k).each(K=>{H.stop()})})];return to(O.toArray().concat(M))}};return y},vO=o=>{const i=[Io("onEscape"),Io("onEnter"),Xe("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Xe("firstTabstop",0),Xe("useTabstopAt",Ne),Io("visibilitySelector")].concat([o]),c=(M,N)=>{const H=M.visibilitySelector.bind(K=>xu(N,K)).getOr(N);return us(H)>0},u=(M,N)=>N.focusManager.get(M).bind(H=>xu(H,N.selector)),h=(M,N,H)=>{((K,G)=>{const re=ri(K.element,G.selector),le=xo(re,me=>c(G,me));return D.from(le[G.firstTabstop])})(M,N).each(K=>{N.focusManager.set(M,K)})},p=(M,N,H,K)=>{const G=ri(M.element,H.selector);return u(M,H).bind(re=>nr(G,Je(Uo,re)).bind(le=>((me,ie,se,de,ge)=>ge(ie,se,be=>((Me,qe)=>c(Me,qe)&&Me.useTabstopAt(qe))(de,be)).fold(()=>de.cyclic?D.some(!0):D.none(),be=>(de.focusManager.set(me,be),D.some(!0))))(M,G,le,H,K)))},y=(M,N,H)=>{const K=H.cyclic?S8:k8;return p(M,0,H,K)},S=(M,N,H)=>{const K=H.cyclic?A8:E8;return p(M,0,H,K)},k=ae([qo(hf([_m,Zo(dd)]),y),qo(Zo(dd),S),qo(hf([Jx,Zo(Cm)]),(M,N,H)=>H.onEnter.bind(K=>K(M,N)))]),O=ae([qo(Zo(Kw),(M,N,H)=>H.onEscape.bind(K=>K(M,N))),qo(Zo(dd),(M,N,H)=>u(M,H).filter(K=>!H.useTabstopAt(K)).bind(K=>((G=>(re=>ta(re))(G).bind(xe).exists(re=>Uo(re,G)))(K)?y:S)(M,N,H)))]);return Db(i,rc.init,k,O,()=>D.some(h))};var D8=vO(Ci("cyclic",Se)),R8=vO(Ci("cyclic",Ne));const Qx=(o,i,c)=>Ev(c)&&Zo(fc)(i.event)?D.none():((u,h,p)=>(Jr(u,p,Xa()),D.some(!0)))(o,0,c),Rb=(o,i)=>D.some(!0),N8=[Xe("execute",Qx),Xe("useSpace",!1),Xe("useEnter",!0),Xe("useControlEnter",!1),Xe("useDown",!1)],xO=(o,i,c)=>c.execute(o,i,o.element);var I8=Db(N8,rc.init,(o,i,c,u)=>{const h=c.useSpace&&!Ev(o.element)?fc:[],p=c.useEnter?Cm:[],y=c.useDown?Rv:[],S=h.concat(p).concat(y);return[qo(Zo(S),xO)].concat(c.useControlEnter?[qo(hf([T8,Zo(Cm)]),xO)]:[])},(o,i,c,u)=>c.useSpace&&!Ev(o.element)?[qo(Zo(fc),Rb)]:[],()=>D.none());const yO=()=>{const o=sr();return mi({readState:()=>o.get().map(i=>({numRows:String(i.numRows),numColumns:String(i.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(i,c)=>{o.set({numRows:i,numColumns:c})},getNumRows:()=>o.get().map(i=>i.numRows),getNumColumns:()=>o.get().map(i=>i.numColumns)})};var wO=Object.freeze({__proto__:null,flatgrid:yO,init:o=>o.state(o)});const CO=o=>(i,c,u,h)=>{const p=o(i.element);return _O(p,i,c,u,h)},kk=(o,i)=>{const c=Px(o,i);return CO(c)},Ak=(o,i)=>{const c=Px(i,o);return CO(c)},Ek=o=>(i,c,u,h)=>_O(o,i,c,u,h),_O=(o,i,c,u,h)=>u.focusManager.get(i).bind(p=>o(i.element,p,u,h)).map(p=>(u.focusManager.set(i,p),!0)),Tk=Ek,SO=Ek,Gw=Ek,kO=o=>!(i=>i.offsetWidth<=0&&i.offsetHeight<=0)(o.dom),Ok=(o,i,c)=>{const u=ri(o,c);return((h,p)=>nr(h,y=>Uo(y,i)).map(y=>({index:y,candidates:h})))(xo(u,kO))},Yw=(o,i)=>nr(o,c=>Uo(i,c)),AO=(o,i,c,u)=>u(Math.floor(i/c),i%c).bind(h=>{const p=h.row*c+h.column;return p>=0&&p<o.length?D.some(o[p]):D.none()}),EO=(o,i,c,u,h)=>AO(o,i,u,(p,y)=>{const S=p===c-1?o.length-p*u:u,k=lm(y,h,0,S-1);return D.some({row:p,column:k})}),TO=(o,i,c,u,h)=>AO(o,i,u,(p,y)=>{const S=lm(p,h,0,c-1),k=S===c-1?o.length-S*u:u,O=ic(y,0,k-1);return D.some({row:S,column:O})}),B8=[kt("selector"),Xe("execute",Qx),Ja("onEscape"),Xe("captureTab",!1),Tw()],OO=(o,i,c)=>{Kr(o.element,i.selector).each(u=>{i.focusManager.set(o,u)})},ey=o=>(i,c,u,h)=>Ok(i,c,u.selector).bind(p=>o(p.candidates,p.index,h.getNumRows().getOr(u.initSize.numRows),h.getNumColumns().getOr(u.initSize.numColumns))),Dk=(o,i,c)=>c.captureTab?D.some(!0):D.none(),Rk=ey((o,i,c,u)=>EO(o,i,c,u,-1)),Nk=ey((o,i,c,u)=>EO(o,i,c,u,1)),M8=ey((o,i,c,u)=>TO(o,i,c,u,-1)),P8=ey((o,i,c,u)=>TO(o,i,c,u,1)),L8=ae([qo(Zo(qw),kk(Rk,Nk)),qo(Zo(Xx),Ak(Rk,Nk)),qo(Zo(Dv),Tk(M8)),qo(Zo(Rv),SO(P8)),qo(hf([_m,Zo(dd)]),Dk),qo(hf([Jx,Zo(dd)]),Dk),qo(Zo(fc.concat(Cm)),(o,i,c,u)=>((h,p)=>p.focusManager.get(h).bind(y=>xu(y,p.selector)))(o,c).bind(h=>c.execute(o,i,h)))]),F8=ae([qo(Zo(Kw),(o,i,c)=>c.onEscape(o,i)),qo(Zo(fc),Rb)]);var z8=Db(B8,yO,L8,F8,()=>D.some(OO));const Bh=(o,i,c,u,h)=>{const p=(y,S,k)=>h(y,S,u,0,k.length-1,k[S],O=>{return M=k[O],Aa(M)==="button"&&_o(M,"disabled")==="disabled"?p(y,O,k):D.from(k[O]);var M});return Ok(o,c,i).bind(y=>{const S=y.index,k=y.candidates;return p(S,S,k)})},DO=(o,i,c,u)=>Bh(o,i,c,u,(h,p,y,S,k,O,M)=>{const N=ic(p+y,S,k);return N===h?D.from(O):M(N)}),Xw=(o,i,c,u)=>Bh(o,i,c,u,(h,p,y,S,k,O,M)=>{const N=lm(p,y,S,k);return N===h?D.none():M(N)}),H8=[kt("selector"),Xe("getInitial",D.none),Xe("execute",Qx),Ja("onEscape"),Xe("executeOnMove",!1),Xe("allowVertical",!0),Xe("allowHorizontal",!0),Xe("cycles",!0)],Ik=(o,i,c)=>((u,h)=>h.focusManager.get(u).bind(p=>xu(p,h.selector)))(o,c).bind(u=>c.execute(o,i,u)),RO=(o,i,c)=>{i.getInitial(o).orThunk(()=>Kr(o.element,i.selector)).each(u=>{i.focusManager.set(o,u)})},NO=(o,i,c)=>(c.cycles?Xw:DO)(o,c.selector,i,-1),IO=(o,i,c)=>(c.cycles?Xw:DO)(o,c.selector,i,1),Bk=o=>(i,c,u,h)=>o(i,c,u,h).bind(()=>u.executeOnMove?Ik(i,c,u):D.some(!0)),ty=ae([qo(Zo(fc),Rb),qo(Zo(Kw),(o,i,c)=>c.onEscape(o,i))]);var ny=Db(H8,rc.init,(o,i,c,u)=>{const h=[...c.allowHorizontal?qw:[]].concat(c.allowVertical?Dv:[]),p=[...c.allowHorizontal?Xx:[]].concat(c.allowVertical?Rv:[]);return[qo(Zo(h),Bk(kk(NO,IO))),qo(Zo(p),Bk(Ak(NO,IO))),qo(Zo(Cm),Ik),qo(Zo(fc),Ik)]},ty,()=>D.some(RO));const Jw=(o,i,c)=>D.from(o[i]).bind(u=>D.from(u[c]).map(h=>({rowIndex:i,columnIndex:c,cell:h}))),Qw=(o,i,c,u)=>{const h=o[i].length,p=lm(c,u,0,h-1);return Jw(o,i,p)},BO=(o,i,c,u)=>{const h=lm(c,u,0,o.length-1),p=o[h].length,y=ic(i,0,p-1);return Jw(o,h,y)},Mk=(o,i,c,u)=>{const h=o[i].length,p=ic(c+u,0,h-1);return Jw(o,i,p)},Pk=(o,i,c,u)=>{const h=ic(c+u,0,o.length-1),p=o[h].length,y=ic(i,0,p-1);return Jw(o,h,y)},MO=[Jl("selectors",[kt("row"),kt("cell")]),Xe("cycles",!0),Xe("previousSelector",D.none),Xe("execute",Qx)],V8=(o,i,c)=>{i.previousSelector(o).orThunk(()=>{const u=i.selectors;return Kr(o.element,u.cell)}).each(u=>{i.focusManager.set(o,u)})},eC=(o,i)=>(c,u,h)=>{const p=h.cycles?o:i;return xu(u,h.selectors.row).bind(y=>{const S=ri(y,h.selectors.cell);return Yw(S,u).bind(k=>{const O=ri(c,h.selectors.row);return Yw(O,y).bind(M=>{const N=((H,K)=>yt(H,G=>ri(G,K.selectors.cell)))(O,h);return p(N,M,k).map(H=>H.cell)})})})},PO=eC((o,i,c)=>Qw(o,i,c,-1),(o,i,c)=>Mk(o,i,c,-1)),Nb=eC((o,i,c)=>Qw(o,i,c,1),(o,i,c)=>Mk(o,i,c,1)),Ib=eC((o,i,c)=>BO(o,c,i,-1),(o,i,c)=>Pk(o,c,i,-1)),tC=eC((o,i,c)=>BO(o,c,i,1),(o,i,c)=>Pk(o,c,i,1)),oy=ae([qo(Zo(qw),kk(PO,Nb)),qo(Zo(Xx),Ak(PO,Nb)),qo(Zo(Dv),Tk(Ib)),qo(Zo(Rv),SO(tC)),qo(Zo(fc.concat(Cm)),(o,i,c)=>Rs(o.element).bind(u=>c.execute(o,i,u)))]),$8=ae([qo(Zo(fc),Rb)]);var Mh=Db(MO,rc.init,oy,$8,()=>D.some(V8));const Sm=[kt("selector"),Xe("execute",Qx),Xe("moveOnTab",!1)],nC=(o,i,c)=>c.focusManager.get(o).bind(u=>c.execute(o,i,u)),LO=(o,i,c)=>{Kr(o.element,i.selector).each(u=>{i.focusManager.set(o,u)})},FO=(o,i,c)=>Xw(o,c.selector,i,-1),Lk=(o,i,c)=>Xw(o,c.selector,i,1),ry=ae([qo(Zo(Dv),Gw(FO)),qo(Zo(Rv),Gw(Lk)),qo(hf([_m,Zo(dd)]),(o,i,c,u)=>c.moveOnTab?Gw(FO)(o,i,c,u):D.none()),qo(hf([Jx,Zo(dd)]),(o,i,c,u)=>c.moveOnTab?Gw(Lk)(o,i,c,u):D.none()),qo(Zo(Cm),nC),qo(Zo(fc),nC)]),sy=ae([qo(Zo(fc),Rb)]);var Fk=Db(Sm,rc.init,ry,sy,()=>D.some(LO));const zO=[Ja("onSpace"),Ja("onEnter"),Ja("onShiftEnter"),Ja("onLeft"),Ja("onRight"),Ja("onTab"),Ja("onShiftTab"),Ja("onUp"),Ja("onDown"),Ja("onEscape"),Xe("stopSpaceKeyup",!1),Io("focusIn")];var iy=Db(zO,rc.init,(o,i,c)=>[qo(Zo(fc),c.onSpace),qo(hf([Jx,Zo(Cm)]),c.onEnter),qo(hf([_m,Zo(Cm)]),c.onShiftEnter),qo(hf([_m,Zo(dd)]),c.onShiftTab),qo(hf([Jx,Zo(dd)]),c.onTab),qo(Zo(Dv),c.onUp),qo(Zo(Rv),c.onDown),qo(Zo(qw),c.onLeft),qo(Zo(Xx),c.onRight),qo(Zo(fc),c.onSpace)],(o,i,c)=>[...c.stopSpaceKeyup?[qo(Zo(fc),Rb)]:[],qo(Zo(Kw),c.onEscape)],o=>o.focusIn);const oC=D8.schema(),U8=R8.schema(),zk=ny.schema(),rC=z8.schema(),wa=Mh.schema(),Z8=I8.schema(),km=Fk.schema(),HO=iy.schema(),kn=kw({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:oC,cyclic:U8,flow:zk,flatgrid:rC,matrix:wa,execution:Z8,menu:km,special:HO}),name:"keying",active:{events:(o,i)=>o.handler.toEvents(o,i)},apis:{focusIn:(o,i,c)=>{i.sendFocusIn(i).fold(()=>{o.getSystem().triggerFocus(o.element,o.element)},u=>{u(o,i,c)})},setGridSize:(o,i,c,u,h)=>{(p=>so(p,"setGridSize"))(c)?c.setGridSize(u,h):console.error("Layout does not support setGridSize")}},state:wO}),Bb=(o,i)=>{gm(()=>{((c,u,h)=>{const p=c.components();(k=>{qt(k.components(),O=>yi(O.element)),Wr(k.element),k.syncComponents()})(c);const y=h(u),S=ve(p,y);qt(S,k=>{xm(k),c.getSystem().removeFromWorld(k)}),qt(y,k=>{wv(k)?Ig(c,k):(c.getSystem().addToWorld(k),Ig(c,k),an(c.element)&&ym(k))}),c.syncComponents()})(o,i,()=>yt(i,o.getSystem().build))},o.element)},Hk=(o,i)=>{gm(()=>{((c,u,h)=>{const p=c.components(),y=jo(u,O=>yx(O).toArray());qt(p,O=>{rt(y,O)||Cv(O)});const S=((O,M,N)=>Dw(O,M,(H,K)=>Sx(O,K,H,N)))(o.element,i,o.getSystem().buildOrPatch),k=ve(p,S);qt(k,O=>{wv(O)&&Cv(O)}),qt(S,O=>{wv(O)||Ab(c,O)}),c.syncComponents()})(o,i)},o.element)},sC=(o,i,c,u)=>{Cv(i);const h=Sx(o.element,c,u,o.getSystem().buildOrPatch);Ab(o,h),o.syncComponents()},Vk=(o,i,c)=>{const u=o.getSystem().build(c);Ux(o,u,i)},VO=(o,i,c,u)=>{Pa(i),Vk(o,(h,p)=>((y,S,k)=>{Zr(y,k).fold(()=>{fa(y,S)},O=>{ju(O,S)})})(h,p,c),u)},ay=(o,i)=>o.components(),$O=(o,i,c,u,h)=>{const p=ay(o);return D.from(p[u]).map(y=>(h.fold(()=>Pa(y),S=>{(i.reuseDom?sC:VO)(o,y,u,S)}),y))};var $k=Object.freeze({__proto__:null,append:(o,i,c,u)=>{Vk(o,fa,u)},prepend:(o,i,c,u)=>{Vk(o,ig,u)},remove:(o,i,c,u)=>{const h=ay(o);X(h,y=>Uo(u.element,y.element)).each(Pa)},replaceAt:$O,replaceBy:(o,i,c,u,h)=>{const p=ay(o);return nr(p,u).bind(y=>$O(o,i,0,y,h))},set:(o,i,c,u)=>(i.reuseDom?Hk:Bb)(o,u),contents:ay});const Fn=gi({fields:[Ls("reuseDom",!0)],name:"replacing",apis:$k}),uo=(o,i)=>{const c=((u,h)=>{const p=to(h);return gi({fields:[kt("enabled")],name:u,active:{events:ae(p)}})})(o,i);return{key:o,value:{config:{},me:c,configAsRaw:ae({}),initialConfig:{},state:rc}}},UO=(o,i)=>{i.ignore||(xa(o.element),i.onFocus(o))};var ZO=Object.freeze({__proto__:null,focus:UO,blur:(o,i)=>{i.ignore||ab(o.element)},isFocused:o=>Eg(o.element)}),WO=Object.freeze({__proto__:null,exhibit:(o,i)=>{const c=i.ignore?{}:{attributes:{tabindex:"-1"}};return Ts(c)},events:o=>to([bt(pu(),(i,c)=>{UO(i,o),c.stop()})].concat(o.stopMousedown?[bt(At(),(i,c)=>{c.event.prevent()})]:[]))}),jO=[Lo("onFocus"),Xe("stopMousedown",!1),Xe("ignore",!1)];const jn=gi({fields:jO,name:"focusing",active:WO,apis:ZO}),ly=(o,i,c,u)=>{const h=c.get();c.set(u),((p,y,S)=>{y.toggleClass.each(k=>{S.get()?as(p.element,k):ms(p.element,k)})})(o,i,c),((p,y,S)=>{const k=y.aria;k.update(p,k,S.get())})(o,i,c),h!==u&&i.onToggled(o,u)},Zc=(o,i,c)=>{ly(o,i,c,!c.get())},Mb=(o,i,c)=>{ly(o,i,c,i.selected)};var KO=Object.freeze({__proto__:null,onLoad:Mb,toggle:Zc,isOn:(o,i,c)=>c.get(),on:(o,i,c)=>{ly(o,i,c,!0)},off:(o,i,c)=>{ly(o,i,c,!1)},set:ly}),Nv=Object.freeze({__proto__:null,exhibit:()=>Ts({}),events:(o,i)=>{const c=(u=o,h=i,p=Zc,Mc(S=>{p(S,u,h)}));var u,h,p;const y=Up(o,i,Mb);return to(pr([o.toggleOnExecute?[c]:[],[y]]))}});const _l=(o,i,c)=>{tn(o.element,"aria-expanded",c)};var mc=[Xe("selected",!1),Io("toggleClass"),Xe("toggleOnExecute",!0),Lo("onToggled"),ba("aria",{mode:"none"},qs("mode",{pressed:[Xe("syncWithExpanded",!1),Er("update",(o,i,c)=>{tn(o.element,"aria-pressed",c),i.syncWithExpanded&&_l(o,0,c)})],checked:[Er("update",(o,i,c)=>{tn(o.element,"aria-checked",c)})],expanded:[Er("update",_l)],selected:[Er("update",(o,i,c)=>{tn(o.element,"aria-selected",c)})],none:[Er("update",pe)]}))];const $n=gi({fields:mc,name:"toggling",active:Nv,apis:KO,state:{init:()=>{const o=En(!1);return{get:()=>o.get(),set:i=>o.set(i),clear:()=>o.set(!1),readState:()=>o.get()}}}}),Cu=()=>{const o=(i,c)=>{c.stop(),Gd(i)};return[bt(Gs(),o),bt(Zd(),o),om(Z()),om(At())]},Iv=o=>to(pr([o.map(i=>Mc((c,u)=>{i(c),u.stop()})).toArray(),Cu()])),Wc="alloy.item-hover",Ph="alloy.item-focus",qO="alloy.item-toggled",GO=o=>{(Rs(o.element).isNone()||jn.isFocused(o))&&(jn.isFocused(o)||jn.focus(o),Cn(o,Wc,{item:o}))},YO=o=>{Cn(o,Ph,{item:o})},Uk=ae(Wc),XO=ae(Ph),iC=ae(qO),JO=o=>o.role.fold(()=>o.toggling.map(i=>i.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),Ie),W8=[kt("data"),kt("components"),kt("dom"),Xe("hasSubmenu",!1),Io("toggling"),Io("role"),Kn("itemBehaviours",[$n,jn,kn,nt]),Xe("ignoreFocus",!1),Xe("domModification",{}),Er("builder",o=>({dom:o.dom,domModification:{...o.domModification,attributes:{role:JO(o),...o.domModification.attributes,"aria-haspopup":o.hasSubmenu,...o.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Vn(o.itemBehaviours,[o.toggling.fold($n.revoke,i=>$n.config(((c,u)=>({aria:{mode:u?"selected":"checked"},...po(c,(h,p)=>p!=="exclusive"),onToggled:(h,p)=>{J(c.onToggled)&&c.onToggled(h,p),((y,S)=>{Cn(y,qO,{item:y,state:S})})(h,p)}}))(i,o.role.exists(c=>c==="option")))),jn.config({ignore:o.ignoreFocus,stopMousedown:o.ignoreFocus,onFocus:i=>{YO(i)}}),kn.config({mode:"execution"}),nt.config({store:{mode:"memory",initialValue:o.data}}),uo("item-type-events",[...Cu(),bt(wn(),GO),bt(Hp(),jn.focus)])]),components:o.components,eventOrder:o.eventOrder})),Xe("eventOrder",{})],j8=[kt("dom"),kt("components"),Er("builder",o=>({dom:o.dom,components:o.components,events:to([_w(Hp())])}))],Zk=ae("item-widget"),Wk=ae([nl({name:"widget",overrides:o=>({behaviours:zt([nt.config({store:{mode:"manual",getValue:i=>o.data,setValue:pe}})])})})]),QO=[kt("uid"),kt("data"),kt("components"),kt("dom"),Xe("autofocus",!1),Xe("ignoreFocus",!1),Kn("widgetBehaviours",[nt,jn,kn]),Xe("domModification",{}),xk(Wk()),Er("builder",o=>{const i=hk(Zk(),o,Wk()),c=pk(Zk(),o,i.internals()),u=p=>Or(p,o,"widget").map(y=>(kn.focusIn(y),y)),h=(p,y)=>(Ev(y.event.target)||o.autofocus&&y.setSource(p.element),D.none());return{dom:o.dom,components:c,domModification:o.domModification,events:to([Mc((p,y)=>{u(p).each(S=>{y.stop()})}),bt(wn(),GO),bt(Hp(),(p,y)=>{o.autofocus?u(p):jn.focus(p)})]),behaviours:Vn(o.widgetBehaviours,[nt.config({store:{mode:"memory",initialValue:o.data}}),jn.config({ignore:o.ignoreFocus,onFocus:p=>{YO(p)}}),kn.config({mode:"special",focusIn:o.autofocus?p=>{u(p)}:XS(),onLeft:h,onRight:h,onEscape:(p,y)=>jn.isFocused(p)||o.autofocus?(o.autofocus&&y.setSource(p.element),D.none()):(jn.focus(p),D.some(!0))})])}})],e5=qs("type",{widget:QO,item:W8,separator:j8}),jk=ae([jw({factory:{sketch:o=>{const i=ra("menu.spec item",e5,o);return i.builder(i)}},name:"items",unit:"item",defaults:(o,i)=>ao(i,"uid")?i:{...i,uid:ac("item")},overrides:(o,i)=>({type:i.type,ignoreFocus:o.fakeFocus,domModification:{classes:[o.markers.item]}})})]),t5=ae([vs("role"),kt("value"),kt("items"),kt("dom"),kt("components"),Xe("eventOrder",{}),gn("menuBehaviours",[or,nt,Ho,kn]),ba("movement",{mode:"menu",moveOnTab:!0},qs("mode",{grid:[Tw(),Er("config",(o,i)=>({mode:"flatgrid",selector:"."+o.markers.item,initSize:{numColumns:i.initSize.numColumns,numRows:i.initSize.numRows},focusManager:o.focusManager}))],matrix:[Er("config",(o,i)=>({mode:"matrix",selectors:{row:i.rowSelector,cell:"."+o.markers.item},previousSelector:i.previousSelector,focusManager:o.focusManager})),kt("rowSelector"),Xe("previousSelector",D.none)],menu:[Xe("moveOnTab",!0),Er("config",(o,i)=>({mode:"menu",selector:"."+o.markers.item,moveOnTab:i.moveOnTab,focusManager:o.focusManager}))]})),_i("markers",pg()),Xe("fakeFocus",!1),Xe("focusManager",Sk()),Lo("onHighlight"),Lo("onDehighlight"),Xe("showMenuRole",!0)]),n5=ae("alloy.menu-focus"),Pb=gl({name:"Menu",configFields:t5(),partFields:jk(),factory:(o,i,c,u)=>({uid:o.uid,dom:o.dom,markers:o.markers,behaviours:co(o.menuBehaviours,[or.config({highlightClass:o.markers.selectedItem,itemClass:o.markers.item,onHighlight:o.onHighlight,onDehighlight:o.onDehighlight}),nt.config({store:{mode:"memory",initialValue:o.value}}),Ho.config({find:D.some}),kn.config(o.movement.config(o,o.movement))]),events:to([bt(XO(),(h,p)=>{const y=p.event;h.getSystem().getByDom(y.target).each(S=>{or.highlight(h,S),p.stop(),Cn(h,n5(),{menu:h,item:S})})}),bt(Uk(),(h,p)=>{const y=p.event.item;or.highlight(h,y)}),bt(iC(),(h,p)=>{const{item:y,state:S}=p.event;S&&_o(y.element,"role")==="menuitemradio"&&((k,O)=>{const M=ri(k.element,'[role="menuitemradio"][aria-checked="true"]');qt(M,N=>{Uo(N,O.element)||k.getSystem().getByDom(N).each(H=>{$n.off(H)})})})(h,y)})]),components:i,eventOrder:o.eventOrder,...o.showMenuRole?{domModification:{attributes:{role:o.role.getOr("menu")}}}:{}})}),o5=(o,i,c,u)=>jt(c,u).bind(h=>jt(o,h).bind(p=>{const y=o5(o,i,c,p);return D.some([p].concat(y))})).getOr([]),r5=o=>o.type==="prepared"?D.some(o.menu):D.none(),K8=()=>{const o=En({}),i=En({}),c=En({}),u=sr(),h=En({}),p=k=>y(k).bind(r5),y=k=>jt(i.get(),k),S=k=>jt(o.get(),k);return{setMenuBuilt:(k,O)=>{i.set({...i.get(),[k]:{type:"prepared",menu:O}})},setContents:(k,O,M,N)=>{u.set(k),o.set(M),i.set(O),h.set(N);const H=((K,G)=>{const re={};Mt(K,(se,de)=>{qt(se,ge=>{re[ge]=de})});const le=G,me=xn(G,(se,de)=>({k:se,v:de})),ie=Gt(me,(se,de)=>[de].concat(o5(re,le,me,de)));return Gt(re,se=>jt(ie,se).getOr([se]))})(N,M);c.set(H)},expand:k=>jt(o.get(),k).map(O=>{const M=jt(c.get(),k).getOr([]);return[O].concat(M)}),refresh:k=>jt(c.get(),k),collapse:k=>jt(c.get(),k).bind(O=>O.length>1?D.some(O.slice(1)):D.none()),lookupMenu:y,lookupItem:S,otherMenus:k=>{const O=h.get();return ve(et(O),k)},getPrimary:()=>u.get().bind(p),getMenus:()=>i.get(),clear:()=>{o.set({}),i.set({}),c.set({}),u.clear()},isClear:()=>u.get().isNone(),getTriggeringPath:(k,O)=>{const M=xo(S(k).toArray(),N=>p(N).isSome());return jt(c.get(),k).bind(N=>{const H=Ue(M.concat(N));return(K=>{const G=[];for(let re=0;re<K.length;re++){const le=K[re];if(!le.isSome())return D.none();G.push(le.getOrDie())}return D.some(G)})(jo(H,(K,G)=>((re,le,me)=>p(re).bind(ie=>(se=>yo(o.get(),(de,ge)=>de===se))(re).bind(se=>le(se).map(de=>({triggeredMenu:ie,triggeringItem:de,triggeringPath:me})))))(K,O,H.slice(0,G+1)).fold(()=>Nr(u.get(),K)?[]:[D.none()],re=>[D.some(re)])))})}}},q8=r5,jc=mn("tiered-menu-item-highlight"),G8=mn("tiered-menu-item-dehighlight");var Fa;(function(o){o[o.HighlightMenuAndItem=0]="HighlightMenuAndItem",o[o.HighlightJustMenu=1]="HighlightJustMenu",o[o.HighlightNone=2]="HighlightNone"})(Fa||(Fa={}));const Lb=ae("collapse-item"),Mg=Uc({name:"TieredMenu",configFields:[sa("onExecute"),sa("onEscape"),vu("onOpenMenu"),vu("onOpenSubmenu"),Lo("onRepositionMenu"),Lo("onCollapseMenu"),Xe("highlightOnOpen",Fa.HighlightMenuAndItem),Jl("data",[kt("primary"),kt("menus"),kt("expansions")]),Xe("fakeFocus",!1),Lo("onHighlightItem"),Lo("onDehighlightItem"),Lo("onHover"),bg(),kt("dom"),Xe("navigateOnHover",!0),Xe("stayInDom",!1),gn("tmenuBehaviours",[kn,or,Ho,Fn]),Xe("eventOrder",{})],apis:{collapseMenu:(o,i)=>{o.collapseMenu(i)},highlightPrimary:(o,i)=>{o.highlightPrimary(i)},repositionMenus:(o,i)=>{o.repositionMenus(i)}},factory:(o,i)=>{const c=sr(),u=K8(),h=se=>nt.getValue(se).value,p=se=>Gt(o.data.menus,(de,ge)=>jo(de.items,be=>be.type==="separator"?[]:[be.data.value])),y=or.highlight,S=(se,de)=>{y(se,de),or.getHighlighted(de).orThunk(()=>or.getFirst(de)).each(ge=>{o.fakeFocus?or.highlight(de,ge):Jr(se,ge.element,Hp())})},k=(se,de)=>Ms(yt(de,ge=>se.lookupMenu(ge).bind(be=>be.type==="prepared"?D.some(be.menu):D.none()))),O=(se,de,ge)=>{const be=k(de,de.otherMenus(ge));qt(be,Me=>{Il(Me.element,[o.markers.backgroundMenu]),o.stayInDom||Fn.remove(se,Me)})},M=(se,de)=>{const ge=(be=>c.get().getOrThunk(()=>{const Me={},qe=ri(be.element,`.${o.markers.item}`),wt=xo(qe,pt=>_o(pt,"aria-haspopup")==="true");return qt(wt,pt=>{be.getSystem().getByDom(pt).each(mt=>{const Pt=h(mt);Me[Pt]=mt})}),c.set(Me),Me}))(se);Mt(ge,(be,Me)=>{const qe=rt(de,Me);tn(be.element,"aria-expanded",qe)})},N=(se,de,ge)=>D.from(ge[0]).bind(be=>de.lookupMenu(be).bind(Me=>{if(Me.type==="notbuilt")return D.none();{const qe=Me.menu,wt=k(de,ge.slice(1));return qt(wt,pt=>{as(pt.element,o.markers.backgroundMenu)}),an(qe.element)||Fn.append(se,Ba(qe)),Il(qe.element,[o.markers.backgroundMenu]),S(se,qe),O(se,de,ge),D.some(qe)}}));let H;(function(se){se[se.HighlightSubmenu=0]="HighlightSubmenu",se[se.HighlightParent=1]="HighlightParent"})(H||(H={}));const K=(se,de,ge=H.HighlightSubmenu)=>{if(de.hasConfigured(qn)&&qn.isDisabled(de))return D.some(de);{const be=h(de);return u.expand(be).bind(Me=>(M(se,Me),D.from(Me[0]).bind(qe=>u.lookupMenu(qe).bind(wt=>{const pt=((mt,Pt,cn)=>{if(cn.type==="notbuilt"){const bn=mt.getSystem().build(cn.nbMenu());return u.setMenuBuilt(Pt,bn),bn}return cn.menu})(se,qe,wt);return an(pt.element)||Fn.append(se,Ba(pt)),o.onOpenSubmenu(se,de,pt,Ue(Me)),ge===H.HighlightSubmenu?(or.highlightFirst(pt),N(se,u,Me)):(or.dehighlightAll(pt),D.some(de))}))))}},G=(se,de)=>{const ge=h(de);return u.collapse(ge).bind(be=>(M(se,be),N(se,u,be).map(Me=>(o.onCollapseMenu(se,de,Me),Me))))},re=se=>(de,ge)=>xu(ge.getSource(),`.${o.markers.item}`).bind(be=>de.getSystem().getByDom(be).toOptional().bind(Me=>se(de,Me).map(Ne))),le=to([bt(n5(),(se,de)=>{const ge=de.event.item;u.lookupItem(h(ge)).each(()=>{const be=de.event.menu;or.highlight(se,be);const Me=h(de.event.item);u.refresh(Me).each(qe=>O(se,u,qe))})}),Mc((se,de)=>{const ge=de.event.target;se.getSystem().getByDom(ge).each(be=>{h(be).indexOf("collapse-item")===0&&G(se,be),K(se,be,H.HighlightSubmenu).fold(()=>{o.onExecute(se,be)},pe)})}),Vr((se,de)=>{(ge=>{const be=((qe,wt,pt)=>Gt(pt,(mt,Pt)=>{const cn=()=>Pb.sketch({...mt,value:Pt,markers:o.markers,fakeFocus:o.fakeFocus,onHighlight:(bn,Dn)=>{Cn(bn,jc,{menuComp:bn,itemComp:Dn})},onDehighlight:(bn,Dn)=>{Cn(bn,G8,{menuComp:bn,itemComp:Dn})},focusManager:o.fakeFocus?O8():Sk()});return Pt===wt?{type:"prepared",menu:qe.getSystem().build(cn())}:{type:"notbuilt",nbMenu:cn}}))(ge,o.data.primary,o.data.menus),Me=p();return u.setContents(o.data.primary,be,o.data.expansions,Me),u.getPrimary()})(se).each(ge=>{Fn.append(se,Ba(ge)),o.onOpenMenu(se,ge),o.highlightOnOpen===Fa.HighlightMenuAndItem?S(se,ge):o.highlightOnOpen===Fa.HighlightJustMenu&&y(se,ge)})}),bt(jc,(se,de)=>{o.onHighlightItem(se,de.event.menuComp,de.event.itemComp)}),bt(G8,(se,de)=>{o.onDehighlightItem(se,de.event.menuComp,de.event.itemComp)}),...o.navigateOnHover?[bt(Uk(),(se,de)=>{const ge=de.event.item;((be,Me)=>{const qe=h(Me);u.refresh(qe).bind(wt=>(M(be,wt),N(be,u,wt)))})(se,ge),K(se,ge,H.HighlightParent),o.onHover(se,ge)})]:[]]),me=se=>or.getHighlighted(se).bind(or.getHighlighted),ie={collapseMenu:se=>{me(se).each(de=>{G(se,de)})},highlightPrimary:se=>{u.getPrimary().each(de=>{S(se,de)})},repositionMenus:se=>{u.getPrimary().bind(ge=>me(se).bind(be=>{const Me=h(be),qe=Ar(u.getMenus()),wt=Ms(yt(qe,q8));return u.getTriggeringPath(Me,pt=>((mt,Pt,cn)=>je(Pt,bn=>{if(!bn.getSystem().isConnected())return D.none();const Dn=or.getCandidates(bn);return X(Dn,Gn=>h(Gn)===cn)}))(0,wt,pt))}).map(be=>({primary:ge,triggeringPath:be}))).fold(()=>{(ge=>D.from(ge.components()[0]).filter(be=>_o(be.element,"role")==="menu"))(se).each(ge=>{o.onRepositionMenu(se,ge,[])})},({primary:ge,triggeringPath:be})=>{o.onRepositionMenu(se,ge,be)})}};return{uid:o.uid,dom:o.dom,markers:o.markers,behaviours:co(o.tmenuBehaviours,[kn.config({mode:"special",onRight:re((se,de)=>Ev(de.element)?D.none():K(se,de,H.HighlightSubmenu)),onLeft:re((se,de)=>Ev(de.element)?D.none():G(se,de)),onEscape:re((se,de)=>G(se,de).orThunk(()=>o.onEscape(se,de).map(()=>se))),focusIn:(se,de)=>{u.getPrimary().each(ge=>{Jr(se,ge.element,Hp())})}}),or.config({highlightClass:o.markers.selectedMenu,itemClass:o.markers.menu}),Ho.config({find:se=>or.getHighlighted(se)}),Fn.config({})]),eventOrder:o.eventOrder,apis:ie,events:le}},extraApis:{tieredData:(o,i,c)=>({primary:o,menus:i,expansions:c}),singleData:(o,i)=>({primary:o,menus:Nc(o,i),expansions:{}}),collapseItem:o=>({value:mn(Lb()),meta:{text:o}})}}),Qr=Uc({name:"InlineView",configFields:[kt("lazySink"),Lo("onShow"),Lo("onHide"),Rc("onEscape"),gn("inlineBehaviours",[T,nt,el]),ds("fireDismissalEventInstead",[Xe("event",dg())]),ds("fireRepositionEventInstead",[Xe("event",Kd())]),Xe("getRelated",D.none),Xe("isExtraPart",Se),Xe("eventOrder",D.none)],factory:(o,i)=>{const c=(y,S,k,O)=>{const M=o.lazySink(y).getOrDie();T.openWhileCloaked(y,S,()=>Ki.positionWithinBounds(M,y,k,O())),nt.setValue(y,D.some({mode:"position",config:k,getBounds:O}))},u=(y,S,k,O)=>{const M=((N,H,K,G,re)=>{const le=()=>N.lazySink(H),me=G.type==="horizontal"?{layouts:{onLtr:()=>cv(),onRtl:()=>uv()}}:{},ie=se=>(de=>de.length===2)(se)?me:{};return Mg.sketch({dom:{tag:"div"},data:G.data,markers:G.menu.markers,highlightOnOpen:G.menu.highlightOnOpen,fakeFocus:G.menu.fakeFocus,onEscape:()=>(T.close(H),N.onEscape.map(se=>se(H)),D.some(!0)),onExecute:()=>D.some(!0),onOpenMenu:(se,de)=>{Ki.positionWithinBounds(le().getOrDie(),de,K,re())},onOpenSubmenu:(se,de,ge,be)=>{const Me=le().getOrDie();Ki.position(Me,ge,{anchor:{type:"submenu",item:de,...ie(be)}})},onRepositionMenu:(se,de,ge)=>{const be=le().getOrDie();Ki.positionWithinBounds(be,de,K,re()),qt(ge,Me=>{const qe=ie(Me.triggeringPath);Ki.position(be,Me.triggeredMenu,{anchor:{type:"submenu",item:Me.triggeringItem,...qe}})})}})})(o,y,S,k,O);T.open(y,M),nt.setValue(y,D.some({mode:"menu",menu:M}))},h=y=>{T.isOpen(y)&&nt.getValue(y).each(S=>{switch(S.mode){case"menu":T.getState(y).each(Mg.repositionMenus);break;case"position":const k=o.lazySink(y).getOrDie();Ki.positionWithinBounds(k,y,S.config,S.getBounds())}})},p={setContent:(y,S)=>{T.setContent(y,S)},showAt:(y,S,k)=>{const O=D.none;c(y,S,k,O)},showWithinBounds:c,showMenuAt:(y,S,k)=>{u(y,S,k,D.none)},showMenuWithinBounds:u,hide:y=>{T.isOpen(y)&&(nt.setValue(y,D.none()),T.close(y))},getContent:y=>T.getState(y),reposition:h,isOpen:T.isOpen};return{uid:o.uid,dom:o.dom,behaviours:co(o.inlineBehaviours,[T.config({isPartOf:(y,S,k)=>Qa(S,k)||((O,M)=>o.getRelated(O).exists(N=>Qa(N,M)))(y,k),getAttachPoint:y=>o.lazySink(y).getOrDie(),onOpen:y=>{o.onShow(y)},onClose:y=>{o.onHide(y)}}),nt.config({store:{mode:"memory",initialValue:D.none()}}),el.config({channels:{...te({isExtraPart:i.isExtraPart,...o.fireDismissalEventInstead.map(y=>({fireEventInstead:{event:y.event}})).getOr({})}),...Ae({...o.fireRepositionEventInstead.map(y=>({fireEventInstead:{event:y.event}})).getOr({}),doReposition:h})}})]),eventOrder:o.eventOrder,apis:p}},apis:{showAt:(o,i,c,u)=>{o.showAt(i,c,u)},showWithinBounds:(o,i,c,u,h)=>{o.showWithinBounds(i,c,u,h)},showMenuAt:(o,i,c,u)=>{o.showMenuAt(i,c,u)},showMenuWithinBounds:(o,i,c,u,h)=>{o.showMenuWithinBounds(i,c,u,h)},hide:(o,i)=>{o.hide(i)},isOpen:(o,i)=>o.isOpen(i),getContent:(o,i)=>o.getContent(i),setContent:(o,i,c)=>{o.setContent(i,c)},reposition:(o,i)=>{o.reposition(i)}}});var _u,cy,aC=tinymce.util.Tools.resolve("tinymce.util.Delay"),Bv=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),s5=tinymce.util.Tools.resolve("tinymce.EditorManager"),pf=tinymce.util.Tools.resolve("tinymce.Env");(function(o){o.default="wrap",o.floating="floating",o.sliding="sliding",o.scrolling="scrolling"})(_u||(_u={})),function(o){o.auto="auto",o.top="top",o.bottom="bottom"}(cy||(cy={}));const gr=o=>i=>i.options.get(o),uy=o=>i=>D.from(o(i)),i5=o=>{const i=pf.deviceType.isPhone(),c=pf.deviceType.isTablet()||i,u=o.options.register,h=y=>v(y)||y===!1,p=y=>v(y)||ne(y);u("skin",{processor:y=>v(y)||y===!1,default:"oxide"}),u("skin_url",{processor:"string"}),u("height",{processor:p,default:Math.max(o.getElement().offsetHeight,400)}),u("width",{processor:p,default:Bv.DOM.getStyle(o.getElement(),"width")}),u("min_height",{processor:"number",default:100}),u("min_width",{processor:"number"}),u("max_height",{processor:"number"}),u("max_width",{processor:"number"}),u("style_formats",{processor:"object[]"}),u("style_formats_merge",{processor:"boolean",default:!1}),u("style_formats_autohide",{processor:"boolean",default:!1}),u("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),u("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),u("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),u("font_size_input_default_unit",{processor:"string",default:"pt"}),u("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),u("content_langs",{processor:"object[]"}),u("removed_menuitems",{processor:"string",default:""}),u("menubar",{processor:y=>v(y)||I(y),default:!i}),u("menu",{processor:"object",default:{}}),u("toolbar",{processor:y=>I(y)||v(y)||F(y)?{value:y,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Hr(9,y=>{u("toolbar"+(y+1),{processor:"string"})}),u("toolbar_mode",{processor:"string",default:c?"scrolling":"floating"}),u("toolbar_groups",{processor:"object",default:{}}),u("toolbar_location",{processor:"string",default:cy.auto}),u("toolbar_persist",{processor:"boolean",default:!1}),u("toolbar_sticky",{processor:"boolean",default:o.inline}),u("toolbar_sticky_offset",{processor:"number",default:0}),u("fixed_toolbar_container",{processor:"string",default:""}),u("fixed_toolbar_container_target",{processor:"object"}),u("ui_mode",{processor:"string",default:"combined"}),u("file_picker_callback",{processor:"function"}),u("file_picker_validator_handler",{processor:"function"}),u("file_picker_types",{processor:"string"}),u("typeahead_urls",{processor:"boolean",default:!0}),u("anchor_top",{processor:h,default:"#top"}),u("anchor_bottom",{processor:h,default:"#bottom"}),u("draggable_modal",{processor:"boolean",default:!1}),u("statusbar",{processor:"boolean",default:!0}),u("elementpath",{processor:"boolean",default:!0}),u("branding",{processor:"boolean",default:!0}),u("promotion",{processor:"boolean",default:!0}),u("resize",{processor:y=>y==="both"||I(y),default:!pf.deviceType.isTouch()}),u("sidebar_show",{processor:"string"}),u("help_accessibility",{processor:"boolean",default:o.hasPlugin("help")}),u("default_font_stack",{processor:"string[]",default:[]})},Kk=gr("readonly"),dy=gr("height"),fy=gr("width"),my=uy(gr("min_width")),Mv=uy(gr("min_height")),Pv=uy(gr("max_width")),lC=uy(gr("max_height")),Lv=uy(gr("style_formats")),cC=gr("style_formats_merge"),a5=gr("style_formats_autohide"),qk=gr("content_langs"),l5=gr("removed_menuitems"),Fb=gr("toolbar_mode"),uC=gr("toolbar_groups"),Lh=gr("toolbar_location"),Gk=gr("fixed_toolbar_container"),Y8=gr("fixed_toolbar_container_target"),c5=gr("toolbar_persist"),Yk=gr("toolbar_sticky_offset"),Pg=gr("menubar"),Fv=gr("toolbar"),dC=gr("file_picker_callback"),gy=gr("file_picker_validator_handler"),Xk=gr("font_size_input_default_unit"),hy=gr("file_picker_types"),fC=gr("typeahead_urls"),u5=gr("anchor_top"),d5=gr("anchor_bottom"),bf=gr("draggable_modal"),f5=gr("statusbar"),m5=gr("elementpath"),gc=gr("branding"),qi=gr("resize"),g5=gr("paste_as_text"),mC=gr("sidebar_show"),h5=gr("promotion"),Jk=gr("help_accessibility"),gC=gr("default_font_stack"),Fh=o=>o.options.get("skin")===!1,py=o=>o.options.get("menubar")!==!1,hC=o=>{const i=o.options.get("skin_url");if(Fh(o))return i;if(i)return o.documentBaseURI.toAbsolute(i);{const c=o.options.get("skin");return s5.baseURL+"/skins/ui/"+c}},pC=o=>D.from(o.options.get("skin_url")),p5=o=>o.options.get("line_height_formats").split(" "),by=o=>{const i=Fv(o),c=v(i),u=F(i)&&i.length>0;return!vy(o)&&(u||c||i===!0)},bC=o=>{const i=Hr(9,u=>o.options.get("toolbar"+(u+1))),c=xo(i,v);return $o(c.length>0,c)},vy=o=>bC(o).fold(()=>{const i=Fv(o);return ye(i,v)&&i.length>0},Ne),Qk=o=>Lh(o)===cy.bottom,eA=o=>{var i;if(!o.inline)return D.none();const c=(i=Gk(o))!==null&&i!==void 0?i:"";if(c.length>0)return Kr(fn(),c);const u=Y8(o);return U(u)?D.some(nn(u)):D.none()},zb=o=>o.inline&&eA(o).isSome(),vC=o=>eA(o).getOrThunk(()=>$e(ot(nn(o.getElement())))),xC=o=>o.inline&&!py(o)&&!by(o)&&!vy(o),Lg=o=>(o.options.get("toolbar_sticky")||o.inline)&&!zb(o)&&!xC(o),Fg=o=>!zb(o)&&o.options.get("ui_mode")==="split",zh=o=>{const i=o.options.get("menu");return Gt(i,c=>({...c,items:c.items}))};var xy=Object.freeze({__proto__:null,get ToolbarMode(){return _u},get ToolbarLocation(){return cy},register:i5,getSkinUrl:hC,getSkinUrlOption:pC,isReadOnly:Kk,isSkinDisabled:Fh,getHeightOption:dy,getWidthOption:fy,getMinWidthOption:my,getMinHeightOption:Mv,getMaxWidthOption:Pv,getMaxHeightOption:lC,getUserStyleFormats:Lv,shouldMergeStyleFormats:cC,shouldAutoHideStyleFormats:a5,getLineHeightFormats:p5,getContentLanguages:qk,getRemovedMenuItems:l5,isMenubarEnabled:py,isMultipleToolbars:vy,isToolbarEnabled:by,isToolbarPersist:c5,getMultipleToolbarsOption:bC,getUiContainer:vC,useFixedContainer:zb,isSplitUiMode:Fg,getToolbarMode:Fb,isDraggableModal:bf,isDistractionFree:xC,isStickyToolbar:Lg,getStickyToolbarOffset:Yk,getToolbarLocation:Lh,isToolbarLocationBottom:Qk,getToolbarGroups:uC,getMenus:zh,getMenubar:Pg,getToolbar:Fv,getFilePickerCallback:dC,getFilePickerTypes:hy,useTypeaheadUrls:fC,getAnchorTop:u5,getAnchorBottom:d5,getFilePickerValidatorHandler:gy,getFontSizeInputDefaultUnit:Xk,useStatusBar:f5,useElementPath:m5,promotionEnabled:h5,useBranding:gc,getResize:qi,getPasteAsText:g5,getSidebarShow:mC,useHelpAccessibility:Jk,getDefaultFontStack:gC});const X8=["visible","hidden","clip"],b5=o=>ql(o).length>0&&!rt(X8,o),v5=o=>{if(ja(o)){const i=os(o,"overflow-x"),c=os(o,"overflow-y");return b5(i)||b5(c)}return!1},Hh=(o,i)=>Fg(o)?((c,u)=>{const h=Oh(u,v5),p=h.length===0?Ft(u).map(Jt).map(y=>Oh(y,v5)).getOr([]):h;return en(p).map(y=>({element:y,others:p.slice(1),isFullscreen:()=>(S=>S.plugins.fullscreen&&S.plugins.fullscreen.isFullscreen())(c)}))})(o,i):D.none(),Vh=o=>{const i=[...yt(o.others,Us),wi()];return o.isFullscreen()?wi():((c,u)=>Mn(u,(h,p)=>qu(h,p),c))(Us(o.element),i)},Ca=Uc({name:"Button",factory:o=>{const i=Iv(o.action),c=o.dom.tag,u=h=>jt(o.dom,"attributes").bind(p=>jt(p,h));return{uid:o.uid,dom:o.dom,components:o.components,events:i,behaviours:Vn(o.buttonBehaviours,[jn.config({}),kn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:c==="button"?{type:u("type").getOr("button"),...u("role").map(h=>({role:h})).getOr({})}:{role:o.role.getOr(u("role").getOr("button"))}},eventOrder:o.eventOrder}},configFields:[Xe("uid",void 0),kt("dom"),Xe("components",[]),Kn("buttonBehaviours",[jn,kn]),Io("action"),Io("role"),Xe("eventOrder",{})]}),Am=o=>{const i=xl(o),c=dr(i),u=(y=>{const S=y.dom.attributes!==void 0?y.dom.attributes:[];return Mn(S,(k,O)=>O.name==="class"?k:{...k,[O.name]:O.value},{})})(i),h=(y=>Array.prototype.slice.call(y.dom.classList,0))(i),p=c.length===0?{}:{innerHtml:nd(i)};return{tag:Aa(i),classes:h,attributes:u,...p}},tr=o=>{const i=(c=>c.uid!==void 0)(o)&&so(o,"uid")?o.uid:ac("memento");return{get:c=>c.getSystem().getByUid(i).getOrDie(),getOpt:c=>c.getSystem().getByUid(i).toOptional(),asSpec:()=>({...o,uid:i})}};var J8=Object.freeze({__proto__:null,exhibit:(o,i)=>Ts({attributes:Ju([{key:i.tabAttr,value:"true"}])})}),x5=[Xe("tabAttr","data-alloy-tabstop")];const Sr=gi({fields:x5,name:"tabstopping",active:J8}),tA=mn("tooltip.exclusive"),yy=mn("tooltip.show"),wy=mn("tooltip.hide"),Cy=mn("tooltip.immediateHide"),_y=mn("tooltip.immediateShow"),y5=(o,i,c)=>{o.getSystem().broadcastOn([tA],{})};var Q8=Object.freeze({__proto__:null,hideAllExclusive:y5,immediateOpenClose:(o,i,c,u)=>ho(o,u?_y:Cy),isEnabled:(o,i,c)=>c.isEnabled(),setComponents:(o,i,c,u)=>{c.getTooltip().each(h=>{h.getSystem().isConnected()&&Fn.set(h,u)})},setEnabled:(o,i,c,u)=>c.setEnabled(u)}),eP=Object.freeze({__proto__:null,events:(o,i)=>{const c=p=>{i.getTooltip().each(y=>{y.getSystem().isConnected()&&(Pa(y),o.onHide(p,y),i.clearTooltip())}),i.clearTimer()},u=p=>{if(!i.isShowing()&&i.isEnabled()){y5(p);const y=o.lazySink(p).getOrDie(),S=p.getSystem().build({dom:o.tooltipDom,components:o.tooltipComponents,events:to(o.mode==="normal"?[bt(wn(),k=>{ho(p,yy)}),bt(io(),k=>{ho(p,wy)})]:[]),behaviours:zt([Fn.config({})])});i.setTooltip(S),df(y,S),o.onShow(p,S),Ki.position(y,S,{anchor:o.anchor(p)})}},h=p=>{i.getTooltip().each(y=>{const S=o.lazySink(p).getOrDie();Ki.position(S,y,{anchor:o.anchor(p)})})};return to(pr([[$1(p=>{o.onSetup(p)}),bt(yy,p=>{i.resetTimer(()=>{u(p)},o.delayForShow())}),bt(wy,p=>{i.resetTimer(()=>{c(p)},o.delayForHide())}),bt(_y,p=>{i.resetTimer(()=>{u(p)},0)}),bt(Cy,p=>{i.resetTimer(()=>{c(p)},0)}),bt(Rl(),(p,y)=>{const S=y;S.universal||rt(S.channels,tA)&&c(p)}),bu(p=>{c(p)})],(()=>{switch(o.mode){case"normal":return[bt(Xo(),p=>{ho(p,_y)}),bt(mh(),p=>{ho(p,Cy)}),bt(wn(),p=>{ho(p,yy)}),bt(io(),p=>{ho(p,wy)})];case"follow-highlight":return[bt(rx(),(p,y)=>{ho(p,yy)}),bt(qd(),p=>{ho(p,wy)})];case"children-normal":return[bt(Xo(),(p,y)=>{Rs(p.element).each(S=>{wc(y.event.target,"[data-mce-tooltip]")&&i.getTooltip().fold(()=>{ho(p,_y)},k=>{i.isShowing()&&(o.onShow(p,k),h(p))})})}),bt(mh(),p=>{Rs(p.element).fold(()=>{ho(p,Cy)},pe)}),bt(wn(),p=>{Kr(p.element,"[data-mce-tooltip]:hover").each(y=>{i.getTooltip().fold(()=>{ho(p,yy)},S=>{i.isShowing()&&(o.onShow(p,S),h(p))})})}),bt(io(),p=>{Kr(p.element,"[data-mce-tooltip]:hover").fold(()=>{ho(p,wy)},pe)})];default:return[bt(Xo(),(p,y)=>{Rs(p.element).each(S=>{wc(y.event.target,"[data-mce-tooltip]")&&i.getTooltip().fold(()=>{ho(p,_y)},k=>{i.isShowing()&&(o.onShow(p,k),h(p))})})}),bt(mh(),p=>{Rs(p.element).fold(()=>{ho(p,Cy)},pe)})]}})()]))}}),tP=[kt("lazySink"),kt("tooltipDom"),Xe("exclusive",!0),Xe("tooltipComponents",[]),Mr("delayForShow",ae(300)),Mr("delayForHide",ae(300)),Mr("onSetup",pe),Ql("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),Xe("anchor",o=>({type:"hotspot",hotspot:o,layouts:{onLtr:ae([Ds,ls,gs,Fs,hs,mr]),onRtl:ae([Ds,ls,gs,Fs,hs,mr])},bubble:Bl(0,-2,{})})),Lo("onHide"),Lo("onShow")],nP=Object.freeze({__proto__:null,init:()=>{const o=En(!0),i=sr(),c=sr(),u=()=>{i.on(clearTimeout)},h=ae("not-implemented");return mi({getTooltip:c.get,isShowing:c.isSet,setTooltip:c.set,clearTooltip:c.clear,clearTimer:u,resetTimer:(p,y)=>{u(),i.set(setTimeout(p,y))},readState:h,isEnabled:()=>o.get(),setEnabled:p=>o.set(p)})}});const Hs=gi({fields:tP,name:"tooltipping",active:eP,state:nP,apis:Q8}),{entries:w5,setPrototypeOf:nA,isFrozen:C5,getPrototypeOf:_5,getOwnPropertyDescriptor:oP}=Object;let{freeze:Pl,seal:vf,create:S5}=Object,{apply:oA,construct:rA}=typeof Reflect<"u"&&Reflect;oA||(oA=function(o,i,c){return o.apply(i,c)}),Pl||(Pl=function(o){return o}),vf||(vf=function(o){return o}),rA||(rA=function(o,i){return new o(...i)});const sA=fd(Array.prototype.forEach),rP=fd(Array.prototype.pop),Sy=fd(Array.prototype.push),yC=fd(String.prototype.toLowerCase),wC=fd(String.prototype.toString),sP=fd(String.prototype.match),ln=fd(String.prototype.replace),Hb=fd(String.prototype.indexOf),iP=fd(String.prototype.trim),Kc=fd(RegExp.prototype.test),$h=(CC=TypeError,function(){for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return rA(CC,i)});var CC;function fd(o){return function(i){for(var c=arguments.length,u=new Array(c>1?c-1:0),h=1;h<c;h++)u[h-1]=arguments[h];return oA(o,i,u)}}function br(o,i,c){var u;c=(u=c)!==null&&u!==void 0?u:yC,nA&&nA(o,null);let h=i.length;for(;h--;){let p=i[h];if(typeof p=="string"){const y=c(p);y!==p&&(C5(i)||(i[h]=y),p=y)}o[p]=!0}return o}function zv(o){const i=S5(null);for(const[c,u]of w5(o))i[c]=u;return i}function _C(o,i){for(;o!==null;){const c=oP(o,i);if(c){if(c.get)return fd(c.get);if(typeof c.value=="function")return fd(c.value)}o=_5(o)}return function(c){return console.warn("fallback value for",c),null}}const iA=Pl(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ky=Pl(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Vb=Pl(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),k5=Pl(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),aA=Pl(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),aP=Pl(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),A5=Pl(["#text"]),lP=Pl(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),SC=Pl(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),E5=Pl(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),kC=Pl(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),cP=vf(/\{\{[\w\W]*|[\w\W]*\}\}/gm),uP=vf(/<%[\w\W]*|[\w\W]*%>/gm),lA=vf(/\${[\w\W]*}/gm),dP=vf(/^data-[\-\w.\u00B7-\uFFFF]/),fP=vf(/^aria-[\-\w]+$/),T5=vf(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),mP=vf(/^(?:\w+script|data):/i),gP=vf(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Em=vf(/^html$/i);var Ay=Object.freeze({__proto__:null,MUSTACHE_EXPR:cP,ERB_EXPR:uP,TMPLIT_EXPR:lA,DATA_ATTR:dP,ARIA_ATTR:fP,IS_ALLOWED_URI:T5,IS_SCRIPT_OR_DATA:mP,ATTR_WHITESPACE:gP,DOCTYPE_NAME:Em});const hP=()=>typeof window>"u"?null:window;var pP=function o(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hP();const c=it=>o(it);if(c.version="3.0.5",c.removed=[],!i||!i.document||i.document.nodeType!==9)return c.isSupported=!1,c;const u=i.document,h=u.currentScript;let{document:p}=i;const{DocumentFragment:y,HTMLTemplateElement:S,Node:k,Element:O,NodeFilter:M,NamedNodeMap:N=i.NamedNodeMap||i.MozNamedAttrMap,HTMLFormElement:H,DOMParser:K,trustedTypes:G}=i,re=O.prototype,le=_C(re,"cloneNode"),me=_C(re,"nextSibling"),ie=_C(re,"childNodes"),se=_C(re,"parentNode");if(typeof S=="function"){const it=p.createElement("template");it.content&&it.content.ownerDocument&&(p=it.content.ownerDocument)}let de,ge="";const{implementation:be,createNodeIterator:Me,createDocumentFragment:qe,getElementsByTagName:wt}=p,{importNode:pt}=u;let mt={};c.isSupported=typeof w5=="function"&&typeof se=="function"&&be&&be.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Pt,ERB_EXPR:cn,TMPLIT_EXPR:bn,DATA_ATTR:Dn,ARIA_ATTR:Gn,IS_SCRIPT_OR_DATA:Ao,ATTR_WHITESPACE:Lr}=Ay;let{IS_ALLOWED_URI:qr}=Ay,go=null;const Fo=br({},[...iA,...ky,...Vb,...aA,...A5]);let Ln=null;const Gr=br({},[...lP,...SC,...E5,...kC]);let hr=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),_a=null,Sa=null,Ti=!0,bi=!0,Xg=!1,p0=!0,up=!1,Jg=!1,I2=!1,dp=!1,$m=!1,h1=!1,p1=!1,b0=!0,uS=!1,B2=!0,fp=!1,Um={},Qg=null;const M2=br({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let P2=null;const Go=br({},["audio","video","img","source","image","track"]);let Zm=null;const yd=br({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),b1="http://www.w3.org/1998/Math/MathML",dS="http://www.w3.org/2000/svg",eh="http://www.w3.org/1999/xhtml";let v0=eh,tT=!1,fS=null;const Cz=br({},[b1,dS,eh],wC);let x0;const _z=["application/xhtml+xml","text/html"];let sl,v1=null;const Sz=p.createElement("form"),tB=function(it){return it instanceof RegExp||it instanceof Function},mS=function(it){if(!v1||v1!==it){if(it&&typeof it=="object"||(it={}),it=zv(it),x0=x0=_z.indexOf(it.PARSER_MEDIA_TYPE)===-1?"text/html":it.PARSER_MEDIA_TYPE,sl=x0==="application/xhtml+xml"?wC:yC,go="ALLOWED_TAGS"in it?br({},it.ALLOWED_TAGS,sl):Fo,Ln="ALLOWED_ATTR"in it?br({},it.ALLOWED_ATTR,sl):Gr,fS="ALLOWED_NAMESPACES"in it?br({},it.ALLOWED_NAMESPACES,wC):Cz,Zm="ADD_URI_SAFE_ATTR"in it?br(zv(yd),it.ADD_URI_SAFE_ATTR,sl):yd,P2="ADD_DATA_URI_TAGS"in it?br(zv(Go),it.ADD_DATA_URI_TAGS,sl):Go,Qg="FORBID_CONTENTS"in it?br({},it.FORBID_CONTENTS,sl):M2,_a="FORBID_TAGS"in it?br({},it.FORBID_TAGS,sl):{},Sa="FORBID_ATTR"in it?br({},it.FORBID_ATTR,sl):{},Um="USE_PROFILES"in it&&it.USE_PROFILES,Ti=it.ALLOW_ARIA_ATTR!==!1,bi=it.ALLOW_DATA_ATTR!==!1,Xg=it.ALLOW_UNKNOWN_PROTOCOLS||!1,p0=it.ALLOW_SELF_CLOSE_IN_ATTR!==!1,up=it.SAFE_FOR_TEMPLATES||!1,Jg=it.WHOLE_DOCUMENT||!1,$m=it.RETURN_DOM||!1,h1=it.RETURN_DOM_FRAGMENT||!1,p1=it.RETURN_TRUSTED_TYPE||!1,dp=it.FORCE_BODY||!1,b0=it.SANITIZE_DOM!==!1,uS=it.SANITIZE_NAMED_PROPS||!1,B2=it.KEEP_CONTENT!==!1,fp=it.IN_PLACE||!1,qr=it.ALLOWED_URI_REGEXP||T5,v0=it.NAMESPACE||eh,hr=it.CUSTOM_ELEMENT_HANDLING||{},it.CUSTOM_ELEMENT_HANDLING&&tB(it.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(hr.tagNameCheck=it.CUSTOM_ELEMENT_HANDLING.tagNameCheck),it.CUSTOM_ELEMENT_HANDLING&&tB(it.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(hr.attributeNameCheck=it.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),it.CUSTOM_ELEMENT_HANDLING&&typeof it.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(hr.allowCustomizedBuiltInElements=it.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),up&&(bi=!1),h1&&($m=!0),Um&&(go=br({},[...A5]),Ln=[],Um.html===!0&&(br(go,iA),br(Ln,lP)),Um.svg===!0&&(br(go,ky),br(Ln,SC),br(Ln,kC)),Um.svgFilters===!0&&(br(go,Vb),br(Ln,SC),br(Ln,kC)),Um.mathMl===!0&&(br(go,aA),br(Ln,E5),br(Ln,kC))),it.ADD_TAGS&&(go===Fo&&(go=zv(go)),br(go,it.ADD_TAGS,sl)),it.ADD_ATTR&&(Ln===Gr&&(Ln=zv(Ln)),br(Ln,it.ADD_ATTR,sl)),it.ADD_URI_SAFE_ATTR&&br(Zm,it.ADD_URI_SAFE_ATTR,sl),it.FORBID_CONTENTS&&(Qg===M2&&(Qg=zv(Qg)),br(Qg,it.FORBID_CONTENTS,sl)),B2&&(go["#text"]=!0),Jg&&br(go,["html","head","body"]),go.table&&(br(go,["tbody"]),delete _a.tbody),it.TRUSTED_TYPES_POLICY){if(typeof it.TRUSTED_TYPES_POLICY.createHTML!="function")throw $h('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof it.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw $h('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');de=it.TRUSTED_TYPES_POLICY,ge=de.createHTML("")}else de===void 0&&(de=function(Rn,no){if(typeof Rn!="object"||typeof Rn.createPolicy!="function")return null;let Fr=null;const Ns="data-tt-policy-suffix";no&&no.hasAttribute(Ns)&&(Fr=no.getAttribute(Ns));const Ws="dompurify"+(Fr?"#"+Fr:"");try{return Rn.createPolicy(Ws,{createHTML:Vs=>Vs,createScriptURL:Vs=>Vs})}catch{return console.warn("TrustedTypes policy "+Ws+" could not be created."),null}}(G,h)),de!==null&&typeof ge=="string"&&(ge=de.createHTML(""));Pl&&Pl(it),v1=it}},nB=br({},["mi","mo","mn","ms","mtext"]),oB=br({},["foreignobject","desc","title","annotation-xml"]),Qn=br({},["title","style","font","a","script"]),mp=br({},ky);br(mp,Vb),br(mp,k5);const gS=br({},aA);br(gS,aP);const gp=function(it){Sy(c.removed,{element:it});try{it.parentNode.removeChild(it)}catch{it.remove()}},y0=function(it,Rn){try{Sy(c.removed,{attribute:Rn.getAttributeNode(it),from:Rn})}catch{Sy(c.removed,{attribute:null,from:Rn})}if(Rn.removeAttribute(it),it==="is"&&!Ln[it])if($m||h1)try{gp(Rn)}catch{}else try{Rn.setAttribute(it,"")}catch{}},nT=function(it){let Rn,no;if(dp)it="<remove></remove>"+it;else{const Ws=sP(it,/^[\r\n\t ]+/);no=Ws&&Ws[0]}x0==="application/xhtml+xml"&&v0===eh&&(it='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+it+"</body></html>");const Fr=de?de.createHTML(it):it;if(v0===eh)try{Rn=new K().parseFromString(Fr,x0)}catch{}if(!Rn||!Rn.documentElement){Rn=be.createDocument(v0,"template",null);try{Rn.documentElement.innerHTML=tT?ge:Fr}catch{}}const Ns=Rn.body||Rn.documentElement;return it&&no&&Ns.insertBefore(p.createTextNode(no),Ns.childNodes[0]||null),v0===eh?wt.call(Rn,Jg?"html":"body")[0]:Jg?Rn.documentElement:Ns},oT=function(it){return Me.call(it.ownerDocument||it,it,M.SHOW_ELEMENT|M.SHOW_COMMENT|M.SHOW_TEXT,null,!1)},rT=function(it){return typeof k=="object"?it instanceof k:it&&typeof it=="object"&&typeof it.nodeType=="number"&&typeof it.nodeName=="string"},Mu=function(it,Rn,no){mt[it]&&sA(mt[it],Fr=>{Fr.call(c,Rn,no,v1)})},rB=function(it){let Rn;if(Mu("beforeSanitizeElements",it,null),(no=it)instanceof H&&(typeof no.nodeName!="string"||typeof no.textContent!="string"||typeof no.removeChild!="function"||!(no.attributes instanceof N)||typeof no.removeAttribute!="function"||typeof no.setAttribute!="function"||typeof no.namespaceURI!="string"||typeof no.insertBefore!="function"||typeof no.hasChildNodes!="function"))return gp(it),!0;var no;const Fr=sl(it.nodeName);if(Mu("uponSanitizeElement",it,{tagName:Fr,allowedTags:go}),it.hasChildNodes()&&!rT(it.firstElementChild)&&(!rT(it.content)||!rT(it.content.firstElementChild))&&Kc(/<[/\w]/g,it.innerHTML)&&Kc(/<[/\w]/g,it.textContent))return gp(it),!0;if(!go[Fr]||_a[Fr]){if(!_a[Fr]&&sB(Fr)&&(hr.tagNameCheck instanceof RegExp&&Kc(hr.tagNameCheck,Fr)||hr.tagNameCheck instanceof Function&&hr.tagNameCheck(Fr)))return!1;if(B2&&!Qg[Fr]){const Ns=se(it)||it.parentNode,Ws=ie(it)||it.childNodes;if(Ws&&Ns)for(let Vs=Ws.length-1;Vs>=0;--Vs)Ns.insertBefore(le(Ws[Vs],!0),me(it))}return gp(it),!0}return it instanceof O&&!function(Ns){let Ws=se(Ns);Ws&&Ws.tagName||(Ws={namespaceURI:v0,tagName:"template"});const Vs=yC(Ns.tagName),si=yC(Ws.tagName);return!!fS[Ns.namespaceURI]&&(Ns.namespaceURI===dS?Ws.namespaceURI===eh?Vs==="svg":Ws.namespaceURI===b1?Vs==="svg"&&(si==="annotation-xml"||nB[si]):!!mp[Vs]:Ns.namespaceURI===b1?Ws.namespaceURI===eh?Vs==="math":Ws.namespaceURI===dS?Vs==="math"&&oB[si]:!!gS[Vs]:Ns.namespaceURI===eh?!(Ws.namespaceURI===dS&&!oB[si])&&!(Ws.namespaceURI===b1&&!nB[si])&&!gS[Vs]&&(Qn[Vs]||!mp[Vs]):!(x0!=="application/xhtml+xml"||!fS[Ns.namespaceURI]))}(it)?(gp(it),!0):Fr!=="noscript"&&Fr!=="noembed"&&Fr!=="noframes"||!Kc(/<\/no(script|embed|frames)/i,it.innerHTML)?(up&&it.nodeType===3&&(Rn=it.textContent,Rn=ln(Rn,Pt," "),Rn=ln(Rn,cn," "),Rn=ln(Rn,bn," "),it.textContent!==Rn&&(Sy(c.removed,{element:it.cloneNode()}),it.textContent=Rn)),Mu("afterSanitizeElements",it,null),!1):(gp(it),!0)},sT=function(it,Rn,no){if(b0&&(Rn==="id"||Rn==="name")&&(no in p||no in Sz))return!1;if(!(bi&&!Sa[Rn]&&Kc(Dn,Rn))){if(!(Ti&&Kc(Gn,Rn))){if(!Ln[Rn]||Sa[Rn]){if(!(sB(it)&&(hr.tagNameCheck instanceof RegExp&&Kc(hr.tagNameCheck,it)||hr.tagNameCheck instanceof Function&&hr.tagNameCheck(it))&&(hr.attributeNameCheck instanceof RegExp&&Kc(hr.attributeNameCheck,Rn)||hr.attributeNameCheck instanceof Function&&hr.attributeNameCheck(Rn))||Rn==="is"&&hr.allowCustomizedBuiltInElements&&(hr.tagNameCheck instanceof RegExp&&Kc(hr.tagNameCheck,no)||hr.tagNameCheck instanceof Function&&hr.tagNameCheck(no))))return!1}else if(!Zm[Rn]){if(!Kc(qr,ln(no,Lr,""))){if((Rn!=="src"&&Rn!=="xlink:href"&&Rn!=="href"||it==="script"||Hb(no,"data:")!==0||!P2[it])&&!(Xg&&!Kc(Ao,ln(no,Lr,"")))){if(no)return!1}}}}}return!0},sB=function(it){return it.indexOf("-")>0},iB=function(it){let Rn,no,Fr,Ns;Mu("beforeSanitizeAttributes",it,null);const{attributes:Ws}=it;if(!Ws)return;const Vs={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ln};for(Ns=Ws.length;Ns--;){Rn=Ws[Ns];const{name:si,namespaceURI:w0}=Rn;no=si==="value"?Rn.value:iP(Rn.value);const Az=no;if(Fr=sl(si),Vs.attrName=Fr,Vs.attrValue=no,Vs.keepAttr=!0,Vs.forceKeepAttr=void 0,Mu("uponSanitizeAttribute",it,Vs),no=Vs.attrValue,Vs.forceKeepAttr)continue;if(!Vs.keepAttr){y0(si,it);continue}if(!p0&&Kc(/\/>/i,no)){y0(si,it);continue}up&&(no=ln(no,Pt," "),no=ln(no,cn," "),no=ln(no,bn," "));const aB=sl(it.nodeName);if(sT(aB,Fr,no)){if(!uS||Fr!=="id"&&Fr!=="name"||(y0(si,it),no="user-content-"+no),de&&typeof G=="object"&&typeof G.getAttributeType=="function"&&!w0)switch(G.getAttributeType(aB,Fr)){case"TrustedHTML":no=de.createHTML(no);break;case"TrustedScriptURL":no=de.createScriptURL(no)}if(no!==Az)try{w0?it.setAttributeNS(w0,si,no):it.setAttribute(si,no)}catch{y0(si,it)}}else y0(si,it)}Mu("afterSanitizeAttributes",it,null)},kz=function it(Rn){let no;const Fr=oT(Rn);for(Mu("beforeSanitizeShadowDOM",Rn,null);no=Fr.nextNode();)Mu("uponSanitizeShadowNode",no,null),rB(no)||(no.content instanceof y&&it(no.content),iB(no));Mu("afterSanitizeShadowDOM",Rn,null)};return c.sanitize=function(it){let Rn,no,Fr,Ns,Ws=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(tT=!it,tT&&(it="<!-->"),typeof it!="string"&&!rT(it)){if(typeof it.toString!="function")throw $h("toString is not a function");if(typeof(it=it.toString())!="string")throw $h("dirty is not a string, aborting")}if(!c.isSupported)return it;if(I2||mS(Ws),c.removed=[],typeof it=="string"&&(fp=!1),fp){if(it.nodeName){const w0=sl(it.nodeName);if(!go[w0]||_a[w0])throw $h("root node is forbidden and cannot be sanitized in-place")}}else if(it instanceof k)Rn=nT("<!---->"),no=Rn.ownerDocument.importNode(it,!0),no.nodeType===1&&no.nodeName==="BODY"||no.nodeName==="HTML"?Rn=no:Rn.appendChild(no);else{if(!$m&&!up&&!Jg&&it.indexOf("<")===-1)return de&&p1?de.createHTML(it):it;if(Rn=nT(it),!Rn)return $m?null:p1?ge:""}Rn&&dp&&gp(Rn.firstChild);const Vs=oT(fp?it:Rn);for(;Fr=Vs.nextNode();)rB(Fr)||(Fr.content instanceof y&&kz(Fr.content),iB(Fr));if(fp)return it;if($m){if(h1)for(Ns=qe.call(Rn.ownerDocument);Rn.firstChild;)Ns.appendChild(Rn.firstChild);else Ns=Rn;return(Ln.shadowroot||Ln.shadowrootmode)&&(Ns=pt.call(u,Ns,!0)),Ns}let si=Jg?Rn.outerHTML:Rn.innerHTML;return Jg&&go["!doctype"]&&Rn.ownerDocument&&Rn.ownerDocument.doctype&&Rn.ownerDocument.doctype.name&&Kc(Em,Rn.ownerDocument.doctype.name)&&(si="<!DOCTYPE "+Rn.ownerDocument.doctype.name+`>
`+si),up&&(si=ln(si,Pt," "),si=ln(si,cn," "),si=ln(si,bn," ")),de&&p1?de.createHTML(si):si},c.setConfig=function(it){mS(it),I2=!0},c.clearConfig=function(){v1=null,I2=!1},c.isValidAttribute=function(it,Rn,no){v1||mS({});const Fr=sl(it),Ns=sl(Rn);return sT(Fr,Ns,no)},c.addHook=function(it,Rn){typeof Rn=="function"&&(mt[it]=mt[it]||[],Sy(mt[it],Rn))},c.removeHook=function(it){if(mt[it])return rP(mt[it])},c.removeHooks=function(it){mt[it]&&(mt[it]=[])},c.removeAllHooks=function(){mt={}},c}();const O5=o=>pP().sanitize(o);var Su=tinymce.util.Tools.resolve("tinymce.util.I18n");const bP={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},D5="temporary-placeholder",cA=o=>()=>jt(o,D5).getOr("!not found!"),Uh=(o,i)=>{const c=o.toLowerCase();if(Su.isRtl()){const u=((h,p)=>tu(h,p)?h:((y,S)=>y+S)(h,p))(c,"-rtl");return ao(i,u)?u:c}return c},Ey=(o,i)=>jt(i,Uh(o,i)),R5=(o,i)=>{const c=i();return Ey(o,c).getOrThunk(cA(c))},AC=()=>uo("add-focusable",[Vr(o=>{iv(o.element,"svg").each(i=>tn(i,"focusable","false"))})]),N5=(o,i,c,u)=>{var h,p;const y=(k=>!!Su.isRtl()&&ao(bP,k))(i)?["tox-icon--flip"]:[],S=jt(c,Uh(i,c)).or(u).getOrThunk(cA(c));return{dom:{tag:o.tag,attributes:(h=o.attributes)!==null&&h!==void 0?h:{},classes:o.classes.concat(y),innerHtml:S},behaviours:zt([...(p=o.behaviours)!==null&&p!==void 0?p:[],AC()])}},hc=(o,i,c,u=D.none())=>N5(i,o,c(),u),vP={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},uA=Uc({name:"Notification",factory:o=>{const i=mn("notification-text"),c=tr({dom:Am(`<p id=${i}>${O5(o.backstageProvider.translate(o.text))}</p>`),behaviours:zt([Fn.config({})])}),u=N=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${N}%`}}}),h=N=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${N}%`}}),p=tr({dom:{tag:"div",classes:o.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[u(0)]},h(0)],behaviours:zt([Fn.config({})])}),y={updateProgress:(N,H)=>{N.getSystem().isConnected()&&p.getOpt(N).each(K=>{Fn.set(K,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[u(H)]},h(H)])})},updateText:(N,H)=>{if(N.getSystem().isConnected()){const K=c.get(N);Fn.set(K,[xs(H)])}}},S=pr([o.icon.toArray(),o.level.toArray(),o.level.bind(N=>D.from(vP[N])).toArray()]),k=tr(Ca.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":o.backstageProvider.translate("Close")}},components:[hc("close",{tag:"span",classes:["tox-icon"]},o.iconProvider)],buttonBehaviours:zt([Sr.config({}),Hs.config({...o.backstageProvider.tooltips.getConfig({tooltipText:o.backstageProvider.translate("Close")})})]),action:N=>{o.onAction(N)}})),O=((N,H,K)=>{const G=K(),re=X(N,le=>ao(G,Uh(le,G)));return N5({tag:"div",classes:["tox-notification__icon"]},re.getOr(D5),G,D.none())})(S,0,o.iconProvider),M=[O,{dom:{tag:"div",classes:["tox-notification__body"]},components:[c.asSpec()],behaviours:zt([Fn.config({})])}];return{uid:o.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":i},classes:o.level.map(N=>["tox-notification","tox-notification--in",`tox-notification--${N}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:zt([Sr.config({}),jn.config({}),kn.config({mode:"special",onEscape:N=>(o.onAction(N),D.some(!0))})]),components:M.concat(o.progress?[p.asSpec()]:[]).concat([k.asSpec()]),apis:y}},configFields:[Io("level"),kt("progress"),Io("icon"),kt("onAction"),kt("text"),kt("iconProvider"),kt("backstageProvider")],apis:{updateProgress:(o,i,c)=>{o.updateProgress(i,c)},updateText:(o,i,c)=>{o.updateText(i,c)}}});var I5=(o,i,c,u)=>{const h=i.backstage.shared,p=()=>nn(o.queryCommandValue("ToggleView")===""?o.getContentAreaContainer():o.getContainer()),y=()=>{const k=Us(p());return D.some(k)},S=k=>{y().each(O=>{qt(k,M=>{er(M.element,"width"),ui(M.element)>O.width&&Jn(M.element,"width",O.width+"px")})})};return{open:(k,O,M)=>{const N=()=>{u.on(G=>{O();const re=M();(le=>{Fn.remove(le,H),K()})(G),((le,me)=>{dr(le.element).length===0?((ie,se)=>{Qr.hide(ie),u.clear(),se&&o.focus()})(le,me):((ie,se)=>{se&&kn.focusIn(ie)})(le,me)})(G,re)})},H=ki(uA.sketch({text:k.text,level:rt(["success","error","warning","warn","info"],k.type)?k.type:void 0,progress:k.progressBar===!0,icon:k.icon,onAction:N,iconProvider:h.providers.icons,backstageProvider:h.providers}));if(u.isSet()){const G=Ba(H);u.on(re=>{Fn.append(re,G),Qr.reposition(re),jr.refresh(re),S(re.components())})}else{const G=ki(Qr.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:h.getSink,fireDismissalEventInstead:{},...h.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:zt([kn.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),Fn.config({}),...Lg(o)&&!h.header.isPositionedAtTop()?[]:[jr.config({contextual:{lazyContext:()=>D.some(Us(p())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:ie=>Hh(o,ie.element).map(se=>({bounds:Vh(se),optScrollEnv:D.some({currentScrollTop:se.element.dom.scrollTop,scrollElmTop:dl(se.element).top})})).getOrThunk(()=>({bounds:wi(),optScrollEnv:D.none()}))})]])})),re=Ba(H),le={maxHeightFunction:Tg()},me={...h.anchors.banner(),overrides:le};u.set(G),c.add(G),Qr.showWithinBounds(G,re,{anchor:me},y)}ne(k.timeout)&&k.timeout>0&&aC.setEditorTimeout(o,()=>{N()},k.timeout);const K=()=>{u.on(G=>{Qr.reposition(G),jr.refresh(G),S(G.components())})};return{close:N,reposition:K,text:G=>{uA.updateText(H,G)},settings:k,getEl:()=>H.element.dom,progressBar:{value:G=>{uA.updateProgress(H,G)}}}},close:k=>{k.close()},getArgs:k=>k.settings}},Ty;(function(o){o[o.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",o[o.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(Ty||(Ty={}));var xf=Ty;const EC="tox-menu-nav__js",TC="tox-collection__item",B5="tox-swatch",M5={normal:EC,color:B5},P5="tox-collection__item--enabled",L5="tox-collection__item-icon",Oy="tox-collection__item-label",dA="tox-collection__item-caret",Tm="tox-collection__item--active",Dy="tox-collection__item-container",Ry="tox-collection__item-container--row",Zh=o=>jt(M5,o).getOr(EC),zV=o=>o==="color"?"tox-swatches":"tox-menu",fA=o=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:zV(o),tieredMenu:"tox-tiered-menu"}),$b=o=>{const i=fA(o);return{backgroundMenu:i.backgroundMenu,selectedMenu:i.selectedMenu,menu:i.menu,selectedItem:i.selectedItem,item:Zh(o)}},F5=(o,i,c)=>{const u=fA(c);return{tag:"div",classes:pr([[u.menu,`tox-menu-${i}-column`],o?[u.hasIcons]:[]])}},z5=[Pb.parts.items({})],OC=(o,i,c)=>{const u=fA(c);return{dom:{tag:"div",classes:pr([[u.tieredMenu]])},markers:$b(c)}},xP=ae([Io("data"),Xe("inputAttributes",{}),Xe("inputStyles",{}),Xe("tag","input"),Xe("inputClasses",[]),Lo("onSetValue"),Xe("styles",{}),Xe("eventOrder",{}),gn("inputBehaviours",[nt,jn]),Xe("selectOnFocus",!0)]),yP=o=>zt([jn.config({onFocus:o.selectOnFocus?i=>{const c=i.element,u=Qd(c);c.dom.setSelectionRange(0,u.length)}:pe})]),wP=o=>({...yP(o),...co(o.inputBehaviours,[nt.config({store:{mode:"manual",...o.data.map(i=>({initialValue:i})).getOr({}),getValue:i=>Qd(i.element),setValue:(i,c)=>{Qd(i.element)!==c&&cm(i.element,c)}},onSetValue:o.onSetValue})])}),H5=o=>({tag:o.tag,attributes:{type:"text",...o.inputAttributes},styles:o.inputStyles,classes:o.inputClasses}),zg=Uc({name:"Input",configFields:xP(),factory:(o,i)=>({uid:o.uid,dom:H5(o),components:[],behaviours:wP(o),eventOrder:o.eventOrder})}),V5=mn("refetch-trigger-event"),$5=mn("redirect-menu-item-interaction"),U5="tox-menu__searcher",Ny=o=>Kr(o.element,`.${U5}`).bind(i=>o.getSystem().getByDom(i).toOptional()),Z5=Ny,W5=o=>({fetchPattern:nt.getValue(o),selectionStart:o.element.dom.selectionStart,selectionEnd:o.element.dom.selectionEnd}),j5=o=>{const i=(h,p)=>(p.cut(),D.none()),c=(h,p)=>{const y={interactionEvent:p.event,eventType:p.event.raw.type};return Cn(h,$5,y),D.some(!0)},u="searcher-events";return{dom:{tag:"div",classes:[TC]},components:[zg.sketch({inputClasses:[U5,"tox-textfield"],inputAttributes:{...o.placeholder.map(h=>({placeholder:o.i18n(h)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:zt([uo(u,[bt(tm(),h=>{ho(h,V5)}),bt(is(),(h,p)=>{p.event.raw.key==="Escape"&&p.stop()})]),kn.config({mode:"special",onLeft:i,onRight:i,onSpace:i,onEnter:c,onEscape:c,onUp:c,onDown:c})]),eventOrder:{keydown:[u,kn.name()]}})]}},Iy="tox-collection--results__js",K5=o=>{var i;return o.dom?{...o,dom:{...o.dom,attributes:{...(i=o.dom.attributes)!==null&&i!==void 0?i:{},id:mn("aria-item-search-result-id"),"aria-selected":"false"}}}:o},DC=(o,i)=>c=>{const u=xt(c,i);return yt(u,h=>({dom:o,components:h}))},q5=(o,i)=>{const c=[];let u=[];return qt(o,(h,p)=>{i(h,p)?(u.length>0&&c.push(u),u=[],(ao(h.dom,"innerHtml")||h.components&&h.components.length>0)&&u.push(h)):u.push(h)}),u.length>0&&c.push(u),yt(c,h=>({dom:{tag:"div",classes:["tox-collection__group"]},components:h}))},By=(o,i,c)=>Pb.parts.items({preprocess:u=>{const h=yt(u,c);return o!=="auto"&&o>1?DC({tag:"div",classes:["tox-collection__group"]},o)(h):q5(h,(p,y)=>i[y].type==="separator")}}),mA=(o,i,c=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(o===1?["tox-collection--list"]:["tox-collection--grid"])},components:[By(o,i,Ie)]}),My=o=>Un(o,i=>"icon"in i&&i.icon!==void 0),Om=o=>(console.error(Ra(o)),console.log(o),D.none()),CP=(o,i,c,u,h)=>{const p=(y=c,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Pb.parts.items({preprocess:S=>q5(S,(k,O)=>y[O].type==="separator")})]});var y;return{value:o,dom:p.dom,components:p.components,items:c}},gA=(o,i,c,u,h)=>{if(h.menuType==="color"){const p=(y=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Pb.parts.items({preprocess:y!=="auto"?DC({tag:"div",classes:["tox-swatches__row"]},y):Ie})]}]}))(u);return{value:o,dom:p.dom,components:p.components,items:c}}if(h.menuType==="normal"&&u==="auto"){const p=mA(u,c);return{value:o,dom:p.dom,components:p.components,items:c}}if(h.menuType==="normal"||h.menuType==="searchable"){const p=h.menuType!=="searchable"?mA(u,c):h.searchMode.searchMode==="search-with-field"?((y,S,k)=>{const O=mn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(y===1?["tox-collection--list"]:["tox-collection--grid"])},components:[j5({i18n:Su.translate,placeholder:k.placeholder}),{dom:{tag:"div",classes:[...y===1?["tox-collection--list"]:["tox-collection--grid"],Iy],attributes:{id:O}},components:[By(y,S,K5)]}]}})(u,c,h.searchMode):((y,S,k=!0)=>{const O=mn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",Iy].concat(y===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:O}},components:[By(y,S,K5)]}})(u,c);return{value:o,dom:p.dom,components:p.components,items:c}}if(h.menuType==="listpreview"&&u!=="auto"){const p=(y=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Pb.parts.items({preprocess:DC({tag:"div",classes:["tox-collection__group"]},y)})]}))(u);return{value:o,dom:p.dom,components:p.components,items:c}}return{value:o,dom:F5(i,u,h.menuType),components:z5,items:c}},Xs=ss("type"),hA=ss("name"),pA=ss("label"),ku=ss("text"),bA=ss("title"),vA=ss("icon"),Ub=ss("value"),_P=pa("fetch"),G5=pa("getSubmenuItems"),Hv=pa("onAction"),Y5=pa("onItemAction"),Wh=Mr("onSetup",()=>pe),SP=vs("name"),jh=vs("text"),kP=vs("role"),Au=vs("icon"),Py=vs("tooltip"),xA=vs("label"),Vv=vs("shortcut"),yA=Rc("select"),RC=Ls("active",!1),HV=Ls("borderless",!1),Eu=Ls("enabled",!0),NC=Ls("primary",!1),X5=o=>Xe("columns",o),pc=Xe("meta",{}),wA=Mr("onAction",pe),Zb=o=>yl("type",o),CA=o=>Zs("name","name",ag(()=>mn(`${o}-name`)),ni),J5=In([Xs,jh]),AP=In([Zb("autocompleteitem"),RC,Eu,pc,Ub,jh,Au]),Dm=[Eu,Py,Au,jh,Wh],_A=In([Xs,Hv,Vv].concat(Dm)),Q5=o=>rs("toolbarbutton",_A,o),Ly=[RC].concat(Dm),IC=In(Ly.concat([Xs,Hv,Vv])),BC=o=>rs("ToggleButton",IC,o),eD=[Mr("predicate",Se),Ql("scope","node",["node","editor"]),Ql("position","selection",["node","selection","line"])],EP=Dm.concat([Zb("contextformbutton"),NC,Hv,Ci("original",Ie)]),TP=Ly.concat([Zb("contextformbutton"),NC,Hv,Ci("original",Ie)]),OP=Dm.concat([Zb("contextformbutton")]),DP=Ly.concat([Zb("contextformtogglebutton")]),RP=qs("type",{contextformbutton:EP,contextformtogglebutton:TP}),NP=In([Zb("contextform"),Mr("initValue",ae("")),xA,Na("commands",RP),ks("launch",qs("type",{contextformbutton:OP,contextformtogglebutton:DP}))].concat(eD)),tD=In([Zb("contexttoolbar"),ss("items")].concat(eD)),MC=[Xs,ss("src"),vs("alt"),lr("classes",[],ni)],IP=In(MC),BP=[Xs,ku,SP,lr("classes",["tox-collection__item-label"],ni)],MP=In(BP),nD=Yf(()=>mu("type",{cardimage:IP,cardtext:MP,cardcontainer:$v})),$v=In([Xs,yl("direction","horizontal"),yl("align","left"),yl("valign","middle"),Na("items",nD)]),Wb=[Eu,jh,kP,Vv,Zs("value","value",ag(()=>mn("menuitem-value")),ml()),pc],PP=In([Xs,xA,Na("items",nD),Wh,wA].concat(Wb)),SA=In([Xs,RC,Au].concat(Wb)),oD=[Xs,ss("fancytype"),wA],rD=[Xe("initData",{})].concat(oD),sD=[Rc("select"),va("initData",{},[Ls("allowCustomColors",!0),yl("storageKey","default"),z1("colors",ml())])].concat(oD),iD=qs("fancytype",{inserttable:rD,colorswatch:sD}),aD=In([Xs,Wh,wA,Au].concat(Wb)),lD=In([Xs,G5,Wh,Au].concat(Wb)),LP=In([Xs,Au,RC,Wh,Hv].concat(Wb)),kA=(o,i,c)=>{const u=ri(o.element,"."+c);if(u.length>0){const h=nr(u,p=>{const y=p.dom.getBoundingClientRect().top,S=u[0].dom.getBoundingClientRect().top;return Math.abs(y-S)>i}).getOr(u.length);return D.some({numColumns:h,numRows:Math.ceil(u.length/h)})}return D.none()},Fy=o=>((i,c)=>zt([uo(i,c)]))(mn("unnamed-events"),o),PC="silver.readonly",FP=In([_i("readonly",Dl)]),jb=(o,i)=>{const c=o.mainUi.outerContainer.element,u=[o.mainUi.mothership,...o.uiMotherships];i&&qt(u,h=>{h.broadcastOn([B()],{target:c})}),qt(u,h=>{h.broadcastOn([PC],{readonly:i})})},cD=(o,i)=>{o.on("init",()=>{o.mode.isReadOnly()&&jb(i,!0)}),o.on("SwitchMode",()=>jb(i,o.mode.isReadOnly())),Kk(o)&&o.mode.set("readonly")},hi=()=>el.config({channels:{[PC]:{schema:FP,onReceive:(o,i)=>{qn.set(o,i.readonly)}}}}),la=o=>qn.config({disabled:o}),uD=o=>qn.config({disabled:o,disableClass:"tox-tbtn--disabled"}),LC=o=>qn.config({disabled:o,disableClass:"tox-tbtn--disabled",useNative:!1}),zy=(o,i)=>{const c=o.getApi(i);return u=>{u(c)}},Kh=(o,i)=>Vr(c=>{zy(o,c)(u=>{const h=o.onSetup(u);J(h)&&i.set(h)})}),Hg=(o,i)=>bu(c=>zy(o,c)(i.get())),dD=(o,i)=>Mc((c,u)=>{zy(o,c)(o.onAction),o.triggersSubmenu||i!==xf.CLOSE_ON_EXECUTE||(c.getSystem().isConnected()&&ho(c,Vp()),u.stop())}),zP={[Xa()]:["disabling","alloy.base.behaviour","toggling","item-events"]},Uv=Ms,Zv=(o,i,c,u)=>{const h=En(pe);return{type:"item",dom:i.dom,components:Uv(i.optComponents),data:o.data,eventOrder:zP,hasSubmenu:o.triggersSubmenu,itemBehaviours:zt([uo("item-events",[dD(o,c),Kh(o,h),Hg(o,h)]),(p=()=>!o.enabled||u.isDisabled(),qn.config({disabled:p,disableClass:"tox-collection__item--state-disabled"})),hi(),Fn.config({})].concat(o.itemBehaviours))};var p},Wv=o=>({value:o.value,meta:{text:o.text.getOr(""),...o.meta}}),FC=o=>{const i=pf.os.isMacOS()||pf.os.isiOS(),c=i?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},u=o.split("+"),h=yt(u,p=>{const y=p.toLowerCase().trim();return ao(c,y)?c[y]:p});return i?h.join(""):h.join("+")},AA=(o,i,c=[L5])=>hc(o,{tag:"div",classes:c},i),fD=o=>({dom:{tag:"div",classes:[Oy]},components:[xs(Su.translate(o))]}),EA=(o,i)=>({dom:{tag:"div",classes:i,innerHtml:o}}),mD=(o,i)=>({dom:{tag:"div",classes:[Oy]},components:[{dom:{tag:o.tag,styles:o.styles},components:[xs(Su.translate(i))]}]}),gD=o=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[xs(FC(o))]}),hD=o=>AA("checkmark",o,["tox-collection__item-checkmark"]),pD=o=>{const i=o.map(c=>({attributes:{id:mn("menu-item"),"aria-label":Su.translate(c)}})).getOr({});return{tag:"div",classes:[EC,TC],...i}},Hy=(o,i,c,u=D.none())=>o.presets==="color"?((h,p,y)=>{const S=h.value,k=h.iconContent.map(M=>((N,H,K)=>{const G=H();return Ey(N,G).or(K).getOrThunk(cA(G))})(M,p.icons,y)),O=h.ariaLabel.map(M=>({"aria-label":p.translate(M),"data-mce-name":M})).getOr({});return{dom:(()=>{const M=B5,N=k.getOr(""),H={tag:"div",attributes:O,classes:[M]};return S==="custom"?{...H,tag:"button",classes:[...H.classes,"tox-swatches__picker-btn"],innerHtml:N}:S==="remove"?{...H,classes:[...H.classes,"tox-swatch--remove"],innerHtml:N}:U(S)?{...H,attributes:{...H.attributes,"data-mce-color":S},styles:{"background-color":S},innerHtml:N}:H})(),optComponents:[]}})(o,i,u):((h,p,y,S)=>{const k={tag:"div",classes:[L5]},O=y?h.iconContent.map(K=>hc(K,k,p.icons,S)).orThunk(()=>D.some({dom:k})):D.none(),M=h.checkMark,N=D.from(h.meta).fold(()=>fD,K=>ao(K,"style")?Je(mD,K.style):fD),H=h.htmlContent.fold(()=>h.textContent.map(N),K=>D.some(EA(K,[Oy])));return{dom:pD(h.ariaLabel),optComponents:[O,H,h.shortcutContent.map(gD),M,h.caret]}})(o,i,c,u),bD=(o,i,c)=>jt(o,"tooltipWorker").map(u=>[Hs.config({lazySink:i.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:h=>({type:"submenu",item:h,overrides:{maxHeightFunction:Tg}}),mode:"follow-highlight",onShow:(h,p)=>{u(y=>{Hs.setComponents(h,[ef({element:nn(y)})])})}})]).getOrThunk(()=>c.map(u=>[Hs.config({...i.providers.tooltips.getConfig({tooltipText:u}),mode:"follow-highlight"})]).getOr([])),TA=(o,i)=>{const c=(u=>Bv.DOM.encode(u))(Su.translate(o));if(i.length>0){const u=new RegExp((h=>h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(i),"gi");return c.replace(u,h=>`<span class="tox-autocompleter-highlight">${h}</span>`)}return c},OA=(o,i)=>yt(o,c=>{switch(c.type){case"cardcontainer":return((p,y)=>{const S=p.direction==="vertical"?"tox-collection__item-container--column":Ry,k=p.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[Dy,S,k,(()=>{switch(p.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:y}})(c,OA(c.items,i));case"cardimage":return((p,y,S)=>({dom:{tag:"img",classes:y,attributes:{src:p,alt:S.getOr("")}}}))(c.src,c.classes,c.alt);case"cardtext":const u=c.name.exists(p=>rt(i.cardText.highlightOn,p)),h=u?D.from(i.cardText.matchText).getOr(""):"";return EA(TA(c.text,h),c.classes)}}),Vg=La(Zk(),Wk()),DA=o=>({value:Kb(o)}),RA=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,NA=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,vD=o=>RA.test(o)||NA.test(o),Kb=o=>yr(o,"#").toUpperCase(),IA=o=>{const i=o.toString(16);return(i.length===1?"0"+i:i).toUpperCase()},Vy=o=>{const i=IA(o.red)+IA(o.green)+IA(o.blue);return DA(i)},BA=Math.min,xD=Math.max,zC=Math.round,HP=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,yD=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,$g=(o,i,c,u)=>({red:o,green:i,blue:c,alpha:u}),$y=o=>{const i=parseInt(o,10);return i.toString()===o&&i>=0&&i<=255},wD=o=>{let i,c,u;const h=(o.hue||0)%360;let p=o.saturation/100,y=o.value/100;if(p=xD(0,BA(p,1)),y=xD(0,BA(y,1)),p===0)return i=c=u=zC(255*y),$g(i,c,u,1);const S=h/60,k=y*p,O=k*(1-Math.abs(S%2-1)),M=y-k;switch(Math.floor(S)){case 0:i=k,c=O,u=0;break;case 1:i=O,c=k,u=0;break;case 2:i=0,c=k,u=O;break;case 3:i=0,c=O,u=k;break;case 4:i=O,c=0,u=k;break;case 5:i=k,c=0,u=O;break;default:i=c=u=0}return i=zC(255*(i+M)),c=zC(255*(c+M)),u=zC(255*(u+M)),$g(i,c,u,1)},md=o=>{const i=(p=>{const y=(k=>({value:k.value.replace(RA,(M,N,H,K)=>N+N+H+H+K+K)}))(p),S=NA.exec(y.value);return S===null?["FFFFFF","FF","FF","FF"]:S})(o),c=parseInt(i[1],16),u=parseInt(i[2],16),h=parseInt(i[3],16);return $g(c,u,h,1)},MA=(o,i,c,u)=>{const h=parseInt(o,10),p=parseInt(i,10),y=parseInt(c,10),S=parseFloat(u);return $g(h,p,y,S)},HC=o=>{const i=HP.exec(o);if(i!==null)return D.some(MA(i[1],i[2],i[3],"1"));const c=yD.exec(o);return c!==null?D.some(MA(c[1],c[2],c[3],c[4])):D.none()},CD=o=>`rgba(${o.red},${o.green},${o.blue},${o.alpha})`,_D=$g(255,0,0,1),qb=(o,i)=>{o.dispatch("ResizeContent",i)},jv=(o,i)=>{o.dispatch("TextColorChange",i)},SD=(o,i)=>o.dispatch("ResolveName",{name:i.nodeName.toLowerCase(),target:i}),Kv=(o,i)=>()=>{o(),i()},pi=o=>Gb(o,"NodeChange",i=>{i.setEnabled(o.selection.isEditable())}),yf=(o,i)=>c=>{const u=pi(o)(c),h=((p,y)=>S=>{const k=Xl(),O=()=>{S.setActive(p.formatter.match(y));const M=p.formatter.formatChanged(y,S.setActive);k.set(M)};return p.initialized?O():p.once("init",O),()=>{p.off("init",O),k.clear()}})(o,i)(c);return()=>{u(),h()}},Gb=(o,i,c)=>u=>{const h=()=>c(u),p=()=>{c(u),o.on(i,h)};return o.initialized?p():o.once("init",p),()=>{o.off("init",p),o.off(i,h)}},kD=o=>i=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("mceToggleFormat",!1,i.format)})},Ll=(o,i)=>()=>o.execCommand(i);var bc=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const VC={},AD=o=>jt(VC,o).getOrThunk(()=>{const i=`tinymce-custom-colors-${o}`,c=bc.getItem(i);if(j(c)){const h=bc.getItem("tinymce-custom-colors");bc.setItem(i,U(h)?h:"[]")}const u=((h,p=10)=>{const y=bc.getItem(h),S=v(y)?JSON.parse(y):[],k=p-(O=S).length<0?O.slice(0,p):O;var O;const M=N=>{k.splice(N,1)};return{add:N=>{((H,K)=>{const G=Tn(H,K);return G===-1?D.none():D.some(G)})(k,N).each(M),k.unshift(N),k.length>p&&k.pop(),bc.setItem(h,JSON.stringify(k))},state:()=>k.slice(0)}})(i,10);return VC[o]=u,u}),PA=(o,i)=>{AD(o).add(i)},qv=(o,i,c)=>({hue:o,saturation:i,value:c}),$C=o=>{let i=0,c=0,u=0;const h=o.red/255,p=o.green/255,y=o.blue/255,S=Math.min(h,Math.min(p,y)),k=Math.max(h,Math.max(p,y));return S===k?(u=S,qv(0,0,100*u)):(i=h===S?3:y===S?1:5,i=60*(i-(h===S?p-y:y===S?h-p:y-h)/(k-S)),c=(k-S)/k,u=k,qv(Math.round(i),Math.round(100*c),Math.round(100*u)))},UC=o=>Vy(wD(o)),ED=o=>{return(i=o,vD(i)?D.some({value:Kb(i)}):D.none()).orThunk(()=>HC(o).map(Vy)).getOrThunk(()=>{const c=document.createElement("canvas");c.height=1,c.width=1;const u=c.getContext("2d");u.clearRect(0,0,c.width,c.height),u.fillStyle="#FFFFFF",u.fillStyle=o,u.fillRect(0,0,1,1);const h=u.getImageData(0,0,1,1).data,p=h[0],y=h[1],S=h[2],k=h[3];return Vy($g(p,y,S,k))});var i},LA="forecolor",FA="hilitecolor",VP=o=>{const i=[];for(let c=0;c<o.length;c+=2)i.push({text:o[c+1],value:"#"+ED(o[c]).value,icon:"checkmark",type:"choiceitem"});return i},Tu=o=>i=>i.options.get(o),Uy="#000000",Yb=(o,i)=>i===LA&&o.options.isSet("color_map_foreground")?Tu("color_map_foreground")(o):i===FA&&o.options.isSet("color_map_background")?Tu("color_map_background")(o):Tu("color_map")(o),ZC=(o,i="default")=>Math.max(5,Math.ceil(Math.sqrt(Yb(o,i).length))),TD=(o,i)=>{const c=Tu("color_cols")(o),u=ZC(o,i);return c===ZC(o)?u:c},zA=(o,i="default")=>Math.round(i===LA?Tu("color_cols_foreground")(o):i===FA?Tu("color_cols_background")(o):Tu("color_cols")(o)),HA=Tu("custom_colors"),OD=Tu("color_default_foreground"),DD=Tu("color_default_background"),RD=(o,i)=>{const c=nn(o.selection.getStart()),u=i==="hilitecolor"?ug(c,h=>{if(Ur(h)){const p=os(h,"background-color");return $o(HC(p).exists(y=>y.alpha!==0),p)}return D.none()}).getOr("rgba(0, 0, 0, 0)"):os(c,"color");return HC(u).map(h=>"#"+Vy(h).value)},WC=o=>{const i="choiceitem",c={type:i,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return o?[c,{type:i,text:"Custom color",icon:"color-picker",value:"custom"}]:[c]},VA=(o,i,c,u)=>{c==="custom"?BD(o)(h=>{h.each(p=>{PA(i,p),o.execCommand("mceApplyTextcolor",i,p),u(p)})},RD(o,i).getOr(Uy)):c==="remove"?(u(""),o.execCommand("mceRemoveTextcolor",i)):(u(c),o.execCommand("mceApplyTextcolor",i,c))},$A=(o,i,c)=>o.concat((u=>yt(AD(u).state(),h=>({type:"choiceitem",text:h,icon:"checkmark",value:h})))(i).concat(WC(c))),ND=(o,i,c)=>u=>{u($A(o,i,c))},UA=(o,i,c)=>{const u=i==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";o.setIconFill(u,c)},ZA=(o,i)=>{o.setTooltip(i)},ID=(o,i)=>c=>{const u=RD(o,i);return Nr(u,c.toUpperCase())},WA=(o,i,c)=>{if(nu(c))return i==="forecolor"?"Text color":"Background color";const u=i==="forecolor"?"Text color {0}":"Background color {0}",h=$A(Yb(o,i),i,!1),p=X(h,y=>y.value===c).getOr({text:""}).text;return o.translate([u,o.translate(p)])},jA=(o,i,c,u)=>{o.ui.registry.addSplitButton(i,{tooltip:WA(o,c,u.get()),presets:"color",icon:i==="forecolor"?"text-color":"highlight-bg-color",select:ID(o,c),columns:zA(o,c),fetch:ND(Yb(o,c),c,HA(o)),onAction:h=>{VA(o,c,u.get(),pe)},onItemAction:(h,p)=>{VA(o,c,p,y=>{u.set(y),jv(o,{name:i,color:y})})},onSetup:h=>{UA(h,i,u.get());const p=y=>{y.name===i&&(UA(h,y.name,y.color),ZA(h,WA(o,c,y.color)))};return o.on("TextColorChange",p),Kv(pi(o)(h),()=>{o.off("TextColorChange",p)})}})},Gv=(o,i,c,u,h)=>{o.ui.registry.addNestedMenuItem(i,{text:u,icon:i==="forecolor"?"text-color":"highlight-bg-color",onSetup:p=>(ZA(p,WA(o,c,h.get())),UA(p,i,h.get()),pi(o)(p)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:ID(o,c),initData:{storageKey:c},onAction:p=>{VA(o,c,p.value,y=>{h.set(y),jv(o,{name:i,color:y})})}}]})},BD=o=>(i,c)=>{let u=!1;const h={colorpicker:c};o.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:h,onAction:(p,y)=>{y.name==="hex-valid"&&(u=y.value)},onSubmit:p=>{const y=p.getData().colorpicker;u?(i(D.from(y)),p.close()):o.windowManager.alert(o.translate(["Invalid hex color code: {0}",y]))},onClose:pe,onCancel:()=>{i(D.none())}})},Xb=(o,i,c,u,h,p,y,S)=>{const k=My(i),O=KA(i,c,u,h!=="color"?"normal":"color",p,y,S);return gA(o,k,O,u,{menuType:h})},KA=(o,i,c,u,h,p,y)=>Ms(yt(o,S=>{return S.type==="choiceitem"?(k=S,rs("choicemenuitem",SA,k)).fold(Om,O=>D.some(((M,N,H,K,G,re,le,me=!0)=>{const ie=Hy({presets:H,textContent:N?M.text:D.none(),htmlContent:D.none(),ariaLabel:M.text,iconContent:M.icon,shortcutContent:N?M.shortcut:D.none(),checkMark:N?D.some(hD(le.icons)):D.none(),caret:D.none(),value:M.value},le,me),se=M.text.filter(ae(!N)).map(de=>Hs.config(le.tooltips.getConfig({tooltipText:le.translate(de)})));return fr(Zv({data:Wv(M),enabled:M.enabled,getApi:de=>({setActive:ge=>{$n.set(de,ge)},isActive:()=>$n.isOn(de),isEnabled:()=>!qn.isDisabled(de),setEnabled:ge=>qn.set(de,!ge)}),onAction:de=>K(M.value),onSetup:de=>(de.setActive(G),pe),triggersSubmenu:!1,itemBehaviours:[...se.toArray()]},ie,re,le),{toggling:{toggleClass:P5,toggleOnExecute:!1,selected:M.active,exclusive:!0}})})(O,c===1,u,i,p(O.value),h,y,My(o)))):D.none();var k})),Zy=(o,i)=>{const c=$b(i);return o===1?{mode:"menu",moveOnTab:!0}:o==="auto"?{mode:"grid",selector:"."+c.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(i==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:u=>i==="color"?Kr(u.element,"[aria-checked=true]"):D.none()}},qA=mn("cell-over"),MD=mn("cell-execute"),$P=(o,i,c)=>{const u=p=>Cn(p,MD,{row:o,col:i}),h=(p,y)=>{y.stop(),u(p)};return ki({dom:{tag:"div",attributes:{role:"button","aria-label":c}},behaviours:zt([uo("insert-table-picker-cell",[bt(wn(),jn.focus),bt(Xa(),u),bt(Gs(),h),bt(Zd(),h)]),$n.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),jn.config({onFocus:p=>Cn(p,qA,{row:o,col:i})})])})},PD=o=>jo(o,i=>yt(i,Ba)),LD=(o,i)=>xs(`${i}x${o}`),FD={inserttable:(o,i)=>{const c=(y=>(S,k)=>y.shared.providers.translate(["{0} columns, {1} rows",k,S]))(i),u=((y,S,k)=>{const O=[];for(let M=0;M<10;M++){const N=[];for(let H=0;H<10;H++){const K=y(M+1,H+1);N.push($P(M,H,K))}O.push(N)}return O})(c),h=LD(0,0),p=tr({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[h],behaviours:zt([Fn.config({})])});return{type:"widget",data:{value:mn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Vg.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:PD(u).concat(p.asSpec()),behaviours:zt([uo("insert-table-picker",[Vr(y=>{Fn.set(p.get(y),[h])}),fg(qA,(y,S,k)=>{const{row:O,col:M}=k.event;((N,H,K,G,re)=>{for(let le=0;le<10;le++)for(let me=0;me<10;me++)$n.set(N[le][me],le<=H&&me<=K)})(u,O,M),Fn.set(p.get(y),[LD(O+1,M+1)])}),fg(MD,(y,S,k)=>{const{row:O,col:M}=k.event;ho(y,Vp()),o.onAction({numRows:O+1,numColumns:M+1})})]),kn.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(o,i)=>{const c=((y,S)=>{const k=y.initData.allowCustomColors&&S.colorinput.hasCustomColors();return y.initData.colors.fold(()=>$A(S.colorinput.getColors(y.initData.storageKey),y.initData.storageKey,k),O=>O.concat(WC(k)))})(o,i),u=i.colorinput.getColorCols(o.initData.storageKey),h="color",p={...Xb(mn("menu-value"),c,y=>{o.onAction({value:y})},u,h,xf.CLOSE_ON_EXECUTE,o.select.getOr(Se),i.shared.providers),markers:$b(h),movement:Zy(u,h),showMenuRole:!1};return{type:"widget",data:{value:mn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Vg.widget(Pb.sketch(p))]}}},zD=o=>({type:"separator",dom:{tag:"div",classes:[TC,"tox-collection__group-heading"]},components:o.text.map(xs).toArray()});var UP=Object.freeze({__proto__:null,getCoupled:(o,i,c,u)=>c.getOrCreate(o,i,u),getExistingCoupled:(o,i,c,u)=>c.getExisting(o,i,u)}),HD=[_i("others",Pp(ko.value,ml()))],jC=Object.freeze({__proto__:null,init:()=>{const o={},i=(u,h)=>{if(et(u.others).length===0)throw new Error("Cannot find any known coupled components");return jt(o,h)},c=ae({});return mi({readState:c,getExisting:(u,h,p)=>i(h,p).orThunk(()=>(jt(h.others,p).getOrDie("No information found for coupled component: "+p),D.none())),getOrCreate:(u,h,p)=>i(h,p).getOrThunk(()=>{const y=jt(h.others,p).getOrDie("No information found for coupled component: "+p)(u),S=u.getSystem().build(y);return o[p]=S,S})})}});const ys=gi({fields:HD,name:"coupling",apis:UP,state:jC}),Wy=o=>{let i=D.none(),c=[];const u=y=>{h()?p(y):c.push(y)},h=()=>i.isSome(),p=y=>{i.each(S=>{setTimeout(()=>{y(S)},0)})};return o(y=>{h()||(i=D.some(y),qt(c,p),c=[])}),{get:u,map:y=>Wy(S=>{u(k=>{S(y(k))})}),isReady:h}},ZP={nu:Wy,pure:o=>Wy(i=>{i(o)})},WP=o=>{setTimeout(()=>{throw o},0)},Yv=o=>{const i=c=>{o().then(c,WP)};return{map:c=>Yv(()=>o().then(c)),bind:c=>Yv(()=>o().then(u=>c(u).toPromise())),anonBind:c=>Yv(()=>o().then(()=>c.toPromise())),toLazy:()=>ZP.nu(i),toCached:()=>{let c=null;return Yv(()=>(c===null&&(c=o()),c))},toPromise:o,get:i}},qh=o=>Yv(()=>new Promise(o)),Rm=o=>Yv(()=>Promise.resolve(o)),GA=ae("sink"),VD=ae($c({name:GA(),overrides:ae({dom:{tag:"div"},behaviours:zt([Ki.config({useFixed:Ne})]),events:to([om(is()),om(At()),om(Gs())])})})),$D=(o,i)=>{const c=o.getHotspot(i).getOr(i),u="hotspot",h=o.getAnchorOverrides();return o.layouts.fold(()=>({type:u,hotspot:c,overrides:h}),p=>({type:u,hotspot:c,overrides:h,layouts:p}))},KC=(o,i,c,u,h,p,y)=>((k,O,M,N,H,K,G)=>{const re=((me,ie,se)=>(0,me.fetch)(se).map(ie))(k,O,N),le=UD(N,k);return re.map(me=>me.bind(ie=>{const se=ie.menus[ie.primary];return D.from(se).each(de=>{k.listRole.each(ge=>{de.role=ge})}),D.from(Mg.sketch({...K.menu(),uid:ac(""),data:ie,highlightOnOpen:G,onOpenMenu:(de,ge)=>{const be=le().getOrDie();Ki.position(be,ge,{anchor:M}),T.decloak(H)},onOpenSubmenu:(de,ge,be)=>{const Me=le().getOrDie();Ki.position(Me,be,{anchor:{type:"submenu",item:ge}}),T.decloak(H)},onRepositionMenu:(de,ge,be)=>{const Me=le().getOrDie();Ki.position(Me,ge,{anchor:M}),qt(be,qe=>{Ki.position(Me,qe.triggeredMenu,{anchor:{type:"submenu",item:qe.triggeringItem}})})},onEscape:()=>(jn.focus(N),T.close(H),D.some(!0))}))}))})(o,i,$D(o,c),c,u,h,y).map(k=>(k.fold(()=>{T.isOpen(u)&&T.close(u)},O=>{T.cloak(u),T.open(u,O),p(u)}),u)),jP=(o,i,c,u,h,p,y)=>(T.close(u),Rm(u)),YA=(o,i,c,u,h,p)=>{const y=ys.getCoupled(c,"sandbox");return(T.isOpen(y)?jP:KC)(o,i,c,y,u,h,p)},UD=(o,i)=>o.getSystem().getByUid(i.uid+"-"+GA()).map(c=>()=>ko.value(c)).getOrThunk(()=>i.lazySink.fold(()=>()=>ko.error(new Error("No internal sink is specified, nor could an external sink be found")),c=>()=>c(o))),XA=o=>{T.getState(o).each(i=>{Mg.repositionMenus(i)})},JA=(o,i,c)=>{const u=Cg(),h=UD(i,o);return{dom:{tag:"div",classes:o.sandboxClasses,attributes:{id:u.id}},behaviours:Vn(o.sandboxBehaviours,[nt.config({store:{mode:"memory",initialValue:i}}),T.config({onOpen:(p,y)=>{const S=$D(o,i);u.link(i.element),o.matchWidth&&((k,O,M)=>{const N=Ho.getCurrent(O).getOr(O),H=ui(k.element);M?Jn(N.element,"min-width",H+"px"):((K,G)=>{tg.set(K,G)})(N.element,H)})(S.hotspot,y,o.useMinWidth),o.onOpen(S,p,y),c!==void 0&&c.onOpen!==void 0&&c.onOpen(p,y)},onClose:(p,y)=>{u.unlink(i.element),h().getOr(y).element.dom.dispatchEvent(new window.FocusEvent("focusout")),c!==void 0&&c.onClose!==void 0&&c.onClose(p,y)},isPartOf:(p,y,S)=>Qa(y,S)||Qa(i,S),getAttachPoint:()=>h().getOrDie()}),Ho.config({find:p=>T.getState(p).bind(y=>Ho.getCurrent(y))}),el.config({channels:{...te({isExtraPart:Se}),...Ae({doReposition:XA})}})])}},ZD=o=>{const i=ys.getCoupled(o,"sandbox");XA(i)},QA=()=>[Xe("sandboxClasses",[]),Kn("sandboxBehaviours",[Ho,el,T,nt])],KP=ae([kt("dom"),kt("fetch"),Lo("onOpen"),Ja("onExecute"),Xe("getHotspot",D.some),Xe("getAnchorOverrides",ae({})),nf(),gn("dropdownBehaviours",[$n,ys,kn,jn]),kt("toggleClass"),Xe("eventOrder",{}),Io("lazySink"),Xe("matchWidth",!1),Xe("useMinWidth",!1),Io("role"),Io("listRole")].concat(QA())),qP=ae([ud({schema:[bg(),Xe("fakeFocus",!1)],name:"menu",defaults:o=>({onExecute:o.onExecute})}),VD()]),ol=gl({name:"Dropdown",configFields:KP(),partFields:qP(),factory:(o,i,c,u)=>{const h=k=>{T.getState(k).each(O=>{Mg.highlightPrimary(O)})},p=(k,O,M)=>YA(o,Ie,k,u,O,M),y={expand:k=>{$n.isOn(k)||p(k,pe,Fa.HighlightNone).get(pe)},open:k=>{$n.isOn(k)||p(k,pe,Fa.HighlightMenuAndItem).get(pe)},refetch:k=>ys.getExistingCoupled(k,"sandbox").fold(()=>p(k,pe,Fa.HighlightMenuAndItem).map(pe),O=>KC(o,Ie,k,O,u,pe,Fa.HighlightMenuAndItem).map(pe)),isOpen:$n.isOn,close:k=>{$n.isOn(k)&&p(k,pe,Fa.HighlightMenuAndItem).get(pe)},repositionMenus:k=>{$n.isOn(k)&&ZD(k)}},S=(k,O)=>(Gd(k),D.some(!0));return{uid:o.uid,dom:o.dom,components:i,behaviours:co(o.dropdownBehaviours,[$n.config({toggleClass:o.toggleClass,aria:{mode:"expanded"}}),ys.config({others:{sandbox:k=>JA(o,k,{onOpen:()=>$n.on(k),onClose:()=>$n.off(k)})}}),kn.config({mode:"special",onSpace:S,onEnter:S,onDown:(k,O)=>{if(ol.isOpen(k)){const M=ys.getCoupled(k,"sandbox");h(M)}else ol.open(k);return D.some(!0)},onEscape:(k,O)=>ol.isOpen(k)?(ol.close(k),D.some(!0)):D.none()}),jn.config({})]),events:Iv(D.some(k=>{p(k,h,Fa.HighlightMenuAndItem).get(pe)})),eventOrder:{...o.eventOrder,[Xa()]:["disabling","toggling","alloy.base.behaviour"]},apis:y,domModification:{attributes:{"aria-haspopup":o.listRole.getOr("true"),...o.role.fold(()=>({}),k=>({role:k})),...o.dom.tag==="button"?{type:jt(o.dom,"attributes").bind(k=>jt(k,"type")).getOr("button")}:{}}}}},apis:{open:(o,i)=>o.open(i),refetch:(o,i)=>o.refetch(i),expand:(o,i)=>o.expand(i),close:(o,i)=>o.close(i),isOpen:(o,i)=>o.isOpen(i),repositionMenus:(o,i)=>o.repositionMenus(i)}}),WD=(o,i,c)=>{Z5(o).each(u=>{var h;((p,y)=>{No(y.element,"id").each(S=>tn(p.element,"aria-activedescendant",S))})(u,c),(Ia((h=i).element,Iy)?D.some(h.element):Kr(h.element,"."+Iy)).each(p=>{No(p,"id").each(y=>tn(u.element,"aria-controls",y))})}),tn(c.element,"aria-selected","true")},GP=(o,i,c)=>{tn(c.element,"aria-selected","false")},Jb=o=>ys.getExistingCoupled(o,"sandbox").bind(Ny).map(W5).map(i=>i.fetchPattern).getOr("");var jy;(function(o){o[o.ContentFocus=0]="ContentFocus",o[o.UiFocus=1]="UiFocus"})(jy||(jy={}));const YP=(o,i,c,u,h)=>{const p=c.shared.providers,y=k=>h?{...k,shortcut:D.none(),icon:k.text.isSome()?D.none():k.icon}:k;switch(o.type){case"menuitem":return(S=o,rs("menuitem",aD,S)).fold(Om,k=>D.some(((O,M,N,H=!0)=>{const K=Hy({presets:"normal",iconContent:O.icon,textContent:O.text,htmlContent:D.none(),ariaLabel:O.text,caret:D.none(),checkMark:D.none(),shortcutContent:O.shortcut},N,H);return Zv({data:Wv(O),getApi:G=>({isEnabled:()=>!qn.isDisabled(G),setEnabled:re=>qn.set(G,!re)}),enabled:O.enabled,onAction:O.onAction,onSetup:O.onSetup,triggersSubmenu:!1,itemBehaviours:[]},K,M,N)})(y(k),i,p,u)));case"nestedmenuitem":return(k=>rs("nestedmenuitem",lD,k))(o).fold(Om,k=>D.some(((O,M,N,H=!0,K=!1)=>{const G=K?(re=N.icons,AA("chevron-down",re,[dA])):(me=>AA("chevron-right",me,[dA]))(N.icons);var re;const le=Hy({presets:"normal",iconContent:O.icon,textContent:O.text,htmlContent:D.none(),ariaLabel:O.text,caret:D.some(G),checkMark:D.none(),shortcutContent:O.shortcut},N,H);return Zv({data:Wv(O),getApi:me=>({isEnabled:()=>!qn.isDisabled(me),setEnabled:ie=>qn.set(me,!ie),setIconFill:(ie,se)=>{Kr(me.element,`svg path[class="${ie}"], rect[class="${ie}"]`).each(de=>{tn(de,"fill",se)})},setTooltip:ie=>{const se=N.translate(ie);tn(me.element,"aria-label",se)}}),enabled:O.enabled,onAction:pe,onSetup:O.onSetup,triggersSubmenu:!0,itemBehaviours:[]},le,M,N)})(y(k),i,p,u,h)));case"togglemenuitem":return(k=>rs("togglemenuitem",LP,k))(o).fold(Om,k=>D.some(((O,M,N,H=!0)=>{const K=Hy({iconContent:O.icon,textContent:O.text,htmlContent:D.none(),ariaLabel:O.text,checkMark:D.some(hD(N.icons)),caret:D.none(),shortcutContent:O.shortcut,presets:"normal",meta:O.meta},N,H);return fr(Zv({data:Wv(O),enabled:O.enabled,getApi:G=>({setActive:re=>{$n.set(G,re)},isActive:()=>$n.isOn(G),isEnabled:()=>!qn.isDisabled(G),setEnabled:re=>qn.set(G,!re)}),onAction:O.onAction,onSetup:O.onSetup,triggersSubmenu:!1,itemBehaviours:[]},K,M,N),{toggling:{toggleClass:P5,toggleOnExecute:!1,selected:O.active},role:O.role.getOrUndefined()})})(y(k),i,p,u)));case"separator":return(k=>rs("separatormenuitem",J5,k))(o).fold(Om,k=>D.some(zD(k)));case"fancymenuitem":return(k=>rs("fancymenuitem",iD,k))(o).fold(Om,k=>((O,M)=>jt(FD,O.fancytype).map(N=>N(O,M)))(k,c));default:return console.error("Unknown item in general menu",o),D.none()}var S},Gh=(o,i,c,u,h,p,y)=>{const S=u===1,k=!S||My(o);return Ms(yt(o,O=>{switch(O.type){case"separator":return(M=O,rs("Autocompleter.Separator",J5,M)).fold(Om,N=>D.some(zD(N)));case"cardmenuitem":return(N=>rs("cardmenuitem",PP,N))(O).fold(Om,N=>D.some(((H,K,G,re)=>{const le={dom:pD(H.label),optComponents:[D.some({dom:{tag:"div",classes:[Dy,Ry]},components:OA(H.items,re)})]};return Zv({data:Wv({text:D.none(),...H}),enabled:H.enabled,getApi:me=>({isEnabled:()=>!qn.isDisabled(me),setEnabled:ie=>{qn.set(me,!ie),qt(ri(me.element,"*"),se=>{me.getSystem().getByDom(se).each(de=>{de.hasConfigured(qn)&&qn.set(de,!ie)})})}}),onAction:H.onAction,onSetup:H.onSetup,triggersSubmenu:!1,itemBehaviours:D.from(re.itemBehaviours).getOr([])},le,K,G.providers)})({...N,onAction:H=>{N.onAction(H),c(N.value,N.meta)}},h,p,{itemBehaviours:bD(N.meta,p,D.none()),cardText:{matchText:i,highlightOn:y}})));default:return(N=>rs("Autocompleter.Item",AP,N))(O).fold(Om,N=>D.some(((H,K,G,re,le,me,ie,se=!0)=>{const de=Hy({presets:re,textContent:D.none(),htmlContent:G?H.text.map(be=>TA(be,K)):D.none(),ariaLabel:H.text,iconContent:H.icon,shortcutContent:D.none(),checkMark:D.none(),caret:D.none(),value:H.value},ie.providers,se,H.icon),ge=H.text.filter(be=>!G&&be!=="");return Zv({data:Wv(H),enabled:H.enabled,getApi:ae({}),onAction:be=>le(H.value,H.meta),onSetup:ae(pe),triggersSubmenu:!1,itemBehaviours:bD(H,ie,ge)},de,me,ie.providers)})(N,i,S,"normal",c,h,p,k)))}var M}))},jD=(o,i,c,u,h,p)=>{const y=My(i),S=Ms(yt(i,O=>{const M=N=>YP(N,c,u,(H=>h?!ao(H,"text"):y)(N),h);return O.type==="nestedmenuitem"&&O.getSubmenuItems().length<=0?M({...O,enabled:!1}):M(O)})),k=(O=>O.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:O})(p);return(h?CP:gA)(o,y,S,1,k)},eE=o=>Mg.singleData(o.value,o),Ou=o=>of(nn(o.startContainer),o.startOffset,nn(o.endContainer),o.endOffset),KD=(o,i)=>{const c=mn("autocompleter"),u=En(!1),h=En(!1),p=sr(),y=ki(Qr.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:c}},components:[],fireDismissalEventInstead:{},inlineBehaviours:zt([uo("dismissAutocompleter",[bt(dg(),()=>N()),bt(rx(),(G,re)=>{No(re.event.target,"id").each(le=>tn(nn(o.getBody()),"aria-activedescendant",le))})])]),lazySink:i.getSink})),S=()=>Qr.isOpen(y),k=h.get,O=()=>{if(S()){Qr.hide(y),o.dom.remove(c,!1);const G=nn(o.getBody());No(G,"aria-owns").filter(re=>re===c).each(()=>{mo(G,"aria-owns"),mo(G,"aria-activedescendant")})}},M=()=>Qr.getContent(y).bind(G=>It(G.components(),0)),N=()=>o.execCommand("mceAutocompleterClose"),H=G=>{const re=(le=>{const me=je(le,ie=>D.from(ie.columns)).getOr(1);return jo(le,ie=>{const se=ie.items;return Gh(se,ie.matchText,(de,ge)=>{const be={hide:()=>N(),reload:Me=>{O(),o.execCommand("mceAutocompleterReload",!1,{fetchOptions:Me})}};o.execCommand("mceAutocompleterRefreshActiveRange"),p.get().each(Me=>{u.set(!0),ie.onAction(be,Me,de,ge),u.set(!1)})},me,xf.BUBBLE_TO_SANDBOX,i,ie.highlightOn)})})(G);re.length>0?(((le,me)=>{const ie=je(le,se=>D.from(se.columns)).getOr(1);Qr.showMenuAt(y,{anchor:{type:"selection",getSelection:()=>p.get().map(Ou),root:nn(o.getBody())}},((se,de,ge,be)=>{const Me=Zy(de,be),qe=$b(be);return{data:eE({...se,movement:Me,menuBehaviours:Fy(de!=="auto"?[]:[Vr((wt,pt)=>{kA(wt,4,qe.item).each(({numColumns:mt,numRows:Pt})=>{kn.setGridSize(wt,Pt,mt)})})])}),menu:{markers:$b(be),fakeFocus:ge===jy.ContentFocus}}})(gA("autocompleter-value",!0,me,ie,{menuType:"normal"}),ie,jy.ContentFocus,"normal")),M().each(or.highlightFirst)})(G,re),tn(nn(o.getBody()),"aria-owns",c),o.inline||K()):O()},K=()=>{o.dom.get(c)&&o.dom.remove(c,!1);const G=o.getDoc().documentElement,re=o.selection.getNode(),le=(me=>hg(me,!0))(y.element);Ta(le,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${re.offsetTop}px`,left:`${re.offsetLeft}px`}),o.dom.add(G,le.dom),Kr(le,'[role="menu"]').each(me=>{er(me,"position"),er(me,"max-height")})};o.on("AutocompleterStart",({lookupData:G})=>{h.set(!0),u.set(!1),H(G)}),o.on("AutocompleterUpdate",({lookupData:G})=>H(G)),o.on("AutocompleterUpdateActiveRange",({range:G})=>p.set(G)),o.on("AutocompleterEnd",()=>{O(),h.set(!1),u.set(!1),p.clear()}),((G,re)=>{const le=(ie,se)=>{Cn(ie,is(),{raw:se})},me=()=>G.getMenu().bind(or.getHighlighted);re.on("keydown",ie=>{const se=ie.which;G.isActive()&&(G.isMenuOpen()?se===13?(me().each(Gd),ie.preventDefault()):se===40?(me().fold(()=>{G.getMenu().each(or.highlightFirst)},de=>{le(de,ie)}),ie.preventDefault(),ie.stopImmediatePropagation()):se!==37&&se!==38&&se!==39||me().each(de=>{le(de,ie),ie.preventDefault(),ie.stopImmediatePropagation()}):se!==13&&se!==38&&se!==40||G.cancelIfNecessary())}),re.on("NodeChange",()=>{!G.isActive()||G.isProcessingAction()||re.queryCommandState("mceAutoCompleterInRange")||G.cancelIfNecessary()})})({cancelIfNecessary:N,isMenuOpen:S,isActive:k,isProcessingAction:u.get,getMenu:M},o)},Xv=(o,i,c)=>xu(o,i,c).isSome(),tE=(o,i)=>{let c=null;return{cancel:()=>{c!==null&&(clearTimeout(c),c=null)},schedule:(...u)=>{c=setTimeout(()=>{o.apply(null,u),c=null},i)}}},qD=o=>{const i=o.raw;return i.touches===void 0||i.touches.length!==1?D.none():D.some(i.touches[0])},qC=(o,i)=>{const c={stopBackspace:!0,...i},u=(N=>{const H=sr(),K=En(!1),G=tE(le=>{N.triggerEvent(YS(),le),K.set(!0)},400),re=Ju([{key:Z(),value:le=>(qD(le).each(me=>{G.cancel();const ie={x:me.clientX,y:me.clientY,target:le.target};G.schedule(le),K.set(!1),H.set(ie)}),D.none())},{key:ee(),value:le=>(G.cancel(),qD(le).each(me=>{H.on(ie=>{((se,de)=>{const ge=Math.abs(se.clientX-de.x),be=Math.abs(se.clientY-de.y);return ge>5||be>5})(me,ie)&&H.clear()})}),D.none())},{key:ke(),value:le=>(G.cancel(),H.get().filter(me=>Uo(me.target,le.target)).map(me=>K.get()?(le.prevent(),!1):N.triggerEvent(Zd(),le)))}]);return{fireIfReady:(le,me)=>jt(re,me).bind(ie=>ie(le))}})(c),h=yt(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),N=>ya(o,N,H=>{u.fireIfReady(H,N).each(K=>{K&&H.kill()}),c.triggerEvent(N,H)&&H.kill()})),p=sr(),y=ya(o,"paste",N=>{u.fireIfReady(N,"paste").each(H=>{H&&N.kill()}),c.triggerEvent("paste",N)&&N.kill(),p.set(setTimeout(()=>{c.triggerEvent(ox(),N)},0))}),S=ya(o,"keydown",N=>{c.triggerEvent("keydown",N)?N.kill():c.stopBackspace&&(H=>H.raw.which===pO[0]&&!rt(["input","textarea"],Aa(H.target))&&!Xv(H.target,'[contenteditable="true"]'))(N)&&N.prevent()}),k=ya(o,"focusin",N=>{c.triggerEvent("focusin",N)&&N.kill()}),O=sr(),M=ya(o,"focusout",N=>{c.triggerEvent("focusout",N)&&N.kill(),O.set(setTimeout(()=>{c.triggerEvent(mh(),N)},0))});return{unbind:()=>{qt(h,N=>{N.unbind()}),S.unbind(),k.unbind(),M.unbind(),y.unbind(),p.on(clearTimeout),O.on(clearTimeout)}}},nE=(o,i)=>{const c=jt(o,"target").getOr(i);return En(c)},Ky=wl([{stopped:[]},{resume:["element"]},{complete:[]}]),GD=(o,i,c,u,h,p)=>{const y=o(i,u),S=((k,O)=>{const M=En(!1),N=En(!1);return{stop:()=>{M.set(!0)},cut:()=>{N.set(!0)},isStopped:M.get,isCut:N.get,event:k,setSource:O.set,getSource:O.get}})(c,h);return y.fold(()=>(p.logEventNoHandlers(i,u),Ky.complete()),k=>{const O=k.descHandler;return Cx(O)(S),S.isStopped()?(p.logEventStopped(i,k.element,O.purpose),Ky.stopped()):S.isCut()?(p.logEventCut(i,k.element,O.purpose),Ky.complete()):ta(k.element).fold(()=>(p.logNoParent(i,k.element,O.purpose),Ky.complete()),M=>(p.logEventResponse(i,k.element,O.purpose),Ky.resume(M)))})},qy=(o,i,c,u,h,p)=>GD(o,i,c,u,h,p).fold(Ne,y=>qy(o,i,c,y,h,p),Se),GC=(o,i,c,u,h)=>{const p=nE(c,u);return qy(o,i,c,u,p,h)},YD=()=>{const o=(()=>{const u={};return{registerId:(h,p,y)=>{Mt(y,(S,k)=>{const O=u[k]!==void 0?u[k]:{};O[p]=((M,N)=>({cHandler:Je.apply(void 0,[M.handler].concat(N)),purpose:M.purpose}))(S,h),u[k]=O})},unregisterId:h=>{Mt(u,(p,y)=>{ao(p,h)&&delete p[h]})},filterByType:h=>jt(u,h).map(p=>Ko(p,(y,S)=>((k,O)=>({id:k,descHandler:O}))(S,y))).getOr([]),find:(h,p,y)=>jt(u,p).bind(S=>ug(y,k=>((O,M)=>xg(M).bind(N=>jt(O,N)).map(N=>((H,K)=>({element:H,descHandler:K}))(M,N)))(S,k),h))}})(),i={},c=u=>{xg(u.element).each(h=>{delete i[h],o.unregisterId(h)})};return{find:(u,h,p)=>o.find(u,h,p),filter:u=>o.filterByType(u),register:u=>{const h=(y=>{const S=y.element;return xg(S).getOrThunk(()=>((k,O)=>{const M=mn(X1+"uid-");return J1(O,M),M})(0,y.element))})(u);so(i,h)&&((y,S)=>{const k=i[S];if(k!==y)throw new Error('The tagId "'+S+'" is already used by: '+od(k.element)+`
Cannot use it for: `+od(y.element)+`
The conflicting element is`+(an(k.element)?" ":" not ")+"already in the DOM");c(y)})(u,h);const p=[u];o.registerId(p,h,u.events),i[h]=u},unregister:c,getById:u=>jt(i,u)}},gd=Uc({name:"Container",factory:o=>{const{attributes:i,...c}=o.dom;return{uid:o.uid,dom:{tag:"div",attributes:{role:"presentation",...i},...c},components:o.components,behaviours:Hn(o.containerBehaviours),events:o.events,domModification:o.domModification,eventOrder:o.eventOrder}},configFields:[Xe("components",[]),gn("containerBehaviours",[]),Xe("events",{}),Xe("domModification",{}),Xe("eventOrder",{})]}),YC=o=>{const i=le=>ta(o.element).fold(Ne,me=>Uo(le,me)),c=YD(),u=(le,me)=>c.find(i,le,me),h=qC(o.element,{triggerEvent:(le,me)=>Qp(le,me.target,ie=>((se,de,ge,be)=>GC(se,de,ge,ge.target,be))(u,le,me,ie))}),p={debugInfo:ae("real"),triggerEvent:(le,me,ie)=>{Qp(le,me,se=>GC(u,le,ie,me,se))},triggerFocus:(le,me)=>{xg(le).fold(()=>{xa(le)},ie=>{Qp(pu(),le,se=>(((de,ge,be,Me,qe)=>{const wt=nE(be,Me);GD(de,ge,be,Me,wt,qe)})(u,pu(),{originator:me,kill:pe,prevent:pe,target:le},le,se),!1))})},triggerEscape:(le,me)=>{p.triggerEvent("keydown",le.element,me.event)},getByUid:le=>G(le),getByDom:le=>re(le),build:ki,buildOrPatch:rv,addToGui:le=>{k(le)},removeFromGui:le=>{O(le)},addToWorld:le=>{y(le)},removeFromWorld:le=>{S(le)},broadcast:le=>{N(le)},broadcastOn:(le,me)=>{H(le,me)},broadcastEvent:(le,me)=>{K(le,me)},isConnected:Ne},y=le=>{le.connect(p),ea(le.element)||(c.register(le),qt(le.components(),y),p.triggerEvent(Wd(),le.element,{target:le.element}))},S=le=>{ea(le.element)||(qt(le.components(),S),c.unregister(le)),le.disconnect()},k=le=>{df(o,le)},O=le=>{Pa(le)},M=le=>{const me=c.filter(Rl());qt(me,ie=>{const se=ie.descHandler;Cx(se)(le)})},N=le=>{M({universal:!0,data:le})},H=(le,me)=>{M({universal:!1,channels:le,data:me})},K=(le,me)=>((ie,se,de)=>{const ge=(be=>{const Me=En(!1);return{stop:()=>{Me.set(!0)},cut:pe,isStopped:Me.get,isCut:Se,event:be,setSource:Ye("Cannot set source of a broadcasted event"),getSource:Ye("Cannot get source of a broadcasted event")}})(se);return qt(ie,be=>{const Me=be.descHandler;Cx(Me)(ge)}),ge.isStopped()})(c.filter(le),me),G=le=>c.getById(le).fold(()=>ko.error(new Error('Could not find component with uid: "'+le+'" in system.')),ko.value),re=le=>{const me=xg(le).getOr("not found");return G(me)};return y(o),{root:o,element:o.element,destroy:()=>{h.unbind(),yi(o.element)},add:k,remove:O,getByUid:G,getByDom:re,addToWorld:y,removeFromWorld:S,broadcast:N,broadcastOn:H,broadcastEvent:K}},XP=ae([Xe("prefix","form-field"),gn("fieldBehaviours",[Ho,nt])]),oE=ae([$c({schema:[kt("dom")],name:"label"}),$c({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[kt("text")],name:"aria-descriptor"}),nl({factory:{sketch:o=>{const i=((c,u)=>{const h={};return Mt(c,(p,y)=>{rt(u,y)||(h[y]=p)}),h})(o,["factory"]);return o.factory.sketch(i)}},schema:[kt("factory")],name:"field"})]),ir=gl({name:"FormField",configFields:XP(),partFields:oE(),factory:(o,i,c,u)=>{const h=co(o.fieldBehaviours,[Ho.config({find:S=>Or(S,o,"field")}),nt.config({store:{mode:"manual",getValue:S=>Ho.getCurrent(S).bind(nt.getValue),setValue:(S,k)=>{Ho.getCurrent(S).each(O=>{nt.setValue(O,k)})}}})]),p=to([Vr((S,k)=>{const O=tO(S,o,["label","field","aria-descriptor"]);O.field().each(M=>{const N=mn(o.prefix);O.label().each(H=>{tn(H.element,"for",N),tn(M.element,"id",N)}),O["aria-descriptor"]().each(H=>{const K=mn(o.prefix);tn(H.element,"id",K),tn(M.element,"aria-describedby",K)})})})]),y={getField:S=>Or(S,o,"field"),getLabel:S=>Or(S,o,"label")};return{uid:o.uid,dom:o.dom,components:i,behaviours:h,events:p,apis:y}},apis:{getField:(o,i)=>o.getField(i),getLabel:(o,i)=>o.getLabel(i)}});var JP=tinymce.util.Tools.resolve("tinymce.html.Entities");const Gy=(o,i,c,u)=>{const h=QP(o,i,c,u);return ir.sketch(h)},QP=(o,i,c,u)=>({dom:XC(c),components:o.toArray().concat([i]),fieldBehaviours:zt(u)}),XC=o=>({tag:"div",classes:["tox-form__group"].concat(o)}),Yh=(o,i)=>ir.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[xs(i.translate(o))]}),za=mn("form-component-change"),Xh=mn("form-close"),Ug=mn("form-cancel"),wf=mn("form-action"),Yy=mn("form-submit"),rE=mn("form-block"),sE=mn("form-unblock"),XD=mn("form-tabchange"),JC=mn("form-resize"),JD=(o,i,c)=>{const u=o.label.map(N=>Yh(N,i)),h=i.icons(),p=N=>(H,K)=>{xu(K.event.target,"[data-collection-item-value]").each(G=>{N(H,K,G,_o(G,"data-collection-item-value"))})},y=p((N,H,K,G)=>{H.stop(),i.isDisabled()||Cn(N,wf,{name:o.name,value:G})}),S=[bt(wn(),p((N,H,K)=>{xa(K)})),bt(Gs(),y),bt(Zd(),y),bt(Xo(),p((N,H,K)=>{Kr(N.element,"."+Tm).each(G=>{ms(G,Tm)}),as(K,Tm)})),bt(Es(),p(N=>{Kr(N.element,"."+Tm).each(H=>{ms(H,Tm),ab(H)})})),Mc(p((N,H,K,G)=>{Cn(N,wf,{name:o.name,value:G})}))],k=(N,H)=>yt(ri(N.element,".tox-collection__item"),H),O=ir.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(o.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Ie},behaviours:zt([qn.config({disabled:i.isDisabled,onDisabled:N=>{k(N,H=>{as(H,"tox-collection__item--state-disabled"),tn(H,"aria-disabled",!0)})},onEnabled:N=>{k(N,H=>{ms(H,"tox-collection__item--state-disabled"),mo(H,"aria-disabled")})}}),hi(),Fn.config({}),Hs.config({...i.tooltips.getConfig({tooltipText:"",onShow:N=>{Kr(N.element,"."+Tm+"[data-mce-tooltip]").each(H=>{No(H,"data-mce-tooltip").each(K=>{Hs.setComponents(N,i.tooltips.getComponents({tooltipText:K}))})})}}),mode:"children-keyboard-focus",anchor:N=>({type:"node",node:Kr(N.element,"."+Tm).orThunk(()=>Uu(".tox-collection__item")),root:N.element,layouts:{onLtr:ae([Ds,ls,gs,Fs,hs,mr]),onRtl:ae([Ds,ls,gs,Fs,hs,mr])},bubble:Bl(0,-2,{})})}),nt.config({store:{mode:"memory",initialValue:c.getOr([])},onSetValue:(N,H)=>{((K,G)=>{const re=yt(G,ie=>{const se=Su.translate(ie.text),de=o.columns===1?`<div class="tox-collection__item-label">${se}</div>`:"",ge=`<div class="tox-collection__item-icon">${(qe=>{var wt;return(wt=h[qe])!==null&&wt!==void 0?wt:qe})(ie.icon)}</div>`,be={_:" "," - ":" ","-":" "},Me=se.replace(/\_| \- |\-/g,qe=>be[qe]);return`<div data-mce-tooltip="${Me}" class="tox-collection__item${i.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${JP.encodeAllRaw(ie.value)}" aria-label="${Me}">${ge}${de}</div>`}),le=o.columns!=="auto"&&o.columns>1?xt(re,o.columns):[re],me=yt(le,ie=>`<div class="tox-collection__group">${ie.join("")}</div>`);gg(K.element,me.join(""))})(N,H),o.columns==="auto"&&kA(N,5,"tox-collection__item").each(({numRows:K,numColumns:G})=>{kn.setGridSize(N,K,G)}),ho(N,JC)}}),Sr.config({}),kn.config((M=o.columns,M===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:M==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${TC}`}})),uo("collection-events",S)]),eventOrder:{[Xa()]:["disabling","alloy.base.behaviour","collection-events"],[Xo()]:["collection-events","tooltipping"]}});var M;return Gy(u,O,["tox-form__group--collection"],[])},QD=["input","textarea"],QC=o=>{const i=Aa(o);return rt(QD,i)},eR=(o,i)=>{const c=i.getRoot(o).getOr(o.element);ms(c,i.invalidClass),i.notify.each(u=>{QC(o.element)&&tn(o.element,"aria-invalid",!1),u.getContainer(o).each(h=>{gg(h,u.validHtml)}),u.onValid(o)})},iE=(o,i,c,u)=>{const h=i.getRoot(o).getOr(o.element);as(h,i.invalidClass),i.notify.each(p=>{QC(o.element)&&tn(o.element,"aria-invalid",!0),p.getContainer(o).each(y=>{gg(y,u)}),p.onInvalid(o,u)})},tR=(o,i,c)=>i.validator.fold(()=>Rm(ko.value(!0)),u=>u.validate(o)),aE=(o,i,c)=>(i.notify.each(u=>{u.onValidate(o)}),tR(o,i).map(u=>o.getSystem().isConnected()?u.fold(h=>(iE(o,i,0,h),ko.error(h)),h=>(eR(o,i),ko.value(h))):ko.error("No longer in system")));var e7=Object.freeze({__proto__:null,markValid:eR,markInvalid:iE,query:tR,run:aE,isInvalid:(o,i)=>{const c=i.getRoot(o).getOr(o.element);return Ia(c,i.invalidClass)}}),nR=Object.freeze({__proto__:null,events:(o,i)=>o.validator.map(c=>to([bt(c.onEvent,u=>{aE(u,o).get(Ie)})].concat(c.validateOnLoad?[Vr(u=>{aE(u,o).get(pe)})]:[]))).getOr({})}),t7=[kt("invalidClass"),Xe("getRoot",D.none),ds("notify",[Xe("aria","alert"),Xe("getContainer",D.none),Xe("validHtml",""),Lo("onValid"),Lo("onInvalid"),Lo("onValidate")]),ds("validator",[kt("validate"),Xe("onEvent","input"),Xe("validateOnLoad",!0)])];const Nm=gi({fields:t7,name:"invalidating",active:nR,apis:e7,extra:{validation:o=>i=>{const c=nt.getValue(i);return Rm(o(c))}}}),Qb=gi({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>to([ph($i(),Ne)]),exhibit:()=>Ts({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),lE=mn("color-input-change"),cE=mn("color-swatch-change"),oR=mn("color-picker-cancel"),uE=$c({schema:[kt("dom")],name:"label"}),Jh=o=>$c({name:o+"-edge",overrides:i=>i.model.manager.edgeActions[o].fold(()=>({}),c=>({events:to([sx(Z(),(u,h,p)=>c(u,p),[i]),sx(At(),(u,h,p)=>c(u,p),[i]),sx(Pn(),(u,h,p)=>{p.mouseIsDown.get()&&c(u,p)},[i])])}))}),n7=Jh("top-left"),o7=Jh("top"),r7=Jh("top-right"),s7=Jh("right"),rR=Jh("bottom-right"),dE=Jh("bottom"),i7=Jh("bottom-left"),e_=Jh("left"),a7=nl({name:"thumb",defaults:ae({dom:{styles:{position:"absolute"}}}),overrides:o=>({events:to([vh(Z(),o,"spectrum"),vh(ee(),o,"spectrum"),vh(ke(),o,"spectrum"),vh(At(),o,"spectrum"),vh(Pn(),o,"spectrum"),vh(Xn(),o,"spectrum")])})}),t_=o=>_m(o.event);var l7=[uE,e_,s7,o7,dE,n7,r7,i7,rR,a7,nl({schema:[Ci("mouseIsDown",()=>En(!1))],name:"spectrum",overrides:o=>{const i=o.model.manager,c=(u,h)=>i.getValueFromEvent(h).map(p=>i.setValueFrom(u,o,p));return{behaviours:zt([kn.config({mode:"special",onLeft:(u,h)=>i.onLeft(u,o,t_(h)),onRight:(u,h)=>i.onRight(u,o,t_(h)),onUp:(u,h)=>i.onUp(u,o,t_(h)),onDown:(u,h)=>i.onDown(u,o,t_(h))}),Sr.config({}),jn.config({})]),events:to([bt(Z(),c),bt(ee(),c),bt(At(),c),bt(Pn(),(u,h)=>{o.mouseIsDown.get()&&c(u,h)})])}}})];const Xy=ae("slider.change.value"),fE=o=>{const i=o.event.raw;if((c=>c.type.indexOf("touch")!==-1)(i)){const c=i;return c.touches!==void 0&&c.touches.length===1?D.some(c.touches[0]).map(u=>Ir(u.clientX,u.clientY)):D.none()}{const c=i;return c.clientX!==void 0?D.some(c).map(u=>Ir(u.clientX,u.clientY)):D.none()}},e1=o=>o.model.minX,Qh=o=>o.model.minY,n_=o=>o.model.minX-1,o_=o=>o.model.minY-1,Zg=o=>o.model.maxX,Du=o=>o.model.maxY,r_=o=>o.model.maxX+1,s_=o=>o.model.maxY+1,i_=(o,i,c)=>i(o)-c(o),a_=o=>i_(o,Zg,e1),mE=o=>i_(o,Du,Qh),sR=o=>a_(o)/2,gE=o=>mE(o)/2,Jv=(o,i)=>i?o.stepSize*o.speedMultiplier:o.stepSize,hE=o=>o.snapToGrid,pE=o=>o.snapStart,l_=o=>o.rounded,c_=(o,i)=>o[i+"-edge"]!==void 0,bE=o=>c_(o,"left"),iR=o=>c_(o,"right"),Qv=o=>c_(o,"top"),aR=o=>c_(o,"bottom"),Wg=o=>o.model.value.get(),Im=(o,i)=>({x:o,y:i}),qc=(o,i)=>{Cn(o,Xy(),{value:i})},vE=(o,i,c,u)=>o<i?o:o>c?c:o===i?i-1:Math.max(i,o-u),Jy=(o,i,c,u)=>o>c?o:o<i?i:o===c?c+1:Math.min(c,o+u),lR=(o,i,c)=>Math.max(i,Math.min(c,o)),cR=o=>{const{min:i,max:c,range:u,value:h,step:p,snap:y,snapStart:S,rounded:k,hasMinEdge:O,hasMaxEdge:M,minBound:N,maxBound:H,screenRange:K}=o,G=O?i-1:i,re=M?c+1:c;if(h<N)return G;if(h>H)return re;{const le=((ie,se,de)=>Math.min(de,Math.max(ie,se))-se)(h,N,H),me=lR(le/K*u+i,G,re);return y&&me>=i&&me<=c?((ie,se,de,ge,be)=>be.fold(()=>{const Me=ie-se,qe=Math.round(Me/ge)*ge;return lR(se+qe,se-1,de+1)},Me=>{const qe=(ie-Me)%ge,wt=Math.round(qe/ge),pt=Math.floor((ie-Me)/ge),mt=Math.floor((de-Me)/ge),Pt=Me+Math.min(mt,pt+wt)*ge;return Math.max(Me,Pt)}))(me,i,c,p,S):k?Math.round(me):me}},u_=o=>{const{min:i,max:c,range:u,value:h,hasMinEdge:p,hasMaxEdge:y,maxBound:S,maxOffset:k,centerMinEdge:O,centerMaxEdge:M}=o;return h<i?p?0:O:h>c?y?S:M:(h-i)/u*k},xE="top",uR="right",dR="bottom",yE="left",Bm=o=>o.element.dom.getBoundingClientRect(),hd=(o,i)=>o[i],d_=o=>{const i=Bm(o);return hd(i,yE)},fR=o=>{const i=Bm(o);return hd(i,uR)},f_=o=>{const i=Bm(o);return hd(i,xE)},mR=o=>{const i=Bm(o);return hd(i,dR)},gR=o=>{const i=Bm(o);return hd(i,"width")},hR=o=>{const i=Bm(o);return hd(i,"height")},m_=(o,i,c)=>(o+i)/2-c,pR=(o,i)=>{const c=Bm(o),u=Bm(i),h=hd(c,yE),p=hd(c,uR),y=hd(u,yE);return m_(h,p,y)},bR=(o,i)=>{const c=Bm(o),u=Bm(i),h=hd(c,xE),p=hd(c,dR),y=hd(u,xE);return m_(h,p,y)},g_=(o,i)=>{Cn(o,Xy(),{value:i})},h_=(o,i,c)=>{const u={min:e1(i),max:Zg(i),range:a_(i),value:c,step:Jv(i),snap:hE(i),snapStart:pE(i),rounded:l_(i),hasMinEdge:bE(i),hasMaxEdge:iR(i),minBound:d_(o),maxBound:fR(o),screenRange:gR(o)};return cR(u)},vR=o=>(i,c,u)=>((h,p,y,S)=>{const k=(h>0?Jy:vE)(Wg(y),e1(y),Zg(y),Jv(y,S));return g_(p,k),D.some(k)})(o,i,c,u).map(Ne),wE=(o,i,c,u,h,p)=>{const y=((S,k,O,M,N)=>{const H=gR(S),K=M.bind(le=>D.some(pR(le,S))).getOr(0),G=N.bind(le=>D.some(pR(le,S))).getOr(H),re={min:e1(k),max:Zg(k),range:a_(k),value:O,hasMinEdge:bE(k),hasMaxEdge:iR(k),minBound:d_(S),minOffset:0,maxBound:fR(S),maxOffset:H,centerMinEdge:K,centerMaxEdge:G};return u_(re)})(i,p,c,u,h);return d_(i)-d_(o)+y},c7=vR(-1),u7=vR(1),d7=D.none,f7=D.none,CE={"top-left":D.none(),top:D.none(),"top-right":D.none(),right:D.some((o,i)=>{qc(o,r_(i))}),"bottom-right":D.none(),bottom:D.none(),"bottom-left":D.none(),left:D.some((o,i)=>{qc(o,n_(i))})};var m7=Object.freeze({__proto__:null,setValueFrom:(o,i,c)=>{const u=h_(o,i,c);return g_(o,u),u},setToMin:(o,i)=>{const c=e1(i);g_(o,c)},setToMax:(o,i)=>{const c=Zg(i);g_(o,c)},findValueOfOffset:h_,getValueFromEvent:o=>fE(o).map(i=>i.left),findPositionOfValue:wE,setPositionFromValue:(o,i,c,u)=>{const h=Wg(c),p=wE(o,u.getSpectrum(o),h,u.getLeftEdge(o),u.getRightEdge(o),c),y=ui(i.element)/2;Jn(i.element,"left",p-y+"px")},onLeft:c7,onRight:u7,onUp:d7,onDown:f7,edgeActions:CE});const p_=(o,i)=>{Cn(o,Xy(),{value:i})},_E=(o,i,c)=>{const u={min:Qh(i),max:Du(i),range:mE(i),value:c,step:Jv(i),snap:hE(i),snapStart:pE(i),rounded:l_(i),hasMinEdge:Qv(i),hasMaxEdge:aR(i),minBound:f_(o),maxBound:mR(o),screenRange:hR(o)};return cR(u)},xR=o=>(i,c,u)=>((h,p,y,S)=>{const k=(h>0?Jy:vE)(Wg(y),Qh(y),Du(y),Jv(y,S));return p_(p,k),D.some(k)})(o,i,c,u).map(Ne),SE=(o,i,c,u,h,p)=>{const y=((S,k,O,M,N)=>{const H=hR(S),K=M.bind(le=>D.some(bR(le,S))).getOr(0),G=N.bind(le=>D.some(bR(le,S))).getOr(H),re={min:Qh(k),max:Du(k),range:mE(k),value:O,hasMinEdge:Qv(k),hasMaxEdge:aR(k),minBound:f_(S),minOffset:0,maxBound:mR(S),maxOffset:H,centerMinEdge:K,centerMaxEdge:G};return u_(re)})(i,p,c,u,h);return f_(i)-f_(o)+y},g7=D.none,h7=D.none,p7=xR(-1),b7=xR(1),v7={"top-left":D.none(),top:D.some((o,i)=>{qc(o,o_(i))}),"top-right":D.none(),right:D.none(),"bottom-right":D.none(),bottom:D.some((o,i)=>{qc(o,s_(i))}),"bottom-left":D.none(),left:D.none()};var x7=Object.freeze({__proto__:null,setValueFrom:(o,i,c)=>{const u=_E(o,i,c);return p_(o,u),u},setToMin:(o,i)=>{const c=Qh(i);p_(o,c)},setToMax:(o,i)=>{const c=Du(i);p_(o,c)},findValueOfOffset:_E,getValueFromEvent:o=>fE(o).map(i=>i.top),findPositionOfValue:SE,setPositionFromValue:(o,i,c,u)=>{const h=Wg(c),p=SE(o,u.getSpectrum(o),h,u.getTopEdge(o),u.getBottomEdge(o),c),y=us(i.element)/2;Jn(i.element,"top",p-y+"px")},onLeft:g7,onRight:h7,onUp:p7,onDown:b7,edgeActions:v7});const b_=(o,i)=>{Cn(o,Xy(),{value:i})},v_=(o,i)=>({x:o,y:i}),t1=(o,i)=>(c,u,h)=>((p,y,S,k,O)=>{const M=p>0?Jy:vE,N=y?Wg(k).x:M(Wg(k).x,e1(k),Zg(k),Jv(k,O)),H=y?M(Wg(k).y,Qh(k),Du(k),Jv(k,O)):Wg(k).y;return b_(S,v_(N,H)),D.some(N)})(o,i,c,u,h).map(Ne),y7=t1(-1,!1),kE=t1(1,!1),w7=t1(-1,!0),C7=t1(1,!0),_7={"top-left":D.some((o,i)=>{qc(o,Im(n_(i),o_(i)))}),top:D.some((o,i)=>{qc(o,Im(sR(i),o_(i)))}),"top-right":D.some((o,i)=>{qc(o,Im(r_(i),o_(i)))}),right:D.some((o,i)=>{qc(o,Im(r_(i),gE(i)))}),"bottom-right":D.some((o,i)=>{qc(o,Im(r_(i),s_(i)))}),bottom:D.some((o,i)=>{qc(o,Im(sR(i),s_(i)))}),"bottom-left":D.some((o,i)=>{qc(o,Im(n_(i),s_(i)))}),left:D.some((o,i)=>{qc(o,Im(n_(i),gE(i)))})};var yR=Object.freeze({__proto__:null,setValueFrom:(o,i,c)=>{const u=h_(o,i,c.left),h=_E(o,i,c.top),p=v_(u,h);return b_(o,p),p},setToMin:(o,i)=>{const c=e1(i),u=Qh(i);b_(o,v_(c,u))},setToMax:(o,i)=>{const c=Zg(i),u=Du(i);b_(o,v_(c,u))},getValueFromEvent:o=>fE(o),setPositionFromValue:(o,i,c,u)=>{const h=Wg(c),p=wE(o,u.getSpectrum(o),h.x,u.getLeftEdge(o),u.getRightEdge(o),c),y=SE(o,u.getSpectrum(o),h.y,u.getTopEdge(o),u.getBottomEdge(o),c),S=ui(i.element)/2,k=us(i.element)/2;Jn(i.element,"left",p-S+"px"),Jn(i.element,"top",y-k+"px")},onLeft:y7,onRight:kE,onUp:w7,onDown:C7,edgeActions:_7});const pd=gl({name:"Slider",configFields:[Xe("stepSize",1),Xe("speedMultiplier",10),Xe("onChange",pe),Xe("onChoose",pe),Xe("onInit",pe),Xe("onDragStart",pe),Xe("onDragEnd",pe),Xe("snapToGrid",!1),Xe("rounded",!0),Io("snapStart"),_i("model",qs("mode",{x:[Xe("minX",0),Xe("maxX",100),Ci("value",o=>En(o.mode.minX)),kt("getInitialValue"),Er("manager",m7)],y:[Xe("minY",0),Xe("maxY",100),Ci("value",o=>En(o.mode.minY)),kt("getInitialValue"),Er("manager",x7)],xy:[Xe("minX",0),Xe("maxX",100),Xe("minY",0),Xe("maxY",100),Ci("value",o=>En({x:o.mode.minX,y:o.mode.minY})),kt("getInitialValue"),Er("manager",yR)]})),gn("sliderBehaviours",[kn,nt]),Ci("mouseIsDown",()=>En(!1))],partFields:l7,factory:(o,i,c,u)=>{const h=ie=>Bg(ie,o,"thumb"),p=ie=>Bg(ie,o,"spectrum"),y=ie=>Or(ie,o,"left-edge"),S=ie=>Or(ie,o,"right-edge"),k=ie=>Or(ie,o,"top-edge"),O=ie=>Or(ie,o,"bottom-edge"),M=o.model,N=M.manager,H=(ie,se)=>{N.setPositionFromValue(ie,se,o,{getLeftEdge:y,getRightEdge:S,getTopEdge:k,getBottomEdge:O,getSpectrum:p})},K=(ie,se)=>{M.value.set(se);const de=h(ie);H(ie,de)},G=ie=>{const se=o.mouseIsDown.get();o.mouseIsDown.set(!1),se&&Or(ie,o,"thumb").each(de=>{const ge=M.value.get();o.onChoose(ie,de,ge)})},re=(ie,se)=>{se.stop(),o.mouseIsDown.set(!0),o.onDragStart(ie,h(ie))},le=(ie,se)=>{se.stop(),o.onDragEnd(ie,h(ie)),G(ie)},me=ie=>{Or(ie,o,"spectrum").map(kn.focusIn)};return{uid:o.uid,dom:o.dom,components:i,behaviours:co(o.sliderBehaviours,[kn.config({mode:"special",focusIn:me}),nt.config({store:{mode:"manual",getValue:ie=>M.value.get(),setValue:K}}),el.config({channels:{[$()]:{onReceive:G}}})]),events:to([bt(Xy(),(ie,se)=>{((de,ge)=>{K(de,ge);const be=h(de);o.onChange(de,be,ge)})(ie,se.event.value)}),Vr((ie,se)=>{const de=M.getInitialValue();M.value.set(de);const ge=h(ie);H(ie,ge);const be=p(ie);o.onInit(ie,ge,be,M.value.get())}),bt(Z(),re),bt(ke(),le),bt(At(),(ie,se)=>{me(ie),re(ie,se)}),bt(Xn(),le)]),apis:{resetToMin:ie=>{N.setToMin(ie,o)},resetToMax:ie=>{N.setToMax(ie,o)},setValue:K,refresh:H},domModification:{styles:{position:"relative"}}}},apis:{setValue:(o,i,c)=>{o.setValue(i,c)},resetToMin:(o,i)=>{o.resetToMin(i)},resetToMax:(o,i)=>{o.resetToMax(i)},refresh:(o,i)=>{o.refresh(i)}}}),Qy=mn("rgb-hex-update"),x_=mn("slider-update"),AE=mn("palette-update"),y_="form",w_=[gn("formBehaviours",[nt])],EE=o=>"<alloy.field."+o+">",Mm=(o,i)=>({uid:o.uid,dom:o.dom,components:i,behaviours:co(o.formBehaviours,[nt.config({store:{mode:"manual",getValue:c=>{const u=bk(c,o);return Gt(u,(h,p)=>h().bind(y=>{return S=Ho.getCurrent(y),k=new Error(`Cannot find a current component to extract the value from for form part '${p}': `+od(y.element)),S.fold(()=>ko.error(k),ko.value);var S,k}).map(nt.getValue))},setValue:(c,u)=>{Mt(u,(h,p)=>{Or(c,o,p).each(y=>{Ho.getCurrent(y).each(S=>{nt.setValue(S,h)})})})}}})]),apis:{getField:(c,u)=>Or(c,o,u).bind(Ho.getCurrent)}}),ep={getField:tv((o,i,c)=>o.getField(i,c)),sketch:o=>{const i=(()=>{const p=[];return{field:(y,S)=>(p.push(y),gk(y_,EE(y),S)),record:ae(p)}})(),c=o(i),u=i.record(),h=yt(u,p=>nl({name:p,pname:EE(p)}));return Gx(y_,w_,h,Mm,c)}},wR=mn("valid-input"),CR=mn("invalid-input"),_R=mn("validating-input"),TE="colorcustom.rgb.",e2={isEnabled:Ne,setEnabled:pe,immediatelyShow:pe,immediatelyHide:pe},S7=(o,i,c,u,h,p)=>{const y=(K,G)=>{const re=G.get();K!==re.isEnabled()&&(re.setEnabled(K),K?re.immediatelyShow():re.immediatelyHide())},S=(K,G,re)=>Nm.config({invalidClass:i("invalid"),notify:{onValidate:le=>{Cn(le,_R,{type:K})},onValid:le=>{y(!1,re),Cn(le,wR,{type:K,value:nt.getValue(le)})},onInvalid:le=>{y(!0,re),Cn(le,CR,{type:K,value:nt.getValue(le)})}},validator:{validate:le=>{const me=nt.getValue(le),ie=G(me)?ko.value(!0):ko.error(o("aria.input.invalid"));return Rm(ie)},validateOnLoad:!1}}),k=(K,G,re,le,me)=>{const ie=En(e2),se=o(TE+"range"),de=ir.parts.label({dom:{tag:"label",attributes:{"aria-label":le}},components:[xs(re)]}),ge=ir.parts.field({data:me,factory:zg,inputAttributes:{type:"text",...G==="hex"?{"aria-live":"polite"}:{}},inputClasses:[i("textfield")],inputBehaviours:zt([S(G,K,ie),Sr.config({}),Hs.config({...h({tooltipText:"",onSetup:mt=>{ie.set({isEnabled:()=>Hs.isEnabled(mt),setEnabled:Pt=>Hs.setEnabled(mt,Pt),immediatelyShow:()=>Hs.immediateOpenClose(mt,!0),immediatelyHide:()=>Hs.immediateOpenClose(mt,!1)}),Hs.setEnabled(mt,!1)},onShow:(mt,Pt)=>{Hs.setComponents(mt,[{dom:{tag:"p",classes:[i("rgb-warning-note")]},components:[xs(o(G==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:mt=>{Nm.isInvalid(mt)&&Nm.run(mt).get(pe)}}),be=mn("aria-invalid"),Me=tr(p("invalid",D.some(be),"warning")),qe=[de,ge,tr({dom:{tag:"div",classes:[i("invalid-icon")]},components:[Me.asSpec()]}).asSpec()],wt=G!=="hex"?[ir.parts["aria-descriptor"]({text:se})]:[],pt=qe.concat(wt);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[i("rgb-container")]},components:pt}},O=(K,G)=>{const re=G.red,le=G.green,me=G.blue;nt.setValue(K,{red:re,green:le,blue:me})},M=tr({dom:{tag:"div",classes:[i("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),N=(K,G)=>{M.getOpt(K).each(re=>{Jn(re.element,"background-color","#"+G.value)})};return Uc({factory:()=>{const K={red:En(D.some(255)),green:En(D.some(255)),blue:En(D.some(255)),hex:En(D.some("ffffff"))},G=qe=>K[qe].get(),re=(qe,wt)=>{K[qe].set(wt)},le=qe=>{const wt=qe.red,pt=qe.green,mt=qe.blue;re("red",D.some(wt)),re("green",D.some(pt)),re("blue",D.some(mt))},me=(qe,wt)=>{const pt=wt.event;pt.type!=="hex"?re(pt.type,D.none()):u(qe)},ie=(qe,wt)=>{const pt=wt.event;(mt=>mt.type==="hex")(pt)?((mt,Pt)=>{c(mt);const cn=DA(Pt);re("hex",D.some(cn.value));const bn=md(cn);O(mt,bn),le(bn),Cn(mt,Qy,{hex:cn}),N(mt,cn)})(qe,pt.value):((mt,Pt,cn)=>{const bn=parseInt(cn,10);re(Pt,D.some(bn)),G("red").bind(Dn=>G("green").bind(Gn=>G("blue").map(Ao=>$g(Dn,Gn,Ao,1)))).each(Dn=>{const Gn=((Ao,Lr)=>{const qr=Vy(Lr);return ep.getField(Ao,"hex").each(go=>{jn.isFocused(go)||nt.setValue(Ao,{hex:qr.value})}),qr})(mt,Dn);Cn(mt,Qy,{hex:Gn}),N(mt,Gn)})})(qe,pt.type,pt.value)},se=qe=>({label:o(TE+qe+".label"),description:o(TE+qe+".description")}),de=se("red"),ge=se("green"),be=se("blue"),Me=se("hex");return fr(ep.sketch(qe=>({dom:{tag:"form",classes:[i("rgb-form")],attributes:{"aria-label":o("aria.color.picker")}},components:[qe.field("red",ir.sketch(k($y,"red",de.label,de.description,255))),qe.field("green",ir.sketch(k($y,"green",ge.label,ge.description,255))),qe.field("blue",ir.sketch(k($y,"blue",be.label,be.description,255))),qe.field("hex",ir.sketch(k(vD,"hex",Me.label,Me.description,"ffffff"))),M.asSpec()],formBehaviours:zt([Nm.config({invalidClass:i("form-invalid")}),uo("rgb-form-events",[bt(wR,ie),bt(CR,me),bt(_R,me)])])})),{apis:{updateHex:(qe,wt)=>{nt.setValue(qe,{hex:wt.value}),((pt,mt)=>{const Pt=md(mt);O(pt,Pt),le(Pt)})(qe,wt),N(qe,wt)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(K,G,re)=>{K.updateHex(G,re)}},extraApis:{}})},SR=(o,i,c,u)=>Uc({name:"ColourPicker",configFields:[kt("dom"),Xe("onValidHex",pe),Xe("onInvalidHex",pe)],factory:p=>{const y=S7(o,i,p.onValidHex,p.onInvalidHex,c,u),S=((me,ie)=>{const se=pd.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[ie("sv-palette-spectrum")]}}),de=pd.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[ie("sv-palette-thumb")],innerHtml:`<div class=${ie("sv-palette-inner-thumb")} role="presentation"></div>`}}),ge=(be,Me)=>{const{width:qe,height:wt}=be,pt=be.getContext("2d");if(pt===null)return;pt.fillStyle=Me,pt.fillRect(0,0,qe,wt);const mt=pt.createLinearGradient(0,0,qe,0);mt.addColorStop(0,"rgba(255,255,255,1)"),mt.addColorStop(1,"rgba(255,255,255,0)"),pt.fillStyle=mt,pt.fillRect(0,0,qe,wt);const Pt=pt.createLinearGradient(0,0,0,wt);Pt.addColorStop(0,"rgba(0,0,0,0)"),Pt.addColorStop(1,"rgba(0,0,0,1)"),pt.fillStyle=Pt,pt.fillRect(0,0,qe,wt)};return Uc({factory:be=>{const Me=ae({x:0,y:0}),qe=zt([Ho.config({find:D.some}),jn.config({})]);return pd.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":me(["Saturation {0}%, Brightness {1}%",0,0])},classes:[ie("sv-palette")]},model:{mode:"xy",getInitialValue:Me},rounded:!1,components:[se,de],onChange:(wt,pt,mt)=>{ne(mt)||tn(wt.element,"aria-valuetext",me(["Saturation {0}%, Brightness {1}%",Math.floor(mt.x),Math.floor(100-mt.y)])),Cn(wt,AE,{value:mt})},onInit:(wt,pt,mt,Pt)=>{ge(mt.element.dom,CD(_D))},sliderBehaviours:qe})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(be,Me,qe)=>{((wt,pt)=>{const mt=wt.components()[0].element.dom,Pt=qv(pt,100,100),cn=wD(Pt);ge(mt,CD(cn))})(Me,qe)},setThumb:(be,Me,qe)=>{((wt,pt)=>{const mt=$C(md(pt));pd.setValue(wt,{x:mt.saturation,y:100-mt.value}),tn(wt.element,"aria-valuetext",me(["Saturation {0}%, Brightness {1}%",mt.saturation,mt.value]))})(Me,qe)}},extraApis:{}})})(o,i),k={paletteRgba:En(_D),paletteHue:En(0)},O=tr(((me,ie)=>{const se=pd.parts.spectrum({dom:{tag:"div",classes:[ie("hue-slider-spectrum")],attributes:{role:"presentation"}}}),de=pd.parts.thumb({dom:{tag:"div",classes:[ie("hue-slider-thumb")],attributes:{role:"presentation"}}});return pd.sketch({dom:{tag:"div",classes:[ie("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:ae(0)},components:[se,de],sliderBehaviours:zt([jn.config({})]),onChange:(ge,be,Me)=>{tn(ge.element,"aria-valuenow",Math.floor(360-3.6*Me)),Cn(ge,x_,{value:Me})}})})(0,i)),M=tr(S.sketch({})),N=tr(y.sketch({})),H=(me,ie,se)=>{M.getOpt(me).each(de=>{S.setHue(de,se)})},K=(me,ie)=>{N.getOpt(me).each(se=>{y.updateHex(se,ie)})},G=(me,ie,se)=>{O.getOpt(me).each(de=>{pd.setValue(de,(ge=>100-ge/360*100)(se))})},re=(me,ie)=>{M.getOpt(me).each(se=>{S.setThumb(se,ie)})},le=(me,ie,se,de)=>{((ge,be)=>{const Me=md(ge);k.paletteRgba.set(Me),k.paletteHue.set(be)})(ie,se),qt(de,ge=>{ge(me,ie,se)})};return{uid:p.uid,dom:p.dom,components:[M.asSpec(),O.asSpec(),N.asSpec()],behaviours:zt([uo("colour-picker-events",[bt(Qy,(()=>{const me=[H,G,re];return(ie,se)=>{const de=se.event.hex,ge=(be=>$C(md(be)))(de);le(ie,de,ge.hue,me)}})()),bt(AE,(()=>{const me=[K];return(ie,se)=>{const de=se.event.value,ge=k.paletteHue.get(),be=qv(ge,de.x,100-de.y),Me=UC(be);le(ie,Me,ge,me)}})()),bt(x_,(()=>{const me=[H,K];return(ie,se)=>{const de=(wt=>(100-wt)/100*360)(se.event.value),ge=k.paletteRgba.get(),be=$C(ge),Me=qv(de,be.saturation,be.value),qe=UC(Me);le(ie,qe,de,me)}})())]),Ho.config({find:me=>N.getOpt(me)}),kn.config({mode:"acyclic"})])}}}),Pm=()=>Ho.config({find:D.some}),OE=o=>Ho.config({find:i=>Zr(i.element,o).bind(c=>i.getSystem().getByDom(c).toOptional())}),DE=In([Xe("preprocess",Ie),Xe("postprocess",Ie)]),RE=(o,i)=>{const c=ra("RepresentingConfigs.memento processors",DE,i);return nt.config({store:{mode:"manual",getValue:u=>{const h=o.get(u),p=nt.getValue(h);return c.postprocess(p)},setValue:(u,h)=>{const p=c.preprocess(h),y=o.get(u);nt.setValue(y,p)}}})},n1=(o,i,c)=>nt.config({store:{mode:"manual",...o.map(u=>({initialValue:u})).getOr({}),getValue:i,setValue:c}}),NE=(o,i,c)=>n1(o,u=>i(u.element),(u,h)=>c(u.element,h)),t2=o=>nt.config({store:{mode:"memory",initialValue:o}}),k7={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var kR=tinymce.util.Tools.resolve("tinymce.Resource");const IE=o=>ao(o,"init");var jg=tinymce.util.Tools.resolve("tinymce.util.Tools");const BE=(o,i)=>{let c=null;const u=()=>{P(c)||(clearTimeout(c),c=null)};return{cancel:u,throttle:(...h)=>{u(),c=setTimeout(()=>{c=null,o.apply(null,h)},i)}}},ME=mn("alloy-fake-before-tabstop"),PE=mn("alloy-fake-after-tabstop"),AR=o=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:o},behaviours:zt([jn.config({ignore:!0}),Sr.config({})])}),LE=(o,i)=>({dom:{tag:"div",classes:["tox-navobj",...o.getOr([])]},components:[AR([ME]),i,AR([PE])],behaviours:zt([OE(1)])}),FE=(o,i)=>{Cn(o,is(),{raw:{which:9,shiftKey:i}})},A7=(o,i)=>{const c=i.element;Ia(c,ME)?FE(o,!0):Ia(c,PE)&&FE(o,!1)},e0=o=>Xv(o,["."+ME,"."+PE].join(","),Se),tp=mn("update-dialog"),zE=mn("update-title"),ER=mn("update-body"),TR=mn("update-footer"),HE=mn("body-send-message"),C_=mn("dialog-focus-shifted"),VE=Fi().browser,t0=VE.isSafari(),OR=VE.isFirefox(),$E=t0||OR,DR=VE.isChromium(),E7=({scrollTop:o,scrollHeight:i,clientHeight:c})=>Math.ceil(o)+c>=i,RR=(o,i)=>o.scrollTo(0,i==="bottom"?99999999:i),UE=(o,i,c)=>{const u=o.dom;D.from(u.contentDocument).fold(c,h=>{let p=0;const y=((k,O)=>{const M=k.body;return D.from(!/^<!DOCTYPE (html|HTML)/.test(O)&&(!DR&&!t0||U(M)&&(M.scrollTop!==0||Math.abs(M.scrollHeight-M.clientHeight)>1))?M:k.documentElement)})(h,i).map(k=>(p=k.scrollTop,k)).forall(E7),S=()=>{const k=u.contentWindow;U(k)&&(y?RR(k,"bottom"):!y&&$E&&p!==0&&RR(k,p))};t0&&u.addEventListener("load",S,{once:!0}),h.open(),h.write(i),h.close(),t0||S()})},ZE=$o($E,t0?500:200).map(o=>((i,c)=>{let u=null,h=null;return{cancel:()=>{P(u)||(clearTimeout(u),u=null,h=null)},throttle:(...p)=>{h=p,P(u)&&(u=setTimeout(()=>{const y=h;u=null,h=null,i.apply(null,y)},c))}}})(UE,o)),__=mn("toolbar.button.execute"),np=mn("common-button-display-events"),WE={[Xa()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[Ui()]:["toolbar-button-events",np],[tc()]:["toolbar-button-events","dropdown-events","tooltipping"],[At()]:["focusing","alloy.base.behaviour",np]},S_=o=>Jn(o.element,"width",os(o.element,"width")),NR=(o,i,c)=>hc(o,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:c},i),n2=(o,i)=>NR(o,i,[]),op=(o,i)=>NR(o,i,[Fn.config({})]),jE=(o,i,c)=>({dom:{tag:"span",classes:[`${i}__select-label`]},components:[xs(c.translate(o))],behaviours:zt([Fn.config({})])}),Gc=mn("update-menu-text"),Ru=mn("update-menu-icon"),KE=(o,i,c,u)=>{const h=En(pe),p=o.text.map(re=>tr(jE(re,i,c.providers))),y=o.icon.map(re=>tr(op(re,c.providers.icons))),S=(re,le)=>{const me=nt.getValue(re);return jn.focus(me),Cn(me,"keydown",{raw:le.event.raw}),ol.close(me),D.some(!0)},k=o.role.fold(()=>({}),re=>({role:re})),O=D.from(o.listRole).map(re=>({listRole:re})).getOr({}),M=o.ariaLabel.fold(()=>({}),re=>({"aria-label":c.providers.translate(re)})),N=hc("chevron-down",{tag:"div",classes:[`${i}__select-chevron`]},c.providers.icons),H=mn("common-button-display-events"),K="dropdown-events";return tr(ol.sketch({...o.uid?{uid:o.uid}:{},...k,...O,dom:{tag:"button",classes:[i,`${i}--select`].concat(yt(o.classes,re=>`${i}--${re}`)),attributes:{...M,...U(u)?{"data-mce-name":u}:{}}},components:Uv([y.map(re=>re.asSpec()),p.map(re=>re.asSpec()),D.some(N)]),matchWidth:!0,useMinWidth:!0,onOpen:(re,le,me)=>{o.searchable&&(ie=>{Z5(ie).each(se=>jn.focus(se))})(me)},dropdownBehaviours:zt([...o.dropdownBehaviours,la(()=>o.disabled||c.providers.isDisabled()),hi(),Qb.config({}),Fn.config({}),...o.tooltip.map(re=>Hs.config(c.providers.tooltips.getConfig({tooltipText:c.providers.translate(re)}))).toArray(),uo(K,[Kh(o,h),Hg(o,h)]),uo(H,[Vr((re,le)=>o.listRole==="listbox"?pe:S_(re))]),uo("menubutton-update-display-text",[bt(Gc,(re,le)=>{p.bind(me=>me.getOpt(re)).each(me=>{Fn.set(me,[xs(c.providers.translate(le.event.text))])})}),bt(Ru,(re,le)=>{y.bind(me=>me.getOpt(re)).each(me=>{Fn.set(me,[op(le.event.icon,c.providers.icons)])})})])]),eventOrder:fr(WE,{[At()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Ui()]:["toolbar-button-events",Hs.name(),K,H]}),sandboxBehaviours:zt([kn.config({mode:"special",onLeft:S,onRight:S}),uo("dropdown-sandbox-events",[bt(V5,(re,le)=>{(me=>{const ie=nt.getValue(me),se=Ny(me).map(W5);ol.refetch(ie).get(()=>{const de=ys.getCoupled(ie,"sandbox");se.each(ge=>Ny(de).each(be=>((Me,qe)=>{nt.setValue(Me,qe.fetchPattern),Me.element.dom.selectionStart=qe.selectionStart,Me.element.dom.selectionEnd=qe.selectionEnd})(be,ge)))})})(re),le.stop()}),bt($5,(re,le)=>{((me,ie)=>{(se=>T.getState(se).bind(or.getHighlighted).bind(or.getHighlighted))(me).each(se=>{((de,ge,be,Me)=>{const qe={...Me,target:ge};de.getSystem().triggerEvent(be,ge,qe)})(me,se.element,ie.event.eventType,ie.event.interactionEvent)})})(re,le),le.stop()})])]),lazySink:c.getSink,toggleClass:`${i}--active`,parts:{menu:{...OC(0,o.columns,o.presets),fakeFocus:o.searchable,...o.listRole==="listbox"?{}:{onHighlightItem:WD,onCollapseMenu:(re,le,me)=>{or.getHighlighted(me).each(ie=>{WD(re,me,ie)})},onDehighlightItem:GP}}},getAnchorOverrides:()=>({maxHeightFunction:(re,le)=>{pm()(re,le-10)}}),fetch:re=>qh(Je(o.fetch,re))})).asSpec()},k_=o=>o.type==="separator",A_={type:"separator"},IR=(o,i)=>{const c=((u,h)=>{const p=Mn(u,(y,S)=>(k=>v(k))(S)?S===""?y:S==="|"?y.length>0&&!k_(y[y.length-1])?y.concat([A_]):y:ao(h,S.toLowerCase())?y.concat([h[S.toLowerCase()]]):y:y.concat([S]),[]);return p.length>0&&k_(p[p.length-1])&&p.pop(),p})(v(o)?o.split(" "):o,i);return Sn(c,(u,h)=>{if((p=>ao(p,"getSubmenuItems"))(h)){const p=(S=>{const k=jt(S,"value").getOrThunk(()=>mn("generated-menu-item"));return fr({value:k},S)})(h),y=((S,k)=>{const O=S.getSubmenuItems(),M=IR(O,k);return{item:S,menus:fr(M.menus,{[S.value]:M.items}),expansions:fr(M.expansions,{[S.value]:S.value})}})(p,i);return{menus:fr(u.menus,y.menus),items:[y.item,...u.items],expansions:fr(u.expansions,y.expansions)}}return{...u,items:[h,...u.items]}},{menus:{},expansions:{},items:[]})},o1=(o,i,c,u)=>{const h=mn("primary-menu"),p=IR(o,c.shared.providers.menuItems());if(p.items.length===0)return D.none();const y=(N=>N.search.fold(()=>({searchMode:"no-search"}),H=>({searchMode:"search-with-field",placeholder:H.placeholder})))(u),S=jD(h,p.items,i,c,u.isHorizontalMenu,y),k=(N=>N.search.fold(()=>({searchMode:"no-search"}),H=>({searchMode:"search-with-results"})))(u),O=Gt(p.menus,(N,H)=>jD(H,N,i,c,!1,k)),M=fr(O,Nc(h,S));return D.from(Mg.tieredData(h,M,p.expansions))},o2=o=>!ao(o,"items"),qE="data-value",E_=(o,i,c,u,h)=>yt(c,p=>o2(p)?{type:"togglemenuitem",...h?{}:{role:"option"},text:p.text,value:p.value,active:p.value===u,onAction:()=>{nt.setValue(o,p.value),Cn(o,za,{name:i}),jn.focus(o)}}:{type:"nestedmenuitem",text:p.text,getSubmenuItems:()=>E_(o,i,p.items,u,h)}),T_=(o,i)=>je(o,c=>o2(c)?$o(c.value===i,c):T_(c.items,i)),T7=Uc({name:"HtmlSelect",configFields:[kt("options"),gn("selectBehaviours",[jn,nt]),Xe("selectClasses",[]),Xe("selectAttributes",{}),Io("data")],factory:(o,i)=>{const c=yt(o.options,h=>({dom:{tag:"option",value:h.value,innerHtml:h.text}})),u=o.data.map(h=>Nc("initialValue",h)).getOr({});return{uid:o.uid,dom:{tag:"select",classes:o.selectClasses,attributes:o.selectAttributes},components:c,behaviours:co(o.selectBehaviours,[jn.config({}),nt.config({store:{mode:"manual",getValue:h=>Qd(h.element),setValue:(h,p)=>{const y=en(o.options);X(o.options,S=>S.value===p).isSome()?cm(h.element,p):h.element.dom.selectedIndex===-1&&p===""&&y.each(S=>cm(h.element,S.value))},...u}})])}}}),BR=ae([Xe("field1Name","field1"),Xe("field2Name","field2"),vu("onLockedChange"),vg(["lockClass"]),Xe("locked",!1),Kn("coupledFieldBehaviours",[Ho,nt])]),GE=(o,i)=>nl({factory:ir,name:o,overrides:c=>({fieldBehaviours:zt([uo("coupled-input-behaviour",[bt(tm(),u=>{((h,p,y)=>Or(h,p,y).bind(Ho.getCurrent))(u,c,i).each(h=>{Or(u,c,"lock").each(p=>{$n.isOn(p)&&c.onLockedChange(u,h,p)})})})])])})}),MR=ae([GE("field1","field2"),GE("field2","field1"),nl({factory:Ca,schema:[kt("dom")],name:"lock",overrides:o=>({buttonBehaviours:zt([$n.config({selected:o.locked,toggleClass:o.markers.lockClass,aria:{mode:"pressed"}})])})})]),vc=gl({name:"FormCoupledInputs",configFields:BR(),partFields:MR(),factory:(o,i,c,u)=>({uid:o.uid,dom:o.dom,components:i,behaviours:Vn(o.coupledFieldBehaviours,[Ho.config({find:D.some}),nt.config({store:{mode:"manual",getValue:h=>{const p=vk(h,o,["field1","field2"]);return{[o.field1Name]:nt.getValue(p.field1()),[o.field2Name]:nt.getValue(p.field2())}},setValue:(h,p)=>{const y=vk(h,o,["field1","field2"]);so(p,o.field1Name)&&nt.setValue(y.field1(),p[o.field1Name]),so(p,o.field2Name)&&nt.setValue(y.field2(),p[o.field2Name])}}})]),apis:{getField1:h=>Or(h,o,"field1"),getField2:h=>Or(h,o,"field2"),getLock:h=>Or(h,o,"lock")}}),apis:{getField1:(o,i)=>o.getField1(i),getField2:(o,i)=>o.getField2(i),getLock:(o,i)=>o.getLock(i)}}),YE=o=>{const i=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(o);if(i!==null){const c=parseFloat(i[1]),u=i[2];return ko.value({value:c,unit:u})}return ko.error(o)},XE=(o,i)=>{const c={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},u=h=>ao(c,h);return o.unit===i?D.some(o.value):u(o.unit)&&u(i)?c[o.unit]===c[i]?D.some(o.value):D.some(o.value/c[o.unit]*c[i]):D.none()},JE=o=>D.none(),PR=(o,i)=>{const c=o.label.map(M=>Yh(M,i)),u=[qn.config({disabled:()=>o.disabled||i.isDisabled()}),hi(),kn.config({mode:"execution",useEnter:o.multiline!==!0,useControlEnter:o.multiline===!0,execute:M=>(ho(M,Yy),D.some(!0))}),uo("textfield-change",[bt(tm(),(M,N)=>{Cn(M,za,{name:o.name})}),bt(ox(),(M,N)=>{Cn(M,za,{name:o.name})})]),Sr.config({})],h=o.validation.map(M=>Nm.config({getRoot:N=>na(N.element),invalidClass:"tox-invalid",validator:{validate:N=>{const H=nt.getValue(N),K=M.validator(H);return Rm(K===!0?ko.value(H):ko.error(K))},validateOnLoad:M.validateOnLoad}})).toArray(),p={...o.placeholder.fold(ae({}),M=>({placeholder:i.translate(M)})),...o.inputMode.fold(ae({}),M=>({inputmode:M})),"data-mce-name":o.name},y=ir.parts.field({tag:o.multiline===!0?"textarea":"input",...o.data.map(M=>({data:M})).getOr({}),inputAttributes:p,inputClasses:[o.classname],inputBehaviours:zt(pr([u,h])),selectOnFocus:!1,factory:zg}),S=o.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[y]}:y,k=(o.flex?["tox-form__group--stretched"]:[]).concat(o.maximized?["tox-form-group--maximize"]:[]),O=[qn.config({disabled:()=>o.disabled||i.isDisabled(),onDisabled:M=>{ir.getField(M).each(qn.disable)},onEnabled:M=>{ir.getField(M).each(qn.enable)}}),hi()];return Gy(c,S,k,O)},r2=(o,i)=>i.getAnimationRoot.fold(()=>o.element,c=>c(o)),Kg=o=>o.dimension.property,rp=(o,i)=>o.dimension.getDimension(i),sp=(o,i)=>{const c=r2(o,i);Il(c,[i.shrinkingClass,i.growingClass])},O_=(o,i)=>{ms(o.element,i.openClass),as(o.element,i.closedClass),Jn(o.element,Kg(i),"0px"),su(o.element)},QE=(o,i)=>{ms(o.element,i.closedClass),as(o.element,i.openClass),er(o.element,Kg(i))},LR=(o,i,c,u)=>{c.setCollapsed(),Jn(o.element,Kg(i),rp(i,o.element)),sp(o,i),O_(o,i),i.onStartShrink(o),i.onShrunk(o)},O7=(o,i,c,u)=>{const h=u.getOrThunk(()=>rp(i,o.element));c.setCollapsed(),Jn(o.element,Kg(i),h),su(o.element);const p=r2(o,i);ms(p,i.growingClass),as(p,i.shrinkingClass),O_(o,i),i.onStartShrink(o)},FR=(o,i,c)=>{const u=rp(i,o.element);(u==="0px"?LR:O7)(o,i,c,D.some(u))},zR=(o,i,c)=>{const u=r2(o,i),h=Ia(u,i.shrinkingClass),p=rp(i,o.element);QE(o,i);const y=rp(i,o.element);(h?()=>{Jn(o.element,Kg(i),p),su(o.element)}:()=>{O_(o,i)})(),ms(u,i.shrinkingClass),as(u,i.growingClass),QE(o,i),Jn(o.element,Kg(i),y),c.setExpanded(),i.onStartGrow(o)},s2=(o,i,c)=>{const u=r2(o,i);return Ia(u,i.growingClass)===!0},HR=(o,i,c)=>{const u=r2(o,i);return Ia(u,i.shrinkingClass)===!0};var VR=Object.freeze({__proto__:null,refresh:(o,i,c)=>{if(c.isExpanded()){er(o.element,Kg(i));const u=rp(i,o.element);Jn(o.element,Kg(i),u)}},grow:(o,i,c)=>{c.isExpanded()||zR(o,i,c)},shrink:(o,i,c)=>{c.isExpanded()&&FR(o,i,c)},immediateShrink:(o,i,c)=>{c.isExpanded()&&LR(o,i,c)},hasGrown:(o,i,c)=>c.isExpanded(),hasShrunk:(o,i,c)=>c.isCollapsed(),isGrowing:s2,isShrinking:HR,isTransitioning:(o,i,c)=>s2(o,i)||HR(o,i),toggleGrow:(o,i,c)=>{(c.isExpanded()?FR:zR)(o,i,c)},disableTransitions:sp,immediateGrow:(o,i,c)=>{c.isExpanded()||(QE(o,i),Jn(o.element,Kg(i),rp(i,o.element)),sp(o,i),c.setExpanded(),i.onStartGrow(o),i.onGrown(o))}}),D7=Object.freeze({__proto__:null,exhibit:(o,i,c)=>{const u=i.expanded;return Ts(u?{classes:[i.openClass],styles:{}}:{classes:[i.closedClass],styles:Nc(i.dimension.property,"0px")})},events:(o,i)=>to([Yd(zp(),(c,u)=>{u.event.raw.propertyName===o.dimension.property&&(sp(c,o),i.isExpanded()&&er(c.element,o.dimension.property),(i.isExpanded()?o.onGrown:o.onShrunk)(c))})])}),$R=[kt("closedClass"),kt("openClass"),kt("shrinkingClass"),kt("growingClass"),Io("getAnimationRoot"),Lo("onShrunk"),Lo("onStartShrink"),Lo("onGrown"),Lo("onStartGrow"),Xe("expanded",!1),_i("dimension",qs("property",{width:[Er("property","width"),Er("getDimension",o=>ui(o)+"px")],height:[Er("property","height"),Er("getDimension",o=>us(o)+"px")]}))];const Sl=gi({fields:$R,name:"sliding",active:D7,apis:VR,state:Object.freeze({__proto__:null,init:o=>{const i=En(o.expanded);return mi({isExpanded:()=>i.get()===!0,isCollapsed:()=>i.get()===!1,setCollapsed:Je(i.set,!1),setExpanded:Je(i.set,!0),readState:()=>"expanded: "+i.get()})}})}),UR=o=>({isEnabled:()=>!qn.isDisabled(o),setEnabled:i=>qn.set(o,!i),setActive:i=>{const c=o.element;i?(as(c,"tox-tbtn--enabled"),tn(c,"aria-pressed",!0)):(ms(c,"tox-tbtn--enabled"),mo(c,"aria-pressed"))},isActive:()=>Ia(o.element,"tox-tbtn--enabled"),setText:i=>{Cn(o,Gc,{text:i})},setIcon:i=>Cn(o,Ru,{icon:i})}),n0=(o,i,c,u,h=!0,p)=>KE({text:o.text,icon:o.icon,tooltip:o.tooltip,ariaLabel:o.tooltip,searchable:o.search.isSome(),role:u,fetch:(y,S)=>{const k={pattern:o.search.isSome()?Jb(y):""};o.fetch(O=>{S(o1(O,xf.CLOSE_ON_EXECUTE,c,{isHorizontalMenu:!1,search:o.search}))},k,UR(y))},onSetup:o.onSetup,getApi:UR,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...h?[Sr.config({})]:[]]},i,c.shared,p),ZR=(o,i,c)=>{const u=p=>y=>{const S=!y.isActive();y.setActive(S),p.storage.set(S),c.shared.getSink().each(k=>{i().getOpt(k).each(O=>{xa(O.element),Cn(O,wf,{name:p.name,value:p.storage.get()})})})},h=p=>y=>{y.setActive(p.storage.get())};return p=>{p(yt(o,y=>{const S=y.text.fold(()=>({}),k=>({text:k}));return{type:y.type,active:!1,...S,onAction:u(y),onSetup:h(y)}}))}},e3=o=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":o}},components:[xs(o)]}),t3=mn("leaf-label-event-id"),n3=({leaf:o,onLeafAction:i,visible:c,treeId:u,selectedId:h,backstage:p})=>{const y=o.menu.map(k=>n0(k,"tox-mbtn",p,D.none(),c)),S=[e3(o.title)];return y.each(k=>S.push(k)),Ca.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(c?["tox-tree--leaf__label--visible"]:[])},components:S,role:"treeitem",action:k=>{i(o.id),k.getSystem().broadcastOn([`update-active-item-${u}`],{value:o.id})},eventOrder:{[is()]:[t3,"keying"]},buttonBehaviours:zt([...c?[Sr.config({})]:[],$n.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),el.config({channels:{[`update-active-item-${u}`]:{onReceive:(k,O)=>{(O.value===o.id?$n.on:$n.off)(k)}}}}),uo(t3,[Vr((k,O)=>{h.each(M=>{(M===o.id?$n.on:$n.off)(k)})}),bt(is(),(k,O)=>{const M=O.event.raw.code==="ArrowLeft",N=O.event.raw.code==="ArrowRight";M?(dm(k.element,".tox-tree--directory").each(H=>{k.getSystem().getByDom(H).each(K=>{iv(H,".tox-tree--directory__label").each(G=>{K.getSystem().getByDom(G).each(jn.focus)})})}),O.stop()):N&&O.stop()})])])})},WR=mn("directory-label-event-id"),R7=({directory:o,visible:i,noChildren:c,backstage:u})=>{const h=o.menu.map(O=>n0(O,"tox-mbtn",u,D.none())),p=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(y="chevron-right",S=u.shared.providers.icons,((O,M,N)=>hc(O,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},M))(y,S))]},e3(o.title)];var y,S;h.each(O=>{p.push(O)});const k=O=>{dm(O.element,".tox-tree--directory").each(M=>{O.getSystem().getByDom(M).each(N=>{const H=!$n.isOn(N);$n.toggle(N),Cn(O,"expand-tree-node",{expanded:H,node:o.id})})})};return Ca.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(i?["tox-tree--directory__label--visible"]:[])},components:p,action:k,eventOrder:{[is()]:[WR,"keying"]},buttonBehaviours:zt([...i?[Sr.config({})]:[],uo(WR,[bt(is(),(O,M)=>{const N=M.event.raw.code==="ArrowRight",H=M.event.raw.code==="ArrowLeft";N&&c&&M.stop(),(N||H)&&dm(O.element,".tox-tree--directory").each(K=>{O.getSystem().getByDom(K).each(G=>{!$n.isOn(G)&&N||$n.isOn(G)&&H?(k(O),M.stop()):H&&!$n.isOn(G)&&(dm(G.element,".tox-tree--directory").each(re=>{iv(re,".tox-tree--directory__label").each(le=>{G.getSystem().getByDom(le).each(jn.focus)})}),M.stop())})})})])])})},N7=({children:o,onLeafAction:i,visible:c,treeId:u,expandedIds:h,selectedId:p,backstage:y})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:o.map(S=>S.type==="leaf"?n3({leaf:S,selectedId:p,onLeafAction:i,visible:c,treeId:u,backstage:y}):D_({directory:S,expandedIds:h,selectedId:p,onLeafAction:i,labelTabstopping:c,treeId:u,backstage:y})),behaviours:zt([Sl.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:c}),Fn.config({})])}),jR=mn("directory-event-id"),D_=({directory:o,onLeafAction:i,labelTabstopping:c,treeId:u,backstage:h,expandedIds:p,selectedId:y})=>{const{children:S}=o,k=En(p),O=p.includes(o.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[R7({directory:o,visible:c,noChildren:o.children.length===0,backstage:h}),N7({children:S,expandedIds:p,selectedId:y,onLeafAction:i,visible:O,treeId:u,backstage:h})],behaviours:zt([uo(jR,[Vr((M,N)=>{$n.set(M,O)}),bt("expand-tree-node",(M,N)=>{const{expanded:H,node:K}=N.event;k.set(H?[...k.get(),K]:k.get().filter(G=>G!==K))})]),$n.config({...o.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(M,N)=>{const H=M.components()[1],K=(G=N,S.map(re=>re.type==="leaf"?n3({leaf:re,selectedId:y,onLeafAction:i,visible:G,treeId:u,backstage:h}):D_({directory:re,expandedIds:k.get(),selectedId:y,onLeafAction:i,labelTabstopping:G,treeId:u,backstage:h})));var G;N?Sl.grow(H):Sl.shrink(H),Fn.set(H,K)}})])}},I7=mn("tree-event-id");var B7=Object.freeze({__proto__:null,events:(o,i)=>{const c=o.stream.streams.setup(o,i);return to([bt(o.event,c),bu(()=>i.cancel())].concat(o.cancelEvent.map(u=>[bt(u,()=>i.cancel())]).getOr([])))}});const KR=o=>{const i=En(null);return mi({readState:()=>({timer:i.get()!==null?"set":"unset"}),setTimer:c=>{i.set(c)},cancel:()=>{const c=i.get();c!==null&&c.cancel()}})};var M7=Object.freeze({__proto__:null,throttle:KR,init:o=>o.stream.streams.state(o)}),P7=[_i("stream",qs("mode",{throttle:[kt("delay"),Xe("stopEvent",!0),Er("streams",{setup:(o,i)=>{const c=o.stream,u=BE(o.onStream,c.delay);return i.setTimer(u),(h,p)=>{u.throttle(h,p),c.stopEvent&&p.stop()}},state:KR})]})),Xe("event","input"),Io("cancelEvent"),vu("onStream")];const o3=gi({fields:P7,name:"streaming",active:B7,state:M7}),R_=(o,i,c)=>{const u=nt.getValue(c);nt.setValue(i,u),r3(i)},N_=(o,i)=>{const c=o.element,u=Qd(c),h=c.dom;_o(c,"type")!=="number"&&i(h,u)},r3=o=>{N_(o,(i,c)=>i.setSelectionRange(c.length,c.length))},s3=ae("alloy.typeahead.itemexecute"),L7=ae([Io("lazySink"),kt("fetch"),Xe("minChars",5),Xe("responseTime",1e3),Lo("onOpen"),Xe("getHotspot",D.some),Xe("getAnchorOverrides",ae({})),Xe("layouts",D.none()),Xe("eventOrder",{}),va("model",{},[Xe("getDisplayText",o=>o.meta!==void 0&&o.meta.text!==void 0?o.meta.text:o.value),Xe("selectsOver",!0),Xe("populateFromBrowse",!0)]),Lo("onSetValue"),Ja("onExecute"),Lo("onItemExecute"),Xe("inputClasses",[]),Xe("inputAttributes",{}),Xe("inputStyles",{}),Xe("matchWidth",!0),Xe("useMinWidth",!1),Xe("dismissOnBlur",!0),vg(["openClass"]),Io("initialData"),Io("listRole"),gn("typeaheadBehaviours",[jn,nt,o3,kn,$n,ys]),Ci("lazyTypeaheadComp",()=>En(D.none)),Ci("previewing",()=>En(!0))].concat(xP()).concat(QA())),qR=ae([ud({schema:[bg()],name:"menu",overrides:o=>({fakeFocus:!0,onHighlightItem:(i,c,u)=>{o.previewing.get()?o.lazyTypeaheadComp.get().each(h=>{((p,y,S)=>{if(p.selectsOver){const k=nt.getValue(y),O=p.getDisplayText(k),M=nt.getValue(S);return p.getDisplayText(M).indexOf(O)===0?D.some(()=>{R_(0,y,S),((N,H)=>{N_(N,(K,G)=>K.setSelectionRange(H,G.length))})(y,O.length)}):D.none()}return D.none()})(o.model,h,u).fold(()=>{o.model.selectsOver?(or.dehighlight(c,u),o.previewing.set(!0)):o.previewing.set(!1)},p=>{p(),o.previewing.set(!1)})}):o.lazyTypeaheadComp.get().each(h=>{o.model.populateFromBrowse&&R_(o.model,h,u),No(u.element,"id").each(p=>tn(h.element,"aria-activedescendant",p))})},onExecute:(i,c)=>o.lazyTypeaheadComp.get().map(u=>(Cn(u,s3(),{item:c}),!0)),onHover:(i,c)=>{o.previewing.set(!1),o.lazyTypeaheadComp.get().each(u=>{o.model.populateFromBrowse&&R_(o.model,u,c)})}})})]),F7=gl({name:"Typeahead",configFields:L7(),partFields:qR(),factory:(o,i,c,u)=>{const h=(N,H,K)=>{o.previewing.set(!1);const G=ys.getCoupled(N,"sandbox");if(T.isOpen(G))Ho.getCurrent(G).each(re=>{or.getHighlighted(re).fold(()=>{K(re)},()=>{oc(G,re.element,"keydown",H)})});else{const re=le=>{Ho.getCurrent(le).each(K)};KC(o,y(N),N,G,u,re,Fa.HighlightMenuAndItem).get(pe)}},p=yP(o),y=N=>H=>H.map(K=>{const G=Ar(K.menus),re=jo(G,le=>xo(le.items,me=>me.type==="item"));return nt.getState(N).update(yt(re,le=>le.data)),K}),S=N=>Ho.getCurrent(N),k="typeaheadevents",O=[jn.config({}),nt.config({onSetValue:o.onSetValue,store:{mode:"dataset",getDataKey:N=>Qd(N.element),getFallbackEntry:N=>({value:N,meta:{}}),setValue:(N,H)=>{cm(N.element,o.model.getDisplayText(H))},...o.initialData.map(N=>Nc("initialValue",N)).getOr({})}}),o3.config({stream:{mode:"throttle",delay:o.responseTime,stopEvent:!1},onStream:(N,H)=>{const K=ys.getCoupled(N,"sandbox");if(jn.isFocused(N)&&Qd(N.element).length>=o.minChars){const G=S(K).bind(le=>or.getHighlighted(le).map(nt.getValue));o.previewing.set(!0);const re=le=>{S(K).each(me=>{G.fold(()=>{o.model.selectsOver&&or.highlightFirst(me)},ie=>{or.highlightBy(me,se=>nt.getValue(se).value===ie.value),or.getHighlighted(me).orThunk(()=>(or.highlightFirst(me),D.none()))})})};KC(o,y(N),N,K,u,re,Fa.HighlightJustMenu).get(pe)}},cancelEvent:Qu()}),kn.config({mode:"special",onDown:(N,H)=>(h(N,H,or.highlightFirst),D.some(!0)),onEscape:N=>{const H=ys.getCoupled(N,"sandbox");return T.isOpen(H)?(T.close(H),D.some(!0)):D.none()},onUp:(N,H)=>(h(N,H,or.highlightLast),D.some(!0)),onEnter:N=>{const H=ys.getCoupled(N,"sandbox"),K=T.isOpen(H);if(K&&!o.previewing.get())return S(H).bind(G=>or.getHighlighted(G)).map(G=>(Cn(N,s3(),{item:G}),!0));{const G=nt.getValue(N);return ho(N,Qu()),o.onExecute(H,N,G),K&&T.close(H),D.some(!0)}}}),$n.config({toggleClass:o.markers.openClass,aria:{mode:"expanded"}}),ys.config({others:{sandbox:N=>JA(o,N,{onOpen:()=>$n.on(N),onClose:()=>{o.lazyTypeaheadComp.get().each(H=>mo(H.element,"aria-activedescendant")),$n.off(N)}})}}),uo(k,[Vr(N=>{o.lazyTypeaheadComp.set(D.some(N))}),bu(N=>{o.lazyTypeaheadComp.set(D.none())}),Mc(N=>{const H=pe;YA(o,y(N),N,u,H,Fa.HighlightMenuAndItem).get(pe)}),bt(s3(),(N,H)=>{const K=ys.getCoupled(N,"sandbox");R_(o.model,N,H.event.item),ho(N,Qu()),o.onItemExecute(N,K,H.event.item,nt.getValue(N)),T.close(K),r3(N)})].concat(o.dismissOnBlur?[bt(mh(),N=>{const H=ys.getCoupled(N,"sandbox");Rs(H.element).isNone()&&T.close(H)})]:[]))],M={[tc()]:[nt.name(),o3.name(),k],...o.eventOrder};return{uid:o.uid,dom:H5(fr(o,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...p,...co(o.typeaheadBehaviours,O)},eventOrder:M}}}),r1=o=>({...o,toCached:()=>r1(o.toCached()),bindFuture:i=>r1(o.bind(c=>c.fold(u=>Rm(ko.error(u)),u=>i(u)))),bindResult:i=>r1(o.map(c=>c.bind(i))),mapResult:i=>r1(o.map(c=>c.map(i))),mapError:i=>r1(o.map(c=>c.mapError(i))),foldResult:(i,c)=>o.map(u=>u.fold(i,c)),withTimeout:(i,c)=>r1(qh(u=>{let h=!1;const p=setTimeout(()=>{h=!0,u(ko.error(c()))},i);o.get(y=>{h||(clearTimeout(p),u(y))})}))}),GR=o=>r1(qh(o)),i2=(o,i,c=[],u,h,p,y)=>{const S=i.fold(()=>({}),M=>({action:M})),k={buttonBehaviours:zt([la(()=>!o.enabled||y.isDisabled()),hi(),Sr.config({}),...p.map(M=>Hs.config(y.tooltips.getConfig({tooltipText:y.translate(M)}))).toArray(),uo("button press",[Cw("click")])].concat(c)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...S},O=fr(k,{dom:u});return fr(O,{components:h})},YR=(o,i,c,u=[],h)=>{const p={tag:"button",classes:["tox-tbtn"],attributes:{...o.tooltip.map(k=>({"aria-label":c.translate(k)})).getOr({}),"data-mce-name":h}},y=o.icon.map(k=>n2(k,c.icons)),S=Uv([y]);return i2(o,i,u,p,S,o.tooltip,c)},i3=o=>{switch(o){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},XR=(o,i,c,u=[],h=[])=>{const p=c.translate(o.text),y=o.icon.map(N=>n2(N,c.icons)),S=[y.getOrThunk(()=>xs(p))],k=o.buttonType.getOr(o.primary||o.borderless?"primary":"secondary"),O={tag:"button",classes:[...i3(k),...y.isSome()?["tox-button--icon"]:[],...o.borderless?["tox-button--naked"]:[],...h],attributes:{"aria-label":p,"data-mce-name":o.text}},M=o.icon.map(ae(p));return i2(o,i,u,O,S,M,c)},JR=(o,i,c,u=[],h=[])=>{const p=XR(o,D.some(i),c,u,h);return Ca.sketch(p)},a3=(o,i)=>c=>{i==="custom"?Cn(c,wf,{name:o,value:{}}):i==="submit"?ho(c,Yy):i==="cancel"?ho(c,Ug):console.error("Unknown button type: ",i)},o0=(o,i,c)=>{if(((u,h)=>h==="menu")(0,i)){const u=()=>y,h=o,p={...o,type:"menubutton",search:D.none(),onSetup:S=>(S.setEnabled(o.enabled),pe),fetch:ZR(h.items,u,c)},y=tr(n0(p,"tox-tbtn",c,D.none(),!0,o.text.or(o.tooltip).getOrUndefined()));return y.asSpec()}if(((u,h)=>h==="custom"||h==="cancel"||h==="submit")(0,i)){const u=a3(o.name,i),h={...o,borderless:!1};return JR(h,u,c.shared.providers,[])}if(((u,h)=>h==="togglebutton")(0,i))return((u,h,p)=>{var y,S;const k=u.icon.map(se=>op(se,h.icons)).map(tr),O=u.buttonType.getOr(u.primary?"primary":"secondary"),M={...u,name:(y=u.name)!==null&&y!==void 0?y:"",primary:O==="primary",tooltip:u.tooltip,enabled:(S=u.enabled)!==null&&S!==void 0&&S,borderless:!1},N=M.tooltip.or(u.text).map(se=>({"aria-label":h.translate(se)})).getOr({}),H=i3(O??"secondary"),K=u.icon.isSome()&&u.text.isSome(),G={tag:"button",classes:[...H.concat(u.icon.isSome()?["tox-button--icon"]:[]),...u.active?["tox-button--enabled"]:[],...K?["tox-button--icon-and-text"]:[]],attributes:{...N,...U(p)?{"data-mce-name":p}:{}}},re=h.translate(u.text.getOr("")),le=xs(re),me=[...Uv([k.map(se=>se.asSpec())]),...u.text.isSome()?[le]:[]],ie=i2(M,D.some(se=>{Cn(se,wf,{name:u.name,value:{setIcon:de=>{k.map(ge=>ge.getOpt(se).each(be=>{Fn.set(be,[op(de,h.icons)])}))}}})}),[],G,me,u.tooltip,h);return Ca.sketch(ie)})(o,c.shared.providers,o.text.or(o.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",i),new Error("Unknown footer button type")},z7={type:"separator"},H7=o=>({type:"menuitem",value:o.url,text:o.title,meta:{attach:o.attach},onAction:pe}),l3=(o,i)=>({type:"menuitem",value:i,text:o,meta:{attach:void 0},onAction:pe}),QR=(o,i)=>(c=>yt(c,H7))(((c,u)=>xo(u,h=>h.type===c))(o,i)),V7=o=>QR("header",o.targets),$7=o=>QR("anchor",o.targets),eN=o=>D.from(o.anchorTop).map(i=>l3("<top>",i)).toArray(),tN=o=>D.from(o.anchorBottom).map(i=>l3("<bottom>",i)).toArray(),c3=(o,i)=>{const c=o.toLowerCase();return xo(i,u=>{var h;const p=u.meta!==void 0&&u.meta.text!==void 0?u.meta.text:u.text,y=(h=u.value)!==null&&h!==void 0?h:"";return Ps(p.toLowerCase(),c)||Ps(y.toLowerCase(),c)})},nN=mn("aria-invalid"),U7=(o,i)=>{o.dom.checked=i},xc=o=>o.dom.checked,es=o=>(i,c,u,h,p)=>jt(c,"name").fold(()=>o(c,h,D.none(),p),y=>i.field(y,o(c,h,jt(u,y),p))),Z7={bar:es((o,i)=>((c,u)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:yt(c.items,u.interpreter)}))(o,i.shared)),collection:es((o,i,c)=>JD(o,i.shared.providers,c)),alertbanner:es((o,i)=>((c,u)=>{const h=R5(c.icon,u.icons);return gd.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${c.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:c.url?void 0:h},components:c.url?[Ca.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:h,attributes:{title:u.translate(c.iconTooltip)}},action:p=>Cn(p,wf,{name:"alert-banner",value:c.url}),buttonBehaviours:zt([AC()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:u.translate(c.text)}}]})})(o,i.shared.providers)),input:es((o,i,c)=>((u,h,p)=>PR({name:u.name,multiline:!1,label:u.label,inputMode:u.inputMode,placeholder:u.placeholder,flex:!1,disabled:!u.enabled,classname:"tox-textfield",validation:D.none(),maximized:u.maximized,data:p},h))(o,i.shared.providers,c)),textarea:es((o,i,c)=>((u,h,p)=>PR({name:u.name,multiline:!0,label:u.label,inputMode:D.none(),placeholder:u.placeholder,flex:!0,disabled:!u.enabled,classname:"tox-textarea",validation:D.none(),maximized:u.maximized,data:p},h))(o,i.shared.providers,c)),label:es((o,i,c,u)=>((h,p,y)=>{const S="tox-label",k=h.align==="center"?[`${S}--center`]:[],O=h.align==="end"?[`${S}--end`]:[],M=tr({dom:{tag:"label",classes:[S,...k,...O]},components:[xs(p.providers.translate(h.label))]}),N=yt(h.items,p.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[M.asSpec(),...N],behaviours:zt([Pm(),Fn.config({}),(H=D.none(),NE(H,nd,gg)),kn.config({mode:"acyclic"}),uo("label",[Vr(K=>{h.for.each(G=>{y(G).each(re=>{M.getOpt(K).each(le=>{var me;const ie=(me=_o(re.element,"id"))!==null&&me!==void 0?me:mn("form-field");tn(re.element,"id",ie),tn(le.element,"for",ie)})})})})])])};var H})(o,i.shared,u)),iframe:(D3=(o,i,c)=>((u,h,p)=>{const y="tox-dialog__iframe",S=u.transparent?[]:[`${y}--opaque`],k=u.border?["tox-navobj-bordered"]:[],O={...u.label.map(K=>({title:K})).getOr({}),...p.map(K=>({srcdoc:K})).getOr({}),...u.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},M=((K,G)=>{const re=En(K.getOr(""));return{getValue:le=>re.get(),setValue:(le,me)=>{if(re.get()!==me){const ie=le.element,se=()=>tn(ie,"srcdoc",me);G?ZE.fold(ae(UE),de=>de.throttle)(ie,me,se):se()}re.set(me)}}})(p,u.streamContent),N=u.label.map(K=>Yh(K,h)),H=ir.parts.field({factory:{sketch:K=>LE(D.from(k),{uid:K.uid,dom:{tag:"iframe",attributes:O,classes:[y,...S]},behaviours:zt([Sr.config({}),jn.config({}),n1(p,M.getValue,M.setValue),el.config({channels:{[C_]:{onReceive:(G,re)=>{re.newFocus.each(le=>{na(G.element).each(me=>{(Uo(G.element,le)?as:ms)(me,"tox-navobj-bordered-focus")})})}}}})])})}});return Gy(N,H,["tox-form__group--stretched"],[])})(o,i.shared.providers,c),(o,i,c,u,h)=>{const p=fr(i,{source:"dynamic"});return es(D3)(o,p,c,u,h)}),button:es((o,i)=>((c,u)=>{const h=a3(c.name,"custom");return p=D.none(),y=ir.parts.field({factory:Ca,...XR(c,D.some(h),u,[t2(""),Pm()])}),Gy(p,y,[],[]);var p,y})(o,i.shared.providers)),checkbox:es((o,i,c)=>((u,h,p)=>{const y=N=>(N.element.dom.click(),D.some(!0)),S=ir.parts.field({factory:{sketch:Ie},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:zt([Pm(),qn.config({disabled:()=>!u.enabled||h.isDisabled(),onDisabled:N=>{na(N.element).each(H=>as(H,"tox-checkbox--disabled"))},onEnabled:N=>{na(N.element).each(H=>ms(H,"tox-checkbox--disabled"))}}),Sr.config({}),jn.config({}),NE(p,xc,U7),kn.config({mode:"special",onEnter:y,onSpace:y,stopSpaceKeyup:!0}),uo("checkbox-events",[bt(nm(),(N,H)=>{Cn(N,za,{name:u.name})})])])}),k=ir.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[xs(h.translate(u.label))],behaviours:zt([Qb.config({})])}),O=N=>hc(N==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+N]},h.icons),M=tr({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[O("checked"),O("unchecked")]});return ir.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[S,M.asSpec(),k],fieldBehaviours:zt([qn.config({disabled:()=>!u.enabled||h.isDisabled()}),hi()])})})(o,i.shared.providers,c)),colorinput:es((o,i,c)=>((u,h,p,y)=>{const S=ir.parts.field({factory:zg,inputClasses:["tox-textfield"],data:y,onSetValue:N=>Nm.run(N).get(pe),inputBehaviours:zt([qn.config({disabled:h.providers.isDisabled}),hi(),Sr.config({}),Nm.config({invalidClass:"tox-textbox-field-invalid",getRoot:N=>na(N.element),notify:{onValid:N=>{const H=nt.getValue(N);Cn(N,lE,{color:H})}},validator:{validateOnLoad:!1,validate:N=>{const H=nt.getValue(N);if(H.length===0)return Rm(ko.value(!0));{const K=ci("span");Jn(K,"background-color",H);const G=_s(K,"background-color").fold(()=>ko.error("blah"),re=>ko.value(H));return Rm(G)}}}})]),selectOnFocus:!1}),k=u.label.map(N=>Yh(N,h.providers)),O=(N,H)=>{Cn(N,cE,{value:H})},M=tr(((N,H)=>ol.sketch({dom:N.dom,components:N.components,toggleClass:"mce-active",dropdownBehaviours:zt([la(H.providers.isDisabled),hi(),Qb.config({}),Sr.config({})]),layouts:N.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:H.getSink,fetch:K=>qh(G=>N.fetch(G)).map(G=>D.from(eE(fr(Xb(mn("menu-value"),G,re=>{N.onItemAction(K,re)},N.columns,N.presets,xf.CLOSE_ON_EXECUTE,Se,H.providers),{movement:Zy(N.columns,N.presets)})))),parts:{menu:OC(0,0,N.presets)}}))({dom:{tag:"span",attributes:{"aria-label":h.providers.translate("Color swatch")}},layouts:{onRtl:()=>[hs,gs,Ds],onLtr:()=>[gs,hs,Ds]},components:[],fetch:ND(p.getColors(u.storageKey),u.storageKey,p.hasCustomColors()),columns:p.getColorCols(u.storageKey),presets:"color",onItemAction:(N,H)=>{M.getOpt(N).each(K=>{H==="custom"?p.colorPicker(G=>{G.fold(()=>ho(K,oR),re=>{O(K,re),PA(u.storageKey,re)})},"#ffffff"):O(K,H==="remove"?"":H)})}},h));return ir.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:k.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[S,M.asSpec()]}]),fieldBehaviours:zt([uo("form-field-events",[bt(lE,(N,H)=>{M.getOpt(N).each(K=>{Jn(K.element,"background-color",H.event.color)}),Cn(N,za,{name:u.name})}),bt(cE,(N,H)=>{ir.getField(N).each(K=>{nt.setValue(K,H.event.value),Ho.getCurrent(N).each(jn.focus)})}),bt(oR,(N,H)=>{ir.getField(N).each(K=>{Ho.getCurrent(N).each(jn.focus)})})])])})})(o,i.shared,i.colorinput,c)),colorpicker:es((o,i,c)=>((u,h,p)=>{const y=O=>"tox-"+O,S=SR((O=>M=>v(M)?O.translate(k7[M]):O.translate(M))(h),y,h.tooltips.getConfig,(O,M,N=O,H=O)=>hc(N,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+O],attributes:{title:h.translate(H),"aria-live":"polite",...M.fold(()=>({}),K=>({id:K}))}},h.icons)),k=tr(S.sketch({dom:{tag:"div",classes:[y("color-picker-container")],attributes:{role:"presentation"}},onValidHex:O=>{Cn(O,wf,{name:"hex-valid",value:!0})},onInvalidHex:O=>{Cn(O,wf,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[k.asSpec()],behaviours:zt([n1(p,O=>{const M=k.get(O);return Ho.getCurrent(M).bind(N=>nt.getValue(N).hex).map(N=>"#"+yr(N,"#")).getOr("")},(O,M)=>{const N=D.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(M)).bind(K=>It(K,1)),H=k.get(O);Ho.getCurrent(H).fold(()=>{console.log("Can not find form")},K=>{nt.setValue(K,{hex:N.getOr("")}),ep.getField(K,"hex").each(G=>{ho(G,tm())})})}),Pm()])}})(0,i.shared.providers,c)),dropzone:es((o,i,c)=>((u,h,p)=>{const y=(G,re)=>{re.stop()},S=G=>(re,le)=>{qt(G,me=>{me(re,le)})},k=(G,re)=>{var le;if(!qn.isDisabled(G)){const me=re.event.raw;M(G,(le=me.dataTransfer)===null||le===void 0?void 0:le.files)}},O=(G,re)=>{const le=re.event.raw.target;M(G,le.files)},M=(G,re)=>{re&&(nt.setValue(G,((le,me)=>{const ie=jg.explode(me.getOption("images_file_types"));return xo(Yt(le),se=>Un(ie,de=>tu(se.name.toLowerCase(),`.${de.toLowerCase()}`)))})(re,h)),Cn(G,za,{name:u.name}))},N=tr({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:zt([uo("input-file-events",[om(Gs()),om(Zd())])])}),H=u.label.map(G=>Yh(G,h)),K=ir.parts.field({factory:{sketch:G=>({uid:G.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:zt([t2(p.getOr([])),Pm(),qn.config({}),$n.config({toggleClass:"dragenter",toggleOnExecute:!1}),uo("dropzone-events",[bt("dragenter",S([y,$n.toggle])),bt("dragleave",S([y,$n.toggle])),bt("dragover",y),bt("drop",S([y,k])),bt(nm(),O)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[xs(h.translate("Drop an image here"))]},Ca.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[xs(h.translate("Browse for an image")),N.asSpec()],action:re=>{N.get(re).element.dom.click()},buttonBehaviours:zt([Sr.config({}),la(h.isDisabled),hi()])})]}]})}});return Gy(H,K,["tox-form__group--stretched"],[])})(o,i.shared.providers,c)),grid:es((o,i)=>((c,u)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${c.columns}col`]},components:yt(c.items,u.interpreter)}))(o,i.shared)),listbox:es((o,i,c)=>((u,h,p)=>{const y=Un(u.items,H=>!o2(H)),S=h.shared.providers,k=p.bind(H=>T_(u.items,H)).orThunk(()=>en(u.items).filter(o2)),O=u.label.map(H=>Yh(H,S)),M=ir.parts.field({dom:{},factory:{sketch:H=>KE({uid:H.uid,text:k.map(K=>K.text),icon:D.none(),tooltip:D.none(),role:$o(!y,"combobox"),...y?{}:{listRole:"listbox"},ariaLabel:u.label,fetch:(K,G)=>{const re=E_(K,u.name,u.items,nt.getValue(K),y);G(o1(re,xf.CLOSE_ON_EXECUTE,h,{isHorizontalMenu:!1,search:D.none()}))},onSetup:ae(pe),getApi:ae({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Sr.config({}),n1(k.map(K=>K.value),K=>_o(K.element,qE),(K,G)=>{T_(u.items,G).each(re=>{tn(K.element,qE,re.value),Cn(K,Gc,{text:re.text})})})]},"tox-listbox",h.shared)}}),N={dom:{tag:"div",classes:["tox-listboxfield"]},components:[M]};return ir.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:pr([O.toArray(),[N]]),fieldBehaviours:zt([qn.config({disabled:ae(!u.enabled),onDisabled:H=>{ir.getField(H).each(qn.disable)},onEnabled:H=>{ir.getField(H).each(qn.enable)}})])})})(o,i,c)),selectbox:es((o,i,c)=>((u,h,p)=>{const y=yt(u.items,N=>({text:h.translate(N.text),value:N.value})),S=u.label.map(N=>Yh(N,h)),k=ir.parts.field({dom:{},...p.map(N=>({data:N})).getOr({}),selectAttributes:{size:u.size},options:y,factory:T7,selectBehaviours:zt([qn.config({disabled:()=>!u.enabled||h.isDisabled()}),Sr.config({}),uo("selectbox-change",[bt(nm(),(N,H)=>{Cn(N,za,{name:u.name})})])])}),O=u.size>1?D.none():D.some(hc("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},h.icons)),M={dom:{tag:"div",classes:["tox-selectfield"]},components:pr([[k],O.toArray()])};return ir.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:pr([S.toArray(),[M]]),fieldBehaviours:zt([qn.config({disabled:()=>!u.enabled||h.isDisabled(),onDisabled:N=>{ir.getField(N).each(qn.disable)},onEnabled:N=>{ir.getField(N).each(qn.enable)}}),hi()])})})(o,i.shared.providers,c)),sizeinput:es((o,i)=>((c,u)=>{let h=JE;const p=mn("ratio-event"),y=re=>hc(re,{tag:"span",classes:["tox-icon","tox-lock-icon__"+re]},u.icons),S=c.label.getOr("Constrain proportions"),k=u.translate(S),O=vc.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":k,"data-mce-name":S}},components:[y("lock"),y("unlock")],buttonBehaviours:zt([qn.config({disabled:()=>!c.enabled||u.isDisabled()}),hi(),Sr.config({}),Hs.config(u.tooltips.getConfig({tooltipText:k}))])}),M=re=>({dom:{tag:"div",classes:["tox-form__group"]},components:re}),N=re=>ir.parts.field({factory:zg,inputClasses:["tox-textfield"],inputBehaviours:zt([qn.config({disabled:()=>!c.enabled||u.isDisabled()}),hi(),Sr.config({}),uo("size-input-events",[bt(Xo(),(le,me)=>{Cn(le,p,{isField1:re})}),bt(nm(),(le,me)=>{Cn(le,za,{name:c.name})})])]),selectOnFocus:!1}),H=re=>({dom:{tag:"label",classes:["tox-label"]},components:[xs(u.translate(re))]}),K=vc.parts.field1(M([ir.parts.label(H("Width")),N(!0)])),G=vc.parts.field2(M([ir.parts.label(H("Height")),N(!1)]));return vc.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[K,G,M([H(""),O])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(re,le,me)=>{YE(nt.getValue(re)).each(ie=>{h(ie).each(se=>{nt.setValue(le,(de=>{const ge={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let be=de.value.toFixed((Me=de.unit)in ge?ge[Me]:1);var Me;return be.indexOf(".")!==-1&&(be=be.replace(/\.?0*$/,"")),be+de.unit})(se))})})},coupledFieldBehaviours:zt([qn.config({disabled:()=>!c.enabled||u.isDisabled(),onDisabled:re=>{vc.getField1(re).bind(ir.getField).each(qn.disable),vc.getField2(re).bind(ir.getField).each(qn.disable),vc.getLock(re).each(qn.disable)},onEnabled:re=>{vc.getField1(re).bind(ir.getField).each(qn.enable),vc.getField2(re).bind(ir.getField).each(qn.enable),vc.getLock(re).each(qn.enable)}}),hi(),uo("size-input-events2",[bt(p,(re,le)=>{const me=le.event.isField1,ie=me?vc.getField1(re):vc.getField2(re),se=me?vc.getField2(re):vc.getField1(re),de=ie.map(nt.getValue).getOr(""),ge=se.map(nt.getValue).getOr("");h=((be,Me)=>{const qe=YE(be).toOptional(),wt=YE(Me).toOptional();return Ht(qe,wt,(pt,mt)=>XE(pt,mt.unit).map(Pt=>mt.value/Pt).map(Pt=>{return cn=Pt,bn=mt.unit,Dn=>XE(Dn,bn).map(Gn=>({value:Gn*cn,unit:bn}));var cn,bn}).getOr(JE)).getOr(JE)})(de,ge)})])])})})(o,i.shared.providers)),slider:es((o,i,c)=>((u,h,p)=>{const y=pd.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[xs(h.translate(u.label))]}),S=pd.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),k=pd.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return pd.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:u.min,maxX:u.max,getInitialValue:ae(p.getOrThunk(()=>(Math.abs(u.max)-Math.abs(u.min))/2))},components:[y,S,k],sliderBehaviours:zt([Pm(),jn.config({})]),onChoose:(O,M,N)=>{Cn(O,za,{name:u.name,value:N})},onChange:(O,M,N)=>{Cn(O,za,{name:u.name,value:N})}})})(o,i.shared.providers,c)),urlinput:es((o,i,c)=>((u,h,p,y)=>{const S=h.shared.providers,k=ie=>{const se=nt.getValue(ie);p.addToHistory(se.value,u.filetype)},O={...y.map(ie=>({initialData:ie})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":nN,type:"url"},minChars:0,responseTime:0,fetch:ie=>{const se=((ge,be,Me)=>{var qe,wt;const pt=nt.getValue(be),mt=(wt=(qe=pt==null?void 0:pt.meta)===null||qe===void 0?void 0:qe.text)!==null&&wt!==void 0?wt:pt.value;return Me.getLinkInformation().fold(()=>[],Pt=>{const cn=c3(mt,(Dn=>yt(Dn,Gn=>l3(Gn,Gn)))(Me.getHistory(ge)));return ge==="file"?(bn=[cn,c3(mt,V7(Pt)),c3(mt,pr([eN(Pt),$7(Pt),tN(Pt)]))],Mn(bn,(Dn,Gn)=>Dn.length===0||Gn.length===0?Dn.concat(Gn):Dn.concat(z7,Gn),[])):cn;var bn})})(u.filetype,ie,p),de=o1(se,xf.BUBBLE_TO_SANDBOX,h,{isHorizontalMenu:!1,search:D.none()});return Rm(de)},getHotspot:ie=>le.getOpt(ie),onSetValue:(ie,se)=>{ie.hasConfigured(Nm)&&Nm.run(ie).get(pe)},typeaheadBehaviours:zt([...p.getValidationHandler().map(ie=>Nm.config({getRoot:se=>na(se.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(se,de)=>{H.getOpt(se).each(ge=>{tn(ge.element,"title",S.translate(de))})}},validator:{validate:se=>{const de=nt.getValue(se);return GR(ge=>{ie({type:u.filetype,url:de.value},be=>{if(be.status==="invalid"){const Me=ko.error(be.message);ge(Me)}else{const Me=ko.value(be.message);ge(Me)}})})},validateOnLoad:!1}})).toArray(),qn.config({disabled:()=>!u.enabled||S.isDisabled()}),Sr.config({}),uo("urlinput-events",[bt(tm(),ie=>{const se=Qd(ie.element),de=se.trim();de!==se&&cm(ie.element,de),u.filetype==="file"&&Cn(ie,za,{name:u.name})}),bt(nm(),ie=>{Cn(ie,za,{name:u.name}),k(ie)}),bt(ox(),ie=>{Cn(ie,za,{name:u.name}),k(ie)})])]),eventOrder:{[tm()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:ie=>ie.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:h.shared.getSink,parts:{menu:OC(0,0,"normal")},onExecute:(ie,se,de)=>{Cn(se,Yy,{})},onItemExecute:(ie,se,de,ge)=>{k(ie),Cn(ie,za,{name:u.name})}},M=ir.parts.field({...O,factory:F7}),N=u.label.map(ie=>Yh(ie,S)),H=tr(((ie,se,de=ie,ge=ie)=>hc(de,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+ie],attributes:{title:S.translate(ge),"aria-live":"polite",...se.fold(()=>({}),be=>({id:be}))}},S.icons))("invalid",D.some(nN),"warning")),K=tr({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[H.asSpec()]}),G=p.getUrlPicker(u.filetype),re=mn("browser.url.event"),le=tr({dom:{tag:"div",classes:["tox-control-wrap"]},components:[M,K.asSpec()],behaviours:zt([qn.config({disabled:()=>!u.enabled||S.isDisabled()})])}),me=tr(JR({name:u.name,icon:D.some("browse"),text:u.picker_text.or(u.label).getOr(""),enabled:u.enabled,primary:!1,buttonType:D.none(),borderless:!0},ie=>ho(ie,re),S,[],["tox-browse-url"]));return ir.sketch({dom:XC([]),components:N.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:pr([[le.asSpec()],G.map(()=>me.asSpec()).toArray()])}]),fieldBehaviours:zt([qn.config({disabled:()=>!u.enabled||S.isDisabled(),onDisabled:ie=>{ir.getField(ie).each(qn.disable),me.getOpt(ie).each(qn.disable)},onEnabled:ie=>{ir.getField(ie).each(qn.enable),me.getOpt(ie).each(qn.enable)}}),hi(),uo("url-input-events",[bt(re,ie=>{Ho.getCurrent(ie).each(se=>{const de=nt.getValue(se),ge={fieldname:u.name,...de};G.each(be=>{be(ge).get(Me=>{nt.setValue(se,Me),Cn(ie,za,{name:u.name})})})})})])])})})(o,i,i.urlinput,c)),customeditor:es(o=>{const i=sr(),c=tr({dom:{tag:o.tag}}),u=sr(),h=!IE(o)&&o.onFocus.isSome()?[jn.config({onFocus:p=>{o.onFocus.each(y=>{y(p.element.dom)})}}),Sr.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:zt([uo("custom-editor-events",[Vr(p=>{c.getOpt(p).each(y=>{(IE(o)?o.init(y.element.dom):kR.load(o.scriptId,o.scriptUrl).then(S=>S(y.element.dom,o.settings))).then(S=>{u.on(k=>{S.setValue(k)}),u.clear(),i.set(S)})})})]),n1(D.none(),()=>i.get().fold(()=>u.get().getOr(""),p=>p.getValue()),(p,y)=>{i.get().fold(()=>u.set(y),S=>S.setValue(y))}),Pm()].concat(h)),components:[c.asSpec()]}}),htmlpanel:es((o,i)=>((c,u)=>{const h=["tox-form__group",...c.stretched?["tox-form__group--stretched"]:[]],p=uo("htmlpanel",[Vr(y=>{c.onInit(y.element.dom)})]);return c.presets==="presentation"?gd.sketch({dom:{tag:"div",classes:h,innerHtml:c.html},containerBehaviours:zt([Hs.config({...u.tooltips.getConfig({tooltipText:"",onShow:y=>{Kr(y.element,"[data-mce-tooltip]:hover").orThunk(()=>Rs(y.element)).each(S=>{No(S,"data-mce-tooltip").each(k=>{Hs.setComponents(y,u.tooltips.getComponents({tooltipText:k}))})})}}),mode:"children-normal",anchor:y=>({type:"node",node:Kr(y.element,"[data-mce-tooltip]:hover").orThunk(()=>Rs(y.element).filter(S=>No(S,"data-mce-tooltip").isSome())),root:y.element,layouts:{onLtr:ae([Ds,ls,gs,Fs,hs,mr]),onRtl:ae([Ds,ls,gs,Fs,hs,mr])},bubble:Bl(0,-2,{})})}),p])}):gd.sketch({dom:{tag:"div",classes:h,innerHtml:c.html,attributes:{role:"document"}},containerBehaviours:zt([Sr.config({}),jn.config({}),p])})})(o,i.shared.providers)),imagepreview:es((o,i,c)=>((u,h)=>{const p=En(h.getOr({url:""})),y=tr({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:h.map(M=>({src:M.url})).getOr({})}}),S=tr({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[y.asSpec()]}),k={};u.height.each(M=>k.height=M);const O=h.map(M=>({url:M.url,zoom:D.from(M.zoom),cachedWidth:D.from(M.cachedWidth),cachedHeight:D.from(M.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:k,attributes:{role:"presentation"}},components:[S.asSpec()],behaviours:zt([Pm(),n1(O,()=>p.get(),(M,N)=>{const H={url:N.url};N.zoom.each(G=>H.zoom=G),N.cachedWidth.each(G=>H.cachedWidth=G),N.cachedHeight.each(G=>H.cachedHeight=G),p.set(H);const K=()=>{const{cachedWidth:G,cachedHeight:re,zoom:le}=H;if(!z(G)&&!z(re)){if(z(le)){const ie=((se,de,ge)=>{const be=ui(se),Me=us(se);return Math.min(be/de,Me/ge,1)})(M.element,G,re);H.zoom=ie}const me=((ie,se,de,ge,be)=>{const Me=de*be,qe=ge*be,wt=Math.max(0,ie/2-Me/2),pt=Math.max(0,se/2-qe/2);return{left:wt.toString()+"px",top:pt.toString()+"px",width:Me.toString()+"px",height:qe.toString()+"px"}})(ui(M.element),us(M.element),G,re,H.zoom);S.getOpt(M).each(ie=>{Ta(ie.element,me)})}};y.getOpt(M).each(G=>{const re=G.element;var le;N.url!==_o(re,"src")&&(tn(re,"src",N.url),ms(M.element,"tox-imagepreview__loaded")),K(),(le=re,new Promise((me,ie)=>{const se=()=>{ge(),me(le)},de=[ya(le,"load",se),ya(le,"error",()=>{ge(),ie("Unable to load data from image: "+le.dom.src)})],ge=()=>qt(de,be=>be.unbind());le.dom.complete&&se()})).then(me=>{M.getSystem().isConnected()&&(as(M.element,"tox-imagepreview__loaded"),H.cachedWidth=me.dom.naturalWidth,H.cachedHeight=me.dom.naturalHeight,K())})})})])}})(o,c)),table:es((o,i)=>((c,u)=>{const h=S=>({dom:{tag:"td",innerHtml:u.translate(S)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(y=c.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:yt(y,S=>({dom:{tag:"th",innerHtml:u.translate(S)}}))}]}),(p=c.cells,{dom:{tag:"tbody"},components:yt(p,S=>({dom:{tag:"tr"},components:yt(S,h)}))})],behaviours:zt([Sr.config({}),jn.config({})])};var p,y})(o,i.shared.providers)),tree:es((o,i)=>((c,u)=>{const h=c.onLeafAction.getOr(pe),p=c.onToggleExpand.getOr(pe),y=c.defaultExpandedIds,S=En(y),k=En(c.defaultSelectedId),O=mn("tree-id"),M=(N,H)=>c.items.map(K=>K.type==="leaf"?n3({leaf:K,selectedId:N,onLeafAction:h,visible:!0,treeId:O,backstage:u}):D_({directory:K,selectedId:N,onLeafAction:h,expandedIds:H,labelTabstopping:!0,treeId:O,backstage:u}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:M(k.get(),S.get()),behaviours:zt([kn.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),uo(I7,[bt("expand-tree-node",(N,H)=>{const{expanded:K,node:G}=H.event;S.set(K?[...S.get(),G]:S.get().filter(re=>re!==G)),p(S.get(),{expanded:K,node:G})})]),el.config({channels:{[`update-active-item-${O}`]:{onReceive:(N,H)=>{k.set(D.some(H.value)),Fn.set(N,M(D.some(H.value),S.get()))}}}}),Fn.config({})])}})(o,i)),panel:es((o,i)=>((c,u)=>({dom:{tag:"div",classes:c.classes},components:yt(c.items,u.shared.interpreter)}))(o,i))},u3={field:(o,i)=>i,record:ae([])},I_=(o,i,c,u,h)=>{const p=fr(u,{shared:{interpreter:y=>d3(o,y,c,p,h)}});return d3(o,i,c,p,h)},d3=(o,i,c,u,h)=>jt(Z7,i.type).fold(()=>(console.error(`Unknown factory type "${i.type}", defaulting to container: `,i),i),p=>p(o,i,c,u,h)),oN=(o,i,c,u)=>d3(u3,o,i,c,u),bd="layout-inset",r0=o=>o.x,B_=(o,i)=>o.x+o.width/2-i.width/2,f3=(o,i)=>o.x+o.width-i.width,Nu=o=>o.y,m3=(o,i)=>o.y+o.height-i.height,rN=(o,i)=>o.y+o.height/2-i.height/2,Fl=(o,i,c)=>Wi(f3(o,i),m3(o,i),c.insetSouthwest(),Sg(),"southwest",ji(o,{right:0,bottom:3}),bd),ip=(o,i,c)=>Wi(r0(o),m3(o,i),c.insetSoutheast(),rb(),"southeast",ji(o,{left:1,bottom:3}),bd),zl=(o,i,c)=>Wi(f3(o,i),Nu(o),c.insetNorthwest(),_g(),"northwest",ji(o,{right:0,top:2}),bd),a2=(o,i,c)=>Wi(r0(o),Nu(o),c.insetNortheast(),ob(),"northeast",ji(o,{left:1,top:2}),bd),Vo=(o,i,c)=>Wi(B_(o,i),Nu(o),c.insetNorth(),Nw(),"north",ji(o,{top:2}),bd),Lm=(o,i,c)=>Wi(B_(o,i),m3(o,i),c.insetSouth(),Ex(),"south",ji(o,{bottom:3}),bd),l2=(o,i,c)=>Wi(f3(o,i),rN(o,i),c.insetEast(),Iw(),"east",ji(o,{right:0}),bd),g3=(o,i,c)=>Wi(r0(o),rN(o,i),c.insetWest(),Tx(),"west",ji(o,{left:1}),bd),h3=o=>{switch(o){case"north":return Vo;case"northeast":return a2;case"northwest":return zl;case"south":return Lm;case"southeast":return ip;case"southwest":return Fl;case"east":return l2;case"west":return g3}},M_=(o,i,c,u,h)=>db(u).map(h3).getOr(Vo)(o,i,c,u,h),W7=o=>{switch(o){case"north":return Lm;case"northeast":return ip;case"northwest":return Fl;case"south":return Vo;case"southeast":return a2;case"southwest":return zl;case"east":return g3;case"west":return l2}},p3=(o,i,c,u,h)=>db(u).map(W7).getOr(Vo)(o,i,c,u,h),c2={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},sN=(o,i,c)=>{const u={maxHeightFunction:Tg()};return()=>c()?{type:"node",root:$e(ot(o())),node:D.from(o()),bubble:Bl(12,12,c2),layouts:{onRtl:()=>[a2],onLtr:()=>[zl]},overrides:u}:{type:"hotspot",hotspot:i(),bubble:Bl(-12,12,c2),layouts:{onRtl:()=>[gs,hs,Ds],onLtr:()=>[hs,gs,Ds]},overrides:u}},iN=(o,i,c,u)=>{const h={maxHeightFunction:Tg()};return()=>u()?{type:"node",root:$e(ot(i())),node:D.from(i()),bubble:Bl(12,12,c2),layouts:{onRtl:()=>[Vo],onLtr:()=>[Vo]},overrides:h}:o?{type:"node",root:$e(ot(i())),node:D.from(i()),bubble:Bl(0,-Gl(i()),c2),layouts:{onRtl:()=>[ls],onLtr:()=>[ls]},overrides:h}:{type:"hotspot",hotspot:c(),bubble:Bl(0,0,c2),layouts:{onRtl:()=>[ls],onLtr:()=>[ls]},overrides:h}},b3=(o,i,c)=>()=>c()?{type:"node",root:$e(ot(o())),node:D.from(o()),layouts:{onRtl:()=>[Vo],onLtr:()=>[Vo]}}:{type:"hotspot",hotspot:i(),layouts:{onRtl:()=>[Ds],onLtr:()=>[Ds]}},aN=(o,i)=>()=>({type:"selection",root:i(),getSelection:()=>{const c=o.selection.getRng(),u=o.model.table.getSelectedCells();if(u.length>1){const h=u[0],p=u[u.length-1],y={firstCell:nn(h),lastCell:nn(p)};return D.some(y)}return D.some(af.range(nn(c.startContainer),c.startOffset,nn(c.endContainer),c.endOffset))}}),P_=o=>i=>({type:"node",root:o(),node:i}),j7=(o,i,c,u)=>{const h=zb(o),p=()=>nn(o.getBody()),y=()=>nn(o.getContentAreaContainer()),S=()=>h||!u();return{inlineDialog:sN(y,i,S),inlineBottomDialog:iN(o.inline,y,c,S),banner:b3(y,i,S),cursor:aN(o,p),node:P_(p)}},K7=o=>(i,c)=>{BD(o)(i,c)},q7=o=>()=>HA(o),G7=o=>i=>Yb(o,i),Y7=o=>i=>zA(o,i),lN=o=>()=>bf(o),cN=o=>so(o,"items"),uN=o=>so(o,"format"),v3=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],x3=o=>Mn(o,(i,c)=>{if(ao(c,"items")){const u=x3(c.items);return{customFormats:i.customFormats.concat(u.customFormats),formats:i.formats.concat([{title:c.title,items:u.formats}])}}if(ao(c,"inline")||(u=>ao(u,"block"))(c)||(u=>ao(u,"selector"))(c)){const u=`custom-${v(c.name)?c.name:c.title.toLowerCase()}`;return{customFormats:i.customFormats.concat([{name:u,format:c}]),formats:i.formats.concat([{title:c.title,format:u,icon:c.icon}])}}return{...i,formats:i.formats.concat(c)}},{customFormats:[],formats:[]}),dN=o=>Lv(o).map(i=>{const c=((u,h)=>{const p=x3(h),y=S=>{qt(S,k=>{u.formatter.has(k.name)||u.formatter.register(k.name,k.format)})};return u.formatter?y(p.customFormats):u.on("init",()=>{y(p.customFormats)}),p.formats})(o,i);return cC(o)?v3.concat(c):c}).getOr(v3),fN=(o,i,c)=>({...o,type:"formatter",isSelected:i(o.format),getStylePreview:c(o.format)}),y3=(o,i,c,u)=>{const h=p=>yt(p,y=>cN(y)?(S=>{const k=h(S.items);return{...S,type:"submenu",getStyleItems:ae(k)}})(y):uN(y)?(S=>fN(S,c,u))(y):(S=>{const k=et(S);return k.length===1&&rt(k,"title")})(y)?{...y,type:"separator"}:(S=>{const k=v(S.name)?S.name:mn(S.title),O=`custom-${k}`,M={...S,type:"formatter",format:O,isSelected:c(O),getStylePreview:u(O)};return o.formatter.register(k,M),M})(y));return h(i)},w3=o=>{let i=0;const c=u=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[xs(u.tooltipText)]}];return{getConfig:u=>({delayForShow:()=>i>0?60:300,delayForHide:ae(300),exclusive:!0,lazySink:o,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:c(u),onShow:(h,p)=>{i++,u.onShow&&u.onShow(h,p)},onHide:(h,p)=>{i--,u.onHide&&u.onHide(h,p)},onSetup:u.onSetup}),getComponents:c}},mN=jg.trim,gN=o=>i=>!!((c=>U(c)&&c.nodeType===1)(i)&&(i.contentEditable===o||i.getAttribute("data-mce-contenteditable")===o)),X7=gN("true"),J7=gN("false"),hN=(o,i,c,u,h)=>({type:o,title:i,url:c,level:u,attach:h}),pN=o=>o.innerText||o.textContent,Q7=o=>(i=>i&&i.nodeName==="A"&&(i.id||i.name)!==void 0)(o)&&Iu(o),C3=o=>o&&/^(H[1-6])$/.test(o.nodeName),Iu=o=>(i=>{let c=i;for(;c=c.parentNode;){const u=c.contentEditable;if(u&&u!=="inherit")return X7(c)}return!1})(o)&&!J7(o),eL=o=>C3(o)&&Iu(o),_3=o=>{var i;const c=(u=>u.id?u.id:mn("h"))(o);return hN("header",(i=pN(o))!==null&&i!==void 0?i:"","#"+c,(u=>C3(u)?parseInt(u.nodeName.substr(1),10):0)(o),()=>{o.id=c})},bN=o=>{const i=o.id||o.name,c=pN(o);return hN("anchor",c||"#"+i,"#"+i,0,pe)},vN=o=>mN(o.title).length>0,tL=o=>{const i=(c=>yt(ri(nn(c),"h1,h2,h3,h4,h5,h6,a:not([href])"),h=>h.dom))(o);return xo((c=>yt(xo(c,eL),_3))(i).concat((c=>yt(xo(c,Q7),bN))(i)),vN)},u2="tinymce-url-history",S3=o=>v(o)&&/^https?/.test(o),k3=o=>w(o)&&yo(o,i=>{return!(F(c=i)&&c.length<=5&&Qi(c,S3));var c}).isNone(),xN=()=>{const o=bc.getItem(u2);if(o===null)return{};let i;try{i=JSON.parse(o)}catch(c){if(c instanceof SyntaxError)return console.log("Local storage "+u2+" was not valid JSON",c),{};throw c}return k3(i)?i:(console.log("Local storage "+u2+" was not valid format",i),{})},nL=o=>{const i=xN();return jt(i,o).getOr([])},oL=(o,i)=>{if(!S3(o))return;const c=xN(),u=jt(c,i).getOr([]),h=xo(u,p=>p!==o);c[i]=[o].concat(h).slice(0,5),(p=>{if(!k3(p))throw new Error(`Bad format for history:
`+JSON.stringify(p));bc.setItem(u2,JSON.stringify(p))})(c)},yN=o=>!!o,rL=o=>Gt(jg.makeMap(o,/[, ]/),yN),L_=o=>D.from(dC(o)),A3=o=>D.from(o).filter(v).getOrUndefined(),wN=o=>({getHistory:nL,addToHistory:oL,getLinkInformation:()=>(i=>fC(i)?D.some({targets:tL(i.getBody()),anchorTop:A3(u5(i)),anchorBottom:A3(d5(i))}):D.none())(o),getValidationHandler:()=>(i=>D.from(gy(i)))(o),getUrlPicker:i=>((c,u)=>((h,p)=>{const y=(S=>{const k=D.from(hy(S)).filter(yN).map(rL);return L_(S).fold(Se,O=>k.fold(Ne,M=>et(M).length>0&&M))})(h);return I(y)?y?L_(h):D.none():y[p]?L_(h):D.none()})(c,u).map(h=>p=>qh(y=>{const S={filetype:u,fieldname:p.fieldname,...D.from(p.meta).getOr({})};h.call(c,(k,O)=>{if(!v(k))throw new Error("Expected value to be string");if(O!==void 0&&!w(O))throw new Error("Expected meta to be a object");y({value:k,meta:O})},p.value,S)})))(o,i)}),Gi=h8,Fm=JT,sL=ae([Xe("shell",!1),kt("makeItem"),Xe("setupItem",pe),Kn("listBehaviours",[Fn])]),s0=$c({name:"items",overrides:()=>({behaviours:zt([Fn.config({})])})}),iL=ae([s0]),E3=gl({name:ae("CustomList")(),configFields:sL(),partFields:iL(),factory:(o,i,c,u)=>{const h=o.shell?{behaviours:[Fn.config({})],components:[]}:{behaviours:[],components:i};return{uid:o.uid,dom:o.dom,components:h.components,behaviours:co(o.listBehaviours,h.behaviours),apis:{setItems:(p,y)=>{var S;(S=p,o.shell?D.some(S):Or(S,o,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},k=>{const O=Fn.contents(k),M=y.length,N=M-O.length,H=N>0?Hr(N,()=>o.makeItem()):[],K=O.slice(M);qt(K,re=>Fn.remove(k,re)),qt(H,re=>Fn.append(k,re));const G=Fn.contents(k);qt(G,(re,le)=>{o.setupItem(p,re,y[le],le)})})}}}},apis:{setItems:(o,i,c)=>{o.setItems(i,c)}}}),s1=ae([kt("dom"),Xe("shell",!0),gn("toolbarBehaviours",[Fn])]),CN=ae([$c({name:"groups",overrides:()=>({behaviours:zt([Fn.config({})])})})]),vd=gl({name:"Toolbar",configFields:s1(),partFields:CN(),factory:(o,i,c,u)=>{const h=o.shell?{behaviours:[Fn.config({})],components:[]}:{behaviours:[],components:i};return{uid:o.uid,dom:o.dom,components:h.components,behaviours:co(o.toolbarBehaviours,h.behaviours),apis:{setGroups:(p,y)=>{var S;(S=p,o.shell?D.some(S):Or(S,o,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},k=>{Fn.set(k,y)})},refresh:pe},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,i,c)=>{o.setGroups(i,c)}}}),T3=pe,O3=Se,F_=ae([]);var D3,aL=Object.freeze({__proto__:null,setup:T3,isDocked:O3,getBehaviours:F_});const z_=ae(mn("toolbar-height-change")),zm={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},_N="tox-tinymce--toolbar-sticky-on",SN="tox-tinymce--toolbar-sticky-off",d2=(o,i)=>rt(jr.getModes(o),i),H_=o=>{const i=o.element;na(i).each(c=>{const u="padding-"+jr.getModes(o)[0];if(jr.isDocked(o)){const h=ui(c);Jn(i,"width",h+"px"),Jn(c,u,(p=>Gl(p)+(parseInt(os(p,"margin-top"),10)||0)+(parseInt(os(p,"margin-bottom"),10)||0))(i)+"px")}else er(i,"width"),er(c,u)})},R3=(o,i)=>{i?(ms(o,zm.fadeOutClass),Os(o,[zm.transitionClass,zm.fadeInClass])):(ms(o,zm.fadeInClass),Os(o,[zm.fadeOutClass,zm.transitionClass]))},kN=(o,i)=>{const c=nn(o.getContainer());i?(as(c,_N),ms(c,SN)):(as(c,SN),ms(c,_N))},AN=(o,i)=>{const c=sr(),u=i.getSink,h=S=>{u().each(k=>S(k.element))},p=S=>{o.inline||H_(S),kN(o,jr.isDocked(S)),S.getSystem().broadcastOn([V()],{}),u().each(k=>k.getSystem().broadcastOn([V()],{}))},y=o.inline?[]:[el.config({channels:{[z_()]:{onReceive:H_}}})];return[jn.config({}),jr.config({contextual:{lazyContext:S=>{const k=Gl(S.element),O=o.inline?o.getContentAreaContainer():o.getContainer();return D.from(O).map(M=>{const N=Us(nn(M));return Hh(o,S.element).fold(()=>{const H=N.height-k,K=N.y+(d2(S,"top")?0:k);return bo(N.x,K,N.width,H)},H=>{const K=qu(N,Vh(H)),G=d2(S,"top")?K.y:K.y+k;return bo(K.x,G,K.width,K.height-k)})})},onShow:()=>{h(S=>R3(S,!0))},onShown:S=>{h(k=>Il(k,[zm.transitionClass,zm.fadeInClass])),c.get().each(k=>{((O,M)=>{const N=$s(M);Fc(N).filter(H=>!Uo(M,H)).filter(H=>Uo(H,nn(N.dom.body))||bs(O,H)).each(()=>xa(M))})(S.element,k),c.clear()})},onHide:S=>{((k,O)=>Rs(k).orThunk(()=>O().toOptional().bind(M=>Rs(M.element))))(S.element,u).fold(c.clear,c.set),h(k=>R3(k,!1))},onHidden:()=>{h(S=>Il(S,[zm.transitionClass]))},...zm},lazyViewport:S=>Hh(o,S.element).fold(()=>{const k=wi(),O=Yk(o),M=k.y+(d2(S,"top")?O:0),N=k.height-(d2(S,"bottom")?O:0);return{bounds:bo(k.x,M,k.width,N),optScrollEnv:D.none()}},k=>({bounds:Vh(k),optScrollEnv:D.some({currentScrollTop:k.element.dom.scrollTop,scrollElmTop:dl(k.element).top})})),modes:[i.header.getDockingMode()],onDocked:p,onUndocked:p}),...y]};var lL=Object.freeze({__proto__:null,setup:(o,i,c)=>{o.inline||(i.header.isPositionedAtTop()||o.on("ResizeEditor",()=>{c().each(jr.reset)}),o.on("ResizeWindow ResizeEditor",()=>{c().each(H_)}),o.on("SkinLoaded",()=>{c().each(u=>{jr.isDocked(u)?jr.reset(u):jr.refresh(u)})}),o.on("FullscreenStateChanged",()=>{c().each(jr.reset)})),o.on("AfterScrollIntoView",u=>{c().each(h=>{jr.refresh(h);const p=h.element;kO(p)&&((y,S)=>{const k=$s(S),O=Cc(S).dom.innerHeight,M=Br(k),N=nn(y.elm),H=Ya(N),K=us(N),G=H.y,re=G+K,le=dl(S),me=us(S),ie=le.top,se=ie+me,de=Math.abs(ie-M.top)<2,ge=Math.abs(se-(M.top+O))<2;if(de&&G<se)zd(M.left,G-me,k);else if(ge&&re>ie){const be=G-O+K+me;zd(M.left,be,k)}})(u,p)})}),o.on("PostRender",()=>{kN(o,!1)})},isDocked:o=>o().map(jr.isDocked).getOr(!1),getBehaviours:AN});const cL=In([Xs,_i("items",Xf([du([hA,Na("items",ni)]),ni]))].concat(Dm)),uL=[vs("text"),vs("tooltip"),vs("icon"),ba("search",!1,Xf([Dl,In([vs("placeholder")])],o=>I(o)?o?D.some({placeholder:D.none()}):D.none():D.some(o))),pa("fetch"),Mr("onSetup",()=>pe)],EN=In([Xs,...uL]),TN=o=>rs("menubutton",EN,o),dL=In([Xs,Py,Au,jh,yA,_P,Wh,Ql("presets","normal",["normal","color","listpreview"]),X5(1),Hv,Y5]);var N3=Uc({factory:(o,i)=>{const c={focus:kn.focusIn,setMenus:(u,h)=>{const p=yt(h,y=>{const S={type:"menubutton",text:y.text,fetch:O=>{O(y.getItems())}},k=TN(S).mapError(O=>Ra(O)).getOrDie();return n0(k,"tox-mbtn",i.backstage,D.some("menuitem"))});Fn.set(u,p)}};return{uid:o.uid,dom:o.dom,components:[],behaviours:zt([Fn.config({}),uo("menubar-events",[Vr(u=>{o.onSetup(u)}),bt(wn(),(u,h)=>{Kr(u.element,".tox-mbtn--active").each(p=>{xu(h.event.target,".tox-mbtn").each(y=>{Uo(p,y)||u.getSystem().getByDom(p).each(S=>{u.getSystem().getByDom(y).each(k=>{ol.expand(k),ol.close(S),jn.focus(k)})})})})}),bt(V1(),(u,h)=>{h.event.prevFocus.bind(p=>u.getSystem().getByDom(p).toOptional()).each(p=>{h.event.newFocus.bind(y=>u.getSystem().getByDom(y).toOptional()).each(y=>{ol.isOpen(p)&&(ol.expand(y),ol.close(p))})})})]),kn.config({mode:"flow",selector:".tox-mbtn",onEscape:u=>(o.onEscape(u),D.some(!0))}),Sr.config({})]),apis:c,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[kt("dom"),kt("uid"),kt("onEscape"),kt("backstage"),Xe("onSetup",pe)],apis:{focus:(o,i)=>{o.focus(i)},setMenus:(o,i,c)=>{o.setMenus(i,c)}}});const ON="container",fL=[gn("slotBehaviours",[])],I3=o=>"<alloy.field."+o+">",mL=(o,i)=>{const c=M=>nO(o),u=(M,N)=>(H,K)=>Or(H,o,K).map(G=>M(G,K)).getOr(N),h=(M,N)=>_o(M.element,"aria-hidden")!=="true",p=u(h,!1),y=u((M,N)=>{if(h(M)){const H=M.element;Jn(H,"display","none"),tn(H,"aria-hidden","true"),Cn(M,Bc(),{name:N,visible:!1})}}),S=(M=>(N,H)=>{qt(H,K=>M(N,K))})(y),k=u((M,N)=>{if(!h(M)){const H=M.element;er(H,"display"),mo(H,"aria-hidden"),Cn(M,Bc(),{name:N,visible:!0})}}),O={getSlotNames:c,getSlot:(M,N)=>Or(M,o,N),isShowing:p,hideSlot:y,hideAllSlots:M=>S(M,c()),showSlot:k};return{uid:o.uid,dom:o.dom,components:i,behaviours:Hn(o.slotBehaviours),apis:O}},gL=Gt({getSlotNames:(o,i)=>o.getSlotNames(i),getSlot:(o,i,c)=>o.getSlot(i,c),isShowing:(o,i,c)=>o.isShowing(i,c),hideSlot:(o,i,c)=>o.hideSlot(i,c),hideAllSlots:(o,i)=>o.hideAllSlots(i),showSlot:(o,i,c)=>o.showSlot(i,c)},o=>tv(o)),rl={...gL,sketch:o=>{const i=(()=>{const p=[];return{slot:(y,S)=>(p.push(y),gk(ON,I3(y),S)),record:ae(p)}})(),c=o(i),u=i.record(),h=yt(u,p=>nl({name:p,pname:I3(p)}));return Gx(ON,fL,h,mL,c)}},hL=In([Au,Py,Mr("onShow",pe),Mr("onHide",pe),Wh]),pL=o=>({element:()=>o.element.dom}),V_=(o,i)=>{const c=yt(et(i),u=>{const h=i[u],p=ha((y=>rs("sidebar",hL,y))(h));return{name:u,getApi:pL,onSetup:p.onSetup,onShow:p.onShow,onHide:p.onHide}});return yt(c,u=>{const h=En(pe);return o.slot(u.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Fy([Kh(u,h),Hg(u,h),bt(Bc(),(p,y)=>{const S=y.event;X(c,O=>O.name===S.name).each(O=>{(S.visible?O.onShow:O.onHide)(O.getApi(p))})})])})})},DN=o=>rl.sketch(i=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:V_(i,o),slotBehaviours:Fy([Vr(c=>rl.hideAllSlots(c))])})),$_=(o,i)=>{tn(o,"role",i)},bL=o=>Ho.getCurrent(o).bind(i=>Sl.isGrowing(i)||Sl.hasGrown(i)?Ho.getCurrent(i).bind(c=>X(rl.getSlotNames(c),u=>rl.isShowing(c,u))):D.none()),B3=mn("FixSizeEvent"),M3=mn("AutoSizeEvent");var vL=Object.freeze({__proto__:null,block:(o,i,c,u)=>{tn(o.element,"aria-busy",!0);const h=i.getRoot(o).getOr(o),p=zt([kn.config({mode:"special",onTab:()=>D.some(!0),onShiftTab:()=>D.some(!0)}),jn.config({})]),y=u(h,p),S=h.getSystem().build(y);Fn.append(h,Ba(S)),S.hasConfigured(kn)&&i.focus&&kn.focusIn(S),c.isBlocked()||i.onBlock(o),c.blockWith(()=>Fn.remove(h,S))},unblock:(o,i,c)=>{mo(o.element,"aria-busy"),c.isBlocked()&&i.onUnblock(o),c.clear()},isBlocked:(o,i,c)=>c.isBlocked()}),xL=[Mr("getRoot",D.none),Ls("focus",!0),Lo("onBlock"),Lo("onUnblock")];const Bu=gi({fields:xL,name:"blocking",apis:vL,state:Object.freeze({__proto__:null,init:()=>{const o=Yl(i=>i.destroy());return mi({readState:o.isSet,blockWith:i=>{o.set({destroy:i})},clear:o.clear,isBlocked:o.isSet})}})}),P3=o=>Ho.getCurrent(o).each(i=>xa(i.element,!0)),RN=(o,i,c)=>{const u=En(!1),h=sr(),p=S=>{var k;u.get()&&(!(O=>O.type==="focusin")(k=S)||!(k.composed?en(k.composedPath()):D.from(k.target)).map(nn).filter(Ur).exists(O=>Ia(O,"mce-pastebin")))&&(S.preventDefault(),P3(i()),o.editorManager.setActive(o))};o.inline||o.on("PreInit",()=>{o.dom.bind(o.getWin(),"focusin",p),o.on("BeforeExecCommand",S=>{S.command.toLowerCase()==="mcefocus"&&S.value!==!0&&p(S)})});const y=S=>{S!==u.get()&&(u.set(S),((k,O,M,N)=>{const H=O.element;if(((K,G)=>{const re="tabindex",le=`data-mce-${re}`;D.from(K.iframeElement).map(nn).each(me=>{G?(No(me,re).each(ie=>tn(me,le,ie)),tn(me,re,-1)):(mo(me,re),No(me,le).each(ie=>{tn(me,re,ie),mo(me,le)}))})})(k,M),M)Bu.block(O,(K=>(G,re)=>({dom:{tag:"div",attributes:{"aria-label":K.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Am('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(N)),er(H,"display"),mo(H,"aria-hidden"),k.hasFocus()&&P3(O);else{const K=Ho.getCurrent(O).exists(G=>Eg(G.element));Bu.unblock(O),Jn(H,"display","none"),tn(H,"aria-hidden","true"),K&&k.focus()}})(o,i(),S,c.providers),((k,O)=>{k.dispatch("AfterProgressState",{state:O})})(o,S))};o.on("ProgressState",S=>{if(h.on(clearTimeout),ne(S.time)){const k=aC.setEditorTimeout(o,()=>y(S.state),S.time);h.set(k)}else y(S.state),h.clear()})},L3=(o,i,c)=>({within:o,extra:i,withinWidth:c}),F3=(o,i,c)=>{const u=Mn(o,(y,S)=>((k,O)=>{const M=c(k);return D.some({element:k,start:O,finish:O+M,width:M})})(S,y.len).fold(ae(y),k=>({len:k.finish,list:y.list.concat([k])})),{len:0,list:[]}).list,h=xo(u,y=>y.finish<=i),p=Sn(h,(y,S)=>y+S.width,0);return{within:h,extra:u.slice(h.length),withinWidth:p}},U_=o=>yt(o,i=>i.element),NN=(o,i)=>{const c=yt(i,u=>Ba(u));vd.setGroups(o,c)},IN=(o,i,c)=>{const u=i.builtGroups.get();if(u.length===0)return;const h=Bg(o,i,"primary"),p=ys.getCoupled(o,"overflowGroup");Jn(h.element,"visibility","hidden");const y=u.concat([p]),S=je(y,O=>Rs(O.element).bind(M=>O.getSystem().getByDom(M).toOptional()));c([]),NN(h,y);const k=((O,M,N,H)=>{const K=((me,ie,se)=>{const de=F3(ie,me,se);return de.extra.length===0?D.some(de):D.none()})(O,M,N).getOrThunk(()=>F3(M,O-N(H),N)),G=K.within,re=K.extra,le=K.withinWidth;return re.length===1&&re[0].width<=N(H)?((me,ie,se)=>{const de=U_(me.concat(ie));return L3(de,[],se)})(G,re,le):re.length>=1?((me,ie,se,de)=>{const ge=U_(me).concat([se]);return L3(ge,U_(ie),de)})(G,re,H,le):((me,ie,se)=>L3(U_(me),[],se))(G,0,le)})(ui(h.element),i.builtGroups.get(),O=>Math.ceil(O.element.dom.getBoundingClientRect().width),p);k.extra.length===0?(Fn.remove(h,p),c([])):(NN(h,k.within),c(k.extra)),er(h.element,"visibility"),su(h.element),S.each(jn.focus)},BN=ae([gn("splitToolbarBehaviours",[ys]),Ci("builtGroups",()=>En([]))]),yL=ae([vg(["overflowToggledClass"]),Rc("getOverflowBounds"),kt("lazySink"),Ci("overflowGroups",()=>En([])),Lo("onOpened"),Lo("onClosed")].concat(BN())),wL=ae([nl({factory:vd,schema:s1(),name:"primary"}),ud({schema:s1(),name:"overflow"}),ud({name:"overflow-button"}),ud({name:"overflow-group"})]),z3=ae((o,i)=>{((c,u)=>{const h=tg.max(c,u,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);Jn(c,"max-width",h+"px")})(o,Math.floor(i))}),CL=ae([vg(["toggledClass"]),kt("lazySink"),pa("fetch"),Rc("getBounds"),ds("fireDismissalEventInstead",[Xe("event",dg())]),nf(),Lo("onToggled")]),_L=ae([ud({name:"button",overrides:o=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:zt([$n.config({toggleClass:o.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:o.onToggled})])})}),ud({factory:vd,schema:s1(),name:"toolbar",overrides:o=>({toolbarBehaviours:zt([kn.config({mode:"cyclic",onEscape:i=>(Or(i,o,"button").each(jn.focus),D.none())})])})})]),Z_=sr(),i0=(o,i)=>{const c=ys.getCoupled(o,"toolbarSandbox");T.isOpen(c)?T.close(c):T.open(c,i.toolbar())},f2=(o,i,c,u)=>{const h=c.getBounds.map(y=>y()),p=c.lazySink(o).getOrDie();Ki.positionWithinBounds(p,i,{anchor:{type:"hotspot",hotspot:o,layouts:u,overrides:{maxWidthFunction:z3()}}},h)},W_=(o,i,c,u,h)=>{vd.setGroups(i,h),f2(o,i,c,u),$n.on(o)},qg=gl({name:"FloatingToolbarButton",factory:(o,i,c,u)=>({...Ca.sketch({...u.button(),action:h=>{i0(h,u)},buttonBehaviours:Vn({dump:u.button().buttonBehaviours},[ys.config({others:{toolbarSandbox:h=>((p,y,S)=>{const k=Cg();return{dom:{tag:"div",attributes:{id:k.id}},behaviours:zt([kn.config({mode:"special",onEscape:O=>(T.close(O),D.some(!0))}),T.config({onOpen:(O,M)=>{const N=Z_.get().getOr(!1);S.fetch().get(H=>{W_(p,M,S,y.layouts,H),k.link(p.element),N||kn.focusIn(M)})},onClose:()=>{$n.off(p),Z_.get().getOr(!1)||jn.focus(p),k.unlink(p.element)},isPartOf:(O,M,N)=>Qa(M,N)||Qa(p,N),getAttachPoint:()=>S.lazySink(p).getOrDie()}),el.config({channels:{...te({isExtraPart:Se,...S.fireDismissalEventInstead.map(O=>({fireEventInstead:{event:O.event}})).getOr({})}),...Ae({doReposition:()=>{T.getState(ys.getCoupled(p,"toolbarSandbox")).each(O=>{f2(p,O,S,y.layouts)})}})}})])}})(h,c,o)}})])}),apis:{setGroups:(h,p)=>{T.getState(ys.getCoupled(h,"toolbarSandbox")).each(y=>{W_(h,y,o,c.layouts,p)})},reposition:h=>{T.getState(ys.getCoupled(h,"toolbarSandbox")).each(p=>{f2(h,p,o,c.layouts)})},toggle:h=>{i0(h,u)},toggleWithoutFocusing:h=>{((p,y)=>{Z_.set(!0),i0(p,y),Z_.clear()})(h,u)},getToolbar:h=>T.getState(ys.getCoupled(h,"toolbarSandbox")),isOpen:h=>T.isOpen(ys.getCoupled(h,"toolbarSandbox"))}}),configFields:CL(),partFields:_L(),apis:{setGroups:(o,i,c)=>{o.setGroups(i,c)},reposition:(o,i)=>{o.reposition(i)},toggle:(o,i)=>{o.toggle(i)},toggleWithoutFocusing:(o,i)=>{o.toggleWithoutFocusing(i)},getToolbar:(o,i)=>o.getToolbar(i),isOpen:(o,i)=>o.isOpen(i)}}),SL=ae([kt("items"),vg(["itemSelector"]),gn("tgroupBehaviours",[kn])]),kL=ae([jw({name:"items",unit:"item"})]),a0=gl({name:"ToolbarGroup",configFields:SL(),partFields:kL(),factory:(o,i,c,u)=>({uid:o.uid,dom:o.dom,components:i,behaviours:co(o.tgroupBehaviours,[kn.config({mode:"flow",selector:o.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),j_=o=>yt(o,i=>Ba(i)),m2=(o,i,c)=>{IN(o,c,u=>{c.overflowGroups.set(u),i.getOpt(o).each(h=>{qg.setGroups(h,j_(u))})})},H3=gl({name:"SplitFloatingToolbar",configFields:yL(),partFields:wL(),factory:(o,i,c,u)=>{const h=tr(qg.sketch({fetch:()=>qh(p=>{p(j_(o.overflowGroups.get()))}),layouts:{onLtr:()=>[hs,gs],onRtl:()=>[gs,hs],onBottomLtr:()=>[mr,Fs],onBottomRtl:()=>[Fs,mr]},getBounds:c.getOverflowBounds,lazySink:o.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:o.markers.overflowToggledClass},parts:{button:u["overflow-button"](),toolbar:u.overflow()},onToggled:(p,y)=>o[y?"onOpened":"onClosed"](p)}));return{uid:o.uid,dom:o.dom,components:i,behaviours:co(o.splitToolbarBehaviours,[ys.config({others:{overflowGroup:()=>a0.sketch({...u["overflow-group"](),items:[h.asSpec()]})}})]),apis:{setGroups:(p,y)=>{o.builtGroups.set(yt(y,p.getSystem().build)),m2(p,h,o)},refresh:p=>m2(p,h,o),toggle:p=>{h.getOpt(p).each(y=>{qg.toggle(y)})},toggleWithoutFocusing:p=>{h.getOpt(p).each(qg.toggleWithoutFocusing)},isOpen:p=>h.getOpt(p).map(qg.isOpen).getOr(!1),reposition:p=>{h.getOpt(p).each(y=>{qg.reposition(y)})},getOverflow:p=>h.getOpt(p).bind(qg.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,i,c)=>{o.setGroups(i,c)},refresh:(o,i)=>{o.refresh(i)},reposition:(o,i)=>{o.reposition(i)},toggle:(o,i)=>{o.toggle(i)},toggleWithoutFocusing:(o,i)=>{o.toggle(i)},isOpen:(o,i)=>o.isOpen(i),getOverflow:(o,i)=>o.getOverflow(i)}}),AL=ae([vg(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Lo("onOpened"),Lo("onClosed")].concat(BN())),EL=ae([nl({factory:vd,schema:s1(),name:"primary"}),nl({factory:vd,schema:s1(),name:"overflow",overrides:o=>({toolbarBehaviours:zt([Sl.config({dimension:{property:"height"},closedClass:o.markers.closedClass,openClass:o.markers.openClass,shrinkingClass:o.markers.shrinkingClass,growingClass:o.markers.growingClass,onShrunk:i=>{Or(i,o,"overflow-button").each(c=>{$n.off(c)}),o.onClosed(i)},onGrown:i=>{o.onOpened(i)},onStartGrow:i=>{Or(i,o,"overflow-button").each($n.on)}}),kn.config({mode:"acyclic",onEscape:i=>(Or(i,o,"overflow-button").each(jn.focus),D.some(!0))})])})}),ud({name:"overflow-button",overrides:o=>({buttonBehaviours:zt([$n.config({toggleClass:o.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),ud({name:"overflow-group"})]),V3=(o,i,c)=>{Or(o,i,"overflow-button").each(u=>{Or(o,i,"overflow").each(h=>{if($3(o,i),Sl.hasShrunk(h)){const p=i.onOpened;i.onOpened=y=>{c||kn.focusIn(h),p(y),i.onOpened=p}}else{const p=i.onClosed;i.onClosed=y=>{c||jn.focus(u),p(y),i.onClosed=p}}Sl.toggleGrow(h)})})},$3=(o,i)=>{Or(o,i,"overflow").each(c=>{IN(o,i,u=>{const h=yt(u,p=>Ba(p));vd.setGroups(c,h)}),Or(o,i,"overflow-button").each(u=>{Sl.hasGrown(c)&&$n.on(u)}),Sl.refresh(c)})},U3=gl({name:"SplitSlidingToolbar",configFields:AL(),partFields:EL(),factory:(o,i,c,u)=>{const h="alloy.toolbar.toggle";return{uid:o.uid,dom:o.dom,components:i,behaviours:co(o.splitToolbarBehaviours,[ys.config({others:{overflowGroup:p=>a0.sketch({...u["overflow-group"](),items:[Ca.sketch({...u["overflow-button"](),action:y=>{ho(p,h)}})]})}}),uo("toolbar-toggle-events",[bt(h,p=>{V3(p,o,!1)})])]),apis:{setGroups:(p,y)=>{((S,k)=>{const O=yt(k,S.getSystem().build);o.builtGroups.set(O)})(p,y),$3(p,o)},refresh:p=>$3(p,o),toggle:p=>{V3(p,o,!1)},toggleWithoutFocusing:p=>{V3(p,o,!0)},isOpen:p=>((y,S)=>Or(y,S,"overflow").map(Sl.hasGrown).getOr(!1))(p,o)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,i,c)=>{o.setGroups(i,c)},refresh:(o,i)=>{o.refresh(i)},toggle:(o,i)=>{o.toggle(i)},isOpen:(o,i)=>o.isOpen(i)}}),MN=o=>{const i=o.title.fold(()=>({}),c=>({attributes:{title:c}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...i},components:[a0.parts.items({})],items:o.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:zt([Sr.config({}),jn.config({})])}},K_=o=>a0.sketch(MN(o)),PN=(o,i)=>{const c=Vr(u=>{const h=yt(o.initGroups,K_);vd.setGroups(u,h)});return zt([LC(o.providers.isDisabled),hi(),kn.config({mode:i,onEscape:o.onEscape,selector:".tox-toolbar__group"}),uo("toolbar-events",[c])])},LN=o=>{const i=o.cyclicKeying?"cyclic":"acyclic";return{uid:o.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":MN({title:D.none(),items:[]}),"overflow-button":YR({name:"more",icon:D.some("more-drawer"),enabled:!0,tooltip:D.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:D.none(),borderless:!1},D.none(),o.providers,[],"overflow-button")},splitToolbarBehaviours:PN(o,i)}},TL=o=>{const i=LN(o),c=H3.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return H3.sketch({...i,lazySink:o.getSink,getOverflowBounds:()=>{const u=o.moreDrawerData.lazyHeader().element,h=Ya(u),p=Ea(u),y=Ya(p),S=Math.max(p.dom.scrollHeight,y.height);return bo(h.x+4,y.y,h.width-8,S)},parts:{...i.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o.attributes}}},components:[c],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:u=>o.onToggled(u,!0),onClosed:u=>o.onToggled(u,!1)})},OL=o=>{const i=U3.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),c=U3.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),u=LN(o);return U3.sketch({...u,components:[i,c],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:h=>{h.getSystem().broadcastOn([z_()],{type:"opened"}),o.onToggled(h,!0)},onClosed:h=>{h.getSystem().broadcastOn([z_()],{type:"closed"}),o.onToggled(h,!1)}})},Z3=o=>{const i=o.cyclicKeying?"cyclic":"acyclic";return vd.sketch({uid:o.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(o.type===_u.scrolling?["tox-toolbar--scrolling"]:[])},components:[vd.parts.groups({})],toolbarBehaviours:PN(o,i)})},FN=[jh,Au,vs("tooltip"),Ql("buttonType","secondary",["primary","secondary"]),Ls("borderless",!1),pa("onAction")],W3={button:[...FN,ku,gu("type",["button"])],togglebutton:[...FN,Ls("active",!1),gu("type",["togglebutton"])]},DL=[gu("type",["group"]),lr("buttons",[],qs("type",W3))],RL=qs("type",{...W3,group:DL}),Hm=In([lr("buttons",[],RL),pa("onShow"),pa("onHide")]),zN=(o,i)=>((c,u)=>{var h,p;const y=c.type==="togglebutton",S=c.icon.map(ie=>op(ie,u.icons)).map(tr),k={...c,name:y?c.text.getOr(c.icon.getOr("")):(h=c.text)!==null&&h!==void 0?h:c.icon.getOr(""),primary:c.buttonType==="primary",buttonType:D.from(c.buttonType),tooltip:c.tooltip,icon:c.icon,enabled:!0,borderless:c.borderless},O=i3((p=c.buttonType)!==null&&p!==void 0?p:"secondary"),M=y?c.text.map(u.translate):D.some(u.translate(c.text)),N=M.map(xs),H=k.tooltip.or(M).map(ie=>({"aria-label":u.translate(ie)})).getOr({}),K=S.map(ie=>ie.asSpec()),G=Uv([K,N]),re=c.icon.isSome()&&N.isSome(),le={tag:"button",classes:O.concat(...c.icon.isSome()&&!re?["tox-button--icon"]:[]).concat(...re?["tox-button--icon-and-text"]:[]).concat(...c.borderless?["tox-button--naked"]:[]).concat(...c.type==="togglebutton"&&c.active?["tox-button--enabled"]:[]),attributes:H},me=i2(k,D.some(ie=>{const se=de=>{S.map(ge=>ge.getOpt(ie).each(be=>{Fn.set(be,[op(de,u.icons)])}))};return y?c.onAction({setIcon:se,setActive:de=>{const ge=ie.element;de?(as(ge,"tox-button--enabled"),tn(ge,"aria-pressed",!0)):(ms(ge,"tox-button--enabled"),mo(ge,"aria-pressed"))},isActive:()=>Ia(ie.element,"tox-button--enabled")}):c.type==="button"?c.onAction({setIcon:se}):void 0}),[],le,G,c.tooltip,u);return Ca.sketch(me)})(o,i),HN=Fi().deviceType,j3=HN.isPhone(),Yi=HN.isTablet();var l0=gl({name:"silver.View",configFields:[kt("viewConfig")],partFields:[$c({factory:{sketch:o=>{let i=!1;const c=yt(o.buttons,u=>u.type==="group"?(i=!0,((h,p)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:yt(h.buttons,y=>zN(y,p))}))(u,o.providers)):zN(u,o.providers));return{uid:o.uid,dom:{tag:"div",classes:[i?"tox-view__toolbar":"tox-view__header",...j3||Yi?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:zt([jn.config({}),kn.config({mode:"flow",selector:"button, .tox-button",focusInside:Ob.OnEnterOrSpaceMode})]),components:i?c:[gd.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),gd.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:c})]}}},schema:[kt("buttons"),kt("providers")],name:"header"}),$c({factory:{sketch:o=>({uid:o.uid,behaviours:zt([jn.config({}),Sr.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(o,i,c,u)=>{const h={getPane:p=>Gi.getPart(p,o,"pane"),getOnShow:p=>o.viewConfig.onShow,getOnHide:p=>o.viewConfig.onHide};return{uid:o.uid,dom:o.dom,components:i,behaviours:zt([jn.config({}),kn.config({mode:"cyclic",focusInside:Ob.OnEnterOrSpaceMode})]),apis:h}},apis:{getPane:(o,i)=>o.getPane(i),getOnShow:(o,i)=>o.getOnShow(i),getOnHide:(o,i)=>o.getOnHide(i)}});const NL=(o,i,c)=>Ko(i,(u,h)=>{const p=ha(rs("view",Hm,u));return o.slot(h,l0.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:p,components:[...p.buttons.length>0?[l0.parts.header({buttons:p.buttons,providers:c})]:[],l0.parts.pane({})]}))}),IL=(o,i)=>rl.sketch(c=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:NL(c,o,i),slotBehaviours:Fy([Vr(u=>rl.hideAllSlots(u))])})),VN=o=>X(rl.getSlotNames(o),i=>rl.isShowing(o,i)),$N=(o,i,c)=>{rl.getSlot(o,i).each(u=>{l0.getPane(u).each(h=>{var p;c(u)((p=h.element.dom,{getContainer:ae(p)}))})})};var q_=Uc({factory:(o,i)=>{const c={setViews:(u,h)=>{Fn.set(u,[IL(h,i.backstage.shared.providers)])},whichView:u=>Ho.getCurrent(u).bind(VN),toggleView:(u,h,p,y)=>Ho.getCurrent(u).exists(S=>{const k=VN(S),O=k.exists(N=>y===N),M=rl.getSlot(S,y).isSome();return M&&(rl.hideAllSlots(S),O?((N=>{const H=N.element;Jn(H,"display","none"),tn(H,"aria-hidden","true")})(u),h()):(p(),(N=>{const H=N.element;er(H,"display"),mo(H,"aria-hidden")})(u),rl.showSlot(S,y),((N,H)=>{$N(N,H,l0.getOnShow)})(S,y)),k.each(N=>((H,K)=>$N(H,K,l0.getOnHide))(S,N))),M})};return{uid:o.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:zt([Fn.config({}),Ho.config({find:u=>{const h=Fn.contents(u);return en(h)}})]),apis:c}},name:"silver.ViewWrapper",configFields:[kt("backstage")],apis:{setViews:(o,i,c)=>o.setViews(i,c),toggleView:(o,i,c,u,h)=>o.toggleView(i,c,u,h),whichView:(o,i)=>o.whichView(i)}});const BL=Fm.optional({factory:N3,name:"menubar",schema:[kt("backstage")]}),ML=Fm.optional({factory:{sketch:o=>E3.sketch({uid:o.uid,dom:o.dom,listBehaviours:zt([kn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>Z3({type:o.type,uid:mn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:o.providers,onEscape:()=>(o.onEscape(),D.some(!0))}),setupItem:(i,c,u,h)=>{vd.setGroups(c,u)},shell:!0})},name:"multiple-toolbar",schema:[kt("dom"),kt("onEscape")]}),PL=Fm.optional({factory:{sketch:o=>(c=>c.type===_u.sliding?OL:c.type===_u.floating?TL:Z3)(o)({type:o.type,uid:o.uid,onEscape:()=>(o.onEscape(),D.some(!0)),onToggled:(c,u)=>o.onToolbarToggled(u),cyclicKeying:!1,initGroups:[],getSink:o.getSink,providers:o.providers,moreDrawerData:{lazyToolbar:o.lazyToolbar,lazyMoreButton:o.lazyMoreButton,lazyHeader:o.lazyHeader},attributes:o.attributes})},name:"toolbar",schema:[kt("dom"),kt("onEscape"),kt("getSink")]}),LL=Fm.optional({factory:{sketch:o=>{const i=o.editor,c=o.sticky?AN:F_;return{uid:o.uid,dom:o.dom,components:o.components,behaviours:zt(c(i,o.sharedBackstage))}}},name:"header",schema:[kt("dom")]}),FL=Fm.optional({factory:{sketch:o=>({uid:o.uid,dom:o.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"Upgrade"}}]})},name:"promotion",schema:[kt("dom")]}),zL=Fm.optional({name:"socket",schema:[kt("dom")]}),HL=Fm.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:zt([Sr.config({}),jn.config({}),Sl.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:i=>{Ho.getCurrent(i).each(rl.hideAllSlots),ho(i,M3)},onGrown:i=>{ho(i,M3)},onStartGrow:i=>{Cn(i,B3,{width:_s(i.element,"width").getOr("")})},onStartShrink:i=>{Cn(i,B3,{width:ui(i.element)+"px"})}}),Fn.config({}),Ho.config({find:i=>{const c=Fn.contents(i);return en(c)}})])}],behaviours:zt([OE(0),uo("sidebar-sliding-events",[bt(B3,(i,c)=>{Jn(i.element,"width",c.event.width)}),bt(M3,(i,c)=>{er(i.element,"width")})])])})},name:"sidebar",schema:[kt("dom")]}),VL=Fm.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:zt([Fn.config({}),Bu.config({focus:!1}),Ho.config({find:i=>en(i.components())})]),components:[]})},name:"throbber",schema:[kt("dom")]}),$L=Fm.optional({factory:q_,name:"viewWrapper",schema:[kt("backstage")]}),UL=Fm.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:o.components})},name:"editorContainer",schema:[]});var Pr=gl({name:"OuterContainer",factory:(o,i,c)=>{let u=!1;const h=y=>{Tr(y,".tox-statusbar").each(S=>{os(S,"display")==="none"&&_o(S,"aria-hidden")==="true"?(er(S,"display"),mo(S,"aria-hidden")):(Jn(S,"display","none"),tn(S,"aria-hidden","true"))})},p={getSocket:y=>Gi.getPart(y,o,"socket"),setSidebar:(y,S,k)=>{Gi.getPart(y,o,"sidebar").each(O=>((M,N,H)=>{Ho.getCurrent(M).each(K=>{Fn.set(K,[DN(N)]);const G=H==null?void 0:H.toLowerCase();v(G)&&ao(N,G)&&Ho.getCurrent(K).each(re=>{rl.showSlot(re,G),Sl.immediateGrow(K),er(K.element,"width"),$_(M.element,"region")})})})(O,S,k))},toggleSidebar:(y,S)=>{Gi.getPart(y,o,"sidebar").each(k=>((O,M)=>{Ho.getCurrent(O).each(N=>{Ho.getCurrent(N).each(H=>{Sl.hasGrown(N)?rl.isShowing(H,M)?(Sl.shrink(N),$_(O.element,"presentation")):(rl.hideAllSlots(H),rl.showSlot(H,M),$_(O.element,"region")):(rl.hideAllSlots(H),rl.showSlot(H,M),Sl.grow(N),$_(O.element,"region"))})})})(k,S))},whichSidebar:y=>Gi.getPart(y,o,"sidebar").bind(bL).getOrNull(),getHeader:y=>Gi.getPart(y,o,"header"),getToolbar:y=>Gi.getPart(y,o,"toolbar"),setToolbar:(y,S)=>{Gi.getPart(y,o,"toolbar").each(k=>{const O=yt(S,K_);k.getApis().setGroups(k,O)})},setToolbars:(y,S)=>{Gi.getPart(y,o,"multiple-toolbar").each(k=>{const O=yt(S,M=>yt(M,K_));E3.setItems(k,O)})},refreshToolbar:y=>{Gi.getPart(y,o,"toolbar").each(S=>S.getApis().refresh(S))},toggleToolbarDrawer:y=>{Gi.getPart(y,o,"toolbar").each(S=>{Ks(S.getApis().toggle,k=>k(S))})},toggleToolbarDrawerWithoutFocusing:y=>{Gi.getPart(y,o,"toolbar").each(S=>{Ks(S.getApis().toggleWithoutFocusing,k=>k(S))})},isToolbarDrawerToggled:y=>Gi.getPart(y,o,"toolbar").bind(S=>D.from(S.getApis().isOpen).map(k=>k(S))).getOr(!1),getThrobber:y=>Gi.getPart(y,o,"throbber"),focusToolbar:y=>{Gi.getPart(y,o,"toolbar").orThunk(()=>Gi.getPart(y,o,"multiple-toolbar")).each(S=>{kn.focusIn(S)})},setMenubar:(y,S)=>{Gi.getPart(y,o,"menubar").each(k=>{N3.setMenus(k,S)})},focusMenubar:y=>{Gi.getPart(y,o,"menubar").each(S=>{N3.focus(S)})},setViews:(y,S)=>{Gi.getPart(y,o,"viewWrapper").each(k=>{q_.setViews(k,S)})},toggleView:(y,S)=>Gi.getPart(y,o,"viewWrapper").exists(k=>q_.toggleView(k,()=>p.showMainView(y),()=>p.hideMainView(y),S)),whichView:y=>Gi.getPart(y,o,"viewWrapper").bind(q_.whichView).getOrNull(),hideMainView:y=>{u=p.isToolbarDrawerToggled(y),u&&p.toggleToolbarDrawer(y),Gi.getPart(y,o,"editorContainer").each(S=>{const k=S.element;h(k),Jn(k,"display","none"),tn(k,"aria-hidden","true")})},showMainView:y=>{u&&p.toggleToolbarDrawer(y),Gi.getPart(y,o,"editorContainer").each(S=>{const k=S.element;h(k),er(k,"display"),mo(k,"aria-hidden")})}};return{uid:o.uid,dom:o.dom,components:i,apis:p,behaviours:o.behaviours}},configFields:[kt("dom"),kt("behaviours")],partFields:[LL,BL,PL,ML,zL,HL,FL,VL,$L,UL],apis:{getSocket:(o,i)=>o.getSocket(i),setSidebar:(o,i,c,u)=>{o.setSidebar(i,c,u)},toggleSidebar:(o,i,c)=>{o.toggleSidebar(i,c)},whichSidebar:(o,i)=>o.whichSidebar(i),getHeader:(o,i)=>o.getHeader(i),getToolbar:(o,i)=>o.getToolbar(i),setToolbar:(o,i,c)=>{o.setToolbar(i,c)},setToolbars:(o,i,c)=>{o.setToolbars(i,c)},refreshToolbar:(o,i)=>o.refreshToolbar(i),toggleToolbarDrawer:(o,i)=>{o.toggleToolbarDrawer(i)},toggleToolbarDrawerWithoutFocusing:(o,i)=>{o.toggleToolbarDrawerWithoutFocusing(i)},isToolbarDrawerToggled:(o,i)=>o.isToolbarDrawerToggled(i),getThrobber:(o,i)=>o.getThrobber(i),setMenubar:(o,i,c)=>{o.setMenubar(i,c)},focusMenubar:(o,i)=>{o.focusMenubar(i)},focusToolbar:(o,i)=>{o.focusToolbar(i)},setViews:(o,i,c)=>{o.setViews(i,c)},toggleView:(o,i,c)=>o.toggleView(i,c),whichView:(o,i)=>o.whichView(i)}});const UN={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},K3=o=>o.split(" "),ZN=(o,i)=>{const c={...UN,...i.menus},u=et(i.menus).length>0,h=i.menubar===void 0||i.menubar===!0?K3("file edit view insert format tools table help"):K3(i.menubar===!1?"":i.menubar),p=xo(h,S=>{const k=ao(UN,S);return u?k||jt(i.menus,S).exists(O=>ao(O,"items")):k}),y=yt(p,S=>{const k=c[S];return((O,M,N)=>{const H=l5(N).split(/[ ,]/);return{text:O.title,getItems:()=>jo(O.items,K=>{const G=K.toLowerCase();return G.trim().length===0||Un(H,re=>re===G)?[]:G==="separator"||G==="|"?[{type:"separator"}]:M.menuItems[G]?[M.menuItems[G]]:[]})}})({title:k.title,items:K3(k.items)},i,o)});return xo(y,S=>S.getItems().length>0&&Un(S.getItems(),k=>v(k)||k.type!=="separator"))},WN=(o,i,c)=>(o.on("remove",()=>c.unload(i)),c.load(i)),q3=(o,i,c,u)=>(o.on("remove",()=>u.unloadRawCss(i)),u.loadRawCss(i,c)),ZL=async(o,i)=>{const c="ui/"+pC(o).getOr("default")+"/skin.css",u=tinymce.Resource.get(c);if(!v(u)){const h=o.editorManager.suffix;return WN(o,i+`/skin${h}.css`,o.ui.styleSheetLoader)}q3(o,c,u,o.ui.styleSheetLoader)},WL=async(o,i)=>{var c;if(c=nn(o.getElement()),Ft(c).isSome()){const u="ui/"+pC(o).getOr("default")+"/skin.shadowdom.css",h=tinymce.Resource.get(u);if(!v(h)){const p=o.editorManager.suffix;return WN(o,i+`/skin.shadowdom${p}.css`,Bv.DOM.styleSheetLoader)}q3(o,u,h,Bv.DOM.styleSheetLoader)}},jN=(o,i)=>(async(c,u)=>{const h=()=>{const y=hC(u),S=u.editorManager.suffix;y&&u.contentCSS.push(y+(c?"/content.inline":"/content")+`${S}.css`)};pC(u).fold(h,y=>{const S="ui/"+y+(c?"/content.inline":"/content")+".css",k=tinymce.Resource.get(S);v(k)?q3(u,S,k,u.ui.styleSheetLoader):h()});const p=hC(u);if(!Fh(u)&&v(p))return Promise.all([ZL(u,p),WL(u,p)]).then()})(o,i).then((c=>{const u=()=>{c._skinLoaded=!0,(h=>{h.dispatch("SkinLoaded")})(c)};return()=>{c.initialized?u():c.on("init",u)}})(i),((c,u)=>()=>((h,p)=>{h.dispatch("SkinLoadError",p)})(c,{message:"Skin could not be loaded"}))(i)),KN=Je(jN,!1),jL=Je(jN,!0),i1=(o,i,c)=>nu(c)?o.translate(i):o.translate([i,o.translate(c)]),KL=(o,i)=>{const c=(p,y,S,k)=>{const O=o.shared.providers.translate(p.title);if(p.type==="separator")return D.some({type:"separator",text:O});if(p.type==="submenu"){const M=jo(p.getStyleItems(),N=>u(N,y,k));return y===0&&M.length<=0?D.none():D.some({type:"nestedmenuitem",text:O,enabled:M.length>0,getSubmenuItems:()=>jo(p.getStyleItems(),N=>u(N,y,k))})}return D.some({type:"togglemenuitem",text:O,icon:p.icon,active:p.isSelected(k),enabled:!S,onAction:i.onAction(p),...p.getStylePreview().fold(()=>({}),M=>({meta:{style:M}}))})},u=(p,y,S)=>{const k=p.type==="formatter"&&i.isInvalid(p);return y===0?k?[]:c(p,y,!1,S).toArray():c(p,y,k,S).toArray()},h=p=>{const y=i.getCurrentValue(),S=i.shouldHide?0:1;return jo(p,k=>u(k,S,y))};return{validateItems:h,getFetch:(p,y)=>(S,k)=>{const O=y(),M=h(O);k(o1(M,xf.CLOSE_ON_EXECUTE,p,{isHorizontalMenu:!1,search:D.none()}))}}},c0=(o,i)=>{const c=i.dataset,u=c.type==="basic"?()=>yt(c.data,h=>fN(h,i.isSelectedFor,i.getPreviewFor)):c.getData;return{items:KL(o,i),getStyleItems:u}},g2=(o,i,c,u,h,p)=>{const{items:y,getStyleItems:S}=c0(i,c),k=En(c.tooltip);return KE({text:c.icon.isSome()?D.none():c.text,icon:c.icon,ariaLabel:D.some(c.tooltip),tooltip:D.none(),role:D.none(),fetch:y.getFetch(i,S),onSetup:O=>{const M=N=>O.setTooltip(i1(o,u(N.value),N.value));return o.on(h,M),Kv(Gb(o,"NodeChange",N=>{const H=N.getComponent();c.updateText(H),qn.set(N.getComponent(),!o.selection.isEditable())})(O),()=>o.off(h,M))},getApi:O=>({getComponent:ae(O),setTooltip:M=>{const N=i.shared.providers.translate(M);tn(O.element,"aria-label",N),k.set(M)}}),columns:1,presets:"normal",classes:c.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Hs.config({...i.shared.providers.tooltips.getConfig({tooltipText:i.shared.providers.translate(c.tooltip),onShow:O=>{if(c.tooltip!==k.get()){const M=i.shared.providers.translate(k.get());Hs.setComponents(O,i.shared.providers.tooltips.getComponents({tooltipText:M}))}}})})]},"tox-tbtn",i.shared,p)};var a1;(function(o){o[o.SemiColon=0]="SemiColon",o[o.Space=1]="Space"})(a1||(a1={}));const G3=(o,i,c)=>{const u=(h=((p,y)=>y===a1.SemiColon?p.replace(/;$/,"").split(";"):p.split(" "))(o.options.get(i),c),yt(h,p=>{let y=p,S=p;const k=p.split("=");return k.length>1&&(y=k[0],S=k[1]),{title:y,format:S}}));var h;return{type:"basic",data:u}},qN=ae("Alignment {0}"),GN="left",Y3=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],X3=o=>{const i={type:"basic",data:Y3};return{tooltip:i1(o,qN(),GN),text:D.none(),icon:D.some("align-left"),isSelectedFor:c=>()=>o.formatter.match(c),getCurrentValue:D.none,getPreviewFor:c=>D.none,onAction:c=>()=>X(Y3,u=>u.format===c.format).each(u=>o.execCommand(u.command)),updateText:c=>{const u=X(Y3,h=>o.formatter.match(h.format)).fold(ae(GN),h=>h.title.toLowerCase());Cn(c,Ru,{icon:`align-${u}`}),((h,p)=>{h.dispatch("AlignTextUpdate",p)})(o,{value:u})},dataset:i,shouldHide:!1,isInvalid:c=>!o.formatter.canApply(c.format)}},YN=(o,i)=>{const c=i(),u=yt(c,h=>h.format);return D.from(o.formatter.closest(u)).bind(h=>X(c,p=>p.format===h))},J3=ae("Block {0}"),Q3="Paragraph",e4=o=>{const i=G3(o,"block_formats",a1.SemiColon);return{tooltip:i1(o,J3(),Q3),text:D.some(Q3),icon:D.none(),isSelectedFor:c=>()=>o.formatter.match(c),getCurrentValue:D.none,getPreviewFor:c=>()=>{const u=o.formatter.get(c);return u?D.some({tag:u.length>0&&(u[0].inline||u[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(c))}):D.none()},onAction:kD(o),updateText:c=>{const u=YN(o,()=>i.data).fold(ae(Q3),h=>h.title);Cn(c,Gc,{text:u}),((h,p)=>{h.dispatch("BlocksTextUpdate",p)})(o,{value:u})},dataset:i,shouldHide:!1,isInvalid:c=>!o.formatter.canApply(c.format)}},XN=ae("Font {0}"),t4="System Font",qL=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],JN=o=>{const i=o.split(/\s*,\s*/);return yt(i,c=>c.replace(/^['"]+|['"]+$/g,""))},QN=(o,i)=>i.length>0&&Qi(i,c=>o.indexOf(c.toLowerCase())>-1),e6=o=>{const i=()=>{const u=O=>O?JN(O)[0]:"",h=o.queryCommandValue("FontName"),p=c.data,y=h?h.toLowerCase():"",S=gC(o);return{matchOpt:X(p,O=>{const M=O.format;return M.toLowerCase()===y||u(M).toLowerCase()===u(y).toLowerCase()}).orThunk(()=>$o(((O,M)=>{if(O.indexOf("-apple-system")===0||M.length>0){const N=JN(O.toLowerCase());return QN(N,qL)||QN(N,M)}return!1})(y,S),{title:t4,format:y})),font:h}},c=G3(o,"font_family_formats",a1.SemiColon);return{tooltip:i1(o,XN(),t4),text:D.some(t4),icon:D.none(),isSelectedFor:u=>h=>h.exists(p=>p.format===u),getCurrentValue:()=>{const{matchOpt:u}=i();return u},getPreviewFor:u=>()=>D.some({tag:"div",styles:u.indexOf("dings")===-1?{"font-family":u}:{}}),onAction:u=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontName",!1,u.format)})},updateText:u=>{const{matchOpt:h,font:p}=i(),y=h.fold(ae(p),S=>S.title);Cn(u,Gc,{text:y}),((S,k)=>{S.dispatch("FontFamilyTextUpdate",k)})(o,{value:y})},dataset:c,shouldHide:!1,isInvalid:Se}},GL={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},YL=(()=>{const o="[0-9]+",i="[eE][+-]?"+o,c=h=>`(?:${h})?`,u=["Infinity",o+"\\."+c(o)+c(i),"\\."+o+c(i),o+c(i)].join("|");return new RegExp(`^([+-]?(?:${u}))(.*)$`)})(),G_=(o,i)=>D.from(YL.exec(o)).bind(c=>{const u=Number(c[1]),h=c[2];return((p,y)=>Un(y,S=>Un(GL[S],k=>p===k)))(h,i)?D.some({value:u,unit:h}):D.none()}),t6={tab:ae(9),escape:ae(27),enter:ae(13),backspace:ae(8),delete:ae(46),left:ae(37),up:ae(38),right:ae(39),down:ae(40),space:ae(32),home:ae(36),end:ae(35),pageUp:ae(33),pageDown:ae(34)},n6=ae("Font size {0}"),o6="12pt",XL={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},r6={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},JL=(o,i)=>/[0-9.]+px$/.test(o)?((c,u)=>{const h=Math.pow(10,u);return Math.round(c*h)/h})(72*parseInt(o,10)/96,i||0)+"pt":jt(r6,o).getOr(o),QL=o=>jt(XL,o).getOr(""),s6=o=>{const i=()=>{let h=D.none();const p=u.data,y=o.queryCommandValue("FontSize");if(y)for(let S=3;h.isNone()&&S>=0;S--){const k=JL(y,S),O=QL(k);h=X(p,M=>M.format===y||M.format===k||M.format===O)}return{matchOpt:h,size:y}},c=ae(D.none),u=G3(o,"font_size_formats",a1.Space);return{tooltip:i1(o,n6(),o6),text:D.some(o6),icon:D.none(),isSelectedFor:h=>p=>p.exists(y=>y.format===h),getPreviewFor:c,getCurrentValue:()=>{const{matchOpt:h}=i();return h},onAction:h=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontSize",!1,h.format)})},updateText:h=>{const{matchOpt:p,size:y}=i(),S=p.fold(ae(y),k=>k.title);Cn(h,Gc,{text:S}),((k,O)=>{k.dispatch("FontSizeTextUpdate",O)})(o,{value:S})},dataset:u,shouldHide:!1,isInvalid:Se}},i6=o=>nu(o)?"Formats":"Format {0}",a6=(o,i)=>{const c="Formats";return{tooltip:i1(o,i6(""),""),text:D.some(c),icon:D.none(),isSelectedFor:u=>()=>o.formatter.match(u),getCurrentValue:D.none,getPreviewFor:u=>()=>{const h=o.formatter.get(u);return h!==void 0?D.some({tag:h.length>0&&(h[0].inline||h[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(u))}):D.none()},onAction:kD(o),updateText:u=>{const h=S=>cN(S)?jo(S.items,h):uN(S)?[{title:S.title,format:S.format}]:[],p=jo(dN(o),h),y=YN(o,ae(p)).fold(ae({title:c,tooltipLabel:""}),S=>({title:S.title,tooltipLabel:S.title}));Cn(u,Gc,{text:y.title}),((S,k)=>{S.dispatch("StylesTextUpdate",k)})(o,{value:y.tooltipLabel})},shouldHide:a5(o),isInvalid:u=>!o.formatter.canApply(u.format),dataset:i}},n4=ae([kt("toggleClass"),kt("fetch"),vu("onExecute"),Xe("getHotspot",D.some),Xe("getAnchorOverrides",ae({})),nf(),vu("onItemExecute"),Io("lazySink"),kt("dom"),Lo("onOpen"),gn("splitDropdownBehaviours",[ys,kn,jn]),Xe("matchWidth",!1),Xe("useMinWidth",!1),Xe("eventOrder",{}),Io("role"),Io("listRole")].concat(QA())),eF=nl({factory:Ca,schema:[kt("dom")],name:"arrow",defaults:()=>({buttonBehaviours:zt([jn.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:i=>{i.getSystem().getByUid(o.uid).each(Gd)},buttonBehaviours:zt([$n.config({toggleOnExecute:!1,toggleClass:o.toggleClass})])})}),tF=nl({factory:Ca,schema:[kt("dom")],name:"button",defaults:()=>({buttonBehaviours:zt([jn.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:i=>{i.getSystem().getByUid(o.uid).each(c=>{o.onExecute(c,i)})}})}),nF=ae([eF,tF,$c({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[kt("text")],name:"aria-descriptor"}),ud({schema:[bg()],name:"menu",defaults:o=>({onExecute:(i,c)=>{i.getSystem().getByUid(o.uid).each(u=>{o.onItemExecute(u,i,c)})}})}),VD()]),h2=gl({name:"SplitDropdown",configFields:n4(),partFields:nF(),factory:(o,i,c,u)=>{const h=O=>{Ho.getCurrent(O).each(M=>{or.highlightFirst(M),kn.focusIn(M)})},p=O=>{YA(o,Ie,O,u,h,Fa.HighlightMenuAndItem).get(pe)},y=O=>{const M=Bg(O,o,"button");return Gd(M),D.some(!0)},S={...to([Vr((O,M)=>{Or(O,o,"aria-descriptor").each(N=>{const H=mn("aria");tn(N.element,"id",H),tn(O.element,"aria-describedby",H)})})]),...Iv(D.some(p))},k={repositionMenus:O=>{$n.isOn(O)&&ZD(O)}};return{uid:o.uid,dom:o.dom,components:i,apis:k,eventOrder:{...o.eventOrder,[Xa()]:["disabling","toggling","alloy.base.behaviour"]},events:S,behaviours:co(o.splitDropdownBehaviours,[ys.config({others:{sandbox:O=>{const M=Bg(O,o,"arrow");return JA(o,O,{onOpen:()=>{$n.on(M),$n.on(O)},onClose:()=>{$n.off(M),$n.off(O)}})}}}),kn.config({mode:"special",onSpace:y,onEnter:y,onDown:O=>(p(O),D.some(!0))}),jn.config({}),$n.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:o.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(o,i)=>o.repositionMenus(i)}}),o4=o=>({isEnabled:()=>!qn.isDisabled(o),setEnabled:i=>qn.set(o,!i),setText:i=>Cn(o,Gc,{text:i}),setIcon:i=>Cn(o,Ru,{icon:i})}),oF=o=>({setActive:i=>{$n.set(o,i)},isActive:()=>$n.isOn(o),isEnabled:()=>!qn.isDisabled(o),setEnabled:i=>qn.set(o,!i),setText:i=>Cn(o,Gc,{text:i}),setIcon:i=>Cn(o,Ru,{icon:i})}),l6=(o,i)=>o.map(c=>({"aria-label":i.translate(c)})).getOr({}),r4=mn("focus-button"),s4=(o,i,c,u,h,p)=>{const y=i.map(k=>tr(jE(k,"tox-tbtn",h))),S=o.map(k=>tr(op(k,h.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(i.isSome()?["tox-tbtn--select"]:[]),attributes:{...l6(c,h),...U(p)?{"data-mce-name":p}:{}}},components:Uv([S.map(k=>k.asSpec()),y.map(k=>k.asSpec())]),eventOrder:{[At()]:["focusing","alloy.base.behaviour",np],[Ui()]:[np,"toolbar-group-button-events"]},buttonBehaviours:zt([LC(h.isDisabled),hi(),uo(np,[Vr((k,O)=>S_(k)),bt(Gc,(k,O)=>{y.bind(M=>M.getOpt(k)).each(M=>{Fn.set(M,[xs(h.translate(O.event.text))])})}),bt(Ru,(k,O)=>{S.bind(M=>M.getOpt(k)).each(M=>{Fn.set(M,[op(O.event.icon,h.icons)])})}),bt(At(),(k,O)=>{O.event.prevent(),ho(k,r4)})])].concat(u.getOr([])))}},c6=(o,i,c,u)=>{var h;const p=En(pe),y=s4(o.icon,o.text,o.tooltip,D.none(),c,u);return Ca.sketch({dom:y.dom,components:y.components,eventOrder:WE,buttonBehaviours:{...zt([uo("toolbar-button-events",[(S={onAction:o.onAction,getApi:i.getApi},Mc((k,O)=>{zy(S,k)(M=>{Cn(k,__,{buttonApi:M}),S.onAction(M)})})),Kh(i,p),Hg(i,p)]),...o.tooltip.map(k=>Hs.config(c.tooltips.getConfig({tooltipText:c.translate(k)+o.shortcut.map(O=>` (${FC(O)})`).getOr("")}))).toArray(),LC(()=>!o.enabled||c.isDisabled()),hi()].concat(i.toolbarButtonBehaviours)),[np]:(h=y.buttonBehaviours)===null||h===void 0?void 0:h[np]}});var S},u6=(o,i,c,u)=>c6(o,{toolbarButtonBehaviours:c.length>0?[uo("toolbarButtonWith",c)]:[],getApi:o4,onSetup:o.onSetup},i,u),d6=(o,i,c,u)=>c6(o,{toolbarButtonBehaviours:[Fn.config({}),$n.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(c.length>0?[uo("toolbarToggleButtonWith",c)]:[]),getApi:oF,onSetup:o.onSetup},i,u),rF=(o,i,c)=>u=>qh(h=>i.fetch(h)).map(h=>D.from(eE(fr(Xb(mn("menu-value"),h,p=>{i.onItemAction(o(u),p)},i.columns,i.presets,xf.CLOSE_ON_EXECUTE,i.select.getOr(Se),c),{movement:Zy(i.columns,i.presets),menuBehaviours:Fy(i.columns!=="auto"?[]:[Vr((p,y)=>{kA(p,4,Zh(i.presets)).each(({numRows:S,numColumns:k})=>{kn.setGridSize(p,S,k)})})])})))),sF=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],ap=(o,i)=>(c,u,h,p)=>{const y=o(c).mapError(S=>Ra(S)).getOrDie();return i(y,u,h,p)},iF={button:ap(Q5,(o,i,c,u)=>((h,p,y)=>u6(h,p,[],y))(o,i.shared.providers,u)),togglebutton:ap(BC,(o,i,c,u)=>((h,p,y)=>d6(h,p,[],y))(o,i.shared.providers,u)),menubutton:ap(TN,(o,i,c,u)=>n0(o,"tox-tbtn",i,D.none(),!1,u)),splitbutton:ap(o=>rs("SplitButton",dL,o),(o,i,c,u)=>((h,p,y)=>{const S=En(h.tooltip.getOr("")),k=N=>({isEnabled:()=>!qn.isDisabled(N),setEnabled:H=>qn.set(N,!H),setIconFill:(H,K)=>{Kr(N.element,`svg path[class="${H}"], rect[class="${H}"]`).each(G=>{tn(G,"fill",K)})},setActive:H=>{tn(N.element,"aria-pressed",H),Kr(N.element,"span").each(K=>{N.getSystem().getByDom(K).each(G=>$n.set(G,H))})},isActive:()=>Kr(N.element,"span").exists(H=>N.getSystem().getByDom(H).exists($n.isOn)),setText:H=>Kr(N.element,"span").each(K=>N.getSystem().getByDom(K).each(G=>Cn(G,Gc,{text:H}))),setIcon:H=>Kr(N.element,"span").each(K=>N.getSystem().getByDom(K).each(G=>Cn(G,Ru,{icon:H}))),setTooltip:H=>{const K=p.providers.translate(H);tn(N.element,"aria-label",K),S.set(H)}}),O=En(pe),M={getApi:k,onSetup:h.onSetup};return h2.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...l6(h.tooltip,p.providers),...U(y)?{"data-mce-name":y}:{}}},onExecute:N=>{const H=k(N);H.isEnabled()&&h.onAction(H)},onItemExecute:(N,H,K)=>{},splitDropdownBehaviours:zt([uD(p.providers.isDisabled),hi(),uo("split-dropdown-events",[Vr((N,H)=>S_(N)),bt(r4,jn.focus),Kh(M,O),Hg(M,O)]),Qb.config({}),...h.tooltip.map(N=>Hs.config({...p.providers.tooltips.getConfig({tooltipText:p.providers.translate(N),onShow:H=>{if(S.get()!==N){const K=p.providers.translate(S.get());Hs.setComponents(H,p.providers.tooltips.getComponents({tooltipText:K}))}}})})).toArray()]),eventOrder:{[Ui()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[tc()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:p.getSink,fetch:rF(k,h,p.providers),parts:{menu:OC(0,h.columns,h.presets)},components:[h2.parts.button(s4(h.icon,h.text,D.none(),D.some([$n.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),p.providers)),h2.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:R5("chevron-down",p.providers.icons)},buttonBehaviours:zt([uD(p.providers.isDisabled),hi(),AC()])}),h2.parts["aria-descriptor"]({text:p.providers.translate("To open the popup, press Shift+Enter")})]})})(o,i.shared,u)),grouptoolbarbutton:ap(o=>rs("GroupToolbarButton",cL,o),(o,i,c,u)=>{const h=c.ui.registry.getAll().buttons,p={[tl]:i.shared.header.isPositionedAtTop()?dc.TopToBottom:dc.BottomToTop};if(Fb(c)===_u.floating)return((y,S,k,O,M)=>{const N=S.shared,H=En(pe),K={toolbarButtonBehaviours:[],getApi:o4,onSetup:y.onSetup},G=[uo("toolbar-group-button-events",[Kh(K,H),Hg(K,H)])];return qg.sketch({lazySink:N.getSink,fetch:()=>qh(re=>{re(yt(k(y.items),K_))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:s4(y.icon,y.text,y.tooltip,D.some(G),N.providers,M),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:O}}}})})(o,i,y=>Y_(c,{buttons:h,toolbar:y,allowToolbarGroups:!1},i,D.none()),p,u);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},p2={styles:(o,i)=>{const c={type:"advanced",...i.styles};return g2(o,i,a6(o,c),i6,"StylesTextUpdate","styles")},fontsize:(o,i)=>g2(o,i,s6(o),n6,"FontSizeTextUpdate","fontsize"),fontsizeinput:(o,i)=>((c,u,h,p)=>{let y=D.none();const S=Gb(c,"NodeChange SwitchMode",de=>{const ge=de.getComponent();y=D.some(ge),h.updateInputValue(ge),qn.set(ge,!c.selection.isEditable())}),k=de=>({getComponent:ae(de)}),O=En(pe),M=mn("custom-number-input-events"),N=(de,ge,be)=>{const Me=y.map(Pt=>nt.getValue(Pt)).getOr(""),qe=h.getNewValue(Me,de),wt=Me.length-`${qe}`.length,pt=y.map(Pt=>Pt.element.dom.selectionStart-wt),mt=y.map(Pt=>Pt.element.dom.selectionEnd-wt);h.onAction(qe,be),y.each(Pt=>{nt.setValue(Pt,qe),ge&&(pt.each(cn=>Pt.element.dom.selectionStart=cn),mt.each(cn=>Pt.element.dom.selectionEnd=cn))})},H=(de,ge)=>N((be,Me)=>be-Me,de,ge),K=(de,ge)=>N((be,Me)=>be+Me,de,ge),G=de=>na(de.element).fold(D.none,ge=>(xa(ge),D.some(!0))),re=de=>Eg(de.element)?(xe(de.element).each(ge=>xa(ge)),D.some(!0)):D.none(),le=(de,ge,be,Me)=>{const qe=En(pe),wt=u.shared.providers.translate(be),pt=mn("altExecuting"),mt=Gb(c,"NodeChange SwitchMode",cn=>{qn.set(cn.getComponent(),!c.selection.isEditable())}),Pt=cn=>{qn.isDisabled(cn)||de(!0)};return Ca.sketch({dom:{tag:"button",attributes:{"aria-label":wt,"data-mce-name":ge},classes:Me.concat(ge)},components:[n2(ge,u.shared.providers.icons)],buttonBehaviours:zt([qn.config({}),Hs.config(u.shared.providers.tooltips.getConfig({tooltipText:wt})),uo(pt,[Kh({onSetup:mt,getApi:k},qe),Hg({getApi:k},qe),bt(is(),(cn,bn)=>{bn.event.raw.keyCode!==t6.space()&&bn.event.raw.keyCode!==t6.enter()||qn.isDisabled(cn)||de(!1)}),bt(Gs(),Pt),bt(ke(),Pt)])]),eventOrder:{[is()]:[pt,"keying"],[Gs()]:[pt,"alloy.base.behaviour"],[ke()]:[pt,"alloy.base.behaviour"],[Ui()]:["alloy.base.behaviour",pt,"tooltipping"],[tc()]:[pt,"tooltipping"]}})},me=tr(le(de=>H(!1,de),"minus","Decrease font size",[])),ie=tr(le(de=>K(!1,de),"plus","Increase font size",[])),se=tr({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[zg.sketch({inputBehaviours:zt([qn.config({}),uo(M,[Kh({onSetup:S,getApi:k},O),Hg({getApi:k},O)]),uo("input-update-display-text",[bt(Gc,(de,ge)=>{nt.setValue(de,ge.event.text)}),bt(Es(),de=>{h.onAction(nt.getValue(de))}),bt(nm(),de=>{h.onAction(nt.getValue(de))})]),kn.config({mode:"special",onEnter:de=>(N(Ie,!0,!0),D.some(!0)),onEscape:G,onUp:de=>(K(!0,!1),D.some(!0)),onDown:de=>(H(!0,!1),D.some(!0)),onLeft:(de,ge)=>(ge.cut(),D.none()),onRight:(de,ge)=>(ge.cut(),D.none())})])})],behaviours:zt([jn.config({}),kn.config({mode:"special",onEnter:re,onSpace:re,onEscape:G}),uo("input-wrapper-events",[bt(wn(),de=>{qt([me,ie],ge=>{const be=nn(ge.get(de).element.dom);Eg(be)&&ab(be)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...U(p)?{"data-mce-name":p}:{}}},components:[me.asSpec(),se.asSpec(),ie.asSpec()],behaviours:zt([jn.config({}),kn.config({mode:"flow",focusInside:Ob.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:de=>Eg(de.element)?D.none():(xa(de.element),D.some(!0))})])}})(o,i,(c=>{const u=()=>c.queryCommandValue("FontSize");return{updateInputValue:h=>Cn(h,Gc,{text:u()}),onAction:(h,p)=>c.execCommand("FontSize",!1,h,{skip_focus:!p}),getNewValue:(h,p)=>{G_(h,["unsupportedLength","empty"]);const y=u(),S=G_(h,["unsupportedLength","empty"]).or(G_(y,["unsupportedLength","empty"])),k=S.map(K=>K.value).getOr(16),O=Xk(c),M=S.map(K=>K.unit).filter(K=>K!=="").getOr(O),N=p(k,(K=>{var G;return(G={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[K])!==null&&G!==void 0?G:{step:1}})(M).step),H=`${(K=>K>=0)(N)?N:k}${M}`;return H!==y&&((K,G)=>{K.dispatch("FontSizeInputTextUpdate",G)})(c,{value:H}),H}}})(o),"fontsizeinput"),fontfamily:(o,i)=>g2(o,i,e6(o),XN,"FontFamilyTextUpdate","fontfamily"),blocks:(o,i)=>g2(o,i,e4(o),J3,"BlocksTextUpdate","blocks"),align:(o,i)=>g2(o,i,X3(o),qN,"AlignTextUpdate","align")},Y_=(o,i,c,u)=>{const h=(y=>{const S=y.toolbar,k=y.buttons;return S===!1?[]:S===void 0||S===!0?(O=>{const M=yt(sF,N=>{const H=xo(N.items,K=>ao(O,K)||ao(p2,K));return{name:N.name,items:H}});return xo(M,N=>N.items.length>0)})(k):v(S)?(O=>{const M=O.split("|");return yt(M,N=>({items:N.trim().split(" ")}))})(S):(O=>ye(O,M=>ao(M,"name")&&ao(M,"items")))(S)?S:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(i),p=yt(h,y=>{const S=jo(y.items,k=>k.trim().length===0?[]:((O,M,N,H,K,G)=>jt(M,N.toLowerCase()).orThunk(()=>G.bind(re=>je(re,le=>jt(M,le+N.toLowerCase())))).fold(()=>jt(p2,N.toLowerCase()).map(re=>re(O,K)),re=>re.type!=="grouptoolbarbutton"||H?((le,me,ie,se)=>jt(iF,le.type).fold(()=>(console.error("skipping button defined by",le),D.none()),de=>D.some(de(le,me,ie,se))))(re,K,O,N.toLowerCase()):(console.warn(`Ignoring the '${N}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),D.none())))(o,i.buttons,k,i.allowToolbarGroups,c,u).toArray());return{title:D.from(o.translate(y.name)),items:S}});return xo(p,y=>y.items.length>0)},f6=(o,i,c,u)=>{const h=i.mainUi.outerContainer,p=c.toolbar,y=c.buttons;if(ye(p,v)){const S=p.map(k=>{const O={toolbar:k,buttons:y,allowToolbarGroups:c.allowToolbarGroups};return Y_(o,O,u,D.none())});Pr.setToolbars(h,S)}else Pr.setToolbar(h,Y_(o,c,u,D.none()))},m6=Fi(),aF=m6.os.isiOS()&&m6.os.version.major<=12;var VV=Object.freeze({__proto__:null,render:(o,i,c,u,h)=>{const{mainUi:p,uiMotherships:y}=i,S=En(0),k=p.outerContainer;KN(o);const O=nn(h.targetNode),M=$e(ot(O));ft(O,p.mothership),((G,re,le)=>{Fg(G)&&ft(le.mainUi.mothership.element,le.popupUi.mothership),Zx(re,le.dialogUi.mothership)})(o,M,i),o.on("SkinLoaded",()=>{Pr.setSidebar(k,c.sidebar,mC(o)),f6(o,i,c,u),S.set(o.getWin().innerWidth),Pr.setMenubar(k,ZN(o,c)),Pr.setViews(k,c.views),((G,re)=>{const{uiMotherships:le}=re,me=G.dom;let ie=G.getWin();const se=G.getDoc().documentElement,de=En(Ir(ie.innerWidth,ie.innerHeight)),ge=En(Ir(se.offsetWidth,se.offsetHeight)),be=()=>{const pt=de.get();pt.left===ie.innerWidth&&pt.top===ie.innerHeight||(de.set(Ir(ie.innerWidth,ie.innerHeight)),qb(G))},Me=()=>{const pt=G.getDoc().documentElement,mt=ge.get();mt.left===pt.offsetWidth&&mt.top===pt.offsetHeight||(ge.set(Ir(pt.offsetWidth,pt.offsetHeight)),qb(G))},qe=pt=>{((mt,Pt)=>{mt.dispatch("ScrollContent",Pt)})(G,pt)};me.bind(ie,"resize",be),me.bind(ie,"scroll",qe);const wt=Mx(nn(G.getBody()),"load",Me);G.on("hide",()=>{qt(le,pt=>{Jn(pt.element,"display","none")})}),G.on("show",()=>{qt(le,pt=>{er(pt.element,"display")})}),G.on("NodeChange",Me),G.on("remove",()=>{wt.unbind(),me.unbind(ie,"resize",be),me.unbind(ie,"scroll",qe),ie=null})})(o,i)});const N=Pr.getSocket(k).getOrDie("Could not find expected socket element");if(aF){Ta(N.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const G=((le,me)=>{let ie=null;return{cancel:()=>{P(ie)||(clearTimeout(ie),ie=null)},throttle:(...se)=>{P(ie)&&(ie=setTimeout(()=>{ie=null,le.apply(null,se)},20))}}})(()=>{o.dispatch("ScrollContent")}),re=ya(N.element,"scroll",G.throttle);o.on("remove",re.unbind)}cD(o,i),o.addCommand("ToggleSidebar",(G,re)=>{Pr.toggleSidebar(k,re),(le=>{le.dispatch("ToggleSidebar")})(o)}),o.addQueryValueHandler("ToggleSidebar",()=>{var G;return(G=Pr.whichSidebar(k))!==null&&G!==void 0?G:""}),o.addCommand("ToggleView",(G,re)=>{if(Pr.toggleView(k,re)){const le=k.element;p.mothership.broadcastOn([B()],{target:le}),qt(y,me=>{me.broadcastOn([B()],{target:le})}),P(Pr.whichView(k))&&(o.focus(),o.nodeChanged(),Pr.refreshToolbar(k)),(me=>{me.dispatch("ToggleView")})(o)}}),o.addQueryValueHandler("ToggleView",()=>{var G;return(G=Pr.whichView(k))!==null&&G!==void 0?G:""});const H=Fb(o);H!==_u.sliding&&H!==_u.floating||o.on("ResizeWindow ResizeEditor ResizeContent",()=>{const G=o.getWin().innerWidth;G!==S.get()&&(Pr.refreshToolbar(i.mainUi.outerContainer),S.set(G))});const K={setEnabled:G=>{jb(i,!G)},isEnabled:()=>!qn.isDisabled(k)};return{iframeContainer:N.element.dom,editorContainer:k.element.dom,api:K}}});const b2=o=>/^[0-9\.]+(|px)$/i.test(""+o)?D.some(parseInt(""+o,10)):D.none(),lp=o=>ne(o)?o+"px":o,v2=(o,i,c)=>{const u=i.filter(p=>o<p),h=c.filter(p=>o>p);return u.or(h).getOr(o)},i4=o=>{const i=fy(o),c=my(o),u=Pv(o);return b2(i).map(h=>v2(h,c,u))},{ToolbarLocation:a4,ToolbarMode:g6}=xy,lF=(o,i,c,u,h)=>{const{mainUi:p,uiMotherships:y}=c,S=Bv.DOM,k=zb(o),O=Lg(o),M=Pv(o).or(i4(o)),N=u.shared.header,H=N.isPositionedAtTop,K=Fb(o),G=K===g6.sliding||K===g6.floating,re=En(!1),le=()=>re.get()&&!o.removed,me=ge=>G?ge.fold(ae(0),be=>be.components().length>1?us(be.components()[1].element):0):0,ie=()=>{qt(y,ge=>{ge.broadcastOn([V()],{})})},se=ge=>{if(!le())return;k||h.on(qe=>{const wt=M.getOrThunk(()=>ei().width-Mi(i).left-10);Jn(qe.element,"max-width",wt+"px")});const be=Br(),Me=!(k||k||!(dl(p.outerContainer.element).left+Oa(p.outerContainer.element)>=window.innerWidth-40||_s(p.outerContainer.element,"width").isSome())||(Jn(p.outerContainer.element,"position","absolute"),Jn(p.outerContainer.element,"left","0px"),er(p.outerContainer.element,"width"),0));if(G&&Pr.refreshToolbar(p.outerContainer),!k){const qe=Br(),wt=$o(be.left!==qe.left,be);((pt,mt)=>{h.on(Pt=>{const cn=Pr.getToolbar(p.outerContainer),bn=me(cn),Dn=Us(i),Gn=((go,Fo)=>Fg(go)?xh(Fo):D.none())(o,p.outerContainer.element),Ao=Gn.fold(()=>Dn.x,go=>{const Fo=Us(go);return Uo(go,fn())?Dn.x:Dn.x-Fo.x}),Lr=$o(pt,Math.ceil(p.outerContainer.element.dom.getBoundingClientRect().width)).filter(go=>go>150).map(go=>{const Fo=mt.getOr(Br()),Ln=window.innerWidth-(Ao-Fo.left),Gr=Math.max(Math.min(go,Ln),150);return Ln<go&&Jn(p.outerContainer.element,"width",Gr+"px"),{width:Gr+"px"}}).getOr({width:"max-content"}),qr={position:"absolute",left:Math.round(Ao)+"px",top:Gn.fold(()=>H()?Math.max(Dn.y-us(Pt.element)+bn,0):Dn.bottom,go=>{var Fo;const Ln=Us(go),Gr=(Fo=go.dom.scrollTop)!==null&&Fo!==void 0?Fo:0,hr=Uo(go,fn())?Math.max(Dn.y-us(Pt.element)+bn,0):Dn.y-Ln.y+Gr-us(Pt.element)+bn;return H()?hr:Dn.bottom})+"px"};Ta(p.outerContainer.element,{...qr,...Lr})})})(Me,wt),wt.each(pt=>{zd(pt.left,qe.top)})}O&&h.on(ge),ie()},de=()=>!(k||!O||!le())&&h.get().exists(ge=>{const be=N.getDockingMode(),Me=(wt=>{switch(Lh(o)){case a4.auto:const pt=Pr.getToolbar(p.outerContainer),mt=me(pt),Pt=us(wt.element)-mt,cn=Us(i);if(cn.y>Pt)return"top";{const bn=Ea(i),Dn=Math.max(bn.dom.scrollHeight,us(bn));return cn.bottom<Dn-Pt||wi().bottom<cn.bottom-Pt?"bottom":"top"}case a4.bottom:return"bottom";case a4.top:default:return"top"}})(ge);return Me!==be&&(qe=Me,h.on(wt=>{jr.setModes(wt,[qe]),N.setDockingMode(qe);const pt=H()?dc.TopToBottom:dc.BottomToTop;tn(wt.element,tl,pt)}),!0);var qe});return{isVisible:le,isPositionedAtTop:H,show:()=>{re.set(!0),Jn(p.outerContainer.element,"display","flex"),S.addClass(o.getBody(),"mce-edit-focus"),qt(y,ge=>{er(ge.element,"display")}),de(),Fg(o)?se(ge=>jr.isDocked(ge)?jr.reset(ge):jr.refresh(ge)):se(jr.refresh)},hide:()=>{re.set(!1),Jn(p.outerContainer.element,"display","none"),S.removeClass(o.getBody(),"mce-edit-focus"),qt(y,ge=>{Jn(ge.element,"display","none")})},update:se,updateMode:()=>{de()&&se(jr.reset)},repositionPopups:ie}},h6=(o,i)=>{const c=Us(o);return{pos:i?c.y:c.bottom,bounds:c}};var cF=Object.freeze({__proto__:null,render:(o,i,c,u,h)=>{const{mainUi:p}=i,y=sr(),S=nn(h.targetNode),k=lF(o,S,i,u,y),O=c5(o);jL(o);const M=()=>{if(y.isSet())return void k.show();y.set(Pr.getHeader(p.outerContainer).getOrDie());const H=vC(o);Fg(o)?(ft(S,p.mothership),ft(S,i.popupUi.mothership)):Zx(H,p.mothership),Zx(H,i.dialogUi.mothership);const K=()=>{f6(o,i,c,u),Pr.setMenubar(p.outerContainer,ZN(o,c)),k.show(),((G,re,le,me)=>{const ie=En(h6(re,le.isPositionedAtTop())),se=Me=>{const{pos:qe,bounds:wt}=h6(re,le.isPositionedAtTop()),{pos:pt,bounds:mt}=ie.get(),Pt=wt.height!==mt.height||wt.width!==mt.width;ie.set({pos:qe,bounds:wt}),Pt&&qb(G,Me),le.isVisible()&&(pt!==qe?le.update(jr.reset):Pt&&(le.updateMode(),le.repositionPopups()))};me||(G.on("activate",le.show),G.on("deactivate",le.hide)),G.on("SkinLoaded ResizeWindow",()=>le.update(jr.reset)),G.on("NodeChange keydown",Me=>{requestAnimationFrame(()=>se(Me))});let de=0;const ge=BE(()=>le.update(jr.refresh),33);G.on("ScrollWindow",()=>{const Me=Br().left;Me!==de&&(de=Me,ge.throttle()),le.updateMode()}),Fg(G)&&G.on("ElementScroll",Me=>{le.update(jr.refresh)});const be=Xl();be.set(Mx(nn(G.getBody()),"load",Me=>se(Me.raw))),G.on("remove",()=>{be.clear()})})(o,S,k,O),o.nodeChanged()};O?o.once("SkinLoaded",K):K()};o.on("show",M),o.on("hide",k.hide),O||(o.on("focus",M),o.on("blur",k.hide)),o.on("init",()=>{(o.hasFocus()||O)&&M()}),cD(o,i);const N={show:M,hide:k.hide,setEnabled:H=>{jb(i,!H)},isEnabled:()=>!qn.isDisabled(p.outerContainer)};return{editorContainer:p.outerContainer.element.dom,api:N}}});const p6="contexttoolbar-hide",b6=(o,i)=>bt(__,(c,u)=>{const h=(p=>({hide:()=>ho(p,Vp()),getValue:()=>nt.getValue(p)}))(o.get(c));i.onAction(h,u.event.buttonApi)}),uF=(o,i)=>{const c=o.label.fold(()=>({}),p=>({"aria-label":p})),u=tr(zg.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:o.initValue(),inputAttributes:c,selectOnFocus:!0,inputBehaviours:zt([kn.config({mode:"special",onEnter:p=>h.findPrimary(p).map(y=>(Gd(y),!0)),onLeft:(p,y)=>(y.cut(),D.none()),onRight:(p,y)=>(y.cut(),D.none())})])})),h=((p,y,S)=>{const k=yt(y,O=>tr(((M,N,H)=>(K=>K.type==="contextformtogglebutton")(N)?((K,G,re)=>{const{primary:le,...me}=G.original,ie=ha(BC({...me,type:"togglebutton",onAction:pe}));return d6(ie,re,[b6(K,G)])})(M,N,H):((K,G,re)=>{const{primary:le,...me}=G.original,ie=ha(Q5({...me,type:"button",onAction:pe}));return u6(ie,re,[b6(K,G)])})(M,N,H))(p,O,S)));return{asSpecs:()=>yt(k,O=>O.asSpec()),findPrimary:O=>je(y,(M,N)=>M.primary?D.from(k[N]).bind(H=>H.getOpt(O)).filter(He(qn.isDisabled)):D.none())}})(u,o.commands,i);return[{title:D.none(),items:[u.asSpec()]},{title:D.none(),items:h.asSpecs()}]},v6=(o,i,c)=>i.bottom-o.y>=c&&o.bottom-i.y>=c,l4=o=>{const i=(c=>{const u=c.getBoundingClientRect();if(u.height<=0&&u.width<=0){const h=Ee(nn(c.startContainer),c.startOffset).element;return(ea(h)?ta(h):D.some(h)).filter(Ur).map(p=>p.dom.getBoundingClientRect()).getOr(u)}return u})(o.selection.getRng());if(o.inline){const c=Br();return bo(c.left+i.left,c.top+i.top,i.width,i.height)}{const c=Ya(nn(o.getBody()));return bo(c.x+i.left,c.y+i.top,i.width,i.height)}},x6=(o,i,c,u=0)=>{const h=ei(window),p=Us(nn(o.getContentAreaContainer())),y=py(o)||by(o)||vy(o),{x:S,width:k}=((O,M,N)=>{const H=Math.max(O.x+N,M.x);return{x:H,width:Math.min(O.right-N,M.right)-H}})(p,h,u);if(o.inline&&!y)return bo(S,h.y,k,h.height);{const O=i.header.isPositionedAtTop(),{y:M,bottom:N}=((H,K,G,re,le,me)=>{const ie=nn(H.getContainer()),se=Kr(ie,".tox-editor-header").getOr(ie),de=Us(se),ge=de.y>=K.bottom,be=re&&!ge;if(H.inline&&be)return{y:Math.max(de.bottom+me,G.y),bottom:G.bottom};if(H.inline&&!be)return{y:G.y,bottom:Math.min(de.y-me,G.bottom)};const Me=le==="line"?Us(ie):K;return be?{y:Math.max(de.bottom+me,G.y),bottom:Math.min(Me.bottom-me,G.bottom)}:{y:Math.max(Me.y+me,G.y),bottom:Math.min(de.y-me,G.bottom)}})(o,p,h,O,c,u);return bo(S,M,k,N-M)}},c4={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},l1={maxHeightFunction:Tg(),maxWidthFunction:z3()},cp=o=>o==="node",dF=(o,i,c,u,h)=>{const p=l4(o),y=u.lastElement().exists(S=>Uo(c,S));return((S,k)=>{const O=S.selection.getRng(),M=Ee(nn(O.startContainer),O.startOffset);return O.startContainer===O.endContainer&&O.startOffset===O.endOffset-1&&Uo(M.element,k)})(o,c)?y?M_:Vo:y?((S,k,O)=>{const M=_s(S,"position");Jn(S,"position",k);const N=v6(p,Us(i),-20)&&!u.isReposition()?p3:M_;return M.each(H=>Jn(S,"position",H)),N})(i,u.getMode()):(u.getMode()==="fixed"?h.y+Br().top:h.y)+(us(i)+12)<=p.y?Vo:Lm},y6=(o,i,c,u)=>{const h=y=>(S,k,O,M,N)=>({...dF(o,M,y,c,N)({...S,y:N.y,height:N.height},k,O,M,N),alwaysFit:!0}),p=y=>cp(u)?[h(y)]:[];return i?{onLtr:y=>[Ds,gs,hs,Fs,mr,ls].concat(p(y)),onRtl:y=>[Ds,hs,gs,mr,Fs,ls].concat(p(y))}:{onLtr:y=>[ls,Ds,Fs,gs,mr,hs].concat(p(y)),onRtl:y=>[ls,Ds,mr,hs,Fs,gs].concat(p(y))}},X_=(o,i)=>{const c=xo(i,p=>p.predicate(o.dom)),{pass:u,fail:h}=$r(c,p=>p.type==="contexttoolbar");return{contextToolbars:u,contextForms:h}},J_=(o,i)=>{const c={},u=[],h=[],p={},y={},S=et(o);return qt(S,k=>{const O=o[k];O.type==="contextform"?((M,N)=>{const H=ha(rs("ContextForm",NP,N));c[M]=H,H.launch.map(K=>{p["form:"+M]={...N.launch,type:K.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{i(H)}}}),H.scope==="editor"?h.push(H):u.push(H),y[M]=H})(k,O):O.type==="contexttoolbar"&&((M,N)=>{var H;(H=N,rs("ContextToolbar",tD,H)).each(K=>{N.scope==="editor"?h.push(K):u.push(K),y[M]=K})})(k,O)}),{forms:c,inNodeScope:u,inEditorScope:h,lookupTable:y,formNavigators:p}},w6=mn("forward-slide"),u0=mn("backward-slide"),c1=mn("change-slide-event"),u4="tox-pop--resizing",d4="tox-pop--transition",fF=(o,i,c,u)=>{const h=u.backstage,p=h.shared,y=Fi().deviceType.isTouch,S=sr(),k=sr(),O=sr(),M=ki((be=>{const Me=En([]);return Qr.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:qe=>{Me.set([]),Qr.getContent(qe).each(wt=>{er(wt.element,"visibility")}),ms(qe.element,u4),er(qe.element,"width")},inlineBehaviours:zt([uo("context-toolbar-events",[Yd(zp(),(qe,wt)=>{wt.event.raw.propertyName==="width"&&(ms(qe.element,u4),er(qe.element,"width"))}),bt(c1,(qe,wt)=>{const pt=qe.element;er(pt,"width");const mt=ui(pt);Qr.setContent(qe,wt.event.contents),as(pt,u4);const Pt=ui(pt);Jn(pt,"width",mt+"px"),Qr.getContent(qe).each(cn=>{wt.event.focus.bind(bn=>(xa(bn),Rs(pt))).orThunk(()=>(kn.focusIn(cn),Fc(ot(pt))))}),setTimeout(()=>{Jn(qe.element,"width",Pt+"px")},0)}),bt(w6,(qe,wt)=>{Qr.getContent(qe).each(pt=>{Me.set(Me.get().concat([{bar:pt,focus:Fc(ot(qe.element))}]))}),Cn(qe,c1,{contents:wt.event.forwardContents,focus:D.none()})}),bt(u0,(qe,wt)=>{_t(Me.get()).each(pt=>{Me.set(Me.get().slice(0,Me.get().length-1)),Cn(qe,c1,{contents:Ba(pt.bar),focus:pt.focus})})})]),kn.config({mode:"special",onEscape:qe=>_t(Me.get()).fold(()=>be.onEscape(),wt=>(ho(qe,u0),D.some(!0)))})]),lazySink:()=>ko.value(be.sink)})})({sink:c,onEscape:()=>(o.focus(),D.some(!0))})),N=()=>{const be=O.get().getOr("node"),Me=cp(be)?1:0;return x6(o,p,be,Me)},H=()=>!(o.removed||y()&&h.isContextMenuOpen()),K=()=>{if(H()){const be=N(),Me=Nr(O.get(),"node")?((qe,wt)=>wt.filter(pt=>an(pt)&&ja(pt)).map(Ya).getOrThunk(()=>l4(qe)))(o,S.get()):l4(o);return be.height<=0||!v6(Me,be,.01)}return!0},G=()=>{S.clear(),k.clear(),O.clear(),Qr.hide(M)},re=()=>{if(Qr.isOpen(M)){const be=M.element;er(be,"display"),K()?Jn(be,"display","none"):(k.set(0),Qr.reposition(M))}},le=be=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[be],behaviours:zt([kn.config({mode:"acyclic"}),uo("pop-dialog-wrap-events",[Vr(Me=>{o.shortcuts.add("ctrl+F9","focus statusbar",()=>kn.focusIn(Me))}),bu(Me=>{o.shortcuts.remove("ctrl+F9")})])])}),me=Pi(()=>J_(i,be=>{const Me=ie([be]);Cn(M,w6,{forwardContents:le(Me)})})),ie=be=>{const{buttons:Me}=o.ui.registry.getAll(),qe={...Me,...me().formNavigators},wt=Fb(o)===_u.scrolling?_u.scrolling:_u.default,pt=pr(yt(be,mt=>mt.type==="contexttoolbar"?((Pt,cn)=>Y_(o,{buttons:Pt,toolbar:cn.items,allowToolbarGroups:!1},u.backstage,D.some(["form:"])))(qe,mt):((Pt,cn)=>uF(Pt,cn))(mt,p.providers)));return Z3({type:wt,uid:mn("context-toolbar"),initGroups:pt,onEscape:D.none,cyclicKeying:!0,providers:p.providers})},se=(be,Me)=>{if(ge.cancel(),!H())return;const qe=ie(be),wt=be[0].position,pt=((Pt,cn)=>{const bn=Pt==="node"?p.anchors.node(cn):p.anchors.cursor(),Dn=((Gn,Ao,Lr,qr)=>Ao==="line"?{bubble:Bl(12,0,c4),layouts:{onLtr:()=>[av],onRtl:()=>[lv]},overrides:l1}:{bubble:Bl(0,12,c4,1/12),layouts:y6(Gn,Lr,qr,Ao),overrides:l1})(o,Pt,y(),{lastElement:S.get,isReposition:()=>Nr(k.get(),0),getMode:()=>Ki.getMode(c)});return fr(bn,Dn)})(wt,Me);O.set(wt),k.set(1);const mt=M.element;er(mt,"display"),(Pt=>Nr(Ht(Pt,S.get(),Uo),!0))(Me)||(ms(mt,d4),Ki.reset(c,M)),Qr.showWithinBounds(M,le(qe),{anchor:pt,transition:{classes:[d4],mode:"placement"}},()=>D.some(N())),Me.fold(S.clear,S.set),K()&&Jn(mt,"display","none")};let de=!1;const ge=BE(()=>{!o.hasFocus()||o.removed||de||(Ia(M.element,d4)?ge.throttle():((be,Me)=>{const qe=nn(Me.getBody()),wt=mt=>Uo(mt,qe),pt=nn(Me.selection.getNode());return(mt=>!wt(mt)&&!bs(qe,mt))(pt)?D.none():((mt,Pt,cn)=>{const bn=X_(mt,Pt);if(bn.contextForms.length>0)return D.some({elem:mt,toolbars:[bn.contextForms[0]]});{const Dn=X_(mt,cn);if(Dn.contextForms.length>0)return D.some({elem:mt,toolbars:[Dn.contextForms[0]]});if(bn.contextToolbars.length>0||Dn.contextToolbars.length>0){const Gn=(Ao=>{if(Ao.length<=1)return Ao;{const Lr=Ln=>Un(Ao,Gr=>Gr.position===Ln),qr=Ln=>xo(Ao,Gr=>Gr.position===Ln),go=Lr("selection"),Fo=Lr("node");if(go||Fo){if(Fo&&go){const Ln=qr("node"),Gr=yt(qr("selection"),hr=>({...hr,position:"node"}));return Ln.concat(Gr)}return qr(go?"selection":"node")}return qr("line")}})(bn.contextToolbars.concat(Dn.contextToolbars));return D.some({elem:mt,toolbars:Gn})}return D.none()}})(pt,be.inNodeScope,be.inEditorScope).orThunk(()=>((mt,Pt,cn)=>mt(Pt)?D.none():cg(Pt,bn=>{if(Ur(bn)){const{contextToolbars:Dn,contextForms:Gn}=X_(bn,cn.inNodeScope),Ao=Gn.length>0?Gn:(Lr=>{if(Lr.length<=1)return Lr;{const qr=go=>X(Lr,Fo=>Fo.position===go);return qr("selection").orThunk(()=>qr("node")).orThunk(()=>qr("line")).map(go=>go.position).fold(()=>[],go=>xo(Lr,Fo=>Fo.position===go))}})(Dn);return Ao.length>0?D.some({elem:bn,toolbars:Ao}):D.none()}return D.none()},mt))(wt,pt,be))})(me(),o).fold(G,be=>{se(be.toolbars,D.some(be.elem))}))},17);o.on("init",()=>{o.on("remove",G),o.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",re),o.on("click keyup focus SetContent",ge.throttle),o.on(p6,G),o.on("contexttoolbar-show",be=>{const Me=me();jt(Me.lookupTable,be.toolbarKey).each(qe=>{se([qe],$o(be.target!==o,be.target)),Qr.getContent(M).each(kn.focusIn)})}),o.on("focusout",be=>{aC.setEditorTimeout(o,()=>{Rs(c.element).isNone()&&Rs(M.element).isNone()&&G()},0)}),o.on("SwitchMode",()=>{o.mode.isReadOnly()&&G()}),o.on("ExecCommand",({command:be})=>{be.toLowerCase()==="toggleview"&&G()}),o.on("AfterProgressState",be=>{be.state?G():o.hasFocus()&&ge.throttle()}),o.on("dragstart",()=>{de=!0}),o.on("dragend drop",()=>{de=!1}),o.on("NodeChange",be=>{Rs(M.element).fold(ge.throttle,pe)})})},C6=(o,i)=>{const c=()=>{const u=i.getOptions(o),h=i.getCurrent(o).map(i.hash),p=sr();return yt(u,y=>({type:"togglemenuitem",text:i.display(y),onSetup:S=>{const k=M=>{M&&(p.on(N=>N.setActive(!1)),p.set(S)),S.setActive(M)};k(Nr(h,i.hash(y)));const O=i.watcher(o,y,k);return()=>{p.clear(),O()}},onAction:()=>i.setCurrent(o,y)}))};o.ui.registry.addMenuButton(i.name,{tooltip:i.text,icon:i.icon,fetch:u=>u(c()),onSetup:i.onToolbarSetup}),o.ui.registry.addNestedMenuItem(i.name,{type:"nestedmenuitem",text:i.text,getSubmenuItems:c,onSetup:i.onMenuSetup})},mF=o=>{C6(o,(i=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:p5,hash:c=>((u,h)=>G_(u,["fixed","relative","empty"]).map(({value:p,unit:y})=>p+y))(c).getOr(c),display:Ie,watcher:(c,u,h)=>c.formatter.formatChanged("lineheight",h,!1,{value:u}).unbind,getCurrent:c=>D.from(c.queryCommandValue("LineHeight")),setCurrent:(c,u)=>c.execCommand("LineHeight",!1,u),onToolbarSetup:pi(i),onMenuSetup:pi(i)}))(o)),(i=>D.from(qk(i)).map(c=>({name:"language",text:"Language",icon:"language",getOptions:ae(c),hash:u=>z(u.customCode)?u.code:`${u.code}/${u.customCode}`,display:u=>u.title,watcher:(u,h,p)=>{var y;return u.formatter.formatChanged("lang",p,!1,{value:h.code,customValue:(y=h.customCode)!==null&&y!==void 0?y:null}).unbind},getCurrent:u=>{const h=nn(u.selection.getNode());return ug(h,p=>D.some(p).filter(Ur).bind(y=>No(y,"lang").map(S=>({code:S,customCode:No(y,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(u,h)=>u.execCommand("Lang",!1,h),onToolbarSetup:u=>{const h=Xl();return u.setActive(i.formatter.match("lang",{},void 0,!0)),h.set(i.formatter.formatChanged("lang",u.setActive,!0)),Kv(h.clear,pi(i)(u))},onMenuSetup:pi(i)})))(o).each(i=>C6(o,i))},gF=o=>Gb(o,"NodeChange",i=>{i.setEnabled(o.queryCommandState("outdent")&&o.selection.isEditable())}),x2=(o,i)=>c=>{c.setActive(i.get());const u=h=>{i.set(h.state),c.setActive(h.state)};return o.on("PastePlainTextToggle",u),Kv(()=>o.off("PastePlainTextToggle",u),pi(o)(c))},f4=(o,i)=>()=>{o.execCommand("mceToggleFormat",!1,i)},m4=o=>{(i=>{(c=>{jg.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(u,h)=>{c.ui.registry.addToggleButton(u.name,{tooltip:u.text,icon:u.icon,onSetup:yf(c,u.name),onAction:f4(c,u.name),shortcut:u.shortcut})});for(let u=1;u<=6;u++){const h="h"+u,p=`Access+${u}`;c.ui.registry.addToggleButton(h,{text:h.toUpperCase(),tooltip:"Heading "+u,onSetup:yf(c,h),onAction:f4(c,h),shortcut:p})}})(i),(c=>{jg.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],u=>{c.ui.registry.addButton(u.name,{tooltip:u.text,icon:u.icon,onAction:Ll(c,u.action),shortcut:u.shortcut})}),jg.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],u=>{c.ui.registry.addButton(u.name,{tooltip:u.text,icon:u.icon,onSetup:pi(c),onAction:Ll(c,u.action)})})})(i),(c=>{jg.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],u=>{c.ui.registry.addToggleButton(u.name,{tooltip:u.text,icon:u.icon,onAction:Ll(c,u.action),onSetup:yf(c,u.name)})})})(i)})(o),(i=>{jg.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],c=>{i.ui.registry.addMenuItem(c.name,{text:c.text,icon:c.icon,shortcut:c.shortcut,onAction:Ll(i,c.action)})}),jg.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],c=>{i.ui.registry.addMenuItem(c.name,{text:c.text,icon:c.icon,shortcut:c.shortcut,onSetup:pi(i),onAction:Ll(i,c.action)})}),i.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:pi(i),onAction:f4(i,"code")})})(o)},Q_=(o,i)=>Gb(o,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",c=>{c.setEnabled(!o.mode.isReadOnly()&&o.undoManager[i]())}),hF=o=>Gb(o,"VisualAid",i=>{i.setActive(o.hasVisual)}),pF=(o,i)=>{(c=>{qt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],u=>{c.ui.registry.addToggleButton(u.name,{tooltip:u.text,icon:u.icon,onAction:Ll(c,u.cmd),onSetup:yf(c,u.name)})}),c.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:pi(c),onAction:Ll(c,"JustifyNone")})})(o),m4(o),((c,u)=>{((h,p)=>{const y=c0(p,X3(h));h.ui.registry.addNestedMenuItem("align",{text:p.shared.providers.translate("Align"),onSetup:pi(h),getSubmenuItems:()=>y.items.validateItems(y.getStyleItems())})})(c,u),((h,p)=>{const y=c0(p,e6(h));h.ui.registry.addNestedMenuItem("fontfamily",{text:p.shared.providers.translate("Fonts"),onSetup:pi(h),getSubmenuItems:()=>y.items.validateItems(y.getStyleItems())})})(c,u),((h,p)=>{const y={type:"advanced",...p.styles},S=c0(p,a6(h,y));h.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:pi(h),getSubmenuItems:()=>S.items.validateItems(S.getStyleItems())})})(c,u),((h,p)=>{const y=c0(p,e4(h));h.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:pi(h),getSubmenuItems:()=>y.items.validateItems(y.getStyleItems())})})(c,u),((h,p)=>{const y=c0(p,s6(h));h.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:pi(h),getSubmenuItems:()=>y.items.validateItems(y.getStyleItems())})})(c,u)})(o,i),(c=>{(u=>{u.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:Q_(u,"hasUndo"),onAction:Ll(u,"undo")}),u.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:Q_(u,"hasRedo"),onAction:Ll(u,"redo")})})(c),(u=>{u.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:Q_(u,"hasUndo"),onAction:Ll(u,"undo"),shortcut:"Meta+Z"}),u.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:Q_(u,"hasRedo"),onAction:Ll(u,"redo"),shortcut:"Meta+Y"})})(c)})(o),(c=>{(S=>{S.addCommand("mceApplyTextcolor",(k,O)=>{((M,N,H)=>{M.undoManager.transact(()=>{M.focus(),M.formatter.apply(N,{value:H}),M.nodeChanged()})})(S,k,O)}),S.addCommand("mceRemoveTextcolor",k=>{((O,M)=>{O.undoManager.transact(()=>{O.focus(),O.formatter.remove(M,{value:null},void 0,!0),O.nodeChanged()})})(S,k)})})(c);const u=OD(c),h=DD(c),p=En(u),y=En(h);jA(c,"forecolor","forecolor",p),jA(c,"backcolor","hilitecolor",y),Gv(c,"forecolor","forecolor","Text color",p),Gv(c,"backcolor","hilitecolor","Background color",y)})(o),(c=>{(u=>{u.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Ll(u,"mceToggleVisualAid")})})(c),(u=>{u.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:hF(u),onAction:Ll(u,"mceToggleVisualAid")})})(c)})(o),(c=>{(u=>{u.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:gF(u),onAction:Ll(u,"outdent")}),u.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:pi(u),onAction:Ll(u,"indent")})})(c)})(o),mF(o),(c=>{const u=En(g5(c)),h=()=>c.execCommand("mceTogglePlainTextPaste");c.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:h,onSetup:x2(c,u)}),c.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:h,onSetup:x2(c,u)})})(o)},_6=o=>v(o)?o.split(/[ ,]/):o,S6=o=>i=>i.options.get(o),k6=S6("contextmenu_never_use_native"),bF=S6("contextmenu_avoid_overlap"),g4=o=>{const i=o.ui.registry.getAll().contextMenus,c=o.options.get("contextmenu");return o.options.isSet("contextmenu")?c:xo(c,u=>ao(i,u))},y2=(o,i)=>({type:"makeshift",x:o,y:i}),A6=o=>o.type==="longpress"||o.type.indexOf("touch")===0,vF=(o,i)=>i.type==="contextmenu"||i.type==="longpress"?o.inline?(c=>{if(A6(c)){const u=c.touches[0];return y2(u.pageX,u.pageY)}return y2(c.pageX,c.pageY)})(i):((c,u)=>{const h=Bv.DOM.getPos(c);return((p,y,S)=>y2(p.x+y,p.y+S))(u,h.x,h.y)})(o.getContentAreaContainer(),(c=>{if(A6(c)){const u=c.touches[0];return y2(u.clientX,u.clientY)}return y2(c.clientX,c.clientY)})(i)):E6(o),E6=o=>({type:"selection",root:nn(o.selection.getNode())}),T6=(o,i,c)=>{switch(c){case"node":return(u=>({type:"node",node:D.some(nn(u.selection.getNode())),root:nn(u.getBody())}))(o);case"point":return vF(o,i);case"selection":return E6(o)}},O6=(o,i,c,u,h,p)=>{const y=c(),S=T6(o,i,p);o1(y,xf.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!1,search:D.none()}).map(k=>{i.preventDefault(),Qr.showMenuAt(h,{anchor:S},{menu:{markers:$b("normal")},data:k})})},D6={onLtr:()=>[Ds,gs,hs,Fs,mr,ls,Vo,Lm,a2,ip,zl,Fl],onRtl:()=>[Ds,hs,gs,mr,Fs,ls,Vo,Lm,zl,Fl,a2,ip]},xF={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},yF=(o,i,c,u,h,p)=>{const y=Fi(),S=y.os.isiOS(),k=y.os.isMacOS(),O=y.os.isAndroid(),M=y.deviceType.isTouch(),N=()=>{const H=c();((K,G,re,le,me,ie,se)=>{const de=((ge,be,Me)=>{const qe=T6(ge,be,Me);return{bubble:Bl(0,Me==="point"?12:0,xF),layouts:D6,overrides:{maxWidthFunction:z3(),maxHeightFunction:Tg()},...qe}})(K,G,ie);o1(re,xf.CLOSE_ON_EXECUTE,le,{isHorizontalMenu:!0,search:D.none()}).map(ge=>{G.preventDefault();const be=se?Fa.HighlightMenuAndItem:Fa.HighlightNone;Qr.showMenuWithinBounds(me,{anchor:de},{menu:{markers:$b("normal"),highlightOnOpen:be},data:ge,type:"horizontal"},()=>D.some(x6(K,le.shared,ie==="node"?"node":"selection"))),K.dispatch(p6)})})(o,i,H,u,h,p,!(O||S||k&&M))};if((k||S)&&p!=="node"){const H=()=>{(K=>{const G=K.selection.getRng(),re=()=>{aC.setEditorTimeout(K,()=>{K.selection.setRng(G)},10),ie()};K.once("touchend",re);const le=se=>{se.preventDefault(),se.stopImmediatePropagation()};K.on("mousedown",le,!0);const me=()=>ie();K.once("longpresscancel",me);const ie=()=>{K.off("touchend",re),K.off("longpresscancel",me),K.off("mousedown",le)}})(o),N()};((K,G)=>{const re=K.selection;if(re.isCollapsed()||G.touches.length<1)return!1;{const le=G.touches[0],me=re.getRng();return zx(K.getWin(),af.domRange(me)).exists(ie=>ie.left<=le.clientX&&ie.right>=le.clientX&&ie.top<=le.clientY&&ie.bottom>=le.clientY)}})(o,i)?H():(o.once("selectionchange",H),o.once("touchend",()=>o.off("selectionchange",H)))}else N()},R6=o=>v(o)?o==="|":o.type==="separator",h4={type:"separator"},N6=o=>{const i=c=>({text:c.text,icon:c.icon,enabled:c.enabled,shortcut:c.shortcut});if(v(o))return o;switch(o.type){case"separator":return h4;case"submenu":return{type:"nestedmenuitem",...i(o),getSubmenuItems:()=>{const u=o.getSubmenuItems();return v(u)?u:yt(u,N6)}};default:const c=o;return{type:"menuitem",...i(c),onAction:We(c.onAction)}}},p4=(o,i)=>{if(i.length===0)return o;const c=_t(o).filter(u=>!R6(u)).fold(()=>[],u=>[h4]);return o.concat(c).concat(i).concat([h4])},u1=(o,i)=>!(c=>c.type==="longpress"||ao(c,"touches"))(i)&&(i.button!==2||i.target===o.getBody()&&i.pointerType===""),I6=(o,i)=>u1(o,i)?o.selection.getStart(!0):i.target,wF=(o,i,c)=>{const u=Fi().deviceType.isTouch,h=ki(Qr.sketch({dom:{tag:"div"},lazySink:i,onEscape:()=>o.focus(),onShow:()=>c.setContextMenuState(!0),onHide:()=>c.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:zt([uo("dismissContextMenu",[bt(dg(),(S,k)=>{T.close(S),o.focus()})])])})),p=()=>Qr.hide(h),y=S=>{if(k6(o)&&S.preventDefault(),((O,M)=>M.ctrlKey&&!k6(O))(o,S)||(O=>g4(O).length===0)(o))return;const k=((O,M)=>{const N=bF(O),H=u1(O,M)?"selection":"point";if(Wa(N)){const K=I6(O,M);return Xv(nn(K),N)?"node":H}return H})(o,S);(u()?yF:O6)(o,S,()=>{const O=I6(o,S),M=o.ui.registry.getAll(),N=g4(o);return((H,K,G)=>{const re=Mn(K,(le,me)=>jt(H,me.toLowerCase()).map(ie=>{const se=ie.update(G);if(v(se)&&Wa(ql(se)))return p4(le,se.split(" "));if(F(se)&&se.length>0){const de=yt(se,N6);return p4(le,de)}return le}).getOrThunk(()=>le.concat([me])),[]);return re.length>0&&R6(re[re.length-1])&&re.pop(),re})(M.contextMenus,N,O)},c,h,k)};o.on("init",()=>{const S="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(u()?"":" ResizeWindow");o.on(S,p),o.on("longpress contextmenu",y)})},b4=wl([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),d1=o=>i=>i.translate(-o.left,-o.top),Hl=o=>i=>i.translate(o.left,o.top),Cf=o=>(i,c)=>Mn(o,(u,h)=>h(u),Ir(i,c)),w2=(o,i,c)=>o.fold(Cf([Hl(c),d1(i)]),Cf([d1(i)]),Cf([])),d0=(o,i,c)=>o.fold(Cf([Hl(c)]),Cf([]),Cf([Hl(i)])),B6=(o,i,c)=>o.fold(Cf([]),Cf([d1(c)]),Cf([Hl(i),d1(c)])),M6=(o,i,c)=>{const u=o.fold((h,p)=>({position:D.some("absolute"),left:D.some(h+"px"),top:D.some(p+"px")}),(h,p)=>({position:D.some("absolute"),left:D.some(h-c.left+"px"),top:D.some(p-c.top+"px")}),(h,p)=>({position:D.some("fixed"),left:D.some(h+"px"),top:D.some(p+"px")}));return{right:D.none(),bottom:D.none(),...u}},v4=(o,i,c,u)=>{const h=(p,y)=>(S,k)=>{const O=p(i,c,u);return y(S.getOr(O.left),k.getOr(O.top))};return o.fold(h(B6,C2),h(d0,Gg),h(w2,f1))},C2=b4.offset,Gg=b4.absolute,f1=b4.fixed,P6=(o,i)=>{const c=_o(o,i);return z(c)?NaN:parseInt(c,10)},L6=(o,i,c,u,h,p)=>{const y=((O,M,N,H)=>((K,G)=>{const re=K.element,le=P6(re,G.leftAttr),me=P6(re,G.topAttr);return isNaN(le)||isNaN(me)?D.none():D.some(Ir(le,me))})(O,M).fold(()=>N,K=>f1(K.left+H.left,K.top+H.top)))(o,i,c,u),S=i.mustSnap?z6(o,i,y,h,p):H6(o,i,y,h,p),k=w2(y,h,p);return((O,M,N)=>{const H=O.element;tn(H,M.leftAttr,N.left+"px"),tn(H,M.topAttr,N.top+"px")})(o,i,k),S.fold(()=>({coord:f1(k.left,k.top),extra:D.none()}),O=>({coord:O.output,extra:O.extra}))},F6=(o,i,c,u)=>je(o,h=>{const p=h.sensor;return((S,k,O,M,N,H)=>{const K=d0(S,N,H),G=d0(k,N,H);return Math.abs(K.left-G.left)<=O&&Math.abs(K.top-G.top)<=M})(i,p,h.range.left,h.range.top,c,u)?D.some({output:v4(h.output,i,c,u),extra:h.extra}):D.none()}),z6=(o,i,c,u,h)=>{const p=i.getSnapPoints(o);return F6(p,c,u,h).orThunk(()=>Mn(p,(S,k)=>{const O=k.sensor,M=((N,H,K,G,re,le)=>{const me=d0(N,re,le),ie=d0(H,re,le),se=Math.abs(me.left-ie.left),de=Math.abs(me.top-ie.top);return Ir(se,de)})(c,O,k.range.left,k.range.top,u,h);return S.deltas.fold(()=>({deltas:D.some(M),snap:D.some(k)}),N=>(M.left+M.top)/2<=(N.left+N.top)/2?{deltas:D.some(M),snap:D.some(k)}:S)},{deltas:D.none(),snap:D.none()}).snap.map(S=>({output:v4(S.output,c,u,h),extra:S.extra})))},H6=(o,i,c,u,h)=>{const p=i.getSnapPoints(o);return F6(p,c,u,h)};var V6=Object.freeze({__proto__:null,snapTo:(o,i,c,u)=>{const h=i.getTarget(o.element);if(i.repositionTarget){const p=$s(o.element),y=Br(p),S=Xd(h),k=((M,N,H)=>({coord:v4(M.output,M.output,N,H),extra:M.extra}))(u,y,S),O=M6(k.coord,0,S);Ka(h,O)}}});const x4="data-initial-z-index",$6=(o,i)=>{o.getSystem().addToGui(i),(c=>{ta(c.element).filter(Ur).each(u=>{_s(u,"z-index").each(h=>{tn(u,x4,h)}),Jn(u,"z-index",os(c.element,"z-index"))})})(i)},CF=o=>{(i=>{ta(i.element).filter(Ur).each(c=>{No(c,x4).fold(()=>er(c,"z-index"),u=>Jn(c,"z-index",u)),mo(c,x4)})})(o),o.getSystem().removeFromGui(o)},U6=(o,i,c)=>o.getSystem().build(gd.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[i]},events:c}));var _F=ds("snaps",[kt("getSnapPoints"),Lo("onSensor"),kt("leftAttr"),kt("topAttr"),Xe("lazyViewport",wi),Xe("mustSnap",!1)]);const y4=[Xe("useFixed",Se),kt("blockerClass"),Xe("getTarget",Ie),Xe("onDrag",pe),Xe("repositionTarget",!0),Xe("onDrop",pe),Mr("getBounds",wi),_F],w4=o=>{return(i=_s(o,"left"),c=_s(o,"top"),u=_s(o,"position"),i.isSome()&&c.isSome()&&u.isSome()?D.some(((h,p,y)=>(y==="fixed"?f1:C2)(parseInt(h,10),parseInt(p,10)))(i.getOrDie(),c.getOrDie(),u.getOrDie())):D.none()).getOrThunk(()=>{const h=dl(o);return Gg(h.left,h.top)});var i,c,u},Z6=(o,i)=>({bounds:o.getBounds(),height:Gl(i.element),width:Oa(i.element)}),C4=(o,i,c,u,h)=>{const p=c.update(u,h),y=c.getStartData().getOrThunk(()=>Z6(i,o));p.each(S=>{((k,O,M,N)=>{const H=O.getTarget(k.element);if(O.repositionTarget){const K=$s(k.element),G=Br(K),re=Xd(H),le=w4(H),me=((se,de,ge,be,Me,qe,wt)=>((pt,mt,Pt,cn,bn)=>{const Dn=bn.bounds,Gn=d0(mt,Pt,cn),Ao=ic(Gn.left,Dn.x,Dn.x+Dn.width-bn.width),Lr=ic(Gn.top,Dn.y,Dn.y+Dn.height-bn.height),qr=Gg(Ao,Lr);return mt.fold(()=>{const go=B6(qr,Pt,cn);return C2(go.left,go.top)},ae(qr),()=>{const go=w2(qr,Pt,cn);return f1(go.left,go.top)})})(0,de.fold(()=>{const pt=(mt=ge,Pt=qe.left,cn=qe.top,mt.fold((Dn,Gn)=>C2(Dn+Pt,Gn+cn),(Dn,Gn)=>Gg(Dn+Pt,Gn+cn),(Dn,Gn)=>f1(Dn+Pt,Gn+cn)));var mt,Pt,cn;const bn=w2(pt,be,Me);return f1(bn.left,bn.top)},pt=>{const mt=L6(se,pt,ge,qe,be,Me);return mt.extra.each(Pt=>{pt.onSensor(se,Pt)}),mt.coord}),be,Me,wt))(k,O.snaps,le,G,re,N,M),ie=M6(me,0,re);Ka(H,ie)}O.onDrag(k,H,N)})(o,i,y,S)})},_4=(o,i,c,u)=>{i.each(CF),c.snaps.each(p=>{((y,S)=>{((k,O)=>{const M=k.element;mo(M,O.leftAttr),mo(M,O.topAttr)})(y,S)})(o,p)});const h=c.getTarget(o.element);u.reset(),c.onDrop(o,h)},S4=o=>(i,c)=>{const u=h=>{c.setStartData(Z6(i,h))};return to([bt($p(),h=>{c.getStartData().each(()=>u(h))}),...o(i,c,u)])};var SF=Object.freeze({__proto__:null,getData:o=>D.from(Ir(o.x,o.y)),getDelta:(o,i)=>Ir(i.left-o.left,i.top-o.top)});const W6=(o,i,c)=>[bt(At(),(u,h)=>{if(h.event.raw.button!==0)return;h.stop();const p=()=>_4(u,D.some(k),o,i),y=tE(p,200),S={drop:p,delayDrop:y.schedule,forceDrop:p,move:O=>{y.cancel(),C4(u,o,i,SF,O)}},k=U6(u,o.blockerClass,(O=>to([bt(At(),O.forceDrop),bt(Xn(),O.drop),bt(Pn(),(M,N)=>{O.move(N.event)}),bt(io(),O.delayDrop)]))(S));c(u),$6(u,k)})],kF=[...y4,Er("dragger",{handlers:S4(W6)})];var j6=Object.freeze({__proto__:null,getData:o=>{const i=o.raw.touches;return i.length===1?(c=>{const u=c[0];return D.some(Ir(u.clientX,u.clientY))})(i):D.none()},getDelta:(o,i)=>Ir(i.left-o.left,i.top-o.top)});const K6=(o,i,c)=>{const u=sr(),h=p=>{_4(p,u.get(),o,i),u.clear()};return[bt(Z(),(p,y)=>{y.stop();const S=()=>h(p),k={drop:S,delayDrop:pe,forceDrop:S,move:M=>{C4(p,o,i,j6,M)}},O=U6(p,o.blockerClass,(M=>to([bt(Z(),M.forceDrop),bt(ke(),M.drop),bt(Le(),M.drop),bt(ee(),(N,H)=>{M.move(H.event)})]))(k));u.set(O),c(p),$6(p,O)}),bt(ee(),(p,y)=>{y.stop(),C4(p,o,i,j6,y.event)}),bt(ke(),(p,y)=>{y.stop(),h(p)}),bt(Le(),h)]},AF=kF,q6=[...y4,Er("dragger",{handlers:S4(K6)})],G6=[...y4,Er("dragger",{handlers:S4((o,i,c)=>[...W6(o,i,c),...K6(o,i,c)])})];var EF=Object.freeze({__proto__:null,mouse:AF,touch:q6,mouseOrTouch:G6}),TF=Object.freeze({__proto__:null,init:()=>{let o=D.none(),i=D.none();const c=ae({});return mi({readState:c,reset:()=>{o=D.none(),i=D.none()},update:(u,h)=>u.getData(h).bind(p=>((y,S)=>{const k=o.map(O=>y.getDelta(O,S));return o=D.some(S),k})(u,p)),getStartData:()=>i,setStartData:u=>{i=D.some(u)}})}});const m1=kw({branchKey:"mode",branches:EF,name:"dragging",active:{events:(o,i)=>o.dragger.handlers(o,i)},extra:{snap:o=>({sensor:o.sensor,range:o.range,output:o.output,extra:D.from(o.extra)})},state:TF,apis:V6}),Y6=(o,i,c,u,h,p)=>o.fold(()=>m1.snap({sensor:Gg(c-20,u-20),range:Ir(h,p),output:Gg(D.some(c),D.some(u)),extra:{td:i}}),y=>{const S=c-20,k=u-20,O=y.element.dom.getBoundingClientRect();return m1.snap({sensor:Gg(S,k),range:Ir(40,40),output:Gg(D.some(c-O.width/2),D.some(u-O.height/2)),extra:{td:i}})}),X6=(o,i,c)=>({getSnapPoints:o,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(u,h)=>{const p=h.td;((y,S)=>y.exists(k=>Uo(k,S)))(i.get(),p)||(i.set(p),c(p))},mustSnap:!0}),J6=o=>tr(Ca.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:zt([m1.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:o}),Qb.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),Q6=(o,i)=>{const c=En([]),u=En([]),h=En(!1),p=sr(),y=sr(),S=ie=>{const se=Ya(ie);return Y6(N.getOpt(i),ie,se.x,se.y,se.width,se.height)},k=ie=>{const se=Ya(ie);return Y6(H.getOpt(i),ie,se.right,se.bottom,se.width,se.height)},O=X6(()=>yt(c.get(),ie=>S(ie)),p,ie=>{y.get().each(se=>{o.dispatch("TableSelectorChange",{start:ie,finish:se})})}),M=X6(()=>yt(u.get(),ie=>k(ie)),y,ie=>{p.get().each(se=>{o.dispatch("TableSelectorChange",{start:se,finish:ie})})}),N=J6(O),H=J6(M),K=ki(N.asSpec()),G=ki(H.asSpec()),re=(ie,se,de,ge)=>{const be=de(se);m1.snapTo(ie,be),((Me,qe,wt,pt)=>{const mt=qe.dom.getBoundingClientRect();er(Me.element,"display");const Pt=Cc(nn(o.getBody())).dom.innerHeight,cn=mt[ge]<0,bn=((Dn,Gn)=>Dn[ge]>Gn)(mt,Pt);(cn||bn)&&Jn(Me.element,"display","none")})(ie,se)},le=ie=>re(K,ie,S,"top"),me=ie=>re(G,ie,k,"bottom");if(Fi().deviceType.isTouch()){const ie=se=>yt(se,nn);o.on("TableSelectionChange",se=>{h.get()||(df(i,K),df(i,G),h.set(!0));const de=nn(se.start),ge=nn(se.finish);p.set(de),y.set(ge),D.from(se.otherCells).each(be=>{c.set(ie(be.upOrLeftCells)),u.set(ie(be.downOrRightCells)),le(de),me(ge)})}),o.on("ResizeEditor ResizeWindow ScrollContent",()=>{p.get().each(le),y.get().each(me)}),o.on("TableSelectionClear",()=>{h.get()&&(Pa(K),Pa(G),h.set(!1)),p.clear(),y.clear()})}},eI=(o,i,c)=>{var u;const h=(u=i.delimiter)!==null&&u!==void 0?u:"";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:zt([kn.config({mode:"flow",selector:"div[role=button]"}),qn.config({disabled:c.isDisabled}),hi(),Sr.config({}),Fn.config({}),uo("elementPathEvents",[Vr((p,y)=>{o.shortcuts.add("alt+F11","focus statusbar elementpath",()=>kn.focusIn(p)),o.on("NodeChange",S=>{const k=(M=>{const N=[];let H=M.length;for(;H-- >0;){const G=M[H];if(G.nodeType===1&&(K=G).nodeName!=="BR"&&!K.getAttribute("data-mce-bogus")&&K.getAttribute("data-mce-type")!=="bookmark"){const re=SD(o,G);if(re.isDefaultPrevented()||N.push({name:re.name,element:G}),re.isPropagationStopped())break}}var K;return N})(S.parents),O=k.length>0?Mn(k,(M,N,H)=>{const K=((G,re,le)=>Ca.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":le}},components:[xs(G)],action:me=>{o.focus(),o.selection.select(re),o.nodeChanged()},buttonBehaviours:zt([Hs.config({...c.tooltips.getConfig({tooltipText:c.translate(["Select the {0} element",re.nodeName.toLowerCase()]),onShow:(me,ie)=>{((se,de)=>{const ge=D.from(_o(se,"id")).getOrThunk(()=>{const be=mn("aria");return tn(de,"id",be),be});tn(se,"aria-describedby",ge)})(me.element,ie.element)},onHide:me=>{var ie;ie=me.element,mo(ie,"aria-describedby")}})}),la(c.isDisabled),hi()])}))(N.name,N.element,H);return H===0?M.concat([K]):M.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[xs(` ${h} `)]},K])},[]):[];Fn.set(p,O)})})])]),components:[]}};var Yg;(function(o){o[o.None=0]="None",o[o.Both=1]="Both",o[o.Vertical=2]="Vertical"})(Yg||(Yg={}));const eS=(o,i,c)=>{const u=nn(o.getContainer()),h=((p,y,S,k,O)=>{const M={height:v2(k+y.top,Mv(p),lC(p))};return S===Yg.Both&&(M.width=v2(O+y.left,my(p),Pv(p))),M})(o,i,c,us(u),ui(u));Mt(h,(p,y)=>{ne(p)&&Jn(u,y,lp(p))}),(p=>{p.dispatch("ResizeEditor")})(o)},tS=(o,i,c,u)=>{const h=Ir(20*c,20*u);return eS(o,h,i),D.some(!0)},tI=(o,i)=>{const c=()=>{const u=[],h=Jk(o),p=m5(o),y=gc(o)||o.hasPlugin("wordcount");return p&&u.push(eI(o,{},i)),h&&u.push((()=>{const S=FC("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[xs(Su.translate(["Press {0} for help",S]))]}})()),y&&u.push((()=>{const S=[];return o.hasPlugin("wordcount")&&S.push(((k,O)=>{const M=(N,H,K)=>Fn.set(N,[xs(O.translate(["{0} "+K,H[K]]))]);return Ca.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:zt([la(O.isDisabled),hi(),Sr.config({}),Fn.config({}),nt.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),uo("wordcount-events",[Mc(N=>{const H=nt.getValue(N),K=H.mode==="words"?"characters":"words";nt.setValue(N,{mode:K,count:H.count}),M(N,H.count,K)}),Vr(N=>{k.on("wordCountUpdate",H=>{const{mode:K}=nt.getValue(N);nt.setValue(N,{mode:K,count:H.wordCount}),M(N,H.wordCount,K)})})])]),eventOrder:{[Xa()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(o,i)),gc(o)&&S.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":o.translate(["Build with {0}","TinyMCE"])},innerHtml:o.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:zt([jn.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:S}})()),u.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const S="tox-statusbar__text-container--flex-start",k="tox-statusbar__text-container--flex-end";if(h){const O="tox-statusbar__text-container-3-cols";return y||p?y&&!p?[O,k]:[O,S]:[O,"tox-statusbar__text-container--space-around"]}return[y&&!p?k:S]})()]},components:u}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const u=c(),h=((p,y)=>{const S=(O=>{const M=qi(O);return M===!1?Yg.None:M==="both"?Yg.Both:Yg.Vertical})(p);if(S===Yg.None)return D.none();const k=S===Yg.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return D.some(hc("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":y.translate(k),"data-mce-name":"resize-handle"},behaviours:[m1.config({mode:"mouse",repositionTarget:!1,onDrag:(O,M,N)=>eS(p,N,S),blockerClass:"tox-blocker"}),kn.config({mode:"special",onLeft:()=>tS(p,S,-1,0),onRight:()=>tS(p,S,1,0),onUp:()=>tS(p,S,0,-1),onDown:()=>tS(p,S,0,1)}),Sr.config({}),jn.config({}),Hs.config(y.tooltips.getConfig({tooltipText:y.translate("Resize")}))]},y.icons))})(o,i);return u.concat(h.toArray())})()}},nI=(o,i)=>i.get().getOrDie(`UI for ${o} has not been rendered`),OF=(o,i)=>{const c=o.inline,u=c?cF:VV,h=Lg(o)?lL:aL,p=(()=>{const be=sr(),Me=sr(),qe=sr();return{dialogUi:be,popupUi:Me,mainUi:qe,getUiMotherships:()=>{const wt=be.get().map(mt=>mt.mothership),pt=Me.get().map(mt=>mt.mothership);return wt.fold(()=>pt.toArray(),mt=>pt.fold(()=>[mt],Pt=>Uo(mt.element,Pt.element)?[mt]:[mt,Pt]))},lazyGetInOuterOrDie:(wt,pt)=>()=>qe.get().bind(mt=>pt(mt.outerContainer)).getOrDie(`Could not find ${wt} element in OuterContainer`)}})(),y=sr(),S=sr(),k=sr(),O=Fi().deviceType.isTouch()?["tox-platform-touch"]:[],M=Qk(o),N=Fb(o),H=tr({dom:{tag:"div",classes:["tox-anchorbar"]}}),K=tr({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),G=()=>p.mainUi.get().map(be=>be.outerContainer).bind(Pr.getHeader),re=p.lazyGetInOuterOrDie("anchor bar",H.getOpt),le=p.lazyGetInOuterOrDie("bottom anchor bar",K.getOpt),me=p.lazyGetInOuterOrDie("toolbar",Pr.getToolbar),ie=p.lazyGetInOuterOrDie("throbber",Pr.getThrobber),se=((be,Me,qe,wt)=>{const pt=En(!1),mt=(Fo=>{const Ln=En(Qk(Fo)?"bottom":"top");return{isPositionedAtTop:()=>Ln.get()==="top",getDockingMode:Ln.get,setDockingMode:Ln.set}})(Me),Pt={icons:()=>Me.ui.registry.getAll().icons,menuItems:()=>Me.ui.registry.getAll().menuItems,translate:Su.translate,isDisabled:()=>Me.mode.isReadOnly()||!Me.ui.isEnabled(),getOption:Me.options.get,tooltips:w3(be.dialog)},cn=wN(Me),bn=(Fo=>{const Ln=Ti=>()=>Fo.formatter.match(Ti),Gr=Ti=>()=>{const bi=Fo.formatter.get(Ti);return bi!==void 0?D.some({tag:bi.length>0&&(bi[0].inline||bi[0].block)||"div",styles:Fo.dom.parseStyle(Fo.formatter.getCssText(Ti))}):D.none()},hr=En([]),_a=En([]),Sa=En(!1);return Fo.on("PreInit",Ti=>{const bi=dN(Fo),Xg=y3(Fo,bi,Ln,Gr);hr.set(Xg)}),Fo.on("addStyleModifications",Ti=>{const bi=y3(Fo,Ti.items,Ln,Gr);_a.set(bi),Sa.set(Ti.replace)}),{getData:()=>{const Ti=Sa.get()?[]:hr.get(),bi=_a.get();return Ti.concat(bi)}}})(Me),Dn=(Fo=>({colorPicker:K7(Fo),hasCustomColors:q7(Fo),getColors:G7(Fo),getColorCols:Y7(Fo)}))(Me),Gn=(Fo=>({isDraggableModal:lN(Fo)}))(Me),Ao={shared:{providers:Pt,anchors:j7(Me,qe,wt,mt.isPositionedAtTop),header:mt},urlinput:cn,styles:bn,colorinput:Dn,dialog:Gn,isContextMenuOpen:()=>pt.get(),setContextMenuState:Fo=>pt.set(Fo)},Lr=Fo=>D.none(),qr={...Ao,shared:{...Ao.shared,interpreter:Fo=>oN(Fo,{},qr,Lr),getSink:be.popup}},go={...Ao,shared:{...Ao.shared,interpreter:Fo=>oN(Fo,{},go,Lr),getSink:be.dialog}};return{popup:qr,dialog:go}})({popup:()=>ko.fromOption(p.popupUi.get().map(be=>be.sink),"(popup) UI has not been rendered"),dialog:()=>ko.fromOption(p.dialogUi.get().map(be=>be.sink),"UI has not been rendered")},o,re,le),de=()=>{const be=(()=>{const Ao={attributes:{[tl]:M?dc.BottomToTop:dc.TopToBottom}},Lr=Pr.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:se.popup,onEscape:()=>{o.focus()}}),qr=Pr.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:se.popup.shared.getSink,providers:se.popup.shared.providers,onEscape:()=>{o.focus()},onToolbarToggled:bi=>{((Xg,p0)=>{Xg.dispatch("ToggleToolbarDrawer",{state:p0})})(o,bi)},type:N,lazyToolbar:me,lazyHeader:()=>G().getOrDie("Could not find header element"),...Ao}),go=Pr.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:se.popup.shared.providers,onEscape:()=>{o.focus()},type:N}),Fo=vy(o),Ln=by(o),Gr=py(o),hr=h5(o),_a=Pr.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Sa=Fo||Ln||Gr,Ti=hr?[_a,Lr]:[Lr];return Pr.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Sa?[]:["tox-editor-header--empty"]),...Ao},components:pr([Gr?Ti:[],Fo?[go]:Ln?[qr]:[],zb(o)?[]:[H.asSpec()]]),sticky:Lg(o),editor:o,sharedBackstage:se.popup.shared})})(),Me={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Pr.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Pr.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},qe=Pr.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:se.popup}),wt=Pr.parts.viewWrapper({backstage:se.popup}),pt=f5(o)&&!c?D.some(tI(o,se.popup.shared.providers)):D.none(),mt=pr([M?[]:[be],c?[]:[Me],M?[be]:[]]),Pt=Pr.parts.editorContainer({components:pr([mt,c?[]:[K.asSpec()]])}),cn=xC(o),bn={role:"application",...Su.isRtl()?{dir:"rtl"}:{},...cn?{"aria-hidden":"true"}:{}},Dn=ki(Pr.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(c?["tox-tinymce-inline"]:[]).concat(M?["tox-tinymce--toolbar-bottom"]:[]).concat(O),styles:{visibility:"hidden",...cn?{opacity:"0",border:"0"}:{}},attributes:bn},components:[Pt,...c?[]:[wt,...pt.toArray()],qe],behaviours:zt([hi(),qn.config({disableClass:"tox-tinymce--disabled"}),kn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),Gn=YC(Dn);return y.set(Gn),{mothership:Gn,outerContainer:Dn}},ge=be=>{const Me=lp((wt=>(mt=>{const Pt=dy(mt),cn=Mv(mt),bn=lC(mt);return b2(Pt).map(Dn=>v2(Dn,cn,bn))})(wt).getOr(dy(wt)))(o)),qe=lp((wt=>i4(wt).getOr(fy(wt)))(o));return o.inline||(ul("div","width",qe)&&Jn(be.element,"width",qe),ul("div","height",Me)?Jn(be.element,"height",Me):Jn(be.element,"height","400px")),Me};return{popups:{backstage:se.popup,getMothership:()=>nI("popups",k)},dialogs:{backstage:se.dialog,getMothership:()=>nI("dialogs",S)},renderUI:()=>{const be=de(),Me=(()=>{const wt=vC(o),pt=Uo(fn(),wt)&&os(wt,"display")==="grid",mt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(O),attributes:{...Su.isRtl()?{dir:"rtl"}:{}}},behaviours:zt([Ki.config({useFixed:()=>h.isDocked(G)})])},Pt={dom:{styles:{width:document.body.clientWidth+"px"}},events:to([bt(jd(),Dn=>{Jn(Dn.element,"width",document.body.clientWidth+"px")})])},cn=ki(fr(mt,pt?Pt:{})),bn=YC(cn);return S.set(bn),{sink:cn,mothership:bn}})(),qe=Fg(o)?(()=>{const wt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(O),attributes:{...Su.isRtl()?{dir:"rtl"}:{}}},behaviours:zt([Ki.config({useFixed:()=>h.isDocked(G),getBounds:()=>i.getPopupSinkBounds()})])},pt=ki(wt),mt=YC(pt);return k.set(mt),{sink:pt,mothership:mt}})():(wt=>(k.set(wt.mothership),wt))(Me);return p.dialogUi.set(Me),p.popupUi.set(qe),p.mainUi.set(be),(wt=>{const{mainUi:pt,popupUi:mt,uiMotherships:Pt}=wt;Gt(uC(o),(Ln,Gr)=>{o.ui.registry.addGroupToolbarButton(Gr,Ln)});const{buttons:cn,menuItems:bn,contextToolbars:Dn,sidebars:Gn,views:Ao}=o.ui.registry.getAll(),Lr=bC(o),qr={menuItems:bn,menus:zh(o),menubar:Pg(o),toolbar:Lr.getOrThunk(()=>Fv(o)),allowToolbarGroups:N===_u.floating,buttons:cn,sidebar:Gn,views:Ao};var go;go=pt.outerContainer,o.addShortcut("alt+F9","focus menubar",()=>{Pr.focusMenubar(go)}),o.addShortcut("alt+F10","focus toolbar",()=>{Pr.focusToolbar(go)}),o.addCommand("ToggleToolbarDrawer",(Ln,Gr)=>{Gr!=null&&Gr.skipFocus?Pr.toggleToolbarDrawerWithoutFocusing(go):Pr.toggleToolbarDrawer(go)}),o.addQueryStateHandler("ToggleToolbarDrawer",()=>Pr.isToolbarDrawerToggled(go)),((Ln,Gr,hr)=>{const _a=(Go,Zm)=>{qt([Gr,...hr],yd=>{yd.broadcastEvent(Go,Zm)})},Sa=(Go,Zm)=>{qt([Gr,...hr],yd=>{yd.broadcastOn([Go],Zm)})},Ti=Go=>Sa(B(),{target:Go.target}),bi=ma(),Xg=ya(bi,"touchstart",Ti),p0=ya(bi,"touchmove",Go=>_a(yn(),Go)),up=ya(bi,"touchend",Go=>_a(Ic(),Go)),Jg=ya(bi,"mousedown",Ti),I2=ya(bi,"mouseup",Go=>{Go.raw.button===0&&Sa($(),{target:Go.target})}),dp=Go=>Sa(B(),{target:nn(Go.target)}),$m=Go=>{Go.button===0&&Sa($(),{target:nn(Go.target)})},h1=()=>{qt(Ln.editorManager.get(),Go=>{Ln!==Go&&Go.dispatch("DismissPopups",{relatedTarget:Ln})})},p1=Go=>_a($p(),id(Go)),b0=Go=>{Sa(V(),{}),_a(jd(),id(Go))},uS=ot(nn(Ln.getElement())),B2=Mx(uS,"scroll",Go=>{requestAnimationFrame(()=>{if(Ln.getContainer()!=null){const Zm=Hh(Ln,Gr.element).map(yd=>[yd.element,...yd.others]).getOr([]);Un(Zm,yd=>Uo(yd,Go.target))&&(Ln.dispatch("ElementScroll",{target:Go.target.dom}),_a(gh(),Go))}})}),fp=()=>Sa(V(),{}),Um=Go=>{Go.state&&Sa(B(),{target:nn(Ln.getContainer())})},Qg=Go=>{Sa(B(),{target:nn(Go.relatedTarget.getContainer())})},M2=Go=>Ln.dispatch("focusin",Go),P2=Go=>Ln.dispatch("focusout",Go);Ln.on("PostRender",()=>{Ln.on("click",dp),Ln.on("tap",dp),Ln.on("mouseup",$m),Ln.on("mousedown",h1),Ln.on("ScrollWindow",p1),Ln.on("ResizeWindow",b0),Ln.on("ResizeEditor",fp),Ln.on("AfterProgressState",Um),Ln.on("DismissPopups",Qg),qt([Gr,...hr],Go=>{Go.element.dom.addEventListener("focusin",M2),Go.element.dom.addEventListener("focusout",P2)})}),Ln.on("remove",()=>{Ln.off("click",dp),Ln.off("tap",dp),Ln.off("mouseup",$m),Ln.off("mousedown",h1),Ln.off("ScrollWindow",p1),Ln.off("ResizeWindow",b0),Ln.off("ResizeEditor",fp),Ln.off("AfterProgressState",Um),Ln.off("DismissPopups",Qg),qt([Gr,...hr],Go=>{Go.element.dom.removeEventListener("focusin",M2),Go.element.dom.removeEventListener("focusout",P2)}),Jg.unbind(),Xg.unbind(),p0.unbind(),up.unbind(),I2.unbind(),B2.unbind()}),Ln.on("detach",()=>{qt([Gr,...hr],ck),qt([Gr,...hr],Go=>Go.destroy())})})(o,pt.mothership,Pt),h.setup(o,se.popup.shared,G),pF(o,se.popup),wF(o,se.popup.shared.getSink,se.popup),(Ln=>{const{sidebars:Gr}=Ln.ui.registry.getAll();qt(et(Gr),hr=>{const _a=Gr[hr],Sa=()=>Nr(D.from(Ln.queryCommandValue("ToggleSidebar")),hr);Ln.ui.registry.addToggleButton(hr,{icon:_a.icon,tooltip:_a.tooltip,onAction:Ti=>{Ln.execCommand("ToggleSidebar",!1,hr),Ti.setActive(Sa())},onSetup:Ti=>{Ti.setActive(Sa());const bi=()=>Ti.setActive(Sa());return Ln.on("ToggleSidebar",bi),()=>{Ln.off("ToggleSidebar",bi)}}})})})(o),RN(o,ie,se.popup.shared),fF(o,Dn,mt.sink,{backstage:se.popup}),Q6(o,mt.sink);const Fo={targetNode:o.getElement(),height:ge(pt.outerContainer)};return u.render(o,wt,qr,se.popup,Fo)})({popupUi:qe,dialogUi:Me,mainUi:be,uiMotherships:p.getUiMotherships()})}}},DF=ae([kt("lazySink"),Io("dragBlockClass"),Mr("getBounds",wi),Xe("useTabstopAt",Ne),Xe("firstTabstop",0),Xe("eventOrder",{}),gn("modalBehaviours",[kn]),Ja("onExecute"),sa("onEscape")]),k4={sketch:Ie},A4=ae([$c({name:"draghandle",overrides:(o,i)=>({behaviours:zt([m1.config({mode:"mouse",getTarget:c=>dm(c,'[role="dialog"]').getOr(c),blockerClass:o.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(i,null,2)).message),getBounds:o.getDragBounds})])})}),nl({schema:[kt("dom")],name:"title"}),nl({factory:k4,schema:[kt("dom")],name:"close"}),nl({factory:k4,schema:[kt("dom")],name:"body"}),$c({factory:k4,schema:[kt("dom")],name:"footer"}),ud({factory:{sketch:(o,i)=>({...o,dom:i.dom,components:i.components})},schema:[Xe("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Xe("components",[])],name:"blocker"})]),ps=gl({name:"ModalDialog",configFields:DF(),partFields:A4(),factory:(o,i,c,u)=>{const h=sr(),p=mn("modal-events"),y={...o.eventOrder,[Ui()]:[p].concat(o.eventOrder["alloy.system.attached"]||[])},S=Fi();return{uid:o.uid,dom:o.dom,components:i,apis:{show:k=>{h.set(k);const O=o.lazySink(k).getOrDie(),M=u.blocker(),N=O.getSystem().build({...M,components:M.components.concat([Ba(k)]),behaviours:zt([jn.config({}),uo("dialog-blocker-events",[Yd(Xo(),()=>{Bu.isBlocked(k)||kn.focusIn(k)})])])});df(O,N),kn.focusIn(k)},hide:k=>{h.clear(),ta(k.element).each(O=>{k.getSystem().getByDom(O).each(M=>{Pa(M)})})},getBody:k=>Bg(k,o,"body"),getFooter:k=>Or(k,o,"footer"),setIdle:k=>{Bu.unblock(k)},setBusy:(k,O)=>{Bu.block(k,O)}},eventOrder:y,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:co(o.modalBehaviours,[Fn.config({}),kn.config({mode:"cyclic",onEnter:o.onExecute,onEscape:o.onEscape,useTabstopAt:o.useTabstopAt,firstTabstop:o.firstTabstop}),Bu.config({getRoot:h.get}),uo(p,[Vr(k=>{const O=Bg(k,o,"title").element,M=(N=>N.dom.textContent)(O);S.os.isMacOS()&&U(M)?tn(k.element,"aria-label",M):((N,H)=>{const K=No(N,"id").fold(()=>{const G=mn("dialog-label");return tn(H,"id",G),G},Ie);tn(N,"aria-labelledby",K)})(k.element,O)})])])}},apis:{show:(o,i)=>{o.show(i)},hide:(o,i)=>{o.hide(i)},getBody:(o,i)=>o.getBody(i),getFooter:(o,i)=>o.getFooter(i),setBusy:(o,i,c)=>{o.setBusy(i,c)},setIdle:(o,i)=>{o.setIdle(i)}}}),RF=In([Xs,hA].concat(Wb)),_2=Dl,E4=[CA("button"),Au,Ql("align","end",["start","end"]),NC,Eu,lg("buttonType",["primary","secondary"])],nS=[...E4,ku],T4=[gu("type",["submit","cancel","custom"]),...nS],NF=[gu("type",["menu"]),jh,Py,Au,Na("items",RF),...E4],IF=[...E4,gu("type",["togglebutton"]),Py,Au,jh,Ls("active",!1)],oI=qs("type",{submit:T4,cancel:T4,custom:T4,menu:NF,togglebutton:IF}),BF=[Xs,ku,gu("level",["info","warn","error","success"]),vA,Xe("url","")],O4=In(BF),D4=[Xs,ku,Eu,CA("button"),Au,HV,lg("buttonType",["primary","secondary","toolbar"]),NC],R4=In(D4),f0=[Xs,hA],Ei=f0.concat([xA]),MF=f0.concat([pA,Eu]),PF=In(MF),rI=Dl,sI=Ei.concat([X5("auto")]),LF=In(sI),FF=du([Ub,ku,vA]),zF=Ei.concat([yl("storageKey","default")]),HF=In(zF),VF=ni,$F=In(Ei),UF=ni,iI=f0.concat([yl("tag","textarea"),ss("scriptId"),ss("scriptUrl"),Rc("onFocus"),ba("settings",void 0,F1)]),ZF=f0.concat([yl("tag","textarea"),pa("init")]),WF=$d(o=>rs("customeditor.old",ti(ZF),o).orThunk(()=>rs("customeditor.new",ti(iI),o))),jF=ni,aI=In(Ei),N4=uu(cu),lI=o=>[Xs,fh("columns"),o],cI=[Xs,ss("html"),Ql("presets","presentation",["presentation","document"]),Mr("onInit",pe),Ls("stretched",!1)],uI=In(cI),dI=Ei.concat([Ls("border",!1),Ls("sandboxed",!0),Ls("streamContent",!1),Ls("transparent",!0)]),I4=In(dI),KF=ni,B4=In(f0.concat([vs("height")])),m0=In([ss("url"),Ud("zoom"),Ud("cachedWidth"),Ud("cachedHeight")]),fI=Ei.concat([vs("inputMode"),vs("placeholder"),Ls("maximized",!1),Eu]),mI=In(fI),gI=ni,qF=o=>[Xs,pA,o,Ql("align","start",["start","center","end"]),vs("for")],GF=[ku,Ub],oS=[ku,Na("items",dh(0,()=>hI))],hI=Xf([In(GF),In(oS)]),YF=Ei.concat([Na("items",hI),Eu]),pI=In(YF),bI=ni,M4=Ei.concat([Qf("items",[ku,Ub]),As("size",1),Eu]),vI=In(M4),kl=ni,xI=Ei.concat([Ls("constrain",!0),Eu]),XF=In(xI),yI=In([ss("width"),ss("height")]),wI=f0.concat([pA,As("min",0),As("max",0)]),JF=In(wI),QF=Xu,ez=[Xs,Na("header",ni),Na("cells",uu(ni))],CI=In(ez),Vm=Ei.concat([vs("placeholder"),Ls("maximized",!1),Eu]),P4=In(Vm),_I=ni,S2=[gu("type",["directory","leaf"]),bA,ss("id"),ks("menu",EN)],rS=In(S2),tz=S2.concat([Na("children",dh(0,()=>mu("type",{directory:SI,leaf:rS})))]),SI=In(tz),nz=mu("type",{directory:SI,leaf:rS}),oz=[Xs,Na("items",nz),Rc("onLeafAction"),Rc("onToggleExpand"),lr("defaultExpandedIds",[],ni),vs("defaultSelectedId")],rz=In(oz),sz=Ei.concat([Ql("filetype","file",["image","media","file"]),Eu,vs("picker_text")]),iz=In(sz),kI=In([Ub,pc]),L4=o=>Zs("items","items",{tag:"required",process:{}},uu($d(i=>rs(`Checking item of ${o}`,xd,i).fold(c=>ko.error(Ra(c)),c=>ko.value(c))))),xd=Yf(()=>{return mu("type",{alertbanner:O4,bar:In((o=L4("bar"),[Xs,o])),button:R4,checkbox:PF,colorinput:HF,colorpicker:$F,dropzone:aI,grid:In(lI(L4("grid"))),iframe:I4,input:mI,listbox:pI,selectbox:vI,sizeinput:XF,slider:JF,textarea:P4,urlinput:iz,customeditor:WF,htmlpanel:uI,imagepreview:B4,collection:LF,label:In(qF(L4("label"))),table:CI,tree:rz,panel:AI});var o}),sS=[Xs,Xe("classes",[]),Na("items",xd)],AI=In(sS),az=[CA("tab"),bA,Na("items",xd)],EI=[Xs,Qf("tabs",az)],TI=In(EI),F4=nS,iS=oI,k2=In([ss("title"),_i("body",mu("type",{panel:AI,tabpanel:TI})),yl("size","normal"),lr("buttons",[],iS),Xe("initialData",{}),Mr("onAction",pe),Mr("onChange",pe),Mr("onSubmit",pe),Mr("onClose",pe),Mr("onCancel",pe),Mr("onTabChange",pe)]),A2=In([gu("type",["cancel","custom"]),...F4]),OI=In([ss("title"),ss("url"),Ud("height"),Ud("width"),z1("buttons",A2),Mr("onAction",pe),Mr("onCancel",pe),Mr("onClose",pe),Mr("onMessage",pe)]),aS=o=>w(o)?[o].concat(jo(Ar(o),aS)):F(o)?jo(o,aS):[],DI=o=>v(o.type)&&v(o.name),RI={checkbox:rI,colorinput:VF,colorpicker:UF,dropzone:N4,input:gI,iframe:KF,imagepreview:m0,selectbox:kl,sizeinput:yI,slider:QF,listbox:bI,size:yI,textarea:_I,urlinput:kI,customeditor:jF,collection:FF,togglemenuitem:_2},lz=o=>{const i=(u=>xo(aS(u),DI))(o),c=jo(i,u=>(h=>D.from(RI[h.type]))(u).fold(()=>[],h=>[_i(u.name,h)]));return In(c)},NI=o=>{var i;return{internalDialog:ha(rs("dialog",k2,o)),dataValidator:lz(o),initialData:(i=o.initialData)!==null&&i!==void 0?i:{}}},g1={open:(o,i)=>{const c=NI(i);return o(c.internalDialog,c.initialData,c.dataValidator)},openUrl:(o,i)=>o(ha(rs("dialog",OI,i))),redial:o=>NI(o)};var cz=Object.freeze({__proto__:null,events:(o,i)=>{const c=(u,h)=>{o.updateState.each(p=>{const y=p(u,h);i.set(y)}),o.renderComponents.each(p=>{const y=p(h,i.get());(o.reuseDom?Hk:Bb)(u,y)})};return to([bt(Rl(),(u,h)=>{const p=h;if(!p.universal){const y=o.channel;rt(p.channels,y)&&c(u,p.data)}}),Vr((u,h)=>{o.initialData.each(p=>{c(u,p)})})])}}),uz=Object.freeze({__proto__:null,getState:(o,i,c)=>c}),II=[kt("channel"),Io("renderComponents"),Io("updateState"),Io("initialData"),Ls("reuseDom",!0)];const Vl=gi({fields:II,name:"reflecting",active:cz,apis:uz,state:Object.freeze({__proto__:null,init:()=>{const o=En(D.none());return{readState:()=>o.get().getOr("none"),get:o.get,set:o.set,clear:()=>o.set(D.none())}}})}),BI=o=>{const i=[],c={};return Mt(o,(u,h)=>{u.fold(()=>{i.push(h)},p=>{c[h]=p})}),i.length>0?ko.error(i):ko.value(c)},MI=(o,i,c,u)=>{const h=tr(ep.sketch(y=>({dom:{tag:"div",classes:["tox-form"].concat(o.classes)},components:yt(o.items,S=>I_(y,S,i,c,u))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[h.asSpec()]}],behaviours:zt([kn.config({mode:"acyclic",useTabstopAt:He(e0)}),(p=h,Ho.config({find:p.getOpt})),RE(h,{postprocess:y=>BI(y).fold(S=>(console.error(S),{}),Ie)}),uo("dialog-body-panel",[bt(Xo(),(y,S)=>{y.getSystem().broadcastOn([C_],{newFocus:D.some(S.event.target)})})])])};var p},dz=Uc({name:"TabButton",configFields:[Xe("uid",void 0),kt("value"),Zs("dom","dom",Po(()=>({attributes:{role:"tab",id:mn("aria"),"aria-selected":"false"}})),ml()),Io("action"),Xe("domModification",{}),gn("tabButtonBehaviours",[jn,kn,nt]),kt("view")],factory:(o,i)=>({uid:o.uid,dom:o.dom,components:o.components,events:Iv(o.action),behaviours:co(o.tabButtonBehaviours,[jn.config({}),kn.config({mode:"execution",useSpace:!0,useEnter:!0}),nt.config({store:{mode:"memory",initialValue:o.value}})]),domModification:o.domModification})}),PI=ae([kt("tabs"),kt("dom"),Xe("clickToDismiss",!1),gn("tabbarBehaviours",[or,kn]),vg(["tabClass","selectedClass"])]),E2=jw({factory:dz,name:"tabs",unit:"tab",overrides:o=>{const i=(u,h)=>{or.dehighlight(u,h),Cn(u,Lt(),{tabbar:u,button:h})},c=(u,h)=>{or.highlight(u,h),Cn(u,hh(),{tabbar:u,button:h})};return{action:u=>{const h=u.getSystem().getByUid(o.uid).getOrDie(),p=or.isHighlighted(h,u);(p&&o.clickToDismiss?i:p?pe:c)(h,u)},domModification:{classes:[o.markers.tabClass]}}}}),fz=ae([E2]),z4=gl({name:"Tabbar",configFields:PI(),partFields:fz(),factory:(o,i,c,u)=>({uid:o.uid,dom:o.dom,components:i,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:co(o.tabbarBehaviours,[or.config({highlightClass:o.markers.selectedClass,itemClass:o.markers.tabClass,onHighlight:(h,p)=>{tn(p.element,"aria-selected","true")},onDehighlight:(h,p)=>{tn(p.element,"aria-selected","false")}}),kn.config({mode:"flow",getInitial:h=>or.getHighlighted(h).map(p=>p.element),selector:"."+o.markers.tabClass,executeOnMove:!0})])})}),mz=Uc({name:"Tabview",configFields:[gn("tabviewBehaviours",[Fn])],factory:(o,i)=>({uid:o.uid,dom:o.dom,behaviours:co(o.tabviewBehaviours,[Fn.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),gz=ae([Xe("selectFirst",!0),Lo("onChangeTab"),Lo("onDismissTab"),Xe("tabs",[]),gn("tabSectionBehaviours",[])]),hz=nl({factory:z4,schema:[kt("dom"),Jl("markers",[kt("tabClass"),kt("selectedClass")])],name:"tabbar",defaults:o=>({tabs:o.tabs})}),pz=nl({factory:mz,name:"tabview"}),LI=ae([hz,pz]),g0=gl({name:"TabSection",configFields:gz(),partFields:LI(),factory:(o,i,c,u)=>{const h=(p,y)=>{Or(p,o,"tabbar").each(S=>{y(S).each(Gd)})};return{uid:o.uid,dom:o.dom,components:i,behaviours:Hn(o.tabSectionBehaviours),events:to(pr([o.selectFirst?[Vr((p,y)=>{h(p,or.getFirst)})]:[],[bt(hh(),(p,y)=>{(S=>{const k=nt.getValue(S);Or(S,o,"tabview").each(O=>{X(o.tabs,M=>M.value===k).each(M=>{const N=M.view();No(S.element,"id").each(H=>{tn(O.element,"aria-labelledby",H)}),Fn.set(O,N),o.onChangeTab(O,S,N)})})})(y.event.button)}),bt(Lt(),(p,y)=>{const S=y.event.button;o.onDismissTab(p,S)})]])),apis:{getViewItems:p=>Or(p,o,"tabview").map(y=>Fn.contents(y)).getOr([]),showTab:(p,y)=>{h(p,S=>{const k=or.getCandidates(S);return X(k,O=>nt.getValue(O)===y).filter(O=>!or.isHighlighted(S,O))})}}}},apis:{getViewItems:(o,i)=>o.getViewItems(i),showTab:(o,i,c)=>{o.showTab(i,c)}}}),H4=(o,i)=>{Jn(o,"height",i+"px"),Jn(o,"flex-basis",i+"px")},h0=(o,i,c)=>{dm(o,'[role="dialog"]').each(u=>{Kr(u,'[role="tablist"]').each(h=>{c.get().map(p=>(Jn(i,"height","0"),Jn(i,"flex-basis","0"),Math.min(p,((y,S,k)=>{const O=Ea(y).dom,M=dm(y,".tox-dialog-wrap").getOr(y);let N;N=os(M,"position")==="fixed"?Math.max(O.clientHeight,window.innerHeight):Math.max(O.offsetHeight,O.scrollHeight);const H=us(S),K=S.dom.offsetLeft>=k.dom.offsetLeft+ui(k)?Math.max(us(k),H):H,G=parseInt(os(y,"margin-top"),10)||0,re=parseInt(os(y,"margin-bottom"),10)||0;return N-(us(y)+G+re-K)})(u,i,h)))).each(p=>{H4(i,p)})})})},_f=o=>Kr(o,'[role="tabpanel"]'),lS="send-data-to-section",V4="send-data-to-view",FI=(o,i,c,u)=>{const h=En({}),p=M=>{const N=nt.getValue(M),H=BI(N).getOr({}),K=h.get(),G=fr(K,H);h.set(G)},y=M=>{const N=h.get();nt.setValue(M,N)},S=En(null),k=yt(o.tabs,M=>({value:M.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[xs(c.shared.providers.translate(M.title))],view:()=>[ep.sketch(N=>({dom:{tag:"div",classes:["tox-form"]},components:yt(M.items,H=>I_(N,H,i,c,u)),formBehaviours:zt([kn.config({mode:"acyclic",useTabstopAt:He(e0)}),uo("TabView.form.events",[Vr(y),bu(p)]),el.config({channels:Ju([{key:lS,value:{onReceive:p}},{key:V4,value:{onReceive:y}}])})])}))]})),O=(M=>{const N=sr();return{extraEvents:[Vr(K=>{const G=K.element;_f(G).each(re=>{Jn(re,"visibility","hidden"),K.getSystem().getByDom(re).toOptional().each(le=>{const me=((se,de,ge)=>yt(se,(be,Me)=>{Fn.set(ge,se[Me].view());const qe=de.dom.getBoundingClientRect();return Fn.set(ge,[]),qe.height}))(M,re,le);(se=>en(_e(se,(de,ge)=>de>ge?-1:de<ge?1:0)))(me).fold(N.clear,N.set)}),h0(G,re,N),er(re,"visibility"),((le,me)=>{en(le).each(ie=>g0.showTab(me,ie.value))})(M,K),requestAnimationFrame(()=>{h0(G,re,N)})})}),bt(jd(),K=>{const G=K.element;_f(G).each(re=>{h0(G,re,N)})}),bt(JC,(K,G)=>{const re=K.element;_f(re).each(le=>{const me=Fc(ot(le));Jn(le,"visibility","hidden");const ie=_s(le,"height").map(de=>parseInt(de,10));er(le,"height"),er(le,"flex-basis");const se=le.dom.getBoundingClientRect().height;ie.forall(de=>se>de)?(N.set(se),h0(re,le,N)):ie.each(de=>{H4(le,de)}),er(le,"visibility"),me.each(xa)})})],selectFirst:!1}})(k);return g0.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(M,N,H)=>{const K=nt.getValue(N);Cn(M,XD,{name:K,oldName:S.get()}),S.set(K)},tabs:k,components:[g0.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[z4.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:zt([Sr.config({})])}),g0.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:O.selectFirst,tabSectionBehaviours:zt([uo("tabpanel",O.extraEvents),kn.config({mode:"acyclic"}),Ho.config({find:M=>en(g0.getViewItems(M))}),n1(D.none(),M=>(M.getSystem().broadcastOn([lS],{}),h.get()),(M,N)=>{h.set(N),M.getSystem().broadcastOn([V4],{})})])})},cS=(o,i,c,u,h,p)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...c.map(y=>({id:y})).getOr({}),...h?{"aria-live":"polite"}:{}}},components:[],behaviours:zt([OE(0),Vl.config({channel:`${ER}-${i}`,updateState:(y,S)=>D.some({isTabPanel:()=>S.body.type==="tabpanel"}),renderComponents:y=>{const S=y.body;return S.type==="tabpanel"?[FI(S,y.initialData,u,p)]:[MI(S,y.initialData,u,p)]},initialData:o})])}),zI=pf.deviceType.isTouch(),T2=(o,i)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[o,i]}),$4=(o,i)=>ps.parts.close(Ca.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":i.translate("Close")}},action:o,buttonBehaviours:zt([Sr.config({})])})),U4=()=>ps.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),HI=(o,i)=>ps.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Am(`<p>${O5(i.translate(o))}</p>`)}]}]}),VI=o=>ps.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:o}),$I=(o,i)=>[gd.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:o}),gd.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:i})],Z4=o=>{const i="tox-dialog",c=i+"-wrap",u=c+"__backdrop",h=i+"__disable-scroll";return ps.sketch({lazySink:o.lazySink,onEscape:p=>(o.onEscape(p),D.some(!0)),useTabstopAt:p=>!e0(p),firstTabstop:o.firstTabstop,dom:{tag:"div",classes:[i].concat(o.extraClasses),styles:{position:"relative",...o.extraStyles}},components:[o.header,o.body,...o.footer.toArray()],parts:{blocker:{dom:Am(`<div class="${c}"></div>`),components:[{dom:{tag:"div",classes:zI?[u,u+"--opaque"]:[u]}}]}},dragBlockClass:c,modalBehaviours:zt([jn.config({}),uo("dialog-events",o.dialogEvents.concat([Yd(Xo(),(p,y)=>{Bu.isBlocked(p)||kn.focusIn(p)}),bt(V1(),(p,y)=>{p.getSystem().broadcastOn([C_],{newFocus:y.event.newFocus})})])),uo("scroll-lock",[Vr(()=>{as(fn(),h)}),bu(()=>{ms(fn(),h)})]),...o.extraBehaviours]),eventOrder:{[Xa()]:["dialog-events"],[Ui()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[tc()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...o.eventOrder}})},UI=o=>Ca.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":o.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:zt([Sr.config({}),Hs.config(o.tooltips.getConfig({tooltipText:o.translate("Close")}))]),components:[hc("close",{tag:"span",classes:["tox-icon"]},o.icons)],action:i=>{ho(i,Ug)}}),W4=(o,i,c,u)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...c.map(h=>({id:h})).getOr({})}},components:[],behaviours:zt([Vl.config({channel:`${zE}-${i}`,initialData:o,renderComponents:h=>[xs(u.translate(h.title))]})])}),j4=()=>({dom:Am('<div class="tox-dialog__draghandle"></div>')}),ZI=(o,i,c)=>((u,h,p)=>{const y=ps.parts.title(W4(u,h,D.none(),p)),S=ps.parts.draghandle(j4()),k=ps.parts.close(UI(p)),O=[y].concat(u.draggable?[S]:[]).concat([k]);return gd.sketch({dom:Am('<div class="tox-dialog__header"></div>'),components:O})})({title:c.shared.providers.translate(o),draggable:c.dialog.isDraggableModal()},i,c.shared.providers),WI=(o,i,c,u)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":c.translate(o)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${u.getOr(0)}px`,position:"absolute"}},behaviours:i,components:[{dom:Am('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),jI=(o,i,c)=>({onClose:()=>c.closeWindow(),onBlock:u=>{const h=Kr(o().element,".tox-dialog__header").map(p=>us(p));ps.setBusy(o(),(p,y)=>WI(u.message,y,i,h))},onUnblock:()=>{ps.setIdle(o())}}),O2="tox-dialog--fullscreen",K4="tox-dialog--width-lg",q4="tox-dialog--width-md",D2=o=>{switch(o){case"large":return D.some(K4);case"medium":return D.some(q4);default:return D.none()}},G4=(o,i)=>{const c=nn(i.element.dom);Ia(c,O2)||(Il(c,[K4,q4]),D2(o).each(u=>as(c,u)))},KI=(o,i)=>{const c=nn(o.element.dom),u=td(c),h=X(u,p=>p===K4||p===q4).or(D2(i));((p,y)=>{qt(y,S=>{((k,O)=>{mg(k)?k.dom.classList.toggle(O):((M,N)=>rt(Zp(M),N)?ix(M,N):Z1(M,N))(k,O),Wp(k)})(p,S)})})(c,[O2,...h.toArray()])},qI=(o,i,c)=>ki(Z4({...o,firstTabstop:1,lazySink:c.shared.getSink,extraBehaviours:[t2({}),...o.extraBehaviours],onEscape:u=>{ho(u,Ug)},dialogEvents:i,eventOrder:{[Rl()]:[Vl.name(),el.name()],[Ui()]:["scroll-lock",Vl.name(),"messages","dialog-events","alloy.base.behaviour"],[tc()]:["alloy.base.behaviour","dialog-events","messages",Vl.name(),"scroll-lock"]}})),R2=(o,i={})=>yt(o,c=>c.type==="menu"?(u=>{const h=yt(u.items,p=>{const y=jt(i,p.name).getOr(En(!1));return{...p,storage:y}});return{...u,items:h}})(c):c),GI=o=>Mn(o,(i,c)=>c.type==="menu"?Mn(c.items,(u,h)=>(u[h.name]=h.storage,u),i):i,{}),Y4=(o,i)=>[fg(Xo(),A7),o(Xh,(c,u,h,p)=>{Fc(ot(p.element)).fold(pe,ab),i.onClose(),u.onClose()}),o(Ug,(c,u,h,p)=>{u.onCancel(c),ho(p,Xh)}),bt(sE,(c,u)=>i.onUnblock()),bt(rE,(c,u)=>i.onBlock(u.event))],YI=(o,i,c)=>{const u=(p,y)=>bt(p,(S,k)=>{h(S,(O,M)=>{y(o(),O,k.event,S)})}),h=(p,y)=>{Vl.getState(p).get().each(S=>{y(S.internalDialog,p)})};return[...Y4(u,i),u(Yy,(p,y)=>y.onSubmit(p)),u(za,(p,y,S)=>{y.onChange(p,{name:S.name})}),u(wf,(p,y,S,k)=>{const O=()=>k.getSystem().isConnected()?kn.focusIn(k):void 0,M=K=>cs(K,"disabled")||No(K,"aria-disabled").exists(G=>G==="true"),N=ot(k.element),H=Fc(N);y.onAction(p,{name:S.name,value:S.value}),Fc(N).fold(O,K=>{M(K)||H.exists(G=>bs(K,G)&&M(G))?O():c().toOptional().filter(G=>!bs(G.element,K)).each(O)})}),u(XD,(p,y,S)=>{y.onTabChange(p,{newTabName:S.name,oldTabName:S.oldName})}),bu(p=>{const y=o();nt.setValue(p,y.getData())})]},bz=(o,i)=>{const c=i.map(p=>p.footerButtons).getOr([]),u=$r(c,p=>p.align==="start"),h=(p,y)=>gd.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${p}`]},components:yt(y,S=>S.memento.asSpec())});return[h("start",u.pass),h("end",u.fail)]},XI=(o,i,c)=>({dom:Am('<div class="tox-dialog__footer"></div>'),components:[],behaviours:zt([Vl.config({channel:`${TR}-${i}`,initialData:o,updateState:(u,h)=>{const p=yt(h.buttons,y=>{const S=tr(((k,O)=>o0(k,k.type,O))(y,c));return{name:y.name,align:y.align,memento:S}});return D.some({lookupByName:y=>((S,k,O)=>X(k,M=>M.name===O).bind(M=>M.memento.getOpt(S)))(u,p,y),footerButtons:p})},renderComponents:bz})])}),X4=(o,i,c)=>ps.parts.footer(XI(o,i,c)),N2=(o,i)=>{if(o.getRoot().getSystem().isConnected()){const c=Ho.getCurrent(o.getFormWrapper()).getOr(o.getFormWrapper());return ep.getField(c,i).orThunk(()=>o.getFooter().bind(h=>Vl.getState(h).get()).bind(h=>h.lookupByName(i)))}return D.none()},JI=(o,i,c)=>{const u=p=>{const y=o.getRoot();y.getSystem().isConnected()&&p(y)},h={getData:()=>{const p=o.getRoot(),y=p.getSystem().isConnected()?o.getFormWrapper():p;return{...nt.getValue(y),...Gt(c,S=>S.get())}},setData:p=>{u(y=>{const S=h.getData(),k=fr(S,p),O=((N,H)=>{const K=N.getRoot();return Vl.getState(K).get().map(G=>ha(rs("data",G.dataValidator,H))).getOr(H)})(o,k),M=o.getFormWrapper();nt.setValue(M,O),Mt(c,(N,H)=>{ao(k,H)&&N.set(k[H])})})},setEnabled:(p,y)=>{N2(o,p).each(y?qn.enable:qn.disable)},focus:p=>{N2(o,p).each(jn.focus)},block:p=>{if(!v(p))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");u(y=>{Cn(y,rE,{message:p})})},unblock:()=>{u(p=>{ho(p,sE)})},showTab:p=>{u(y=>{const S=o.getBody();Vl.getState(S).get().exists(k=>k.isTabPanel())&&Ho.getCurrent(S).each(k=>{g0.showTab(k,p)})})},redial:p=>{u(y=>{const S=o.getId(),k=i(p),O=R2(k.internalDialog.buttons,c);y.getSystem().broadcastOn([`${tp}-${S}`],k),y.getSystem().broadcastOn([`${zE}-${S}`],k.internalDialog),y.getSystem().broadcastOn([`${ER}-${S}`],k.internalDialog),y.getSystem().broadcastOn([`${TR}-${S}`],{...k.internalDialog,buttons:O}),h.setData(k.initialData)})},close:()=>{u(p=>{ho(p,Xh)})},toggleFullscreen:o.toggleFullscreen};return h},QI=(o,i,c,u=!1,h)=>{const p=mn("dialog"),y=mn("dialog-label"),S=mn("dialog-content"),k=o.internalDialog,O=En(k.size),M=D2(O.get()).toArray(),N=tr(((ge,be,Me,qe)=>gd.sketch({dom:Am('<div class="tox-dialog__header"></div>'),components:[W4(ge,be,D.some(Me),qe),j4(),UI(qe)],containerBehaviours:zt([m1.config({mode:"mouse",blockerClass:"blocker",getTarget:wt=>xu(wt,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:k.title,draggable:!0},p,y,c.shared.providers)),H=tr(((ge,be,Me,qe,wt,pt)=>cS(ge,be,D.some(Me),qe,wt,pt))({body:k.body,initialData:k.initialData},p,S,c,u,ge=>N2(se,ge))),K=R2(k.buttons),G=GI(K),re=$o(K.length!==0,tr(((ge,be,Me)=>XI(ge,be,Me))({buttons:K},p,c))),le=YI(()=>de,{onBlock:ge=>{Bu.block(ie,(be,Me)=>{const qe=N.getOpt(ie).map(wt=>us(wt.element));return WI(ge.message,Me,c.shared.providers,qe)})},onUnblock:()=>{Bu.unblock(ie)},onClose:()=>i.closeWindow()},c.shared.getSink),me=Fi().os,ie=ki({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...M],attributes:{role:"dialog",...me.isMacOS()?{"aria-label":k.title}:{"aria-labelledby":y}}},eventOrder:{[Rl()]:[Vl.name(),el.name()],[Xa()]:["execute-on-form"],[Ui()]:["reflecting","execute-on-form"]},behaviours:zt([kn.config({mode:"cyclic",onEscape:ge=>(ho(ge,Xh),D.some(!0)),useTabstopAt:ge=>!e0(ge)&&(Aa(ge)!=="button"||_o(ge,"disabled")!=="disabled"),firstTabstop:1}),Vl.config({channel:`${tp}-${p}`,updateState:(ge,be)=>(O.set(be.internalDialog.size),G4(be.internalDialog.size,ge),h(),D.some(be)),initialData:o}),jn.config({}),uo("execute-on-form",le.concat([Yd(Xo(),(ge,be)=>{kn.focusIn(ge)}),bt(V1(),(ge,be)=>{ge.getSystem().broadcastOn([C_],{newFocus:be.event.newFocus})})])),Bu.config({getRoot:()=>D.some(ie)}),Fn.config({}),t2({})]),components:[N.asSpec(),H.asSpec(),...re.map(ge=>ge.asSpec()).toArray()]}),se={getId:ae(p),getRoot:ae(ie),getFooter:()=>re.map(ge=>ge.get(ie)),getBody:()=>H.get(ie),getFormWrapper:()=>{const ge=H.get(ie);return Ho.getCurrent(ge).getOr(ge)},toggleFullscreen:()=>{KI(ie,O.get())}},de=JI(se,i.redial,G);return{dialog:ie,instanceApi:de}};var J4=tinymce.util.Tools.resolve("tinymce.util.URI");const vz=["insertContent","setContent","execCommand","close","block","unblock"],Q4=o=>w(o)&&vz.indexOf(o.mceAction)!==-1,xz=(o,i,c,u)=>{const h=mn("dialog"),p=ZI(o.title,h,u),y=(me=>{const ie={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[LE(D.none(),{dom:{tag:"iframe",attributes:{src:me.url}},behaviours:zt([Sr.config({}),jn.config({})])})]}],behaviours:zt([kn.config({mode:"acyclic",useTabstopAt:He(e0)})])};return ps.parts.body(ie)})(o),S=o.buttons.bind(me=>me.length===0?D.none():D.some(X4({buttons:me},h,u))),k=((me,ie)=>{const se=(ge,be)=>bt(ge,(Me,qe)=>{de(Me,(wt,pt)=>{be(le,wt,qe.event,Me)})}),de=(ge,be)=>{Vl.getState(ge).get().each(Me=>{be(Me,ge)})};return[...Y4(se,ie),se(wf,(ge,be,Me)=>{be.onAction(ge,{name:Me.name})})]})(0,jI(()=>re,u.shared.providers,i)),O={...o.height.fold(()=>({}),me=>({height:me+"px","max-height":me+"px"})),...o.width.fold(()=>({}),me=>({width:me+"px","max-width":me+"px"}))},M=o.width.isNone()&&o.height.isNone()?["tox-dialog--width-lg"]:[],N=new J4(o.url,{base_uri:new J4(window.location.href)}),H=`${N.protocol}://${N.host}${N.port?":"+N.port:""}`,K=Xl(),G=[Vl.config({channel:`${tp}-${h}`,updateState:(me,ie)=>D.some(ie),initialData:o}),uo("messages",[Vr(()=>{const me=ya(nn(window),"message",ie=>{if(N.isSameOrigin(new J4(ie.raw.origin))){const se=ie.raw.data;Q4(se)?((de,ge,be)=>{switch(be.mceAction){case"insertContent":de.insertContent(be.content);break;case"setContent":de.setContent(be.content);break;case"execCommand":const Me=!!I(be.ui)&&be.ui;de.execCommand(be.cmd,Me,be.value);break;case"close":ge.close();break;case"block":ge.block(be.message);break;case"unblock":ge.unblock()}})(c,le,se):(de=>!Q4(de)&&w(de)&&ao(de,"mceAction"))(se)&&o.onMessage(le,se)}});K.set(me)}),bu(K.clear)]),el.config({channels:{[HE]:{onReceive:(me,ie)=>{Kr(me.element,"iframe").each(se=>{const de=se.dom.contentWindow;U(de)&&de.postMessage(ie,H)})}}}})],re=qI({id:h,header:p,body:y,footer:S,extraClasses:M,extraBehaviours:G,extraStyles:O},k,u),le=(me=>{const ie=se=>{me.getSystem().isConnected()&&se(me)};return{block:se=>{if(!v(se))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");ie(de=>{Cn(de,rE,{message:se})})},unblock:()=>{ie(se=>{ho(se,sE)})},close:()=>{ie(se=>{ho(se,Xh)})},sendMessage:se=>{ie(de=>{de.getSystem().broadcastOn([HE],se)})}}})(re);return{dialog:re,instanceApi:le}},eT=(o,i)=>ha(rs("data",i,o)),eB=o=>Xv(o,".tox-alert-dialog")||Xv(o,".tox-confirm-dialog"),yz=(o,i,c)=>i&&c?[]:[jr.config({contextual:{lazyContext:()=>D.some(Us(nn(o.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:u=>Hh(o,u.element).map(h=>({bounds:Vh(h),optScrollEnv:D.some({currentScrollTop:h.element.dom.scrollTop,scrollElmTop:dl(h.element).top})})).getOrThunk(()=>({bounds:wi(),optScrollEnv:D.none()}))})],wz=o=>{const i=o.editor,c=Lg(i),u=(k=>{const O=k.shared;return{open:(M,N)=>{const H=()=>{ps.hide(le),N()},K=tr(o0({name:"close-alert",text:"OK",primary:!0,buttonType:D.some("primary"),align:"end",enabled:!0,icon:D.none()},"cancel",k)),G=U4(),re=$4(H,O.providers),le=ki(Z4({lazySink:()=>O.getSink(),header:T2(G,re),body:HI(M,O.providers),footer:D.some(VI($I([],[K.asSpec()]))),onEscape:H,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[bt(Ug,H)],eventOrder:{}}));ps.show(le);const me=K.get(le);jn.focus(me)}}})(o.backstages.dialog),h=(k=>{const O=k.shared;return{open:(M,N)=>{const H=se=>{ps.hide(me),N(se)},K=tr(o0({name:"yes",text:"Yes",primary:!0,buttonType:D.some("primary"),align:"end",enabled:!0,icon:D.none()},"submit",k)),G=o0({name:"no",text:"No",primary:!1,buttonType:D.some("secondary"),align:"end",enabled:!0,icon:D.none()},"cancel",k),re=U4(),le=$4(()=>H(!1),O.providers),me=ki(Z4({lazySink:()=>O.getSink(),header:T2(re,le),body:HI(M,O.providers),footer:D.some(VI($I([],[G,K.asSpec()]))),onEscape:()=>H(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[bt(Ug,()=>H(!1)),bt(Yy,()=>H(!0))],eventOrder:{}}));ps.show(me);const ie=K.get(me);jn.focus(ie)}}})(o.backstages.dialog),p=(k,O)=>g1.open((M,N,H)=>{const K=N,G=((re,le,me)=>{const ie=mn("dialog"),se=re.internalDialog,de=ZI(se.title,ie,me),ge=En(se.size),be=D2(ge.get()).toArray(),Me=((Gn,Ao,Lr,qr)=>{const go=cS(Gn,Ao,D.none(),Lr,!1,qr);return ps.parts.body(go)})({body:se.body,initialData:se.initialData},ie,me,Gn=>N2(bn,Gn)),qe=R2(se.buttons),wt=GI(qe),pt=$o(qe.length!==0,X4({buttons:qe},ie,me)),mt=YI(()=>Dn,jI(()=>cn,me.shared.providers,le),me.shared.getSink),Pt={id:ie,header:de,body:Me,footer:pt,extraClasses:be,extraBehaviours:[Vl.config({channel:`${tp}-${ie}`,updateState:(Gn,Ao)=>(ge.set(Ao.internalDialog.size),G4(Ao.internalDialog.size,Gn),D.some(Ao)),initialData:re})],extraStyles:{}},cn=qI(Pt,mt,me),bn={getId:ae(ie),getRoot:ae(cn),getBody:()=>ps.getBody(cn),getFooter:()=>ps.getFooter(cn),getFormWrapper:()=>{const Gn=ps.getBody(cn);return Ho.getCurrent(Gn).getOr(Gn)},toggleFullscreen:()=>{KI(cn,ge.get())}},Dn=JI(bn,le.redial,wt);return{dialog:cn,instanceApi:Dn}})({dataValidator:H,initialData:K,internalDialog:M},{redial:g1.redial,closeWindow:()=>{ps.hide(G.dialog),O(G.instanceApi)}},o.backstages.dialog);return ps.show(G.dialog),G.instanceApi.setData(K),G.instanceApi},k),y=(k,O,M,N)=>g1.open((H,K,G)=>{const re=eT(K,G),le=sr(),me=o.backstages.popup.shared.header.isPositionedAtTop(),ie=()=>le.on(ge=>{Qr.reposition(ge),c&&me||jr.refresh(ge)}),se=QI({dataValidator:G,initialData:re,internalDialog:H},{redial:g1.redial,closeWindow:()=>{le.on(Qr.hide),i.off("ResizeEditor",ie),le.clear(),M(se.instanceApi)}},o.backstages.popup,N.ariaAttrs,ie),de=ki(Qr.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:N.persistent?{event:"doNotDismissYet"}:{},...me?{}:{fireRepositionEventInstead:{}},inlineBehaviours:zt([uo("window-manager-inline-events",[bt(dg(),(ge,be)=>{ho(se.dialog,Ug)})]),...yz(i,c,me)]),isExtraPart:(ge,be)=>eB(be)}));return le.set(de),Qr.showWithinBounds(de,Ba(se.dialog),{anchor:O},()=>{const ge=i.inline?fn():nn(i.getContainer()),be=Us(ge);return D.some(be)}),c&&me||(jr.refresh(de),i.on("ResizeEditor",ie)),se.instanceApi.setData(re),kn.focusIn(se.dialog),se.instanceApi},k),S=(k,O,M,N)=>g1.open((H,K,G)=>{const re=eT(K,G),le=sr(),me=o.backstages.popup.shared.header.isPositionedAtTop(),ie=()=>le.on(ge=>{Qr.reposition(ge),jr.refresh(ge)}),se=QI({dataValidator:G,initialData:re,internalDialog:H},{redial:g1.redial,closeWindow:()=>{le.on(Qr.hide),i.off("ResizeEditor ScrollWindow ElementScroll",ie),le.clear(),M(se.instanceApi)}},o.backstages.popup,N.ariaAttrs,ie),de=ki(Qr.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:N.persistent?{event:"doNotDismissYet"}:{},...me?{}:{fireRepositionEventInstead:{}},inlineBehaviours:zt([uo("window-manager-inline-events",[bt(dg(),(ge,be)=>{ho(se.dialog,Ug)})]),jr.config({contextual:{lazyContext:()=>D.some(Us(nn(i.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:ge=>Hh(i,ge.element).map(be=>({bounds:Vh(be),optScrollEnv:D.some({currentScrollTop:be.element.dom.scrollTop,scrollElmTop:dl(be.element).top})})).getOrThunk(()=>({bounds:wi(),optScrollEnv:D.none()}))})]),isExtraPart:(ge,be)=>eB(be)}));return le.set(de),Qr.showWithinBounds(de,Ba(se.dialog),{anchor:O},()=>o.backstages.popup.shared.getSink().toOptional().bind(ge=>{const be=Hh(i,ge.element).map(wt=>Vh(wt)).getOr(wi()),Me=Us(nn(i.getContentAreaContainer())),qe=qu(Me,be);return D.some(bo(qe.x,qe.y,qe.width,qe.height-15))})),jr.refresh(de),i.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",ie),se.instanceApi.setData(re),kn.focusIn(se.dialog),se.instanceApi},k);return{open:(k,O,M)=>{if(!z(O)){if(O.inline==="toolbar")return y(k,o.backstages.popup.shared.anchors.inlineDialog(),M,O);if(O.inline==="bottom")return S(k,o.backstages.popup.shared.anchors.inlineBottomDialog(),M,O);if(O.inline==="cursor")return y(k,o.backstages.popup.shared.anchors.cursor(),M,O)}return p(k,M)},openUrl:(k,O)=>((M,N)=>g1.openUrl(H=>{const K=xz(H,{closeWindow:()=>{ps.hide(K.dialog),N(K.instanceApi)}},i,o.backstages.dialog);return ps.show(K.dialog),K.instanceApi},M))(k,O),alert:(k,O)=>{u.open(k,O)},close:k=>{k.close()},confirm:(k,O)=>{h.open(k,O)}}};ch.add("silver",o=>{(S=>{i5(S),(k=>{const O=k.options.register,M=H=>ye(H,v)?{value:VP(H),valid:!0}:{valid:!1,message:"Must be an array of strings."},N=H=>ne(H)&&H>0?{value:H,valid:!0}:{valid:!1,message:"Must be a positive number."};O("color_map",{processor:M,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),O("color_map_background",{processor:M}),O("color_map_foreground",{processor:M}),O("color_cols",{processor:N,default:ZC(k)}),O("color_cols_foreground",{processor:N,default:TD(k,LA)}),O("color_cols_background",{processor:N,default:TD(k,FA)}),O("custom_colors",{processor:"boolean",default:!0}),O("color_default_foreground",{processor:"string",default:Uy}),O("color_default_background",{processor:"string",default:Uy})})(S),(k=>{const O=k.options.register;O("contextmenu_avoid_overlap",{processor:"string",default:""}),O("contextmenu_never_use_native",{processor:"boolean",default:!1}),O("contextmenu",{processor:M=>M===!1?{value:[],valid:!0}:v(M)||ye(M,v)?{value:_6(M),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(S)})(o);let i=()=>wi();const{dialogs:c,popups:u,renderUI:h}=OF(o,{getPopupSinkBounds:()=>i()});KD(o,u.backstage.shared);const p=wz({editor:o,backstages:{popup:u.backstage,dialog:c.backstage}}),y=sr();return{renderUI:()=>{const S=h();return Hh(o,u.getMothership().element).each(k=>{i=()=>Vh(k)}),S},getWindowManagerImpl:ae(p),getNotificationManagerImpl:()=>I5(o,{backstage:u.backstage},u.getMothership(),y)}})})();(function(){var r=tinymce.util.Tools.resolve("tinymce.ModelManager");const l=b=>_=>(T=>{const B=typeof T;return T===null?"null":B==="object"&&Array.isArray(T)?"array":B==="object"&&(V=$=T,(Q=String).prototype.isPrototypeOf(V)||((te=$.constructor)===null||te===void 0?void 0:te.name)===Q.name)?"string":B;var V,$,Q,te})(_)===b,f=b=>_=>typeof _===b,m=b=>_=>b===_,x=l("string"),v=l("object"),w=l("array"),E=m(null),F=f("boolean"),P=m(void 0),I=b=>!(_=>_==null)(b),z=f("function"),j=f("number"),U=()=>{},J=b=>()=>b,ne=b=>b,ye=(b,_)=>b===_;function pe(b,..._){return(...T)=>{const B=_.concat(T);return b.apply(null,B)}}const We=b=>_=>!b(_),Fe=b=>b(),ae=J(!1),Ie=J(!0);class oe{constructor(_,T){this.tag=_,this.value=T}static some(_){return new oe(!0,_)}static none(){return oe.singletonNone}fold(_,T){return this.tag?T(this.value):_()}isSome(){return this.tag}isNone(){return!this.tag}map(_){return this.tag?oe.some(_(this.value)):oe.none()}bind(_){return this.tag?_(this.value):oe.none()}exists(_){return this.tag&&_(this.value)}forall(_){return!this.tag||_(this.value)}filter(_){return!this.tag||_(this.value)?this:oe.none()}getOr(_){return this.tag?this.value:_}or(_){return this.tag?this:_}getOrThunk(_){return this.tag?this.value:_()}orThunk(_){return this.tag?this:_()}getOrDie(_){if(this.tag)return this.value;throw new Error(_??"Called getOrDie on None")}static from(_){return I(_)?oe.some(_):oe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(_){this.tag&&_(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}oe.singletonNone=new oe(!1);const Je=Array.prototype.slice,He=Array.prototype.indexOf,Ye=Array.prototype.push,gt=(b,_)=>{return T=b,B=_,He.call(T,B)>-1;var T,B},Se=(b,_)=>{for(let T=0,B=b.length;T<B;T++)if(_(b[T],T))return!0;return!1},Ne=(b,_)=>{const T=[];for(let B=0;B<b;B++)T.push(_(B));return T},D=(b,_)=>{const T=b.length,B=new Array(T);for(let V=0;V<T;V++){const $=b[V];B[V]=_($,V)}return B},Nt=(b,_)=>{for(let T=0,B=b.length;T<B;T++)_(b[T],T)},sn=(b,_)=>{const T=[],B=[];for(let V=0,$=b.length;V<$;V++){const Q=b[V];(_(Q,V)?T:B).push(Q)}return{pass:T,fail:B}},vn=(b,_)=>{const T=[];for(let B=0,V=b.length;B<V;B++){const $=b[B];_($,B)&&T.push($)}return T},Tn=(b,_,T)=>(((B,V)=>{for(let $=B.length-1;$>=0;$--)V(B[$],$)})(b,(B,V)=>{T=_(T,B,V)}),T),rt=(b,_,T)=>(Nt(b,(B,V)=>{T=_(T,B,V)}),T),Un=(b,_)=>((T,B,V)=>{for(let $=0,Q=T.length;$<Q;$++){const te=T[$];if(B(te,$))return oe.some(te);if(V(te,$))break}return oe.none()})(b,_,ae),Hr=(b,_)=>{for(let T=0,B=b.length;T<B;T++)if(_(b[T],T))return oe.some(T);return oe.none()},xt=b=>{const _=[];for(let T=0,B=b.length;T<B;++T){if(!w(b[T]))throw new Error("Arr.flatten item "+T+" was not an array, input: "+b);Ye.apply(_,b[T])}return _},yt=(b,_)=>xt(D(b,_)),qt=(b,_)=>{for(let T=0,B=b.length;T<B;++T)if(_(b[T],T)!==!0)return!1;return!0},$r=(b,_)=>{const T={};for(let B=0,V=b.length;B<V;B++){const $=b[B];T[String($)]=_($,B)}return T},xo=(b,_)=>_>=0&&_<b.length?oe.some(b[_]):oe.none(),Sn=b=>xo(b,0),Mn=b=>xo(b,b.length-1),X=(b,_)=>{for(let T=0;T<b.length;T++){const B=_(b[T],T);if(B.isSome())return B}return oe.none()},nr=Object.keys,pr=Object.hasOwnProperty,jo=(b,_)=>{const T=nr(b);for(let B=0,V=T.length;B<V;B++){const $=T[B];_(b[$],$)}},Qi=(b,_)=>Ue(b,(T,B)=>({k:B,v:_(T,B)})),Ue=(b,_)=>{const T={};return jo(b,(B,V)=>{const $=_(B,V);T[$.k]=$.v}),T},ve=(b,_)=>{const T=[];return jo(b,(B,V)=>{T.push(_(B,V))}),T},De=b=>ve(b,ne),tt=(b,_)=>pr.call(b,_),_e=typeof window<"u"?window:Function("return this;")(),It=(b,_)=>((T,B)=>{let V=B??_e;for(let $=0;$<T.length&&V!=null;++$)V=V[T[$]];return V})(b.split("."),_),en=Object.getPrototypeOf,_t=b=>{const _=It("ownerDocument.defaultView",b);return v(b)&&((T=>((B,V)=>{const $=((Q,te)=>It(Q,te))(B,V);if($==null)throw new Error(B+" not available on this browser");return $})("HTMLElement",T))(_).prototype.isPrototypeOf(b)||/^HTML\w*Element$/.test(en(b).constructor.name))},Yt=b=>b.dom.nodeName.toLowerCase(),je=b=>b.dom.nodeType,et=b=>_=>je(_)===b,Bt=b=>je(b)===8||Yt(b)==="#comment",Mt=b=>Gt(b)&&_t(b.dom),Gt=et(1),xn=et(3),eo=et(9),fo=et(11),po=b=>_=>Gt(_)&&Yt(_)===b,Ko=(b,_,T)=>{if(!(x(T)||F(T)||j(T)))throw console.error("Invalid call to Attribute.set. Key ",_,":: Value ",T,":: Element ",b),new Error("Attribute value was not simple");b.setAttribute(_,T+"")},yo=(b,_,T)=>{Ko(b.dom,_,T)},Ar=(b,_)=>{const T=b.dom;jo(_,(B,V)=>{Ko(T,V,B)})},jt=(b,_)=>{const T=b.dom.getAttribute(_);return T===null?void 0:T},ao=(b,_)=>oe.from(jt(b,_)),so=(b,_)=>{b.dom.removeAttribute(_)},Nr=b=>rt(b.dom.attributes,(_,T)=>(_[T.name]=T.value,_),{}),Ms=b=>{if(b==null)throw new Error("Node cannot be null or undefined");return{dom:b}},Ht={fromHtml:(b,_)=>{const T=(_||document).createElement("div");if(T.innerHTML=b,!T.hasChildNodes()||T.childNodes.length>1){const B="HTML does not have a single root node";throw console.error(B,b),new Error(B)}return Ms(T.childNodes[0])},fromTag:(b,_)=>{const T=(_||document).createElement(b);return Ms(T)},fromText:(b,_)=>{const T=(_||document).createTextNode(b);return Ms(T)},fromDom:Ms,fromPoint:(b,_,T)=>oe.from(b.dom.elementFromPoint(_,T)).map(Ms)},Ks=(b,_)=>{const T=b.dom;if(T.nodeType!==1)return!1;{const B=T;if(B.matches!==void 0)return B.matches(_);if(B.msMatchesSelector!==void 0)return B.msMatchesSelector(_);if(B.webkitMatchesSelector!==void 0)return B.webkitMatchesSelector(_);if(B.mozMatchesSelector!==void 0)return B.mozMatchesSelector(_);throw new Error("Browser lacks native selectors")}},$o=b=>b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11||b.childElementCount===0,vl=(b,_)=>{const T=_===void 0?document:_.dom;return $o(T)?oe.none():oe.from(T.querySelector(b)).map(Ht.fromDom)},yr=(b,_)=>b.dom===_.dom,Ps=(b,_)=>{const T=b.dom,B=_.dom;return T!==B&&T.contains(B)},Vf=Ks,tu=b=>Ht.fromDom(b.dom.ownerDocument),ql=b=>eo(b)?b:tu(b),Wa=b=>oe.from(b.dom.parentNode).map(Ht.fromDom),nu=b=>oe.from(b.dom.parentElement).map(Ht.fromDom),ar=(b,_)=>{const T=z(_)?_:ae;let B=b.dom;const V=[];for(;B.parentNode!==null&&B.parentNode!==void 0;){const $=B.parentNode,Q=Ht.fromDom($);if(V.push(Q),T(Q)===!0)break;B=$}return V},Yn=b=>oe.from(b.dom.previousSibling).map(Ht.fromDom),xl=b=>oe.from(b.dom.nextSibling).map(Ht.fromDom),ci=b=>D(b.dom.childNodes,Ht.fromDom),ou=(b,_)=>{const T=b.dom.childNodes;return oe.from(T[_]).map(Ht.fromDom)},nn=(b,_)=>{Wa(b).each(T=>{T.dom.insertBefore(_.dom,b.dom)})},ru=(b,_)=>{xl(b).fold(()=>{Wa(b).each(T=>{Xr(T,_)})},T=>{nn(T,_)})},$f=(b,_)=>{(B=>ou(B,0))(b).fold(()=>{Xr(b,_)},B=>{b.dom.insertBefore(_.dom,B.dom)})},Xr=(b,_)=>{b.dom.appendChild(_.dom)},Uf=(b,_)=>{nn(b,_),Xr(_,b)},Aa=(b,_)=>{Nt(_,(T,B)=>{const V=B===0?b:_[B-1];ru(V,T)})},al=(b,_)=>{Nt(_,T=>{Xr(b,T)})},ja=b=>{b.dom.textContent="",Nt(ci(b),_=>{Ur(_)})},Ur=b=>{const _=b.dom;_.parentNode!==null&&_.parentNode.removeChild(_)},ea=b=>{const _=ci(b);_.length>0&&Aa(b,_),Ur(b)},ll=(b,_)=>Ht.fromDom(b.dom.cloneNode(_)),Zf=b=>ll(b,!1),yc=b=>ll(b,!0),wc=(b,_)=>{const T=Ht.fromTag(_),B=Nr(b);return Ar(T,B),T},Nd=["tfoot","thead","tbody","colgroup"],Uu=(b,_,T)=>({element:b,rowspan:_,colspan:T}),Uo=(b,_,T)=>({element:b,cells:_,section:T}),bs=(b,_,T)=>({element:b,isNew:_,isLocked:T}),$s=(b,_,T,B)=>({element:b,cells:_,section:T,isNew:B}),Wf=b=>Ht.fromDom(b.dom.host),Ea=b=>{const _=xn(b)?b.dom.parentNode:b.dom;if(_==null||_.ownerDocument===null)return!1;const T=_.ownerDocument;return($=>{const Q=(fe=>Ht.fromDom(fe.dom.getRootNode()))($);return fo(te=Q)&&I(te.dom.host)?oe.some(Q):oe.none();var te})(Ht.fromDom(_)).fold(()=>T.body.contains(_),(B=Ea,V=Wf,$=>B(V($))));var B,V},Cc=b=>{const _=b.dom.body;if(_==null)throw new Error("Body is not available yet");return Ht.fromDom(_)},ta=(b,_)=>{let T=[];return Nt(ci(b),B=>{_(B)&&(T=T.concat([B])),T=T.concat(ta(B,_))}),T},na=(b,_,T)=>((B,V,$)=>vn(ar(B,$),Q=>Ks(Q,_)))(b,0,T),_c=(b,_)=>((T,B)=>vn(ci(T),V=>Ks(V,_)))(b),dr=(b,_)=>((T,B)=>{const V=B===void 0?document:B.dom;return $o(V)?[]:D(V.querySelectorAll(T),Ht.fromDom)})(_,b);var Zr=(b,_,T,B,V)=>b(T,B)?oe.some(T):z(V)&&V(T)?oe.none():_(T,B,V);const xe=(b,_,T)=>{let B=b.dom;const V=z(T)?T:ae;for(;B.parentNode;){B=B.parentNode;const $=Ht.fromDom(B);if(_($))return oe.some($);if(V($))break}return oe.none()},Ke=(b,_,T)=>Zr((B,V)=>V(B),xe,b,_,T),Ee=(b,_,T)=>xe(b,B=>Ks(B,_),T),at=(b,_)=>((T,B)=>Un(T.dom.childNodes,V=>{return $=Ht.fromDom(V),Ks($,_);var $}).map(Ht.fromDom))(b),ot=(b,_)=>vl(_,b),$e=(b,_,T)=>Zr((B,V)=>Ks(B,V),Ee,b,_,T),Ft=(b,_,T=ye)=>b.exists(B=>T(B,_)),Jt=b=>{const _=[],T=B=>{_.push(B)};for(let B=0;B<b.length;B++)b[B].each(T);return _},an=(b,_)=>b?oe.some(_):oe.none(),fn=(b,_,T)=>_===""||b.length>=_.length&&b.substr(T,T+_.length)===_,on=(b,_,T=0,B)=>{const V=b.indexOf(_,T);return V!==-1&&(!!P(B)||V+_.length<=B)},ro=(b,_)=>fn(b,_,0),tn=(b,_)=>fn(b,_,b.length-_.length),rr=(b=>_=>_.replace(b,""))(/^\s+|\s+$/g),_o=b=>b.length>0,No=b=>b.style!==void 0&&z(b.style.getPropertyValue),cs=(b,_,T)=>{if(!x(T))throw console.error("Invalid call to CSS.set. Property ",_,":: Value ",T,":: Element ",b),new Error("CSS value must be a string: "+T);No(b)&&b.style.setProperty(_,T)},mo=(b,_,T)=>{const B=b.dom;cs(B,_,T)},cl=(b,_)=>{const T=b.dom;jo(_,(B,V)=>{cs(T,V,B)})},Bi=(b,_)=>{const T=b.dom,B=window.getComputedStyle(T).getPropertyValue(_);return B!==""||Ea(b)?B:Jn(T,_)},Jn=(b,_)=>No(b)?b.style.getPropertyValue(_):"",Ta=(b,_)=>{const T=b.dom,B=Jn(T,_);return oe.from(B).filter(V=>V.length>0)},Ka=(b,_)=>{((T,B)=>{No(T)&&T.style.removeProperty(B)})(b.dom,_),Ft(ao(b,"style").map(rr),"")&&so(b,"style")},os=(b,_,T=0)=>ao(b,_).map(B=>parseInt(B,10)).getOr(T),Zu=(b,_)=>os(b,_,1),_s=b=>po("col")(b)?os(b,"span",1)>1:Zu(b,"colspan")>1,Id=(b,_)=>parseInt(Bi(b,_),10),ul=J(10),er=J(10),su=(b,_)=>jf(b,_,Ie),jf=(b,_,T)=>yt(ci(b),B=>Ks(B,_)?T(B)?[B]:[]:jf(B,_,T)),ih=(b,_)=>((T,B,V=ae)=>V(B)?oe.none():gt(T,Yt(B))?oe.some(B):Ee(B,T.join(","),$=>Ks($,"table")||V($)))(["td","th"],b,_),us=b=>su(b,"th,td"),Gl=b=>Ks(b,"colgroup")?_c(b,"col"):yt(Kf(b),_=>_c(_,"col")),qa=(b,_)=>$e(b,"table",_),Ir=b=>su(b,"tr"),Kf=b=>qa(b).fold(J([]),_=>_c(_,"colgroup")),dl=(b,_)=>D(b,T=>{if(Yt(T)==="colgroup"){const B=D(Gl(T),V=>{const $=os(V,"span",1);return Uu(V,1,$)});return Uo(T,B,"colgroup")}{const B=D(us(T),V=>{const $=os(V,"rowspan",1),Q=os(V,"colspan",1);return Uu(V,$,Q)});return Uo(T,B,_(T))}}),Mi=b=>Wa(b).map(_=>{const T=Yt(_);return(B=>gt(Nd,B))(T)?T:"tbody"}).getOr("tbody"),tg=b=>{const _=Ir(b),T=[...Kf(b),..._];return dl(T,Mi)},ui=b=>{let _,T=!1;return(...B)=>(T||(T=!0,_=b.apply(null,B)),_)},Oa=()=>Pi(0,0),Pi=(b,_)=>({major:b,minor:_}),fl={nu:Pi,detect:(b,_)=>{const T=String(_).toLowerCase();return b.length===0?Oa():((B,V)=>{const $=((te,fe)=>{for(let Ae=0;Ae<te.length;Ae++){const ze=te[Ae];if(ze.test(fe))return ze}})(B,V);if(!$)return{major:0,minor:0};const Q=te=>Number(V.replace($,"$"+te));return Pi(Q(1),Q(2))})(b,T)},unknown:Oa},ah=(b,_)=>{const T=String(_).toLowerCase();return Un(b,B=>B.search(T))},So=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Sc=b=>_=>on(_,b),Wu=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:b=>on(b,"edge/")&&on(b,"chrome")&&on(b,"safari")&&on(b,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,So],search:b=>on(b,"chrome")&&!on(b,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:b=>on(b,"msie")||on(b,"trident")},{name:"Opera",versionRegexes:[So,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Sc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Sc("firefox")},{name:"Safari",versionRegexes:[So,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:b=>(on(b,"safari")||on(b,"mobile/"))&&on(b,"applewebkit")}],iu=[{name:"Windows",search:Sc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:b=>on(b,"iphone")||on(b,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Sc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Sc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Sc("linux"),versionRegexes:[]},{name:"Solaris",search:Sc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Sc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Sc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Dp={browsers:J(Wu),oses:J(iu)},J0="Edge",N1="Chromium",I1="Opera",yw="Firefox",lh="Safari",B1=b=>{const _=b.current,T=b.version,B=V=>()=>_===V;return{current:_,version:T,isEdge:B(J0),isChromium:B(N1),isIE:B("IE"),isOpera:B(I1),isFirefox:B(yw),isSafari:B(lh)}},Wt=()=>B1({current:void 0,version:fl.unknown()}),Bd=B1,Md="Windows",M1="Android",Li="Linux",Pd="macOS",ng="Solaris",Q0="FreeBSD",ex="ChromeOS",Rp=b=>{const _=b.current,T=b.version,B=V=>()=>_===V;return{current:_,version:T,isWindows:B(Md),isiOS:B("iOS"),isAndroid:B(M1),isMacOS:B(Pd),isLinux:B(Li),isSolaris:B(ng),isFreeBSD:B(Q0),isChromeOS:B(ex)}},tx=()=>Rp({current:void 0,version:fl.unknown()}),P1=Rp,nx=b=>window.matchMedia(b).matches;let og=ui(()=>((b,_,T)=>{const B=Dp.browsers(),V=Dp.oses(),$=_.bind(fe=>((Ae,ze)=>X(ze.brands,Ce=>{const Te=Ce.brand.toLowerCase();return Un(Ae,Be=>{var Ge;return Te===((Ge=Be.brand)===null||Ge===void 0?void 0:Ge.toLowerCase())}).map(Be=>({current:Be.name,version:fl.nu(parseInt(Ce.version,10),0)}))}))(B,fe)).orThunk(()=>((fe,Ae)=>ah(fe,Ae).map(ze=>{const Ce=fl.detect(ze.versionRegexes,Ae);return{current:ze.name,version:Ce}}))(B,b)).fold(Wt,Bd),Q=((fe,Ae)=>ah(fe,Ae).map(ze=>{const Ce=fl.detect(ze.versionRegexes,Ae);return{current:ze.name,version:Ce}}))(V,b).fold(tx,P1),te=((fe,Ae,ze,Ce)=>{const Te=fe.isiOS()&&/ipad/i.test(ze)===!0,Be=fe.isiOS()&&!Te,Ge=fe.isiOS()||fe.isAndroid(),Qe=Ge||Ce("(pointer:coarse)"),St=Te||!Be&&Ge&&Ce("(min-device-width:768px)"),Et=Be||Ge&&!St,Ct=Ae.isSafari()&&fe.isiOS()&&/safari/i.test(ze)===!1,Dt=!Et&&!St&&!Ct;return{isiPad:J(Te),isiPhone:J(Be),isTablet:J(St),isPhone:J(Et),isTouch:J(Qe),isAndroid:fe.isAndroid,isiOS:fe.isiOS,isWebView:J(Ct),isDesktop:J(Dt)}})(Q,$,b,T);return{browser:$,os:Q,deviceType:te}})(window.navigator.userAgent,oe.from(window.navigator.userAgentData),nx));const L1=()=>og(),Ld=(b,_)=>{const T=V=>{const $=_(V);if($<=0||$===null){const Q=Bi(V,b);return parseFloat(Q)||0}return $},B=(V,$)=>rt($,(Q,te)=>{const fe=Bi(V,te),Ae=fe===void 0?0:parseInt(fe,10);return isNaN(Ae)?Q:Q+Ae},0);return{set:(V,$)=>{if(!j($)&&!$.match(/^[0-9]+$/))throw new Error(b+".set accepts only positive integer values. Value was "+$);const Q=V.dom;No(Q)&&(Q.style[b]=$+"px")},get:T,getOuter:T,aggregate:B,max:(V,$,Q)=>{const te=B(V,Q);return $>te?$-te:0}}},Fd=(b,_,T)=>((B,V)=>($=>{const Q=parseFloat($);return isNaN(Q)?oe.none():oe.some(Q)})(B).getOr(V))(Bi(b,_),T),Fi=Ld("width",b=>b.dom.offsetWidth),Ga=b=>Fi.get(b),rg=b=>Fi.getOuter(b),Mo=b=>((_,T)=>{const B=_.dom,V=B.getBoundingClientRect().width||B.offsetWidth;return T==="border-box"?V:(($,Q,te,fe)=>Q-Fd($,`padding-${te}`,0)-Fd($,`padding-${fe}`,0)-Fd($,`border-${te}-width`,0)-Fd($,`border-${fe}-width`,0))(_,V,"left","right")})(b,"content-box"),ju=(b,_,T)=>{const B=b.cells,V=B.slice(0,_),$=B.slice(_),Q=V.concat(T).concat($);return fa(b,Q)},sg=(b,_,T)=>ju(b,_,[T]),ig=(b,_,T)=>{b.cells[_]=T},fa=(b,_)=>$s(b.element,_,b.section,b.isNew),Ss=(b,_)=>b.cells[_],Wr=(b,_)=>Ss(b,_).element,yi=b=>b.cells.length,Br=b=>{const _=sn(b,T=>T.section==="colgroup");return{rows:_.fail,cols:_.pass}},zd=(b,_,T)=>{const B=D(b.cells,T);return $s(_(b.element),B,b.section,!0)},qf="data-snooker-locked-cols",ei=b=>ao(b,qf).bind(_=>oe.from(_.match(/\d+/g))).map(_=>$r(_,Ie)),ma=b=>{const _=rt(Br(b).rows,(B,V)=>(Nt(V.cells,($,Q)=>{$.isLocked&&(B[Q]=!0)}),B),{}),T=ve(_,(B,V)=>parseInt(V,10));return((B,V)=>{const $=Je.call(B,0);return $.sort(void 0),$})(T)},oa=(b,_)=>b+","+_,kc=(b,_)=>{const T=yt(b.all,B=>B.cells);return vn(T,_)},Ku=b=>{const _={},T=[],B=Sn(b).map(Te=>Te.element).bind(qa).bind(ei).getOr({});let V=0,$=0,Q=0;const{pass:te,fail:fe}=sn(b,Te=>Te.section==="colgroup");Nt(fe,Te=>{const Be=[];Nt(Te.cells,Ge=>{let Qe=0;for(;_[oa(Q,Qe)]!==void 0;)Qe++;const St=((Ct,Dt)=>tt(Ct,Dt)&&Ct[Dt]!==void 0&&Ct[Dt]!==null)(B,Qe.toString()),Et=((Ct,Dt,$t,Kt,nt,gn)=>({element:Ct,rowspan:Dt,colspan:$t,row:Kt,column:nt,isLocked:gn}))(Ge.element,Ge.rowspan,Ge.colspan,Q,Qe,St);for(let Ct=0;Ct<Ge.colspan;Ct++)for(let Dt=0;Dt<Ge.rowspan;Dt++){const $t=Qe+Ct,Kt=oa(Q+Dt,$t);_[Kt]=Et,$=Math.max($,$t+1)}Be.push(Et)}),V++,T.push(Uo(Te.element,Be,Te.section)),Q++});const{columns:Ae,colgroups:ze}=Mn(te).map(Te=>{const Be=(Qe=>{const St={};let Et=0;return Nt(Qe.cells,Ct=>{const Dt=Ct.colspan;Ne(Dt,$t=>{const Kt=Et+$t;St[Kt]=((nt,gn,Hn)=>({element:nt,colspan:gn,column:Hn}))(Ct.element,Dt,Kt)}),Et+=Dt}),St})(Te);return{colgroups:[((Qe,St)=>({element:Qe,columns:St}))(Te.element,De(Be))],columns:Be}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((Te,Be)=>({rows:Te,columns:Be}))(V,$),access:_,all:T,columns:Ae,colgroups:ze}},bo=b=>{const _=tg(b);return Ku(_)},Us=Ku,Ya=(b,_,T)=>oe.from(b.access[oa(_,T)]),qu=(b,_,T)=>{const B=kc(b,V=>T(_,V.element));return B.length>0?oe.some(B[0]):oe.none()},wi=kc,En=b=>yt(b.all,_=>_.cells),Yl=b=>De(b.columns),Xl=b=>nr(b.columns).length>0,sr=(b,_)=>oe.from(b.columns[_]),ch=(b,_=Ie)=>{const T=b.grid,B=Ne(T.columns,ne),V=Ne(T.rows,ne);return D(B,$=>Np(()=>yt(V,Q=>Ya(b,Q,$).filter(te=>te.column===$).toArray()),Q=>Q.colspan===1&&_(Q.element),()=>Ya(b,0,$)))},Np=(b,_,T)=>{const B=b();return Un(B,_).orThunk(()=>oe.from(B[0]).orThunk(T)).map(V=>V.element)},Gu=b=>{const _=b.grid,T=Ne(_.rows,ne),B=Ne(_.columns,ne);return D(T,V=>Np(()=>yt(B,$=>Ya(b,V,$).filter(Q=>Q.row===V).fold(J([]),Q=>[Q])),$=>$.rowspan===1,()=>Ya(b,V,0)))},ko=(b,_)=>T=>ga(T)==="rtl"?_:b,ga=b=>Bi(b,"direction")==="rtl"?"rtl":"ltr",uh=Ld("height",b=>{const _=b.dom;return Ea(b)?_.getBoundingClientRect().height:_.offsetHeight}),Yu=b=>uh.get(b),Ip=b=>uh.getOuter(b),Ac=(b,_)=>({left:b,top:_,translate:(T,B)=>Ac(b+T,_+B)}),Da=Ac,Ec=(b,_)=>b!==void 0?b:_!==void 0?_:0,Hd=b=>{const _=b.dom.ownerDocument,T=_.body,B=_.defaultView,V=_.documentElement;if(T===b.dom)return Da(T.offsetLeft,T.offsetTop);const $=Ec(B==null?void 0:B.pageYOffset,V.scrollTop),Q=Ec(B==null?void 0:B.pageXOffset,V.scrollLeft),te=Ec(V.clientTop,T.clientTop),fe=Ec(V.clientLeft,T.clientLeft);return Oe(b).translate(Q-fe,$-te)},Oe=b=>{const _=b.dom,T=_.ownerDocument.body;return T===_?Da(T.offsetLeft,T.offsetTop):Ea(b)?(B=>{const V=B.getBoundingClientRect();return Da(V.left,V.top)})(_):Da(0,0)},Gf=(b,_)=>({row:b,y:_}),fr=(b,_)=>({col:b,x:_}),Bp=b=>Hd(b).left+rg(b),ag=b=>Hd(b).left,Tc=(b,_)=>fr(b,ag(_)),Po=(b,_)=>fr(b,Bp(_)),zi=b=>Hd(b).top,au=(b,_)=>Gf(b,zi(_)),Ol=(b,_)=>Gf(b,zi(_)+Ip(_)),lu=(b,_,T)=>{if(T.length===0)return[];const B=D(T.slice(1),($,Q)=>$.map(te=>b(Q,te))),V=T[T.length-1].map($=>_(T.length-1,$));return B.concat([V])},cu={delta:ne,positions:b=>lu(au,Ol,b),edge:zi},Hi=ko({delta:ne,edge:ag,positions:b=>lu(Tc,Po,b)},{delta:b=>-b,edge:Bp,positions:b=>lu(Po,Tc,b)}),Vd={delta:(b,_)=>Hi(_).delta(b,_),positions:(b,_)=>Hi(_).positions(b,_),edge:b=>Hi(b).edge(b)},Yf={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Mp=(()=>{const b="[0-9]+",_="[eE][+-]?"+b,T=V=>`(?:${V})?`,B=["Infinity",b+"\\."+T(b)+T(_),"\\."+b+T(_),b+T(_)].join("|");return new RegExp(`^([+-]?(?:${B}))(.*)$`)})(),ti=/(\d+(\.\d+)?)%/,In=/(\d+(\.\d+)?)px|em/,uu=po("col"),Xf=po("tr"),Vi=(b,_,T)=>{const B=nu(b).getOrThunk(()=>Cc(tu(b)));return _(b)/T(B)*100},du=(b,_)=>{mo(b,"width",_+"px")},ml=(b,_)=>{mo(b,"width",_+"%")},fu=(b,_)=>{mo(b,"height",_+"px")},Xu=b=>{const _=(T=>{return Fd(B=T,"height",B.dom.offsetHeight)+"px";var B})(b);return _?((T,B,V,$)=>{const Q=parseFloat(T);return tn(T,"%")&&Yt(B)!=="table"?((te,fe,Ae,ze)=>{const Ce=qa(te).map(Te=>{const Be=Ae(Te);return Math.floor(fe/100*Be)}).getOr(fe);return ze(te,Ce),Ce})(B,Q,V,$):Q})(_,b,Yu,fu):Yu(b)},ni=(b,_)=>Ta(b,_).orThunk(()=>ao(b,_).map(T=>T+"px")),Dl=b=>ni(b,"width"),Oc=b=>Vi(b,Ga,Mo),Jf=b=>{return uu(b)?Ga(b):Fd(_=b,"width",_.dom.offsetWidth);var _},F1=b=>Xf(b)?Yu(b):((_,T,B)=>B(_)/Zu(_,"rowspan"))(b,0,Xu),mu=(b,_,T)=>{mo(b,"width",_+T)},$d=b=>Vi(b,Ga,Mo)+"%",Pp=J(ti),rs=po("col"),ha=b=>Dl(b).getOrThunk(()=>Jf(b)+"px"),ra=b=>{return(_=b,ni(_,"height")).getOrThunk(()=>F1(b)+"px");var _},Ra=(b,_,T,B,V,$)=>b.filter(B).fold(()=>$(((Q,te)=>{if(te<0||te>=Q.length-1)return oe.none();const fe=Q[te].fold(()=>{const ze=(Ce=>{const Te=Je.call(Ce,0);return Te.reverse(),Te})(Q.slice(0,te));return X(ze,(Ce,Te)=>Ce.map(Be=>({value:Be,delta:Te+1})))},ze=>oe.some({value:ze,delta:0})),Ae=Q[te+1].fold(()=>{const ze=Q.slice(te+1);return X(ze,(Ce,Te)=>Ce.map(Be=>({value:Be,delta:Te+1})))},ze=>oe.some({value:ze,delta:1}));return fe.bind(ze=>Ae.map(Ce=>{const Te=Ce.delta+ze.delta;return Math.abs(Ce.value-ze.value)/Te}))})(T,_)),Q=>V(Q)),qs=(b,_,T,B)=>{const V=ch(b),$=Xl(b)?(fe=>D(Yl(fe),Ae=>oe.from(Ae.element)))(b):V,Q=[oe.some(Vd.edge(_))].concat(D(Vd.positions(V,_),fe=>fe.map(Ae=>Ae.x))),te=We(_s);return D($,(fe,Ae)=>Ra(fe,Ae,Q,te,ze=>{if((Te=>{const Be=L1().browser,Ge=Be.isChromium()||Be.isFirefox();return!rs(Te)||Ge})(ze))return T(ze);{const Te=(Ce=V[Ae])!=null?ne(Ce):oe.none();return Ra(Te,Ae,Q,te,Be=>B(oe.some(Ga(Be))),B)}var Ce},B))},dh=b=>b.map(_=>_+"px").getOr(""),Zs=(b,_,T)=>qs(b,_,Jf,B=>B.getOrThunk(T.minCellWidth)),Ci=(b,_,T,B)=>{const V=Gu(b),$=D(b.all,te=>oe.some(te.element)),Q=[oe.some(cu.edge(_))].concat(D(cu.positions(V,_),te=>te.map(fe=>fe.y)));return D($,(te,fe)=>Ra(te,fe,Q,Ie,T,B))},Dc=(b,_)=>()=>Ea(b)?_(b):parseFloat(Ta(b,"width").getOr("0")),kt=b=>{const _=Dc(b,B=>parseFloat($d(B))),T=Dc(b,Ga);return{width:_,pixelWidth:T,getWidths:(B,V)=>(($,Q,te)=>qs($,Q,Oc,fe=>fe.fold(()=>te.minCellWidth(),Ae=>Ae/te.pixelWidth()*100)))(B,b,V),getCellDelta:B=>B/T()*100,singleColumnWidth:(B,V)=>[100-B],minCellWidth:()=>ul()/T()*100,setElementWidth:ml,adjustTableWidth:B=>{const V=_();ml(b,V+B/100*V)},isRelative:!0,label:"percent"}},_i=b=>{const _=Dc(b,Ga);return{width:_,pixelWidth:_,getWidths:(T,B)=>Zs(T,b,B),getCellDelta:ne,singleColumnWidth:(T,B)=>[Math.max(ul(),T+B)-T],minCellWidth:ul,setElementWidth:du,adjustTableWidth:T=>{const B=_()+T;du(b,B)},isRelative:!1,label:"pixel"}},fh=b=>Dl(b).fold(()=>(_=>{const T=Dc(_,Ga),B=J(0);return{width:T,pixelWidth:T,getWidths:(V,$)=>Zs(V,_,$),getCellDelta:B,singleColumnWidth:J([0]),minCellWidth:B,setElementWidth:U,adjustTableWidth:U,isRelative:!0,label:"none"}})(b),_=>((T,B)=>Pp().exec(B)!==null?kt(T):_i(T))(b,_)),ss=_i,gu=kt,pa=(b,_,T)=>{const B=b[T].element,V=Ht.fromTag("td");Xr(V,Ht.fromTag("br")),(_?Xr:$f)(B,V)},Jl=((b,_)=>{const T=B=>b(B)?oe.from(B.dom.nodeValue):oe.none();return{get:B=>{if(!b(B))throw new Error("Can only get text value of a text node");return T(B).getOr("")},getOption:T,set:(B,V)=>{if(!b(B))throw new Error("Can only set raw text value of a text node");B.dom.nodeValue=V}}})(xn),Qf=b=>Jl.get(b),Na=b=>Jl.getOption(b),Io=(b,_)=>Jl.set(b,_),ks=b=>Yt(b)==="img"?1:Na(b).fold(()=>ci(b).length,_=>_.length),Ud=["img","br"],vs=b=>Na(b).filter(_=>_.trim().length!==0||_.indexOf("")>-1).isSome()||gt(Ud,Yt(b))||(_=>Mt(_)&&jt(_,"contenteditable")==="false")(b),lg=b=>((_,T)=>{const B=V=>{for(let $=0;$<V.childNodes.length;$++){const Q=Ht.fromDom(V.childNodes[$]);if(T(Q))return oe.some(Q);const te=B(V.childNodes[$]);if(te.isSome())return te}return oe.none()};return B(_.dom)})(b,vs),Rc=b=>z1(b,vs),z1=(b,_)=>{const T=B=>{const V=ci(B);for(let $=V.length-1;$>=0;$--){const Q=V[$];if(_(Q))return oe.some(Q);const te=T(Q);if(te.isSome())return te}return oe.none()};return T(b)},ds={scope:["row","col"]},Xe=b=>()=>{const _=Ht.fromTag("td",b.dom);return Xr(_,Ht.fromTag("br",b.dom)),_},ba=b=>()=>Ht.fromTag("col",b.dom),As=b=>()=>Ht.fromTag("colgroup",b.dom),yl=b=>()=>Ht.fromTag("tr",b.dom),Ql=(b,_,T)=>{const B=((V,$)=>{const Q=wc(V,$),te=ci(yc(V));return al(Q,te),Q})(b,_);return jo(T,(V,$)=>{V===null?so(B,$):yo(B,$,V)}),B},Ls=b=>b,Mr=(b,_,T)=>{const B=(V,$)=>{((Q,te)=>{const fe=Q.dom,Ae=te.dom;No(fe)&&No(Ae)&&(Ae.style.cssText=fe.style.cssText)})(V.element,$),Ka($,"height"),V.colspan!==1&&Ka($,"width")};return{col:V=>{const $=Ht.fromTag(Yt(V.element),_.dom);return B(V,$),b(V.element,$),$},colgroup:As(_),row:yl(_),cell:V=>{const $=Ht.fromTag(Yt(V.element),_.dom),Q=T.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),te=Q.length>0?((fe,Ae,ze)=>lg(fe).map(Ce=>{const Te=ze.join(","),Be=na(Ce,Te,Ge=>yr(Ge,fe));return Tn(Be,(Ge,Qe)=>{const St=Zf(Qe);return Xr(Ge,St),St},Ae)}).getOr(Ae))(V.element,$,Q):$;return Xr(te,Ht.fromTag("br")),B(V,$),((fe,Ae)=>{jo(ds,(ze,Ce)=>ao(fe,Ce).filter(Te=>gt(ze,Te)).each(Te=>yo(Ae,Ce,Te)))})(V.element,$),b(V.element,$),$},replace:Ql,colGap:ba(_),gap:Xe(_)}},lr=b=>({col:ba(b),colgroup:As(b),row:yl(b),cell:Xe(b),replace:Ls,colGap:ba(b),gap:Xe(b)}),va=b=>_=>_.options.get(b),wl="100%",Nc=b=>{var _;const T=b.dom,B=(_=T.getParent(b.selection.getStart(),T.isBlock))!==null&&_!==void 0?_:b.getBody();return Mo(Ht.fromDom(B))+"px"},Ju=b=>oe.from(b.options.get("table_clone_elements")),em=va("table_header_type"),cg=va("table_column_resizing"),ug=b=>cg(b)==="preservetable",Lp=b=>cg(b)==="resizetable",Fp=va("table_sizing_mode"),hu=b=>Fp(b)==="relative",R=b=>Fp(b)==="fixed",Z=b=>Fp(b)==="responsive",ee=va("table_resize_bars"),ke=va("table_style_by_css"),Le=va("table_merge_content_on_paste"),At=b=>{const _=b.options,T=_.get("table_default_attributes");return _.isSet("table_default_attributes")?T:((B,V)=>Z(B)||ke(B)?V:R(B)?{...V,width:Nc(B)}:{...V,width:wl})(b,T)},Pn=va("table_use_colgroups"),io=b=>$e(b,"[contenteditable]"),Xn=(b,_=!1)=>Ea(b)?b.dom.isContentEditable:io(b).fold(J(_),T=>wn(T)==="true"),wn=b=>b.dom.contentEditable,Xo=b=>Ht.fromDom(b.getBody()),Es=b=>_=>yr(_,Xo(b)),is=b=>{so(b,"data-mce-style");const _=T=>so(T,"data-mce-style");Nt(us(b),_),Nt(Gl(b),_),Nt(Ir(b),_)},ec=b=>Ht.fromDom(b.selection.getStart()),tm=b=>b.getBoundingClientRect().width,nm=b=>b.getBoundingClientRect().height,Gs=b=>(_,T)=>{const B=_.dom.getStyle(T,b)||_.dom.getAttrib(T,b);return oe.from(B).filter(_o)},ww=Gs("width"),zp=Gs("height"),H1=b=>Ke(b,po("table")).exists(Xn),$i=(b,_)=>{const T=_.column,B=_.column+_.colspan-1,V=_.row,$=_.row+_.rowspan-1;return T<=b.finishCol&&B>=b.startCol&&V<=b.finishRow&&$>=b.startRow},fs=(b,_)=>_.column>=b.startCol&&_.column+_.colspan-1<=b.finishCol&&_.row>=b.startRow&&_.row+_.rowspan-1<=b.finishRow,di=(b,_,T)=>{const B=qu(b,_,yr),V=qu(b,T,yr);return B.bind($=>V.map(Q=>{return te=$,fe=Q,{startRow:Math.min(te.row,fe.row),startCol:Math.min(te.column,fe.column),finishRow:Math.max(te.row+te.rowspan-1,fe.row+fe.rowspan-1),finishCol:Math.max(te.column+te.colspan-1,fe.column+fe.colspan-1)};var te,fe}))},pu=(b,_,T)=>di(b,_,T).map(B=>{const V=wi(b,pe($i,B));return D(V,$=>$.element)}),mh=(b,_)=>qu(b,_,(T,B)=>Ps(B,T)).map(T=>T.element),ox=(b,_,T)=>{const B=Xa(b);return pu(B,_,T)},Rl=(b,_,T,B,V)=>{const $=Xa(b),Q=yr(b,T)?oe.some(_):mh($,_),te=yr(b,V)?oe.some(B):mh($,B);return Q.bind(fe=>te.bind(Ae=>pu($,fe,Ae)))},Xa=bo;var Hp=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Zd=()=>({up:J({selector:Ee,closest:$e,predicate:xe,all:ar}),down:J({selector:dr,predicate:ta}),styles:J({get:Bi,getRaw:Ta,set:mo,remove:Ka}),attrs:J({get:jt,set:yo,remove:so,copyTo:(b,_)=>{const T=Nr(b);Ar(_,T)}}),insert:J({before:nn,after:ru,afterAll:Aa,append:Xr,appendAll:al,prepend:$f,wrap:Uf}),remove:J({unwrap:ea,remove:Ur}),create:J({nu:Ht.fromTag,clone:b=>Ht.fromDom(b.dom.cloneNode(!1)),text:Ht.fromText}),query:J({comparePosition:(b,_)=>b.dom.compareDocumentPosition(_.dom),prevSibling:Yn,nextSibling:xl}),property:J({children:ci,name:Yt,parent:Wa,document:b=>ql(b).dom,isText:xn,isComment:Bt,isElement:Gt,isSpecial:b=>{const _=Yt(b);return gt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],_)},getLanguage:b=>Gt(b)?ao(b,"lang"):oe.none(),getText:Qf,setText:Io,isBoundary:b=>!!Gt(b)&&(Yt(b)==="body"||gt(Hp,Yt(b))),isEmptyTag:b=>!!Gt(b)&&gt(["br","img","hr","input"],Yt(b)),isNonEditable:b=>Gt(b)&&jt(b,"contenteditable")==="false"}),eq:yr,is:Vf});const YS=(b,_,T,B)=>{const V=_(b,T);return Tn(B,($,Q)=>{const te=_(b,Q);return Vp(b,$,te)},V)},Vp=(b,_,T)=>_.bind(B=>T.filter(pe(b.eq,B))),Qu=Zd(),Wd=(b,_)=>((T,B,V)=>V.length>0?(($,Q,te,fe)=>fe($,Q,te[0],te.slice(1)))(T,B,V,YS):oe.none())(Qu,(T,B)=>b(B),_),yn=b=>Ee(b,"table"),Ic=(b,_,T)=>{const B=V=>$=>T!==void 0&&T($)||yr($,V);return yr(b,_)?oe.some({boxes:oe.some([b]),start:b,finish:_}):yn(b).bind(V=>yn(_).bind($=>{if(yr(V,$))return oe.some({boxes:ox(V,b,_),start:b,finish:_});if(Ps(V,$)){const Q=na(_,"td,th",B(V)),te=Q.length>0?Q[Q.length-1]:_;return oe.some({boxes:Rl(V,b,V,_,$),start:b,finish:te})}if(Ps($,V)){const Q=na(b,"td,th",B($)),te=Q.length>0?Q[Q.length-1]:b;return oe.some({boxes:Rl($,b,V,_,$),start:b,finish:te})}return((Q,te,fe)=>((Ae,ze,Ce,Te=ae)=>{const Be=[ze].concat(Ae.up().all(ze)),Ge=[Ce].concat(Ae.up().all(Ce)),Qe=Dt=>Hr(Dt,Te).fold(()=>Dt,$t=>Dt.slice(0,$t+1)),St=Qe(Be),Et=Qe(Ge),Ct=Un(St,Dt=>Se(Et,(($t,Kt)=>pe($t.eq,Kt))(Ae,Dt)));return{firstpath:St,secondpath:Et,shared:Ct}})(Qu,Q,te,void 0))(b,_).shared.bind(Q=>$e(Q,"table",T).bind(te=>{const fe=na(_,"td,th",B(te)),Ae=fe.length>0?fe[fe.length-1]:_,ze=na(b,"td,th",B(te)),Ce=ze.length>0?ze[ze.length-1]:b;return oe.some({boxes:Rl(te,b,V,_,$),start:Ce,finish:Ae})}))}))},$p=(b,_)=>{const T=dr(b,_);return T.length>0?oe.some(T):oe.none()},jd=(b,_,T)=>ot(b,_).bind(B=>ot(b,T).bind(V=>Wd(yn,[B,V]).map($=>({first:B,last:V,table:$})))),Ui=(b,_,T,B,V)=>(($,Q)=>Un($,te=>Ks(te,Q)))(b,V).bind($=>((Q,te,fe)=>qa(Q).bind(Ae=>((ze,Ce,Te,Be)=>qu(ze,Ce,yr).bind(Ge=>{const Qe=Te>0?Ge.row+Ge.rowspan-1:Ge.row,St=Be>0?Ge.column+Ge.colspan-1:Ge.column;return Ya(ze,Qe+Te,St+Be).map(Et=>Et.element)}))(Xa(Ae),Q,te,fe)))($,_,T).bind(Q=>((te,fe)=>Ee(te,"table").bind(Ae=>ot(Ae,fe).bind(ze=>Ic(ze,te).bind(Ce=>Ce.boxes.map(Te=>({boxes:Te,start:Ce.start,finish:Ce.finish}))))))(Q,B))),tc=(b,_)=>$p(b,_),dg=(b,_,T)=>jd(b,_,T).bind(B=>{const V=fe=>yr(b,fe),$="thead,tfoot,tbody,table",Q=Ee(B.first,$,V),te=Ee(B.last,$,V);return Q.bind(fe=>te.bind(Ae=>yr(fe,Ae)?((ze,Ce,Te)=>((Be,Ge,Qe)=>di(Be,Ge,Qe).bind(St=>((Et,Ct)=>{let Dt=!0;const $t=pe(fs,Ct);for(let Kt=Ct.startRow;Kt<=Ct.finishRow;Kt++)for(let nt=Ct.startCol;nt<=Ct.finishCol;nt++)Dt=Dt&&Ya(Et,Kt,nt).exists($t);return Dt?oe.some(Ct):oe.none()})(Be,St)))(Xa(ze),Ce,Te))(B.table,B.first,B.last):oe.none()))}),Kd=ne,V1=b=>{const _=(T,B)=>ao(T,B).exists(V=>parseInt(V,10)>1);return b.length>0&&qt(b,T=>_(T,"rowspan")||_(T,"colspan"))?oe.some(b):oe.none()},Bc=(b,_,T)=>_.length<=1?oe.none():dg(b,T.firstSelectedSelector,T.lastSelectedSelector).map(B=>({bounds:B,cells:_})),gh="data-mce-selected",hh="data-mce-first-selected",Lt="data-mce-last-selected",rx="["+gh+"]",qd={selected:gh,selectedSelector:"td["+gh+"],th["+gh+"]",firstSelected:hh,firstSelectedSelector:"td["+hh+"],th["+hh+"]",lastSelected:Lt,lastSelectedSelector:"td["+Lt+"],th["+Lt+"]"},ho=(b,_,T)=>({element:T,mergable:Bc(_,b,qd),unmergable:V1(b),selection:Kd(b)}),Cn=b=>(_,T)=>{const B=Yt(_),V=B==="col"||B==="colgroup"?qa($=_).bind(Q=>tc(Q,qd.firstSelectedSelector)).fold(J($),Q=>Q[0]):_;var $;return $e(V,b,T)},Gd=Cn("th,td,caption"),Jr=Cn("th,td"),nc=b=>{return _=b.model.table.getSelectedCells(),D(_,Ht.fromDom);var _},oc=(b,_)=>{b.on("BeforeGetContent",T=>{const B=V=>{T.preventDefault(),($=>qa($[0]).map(Q=>{const te=((fe,Ae)=>{const ze=Dt=>Ks(Dt.element,Ae),Ce=yc(fe),Te=tg(Ce),Be=fh(fe),Ge=Us(Te),Qe=((Dt,$t)=>{const Kt=Dt.grid.columns;let nt=Dt.grid.rows,gn=Kt,Hn=0,co=0;const Kn=[],Vn=[];return jo(Dt.access,lo=>{if(Kn.push(lo),$t(lo)){Vn.push(lo);const Bo=lo.row,zs=Bo+lo.rowspan-1,ia=lo.column,Ai=ia+lo.colspan-1;Bo<nt?nt=Bo:zs>Hn&&(Hn=zs),ia<gn?gn=ia:Ai>co&&(co=Ai)}}),((lo,Bo,zs,ia,Ai,Ml)=>({minRow:lo,minCol:Bo,maxRow:zs,maxCol:ia,allCells:Ai,selectedCells:Ml}))(nt,gn,Hn,co,Kn,Vn)})(Ge,ze),St="th:not("+Ae+"),td:not("+Ae+")",Et=jf(Ce,"th,td",Dt=>Ks(Dt,St));Nt(Et,Ur),((Dt,$t,Kt,nt)=>{const gn=vn(Dt,Kn=>Kn.section!=="colgroup"),Hn=$t.grid.columns,co=$t.grid.rows;for(let Kn=0;Kn<co;Kn++){let Vn=!1;for(let lo=0;lo<Hn;lo++)Kn<Kt.minRow||Kn>Kt.maxRow||lo<Kt.minCol||lo>Kt.maxCol||(Ya($t,Kn,lo).filter(nt).isNone()?pa(gn,Vn,Kn):Vn=!0)}})(Te,Ge,Qe,ze);const Ct=((Dt,$t,Kt,nt)=>{if(nt.minCol===0&&$t.grid.columns===nt.maxCol+1)return 0;const gn=Zs($t,Dt,Kt),Hn=rt(gn,(Vn,lo)=>Vn+lo,0),co=rt(gn.slice(nt.minCol,nt.maxCol+1),(Vn,lo)=>Vn+lo,0),Kn=co/Hn*Kt.pixelWidth()-Kt.pixelWidth();return Kt.getCellDelta(Kn)})(fe,bo(fe),Be,Qe);return((Dt,$t,Kt,nt)=>{jo(Kt.columns,Hn=>{(Hn.column<$t.minCol||Hn.column>$t.maxCol)&&Ur(Hn.element)});const gn=vn(su(Dt,"tr"),Hn=>Hn.dom.childElementCount===0);Nt(gn,Ur),$t.minCol!==$t.maxCol&&$t.minRow!==$t.maxRow||Nt(su(Dt,"th,td"),Hn=>{so(Hn,"rowspan"),so(Hn,"colspan")}),so(Dt,qf),so(Dt,"data-snooker-col-series"),fh(Dt).adjustTableWidth(nt)})(Ce,Qe,Ge,Ct),Ce})(Q,rx);return is(te),[te]}))(V).each($=>{T.content=T.format==="text"?(Q=>D(Q,te=>te.dom.innerText).join(""))($):((Q,te)=>D(te,fe=>Q.selection.serializer.serialize(fe.dom,{})).join(""))(b,$)})};if(T.selection===!0){const V=($=>vn(nc($),Q=>Ks(Q,qd.selectedSelector)))(b);V.length>=1&&B(V)}}),b.on("BeforeSetContent",T=>{if(T.selection===!0&&T.paste===!0){const B=nc(b);Sn(B).each(V=>{qa(V).each($=>{const Q=vn(((fe,Ae)=>{const ze=document.createElement("div");return ze.innerHTML=fe,ci(Ht.fromDom(ze))})(T.content),fe=>Yt(fe)!=="meta"),te=po("table");if(Le(b)&&Q.length===1&&te(Q[0])){T.preventDefault();const fe=Ht.fromDom(b.getDoc()),Ae=lr(fe),ze=((Ce,Te,Be)=>({element:Ce,clipboard:Te,generators:Be}))(V,Q[0],Ae);_.pasteCells($,ze).each(()=>{b.focus()})}})})}})},to=(b,_)=>({element:b,offset:_}),ph=(b,_,T)=>b.property().isText(_)&&b.property().getText(_).trim().length===0||b.property().isComment(_)?T(_).bind(B=>ph(b,B,T).orThunk(()=>oe.some(B))):oe.none(),Cw=(b,_)=>b.property().isText(_)?b.property().getText(_).length:b.property().children(_).length,bt=(b,_)=>{const T=ph(b,_,b.query().prevSibling).getOr(_);if(b.property().isText(T))return to(T,Cw(b,T));const B=b.property().children(T);return B.length>0?bt(b,B[B.length-1]):to(T,Cw(b,T))},sx=bt,bh=Zd(),vh=(b,_)=>{_s(b)||(B=>Dl(B).bind(V=>{return $=V,Q=["fixed","relative","empty"],oe.from(Mp.exec($)).bind(te=>{const fe=Number(te[1]),Ae=te[2];return((ze,Ce)=>Se(Ce,Te=>Se(Yf[Te],Be=>ze===Be)))(Ae,Q)?oe.some({value:fe,unit:Ae}):oe.none()});var $,Q}))(b).each(B=>{const V=B.value/2;mu(b,V,B.unit),mu(_,V,B.unit)})},fg=b=>D(b,J(0)),om=(b,_,T,B,V)=>V(b.slice(0,_)).concat(B).concat(V(b.slice(T))),_w=b=>(_,T,B,V)=>{if(b(B)){const $=Math.max(V,_[T]-Math.abs(B)),Q=Math.abs($-_[T]);return B>=0?Q:-Q}return B},Yd=_w(b=>b<0),Vr=_w(Ie),bu=()=>{const b=(T,B,V,$)=>{const Q=(100+V)/100,te=Math.max($,(T[B]+V)/Q);return D(T,(fe,Ae)=>(Ae===B?te:fe/Q)-fe)},_=(T,B,V,$,Q,te)=>te?b(T,B,$,Q):((fe,Ae,ze,Ce,Te)=>{const Be=Yd(fe,Ae,Ce,Te);return om(fe,Ae,ze+1,[Be,0],fg)})(T,B,V,$,Q);return{resizeTable:(T,B)=>T(B),clampTableDelta:Yd,calcLeftEdgeDeltas:_,calcMiddleDeltas:(T,B,V,$,Q,te,fe)=>_(T,V,$,Q,te,fe),calcRightEdgeDeltas:(T,B,V,$,Q,te)=>{if(te)return b(T,V,$,Q);{const fe=Yd(T,V,$,Q);return fg(T.slice(0,V)).concat([fe])}},calcRedestributedWidths:(T,B,V,$)=>{if($){const Q=(B+V)/B,te=D(T,fe=>fe/Q);return{delta:100*Q-100,newSizes:te}}return{delta:V,newSizes:T}}}},$1=()=>{const b=(_,T,B,V,$)=>{const Q=Vr(_,V>=0?B:T,V,$);return om(_,T,B+1,[Q,-Q],fg)};return{resizeTable:(_,T,B)=>{B&&_(T)},clampTableDelta:(_,T,B,V,$)=>{if($){if(B>=0)return B;{const Q=rt(_,(te,fe)=>te+fe-V,0);return Math.max(-Q,B)}}return Yd(_,T,B,V)},calcLeftEdgeDeltas:b,calcMiddleDeltas:(_,T,B,V,$,Q)=>b(_,B,V,$,Q),calcRightEdgeDeltas:(_,T,B,V,$,Q)=>{if(Q)return fg(_);{const te=V/_.length;return D(_,J(te))}},calcRedestributedWidths:(_,T,B,V)=>({delta:0,newSizes:_})}},Mc=b=>bo(b).grid,rm=po("th"),Nl=b=>qt(b,_=>rm(_.element)),Ts=(b,_)=>b&&_?"sectionCells":b?"section":"cells",Up=b=>{const _=b.section==="thead",T=Ft(fi(b.cells),"th");return b.section==="tfoot"?{type:"footer"}:_||T?{type:"header",subType:Ts(_,T)}:{type:"body"}},fi=b=>{const _=vn(b,T=>rm(T.element));return _.length===0?oe.some("td"):_.length===b.length?oe.some("th"):oe.none()},U1=(b,_,T)=>bs(T(b.element,_),!0,b.isLocked),rc=(b,_)=>b.section!==_?$s(b.element,b.cells,_,b.isNew):b,mi=()=>({transformRow:rc,transformCell:(b,_,T)=>{const B=T(b.element,_),V=Yt(B)!=="td"?(($,Q)=>{const te=wc($,"td");ru($,te);const fe=ci($);return al(te,fe),Ur($),te})(B):B;return bs(V,b.isNew,b.isLocked)}}),zt=()=>({transformRow:rc,transformCell:U1}),sm=()=>({transformRow:(b,_)=>rc(b,_==="thead"?"tbody":_),transformCell:U1}),gi=mi,Sw=zt,kw=sm,XS=()=>({transformRow:ne,transformCell:U1}),ed=(b,_,T,B)=>{T===B?so(b,_):yo(b,_,T)},mg=(b,_,T)=>{Mn(_c(b,_)).fold(()=>$f(b,T),B=>ru(B,T))},Zp=(b,_)=>{const T=[],B=[],V=Te=>D(Te,Be=>{Be.isNew&&T.push(Be.element);const Ge=Be.element;return ja(Ge),Nt(Be.cells,Qe=>{Qe.isNew&&B.push(Qe.element),ed(Qe.element,"colspan",Qe.colspan,1),ed(Qe.element,"rowspan",Qe.rowspan,1),Xr(Ge,Qe.element)}),Ge}),$=Te=>yt(Te,Be=>D(Be.cells,Ge=>(ed(Ge.element,"span",Ge.colspan,1),Ge.element))),Q=(Te,Be)=>{const Ge=((St,Et)=>{const Ct=at(St,Et).getOrThunk(()=>{const Dt=Ht.fromTag(Et,tu(St).dom);return Et==="thead"?mg(St,"caption,colgroup",Dt):Et==="colgroup"?mg(St,"caption",Dt):Xr(St,Dt),Dt});return ja(Ct),Ct})(b,Be),Qe=(Be==="colgroup"?$:V)(Te);al(Ge,Qe)},te=(Te,Be)=>{Te.length>0?Q(Te,Be):(Ge=>{at(b,Ge).each(Ur)})(Be)},fe=[],Ae=[],ze=[],Ce=[];return Nt(_,Te=>{switch(Te.section){case"thead":fe.push(Te);break;case"tbody":Ae.push(Te);break;case"tfoot":ze.push(Te);break;case"colgroup":Ce.push(Te)}}),te(Ce,"colgroup"),te(fe,"thead"),te(Ae,"tbody"),te(ze,"tfoot"),{newRows:T,newCells:B}},Z1=(b,_)=>{if(b.length===0)return 0;const T=b[0];return Hr(b,B=>!_(T.element,B.element)).getOr(b.length)},ix=(b,_)=>{const T=D(b,B=>D(B.cells,ae));return D(b,(B,V)=>{const $=yt(B.cells,(Q,te)=>{if(T[V][te]===!1){const Te=((Be,Ge,Qe,St)=>{const Et=((Kt,nt)=>Kt[nt])(Be,Ge),Ct=Et.section==="colgroup",Dt=Z1(Et.cells.slice(Qe),St),$t=Ct?1:Z1(((Kt,nt)=>D(Kt,gn=>Ss(gn,nt)))(Be.slice(Ge),Qe),St);return{colspan:Dt,rowspan:$t}})(b,V,te,_);return((Be,Ge,Qe,St)=>{for(let Et=Be;Et<Be+Qe;Et++)for(let Ct=Ge;Ct<Ge+St;Ct++)T[Et][Ct]=!0})(V,te,Te.rowspan,Te.colspan),[(fe=Q.element,Ae=Te.rowspan,ze=Te.colspan,Ce=Q.isNew,{element:fe,rowspan:Ae,colspan:ze,isNew:Ce})]}return[];var fe,Ae,ze,Ce});return((Q,te,fe,Ae)=>({element:Q,cells:te,section:fe,isNew:Ae}))(B.element,$,B.section,B.isNew)})},as=(b,_,T)=>{const B=[];Nt(b.colgroups,V=>{const $=[];for(let Q=0;Q<b.grid.columns;Q++){const te=sr(b,Q).map(fe=>bs(fe.element,T,!1)).getOrThunk(()=>bs(_.colGap(),!0,!1));$.push(te)}B.push($s(V.element,$,"colgroup",T))});for(let V=0;V<b.grid.rows;V++){const $=[];for(let fe=0;fe<b.grid.columns;fe++){const Ae=Ya(b,V,fe).map(ze=>bs(ze.element,T,ze.isLocked)).getOrThunk(()=>bs(_.gap(),!0,!1));$.push(Ae)}const Q=b.all[V],te=$s(Q.element,$,Q.section,T);B.push(te)}return B},Wp=b=>ix(b,yr),ms=(b,_)=>X(b.all,T=>Un(T.cells,B=>yr(_,B.element))),Ia=(b,_,T)=>{const B=D(_.selection,$=>ih($).bind(Q=>ms(b,Q)).filter(T)),V=Jt(B);return an(V.length>0,V)},Os=(b,_,T,B,V)=>($,Q,te,fe)=>{const Ae=bo($),ze=oe.from(fe==null?void 0:fe.section).getOrThunk(XS);return _(Ae,Q).map(Ce=>{const Te=((Qe,St)=>as(Qe,St,!1))(Ae,te),Be=b(Te,Ce,yr,V(te),ze),Ge=ma(Be.grid);return{info:Ce,grid:Wp(Be.grid),cursor:Be.cursor,lockedColumns:Ge}}).bind(Ce=>{const Te=Zp($,Ce.grid),Be=oe.from(fe==null?void 0:fe.sizing).getOrThunk(()=>fh($)),Ge=oe.from(fe==null?void 0:fe.resize).getOrThunk($1);return T($,Ce.grid,Ce.info,{sizing:Be,resize:Ge,section:ze}),B($),so($,qf),Ce.lockedColumns.length>0&&yo($,qf,Ce.lockedColumns.join(",")),oe.some({cursor:Ce.cursor,newRows:Te.newRows,newCells:Te.newCells})})},Il=(b,_)=>Ia(b,_,Ie).map(T=>({cells:T,generators:_.generators,clipboard:_.clipboard})),td=(b,_)=>Ia(b,_,Ie),Si=(b,_)=>Ia(b,_,T=>!T.isLocked),jp=(b,_)=>qt(_,T=>((B,V)=>ms(B,V).exists($=>!$.isLocked))(b,T)),xh=(b,_,T,B)=>{const V=Br(b).rows;let $=!0;for(let Q=0;Q<V.length;Q++)for(let te=0;te<yi(V[0]);te++){const fe=V[Q],Ae=Ss(fe,te),ze=T(Ae.element,_);ze&&!$?ig(fe,te,bs(B(),!0,Ae.isLocked)):ze&&($=!1)}return b},Xd=b=>{const _=$=>$(b),T=J(b),B=()=>V,V={tag:!0,inner:b,fold:($,Q)=>Q(b),isValue:Ie,isError:ae,map:$=>yh.value($(b)),mapError:B,bind:_,exists:_,forall:_,getOr:T,or:B,getOrThunk:T,orThunk:B,getOrDie:T,each:$=>{$(b)},toOptional:()=>oe.some(b)};return V},Aw=b=>{const _=()=>T,T={tag:!1,inner:b,fold:(V,$)=>V(b),isValue:ae,isError:Ie,map:_,mapError:V=>yh.error(V(b)),bind:_,exists:ae,forall:Ie,getOr:ne,or:ne,getOrThunk:Fe,orThunk:Fe,getOrDie:(B=String(b),()=>{throw new Error(B)}),each:U,toOptional:oe.none};var B;return T},yh={value:Xd,error:Aw,fromOption:(b,_)=>b.fold(()=>Aw(_),Xd)},ax=(b,_)=>({rowDelta:0,colDelta:yi(b[0])-yi(_[0])}),W1=(b,_)=>({rowDelta:b.length-_.length,colDelta:0}),Kp=(b,_,T,B)=>{const V=_.section==="colgroup"?T.col:T.cell;return Ne(b,$=>bs(V(),!0,B($)))},j1=(b,_,T,B)=>{const V=b[b.length-1];return b.concat(Ne(_,()=>{const $=V.section==="colgroup"?T.colgroup:T.row,Q=zd(V,$,ne),te=Kp(Q.cells.length,Q,T,fe=>tt(B,fe.toString()));return fa(Q,te)}))},lx=(b,_,T,B)=>D(b,V=>{const $=Kp(_,V,T,ae);return ju(V,B,$)}),im=(b,_,T)=>{const B=_.colDelta<0?lx:ne,V=_.rowDelta<0?j1:ne,$=ma(b),Q=yi(b[0]),te=Se($,ze=>ze===Q-1),fe=B(b,Math.abs(_.colDelta),T,te?Q-1:Q),Ae=ma(fe);return V(fe,Math.abs(_.rowDelta),T,$r(Ae,Ie))},JS=(b,_,T,B)=>{const V=pe(B,Ss(b[_],T).element),$=b[_];return b.length>1&&yi($)>1&&(T>0&&V(Wr($,T-1))||T<$.cells.length-1&&V(Wr($,T+1))||_>0&&V(Wr(b[_-1],T))||_<b.length-1&&V(Wr(b[_+1],T)))},K1=(b,_,T)=>vn(T,B=>B>=b.column&&B<=yi(_[0])+b.column),q1=(b,_,T,B,V)=>{((Ae,ze,Ce,Te)=>{ze>0&&ze<Ae[0].cells.length&&Nt(Ae,Be=>{const Ge=Be.cells[ze-1];let Qe=0;const St=Te();for(;Be.cells.length>ze+Qe&&Ce(Ge.element,Be.cells[ze+Qe].element);)ig(Be,ze+Qe,bs(St,!0,Be.cells[ze+Qe].isLocked)),Qe++})})(_,b,V,B.cell);const $=W1(T,_),Q=im(T,$,B),te=W1(_,Q),fe=im(_,te,B);return D(fe,(Ae,ze)=>ju(Ae,b,Q[ze].cells))},cx=(b,_,T,B,V)=>{((Ct,Dt,$t,Kt)=>{const nt=Br(Ct).rows;if(Dt>0&&Dt<nt.length){const gn=((Hn,co)=>rt(Hn,(Kn,Vn)=>Se(Kn,lo=>co(lo.element,Vn.element))?Kn:Kn.concat([Vn]),[]))(nt[Dt-1].cells,$t);Nt(gn,Hn=>{let co=oe.none();for(let Kn=Dt;Kn<nt.length;Kn++)for(let Vn=0;Vn<yi(nt[0]);Vn++){const lo=nt[Kn],Bo=Ss(lo,Vn);$t(Bo.element,Hn.element)&&(co.isNone()&&(co=oe.some(Kt())),co.each(zs=>{ig(lo,Vn,bs(zs,!0,Bo.isLocked))}))}})}})(_,b,V,B.cell);const $=ma(_),Q=ax(_,T),te={...Q,colDelta:Q.colDelta-$.length},fe=im(_,te,B),{cols:Ae,rows:ze}=Br(fe),Ce=ma(fe),Te=ax(T,_),Be={...Te,colDelta:Te.colDelta+Ce.length},Ge=(St=B,Et=Ce,D(T,Ct=>rt(Et,(Dt,$t)=>{const Kt=Kp(1,Ct,St,Ie)[0];return sg(Dt,$t,Kt)},Ct))),Qe=im(Ge,Be,B);var St,Et;return[...Ae,...ze.slice(0,b),...Qe,...ze.slice(b,ze.length)]},ux=(b,_,T,B,V)=>{const{rows:$,cols:Q}=Br(b),te=$.slice(0,_),fe=$.slice(_);return[...Q,...te,((Ae,ze,Ce,Te)=>zd(Ae,Be=>Te(Be,Ce),ze))($[T],(Ae,ze)=>_>0&&_<$.length&&B(Wr($[_-1],ze),Wr($[_],ze))?Ss($[_],ze):bs(V(Ae.element,B),!0,Ae.isLocked),B,V),...fe]},qp=(b,_,T,B,V)=>D(b,$=>{const Q=_>0&&_<yi($)&&B(Wr($,_-1),Wr($,_)),te=((fe,Ae,ze,Ce,Te,Be,Ge)=>{if(ze!=="colgroup"&&Ce)return Ss(fe,Ae);{const Qe=Ss(fe,Te);return bs(Ge(Qe.element,Be),!0,!1)}})($,_,$.section,Q,T,B,V);return sg($,_,te)}),dx=(b,_,T,B)=>((V,$,Q,te)=>Wr(V[$],Q)!==void 0&&$>0&&te(Wr(V[$-1],Q),Wr(V[$],Q)))(b,_,T,B)||((V,$,Q)=>$>0&&Q(Wr(V,$-1),Wr(V,$)))(b[_],T,B),fx=(b,_,T,B)=>{const V=$=>(Q=>Q==="row"?(te=>Zu(te,"rowspan")>1)(_):_s(_))($)?`${$}group`:$;return b?rm(_)?V(T):null:B&&rm(_)?V(T==="row"?"col":"row"):null},Gp=(b,_,T)=>bs(T(b.element,_),!0,b.isLocked),wh=(b,_,T,B,V,$,Q)=>D(b,(te,fe)=>((Ae,ze)=>{const Ce=Ae.cells,Te=D(Ce,(Be,Ge)=>{if((Qe=>Se(_,St=>T(Qe.element,St.element)))(Be)){const Qe=Q(Be,fe,Ge)?V(Be,T,B):Be;return $(Qe,fe,Ge).each(St=>{var Et,Ct;Et=Qe.element,Ct={scope:oe.from(St)},jo(Ct,(Dt,$t)=>{Dt.fold(()=>{so(Et,$t)},Kt=>{Ko(Et.dom,$t,Kt)})})}),Qe}return Be});return $s(Ae.element,Te,Ae.section,Ae.isNew)})(te)),mx=(b,_,T)=>yt(b,(B,V)=>dx(b,V,_,T)?[]:[Ss(B,_)]),Yp=(b,_,T,B,V)=>{const $=Br(b).rows,Q=yt(_,ze=>mx($,ze,B)),te=D($,ze=>Nl(ze.cells)),fe=((ze,Ce)=>qt(Ce,ne)&&Nl(ze)?Ie:(Te,Be,Ge)=>!(Yt(Te.element)==="th"&&Ce[Be]))(Q,te);return wh(b,Q,B,V,Gp,((ze,Ce)=>(Te,Be)=>oe.some(fx(ze,Te.element,"row",Ce[Be])))(T,te),fe)},Xp=(b,_,T,B)=>{const V=Br(b).rows,$=D(_,Q=>Ss(V[Q.row],Q.column));return wh(b,$,T,B,Gp,oe.none,Ie)},am=b=>{if(!w(b))throw new Error("cases must be an array");if(b.length===0)throw new Error("there must be at least one case");const _=[],T={};return Nt(b,(B,V)=>{const $=nr(B);if($.length!==1)throw new Error("one and only one name per case");const Q=$[0],te=B[Q];if(T[Q]!==void 0)throw new Error("duplicate key detected:"+Q);if(Q==="cata")throw new Error("cannot have a case named cata (sorry)");if(!w(te))throw new Error("case arguments must be an array");_.push(Q),T[Q]=(...fe)=>{const Ae=fe.length;if(Ae!==te.length)throw new Error("Wrong number of arguments to case "+Q+". Expected "+te.length+" ("+te+"), got "+Ae);return{fold:(...ze)=>{if(ze.length!==b.length)throw new Error("Wrong number of arguments to fold. Expected "+b.length+", got "+ze.length);return ze[V].apply(null,fe)},match:ze=>{const Ce=nr(ze);if(_.length!==Ce.length)throw new Error("Wrong number of arguments to match. Expected: "+_.join(",")+`
Actual: `+Ce.join(","));if(!qt(_,Te=>gt(Ce,Te)))throw new Error("Not all branches were specified when using match. Specified: "+Ce.join(", ")+`
Required: `+_.join(", "));return ze[Q].apply(null,fe)},log:ze=>{console.log(ze,{constructors:_,constructor:Q,params:fe})}}}}),T},Ch={...am([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},gx=(b,_,T)=>{const B=((V,$)=>Xl(V)?((Q,te)=>{const fe=Yl(Q);return D(fe,(Ae,ze)=>({element:Ae.element,width:te[ze],colspan:Ae.colspan}))})(V,$):((Q,te)=>{const fe=En(Q);return D(fe,Ae=>{const ze=((Ce,Te,Be)=>{let Ge=0;for(let Qe=Ce;Qe<Te;Qe++)Ge+=Be[Qe]!==void 0?Be[Qe]:0;return Ge})(Ae.column,Ae.column+Ae.colspan,te);return{element:Ae.element,width:ze,colspan:Ae.colspan}})})(V,$))(b,_);Nt(B,V=>{T.setElementWidth(V.element,V.width)})},nd=(b,_,T,B,V)=>{const $=bo(b),Q=V.getCellDelta(_),te=V.getWidths($,V),fe=T===$.grid.columns-1,Ae=B.clampTableDelta(te,T,Q,V.minCellWidth(),fe),ze=((Te,Be,Ge,Qe,St)=>{const Et=Te.slice(0),Ct=(($t,Kt)=>$t.length===0?Ch.none():$t.length===1?Ch.only(0):Kt===0?Ch.left(0,1):Kt===$t.length-1?Ch.right(Kt-1,Kt):Kt>0&&Kt<$t.length-1?Ch.middle(Kt-1,Kt,Kt+1):Ch.none())(Te,Be),Dt=J(D(Et,J(0)));return Ct.fold(Dt,$t=>Qe.singleColumnWidth(Et[$t],Ge),($t,Kt)=>St.calcLeftEdgeDeltas(Et,$t,Kt,Ge,Qe.minCellWidth(),Qe.isRelative),($t,Kt,nt)=>St.calcMiddleDeltas(Et,$t,Kt,nt,Ge,Qe.minCellWidth(),Qe.isRelative),($t,Kt)=>St.calcRightEdgeDeltas(Et,$t,Kt,Ge,Qe.minCellWidth(),Qe.isRelative))})(te,T,Ae,V,B),Ce=D(ze,(Te,Be)=>Te+te[Be]);gx($,Ce,V),B.resizeTable(V.adjustTableWidth,Ae,fe)},gg=(b,_,T)=>{const B=bo(b),V=((fe,Ae)=>Ci(fe,Ae,F1,ze=>ze.getOrThunk(er)))(B,b),$=D(V,(fe,Ae)=>T===Ae?Math.max(_+fe,er()):fe),Q=((fe,Ae)=>D(fe.all,(ze,Ce)=>({element:ze.element,height:Ae[Ce]})))(B,$);Nt(Q,fe=>{fu(fe.element,fe.height)}),Nt(En(B),fe=>{(Ae=>{Ka(Ae,"height")})(fe.element)});const te=Tn($,(fe,Ae)=>fe+Ae,0);fu(b,te)},hg=b=>rt(b,(_,T)=>Se(_,B=>B.column===T.column)?_:_.concat([T]),[]).sort((_,T)=>_.column-T.column),od=po("col"),Jd=po("colgroup"),Jp=b=>Yt(b)==="tr"||Jd(b),QS=b=>({element:b,colspan:os(b,"colspan",1),rowspan:os(b,"rowspan",1)}),Qp=b=>ao(b,"scope").map(_=>_.substr(0,3)),sc=(b,_=QS)=>{const T=V=>{if(Jp(V))return Jd(($={element:V}).element)?b.colgroup($):b.row($);{const Q=V,te=(fe=>od(fe.element)?b.col(fe):b.cell(fe))(_(Q));return B=oe.some({item:Q,replacement:te}),te}var $};let B=oe.none();return{getOrInit:(V,$)=>B.fold(()=>T(V),Q=>$(V,Q.item)?Q.replacement:T(V))}},Ew=b=>_=>{const T=[],B=V=>{const $=b==="td"?{scope:null}:{},Q=_.replace(V,b,$);return T.push({item:V,sub:Q}),Q};return{replaceOrInit:(V,$)=>{if(Jp(V)||od(V))return V;{const Q=V;return((te,fe)=>Un(T,Ae=>fe(Ae.item,te)))(Q,$).fold(()=>B(Q),te=>$(V,te.item)?te.sub:B(Q))}}}},hx=b=>({unmerge:_=>{const T=Qp(_);return T.each(B=>yo(_,"scope",B)),()=>{const B=b.cell({element:_,colspan:1,rowspan:1});return Ka(B,"width"),Ka(_,"width"),T.each(V=>yo(B,"scope",V)),B}},merge:_=>(Ka(_[0],"width"),(()=>{const T=Jt(D(_,Qp));if(T.length===0)return oe.none();{const B=T[0],V=["row","col"];return Se(T,$=>$!==B&&gt(V,$))?oe.none():oe.from(B)}})().fold(()=>so(_[0],"scope"),T=>yo(_[0],"scope",T+"group")),J(_[0]))}),pg=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Zi=Zd(),bg=b=>((_,T)=>{const B=_.property().name(T);return gt(pg,B)})(Zi,b),vg=b=>((_,T)=>{const B=_.property().name(T);return gt(["ol","ul"],B)})(Zi,b),G1=b=>{const _=po("br"),T=V=>Rc(V).bind($=>{const Q=xl($).map(te=>!!bg(te)||!!((fe,Ae)=>gt(["br","img","hr","input"],fe.property().name(Ae)))(Zi,te)&&Yt(te)!=="img").getOr(!1);return Wa($).map(te=>{return Q===!0||Yt(fe=te)==="li"||xe(fe,vg).isSome()||_($)||bg(te)&&!yr(V,te)?[]:[Ht.fromTag("br")];var fe})}).getOr([]),B=(()=>{const V=yt(b,$=>{const Q=ci($);return(te=>qt(te,fe=>_(fe)||xn(fe)&&Qf(fe).trim().length===0))(Q)?[]:Q.concat(T($))});return V.length===0?[Ht.fromTag("br")]:V})();ja(b[0]),al(b[0],B)},Lo=b=>Xn(b,!0),Ja=b=>{us(b).length===0&&Ur(b)},vu=(b,_)=>({grid:b,cursor:_}),sa=(b,_,T)=>{const B=((V,$,Q)=>{var te,fe;const Ae=Br(V).rows;return oe.from((fe=(te=Ae[$])===null||te===void 0?void 0:te.cells[Q])===null||fe===void 0?void 0:fe.element).filter(Lo).orThunk(()=>(ze=>X(ze,Ce=>X(Ce.cells,Te=>{const Be=Te.element;return an(Lo(Be),Be)})))(Ae))})(b,_,T);return vu(b,B)},Er=b=>rt(b,(_,T)=>Se(_,B=>B.row===T.row)?_:_.concat([T]),[]).sort((_,T)=>_.row-T.row),eb=(b,_)=>(T,B,V,$,Q)=>{const te=Er(B),fe=D(te,ze=>ze.row),Ae=((ze,Ce,Te,Be,Ge,Qe,St)=>{const{cols:Et,rows:Ct}=Br(ze),Dt=Ct[Ce[0]],$t=yt(Ce,Kn=>((Vn,lo,Bo)=>{const zs=Vn[lo];return yt(zs.cells,(ia,Ai)=>dx(Vn,lo,Ai,Bo)?[]:[ia])})(Ct,Kn,Ge)),Kt=D(Dt.cells,(Kn,Vn)=>Nl(mx(Ct,Vn,Ge))),nt=[...Ct];Nt(Ce,Kn=>{nt[Kn]=St.transformRow(Ct[Kn],Te)});const gn=[...Et,...nt],Hn=((Kn,Vn)=>qt(Vn,ne)&&Nl(Kn.cells)?Ie:(lo,Bo,zs)=>!(Yt(lo.element)==="th"&&Vn[zs]))(Dt,Kt),co=((Kn,Vn)=>(lo,Bo,zs)=>oe.some(fx(Kn,lo.element,"col",Vn[zs])))(Be,Kt);return wh(gn,$t,Ge,Qe,St.transformCell,co,Hn)})(T,fe,b,_,V,$.replaceOrInit,Q);return sa(Ae,B[0].row,B[0].column)},Tw=eb("thead",!0),ek=eb("tbody",!1),jr=eb("tfoot",!1),Y1=(b,_,T)=>{const B=(($,Q)=>dl($,()=>Q))(b,T.section),V=Us(B);return as(V,_,!0)},px=(b,_,T,B)=>((V,$,Q,te)=>{const fe=Us($),Ae=te.getWidths(fe,te);gx(fe,Ae,te)})(0,_,0,B.sizing),lm=(b,_,T,B)=>((V,$,Q,te,fe)=>{const Ae=Us($),ze=te.getWidths(Ae,te),Ce=te.pixelWidth(),{newSizes:Te,delta:Be}=fe.calcRedestributedWidths(ze,Ce,Q.pixelDelta,te.isRelative);gx(Ae,Te,te),te.adjustTableWidth(Be)})(0,_,T,B.sizing,B.resize),ic=(b,_)=>Se(_,T=>T.column===0&&T.isLocked),_h=(b,_)=>Se(_,T=>T.column+T.colspan>=b.grid.columns&&T.isLocked),mn=(b,_)=>{const T=ch(b),B=hg(_);return rt(B,(V,$)=>V+T[$.column].map(rg).getOr(0),0)},Pc=b=>(_,T)=>td(_,T).filter(B=>!(b?ic:_h)(_,B)).map(B=>({details:B,pixelDelta:mn(_,B)})),bx=b=>(_,T)=>Il(_,T).filter(B=>!(b?ic:_h)(_,B.cells)),X1=Ew("th"),Sh=Ew("td"),J1=Os((b,_,T,B)=>{const V=_[0].row,$=Er(_),Q=Tn($,(te,fe)=>({grid:ux(te.grid,V,fe.row+te.delta,T,B.getOrInit),delta:te.delta+1}),{grid:b,delta:0}).grid;return sa(Q,V,_[0].column)},td,U,U,sc),xg=Os((b,_,T,B)=>{const V=Er(_),$=V[V.length-1],Q=$.row+$.rowspan,te=Tn(V,(fe,Ae)=>ux(fe,Q,Ae.row,T,B.getOrInit),b);return sa(te,Q,_[0].column)},td,U,U,sc),ac=Os((b,_,T,B)=>{const V=_.details,$=hg(V),Q=$[0].column,te=Tn($,(fe,Ae)=>({grid:qp(fe.grid,Q,Ae.column+fe.delta,T,B.getOrInit),delta:fe.delta+1}),{grid:b,delta:0}).grid;return sa(te,V[0].row,Q)},Pc(!0),lm,U,sc),tk=Os((b,_,T,B)=>{const V=_.details,$=V[V.length-1],Q=$.column+$.colspan,te=hg(V),fe=Tn(te,(Ae,ze)=>qp(Ae,Q,ze.column,T,B.getOrInit),b);return sa(fe,V[0].row,Q)},Pc(!1),lm,U,sc),Q1=Os((b,_,T,B)=>{const V=hg(_.details),$=((te,fe)=>yt(te,Ae=>{const ze=Ae.cells,Ce=Tn(fe,(Te,Be)=>Be>=0&&Be<Te.length?Te.slice(0,Be).concat(Te.slice(Be+1)):Te,ze);return Ce.length>0?[$s(Ae.element,Ce,Ae.section,Ae.isNew)]:[]}))(b,D(V,te=>te.column)),Q=$.length>0?$[0].cells.length-1:0;return sa($,V[0].row,Math.min(V[0].column,Q))},(b,_)=>Si(b,_).map(T=>({details:T,pixelDelta:-mn(b,T)})),lm,Ja,sc),vx=Os((b,_,T,B)=>{const V=Er(_),$=((te,fe,Ae)=>{const{rows:ze,cols:Ce}=Br(te);return[...Ce,...ze.slice(0,fe),...ze.slice(Ae+1)]})(b,V[0].row,V[V.length-1].row),Q=Math.max(Br($).rows.length-1,0);return sa($,Math.min(_[0].row,Q),_[0].column)},td,U,Ja,sc),ev=Os((b,_,T,B)=>{const V=hg(_),$=D(V,te=>te.column),Q=Yp(b,$,!0,T,B.replaceOrInit);return sa(Q,_[0].row,_[0].column)},Si,U,U,X1),xx=Os((b,_,T,B)=>{const V=hg(_),$=D(V,te=>te.column),Q=Yp(b,$,!1,T,B.replaceOrInit);return sa(Q,_[0].row,_[0].column)},Si,U,U,Sh),yx=Os(Tw,Si,U,U,X1),tv=Os(ek,Si,U,U,Sh),wx=Os(jr,Si,U,U,Sh),Cx=Os((b,_,T,B)=>{const V=Xp(b,_,T,B.replaceOrInit);return sa(V,_[0].row,_[0].column)},Si,U,U,X1),Ow=Os((b,_,T,B)=>{const V=Xp(b,_,T,B.replaceOrInit);return sa(V,_[0].row,_[0].column)},Si,U,U,Sh),nk=Os((b,_,T,B)=>{const V=_.cells;G1(V);const $=((Q,te,fe,Ae)=>{const ze=Br(Q).rows;if(ze.length===0)return Q;for(let Ce=te.startRow;Ce<=te.finishRow;Ce++)for(let Te=te.startCol;Te<=te.finishCol;Te++){const Be=ze[Ce],Ge=Ss(Be,Te).isLocked;ig(Be,Te,bs(Ae(),!1,Ge))}return Q})(b,_.bounds,0,B.merge(V));return vu($,oe.from(V[0]))},(b,_)=>((T,B)=>B.mergable)(0,_).filter(T=>jp(b,T.cells)),px,U,hx),tb=Os((b,_,T,B)=>{const V=Tn(_,($,Q)=>xh($,Q,T,B.unmerge(Q)),b);return vu(V,oe.from(_[0]))},(b,_)=>((T,B)=>B.unmergable)(0,_).filter(T=>jp(b,T)),px,U,hx),_x=Os((b,_,T,B)=>{const V=((te,fe)=>{const Ae=bo(te);return as(Ae,fe,!0)})(_.clipboard,_.generators);var $,Q;return((te,fe,Ae,ze,Ce)=>{const Te=ma(fe),Be=((Et,Ct,Dt)=>{const $t=yi(Ct[0]),Kt=Br(Ct).cols.length+Et.row,nt=Ne($t-Et.column,gn=>gn+Et.column);return{row:Kt,column:Un(nt,gn=>qt(Dt,Hn=>Hn!==gn)).getOr($t-1)}})(te,fe,Te),Ge=Br(Ae).rows,Qe=K1(Be,Ge,Te);return((Et,Ct,Dt)=>{if(Et.row>=Ct.length||Et.column>yi(Ct[0]))return yh.error("invalid start address out of table bounds, row: "+Et.row+", column: "+Et.column);const $t=Ct.slice(Et.row),Kt=$t[0].cells.slice(Et.column),nt=yi(Dt[0]),gn=Dt.length;return yh.value({rowDelta:$t.length-gn,colDelta:Kt.length-nt})})(Be,fe,Ge).map(Et=>{const Ct={...Et,colDelta:Et.colDelta-Qe.length},Dt=im(fe,Ct,ze),$t=ma(Dt),Kt=K1(Be,Ge,$t);return((nt,gn,Hn,co,Kn,Vn)=>{const lo=nt.row,Bo=nt.column,zs=lo+Hn.length,ia=Bo+yi(Hn[0])+Vn.length,Ai=$r(Vn,Ie);for(let Ml=lo;Ml<zs;Ml++){let wm=0;for(let aa=Bo;aa<ia;aa++){if(Ai[aa]){wm++;continue}JS(gn,Ml,aa,Kn)&&xh(gn,Wr(gn[Ml],aa),Kn,co.cell);const wu=aa-Bo-wm,Nh=Ss(Hn[Ml-lo],wu),mf=Nh.element,Ih=co.replace(mf);ig(gn[Ml],aa,bs(Ih,!0,Nh.isLocked))}}return gn})(Be,Dt,Ge,ze,Ce,Kt)})})(($=_.row,Q=_.column,{row:$,column:Q}),b,V,_.generators,T).fold(()=>vu(b,oe.some(_.element)),te=>sa(te,_.row,_.column))},(b,_)=>ih(_.element).bind(T=>ms(b,T).map(B=>({...B,generators:_.generators,clipboard:_.clipboard}))),px,U,sc),yg=Os((b,_,T,B)=>{const V=Br(b).rows,$=_.cells[0].column,Q=V[_.cells[0].row],te=Y1(_.clipboard,_.generators,Q),fe=q1($,b,te,_.generators,T);return sa(fe,_.cells[0].row,_.cells[0].column)},bx(!0),U,U,sc),ok=Os((b,_,T,B)=>{const V=Br(b).rows,$=_.cells[_.cells.length-1].column+_.cells[_.cells.length-1].colspan,Q=V[_.cells[0].row],te=Y1(_.clipboard,_.generators,Q),fe=q1($,b,te,_.generators,T);return sa(fe,_.cells[0].row,$)},bx(!1),U,U,sc),rk=Os((b,_,T,B)=>{const V=Br(b).rows,$=_.cells[0].row,Q=V[$],te=Y1(_.clipboard,_.generators,Q),fe=cx($,b,te,_.generators,T);return sa(fe,_.cells[0].row,_.cells[0].column)},Il,U,U,sc),Qd=Os((b,_,T,B)=>{const V=Br(b).rows,$=_.cells[_.cells.length-1].row+_.cells[_.cells.length-1].rowspan,Q=V[_.cells[0].row],te=Y1(_.clipboard,_.generators,Q),fe=cx($,b,te,_.generators,T);return sa(fe,$,_.cells[0].column)},Il,U,U,sc),cm=(b,_)=>{const T=bo(b);return td(T,_).bind(B=>{const V=B[B.length-1],$=B[0].column,Q=V.column+V.colspan,te=xt(D(T.all,fe=>vn(fe.cells,Ae=>Ae.column>=$&&Ae.column<Q)));return fi(te)}).getOr("")},nv=(b,_)=>{const T=bo(b);return td(T,_).bind(fi).getOr("")},Dw=(b,_)=>{const T=bo(b);return td(T,_).bind(B=>{const V=B[B.length-1],$=B[0].row,Q=V.row+V.rowspan;return(te=>{const fe=D(te,Ce=>Up(Ce).type),Ae=gt(fe,"header"),ze=gt(fe,"footer");if(Ae||ze){const Ce=gt(fe,"body");return!Ae||Ce||ze?Ae||Ce||!ze?oe.none():oe.some("footer"):oe.some("header")}return oe.some("body")})(T.all.slice($,Q))}).getOr("")},Sx=(b,_)=>b.dispatch("NewRow",{node:_}),nb=(b,_)=>b.dispatch("NewCell",{node:_}),rd=(b,_,T)=>{b.dispatch("TableModified",{...T,table:_})},ov={structure:!1,style:!0},Ys={structure:!0,style:!1},xs={structure:!0,style:!0},ef=(b,_)=>hu(b)?gu(_):R(b)?ss(_):fh(_),kx=(b,_,T)=>{const B=ze=>Yt(Xo(ze))==="table",V=Ju(b),$=Lp(b)?U:vh,Q=ze=>{switch(em(b)){case"section":return gi();case"sectionCells":return Sw();case"cells":return kw();default:return((Ce,Te)=>{var Be;switch((Be=bo(Ce),X(Be.all,Ge=>{const Qe=Up(Ge);return Qe.type==="header"?oe.from(Qe.subType):oe.none()})).getOr(Te)){case"section":return mi();case"sectionCells":return zt();case"cells":return sm()}})(ze,"section")}},te=(ze,Ce,Te,Be)=>(Ge,Qe,St=!1)=>{is(Ge);const Et=Ht.fromDom(b.getDoc()),Ct=Mr(Te,Et,V),Dt={sizing:ef(b,Ge),resize:Lp(b)?bu():$1(),section:Q(Ge)};return Ce(Ge)?ze(Ge,Qe,Ct,Dt).bind($t=>{_.refresh(Ge.dom),Nt($t.newRows,nt=>{Sx(b,nt.dom)}),Nt($t.newCells,nt=>{nb(b,nt.dom)});const Kt=((nt,gn)=>gn.cursor.fold(()=>{const Hn=us(nt);return Sn(Hn).filter(Ea).map(co=>{T.clearSelectedCells(nt.dom);const Kn=b.dom.createRng();return Kn.selectNode(co.dom),b.selection.setRng(Kn),yo(co,"data-mce-selected","1"),Kn})},Hn=>{const co=sx(bh,Hn),Kn=b.dom.createRng();return Kn.setStart(co.element.dom,co.offset),Kn.setEnd(co.element.dom,co.offset),b.selection.setRng(Kn),T.clearSelectedCells(nt.dom),oe.some(Kn)}))(Ge,$t);return Ea(Ge)&&(is(Ge),St||rd(b,Ge.dom,Be)),Kt.map(nt=>({rng:nt,effect:Be}))}):oe.none()},fe=te(vx,ze=>!B(b)||Mc(ze).rows>1,U,Ys),Ae=te(Q1,ze=>!B(b)||Mc(ze).columns>1,U,Ys);return{deleteRow:fe,deleteColumn:Ae,insertRowsBefore:te(J1,Ie,U,Ys),insertRowsAfter:te(xg,Ie,U,Ys),insertColumnsBefore:te(ac,Ie,$,Ys),insertColumnsAfter:te(tk,Ie,$,Ys),mergeCells:te(nk,Ie,U,Ys),unmergeCells:te(tb,Ie,U,Ys),pasteColsBefore:te(yg,Ie,U,Ys),pasteColsAfter:te(ok,Ie,U,Ys),pasteRowsBefore:te(rk,Ie,U,Ys),pasteRowsAfter:te(Qd,Ie,U,Ys),pasteCells:te(_x,Ie,U,xs),makeCellsHeader:te(Cx,Ie,U,Ys),unmakeCellsHeader:te(Ow,Ie,U,Ys),makeColumnsHeader:te(ev,Ie,U,Ys),unmakeColumnsHeader:te(xx,Ie,U,Ys),makeRowsHeader:te(yx,Ie,U,Ys),makeRowsBody:te(tv,Ie,U,Ys),makeRowsFooter:te(wx,Ie,U,Ys),getTableRowType:Dw,getTableCellType:nv,getTableColType:cm}},rv=(b,_,T)=>{const B=os(b,_,1);T===1||B<=1?so(b,_):yo(b,_,Math.min(T,B))},ki=(b,_)=>T=>{const B=T.column+T.colspan-1,V=T.column;return B>=b&&V<_},Ba=am([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),wg=(b,_,T)=>{const B=T.substring(0,T.length-b.length),V=parseFloat(B);return B===V.toString()?_(V):Ba.invalid(T)},tf={...Ba,from:b=>tn(b,"%")?wg("%",Ba.percent,b):tn(b,"px")?wg("px",Ba.pixels,b):Ba.invalid(b)},um=(b,_,T)=>{const B=tf.from(T),V=qt(b,$=>$==="0px")?(($,Q)=>{const te=$.fold(()=>J(""),fe=>J(fe/Q+"px"),()=>J(100/Q+"%"));return Ne(Q,te)})(B,b.length):(($,Q,te)=>$.fold(()=>Q,fe=>((Ae,ze,Ce)=>{const Te=Ce/ze;return D(Ae,Be=>tf.from(Be).fold(()=>Be,Ge=>Ge*Te+"px",Ge=>Ge/100*Ce+"px"))})(Q,te,fe),fe=>((Ae,ze)=>D(Ae,Ce=>tf.from(Ce).fold(()=>Ce,Te=>Te/ze*100+"%",Te=>Te+"%")))(Q,te)))(B,b,_);return Ax(V)},sv=(b,_)=>b.length===0?_:Tn(b,(T,B)=>tf.from(B).fold(J(0),ne,ne)+T,0),Rw=(b,_)=>tf.from(b).fold(J(b),T=>T+_+"px",T=>T+_+"%"),Ax=b=>{if(b.length===0)return b;const _=Tn(b,(B,V)=>{const $=tf.from(V).fold(()=>({value:V,remainder:0}),Q=>((te,fe)=>{const Ae=Math.floor(te);return{value:Ae+"px",remainder:te-Ae}})(Q),Q=>({value:Q+"%",remainder:0}));return{output:[$.value].concat(B.output),remainder:B.remainder+$.remainder}},{output:[],remainder:0}),T=_.output;return T.slice(0,T.length-1).concat([Rw(T[T.length-1],Math.round(_.remainder))])},dm=tf.from,Tr=(b,_,T)=>{const B=bo(b),V=B.all,$=En(B),Q=Yl(B);_.each(te=>{const fe=dm(te).fold(J("px"),J("px"),J("%")),Ae=Ga(b),ze=((Te,Be)=>qs(Te,Be,ha,dh))(B,b),Ce=um(ze,Ae,te);Xl(B)?((Te,Be,Ge)=>{Nt(Be,(Qe,St)=>{const Et=sv([Te[St]],ul());mo(Qe.element,"width",Et+Ge)})})(Ce,Q,fe):((Te,Be,Ge)=>{Nt(Be,Qe=>{const St=Te.slice(Qe.column,Qe.colspan+Qe.column),Et=sv(St,ul());mo(Qe.element,"width",Et+Ge)})})(Ce,$,fe),mo(b,"width",te)}),T.each(te=>{const fe=Yu(b),Ae=((ze,Ce)=>Ci(ze,Ce,ra,dh))(B,b);((ze,Ce,Te)=>{Nt(Te,Be=>{Ka(Be.element,"height")}),Nt(Ce,(Be,Ge)=>{mo(Be.element,"height",ze[Ge])})})(um(Ae,fe,te),V,$),mo(b,"height",te)})},iv=b=>Dl(b).exists(_=>ti.test(_)),Kr=b=>Dl(b).exists(_=>In.test(_)),xu=b=>Dl(b).isNone(),Lc=b=>{so(b,"width"),so(b,"height")},Cg=b=>{const _=$d(b);Tr(b,oe.some(_),oe.none()),Lc(b)},Qa=b=>{const _=(T=>Ga(T)+"px")(b);Tr(b,oe.some(_),oe.none()),Lc(b)},Wi=b=>{Ka(b,"width");const _=Gl(b),T=_.length>0?_:us(b);Nt(T,B=>{Ka(B,"width"),Lc(B)}),Lc(b)},fm={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},ob=(b,_,T,B)=>Ne(b,V=>(($,Q,te,fe)=>{const Ae=Ht.fromTag("tr");for(let ze=0;ze<$;ze++){const Ce=Ht.fromTag(fe<Q||ze<te?"th":"td");ze<te&&yo(Ce,"scope","row"),fe<Q&&yo(Ce,"scope","col"),Xr(Ce,Ht.fromTag("br")),Xr(Ae,Ce)}return Ae})(_,T,B,V)),_g=(b,_)=>{b.selection.select(_.dom,!0),b.selection.collapse(!0)},rb=(b,_,T,B,V)=>{const $=(te=>{const fe=te.options,Ae=fe.get("table_default_styles");return fe.isSet("table_default_styles")?Ae:((ze,Ce)=>Z(ze)||!ke(ze)?Ce:R(ze)?{...Ce,width:Nc(ze)}:{...Ce,width:wl})(te,Ae)})(b),Q={styles:$,attributes:At(b),colGroups:Pn(b)};return b.undoManager.ignore(()=>{const te=((Ae,ze,Ce,Te,Be,Ge=fm)=>{const Qe=Ht.fromTag("table"),St=Be!=="cells";cl(Qe,Ge.styles),Ar(Qe,Ge.attributes),Ge.colGroups&&Xr(Qe,($t=>{const Kt=Ht.fromTag("colgroup");return Ne($t,()=>Xr(Kt,Ht.fromTag("col"))),Kt})(ze));const Et=Math.min(Ae,Ce);if(St&&Ce>0){const $t=Ht.fromTag("thead");Xr(Qe,$t);const Kt=ob(Ce,ze,Be==="sectionCells"?Et:0,Te);al($t,Kt)}const Ct=Ht.fromTag("tbody");Xr(Qe,Ct);const Dt=ob(St?Ae-Et:Ae,ze,St?0:Ce,Te);return al(Ct,Dt),Qe})(T,_,V,B,em(b),Q);yo(te,"data-mce-id","__mce");const fe=(Ae=>{const ze=Ht.fromTag("div"),Ce=Ht.fromDom(Ae.dom.cloneNode(!0));return Xr(ze,Ce),(Te=>Te.dom.innerHTML)(ze)})(te);b.insertContent(fe),b.addVisual()}),ot(Xo(b),'table[data-mce-id="__mce"]').map(te=>(R(b)?Qa(te):Z(b)?Wi(te):(hu(b)||(fe=>x(fe)&&fe.indexOf("%")!==-1)($.width))&&Cg(te),is(te),so(te,"data-mce-id"),((fe,Ae)=>{Nt(dr(Ae,"tr"),ze=>{Sx(fe,ze.dom),Nt(dr(ze,"th,td"),Ce=>{nb(fe,Ce.dom)})})})(b,te),((fe,Ae)=>{ot(Ae,"td,th").each(pe(_g,fe))})(b,te),te.dom)).getOrNull()};var Sg=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Nw="x-tinymce/dom-table-",Ex=Nw+"rows",Tx=Nw+"columns",Iw=b=>{const _=Sg.FakeClipboardItem(b);Sg.write([_])},ji=b=>{var _;const T=(_=Sg.read())!==null&&_!==void 0?_:[];return X(T,B=>oe.from(B.getType(b)))},mm=b=>{ji(b).isSome()&&Sg.clear()},Bw=b=>{b.fold(Ma,_=>Iw({[Ex]:_}))},lc=()=>ji(Ex),Ma=()=>mm(Ex),kg=b=>{b.fold(Mw,_=>Iw({[Tx]:_}))},kh=()=>ji(Tx),Mw=()=>mm(Tx),gs=b=>Gd(ec(b),Es(b)).filter(H1),hs=(b,_)=>{const T=Es(b),B=Ce=>qa(Ce,T),V=Ce=>(Te=>Jr(ec(Te),Es(Te)).filter(H1))(b).bind(Te=>B(Te).map(Be=>Ce(Be,Te))),$=Ce=>{b.focus()},Q=(Ce,Te=!1)=>V((Be,Ge)=>{const Qe=ho(nc(b),Be,Ge);Ce(Be,Qe,Te).each($)}),te=()=>V((Ce,Te)=>((Be,Ge,Qe)=>{const St=bo(Be);return td(St,Ge).bind(Et=>{const Ct=as(St,Qe,!1),Dt=Br(Ct).rows.slice(Et[0].row,Et[Et.length-1].row+Et[Et.length-1].rowspan),$t=yt(Dt,nt=>{const gn=vn(nt.cells,Hn=>!Hn.isLocked);return gn.length>0?[{...nt,cells:gn}]:[]}),Kt=Wp($t);return an(Kt.length>0,Kt)}).map(Et=>D(Et,Ct=>{const Dt=Zf(Ct.element);return Nt(Ct.cells,$t=>{const Kt=yc($t.element);ed(Kt,"colspan",$t.colspan,1),ed(Kt,"rowspan",$t.rowspan,1),Xr(Dt,Kt)}),Dt}))})(Ce,ho(nc(b),Ce,Te),Mr(U,Ht.fromDom(b.getDoc()),oe.none()))),fe=()=>V((Ce,Te)=>((Be,Ge)=>{const Qe=bo(Be);return Si(Qe,Ge).map(St=>{const Et=St[St.length-1],Ct=St[0].column,Dt=Et.column+Et.colspan,$t=((nt,gn,Hn)=>{if(Xl(nt)){const co=vn(Yl(nt),ki(gn,Hn)),Kn=D(co,lo=>{const Bo=yc(lo.element);return rv(Bo,"span",Hn-gn),Bo}),Vn=Ht.fromTag("colgroup");return al(Vn,Kn),[Vn]}return[]})(Qe,Ct,Dt),Kt=((nt,gn,Hn)=>D(nt.all,co=>{const Kn=vn(co.cells,ki(gn,Hn)),Vn=D(Kn,Bo=>{const zs=yc(Bo.element);return rv(zs,"colspan",Hn-gn),zs}),lo=Ht.fromTag("tr");return al(lo,Vn),lo}))(Qe,Ct,Dt);return[...$t,...Kt]})})(Ce,ho(nc(b),Ce,Te))),Ae=(Ce,Te)=>Te().each(Be=>{const Ge=D(Be,Qe=>yc(Qe));V((Qe,St)=>{const Et=lr(Ht.fromDom(b.getDoc())),Ct=((Dt,$t,Kt,nt)=>({selection:Kd(Dt),clipboard:Kt,generators:nt}))(nc(b),0,Ge,Et);Ce(Qe,Ct).each($)})}),ze=Ce=>(Te,Be)=>((Ge,Qe)=>tt(Ge,Qe)?oe.from(Ge[Qe]):oe.none())(Be,"type").each(Ge=>{Q(Ce(Ge),Be.no_events)});jo({mceTableSplitCells:()=>Q(_.unmergeCells),mceTableMergeCells:()=>Q(_.mergeCells),mceTableInsertRowBefore:()=>Q(_.insertRowsBefore),mceTableInsertRowAfter:()=>Q(_.insertRowsAfter),mceTableInsertColBefore:()=>Q(_.insertColumnsBefore),mceTableInsertColAfter:()=>Q(_.insertColumnsAfter),mceTableDeleteCol:()=>Q(_.deleteColumn),mceTableDeleteRow:()=>Q(_.deleteRow),mceTableCutCol:()=>fe().each(Ce=>{kg(Ce),Q(_.deleteColumn)}),mceTableCutRow:()=>te().each(Ce=>{Bw(Ce),Q(_.deleteRow)}),mceTableCopyCol:()=>fe().each(Ce=>kg(Ce)),mceTableCopyRow:()=>te().each(Ce=>Bw(Ce)),mceTablePasteColBefore:()=>Ae(_.pasteColsBefore,kh),mceTablePasteColAfter:()=>Ae(_.pasteColsAfter,kh),mceTablePasteRowBefore:()=>Ae(_.pasteRowsBefore,lc),mceTablePasteRowAfter:()=>Ae(_.pasteRowsAfter,lc),mceTableDelete:()=>gs(b).each(Ce=>{qa(Ce,T).filter(We(T)).each(Te=>{const Be=Ht.fromText("");if(ru(Te,Be),Ur(Te),b.dom.isEmpty(b.getBody()))b.setContent(""),b.selection.setCursorLocation();else{const Ge=b.dom.createRng();Ge.setStart(Be.dom,0),Ge.setEnd(Be.dom,0),b.selection.setRng(Ge),b.nodeChanged()}})}),mceTableCellToggleClass:(Ce,Te)=>{V(Be=>{const Ge=nc(b),Qe=qt(Ge,Et=>b.formatter.match("tablecellclass",{value:Te},Et.dom)),St=Qe?b.formatter.remove:b.formatter.apply;Nt(Ge,Et=>St("tablecellclass",{value:Te},Et.dom)),rd(b,Be.dom,ov)})},mceTableToggleClass:(Ce,Te)=>{V(Be=>{b.formatter.toggle("tableclass",{value:Te},Be.dom),rd(b,Be.dom,ov)})},mceTableToggleCaption:()=>{gs(b).each(Ce=>{qa(Ce,T).each(Te=>{at(Te,"caption").fold(()=>{const Be=Ht.fromTag("caption");Xr(Be,Ht.fromText("Caption")),((Ge,Qe,St)=>{ou(Ge,0).fold(()=>{Xr(Ge,Qe)},Et=>{nn(Et,Qe)})})(Te,Be),b.selection.setCursorLocation(Be.dom,0)},Be=>{po("caption")(Ce)&&vl("td",Te).each(Ge=>b.selection.setCursorLocation(Ge.dom,0)),Ur(Be)}),rd(b,Te.dom,Ys)})})},mceTableSizingMode:(Ce,Te)=>(Be=>gs(b).each(Ge=>{Z(b)||R(b)||hu(b)||qa(Ge,T).each(Qe=>{Be!=="relative"||iv(Qe)?Be!=="fixed"||Kr(Qe)?Be!=="responsive"||xu(Qe)||Wi(Qe):Qa(Qe):Cg(Qe),is(Qe),rd(b,Qe.dom,Ys)})}))(Te),mceTableCellType:ze(Ce=>Ce==="th"?_.makeCellsHeader:_.unmakeCellsHeader),mceTableColType:ze(Ce=>Ce==="th"?_.makeColumnsHeader:_.unmakeColumnsHeader),mceTableRowType:ze(Ce=>{switch(Ce){case"header":return _.makeRowsHeader;case"footer":return _.makeRowsFooter;default:return _.makeRowsBody}})},(Ce,Te)=>b.addCommand(Te,Ce)),b.addCommand("mceInsertTable",(Ce,Te)=>{((Be,Ge,Qe,St={})=>{const Et=Ct=>j(Ct)&&Ct>0;if(Et(Ge)&&Et(Qe)){const Ct=St.headerRows||0,Dt=St.headerColumns||0;return rb(Be,Qe,Ge,Dt,Ct)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(b,Te.rows,Te.columns,Te.options)}),b.addCommand("mceTableApplyCellStyle",(Ce,Te)=>{const Be=St=>"tablecell"+St.toLowerCase().replace("-","");if(!v(Te))return;const Ge=vn(nc(b),H1);if(Ge.length===0)return;const Qe=((St,Et)=>{const Ct={};return((Dt,$t,Kt,nt)=>{jo(Dt,(gn,Hn)=>{($t(gn,Hn)?Kt:nt)(gn,Hn)})})(St,Et,(Dt=>($t,Kt)=>{Dt[Kt]=$t})(Ct),U),Ct})(Te,(St,Et)=>b.formatter.has(Be(Et))&&x(St));(St=>{for(const Et in St)if(pr.call(St,Et))return!1;return!0})(Qe)||(jo(Qe,(St,Et)=>{const Ct=Be(Et);Nt(Ge,Dt=>{St===""?b.formatter.remove(Ct,{value:null},Dt.dom,!0):b.formatter.apply(Ct,{value:St},Dt.dom)})}),B(Ge[0]).each(St=>rd(b,St.dom,ov)))})},Fs=am([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),mr={before:Fs.before,on:Fs.on,after:Fs.after,cata:(b,_,T,B)=>b.fold(_,T,B),getStart:b=>b.fold(ne,ne,ne)},ls=(b,_)=>({selection:b,kill:_}),Ds=(b,_)=>{const T=b.document.createRange();return T.selectNode(_.dom),T},av=(b,_)=>{const T=b.document.createRange();return lv(T,_),T},lv=(b,_)=>b.selectNodeContents(_.dom),Ox=(b,_,T)=>{const B=b.document.createRange();var V;return V=B,_.fold($=>{V.setStartBefore($.dom)},($,Q)=>{V.setStart($.dom,Q)},$=>{V.setStartAfter($.dom)}),(($,Q)=>{Q.fold(te=>{$.setEndBefore(te.dom)},(te,fe)=>{$.setEnd(te.dom,fe)},te=>{$.setEndAfter(te.dom)})})(B,T),B},sb=(b,_,T,B,V)=>{const $=b.document.createRange();return $.setStart(_.dom,T),$.setEnd(B.dom,V),$},Dx=b=>({left:b.left,top:b.top,right:b.right,bottom:b.bottom,width:b.width,height:b.height}),Ag=am([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),cv=(b,_,T)=>_(Ht.fromDom(T.startContainer),T.startOffset,Ht.fromDom(T.endContainer),T.endOffset),uv=(b,_)=>{const T=((B,V)=>V.match({domRange:$=>({ltr:J($),rtl:oe.none}),relative:($,Q)=>({ltr:ui(()=>Ox(B,$,Q)),rtl:ui(()=>oe.some(Ox(B,Q,$)))}),exact:($,Q,te,fe)=>({ltr:ui(()=>sb(B,$,Q,te,fe)),rtl:ui(()=>oe.some(sb(B,te,fe,$,Q)))})}))(b,_);return((B,V)=>{const $=V.ltr();return $.collapsed?V.rtl().filter(Q=>Q.collapsed===!1).map(Q=>Ag.rtl(Ht.fromDom(Q.endContainer),Q.endOffset,Ht.fromDom(Q.startContainer),Q.startOffset)).getOrThunk(()=>cv(0,Ag.ltr,$)):cv(0,Ag.ltr,$)})(0,T)},Rx=(b,_)=>uv(b,_).match({ltr:(T,B,V,$)=>{const Q=b.document.createRange();return Q.setStart(T.dom,B),Q.setEnd(V.dom,$),Q},rtl:(T,B,V,$)=>{const Q=b.document.createRange();return Q.setStart(V.dom,$),Q.setEnd(T.dom,B),Q}});Ag.ltr,Ag.rtl;const ib=(b,_,T,B)=>({start:b,soffset:_,finish:T,foffset:B}),el=(b,_,T,B)=>({start:mr.on(b,_),finish:mr.on(T,B)}),Nx=(b,_)=>{const T=Rx(b,_);return ib(Ht.fromDom(T.startContainer),T.startOffset,Ht.fromDom(T.endContainer),T.endOffset)},xa=el,ab=(b,_,T,B,V)=>yr(T,B)?oe.none():Ic(T,B,_).bind($=>{const Q=$.boxes.getOr([]);return Q.length>1?(V(b,Q,$.start,$.finish),oe.some(ls(oe.some(xa(T,0,T,ks(T))),!0))):oe.none()}),Eg=(b,_)=>({item:b,mode:_}),Fc=(b,_,T,B=Rs)=>b.property().parent(_).map(V=>Eg(V,B)),Rs=(b,_,T,B=gm)=>T.sibling(b,_).map(V=>Eg(V,B)),gm=(b,_,T,B=gm)=>{const V=b.property().children(_);return T.first(V).map($=>Eg($,B))},Ix=[{current:Fc,next:Rs,fallback:oe.none()},{current:Rs,next:gm,fallback:oe.some(Fc)},{current:gm,next:gm,fallback:oe.some(Rs)}],Bx=(b,_,T,B,V=Ix)=>Un(V,$=>$.current===T).bind($=>$.current(b,_,B,$.next).orThunk(()=>$.fallback.bind(Q=>Bx(b,_,Q,B)))),lb=(b,_,T,B,V,$)=>Bx(b,_,B,V).bind(Q=>$(Q.item)?oe.none():T(Q.item)?oe.some(Q.item):lb(b,Q.item,T,Q.mode,V,$)),sd=b=>_=>b.property().children(_).length===0,sk=(b,_,T,B)=>lb(b,_,T,Rs,{sibling:(V,$)=>V.query().prevSibling($),first:V=>V.length>0?oe.some(V[V.length-1]):oe.none()},B),cb=(b,_,T,B)=>lb(b,_,T,Rs,{sibling:(V,$)=>V.query().nextSibling($),first:V=>V.length>0?oe.some(V[0]):oe.none()},B),hm=Zd(),Pw=(b,_)=>((T,B,V)=>sk(T,B,sd(T),V))(hm,b,_),ub=(b,_)=>((T,B,V)=>cb(T,B,sd(T),V))(hm,b,_),db=am([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),dv=b=>$e(b,"tr"),Ah={...db,verify:(b,_,T,B,V,$,Q)=>$e(B,"td,th",Q).bind(te=>$e(_,"td,th",Q).map(fe=>yr(te,fe)?yr(B,te)&&ks(te)===V?$(fe):db.none("in same cell"):Wd(dv,[te,fe]).fold(()=>((Ae,ze,Ce)=>{const Te=Ae.getRect(ze),Be=Ae.getRect(Ce);return Be.right>Te.left&&Be.left<Te.right})(b,fe,te)?db.success():$(fe),Ae=>$(fe)))).getOr(db.none("default")),cata:(b,_,T,B,V)=>b.fold(_,T,B,V)},fv=po("br"),ya=(b,_,T)=>_(b,T).bind(B=>xn(B)&&Qf(B).trim().length===0?ya(B,_,T):oe.some(B)),Mx=(b,_,T,B)=>((V,$)=>ou(V,$).filter(fv).orThunk(()=>ou(V,$-1).filter(fv)))(_,T).bind(V=>B.traverse(V).fold(()=>ya(V,B.gather,b).map(B.relative),$=>(Q=>Wa(Q).bind(te=>{const fe=ci(te);return((Ae,ze)=>Hr(Ae,pe(yr,ze)))(fe,Q).map(Ae=>((ze,Ce,Te,Be)=>({parent:ze,children:Ce,element:Te,index:Be}))(te,fe,Q,Ae))}))($).map(Q=>mr.on(Q.parent,Q.index)))),id=(b,_)=>({left:b.left,top:b.top+_,right:b.right,bottom:b.bottom+_}),fb=(b,_)=>({left:b.left,top:b.top-_,right:b.right,bottom:b.bottom-_}),yu=(b,_,T)=>({left:b.left+_,top:b.top+T,right:b.right+_,bottom:b.bottom+T}),mb=b=>({left:b.left,top:b.top,right:b.right,bottom:b.bottom}),gb=(b,_)=>oe.some(b.getRect(_)),pm=(b,_,T)=>Gt(_)?gb(b,_).map(mb):xn(_)?((B,V,$)=>$>=0&&$<ks(V)?B.getRangedRect(V,$,V,$+1):$>0?B.getRangedRect(V,$-1,V,$):oe.none())(b,_,T).map(mb):oe.none(),Tg=(b,_)=>Gt(_)?gb(b,_).map(mb):xn(_)?b.getRangedRect(_,0,_,ks(_)).map(mb):oe.none(),cc=am([{none:[]},{retry:["caret"]}]),hb=(b,_,T)=>Ke(_,bg).fold(ae,B=>Tg(b,B).exists(V=>(($,Q)=>$.left<Q.left||Math.abs(Q.right-$.left)<1||$.left>Q.right)(T,V))),ik={point:b=>b.bottom,adjuster:(b,_,T,B,V)=>{const $=id(V,5);return Math.abs(T.bottom-B.bottom)<1||T.top>V.bottom?cc.retry($):T.top===V.bottom?cc.retry(id(V,1)):hb(b,_,V)?cc.retry(yu($,5,0)):cc.none()},move:id,gather:ub},Bl=(b,_,T,B,V)=>V===0?oe.some(B):(($,Q,te)=>$.elementFromPoint(Q,te).filter(fe=>Yt(fe)==="table").isSome())(b,B.left,_.point(B))?(($,Q,te,fe,Ae)=>Bl($,Q,te,Q.move(fe,5),Ae))(b,_,T,B,V-1):b.situsFromPoint(B.left,_.point(B)).bind($=>$.start.fold(oe.none,Q=>Tg(b,Q).bind(te=>_.adjuster(b,Q,te,T,B).fold(oe.none,fe=>Bl(b,_,T,fe,V-1))).orThunk(()=>oe.some(B)),oe.none)),ad=(b,_,T)=>{const B=b.move(T,5),V=Bl(_,b,T,B,100).getOr(B);return(($,Q,te)=>$.point(Q)>te.getInnerHeight()?oe.some($.point(Q)-te.getInnerHeight()):$.point(Q)<0?oe.some(-$.point(Q)):oe.none())(b,V,_).fold(()=>_.situsFromPoint(V.left,b.point(V)),$=>(_.scrollBy(0,$),_.situsFromPoint(V.left,b.point(V)-$)))},uc={tryUp:pe(ad,{point:b=>b.top,adjuster:(b,_,T,B,V)=>{const $=fb(V,5);return Math.abs(T.top-B.top)<1||T.bottom<V.top?cc.retry($):T.bottom===V.top?cc.retry(fb(V,1)):hb(b,_,V)?cc.retry(yu($,5,0)):cc.none()},move:fb,gather:Pw}),tryDown:pe(ad,ik),getJumpSize:J(5)},Px=(b,_,T)=>b.getSelection().bind(B=>((V,$,Q,te)=>(fv($)?((Ae,ze,Ce)=>Ce.traverse(ze).orThunk(()=>ya(ze,Ce.gather,Ae)).map(Ce.relative))(V,$,te):Mx(V,$,Q,te)).map(Ae=>({start:Ae,finish:Ae})))(_,B.finish,B.foffset,T).fold(()=>oe.some(to(B.finish,B.foffset)),V=>{const $=b.fromSitus(V);return Q=Ah.verify(b,B.finish,B.foffset,$.finish,$.foffset,T.failure,_),Ah.cata(Q,te=>oe.none(),()=>oe.none(),te=>oe.some(to(te,0)),te=>oe.some(to(te,ks(te))));var Q})),oi=(b,_,T,B,V,$)=>$===0?oe.none():ak(b,_,T,B,V).bind(Q=>{const te=b.fromSitus(Q),fe=Ah.verify(b,T,B,te.finish,te.foffset,V.failure,_);return Ah.cata(fe,()=>oe.none(),()=>oe.some(Q),Ae=>yr(T,Ae)&&B===0?dc(b,T,B,fb,V):oi(b,_,Ae,0,V,$-1),Ae=>yr(T,Ae)&&B===ks(Ae)?dc(b,T,B,id,V):oi(b,_,Ae,ks(Ae),V,$-1))}),dc=(b,_,T,B,V)=>pm(b,_,T).bind($=>tl(b,V,B($,uc.getJumpSize()))),tl=(b,_,T)=>{const B=L1().browser;return B.isChromium()||B.isSafari()||B.isFirefox()?_.retry(b,T):oe.none()},ak=(b,_,T,B,V)=>pm(b,T,B).bind($=>tl(b,V,$)),nf=(b,_,T,B,V)=>$e(B,"td,th",_).bind($=>$e($,"table",_).bind(Q=>((te,fe)=>xe(te,Ae=>Wa(Ae).exists(ze=>yr(ze,fe)),void 0).isSome())(V,Q)?((te,fe,Ae)=>Px(te,fe,Ae).bind(ze=>oi(te,fe,ze.element,ze.offset,Ae,20).map(te.fromSitus)))(b,_,T).bind(te=>$e(te.finish,"td,th",_).map(fe=>({start:$,finish:fe,range:te}))):oe.none())),ld=(b,_,T,B,V,$)=>$(B,_).orThunk(()=>nf(b,_,T,B,V).map(Q=>{const te=Q.range;return ls(oe.some(xa(te.start,te.soffset,te.finish,te.foffset)),!0)})),Eh=(b,_)=>$e(b,"tr",_).bind(T=>$e(T,"table",_).bind(B=>{const V=dr(B,"tr");return yr(T,V[0])?(($,Q,te)=>sk(hm,$,fe=>Rc(fe).isSome(),te))(B,0,_).map($=>{const Q=ks($);return ls(oe.some(xa($,Q,$,Q)),!0)}):oe.none()})),bm=(b,_)=>$e(b,"tr",_).bind(T=>$e(T,"table",_).bind(B=>{const V=dr(B,"tr");return yr(T,V[V.length-1])?(($,Q,te)=>cb(hm,$,fe=>lg(fe).isSome(),te))(B,0,_).map($=>ls(oe.some(xa($,0,$,0)),!0)):oe.none()})),Cl=(b,_,T,B,V,$,Q)=>nf(b,T,B,V,$).bind(te=>ab(_,T,te.start,te.finish,Q)),mv=b=>{let _=b;return{get:()=>_,set:T=>{_=T}}},gv=()=>{const b=(_=>{const T=mv(oe.none()),B=()=>T.get().each(_);return{clear:()=>{B(),T.set(oe.none())},isSet:()=>T.get().isSome(),get:()=>T.get(),set:V=>{B(),T.set(oe.some(V))}}})(U);return{...b,on:_=>b.get().each(_)}},pb=(b,_)=>$e(b,"td,th",_),hv=b=>nu(b).exists(Xn),Lw={traverse:xl,gather:ub,relative:mr.before,retry:uc.tryDown,failure:Ah.failedDown},bb={traverse:Yn,gather:Pw,relative:mr.before,retry:uc.tryUp,failure:Ah.failedUp},cd=b=>_=>_===b,vb=cd(38),Og=cd(40),Dg=b=>b>=37&&b<=40,of={isBackward:cd(37),isForward:cd(39)},rf={isBackward:cd(39),isForward:cd(37)},xb=am([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),sf={domRange:xb.domRange,relative:xb.relative,exact:xb.exact,exactFromRange:b=>xb.exact(b.start,b.soffset,b.finish,b.foffset),getWin:b=>{const _=(T=>T.match({domRange:B=>Ht.fromDom(B.startContainer),relative:(B,V)=>mr.getStart(B),exact:(B,V,$,Q)=>B}))(b);return Ht.fromDom(ql(_).dom.defaultView)},range:ib},af=(b,_)=>{const T=Yt(b);return T==="input"?mr.after(b):gt(["br","img"],T)?_===0?mr.before(b):mr.after(b):mr.on(b,_)},lf=b=>oe.from(b.getSelection()),Rg=(b,_)=>{lf(b).each(T=>{T.removeAllRanges(),T.addRange(_)})},pv=(b,_,T,B,V)=>{const $=sb(b,_,T,B,V);Rg(b,$)},Th=(b,_)=>uv(b,_).match({ltr:(T,B,V,$)=>{pv(b,T,B,V,$)},rtl:(T,B,V,$)=>{lf(b).each(Q=>{if(Q.setBaseAndExtent)Q.setBaseAndExtent(T.dom,B,V.dom,$);else if(Q.extend)try{((te,fe,Ae,ze,Ce,Te)=>{fe.collapse(Ae.dom,ze),fe.extend(Ce.dom,Te)})(0,Q,T,B,V,$)}catch{pv(b,V,$,T,B)}else pv(b,V,$,T,B)})}}),bv=(b,_,T,B,V)=>{const $=((Q,te,fe,Ae)=>{const ze=af(Q,te),Ce=af(fe,Ae);return sf.relative(ze,Ce)})(_,T,B,V);Th(b,$)},Lx=(b,_,T)=>{const B=((V,$)=>{const Q=V.fold(mr.before,af,mr.after),te=$.fold(mr.before,af,mr.after);return sf.relative(Q,te)})(_,T);Th(b,B)},Oh=b=>{if(b.rangeCount>0){const _=b.getRangeAt(0),T=b.getRangeAt(b.rangeCount-1);return oe.some(ib(Ht.fromDom(_.startContainer),_.startOffset,Ht.fromDom(T.endContainer),T.endOffset))}return oe.none()},ri=b=>{if(b.anchorNode===null||b.focusNode===null)return Oh(b);{const _=Ht.fromDom(b.anchorNode),T=Ht.fromDom(b.focusNode);return((B,V,$,Q)=>{const te=((Ae,ze,Ce,Te)=>{const Be=tu(Ae).dom.createRange();return Be.setStart(Ae.dom,ze),Be.setEnd(Ce.dom,Te),Be})(B,V,$,Q),fe=yr(B,$)&&V===Q;return te.collapsed&&!fe})(_,b.anchorOffset,T,b.focusOffset)?oe.some(ib(_,b.anchorOffset,T,b.focusOffset)):Oh(b)}},Fx=(b,_,T=!0)=>{const B=(T?av:Ds)(b,_);Rg(b,B)},Fw=b=>(_=>lf(_).filter(T=>T.rangeCount>0).bind(ri))(b).map(_=>sf.exact(_.start,_.soffset,_.finish,_.foffset)),zx=(b,_,T)=>((B,V,$)=>((Q,te,fe)=>Q.caretPositionFromPoint?((Ae,ze,Ce)=>{var Te;return oe.from((Te=Ae.caretPositionFromPoint)===null||Te===void 0?void 0:Te.call(Ae,ze,Ce)).bind(Be=>{if(Be.offsetNode===null)return oe.none();const Ge=Ae.createRange();return Ge.setStart(Be.offsetNode,Be.offset),Ge.collapse(),oe.some(Ge)})})(Q,te,fe):Q.caretRangeFromPoint?((Ae,ze,Ce)=>{var Te;return oe.from((Te=Ae.caretRangeFromPoint)===null||Te===void 0?void 0:Te.call(Ae,ze,Ce))})(Q,te,fe):oe.none())(B.document,V,$).map(Q=>ib(Ht.fromDom(Q.startContainer),Q.startOffset,Ht.fromDom(Q.endContainer),Q.endOffset)))(b,_,T),Hx=b=>({elementFromPoint:(_,T)=>Ht.fromPoint(Ht.fromDom(b.document),_,T),getRect:_=>_.dom.getBoundingClientRect(),getRangedRect:(_,T,B,V)=>{const $=sf.exact(_,T,B,V);return((Q,te)=>(fe=>{const Ae=fe.getClientRects(),ze=Ae.length>0?Ae[0]:fe.getBoundingClientRect();return ze.width>0||ze.height>0?oe.some(ze).map(Dx):oe.none()})(Rx(Q,te)))(b,$)},getSelection:()=>Fw(b).map(_=>Nx(b,_)),fromSitus:_=>{const T=sf.relative(_.start,_.finish);return Nx(b,T)},situsFromPoint:(_,T)=>zx(b,_,T).map(B=>el(B.start,B.soffset,B.finish,B.foffset)),clearSelection:()=>{(_=>{lf(_).each(T=>T.removeAllRanges())})(b)},collapseSelection:(_=!1)=>{Fw(b).each(T=>T.fold(B=>B.collapse(_),(B,V)=>{const $=_?B:V;Lx(b,$,$)},(B,V,$,Q)=>{const te=_?B:$,fe=_?V:Q;bv(b,te,fe,te,fe)}))},setSelection:_=>{bv(b,_.start,_.soffset,_.finish,_.foffset)},setRelativeSelection:(_,T)=>{Lx(b,_,T)},selectNode:_=>{Fx(b,_,!1)},selectContents:_=>{Fx(b,_)},getInnerHeight:()=>b.innerHeight,getScrollY:()=>(_=>{const T=_!==void 0?_.dom:document,B=T.body.scrollLeft||T.documentElement.scrollLeft,V=T.body.scrollTop||T.documentElement.scrollTop;return Da(B,V)})(Ht.fromDom(b.document)).top,scrollBy:(_,T)=>{((B,V,$)=>{const Q=($!==void 0?$.dom:document).defaultView;Q&&Q.scrollBy(B,V)})(_,T,Ht.fromDom(b.document))}}),cf=(b,_)=>({rows:b,cols:_}),vv=b=>Ke(b,Mt).exists(Xn),yb=(b,_)=>vv(b)||vv(_),Vx=b=>b.dom.classList!==void 0,lk=(b,_)=>((T,B,V)=>{const $=((Q,te)=>{const fe=jt(Q,te);return fe===void 0||fe===""?[]:fe.split(" ")})(T,B).concat([V]);return yo(T,B,$.join(" ")),!0})(b,"class",_),uf=(b,_)=>{Vx(b)?b.dom.classList.add(_):lk(b,_)},wb=(b,_)=>Vx(b)&&b.dom.classList.contains(_),zw=()=>({tag:"none"}),Hw=b=>({tag:"multiple",elements:b}),zc=b=>({tag:"single",element:b}),$x=b=>{const _=Ht.fromDom((te=>{if(I(te.target)){const fe=Ht.fromDom(te.target);if(Gt(fe)&&I(fe.dom.shadowRoot)&&te.composed&&te.composedPath){const Ae=te.composedPath();if(Ae)return Sn(Ae)}}return oe.from(te.target)})(b).getOr(b.target)),T=()=>b.stopPropagation(),B=()=>b.preventDefault(),V=($=B,Q=T,(...te)=>$(Q.apply(null,te)));var $,Q;return((te,fe,Ae,ze,Ce,Te,Be)=>({target:te,x:fe,y:Ae,stop:ze,prevent:Ce,kill:Te,raw:Be}))(_,b.clientX,b.clientY,T,B,V,b)},xv=(b,_,T,B)=>{b.dom.removeEventListener(_,T,B)},Vw=Ie,Ng=(b,_,T)=>((B,V,$,Q)=>((te,fe,Ae,ze,Ce)=>{const Te=((Be,Ge)=>Qe=>{Be(Qe)&&Ge($x(Qe))})(Ae,ze);return te.dom.addEventListener(fe,Te,Ce),{unbind:pe(xv,te,fe,Te,Ce)}})(B,V,$,Q,!1))(b,_,Vw,T),Dh=$x,Cb=b=>!wb(Ht.fromDom(b.target),"ephox-snooker-resizer-bar"),$w=(b,_)=>{const T=(V=qd.selectedSelector,{get:()=>tc(Ht.fromDom(b.getBody()),V).fold(()=>Jr(ec(b),Es(b)).fold(zw,zc),Hw)}),B=(($,Q,te)=>{const fe=Te=>{so(Te,$.selected),so(Te,$.firstSelected),so(Te,$.lastSelected)},Ae=Te=>{yo(Te,$.selected,"1")},ze=Te=>{Ce(Te),te()},Ce=Te=>{const Be=dr(Te,`${$.selectedSelector},${$.firstSelectedSelector},${$.lastSelectedSelector}`);Nt(Be,fe)};return{clearBeforeUpdate:Ce,clear:ze,selectRange:(Te,Be,Ge,Qe)=>{ze(Te),Nt(Be,Ae),yo(Ge,$.firstSelected,"1"),yo(Qe,$.lastSelected,"1"),Q(Be,Ge,Qe)},selectedSelector:$.selectedSelector,firstSelectedSelector:$.firstSelectedSelector,lastSelectedSelector:$.lastSelectedSelector}})(qd,($,Q,te)=>{qa(Q).each(fe=>{const Ae=D($,Be=>Be.dom),ze=Ju(b),Ce=Mr(U,Ht.fromDom(b.getDoc()),ze),Te=((Be,Ge,Qe)=>{const St=bo(Be);return td(St,Ge).map(Et=>{const Ct=as(St,Qe,!1),{rows:Dt}=Br(Ct),$t=((nt,gn)=>{const Hn=nt.slice(0,gn[gn.length-1].row+1),co=Wp(Hn);return yt(co,Kn=>{const Vn=Kn.cells.slice(0,gn[gn.length-1].column+1);return D(Vn,lo=>lo.element)})})(Dt,Et),Kt=((nt,gn)=>{const Hn=nt.slice(gn[0].row+gn[0].rowspan-1,nt.length),co=Wp(Hn);return yt(co,Kn=>{const Vn=Kn.cells.slice(gn[0].column+gn[0].colspan-1,Kn.cells.length);return D(Vn,lo=>lo.element)})})(Dt,Et);return{upOrLeftCells:$t,downOrRightCells:Kt}})})(fe,{selection:nc(b)},Ce).map(Be=>Qi(Be,Ge=>D(Ge,Qe=>Qe.dom))).getOrUndefined();((Be,Ge,Qe,St,Et)=>{Be.dispatch("TableSelectionChange",{cells:Ge,start:Qe,finish:St,otherCells:Et})})(b,Ae,Q.dom,te.dom,Te)})},()=>($=>{$.dispatch("TableSelectionClear")})(b));var V;return b.on("init",$=>{const Q=b.getWin(),te=Xo(b),fe=Es(b),Ae=((Qe,St,Et,Ct)=>{const Dt=(($t,Kt,nt,gn)=>{const Hn=gv(),co=Hn.clear,Kn=Vn=>{Hn.on(lo=>{gn.clearBeforeUpdate(Kt),pb(Vn.target,nt).each(Bo=>{Ic(lo,Bo,nt).each(zs=>{const ia=zs.boxes.getOr([]);if(ia.length===1){const Ai=ia[0],Ml=wn(Ai)==="false",wm=Ft(io(Vn.target),Ai,yr);Ml&&wm&&gn.selectRange(Kt,ia,Ai,Ai)}else ia.length>1&&(gn.selectRange(Kt,ia,zs.start,zs.finish),$t.selectContents(Bo))})})})};return{clearstate:co,mousedown:Vn=>{gn.clear(Kt),pb(Vn.target,nt).filter(hv).each(Hn.set)},mouseover:Vn=>{Kn(Vn)},mouseup:Vn=>{Kn(Vn),co()}}})(Hx(Qe),St,Et,Ct);return{clearstate:Dt.clearstate,mousedown:Dt.mousedown,mouseover:Dt.mouseover,mouseup:Dt.mouseup}})(Q,te,fe,B),ze=((Qe,St,Et,Ct)=>{const Dt=Hx(Qe),$t=()=>(Ct.clear(St),oe.none());return{keydown:(Kt,nt,gn,Hn,co,Kn)=>{const Vn=Kt.raw,lo=Vn.which,Bo=Vn.shiftKey===!0;return $p(St,Ct.selectedSelector).fold(()=>(Dg(lo)&&!Bo&&Ct.clearBeforeUpdate(St),Dg(lo)&&Bo&&!yb(nt,Hn)?oe.none:Og(lo)&&Bo?pe(Cl,Dt,St,Et,Lw,Hn,nt,Ct.selectRange):vb(lo)&&Bo?pe(Cl,Dt,St,Et,bb,Hn,nt,Ct.selectRange):Og(lo)?pe(ld,Dt,Et,Lw,Hn,nt,bm):vb(lo)?pe(ld,Dt,Et,bb,Hn,nt,Eh):oe.none),ia=>{const Ai=Ml=>()=>X(Ml,aa=>((wu,Nh,mf,Ih,Av)=>Ui(Ih,wu,Nh,Av.firstSelectedSelector,Av.lastSelectedSelector).map(gf=>(Av.clearBeforeUpdate(mf),Av.selectRange(mf,gf.boxes,gf.start,gf.finish),gf.boxes)))(aa.rows,aa.cols,St,ia,Ct)).fold(()=>jd(St,Ct.firstSelectedSelector,Ct.lastSelectedSelector).map(aa=>{const wu=Og(lo)||Kn.isForward(lo)?mr.after:mr.before;return Dt.setRelativeSelection(mr.on(aa.first,0),wu(aa.table)),Ct.clear(St),ls(oe.none(),!0)}),aa=>oe.some(ls(oe.none(),!0)));return Dg(lo)&&Bo&&!yb(nt,Hn)?oe.none:Og(lo)&&Bo?Ai([cf(1,0)]):vb(lo)&&Bo?Ai([cf(-1,0)]):Kn.isBackward(lo)&&Bo?Ai([cf(0,-1),cf(-1,0)]):Kn.isForward(lo)&&Bo?Ai([cf(0,1),cf(1,0)]):Dg(lo)&&!Bo?$t:oe.none})()},keyup:(Kt,nt,gn,Hn,co)=>$p(St,Ct.selectedSelector).fold(()=>{const Kn=Kt.raw,Vn=Kn.which;return Kn.shiftKey===!0&&Dg(Vn)&&yb(nt,Hn)?((lo,Bo,zs,ia,Ai,Ml,wm)=>yr(zs,Ai)&&ia===Ml?oe.none():$e(zs,"td,th",Bo).bind(aa=>$e(Ai,"td,th",Bo).bind(wu=>ab(lo,Bo,aa,wu,wm))))(St,Et,nt,gn,Hn,co,Ct.selectRange):oe.none()},oe.none)}})(Q,te,fe,B),Ce=((Qe,St,Et,Ct)=>{const Dt=Hx(Qe);return($t,Kt)=>{Ct.clearBeforeUpdate(St),Ic($t,Kt,Et).each(nt=>{const gn=nt.boxes.getOr([]);Ct.selectRange(St,gn,nt.start,nt.finish),Dt.selectContents(Kt),Dt.collapseSelection()})}})(Q,te,fe,B);b.on("TableSelectorChange",Qe=>Ce(Qe.start,Qe.finish));const Te=(Qe,St)=>{(Et=>Et.raw.shiftKey===!0)(Qe)&&(St.kill&&Qe.kill(),St.selection.each(Et=>{const Ct=sf.relative(Et.start,Et.finish),Dt=Rx(Q,Ct);b.selection.setRng(Dt)}))},Be=Qe=>Qe.button===0,Ge=(()=>{const Qe=mv(Ht.fromDom(te)),St=mv(0);return{touchEnd:Et=>{const Ct=Ht.fromDom(Et.target);if(po("td")(Ct)||po("th")(Ct)){const Dt=Qe.get(),$t=St.get();yr(Dt,Ct)&&Et.timeStamp-$t<300&&(Et.preventDefault(),Ce(Ct,Ct))}Qe.set(Ct),St.set(Et.timeStamp)}}})();b.on("dragstart",Qe=>{Ae.clearstate()}),b.on("mousedown",Qe=>{Be(Qe)&&Cb(Qe)&&Ae.mousedown(Dh(Qe))}),b.on("mouseover",Qe=>{var St;(St=Qe).buttons!==void 0&&!(1&St.buttons)||!Cb(Qe)||Ae.mouseover(Dh(Qe))}),b.on("mouseup",Qe=>{Be(Qe)&&Cb(Qe)&&Ae.mouseup(Dh(Qe))}),b.on("touchend",Ge.touchEnd),b.on("keyup",Qe=>{const St=Dh(Qe);if(St.raw.shiftKey&&Dg(St.raw.which)){const Et=b.selection.getRng(),Ct=Ht.fromDom(Et.startContainer),Dt=Ht.fromDom(Et.endContainer);ze.keyup(St,Ct,Et.startOffset,Dt,Et.endOffset).each($t=>{Te(St,$t)})}}),b.on("keydown",Qe=>{const St=Dh(Qe);_.hide();const Et=b.selection.getRng(),Ct=Ht.fromDom(Et.startContainer),Dt=Ht.fromDom(Et.endContainer),$t=ko(of,rf)(Ht.fromDom(b.selection.getStart()));ze.keydown(St,Ct,Et.startOffset,Dt,Et.endOffset,$t).each(Kt=>{Te(St,Kt)}),_.show()}),b.on("NodeChange",()=>{const Qe=b.selection,St=Ht.fromDom(Qe.getStart()),Et=Ht.fromDom(Qe.getEnd());Wd(qa,[St,Et]).fold(()=>B.clear(te),U)})}),b.on("PreInit",()=>{b.serializer.addTempAttr(qd.firstSelected),b.serializer.addTempAttr(qd.lastSelected)}),{getSelectedCells:()=>(($,Q,te,fe)=>{switch($.tag){case"none":return Q();case"single":return(Ae=>[Ae.dom])($.element);case"multiple":return(Ae=>D(Ae,ze=>ze.dom))($.elements)}})(T.get(),J([])),clearSelectedCells:$=>B.clear(Ht.fromDom($))}},Hc=b=>{let _=[];return{bind:T=>{if(T===void 0)throw new Error("Event bind error: undefined handler");_.push(T)},unbind:T=>{_=vn(_,B=>B!==T)},trigger:(...T)=>{const B={};Nt(b,(V,$)=>{B[V]=T[$]}),Nt(_,V=>{V(B)})}}},vm=b=>({registry:Qi(b,_=>({bind:_.bind,unbind:_.unbind})),trigger:Qi(b,_=>_.trigger)}),_b=b=>b.slice(0).sort(),Sb=(b,_)=>{const T=vn(_,B=>!gt(b,B));T.length>0&&(B=>{throw new Error("Unsupported keys for object: "+_b(B).join(", "))})(T)},yv=b=>((_,T)=>((B,V,$)=>{if(V.length===0)throw new Error("You must specify at least one required field.");return((Q,te)=>{if(!w(te))throw new Error("The "+Q+" fields must be an array. Was: "+te+".");Nt(te,fe=>{if(!x(fe))throw new Error("The value "+fe+" in the "+Q+" fields was not a string.")})})("required",V),(Q=>{const te=_b(Q);Un(te,(fe,Ae)=>Ae<te.length-1&&fe===te[Ae+1]).each(fe=>{throw new Error("The field: "+fe+" occurs more than once in the combined fields: ["+te.join(", ")+"].")})})(V),Q=>{const te=nr(Q);qt(V,Ae=>gt(te,Ae))||((Ae,ze)=>{throw new Error("All required keys ("+_b(Ae).join(", ")+") were not specified. Specified keys were: "+_b(ze).join(", ")+".")})(V,te),B(V,te);const fe=vn(V,Ae=>!$.validate(Q[Ae],Ae));return fe.length>0&&((Ae,ze)=>{throw new Error("All values need to be of type: "+ze+". Keys ("+_b(Ae).join(", ")+") were not.")})(fe,$.label),Q}})(_,T,{validate:z,label:"function"}))(Sb,b),kb=yv(["compare","extract","mutate","sink"]),Ki=yv(["element","start","stop","destroy"]),wv=yv(["forceDrop","drop","move","delayDrop"]),xm=()=>{const b=(()=>{const B=vm({move:Hc(["info"])});return{onEvent:U,reset:U,events:B.registry}})(),_=(()=>{let B=oe.none();const V=vm({move:Hc(["info"])});return{onEvent:($,Q)=>{Q.extract($).each(te=>{((Ae,ze)=>{const Ce=B.map(Te=>Ae.compare(Te,ze));return B=oe.some(ze),Ce})(Q,te).each(Ae=>{V.trigger.move(Ae)})})},reset:()=>{B=oe.none()},events:V.registry}})();let T=b;return{on:()=>{T.reset(),T=_},off:()=>{T.reset(),T=b},isOn:()=>T===_,onEvent:(B,V)=>{T.onEvent(B,V)},events:_.events}},ym=b=>{const _=b.replace(/\./g,"-");return{resolve:T=>_+"-"+T}},Ab=ym("ephox-dragster").resolve;var Cv=kb({compare:(b,_)=>Da(_.left-b.left,_.top-b.top),extract:b=>oe.some(Da(b.x,b.y)),sink:(b,_)=>{const T=(te=>{const fe={layerClass:Ab("blocker"),...te},Ae=Ht.fromTag("div");return yo(Ae,"role","presentation"),cl(Ae,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),uf(Ae,Ab("blocker")),uf(Ae,fe.layerClass),{element:J(Ae),destroy:()=>{Ur(Ae)}}})(_),B=Ng(T.element(),"mousedown",b.forceDrop),V=Ng(T.element(),"mouseup",b.drop),$=Ng(T.element(),"mousemove",b.move),Q=Ng(T.element(),"mouseout",b.delayDrop);return Ki({element:T.element,start:te=>{Xr(te,T.element())},stop:()=>{Ur(T.element())},destroy:()=>{T.destroy(),V.unbind(),$.unbind(),Q.unbind(),B.unbind()}})},mutate:(b,_)=>{b.mutate(_.left,_.top)}});const Ig=ym("ephox-snooker").resolve,df=Ig("resizer-bar"),Ux=Ig("resizer-rows"),_v=Ig("resizer-cols"),Pa=b=>{const _=dr(b.parent(),"."+df);Nt(_,Ur)},ff=(b,_,T)=>{const B=b.origin();Nt(_,V=>{V.each($=>{const Q=T(B,$);uf(Q,df),Xr(b.parent(),Q)})})},Zx=(b,_,T,B,V)=>{const $=Hd(T),Q=_.isResizable,te=B.length>0?cu.positions(B,T):[],fe=te.length>0?((Ce,Te)=>yt(Ce.all,(Be,Ge)=>Te(Be.element)?[Ge]:[]))(b,Q):[];((Ce,Te,Be,Ge)=>{ff(Ce,Te,(Qe,St)=>{const Et=((Ct,Dt,$t,Kt,nt)=>{const gn=Ht.fromTag("div");return cl(gn,{position:"absolute",left:Dt+"px",top:$t-3.5+"px",height:"7px",width:Kt+"px"}),Ar(gn,{"data-row":Ct,role:"presentation"}),gn})(St.row,Be.left-Qe.left,St.y-Qe.top,Ge);return uf(Et,Ux),Et})})(_,vn(te,(Ce,Te)=>Se(fe,Be=>Te===Be)),$,rg(T));const Ae=V.length>0?Vd.positions(V,T):[],ze=Ae.length>0?((Ce,Te)=>{const Be=[];return Ne(Ce.grid.columns,Ge=>{sr(Ce,Ge).map(Qe=>Qe.element).forall(Te)&&Be.push(Ge)}),vn(Be,Ge=>{const Qe=wi(Ce,St=>St.column===Ge);return qt(Qe,St=>Te(St.element))})})(b,Q):[];((Ce,Te,Be,Ge)=>{ff(Ce,Te,(Qe,St)=>{const Et=((Ct,Dt,$t,Kt,nt)=>{const gn=Ht.fromTag("div");return cl(gn,{position:"absolute",left:Dt-3.5+"px",top:$t+"px",height:nt+"px",width:"7px"}),Ar(gn,{"data-column":Ct,role:"presentation"}),gn})(St.col,St.x-Qe.left,Be.top-Qe.top,0,Ge);return uf(Et,_v),Et})})(_,vn(Ae,(Ce,Te)=>Se(ze,Be=>Te===Be)),$,Ip(T))},ft=(b,_)=>{if(Pa(b),b.isResizable(_)){const T=bo(_),B=Gu(T),V=ch(T);Zx(T,b,_,B,V)}},Rh=(b,_)=>{const T=dr(b.parent(),"."+df);Nt(T,_)},ck=b=>{Rh(b,_=>{mo(_,"display","none")})},Uw=b=>{Rh(b,_=>{mo(_,"display","block")})},Sv=Ig("resizer-bar-dragging"),Vc=b=>{const _=(()=>{const Ce=vm({drag:Hc(["xDelta","yDelta","target"])});let Te=oe.none();const Be=(()=>{const Ge=vm({drag:Hc(["xDelta","yDelta"])});return{mutate:(Qe,St)=>{Ge.trigger.drag(Qe,St)},events:Ge.registry}})();return Be.events.drag.bind(Ge=>{Te.each(Qe=>{Ce.trigger.drag(Ge.xDelta,Ge.yDelta,Qe)})}),{assign:Ge=>{Te=oe.some(Ge)},get:()=>Te,mutate:Be.mutate,events:Ce.registry}})(),T=((Ce,Te={})=>{var Be;return((Ge,Qe,St)=>{let Et=!1;const Ct=vm({start:Hc([]),stop:Hc([])}),Dt=xm(),$t=()=>{gn.stop(),Dt.isOn()&&(Dt.off(),Ct.trigger.stop())},Kt=((Hn,co)=>{let Kn=null;const Vn=()=>{E(Kn)||(clearTimeout(Kn),Kn=null)};return{cancel:Vn,throttle:(...lo)=>{Vn(),Kn=setTimeout(()=>{Kn=null,Hn.apply(null,lo)},200)}}})($t);Dt.events.move.bind(Hn=>{Qe.mutate(Ge,Hn.info)});const nt=Hn=>(...co)=>{Et&&Hn.apply(null,co)},gn=Qe.sink(wv({forceDrop:$t,drop:nt($t),move:nt(Hn=>{Kt.cancel(),Dt.onEvent(Hn,Qe)}),delayDrop:nt(Kt.throttle)}),St);return{element:gn.element,go:Hn=>{gn.start(Hn),Dt.on(),Ct.trigger.start()},on:()=>{Et=!0},off:()=>{Et=!1},isActive:()=>Et,destroy:()=>{gn.destroy()},events:Ct.registry}})(Ce,(Be=Te.mode)!==null&&Be!==void 0?Be:Cv,Te)})(_,{});let B=oe.none();const V=(Ce,Te)=>oe.from(jt(Ce,Te));_.events.drag.bind(Ce=>{V(Ce.target,"data-row").each(Te=>{const Be=Id(Ce.target,"top");mo(Ce.target,"top",Be+Ce.yDelta+"px")}),V(Ce.target,"data-column").each(Te=>{const Be=Id(Ce.target,"left");mo(Ce.target,"left",Be+Ce.xDelta+"px")})});const $=(Ce,Te)=>Id(Ce,Te)-os(Ce,"data-initial-"+Te,0);T.events.stop.bind(()=>{_.get().each(Ce=>{B.each(Te=>{V(Ce,"data-row").each(Be=>{const Ge=$(Ce,"top");so(Ce,"data-initial-top"),ze.trigger.adjustHeight(Te,Ge,parseInt(Be,10))}),V(Ce,"data-column").each(Be=>{const Ge=$(Ce,"left");so(Ce,"data-initial-left"),ze.trigger.adjustWidth(Te,Ge,parseInt(Be,10))}),ft(b,Te)})})});const Q=(Ce,Te)=>{ze.trigger.startAdjust(),_.assign(Ce),yo(Ce,"data-initial-"+Te,Id(Ce,Te)),uf(Ce,Sv),mo(Ce,"opacity","0.2"),T.go(b.parent())},te=Ng(b.parent(),"mousedown",Ce=>{var Te;Te=Ce.target,wb(Te,Ux)&&Q(Ce.target,"top"),(Be=>wb(Be,_v))(Ce.target)&&Q(Ce.target,"left")}),fe=Ce=>yr(Ce,b.view()),Ae=Ng(b.view(),"mouseover",Ce=>{var Te;(Te=Ce.target,$e(Te,"table",fe).filter(Xn)).fold(()=>{Ea(Ce.target)&&Pa(b)},Be=>{T.isActive()&&(B=oe.some(Be),ft(b,Be))})}),ze=vm({adjustHeight:Hc(["table","delta","row"]),adjustWidth:Hc(["table","delta","column"]),startAdjust:Hc([])});return{destroy:()=>{te.unbind(),Ae.unbind(),T.destroy(),Pa(b)},refresh:Ce=>{ft(b,Ce)},on:T.on,off:T.off,hideBars:pe(ck,b),showBars:pe(Uw,b),events:ze.registry}},kv=b=>I(b)&&b.nodeName==="TABLE",Eb="bar-",Wx=b=>jt(b,"data-mce-resize")!=="false",jx=b=>{const _=gv(),T=gv(),B=gv();let V,$,Q,te;const fe=Ce=>ef(b,Ce),Ae=()=>ug(b)?$1():bu(),ze=(Ce,Te,Be,Ge)=>{const Qe=(Ct=>{return ro(Dt=Ct,"corner-")?(($t,Kt)=>$t.substring(7))(Dt):Dt;var Dt})(Te),St=tn(Qe,"e"),Et=ro(Qe,"n");if($===""&&Cg(Ce),te===""&&(Ct=>{const Dt=($t=>Yu($t)+"px")(Ct);Tr(Ct,oe.none(),oe.some(Dt)),Lc(Ct)})(Ce),Be!==V&&$!==""){mo(Ce,"width",$);const Ct=Ae(),Dt=fe(Ce),$t=ug(b)||St?(Kt=>Mc(Kt).columns)(Ce)-1:0;nd(Ce,Be-V,$t,Ct,Dt)}else if((Ct=>/^(\d+(\.\d+)?)%$/.test(Ct))($)){const Ct=parseFloat($.replace("%",""));mo(Ce,"width",Be*Ct/V+"%")}if((Ct=>/^(\d+(\.\d+)?)px$/.test(Ct))($)&&(Ct=>{const Dt=bo(Ct);Xl(Dt)||Nt(us(Ct),$t=>{const Kt=Bi($t,"width");mo($t,"width",Kt),so($t,"width")})})(Ce),Ge!==Q&&te!==""){mo(Ce,"height",te);const Ct=Et?0:(Dt=>Mc(Dt).rows)(Ce)-1;gg(Ce,Ge-Q,Ct)}};return b.on("init",()=>{const Ce=((Te,Be)=>Te.inline?((Ge,Qe,St)=>({parent:J(Qe),view:J(Ge),origin:J(Da(0,0)),isResizable:St}))(Ht.fromDom(Te.getBody()),(()=>{const Ge=Ht.fromTag("div");return cl(Ge,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Xr(Cc(Ht.fromDom(document)),Ge),Ge})(),Be):((Ge,Qe)=>{const St=eo(Ge)?(Et=>Ht.fromDom(ql(Et).dom.documentElement))(Ge):Ge;return{parent:J(St),view:J(Ge),origin:J(Da(0,0)),isResizable:Qe}})(Ht.fromDom(Te.getDoc()),Be))(b,Wx);if(B.set(Ce),(Te=>{const Be=Te.options.get("object_resizing");return gt(Be.split(","),"table")})(b)&&ee(b)){const Te=((Be,Ge,Qe)=>{const St=cu,Et=Vd,Ct=Vc(Be),Dt=vm({beforeResize:Hc(["table","type"]),afterResize:Hc(["table","type"]),startDrag:Hc([])});return Ct.events.adjustHeight.bind($t=>{const Kt=$t.table;Dt.trigger.beforeResize(Kt,"row");const nt=St.delta($t.delta,Kt);gg(Kt,nt,$t.row),Dt.trigger.afterResize(Kt,"row")}),Ct.events.startAdjust.bind($t=>{Dt.trigger.startDrag()}),Ct.events.adjustWidth.bind($t=>{const Kt=$t.table;Dt.trigger.beforeResize(Kt,"col");const nt=Et.delta($t.delta,Kt),gn=Qe(Kt);nd(Kt,nt,$t.column,Ge,gn),Dt.trigger.afterResize(Kt,"col")}),{on:Ct.on,off:Ct.off,refreshBars:Ct.refresh,hideBars:Ct.hideBars,showBars:Ct.showBars,destroy:Ct.destroy,events:Dt.registry}})(Ce,Ae(),fe);Te.on(),Te.events.startDrag.bind(Be=>{_.set(b.selection.getRng())}),Te.events.beforeResize.bind(Be=>{const Ge=Be.table.dom;((Qe,St,Et,Ct,Dt)=>{Qe.dispatch("ObjectResizeStart",{target:St,width:Et,height:Ct,origin:Dt})})(b,Ge,tm(Ge),nm(Ge),Eb+Be.type)}),Te.events.afterResize.bind(Be=>{const Ge=Be.table,Qe=Ge.dom;is(Ge),_.on(St=>{b.selection.setRng(St),b.focus()}),((St,Et,Ct,Dt,$t)=>{St.dispatch("ObjectResized",{target:Et,width:Ct,height:Dt,origin:$t})})(b,Qe,tm(Qe),nm(Qe),Eb+Be.type),b.undoManager.add()}),T.set(Te)}}),b.on("ObjectResizeStart",Ce=>{const Te=Ce.target;if(kv(Te)){const Be=Ht.fromDom(Te);Nt(b.dom.select(".mce-clonedresizable"),Ge=>{b.dom.addClass(Ge,"mce-"+cg(b)+"-columns")}),!Kr(Be)&&R(b)?Qa(Be):!iv(Be)&&hu(b)&&Cg(Be),xu(Be)&&ro(Ce.origin,Eb)&&Cg(Be),V=Ce.width,$=Z(b)?"":ww(b,Te).getOr(""),Q=Ce.height,te=zp(b,Te).getOr("")}}),b.on("ObjectResized",Ce=>{const Te=Ce.target;if(kv(Te)){const Be=Ht.fromDom(Te),Ge=Ce.origin;(Qe=>ro(Qe,"corner-"))(Ge)&&ze(Be,Ge,Ce.width,Ce.height),is(Be),rd(b,Be.dom,ov)}}),b.on("SwitchMode",()=>{T.on(Ce=>{b.mode.isReadOnly()?Ce.hideBars():Ce.showBars()})}),b.on("dragstart dragend",Ce=>{T.on(Te=>{Ce.type==="dragstart"?(Te.hideBars(),Te.off()):(Te.on(),Te.showBars())})}),b.on("remove",()=>{T.on(Ce=>{Ce.destroy()}),B.on(Ce=>{((Te,Be)=>{Te.inline&&Ur(Be.parent())})(b,Ce)})}),{refresh:Ce=>{T.on(Te=>Te.refreshBars(Ht.fromDom(Ce)))},hide:()=>{T.on(Ce=>Ce.hideBars())},show:()=>{T.on(Ce=>Ce.showBars())}}},uk=b=>{(V=>{const $=V.options.register;$("table_clone_elements",{processor:"string[]"}),$("table_use_colgroups",{processor:"boolean",default:!0}),$("table_header_type",{processor:Q=>{const te=gt(["section","cells","sectionCells","auto"],Q);return te?{value:Q,valid:te}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),$("table_sizing_mode",{processor:"string",default:"auto"}),$("table_default_attributes",{processor:"object",default:{border:"1"}}),$("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),$("table_column_resizing",{processor:Q=>{const te=gt(["preservetable","resizetable"],Q);return te?{value:Q,valid:te}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),$("table_resize_bars",{processor:"boolean",default:!0}),$("table_style_by_css",{processor:"boolean",default:!0}),$("table_merge_content_on_paste",{processor:"boolean",default:!0})})(b);const _=jx(b),T=$w(b,_),B=kx(b,_,T);return hs(b,B),((V,$)=>{const Q=Es(V),te=fe=>Jr(ec(V)).bind(Ae=>qa(Ae,Q).map(ze=>{const Ce=ho(nc(V),ze,Ae);return fe(ze,Ce)})).getOr("");jo({mceTableRowType:()=>te($.getTableRowType),mceTableCellType:()=>te($.getTableCellType),mceTableColType:()=>te($.getTableColType)},(fe,Ae)=>V.addQueryValueHandler(Ae,fe))})(b,B),oc(b,B),{getSelectedCells:T.getSelectedCells,clearSelectedCells:T.clearSelectedCells}};r.add("dom",b=>({table:uk(b)}))})();tinymce.Resource.add("ui/default/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(0,101,216,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255,165,0,.08);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204,0,0,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{font-size:14px;margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active{background-color:#006ce7}.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border:2px solid highlight}}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#fff;position:relative}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment{background:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 8px 16px 8px;position:relative}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #006ce7;color:#006ce7}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#006ce7;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#003c81;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #006ce7;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#00244e;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#fff;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between;overflow:hidden}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:first-child{border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-text-color__color{opacity:.6}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);tinymce.addI18n("de",{"#":"#",Accessibility:"Barrierefreiheit",Accordion:"","Accordion body...":"","Accordion summary...":"",Action:"Aktion",Activity:"Aktivitt",Address:"Adresse",Advanced:"Erweitert",Align:"Ausrichtung","Align center":"Zentrieren","Align left":"Linksbndig ausrichten","Align right":"Rechtsbndig ausrichten",Alignment:"Ausrichtung","Alignment {0}":"",All:"Alle","Alternative description":"Alternative Beschreibung","Alternative source":"Alternative Quelle","Alternative source URL":"URL der alternativen Quelle",Anchor:"Anker","Anchor...":"Textmarke",Anchors:"Anker","Animals and Nature":"Tiere und Natur",Arrows:"Pfeile",B:"B","Background color":"Hintergrundfarbe","Background color {0}":"",Black:"Schwarz",Block:"Blocksatz","Block {0}":"",Blockquote:"Blockzitat",Blocks:"Blcke",Blue:"Blau","Blue component":"Blauanteil",Body:"Inhalt",Bold:"Fett",Border:"Rahmen","Border color":"Rahmenfarbe","Border style":"Rahmenstil","Border width":"Rahmenbreite",Bottom:"Unten","Browse files":"","Browse for an image":"Bild...","Browse links":"","Bullet list":"Aufzhlung",Cancel:"Abbrechen",Caption:"Beschriftung",Cell:"Zelle","Cell padding":"Zelleninnenabstand","Cell properties":"Zelleigenschaften","Cell spacing":"Zellenabstand","Cell styles":"Zellstil","Cell type":"Zelltyp",Center:"Zentriert",Characters:"Zeichen","Characters (no spaces)":"Zeichen (ohne Leerzeichen)",Circle:"Kreis",Class:"Klasse","Clear formatting":"Formatierung entfernen",Close:"Schlieen",Code:"Code","Code sample...":"Codebeispiel...","Code view":"Code Ansicht","Color Picker":"Farbwahl","Color swatch":"Farbpalette",Cols:"Spalten",Column:"Spalte","Column clipboard actions":"Spalten-Zwischenablage-Aktionen","Column group":"Spaltengruppe","Column header":"Spaltenkopf","Constrain proportions":"Seitenverhltnis beibehalten",Copy:"Kopieren","Copy column":"Spalte kopieren","Copy row":"Zeile kopieren","Could not find the specified string.":"Die angegebene Zeichenfolge wurde nicht gefunden.","Could not load emojis":"Emojis konnten nicht geladen werden",Count:"Anzahl",Currency:"Whrung","Current window":"Aktuelles Fenster","Custom color":"Benutzerdefinierte Farbe","Custom...":"Benutzerdefiniert...",Cut:"Ausschneiden","Cut column":"Spalte ausschneiden","Cut row":"Zeile ausschneiden","Dark Blue":"Dunkelblau","Dark Gray":"Dunkelgrau","Dark Green":"Dunkelgrn","Dark Orange":"Dunkelorange","Dark Purple":"Dunkellila","Dark Red":"Dunkelrot","Dark Turquoise":"Dunkeltrkis","Dark Yellow":"Dunkelgelb",Dashed:"Gestrichelt","Date/time":"Datum/Uhrzeit","Decrease indent":"Einzug verkleinern",Default:"Standard","Delete accordion":"","Delete column":"Spalte lschen","Delete row":"Zeile lschen","Delete table":"Tabelle lschen",Dimensions:"Abmessungen",Disc:"Scheibe",Div:"Div",Document:"Dokument",Dotted:"Gepunktet",Double:"Doppelt","Drop an image here":"Bild hier ablegen","Dropped file type is not supported":"Hereingezogener Dateityp wird nicht untersttzt",Edit:"Bearbeiten",Embed:"Einbettung",Emojis:"Emojis","Emojis...":"Emojis...",Error:"Fehler","Error: Form submit field collision.":"Fehler: Kollision der Formularbesttigungsfelder.","Error: No form element found.":"Fehler: Kein Formularelement gefunden.","Extended Latin":"Erweitertes Latein","Failed to initialize plugin: {0}":"Plugin konnte nicht initialisiert werden: {0}","Failed to load plugin url: {0}":"Plugin-URL konnte nicht geladen werden: {0}","Failed to load plugin: {0} from url {1}":"Plugin konnte nicht geladen werden: {0} von URL {1}","Failed to upload image: {0}":"Bild konnte nicht hochgeladen werden: {0}",File:"Datei",Find:"Suchen","Find (if searchreplace plugin activated)":"Suchen (wenn Suchen/Ersetzen-Plugin aktiviert ist)","Find and Replace":"Suchen und Ersetzen","Find and replace...":"Suchen und ersetzen...","Find in selection":"In Auswahl suchen","Find whole words only":"Nur ganze Wrter suchen",Flags:"Flaggen","Focus to contextual toolbar":"Fokus auf kontextbezogene Symbolleiste","Focus to element path":"Fokus auf Elementpfad","Focus to menubar":"Fokus auf Menleiste","Focus to toolbar":"Fokus auf Symbolleiste",Font:"Schriftart","Font size {0}":"","Font sizes":"Schriftgren","Font {0}":"",Fonts:"Schriftarten","Food and Drink":"Essen und Trinken",Footer:"Fuzeile",Format:"Format","Format {0}":"",Formats:"Formate",Fullscreen:"Vollbild",G:"G",General:"Allgemein",Gray:"Grau",Green:"Grn","Green component":"Grnanteil",Groove:"Gekantet","Handy Shortcuts":"Praktische Tastenkombinationen",Header:"Kopfzeile","Header cell":"Kopfzelle","Heading 1":"berschrift 1","Heading 2":"berschrift 2","Heading 3":"berschrift 3","Heading 4":"berschrift 4","Heading 5":"berschrift 5","Heading 6":"berschrift 6",Headings:"berschriften",Height:"Hhe",Help:"Hilfe","Hex color code":"Hexadezimal-Farbwert",Hidden:"Unsichtbar","Horizontal align":"Horizontal ausrichten","Horizontal line":"Horizontale Linie","Horizontal space":"Horizontaler Raum",ID:"ID","ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"Die ID muss mit einem Buchstaben beginnen gefolgt von Buchstaben, Zahlen, Bindestrichen, Punkten, Doppelpunkten oder Unterstrichen.","Image is decorative":"Bild ist dekorativ","Image list":"Bildliste","Image title":"Bildtitel","Image...":"Bild...","ImageProxy HTTP error: Could not find Image Proxy":"Image Proxy HTTP Fehler: Kann Image Proxy nicht finden","ImageProxy HTTP error: Incorrect Image Proxy URL":"Image Proxy HTTP Fehler: Falsche Image Proxy URL","ImageProxy HTTP error: Rejected request":"Image Proxy HTTP Fehler: Abgewiesene Anfrage","ImageProxy HTTP error: Unknown ImageProxy error":"Image Proxy HTTP Fehler: Unbekannter Image Proxy Fehler","Increase indent":"Einzug vergrern",Inline:"Zeichenformate",Insert:"Einfgen","Insert Template":"Vorlage einfgen","Insert accordion":"","Insert column after":"Neue Spalte danach einfgen","Insert column before":"Neue Spalte davor einfgen","Insert date/time":"Datum/Uhrzeit einfgen","Insert image":"Bild einfgen","Insert link (if link plugin activated)":"Link einfgen (wenn Link-Plugin aktiviert ist)","Insert row after":"Neue Zeile danach einfgen","Insert row before":"Neue Zeile davor einfgen","Insert table":"Tabelle einfgen","Insert template...":"Vorlage einfgen...","Insert video":"Video einfgen","Insert/Edit code sample":"Codebeispiel einfgen/bearbeiten","Insert/edit image":"Bild einfgen/bearbeiten","Insert/edit link":"Link einfgen/bearbeiten","Insert/edit media":"Medien einfgen/bearbeiten","Insert/edit video":"Video einfgen/bearbeiten",Inset:"Eingelassen","Invalid hex color code: {0}":"Ungltiger Hexadezimal-Farbwert: {0}","Invalid input":"Ungltige Eingabe",Italic:"Kursiv",Justify:"Blocksatz","Keyboard Navigation":"Tastaturnavigation",Language:"Sprache","Learn more...":"Erfahren Sie mehr dazu...",Left:"Links","Left to right":"Von links nach rechts","Light Blue":"Hellblau","Light Gray":"Hellgrau","Light Green":"Hellgrn","Light Purple":"Helllila","Light Red":"Hellrot","Light Yellow":"Hellgelb","Line height":"Liniendicke","Link list":"Linkliste","Link...":"Link...","List Properties":"Liste Eigenschaften","List properties...":"Liste Eigenschaften","Loading emojis...":"Lade Emojis...","Loading...":"Wird geladen...","Lower Alpha":"Lateinisches Alphabet in Kleinbuchstaben","Lower Greek":"Griechische Kleinbuchstaben","Lower Roman":"Kleiner rmischer Buchstabe","Match case":"Gro-/Kleinschreibung beachten",Mathematical:"Mathematisch","Media poster (Image URL)":"Medienposter (Bild-URL)","Media...":"Medien...","Medium Blue":"Mittleres Blau","Medium Gray":"Mittelgrau","Medium Purple":"Mittelviolett","Merge cells":"Zellen verbinden",Middle:"Mitte","Midnight Blue":"Mitternachtsblau","More...":"Mehr...",Name:"Name","Navy Blue":"Marineblau","New document":"Neues Dokument","New window":"Neues Fenster",Next:"Nchste",No:"Nein","No alignment":"Keine Ausrichtung","No color":"Keine Farbe","Nonbreaking space":"Geschtztes Leerzeichen",None:"Keine","Numbered list":"Nummerierte Liste",OR:"ODER",Objects:"Objekte",Ok:"Ok","Open help dialog":"Hilfe-Dialog ffnen","Open link":"Link ffnen","Open link in...":"Link ffnen in...","Open popup menu for split buttons":"ffne Popup Menge um Buttons zu trennen",Orange:"Orange",Outset:"Hervorstehend","Page break":"Seitenumbruch",Paragraph:"Absatz",Paste:"Einfgen","Paste as text":"Als Text einfgen","Paste column after":"Spalte danach einfgen","Paste column before":"Spalte davor einfgen","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"Einfgen ist nun im unformatierten Textmodus. Inhalte werden ab jetzt als unformatierter Text eingefgt, bis Sie diese Einstellung wieder deaktivieren.","Paste or type a link":"Link einfgen oder eingeben","Paste row after":"Zeile danach einfgen","Paste row before":"Zeile davor einfgen","Paste your embed code below:":"Fgen Sie Ihren Einbettungscode unten ein:",People:"Menschen",Plugins:"Plugins","Plugins installed ({0}):":"Installierte Plugins ({0}):","Powered by {0}":"Betrieben von {0}",Pre:"Pre",Preferences:"Einstellungen",Preformatted:"Vorformatiert","Premium plugins:":"Premium-Plugins:","Press the Up and Down arrow keys to resize the editor.":"","Press the arrow keys to resize the editor.":"","Press {0} for help":"",Preview:"Vorschau",Previous:"Vorherige",Print:"Drucken","Print...":"Drucken...",Purple:"Violett",Quotations:"Anfhrungszeichen",R:"R","Range 0 to 255":"Spanne 0 bis 255",Red:"Rot","Red component":"Rotanteil",Redo:"Wiederholen",Remove:"Entfernen","Remove color":"Farbauswahl aufheben","Remove link":"Link entfernen",Replace:"Ersetzen","Replace all":"Alle ersetzen","Replace with":"Ersetzen durch",Resize:"Skalieren","Restore last draft":"Letzten Entwurf wiederherstellen","Reveal or hide additional toolbar items":"","Rich Text Area":"Rich-Text-Area","Rich Text Area. Press ALT-0 for help.":"Rich-Text-Bereich. Drcken Sie Alt+0 fr Hilfe.","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"Rich-Text-Bereich. Drcken Sie Alt+F9 fr das Men. Drcken Sie Alt+F10 fr die Symbolleiste. Drcken Sie Alt+0 fr Hilfe.",Ridge:"Eingeritzt",Right:"Rechts","Right to left":"Von rechts nach links",Row:"Zeile","Row clipboard actions":"Zeilen-Zwischenablage-Aktionen","Row group":"Zeilengruppe","Row header":"Zeilenkopf","Row properties":"Zeileneigenschaften","Row type":"Zeilentyp",Rows:"Zeilen",Save:"Speichern","Save (if save plugin activated)":"Speichern (wenn Save-Plugin aktiviert ist)",Scope:"Bereich",Search:"Suchen","Select all":"Alles auswhlen","Select...":"Auswahl...",Selection:"Auswahl",Shortcut:"Tastenkombination","Show blocks":"Blcke anzeigen","Show caption":"Beschriftung anzeigen","Show invisible characters":"Unsichtbare Zeichen anzeigen",Size:"Schriftgre",Solid:"Durchgezogen",Source:"Quelle","Source code":"Quellcode","Special Character":"Sonderzeichen","Special character...":"Sonderzeichen...","Split cell":"Zelle aufteilen",Square:"Rechteck","Start list at number":"Beginne Liste mit Nummer",Strikethrough:"Durchgestrichen",Style:"Formatvorlage",Subscript:"Tiefgestellt",Superscript:"Hochgestellt","Switch to or from fullscreen mode":"Vollbildmodus umschalten",Symbols:"Symbole","System Font":"Betriebssystemschriftart",Table:"Tabelle","Table caption":"Tabellenbeschriftung","Table properties":"Tabelleneigenschaften","Table styles":"Tabellenstil",Template:"Vorlage",Templates:"Vorlagen",Text:"Text","Text color":"Textfarbe","Text color {0}":"","Text to display":"Anzuzeigender Text","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"Diese URL scheint eine E-Mail-Adresse zu sein. Mchten Sie das dazu bentigte mailto: voranstellen?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"Diese URL scheint ein externer Link zu sein. Mchten Sie das dazu bentigte http:// voranstellen?","The URL you entered seems to be an external link. Do you want to add the required https:// prefix?":"Die eingegebene URL scheint ein externer Link zu sein. Soll das fehlende https:// davor ergnzt werden?",Title:"Titel","To open the popup, press Shift+Enter":"Drcken Sie Umschalt+Eingabe, um das Popup-Fenster zu ffnen.","Toggle accordion":"",Tools:"Werkzeuge",Top:"Oben","Travel and Places":"Reisen und Orte",Turquoise:"Trkis",Underline:"Unterstrichen",Undo:"Rckgngig machen",Upload:"Hochladen","Uploading image":"Bild wird hochgeladen","Upper Alpha":"Lateinisches Alphabet in Grobuchstaben","Upper Roman":"Groer rmischer Buchstabe",Url:"URL","User Defined":"Benutzerdefiniert",Valid:"Gltig",Version:"Version","Vertical align":"Vertikal ausrichten","Vertical space":"Vertikaler Raum",View:"Ansicht","Visual aids":"Visuelle Hilfen",Warn:"Warnung",White:"Wei",Width:"Breite","Word count":"Anzahl der Wrter",Words:"Wrter","Words: {0}":"Wortzahl: {0}",Yellow:"Gelb",Yes:"Ja","You are using {0}":"Sie verwenden {0}","You have unsaved changes are you sure you want to navigate away?":"Die nderungen wurden noch nicht gespeichert. Sind Sie sicher, dass Sie diese Seite verlassen wollen?","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"Ihr Browser untersttzt leider keinen direkten Zugriff auf die Zwischenablage. Bitte benutzen Sie die Tastenkombinationen Strg+X/C/V.",alignment:"Ausrichtung","austral sign":"Australzeichen","cedi sign":"Cedizeichen","colon sign":"Doppelpunkt","cruzeiro sign":"Cruzeirozeichen","currency sign":"Whrungssymbol","dollar sign":"Dollarzeichen","dong sign":"Dongzeichen","drachma sign":"Drachmezeichen","euro-currency sign":"Eurozeichen",example:"Beispiel",formatting:"Formatierung","french franc sign":"Franczeichen","german penny symbol":"Pfennigzeichen","guarani sign":"Guaranizeichen",history:"Historie","hryvnia sign":"Hrywnjazeichen",indentation:"Einrckungen","indian rupee sign":"Indisches Rupiezeichen","kip sign":"Kipzeichen","lira sign":"Lirezeichen","livre tournois sign":"Livrezeichen","manat sign":"Manatzeichen","mill sign":"Millzeichen","naira sign":"Nairazeichen","new sheqel sign":"Schekelzeichen","nordic mark sign":"Zeichen nordische Mark","peseta sign":"Pesetazeichen","peso sign":"Pesozeichen","ruble sign":"Rubelzeichen","rupee sign":"Rupiezeichen","spesmilo sign":"Spesmilozeichen",styles:"Stile","tenge sign":"Tengezeichen","tugrik sign":"Tugrikzeichen","turkish lira sign":"Trkisches Lirazeichen","won sign":"Wonzeichen","yen character":"Yenzeichen","yen/yuan character variant one":"Yen-/Yuanzeichen Variante 1","yuan character":"Yuanzeichen","yuan character, in hong kong and taiwan":"Yuanzeichen in Hongkong und Taiwan","{0} characters":"{0}Zeichen","{0} columns, {1} rows":"","{0} words":"{0} Wrter"});(function(){var r=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(R,Z,ee)=>{var ke;return ee(R,Z.prototype)?!0:((ke=R.constructor)===null||ke===void 0?void 0:ke.name)===Z.name},f=R=>{const Z=typeof R;return R===null?"null":Z==="object"&&Array.isArray(R)?"array":Z==="object"&&l(R,String,(ee,ke)=>ke.isPrototypeOf(ee))?"string":Z},m=R=>Z=>f(Z)===R,x=R=>Z=>typeof Z===R,v=m("string"),w=m("object"),E=m("array"),F=x("boolean"),P=R=>R==null,I=R=>!P(R),z=x("function"),j=x("number"),U=()=>{},J=(R,Z)=>ee=>R(Z(ee)),ne=R=>()=>R,ye=(R,Z)=>R===Z;function pe(R,...Z){return(...ee)=>{const ke=Z.concat(ee);return R.apply(null,ke)}}const We=R=>Z=>!R(Z),Fe=ne(!1);class ae{constructor(Z,ee){this.tag=Z,this.value=ee}static some(Z){return new ae(!0,Z)}static none(){return ae.singletonNone}fold(Z,ee){return this.tag?ee(this.value):Z()}isSome(){return this.tag}isNone(){return!this.tag}map(Z){return this.tag?ae.some(Z(this.value)):ae.none()}bind(Z){return this.tag?Z(this.value):ae.none()}exists(Z){return this.tag&&Z(this.value)}forall(Z){return!this.tag||Z(this.value)}filter(Z){return!this.tag||Z(this.value)?this:ae.none()}getOr(Z){return this.tag?this.value:Z}or(Z){return this.tag?this:Z}getOrThunk(Z){return this.tag?this.value:Z()}orThunk(Z){return this.tag?this:Z()}getOrDie(Z){if(this.tag)return this.value;throw new Error(Z??"Called getOrDie on None")}static from(Z){return I(Z)?ae.some(Z):ae.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Z){this.tag&&Z(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ae.singletonNone=new ae(!1);const Ie=Array.prototype.slice,oe=Array.prototype.indexOf,Je=Array.prototype.push,He=(R,Z)=>oe.call(R,Z),Ye=(R,Z)=>He(R,Z)>-1,gt=(R,Z)=>{for(let ee=0,ke=R.length;ee<ke;ee++){const Le=R[ee];if(Z(Le,ee))return!0}return!1},Se=(R,Z)=>{const ee=R.length,ke=new Array(ee);for(let Le=0;Le<ee;Le++){const At=R[Le];ke[Le]=Z(At,Le)}return ke},Ne=(R,Z)=>{for(let ee=0,ke=R.length;ee<ke;ee++){const Le=R[ee];Z(Le,ee)}},D=(R,Z)=>{const ee=[];for(let ke=0,Le=R.length;ke<Le;ke++){const At=R[ke];Z(At,ke)&&ee.push(At)}return ee},Nt=(R,Z)=>{if(R.length===0)return[];{let ee=Z(R[0]);const ke=[];let Le=[];for(let At=0,Pn=R.length;At<Pn;At++){const io=R[At],Xn=Z(io);Xn!==ee&&(ke.push(Le),Le=[]),ee=Xn,Le.push(io)}return Le.length!==0&&ke.push(Le),ke}},sn=(R,Z,ee)=>(Ne(R,(ke,Le)=>{ee=Z(ee,ke,Le)}),ee),vn=(R,Z,ee)=>{for(let ke=0,Le=R.length;ke<Le;ke++){const At=R[ke];if(Z(At,ke))return ae.some(At);if(ee(At,ke))break}return ae.none()},Tn=(R,Z)=>vn(R,Z,Fe),rt=R=>{const Z=[];for(let ee=0,ke=R.length;ee<ke;++ee){if(!E(R[ee]))throw new Error("Arr.flatten item "+ee+" was not an array, input: "+R);Je.apply(Z,R[ee])}return Z},Un=(R,Z)=>rt(Se(R,Z)),Hr=R=>{const Z=Ie.call(R,0);return Z.reverse(),Z},xt=(R,Z)=>Z>=0&&Z<R.length?ae.some(R[Z]):ae.none(),yt=R=>xt(R,0),qt=R=>xt(R,R.length-1),$r=(R,Z)=>{const ee=[],ke=z(Z)?Le=>gt(ee,At=>Z(At,Le)):Le=>Ye(ee,Le);for(let Le=0,At=R.length;Le<At;Le++){const Pn=R[Le];ke(Pn)||ee.push(Pn)}return ee},xo=(R,Z,ee=ye)=>R.exists(ke=>ee(ke,Z)),Sn=(R,Z,ee=ye)=>Mn(R,Z,ee).getOr(R.isNone()&&Z.isNone()),Mn=(R,Z,ee)=>R.isSome()&&Z.isSome()?ae.some(ee(R.getOrDie(),Z.getOrDie())):ae.none(),X=8,nr=11,pr=1,jo=3,Qi=(R,Z)=>{const ke=(Z||document).createElement("div");if(ke.innerHTML=R,!ke.hasChildNodes()||ke.childNodes.length>1){const Le="HTML does not have a single root node";throw console.error(Le,R),new Error(Le)}return De(ke.childNodes[0])},Ue=(R,Z)=>{const ke=(Z||document).createElement(R);return De(ke)},ve=(R,Z)=>{const ke=(Z||document).createTextNode(R);return De(ke)},De=R=>{if(R==null)throw new Error("Node cannot be null or undefined");return{dom:R}},_e={fromHtml:Qi,fromTag:Ue,fromText:ve,fromDom:De,fromPoint:(R,Z,ee)=>ae.from(R.dom.elementFromPoint(Z,ee)).map(De)},It=(R,Z)=>{const ee=R.dom;if(ee.nodeType!==pr)return!1;{const ke=ee;if(ke.matches!==void 0)return ke.matches(Z);if(ke.msMatchesSelector!==void 0)return ke.msMatchesSelector(Z);if(ke.webkitMatchesSelector!==void 0)return ke.webkitMatchesSelector(Z);if(ke.mozMatchesSelector!==void 0)return ke.mozMatchesSelector(Z);throw new Error("Browser lacks native selectors")}},en=(R,Z)=>R.dom===Z.dom,_t=(R,Z)=>{const ee=R.dom,ke=Z.dom;return ee===ke?!1:ee.contains(ke)},Yt=It,je=typeof window<"u"?window:Function("return this;")(),et=(R,Z)=>{let ee=Z??je;for(let ke=0;ke<R.length&&ee!==void 0&&ee!==null;++ke)ee=ee[R[ke]];return ee},Bt=(R,Z)=>{const ee=R.split(".");return et(ee,Z)},Mt=(R,Z)=>Bt(R,Z),Gt=(R,Z)=>{const ee=Mt(R,Z);if(ee==null)throw new Error(R+" not available on this browser");return ee},xn=Object.getPrototypeOf,eo=R=>Gt("HTMLElement",R),fo=R=>{const Z=Bt("ownerDocument.defaultView",R);return w(R)&&(eo(Z).prototype.isPrototypeOf(R)||/^HTML\w*Element$/.test(xn(R).constructor.name))},po=R=>R.dom.nodeName.toLowerCase(),Ko=R=>R.dom.nodeType,yo=R=>Z=>Ko(Z)===R,Ar=R=>Ko(R)===X||po(R)==="#comment",jt=R=>ao(R)&&fo(R.dom),ao=yo(pr),so=yo(jo),Nr=yo(nr),Ms=R=>Z=>ao(Z)&&po(Z)===R,Ht=R=>ae.from(R.dom.parentNode).map(_e.fromDom),Ks=R=>ae.from(R.dom.parentElement).map(_e.fromDom),$o=R=>ae.from(R.dom.nextSibling).map(_e.fromDom),vl=R=>Se(R.dom.childNodes,_e.fromDom),yr=(R,Z)=>{const ee=R.dom.childNodes;return ae.from(ee[Z]).map(_e.fromDom)},Ps=R=>yr(R,0),Vf=R=>yr(R,R.dom.childNodes.length-1),tu=R=>Nr(R)&&I(R.dom.host),ql=R=>_e.fromDom(R.dom.getRootNode()),Wa=R=>{const Z=ql(R);return tu(Z)?ae.some(Z):ae.none()},nu=R=>_e.fromDom(R.dom.host),ar=R=>{const Z=so(R)?R.dom.parentNode:R.dom;if(Z==null||Z.ownerDocument===null)return!1;const ee=Z.ownerDocument;return Wa(_e.fromDom(Z)).fold(()=>ee.body.contains(Z),J(ar,nu))};var Yn=(R,Z,ee,ke,Le)=>R(ee,ke)?ae.some(ee):z(Le)&&Le(ee)?ae.none():Z(ee,ke,Le);const xl=(R,Z,ee)=>{let ke=R.dom;const Le=z(ee)?ee:Fe;for(;ke.parentNode;){ke=ke.parentNode;const At=_e.fromDom(ke);if(Z(At))return ae.some(At);if(Le(At))break}return ae.none()},ci=(R,Z,ee)=>Yn((Le,At)=>At(Le),xl,R,Z,ee),ou=(R,Z,ee)=>xl(R,ke=>It(ke,Z),ee),nn=(R,Z,ee)=>Yn((Le,At)=>It(Le,At),ou,R,Z,ee),ru=R=>nn(R,"[contenteditable]"),$f=(R,Z=!1)=>ar(R)?R.dom.isContentEditable:ru(R).fold(ne(Z),ee=>Xr(ee)==="true"),Xr=R=>R.dom.contentEditable,Uf=(R,Z)=>{Ht(R).each(ke=>{ke.dom.insertBefore(Z.dom,R.dom)})},Aa=(R,Z)=>{$o(R).fold(()=>{Ht(R).each(Le=>{ja(Le,Z)})},ke=>{Uf(ke,Z)})},al=(R,Z)=>{Ps(R).fold(()=>{ja(R,Z)},ke=>{R.dom.insertBefore(Z.dom,ke.dom)})},ja=(R,Z)=>{R.dom.appendChild(Z.dom)},Ur=(R,Z)=>{Ne(Z,ee=>{Uf(R,ee)})},ea=(R,Z)=>{Ne(Z,ee=>{ja(R,ee)})},ll=R=>{R.dom.textContent="",Ne(vl(R),Z=>{Zf(Z)})},Zf=R=>{const Z=R.dom;Z.parentNode!==null&&Z.parentNode.removeChild(Z)};var yc=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),wc=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Nd=tinymce.util.Tools.resolve("tinymce.util.VK");const Uu=R=>Se(R,_e.fromDom),Uo=Object.keys,bs=(R,Z)=>{const ee=Uo(R);for(let ke=0,Le=ee.length;ke<Le;ke++){const At=ee[ke],Pn=R[At];Z(Pn,At)}},$s=R=>(Z,ee)=>{R[ee]=Z},Wf=(R,Z,ee,ke)=>{bs(R,(Le,At)=>{(Z(Le,At)?ee:ke)(Le,At)})},Ea=(R,Z)=>{const ee={};return Wf(R,Z,$s(ee),U),ee},Cc=(R,Z,ee)=>{if(v(ee)||F(ee)||j(ee))R.setAttribute(Z,ee+"");else throw console.error("Invalid call to Attribute.set. Key ",Z,":: Value ",ee,":: Element ",R),new Error("Attribute value was not simple")},ta=(R,Z)=>{const ee=R.dom;bs(Z,(ke,Le)=>{Cc(ee,Le,ke)})},na=R=>sn(R.dom.attributes,(Z,ee)=>(Z[ee.name]=ee.value,Z),{}),_c=(R,Z)=>_e.fromDom(R.dom.cloneNode(Z)),dr=R=>_c(R,!0),Zr=(R,Z)=>{const ee=_e.fromTag(Z),ke=na(R);return ta(ee,ke),ee},xe=(R,Z)=>{const ee=Zr(R,Z);Aa(R,ee);const ke=vl(R);return ea(ee,ke),Zf(R),ee};var Ke=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ee=tinymce.util.Tools.resolve("tinymce.util.Tools");const at=R=>Z=>I(Z)&&Z.nodeName.toLowerCase()===R,ot=R=>Z=>I(Z)&&R.test(Z.nodeName),$e=R=>I(R)&&R.nodeType===3,Ft=R=>I(R)&&R.nodeType===1,Jt=ot(/^(OL|UL|DL)$/),an=ot(/^(OL|UL)$/),fn=at("ol"),on=ot(/^(LI|DT|DD)$/),ro=ot(/^(DT|DD)$/),tn=ot(/^(TH|TD)$/),rr=at("br"),_o=R=>{var Z;return((Z=R.parentNode)===null||Z===void 0?void 0:Z.firstChild)===R},No=(R,Z)=>I(Z)&&Z.nodeName in R.schema.getTextBlockElements(),cs=(R,Z)=>I(R)&&R.nodeName in Z,mo=(R,Z)=>I(Z)&&Z.nodeName in R.schema.getVoidElements(),cl=(R,Z)=>rr(Z)?R.isBlock(Z.nextSibling)&&!rr(Z.previousSibling):!1,Bi=(R,Z,ee)=>{const ke=R.isEmpty(Z);return ee&&R.select("span[data-mce-type=bookmark]",Z).length>0?!1:ke},Jn=(R,Z)=>R.isChildOf(Z,R.getRoot()),Ta=R=>Z=>Z.options.get(R),Ka=R=>{const Z=R.options.register;Z("lists_indent_on_tab",{processor:"boolean",default:!0})},os=Ta("lists_indent_on_tab"),Zu=Ta("forced_root_block"),_s=Ta("forced_root_block_attrs"),Id=(R,Z,ee={})=>{const ke=R.dom,Le=R.schema.getBlockElements(),At=ke.createFragment(),Pn=Zu(R),io=_s(R);let Xn,wn,Xo=!1;for(wn=ke.create(Pn,{...io,...ee.style?{style:ee.style}:{}}),cs(Z.firstChild,Le)||At.appendChild(wn);Xn=Z.firstChild;){const Es=Xn.nodeName;!Xo&&(Es!=="SPAN"||Xn.getAttribute("data-mce-type")!=="bookmark")&&(Xo=!0),cs(Xn,Le)?(At.appendChild(Xn),wn=null):(wn||(wn=ke.create(Pn,io),At.appendChild(wn)),wn.appendChild(Xn))}return!Xo&&wn&&wn.appendChild(ke.create("br",{"data-mce-bogus":"1"})),At},ul=Ke.DOM,er=(R,Z,ee)=>{const ke=wn=>{const Xo=wn.parentNode;Xo&&Ee.each(Le,Es=>{Xo.insertBefore(Es,ee.parentNode)}),ul.remove(wn)},Le=ul.select('span[data-mce-type="bookmark"]',Z),At=Id(R,ee),Pn=ul.createRng();Pn.setStartAfter(ee),Pn.setEndAfter(Z);const io=Pn.extractContents();for(let wn=io.firstChild;wn;wn=wn.firstChild)if(wn.nodeName==="LI"&&R.dom.isEmpty(wn)){ul.remove(wn);break}R.dom.isEmpty(io)||ul.insertAfter(io,Z),ul.insertAfter(At,Z);const Xn=ee.parentElement;Xn&&Bi(R.dom,Xn)&&ke(Xn),ul.remove(ee),Bi(R.dom,Z)&&ul.remove(Z)},su=Ms("dd"),jf=Ms("dt"),ih=(R,Z)=>{su(Z)?xe(Z,"dt"):jf(Z)&&Ks(Z).each(ee=>er(R,ee.dom,Z.dom))},us=R=>{jf(R)&&xe(R,"dd")},Gl=(R,Z,ee)=>{Z==="Indent"?Ne(ee,us):Ne(ee,ke=>ih(R,ke))},qa=(R,Z)=>{if($e(R))return{container:R,offset:Z};const ee=yc.getNode(R,Z);return $e(ee)?{container:ee,offset:Z>=R.childNodes.length?ee.data.length:0}:ee.previousSibling&&$e(ee.previousSibling)?{container:ee.previousSibling,offset:ee.previousSibling.data.length}:ee.nextSibling&&$e(ee.nextSibling)?{container:ee.nextSibling,offset:0}:{container:R,offset:Z}},Ir=R=>{const Z=R.cloneRange(),ee=qa(R.startContainer,R.startOffset);Z.setStart(ee.container,ee.offset);const ke=qa(R.endContainer,R.endOffset);return Z.setEnd(ke.container,ke.offset),Z},Kf=["OL","UL","DL"],dl=Kf.join(","),Mi=(R,Z)=>{const ee=Z||R.selection.getStart(!0);return R.dom.getParent(ee,dl,Wu(R,ee))},tg=(R,Z)=>I(R)&&Z.length===1&&Z[0]===R,ui=R=>D(R.querySelectorAll(dl),Jt),Oa=R=>{const Z=Mi(R),ee=R.selection.getSelectedBlocks();return tg(Z,ee)?ui(Z):D(ee,ke=>Jt(ke)&&Z!==ke)},Pi=(R,Z)=>{const ee=Ee.map(Z,ke=>{const Le=R.dom.getParent(ke,"li,dd,dt",Wu(R,ke));return Le||ke});return $r(ee)},fl=R=>{const Z=R.selection.getSelectedBlocks();return D(Pi(R,Z),on)},ah=R=>D(fl(R),ro),So=(R,Z)=>{const ee=R.dom.getParents(Z,"TD,TH");return ee.length>0?ee[0]:R.getBody()},Sc=(R,Z)=>!Jt(Z)&&!on(Z)&&gt(Kf,ee=>R.isValidChild(Z.nodeName,ee)),Wu=(R,Z)=>{const ee=R.dom.getParents(Z,R.dom.isBlock),ke=At=>At.nodeName.toLowerCase()!==Zu(R);return Tn(ee,At=>ke(At)&&Sc(R.schema,At)).getOr(R.getBody())},iu=R=>Ht(R).exists(Z=>on(Z.dom)&&Ps(Z).exists(ee=>!Jt(ee.dom))&&Vf(Z).exists(ee=>!Jt(ee.dom))),Dp=(R,Z)=>{const ee=R.dom.getParents(Z,"ol,ul",Wu(R,Z));return qt(ee)},J0=R=>{const Z=Dp(R,R.selection.getStart()),ee=D(R.selection.getSelectedBlocks(),an);return Z.toArray().concat(ee)},N1=R=>{const Z=R.selection.getStart();return R.dom.getParents(Z,"ol,ul",Wu(R,Z))},I1=R=>{const Z=J0(R),ee=N1(R);return Tn(ee,ke=>iu(_e.fromDom(ke))).fold(()=>yw(R,Z),ke=>[ke])},yw=(R,Z)=>{const ee=Se(Z,ke=>Dp(R,ke).getOr(ke));return $r(ee)},lh=R=>/\btox\-/.test(R.className),B1=(R,Z)=>vn(R,Jt,tn).exists(ee=>ee.nodeName===Z&&!lh(ee)),Wt=(R,Z)=>Z!==null&&!R.dom.isEditable(Z),Bd=R=>{const Z=Mi(R);return Wt(R,Z)},Md=(R,Z)=>{const ee=R.dom.getParent(Z,"ol,ul,dl");return Wt(R,ee)},M1=(R,Z)=>{const ee=R.selection.getNode();return Z({parents:R.dom.getParents(ee),element:ee}),R.on("NodeChange",Z),()=>R.off("NodeChange",Z)},Li=(R,Z)=>{const ke=document.createDocumentFragment();return Ne(R,Le=>{ke.appendChild(Le.dom)}),_e.fromDom(ke)},Pd=(R,Z,ee)=>R.dispatch("ListMutation",{action:Z,element:ee}),Q0=(R=>Z=>Z.replace(R,""))(/^\s+|\s+$/g),ex=R=>R.length>0,Rp=R=>!ex(R),tx=R=>R.style!==void 0&&z(R.style.getPropertyValue),P1=(R,Z,ee)=>{if(!v(ee))throw console.error("Invalid call to CSS.set. Property ",Z,":: Value ",ee,":: Element ",R),new Error("CSS value must be a string: "+ee);tx(R)&&R.style.setProperty(Z,ee)},nx=(R,Z,ee)=>{const ke=R.dom;P1(ke,Z,ee)},og=R=>Yt(R,"OL,UL"),L1=R=>Yt(R,"LI"),Ld=R=>Ps(R).exists(og),Fd=R=>Vf(R).exists(og),Fi=R=>"listAttributes"in R,Ga=R=>"isComment"in R,rg=R=>"isFragment"in R,Mo=R=>R.depth>0,ju=R=>R.isSelected,sg=R=>{const Z=vl(R),ee=Fd(R)?Z.slice(0,-1):Z;return Se(ee,dr)},ig=(R,Z,ee)=>Ht(R).filter(ao).map(ke=>({depth:Z,dirty:!1,isSelected:ee,content:sg(R),itemAttributes:na(R),listAttributes:na(ke),listType:po(ke),isInPreviousLi:!1})),fa=(R,Z)=>{ja(R.item,Z.list)},Ss=R=>{for(let Z=1;Z<R.length;Z++)fa(R[Z-1],R[Z])},Wr=(R,Z)=>{Mn(qt(R),yt(Z),fa)},yi=(R,Z)=>{const ee={list:_e.fromTag(Z,R),item:_e.fromTag("li",R)};return ja(ee.list,ee.item),ee},Br=(R,Z,ee)=>{const ke=[];for(let Le=0;Le<ee;Le++)ke.push(yi(R,Fi(Z)?Z.listType:Z.parentListType));return ke},zd=(R,Z)=>{for(let ee=0;ee<R.length-1;ee++)nx(R[ee].item,"list-style-type","none");qt(R).each(ee=>{Fi(Z)&&(ta(ee.list,Z.listAttributes),ta(ee.item,Z.itemAttributes)),ea(ee.item,Z.content)})},qf=(R,Z)=>{po(R.list)!==Z.listType&&(R.list=xe(R.list,Z.listType)),ta(R.list,Z.listAttributes)},ei=(R,Z,ee)=>{const ke=_e.fromTag("li",R);return ta(ke,Z),ea(ke,ee),ke},ma=(R,Z)=>{ja(R.list,Z),R.item=Z},oa=(R,Z,ee)=>{const ke=Z.slice(0,ee.depth);return qt(ke).each(Le=>{if(Fi(ee)){const At=ei(R,ee.itemAttributes,ee.content);ma(Le,At),qf(Le,ee)}else if(rg(ee))ea(Le.item,ee.content);else{const At=_e.fromHtml(`<!--${ee.content}-->`);ja(Le.list,At)}}),ke},kc=(R,Z,ee)=>{const ke=Br(R,ee,ee.depth-Z.length);return Ss(ke),zd(ke,ee),Wr(Z,ke),Z.concat(ke)},Ku=(R,Z)=>{let ee=ae.none();const ke=sn(Z,(Le,At,Pn)=>Ga(At)?Pn===0?(ee=ae.some(At),Le):oa(R,Le,At):At.depth>Le.length?kc(R,Le,At):oa(R,Le,At),[]);return ee.each(Le=>{const At=_e.fromHtml(`<!--${Le.content}-->`);yt(ke).each(Pn=>{al(Pn.list,At)})}),yt(ke).map(Le=>Le.list)},bo=(R,Z)=>{switch(R){case"Indent":Z.depth++;break;case"Outdent":Z.depth--;break;case"Flatten":Z.depth=0}Z.dirty=!0},Us=(R,Z)=>{Fi(R)&&Fi(Z)&&(R.listType=Z.listType,R.listAttributes={...Z.listAttributes})},Ya=R=>{R.listAttributes=Ea(R.listAttributes,(Z,ee)=>ee!=="start")},qu=(R,Z)=>{const ee=R[Z].depth,ke=At=>At.depth===ee&&!At.dirty,Le=At=>At.depth<ee;return vn(Hr(R.slice(0,Z)),ke,Le).orThunk(()=>vn(R.slice(Z+1),ke,Le))},wi=R=>(Ne(R,(Z,ee)=>{qu(R,ee).fold(()=>{Z.dirty&&Fi(Z)&&Ya(Z)},ke=>Us(Z,ke))}),R),En=R=>{let Z=R;return{get:()=>Z,set:Le=>{Z=Le}}},Yl=(R,Z,ee,ke)=>{var Le;if(Ar(ke))return[{depth:R+1,content:(Le=ke.dom.nodeValue)!==null&&Le!==void 0?Le:"",dirty:!1,isSelected:!1,isComment:!0}];Z.each(io=>{en(io.start,ke)&&ee.set(!0)});const At=ig(ke,R,ee.get());Z.each(io=>{en(io.end,ke)&&ee.set(!1)});const Pn=Vf(ke).filter(og).map(io=>sr(R,Z,ee,io)).getOr([]);return At.toArray().concat(Pn)},Xl=(R,Z,ee,ke)=>Ps(ke).filter(og).fold(()=>Yl(R,Z,ee,ke),Le=>{const At=sn(vl(ke),(Pn,io,Xn)=>{if(Xn===0)return Pn;if(L1(io))return Pn.concat(Yl(R,Z,ee,io));{const wn={isFragment:!0,depth:R,content:[io],isSelected:!1,dirty:!1,parentListType:po(Le)};return Pn.concat(wn)}},[]);return sr(R,Z,ee,Le).concat(At)}),sr=(R,Z,ee,ke)=>Un(vl(ke),Le=>{const At=og(Le)?sr:Xl,Pn=R+1;return At(Pn,Z,ee,Le)}),ch=(R,Z)=>{const ee=En(!1),ke=0;return Se(R,Le=>({sourceList:Le,entries:sr(ke,Z,ee,Le)}))},Np=(R,Z)=>{const ee=wi(Z);return Se(ee,ke=>{const Le=Ga(ke)?Li([_e.fromHtml(`<!--${ke.content}-->`)]):Li(ke.content),At=Fi(ke)?ke.itemAttributes:{};return _e.fromDom(Id(R,Le.dom,At))})},Gu=(R,Z)=>{const ee=wi(Z);return Ku(R.contentDocument,ee).toArray()},ko=(R,Z)=>Un(Nt(Z,Mo),ee=>yt(ee).exists(Mo)?Gu(R,ee):Np(R,ee)),ga=(R,Z)=>{Ne(D(R,ju),ee=>bo(Z,ee))},uh=R=>{const Z=Se(fl(R),_e.fromDom);return Mn(Tn(Z,We(Ld)),Tn(Hr(Z),We(Ld)),(ee,ke)=>({start:ee,end:ke}))},Yu=(R,Z,ee)=>{const ke=ch(Z,uh(R));Ne(ke,Le=>{ga(Le.entries,ee);const At=ko(R,Le.entries);Ne(At,Pn=>{Pd(R,ee==="Indent"?"IndentList":"OutdentList",Pn.dom)}),Ur(Le.sourceList,At),Zf(Le.sourceList)})},Ip=(R,Z)=>{const ee=Uu(I1(R)),ke=Uu(ah(R));let Le=!1;if(ee.length||ke.length){const At=R.selection.getBookmark();Yu(R,ee,Z),Gl(R,Z,ke),R.selection.moveToBookmark(At),R.selection.setRng(Ir(R.selection.getRng())),R.nodeChanged(),Le=!0}return Le},Ac=(R,Z)=>!Bd(R)&&Ip(R,Z),Da=R=>Ac(R,"Indent"),Ec=R=>Ac(R,"Outdent"),Hd=R=>Ac(R,"Flatten"),Oe="\uFEFF",Gf=R=>R===Oe,fr=(R,Z,ee)=>xl(R,Z,ee).isSome(),Bp=(R,Z)=>fr(R,pe(en,Z));var ag=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Tc=Ke.DOM,Po=R=>{const Z={},ee=ke=>{let Le=R[ke?"startContainer":"endContainer"],At=R[ke?"startOffset":"endOffset"];if(Ft(Le)){const Pn=Tc.create("span",{"data-mce-type":"bookmark"});Le.hasChildNodes()?(At=Math.min(At,Le.childNodes.length-1),ke?Le.insertBefore(Pn,Le.childNodes[At]):Tc.insertAfter(Pn,Le.childNodes[At])):Le.appendChild(Pn),Le=Pn,At=0}Z[ke?"startContainer":"endContainer"]=Le,Z[ke?"startOffset":"endOffset"]=At};return ee(!0),R.collapsed||ee(),Z},zi=R=>{const Z=ke=>{const Le=io=>{var Xn;let wn=(Xn=io.parentNode)===null||Xn===void 0?void 0:Xn.firstChild,Xo=0;for(;wn;){if(wn===io)return Xo;(!Ft(wn)||wn.getAttribute("data-mce-type")!=="bookmark")&&Xo++,wn=wn.nextSibling}return-1};let At=R[ke?"startContainer":"endContainer"],Pn=R[ke?"startOffset":"endOffset"];if(At){if(Ft(At)&&At.parentNode){const io=At;Pn=Le(At),At=At.parentNode,Tc.remove(io),!At.hasChildNodes()&&Tc.isBlock(At)&&At.appendChild(Tc.create("br"))}R[ke?"startContainer":"endContainer"]=At,R[ke?"startOffset":"endOffset"]=Pn}};Z(!0),Z();const ee=Tc.createRng();return ee.setStart(R.startContainer,R.startOffset),R.endContainer&&ee.setEnd(R.endContainer,R.endOffset),Ir(ee)},au=R=>{switch(R){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Ol=(R,Z,ee)=>{const ke=ee["list-style-type"]?ee["list-style-type"]:null;R.setStyle(Z,"list-style-type",ke)},lu=(R,Z)=>{Ee.each(Z,(ee,ke)=>{R.setAttribute(ke,ee)})},cu=(R,Z,ee)=>{lu(Z,ee["list-attributes"]),Ee.each(R.select("li",Z),ke=>{lu(ke,ee["list-item-attributes"])})},Hi=(R,Z,ee)=>{Ol(R,Z,ee),cu(R,Z,ee)},Vd=(R,Z,ee)=>{Ee.each(ee,ke=>R.setStyle(Z,ke,""))},Yf=(R,Z)=>I(Z)&&!cs(Z,R.schema.getBlockElements()),Mp=(R,Z,ee,ke)=>{let Le=Z[ee?"startContainer":"endContainer"];const At=Z[ee?"startOffset":"endOffset"];Ft(Le)&&(Le=Le.childNodes[Math.min(At,Le.childNodes.length-1)]||Le),!ee&&rr(Le.nextSibling)&&(Le=Le.nextSibling);const Pn=Xn=>{for(;!R.dom.isBlock(Xn)&&Xn.parentNode&&ke!==Xn;)Xn=Xn.parentNode;return Xn},io=(Xn,wn)=>{var Xo;const Es=new wc(Xn,Pn(Xn)),is=wn?"next":"prev";let ec;for(;ec=Es[is]();)if(!(mo(R,ec)||Gf(ec.textContent)||((Xo=ec.textContent)===null||Xo===void 0?void 0:Xo.length)===0))return ae.some(ec);return ae.none()};if(ee&&$e(Le))if(Gf(Le.textContent))Le=io(Le,!1).getOr(Le);else for(Le.parentNode!==null&&Yf(R,Le.parentNode)&&(Le=Le.parentNode);Le.previousSibling!==null&&(Yf(R,Le.previousSibling)||$e(Le.previousSibling));)Le=Le.previousSibling;if(!ee&&$e(Le))if(Gf(Le.textContent))Le=io(Le,!0).getOr(Le);else for(Le.parentNode!==null&&Yf(R,Le.parentNode)&&(Le=Le.parentNode);Le.nextSibling!==null&&(Yf(R,Le.nextSibling)||$e(Le.nextSibling));)Le=Le.nextSibling;for(;Le.parentNode!==ke;){const Xn=Le.parentNode;if(No(R,Le)||/^(TD|TH)$/.test(Xn.nodeName))return Le;Le=Xn}return Le},ti=(R,Z,ee)=>{const ke=[],Le=R.dom,At=Mp(R,Z,!0,ee),Pn=Mp(R,Z,!1,ee);let io;const Xn=[];for(let wn=At;wn&&(Xn.push(wn),wn!==Pn);wn=wn.nextSibling);return Ee.each(Xn,wn=>{var Xo;if(No(R,wn)){ke.push(wn),io=null;return}if(Le.isBlock(wn)||rr(wn)){rr(wn)&&Le.remove(wn),io=null;return}const Es=wn.nextSibling;if(ag.isBookmarkNode(wn)&&(Jt(Es)||No(R,Es)||!Es&&wn.parentNode===ee)){io=null;return}io||(io=Le.create("p"),(Xo=wn.parentNode)===null||Xo===void 0||Xo.insertBefore(io,wn),ke.push(io)),io.appendChild(wn)}),ke},In=(R,Z,ee)=>{const ke=R.getStyle(Z,"list-style-type");let Le=ee?ee["list-style-type"]:"";return Le=Le===null?"":Le,ke===Le},uu=(R,Z)=>{const ee=R.selection.getStart(!0),ke=Mp(R,Z,!0,R.getBody());return Bp(_e.fromDom(ke),_e.fromDom(Z.commonAncestorContainer))?Z.commonAncestorContainer:ee},Xf=(R,Z,ee)=>{const ke=R.selection.getRng();let Le="LI";const At=Wu(R,uu(R,ke)),Pn=R.dom;if(Pn.getContentEditable(R.selection.getNode())==="false")return;Z=Z.toUpperCase(),Z==="DL"&&(Le="DT");const io=Po(ke),Xn=D(ti(R,ke,At),R.dom.isEditable);Ee.each(Xn,wn=>{let Xo;const Es=wn.previousSibling,is=wn.parentNode;on(is)||(Es&&Jt(Es)&&Es.nodeName===Z&&In(Pn,Es,ee)?(Xo=Es,wn=Pn.rename(wn,Le),Es.appendChild(wn)):(Xo=Pn.create(Z),is.insertBefore(Xo,wn),Xo.appendChild(wn),wn=Pn.rename(wn,Le)),Vd(Pn,wn,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Hi(Pn,Xo,ee),Xu(R.dom,Xo))}),R.selection.setRng(zi(io))},Vi=(R,Z)=>Jt(R)&&R.nodeName===(Z==null?void 0:Z.nodeName),du=(R,Z,ee)=>{const ke=R.getStyle(Z,"list-style-type",!0),Le=R.getStyle(ee,"list-style-type",!0);return ke===Le},ml=(R,Z)=>R.className===Z.className,fu=(R,Z,ee)=>Vi(Z,ee)&&du(R,Z,ee)&&ml(Z,ee),Xu=(R,Z)=>{let ee,ke=Z.nextSibling;if(fu(R,Z,ke)){const Le=ke;for(;ee=Le.firstChild;)Z.appendChild(ee);R.remove(Le)}if(ke=Z.previousSibling,fu(R,Z,ke)){const Le=ke;for(;ee=Le.lastChild;)Z.insertBefore(ee,Z.firstChild);R.remove(Le)}},ni=(R,Z,ee,ke)=>{if(Z.nodeName!==ee){const Le=R.dom.rename(Z,ee);Hi(R.dom,Le,ke),Pd(R,au(ee),Le)}else Hi(R.dom,Z,ke),Pd(R,au(ee),Z)},Dl=(R,Z,ee,ke)=>{if(Z.classList.forEach((Le,At,Pn)=>{Le.startsWith("tox-")&&(Pn.remove(Le),Pn.length===0&&Z.removeAttribute("class"))}),Z.nodeName!==ee){const Le=R.dom.rename(Z,ee);Hi(R.dom,Le,ke),Pd(R,au(ee),Le)}else Hi(R.dom,Z,ke),Pd(R,au(ee),Z)},Oc=(R,Z,ee,ke,Le)=>{const At=Jt(Z);if(At&&Z.nodeName===ke&&!Jf(Le)&&!lh(Z))Hd(R);else{Xf(R,ke,Le);const Pn=Po(R.selection.getRng()),io=At?[Z,...ee]:ee,Xn=At&&lh(Z)?Dl:ni;Ee.each(io,wn=>{Xn(R,wn,ke,Le)}),R.selection.setRng(zi(Pn))}},Jf=R=>"list-style-type"in R,F1=(R,Z,ee,ke)=>{if(Z!==R.getBody())if(Z)if(Z.nodeName===ee&&!Jf(ke)&&!lh(Z))Hd(R);else{const Le=Po(R.selection.getRng());lh(Z)&&Z.classList.forEach((Pn,io,Xn)=>{Pn.startsWith("tox-")&&(Xn.remove(Pn),Xn.length===0&&Z.removeAttribute("class"))}),Hi(R.dom,Z,ke);const At=R.dom.rename(Z,ee);Xu(R.dom,At),R.selection.setRng(zi(Le)),Xf(R,ee,ke),Pd(R,au(ee),At)}else Xf(R,ee,ke),Pd(R,au(ee),Z)},mu=(R,Z,ee)=>{const ke=Mi(R);if(Md(R,ke))return;const Le=Oa(R),At=w(ee)?ee:{};Le.length>0?Oc(R,ke,Le,Z,At):F1(R,ke,Z,At)},$d=Ke.DOM,Pp=(R,Z)=>{const ee=Z.parentElement;if(ee&&ee.nodeName==="LI"&&ee.firstChild===Z){const ke=ee.previousSibling;ke&&ke.nodeName==="LI"?(ke.appendChild(Z),Bi(R,ee)&&$d.remove(ee)):$d.setStyle(ee,"listStyleType","none")}if(Jt(ee)){const ke=ee.previousSibling;ke&&ke.nodeName==="LI"&&ke.appendChild(Z)}},rs=(R,Z)=>{const ee=Ee.grep(R.select("ol,ul",Z));Ee.each(ee,ke=>{Pp(R,ke)})},ha=(R,Z,ee,ke)=>{let Le=Z.startContainer;const At=Z.startOffset;if($e(Le)&&(ee?At<Le.data.length:At>0))return Le;const Pn=R.schema.getNonEmptyElements();Ft(Le)&&(Le=yc.getNode(Le,At));const io=new wc(Le,ke);ee&&cl(R.dom,Le)&&io.next();const Xn=ee?io.next.bind(io):io.prev2.bind(io);for(;Le=Xn();)if(Le.nodeName==="LI"&&!Le.hasChildNodes()||Pn[Le.nodeName]||$e(Le)&&Le.data.length>0)return Le;return null},ra=(R,Z)=>{const ee=Z.childNodes;return ee.length===1&&!Jt(ee[0])&&R.isBlock(ee[0])},Ra=R=>ae.from(R).map(_e.fromDom).filter(jt).exists(Z=>$f(Z)&&!Ye(["details"],po(Z))),qs=(R,Z)=>{ra(R,Z)&&Ra(Z.firstChild)&&R.remove(Z.firstChild,!0)},dh=(R,Z,ee)=>{let ke;const Le=ra(R,ee)?ee.firstChild:ee;if(qs(R,Z),!Bi(R,Z,!0))for(;ke=Z.firstChild;)Le.appendChild(ke)},Zs=(R,Z,ee)=>{let ke;const Le=Z.parentNode;if(!Jn(R,Z)||!Jn(R,ee))return;Jt(ee.lastChild)&&(ke=ee.lastChild),Le===ee.lastChild&&rr(Le.previousSibling)&&R.remove(Le.previousSibling);const At=ee.lastChild;At&&rr(At)&&Z.hasChildNodes()&&R.remove(At),Bi(R,ee,!0)&&ll(_e.fromDom(ee)),dh(R,Z,ee),ke&&ee.appendChild(ke);const io=_t(_e.fromDom(ee),_e.fromDom(Z))?R.getParents(Z,Jt,ee):[];R.remove(Z),Ne(io,Xn=>{Bi(R,Xn)&&Xn!==R.getRoot()&&R.remove(Xn)})},Ci=(R,Z,ee)=>{ll(_e.fromDom(ee)),Zs(R.dom,Z,ee),R.selection.setCursorLocation(ee,0)},Dc=(R,Z,ee,ke)=>{const Le=R.dom;if(Le.isEmpty(ke))Ci(R,ee,ke);else{const At=Po(Z);Zs(Le,ee,ke),R.selection.setRng(zi(At))}},kt=(R,Z,ee,ke)=>{const Le=Po(Z);Zs(R.dom,ee,ke);const At=zi(Le);R.selection.setRng(At)},_i=(R,Z)=>{const ee=R.dom,ke=R.selection,Le=ke.getStart(),At=So(R,Le),Pn=ee.getParent(ke.getStart(),"LI",At);if(Pn){const io=Pn.parentElement;if(io===R.getBody()&&Bi(ee,io))return!0;const Xn=Ir(ke.getRng()),wn=ee.getParent(ha(R,Xn,Z,At),"LI",At),Xo=wn&&(Z?ee.isChildOf(Pn,wn):ee.isChildOf(wn,Pn));if(wn&&wn!==Pn&&!Xo)return R.undoManager.transact(()=>{Z?Dc(R,Xn,wn,Pn):_o(Pn)?Ec(R):kt(R,Xn,Pn,wn)}),!0;if(Xo&&!Z&&wn!==Pn)return R.undoManager.transact(()=>{if(Xn.commonAncestorContainer.parentElement){const Es=Po(Xn),is=Xn.commonAncestorContainer.parentElement;dh(ee,Xn.commonAncestorContainer.parentElement,wn),is.remove();const ec=zi(Es);R.selection.setRng(ec)}}),!0;if(!wn&&!Z&&Xn.startOffset===0&&Xn.endOffset===0)return R.undoManager.transact(()=>{Hd(R)}),!0}return!1},fh=(R,Z,ee)=>{const ke=R.getParent(Z.parentNode,R.isBlock,ee);R.remove(Z),ke&&R.isEmpty(ke)&&R.remove(ke)},ss=(R,Z)=>{const ee=R.dom,ke=R.selection.getStart(),Le=So(R,ke),At=ee.getParent(ke,ee.isBlock,Le);if(At&&ee.isEmpty(At,void 0,{checkRootAsContent:!0})){const Pn=Ir(R.selection.getRng()),io=ee.getParent(ha(R,Pn,Z,Le),"LI",Le);if(io){const Xn=is=>Ye(["td","th","caption"],po(is)),wn=is=>is.dom===Le,Xo=ci(_e.fromDom(io),Xn,wn),Es=ci(_e.fromDom(Pn.startContainer),Xn,wn);return Sn(Xo,Es,en)?(R.undoManager.transact(()=>{const is=io.parentNode;fh(ee,At,Le),Xu(ee,is),R.selection.select(io,!0),R.selection.collapse(Z)}),!0):!1}}return!1},gu=(R,Z)=>_i(R,Z)||ss(R,Z),pa=R=>{const Z=R.selection.getStart(),ee=So(R,Z);return R.dom.getParent(Z,"LI,DT,DD",ee)||fl(R).length>0},Jl=R=>pa(R)?(R.undoManager.transact(()=>{R.execCommand("Delete"),rs(R.dom,R.getBody())}),!0):!1,Qf=(R,Z)=>{const ee=R.selection;return!Md(R,ee.getNode())&&(ee.isCollapsed()?gu(R,Z):Jl(R))},Na=R=>{R.on("ExecCommand",Z=>{const ee=Z.command.toLowerCase();(ee==="delete"||ee==="forwarddelete")&&pa(R)&&rs(R.dom,R.getBody())}),R.on("keydown",Z=>{Z.keyCode===Nd.BACKSPACE?Qf(R,!1)&&Z.preventDefault():Z.keyCode===Nd.DELETE&&Qf(R,!0)&&Z.preventDefault()})},Io=R=>({backspaceDelete:Z=>{Qf(R,Z)}}),ks=(R,Z)=>{const ee=Mi(R);ee===null||Md(R,ee)||R.undoManager.transact(()=>{w(Z.styles)&&R.dom.setStyles(ee,Z.styles),w(Z.attrs)&&bs(Z.attrs,(ke,Le)=>R.dom.setAttrib(ee,Le,ke))})},Ud=R=>{const Z=Hr(Q0(R).split("")),ee=Se(Z,(ke,Le)=>{const At=ke.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,Le)*At});return sn(ee,(ke,Le)=>ke+Le,0)},vs=R=>{if(R--,R<0)return"";{const Z=R%26,ee=Math.floor(R/26),ke=vs(ee),Le=String.fromCharCode(65+Z);return ke+Le}},lg=R=>/^[A-Z]+$/.test(R),Rc=R=>/^[a-z]+$/.test(R),z1=R=>/^[0-9]+$/.test(R),ds=R=>z1(R)?2:lg(R)?0:Rc(R)?1:Rp(R)?3:4,Xe=R=>{switch(ds(R)){case 2:return ae.some({listStyleType:ae.none(),start:R});case 0:return ae.some({listStyleType:ae.some("upper-alpha"),start:Ud(R).toString()});case 1:return ae.some({listStyleType:ae.some("lower-alpha"),start:Ud(R).toString()});case 3:return ae.some({listStyleType:ae.none(),start:""});case 4:return ae.none()}},ba=R=>{const Z=parseInt(R.start,10);return xo(R.listStyleType,"upper-alpha")?vs(Z):xo(R.listStyleType,"lower-alpha")?vs(Z).toLowerCase():R.start},As=R=>{const Z=Mi(R);!fn(Z)||Md(R,Z)||R.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:ba({start:R.dom.getAttrib(Z,"start","1"),listStyleType:ae.from(R.dom.getStyle(Z,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:ee=>{const ke=ee.getData();Xe(ke.start).each(Le=>{R.execCommand("mceListUpdate",!1,{attrs:{start:Le.start==="1"?"":Le.start},styles:{"list-style-type":Le.listStyleType.getOr("")}})}),ee.close()}})},yl=(R,Z)=>()=>{const ee=Mi(R);return I(ee)&&ee.nodeName===Z},Ql=R=>{R.addCommand("mceListProps",()=>{As(R)})},Ls=R=>{R.on("BeforeExecCommand",Z=>{const ee=Z.command.toLowerCase();ee==="indent"?Da(R):ee==="outdent"&&Ec(R)}),R.addCommand("InsertUnorderedList",(Z,ee)=>{mu(R,"UL",ee)}),R.addCommand("InsertOrderedList",(Z,ee)=>{mu(R,"OL",ee)}),R.addCommand("InsertDefinitionList",(Z,ee)=>{mu(R,"DL",ee)}),R.addCommand("RemoveList",()=>{Hd(R)}),Ql(R),R.addCommand("mceListUpdate",(Z,ee)=>{w(ee)&&ks(R,ee)}),R.addQueryStateHandler("InsertUnorderedList",yl(R,"UL")),R.addQueryStateHandler("InsertOrderedList",yl(R,"OL")),R.addQueryStateHandler("InsertDefinitionList",yl(R,"DL"))};var Mr=tinymce.util.Tools.resolve("tinymce.html.Node");const lr=R=>R.type===3,va=R=>R.length===0,wl=R=>{const Z=(Le,At)=>{const Pn=Mr.create("li");Ne(Le,io=>Pn.append(io)),At?R.insert(Pn,At,!0):R.append(Pn)},ee=(Le,At)=>lr(At)?[...Le,At]:!va(Le)&&!lr(At)?(Z(Le,At),[]):Le,ke=sn(R.children(),ee,[]);va(ke)||Z(ke)},Nc=R=>{R.on("PreInit",()=>{const{parser:Z}=R;Z.addNodeFilter("ul,ol",ee=>Ne(ee,wl))})},Ju=R=>{R.on("keydown",Z=>{Z.keyCode!==Nd.TAB||Nd.metaKeyPressed(Z)||R.undoManager.transact(()=>{(Z.shiftKey?Ec(R):Da(R))&&Z.preventDefault()})})},em=R=>{os(R)&&Ju(R),Na(R)},cg=(R,Z)=>ee=>{const ke=Le=>{ee.setActive(B1(Le.parents,Z)),ee.setEnabled(!Md(R,Le.element)&&R.selection.isEditable())};return ee.setEnabled(R.selection.isEditable()),M1(R,ke)},ug=R=>{const Z=ee=>()=>R.execCommand(ee);R.hasPlugin("advlist")||(R.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:Z("InsertOrderedList"),onSetup:cg(R,"OL")}),R.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:Z("InsertUnorderedList"),onSetup:cg(R,"UL")}))},Lp=(R,Z)=>ee=>M1(R,Le=>ee.setEnabled(B1(Le.parents,Z)&&!Md(R,Le.element))),Fp=R=>{const Z={text:"List properties...",icon:"ordered-list",onAction:()=>R.execCommand("mceListProps"),onSetup:Lp(R,"OL")};R.ui.registry.addMenuItem("listprops",Z),R.ui.registry.addContextMenu("lists",{update:ee=>{const ke=Mi(R,ee);return fn(ke)?["listprops"]:[]}})};var hu=()=>{r.add("lists",R=>(Ka(R),Nc(R),R.hasPlugin("rtc",!0)?Ql(R):(em(R),Ls(R)),ug(R),Fp(R),Io(R)))};hu()})();(function(){var r=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(ve,De)=>ve.dispatch("insertCustomChar",{chr:De}),f=(ve,De)=>{const tt=l(ve,De).chr;ve.execCommand("mceInsertContent",!1,tt)},m=(ve,De,tt)=>{var _e;return tt(ve,De.prototype)?!0:((_e=ve.constructor)===null||_e===void 0?void 0:_e.name)===De.name},x=ve=>{const De=typeof ve;return ve===null?"null":De==="object"&&Array.isArray(ve)?"array":De==="object"&&m(ve,String,(tt,_e)=>_e.isPrototypeOf(tt))?"string":De},v=ve=>De=>x(De)===ve,w=ve=>De=>typeof De===ve,E=ve=>De=>ve===De,F=v("array"),P=E(null),I=E(void 0),z=ve=>ve==null,j=ve=>!z(ve),U=w("function"),ne=(ve=>()=>ve)(!1);class ye{constructor(De,tt){this.tag=De,this.value=tt}static some(De){return new ye(!0,De)}static none(){return ye.singletonNone}fold(De,tt){return this.tag?tt(this.value):De()}isSome(){return this.tag}isNone(){return!this.tag}map(De){return this.tag?ye.some(De(this.value)):ye.none()}bind(De){return this.tag?De(this.value):ye.none()}exists(De){return this.tag&&De(this.value)}forall(De){return!this.tag||De(this.value)}filter(De){return!this.tag||De(this.value)?this:ye.none()}getOr(De){return this.tag?this.value:De}or(De){return this.tag?this:De}getOrThunk(De){return this.tag?this.value:De()}orThunk(De){return this.tag?this:De()}getOrDie(De){if(this.tag)return this.value;throw new Error(De??"Called getOrDie on None")}static from(De){return j(De)?ye.some(De):ye.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(De){this.tag&&De(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ye.singletonNone=new ye(!1);const pe=Array.prototype.push,We=(ve,De)=>{const tt=ve.length,_e=new Array(tt);for(let It=0;It<tt;It++){const en=ve[It];_e[It]=De(en,It)}return _e},Fe=(ve,De)=>{for(let tt=0,_e=ve.length;tt<_e;tt++){const It=ve[tt];De(It,tt)}},ae=(ve,De,tt)=>{for(let _e=0,It=ve.length;_e<It;_e++){const en=ve[_e];if(De(en,_e))return ye.some(en);if(tt(en,_e))break}return ye.none()},Ie=(ve,De)=>ae(ve,De,ne),oe=ve=>{const De=[];for(let tt=0,_e=ve.length;tt<_e;++tt){if(!F(ve[tt]))throw new Error("Arr.flatten item "+tt+" was not an array, input: "+ve);pe.apply(De,ve[tt])}return De},Je=(ve,De)=>oe(We(ve,De));var He=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ye=ve=>De=>De.options.get(ve),gt=ve=>{const De=ve.options.register,tt=_e=>U(_e)||F(_e);De("charmap",{processor:tt}),De("charmap_append",{processor:tt})},Se=Ye("charmap"),Ne=Ye("charmap_append"),D=He.isArray,Nt="User Defined",sn=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],vn=ve=>He.grep(ve,De=>D(De)&&De.length===2),Tn=ve=>D(ve)?vn(ve):typeof ve=="function"?ve():[],rt=(ve,De)=>{const tt=Se(ve);tt&&(De=[{name:Nt,characters:Tn(tt)}]);const _e=Ne(ve);if(_e){const It=He.grep(De,en=>en.name===Nt);return It.length?(It[0].characters=[...It[0].characters,...Tn(_e)],De):De.concat({name:Nt,characters:Tn(_e)})}return De},Un=ve=>{const De=rt(ve,sn());return De.length>1?[{name:"All",characters:Je(De,tt=>tt.characters)}].concat(De):De},Hr=ve=>({getCharMap:()=>Un(ve),insertChar:_e=>{f(ve,_e)}}),xt=ve=>{let De=ve;return{get:()=>De,set:It=>{De=It}}},yt=(ve,De)=>{let tt=null;const _e=()=>{P(tt)||(clearTimeout(tt),tt=null)};return{cancel:_e,throttle:(...en)=>{_e(),tt=setTimeout(()=>{tt=null,ve.apply(null,en)},De)}}},qt=(ve,De,tt=0,_e)=>{const It=ve.indexOf(De,tt);return It!==-1?I(_e)?!0:It+De.length<=_e:!1},$r=String.fromCodePoint,xo=(ve,De,tt)=>qt($r(ve).toLowerCase(),tt)?!0:qt(De.toLowerCase(),tt)||qt(De.toLowerCase().replace(/\s+/g,""),tt),Sn=(ve,De)=>{const tt=[],_e=De.toLowerCase();return Fe(ve.characters,It=>{xo(It[0],It[1],_e)&&tt.push(It)}),We(tt,It=>({text:It[1],value:$r(It[0]),icon:$r(It[0])}))},Mn="pattern",X=(ve,De)=>{const tt=()=>[{label:"Search",type:"input",name:Mn},{type:"collection",name:"results"}],_e=()=>We(De,eo=>({title:eo.name,name:eo.name,items:tt()})),It=()=>({type:"panel",items:tt()}),en=()=>({type:"tabpanel",tabs:_e()}),_t=De.length===1?xt(Nt):xt("All"),Yt=(eo,fo)=>{Ie(De,po=>po.name===_t.get()).each(po=>{const Ko=Sn(po,fo);eo.setData({results:Ko})})},et=yt(eo=>{const fo=eo.getData().pattern;Yt(eo,fo)},40),Bt=De.length===1?It():en(),Mt={pattern:"",results:Sn(De[0],"")},Gt={title:"Special Character",size:"normal",body:Bt,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:Mt,onAction:(eo,fo)=>{fo.name==="results"&&(f(ve,fo.value),eo.close())},onTabChange:(eo,fo)=>{_t.set(fo.newTabName),et.throttle(eo)},onChange:(eo,fo)=>{fo.name===Mn&&et.throttle(eo)}};ve.windowManager.open(Gt).focus(Mn)},nr=(ve,De)=>{ve.addCommand("mceShowCharmap",()=>{X(ve,De)})},pr=(ve,De)=>{ve.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(tt,_e)=>new Promise((It,en)=>{It(Sn(De,tt))}),onAction:(tt,_e,It)=>{ve.selection.setRng(_e),ve.insertContent(It),tt.hide()}})},jo=ve=>De=>{const tt=()=>{De.setEnabled(ve.selection.isEditable())};return ve.on("NodeChange",tt),tt(),()=>{ve.off("NodeChange",tt)}},Qi=ve=>{const De=()=>ve.execCommand("mceShowCharmap");ve.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:De,onSetup:jo(ve)}),ve.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:De,onSetup:jo(ve)})};var Ue=()=>{r.add("charmap",ve=>{gt(ve);const De=Un(ve);return nr(ve,De),Qi(ve),pr(ve,De[0]),Hr(ve)})};Ue()})();tinymce.Resource.add("tinymce.html-i18n.help-keynav.en",`<h1>Begin keyboard navigation</h1>

<dl>
  <dt>Focus the Menu bar</dt>
  <dd>Windows or Linux: Alt+F9</dd>
  <dd>macOS: &#x2325;F9</dd>
  <dt>Focus the Toolbar</dt>
  <dd>Windows or Linux: Alt+F10</dd>
  <dd>macOS: &#x2325;F10</dd>
  <dt>Focus the footer</dt>
  <dd>Windows or Linux: Alt+F11</dd>
  <dd>macOS: &#x2325;F11</dd>
  <dt>Focus the notification</dt>
  <dd>Windows or Linux: Alt+F12</dd>
  <dd>macOS: &#x2325;F12</dd>
  <dt>Focus a contextual toolbar</dt>
  <dd>Windows, Linux or macOS: Ctrl+F9</dd>
</dl>

<p>Navigation will start at the first UI item, which will be highlighted, or underlined in the case of the first item in
  the Footer element path.</p>

<h1>Navigate between UI sections</h1>

<p>To move from one UI section to the next, press <strong>Tab</strong>.</p>

<p>To move from one UI section to the previous, press <strong>Shift+Tab</strong>.</p>

<p>The <strong>Tab</strong> order of these UI sections is:</p>

<ol>
  <li>Menu bar</li>
  <li>Each toolbar group</li>
  <li>Sidebar</li>
  <li>Element path in the footer</li>
  <li>Word count toggle button in the footer</li>
  <li>Branding link in the footer</li>
  <li>Editor resize handle in the footer</li>
</ol>

<p>If a UI section is not present, it is skipped.</p>

<p>If the footer has keyboard navigation focus, and there is no visible sidebar, pressing <strong>Shift+Tab</strong>
  moves focus to the first toolbar group, not the last.</p>

<h1>Navigate within UI sections</h1>

<p>To move from one UI element to the next, press the appropriate <strong>Arrow</strong> key.</p>

<p>The <strong>Left</strong> and <strong>Right</strong> arrow keys</p>

<ul>
  <li>move between menus in the menu bar.</li>
  <li>open a sub-menu in a menu.</li>
  <li>move between buttons in a toolbar group.</li>
  <li>move between items in the footers element path.</li>
</ul>

<p>The <strong>Down</strong> and <strong>Up</strong> arrow keys</p>

<ul>
  <li>move between menu items in a menu.</li>
  <li>move between items in a toolbar pop-up menu.</li>
</ul>

<p><strong>Arrow</strong> keys cycle within the focused UI section.</p>

<p>To close an open menu, an open sub-menu, or an open pop-up menu, press the <strong>Esc</strong> key.</p>

<p>If the current focus is at the top of a particular UI section, pressing the <strong>Esc</strong> key also exits
  keyboard navigation entirely.</p>

<h1>Execute a menu item or toolbar button</h1>

<p>When the desired menu item or toolbar button is highlighted, press <strong>Return</strong>, <strong>Enter</strong>,
  or the <strong>Space bar</strong> to execute the item.</p>

<h1>Navigate non-tabbed dialogs</h1>

<p>In non-tabbed dialogs, the first interactive component takes focus when the dialog opens.</p>

<p>Navigate between interactive dialog components by pressing <strong>Tab</strong> or <strong>Shift+Tab</strong>.</p>

<h1>Navigate tabbed dialogs</h1>

<p>In tabbed dialogs, the first button in the tab menu takes focus when the dialog opens.</p>

<p>Navigate between interactive components of this dialog tab by pressing <strong>Tab</strong> or
  <strong>Shift+Tab</strong>.</p>

<p>Switch to another dialog tab by giving the tab menu focus and then pressing the appropriate <strong>Arrow</strong>
  key to cycle through the available tabs.</p>
`);tinymce.Resource.add("tinymce.html-i18n.help-keynav.de",`<h1>Grundlagen der Tastaturnavigation</h1>

<dl>
  <dt>Fokus auf Menleiste</dt>
  <dd>Windows oder Linux: ALT+F9</dd>
  <dd>macOS: &#x2325;F9</dd>
  <dt>Fokus auf Symbolleiste</dt>
  <dd>Windows oder Linux: ALT+F10</dd>
  <dd>macOS: &#x2325;F10</dd>
  <dt>Fokus auf Fuzeile</dt>
  <dd>Windows oder Linux: ALT+F11</dd>
  <dd>macOS: &#x2325;F11</dd>
  <dt>Benachrichtigung fokussieren</dt>
  <dd>Windows oder Linux: ALT+F12</dd>
  <dd>macOS: &#x2325;F12</dd>
  <dt>Fokus auf kontextbezogene Symbolleiste</dt>
  <dd>Windows, Linux oder macOS: STRG+F9</dd>
</dl>

<p>Die Navigation beginnt beim ersten Benutzeroberflchenelement, welches hervorgehoben ist. Falls sich das erste Element im Pfad der Fuzeile befindet,
  ist es unterstrichen.</p>

<h1>Zwischen Abschnitten der Benutzeroberflche navigieren</h1>

<p>Um von einem Abschnitt der Benutzeroberflche zum nchsten zu wechseln, drcken Sie <strong>TAB</strong>.</p>

<p>Um von einem Abschnitt der Benutzeroberflche zum vorherigen zu wechseln, drcken Sie <strong>UMSCHALT+TAB</strong>.</p>

<p>Die Abschnitte der Benutzeroberflche haben folgende <strong>TAB</strong>-Reihenfolge:</p>

<ol>
  <li>Menleiste</li>
  <li>Einzelne Gruppen der Symbolleiste</li>
  <li>Randleiste</li>
  <li>Elementpfad in der Fuzeile</li>
  <li>Umschaltflche Wrter zhlen in der Fuzeile</li>
  <li>Branding-Link in der Fuzeile</li>
  <li>Editor-Ziehpunkt zur Grennderung in der Fuzeile</li>
</ol>

<p>Falls ein Abschnitt der Benutzeroberflchen nicht vorhanden ist, wird er bersprungen.</p>

<p>Wenn in der Fuzeile die Tastaturnavigation fokussiert ist und keine Randleiste angezeigt wird, wechselt der Fokus durch Drcken von <strong>UMSCHALT+TAB</strong>
  zur ersten Gruppe der Symbolleiste, nicht zur letzten.</p>

<h1>Innerhalb von Abschnitten der Benutzeroberflche navigieren</h1>

<p>Um von einem Element der Benutzeroberflche zum nchsten zu wechseln, drcken Sie die entsprechende <strong>Pfeiltaste</strong>.</p>

<p>Die Pfeiltasten <strong>Links</strong> und <strong>Rechts</strong></p>

<ul>
  <li>wechseln zwischen Mens in der Menleiste.</li>
  <li>ffnen das Untermen eines Mens.</li>
  <li>wechseln zwischen Schaltflchen in einer Gruppe der Symbolleiste.</li>
  <li>wechseln zwischen Elementen im Elementpfad der Fuzeile.</li>
</ul>

<p>Die Pfeiltasten <strong>Abwrts</strong> und <strong>Aufwrts</strong></p>

<ul>
  <li>wechseln zwischen Menelementen in einem Men.</li>
  <li>wechseln zwischen Elementen in einem Popupmen der Symbolleiste.</li>
</ul>

<p>Die <strong>Pfeiltasten</strong> rotieren innerhalb des fokussierten Abschnitts der Benutzeroberflche.</p>

<p>Um ein geffnetes Men, ein geffnetes Untermen oder ein geffnetes Popupmen zu schlieen, drcken Sie die <strong>ESC</strong>-Taste.</p>

<p>Wenn sich der aktuelle Fokus ganz oben in einem bestimmten Abschnitt der Benutzeroberflche befindet, wird durch Drcken der <strong>ESC</strong>-Taste auch
  die Tastaturnavigation beendet.</p>

<h1>Ein Menelement oder eine Symbolleistenschaltflche ausfhren</h1>

<p>Wenn das gewnschte Menelement oder die gewnschte Symbolleistenschaltflche hervorgehoben ist, drcken Sie <strong>Zurck</strong>, <strong>Eingabe</strong>
  oder die <strong>Leertaste</strong>, um das Element auszufhren.</p>

<h1>In Dialogfeldern ohne Registerkarten navigieren</h1>

<p>In Dialogfeldern ohne Registerkarten ist beim ffnen eines Dialogfelds die erste interaktive Komponente fokussiert.</p>

<p>Navigieren Sie zwischen den interaktiven Komponenten eines Dialogfelds, indem Sie <strong>TAB</strong> oder <strong>UMSCHALT+TAB</strong> drcken.</p>

<h1>In Dialogfeldern mit Registerkarten navigieren</h1>

<p>In Dialogfeldern mit Registerkarten ist beim ffnen eines Dialogfelds die erste Schaltflche eines Registerkartenmens fokussiert.</p>

<p>Navigieren Sie zwischen den interaktiven Komponenten auf dieser Registerkarte des Dialogfelds, indem Sie <strong>TAB</strong> oder
  <strong>UMSCHALT+TAB</strong> drcken.</p>

<p>Wechseln Sie zu einer anderen Registerkarte des Dialogfelds, indem Sie den Fokus auf das Registerkartenmen legen und dann die entsprechende <strong>Pfeiltaste</strong>
  drcken, um durch die verfgbaren Registerkarten zu rotieren.</p>
`);(function(){const r=je=>{let et=je;return{get:()=>et,set:Gt=>{et=Gt}}};var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const f=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let m=0;const x=je=>{const Bt=new Date().getTime(),Mt=Math.floor(f()*1e9);return m++,je+"_"+Mt+m+String(Bt)},v=je=>({addTab:Bt=>{var Mt;const Gt=(Mt=Bt.name)!==null&&Mt!==void 0?Mt:x("tab-name"),xn=je.get();xn[Gt]=Bt,je.set(xn)}}),w=(je,et)=>{je.addCommand("mceHelp",et)},E=je=>et=>et.options.get(je),F=je=>{const et=je.options.register;et("help_tabs",{processor:"array"})},P=E("help_tabs"),I=E("forced_plugins"),z=(je,et)=>{je.ui.registry.addButton("help",{icon:"help",tooltip:"Help",onAction:et}),je.ui.registry.addMenuItem("help",{text:"Help",icon:"help",shortcut:"Alt+0",onAction:et})},j=(je,et,Bt)=>{var Mt;return Bt(je,et.prototype)?!0:((Mt=je.constructor)===null||Mt===void 0?void 0:Mt.name)===et.name},U=je=>{const et=typeof je;return je===null?"null":et==="object"&&Array.isArray(je)?"array":et==="object"&&j(je,String,(Bt,Mt)=>Mt.isPrototypeOf(Bt))?"string":et},J=je=>et=>U(et)===je,ne=je=>et=>typeof et===je,ye=je=>et=>je===et,pe=J("string"),We=ye(void 0),Fe=je=>je==null,ae=je=>!Fe(je),Ie=ne("function"),Je=(je=>()=>je)(!1);class He{constructor(et,Bt){this.tag=et,this.value=Bt}static some(et){return new He(!0,et)}static none(){return He.singletonNone}fold(et,Bt){return this.tag?Bt(this.value):et()}isSome(){return this.tag}isNone(){return!this.tag}map(et){return this.tag?He.some(et(this.value)):He.none()}bind(et){return this.tag?et(this.value):He.none()}exists(et){return this.tag&&et(this.value)}forall(et){return!this.tag||et(this.value)}filter(et){return!this.tag||et(this.value)?this:He.none()}getOr(et){return this.tag?this.value:et}or(et){return this.tag?this:et}getOrThunk(et){return this.tag?this.value:et()}orThunk(et){return this.tag?this:et()}getOrDie(et){if(this.tag)return this.value;throw new Error(et??"Called getOrDie on None")}static from(et){return ae(et)?He.some(et):He.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(et){this.tag&&et(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}He.singletonNone=new He(!1);const Ye=Array.prototype.slice,gt=Array.prototype.indexOf,Se=(je,et)=>gt.call(je,et),Ne=(je,et)=>Se(je,et)>-1,D=(je,et)=>{const Bt=je.length,Mt=new Array(Bt);for(let Gt=0;Gt<Bt;Gt++){const xn=je[Gt];Mt[Gt]=et(xn,Gt)}return Mt},Nt=(je,et)=>{const Bt=[];for(let Mt=0,Gt=je.length;Mt<Gt;Mt++){const xn=je[Mt];et(xn,Mt)&&Bt.push(xn)}return Bt},sn=(je,et,Bt)=>{for(let Mt=0,Gt=je.length;Mt<Gt;Mt++){const xn=je[Mt];if(et(xn,Mt))return He.some(xn);if(Bt(xn,Mt))break}return He.none()},vn=(je,et)=>sn(je,et,Je),Tn=(je,et)=>{const Bt=Ye.call(je,0);return Bt.sort(et),Bt},rt=Object.keys,Un=Object.hasOwnProperty,Hr=(je,et)=>xt(je,et)?He.from(je[et]):He.none(),xt=(je,et)=>Un.call(je,et),yt=je=>{const et=[],Bt=Mt=>{et.push(Mt)};for(let Mt=0;Mt<je.length;Mt++)je[Mt].each(Bt);return et};var qt=tinymce.util.Tools.resolve("tinymce.Resource"),$r=tinymce.util.Tools.resolve("tinymce.util.I18n");const xo=(je,et)=>qt.load(`tinymce.html-i18n.help-keynav.${et}`,`${je}/js/i18n/keynav/${et}.js`),Sn=je=>xo(je,$r.getCode()).catch(()=>xo(je,"en")),Mn=(je,et)=>{je.on("init",()=>{Sn(et)})},X=async je=>({name:"keyboardnav",title:"Keyboard Navigation",items:[{type:"htmlpanel",presets:"document",html:await Sn(je)}]});var nr=tinymce.util.Tools.resolve("tinymce.Env");const pr=je=>{const et=nr.os.isMacOS()||nr.os.isiOS(),Gt=et?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl ",access:"Shift + Alt "},xn=je.split("+"),eo=D(xn,fo=>{const po=fo.toLowerCase().trim();return xt(Gt,po)?Gt[po]:fo});return et?eo.join("").replace(/\s/,""):eo.join("+")},jo=[{shortcuts:["Meta + B"],action:"Bold"},{shortcuts:["Meta + I"],action:"Italic"},{shortcuts:["Meta + U"],action:"Underline"},{shortcuts:["Meta + A"],action:"Select all"},{shortcuts:["Meta + Y","Meta + Shift + Z"],action:"Redo"},{shortcuts:["Meta + Z"],action:"Undo"},{shortcuts:["Access + 1"],action:"Heading 1"},{shortcuts:["Access + 2"],action:"Heading 2"},{shortcuts:["Access + 3"],action:"Heading 3"},{shortcuts:["Access + 4"],action:"Heading 4"},{shortcuts:["Access + 5"],action:"Heading 5"},{shortcuts:["Access + 6"],action:"Heading 6"},{shortcuts:["Access + 7"],action:"Paragraph"},{shortcuts:["Access + 8"],action:"Div"},{shortcuts:["Access + 9"],action:"Address"},{shortcuts:["Alt + 0"],action:"Open help dialog"},{shortcuts:["Alt + F9"],action:"Focus to menubar"},{shortcuts:["Alt + F10"],action:"Focus to toolbar"},{shortcuts:["Alt + F11"],action:"Focus to element path"},{shortcuts:["Alt + F12"],action:"Focus to notification"},{shortcuts:["Ctrl + F9"],action:"Focus to contextual toolbar"},{shortcuts:["Shift + Enter"],action:"Open popup menu for split buttons"},{shortcuts:["Meta + K"],action:"Insert link (if link plugin activated)"},{shortcuts:["Meta + S"],action:"Save (if save plugin activated)"},{shortcuts:["Meta + F"],action:"Find (if searchreplace plugin activated)"},{shortcuts:["Meta + Shift + F"],action:"Switch to or from fullscreen mode"}],Qi=()=>{const je=D(jo,Bt=>{const Mt=D(Bt.shortcuts,pr).join(" or ");return[Bt.action,Mt]});return{name:"shortcuts",title:"Handy Shortcuts",items:[{type:"table",header:["Action","Shortcut"],cells:je}]}},Ue=D([{key:"accordion",name:"Accordion"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"image",name:"Image"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"advlist",name:"List Styles"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"pagebreak",name:"Page Break"},{key:"preview",name:"Preview"},{key:"quickbars",name:"Quick Toolbars"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"table",name:"Table"},{key:"textcolor",name:"Text Color"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"},{key:"a11ychecker",name:"Accessibility Checker",type:"premium"},{key:"typography",name:"Advanced Typography",type:"premium",slug:"advanced-typography"},{key:"ai",name:"AI Assistant",type:"premium"},{key:"casechange",name:"Case Change",type:"premium"},{key:"checklist",name:"Checklist",type:"premium"},{key:"advcode",name:"Enhanced Code Editor",type:"premium"},{key:"mediaembed",name:"Enhanced Media Embed",type:"premium",slug:"introduction-to-mediaembed"},{key:"advtable",name:"Enhanced Tables",type:"premium"},{key:"exportpdf",name:"Export to PDF",type:"premium"},{key:"exportword",name:"Export to Word",type:"premium"},{key:"footnotes",name:"Footnotes",type:"premium"},{key:"formatpainter",name:"Format Painter",type:"premium"},{key:"editimage",name:"Image Editing",type:"premium"},{key:"importword",name:"Import from Word",type:"premium"},{key:"inlinecss",name:"Inline CSS",type:"premium",slug:"inline-css"},{key:"linkchecker",name:"Link Checker",type:"premium"},{key:"math",name:"Math",type:"premium"},{key:"markdown",name:"Markdown",type:"premium"},{key:"mentions",name:"Mentions",type:"premium"},{key:"mergetags",name:"Merge Tags",type:"premium"},{key:"pageembed",name:"Page Embed",type:"premium"},{key:"permanentpen",name:"Permanent Pen",type:"premium"},{key:"powerpaste",name:"PowerPaste",type:"premium",slug:"introduction-to-powerpaste"},{key:"revisionhistory",name:"Revision History",type:"premium"},{key:"tinymcespellchecker",name:"Spell Checker",type:"premium",slug:"introduction-to-tiny-spellchecker"},{key:"autocorrect",name:"Spelling Autocorrect",type:"premium"},{key:"tableofcontents",name:"Table of Contents",type:"premium"},{key:"advtemplate",name:"Templates",type:"premium",slug:"advanced-templates"},{key:"tinycomments",name:"Tiny Comments",type:"premium",slug:"introduction-to-tiny-comments"},{key:"tinydrive",name:"Tiny Drive",type:"premium",slug:"tinydrive-introduction"}],je=>({...je,type:je.type||"opensource",slug:je.slug||je.key})),ve=je=>{const et=()=>{const Ko=Nt(Ue,({type:jt})=>jt==="premium"),yo=Tn(D(Ko,jt=>jt.name),(jt,ao)=>jt.localeCompare(ao)),Ar=D(yo,jt=>`<li>${jt}</li>`).join("");return"<div><p><b>"+$r.translate("Premium plugins:")+"</b></p><ul>"+Ar+'<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=help_dialog_plugin_tab&utm_source=tiny&utm_medium=referral&utm_term=read_more&utm_content=premium_plugin_heading" rel="noopener" target="_blank" data-alloy-tabstop="true" tabindex="-1">'+$r.translate("Learn more...")+"</a></li></ul></div>"},Bt=Ko=>`<a data-alloy-tabstop="true" tabindex="-1" href="${Ko.url}" target="_blank" rel="noopener">${Ko.name}</a>`,Mt=(Ko,yo)=>{const Ar=Ko.plugins[yo].getMetadata;if(Ie(Ar)){const jt=Ar();return{name:jt.name,html:Bt(jt)}}else return{name:yo,html:yo}},Gt=(Ko,yo)=>vn(Ue,Ar=>Ar.key===yo).fold(()=>Mt(Ko,yo),Ar=>{const jt=Ar.type==="premium"?`${Ar.name}*`:Ar.name,ao=Bt({name:jt,url:`https://www.tiny.cloud/docs/tinymce/7/${Ar.slug}/`});return{name:jt,html:ao}}),xn=Ko=>{const yo=rt(Ko.plugins),Ar=I(Ko);return We(Ar)?yo:Nt(yo,jt=>!Ne(Ar,jt))},eo=Ko=>{const yo=xn(Ko),Ar=Tn(D(yo,Ms=>Gt(Ko,Ms)),(Ms,Ht)=>Ms.name.localeCompare(Ht.name)),jt=D(Ar,Ms=>"<li>"+Ms.html+"</li>"),ao=jt.length,so=jt.join("");return"<p><b>"+$r.translate(["Plugins installed ({0}):",ao])+"</b></p><ul>"+so+"</ul>"};return{name:"plugins",title:"Plugins",items:[{type:"htmlpanel",presets:"document",html:[(Ko=>Ko==null?"":"<div>"+eo(Ko)+"</div>")(je),et()].join("")}]}};var De=tinymce.util.Tools.resolve("tinymce.EditorManager");const tt=()=>{const Bt='<a data-alloy-tabstop="true" tabindex="-1" href="https://www.tiny.cloud/docs/tinymce/7/changelog/?utm_campaign=help_dialog_version_tab&utm_source=tiny&utm_medium=referral" rel="noopener" target="_blank">TinyMCE '+((Gt,xn)=>Gt.indexOf("@")===0?"X.X.X":Gt+"."+xn)(De.majorVersion,De.minorVersion)+"</a>";return{name:"versions",title:"Version",items:[{type:"htmlpanel",html:"<p>"+$r.translate(["You are using {0}",Bt])+"</p>",presets:"document"}]}},_e=(je,et)=>{const Bt={},Mt=D(je,Gt=>{var xn;if(pe(Gt))return xt(et,Gt)&&(Bt[Gt]=et[Gt]),Gt;{const eo=(xn=Gt.name)!==null&&xn!==void 0?xn:x("tab-name");return Bt[eo]=Gt,eo}});return{tabs:Bt,names:Mt}},It=je=>{const et=rt(je),Bt=et.indexOf("versions");return Bt!==-1&&(et.splice(Bt,1),et.push("versions")),{tabs:je,names:et}},en=async(je,et,Bt)=>{const Mt=Qi(),Gt=await X(Bt),xn=ve(je),eo=tt(),fo={[Mt.name]:Mt,[Gt.name]:Gt,[xn.name]:xn,[eo.name]:eo,...et.get()};return He.from(P(je)).fold(()=>It(fo),po=>_e(po,fo))},_t=(je,et,Bt)=>()=>{en(je,et,Bt).then(({tabs:Mt,names:Gt})=>{const xn=D(Gt,po=>Hr(Mt,po)),fo={type:"tabpanel",tabs:yt(xn)};je.windowManager.open({title:"Help",size:"medium",body:fo,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{}})})};var Yt=()=>{l.add("help",(je,et)=>{const Bt=r({}),Mt=v(Bt);F(je);const Gt=_t(je,Bt,et);return z(je,Gt),w(je,Gt),je.shortcuts.add("Alt+0","Open help dialog","mceHelp"),Mn(je,et),Mt})};Yt()})();tinymce.Resource.add("ui/default/content.css",`.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe89d}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe89d;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#fed635}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly [contentEditable=true]:focus,.mce-content-body.mce-content-readonly [contentEditable=true]:hover{outline:0}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0,84,180,.7)}}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}body{font-family:sans-serif}table{border-collapse:collapse}`);tinymce.Resource.add("content/default/content.css",`body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) td,table[border]:not([border="0"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) td,table[border]:not([border="0"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) td,table[border]:not([border="0"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}`);var dge=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],fge=function(r){return dge.map(function(l){return l.toLowerCase()}).indexOf(r.toLowerCase())!==-1},mge=function(r,l,f){Object.keys(l).filter(fge).forEach(function(m){var x=l[m];typeof x=="function"&&(m==="onInit"?x(r,f):f.on(m.substring(2),function(v){return x(v,f)}))})},gge=function(r,l,f,m){var x=r.modelEvents?r.modelEvents:null,v=Array.isArray(x)?x.join(" "):x;Yo(m,function(w,E){f&&typeof w=="string"&&w!==E&&w!==f.getContent({format:r.outputFormat})&&f.setContent(w)}),f.on(v||"change input undo redo",function(){l.emit("update:modelValue",f.getContent({format:r.outputFormat}))})},hge=function(r,l,f,m,x,v){m.setContent(v()),f.attrs["onUpdate:modelValue"]&&gge(l,f,m,x),mge(r,f.attrs,m)},Hj=0,uY=function(r){var l=Date.now(),f=Math.floor(Math.random()*1e9);return Hj++,r+"_"+f+Hj+String(l)},pge=function(r){return r!==null&&r.tagName.toLowerCase()==="textarea"},Vj=function(r){return typeof r>"u"||r===""?[]:Array.isArray(r)?r:r.split(" ")},bge=function(r,l){return Vj(r).concat(Vj(l))},vge=function(r){return r==null},$j=function(){return{listeners:[],scriptId:uY("tiny-script"),scriptLoaded:!1}},xge=function(){var r=$j(),l=function(x,v,w,E){var F=v.createElement("script");F.referrerPolicy="origin",F.type="application/javascript",F.id=x,F.src=w;var P=function(){F.removeEventListener("load",P),E()};F.addEventListener("load",P),v.head&&v.head.appendChild(F)},f=function(x,v,w){r.scriptLoaded?w():(r.listeners.push(w),x.getElementById(r.scriptId)||l(r.scriptId,x,v,function(){r.listeners.forEach(function(E){return E()}),r.scriptLoaded=!0}))},m=function(){r=$j()};return{load:f,reinitialize:m}},yge=xge(),wge=function(){return typeof window<"u"?window:global},Y2=function(){var r=wge();return r&&r.tinymce?r.tinymce:null},Cge={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(r){return r==="html"||r==="text"}}},vp=function(){return vp=Object.assign||function(r){for(var l,f=1,m=arguments.length;f<m;f++){l=arguments[f];for(var x in l)Object.prototype.hasOwnProperty.call(l,x)&&(r[x]=l[x])}return r},vp.apply(this,arguments)},_ge=function(r,l,f,m){return r(m||"div",{id:l,ref:f})},Sge=function(r,l,f){return r("textarea",{id:l,visibility:"hidden",ref:f})},o9={selector:void 0,target:void 0},dY=kK({props:Cge,setup:function(r,l){var f=r.init?vp(vp({},r.init),o9):vp({},o9),m=WT(r),x=m.disabled,v=m.modelValue,w=m.tagName,E=kr(null),F=null,P=r.id||uY("tiny-vue"),I=r.init&&r.init.inline||r.inline,z=!!l.attrs["onUpdate:modelValue"],j=!0,U=r.initialValue?r.initialValue:"",J="",ne=function(We){return z?function(){return v!=null&&v.value?v.value:""}:function(){return We?U:J}},ye=function(){var We=ne(j),Fe=vp(vp({},f),{readonly:r.disabled,target:E.value,plugins:bge(f.plugins,r.plugins),toolbar:r.toolbar||f.toolbar,inline:I,setup:function(ae){F=ae,ae.on("init",function(Ie){return hge(Ie,r,l,ae,v,We)}),typeof f.setup=="function"&&f.setup(ae)}});pge(E.value)&&(E.value.style.visibility=""),Y2().init(Fe),j=!1};Yo(x,function(We){var Fe;F!==null&&(typeof((Fe=F.mode)===null||Fe===void 0?void 0:Fe.set)=="function"?F.mode.set(We?"readonly":"design"):F.setMode(We?"readonly":"design"))}),Yo(w,function(We){var Fe;z||(J=F.getContent()),(Fe=Y2())===null||Fe===void 0||Fe.remove(F),Pf(function(){return ye()})}),Ap(function(){if(Y2()!==null)ye();else if(E.value&&E.value.ownerDocument){var We=r.cloudChannel?r.cloudChannel:"7",Fe=r.apiKey?r.apiKey:"no-api-key",ae=vge(r.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(Fe,"/tinymce/").concat(We,"/tinymce.min.js"):r.tinymceScriptSrc;yge.load(E.value.ownerDocument,ae,ye)}}),$u(function(){Y2()!==null&&Y2().remove(F)}),I||(sV(function(){j||ye()}),iV(function(){var We;z||(J=F.getContent()),(We=Y2())===null||We===void 0||We.remove(F)}));var pe=function(We){var Fe;J=F.getContent(),(Fe=Y2())===null||Fe===void 0||Fe.remove(F),f=vp(vp(vp({},f),We),o9),Pf(function(){return ye()})};return l.expose({rerender:pe,getEditor:function(){return F}}),function(){return I?_ge(W0,P,E,r.tagName):Sge(W0,P,E)}}});const kge={id:"app-note-edit-wrapper"},Age=["for"],Ege={__name:"EditNote",props:["noteKey","noteLabel"],setup(r){const l=P0(),f=_p(),m=aw(),x=f8(),v=r;function w(){P(),I()}Yo(()=>m.editor_zoom,P),Yo(()=>f.contentClass,I);function E(){m.zoomEditorIn()}function F(){m.zoomEditorOut()}function P(){const U=cY.get("essay");U.dom.setStyle(U.dom.doc.body,"font-size",m.editor_zoom*16+"px")}function I(){for(const U of document.getElementsByClassName("tox-tinymce-aux"))U.classList.add(f.contentClass)}function z(U){x.setContent(U.clipboardData.getData("text/html"))}function j(U,J){x.getPasteAllowed(J.content)||(J.content="",x.showWarning())}return(U,J)=>(_r(),pl("div",kge,[Bn("label",{for:v.noteKey,class:"sr-only"},kd("Editor "+v.noteLabel),9,Age),Re(lt(dY),{id:v.noteKey,modelValue:lt(l).editNotes[v.noteKey].note_text,"onUpdate:modelValue":J[0]||(J[0]=ne=>lt(l).editNotes[v.noteKey].note_text=ne),onChange:J[1]||(J[1]=ne=>lt(l).updateContent(!0)),onKeyup:J[2]||(J[2]=ne=>lt(l).updateContent(!0)),onCopy:z,onCut:z,onInit:w,"api-key":"no-api-key",init:{license_key:"gpl",language:"de",height:"100%",menubar:!1,plugins:"lists charmap help",toolbar:lt(f).tinyToolbar,valid_elements:lt(f).tinyValidElements,formats:lt(f).tinyFormats,style_formats:lt(f).tinyStyles,custom_undo_redo_levels:10,skin:"default",content_css:"default",content_style:lt(f).tinyContentStyle,browser_spellcheck:lt(f).allow_spellcheck,paste_block_drop:!0,paste_as_text:!1,paste_preprocess:j,help_tabs:["shortcuts","keyboardnav"],setup:function(ne){ne.ui.registry.addButton("zoomOut",{tooltip:"Verkleinern",icon:"zoom-out",onAction:F}),ne.ui.registry.addButton("zoomIn",{tooltip:"Vergrern",icon:"zoom-in",onAction:E})}}},null,8,["id","modelValue","init"])]))}},Tge=R1(Ege,[["__scopeId","data-v-4c9f309b"]]),Oge=r=>($M("data-v-40916577"),r=r(),UM(),r),Dge={id:"app-essay-edit-wrapper"},Rge=Oge(()=>Bn("label",{for:"essay",class:"sr-only"},"Editor Abgabe-Text",-1)),Nge={__name:"EditEssay",setup(r){const l=S1(),f=_p(),m=aw(),x=f8();function v(){F(),P()}Yo(()=>m.editor_zoom,F),Yo(()=>f.contentClass,P);function w(){m.zoomEditorIn()}function E(){m.zoomEditorOut()}function F(){const j=cY.get("essay");j.dom.setStyle(j.dom.doc.body,"font-size",m.editor_zoom*16+"px")}function P(){for(const j of document.getElementsByClassName("tox-tinymce-aux"))j.classList.add(f.contentClass)}function I(j){x.setContent(j.clipboardData.getData("text/html"))}function z(j,U){x.getPasteAllowed(U.content)||(U.content="",x.showWarning())}return(j,U)=>(_r(),pl("div",Dge,[Rge,Re(lt(dY),{id:"essay",modelValue:lt(l).currentContent,"onUpdate:modelValue":U[0]||(U[0]=J=>lt(l).currentContent=J),onChange:U[1]||(U[1]=J=>lt(l).updateContent(!0)),onKeyup:U[2]||(U[2]=J=>lt(l).updateContent(!0)),onCopy:I,onCut:I,onInit:v,"api-key":"no-api-key",init:{license_key:"gpl",language:"de",height:"100%",menubar:!1,plugins:"lists charmap help",toolbar:lt(f).tinyToolbar,valid_elements:lt(f).tinyValidElements,formats:lt(f).tinyFormats,style_formats:lt(f).tinyStyles,custom_undo_redo_levels:10,skin:"default",content_css:"default",content_style:lt(f).tinyContentStyle,browser_spellcheck:lt(f).allow_spellcheck,paste_block_drop:!0,paste_as_text:!1,paste_preprocess:z,help_tabs:["shortcuts","keyboardnav"],setup:function(J){J.ui.registry.addButton("zoomOut",{tooltip:"Verkleinern",icon:"zoom-out",onAction:E}),J.ui.registry.addButton("zoomIn",{tooltip:"Vergrern",icon:"zoom-in",onAction:w})}}},null,8,["modelValue","init"])]))}},Ige=R1(Nge,[["__scopeId","data-v-40916577"]]),Bge=r=>($M("data-v-dd6006dc"),r=r(),UM(),r),Mge={id:"app-edit-select-wrapper"},Pge={key:0,class:"appEditChoices"},Lge={class:"sr-only"},Fge={"aria-hidden":"true"},zge=Bge(()=>Bn("p",{class:"editorHint"},[Sd("Drcken Sie im Editor "),Bn("code",null,"Alt+0"),Sd(" fr Hilfe")],-1)),Hge={class:"appEditors"},Vge={__name:"EditSelect",setup(r){const l=lw(),f=P0(),m=_p(),x=kr("essay");v();function v(){switch(l.rightContent){case"essay":x.value="essay";break;case"notes":x.value=f.activeKey}}Yo(()=>l.rightContent,v),Yo(()=>f.activeKey,v);function w(){switch(x.value){case void 0:v();break;case"essay":l.showEssay();break;default:l.showNotes(),f.activeKey=x.value;break}}return(E,F)=>(_r(),pl("div",Mge,[lt(m).hasNotes?(_r(),pl("div",Pge,[Re(Gde,{density:"comfortable",variant:"outlined",divided:"",modelValue:x.value,"onUpdate:modelValue":F[0]||(F[0]=P=>x.value=P),onClick:F[1]||(F[1]=P=>w())},{default:Wn(()=>[Re(ai,{size:"small",value:"essay"},{default:Wn(()=>[Re(zr,{icon:"mdi-file-edit-outline"}),Sd(" Abgabe-Text ")]),_:1}),(_r(!0),pl(li,null,MT(lt(f).keys,P=>(_r(),$a(ai,{size:"small",key:P,value:P},{default:Wn(()=>[Re(zr,{icon:"mdi-clipboard-outline"}),Bn("span",Lge,kd(lt(m).notice_boards==1?"Notizen":"Notiz "+(lt(f).notes[P].note_no+1)),1),Bn("span",Fge,kd(lt(m).notice_boards==1?"Notizen":lt(f).notes[P].note_no+1),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),zge])):Wl("",!0),Bn("div",Hge,[Yr(Re(Ige,null,null,512),[[Cs,lt(l).isEssaySelected]]),lt(m).notice_boards>0?(_r(!0),pl(li,{key:0},MT(lt(f).keys,P=>Yr((_r(),$a(Tge,{key:P,noteKey:P,noteLabel:lt(m).notice_boards==1?"Notizen":"Notiz "+(lt(f).notes[P].note_no+1)},null,8,["noteKey","noteLabel"])),[[Cs,lt(l).isNotesSelected&&lt(f).activeKey==P]])),128)):Wl("",!0)])]))}},$ge=R1(Vge,[["__scopeId","data-v-dd6006dc"]]),Uge=vo({scrollable:Boolean,...Ii(),...vw(),...Kl({tag:"main"})},"VMain"),LV=ns()({name:"VMain",props:Uge(),setup(r,l){let{slots:f}=l;const{dimensionStyles:m}=xw(r),{mainStyles:x}=Rce(),{ssrBootStyles:v}=d8();return Qs(()=>Re(r.tag,{class:["v-main",{"v-main--scrollable":r.scrollable},r.class],style:[x.value,v.value,m.value,r.style]},{default:()=>{var w,E;return[r.scrollable?Re("div",{class:"v-main__scroller"},[(w=f.default)==null?void 0:w.call(f)]):(E=f.default)==null?void 0:E.call(f)]}})),{}}}),FV=r=>($M("data-v-bfdb2e19"),r=r(),UM(),r),Zge={id:"app-main-container"},Wge={class:"col-header"},jge={class:"headline"},Kge=FV(()=>Bn("span",null,"Erweitern",-1)),qge={class:"col-content"},Gge={class:"col-header"},Yge={class:"headline"},Xge=FV(()=>Bn("span",null,"Erweitern",-1)),Jge={class:"col-content"},Qge=FV(()=>Bn("p",null,"Sie knnen nur selbst geschriebenen Text oder Teile aus der Aufgabenstellung kopieren und einfgen.",-1)),ehe={__name:"MainContent",setup(r){const l=lw(),f=H0(),m=f8();return(x,v)=>(_r(),$a(LV,{"fill-height":""},{default:Wn(()=>[Bn("div",Zge,[Yr(Bn("div",{class:dw(["column",{colExpanded:lt(l).isLeftExpanded,colNormal:!lt(l).isLeftExpanded}])},[Bn("div",Wge,[Bn("span",jge,kd(lt(l).isInstructionsSelected?"Aufgabenstellung":lt(l).isInstructionsPdfSelected?"Aufgabenstellung (PDF)":lt(l).isResourcesSelected?lt(f).activeTitle:""),1),Re(zT,{density:"comfortable"},{default:Wn(()=>[Yr(Re(ai,{size:"small",onClick:v[0]||(v[0]=w=>lt(l).setLeftExpanded(!1))},{default:Wn(()=>[Re(zr,{icon:"mdi-chevron-left"}),Bn("span",null,kd(lt(l).isEssaySelected?"Abgabe-Text":lt(l).isNotesSelected?"Notizen":""),1)]),_:1},512),[[Cs,lt(l).isLeftExpanded]]),Yr(Re(ai,{size:"small",onClick:v[1]||(v[1]=w=>lt(l).setLeftExpanded(!0))},{default:Wn(()=>[Kge,Re(zr,{icon:"mdi-chevron-right"})]),_:1},512),[[Cs,!lt(l).isLeftExpanded]])]),_:1})]),Bn("div",qge,[lt(l).isInstructionsVisible?(_r(),$a(tge,{key:0})):Wl("",!0),lt(l).isInstructionsPdfVisible?(_r(),$a(rge,{key:1})):Wl("",!0),lt(l).isResourcesVisible?(_r(),$a(cge,{key:2})):Wl("",!0)])],2),[[Cs,lt(l).isLeftVisible]]),Yr(Bn("div",{class:dw(["column",{colExpanded:lt(l).isRightExpanded,colNormal:!lt(l).isRightExpanded}])},[Bn("div",Gge,[Bn("span",Yge,kd(lt(l).isEssayVisible?"Abgabe-Text":lt(l).isNotesVisible?"Notizen (werden bei der Abgabe verworfen)":""),1),Re(zT,{density:"comfortable"},{default:Wn(()=>[Yr(Re(ai,{size:"small",onClick:v[2]||(v[2]=w=>lt(l).setRightExpanded(!1))},{default:Wn(()=>[Bn("span",null,kd(lt(l).isInstructionsSelected?"Aufgabenstellung":lt(l).isResourcesSelected?lt(f).activeTitle:""),1),Re(zr,{icon:"mdi-chevron-right"})]),_:1},512),[[Cs,lt(l).isRightExpanded]]),Yr(Re(ai,{size:"small",onClick:v[3]||(v[3]=w=>lt(l).setRightExpanded(!0))},{default:Wn(()=>[Re(zr,{icon:"mdi-chevron-left"}),Xge]),_:1},512),[[Cs,!lt(l).isRightExpanded]])]),_:1})]),Bn("div",Jge,[Re($ge)])],2),[[Cs,lt(l).isRightVisible]])]),Re(uw,{width:"500",persistent:"",modelValue:lt(m).show_warning,"onUpdate:modelValue":v[5]||(v[5]=w=>lt(m).show_warning=w)},{default:Wn(()=>[Re(cw,null,{default:Wn(()=>[Re($0,null,{default:Wn(()=>[Qge]),_:1}),Re(V0,null,{default:Wn(()=>[Re(BV),Re(ai,{onClick:v[4]||(v[4]=w=>lt(m).hideWarning())},{default:Wn(()=>[Sd(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},the=R1(ehe,[["__scopeId","data-v-bfdb2e19"]]),nhe=Bn("p",null,"Lade Daten...",-1),ohe=Bn("span",null,"Beenden ...",-1),rhe=Bn("p",null,"Beim Laden der Daten ist ein Fehler aufgetreten. Die Anwendung kann nicht gestartet werden.",-1),she=Bn("span",null,"Beenden",-1),ihe=Bn("p",null,"In Ihrem Browser sind Eingaben eines anderen Benutzers oder einer anderen Aufgabe vorhanden, die noch nicht bertragen wurden. Durch das Laden werden diese Eingaben gelscht.",-1),ahe=Bn("p",null,"Mchten Sie die neue Aufgabe laden?",-1),lhe=Bn("span",null,"Laden",-1),che=Bn("span",null,"Abbrechen",-1),uhe=Bn("p",null,"In Ihrem Browser sind Eingaben vorhanden, die noch nicht bertragen wurden. Die letzte im System gespeicherte Eingabe scheint aber nicht aus diesem Browser zu stammen. Das kann z.B. passieren, wenn Ihre Netzverbindung unterbrochen wurde und Sie anschlieend in einem anderen Browser weitergearbeitet haben. Durch das Laden werden Ihre Eingaben im Browser berschrieben.",-1),dhe=Bn("p",null,"Mchten Sie die Eingabe vom System laden?",-1),fhe=Bn("span",null,"Laden",-1),mhe=Bn("span",null,"Abbrechen",-1),ghe={__name:"StartupContent",setup(r){const l=Lf();return(f,m)=>(_r(),$a(LV,{"fill-height":""},{default:Wn(()=>[Re(JG,{elevation:"1",color:"white",density:"compact"},{default:Wn(()=>[nhe,Re(BV),Re(ai,{href:lt(l).returnUrl},{default:Wn(()=>[Re(zr,{left:"",icon:"mdi-logout-variant"}),ohe]),_:1},8,["href"])]),_:1}),Re(uw,{persistent:"",modelValue:lt(l).showInitFailure,"onUpdate:modelValue":m[0]||(m[0]=x=>lt(l).showInitFailure=x)},{default:Wn(()=>[Re(cw,null,{default:Wn(()=>[Re($0,null,{default:Wn(()=>[rhe]),_:1}),Re(V0,null,{default:Wn(()=>[Re(ai,{href:lt(l).returnUrl},{default:Wn(()=>[Re(zr,{left:"",icon:"mdi-logout-variant"}),she]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),Re(uw,{persistent:"",modelValue:lt(l).showReplaceConfirmation,"onUpdate:modelValue":m[2]||(m[2]=x=>lt(l).showReplaceConfirmation=x)},{default:Wn(()=>[Re(cw,null,{default:Wn(()=>[Re($0,null,{default:Wn(()=>[ihe,ahe]),_:1}),Re(V0,null,{default:Wn(()=>[Re(ai,{onClick:m[1]||(m[1]=x=>lt(l).loadDataFromBackend())},{default:Wn(()=>[Re(zr,{left:"",icon:"mdi-reload"}),lhe]),_:1}),Re(ai,{href:lt(l).returnUrl},{default:Wn(()=>[Re(zr,{left:"",icon:"mdi-logout-variant"}),che]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),Re(uw,{persistent:"",modelValue:lt(l).showReloadConfirmation,"onUpdate:modelValue":m[4]||(m[4]=x=>lt(l).showReloadConfirmation=x)},{default:Wn(()=>[Re(cw,null,{default:Wn(()=>[Re($0,null,{default:Wn(()=>[uhe,dhe]),_:1}),Re(V0,null,{default:Wn(()=>[Re(ai,{onClick:m[3]||(m[3]=x=>lt(l).loadDataFromBackend())},{default:Wn(()=>[Re(zr,{left:"",icon:"mdi-reload"}),fhe]),_:1}),Re(ai,{href:lt(l).returnUrl},{default:Wn(()=>[Re(zr,{left:"",icon:"mdi-logout-variant"}),mhe]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},Rd=r=>($M("data-v-87ec409d"),r=r(),UM(),r),hhe={class:"container"},phe={class:"column"},bhe=Rd(()=>Bn("div",{class:"col-header bg-grey-lighten-4"},[Bn("h2",{class:"text-h6",style:{color:"#f00000"}},"Ihre letzten Eingaben wurden noch nicht bertragen, sind aber lokal gesichert!"),Bn("p",null,"Bitte versuchen Sie die bertragung nach einer Minute erneut. Wenden Sie sich gegebenenfalls an die Aufsicht.")],-1)),vhe={class:"col-content"},xhe=["innerHTML"],yhe={class:"col-footer bg-grey-lighten-4"},whe=Rd(()=>Bn("span",null,"Weiter bearbeiten",-1)),Che={class:"column"},_he={class:"col-header bg-grey-lighten-4"},She=Rd(()=>Bn("h2",{class:"text-h6"},"Sie wurden von der Bearbeitung ausgeschlossen.",-1)),khe=Rd(()=>Bn("p",null,"Es ist keine weitere Eingabe mglich.",-1)),Ahe=[She,khe],Ehe={class:"col-header bg-grey-lighten-4"},The=Rd(()=>Bn("h2",{class:"text-h6"},"Ihre Bearbeitungszeit ist beendet",-1)),Ohe={key:0},Dhe={class:"col-header bg-grey-lighten-4"},Rhe=Rd(()=>Bn("h2",{class:"text-h6"},"Abgabe-Text",-1)),Nhe={key:0},Ihe={class:"col-content"},Bhe=["innerHTML"],Mhe={class:"col-footer bg-grey-lighten-4"},Phe=Rd(()=>Bn("span",null,"Meine Bearbeitung nicht bewerten",-1)),Lhe=Rd(()=>Bn("span",null,"Weiter bearbeiten",-1)),Fhe=Rd(()=>Bn("p",null,"Bei der bertragung ihres Texts ist ein Netzwerkproblem aufgetreten. Ihre Eingaben sind lokal gesichert.",-1)),zhe=Rd(()=>Bn("p",null,[Bn("br"),Sd(" Sie knnen die Klausur auch ohne bertragung verlassen und spter wieder aufrufen, um die bertragung nachzuholen. ")],-1)),Hhe=Rd(()=>Bn("br",null,null,-1)),Vhe=Rd(()=>Bn("br",null,null,-1)),$he=Rd(()=>Bn("span",null,"Meldung schlieen",-1)),Uhe=Rd(()=>Bn("span",null,"Ohne bertragung verlassen",-1)),Zhe={__name:"ReviewContent",setup(r){const l=Lf(),f=S1(),m=P0(),x=Qm(),v=_p(),w=aw();return(E,F)=>(_r(),$a(LV,{"fill-height":""},{default:Wn(()=>[Bn("div",hhe,[Yr(Bn("div",phe,[bhe,Bn("div",vhe,[Bn("div",{class:dw("long-essay-content "+lt(v).contentClass),style:L0("font-size:"+lt(w).editor_zoom*16+"px;"),innerHTML:lt(f).storedContent},null,14,xhe)]),Bn("div",yhe,[Re(ai,{class:"ma-2",color:lt(v).primaryColorCss,onClick:F[0]||(F[0]=P=>lt(l).retry())},{default:Wn(()=>[Re(zr,{color:lt(v).primaryTextColorCss,icon:"mdi-refresh"},null,8,["color"]),Bn("span",{style:L0(lt(v).primaryTextColorFullCss)},"Erneut versuchen",4)]),_:1},8,["color"]),Yr(Re(ai,{class:"ma-2",onClick:F[1]||(F[1]=P=>lt(l).review=!1)},{default:Wn(()=>[Re(zr,{icon:"mdi-file-edit-outline"}),whe]),_:1},512),[[Cs,!lt(x).writingEndReached&&!lt(x).isExcluded]])])],512),[[Cs,lt(f).openSendings>0]]),Yr(Bn("div",Che,[Yr(Bn("div",_he,Ahe,512),[[Cs,lt(x).isExcluded]]),Yr(Bn("div",Ehe,[The,Bn("p",null,[Sd("Es ist keine weitere Eingabe mglich. Bitte berprfen Sie, ob Sie den Text in dieser Form zur Bewertung abgeben mchten. "),lt(m).hasWrittenNotes?(_r(),pl("span",Ohe,"Ihre Notizen werden verworfen.")):Wl("",!0)])],512),[[Cs,lt(x).writingEndReached&&!lt(x).isExcluded]]),Yr(Bn("div",Dhe,[Rhe,Bn("p",null,[Sd("Bitte berprfen Sie, ob Sie den Text in dieser Form zur Bewertung abgeben mchten. "),lt(m).hasWrittenNotes?(_r(),pl("span",Nhe,"Ihre Notizen werden verworfen. Falls Teile davon bewertet werden sollen, kopieren Sie sie bitte in den Abgabetext.")):Wl("",!0),Sd(" Nach der Abgabe ist keine weitere Bearbeitung mehr mglich!")])],512),[[Cs,!lt(x).writingEndReached&&!lt(x).isExcluded]]),Bn("div",Ihe,[Bn("div",{class:dw("long-essay-content "+lt(v).contentClass),style:L0("font-size:"+lt(w).editor_zoom*16+"px;"),innerHTML:lt(f).storedContent},null,14,Bhe)]),Bn("div",Mhe,[Yr(Re(ai,{class:"ma-2 primary",onClick:F[2]||(F[2]=P=>lt(l).finalize(!0)),color:lt(v).primaryColorCss},{default:Wn(()=>[Re(zr,{color:lt(v).primaryTextColorCss,icon:"mdi-file-send-outline"},null,8,["color"]),Bn("span",{style:L0(lt(v).primaryTextColorFullCss)},"Zur Bewertung abgeben",4)]),_:1},8,["color"]),[[Cs,!lt(x).isExcluded]]),Yr(Re(ai,{class:"ma-2",onClick:F[3]||(F[3]=P=>lt(l).finalize(!1))},{default:Wn(()=>[Re(zr,{icon:"mdi-logout-variant"}),Phe]),_:1},512),[[Cs,lt(x).writingEndReached||lt(x).isExcluded]]),Yr(Re(ai,{class:"ma-2",onClick:F[4]||(F[4]=P=>lt(l).review=!1)},{default:Wn(()=>[Re(zr,{icon:"mdi-file-edit-outline"}),Lhe]),_:1},512),[[Cs,!lt(x).writingEndReached&&!lt(x).isExcluded]])])],512),[[Cs,lt(f).openSendings<=0]])]),Re(uw,{persistent:"",modelValue:lt(l).showFinalizeFailure,"onUpdate:modelValue":F[6]||(F[6]=P=>lt(l).showFinalizeFailure=P)},{default:Wn(()=>[Re(cw,null,{default:Wn(()=>[Re($0,null,{default:Wn(()=>[Fhe,zhe,Yr(Bn("p",null,[Hhe,Sd(" Melden Sie sich bei der Aufsicht, um Ihre Klausur zur Korrektur abzugeben. ")],512),[[Cs,lt(l).showAuthorizeFailure]]),Yr(Bn("p",null,[Vhe,Sd(" Melden Sie sich bei der Aufsicht, um Hilfe zu erhalten. ")],512),[[Cs,!lt(l).showAuthorizeFailure]])]),_:1}),Re(V0,null,{default:Wn(()=>[Re(ai,{onClick:F[5]||(F[5]=P=>lt(l).showFinalizeFailure=!1)},{default:Wn(()=>[Re(zr,{left:"",icon:"mdi-close"}),$he]),_:1}),Re(ai,{href:lt(l).returnUrl},{default:Wn(()=>[Re(zr,{left:"",icon:"mdi-logout-variant"}),Uhe]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},Whe=R1(Zhe,[["__scopeId","data-v-87ec409d"]]),jhe=vo({...Ii(),...Dce({fullHeight:!0}),...Od()},"VApp"),Khe=ns()({name:"VApp",props:jhe(),setup(r,l){let{slots:f}=l;const m=Dd(r),{layoutClasses:x,getLayoutItem:v,items:w,layoutRef:E}=Ice(r),{rtlClasses:F}=WS();return Qs(()=>{var P;return Re("div",{ref:E,class:["v-application",m.themeClasses.value,x.value,F.value,r.class],style:[r.style]},[Re("div",{class:"v-application__wrap"},[(P=f.default)==null?void 0:P.call(f)])])}),{getLayoutItem:v,items:w,theme:m}}}),qhe={__name:"App",setup(r){const l=Lf();return l.init(),(f,m)=>(_r(),$a(Khe,{"fill-height":""},{default:Wn(()=>[lt(l).initialized?Wl("",!0):(_r(),$a(ghe,{key:0})),lt(l).initialized?(_r(),$a(mme,{key:1})):Wl("",!0),lt(l).initialized&&!lt(l).review?(_r(),$a(Gme,{key:2})):Wl("",!0),lt(l).initialized&&!lt(l).review?(_r(),$a(the,{key:3})):Wl("",!0),lt(l).initialized&&lt(l).review?(_r(),$a(Whe,{key:4})):Wl("",!0)]),_:1}))}},fY=Tae(qhe);Zce(fY);fY.mount("#app");

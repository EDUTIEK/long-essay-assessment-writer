var eae=Object.defineProperty;var tae=(r,i,u)=>i in r?eae(r,i,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[i]=u;var Sr=(r,i,u)=>tae(r,typeof i!="symbol"?i+"":i,u);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const b of document.querySelectorAll('link[rel="modulepreload"]'))m(b);new MutationObserver(b=>{for(const h of b)if(h.type==="childList")for(const x of h.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&m(x)}).observe(document,{childList:!0,subtree:!0});function u(b){const h={};return b.integrity&&(h.integrity=b.integrity),b.referrerPolicy&&(h.referrerPolicy=b.referrerPolicy),b.crossOrigin==="use-credentials"?h.credentials="include":b.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function m(b){if(b.ep)return;b.ep=!0;const h=u(b);fetch(b.href,h)}})();/**
* @vue/shared v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function mV(r,i){const u=new Set(r.split(","));return m=>u.has(m)}const hi={},nk=[],lg=()=>{},nae=()=>!1,lM=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&(r.charCodeAt(2)>122||r.charCodeAt(2)<97),gV=r=>r.startsWith("onUpdate:"),Fl=Object.assign,hV=(r,i)=>{const u=r.indexOf(i);u>-1&&r.splice(u,1)},oae=Object.prototype.hasOwnProperty,ks=(r,i)=>oae.call(r,i),Jo=Array.isArray,ok=r=>cM(r)==="[object Map]",_K=r=>cM(r)==="[object Set]",br=r=>typeof r=="function",Xi=r=>typeof r=="string",hy=r=>typeof r=="symbol",Pa=r=>r!==null&&typeof r=="object",SK=r=>(Pa(r)||br(r))&&br(r.then)&&br(r.catch),kK=Object.prototype.toString,cM=r=>kK.call(r),rae=r=>cM(r).slice(8,-1),EK=r=>cM(r)==="[object Object]",pV=r=>Xi(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,UT=mV(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),uM=r=>{const i=Object.create(null);return u=>i[u]||(i[u]=r(u))},sae=/-(\w)/g,Zf=uM(r=>r.replace(sae,(i,u)=>u?u.toUpperCase():"")),aae=/\B([A-Z])/g,Fw=uM(r=>r.replace(aae,"-$1").toLowerCase()),e1=uM(r=>r.charAt(0).toUpperCase()+r.slice(1)),X9=uM(r=>r?`on${e1(r)}`:""),fy=(r,i)=>!Object.is(r,i),N8=(r,...i)=>{for(let u=0;u<r.length;u++)r[u](...i)},AK=(r,i,u,m=!1)=>{Object.defineProperty(r,i,{configurable:!0,enumerable:!1,writable:m,value:u})},TH=r=>{const i=parseFloat(r);return isNaN(i)?r:i},iae=r=>{const i=Xi(r)?Number(r):NaN;return isNaN(i)?r:i};let gZ;const TK=()=>gZ||(gZ=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function K0(r){if(Jo(r)){const i={};for(let u=0;u<r.length;u++){const m=r[u],b=Xi(m)?dae(m):K0(m);if(b)for(const h in b)i[h]=b[h]}return i}else if(Xi(r)||Pa(r))return r}const lae=/;(?![^(]*\))/g,cae=/:([^]+)/,uae=/\/\*[^]*?\*\//g;function dae(r){const i={};return r.replace(uae,"").split(lae).forEach(u=>{if(u){const m=u.split(cae);m.length>1&&(i[m[0].trim()]=m[1].trim())}}),i}function my(r){let i="";if(Xi(r))i=r;else if(Jo(r))for(let u=0;u<r.length;u++){const m=my(r[u]);m&&(i+=m+" ")}else if(Pa(r))for(const u in r)r[u]&&(i+=u+" ");return i.trim()}const fae="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",mae=mV(fae);function OK(r){return!!r||r===""}const DK=r=>!!(r&&r.__v_isRef===!0),Ml=r=>Xi(r)?r:r==null?"":Jo(r)||Pa(r)&&(r.toString===kK||!br(r.toString))?DK(r)?Ml(r.value):JSON.stringify(r,RK,2):String(r),RK=(r,i)=>DK(i)?RK(r,i.value):ok(i)?{[`Map(${i.size})`]:[...i.entries()].reduce((u,[m,b],h)=>(u[J9(m,h)+" =>"]=b,u),{})}:_K(i)?{[`Set(${i.size})`]:[...i.values()].map(u=>J9(u))}:hy(i)?J9(i):Pa(i)&&!Jo(i)&&!EK(i)?String(i):i,J9=(r,i="")=>{var u;return hy(r)?`Symbol(${(u=r.description)!=null?u:i})`:r};/**
* @vue/reactivity v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ff;class NK{constructor(i=!1){this.detached=i,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ff,!i&&Ff&&(this.index=(Ff.scopes||(Ff.scopes=[])).push(this)-1)}get active(){return this._active}run(i){if(this._active){const u=Ff;try{return Ff=this,i()}finally{Ff=u}}}on(){Ff=this}off(){Ff=this.parent}stop(i){if(this._active){let u,m;for(u=0,m=this.effects.length;u<m;u++)this.effects[u].stop();for(u=0,m=this.cleanups.length;u<m;u++)this.cleanups[u]();if(this.scopes)for(u=0,m=this.scopes.length;u<m;u++)this.scopes[u].stop(!0);if(!this.detached&&this.parent&&!i){const b=this.parent.scopes.pop();b&&b!==this&&(this.parent.scopes[this.index]=b,b.index=this.index)}this.parent=void 0,this._active=!1}}}function rO(r){return new NK(r)}function gae(r,i=Ff){i&&i.active&&i.effects.push(r)}function IK(){return Ff}function jf(r){Ff&&Ff.cleanups.push(r)}let Aw;class bV{constructor(i,u,m,b){this.fn=i,this.trigger=u,this.scheduler=m,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,gae(this,b)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,py();for(let i=0;i<this._depsLength;i++){const u=this.deps[i];if(u.computed&&(hae(u.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),by()}return this._dirtyLevel>=4}set dirty(i){this._dirtyLevel=i?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let i=cy,u=Aw;try{return cy=!0,Aw=this,this._runnings++,hZ(this),this.fn()}finally{pZ(this),this._runnings--,Aw=u,cy=i}}stop(){this.active&&(hZ(this),pZ(this),this.onStop&&this.onStop(),this.active=!1)}}function hae(r){return r.value}function hZ(r){r._trackId++,r._depsLength=0}function pZ(r){if(r.deps.length>r._depsLength){for(let i=r._depsLength;i<r.deps.length;i++)BK(r.deps[i],r);r.deps.length=r._depsLength}}function BK(r,i){const u=r.get(i);u!==void 0&&i._trackId!==u&&(r.delete(i),r.size===0&&r.cleanup())}let cy=!0,OH=0;const MK=[];function py(){MK.push(cy),cy=!1}function by(){const r=MK.pop();cy=r===void 0?!0:r}function vV(){OH++}function yV(){for(OH--;!OH&&DH.length;)DH.shift()()}function PK(r,i,u){if(i.get(r)!==r._trackId){i.set(r,r._trackId);const m=r.deps[r._depsLength];m!==i?(m&&BK(m,r),r.deps[r._depsLength++]=i):r._depsLength++}}const DH=[];function LK(r,i,u){vV();for(const m of r.keys()){let b;m._dirtyLevel<i&&(b??(b=r.get(m)===m._trackId))&&(m._shouldSchedule||(m._shouldSchedule=m._dirtyLevel===0),m._dirtyLevel=i),m._shouldSchedule&&(b??(b=r.get(m)===m._trackId))&&(m.trigger(),(!m._runnings||m.allowRecurse)&&m._dirtyLevel!==2&&(m._shouldSchedule=!1,m.scheduler&&DH.push(m.scheduler)))}yV()}const FK=(r,i)=>{const u=new Map;return u.cleanup=r,u.computed=i,u},U8=new WeakMap,Tw=Symbol(""),RH=Symbol("");function zd(r,i,u){if(cy&&Aw){let m=U8.get(r);m||U8.set(r,m=new Map);let b=m.get(u);b||m.set(u,b=FK(()=>m.delete(u))),PK(Aw,b)}}function G0(r,i,u,m,b,h){const x=U8.get(r);if(!x)return;let S=[];if(i==="clear")S=[...x.values()];else if(u==="length"&&Jo(r)){const B=Number(m);x.forEach((N,R)=>{(R==="length"||!hy(R)&&R>=B)&&S.push(N)})}else switch(u!==void 0&&S.push(x.get(u)),i){case"add":Jo(r)?pV(u)&&S.push(x.get("length")):(S.push(x.get(Tw)),ok(r)&&S.push(x.get(RH)));break;case"delete":Jo(r)||(S.push(x.get(Tw)),ok(r)&&S.push(x.get(RH)));break;case"set":ok(r)&&S.push(x.get(Tw));break}vV();for(const B of S)B&&LK(B,4);yV()}function pae(r,i){const u=U8.get(r);return u&&u.get(i)}const bae=mV("__proto__,__v_isRef,__isVue"),zK=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(hy)),bZ=vae();function vae(){const r={};return["includes","indexOf","lastIndexOf"].forEach(i=>{r[i]=function(...u){const m=Ao(this);for(let h=0,x=this.length;h<x;h++)zd(m,"get",h+"");const b=m[i](...u);return b===-1||b===!1?m[i](...u.map(Ao)):b}}),["push","pop","shift","unshift","splice"].forEach(i=>{r[i]=function(...u){py(),vV();const m=Ao(this)[i].apply(this,u);return yV(),by(),m}}),r}function yae(r){hy(r)||(r=String(r));const i=Ao(this);return zd(i,"has",r),i.hasOwnProperty(r)}class HK{constructor(i=!1,u=!1){this._isReadonly=i,this._isShallow=u}get(i,u,m){const b=this._isReadonly,h=this._isShallow;if(u==="__v_isReactive")return!b;if(u==="__v_isReadonly")return b;if(u==="__v_isShallow")return h;if(u==="__v_raw")return m===(b?h?Nae:WK:h?UK:$K).get(i)||Object.getPrototypeOf(i)===Object.getPrototypeOf(m)?i:void 0;const x=Jo(i);if(!b){if(x&&ks(bZ,u))return Reflect.get(bZ,u,m);if(u==="hasOwnProperty")return yae}const S=Reflect.get(i,u,m);return(hy(u)?zK.has(u):bae(u))||(b||zd(i,"get",u),h)?S:La(S)?x&&pV(u)?S:S.value:Pa(S)?b?sO(S):mu(S):S}}class VK extends HK{constructor(i=!1){super(!1,i)}set(i,u,m,b){let h=i[u];if(!this._isShallow){const B=Mw(h);if(!sk(m)&&!Mw(m)&&(h=Ao(h),m=Ao(m)),!Jo(i)&&La(h)&&!La(m))return B?!1:(h.value=m,!0)}const x=Jo(i)&&pV(u)?Number(u)<i.length:ks(i,u),S=Reflect.set(i,u,m,b);return i===Ao(b)&&(x?fy(m,h)&&G0(i,"set",u,m):G0(i,"add",u,m)),S}deleteProperty(i,u){const m=ks(i,u);i[u];const b=Reflect.deleteProperty(i,u);return b&&m&&G0(i,"delete",u,void 0),b}has(i,u){const m=Reflect.has(i,u);return(!hy(u)||!zK.has(u))&&zd(i,"has",u),m}ownKeys(i){return zd(i,"iterate",Jo(i)?"length":Tw),Reflect.ownKeys(i)}}class xae extends HK{constructor(i=!1){super(!0,i)}set(i,u){return!0}deleteProperty(i,u){return!0}}const wae=new VK,Cae=new xae,_ae=new VK(!0);const xV=r=>r,dM=r=>Reflect.getPrototypeOf(r);function u8(r,i,u=!1,m=!1){r=r.__v_raw;const b=Ao(r),h=Ao(i);u||(fy(i,h)&&zd(b,"get",i),zd(b,"get",h));const{has:x}=dM(b),S=m?xV:u?SV:qT;if(x.call(b,i))return S(r.get(i));if(x.call(b,h))return S(r.get(h));r!==b&&r.get(i)}function d8(r,i=!1){const u=this.__v_raw,m=Ao(u),b=Ao(r);return i||(fy(r,b)&&zd(m,"has",r),zd(m,"has",b)),r===b?u.has(r):u.has(r)||u.has(b)}function f8(r,i=!1){return r=r.__v_raw,!i&&zd(Ao(r),"iterate",Tw),Reflect.get(r,"size",r)}function vZ(r,i=!1){!i&&!sk(r)&&!Mw(r)&&(r=Ao(r));const u=Ao(this);return dM(u).has.call(u,r)||(u.add(r),G0(u,"add",r,r)),this}function yZ(r,i,u=!1){!u&&!sk(i)&&!Mw(i)&&(i=Ao(i));const m=Ao(this),{has:b,get:h}=dM(m);let x=b.call(m,r);x||(r=Ao(r),x=b.call(m,r));const S=h.call(m,r);return m.set(r,i),x?fy(i,S)&&G0(m,"set",r,i):G0(m,"add",r,i),this}function xZ(r){const i=Ao(this),{has:u,get:m}=dM(i);let b=u.call(i,r);b||(r=Ao(r),b=u.call(i,r)),m&&m.call(i,r);const h=i.delete(r);return b&&G0(i,"delete",r,void 0),h}function wZ(){const r=Ao(this),i=r.size!==0,u=r.clear();return i&&G0(r,"clear",void 0,void 0),u}function m8(r,i){return function(m,b){const h=this,x=h.__v_raw,S=Ao(x),B=i?xV:r?SV:qT;return!r&&zd(S,"iterate",Tw),x.forEach((N,R)=>m.call(b,B(N),B(R),h))}}function g8(r,i,u){return function(...m){const b=this.__v_raw,h=Ao(b),x=ok(h),S=r==="entries"||r===Symbol.iterator&&x,B=r==="keys"&&x,N=b[r](...m),R=u?xV:i?SV:qT;return!i&&zd(h,"iterate",B?RH:Tw),{next(){const{value:F,done:W}=N.next();return W?{value:F,done:W}:{value:S?[R(F[0]),R(F[1])]:R(F),done:W}},[Symbol.iterator](){return this}}}}function Xv(r){return function(...i){return r==="delete"?!1:r==="clear"?void 0:this}}function Sae(){const r={get(h){return u8(this,h)},get size(){return f8(this)},has:d8,add:vZ,set:yZ,delete:xZ,clear:wZ,forEach:m8(!1,!1)},i={get(h){return u8(this,h,!1,!0)},get size(){return f8(this)},has:d8,add(h){return vZ.call(this,h,!0)},set(h,x){return yZ.call(this,h,x,!0)},delete:xZ,clear:wZ,forEach:m8(!1,!0)},u={get(h){return u8(this,h,!0)},get size(){return f8(this,!0)},has(h){return d8.call(this,h,!0)},add:Xv("add"),set:Xv("set"),delete:Xv("delete"),clear:Xv("clear"),forEach:m8(!0,!1)},m={get(h){return u8(this,h,!0,!0)},get size(){return f8(this,!0)},has(h){return d8.call(this,h,!0)},add:Xv("add"),set:Xv("set"),delete:Xv("delete"),clear:Xv("clear"),forEach:m8(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(h=>{r[h]=g8(h,!1,!1),u[h]=g8(h,!0,!1),i[h]=g8(h,!1,!0),m[h]=g8(h,!0,!0)}),[r,u,i,m]}const[kae,Eae,Aae,Tae]=Sae();function wV(r,i){const u=i?r?Tae:Aae:r?Eae:kae;return(m,b,h)=>b==="__v_isReactive"?!r:b==="__v_isReadonly"?r:b==="__v_raw"?m:Reflect.get(ks(u,b)&&b in m?u:m,b,h)}const Oae={get:wV(!1,!1)},Dae={get:wV(!1,!0)},Rae={get:wV(!0,!1)};const $K=new WeakMap,UK=new WeakMap,WK=new WeakMap,Nae=new WeakMap;function Iae(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Bae(r){return r.__v_skip||!Object.isExtensible(r)?0:Iae(rae(r))}function mu(r){return Mw(r)?r:CV(r,!1,wae,Oae,$K)}function Mae(r){return CV(r,!1,_ae,Dae,UK)}function sO(r){return CV(r,!0,Cae,Rae,WK)}function CV(r,i,u,m,b){if(!Pa(r)||r.__v_raw&&!(i&&r.__v_isReactive))return r;const h=b.get(r);if(h)return h;const x=Bae(r);if(x===0)return r;const S=new Proxy(r,x===2?m:u);return b.set(r,S),S}function Ow(r){return Mw(r)?Ow(r.__v_raw):!!(r&&r.__v_isReactive)}function Mw(r){return!!(r&&r.__v_isReadonly)}function sk(r){return!!(r&&r.__v_isShallow)}function ZK(r){return r?!!r.__v_raw:!1}function Ao(r){const i=r&&r.__v_raw;return i?Ao(i):r}function _V(r){return Object.isExtensible(r)&&AK(r,"__v_skip",!0),r}const qT=r=>Pa(r)?mu(r):r,SV=r=>Pa(r)?sO(r):r;class jK{constructor(i,u,m,b){this.getter=i,this._setter=u,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new bV(()=>i(this._value),()=>I8(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!b,this.__v_isReadonly=m}get value(){const i=Ao(this);return(!i._cacheable||i.effect.dirty)&&fy(i._value,i._value=i.effect.run())&&I8(i,4),KK(i),i.effect._dirtyLevel>=2&&I8(i,2),i._value}set value(i){this._setter(i)}get _dirty(){return this.effect.dirty}set _dirty(i){this.effect.dirty=i}}function Pae(r,i,u=!1){let m,b;const h=br(r);return h?(m=r,b=lg):(m=r.get,b=r.set),new jK(m,b,h||!b,u)}function KK(r){var i;cy&&Aw&&(r=Ao(r),PK(Aw,(i=r.dep)!=null?i:r.dep=FK(()=>r.dep=void 0,r instanceof jK?r:void 0)))}function I8(r,i=4,u,m){r=Ao(r);const b=r.dep;b&&LK(b,i)}function La(r){return!!(r&&r.__v_isRef===!0)}function wo(r){return qK(r,!1)}function Tr(r){return qK(r,!0)}function qK(r,i){return La(r)?r:new Lae(r,i)}class Lae{constructor(i,u){this.__v_isShallow=u,this.dep=void 0,this.__v_isRef=!0,this._rawValue=u?i:Ao(i),this._value=u?i:qT(i)}get value(){return KK(this),this._value}set value(i){const u=this.__v_isShallow||sk(i)||Mw(i);i=u?i:Ao(i),fy(i,this._rawValue)&&(this._rawValue,this._rawValue=i,this._value=u?i:qT(i),I8(this,4))}}function Ve(r){return La(r)?r.value:r}const Fae={get:(r,i,u)=>Ve(Reflect.get(r,i,u)),set:(r,i,u,m)=>{const b=r[i];return La(b)&&!La(u)?(b.value=u,!0):Reflect.set(r,i,u,m)}};function GK(r){return Ow(r)?r:new Proxy(r,Fae)}function aO(r){const i=Jo(r)?new Array(r.length):{};for(const u in r)i[u]=YK(r,u);return i}class zae{constructor(i,u,m){this._object=i,this._key=u,this._defaultValue=m,this.__v_isRef=!0}get value(){const i=this._object[this._key];return i===void 0?this._defaultValue:i}set value(i){this._object[this._key]=i}get dep(){return pae(Ao(this._object),this._key)}}class Hae{constructor(i){this._getter=i,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function jr(r,i,u){return La(r)?r:br(r)?new Hae(r):Pa(r)&&arguments.length>1?YK(r,i,u):wo(r)}function YK(r,i,u){const m=r[i];return La(m)?m:new zae(r,i,u)}/**
* @vue/runtime-core v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function uy(r,i,u,m){try{return m?r(...m):r()}catch(b){fM(b,i,u)}}function cg(r,i,u,m){if(br(r)){const b=uy(r,i,u,m);return b&&SK(b)&&b.catch(h=>{fM(h,i,u)}),b}if(Jo(r)){const b=[];for(let h=0;h<r.length;h++)b.push(cg(r[h],i,u,m));return b}}function fM(r,i,u,m=!0){const b=i?i.vnode:null;if(i){let h=i.parent;const x=i.proxy,S=`https://vuejs.org/error-reference/#runtime-${u}`;for(;h;){const N=h.ec;if(N){for(let R=0;R<N.length;R++)if(N[R](r,x,S)===!1)return}h=h.parent}const B=i.appContext.config.errorHandler;if(B){py(),uy(B,null,10,[r,x,S]),by();return}}Vae(r,u,b,m)}function Vae(r,i,u,m=!0){console.error(r)}let GT=!1,NH=!1;const gu=[];let zp=0;const rk=[];let oy=null,Sw=0;const XK=Promise.resolve();let kV=null;function Ma(r){const i=kV||XK;return r?i.then(this?r.bind(this):r):i}function $ae(r){let i=zp+1,u=gu.length;for(;i<u;){const m=i+u>>>1,b=gu[m],h=YT(b);h<r||h===r&&b.pre?i=m+1:u=m}return i}function EV(r){(!gu.length||!gu.includes(r,GT&&r.allowRecurse?zp+1:zp))&&(r.id==null?gu.push(r):gu.splice($ae(r.id),0,r),JK())}function JK(){!GT&&!NH&&(NH=!0,kV=XK.then(eq))}function Uae(r){const i=gu.indexOf(r);i>zp&&gu.splice(i,1)}function Wae(r){Jo(r)?rk.push(...r):(!oy||!oy.includes(r,r.allowRecurse?Sw+1:Sw))&&rk.push(r),JK()}function CZ(r,i,u=GT?zp+1:0){for(;u<gu.length;u++){const m=gu[u];if(m&&m.pre){if(r&&m.id!==r.uid)continue;gu.splice(u,1),u--,m()}}}function QK(r){if(rk.length){const i=[...new Set(rk)].sort((u,m)=>YT(u)-YT(m));if(rk.length=0,oy){oy.push(...i);return}for(oy=i,Sw=0;Sw<oy.length;Sw++){const u=oy[Sw];u.active!==!1&&u()}oy=null,Sw=0}}const YT=r=>r.id==null?1/0:r.id,Zae=(r,i)=>{const u=YT(r)-YT(i);if(u===0){if(r.pre&&!i.pre)return-1;if(i.pre&&!r.pre)return 1}return u};function eq(r){NH=!1,GT=!0,gu.sort(Zae);try{for(zp=0;zp<gu.length;zp++){const i=gu[zp];i&&i.active!==!1&&uy(i,i.i,i.i?15:14)}}finally{zp=0,gu.length=0,QK(),GT=!1,kV=null,(gu.length||rk.length)&&eq()}}let Qu=null,mM=null;function W8(r){const i=Qu;return Qu=r,mM=r&&r.type.__scopeId||null,i}function vy(r){mM=r}function yy(){mM=null}function cn(r,i=Qu,u){if(!i||r._n)return r;const m=(...b)=>{m._d&&BZ(-1);const h=W8(i);let x;try{x=r(...b)}finally{W8(h),m._d&&BZ(1)}return x};return m._n=!0,m._c=!0,m._d=!0,m}function qo(r,i){if(Qu===null)return r;const u=vM(Qu),m=r.dirs||(r.dirs=[]);for(let b=0;b<i.length;b++){let[h,x,S,B=hi]=i[b];h&&(br(h)&&(h={mounted:h,updated:h}),h.deep&&ay(x),m.push({dir:h,instance:u,value:x,oldValue:void 0,arg:S,modifiers:B}))}return r}function bw(r,i,u,m){const b=r.dirs,h=i&&i.dirs;for(let x=0;x<b.length;x++){const S=b[x];h&&(S.oldValue=h[x].value);let B=S.dir[m];B&&(py(),cg(B,u,8,[r.el,S,r,i]),by())}}const ry=Symbol("_leaveCb"),h8=Symbol("_enterCb");function tq(){const r={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ic(()=>{r.isMounted=!0}),Bc(()=>{r.isUnmounting=!0}),r}const sg=[Function,Array],nq={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:sg,onEnter:sg,onAfterEnter:sg,onEnterCancelled:sg,onBeforeLeave:sg,onLeave:sg,onAfterLeave:sg,onLeaveCancelled:sg,onBeforeAppear:sg,onAppear:sg,onAfterAppear:sg,onAppearCancelled:sg},oq=r=>{const i=r.subTree;return i.component?oq(i.component):i},jae={name:"BaseTransition",props:nq,setup(r,{slots:i}){const u=LV(),m=tq();return()=>{const b=i.default&&AV(i.default(),!0);if(!b||!b.length)return;let h=b[0];if(b.length>1){for(const W of b)if(W.type!==zf){h=W;break}}const x=Ao(r),{mode:S}=x;if(m.isLeaving)return Q9(h);const B=_Z(h);if(!B)return Q9(h);let N=XT(B,x,m,u,W=>N=W);ak(B,N);const R=u.subTree,F=R&&_Z(R);if(F&&F.type!==zf&&!kw(B,F)&&oq(u).type!==zf){const W=XT(F,x,m,u);if(ak(F,W),S==="out-in"&&B.type!==zf)return m.isLeaving=!0,W.afterLeave=()=>{m.isLeaving=!1,u.update.active!==!1&&(u.effect.dirty=!0,u.update())},Q9(h);S==="in-out"&&B.type!==zf&&(W.delayLeave=($,K,ee)=>{const ge=rq(m,F);ge[String(F.key)]=F,$[ry]=()=>{K(),$[ry]=void 0,delete N.delayedLeave},N.delayedLeave=ee})}return h}}},Kae=jae;function rq(r,i){const{leavingVNodes:u}=r;let m=u.get(i.type);return m||(m=Object.create(null),u.set(i.type,m)),m}function XT(r,i,u,m,b){const{appear:h,mode:x,persisted:S=!1,onBeforeEnter:B,onEnter:N,onAfterEnter:R,onEnterCancelled:F,onBeforeLeave:W,onLeave:$,onAfterLeave:K,onLeaveCancelled:ee,onBeforeAppear:ge,onAppear:he,onAfterAppear:Ue,onAppearCancelled:Te}=i,te=String(r.key),Ae=rq(u,r),ne=(Ze,ot)=>{Ze&&cg(Ze,m,9,ot)},Ge=(Ze,ot)=>{const Ce=ot[1];ne(Ze,ot),Jo(Ze)?Ze.every(Ne=>Ne.length<=1)&&Ce():Ze.length<=1&&Ce()},$e={mode:x,persisted:S,beforeEnter(Ze){let ot=B;if(!u.isMounted)if(h)ot=ge||B;else return;Ze[ry]&&Ze[ry](!0);const Ce=Ae[te];Ce&&kw(r,Ce)&&Ce.el[ry]&&Ce.el[ry](),ne(ot,[Ze])},enter(Ze){let ot=N,Ce=R,Ne=F;if(!u.isMounted)if(h)ot=he||N,Ce=Ue||R,Ne=Te||F;else return;let D=!1;const yt=Ze[h8]=Pt=>{D||(D=!0,Pt?ne(Ne,[Ze]):ne(Ce,[Ze]),$e.delayedLeave&&$e.delayedLeave(),Ze[h8]=void 0)};ot?Ge(ot,[Ze,yt]):yt()},leave(Ze,ot){const Ce=String(r.key);if(Ze[h8]&&Ze[h8](!0),u.isUnmounting)return ot();ne(W,[Ze]);let Ne=!1;const D=Ze[ry]=yt=>{Ne||(Ne=!0,ot(),yt?ne(ee,[Ze]):ne(K,[Ze]),Ze[ry]=void 0,Ae[Ce]===r&&delete Ae[Ce])};Ae[Ce]=r,$?Ge($,[Ze,D]):D()},clone(Ze){const ot=XT(Ze,i,u,m,b);return b&&b(ot),ot}};return $e}function Q9(r){if(gM(r))return r=gy(r),r.children=null,r}function _Z(r){if(!gM(r))return r;const{shapeFlag:i,children:u}=r;if(u){if(i&16)return u[0];if(i&32&&br(u.default))return u.default()}}function ak(r,i){r.shapeFlag&6&&r.component?ak(r.component.subTree,i):r.shapeFlag&128?(r.ssContent.transition=i.clone(r.ssContent),r.ssFallback.transition=i.clone(r.ssFallback)):r.transition=i}function AV(r,i=!1,u){let m=[],b=0;for(let h=0;h<r.length;h++){let x=r[h];const S=u==null?x.key:String(u)+String(x.key!=null?x.key:h);x.type===Es?(x.patchFlag&128&&b++,m=m.concat(AV(x.children,i,S))):(i||x.type!==zf)&&m.push(S!=null?gy(x,{key:S}):x)}if(b>1)for(let h=0;h<m.length;h++)m[h].patchFlag=-2;return m}/*! #__NO_SIDE_EFFECTS__ */function sq(r,i){return br(r)?Fl({name:r.name},i,{setup:r}):r}const B8=r=>!!r.type.__asyncLoader,gM=r=>r.type.__isKeepAlive;function TV(r,i){aq(r,"a",i)}function OV(r,i){aq(r,"da",i)}function aq(r,i,u=rc){const m=r.__wdc||(r.__wdc=()=>{let b=u;for(;b;){if(b.isDeactivated)return;b=b.parent}return r()});if(hM(i,m,u),u){let b=u.parent;for(;b&&b.parent;)gM(b.parent.vnode)&&qae(m,i,u,b),b=b.parent}}function qae(r,i,u,m){const b=hM(i,r,m,!0);iq(()=>{hV(m[i],b)},u)}function hM(r,i,u=rc,m=!1){if(u){const b=u[r]||(u[r]=[]),h=i.__weh||(i.__weh=(...x)=>{py();const S=cO(u),B=cg(i,u,r,x);return S(),by(),B});return m?b.unshift(h):b.push(h),h}}const t1=r=>(i,u=rc)=>{(!bM||r==="sp")&&hM(r,(...m)=>i(...m),u)},DV=t1("bm"),Ic=t1("m"),Gae=t1("bu"),RV=t1("u"),Bc=t1("bum"),iq=t1("um"),Yae=t1("sp"),Xae=t1("rtg"),Jae=t1("rtc");function Qae(r,i=rc){hM("ec",r,i)}const lq="components",eie="directives",tie=Symbol.for("v-ndc");function nie(r){return Xi(r)&&cq(lq,r,!1)||r}function iO(r){return cq(eie,r)}function cq(r,i,u=!0,m=!1){const b=Qu||rc;if(b){const h=b.type;if(r===lq){const S=Kie(h,!1);if(S&&(S===i||S===Zf(i)||S===e1(Zf(i))))return h}const x=SZ(b[r]||h[r],i)||SZ(b.appContext[r],i);return!x&&m?h:x}}function SZ(r,i){return r&&(r[i]||r[Zf(i)]||r[e1(Zf(i))])}function ik(r,i,u,m){let b;const h=u;if(Jo(r)||Xi(r)){b=new Array(r.length);for(let x=0,S=r.length;x<S;x++)b[x]=i(r[x],x,void 0,h)}else if(typeof r=="number"){b=new Array(r);for(let x=0;x<r;x++)b[x]=i(x+1,x,void 0,h)}else if(Pa(r))if(r[Symbol.iterator])b=Array.from(r,(x,S)=>i(x,S,void 0,h));else{const x=Object.keys(r);b=new Array(x.length);for(let S=0,B=x.length;S<B;S++){const N=x[S];b[S]=i(r[N],N,S,h)}}else b=[];return b}const IH=r=>r?Oq(r)?vM(r):IH(r.parent):null,WT=Fl(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>IH(r.parent),$root:r=>IH(r.root),$emit:r=>r.emit,$options:r=>NV(r),$forceUpdate:r=>r.f||(r.f=()=>{r.effect.dirty=!0,EV(r.update)}),$nextTick:r=>r.n||(r.n=Ma.bind(r.proxy)),$watch:r=>Tie.bind(r)}),eH=(r,i)=>r!==hi&&!r.__isScriptSetup&&ks(r,i),oie={get({_:r},i){if(i==="__v_skip")return!0;const{ctx:u,setupState:m,data:b,props:h,accessCache:x,type:S,appContext:B}=r;let N;if(i[0]!=="$"){const $=x[i];if($!==void 0)switch($){case 1:return m[i];case 2:return b[i];case 4:return u[i];case 3:return h[i]}else{if(eH(m,i))return x[i]=1,m[i];if(b!==hi&&ks(b,i))return x[i]=2,b[i];if((N=r.propsOptions[0])&&ks(N,i))return x[i]=3,h[i];if(u!==hi&&ks(u,i))return x[i]=4,u[i];BH&&(x[i]=0)}}const R=WT[i];let F,W;if(R)return i==="$attrs"&&zd(r.attrs,"get",""),R(r);if((F=S.__cssModules)&&(F=F[i]))return F;if(u!==hi&&ks(u,i))return x[i]=4,u[i];if(W=B.config.globalProperties,ks(W,i))return W[i]},set({_:r},i,u){const{data:m,setupState:b,ctx:h}=r;return eH(b,i)?(b[i]=u,!0):m!==hi&&ks(m,i)?(m[i]=u,!0):ks(r.props,i)||i[0]==="$"&&i.slice(1)in r?!1:(h[i]=u,!0)},has({_:{data:r,setupState:i,accessCache:u,ctx:m,appContext:b,propsOptions:h}},x){let S;return!!u[x]||r!==hi&&ks(r,x)||eH(i,x)||(S=h[0])&&ks(S,x)||ks(m,x)||ks(WT,x)||ks(b.config.globalProperties,x)},defineProperty(r,i,u){return u.get!=null?r._.accessCache[i]=0:ks(u,"value")&&this.set(r,i,u.value,null),Reflect.defineProperty(r,i,u)}};function kZ(r){return Jo(r)?r.reduce((i,u)=>(i[u]=null,i),{}):r}let BH=!0;function rie(r){const i=NV(r),u=r.proxy,m=r.ctx;BH=!1,i.beforeCreate&&EZ(i.beforeCreate,r,"bc");const{data:b,computed:h,methods:x,watch:S,provide:B,inject:N,created:R,beforeMount:F,mounted:W,beforeUpdate:$,updated:K,activated:ee,deactivated:ge,beforeDestroy:he,beforeUnmount:Ue,destroyed:Te,unmounted:te,render:Ae,renderTracked:ne,renderTriggered:Ge,errorCaptured:$e,serverPrefetch:Ze,expose:ot,inheritAttrs:Ce,components:Ne,directives:D,filters:yt}=i;if(N&&sie(N,m,null),x)for(const hn in x){const Qe=x[hn];br(Qe)&&(m[hn]=Qe.bind(u))}if(b){const hn=b.call(u,u);Pa(hn)&&(r.data=mu(hn))}if(BH=!0,h)for(const hn in h){const Qe=h[hn],On=br(Qe)?Qe.bind(u,u):br(Qe.get)?Qe.get.bind(u,u):lg,sr=!br(Qe)&&br(Qe.set)?Qe.set.bind(u):lg,pt=ct({get:On,set:sr});Object.defineProperty(m,hn,{enumerable:!0,configurable:!0,get:()=>pt.value,set:bt=>pt.value=bt})}if(S)for(const hn in S)uq(S[hn],m,u,hn);if(B){const hn=br(B)?B.call(u):B;Reflect.ownKeys(hn).forEach(Qe=>{Kf(Qe,hn[Qe])})}R&&EZ(R,r,"c");function ln(hn,Qe){Jo(Qe)?Qe.forEach(On=>hn(On.bind(u))):Qe&&hn(Qe.bind(u))}if(ln(DV,F),ln(Ic,W),ln(Gae,$),ln(RV,K),ln(TV,ee),ln(OV,ge),ln(Qae,$e),ln(Jae,ne),ln(Xae,Ge),ln(Bc,Ue),ln(iq,te),ln(Yae,Ze),Jo(ot))if(ot.length){const hn=r.exposed||(r.exposed={});ot.forEach(Qe=>{Object.defineProperty(hn,Qe,{get:()=>u[Qe],set:On=>u[Qe]=On})})}else r.exposed||(r.exposed={});Ae&&r.render===lg&&(r.render=Ae),Ce!=null&&(r.inheritAttrs=Ce),Ne&&(r.components=Ne),D&&(r.directives=D)}function sie(r,i,u=lg){Jo(r)&&(r=MH(r));for(const m in r){const b=r[m];let h;Pa(b)?"default"in b?h=Yi(b.from||m,b.default,!0):h=Yi(b.from||m):h=Yi(b),La(h)?Object.defineProperty(i,m,{enumerable:!0,configurable:!0,get:()=>h.value,set:x=>h.value=x}):i[m]=h}}function EZ(r,i,u){cg(Jo(r)?r.map(m=>m.bind(i.proxy)):r.bind(i.proxy),i,u)}function uq(r,i,u,m){const b=m.includes(".")?kq(u,m):()=>u[m];if(Xi(r)){const h=i[r];br(h)&&Gn(b,h)}else if(br(r))Gn(b,r.bind(u));else if(Pa(r))if(Jo(r))r.forEach(h=>uq(h,i,u,m));else{const h=br(r.handler)?r.handler.bind(u):i[r.handler];br(h)&&Gn(b,h,r)}}function NV(r){const i=r.type,{mixins:u,extends:m}=i,{mixins:b,optionsCache:h,config:{optionMergeStrategies:x}}=r.appContext,S=h.get(i);let B;return S?B=S:!b.length&&!u&&!m?B=i:(B={},b.length&&b.forEach(N=>Z8(B,N,x,!0)),Z8(B,i,x)),Pa(i)&&h.set(i,B),B}function Z8(r,i,u,m=!1){const{mixins:b,extends:h}=i;h&&Z8(r,h,u,!0),b&&b.forEach(x=>Z8(r,x,u,!0));for(const x in i)if(!(m&&x==="expose")){const S=aie[x]||u&&u[x];r[x]=S?S(r[x],i[x]):i[x]}return r}const aie={data:AZ,props:TZ,emits:TZ,methods:$T,computed:$T,beforeCreate:Ju,created:Ju,beforeMount:Ju,mounted:Ju,beforeUpdate:Ju,updated:Ju,beforeDestroy:Ju,beforeUnmount:Ju,destroyed:Ju,unmounted:Ju,activated:Ju,deactivated:Ju,errorCaptured:Ju,serverPrefetch:Ju,components:$T,directives:$T,watch:lie,provide:AZ,inject:iie};function AZ(r,i){return i?r?function(){return Fl(br(r)?r.call(this,this):r,br(i)?i.call(this,this):i)}:i:r}function iie(r,i){return $T(MH(r),MH(i))}function MH(r){if(Jo(r)){const i={};for(let u=0;u<r.length;u++)i[r[u]]=r[u];return i}return r}function Ju(r,i){return r?[...new Set([].concat(r,i))]:i}function $T(r,i){return r?Fl(Object.create(null),r,i):i}function TZ(r,i){return r?Jo(r)&&Jo(i)?[...new Set([...r,...i])]:Fl(Object.create(null),kZ(r),kZ(i??{})):i}function lie(r,i){if(!r)return i;if(!i)return r;const u=Fl(Object.create(null),r);for(const m in i)u[m]=Ju(r[m],i[m]);return u}function dq(){return{app:null,config:{isNativeTag:nae,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let cie=0;function uie(r,i){return function(m,b=null){br(m)||(m=Fl({},m)),b!=null&&!Pa(b)&&(b=null);const h=dq(),x=new WeakSet;let S=!1;const B=h.app={_uid:cie++,_component:m,_props:b,_container:null,_context:h,_instance:null,version:Gie,get config(){return h.config},set config(N){},use(N,...R){return x.has(N)||(N&&br(N.install)?(x.add(N),N.install(B,...R)):br(N)&&(x.add(N),N(B,...R))),B},mixin(N){return h.mixins.includes(N)||h.mixins.push(N),B},component(N,R){return R?(h.components[N]=R,B):h.components[N]},directive(N,R){return R?(h.directives[N]=R,B):h.directives[N]},mount(N,R,F){if(!S){const W=fe(m,b);return W.appContext=h,F===!0?F="svg":F===!1&&(F=void 0),R&&i?i(W,N):r(W,N,F),S=!0,B._container=N,N.__vue_app__=B,vM(W.component)}},unmount(){S&&(r(null,B._container),delete B._container.__vue_app__)},provide(N,R){return h.provides[N]=R,B},runWithContext(N){const R=Dw;Dw=B;try{return N()}finally{Dw=R}}};return B}}let Dw=null;function Kf(r,i){if(rc){let u=rc.provides;const m=rc.parent&&rc.parent.provides;m===u&&(u=rc.provides=Object.create(m)),u[r]=i}}function Yi(r,i,u=!1){const m=rc||Qu;if(m||Dw){const b=Dw?Dw._context.provides:m?m.parent==null?m.vnode.appContext&&m.vnode.appContext.provides:m.parent.provides:void 0;if(b&&r in b)return b[r];if(arguments.length>1)return u&&br(i)?i.call(m&&m.proxy):i}}function die(){return!!(rc||Qu||Dw)}const fq={},mq=()=>Object.create(fq),gq=r=>Object.getPrototypeOf(r)===fq;function fie(r,i,u,m=!1){const b={},h=mq();r.propsDefaults=Object.create(null),hq(r,i,b,h);for(const x in r.propsOptions[0])x in b||(b[x]=void 0);u?r.props=m?b:Mae(b):r.type.props?r.props=b:r.props=h,r.attrs=h}function mie(r,i,u,m){const{props:b,attrs:h,vnode:{patchFlag:x}}=r,S=Ao(b),[B]=r.propsOptions;let N=!1;if((m||x>0)&&!(x&16)){if(x&8){const R=r.vnode.dynamicProps;for(let F=0;F<R.length;F++){let W=R[F];if(pM(r.emitsOptions,W))continue;const $=i[W];if(B)if(ks(h,W))$!==h[W]&&(h[W]=$,N=!0);else{const K=Zf(W);b[K]=PH(B,S,K,$,r,!1)}else $!==h[W]&&(h[W]=$,N=!0)}}}else{hq(r,i,b,h)&&(N=!0);let R;for(const F in S)(!i||!ks(i,F)&&((R=Fw(F))===F||!ks(i,R)))&&(B?u&&(u[F]!==void 0||u[R]!==void 0)&&(b[F]=PH(B,S,F,void 0,r,!0)):delete b[F]);if(h!==S)for(const F in h)(!i||!ks(i,F))&&(delete h[F],N=!0)}N&&G0(r.attrs,"set","")}function hq(r,i,u,m){const[b,h]=r.propsOptions;let x=!1,S;if(i)for(let B in i){if(UT(B))continue;const N=i[B];let R;b&&ks(b,R=Zf(B))?!h||!h.includes(R)?u[R]=N:(S||(S={}))[R]=N:pM(r.emitsOptions,B)||(!(B in m)||N!==m[B])&&(m[B]=N,x=!0)}if(h){const B=Ao(u),N=S||hi;for(let R=0;R<h.length;R++){const F=h[R];u[F]=PH(b,B,F,N[F],r,!ks(N,F))}}return x}function PH(r,i,u,m,b,h){const x=r[u];if(x!=null){const S=ks(x,"default");if(S&&m===void 0){const B=x.default;if(x.type!==Function&&!x.skipFactory&&br(B)){const{propsDefaults:N}=b;if(u in N)m=N[u];else{const R=cO(b);m=N[u]=B.call(null,i),R()}}else m=B}x[0]&&(h&&!S?m=!1:x[1]&&(m===""||m===Fw(u))&&(m=!0))}return m}const gie=new WeakMap;function pq(r,i,u=!1){const m=u?gie:i.propsCache,b=m.get(r);if(b)return b;const h=r.props,x={},S=[];let B=!1;if(!br(r)){const R=F=>{B=!0;const[W,$]=pq(F,i,!0);Fl(x,W),$&&S.push(...$)};!u&&i.mixins.length&&i.mixins.forEach(R),r.extends&&R(r.extends),r.mixins&&r.mixins.forEach(R)}if(!h&&!B)return Pa(r)&&m.set(r,nk),nk;if(Jo(h))for(let R=0;R<h.length;R++){const F=Zf(h[R]);OZ(F)&&(x[F]=hi)}else if(h)for(const R in h){const F=Zf(R);if(OZ(F)){const W=h[R],$=x[F]=Jo(W)||br(W)?{type:W}:Fl({},W),K=$.type;let ee=!1,ge=!0;if(Jo(K))for(let he=0;he<K.length;++he){const Ue=K[he],Te=br(Ue)&&Ue.name;if(Te==="Boolean"){ee=!0;break}else Te==="String"&&(ge=!1)}else ee=br(K)&&K.name==="Boolean";$[0]=ee,$[1]=ge,(ee||ks($,"default"))&&S.push(F)}}const N=[x,S];return Pa(r)&&m.set(r,N),N}function OZ(r){return r[0]!=="$"&&!UT(r)}const bq=r=>r[0]==="_"||r==="$stable",IV=r=>Jo(r)?r.map(Pp):[Pp(r)],hie=(r,i,u)=>{if(i._n)return i;const m=cn((...b)=>IV(i(...b)),u);return m._c=!1,m},vq=(r,i,u)=>{const m=r._ctx;for(const b in r){if(bq(b))continue;const h=r[b];if(br(h))i[b]=hie(b,h,m);else if(h!=null){const x=IV(h);i[b]=()=>x}}},yq=(r,i)=>{const u=IV(i);r.slots.default=()=>u},xq=(r,i,u)=>{for(const m in i)(u||m!=="_")&&(r[m]=i[m])},pie=(r,i,u)=>{const m=r.slots=mq();if(r.vnode.shapeFlag&32){const b=i._;b?(xq(m,i,u),u&&AK(m,"_",b,!0)):vq(i,m)}else i&&yq(r,i)},bie=(r,i,u)=>{const{vnode:m,slots:b}=r;let h=!0,x=hi;if(m.shapeFlag&32){const S=i._;S?u&&S===1?h=!1:xq(b,i,u):(h=!i.$stable,vq(i,b)),x=i}else i&&(yq(r,i),x={default:1});if(h)for(const S in b)!bq(S)&&x[S]==null&&delete b[S]};function LH(r,i,u,m,b=!1){if(Jo(r)){r.forEach((W,$)=>LH(W,i&&(Jo(i)?i[$]:i),u,m,b));return}if(B8(m)&&!b)return;const h=m.shapeFlag&4?vM(m.component):m.el,x=b?null:h,{i:S,r:B}=r,N=i&&i.r,R=S.refs===hi?S.refs={}:S.refs,F=S.setupState;if(N!=null&&N!==B&&(Xi(N)?(R[N]=null,ks(F,N)&&(F[N]=null)):La(N)&&(N.value=null)),br(B))uy(B,S,12,[x,R]);else{const W=Xi(B),$=La(B);if(W||$){const K=()=>{if(r.f){const ee=W?ks(F,B)?F[B]:R[B]:B.value;b?Jo(ee)&&hV(ee,h):Jo(ee)?ee.includes(h)||ee.push(h):W?(R[B]=[h],ks(F,B)&&(F[B]=R[B])):(B.value=[h],r.k&&(R[r.k]=B.value))}else W?(R[B]=x,ks(F,B)&&(F[B]=x)):$&&(B.value=x,r.k&&(R[r.k]=x))};x?(K.id=-1,Id(K,u)):K()}}}const wq=Symbol("_vte"),vie=r=>r.__isTeleport,ZT=r=>r&&(r.disabled||r.disabled===""),DZ=r=>typeof SVGElement<"u"&&r instanceof SVGElement,RZ=r=>typeof MathMLElement=="function"&&r instanceof MathMLElement,FH=(r,i)=>{const u=r&&r.to;return Xi(u)?i?i(u):null:u},yie={name:"Teleport",__isTeleport:!0,process(r,i,u,m,b,h,x,S,B,N){const{mc:R,pc:F,pbc:W,o:{insert:$,querySelector:K,createText:ee,createComment:ge}}=N,he=ZT(i.props);let{shapeFlag:Ue,children:Te,dynamicChildren:te}=i;if(r==null){const Ae=i.el=ee(""),ne=i.anchor=ee("");$(Ae,u,m),$(ne,u,m);const Ge=i.target=FH(i.props,K),$e=_q(Ge,i,ee,$);Ge&&(x==="svg"||DZ(Ge)?x="svg":(x==="mathml"||RZ(Ge))&&(x="mathml"));const Ze=(ot,Ce)=>{Ue&16&&R(Te,ot,Ce,b,h,x,S,B)};he?Ze(u,ne):Ge&&Ze(Ge,$e)}else{i.el=r.el,i.targetStart=r.targetStart;const Ae=i.anchor=r.anchor,ne=i.target=r.target,Ge=i.targetAnchor=r.targetAnchor,$e=ZT(r.props),Ze=$e?u:ne,ot=$e?Ae:Ge;if(x==="svg"||DZ(ne)?x="svg":(x==="mathml"||RZ(ne))&&(x="mathml"),te?(W(r.dynamicChildren,te,Ze,b,h,x,S),BV(r,i,!0)):B||F(r,i,Ze,ot,b,h,x,S,!1),he)$e?i.props&&r.props&&i.props.to!==r.props.to&&(i.props.to=r.props.to):p8(i,u,Ae,N,1);else if((i.props&&i.props.to)!==(r.props&&r.props.to)){const Ce=i.target=FH(i.props,K);Ce&&p8(i,Ce,null,N,0)}else $e&&p8(i,ne,Ge,N,1)}Cq(i)},remove(r,i,u,{um:m,o:{remove:b}},h){const{shapeFlag:x,children:S,anchor:B,targetStart:N,targetAnchor:R,target:F,props:W}=r;if(F&&(b(N),b(R)),h&&b(B),x&16){const $=h||!ZT(W);for(let K=0;K<S.length;K++){const ee=S[K];m(ee,i,u,$,!!ee.dynamicChildren)}}},move:p8,hydrate:xie};function p8(r,i,u,{o:{insert:m},m:b},h=2){h===0&&m(r.targetAnchor,i,u);const{el:x,anchor:S,shapeFlag:B,children:N,props:R}=r,F=h===2;if(F&&m(x,i,u),(!F||ZT(R))&&B&16)for(let W=0;W<N.length;W++)b(N[W],i,u,2);F&&m(S,i,u)}function xie(r,i,u,m,b,h,{o:{nextSibling:x,parentNode:S,querySelector:B,insert:N,createText:R}},F){const W=i.target=FH(i.props,B);if(W){const $=W._lpa||W.firstChild;if(i.shapeFlag&16)if(ZT(i.props))i.anchor=F(x(r),i,S(r),u,m,b,h),i.targetStart=$,i.targetAnchor=$&&x($);else{i.anchor=x(r);let K=$;for(;K;){if(K&&K.nodeType===8){if(K.data==="teleport start anchor")i.targetStart=K;else if(K.data==="teleport anchor"){i.targetAnchor=K,W._lpa=i.targetAnchor&&x(i.targetAnchor);break}}K=x(K)}i.targetAnchor||_q(W,i,R,N),F($&&x($),i,W,u,m,b,h)}Cq(i)}return i.anchor&&x(i.anchor)}const wie=yie;function Cq(r){const i=r.ctx;if(i&&i.ut){let u=r.children[0].el;for(;u&&u!==r.targetAnchor;)u.nodeType===1&&u.setAttribute("data-v-owner",i.uid),u=u.nextSibling;i.ut()}}function _q(r,i,u,m){const b=i.targetStart=u(""),h=i.targetAnchor=u("");return b[wq]=h,r&&(m(b,r),m(h,r)),h}const Id=Pie;function Cie(r){return _ie(r)}function _ie(r,i){const u=TK();u.__VUE__=!0;const{insert:m,remove:b,patchProp:h,createElement:x,createText:S,createComment:B,setText:N,setElementText:R,parentNode:F,nextSibling:W,setScopeId:$=lg,insertStaticContent:K}=r,ee=(Ke,le,xe,Me=null,pe=null,St=null,$t=void 0,Ct=null,zt=!!le.dynamicChildren)=>{if(Ke===le)return;Ke&&!kw(Ke,le)&&(Me=Rn(Ke),bt(Ke,pe,St,!0),Ke=null),le.patchFlag===-2&&(zt=!1,le.dynamicChildren=null);const{type:It,ref:on,shapeFlag:wn}=le;switch(It){case lO:ge(Ke,le,xe,Me);break;case zf:he(Ke,le,xe,Me);break;case oH:Ke==null&&Ue(le,xe,Me,$t);break;case Es:Ne(Ke,le,xe,Me,pe,St,$t,Ct,zt);break;default:wn&1?Ae(Ke,le,xe,Me,pe,St,$t,Ct,zt):wn&6?D(Ke,le,xe,Me,pe,St,$t,Ct,zt):(wn&64||wn&128)&&It.process(Ke,le,xe,Me,pe,St,$t,Ct,zt,vr)}on!=null&&pe&&LH(on,Ke&&Ke.ref,St,le||Ke,!le)},ge=(Ke,le,xe,Me)=>{if(Ke==null)m(le.el=S(le.children),xe,Me);else{const pe=le.el=Ke.el;le.children!==Ke.children&&N(pe,le.children)}},he=(Ke,le,xe,Me)=>{Ke==null?m(le.el=B(le.children||""),xe,Me):le.el=Ke.el},Ue=(Ke,le,xe,Me)=>{[Ke.el,Ke.anchor]=K(Ke.children,le,xe,Me,Ke.el,Ke.anchor)},Te=({el:Ke,anchor:le},xe,Me)=>{let pe;for(;Ke&&Ke!==le;)pe=W(Ke),m(Ke,xe,Me),Ke=pe;m(le,xe,Me)},te=({el:Ke,anchor:le})=>{let xe;for(;Ke&&Ke!==le;)xe=W(Ke),b(Ke),Ke=xe;b(le)},Ae=(Ke,le,xe,Me,pe,St,$t,Ct,zt)=>{le.type==="svg"?$t="svg":le.type==="math"&&($t="mathml"),Ke==null?ne(le,xe,Me,pe,St,$t,Ct,zt):Ze(Ke,le,pe,St,$t,Ct,zt)},ne=(Ke,le,xe,Me,pe,St,$t,Ct)=>{let zt,It;const{props:on,shapeFlag:wn,transition:Cn,dirs:En}=Ke;if(zt=Ke.el=x(Ke.type,St,on&&on.is,on),wn&8?R(zt,Ke.children):wn&16&&$e(Ke.children,zt,null,Me,pe,tH(Ke,St),$t,Ct),En&&bw(Ke,null,Me,"created"),Ge(zt,Ke,Ke.scopeId,$t,Me),on){for(const vo in on)vo!=="value"&&!UT(vo)&&h(zt,vo,null,on[vo],St,Me);"value"in on&&h(zt,"value",null,on.value,St),(It=on.onVnodeBeforeMount)&&Np(It,Me,Ke)}En&&bw(Ke,null,Me,"beforeMount");const ao=Sie(pe,Cn);ao&&Cn.beforeEnter(zt),m(zt,le,xe),((It=on&&on.onVnodeMounted)||ao||En)&&Id(()=>{It&&Np(It,Me,Ke),ao&&Cn.enter(zt),En&&bw(Ke,null,Me,"mounted")},pe)},Ge=(Ke,le,xe,Me,pe)=>{if(xe&&$(Ke,xe),Me)for(let St=0;St<Me.length;St++)$(Ke,Me[St]);if(pe){let St=pe.subTree;if(le===St){const $t=pe.vnode;Ge(Ke,$t,$t.scopeId,$t.slotScopeIds,pe.parent)}}},$e=(Ke,le,xe,Me,pe,St,$t,Ct,zt=0)=>{for(let It=zt;It<Ke.length;It++){const on=Ke[It]=Ct?sy(Ke[It]):Pp(Ke[It]);ee(null,on,le,xe,Me,pe,St,$t,Ct)}},Ze=(Ke,le,xe,Me,pe,St,$t)=>{const Ct=le.el=Ke.el;let{patchFlag:zt,dynamicChildren:It,dirs:on}=le;zt|=Ke.patchFlag&16;const wn=Ke.props||hi,Cn=le.props||hi;let En;if(xe&&vw(xe,!1),(En=Cn.onVnodeBeforeUpdate)&&Np(En,xe,le,Ke),on&&bw(le,Ke,xe,"beforeUpdate"),xe&&vw(xe,!0),(wn.innerHTML&&Cn.innerHTML==null||wn.textContent&&Cn.textContent==null)&&R(Ct,""),It?ot(Ke.dynamicChildren,It,Ct,xe,Me,tH(le,pe),St):$t||Qe(Ke,le,Ct,null,xe,Me,tH(le,pe),St,!1),zt>0){if(zt&16)Ce(Ct,wn,Cn,xe,pe);else if(zt&2&&wn.class!==Cn.class&&h(Ct,"class",null,Cn.class,pe),zt&4&&h(Ct,"style",wn.style,Cn.style,pe),zt&8){const ao=le.dynamicProps;for(let vo=0;vo<ao.length;vo++){const To=ao[vo],Do=wn[To],As=Cn[To];(As!==Do||To==="value")&&h(Ct,To,Do,As,pe,xe)}}zt&1&&Ke.children!==le.children&&R(Ct,le.children)}else!$t&&It==null&&Ce(Ct,wn,Cn,xe,pe);((En=Cn.onVnodeUpdated)||on)&&Id(()=>{En&&Np(En,xe,le,Ke),on&&bw(le,Ke,xe,"updated")},Me)},ot=(Ke,le,xe,Me,pe,St,$t)=>{for(let Ct=0;Ct<le.length;Ct++){const zt=Ke[Ct],It=le[Ct],on=zt.el&&(zt.type===Es||!kw(zt,It)||zt.shapeFlag&70)?F(zt.el):xe;ee(zt,It,on,null,Me,pe,St,$t,!0)}},Ce=(Ke,le,xe,Me,pe)=>{if(le!==xe){if(le!==hi)for(const St in le)!UT(St)&&!(St in xe)&&h(Ke,St,le[St],null,pe,Me);for(const St in xe){if(UT(St))continue;const $t=xe[St],Ct=le[St];$t!==Ct&&St!=="value"&&h(Ke,St,Ct,$t,pe,Me)}"value"in xe&&h(Ke,"value",le.value,xe.value,pe)}},Ne=(Ke,le,xe,Me,pe,St,$t,Ct,zt)=>{const It=le.el=Ke?Ke.el:S(""),on=le.anchor=Ke?Ke.anchor:S("");let{patchFlag:wn,dynamicChildren:Cn,slotScopeIds:En}=le;En&&(Ct=Ct?Ct.concat(En):En),Ke==null?(m(It,xe,Me),m(on,xe,Me),$e(le.children||[],xe,on,pe,St,$t,Ct,zt)):wn>0&&wn&64&&Cn&&Ke.dynamicChildren?(ot(Ke.dynamicChildren,Cn,xe,pe,St,$t,Ct),(le.key!=null||pe&&le===pe.subTree)&&BV(Ke,le,!0)):Qe(Ke,le,xe,on,pe,St,$t,Ct,zt)},D=(Ke,le,xe,Me,pe,St,$t,Ct,zt)=>{le.slotScopeIds=Ct,Ke==null?le.shapeFlag&512?pe.ctx.activate(le,xe,Me,$t,zt):yt(le,xe,Me,pe,St,$t,zt):Pt(Ke,le,zt)},yt=(Ke,le,xe,Me,pe,St,$t)=>{const Ct=Ke.component=$ie(Ke,Me,pe);if(gM(Ke)&&(Ct.ctx.renderer=vr),Uie(Ct,!1,$t),Ct.asyncDep){if(pe&&pe.registerDep(Ct,ln,$t),!Ke.el){const zt=Ct.subTree=fe(zf);he(null,zt,le,xe)}}else ln(Ct,Ke,le,xe,pe,St,$t)},Pt=(Ke,le,xe)=>{const Me=le.component=Ke.component;if(Iie(Ke,le,xe))if(Me.asyncDep&&!Me.asyncResolved){hn(Me,le,xe);return}else Me.next=le,Uae(Me.update),Me.effect.dirty=!0,Me.update();else le.el=Ke.el,Me.vnode=le},ln=(Ke,le,xe,Me,pe,St,$t)=>{const Ct=()=>{if(Ke.isMounted){let{next:on,bu:wn,u:Cn,parent:En,vnode:ao}=Ke;{const fr=Sq(Ke);if(fr){on&&(on.el=ao.el,hn(Ke,on,$t)),fr.asyncDep.then(()=>{Ke.isUnmounted||Ct()});return}}let vo=on,To;vw(Ke,!1),on?(on.el=ao.el,hn(Ke,on,$t)):on=ao,wn&&N8(wn),(To=on.props&&on.props.onVnodeBeforeUpdate)&&Np(To,En,on,ao),vw(Ke,!0);const Do=nH(Ke),As=Ke.subTree;Ke.subTree=Do,ee(As,Do,F(As.el),Rn(As),Ke,pe,St),on.el=Do.el,vo===null&&Bie(Ke,Do.el),Cn&&Id(Cn,pe),(To=on.props&&on.props.onVnodeUpdated)&&Id(()=>Np(To,En,on,ao),pe)}else{let on;const{el:wn,props:Cn}=le,{bm:En,m:ao,parent:vo}=Ke,To=B8(le);if(vw(Ke,!1),En&&N8(En),!To&&(on=Cn&&Cn.onVnodeBeforeMount)&&Np(on,vo,le),vw(Ke,!0),wn&&oi){const Do=()=>{Ke.subTree=nH(Ke),oi(wn,Ke.subTree,Ke,pe,null)};To?le.type.__asyncLoader().then(()=>!Ke.isUnmounted&&Do()):Do()}else{const Do=Ke.subTree=nH(Ke);ee(null,Do,xe,Me,Ke,pe,St),le.el=Do.el}if(ao&&Id(ao,pe),!To&&(on=Cn&&Cn.onVnodeMounted)){const Do=le;Id(()=>Np(on,vo,Do),pe)}(le.shapeFlag&256||vo&&B8(vo.vnode)&&vo.vnode.shapeFlag&256)&&Ke.a&&Id(Ke.a,pe),Ke.isMounted=!0,le=xe=Me=null}},zt=Ke.effect=new bV(Ct,lg,()=>EV(It),Ke.scope),It=Ke.update=()=>{zt.dirty&&zt.run()};It.i=Ke,It.id=Ke.uid,vw(Ke,!0),It()},hn=(Ke,le,xe)=>{le.component=Ke;const Me=Ke.vnode.props;Ke.vnode=le,Ke.next=null,mie(Ke,le.props,Me,xe),bie(Ke,le.children,xe),py(),CZ(Ke),by()},Qe=(Ke,le,xe,Me,pe,St,$t,Ct,zt=!1)=>{const It=Ke&&Ke.children,on=Ke?Ke.shapeFlag:0,wn=le.children,{patchFlag:Cn,shapeFlag:En}=le;if(Cn>0){if(Cn&128){sr(It,wn,xe,Me,pe,St,$t,Ct,zt);return}else if(Cn&256){On(It,wn,xe,Me,pe,St,$t,Ct,zt);return}}En&8?(on&16&&xn(It,pe,St),wn!==It&&R(xe,wn)):on&16?En&16?sr(It,wn,xe,Me,pe,St,$t,Ct,zt):xn(It,pe,St,!0):(on&8&&R(xe,""),En&16&&$e(wn,xe,Me,pe,St,$t,Ct,zt))},On=(Ke,le,xe,Me,pe,St,$t,Ct,zt)=>{Ke=Ke||nk,le=le||nk;const It=Ke.length,on=le.length,wn=Math.min(It,on);let Cn;for(Cn=0;Cn<wn;Cn++){const En=le[Cn]=zt?sy(le[Cn]):Pp(le[Cn]);ee(Ke[Cn],En,xe,null,pe,St,$t,Ct,zt)}It>on?xn(Ke,pe,St,!0,!1,wn):$e(le,xe,Me,pe,St,$t,Ct,zt,wn)},sr=(Ke,le,xe,Me,pe,St,$t,Ct,zt)=>{let It=0;const on=le.length;let wn=Ke.length-1,Cn=on-1;for(;It<=wn&&It<=Cn;){const En=Ke[It],ao=le[It]=zt?sy(le[It]):Pp(le[It]);if(kw(En,ao))ee(En,ao,xe,null,pe,St,$t,Ct,zt);else break;It++}for(;It<=wn&&It<=Cn;){const En=Ke[wn],ao=le[Cn]=zt?sy(le[Cn]):Pp(le[Cn]);if(kw(En,ao))ee(En,ao,xe,null,pe,St,$t,Ct,zt);else break;wn--,Cn--}if(It>wn){if(It<=Cn){const En=Cn+1,ao=En<on?le[En].el:Me;for(;It<=Cn;)ee(null,le[It]=zt?sy(le[It]):Pp(le[It]),xe,ao,pe,St,$t,Ct,zt),It++}}else if(It>Cn)for(;It<=wn;)bt(Ke[It],pe,St,!0),It++;else{const En=It,ao=It,vo=new Map;for(It=ao;It<=Cn;It++){const io=le[It]=zt?sy(le[It]):Pp(le[It]);io.key!=null&&vo.set(io.key,It)}let To,Do=0;const As=Cn-ao+1;let fr=!1,vi=0;const un=new Array(As);for(It=0;It<As;It++)un[It]=0;for(It=En;It<=wn;It++){const io=Ke[It];if(Do>=As){bt(io,pe,St,!0);continue}let Wr;if(io.key!=null)Wr=vo.get(io.key);else for(To=ao;To<=Cn;To++)if(un[To-ao]===0&&kw(io,le[To])){Wr=To;break}Wr===void 0?bt(io,pe,St,!0):(un[Wr-ao]=It+1,Wr>=vi?vi=Wr:fr=!0,ee(io,le[Wr],xe,null,pe,St,$t,Ct,zt),Do++)}const po=fr?kie(un):nk;for(To=po.length-1,It=As-1;It>=0;It--){const io=ao+It,Wr=le[io],Fa=io+1<on?le[io+1].el:Me;un[It]===0?ee(null,Wr,xe,Fa,pe,St,$t,Ct,zt):fr&&(To<0||It!==po[To]?pt(Wr,xe,Fa,2):To--)}}},pt=(Ke,le,xe,Me,pe=null)=>{const{el:St,type:$t,transition:Ct,children:zt,shapeFlag:It}=Ke;if(It&6){pt(Ke.component.subTree,le,xe,Me);return}if(It&128){Ke.suspense.move(le,xe,Me);return}if(It&64){$t.move(Ke,le,xe,vr);return}if($t===Es){m(St,le,xe);for(let wn=0;wn<zt.length;wn++)pt(zt[wn],le,xe,Me);m(Ke.anchor,le,xe);return}if($t===oH){Te(Ke,le,xe);return}if(Me!==2&&It&1&&Ct)if(Me===0)Ct.beforeEnter(St),m(St,le,xe),Id(()=>Ct.enter(St),pe);else{const{leave:wn,delayLeave:Cn,afterLeave:En}=Ct,ao=()=>m(St,le,xe),vo=()=>{wn(St,()=>{ao(),En&&En()})};Cn?Cn(St,ao,vo):vo()}else m(St,le,xe)},bt=(Ke,le,xe,Me=!1,pe=!1)=>{const{type:St,props:$t,ref:Ct,children:zt,dynamicChildren:It,shapeFlag:on,patchFlag:wn,dirs:Cn,cacheIndex:En}=Ke;if(wn===-2&&(pe=!1),Ct!=null&&LH(Ct,null,xe,Ke,!0),En!=null&&(le.renderCache[En]=void 0),on&256){le.ctx.deactivate(Ke);return}const ao=on&1&&Cn,vo=!B8(Ke);let To;if(vo&&(To=$t&&$t.onVnodeBeforeUnmount)&&Np(To,le,Ke),on&6)ho(Ke.component,xe,Me);else{if(on&128){Ke.suspense.unmount(xe,Me);return}ao&&bw(Ke,null,le,"beforeUnmount"),on&64?Ke.type.remove(Ke,le,xe,vr,Me):It&&!It.hasOnce&&(St!==Es||wn>0&&wn&64)?xn(It,le,xe,!1,!0):(St===Es&&wn&384||!pe&&on&16)&&xn(zt,le,xe),Me&&Zt(Ke)}(vo&&(To=$t&&$t.onVnodeUnmounted)||ao)&&Id(()=>{To&&Np(To,le,Ke),ao&&bw(Ke,null,le,"unmounted")},xe)},Zt=Ke=>{const{type:le,el:xe,anchor:Me,transition:pe}=Ke;if(le===Es){Ur(xe,Me);return}if(le===oH){te(Ke);return}const St=()=>{b(xe),pe&&!pe.persisted&&pe.afterLeave&&pe.afterLeave()};if(Ke.shapeFlag&1&&pe&&!pe.persisted){const{leave:$t,delayLeave:Ct}=pe,zt=()=>$t(xe,St);Ct?Ct(Ke.el,St,zt):zt()}else St()},Ur=(Ke,le)=>{let xe;for(;Ke!==le;)xe=W(Ke),b(Ke),Ke=xe;b(le)},ho=(Ke,le,xe)=>{const{bum:Me,scope:pe,update:St,subTree:$t,um:Ct,m:zt,a:It}=Ke;NZ(zt),NZ(It),Me&&N8(Me),pe.stop(),St&&(St.active=!1,bt($t,Ke,le,xe)),Ct&&Id(Ct,le),Id(()=>{Ke.isUnmounted=!0},le),le&&le.pendingBranch&&!le.isUnmounted&&Ke.asyncDep&&!Ke.asyncResolved&&Ke.suspenseId===le.pendingId&&(le.deps--,le.deps===0&&le.resolve())},xn=(Ke,le,xe,Me=!1,pe=!1,St=0)=>{for(let $t=St;$t<Ke.length;$t++)bt(Ke[$t],le,xe,Me,pe)},Rn=Ke=>{if(Ke.shapeFlag&6)return Rn(Ke.component.subTree);if(Ke.shapeFlag&128)return Ke.suspense.next();const le=W(Ke.anchor||Ke.el),xe=le&&le[wq];return xe?W(xe):le};let J=!1;const ir=(Ke,le,xe)=>{Ke==null?le._vnode&&bt(le._vnode,null,null,!0):ee(le._vnode||null,Ke,le,null,null,null,xe),le._vnode=Ke,J||(J=!0,CZ(),QK(),J=!1)},vr={p:ee,um:bt,m:pt,r:Zt,mt:yt,mc:$e,pc:Qe,pbc:ot,n:Rn,o:r};let Ko,oi;return{render:ir,hydrate:Ko,createApp:uie(ir,Ko)}}function tH({type:r,props:i},u){return u==="svg"&&r==="foreignObject"||u==="mathml"&&r==="annotation-xml"&&i&&i.encoding&&i.encoding.includes("html")?void 0:u}function vw({effect:r,update:i},u){r.allowRecurse=i.allowRecurse=u}function Sie(r,i){return(!r||r&&!r.pendingBranch)&&i&&!i.persisted}function BV(r,i,u=!1){const m=r.children,b=i.children;if(Jo(m)&&Jo(b))for(let h=0;h<m.length;h++){const x=m[h];let S=b[h];S.shapeFlag&1&&!S.dynamicChildren&&((S.patchFlag<=0||S.patchFlag===32)&&(S=b[h]=sy(b[h]),S.el=x.el),!u&&S.patchFlag!==-2&&BV(x,S)),S.type===lO&&(S.el=x.el)}}function kie(r){const i=r.slice(),u=[0];let m,b,h,x,S;const B=r.length;for(m=0;m<B;m++){const N=r[m];if(N!==0){if(b=u[u.length-1],r[b]<N){i[m]=b,u.push(m);continue}for(h=0,x=u.length-1;h<x;)S=h+x>>1,r[u[S]]<N?h=S+1:x=S;N<r[u[h]]&&(h>0&&(i[m]=u[h-1]),u[h]=m)}}for(h=u.length,x=u[h-1];h-- >0;)u[h]=x,x=i[x];return u}function Sq(r){const i=r.subTree.component;if(i)return i.asyncDep&&!i.asyncResolved?i:Sq(i)}function NZ(r){if(r)for(let i=0;i<r.length;i++)r[i].active=!1}const Eie=Symbol.for("v-scx"),Aie=()=>Yi(Eie);function xh(r,i){return MV(r,null,i)}const b8={};function Gn(r,i,u){return MV(r,i,u)}function MV(r,i,{immediate:u,deep:m,flush:b,once:h,onTrack:x,onTrigger:S}=hi){if(i&&h){const ne=i;i=(...Ge)=>{ne(...Ge),Ae()}}const B=rc,N=ne=>m===!0?ne:ay(ne,m===!1?1:void 0);let R,F=!1,W=!1;if(La(r)?(R=()=>r.value,F=sk(r)):Ow(r)?(R=()=>N(r),F=!0):Jo(r)?(W=!0,F=r.some(ne=>Ow(ne)||sk(ne)),R=()=>r.map(ne=>{if(La(ne))return ne.value;if(Ow(ne))return N(ne);if(br(ne))return uy(ne,B,2)})):br(r)?i?R=()=>uy(r,B,2):R=()=>($&&$(),cg(r,B,3,[K])):R=lg,i&&m){const ne=R;R=()=>ay(ne())}let $,K=ne=>{$=Te.onStop=()=>{uy(ne,B,4),$=Te.onStop=void 0}},ee;if(bM)if(K=lg,i?u&&cg(i,B,3,[R(),W?[]:void 0,K]):R(),b==="sync"){const ne=Aie();ee=ne.__watcherHandles||(ne.__watcherHandles=[])}else return lg;let ge=W?new Array(r.length).fill(b8):b8;const he=()=>{if(!(!Te.active||!Te.dirty))if(i){const ne=Te.run();(m||F||(W?ne.some((Ge,$e)=>fy(Ge,ge[$e])):fy(ne,ge)))&&($&&$(),cg(i,B,3,[ne,ge===b8?void 0:W&&ge[0]===b8?[]:ge,K]),ge=ne)}else Te.run()};he.allowRecurse=!!i;let Ue;b==="sync"?Ue=he:b==="post"?Ue=()=>Id(he,B&&B.suspense):(he.pre=!0,B&&(he.id=B.uid),Ue=()=>EV(he));const Te=new bV(R,lg,Ue),te=IK(),Ae=()=>{Te.stop(),te&&hV(te.effects,Te)};return i?u?he():ge=Te.run():b==="post"?Id(Te.run.bind(Te),B&&B.suspense):Te.run(),ee&&ee.push(Ae),Ae}function Tie(r,i,u){const m=this.proxy,b=Xi(r)?r.includes(".")?kq(m,r):()=>m[r]:r.bind(m,m);let h;br(i)?h=i:(h=i.handler,u=i);const x=cO(this),S=MV(b,h.bind(m),u);return x(),S}function kq(r,i){const u=i.split(".");return()=>{let m=r;for(let b=0;b<u.length&&m;b++)m=m[u[b]];return m}}function ay(r,i=1/0,u){if(i<=0||!Pa(r)||r.__v_skip||(u=u||new Set,u.has(r)))return r;if(u.add(r),i--,La(r))ay(r.value,i,u);else if(Jo(r))for(let m=0;m<r.length;m++)ay(r[m],i,u);else if(_K(r)||ok(r))r.forEach(m=>{ay(m,i,u)});else if(EK(r)){for(const m in r)ay(r[m],i,u);for(const m of Object.getOwnPropertySymbols(r))Object.prototype.propertyIsEnumerable.call(r,m)&&ay(r[m],i,u)}return r}const Oie=(r,i)=>i==="modelValue"||i==="model-value"?r.modelModifiers:r[`${i}Modifiers`]||r[`${Zf(i)}Modifiers`]||r[`${Fw(i)}Modifiers`];function Die(r,i,...u){if(r.isUnmounted)return;const m=r.vnode.props||hi;let b=u;const h=i.startsWith("update:"),x=h&&Oie(m,i.slice(7));x&&(x.trim&&(b=u.map(R=>Xi(R)?R.trim():R)),x.number&&(b=u.map(TH)));let S,B=m[S=X9(i)]||m[S=X9(Zf(i))];!B&&h&&(B=m[S=X9(Fw(i))]),B&&cg(B,r,6,b);const N=m[S+"Once"];if(N){if(!r.emitted)r.emitted={};else if(r.emitted[S])return;r.emitted[S]=!0,cg(N,r,6,b)}}function Eq(r,i,u=!1){const m=i.emitsCache,b=m.get(r);if(b!==void 0)return b;const h=r.emits;let x={},S=!1;if(!br(r)){const B=N=>{const R=Eq(N,i,!0);R&&(S=!0,Fl(x,R))};!u&&i.mixins.length&&i.mixins.forEach(B),r.extends&&B(r.extends),r.mixins&&r.mixins.forEach(B)}return!h&&!S?(Pa(r)&&m.set(r,null),null):(Jo(h)?h.forEach(B=>x[B]=null):Fl(x,h),Pa(r)&&m.set(r,x),x)}function pM(r,i){return!r||!lM(i)?!1:(i=i.slice(2).replace(/Once$/,""),ks(r,i[0].toLowerCase()+i.slice(1))||ks(r,Fw(i))||ks(r,i))}function nH(r){const{type:i,vnode:u,proxy:m,withProxy:b,propsOptions:[h],slots:x,attrs:S,emit:B,render:N,renderCache:R,props:F,data:W,setupState:$,ctx:K,inheritAttrs:ee}=r,ge=W8(r);let he,Ue;try{if(u.shapeFlag&4){const te=b||m,Ae=te;he=Pp(N.call(Ae,te,R,F,$,W,K)),Ue=S}else{const te=i;he=Pp(te.length>1?te(F,{attrs:S,slots:x,emit:B}):te(F,null)),Ue=i.props?S:Rie(S)}}catch(te){jT.length=0,fM(te,r,1),he=fe(zf)}let Te=he;if(Ue&&ee!==!1){const te=Object.keys(Ue),{shapeFlag:Ae}=Te;te.length&&Ae&7&&(h&&te.some(gV)&&(Ue=Nie(Ue,h)),Te=gy(Te,Ue,!1,!0))}return u.dirs&&(Te=gy(Te,null,!1,!0),Te.dirs=Te.dirs?Te.dirs.concat(u.dirs):u.dirs),u.transition&&(Te.transition=u.transition),he=Te,W8(ge),he}const Rie=r=>{let i;for(const u in r)(u==="class"||u==="style"||lM(u))&&((i||(i={}))[u]=r[u]);return i},Nie=(r,i)=>{const u={};for(const m in r)(!gV(m)||!(m.slice(9)in i))&&(u[m]=r[m]);return u};function Iie(r,i,u){const{props:m,children:b,component:h}=r,{props:x,children:S,patchFlag:B}=i,N=h.emitsOptions;if(i.dirs||i.transition)return!0;if(u&&B>=0){if(B&1024)return!0;if(B&16)return m?IZ(m,x,N):!!x;if(B&8){const R=i.dynamicProps;for(let F=0;F<R.length;F++){const W=R[F];if(x[W]!==m[W]&&!pM(N,W))return!0}}}else return(b||S)&&(!S||!S.$stable)?!0:m===x?!1:m?x?IZ(m,x,N):!0:!!x;return!1}function IZ(r,i,u){const m=Object.keys(i);if(m.length!==Object.keys(r).length)return!0;for(let b=0;b<m.length;b++){const h=m[b];if(i[h]!==r[h]&&!pM(u,h))return!0}return!1}function Bie({vnode:r,parent:i},u){for(;i;){const m=i.subTree;if(m.suspense&&m.suspense.activeBranch===r&&(m.el=r.el),m===r)(r=i.vnode).el=u,i=i.parent;else break}}const Mie=r=>r.__isSuspense;function Pie(r,i){i&&i.pendingBranch?Jo(r)?i.effects.push(...r):i.effects.push(r):Wae(r)}const Es=Symbol.for("v-fgt"),lO=Symbol.for("v-txt"),zf=Symbol.for("v-cmt"),oH=Symbol.for("v-stc"),jT=[];let Vf=null;function Xo(r=!1){jT.push(Vf=r?null:[])}function Lie(){jT.pop(),Vf=jT[jT.length-1]||null}let JT=1;function BZ(r){JT+=r,r<0&&Vf&&(Vf.hasOnce=!0)}function Aq(r){return r.dynamicChildren=JT>0?Vf||nk:null,Lie(),JT>0&&Vf&&Vf.push(r),r}function Sl(r,i,u,m,b,h){return Aq(nt(r,i,u,m,b,h,!0))}function Xs(r,i,u,m,b){return Aq(fe(r,i,u,m,b,!0))}function zH(r){return r?r.__v_isVNode===!0:!1}function kw(r,i){return r.type===i.type&&r.key===i.key}const Tq=({key:r})=>r??null,M8=({ref:r,ref_key:i,ref_for:u})=>(typeof r=="number"&&(r=""+r),r!=null?Xi(r)||La(r)||br(r)?{i:Qu,r,k:i,f:!!u}:r:null);function nt(r,i=null,u=null,m=0,b=null,h=r===Es?0:1,x=!1,S=!1){const B={__v_isVNode:!0,__v_skip:!0,type:r,props:i,key:i&&Tq(i),ref:i&&M8(i),scopeId:mM,slotScopeIds:null,children:u,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:h,patchFlag:m,dynamicProps:b,dynamicChildren:null,appContext:null,ctx:Qu};return S?(PV(B,u),h&128&&r.normalize(B)):u&&(B.shapeFlag|=Xi(u)?8:16),JT>0&&!x&&Vf&&(B.patchFlag>0||h&6)&&B.patchFlag!==32&&Vf.push(B),B}const fe=Fie;function Fie(r,i=null,u=null,m=0,b=null,h=!1){if((!r||r===tie)&&(r=zf),zH(r)){const S=gy(r,i,!0);return u&&PV(S,u),JT>0&&!h&&Vf&&(S.shapeFlag&6?Vf[Vf.indexOf(r)]=S:Vf.push(S)),S.patchFlag=-2,S}if(qie(r)&&(r=r.__vccOpts),i){i=zie(i);let{class:S,style:B}=i;S&&!Xi(S)&&(i.class=my(S)),Pa(B)&&(ZK(B)&&!Jo(B)&&(B=Fl({},B)),i.style=K0(B))}const x=Xi(r)?1:Mie(r)?128:vie(r)?64:Pa(r)?4:br(r)?2:0;return nt(r,i,u,m,b,x,h,!0)}function zie(r){return r?ZK(r)||gq(r)?Fl({},r):r:null}function gy(r,i,u=!1,m=!1){const{props:b,ref:h,patchFlag:x,children:S,transition:B}=r,N=i?_a(b||{},i):b,R={__v_isVNode:!0,__v_skip:!0,type:r.type,props:N,key:N&&Tq(N),ref:i&&i.ref?u&&h?Jo(h)?h.concat(M8(i)):[h,M8(i)]:M8(i):h,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:S,target:r.target,targetStart:r.targetStart,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:i&&r.type!==Es?x===-1?16:x|16:x,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:B,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&gy(r.ssContent),ssFallback:r.ssFallback&&gy(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce};return B&&m&&ak(R,B.clone(R)),R}function oc(r=" ",i=0){return fe(lO,null,r,i)}function Pl(r="",i=!1){return i?(Xo(),Xs(zf,null,r)):fe(zf,null,r)}function Pp(r){return r==null||typeof r=="boolean"?fe(zf):Jo(r)?fe(Es,null,r.slice()):typeof r=="object"?sy(r):fe(lO,null,String(r))}function sy(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:gy(r)}function PV(r,i){let u=0;const{shapeFlag:m}=r;if(i==null)i=null;else if(Jo(i))u=16;else if(typeof i=="object")if(m&65){const b=i.default;b&&(b._c&&(b._d=!1),PV(r,b()),b._c&&(b._d=!0));return}else{u=32;const b=i._;!b&&!gq(i)?i._ctx=Qu:b===3&&Qu&&(Qu.slots._===1?i._=1:(i._=2,r.patchFlag|=1024))}else br(i)?(i={default:i,_ctx:Qu},u=32):(i=String(i),m&64?(u=16,i=[oc(i)]):u=8);r.children=i,r.shapeFlag|=u}function _a(...r){const i={};for(let u=0;u<r.length;u++){const m=r[u];for(const b in m)if(b==="class")i.class!==m.class&&(i.class=my([i.class,m.class]));else if(b==="style")i.style=K0([i.style,m.style]);else if(lM(b)){const h=i[b],x=m[b];x&&h!==x&&!(Jo(h)&&h.includes(x))&&(i[b]=h?[].concat(h,x):x)}else b!==""&&(i[b]=m[b])}return i}function Np(r,i,u,m=null){cg(r,i,7,[u,m])}const Hie=dq();let Vie=0;function $ie(r,i,u){const m=r.type,b=(i?i.appContext:r.appContext)||Hie,h={uid:Vie++,vnode:r,type:m,parent:i,appContext:b,root:null,next:null,subTree:null,effect:null,update:null,scope:new NK(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:i?i.provides:Object.create(b.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pq(m,b),emitsOptions:Eq(m,b),emit:null,emitted:null,propsDefaults:hi,inheritAttrs:m.inheritAttrs,ctx:hi,data:hi,props:hi,attrs:hi,slots:hi,refs:hi,setupState:hi,setupContext:null,suspense:u,suspenseId:u?u.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return h.ctx={_:h},h.root=i?i.root:h,h.emit=Die.bind(null,h),r.ce&&r.ce(h),h}let rc=null;const LV=()=>rc||Qu;let j8,HH;{const r=TK(),i=(u,m)=>{let b;return(b=r[u])||(b=r[u]=[]),b.push(m),h=>{b.length>1?b.forEach(x=>x(h)):b[0](h)}};j8=i("__VUE_INSTANCE_SETTERS__",u=>rc=u),HH=i("__VUE_SSR_SETTERS__",u=>bM=u)}const cO=r=>{const i=rc;return j8(r),r.scope.on(),()=>{r.scope.off(),j8(i)}},MZ=()=>{rc&&rc.scope.off(),j8(null)};function Oq(r){return r.vnode.shapeFlag&4}let bM=!1;function Uie(r,i=!1,u=!1){i&&HH(i);const{props:m,children:b}=r.vnode,h=Oq(r);fie(r,m,h,i),pie(r,b,u);const x=h?Wie(r,i):void 0;return i&&HH(!1),x}function Wie(r,i){const u=r.type;r.accessCache=Object.create(null),r.proxy=new Proxy(r.ctx,oie);const{setup:m}=u;if(m){const b=r.setupContext=m.length>1?jie(r):null,h=cO(r);py();const x=uy(m,r,0,[r.props,b]);if(by(),h(),SK(x)){if(x.then(MZ,MZ),i)return x.then(S=>{PZ(r,S,i)}).catch(S=>{fM(S,r,0)});r.asyncDep=x}else PZ(r,x,i)}else Dq(r,i)}function PZ(r,i,u){br(i)?r.type.__ssrInlineRender?r.ssrRender=i:r.render=i:Pa(i)&&(r.setupState=GK(i)),Dq(r,u)}let LZ;function Dq(r,i,u){const m=r.type;if(!r.render){if(!i&&LZ&&!m.render){const b=m.template||NV(r).template;if(b){const{isCustomElement:h,compilerOptions:x}=r.appContext.config,{delimiters:S,compilerOptions:B}=m,N=Fl(Fl({isCustomElement:h,delimiters:S},x),B);m.render=LZ(b,N)}}r.render=m.render||lg}{const b=cO(r);py();try{rie(r)}finally{by(),b()}}}const Zie={get(r,i){return zd(r,"get",""),r[i]}};function jie(r){const i=u=>{r.exposed=u||{}};return{attrs:new Proxy(r.attrs,Zie),slots:r.slots,emit:r.emit,expose:i}}function vM(r){return r.exposed?r.exposeProxy||(r.exposeProxy=new Proxy(GK(_V(r.exposed)),{get(i,u){if(u in i)return i[u];if(u in WT)return WT[u](r)},has(i,u){return u in i||u in WT}})):r.proxy}function Kie(r,i=!0){return br(r)?r.displayName||r.name:r.name||i&&r.__name}function qie(r){return br(r)&&"__vccOpts"in r}const ct=(r,i)=>Pae(r,i,bM);function Wp(r,i,u){const m=arguments.length;return m===2?Pa(i)&&!Jo(i)?zH(i)?fe(r,null,[i]):fe(r,i):fe(r,null,i):(m>3?u=Array.prototype.slice.call(arguments,2):m===3&&zH(u)&&(u=[u]),fe(r,i,u))}const Gie="3.4.38";/**
* @vue/runtime-dom v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Yie="http://www.w3.org/2000/svg",Xie="http://www.w3.org/1998/Math/MathML",Z0=typeof document<"u"?document:null,FZ=Z0&&Z0.createElement("template"),Jie={insert:(r,i,u)=>{i.insertBefore(r,u||null)},remove:r=>{const i=r.parentNode;i&&i.removeChild(r)},createElement:(r,i,u,m)=>{const b=i==="svg"?Z0.createElementNS(Yie,r):i==="mathml"?Z0.createElementNS(Xie,r):u?Z0.createElement(r,{is:u}):Z0.createElement(r);return r==="select"&&m&&m.multiple!=null&&b.setAttribute("multiple",m.multiple),b},createText:r=>Z0.createTextNode(r),createComment:r=>Z0.createComment(r),setText:(r,i)=>{r.nodeValue=i},setElementText:(r,i)=>{r.textContent=i},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>Z0.querySelector(r),setScopeId(r,i){r.setAttribute(i,"")},insertStaticContent(r,i,u,m,b,h){const x=u?u.previousSibling:i.lastChild;if(b&&(b===h||b.nextSibling))for(;i.insertBefore(b.cloneNode(!0),u),!(b===h||!(b=b.nextSibling)););else{FZ.innerHTML=m==="svg"?`<svg>${r}</svg>`:m==="mathml"?`<math>${r}</math>`:r;const S=FZ.content;if(m==="svg"||m==="mathml"){const B=S.firstChild;for(;B.firstChild;)S.appendChild(B.firstChild);S.removeChild(B)}i.insertBefore(S,u)}return[x?x.nextSibling:i.firstChild,u?u.previousSibling:i.lastChild]}},Jv="transition",LT="animation",lk=Symbol("_vtc"),Zp=(r,{slots:i})=>Wp(Kae,Nq(r),i);Zp.displayName="Transition";const Rq={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Qie=Zp.props=Fl({},nq,Rq),yw=(r,i=[])=>{Jo(r)?r.forEach(u=>u(...i)):r&&r(...i)},zZ=r=>r?Jo(r)?r.some(i=>i.length>1):r.length>1:!1;function Nq(r){const i={};for(const Ne in r)Ne in Rq||(i[Ne]=r[Ne]);if(r.css===!1)return i;const{name:u="v",type:m,duration:b,enterFromClass:h=`${u}-enter-from`,enterActiveClass:x=`${u}-enter-active`,enterToClass:S=`${u}-enter-to`,appearFromClass:B=h,appearActiveClass:N=x,appearToClass:R=S,leaveFromClass:F=`${u}-leave-from`,leaveActiveClass:W=`${u}-leave-active`,leaveToClass:$=`${u}-leave-to`}=r,K=ele(b),ee=K&&K[0],ge=K&&K[1],{onBeforeEnter:he,onEnter:Ue,onEnterCancelled:Te,onLeave:te,onLeaveCancelled:Ae,onBeforeAppear:ne=he,onAppear:Ge=Ue,onAppearCancelled:$e=Te}=i,Ze=(Ne,D,yt)=>{ty(Ne,D?R:S),ty(Ne,D?N:x),yt&&yt()},ot=(Ne,D)=>{Ne._isLeaving=!1,ty(Ne,F),ty(Ne,$),ty(Ne,W),D&&D()},Ce=Ne=>(D,yt)=>{const Pt=Ne?Ge:Ue,ln=()=>Ze(D,Ne,yt);yw(Pt,[D,ln]),HZ(()=>{ty(D,Ne?B:h),W0(D,Ne?R:S),zZ(Pt)||VZ(D,m,ee,ln)})};return Fl(i,{onBeforeEnter(Ne){yw(he,[Ne]),W0(Ne,h),W0(Ne,x)},onBeforeAppear(Ne){yw(ne,[Ne]),W0(Ne,B),W0(Ne,N)},onEnter:Ce(!1),onAppear:Ce(!0),onLeave(Ne,D){Ne._isLeaving=!0;const yt=()=>ot(Ne,D);W0(Ne,F),W0(Ne,W),Bq(),HZ(()=>{Ne._isLeaving&&(ty(Ne,F),W0(Ne,$),zZ(te)||VZ(Ne,m,ge,yt))}),yw(te,[Ne,yt])},onEnterCancelled(Ne){Ze(Ne,!1),yw(Te,[Ne])},onAppearCancelled(Ne){Ze(Ne,!0),yw($e,[Ne])},onLeaveCancelled(Ne){ot(Ne),yw(Ae,[Ne])}})}function ele(r){if(r==null)return null;if(Pa(r))return[rH(r.enter),rH(r.leave)];{const i=rH(r);return[i,i]}}function rH(r){return iae(r)}function W0(r,i){i.split(/\s+/).forEach(u=>u&&r.classList.add(u)),(r[lk]||(r[lk]=new Set)).add(i)}function ty(r,i){i.split(/\s+/).forEach(m=>m&&r.classList.remove(m));const u=r[lk];u&&(u.delete(i),u.size||(r[lk]=void 0))}function HZ(r){requestAnimationFrame(()=>{requestAnimationFrame(r)})}let tle=0;function VZ(r,i,u,m){const b=r._endId=++tle,h=()=>{b===r._endId&&m()};if(u)return setTimeout(h,u);const{type:x,timeout:S,propCount:B}=Iq(r,i);if(!x)return m();const N=x+"end";let R=0;const F=()=>{r.removeEventListener(N,W),h()},W=$=>{$.target===r&&++R>=B&&F()};setTimeout(()=>{R<B&&F()},S+1),r.addEventListener(N,W)}function Iq(r,i){const u=window.getComputedStyle(r),m=K=>(u[K]||"").split(", "),b=m(`${Jv}Delay`),h=m(`${Jv}Duration`),x=$Z(b,h),S=m(`${LT}Delay`),B=m(`${LT}Duration`),N=$Z(S,B);let R=null,F=0,W=0;i===Jv?x>0&&(R=Jv,F=x,W=h.length):i===LT?N>0&&(R=LT,F=N,W=B.length):(F=Math.max(x,N),R=F>0?x>N?Jv:LT:null,W=R?R===Jv?h.length:B.length:0);const $=R===Jv&&/\b(transform|all)(,|$)/.test(m(`${Jv}Property`).toString());return{type:R,timeout:F,propCount:W,hasTransform:$}}function $Z(r,i){for(;r.length<i.length;)r=r.concat(r);return Math.max(...i.map((u,m)=>UZ(u)+UZ(r[m])))}function UZ(r){return r==="auto"?0:Number(r.slice(0,-1).replace(",","."))*1e3}function Bq(){return document.body.offsetHeight}function nle(r,i,u){const m=r[lk];m&&(i=(i?[i,...m]:[...m]).join(" ")),i==null?r.removeAttribute("class"):u?r.setAttribute("class",i):r.className=i}const K8=Symbol("_vod"),Mq=Symbol("_vsh"),pr={beforeMount(r,{value:i},{transition:u}){r[K8]=r.style.display==="none"?"":r.style.display,u&&i?u.beforeEnter(r):FT(r,i)},mounted(r,{value:i},{transition:u}){u&&i&&u.enter(r)},updated(r,{value:i,oldValue:u},{transition:m}){!i!=!u&&(m?i?(m.beforeEnter(r),FT(r,!0),m.enter(r)):m.leave(r,()=>{FT(r,!1)}):FT(r,i))},beforeUnmount(r,{value:i}){FT(r,i)}};function FT(r,i){r.style.display=i?r[K8]:"none",r[Mq]=!i}const ole=Symbol(""),rle=/(^|;)\s*display\s*:/;function sle(r,i,u){const m=r.style,b=Xi(u);let h=!1;if(u&&!b){if(i)if(Xi(i))for(const x of i.split(";")){const S=x.slice(0,x.indexOf(":")).trim();u[S]==null&&P8(m,S,"")}else for(const x in i)u[x]==null&&P8(m,x,"");for(const x in u)x==="display"&&(h=!0),P8(m,x,u[x])}else if(b){if(i!==u){const x=m[ole];x&&(u+=";"+x),m.cssText=u,h=rle.test(u)}}else i&&r.removeAttribute("style");K8 in r&&(r[K8]=h?m.display:"",r[Mq]&&(m.display="none"))}const WZ=/\s*!important$/;function P8(r,i,u){if(Jo(u))u.forEach(m=>P8(r,i,m));else if(u==null&&(u=""),i.startsWith("--"))r.setProperty(i,u);else{const m=ale(r,i);WZ.test(u)?r.setProperty(Fw(m),u.replace(WZ,""),"important"):r[m]=u}}const ZZ=["Webkit","Moz","ms"],sH={};function ale(r,i){const u=sH[i];if(u)return u;let m=Zf(i);if(m!=="filter"&&m in r)return sH[i]=m;m=e1(m);for(let b=0;b<ZZ.length;b++){const h=ZZ[b]+m;if(h in r)return sH[i]=h}return i}const jZ="http://www.w3.org/1999/xlink";function KZ(r,i,u,m,b,h=mae(i)){m&&i.startsWith("xlink:")?u==null?r.removeAttributeNS(jZ,i.slice(6,i.length)):r.setAttributeNS(jZ,i,u):u==null||h&&!OK(u)?r.removeAttribute(i):r.setAttribute(i,h?"":hy(u)?String(u):u)}function ile(r,i,u,m){if(i==="innerHTML"||i==="textContent"){if(u==null)return;r[i]=u;return}const b=r.tagName;if(i==="value"&&b!=="PROGRESS"&&!b.includes("-")){const x=b==="OPTION"?r.getAttribute("value")||"":r.value,S=u==null?"":String(u);(x!==S||!("_value"in r))&&(r.value=S),u==null&&r.removeAttribute(i),r._value=u;return}let h=!1;if(u===""||u==null){const x=typeof r[i];x==="boolean"?u=OK(u):u==null&&x==="string"?(u="",h=!0):x==="number"&&(u=0,h=!0)}try{r[i]=u}catch{}h&&r.removeAttribute(i)}function JS(r,i,u,m){r.addEventListener(i,u,m)}function lle(r,i,u,m){r.removeEventListener(i,u,m)}const qZ=Symbol("_vei");function cle(r,i,u,m,b=null){const h=r[qZ]||(r[qZ]={}),x=h[i];if(m&&x)x.value=m;else{const[S,B]=ule(i);if(m){const N=h[i]=mle(m,b);JS(r,S,N,B)}else x&&(lle(r,S,x,B),h[i]=void 0)}}const GZ=/(?:Once|Passive|Capture)$/;function ule(r){let i;if(GZ.test(r)){i={};let m;for(;m=r.match(GZ);)r=r.slice(0,r.length-m[0].length),i[m[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):Fw(r.slice(2)),i]}let aH=0;const dle=Promise.resolve(),fle=()=>aH||(dle.then(()=>aH=0),aH=Date.now());function mle(r,i){const u=m=>{if(!m._vts)m._vts=Date.now();else if(m._vts<=u.attached)return;cg(gle(m,u.value),i,5,[m])};return u.value=r,u.attached=fle(),u}function gle(r,i){if(Jo(i)){const u=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{u.call(r),r._stopped=!0},i.map(m=>b=>!b._stopped&&m&&m(b))}else return i}const YZ=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)>96&&r.charCodeAt(2)<123,hle=(r,i,u,m,b,h)=>{const x=b==="svg";i==="class"?nle(r,m,x):i==="style"?sle(r,u,m):lM(i)?gV(i)||cle(r,i,u,m,h):(i[0]==="."?(i=i.slice(1),!0):i[0]==="^"?(i=i.slice(1),!1):ple(r,i,m,x))?(ile(r,i,m),!r.tagName.includes("-")&&(i==="value"||i==="checked"||i==="selected")&&KZ(r,i,m,x,h,i!=="value")):(i==="true-value"?r._trueValue=m:i==="false-value"&&(r._falseValue=m),KZ(r,i,m,x))};function ple(r,i,u,m){if(m)return!!(i==="innerHTML"||i==="textContent"||i in r&&YZ(i)&&br(u));if(i==="spellcheck"||i==="draggable"||i==="translate"||i==="form"||i==="list"&&r.tagName==="INPUT"||i==="type"&&r.tagName==="TEXTAREA")return!1;if(i==="width"||i==="height"){const b=r.tagName;if(b==="IMG"||b==="VIDEO"||b==="CANVAS"||b==="SOURCE")return!1}return YZ(i)&&Xi(u)?!1:i in r}const Pq=new WeakMap,Lq=new WeakMap,q8=Symbol("_moveCb"),XZ=Symbol("_enterCb"),Fq={name:"TransitionGroup",props:Fl({},Qie,{tag:String,moveClass:String}),setup(r,{slots:i}){const u=LV(),m=tq();let b,h;return RV(()=>{if(!b.length)return;const x=r.moveClass||`${r.name||"v"}-move`;if(!wle(b[0].el,u.vnode.el,x))return;b.forEach(vle),b.forEach(yle);const S=b.filter(xle);Bq(),S.forEach(B=>{const N=B.el,R=N.style;W0(N,x),R.transform=R.webkitTransform=R.transitionDuration="";const F=N[q8]=W=>{W&&W.target!==N||(!W||/transform$/.test(W.propertyName))&&(N.removeEventListener("transitionend",F),N[q8]=null,ty(N,x))};N.addEventListener("transitionend",F)})}),()=>{const x=Ao(r),S=Nq(x);let B=x.tag||Es;if(b=[],h)for(let N=0;N<h.length;N++){const R=h[N];R.el&&R.el instanceof Element&&(b.push(R),ak(R,XT(R,S,m,u)),Pq.set(R,R.el.getBoundingClientRect()))}h=i.default?AV(i.default()):[];for(let N=0;N<h.length;N++){const R=h[N];R.key!=null&&ak(R,XT(R,S,m,u))}return fe(B,null,h)}}},ble=r=>delete r.mode;Fq.props;const FV=Fq;function vle(r){const i=r.el;i[q8]&&i[q8](),i[XZ]&&i[XZ]()}function yle(r){Lq.set(r,r.el.getBoundingClientRect())}function xle(r){const i=Pq.get(r),u=Lq.get(r),m=i.left-u.left,b=i.top-u.top;if(m||b){const h=r.el.style;return h.transform=h.webkitTransform=`translate(${m}px,${b}px)`,h.transitionDuration="0s",r}}function wle(r,i,u){const m=r.cloneNode(),b=r[lk];b&&b.forEach(S=>{S.split(/\s+/).forEach(B=>B&&m.classList.remove(B))}),u.split(/\s+/).forEach(S=>S&&m.classList.add(S)),m.style.display="none";const h=i.nodeType===1?i:i.parentNode;h.appendChild(m);const{hasTransform:x}=Iq(m);return h.removeChild(m),x}const JZ=r=>{const i=r.props["onUpdate:modelValue"]||!1;return Jo(i)?u=>N8(i,u):i};function Cle(r){r.target.composing=!0}function QZ(r){const i=r.target;i.composing&&(i.composing=!1,i.dispatchEvent(new Event("input")))}const iH=Symbol("_assign"),_le={created(r,{modifiers:{lazy:i,trim:u,number:m}},b){r[iH]=JZ(b);const h=m||b.props&&b.props.type==="number";JS(r,i?"change":"input",x=>{if(x.target.composing)return;let S=r.value;u&&(S=S.trim()),h&&(S=TH(S)),r[iH](S)}),u&&JS(r,"change",()=>{r.value=r.value.trim()}),i||(JS(r,"compositionstart",Cle),JS(r,"compositionend",QZ),JS(r,"change",QZ))},mounted(r,{value:i}){r.value=i??""},beforeUpdate(r,{value:i,oldValue:u,modifiers:{lazy:m,trim:b,number:h}},x){if(r[iH]=JZ(x),r.composing)return;const S=(h||r.type==="number")&&!/^0\d/.test(r.value)?TH(r.value):r.value,B=i??"";S!==B&&(document.activeElement===r&&r.type!=="range"&&(m&&i===u||b&&r.value.trim()===B)||(r.value=B))}},Sle=Fl({patchProp:hle},Jie);let ej;function kle(){return ej||(ej=Cie(Sle))}const Ele=(...r)=>{const i=kle().createApp(...r),{mount:u}=i;return i.mount=m=>{const b=Tle(m);if(!b)return;const h=i._component;!br(h)&&!h.render&&!h.template&&(h.template=b.innerHTML),b.innerHTML="";const x=u(b,!1,Ale(b));return b instanceof Element&&(b.removeAttribute("v-cloak"),b.setAttribute("data-v-app","")),x},i};function Ale(r){if(r instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&r instanceof MathMLElement)return"mathml"}function Tle(r){return Xi(r)?document.querySelector(r):r}function yh(r,i){let u;function m(){u=rO(),u.run(()=>i.length?i(()=>{u==null||u.stop(),m()}):i())}Gn(r,b=>{b&&!u?m():b||(u==null||u.stop(),u=void 0)},{immediate:!0}),jf(()=>{u==null||u.stop()})}const pi=typeof window<"u",zV=pi&&"IntersectionObserver"in window,Ole=pi&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function tj(r,i,u){Dle(r,i),i.set(r,u)}function Dle(r,i){if(i.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Rle(r,i,u){return r.set(zq(r,i),u),u}function xw(r,i){return r.get(zq(r,i))}function zq(r,i,u){if(typeof r=="function"?r===i:r.has(i))return arguments.length<3?i:u;throw new TypeError("Private element is not present on this object")}function Hq(r,i,u){const m=i.length-1;if(m<0)return r===void 0?u:r;for(let b=0;b<m;b++){if(r==null)return u;r=r[i[b]]}return r==null||r[i[m]]===void 0?u:r[i[m]]}function yM(r,i){if(r===i)return!0;if(r instanceof Date&&i instanceof Date&&r.getTime()!==i.getTime()||r!==Object(r)||i!==Object(i))return!1;const u=Object.keys(r);return u.length!==Object.keys(i).length?!1:u.every(m=>yM(r[m],i[m]))}function VH(r,i,u){return r==null||!i||typeof i!="string"?u:r[i]!==void 0?r[i]:(i=i.replace(/\[(\w+)\]/g,".$1"),i=i.replace(/^\./,""),Hq(r,i.split("."),u))}function zT(r,i,u){if(i===!0)return r===void 0?u:r;if(i==null||typeof i=="boolean")return u;if(r!==Object(r)){if(typeof i!="function")return u;const b=i(r,u);return typeof b>"u"?u:b}if(typeof i=="string")return VH(r,i,u);if(Array.isArray(i))return Hq(r,i,u);if(typeof i!="function")return u;const m=i(r,u);return typeof m>"u"?u:m}function Vq(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:r},(u,m)=>i+m)}function dr(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(r==null||r===""))return isNaN(+r)?String(r):isFinite(+r)?`${Number(r)}${i}`:void 0}function Nle(r){return r!==null&&typeof r=="object"&&!Array.isArray(r)}function nj(r){let i;return r!==null&&typeof r=="object"&&((i=Object.getPrototypeOf(r))===Object.prototype||i===null)}function Ile(r){if(r&&"$el"in r){const i=r.$el;return(i==null?void 0:i.nodeType)===Node.TEXT_NODE?i.nextElementSibling:i}return r}const oj=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function lH(r,i){return i.every(u=>r.hasOwnProperty(u))}function $q(r,i){const u={},m=new Set(Object.keys(r));for(const b of i)m.has(b)&&(u[b]=r[b]);return u}function rj(r,i,u){const m=Object.create(null),b=Object.create(null);for(const h in r)i.some(x=>x instanceof RegExp?x.test(h):x===h)&&!(u!=null&&u.some(x=>x===h))?m[h]=r[h]:b[h]=r[h];return[m,b]}function Uq(r,i){const u={...r};return i.forEach(m=>delete u[m]),u}function Ble(r,i){const u={};return i.forEach(m=>u[m]=r[m]),u}const Wq=/^on[^a-z]/,HV=r=>Wq.test(r),Mle=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function Ple(r){const[i,u]=rj(r,[Wq]),m=Uq(i,Mle),[b,h]=rj(u,["class","style","id",/^data-/]);return Object.assign(b,i),Object.assign(h,m),[b,h]}function Rw(r){return r==null?[]:Array.isArray(r)?r:[r]}function Pw(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(i,Math.min(u,r))}function sj(r,i){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return r+u.repeat(Math.max(0,i-r.length))}function aj(r,i){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,i-r.length))+r}function Lle(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const u=[];let m=0;for(;m<r.length;)u.push(r.substr(m,i)),m+=i;return u}function $f(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=arguments.length>2?arguments[2]:void 0;const m={};for(const b in r)m[b]=r[b];for(const b in i){const h=r[b],x=i[b];if(nj(h)&&nj(x)){m[b]=$f(h,x,u);continue}if(u&&Array.isArray(h)&&Array.isArray(x)){m[b]=u(h,x);continue}m[b]=x}return m}function Zq(r){return r.map(i=>i.type===Es?Zq(i.children):i).flat()}function Nw(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(Nw.cache.has(r))return Nw.cache.get(r);const i=r.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return Nw.cache.set(r,i),i}Nw.cache=new Map;function QS(r,i){if(!i||typeof i!="object")return[];if(Array.isArray(i))return i.map(u=>QS(r,u)).flat(1);if(i.suspense)return QS(r,i.ssContent);if(Array.isArray(i.children))return i.children.map(u=>QS(r,u)).flat(1);if(i.component){if(Object.getOwnPropertySymbols(i.component.provides).includes(r))return[i.component];if(i.component.subTree)return QS(r,i.component.subTree).flat(1)}return[]}var v8=new WeakMap,ZS=new WeakMap;class Fle{constructor(i){tj(this,v8,[]),tj(this,ZS,0),this.size=i}push(i){xw(v8,this)[xw(ZS,this)]=i,Rle(ZS,this,(xw(ZS,this)+1)%this.size)}values(){return xw(v8,this).slice(xw(ZS,this)).concat(xw(v8,this).slice(0,xw(ZS,this)))}}function VV(r){const i=mu({}),u=ct(r);return xh(()=>{for(const m in u.value)i[m]=u.value[m]},{flush:"sync"}),aO(i)}function G8(r,i){return r.includes(i)}function jq(r){return r[2].toLowerCase()+r.slice(3)}const ug=()=>[Function,Array];function ij(r,i){return i="on"+e1(i),!!(r[i]||r[`${i}Once`]||r[`${i}Capture`]||r[`${i}OnceCapture`]||r[`${i}CaptureOnce`])}function zle(r){for(var i=arguments.length,u=new Array(i>1?i-1:0),m=1;m<i;m++)u[m-1]=arguments[m];if(Array.isArray(r))for(const b of r)b(...u);else typeof r=="function"&&r(...u)}function Kq(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const u=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(m=>`${m}${i?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...r.querySelectorAll(u)]}function Hle(r,i,u){let m,b=r.indexOf(document.activeElement);const h=i==="next"?1:-1;do b+=h,m=r[b];while((!m||m.offsetParent==null)&&b<r.length&&b>=0);return m}function qq(r,i){var m,b,h,x;const u=Kq(r);if(!i)(r===document.activeElement||!r.contains(document.activeElement))&&((m=u[0])==null||m.focus());else if(i==="first")(b=u[0])==null||b.focus();else if(i==="last")(h=u.at(-1))==null||h.focus();else if(typeof i=="number")(x=u[i])==null||x.focus();else{const S=Hle(u,i);S?S.focus():qq(r,i==="next"?"first":"last")}}function Vle(r,i){if(!(pi&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${i})`)))return null;try{return!!r&&r.matches(i)}catch{return null}}function $le(r,i){if(!pi||r===0)return i(),()=>{};const u=window.setTimeout(i,r);return()=>window.clearTimeout(u)}function $H(){const r=Tr(),i=u=>{r.value=u};return Object.defineProperty(i,"value",{enumerable:!0,get:()=>r.value,set:u=>r.value=u}),Object.defineProperty(i,"el",{enumerable:!0,get:()=>Ile(r.value)}),i}const Gq=["top","bottom"],Ule=["start","end","left","right"];function UH(r,i){let[u,m]=r.split(" ");return m||(m=G8(Gq,u)?"start":G8(Ule,u)?"top":"center"),{side:WH(u,i),align:WH(m,i)}}function WH(r,i){return r==="start"?i?"right":"left":r==="end"?i?"left":"right":r}function cH(r){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[r.side],align:r.align}}function uH(r){return{side:r.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[r.align]}}function lj(r){return{side:r.align,align:r.side}}function cj(r){return G8(Gq,r.side)?"y":"x"}class Iw{constructor(i){let{x:u,y:m,width:b,height:h}=i;this.x=u,this.y=m,this.width=b,this.height=h}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function uj(r,i){return{x:{before:Math.max(0,i.left-r.left),after:Math.max(0,r.right-i.right)},y:{before:Math.max(0,i.top-r.top),after:Math.max(0,r.bottom-i.bottom)}}}function Yq(r){return Array.isArray(r)?new Iw({x:r[0],y:r[1],width:0,height:0}):r.getBoundingClientRect()}function $V(r){const i=r.getBoundingClientRect(),u=getComputedStyle(r),m=u.transform;if(m){let b,h,x,S,B;if(m.startsWith("matrix3d("))b=m.slice(9,-1).split(/, /),h=+b[0],x=+b[5],S=+b[12],B=+b[13];else if(m.startsWith("matrix("))b=m.slice(7,-1).split(/, /),h=+b[0],x=+b[3],S=+b[4],B=+b[5];else return new Iw(i);const N=u.transformOrigin,R=i.x-S-(1-h)*parseFloat(N),F=i.y-B-(1-x)*parseFloat(N.slice(N.indexOf(" ")+1)),W=h?i.width/h:r.offsetWidth+1,$=x?i.height/x:r.offsetHeight+1;return new Iw({x:R,y:F,width:W,height:$})}else return new Iw(i)}function ek(r,i,u){if(typeof r.animate>"u")return{finished:Promise.resolve()};let m;try{m=r.animate(i,u)}catch{return{finished:Promise.resolve()}}return typeof m.finished>"u"&&(m.finished=new Promise(b=>{m.onfinish=()=>{b(m)}})),m}const L8=new WeakMap;function Wle(r,i){Object.keys(i).forEach(u=>{if(HV(u)){const m=jq(u),b=L8.get(r);if(i[u]==null)b==null||b.forEach(h=>{const[x,S]=h;x===m&&(r.removeEventListener(m,S),b.delete(h))});else if(!b||![...b].some(h=>h[0]===m&&h[1]===i[u])){r.addEventListener(m,i[u]);const h=b||new Set;h.add([m,i[u]]),L8.has(r)||L8.set(r,h)}}else i[u]==null?r.removeAttribute(u):r.setAttribute(u,i[u])})}function Zle(r,i){Object.keys(i).forEach(u=>{if(HV(u)){const m=jq(u),b=L8.get(r);b==null||b.forEach(h=>{const[x,S]=h;x===m&&(r.removeEventListener(m,S),b.delete(h))})}else r.removeAttribute(u)})}const jS=2.4,dj=.2126729,fj=.7151522,mj=.072175,jle=.55,Kle=.58,qle=.57,Gle=.62,y8=.03,gj=1.45,Yle=5e-4,Xle=1.25,Jle=1.25,hj=.078,pj=12.82051282051282,x8=.06,bj=.001;function vj(r,i){const u=(r.r/255)**jS,m=(r.g/255)**jS,b=(r.b/255)**jS,h=(i.r/255)**jS,x=(i.g/255)**jS,S=(i.b/255)**jS;let B=u*dj+m*fj+b*mj,N=h*dj+x*fj+S*mj;if(B<=y8&&(B+=(y8-B)**gj),N<=y8&&(N+=(y8-N)**gj),Math.abs(N-B)<Yle)return 0;let R;if(N>B){const F=(N**jle-B**Kle)*Xle;R=F<bj?0:F<hj?F-F*pj*x8:F-x8}else{const F=(N**Gle-B**qle)*Jle;R=F>-bj?0:F>-hj?F-F*pj*x8:F+x8}return R*100}function Qle(r,i){i=Array.isArray(i)?i.slice(0,-1).map(u=>`'${u}'`).join(", ")+` or '${i.at(-1)}'`:`'${i}'`}const Y8=.20689655172413793,ece=r=>r>Y8**3?Math.cbrt(r):r/(3*Y8**2)+4/29,tce=r=>r>Y8?r**3:3*Y8**2*(r-4/29);function Xq(r){const i=ece,u=i(r[1]);return[116*u-16,500*(i(r[0]/.95047)-u),200*(u-i(r[2]/1.08883))]}function Jq(r){const i=tce,u=(r[0]+16)/116;return[i(u+r[1]/500)*.95047,i(u),i(u-r[2]/200)*1.08883]}const nce=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],oce=r=>r<=.0031308?r*12.92:1.055*r**(1/2.4)-.055,rce=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],sce=r=>r<=.04045?r/12.92:((r+.055)/1.055)**2.4;function Qq(r){const i=Array(3),u=oce,m=nce;for(let b=0;b<3;++b)i[b]=Math.round(Pw(u(m[b][0]*r[0]+m[b][1]*r[1]+m[b][2]*r[2]))*255);return{r:i[0],g:i[1],b:i[2]}}function UV(r){let{r:i,g:u,b:m}=r;const b=[0,0,0],h=sce,x=rce;i=h(i/255),u=h(u/255),m=h(m/255);for(let S=0;S<3;++S)b[S]=x[S][0]*i+x[S][1]*u+x[S][2]*m;return b}function ZH(r){return!!r&&/^(#|var\(--|(rgb|hsl)a?\()/.test(r)}function ace(r){return ZH(r)&&!/^((rgb|hsl)a?\()?var\(--/.test(r)}const yj=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,ice={rgb:(r,i,u,m)=>({r,g:i,b:u,a:m}),rgba:(r,i,u,m)=>({r,g:i,b:u,a:m}),hsl:(r,i,u,m)=>xj({h:r,s:i,l:u,a:m}),hsla:(r,i,u,m)=>xj({h:r,s:i,l:u,a:m}),hsv:(r,i,u,m)=>QT({h:r,s:i,v:u,a:m}),hsva:(r,i,u,m)=>QT({h:r,s:i,v:u,a:m})};function Hp(r){if(typeof r=="number")return{r:(r&16711680)>>16,g:(r&65280)>>8,b:r&255};if(typeof r=="string"&&yj.test(r)){const{groups:i}=r.match(yj),{fn:u,values:m}=i,b=m.split(/,\s*/).map(h=>h.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(u)?parseFloat(h)/100:parseFloat(h));return ice[u](...b)}else if(typeof r=="string"){let i=r.startsWith("#")?r.slice(1):r;return[3,4].includes(i.length)?i=i.split("").map(u=>u+u).join(""):[6,8].includes(i.length),cce(i)}else if(typeof r=="object"){if(lH(r,["r","g","b"]))return r;if(lH(r,["h","s","l"]))return QT(eG(r));if(lH(r,["h","s","v"]))return QT(r)}throw new TypeError(`Invalid color: ${r==null?r:String(r)||r.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function QT(r){const{h:i,s:u,v:m,a:b}=r,h=S=>{const B=(S+i/60)%6;return m-m*u*Math.max(Math.min(B,4-B,1),0)},x=[h(5),h(3),h(1)].map(S=>Math.round(S*255));return{r:x[0],g:x[1],b:x[2],a:b}}function xj(r){return QT(eG(r))}function eG(r){const{h:i,s:u,l:m,a:b}=r,h=m+u*Math.min(m,1-m),x=h===0?0:2-2*m/h;return{h:i,s:x,v:h,a:b}}function w8(r){const i=Math.round(r).toString(16);return("00".substr(0,2-i.length)+i).toUpperCase()}function lce(r){let{r:i,g:u,b:m,a:b}=r;return`#${[w8(i),w8(u),w8(m),b!==void 0?w8(Math.round(b*255)):""].join("")}`}function cce(r){r=uce(r);let[i,u,m,b]=Lle(r,2).map(h=>parseInt(h,16));return b=b===void 0?b:b/255,{r:i,g:u,b:m,a:b}}function uce(r){return r.startsWith("#")&&(r=r.slice(1)),r=r.replace(/([^0-9a-f])/gi,"F"),(r.length===3||r.length===4)&&(r=r.split("").map(i=>i+i).join("")),r.length!==6&&(r=sj(sj(r,6),8,"F")),r}function dce(r,i){const u=Xq(UV(r));return u[0]=u[0]+i*10,Qq(Jq(u))}function fce(r,i){const u=Xq(UV(r));return u[0]=u[0]-i*10,Qq(Jq(u))}function mce(r){const i=Hp(r);return UV(i)[1]}function tG(r){const i=Math.abs(vj(Hp(0),Hp(r)));return Math.abs(vj(Hp(16777215),Hp(r)))>Math.min(i,50)?"#fff":"#000"}function Jn(r,i){return u=>Object.keys(r).reduce((m,b)=>{const x=typeof r[b]=="object"&&r[b]!=null&&!Array.isArray(r[b])?r[b]:{type:r[b]};return u&&b in u?m[b]={...x,default:u[b]}:m[b]=x,i&&!m[b].source&&(m[b].source=i),m},{})}const ts=Jn({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function kl(r,i){const u=LV();if(!u)throw new Error(`[Vuetify] ${r} must be called from inside a setup function`);return u}function jp(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const i=kl(r).type;return Nw((i==null?void 0:i.aliasName)||(i==null?void 0:i.name))}let nG=0,F8=new WeakMap;function xy(){const r=kl("getUid");if(F8.has(r))return F8.get(r);{const i=nG++;return F8.set(r,i),i}}xy.reset=()=>{nG=0,F8=new WeakMap};function gce(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kl("injectSelf");const{provides:u}=i;if(u&&r in u)return u[r]}const ck=Symbol.for("vuetify:defaults");function hce(r){return wo(r)}function WV(){const r=Yi(ck);if(!r)throw new Error("[Vuetify] Could not find defaults instance");return r}function dk(r,i){const u=WV(),m=wo(r),b=ct(()=>{if(Ve(i==null?void 0:i.disabled))return u.value;const x=Ve(i==null?void 0:i.scoped),S=Ve(i==null?void 0:i.reset),B=Ve(i==null?void 0:i.root);if(m.value==null&&!(x||S||B))return u.value;let N=$f(m.value,{prev:u.value});if(x)return N;if(S||B){const R=Number(S||1/0);for(let F=0;F<=R&&!(!N||!("prev"in N));F++)N=N.prev;return N&&typeof B=="string"&&B in N&&(N=$f($f(N,{prev:N}),N[B])),N}return N.prev?$f(N.prev,N):N});return Kf(ck,b),b}function pce(r,i){var u,m;return typeof((u=r.props)==null?void 0:u[i])<"u"||typeof((m=r.props)==null?void 0:m[Nw(i)])<"u"}function bce(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:WV();const m=kl("useDefaults");if(i=i??m.type.name??m.type.__name,!i)throw new Error("[Vuetify] Could not determine component name");const b=ct(()=>{var B;return(B=u.value)==null?void 0:B[r._as??i]}),h=new Proxy(r,{get(B,N){var F,W,$,K,ee,ge,he;const R=Reflect.get(B,N);return N==="class"||N==="style"?[(F=b.value)==null?void 0:F[N],R].filter(Ue=>Ue!=null):typeof N=="string"&&!pce(m.vnode,N)?((W=b.value)==null?void 0:W[N])!==void 0?($=b.value)==null?void 0:$[N]:((ee=(K=u.value)==null?void 0:K.global)==null?void 0:ee[N])!==void 0?(he=(ge=u.value)==null?void 0:ge.global)==null?void 0:he[N]:R:R}}),x=Tr();xh(()=>{if(b.value){const B=Object.entries(b.value).filter(N=>{let[R]=N;return R.startsWith(R[0].toUpperCase())});x.value=B.length?Object.fromEntries(B):void 0}else x.value=void 0});function S(){const B=gce(ck,m);Kf(ck,ct(()=>x.value?$f((B==null?void 0:B.value)??{},x.value):B==null?void 0:B.value))}return{props:h,provideSubDefaults:S}}function fk(r){if(r._setup=r._setup??r.setup,!r.name)return r;if(r._setup){r.props=Jn(r.props??{},r.name)();const i=Object.keys(r.props).filter(u=>u!=="class"&&u!=="style");r.filterProps=function(m){return $q(m,i)},r.props._as=String,r.setup=function(m,b){const h=WV();if(!h.value)return r._setup(m,b);const{props:x,provideSubDefaults:S}=bce(m,m._as??r.name,h),B=r._setup(x,b);return S(),B}}return r}function rr(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return i=>(r?fk:sq)(i)}function xM(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",u=arguments.length>2?arguments[2]:void 0;return rr()({name:u??e1(Zf(r.replace(/__/g,"-"))),props:{tag:{type:String,default:i},...ts()},setup(m,b){let{slots:h}=b;return()=>{var x;return Wp(m.tag,{class:[r,m.class],style:m.style},(x=h.default)==null?void 0:x.call(h))}}})}function oG(r){if(typeof r.getRootNode!="function"){for(;r.parentNode;)r=r.parentNode;return r!==document?null:document}const i=r.getRootNode();return i!==document&&i.getRootNode({composed:!0})!==document?null:i}const X8="cubic-bezier(0.4, 0, 0.2, 1)",vce="cubic-bezier(0.0, 0, 0.2, 1)",yce="cubic-bezier(0.4, 0, 1, 1)";function xce(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;r;){if(i?wce(r):ZV(r))return r;r=r.parentElement}return document.scrollingElement}function J8(r,i){const u=[];if(i&&r&&!i.contains(r))return u;for(;r&&(ZV(r)&&u.push(r),r!==i);)r=r.parentElement;return u}function ZV(r){if(!r||r.nodeType!==Node.ELEMENT_NODE)return!1;const i=window.getComputedStyle(r);return i.overflowY==="scroll"||i.overflowY==="auto"&&r.scrollHeight>r.clientHeight}function wce(r){if(!r||r.nodeType!==Node.ELEMENT_NODE)return!1;const i=window.getComputedStyle(r);return["scroll","auto"].includes(i.overflowY)}function Cce(r){for(;r;){if(window.getComputedStyle(r).position==="fixed")return!0;r=r.offsetParent}return!1}function Kr(r){const i=kl("useRender");i.render=r}function Pd(r,i,u){let m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:F=>F,b=arguments.length>4&&arguments[4]!==void 0?arguments[4]:F=>F;const h=kl("useProxiedModel"),x=wo(r[i]!==void 0?r[i]:u),S=Nw(i),N=ct(S!==i?()=>{var F,W,$,K;return r[i],!!(((F=h.vnode.props)!=null&&F.hasOwnProperty(i)||(W=h.vnode.props)!=null&&W.hasOwnProperty(S))&&(($=h.vnode.props)!=null&&$.hasOwnProperty(`onUpdate:${i}`)||(K=h.vnode.props)!=null&&K.hasOwnProperty(`onUpdate:${S}`)))}:()=>{var F,W;return r[i],!!((F=h.vnode.props)!=null&&F.hasOwnProperty(i)&&((W=h.vnode.props)!=null&&W.hasOwnProperty(`onUpdate:${i}`)))});yh(()=>!N.value,()=>{Gn(()=>r[i],F=>{x.value=F})});const R=ct({get(){const F=r[i];return m(N.value?F:x.value)},set(F){const W=b(F),$=Ao(N.value?r[i]:x.value);$===W||m($)===F||(x.value=W,h==null||h.emit(`update:${i}`,W))}});return Object.defineProperty(R,"externalValue",{get:()=>N.value?r[i]:x.value}),R}const _ce={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},wj="$vuetify.",Cj=(r,i)=>r.replace(/\{(\d+)\}/g,(u,m)=>String(i[+m])),rG=(r,i,u)=>function(m){for(var b=arguments.length,h=new Array(b>1?b-1:0),x=1;x<b;x++)h[x-1]=arguments[x];if(!m.startsWith(wj))return Cj(m,h);const S=m.replace(wj,""),B=r.value&&u.value[r.value],N=i.value&&u.value[i.value];let R=VH(B,S,null);return R||(`${m}${r.value}`,R=VH(N,S,null)),R||(R=m),typeof R!="string"&&(R=m),Cj(R,h)};function sG(r,i){return(u,m)=>new Intl.NumberFormat([r.value,i.value],m).format(u)}function dH(r,i,u){const m=Pd(r,i,r[i]??u.value);return m.value=r[i]??u.value,Gn(u,b=>{r[i]==null&&(m.value=u.value)}),m}function aG(r){return i=>{const u=dH(i,"locale",r.current),m=dH(i,"fallback",r.fallback),b=dH(i,"messages",r.messages);return{name:"vuetify",current:u,fallback:m,messages:b,t:rG(u,m,b),n:sG(u,m),provide:aG({current:u,fallback:m,messages:b})}}}function Sce(r){const i=Tr((r==null?void 0:r.locale)??"en"),u=Tr((r==null?void 0:r.fallback)??"en"),m=wo({en:_ce,...r==null?void 0:r.messages});return{name:"vuetify",current:i,fallback:u,messages:m,t:rG(i,u,m),n:sG(i,u),provide:aG({current:i,fallback:u,messages:m})}}const Q8=Symbol.for("vuetify:locale");function kce(r){return r.name!=null}function Ece(r){const i=r!=null&&r.adapter&&kce(r==null?void 0:r.adapter)?r==null?void 0:r.adapter:Sce(r),u=Tce(i,r);return{...i,...u}}function iG(){const r=Yi(Q8);if(!r)throw new Error("[Vuetify] Could not find injected locale instance");return r}function Ace(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function Tce(r,i){const u=wo((i==null?void 0:i.rtl)??Ace()),m=ct(()=>u.value[r.current.value]??!1);return{isRtl:m,rtl:u,rtlClasses:ct(()=>`v-locale--is-${m.value?"rtl":"ltr"}`)}}function n1(){const r=Yi(Q8);if(!r)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:r.isRtl,rtlClasses:r.rtlClasses}}const wM={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function Oce(r,i,u){const m=[];let b=[];const h=lG(r),x=cG(r),S=u??wM[i.slice(-2).toUpperCase()]??0,B=(h.getDay()-S+7)%7,N=(x.getDay()-S+7)%7;for(let R=0;R<B;R++){const F=new Date(h);F.setDate(F.getDate()-(B-R)),b.push(F)}for(let R=1;R<=x.getDate();R++){const F=new Date(r.getFullYear(),r.getMonth(),R);b.push(F),b.length===7&&(m.push(b),b=[])}for(let R=1;R<7-N;R++){const F=new Date(x);F.setDate(F.getDate()+R),b.push(F)}return b.length>0&&m.push(b),m}function Dce(r,i,u){const m=u??wM[i.slice(-2).toUpperCase()]??0,b=new Date(r);for(;b.getDay()!==m;)b.setDate(b.getDate()-1);return b}function Rce(r,i){const u=new Date(r),m=((wM[i.slice(-2).toUpperCase()]??0)+6)%7;for(;u.getDay()!==m;)u.setDate(u.getDate()+1);return u}function lG(r){return new Date(r.getFullYear(),r.getMonth(),1)}function cG(r){return new Date(r.getFullYear(),r.getMonth()+1,0)}function Nce(r){const i=r.split("-").map(Number);return new Date(i[0],i[1]-1,i[2])}const Ice=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function uG(r){if(r==null)return new Date;if(r instanceof Date)return r;if(typeof r=="string"){let i;if(Ice.test(r))return Nce(r);if(i=Date.parse(r),!isNaN(i))return new Date(i)}return null}const _j=new Date(2e3,0,2);function Bce(r,i){const u=i??wM[r.slice(-2).toUpperCase()]??0;return Vq(7).map(m=>{const b=new Date(_j);return b.setDate(_j.getDate()+u+m),new Intl.DateTimeFormat(r,{weekday:"narrow"}).format(b)})}function Mce(r,i,u,m){const b=uG(r)??new Date,h=m==null?void 0:m[i];if(typeof h=="function")return h(b,i,u);let x={};switch(i){case"fullDate":x={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":x={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const S=b.getDate(),B=new Intl.DateTimeFormat(u,{month:"long"}).format(b);return`${S} ${B}`;case"normalDateWithWeekday":x={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":x={month:"short",day:"numeric"};break;case"year":x={year:"numeric"};break;case"month":x={month:"long"};break;case"monthShort":x={month:"short"};break;case"monthAndYear":x={month:"long",year:"numeric"};break;case"monthAndDate":x={month:"long",day:"numeric"};break;case"weekday":x={weekday:"long"};break;case"weekdayShort":x={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(u).format(b.getDate());case"hours12h":x={hour:"numeric",hour12:!0};break;case"hours24h":x={hour:"numeric",hour12:!1};break;case"minutes":x={minute:"numeric"};break;case"seconds":x={second:"numeric"};break;case"fullTime":x={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":x={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":x={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":x={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":x={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":x={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":x={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:x=h??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(u,x).format(b)}function Pce(r,i){const u=r.toJsDate(i),m=u.getFullYear(),b=aj(String(u.getMonth()+1),2,"0"),h=aj(String(u.getDate()),2,"0");return`${m}-${b}-${h}`}function Lce(r){const[i,u,m]=r.split("-").map(Number);return new Date(i,u-1,m)}function Fce(r,i){const u=new Date(r);return u.setMinutes(u.getMinutes()+i),u}function zce(r,i){const u=new Date(r);return u.setHours(u.getHours()+i),u}function Hce(r,i){const u=new Date(r);return u.setDate(u.getDate()+i),u}function Vce(r,i){const u=new Date(r);return u.setDate(u.getDate()+i*7),u}function $ce(r,i){const u=new Date(r);return u.setDate(1),u.setMonth(u.getMonth()+i),u}function Uce(r){return r.getFullYear()}function Wce(r){return r.getMonth()}function Zce(r){return r.getDate()}function jce(r){return new Date(r.getFullYear(),r.getMonth()+1,1)}function Kce(r){return new Date(r.getFullYear(),r.getMonth()-1,1)}function qce(r){return r.getHours()}function Gce(r){return r.getMinutes()}function Yce(r){return new Date(r.getFullYear(),0,1)}function Xce(r){return new Date(r.getFullYear(),11,31)}function Jce(r,i){return eM(r,i[0])&&tue(r,i[1])}function Qce(r){const i=new Date(r);return i instanceof Date&&!isNaN(i.getTime())}function eM(r,i){return r.getTime()>i.getTime()}function eue(r,i){return eM(jH(r),jH(i))}function tue(r,i){return r.getTime()<i.getTime()}function Sj(r,i){return r.getTime()===i.getTime()}function nue(r,i){return r.getDate()===i.getDate()&&r.getMonth()===i.getMonth()&&r.getFullYear()===i.getFullYear()}function oue(r,i){return r.getMonth()===i.getMonth()&&r.getFullYear()===i.getFullYear()}function rue(r,i){return r.getFullYear()===i.getFullYear()}function sue(r,i,u){const m=new Date(r),b=new Date(i);switch(u){case"years":return m.getFullYear()-b.getFullYear();case"quarters":return Math.floor((m.getMonth()-b.getMonth()+(m.getFullYear()-b.getFullYear())*12)/4);case"months":return m.getMonth()-b.getMonth()+(m.getFullYear()-b.getFullYear())*12;case"weeks":return Math.floor((m.getTime()-b.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((m.getTime()-b.getTime())/(1e3*60*60*24));case"hours":return Math.floor((m.getTime()-b.getTime())/(1e3*60*60));case"minutes":return Math.floor((m.getTime()-b.getTime())/(1e3*60));case"seconds":return Math.floor((m.getTime()-b.getTime())/1e3);default:return m.getTime()-b.getTime()}}function aue(r,i){const u=new Date(r);return u.setHours(i),u}function iue(r,i){const u=new Date(r);return u.setMinutes(i),u}function lue(r,i){const u=new Date(r);return u.setMonth(i),u}function cue(r,i){const u=new Date(r);return u.setDate(i),u}function uue(r,i){const u=new Date(r);return u.setFullYear(i),u}function jH(r){return new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0,0)}function due(r){return new Date(r.getFullYear(),r.getMonth(),r.getDate(),23,59,59,999)}class fue{constructor(i){this.locale=i.locale,this.formats=i.formats}date(i){return uG(i)}toJsDate(i){return i}toISO(i){return Pce(this,i)}parseISO(i){return Lce(i)}addMinutes(i,u){return Fce(i,u)}addHours(i,u){return zce(i,u)}addDays(i,u){return Hce(i,u)}addWeeks(i,u){return Vce(i,u)}addMonths(i,u){return $ce(i,u)}getWeekArray(i,u){return Oce(i,this.locale,u?Number(u):void 0)}startOfWeek(i,u){return Dce(i,this.locale,u?Number(u):void 0)}endOfWeek(i){return Rce(i,this.locale)}startOfMonth(i){return lG(i)}endOfMonth(i){return cG(i)}format(i,u){return Mce(i,u,this.locale,this.formats)}isEqual(i,u){return Sj(i,u)}isValid(i){return Qce(i)}isWithinRange(i,u){return Jce(i,u)}isAfter(i,u){return eM(i,u)}isAfterDay(i,u){return eue(i,u)}isBefore(i,u){return!eM(i,u)&&!Sj(i,u)}isSameDay(i,u){return nue(i,u)}isSameMonth(i,u){return oue(i,u)}isSameYear(i,u){return rue(i,u)}setMinutes(i,u){return iue(i,u)}setHours(i,u){return aue(i,u)}setMonth(i,u){return lue(i,u)}setDate(i,u){return cue(i,u)}setYear(i,u){return uue(i,u)}getDiff(i,u,m){return sue(i,u,m)}getWeekdays(i){return Bce(this.locale,i?Number(i):void 0)}getYear(i){return Uce(i)}getMonth(i){return Wce(i)}getDate(i){return Zce(i)}getNextMonth(i){return jce(i)}getPreviousMonth(i){return Kce(i)}getHours(i){return qce(i)}getMinutes(i){return Gce(i)}startOfDay(i){return jH(i)}endOfDay(i){return due(i)}startOfYear(i){return Yce(i)}endOfYear(i){return Xce(i)}}const mue=Symbol.for("vuetify:date-options"),kj=Symbol.for("vuetify:date-adapter");function gue(r,i){const u=$f({adapter:fue,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},r);return{options:u,instance:hue(u,i)}}function hue(r,i){const u=mu(typeof r.adapter=="function"?new r.adapter({locale:r.locale[i.current.value]??i.current.value,formats:r.formats}):r.adapter);return Gn(i.current,m=>{u.locale=r.locale[m]??m??u.locale}),u}const CM=["sm","md","lg","xl","xxl"],KH=Symbol.for("vuetify:display"),Ej={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},pue=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ej;return $f(Ej,r)};function Aj(r){return pi&&!r?window.innerWidth:typeof r=="object"&&r.clientWidth||0}function Tj(r){return pi&&!r?window.innerHeight:typeof r=="object"&&r.clientHeight||0}function Oj(r){const i=pi&&!r?window.navigator.userAgent:"ssr";function u(K){return!!i.match(K)}const m=u(/android/i),b=u(/iphone|ipad|ipod/i),h=u(/cordova/i),x=u(/electron/i),S=u(/chrome/i),B=u(/edge/i),N=u(/firefox/i),R=u(/opera/i),F=u(/win/i),W=u(/mac/i),$=u(/linux/i);return{android:m,ios:b,cordova:h,electron:x,chrome:S,edge:B,firefox:N,opera:R,win:F,mac:W,linux:$,touch:Ole,ssr:i==="ssr"}}function bue(r,i){const{thresholds:u,mobileBreakpoint:m}=pue(r),b=Tr(Tj(i)),h=Tr(Oj(i)),x=mu({}),S=Tr(Aj(i));function B(){b.value=Tj(),S.value=Aj()}function N(){B(),h.value=Oj()}return xh(()=>{const R=S.value<u.sm,F=S.value<u.md&&!R,W=S.value<u.lg&&!(F||R),$=S.value<u.xl&&!(W||F||R),K=S.value<u.xxl&&!($||W||F||R),ee=S.value>=u.xxl,ge=R?"xs":F?"sm":W?"md":$?"lg":K?"xl":"xxl",he=typeof m=="number"?m:u[m],Ue=S.value<he;x.xs=R,x.sm=F,x.md=W,x.lg=$,x.xl=K,x.xxl=ee,x.smAndUp=!R,x.mdAndUp=!(R||F),x.lgAndUp=!(R||F||W),x.xlAndUp=!(R||F||W||$),x.smAndDown=!(W||$||K||ee),x.mdAndDown=!($||K||ee),x.lgAndDown=!(K||ee),x.xlAndDown=!ee,x.name=ge,x.height=b.value,x.width=S.value,x.mobile=Ue,x.mobileBreakpoint=m,x.platform=h.value,x.thresholds=u}),pi&&window.addEventListener("resize",B,{passive:!0}),{...aO(x),update:N,ssr:!!i}}const vue=Jn({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function dG(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jp();const u=Yi(KH);if(!u)throw new Error("Could not find Vuetify display injection");const m=ct(()=>{if(r.mobile!=null)return r.mobile;if(!r.mobileBreakpoint)return u.mobile.value;const h=typeof r.mobileBreakpoint=="number"?r.mobileBreakpoint:u.thresholds.value[r.mobileBreakpoint];return u.width.value<h}),b=ct(()=>i?{[`${i}--mobile`]:m.value}:{});return{...u,displayClasses:b,mobile:m}}const yue=Symbol.for("vuetify:goto");function xue(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:r=>r,easeInQuad:r=>r**2,easeOutQuad:r=>r*(2-r),easeInOutQuad:r=>r<.5?2*r**2:-1+(4-2*r)*r,easeInCubic:r=>r**3,easeOutCubic:r=>--r**3+1,easeInOutCubic:r=>r<.5?4*r**3:(r-1)*(2*r-2)*(2*r-2)+1,easeInQuart:r=>r**4,easeOutQuart:r=>1- --r**4,easeInOutQuart:r=>r<.5?8*r**4:1-8*--r**4,easeInQuint:r=>r**5,easeOutQuint:r=>1+--r**5,easeInOutQuint:r=>r<.5?16*r**5:1+16*--r**5}}}function wue(r,i){return{rtl:i.isRtl,options:$f(xue(),r)}}const Cue={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper"},_ue={component:r=>Wp(mG,{...r,class:"mdi"})},gl=[String,Function,Object,Array],qH=Symbol.for("vuetify:icons"),_M=Jn({icon:{type:gl},tag:{type:String,required:!0}},"icon"),Dj=rr()({name:"VComponentIcon",props:_M(),setup(r,i){let{slots:u}=i;return()=>{const m=r.icon;return fe(r.tag,null,{default:()=>{var b;return[r.icon?fe(m,null,null):(b=u.default)==null?void 0:b.call(u)]}})}}}),fG=fk({name:"VSvgIcon",inheritAttrs:!1,props:_M(),setup(r,i){let{attrs:u}=i;return()=>fe(r.tag,_a(u,{style:null}),{default:()=>[fe("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(r.icon)?r.icon.map(m=>Array.isArray(m)?fe("path",{d:m[0],"fill-opacity":m[1]},null):fe("path",{d:m},null)):fe("path",{d:r.icon},null)])]})}});fk({name:"VLigatureIcon",props:_M(),setup(r){return()=>fe(r.tag,null,{default:()=>[r.icon]})}});const mG=fk({name:"VClassIcon",props:_M(),setup(r){return()=>fe(r.tag,{class:r.icon},null)}});function Sue(){return{svg:{component:fG},class:{component:mG}}}function kue(r){const i=Sue(),u=(r==null?void 0:r.defaultSet)??"mdi";return u==="mdi"&&!i.mdi&&(i.mdi=_ue),$f({defaultSet:u,sets:i,aliases:{...Cue,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},r)}const Eue=r=>{const i=Yi(qH);if(!i)throw new Error("Missing Vuetify Icons provide!");return{iconData:ct(()=>{var B;const m=Ve(r);if(!m)return{component:Dj};let b=m;if(typeof b=="string"&&(b=b.trim(),b.startsWith("$")&&(b=(B=i.aliases)==null?void 0:B[b.slice(1)])),Array.isArray(b))return{component:fG,icon:b};if(typeof b!="string")return{component:Dj,icon:b};const h=Object.keys(i.sets).find(N=>typeof b=="string"&&b.startsWith(`${N}:`)),x=h?b.slice(h.length+1):b;return{component:i.sets[h??i.defaultSet].component,icon:x}})}},tM=Symbol.for("vuetify:theme"),zl=Jn({theme:String},"theme");function Rj(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function Aue(){var m,b;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Rj();const i=Rj();if(!r)return{...i,isDisabled:!0};const u={};for(const[h,x]of Object.entries(r.themes??{})){const S=x.dark||h==="dark"?(m=i.themes)==null?void 0:m.dark:(b=i.themes)==null?void 0:b.light;u[h]=$f(S,x)}return $f(i,{...r,themes:u})}function Tue(r){const i=Aue(r),u=wo(i.defaultTheme),m=wo(i.themes),b=ct(()=>{const R={};for(const[F,W]of Object.entries(m.value)){const $=R[F]={...W,colors:{...W.colors}};if(i.variations)for(const K of i.variations.colors){const ee=$.colors[K];if(ee)for(const ge of["lighten","darken"]){const he=ge==="lighten"?dce:fce;for(const Ue of Vq(i.variations[ge],1))$.colors[`${K}-${ge}-${Ue}`]=lce(he(Hp(ee),Ue))}}for(const K of Object.keys($.colors)){if(/^on-[a-z]/.test(K)||$.colors[`on-${K}`])continue;const ee=`on-${K}`,ge=Hp($.colors[K]);$.colors[ee]=tG(ge)}}return R}),h=ct(()=>b.value[u.value]),x=ct(()=>{var K;const R=[];(K=h.value)!=null&&K.dark&&ww(R,":root",["color-scheme: dark"]),ww(R,":root",Nj(h.value));for(const[ee,ge]of Object.entries(b.value))ww(R,`.v-theme--${ee}`,[`color-scheme: ${ge.dark?"dark":"normal"}`,...Nj(ge)]);const F=[],W=[],$=new Set(Object.values(b.value).flatMap(ee=>Object.keys(ee.colors)));for(const ee of $)/^on-[a-z]/.test(ee)?ww(W,`.${ee}`,[`color: rgb(var(--v-theme-${ee})) !important`]):(ww(F,`.bg-${ee}`,[`--v-theme-overlay-multiplier: var(--v-theme-${ee}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${ee})) !important`,`color: rgb(var(--v-theme-on-${ee})) !important`]),ww(W,`.text-${ee}`,[`color: rgb(var(--v-theme-${ee})) !important`]),ww(W,`.border-${ee}`,[`--v-border-color: var(--v-theme-${ee})`]));return R.push(...F,...W),R.map((ee,ge)=>ge===0?ee:`    ${ee}`).join("")});function S(){return{style:[{children:x.value,id:"vuetify-theme-stylesheet",nonce:i.cspNonce||!1}]}}function B(R){if(i.isDisabled)return;const F=R._context.provides.usehead;if(F)if(F.push){const $=F.push(S);pi&&Gn(x,()=>{$.patch(S)})}else pi?(F.addHeadObjs(ct(S)),xh(()=>F.updateDOM())):F.addHeadObjs(S());else{let K=function(){if(typeof document<"u"&&!$){const ee=document.createElement("style");ee.type="text/css",ee.id="vuetify-theme-stylesheet",i.cspNonce&&ee.setAttribute("nonce",i.cspNonce),$=ee,document.head.appendChild($)}$&&($.innerHTML=x.value)};var W=K;let $=pi?document.getElementById("vuetify-theme-stylesheet"):null;pi?Gn(x,K,{immediate:!0}):K()}}const N=ct(()=>i.isDisabled?void 0:`v-theme--${u.value}`);return{install:B,isDisabled:i.isDisabled,name:u,themes:m,current:h,computedThemes:b,themeClasses:N,styles:x,global:{name:u,current:h}}}function ac(r){kl("provideTheme");const i=Yi(tM,null);if(!i)throw new Error("Could not find Vuetify theme injection");const u=ct(()=>r.theme??i.name.value),m=ct(()=>i.themes.value[u.value]),b=ct(()=>i.isDisabled?void 0:`v-theme--${u.value}`),h={...i,name:u,current:m,themeClasses:b};return Kf(tM,h),h}function ww(r,i,u){r.push(`${i} {
`,...u.map(m=>`  ${m};
`),`}
`)}function Nj(r){const i=r.dark?2:1,u=r.dark?1:2,m=[];for(const[b,h]of Object.entries(r.colors)){const x=Hp(h);m.push(`--v-theme-${b}: ${x.r},${x.g},${x.b}`),b.startsWith("on-")||m.push(`--v-theme-${b}-overlay-multiplier: ${mce(h)>.18?i:u}`)}for(const[b,h]of Object.entries(r.variables)){const x=typeof h=="string"&&h.startsWith("#")?Hp(h):void 0,S=x?`${x.r}, ${x.g}, ${x.b}`:void 0;m.push(`--v-${b}: ${S??h}`)}return m}function gG(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const u=$H(),m=wo();if(pi){const b=new ResizeObserver(h=>{h.length&&(i==="content"?m.value=h[0].contentRect:m.value=h[0].target.getBoundingClientRect())});Bc(()=>{b.disconnect()}),Gn(()=>u.el,(h,x)=>{x&&(b.unobserve(x),m.value=void 0),h&&b.observe(h)},{flush:"post"})}return{resizeRef:u,contentRect:sO(m)}}const nM=Symbol.for("vuetify:layout"),hG=Symbol.for("vuetify:layout-item"),Ij=1e3,Oue=Jn({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),pG=Jn({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Due(){const r=Yi(nM);if(!r)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:r.getLayoutItem,mainRect:r.mainRect,mainStyles:r.mainStyles}}function bG(r){const i=Yi(nM);if(!i)throw new Error("[Vuetify] Could not find injected layout");const u=r.id??`layout-item-${xy()}`,m=kl("useLayoutItem");Kf(hG,{id:u});const b=Tr(!1);OV(()=>b.value=!0),TV(()=>b.value=!1);const{layoutItemStyles:h,layoutItemScrimStyles:x}=i.register(m,{...r,active:ct(()=>b.value?!1:r.active.value),id:u});return Bc(()=>i.unregister(u)),{layoutItemStyles:h,layoutRect:i.layoutRect,layoutItemScrimStyles:x}}const Rue=(r,i,u,m)=>{let b={top:0,left:0,right:0,bottom:0};const h=[{id:"",layer:{...b}}];for(const x of r){const S=i.get(x),B=u.get(x),N=m.get(x);if(!S||!B||!N)continue;const R={...b,[S.value]:parseInt(b[S.value],10)+(N.value?parseInt(B.value,10):0)};h.push({id:x,layer:R}),b=R}return h};function Nue(r){const i=Yi(nM,null),u=ct(()=>i?i.rootZIndex.value-100:Ij),m=wo([]),b=mu(new Map),h=mu(new Map),x=mu(new Map),S=mu(new Map),B=mu(new Map),{resizeRef:N,contentRect:R}=gG(),F=ct(()=>{const ne=new Map,Ge=r.overlaps??[];for(const $e of Ge.filter(Ze=>Ze.includes(":"))){const[Ze,ot]=$e.split(":");if(!m.value.includes(Ze)||!m.value.includes(ot))continue;const Ce=b.get(Ze),Ne=b.get(ot),D=h.get(Ze),yt=h.get(ot);!Ce||!Ne||!D||!yt||(ne.set(ot,{position:Ce.value,amount:parseInt(D.value,10)}),ne.set(Ze,{position:Ne.value,amount:-parseInt(yt.value,10)}))}return ne}),W=ct(()=>{const ne=[...new Set([...x.values()].map($e=>$e.value))].sort(($e,Ze)=>$e-Ze),Ge=[];for(const $e of ne){const Ze=m.value.filter(ot=>{var Ce;return((Ce=x.get(ot))==null?void 0:Ce.value)===$e});Ge.push(...Ze)}return Rue(Ge,b,h,S)}),$=ct(()=>!Array.from(B.values()).some(ne=>ne.value)),K=ct(()=>W.value[W.value.length-1].layer),ee=ct(()=>({"--v-layout-left":dr(K.value.left),"--v-layout-right":dr(K.value.right),"--v-layout-top":dr(K.value.top),"--v-layout-bottom":dr(K.value.bottom),...$.value?void 0:{transition:"none"}})),ge=ct(()=>W.value.slice(1).map((ne,Ge)=>{let{id:$e}=ne;const{layer:Ze}=W.value[Ge],ot=h.get($e),Ce=b.get($e);return{id:$e,...Ze,size:Number(ot.value),position:Ce.value}})),he=ne=>ge.value.find(Ge=>Ge.id===ne),Ue=kl("createLayout"),Te=Tr(!1);Ic(()=>{Te.value=!0}),Kf(nM,{register:(ne,Ge)=>{let{id:$e,order:Ze,position:ot,layoutSize:Ce,elementSize:Ne,active:D,disableTransitions:yt,absolute:Pt}=Ge;x.set($e,Ze),b.set($e,ot),h.set($e,Ce),S.set($e,D),yt&&B.set($e,yt);const hn=QS(hG,Ue==null?void 0:Ue.vnode).indexOf(ne);hn>-1?m.value.splice(hn,0,$e):m.value.push($e);const Qe=ct(()=>ge.value.findIndex(bt=>bt.id===$e)),On=ct(()=>u.value+W.value.length*2-Qe.value*2),sr=ct(()=>{const bt=ot.value==="left"||ot.value==="right",Zt=ot.value==="right",Ur=ot.value==="bottom",ho=Ne.value??Ce.value,xn=ho===0?"%":"px",Rn={[ot.value]:0,zIndex:On.value,transform:`translate${bt?"X":"Y"}(${(D.value?0:-(ho===0?100:ho))*(Zt||Ur?-1:1)}${xn})`,position:Pt.value||u.value!==Ij?"absolute":"fixed",...$.value?void 0:{transition:"none"}};if(!Te.value)return Rn;const J=ge.value[Qe.value];if(!J)throw new Error(`[Vuetify] Could not find layout item "${$e}"`);const ir=F.value.get($e);return ir&&(J[ir.position]+=ir.amount),{...Rn,height:bt?`calc(100% - ${J.top}px - ${J.bottom}px)`:Ne.value?`${Ne.value}px`:void 0,left:Zt?void 0:`${J.left}px`,right:Zt?`${J.right}px`:void 0,top:ot.value!=="bottom"?`${J.top}px`:void 0,bottom:ot.value!=="top"?`${J.bottom}px`:void 0,width:bt?Ne.value?`${Ne.value}px`:void 0:`calc(100% - ${J.left}px - ${J.right}px)`}}),pt=ct(()=>({zIndex:On.value-1}));return{layoutItemStyles:sr,layoutItemScrimStyles:pt,zIndex:On}},unregister:ne=>{x.delete(ne),b.delete(ne),h.delete(ne),S.delete(ne),B.delete(ne),m.value=m.value.filter(Ge=>Ge!==ne)},mainRect:K,mainStyles:ee,getLayoutItem:he,items:ge,layoutRect:R,rootZIndex:u});const te=ct(()=>["v-layout",{"v-layout--full-height":r.fullHeight}]),Ae=ct(()=>({zIndex:i?u.value:void 0,position:i?"relative":void 0,overflow:i?"hidden":void 0}));return{layoutClasses:te,layoutStyles:Ae,getLayoutItem:he,items:ge,layoutRect:R,layoutRef:N}}function vG(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:i,...u}=r,m=$f(i,u),{aliases:b={},components:h={},directives:x={}}=m,S=hce(m.defaults),B=bue(m.display,m.ssr),N=Tue(m.theme),R=kue(m.icons),F=Ece(m.locale),W=gue(m.date,F),$=wue(m.goTo,F);return{install:ee=>{for(const ge in x)ee.directive(ge,x[ge]);for(const ge in h)ee.component(ge,h[ge]);for(const ge in b)ee.component(ge,fk({...b[ge],name:ge,aliasName:b[ge].name}));if(N.install(ee),ee.provide(ck,S),ee.provide(KH,B),ee.provide(tM,N),ee.provide(qH,R),ee.provide(Q8,F),ee.provide(mue,W.options),ee.provide(kj,W.instance),ee.provide(yue,$),pi&&m.ssr)if(ee.$nuxt)ee.$nuxt.hook("app:suspense:resolve",()=>{B.update()});else{const{mount:ge}=ee;ee.mount=function(){const he=ge(...arguments);return Ma(()=>B.update()),ee.mount=ge,he}}xy.reset(),ee.mixin({computed:{$vuetify(){return mu({defaults:KS.call(this,ck),display:KS.call(this,KH),theme:KS.call(this,tM),icons:KS.call(this,qH),locale:KS.call(this,Q8),date:KS.call(this,kj)})}}})},defaults:S,display:B,theme:N,icons:R,locale:F,date:W,goTo:$}}const Iue="3.7.1";vG.version=Iue;function KS(r){var m,b;const i=this.$,u=((m=i.parent)==null?void 0:m.provides)??((b=i.vnode.appContext)==null?void 0:b.provides);if(u&&r in u)return u[r]}const Bue=vG({theme:{themes:{light:{colors:{primary:"#1867C0",secondary:"#5CBBF6"}}}}});var Mue=!1;/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let yG;const SM=r=>yG=r,xG=Symbol();function GH(r){return r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"&&typeof r.toJSON!="function"}var KT;(function(r){r.direct="direct",r.patchObject="patch object",r.patchFunction="patch function"})(KT||(KT={}));function Pue(){const r=rO(!0),i=r.run(()=>wo({}));let u=[],m=[];const b=_V({install(h){SM(b),b._a=h,h.provide(xG,b),h.config.globalProperties.$pinia=b,m.forEach(x=>u.push(x)),m=[]},use(h){return!this._a&&!Mue?m.push(h):u.push(h),this},_p:u,_a:null,_e:r,_s:new Map,state:i});return b}const wG=()=>{};function Bj(r,i,u,m=wG){r.push(i);const b=()=>{const h=r.indexOf(i);h>-1&&(r.splice(h,1),m())};return!u&&IK()&&jf(b),b}function qS(r,...i){r.slice().forEach(u=>{u(...i)})}const Lue=r=>r(),Mj=Symbol(),fH=Symbol();function YH(r,i){r instanceof Map&&i instanceof Map?i.forEach((u,m)=>r.set(m,u)):r instanceof Set&&i instanceof Set&&i.forEach(r.add,r);for(const u in i){if(!i.hasOwnProperty(u))continue;const m=i[u],b=r[u];GH(b)&&GH(m)&&r.hasOwnProperty(u)&&!La(m)&&!Ow(m)?r[u]=YH(b,m):r[u]=m}return r}const Fue=Symbol();function zue(r){return!GH(r)||!r.hasOwnProperty(Fue)}const{assign:ny}=Object;function Hue(r){return!!(La(r)&&r.effect)}function Vue(r,i,u,m){const{state:b,actions:h,getters:x}=i,S=u.state.value[r];let B;function N(){S||(u.state.value[r]=b?b():{});const R=aO(u.state.value[r]);return ny(R,h,Object.keys(x||{}).reduce((F,W)=>(F[W]=_V(ct(()=>{SM(u);const $=u._s.get(r);return x[W].call($,$)})),F),{}))}return B=CG(r,N,i,u,m,!0),B}function CG(r,i,u={},m,b,h){let x;const S=ny({actions:{}},u),B={deep:!0};let N,R,F=[],W=[],$;const K=m.state.value[r];!h&&!K&&(m.state.value[r]={}),wo({});let ee;function ge($e){let Ze;N=R=!1,typeof $e=="function"?($e(m.state.value[r]),Ze={type:KT.patchFunction,storeId:r,events:$}):(YH(m.state.value[r],$e),Ze={type:KT.patchObject,payload:$e,storeId:r,events:$});const ot=ee=Symbol();Ma().then(()=>{ee===ot&&(N=!0)}),R=!0,qS(F,Ze,m.state.value[r])}const he=h?function(){const{state:Ze}=u,ot=Ze?Ze():{};this.$patch(Ce=>{ny(Ce,ot)})}:wG;function Ue(){x.stop(),F=[],W=[],m._s.delete(r)}const Te=($e,Ze="")=>{if(Mj in $e)return $e[fH]=Ze,$e;const ot=function(){SM(m);const Ce=Array.from(arguments),Ne=[],D=[];function yt(hn){Ne.push(hn)}function Pt(hn){D.push(hn)}qS(W,{args:Ce,name:ot[fH],store:Ae,after:yt,onError:Pt});let ln;try{ln=$e.apply(this&&this.$id===r?this:Ae,Ce)}catch(hn){throw qS(D,hn),hn}return ln instanceof Promise?ln.then(hn=>(qS(Ne,hn),hn)).catch(hn=>(qS(D,hn),Promise.reject(hn))):(qS(Ne,ln),ln)};return ot[Mj]=!0,ot[fH]=Ze,ot},te={_p:m,$id:r,$onAction:Bj.bind(null,W),$patch:ge,$reset:he,$subscribe($e,Ze={}){const ot=Bj(F,$e,Ze.detached,()=>Ce()),Ce=x.run(()=>Gn(()=>m.state.value[r],Ne=>{(Ze.flush==="sync"?R:N)&&$e({storeId:r,type:KT.direct,events:$},Ne)},ny({},B,Ze)));return ot},$dispose:Ue},Ae=mu(te);m._s.set(r,Ae);const Ge=(m._a&&m._a.runWithContext||Lue)(()=>m._e.run(()=>(x=rO()).run(()=>i({action:Te}))));for(const $e in Ge){const Ze=Ge[$e];if(La(Ze)&&!Hue(Ze)||Ow(Ze))h||(K&&zue(Ze)&&(La(Ze)?Ze.value=K[$e]:YH(Ze,K[$e])),m.state.value[r][$e]=Ze);else if(typeof Ze=="function"){const ot=Te(Ze,$e);Ge[$e]=ot,S.actions[$e]=Ze}}return ny(Ae,Ge),ny(Ao(Ae),Ge),Object.defineProperty(Ae,"$state",{get:()=>m.state.value[r],set:$e=>{ge(Ze=>{ny(Ze,$e)})}}),m._p.forEach($e=>{ny(Ae,x.run(()=>$e({store:Ae,app:m._a,pinia:m,options:S})))}),K&&h&&u.hydrate&&u.hydrate(Ae.$state,K),N=!0,R=!0,Ae}function dg(r,i,u){let m,b;const h=typeof i=="function";typeof r=="string"?(m=r,b=h?u:i):(b=r,m=r.id);function x(S,B){const N=die();return S=S||(N?Yi(xG,null):null),S&&SM(S),S=yG,S._s.has(m)||(h?CG(m,i,b,S):Vue(m,b,S)),S._s.get(m)}return x.$id=m,x}const $ue=Pue();function Uue(r){r.use(Bue).use($ue)}var C8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kM(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function _8(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var _G={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(r,i){(function(u){r.exports=u()})(function(){return function u(m,b,h){function x(N,R){if(!b[N]){if(!m[N]){var F=typeof _8=="function"&&_8;if(!R&&F)return F(N,!0);if(S)return S(N,!0);var W=new Error("Cannot find module '"+N+"'");throw W.code="MODULE_NOT_FOUND",W}var $=b[N]={exports:{}};m[N][0].call($.exports,function(K){var ee=m[N][1][K];return x(ee||K)},$,$.exports,u,m,b,h)}return b[N].exports}for(var S=typeof _8=="function"&&_8,B=0;B<h.length;B++)x(h[B]);return x}({1:[function(u,m,b){(function(h){var x=h.MutationObserver||h.WebKitMutationObserver,S;if(x){var B=0,N=new x(K),R=h.document.createTextNode("");N.observe(R,{characterData:!0}),S=function(){R.data=B=++B%2}}else if(!h.setImmediate&&typeof h.MessageChannel<"u"){var F=new h.MessageChannel;F.port1.onmessage=K,S=function(){F.port2.postMessage(0)}}else"document"in h&&"onreadystatechange"in h.document.createElement("script")?S=function(){var ge=h.document.createElement("script");ge.onreadystatechange=function(){K(),ge.onreadystatechange=null,ge.parentNode.removeChild(ge),ge=null},h.document.documentElement.appendChild(ge)}:S=function(){setTimeout(K,0)};var W,$=[];function K(){W=!0;for(var ge,he,Ue=$.length;Ue;){for(he=$,$=[],ge=-1;++ge<Ue;)he[ge]();Ue=$.length}W=!1}m.exports=ee;function ee(ge){$.push(ge)===1&&!W&&S()}}).call(this,typeof C8<"u"?C8:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(u,m,b){var h=u(1);function x(){}var S={},B=["REJECTED"],N=["FULFILLED"],R=["PENDING"];m.exports=F;function F(Ae){if(typeof Ae!="function")throw new TypeError("resolver must be a function");this.state=R,this.queue=[],this.outcome=void 0,Ae!==x&&ee(this,Ae)}F.prototype.catch=function(Ae){return this.then(null,Ae)},F.prototype.then=function(Ae,ne){if(typeof Ae!="function"&&this.state===N||typeof ne!="function"&&this.state===B)return this;var Ge=new this.constructor(x);if(this.state!==R){var $e=this.state===N?Ae:ne;$(Ge,$e,this.outcome)}else this.queue.push(new W(Ge,Ae,ne));return Ge};function W(Ae,ne,Ge){this.promise=Ae,typeof ne=="function"&&(this.onFulfilled=ne,this.callFulfilled=this.otherCallFulfilled),typeof Ge=="function"&&(this.onRejected=Ge,this.callRejected=this.otherCallRejected)}W.prototype.callFulfilled=function(Ae){S.resolve(this.promise,Ae)},W.prototype.otherCallFulfilled=function(Ae){$(this.promise,this.onFulfilled,Ae)},W.prototype.callRejected=function(Ae){S.reject(this.promise,Ae)},W.prototype.otherCallRejected=function(Ae){$(this.promise,this.onRejected,Ae)};function $(Ae,ne,Ge){h(function(){var $e;try{$e=ne(Ge)}catch(Ze){return S.reject(Ae,Ze)}$e===Ae?S.reject(Ae,new TypeError("Cannot resolve promise with itself")):S.resolve(Ae,$e)})}S.resolve=function(Ae,ne){var Ge=ge(K,ne);if(Ge.status==="error")return S.reject(Ae,Ge.value);var $e=Ge.value;if($e)ee(Ae,$e);else{Ae.state=N,Ae.outcome=ne;for(var Ze=-1,ot=Ae.queue.length;++Ze<ot;)Ae.queue[Ze].callFulfilled(ne)}return Ae},S.reject=function(Ae,ne){Ae.state=B,Ae.outcome=ne;for(var Ge=-1,$e=Ae.queue.length;++Ge<$e;)Ae.queue[Ge].callRejected(ne);return Ae};function K(Ae){var ne=Ae&&Ae.then;if(Ae&&(typeof Ae=="object"||typeof Ae=="function")&&typeof ne=="function")return function(){ne.apply(Ae,arguments)}}function ee(Ae,ne){var Ge=!1;function $e(Ne){Ge||(Ge=!0,S.reject(Ae,Ne))}function Ze(Ne){Ge||(Ge=!0,S.resolve(Ae,Ne))}function ot(){ne(Ze,$e)}var Ce=ge(ot);Ce.status==="error"&&$e(Ce.value)}function ge(Ae,ne){var Ge={};try{Ge.value=Ae(ne),Ge.status="success"}catch($e){Ge.status="error",Ge.value=$e}return Ge}F.resolve=he;function he(Ae){return Ae instanceof this?Ae:S.resolve(new this(x),Ae)}F.reject=Ue;function Ue(Ae){var ne=new this(x);return S.reject(ne,Ae)}F.all=Te;function Te(Ae){var ne=this;if(Object.prototype.toString.call(Ae)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ge=Ae.length,$e=!1;if(!Ge)return this.resolve([]);for(var Ze=new Array(Ge),ot=0,Ce=-1,Ne=new this(x);++Ce<Ge;)D(Ae[Ce],Ce);return Ne;function D(yt,Pt){ne.resolve(yt).then(ln,function(hn){$e||($e=!0,S.reject(Ne,hn))});function ln(hn){Ze[Pt]=hn,++ot===Ge&&!$e&&($e=!0,S.resolve(Ne,Ze))}}}F.race=te;function te(Ae){var ne=this;if(Object.prototype.toString.call(Ae)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ge=Ae.length,$e=!1;if(!Ge)return this.resolve([]);for(var Ze=-1,ot=new this(x);++Ze<Ge;)Ce(Ae[Ze]);return ot;function Ce(Ne){ne.resolve(Ne).then(function(D){$e||($e=!0,S.resolve(ot,D))},function(D){$e||($e=!0,S.reject(ot,D))})}}},{1:1}],3:[function(u,m,b){(function(h){typeof h.Promise!="function"&&(h.Promise=u(2))}).call(this,typeof C8<"u"?C8:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(u,m,b){var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Se){return typeof Se}:function(Se){return Se&&typeof Symbol=="function"&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se};function x(Se,Ye){if(!(Se instanceof Ye))throw new TypeError("Cannot call a class as a function")}function S(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var B=S();function N(){try{if(!B||!B.open)return!1;var Se=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Ye=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Se||Ye)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function R(Se,Ye){Se=Se||[],Ye=Ye||{};try{return new Blob(Se,Ye)}catch(je){if(je.name!=="TypeError")throw je;for(var Re=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,lt=new Re,st=0;st<Se.length;st+=1)lt.append(Se[st]);return lt.getBlob(Ye.type)}}typeof Promise>"u"&&u(3);var F=Promise;function W(Se,Ye){Ye&&Se.then(function(Re){Ye(null,Re)},function(Re){Ye(Re)})}function $(Se,Ye,Re){typeof Ye=="function"&&Se.then(Ye),typeof Re=="function"&&Se.catch(Re)}function K(Se){return typeof Se!="string"&&(console.warn(Se+" used as a key, but it is not a string."),Se=String(Se)),Se}function ee(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var ge="local-forage-detect-blob-support",he=void 0,Ue={},Te=Object.prototype.toString,te="readonly",Ae="readwrite";function ne(Se){for(var Ye=Se.length,Re=new ArrayBuffer(Ye),lt=new Uint8Array(Re),st=0;st<Ye;st++)lt[st]=Se.charCodeAt(st);return Re}function Ge(Se){return new F(function(Ye){var Re=Se.transaction(ge,Ae),lt=R([""]);Re.objectStore(ge).put(lt,"key"),Re.onabort=function(st){st.preventDefault(),st.stopPropagation(),Ye(!1)},Re.oncomplete=function(){var st=navigator.userAgent.match(/Chrome\/(\d+)/),je=navigator.userAgent.match(/Edge\//);Ye(je||!st||parseInt(st[1],10)>=43)}}).catch(function(){return!1})}function $e(Se){return typeof he=="boolean"?F.resolve(he):Ge(Se).then(function(Ye){return he=Ye,he})}function Ze(Se){var Ye=Ue[Se.name],Re={};Re.promise=new F(function(lt,st){Re.resolve=lt,Re.reject=st}),Ye.deferredOperations.push(Re),Ye.dbReady?Ye.dbReady=Ye.dbReady.then(function(){return Re.promise}):Ye.dbReady=Re.promise}function ot(Se){var Ye=Ue[Se.name],Re=Ye.deferredOperations.pop();if(Re)return Re.resolve(),Re.promise}function Ce(Se,Ye){var Re=Ue[Se.name],lt=Re.deferredOperations.pop();if(lt)return lt.reject(Ye),lt.promise}function Ne(Se,Ye){return new F(function(Re,lt){if(Ue[Se.name]=Ue[Se.name]||bt(),Se.db)if(Ye)Ze(Se),Se.db.close();else return Re(Se.db);var st=[Se.name];Ye&&st.push(Se.version);var je=B.open.apply(B,st);Ye&&(je.onupgradeneeded=function(Lt){var Yt=je.result;try{Yt.createObjectStore(Se.storeName),Lt.oldVersion<=1&&Yt.createObjectStore(ge)}catch(nn){if(nn.name==="ConstraintError")console.warn('The database "'+Se.name+'" has been upgraded from version '+Lt.oldVersion+" to version "+Lt.newVersion+', but the storage "'+Se.storeName+'" already exists.');else throw nn}}),je.onerror=function(Lt){Lt.preventDefault(),lt(je.error)},je.onsuccess=function(){var Lt=je.result;Lt.onversionchange=function(Yt){Yt.target.close()},Re(Lt),ot(Se)}})}function D(Se){return Ne(Se,!1)}function yt(Se){return Ne(Se,!0)}function Pt(Se,Ye){if(!Se.db)return!0;var Re=!Se.db.objectStoreNames.contains(Se.storeName),lt=Se.version<Se.db.version,st=Se.version>Se.db.version;if(lt&&(Se.version!==Ye&&console.warn('The database "'+Se.name+`" can't be downgraded from version `+Se.db.version+" to version "+Se.version+"."),Se.version=Se.db.version),st||Re){if(Re){var je=Se.db.version+1;je>Se.version&&(Se.version=je)}return!0}return!1}function ln(Se){return new F(function(Ye,Re){var lt=new FileReader;lt.onerror=Re,lt.onloadend=function(st){var je=btoa(st.target.result||"");Ye({__local_forage_encoded_blob:!0,data:je,type:Se.type})},lt.readAsBinaryString(Se)})}function hn(Se){var Ye=ne(atob(Se.data));return R([Ye],{type:Se.type})}function Qe(Se){return Se&&Se.__local_forage_encoded_blob}function On(Se){var Ye=this,Re=Ye._initReady().then(function(){var lt=Ue[Ye._dbInfo.name];if(lt&&lt.dbReady)return lt.dbReady});return $(Re,Se,Se),Re}function sr(Se){Ze(Se);for(var Ye=Ue[Se.name],Re=Ye.forages,lt=0;lt<Re.length;lt++){var st=Re[lt];st._dbInfo.db&&(st._dbInfo.db.close(),st._dbInfo.db=null)}return Se.db=null,D(Se).then(function(je){return Se.db=je,Pt(Se)?yt(Se):je}).then(function(je){Se.db=Ye.db=je;for(var Lt=0;Lt<Re.length;Lt++)Re[Lt]._dbInfo.db=je}).catch(function(je){throw Ce(Se,je),je})}function pt(Se,Ye,Re,lt){lt===void 0&&(lt=1);try{var st=Se.db.transaction(Se.storeName,Ye);Re(null,st)}catch(je){if(lt>0&&(!Se.db||je.name==="InvalidStateError"||je.name==="NotFoundError"))return F.resolve().then(function(){if(!Se.db||je.name==="NotFoundError"&&!Se.db.objectStoreNames.contains(Se.storeName)&&Se.version<=Se.db.version)return Se.db&&(Se.version=Se.db.version+1),yt(Se)}).then(function(){return sr(Se).then(function(){pt(Se,Ye,Re,lt-1)})}).catch(Re);Re(je)}}function bt(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Zt(Se){var Ye=this,Re={db:null};if(Se)for(var lt in Se)Re[lt]=Se[lt];var st=Ue[Re.name];st||(st=bt(),Ue[Re.name]=st),st.forages.push(Ye),Ye._initReady||(Ye._initReady=Ye.ready,Ye.ready=On);var je=[];function Lt(){return F.resolve()}for(var Yt=0;Yt<st.forages.length;Yt++){var nn=st.forages[Yt];nn!==Ye&&je.push(nn._initReady().catch(Lt))}var fn=st.forages.slice(0);return F.all(je).then(function(){return Re.db=st.db,D(Re)}).then(function(en){return Re.db=en,Pt(Re,Ye._defaultConfig.version)?yt(Re):en}).then(function(en){Re.db=st.db=en,Ye._dbInfo=Re;for(var ro=0;ro<fn.length;ro++){var Jt=fn[ro];Jt!==Ye&&(Jt._dbInfo.db=Re.db,Jt._dbInfo.version=Re.version)}})}function Ur(Se,Ye){var Re=this;Se=K(Se);var lt=new F(function(st,je){Re.ready().then(function(){pt(Re._dbInfo,te,function(Lt,Yt){if(Lt)return je(Lt);try{var nn=Yt.objectStore(Re._dbInfo.storeName),fn=nn.get(Se);fn.onsuccess=function(){var en=fn.result;en===void 0&&(en=null),Qe(en)&&(en=hn(en)),st(en)},fn.onerror=function(){je(fn.error)}}catch(en){je(en)}})}).catch(je)});return W(lt,Ye),lt}function ho(Se,Ye){var Re=this,lt=new F(function(st,je){Re.ready().then(function(){pt(Re._dbInfo,te,function(Lt,Yt){if(Lt)return je(Lt);try{var nn=Yt.objectStore(Re._dbInfo.storeName),fn=nn.openCursor(),en=1;fn.onsuccess=function(){var ro=fn.result;if(ro){var Jt=ro.value;Qe(Jt)&&(Jt=hn(Jt));var lr=Se(Jt,ro.key,en++);lr!==void 0?st(lr):ro.continue()}else st()},fn.onerror=function(){je(fn.error)}}catch(ro){je(ro)}})}).catch(je)});return W(lt,Ye),lt}function xn(Se,Ye,Re){var lt=this;Se=K(Se);var st=new F(function(je,Lt){var Yt;lt.ready().then(function(){return Yt=lt._dbInfo,Te.call(Ye)==="[object Blob]"?$e(Yt.db).then(function(nn){return nn?Ye:ln(Ye)}):Ye}).then(function(nn){pt(lt._dbInfo,Ae,function(fn,en){if(fn)return Lt(fn);try{var ro=en.objectStore(lt._dbInfo.storeName);nn===null&&(nn=void 0);var Jt=ro.put(nn,Se);en.oncomplete=function(){nn===void 0&&(nn=null),je(nn)},en.onabort=en.onerror=function(){var lr=Jt.error?Jt.error:Jt.transaction.error;Lt(lr)}}catch(lr){Lt(lr)}})}).catch(Lt)});return W(st,Re),st}function Rn(Se,Ye){var Re=this;Se=K(Se);var lt=new F(function(st,je){Re.ready().then(function(){pt(Re._dbInfo,Ae,function(Lt,Yt){if(Lt)return je(Lt);try{var nn=Yt.objectStore(Re._dbInfo.storeName),fn=nn.delete(Se);Yt.oncomplete=function(){st()},Yt.onerror=function(){je(fn.error)},Yt.onabort=function(){var en=fn.error?fn.error:fn.transaction.error;je(en)}}catch(en){je(en)}})}).catch(je)});return W(lt,Ye),lt}function J(Se){var Ye=this,Re=new F(function(lt,st){Ye.ready().then(function(){pt(Ye._dbInfo,Ae,function(je,Lt){if(je)return st(je);try{var Yt=Lt.objectStore(Ye._dbInfo.storeName),nn=Yt.clear();Lt.oncomplete=function(){lt()},Lt.onabort=Lt.onerror=function(){var fn=nn.error?nn.error:nn.transaction.error;st(fn)}}catch(fn){st(fn)}})}).catch(st)});return W(Re,Se),Re}function ir(Se){var Ye=this,Re=new F(function(lt,st){Ye.ready().then(function(){pt(Ye._dbInfo,te,function(je,Lt){if(je)return st(je);try{var Yt=Lt.objectStore(Ye._dbInfo.storeName),nn=Yt.count();nn.onsuccess=function(){lt(nn.result)},nn.onerror=function(){st(nn.error)}}catch(fn){st(fn)}})}).catch(st)});return W(Re,Se),Re}function vr(Se,Ye){var Re=this,lt=new F(function(st,je){if(Se<0){st(null);return}Re.ready().then(function(){pt(Re._dbInfo,te,function(Lt,Yt){if(Lt)return je(Lt);try{var nn=Yt.objectStore(Re._dbInfo.storeName),fn=!1,en=nn.openKeyCursor();en.onsuccess=function(){var ro=en.result;if(!ro){st(null);return}Se===0||fn?st(ro.key):(fn=!0,ro.advance(Se))},en.onerror=function(){je(en.error)}}catch(ro){je(ro)}})}).catch(je)});return W(lt,Ye),lt}function Ko(Se){var Ye=this,Re=new F(function(lt,st){Ye.ready().then(function(){pt(Ye._dbInfo,te,function(je,Lt){if(je)return st(je);try{var Yt=Lt.objectStore(Ye._dbInfo.storeName),nn=Yt.openKeyCursor(),fn=[];nn.onsuccess=function(){var en=nn.result;if(!en){lt(fn);return}fn.push(en.key),en.continue()},nn.onerror=function(){st(nn.error)}}catch(en){st(en)}})}).catch(st)});return W(Re,Se),Re}function oi(Se,Ye){Ye=ee.apply(this,arguments);var Re=this.config();Se=typeof Se!="function"&&Se||{},Se.name||(Se.name=Se.name||Re.name,Se.storeName=Se.storeName||Re.storeName);var lt=this,st;if(!Se.name)st=F.reject("Invalid arguments");else{var je=Se.name===Re.name&&lt._dbInfo.db,Lt=je?F.resolve(lt._dbInfo.db):D(Se).then(function(Yt){var nn=Ue[Se.name],fn=nn.forages;nn.db=Yt;for(var en=0;en<fn.length;en++)fn[en]._dbInfo.db=Yt;return Yt});Se.storeName?st=Lt.then(function(Yt){if(Yt.objectStoreNames.contains(Se.storeName)){var nn=Yt.version+1;Ze(Se);var fn=Ue[Se.name],en=fn.forages;Yt.close();for(var ro=0;ro<en.length;ro++){var Jt=en[ro];Jt._dbInfo.db=null,Jt._dbInfo.version=nn}var lr=new F(function(Co,Io){var fs=B.open(Se.name,nn);fs.onerror=function(fo){var bl=fs.result;bl.close(),Io(fo)},fs.onupgradeneeded=function(){var fo=fs.result;fo.deleteObjectStore(Se.storeName)},fs.onsuccess=function(){var fo=fs.result;fo.close(),Co(fo)}});return lr.then(function(Co){fn.db=Co;for(var Io=0;Io<en.length;Io++){var fs=en[Io];fs._dbInfo.db=Co,ot(fs._dbInfo)}}).catch(function(Co){throw(Ce(Se,Co)||F.resolve()).catch(function(){}),Co})}}):st=Lt.then(function(Yt){Ze(Se);var nn=Ue[Se.name],fn=nn.forages;Yt.close();for(var en=0;en<fn.length;en++){var ro=fn[en];ro._dbInfo.db=null}var Jt=new F(function(lr,Co){var Io=B.deleteDatabase(Se.name);Io.onerror=function(){var fs=Io.result;fs&&fs.close(),Co(Io.error)},Io.onblocked=function(){console.warn('dropInstance blocked for database "'+Se.name+'" until all open connections are closed')},Io.onsuccess=function(){var fs=Io.result;fs&&fs.close(),lr(fs)}});return Jt.then(function(lr){nn.db=lr;for(var Co=0;Co<fn.length;Co++){var Io=fn[Co];ot(Io._dbInfo)}}).catch(function(lr){throw(Ce(Se,lr)||F.resolve()).catch(function(){}),lr})})}return W(st,Ye),st}var Ke={_driver:"asyncStorage",_initStorage:Zt,_support:N(),iterate:ho,getItem:Ur,setItem:xn,removeItem:Rn,clear:J,length:ir,key:vr,keys:Ko,dropInstance:oi};function le(){return typeof openDatabase=="function"}var xe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Me="~~local_forage_type~",pe=/^~~local_forage_type~([^~]+)~/,St="__lfsc__:",$t=St.length,Ct="arbf",zt="blob",It="si08",on="ui08",wn="uic8",Cn="si16",En="si32",ao="ur16",vo="ui32",To="fl32",Do="fl64",As=$t+Ct.length,fr=Object.prototype.toString;function vi(Se){var Ye=Se.length*.75,Re=Se.length,lt,st=0,je,Lt,Yt,nn;Se[Se.length-1]==="="&&(Ye--,Se[Se.length-2]==="="&&Ye--);var fn=new ArrayBuffer(Ye),en=new Uint8Array(fn);for(lt=0;lt<Re;lt+=4)je=xe.indexOf(Se[lt]),Lt=xe.indexOf(Se[lt+1]),Yt=xe.indexOf(Se[lt+2]),nn=xe.indexOf(Se[lt+3]),en[st++]=je<<2|Lt>>4,en[st++]=(Lt&15)<<4|Yt>>2,en[st++]=(Yt&3)<<6|nn&63;return fn}function un(Se){var Ye=new Uint8Array(Se),Re="",lt;for(lt=0;lt<Ye.length;lt+=3)Re+=xe[Ye[lt]>>2],Re+=xe[(Ye[lt]&3)<<4|Ye[lt+1]>>4],Re+=xe[(Ye[lt+1]&15)<<2|Ye[lt+2]>>6],Re+=xe[Ye[lt+2]&63];return Ye.length%3===2?Re=Re.substring(0,Re.length-1)+"=":Ye.length%3===1&&(Re=Re.substring(0,Re.length-2)+"=="),Re}function po(Se,Ye){var Re="";if(Se&&(Re=fr.call(Se)),Se&&(Re==="[object ArrayBuffer]"||Se.buffer&&fr.call(Se.buffer)==="[object ArrayBuffer]")){var lt,st=St;Se instanceof ArrayBuffer?(lt=Se,st+=Ct):(lt=Se.buffer,Re==="[object Int8Array]"?st+=It:Re==="[object Uint8Array]"?st+=on:Re==="[object Uint8ClampedArray]"?st+=wn:Re==="[object Int16Array]"?st+=Cn:Re==="[object Uint16Array]"?st+=ao:Re==="[object Int32Array]"?st+=En:Re==="[object Uint32Array]"?st+=vo:Re==="[object Float32Array]"?st+=To:Re==="[object Float64Array]"?st+=Do:Ye(new Error("Failed to get type for BinaryArray"))),Ye(st+un(lt))}else if(Re==="[object Blob]"){var je=new FileReader;je.onload=function(){var Lt=Me+Se.type+"~"+un(this.result);Ye(St+zt+Lt)},je.readAsArrayBuffer(Se)}else try{Ye(JSON.stringify(Se))}catch(Lt){console.error("Couldn't convert value into a JSON string: ",Se),Ye(null,Lt)}}function io(Se){if(Se.substring(0,$t)!==St)return JSON.parse(Se);var Ye=Se.substring(As),Re=Se.substring($t,As),lt;if(Re===zt&&pe.test(Ye)){var st=Ye.match(pe);lt=st[1],Ye=Ye.substring(st[0].length)}var je=vi(Ye);switch(Re){case Ct:return je;case zt:return R([je],{type:lt});case It:return new Int8Array(je);case on:return new Uint8Array(je);case wn:return new Uint8ClampedArray(je);case Cn:return new Int16Array(je);case ao:return new Uint16Array(je);case En:return new Int32Array(je);case vo:return new Uint32Array(je);case To:return new Float32Array(je);case Do:return new Float64Array(je);default:throw new Error("Unkown type: "+Re)}}var Wr={serialize:po,deserialize:io,stringToBuffer:vi,bufferToString:un};function Fa(Se,Ye,Re,lt){Se.executeSql("CREATE TABLE IF NOT EXISTS "+Ye.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Re,lt)}function Vt(Se){var Ye=this,Re={db:null};if(Se)for(var lt in Se)Re[lt]=typeof Se[lt]!="string"?Se[lt].toString():Se[lt];var st=new F(function(je,Lt){try{Re.db=openDatabase(Re.name,String(Re.version),Re.description,Re.size)}catch(Yt){return Lt(Yt)}Re.db.transaction(function(Yt){Fa(Yt,Re,function(){Ye._dbInfo=Re,je()},function(nn,fn){Lt(fn)})},Lt)});return Re.serializer=Wr,st}function Js(Se,Ye,Re,lt,st,je){Se.executeSql(Re,lt,st,function(Lt,Yt){Yt.code===Yt.SYNTAX_ERR?Lt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Ye.storeName],function(nn,fn){fn.rows.length?je(nn,Yt):Fa(nn,Ye,function(){nn.executeSql(Re,lt,st,je)},je)},je):je(Lt,Yt)},je)}function Uo(Se,Ye){var Re=this;Se=K(Se);var lt=new F(function(st,je){Re.ready().then(function(){var Lt=Re._dbInfo;Lt.db.transaction(function(Yt){Js(Yt,Lt,"SELECT * FROM "+Lt.storeName+" WHERE key = ? LIMIT 1",[Se],function(nn,fn){var en=fn.rows.length?fn.rows.item(0).value:null;en&&(en=Lt.serializer.deserialize(en)),st(en)},function(nn,fn){je(fn)})})}).catch(je)});return W(lt,Ye),lt}function El(Se,Ye){var Re=this,lt=new F(function(st,je){Re.ready().then(function(){var Lt=Re._dbInfo;Lt.db.transaction(function(Yt){Js(Yt,Lt,"SELECT * FROM "+Lt.storeName,[],function(nn,fn){for(var en=fn.rows,ro=en.length,Jt=0;Jt<ro;Jt++){var lr=en.item(Jt),Co=lr.value;if(Co&&(Co=Lt.serializer.deserialize(Co)),Co=Se(Co,lr.key,Jt+1),Co!==void 0){st(Co);return}}st()},function(nn,fn){je(fn)})})}).catch(je)});return W(lt,Ye),lt}function Or(Se,Ye,Re,lt){var st=this;Se=K(Se);var je=new F(function(Lt,Yt){st.ready().then(function(){Ye===void 0&&(Ye=null);var nn=Ye,fn=st._dbInfo;fn.serializer.serialize(Ye,function(en,ro){ro?Yt(ro):fn.db.transaction(function(Jt){Js(Jt,fn,"INSERT OR REPLACE INTO "+fn.storeName+" (key, value) VALUES (?, ?)",[Se,en],function(){Lt(nn)},function(lr,Co){Yt(Co)})},function(Jt){if(Jt.code===Jt.QUOTA_ERR){if(lt>0){Lt(Or.apply(st,[Se,nn,Re,lt-1]));return}Yt(Jt)}})})}).catch(Yt)});return W(je,Re),je}function Hs(Se,Ye,Re){return Or.apply(this,[Se,Ye,Re,1])}function Gf(Se,Ye){var Re=this;Se=K(Se);var lt=new F(function(st,je){Re.ready().then(function(){var Lt=Re._dbInfo;Lt.db.transaction(function(Yt){Js(Yt,Lt,"DELETE FROM "+Lt.storeName+" WHERE key = ?",[Se],function(){st()},function(nn,fn){je(fn)})})}).catch(je)});return W(lt,Ye),lt}function hu(Se){var Ye=this,Re=new F(function(lt,st){Ye.ready().then(function(){var je=Ye._dbInfo;je.db.transaction(function(Lt){Js(Lt,je,"DELETE FROM "+je.storeName,[],function(){lt()},function(Yt,nn){st(nn)})})}).catch(st)});return W(Re,Se),Re}function ic(Se){var Ye=this,Re=new F(function(lt,st){Ye.ready().then(function(){var je=Ye._dbInfo;je.db.transaction(function(Lt){Js(Lt,je,"SELECT COUNT(key) as c FROM "+je.storeName,[],function(Yt,nn){var fn=nn.rows.item(0).c;lt(fn)},function(Yt,nn){st(nn)})})}).catch(st)});return W(Re,Se),Re}function Ji(Se,Ye){var Re=this,lt=new F(function(st,je){Re.ready().then(function(){var Lt=Re._dbInfo;Lt.db.transaction(function(Yt){Js(Yt,Lt,"SELECT key FROM "+Lt.storeName+" WHERE id = ? LIMIT 1",[Se+1],function(nn,fn){var en=fn.rows.length?fn.rows.item(0).key:null;st(en)},function(nn,fn){je(fn)})})}).catch(je)});return W(lt,Ye),lt}function pu(Se){var Ye=this,Re=new F(function(lt,st){Ye.ready().then(function(){var je=Ye._dbInfo;je.db.transaction(function(Lt){Js(Lt,je,"SELECT key FROM "+je.storeName,[],function(Yt,nn){for(var fn=[],en=0;en<nn.rows.length;en++)fn.push(nn.rows.item(en).key);lt(fn)},function(Yt,nn){st(nn)})})}).catch(st)});return W(Re,Se),Re}function mr(Se){return new F(function(Ye,Re){Se.transaction(function(lt){lt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(st,je){for(var Lt=[],Yt=0;Yt<je.rows.length;Yt++)Lt.push(je.rows.item(Yt).name);Ye({db:Se,storeNames:Lt})},function(st,je){Re(je)})},function(lt){Re(lt)})})}function Yn(Se,Ye){Ye=ee.apply(this,arguments);var Re=this.config();Se=typeof Se!="function"&&Se||{},Se.name||(Se.name=Se.name||Re.name,Se.storeName=Se.storeName||Re.storeName);var lt=this,st;return Se.name?st=new F(function(je){var Lt;Se.name===Re.name?Lt=lt._dbInfo.db:Lt=openDatabase(Se.name,"","",0),Se.storeName?je({db:Lt,storeNames:[Se.storeName]}):je(mr(Lt))}).then(function(je){return new F(function(Lt,Yt){je.db.transaction(function(nn){function fn(lr){return new F(function(Co,Io){nn.executeSql("DROP TABLE IF EXISTS "+lr,[],function(){Co()},function(fs,fo){Io(fo)})})}for(var en=[],ro=0,Jt=je.storeNames.length;ro<Jt;ro++)en.push(fn(je.storeNames[ro]));F.all(en).then(function(){Lt()}).catch(function(lr){Yt(lr)})},function(nn){Yt(nn)})})}):st=F.reject("Invalid arguments"),W(st,Ye),st}var Al={_driver:"webSQLStorage",_initStorage:Vt,_support:le(),iterate:El,getItem:Uo,setItem:Hs,removeItem:Gf,clear:hu,length:ic,key:Ji,keys:pu,dropInstance:Yn};function da(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function bu(Se,Ye){var Re=Se.name+"/";return Se.storeName!==Ye.storeName&&(Re+=Se.storeName+"/"),Re}function Qt(){var Se="_localforage_support_test";try{return localStorage.setItem(Se,!0),localStorage.removeItem(Se),!1}catch{return!0}}function vu(){return!Qt()||localStorage.length>0}function Yf(Se){var Ye=this,Re={};if(Se)for(var lt in Se)Re[lt]=Se[lt];return Re.keyPrefix=bu(Se,Ye._defaultConfig),vu()?(Ye._dbInfo=Re,Re.serializer=Wr,F.resolve()):F.reject()}function ns(Se){var Ye=this,Re=Ye.ready().then(function(){for(var lt=Ye._dbInfo.keyPrefix,st=localStorage.length-1;st>=0;st--){var je=localStorage.key(st);je.indexOf(lt)===0&&localStorage.removeItem(je)}});return W(Re,Se),Re}function Xf(Se,Ye){var Re=this;Se=K(Se);var lt=Re.ready().then(function(){var st=Re._dbInfo,je=localStorage.getItem(st.keyPrefix+Se);return je&&(je=st.serializer.deserialize(je)),je});return W(lt,Ye),lt}function Bi(Se,Ye){var Re=this,lt=Re.ready().then(function(){for(var st=Re._dbInfo,je=st.keyPrefix,Lt=je.length,Yt=localStorage.length,nn=1,fn=0;fn<Yt;fn++){var en=localStorage.key(fn);if(en.indexOf(je)===0){var ro=localStorage.getItem(en);if(ro&&(ro=st.serializer.deserialize(ro)),ro=Se(ro,en.substring(Lt),nn++),ro!==void 0)return ro}}});return W(lt,Ye),lt}function hl(Se,Ye){var Re=this,lt=Re.ready().then(function(){var st=Re._dbInfo,je;try{je=localStorage.key(Se)}catch{je=null}return je&&(je=je.substring(st.keyPrefix.length)),je});return W(lt,Ye),lt}function Qi(Se){var Ye=this,Re=Ye.ready().then(function(){for(var lt=Ye._dbInfo,st=localStorage.length,je=[],Lt=0;Lt<st;Lt++){var Yt=localStorage.key(Lt);Yt.indexOf(lt.keyPrefix)===0&&je.push(Yt.substring(lt.keyPrefix.length))}return je});return W(Re,Se),Re}function qr(Se){var Ye=this,Re=Ye.keys().then(function(lt){return lt.length});return W(Re,Se),Re}function ri(Se,Ye){var Re=this;Se=K(Se);var lt=Re.ready().then(function(){var st=Re._dbInfo;localStorage.removeItem(st.keyPrefix+Se)});return W(lt,Ye),lt}function pl(Se,Ye,Re){var lt=this;Se=K(Se);var st=lt.ready().then(function(){Ye===void 0&&(Ye=null);var je=Ye;return new F(function(Lt,Yt){var nn=lt._dbInfo;nn.serializer.serialize(Ye,function(fn,en){if(en)Yt(en);else try{localStorage.setItem(nn.keyPrefix+Se,fn),Lt(je)}catch(ro){(ro.name==="QuotaExceededError"||ro.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Yt(ro),Yt(ro)}})})});return W(st,Re),st}function Jf(Se,Ye){if(Ye=ee.apply(this,arguments),Se=typeof Se!="function"&&Se||{},!Se.name){var Re=this.config();Se.name=Se.name||Re.name,Se.storeName=Se.storeName||Re.storeName}var lt=this,st;return Se.name?st=new F(function(je){Se.storeName?je(bu(Se,lt._defaultConfig)):je(Se.name+"/")}).then(function(je){for(var Lt=localStorage.length-1;Lt>=0;Lt--){var Yt=localStorage.key(Lt);Yt.indexOf(je)===0&&localStorage.removeItem(Yt)}}):st=F.reject("Invalid arguments"),W(st,Ye),st}var Mc={_driver:"localStorageWrapper",_initStorage:Yf,_support:da(),iterate:Bi,getItem:Xf,setItem:pl,removeItem:ri,clear:ns,length:qr,key:hl,keys:Qi,dropInstance:Jf},Pc=function(Ye,Re){return Ye===Re||typeof Ye=="number"&&typeof Re=="number"&&isNaN(Ye)&&isNaN(Re)},Vd=function(Ye,Re){for(var lt=Ye.length,st=0;st<lt;){if(Pc(Ye[st],Re))return!0;st++}return!1},ed=Array.isArray||function(Se){return Object.prototype.toString.call(Se)==="[object Array]"},Wo={},xs={},js={INDEXEDDB:Ke,WEBSQL:Al,LOCALSTORAGE:Mc},Qf=[js.INDEXEDDB._driver,js.WEBSQL._driver,js.LOCALSTORAGE._driver],Mi=["dropInstance"],Lc=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Mi),si={description:"",driver:Qf.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ai(Se,Ye){Se[Ye]=function(){var Re=arguments;return Se.ready().then(function(){return Se[Ye].apply(Se,Re)})}}function Fc(){for(var Se=1;Se<arguments.length;Se++){var Ye=arguments[Se];if(Ye)for(var Re in Ye)Ye.hasOwnProperty(Re)&&(ed(Ye[Re])?arguments[0][Re]=Ye[Re].slice():arguments[0][Re]=Ye[Re])}return arguments[0]}var yr=function(){function Se(Ye){x(this,Se);for(var Re in js)if(js.hasOwnProperty(Re)){var lt=js[Re],st=lt._driver;this[Re]=st,Wo[st]||this.defineDriver(lt)}this._defaultConfig=Fc({},si),this._config=Fc({},this._defaultConfig,Ye),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Se.prototype.config=function(Re){if((typeof Re>"u"?"undefined":h(Re))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var lt in Re){if(lt==="storeName"&&(Re[lt]=Re[lt].replace(/\W/g,"_")),lt==="version"&&typeof Re[lt]!="number")return new Error("Database version must be a number.");this._config[lt]=Re[lt]}return"driver"in Re&&Re.driver?this.setDriver(this._config.driver):!0}else return typeof Re=="string"?this._config[Re]:this._config},Se.prototype.defineDriver=function(Re,lt,st){var je=new F(function(Lt,Yt){try{var nn=Re._driver,fn=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Re._driver){Yt(fn);return}for(var en=Lc.concat("_initStorage"),ro=0,Jt=en.length;ro<Jt;ro++){var lr=en[ro],Co=!Vd(Mi,lr);if((Co||Re[lr])&&typeof Re[lr]!="function"){Yt(fn);return}}var Io=function(){for(var bl=function(as){return function(){var td=new Error("Method "+as+" is not implemented by the current driver"),Ts=F.reject(td);return W(Ts,arguments[arguments.length-1]),Ts}},za=0,Qn=Mi.length;za<Qn;za++){var Pi=Mi[za];Re[Pi]||(Re[Pi]=bl(Pi))}};Io();var fs=function(bl){Wo[nn]&&console.info("Redefining LocalForage driver: "+nn),Wo[nn]=Re,xs[nn]=bl,Lt()};"_support"in Re?Re._support&&typeof Re._support=="function"?Re._support().then(fs,Yt):fs(!!Re._support):fs(!0)}catch(fo){Yt(fo)}});return $(je,lt,st),je},Se.prototype.driver=function(){return this._driver||null},Se.prototype.getDriver=function(Re,lt,st){var je=Wo[Re]?F.resolve(Wo[Re]):F.reject(new Error("Driver not found."));return $(je,lt,st),je},Se.prototype.getSerializer=function(Re){var lt=F.resolve(Wr);return $(lt,Re),lt},Se.prototype.ready=function(Re){var lt=this,st=lt._driverSet.then(function(){return lt._ready===null&&(lt._ready=lt._initDriver()),lt._ready});return $(st,Re,Re),st},Se.prototype.setDriver=function(Re,lt,st){var je=this;ed(Re)||(Re=[Re]);var Lt=this._getSupportedDrivers(Re);function Yt(){je._config.driver=je.driver()}function nn(ro){return je._extend(ro),Yt(),je._ready=je._initStorage(je._config),je._ready}function fn(ro){return function(){var Jt=0;function lr(){for(;Jt<ro.length;){var Co=ro[Jt];return Jt++,je._dbInfo=null,je._ready=null,je.getDriver(Co).then(nn).catch(lr)}Yt();var Io=new Error("No available storage method found.");return je._driverSet=F.reject(Io),je._driverSet}return lr()}}var en=this._driverSet!==null?this._driverSet.catch(function(){return F.resolve()}):F.resolve();return this._driverSet=en.then(function(){var ro=Lt[0];return je._dbInfo=null,je._ready=null,je.getDriver(ro).then(function(Jt){je._driver=Jt._driver,Yt(),je._wrapLibraryMethodsWithReady(),je._initDriver=fn(Lt)})}).catch(function(){Yt();var ro=new Error("No available storage method found.");return je._driverSet=F.reject(ro),je._driverSet}),$(this._driverSet,lt,st),this._driverSet},Se.prototype.supports=function(Re){return!!xs[Re]},Se.prototype._extend=function(Re){Fc(this,Re)},Se.prototype._getSupportedDrivers=function(Re){for(var lt=[],st=0,je=Re.length;st<je;st++){var Lt=Re[st];this.supports(Lt)&&lt.push(Lt)}return lt},Se.prototype._wrapLibraryMethodsWithReady=function(){for(var Re=0,lt=Lc.length;Re<lt;Re++)ai(this,Lc[Re])},Se.prototype.createInstance=function(Re){return new Se(Re)},Se}(),Gr=new yr;m.exports=Gr},{3:3}]},{},[4])(4)})})(_G);var Wue=_G.exports;const Kp=kM(Wue);function SG(r,i){return function(){return r.apply(i,arguments)}}const{toString:Zue}=Object.prototype,{getPrototypeOf:jV}=Object,EM=(r=>i=>{const u=Zue.call(i);return r[u]||(r[u]=u.slice(8,-1).toLowerCase())})(Object.create(null)),wh=r=>(r=r.toLowerCase(),i=>EM(i)===r),AM=r=>i=>typeof i===r,{isArray:mk}=Array,eO=AM("undefined");function jue(r){return r!==null&&!eO(r)&&r.constructor!==null&&!eO(r.constructor)&&Wf(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const kG=wh("ArrayBuffer");function Kue(r){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(r):i=r&&r.buffer&&kG(r.buffer),i}const que=AM("string"),Wf=AM("function"),EG=AM("number"),TM=r=>r!==null&&typeof r=="object",Gue=r=>r===!0||r===!1,z8=r=>{if(EM(r)!=="object")return!1;const i=jV(r);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Yue=wh("Date"),Xue=wh("File"),Jue=wh("Blob"),Que=wh("FileList"),ede=r=>TM(r)&&Wf(r.pipe),tde=r=>{let i;return r&&(typeof FormData=="function"&&r instanceof FormData||Wf(r.append)&&((i=EM(r))==="formdata"||i==="object"&&Wf(r.toString)&&r.toString()==="[object FormData]"))},nde=wh("URLSearchParams"),[ode,rde,sde,ade]=["ReadableStream","Request","Response","Headers"].map(wh),ide=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function uO(r,i,{allOwnKeys:u=!1}={}){if(r===null||typeof r>"u")return;let m,b;if(typeof r!="object"&&(r=[r]),mk(r))for(m=0,b=r.length;m<b;m++)i.call(null,r[m],m,r);else{const h=u?Object.getOwnPropertyNames(r):Object.keys(r),x=h.length;let S;for(m=0;m<x;m++)S=h[m],i.call(null,r[S],S,r)}}function AG(r,i){i=i.toLowerCase();const u=Object.keys(r);let m=u.length,b;for(;m-- >0;)if(b=u[m],i===b.toLowerCase())return b;return null}const Ew=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,TG=r=>!eO(r)&&r!==Ew;function XH(){const{caseless:r}=TG(this)&&this||{},i={},u=(m,b)=>{const h=r&&AG(i,b)||b;z8(i[h])&&z8(m)?i[h]=XH(i[h],m):z8(m)?i[h]=XH({},m):mk(m)?i[h]=m.slice():i[h]=m};for(let m=0,b=arguments.length;m<b;m++)arguments[m]&&uO(arguments[m],u);return i}const lde=(r,i,u,{allOwnKeys:m}={})=>(uO(i,(b,h)=>{u&&Wf(b)?r[h]=SG(b,u):r[h]=b},{allOwnKeys:m}),r),cde=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),ude=(r,i,u,m)=>{r.prototype=Object.create(i.prototype,m),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:i.prototype}),u&&Object.assign(r.prototype,u)},dde=(r,i,u,m)=>{let b,h,x;const S={};if(i=i||{},r==null)return i;do{for(b=Object.getOwnPropertyNames(r),h=b.length;h-- >0;)x=b[h],(!m||m(x,r,i))&&!S[x]&&(i[x]=r[x],S[x]=!0);r=u!==!1&&jV(r)}while(r&&(!u||u(r,i))&&r!==Object.prototype);return i},fde=(r,i,u)=>{r=String(r),(u===void 0||u>r.length)&&(u=r.length),u-=i.length;const m=r.indexOf(i,u);return m!==-1&&m===u},mde=r=>{if(!r)return null;if(mk(r))return r;let i=r.length;if(!EG(i))return null;const u=new Array(i);for(;i-- >0;)u[i]=r[i];return u},gde=(r=>i=>r&&i instanceof r)(typeof Uint8Array<"u"&&jV(Uint8Array)),hde=(r,i)=>{const m=(r&&r[Symbol.iterator]).call(r);let b;for(;(b=m.next())&&!b.done;){const h=b.value;i.call(r,h[0],h[1])}},pde=(r,i)=>{let u;const m=[];for(;(u=r.exec(i))!==null;)m.push(u);return m},bde=wh("HTMLFormElement"),vde=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(u,m,b){return m.toUpperCase()+b}),Pj=(({hasOwnProperty:r})=>(i,u)=>r.call(i,u))(Object.prototype),yde=wh("RegExp"),OG=(r,i)=>{const u=Object.getOwnPropertyDescriptors(r),m={};uO(u,(b,h)=>{let x;(x=i(b,h,r))!==!1&&(m[h]=x||b)}),Object.defineProperties(r,m)},xde=r=>{OG(r,(i,u)=>{if(Wf(r)&&["arguments","caller","callee"].indexOf(u)!==-1)return!1;const m=r[u];if(Wf(m)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+u+"'")})}})},wde=(r,i)=>{const u={},m=b=>{b.forEach(h=>{u[h]=!0})};return mk(r)?m(r):m(String(r).split(i)),u},Cde=()=>{},_de=(r,i)=>r!=null&&Number.isFinite(r=+r)?r:i,mH="abcdefghijklmnopqrstuvwxyz",Lj="0123456789",DG={DIGIT:Lj,ALPHA:mH,ALPHA_DIGIT:mH+mH.toUpperCase()+Lj},Sde=(r=16,i=DG.ALPHA_DIGIT)=>{let u="";const{length:m}=i;for(;r--;)u+=i[Math.random()*m|0];return u};function kde(r){return!!(r&&Wf(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const Ede=r=>{const i=new Array(10),u=(m,b)=>{if(TM(m)){if(i.indexOf(m)>=0)return;if(!("toJSON"in m)){i[b]=m;const h=mk(m)?[]:{};return uO(m,(x,S)=>{const B=u(x,b+1);!eO(B)&&(h[S]=B)}),i[b]=void 0,h}}return m};return u(r,0)},Ade=wh("AsyncFunction"),Tde=r=>r&&(TM(r)||Wf(r))&&Wf(r.then)&&Wf(r.catch),RG=((r,i)=>r?setImmediate:i?((u,m)=>(Ew.addEventListener("message",({source:b,data:h})=>{b===Ew&&h===u&&m.length&&m.shift()()},!1),b=>{m.push(b),Ew.postMessage(u,"*")}))(`axios@${Math.random()}`,[]):u=>setTimeout(u))(typeof setImmediate=="function",Wf(Ew.postMessage)),Ode=typeof queueMicrotask<"u"?queueMicrotask.bind(Ew):typeof process<"u"&&process.nextTick||RG,Ht={isArray:mk,isArrayBuffer:kG,isBuffer:jue,isFormData:tde,isArrayBufferView:Kue,isString:que,isNumber:EG,isBoolean:Gue,isObject:TM,isPlainObject:z8,isReadableStream:ode,isRequest:rde,isResponse:sde,isHeaders:ade,isUndefined:eO,isDate:Yue,isFile:Xue,isBlob:Jue,isRegExp:yde,isFunction:Wf,isStream:ede,isURLSearchParams:nde,isTypedArray:gde,isFileList:Que,forEach:uO,merge:XH,extend:lde,trim:ide,stripBOM:cde,inherits:ude,toFlatObject:dde,kindOf:EM,kindOfTest:wh,endsWith:fde,toArray:mde,forEachEntry:hde,matchAll:pde,isHTMLForm:bde,hasOwnProperty:Pj,hasOwnProp:Pj,reduceDescriptors:OG,freezeMethods:xde,toObjectSet:wde,toCamelCase:vde,noop:Cde,toFiniteNumber:_de,findKey:AG,global:Ew,isContextDefined:TG,ALPHABET:DG,generateString:Sde,isSpecCompliantForm:kde,toJSONObject:Ede,isAsyncFn:Ade,isThenable:Tde,setImmediate:RG,asap:Ode};function Rr(r,i,u,m,b){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",i&&(this.code=i),u&&(this.config=u),m&&(this.request=m),b&&(this.response=b,this.status=b.status?b.status:null)}Ht.inherits(Rr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ht.toJSONObject(this.config),code:this.code,status:this.status}}});const NG=Rr.prototype,IG={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{IG[r]={value:r}});Object.defineProperties(Rr,IG);Object.defineProperty(NG,"isAxiosError",{value:!0});Rr.from=(r,i,u,m,b,h)=>{const x=Object.create(NG);return Ht.toFlatObject(r,x,function(B){return B!==Error.prototype},S=>S!=="isAxiosError"),Rr.call(x,r.message,i,u,m,b),x.cause=r,x.name=r.name,h&&Object.assign(x,h),x};const Dde=null;function JH(r){return Ht.isPlainObject(r)||Ht.isArray(r)}function BG(r){return Ht.endsWith(r,"[]")?r.slice(0,-2):r}function Fj(r,i,u){return r?r.concat(i).map(function(b,h){return b=BG(b),!u&&h?"["+b+"]":b}).join(u?".":""):i}function Rde(r){return Ht.isArray(r)&&!r.some(JH)}const Nde=Ht.toFlatObject(Ht,{},null,function(i){return/^is[A-Z]/.test(i)});function OM(r,i,u){if(!Ht.isObject(r))throw new TypeError("target must be an object");i=i||new FormData,u=Ht.toFlatObject(u,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ee,ge){return!Ht.isUndefined(ge[ee])});const m=u.metaTokens,b=u.visitor||R,h=u.dots,x=u.indexes,B=(u.Blob||typeof Blob<"u"&&Blob)&&Ht.isSpecCompliantForm(i);if(!Ht.isFunction(b))throw new TypeError("visitor must be a function");function N(K){if(K===null)return"";if(Ht.isDate(K))return K.toISOString();if(!B&&Ht.isBlob(K))throw new Rr("Blob is not supported. Use a Buffer instead.");return Ht.isArrayBuffer(K)||Ht.isTypedArray(K)?B&&typeof Blob=="function"?new Blob([K]):Buffer.from(K):K}function R(K,ee,ge){let he=K;if(K&&!ge&&typeof K=="object"){if(Ht.endsWith(ee,"{}"))ee=m?ee:ee.slice(0,-2),K=JSON.stringify(K);else if(Ht.isArray(K)&&Rde(K)||(Ht.isFileList(K)||Ht.endsWith(ee,"[]"))&&(he=Ht.toArray(K)))return ee=BG(ee),he.forEach(function(Te,te){!(Ht.isUndefined(Te)||Te===null)&&i.append(x===!0?Fj([ee],te,h):x===null?ee:ee+"[]",N(Te))}),!1}return JH(K)?!0:(i.append(Fj(ge,ee,h),N(K)),!1)}const F=[],W=Object.assign(Nde,{defaultVisitor:R,convertValue:N,isVisitable:JH});function $(K,ee){if(!Ht.isUndefined(K)){if(F.indexOf(K)!==-1)throw Error("Circular reference detected in "+ee.join("."));F.push(K),Ht.forEach(K,function(he,Ue){(!(Ht.isUndefined(he)||he===null)&&b.call(i,he,Ht.isString(Ue)?Ue.trim():Ue,ee,W))===!0&&$(he,ee?ee.concat(Ue):[Ue])}),F.pop()}}if(!Ht.isObject(r))throw new TypeError("data must be an object");return $(r),i}function zj(r){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(m){return i[m]})}function KV(r,i){this._pairs=[],r&&OM(r,this,i)}const MG=KV.prototype;MG.append=function(i,u){this._pairs.push([i,u])};MG.toString=function(i){const u=i?function(m){return i.call(this,m,zj)}:zj;return this._pairs.map(function(b){return u(b[0])+"="+u(b[1])},"").join("&")};function Ide(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function PG(r,i,u){if(!i)return r;const m=u&&u.encode||Ide,b=u&&u.serialize;let h;if(b?h=b(i,u):h=Ht.isURLSearchParams(i)?i.toString():new KV(i,u).toString(m),h){const x=r.indexOf("#");x!==-1&&(r=r.slice(0,x)),r+=(r.indexOf("?")===-1?"?":"&")+h}return r}class Hj{constructor(){this.handlers=[]}use(i,u,m){return this.handlers.push({fulfilled:i,rejected:u,synchronous:m?m.synchronous:!1,runWhen:m?m.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){Ht.forEach(this.handlers,function(m){m!==null&&i(m)})}}const LG={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Bde=typeof URLSearchParams<"u"?URLSearchParams:KV,Mde=typeof FormData<"u"?FormData:null,Pde=typeof Blob<"u"?Blob:null,Lde={isBrowser:!0,classes:{URLSearchParams:Bde,FormData:Mde,Blob:Pde},protocols:["http","https","file","blob","url","data"]},qV=typeof window<"u"&&typeof document<"u",QH=typeof navigator=="object"&&navigator||void 0,Fde=qV&&(!QH||["ReactNative","NativeScript","NS"].indexOf(QH.product)<0),zde=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Hde=qV&&window.location.href||"http://localhost",Vde=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qV,hasStandardBrowserEnv:Fde,hasStandardBrowserWebWorkerEnv:zde,navigator:QH,origin:Hde},Symbol.toStringTag,{value:"Module"})),Ld={...Vde,...Lde};function $de(r,i){return OM(r,new Ld.classes.URLSearchParams,Object.assign({visitor:function(u,m,b,h){return Ld.isNode&&Ht.isBuffer(u)?(this.append(m,u.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},i))}function Ude(r){return Ht.matchAll(/\w+|\[(\w*)]/g,r).map(i=>i[0]==="[]"?"":i[1]||i[0])}function Wde(r){const i={},u=Object.keys(r);let m;const b=u.length;let h;for(m=0;m<b;m++)h=u[m],i[h]=r[h];return i}function FG(r){function i(u,m,b,h){let x=u[h++];if(x==="__proto__")return!0;const S=Number.isFinite(+x),B=h>=u.length;return x=!x&&Ht.isArray(b)?b.length:x,B?(Ht.hasOwnProp(b,x)?b[x]=[b[x],m]:b[x]=m,!S):((!b[x]||!Ht.isObject(b[x]))&&(b[x]=[]),i(u,m,b[x],h)&&Ht.isArray(b[x])&&(b[x]=Wde(b[x])),!S)}if(Ht.isFormData(r)&&Ht.isFunction(r.entries)){const u={};return Ht.forEachEntry(r,(m,b)=>{i(Ude(m),b,u,0)}),u}return null}function Zde(r,i,u){if(Ht.isString(r))try{return(i||JSON.parse)(r),Ht.trim(r)}catch(m){if(m.name!=="SyntaxError")throw m}return(0,JSON.stringify)(r)}const dO={transitional:LG,adapter:["xhr","http","fetch"],transformRequest:[function(i,u){const m=u.getContentType()||"",b=m.indexOf("application/json")>-1,h=Ht.isObject(i);if(h&&Ht.isHTMLForm(i)&&(i=new FormData(i)),Ht.isFormData(i))return b?JSON.stringify(FG(i)):i;if(Ht.isArrayBuffer(i)||Ht.isBuffer(i)||Ht.isStream(i)||Ht.isFile(i)||Ht.isBlob(i)||Ht.isReadableStream(i))return i;if(Ht.isArrayBufferView(i))return i.buffer;if(Ht.isURLSearchParams(i))return u.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let S;if(h){if(m.indexOf("application/x-www-form-urlencoded")>-1)return $de(i,this.formSerializer).toString();if((S=Ht.isFileList(i))||m.indexOf("multipart/form-data")>-1){const B=this.env&&this.env.FormData;return OM(S?{"files[]":i}:i,B&&new B,this.formSerializer)}}return h||b?(u.setContentType("application/json",!1),Zde(i)):i}],transformResponse:[function(i){const u=this.transitional||dO.transitional,m=u&&u.forcedJSONParsing,b=this.responseType==="json";if(Ht.isResponse(i)||Ht.isReadableStream(i))return i;if(i&&Ht.isString(i)&&(m&&!this.responseType||b)){const x=!(u&&u.silentJSONParsing)&&b;try{return JSON.parse(i)}catch(S){if(x)throw S.name==="SyntaxError"?Rr.from(S,Rr.ERR_BAD_RESPONSE,this,null,this.response):S}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ld.classes.FormData,Blob:Ld.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ht.forEach(["delete","get","head","post","put","patch"],r=>{dO.headers[r]={}});const jde=Ht.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Kde=r=>{const i={};let u,m,b;return r&&r.split(`
`).forEach(function(x){b=x.indexOf(":"),u=x.substring(0,b).trim().toLowerCase(),m=x.substring(b+1).trim(),!(!u||i[u]&&jde[u])&&(u==="set-cookie"?i[u]?i[u].push(m):i[u]=[m]:i[u]=i[u]?i[u]+", "+m:m)}),i},Vj=Symbol("internals");function HT(r){return r&&String(r).trim().toLowerCase()}function H8(r){return r===!1||r==null?r:Ht.isArray(r)?r.map(H8):String(r)}function qde(r){const i=Object.create(null),u=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let m;for(;m=u.exec(r);)i[m[1]]=m[2];return i}const Gde=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function gH(r,i,u,m,b){if(Ht.isFunction(m))return m.call(this,i,u);if(b&&(i=u),!!Ht.isString(i)){if(Ht.isString(m))return i.indexOf(m)!==-1;if(Ht.isRegExp(m))return m.test(i)}}function Yde(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,u,m)=>u.toUpperCase()+m)}function Xde(r,i){const u=Ht.toCamelCase(" "+i);["get","set","has"].forEach(m=>{Object.defineProperty(r,m+u,{value:function(b,h,x){return this[m].call(this,i,b,h,x)},configurable:!0})})}class Fd{constructor(i){i&&this.set(i)}set(i,u,m){const b=this;function h(S,B,N){const R=HT(B);if(!R)throw new Error("header name must be a non-empty string");const F=Ht.findKey(b,R);(!F||b[F]===void 0||N===!0||N===void 0&&b[F]!==!1)&&(b[F||B]=H8(S))}const x=(S,B)=>Ht.forEach(S,(N,R)=>h(N,R,B));if(Ht.isPlainObject(i)||i instanceof this.constructor)x(i,u);else if(Ht.isString(i)&&(i=i.trim())&&!Gde(i))x(Kde(i),u);else if(Ht.isHeaders(i))for(const[S,B]of i.entries())h(B,S,m);else i!=null&&h(u,i,m);return this}get(i,u){if(i=HT(i),i){const m=Ht.findKey(this,i);if(m){const b=this[m];if(!u)return b;if(u===!0)return qde(b);if(Ht.isFunction(u))return u.call(this,b,m);if(Ht.isRegExp(u))return u.exec(b);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,u){if(i=HT(i),i){const m=Ht.findKey(this,i);return!!(m&&this[m]!==void 0&&(!u||gH(this,this[m],m,u)))}return!1}delete(i,u){const m=this;let b=!1;function h(x){if(x=HT(x),x){const S=Ht.findKey(m,x);S&&(!u||gH(m,m[S],S,u))&&(delete m[S],b=!0)}}return Ht.isArray(i)?i.forEach(h):h(i),b}clear(i){const u=Object.keys(this);let m=u.length,b=!1;for(;m--;){const h=u[m];(!i||gH(this,this[h],h,i,!0))&&(delete this[h],b=!0)}return b}normalize(i){const u=this,m={};return Ht.forEach(this,(b,h)=>{const x=Ht.findKey(m,h);if(x){u[x]=H8(b),delete u[h];return}const S=i?Yde(h):String(h).trim();S!==h&&delete u[h],u[S]=H8(b),m[S]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const u=Object.create(null);return Ht.forEach(this,(m,b)=>{m!=null&&m!==!1&&(u[b]=i&&Ht.isArray(m)?m.join(", "):m)}),u}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,u])=>i+": "+u).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...u){const m=new this(i);return u.forEach(b=>m.set(b)),m}static accessor(i){const m=(this[Vj]=this[Vj]={accessors:{}}).accessors,b=this.prototype;function h(x){const S=HT(x);m[S]||(Xde(b,x),m[S]=!0)}return Ht.isArray(i)?i.forEach(h):h(i),this}}Fd.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ht.reduceDescriptors(Fd.prototype,({value:r},i)=>{let u=i[0].toUpperCase()+i.slice(1);return{get:()=>r,set(m){this[u]=m}}});Ht.freezeMethods(Fd);function hH(r,i){const u=this||dO,m=i||u,b=Fd.from(m.headers);let h=m.data;return Ht.forEach(r,function(S){h=S.call(u,h,b.normalize(),i?i.status:void 0)}),b.normalize(),h}function zG(r){return!!(r&&r.__CANCEL__)}function gk(r,i,u){Rr.call(this,r??"canceled",Rr.ERR_CANCELED,i,u),this.name="CanceledError"}Ht.inherits(gk,Rr,{__CANCEL__:!0});function HG(r,i,u){const m=u.config.validateStatus;!u.status||!m||m(u.status)?r(u):i(new Rr("Request failed with status code "+u.status,[Rr.ERR_BAD_REQUEST,Rr.ERR_BAD_RESPONSE][Math.floor(u.status/100)-4],u.config,u.request,u))}function Jde(r){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return i&&i[1]||""}function Qde(r,i){r=r||10;const u=new Array(r),m=new Array(r);let b=0,h=0,x;return i=i!==void 0?i:1e3,function(B){const N=Date.now(),R=m[h];x||(x=N),u[b]=B,m[b]=N;let F=h,W=0;for(;F!==b;)W+=u[F++],F=F%r;if(b=(b+1)%r,b===h&&(h=(h+1)%r),N-x<i)return;const $=R&&N-R;return $?Math.round(W*1e3/$):void 0}}function efe(r,i){let u=0,m=1e3/i,b,h;const x=(N,R=Date.now())=>{u=R,b=null,h&&(clearTimeout(h),h=null),r.apply(null,N)};return[(...N)=>{const R=Date.now(),F=R-u;F>=m?x(N,R):(b=N,h||(h=setTimeout(()=>{h=null,x(b)},m-F)))},()=>b&&x(b)]}const oM=(r,i,u=3)=>{let m=0;const b=Qde(50,250);return efe(h=>{const x=h.loaded,S=h.lengthComputable?h.total:void 0,B=x-m,N=b(B),R=x<=S;m=x;const F={loaded:x,total:S,progress:S?x/S:void 0,bytes:B,rate:N||void 0,estimated:N&&S&&R?(S-x)/N:void 0,event:h,lengthComputable:S!=null,[i?"download":"upload"]:!0};r(F)},u)},$j=(r,i)=>{const u=r!=null;return[m=>i[0]({lengthComputable:u,total:r,loaded:m}),i[1]]},Uj=r=>(...i)=>Ht.asap(()=>r(...i)),tfe=Ld.hasStandardBrowserEnv?function(){const i=Ld.navigator&&/(msie|trident)/i.test(Ld.navigator.userAgent),u=document.createElement("a");let m;function b(h){let x=h;return i&&(u.setAttribute("href",x),x=u.href),u.setAttribute("href",x),{href:u.href,protocol:u.protocol?u.protocol.replace(/:$/,""):"",host:u.host,search:u.search?u.search.replace(/^\?/,""):"",hash:u.hash?u.hash.replace(/^#/,""):"",hostname:u.hostname,port:u.port,pathname:u.pathname.charAt(0)==="/"?u.pathname:"/"+u.pathname}}return m=b(window.location.href),function(x){const S=Ht.isString(x)?b(x):x;return S.protocol===m.protocol&&S.host===m.host}}():function(){return function(){return!0}}(),nfe=Ld.hasStandardBrowserEnv?{write(r,i,u,m,b,h){const x=[r+"="+encodeURIComponent(i)];Ht.isNumber(u)&&x.push("expires="+new Date(u).toGMTString()),Ht.isString(m)&&x.push("path="+m),Ht.isString(b)&&x.push("domain="+b),h===!0&&x.push("secure"),document.cookie=x.join("; ")},read(r){const i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ofe(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function rfe(r,i){return i?r.replace(/\/?\/$/,"")+"/"+i.replace(/^\/+/,""):r}function VG(r,i){return r&&!ofe(i)?rfe(r,i):i}const Wj=r=>r instanceof Fd?{...r}:r;function Lw(r,i){i=i||{};const u={};function m(N,R,F){return Ht.isPlainObject(N)&&Ht.isPlainObject(R)?Ht.merge.call({caseless:F},N,R):Ht.isPlainObject(R)?Ht.merge({},R):Ht.isArray(R)?R.slice():R}function b(N,R,F){if(Ht.isUndefined(R)){if(!Ht.isUndefined(N))return m(void 0,N,F)}else return m(N,R,F)}function h(N,R){if(!Ht.isUndefined(R))return m(void 0,R)}function x(N,R){if(Ht.isUndefined(R)){if(!Ht.isUndefined(N))return m(void 0,N)}else return m(void 0,R)}function S(N,R,F){if(F in i)return m(N,R);if(F in r)return m(void 0,N)}const B={url:h,method:h,data:h,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,withXSRFToken:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:S,headers:(N,R)=>b(Wj(N),Wj(R),!0)};return Ht.forEach(Object.keys(Object.assign({},r,i)),function(R){const F=B[R]||b,W=F(r[R],i[R],R);Ht.isUndefined(W)&&F!==S||(u[R]=W)}),u}const $G=r=>{const i=Lw({},r);let{data:u,withXSRFToken:m,xsrfHeaderName:b,xsrfCookieName:h,headers:x,auth:S}=i;i.headers=x=Fd.from(x),i.url=PG(VG(i.baseURL,i.url),r.params,r.paramsSerializer),S&&x.set("Authorization","Basic "+btoa((S.username||"")+":"+(S.password?unescape(encodeURIComponent(S.password)):"")));let B;if(Ht.isFormData(u)){if(Ld.hasStandardBrowserEnv||Ld.hasStandardBrowserWebWorkerEnv)x.setContentType(void 0);else if((B=x.getContentType())!==!1){const[N,...R]=B?B.split(";").map(F=>F.trim()).filter(Boolean):[];x.setContentType([N||"multipart/form-data",...R].join("; "))}}if(Ld.hasStandardBrowserEnv&&(m&&Ht.isFunction(m)&&(m=m(i)),m||m!==!1&&tfe(i.url))){const N=b&&h&&nfe.read(h);N&&x.set(b,N)}return i},sfe=typeof XMLHttpRequest<"u",afe=sfe&&function(r){return new Promise(function(u,m){const b=$G(r);let h=b.data;const x=Fd.from(b.headers).normalize();let{responseType:S,onUploadProgress:B,onDownloadProgress:N}=b,R,F,W,$,K;function ee(){$&&$(),K&&K(),b.cancelToken&&b.cancelToken.unsubscribe(R),b.signal&&b.signal.removeEventListener("abort",R)}let ge=new XMLHttpRequest;ge.open(b.method.toUpperCase(),b.url,!0),ge.timeout=b.timeout;function he(){if(!ge)return;const Te=Fd.from("getAllResponseHeaders"in ge&&ge.getAllResponseHeaders()),Ae={data:!S||S==="text"||S==="json"?ge.responseText:ge.response,status:ge.status,statusText:ge.statusText,headers:Te,config:r,request:ge};HG(function(Ge){u(Ge),ee()},function(Ge){m(Ge),ee()},Ae),ge=null}"onloadend"in ge?ge.onloadend=he:ge.onreadystatechange=function(){!ge||ge.readyState!==4||ge.status===0&&!(ge.responseURL&&ge.responseURL.indexOf("file:")===0)||setTimeout(he)},ge.onabort=function(){ge&&(m(new Rr("Request aborted",Rr.ECONNABORTED,r,ge)),ge=null)},ge.onerror=function(){m(new Rr("Network Error",Rr.ERR_NETWORK,r,ge)),ge=null},ge.ontimeout=function(){let te=b.timeout?"timeout of "+b.timeout+"ms exceeded":"timeout exceeded";const Ae=b.transitional||LG;b.timeoutErrorMessage&&(te=b.timeoutErrorMessage),m(new Rr(te,Ae.clarifyTimeoutError?Rr.ETIMEDOUT:Rr.ECONNABORTED,r,ge)),ge=null},h===void 0&&x.setContentType(null),"setRequestHeader"in ge&&Ht.forEach(x.toJSON(),function(te,Ae){ge.setRequestHeader(Ae,te)}),Ht.isUndefined(b.withCredentials)||(ge.withCredentials=!!b.withCredentials),S&&S!=="json"&&(ge.responseType=b.responseType),N&&([W,K]=oM(N,!0),ge.addEventListener("progress",W)),B&&ge.upload&&([F,$]=oM(B),ge.upload.addEventListener("progress",F),ge.upload.addEventListener("loadend",$)),(b.cancelToken||b.signal)&&(R=Te=>{ge&&(m(!Te||Te.type?new gk(null,r,ge):Te),ge.abort(),ge=null)},b.cancelToken&&b.cancelToken.subscribe(R),b.signal&&(b.signal.aborted?R():b.signal.addEventListener("abort",R)));const Ue=Jde(b.url);if(Ue&&Ld.protocols.indexOf(Ue)===-1){m(new Rr("Unsupported protocol "+Ue+":",Rr.ERR_BAD_REQUEST,r));return}ge.send(h||null)})},ife=(r,i)=>{const{length:u}=r=r?r.filter(Boolean):[];if(i||u){let m=new AbortController,b;const h=function(N){if(!b){b=!0,S();const R=N instanceof Error?N:this.reason;m.abort(R instanceof Rr?R:new gk(R instanceof Error?R.message:R))}};let x=i&&setTimeout(()=>{x=null,h(new Rr(`timeout ${i} of ms exceeded`,Rr.ETIMEDOUT))},i);const S=()=>{r&&(x&&clearTimeout(x),x=null,r.forEach(N=>{N.unsubscribe?N.unsubscribe(h):N.removeEventListener("abort",h)}),r=null)};r.forEach(N=>N.addEventListener("abort",h));const{signal:B}=m;return B.unsubscribe=()=>Ht.asap(S),B}},lfe=function*(r,i){let u=r.byteLength;if(u<i){yield r;return}let m=0,b;for(;m<u;)b=m+i,yield r.slice(m,b),m=b},cfe=async function*(r,i){for await(const u of ufe(r))yield*lfe(u,i)},ufe=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const i=r.getReader();try{for(;;){const{done:u,value:m}=await i.read();if(u)break;yield m}}finally{await i.cancel()}},Zj=(r,i,u,m)=>{const b=cfe(r,i);let h=0,x,S=B=>{x||(x=!0,m&&m(B))};return new ReadableStream({async pull(B){try{const{done:N,value:R}=await b.next();if(N){S(),B.close();return}let F=R.byteLength;if(u){let W=h+=F;u(W)}B.enqueue(new Uint8Array(R))}catch(N){throw S(N),N}},cancel(B){return S(B),b.return()}},{highWaterMark:2})},DM=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",UG=DM&&typeof ReadableStream=="function",dfe=DM&&(typeof TextEncoder=="function"?(r=>i=>r.encode(i))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),WG=(r,...i)=>{try{return!!r(...i)}catch{return!1}},ffe=UG&&WG(()=>{let r=!1;const i=new Request(Ld.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!i}),jj=64*1024,eV=UG&&WG(()=>Ht.isReadableStream(new Response("").body)),rM={stream:eV&&(r=>r.body)};DM&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(i=>{!rM[i]&&(rM[i]=Ht.isFunction(r[i])?u=>u[i]():(u,m)=>{throw new Rr(`Response type '${i}' is not supported`,Rr.ERR_NOT_SUPPORT,m)})})})(new Response);const mfe=async r=>{if(r==null)return 0;if(Ht.isBlob(r))return r.size;if(Ht.isSpecCompliantForm(r))return(await new Request(Ld.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(Ht.isArrayBufferView(r)||Ht.isArrayBuffer(r))return r.byteLength;if(Ht.isURLSearchParams(r)&&(r=r+""),Ht.isString(r))return(await dfe(r)).byteLength},gfe=async(r,i)=>{const u=Ht.toFiniteNumber(r.getContentLength());return u??mfe(i)},hfe=DM&&(async r=>{let{url:i,method:u,data:m,signal:b,cancelToken:h,timeout:x,onDownloadProgress:S,onUploadProgress:B,responseType:N,headers:R,withCredentials:F="same-origin",fetchOptions:W}=$G(r);N=N?(N+"").toLowerCase():"text";let $=ife([b,h&&h.toAbortSignal()],x),K;const ee=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let ge;try{if(B&&ffe&&u!=="get"&&u!=="head"&&(ge=await gfe(R,m))!==0){let Ae=new Request(i,{method:"POST",body:m,duplex:"half"}),ne;if(Ht.isFormData(m)&&(ne=Ae.headers.get("content-type"))&&R.setContentType(ne),Ae.body){const[Ge,$e]=$j(ge,oM(Uj(B)));m=Zj(Ae.body,jj,Ge,$e)}}Ht.isString(F)||(F=F?"include":"omit");const he="credentials"in Request.prototype;K=new Request(i,{...W,signal:$,method:u.toUpperCase(),headers:R.normalize().toJSON(),body:m,duplex:"half",credentials:he?F:void 0});let Ue=await fetch(K);const Te=eV&&(N==="stream"||N==="response");if(eV&&(S||Te&&ee)){const Ae={};["status","statusText","headers"].forEach(Ze=>{Ae[Ze]=Ue[Ze]});const ne=Ht.toFiniteNumber(Ue.headers.get("content-length")),[Ge,$e]=S&&$j(ne,oM(Uj(S),!0))||[];Ue=new Response(Zj(Ue.body,jj,Ge,()=>{$e&&$e(),ee&&ee()}),Ae)}N=N||"text";let te=await rM[Ht.findKey(rM,N)||"text"](Ue,r);return!Te&&ee&&ee(),await new Promise((Ae,ne)=>{HG(Ae,ne,{data:te,headers:Fd.from(Ue.headers),status:Ue.status,statusText:Ue.statusText,config:r,request:K})})}catch(he){throw ee&&ee(),he&&he.name==="TypeError"&&/fetch/i.test(he.message)?Object.assign(new Rr("Network Error",Rr.ERR_NETWORK,r,K),{cause:he.cause||he}):Rr.from(he,he&&he.code,r,K)}}),tV={http:Dde,xhr:afe,fetch:hfe};Ht.forEach(tV,(r,i)=>{if(r){try{Object.defineProperty(r,"name",{value:i})}catch{}Object.defineProperty(r,"adapterName",{value:i})}});const Kj=r=>`- ${r}`,pfe=r=>Ht.isFunction(r)||r===null||r===!1,ZG={getAdapter:r=>{r=Ht.isArray(r)?r:[r];const{length:i}=r;let u,m;const b={};for(let h=0;h<i;h++){u=r[h];let x;if(m=u,!pfe(u)&&(m=tV[(x=String(u)).toLowerCase()],m===void 0))throw new Rr(`Unknown adapter '${x}'`);if(m)break;b[x||"#"+h]=m}if(!m){const h=Object.entries(b).map(([S,B])=>`adapter ${S} `+(B===!1?"is not supported by the environment":"is not available in the build"));let x=i?h.length>1?`since :
`+h.map(Kj).join(`
`):" "+Kj(h[0]):"as no adapter specified";throw new Rr("There is no suitable adapter to dispatch the request "+x,"ERR_NOT_SUPPORT")}return m},adapters:tV};function pH(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new gk(null,r)}function qj(r){return pH(r),r.headers=Fd.from(r.headers),r.data=hH.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),ZG.getAdapter(r.adapter||dO.adapter)(r).then(function(m){return pH(r),m.data=hH.call(r,r.transformResponse,m),m.headers=Fd.from(m.headers),m},function(m){return zG(m)||(pH(r),m&&m.response&&(m.response.data=hH.call(r,r.transformResponse,m.response),m.response.headers=Fd.from(m.response.headers))),Promise.reject(m)})}const jG="1.7.7",GV={};["object","boolean","number","function","string","symbol"].forEach((r,i)=>{GV[r]=function(m){return typeof m===r||"a"+(i<1?"n ":" ")+r}});const Gj={};GV.transitional=function(i,u,m){function b(h,x){return"[Axios v"+jG+"] Transitional option '"+h+"'"+x+(m?". "+m:"")}return(h,x,S)=>{if(i===!1)throw new Rr(b(x," has been removed"+(u?" in "+u:"")),Rr.ERR_DEPRECATED);return u&&!Gj[x]&&(Gj[x]=!0,console.warn(b(x," has been deprecated since v"+u+" and will be removed in the near future"))),i?i(h,x,S):!0}};function bfe(r,i,u){if(typeof r!="object")throw new Rr("options must be an object",Rr.ERR_BAD_OPTION_VALUE);const m=Object.keys(r);let b=m.length;for(;b-- >0;){const h=m[b],x=i[h];if(x){const S=r[h],B=S===void 0||x(S,h,r);if(B!==!0)throw new Rr("option "+h+" must be "+B,Rr.ERR_BAD_OPTION_VALUE);continue}if(u!==!0)throw new Rr("Unknown option "+h,Rr.ERR_BAD_OPTION)}}const nV={assertOptions:bfe,validators:GV},Qv=nV.validators;class Bw{constructor(i){this.defaults=i,this.interceptors={request:new Hj,response:new Hj}}async request(i,u){try{return await this._request(i,u)}catch(m){if(m instanceof Error){let b;Error.captureStackTrace?Error.captureStackTrace(b={}):b=new Error;const h=b.stack?b.stack.replace(/^.+\n/,""):"";try{m.stack?h&&!String(m.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(m.stack+=`
`+h):m.stack=h}catch{}}throw m}}_request(i,u){typeof i=="string"?(u=u||{},u.url=i):u=i||{},u=Lw(this.defaults,u);const{transitional:m,paramsSerializer:b,headers:h}=u;m!==void 0&&nV.assertOptions(m,{silentJSONParsing:Qv.transitional(Qv.boolean),forcedJSONParsing:Qv.transitional(Qv.boolean),clarifyTimeoutError:Qv.transitional(Qv.boolean)},!1),b!=null&&(Ht.isFunction(b)?u.paramsSerializer={serialize:b}:nV.assertOptions(b,{encode:Qv.function,serialize:Qv.function},!0)),u.method=(u.method||this.defaults.method||"get").toLowerCase();let x=h&&Ht.merge(h.common,h[u.method]);h&&Ht.forEach(["delete","get","head","post","put","patch","common"],K=>{delete h[K]}),u.headers=Fd.concat(x,h);const S=[];let B=!0;this.interceptors.request.forEach(function(ee){typeof ee.runWhen=="function"&&ee.runWhen(u)===!1||(B=B&&ee.synchronous,S.unshift(ee.fulfilled,ee.rejected))});const N=[];this.interceptors.response.forEach(function(ee){N.push(ee.fulfilled,ee.rejected)});let R,F=0,W;if(!B){const K=[qj.bind(this),void 0];for(K.unshift.apply(K,S),K.push.apply(K,N),W=K.length,R=Promise.resolve(u);F<W;)R=R.then(K[F++],K[F++]);return R}W=S.length;let $=u;for(F=0;F<W;){const K=S[F++],ee=S[F++];try{$=K($)}catch(ge){ee.call(this,ge);break}}try{R=qj.call(this,$)}catch(K){return Promise.reject(K)}for(F=0,W=N.length;F<W;)R=R.then(N[F++],N[F++]);return R}getUri(i){i=Lw(this.defaults,i);const u=VG(i.baseURL,i.url);return PG(u,i.params,i.paramsSerializer)}}Ht.forEach(["delete","get","head","options"],function(i){Bw.prototype[i]=function(u,m){return this.request(Lw(m||{},{method:i,url:u,data:(m||{}).data}))}});Ht.forEach(["post","put","patch"],function(i){function u(m){return function(h,x,S){return this.request(Lw(S||{},{method:i,headers:m?{"Content-Type":"multipart/form-data"}:{},url:h,data:x}))}}Bw.prototype[i]=u(),Bw.prototype[i+"Form"]=u(!0)});class YV{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let u;this.promise=new Promise(function(h){u=h});const m=this;this.promise.then(b=>{if(!m._listeners)return;let h=m._listeners.length;for(;h-- >0;)m._listeners[h](b);m._listeners=null}),this.promise.then=b=>{let h;const x=new Promise(S=>{m.subscribe(S),h=S}).then(b);return x.cancel=function(){m.unsubscribe(h)},x},i(function(h,x,S){m.reason||(m.reason=new gk(h,x,S),u(m.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const u=this._listeners.indexOf(i);u!==-1&&this._listeners.splice(u,1)}toAbortSignal(){const i=new AbortController,u=m=>{i.abort(m)};return this.subscribe(u),i.signal.unsubscribe=()=>this.unsubscribe(u),i.signal}static source(){let i;return{token:new YV(function(b){i=b}),cancel:i}}}function vfe(r){return function(u){return r.apply(null,u)}}function yfe(r){return Ht.isObject(r)&&r.isAxiosError===!0}const oV={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(oV).forEach(([r,i])=>{oV[i]=r});function KG(r){const i=new Bw(r),u=SG(Bw.prototype.request,i);return Ht.extend(u,Bw.prototype,i,{allOwnKeys:!0}),Ht.extend(u,i,null,{allOwnKeys:!0}),u.create=function(b){return KG(Lw(r,b))},u}const Ba=KG(dO);Ba.Axios=Bw;Ba.CanceledError=gk;Ba.CancelToken=YV;Ba.isCancel=zG;Ba.VERSION=jG;Ba.toFormData=OM;Ba.AxiosError=Rr;Ba.Cancel=Ba.CanceledError;Ba.all=function(i){return Promise.all(i)};Ba.spread=vfe;Ba.isAxiosError=yfe;Ba.mergeConfig=Lw;Ba.AxiosHeaders=Fd;Ba.formToJSON=r=>FG(Ht.isHTMLForm(r)?new FormData(r):r);Ba.getAdapter=ZG.getAdapter;Ba.HttpStatusCode=oV;Ba.default=Ba;/*! js-cookie v3.0.5 | MIT */function S8(r){for(var i=1;i<arguments.length;i++){var u=arguments[i];for(var m in u)r[m]=u[m]}return r}var xfe={read:function(r){return r[0]==='"'&&(r=r.slice(1,-1)),r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(r){return encodeURIComponent(r).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function rV(r,i){function u(b,h,x){if(!(typeof document>"u")){x=S8({},i,x),typeof x.expires=="number"&&(x.expires=new Date(Date.now()+x.expires*864e5)),x.expires&&(x.expires=x.expires.toUTCString()),b=encodeURIComponent(b).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var S="";for(var B in x)x[B]&&(S+="; "+B,x[B]!==!0&&(S+="="+x[B].split(";")[0]));return document.cookie=b+"="+r.write(h,b)+S}}function m(b){if(!(typeof document>"u"||arguments.length&&!b)){for(var h=document.cookie?document.cookie.split("; "):[],x={},S=0;S<h.length;S++){var B=h[S].split("="),N=B.slice(1).join("=");try{var R=decodeURIComponent(B[0]);if(x[R]=r.read(N,R),b===R)break}catch{}}return b?x[b]:x}}return Object.create({set:u,get:m,remove:function(b,h){u(b,"",S8({},h,{expires:-1}))},withAttributes:function(b){return rV(this.converter,S8({},this.attributes,b))},withConverter:function(b){return rV(S8({},this.converter,b),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(r)}})}var Gi=rV(xfe,{path:"/"});const wfe=".mce-content-body,.long-essay-content{font-family:serif;font-size:1em;max-width:60em;line-height:150%}.mce-content-body h1,.long-essay-content h1,.mce-content-body h2,.long-essay-content h2,.mce-content-body h3,.long-essay-content h3,.mce-content-body h4,.long-essay-content h4,.mce-content-body h5,.long-essay-content h5,.mce-content-body h6,.long-essay-content h6{font-size:1em;font-weight:700;padding:0;margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body ol,.long-essay-content ol,.mce-content-body ul,.long-essay-content ul{margin-left:10px;margin-bottom:20px}.mce-content-body li,.long-essay-content li{margin-left:20px;margin-bottom:5px;min-height:1.5em}.mce-content-body p,.long-essay-content p,.mce-content-body pre,.long-essay-content pre{margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body,.long-essay-content,.tox-menu{counter-reset:h1 h2 h3 h4 h5 h6}.mce-content-body h1,.long-essay-content h1,.tox-menu h1{counter-increment:h1;counter-reset:h2 h3 h4 h5 h6}.mce-content-body h2,.long-essay-content h2,.tox-menu h2{counter-increment:h2;counter-reset:h3 h4 h5 h6}.mce-content-body h3,.long-essay-content h3,.tox-menu h3{counter-increment:h3;counter-reset:h4 h5 h6}.mce-content-body h4,.long-essay-content h4,.tox-menu h4{counter-increment:h4;counter-reset:h5 h6}.mce-content-body h5,.long-essay-content h5,.tox-menu h5{counter-increment:h5;counter-reset:h6}.mce-content-body h6,.long-essay-content h6,.tox-menu h6{counter-increment:h6}.tox-menu p,.tox-menu h1,.tox-menu h2,.tox-menu h3,.tox-menu h4,.tox-menu h5,.tox-menu h6,.tox-menu pre,.tox-menu li{font-size:1rem!important}",Cfe="",_fe=".headlines-three h1{font-size:1.3em!important}.headlines-three h2{font-size:1.15em!important}.headlines-three h3{font-size:1em!important}",Sfe='.mce-content-body h1:before,.headlines-numeric h1:before{content:counter(h1,decimal) " "}.mce-content-body h2:before,.headlines-numeric h2:before{content:counter(h1,decimal) "." counter(h2,decimal) " "}.mce-content-body h3:before,.headlines-numeric h3:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) " "}.mce-content-body h4:before,.headlines-numeric h4:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) "." counter(h4,decimal) " "}.mce-content-body h5:before,.headlines-numeric h5:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) "." counter(h4,decimal) "." counter(h5,decimal) " "}.mce-content-body h6:before,.headlines-numeric h6:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) "." counter(h4,decimal) "." counter(h5,decimal) "." counter(h6,decimal) " "}',kfe='.mce-content-body h1:before,.headlines-edutiek h1:before{content:counter(h1,upper-latin) ". "}.mce-content-body h2:before,.headlines-edutiek h2:before{content:counter(h2,upper-roman) ". "}.mce-content-body h3:before,.headlines-edutiek h3:before{content:counter(h3,decimal) ". "}.mce-content-body h4:before,.headlines-edutiek h4:before{content:counter(h4,lower-latin) ". "}.mce-content-body h5:before,.headlines-edutiek h5:before{content:counter(h5,lower-latin) counter(h5,lower-latin) ". "}.mce-content-body h6:before,.headlines-edutiek h6:before{content:"(" counter(h6,decimal) ") "}',bH=Kp.createInstance({storeName:"writer-settings",description:"Settings data"}),vh=dg("settings",{state:()=>({headline_scheme:null,formatting_options:null,notice_boards:0,copy_allowed:!1,primary_color:null,primary_text_color:null,allow_spellcheck:!1}),getters:{hasNotes:r=>r.notice_boards>0,primaryColorCss:r=>r.primary_color?"#"+r.primary_color:"",primaryTextColorCss:r=>r.primary_text_color?"#"+r.primary_text_color:"",primaryTextColorFullCss:r=>r.primary_text_color?"color: #"+r.primary_text_color+";":"",tinyToolbar:r=>{switch(r.formatting_options){case"full":return"undo redo styles bold italic underline bullist numlist removeformat charmap wordcount";case"medium":return"undo redo bold italic underline bullist numlistremoveformat charmap wordcount";case"minimal":return"undo redo bold italic underline removeformat charmap wordcount";case"none":default:return"undo redo charmap wordcount"}},tinyValidElements:r=>{switch(r.formatting_options){case"full":return"p/div,br,strong/b,em/i,u,ol,ul,li,h1,h2,h3,h4,h5,h6,pre";case"medium":return"p/div,br,strong/b,em/i,u,ol,ul,li";case"minimal":return"p/div,p/li,br,strong/b,em/i,u";case"none":default:return"p/div,p/li,br"}},tinyH1Size:r=>r.headline_scheme=="three"?1.3:1,tinyH2Size:r=>r.headline_scheme=="three"?1.15:1,tinyStyles:r=>{switch(r.headline_scheme){case"single":return[{title:"Absatz",format:"p"},{title:"berschrift",format:"h1"},{title:"Maschinenschrift",format:"pre"},{title:"Listenelement",block:"li"}];case"three":return[{title:"Absatz",format:"p"},{title:"berschrift 1",format:"h1"},{title:"berschrift 2",format:"h2"},{title:"berschrift 3",format:"h3"},{title:"Maschinenschrift",format:"pre"},{title:"Listenelement",block:"li"}];default:return[{title:"Absatz",format:"p"},{title:"berschrift 1",format:"h1"},{title:"berschrift 2",format:"h2"},{title:"berschrift 3",format:"h3"},{title:"berschrift 4",format:"h4"},{title:"berschrift 5",format:"h5"},{title:"berschrift 6",format:"h6"},{title:"Maschinenschrift",format:"pre"},{title:"Listenelement",block:"li"}]}},tinyFormats:r=>({underline:{inline:"u",remove:"all"}}),tinyContentStyle:r=>{const i=wfe.toString();switch(r.headline_scheme){case"single":return i+`
`+Cfe.toString();case"three":return i+`
`+_fe.toString();case"numeric":return i+`
`+Sfe.toString();case"edutiek":return i+`
`+kfe.toString();default:return i}},contentClass:r=>{switch(r.headline_scheme){case"single":return"headlines-single";case"three":return"headlines-three";case"numeric":return"headlines-numeric";case"edutiek":return"headlines-edutiek";default:return""}}},actions:{setData(r){this.headline_scheme=r.headline_scheme,this.formatting_options=r.formatting_options,this.notice_boards=r.notice_boards,this.copy_allowed=r.copy_allowed,this.primary_color=r.primary_color,this.primary_text_color=r.primary_text_color,this.allow_spellcheck=r.allow_spellcheck},async clearStorage(){try{await bH.clear()}catch(r){console.log(r)}},async loadFromStorage(){try{const r=await bH.getItem("settings");this.setData(r)}catch(r){console.log(r)}},async loadFromData(r){try{await bH.setItem("settings",r),this.setData(r)}catch(i){console.log(i)}}}}),nc=class nc{constructor(i={}){Sr(this,"action",null);Sr(this,"type",null);Sr(this,"key","");Sr(this,"last_change",0);Sr(this,"payload",null);this.setData(i),this.last_change==0&&(this.last_change=Date.now())}setData(i){i.action!==void 0&&nc.ALLOWED_ACTIONS.includes(i.action)&&(this.action=i.action.toString()),i.type!==void 0&&nc.ALLOWED_TYPES.includes(i.type)&&(this.type=i.type.toString()),i.key!==void 0&&i.key!==null&&(this.key=i.key.toString()),i.last_change!==void 0&&i.last_change!==null&&(this.last_change=parseInt(i.last_change)),i.payload!==void 0&&i.payload!==null&&(this.payload=i.payload)}getData(){return{action:this.action,type:this.type,key:this.key,last_change:this.last_change,payload:this.payload}}isValid(){return nc.ALLOWED_TYPES.includes(this.type)&&nc.ALLOWED_ACTIONS.includes(this.action)&&this.key!=""}};Sr(nc,"ACTION_SAVE","save"),Sr(nc,"ACTION_DELETE","delete"),Sr(nc,"ALLOWED_ACTIONS",[nc.ACTION_SAVE,nc.ACTION_DELETE]),Sr(nc,"TYPE_ANNOTATIONS","annotations"),Sr(nc,"TYPE_NOTES","notes"),Sr(nc,"TYPE_PREFERENCES","preferences"),Sr(nc,"ALLOWED_TYPES",[nc.TYPE_ANNOTATIONS,nc.TYPE_NOTES,nc.TYPE_PREFERENCES]);let Ca=nc;const k8=Kp.createInstance({storeName:"writer-changes",description:"Writer changes data"});function Yj(){const r={changes:{}};for(const i of Ca.ALLOWED_TYPES)r.changes[i]={};return r}const Bd=dg("changes",{state:()=>Yj(),getters:{countChanges:r=>{let i=0;for(const u in r.changes)i+=Object.keys(r.changes[u]).length;return i},getCountOfChangesFor:r=>function(u){return Ca.ALLOWED_TYPES.includes(u)?Object.keys(r.changes[u]).length:(console.log("wrong type"+u),0)},getChangesFor:r=>function(u,m=0){if(!Ca.ALLOWED_TYPES.includes(u))return[];const b=[];for(const h in r.changes[u]){const x=r.changes[u][h];(m==0||x.last_change<=m)&&b.push(x)}return b}},actions:{async clearStorage(){try{await k8.clear()}catch(r){console.log(r)}this.$reset()},async loadFromStorage(){const r=Yj();try{for(const i in r.changes){const u=await k8.getItem(i);if(u){const m=JSON.parse(u);if(typeof m=="object"&&m!==null)for(const b in m)r.changes[i][b]=new Ca(m[b])}}}catch(i){console.log(i)}this.$patch(r)},async saveChangesOfTypeToStorage(r){const i={};for(const u in this.changes[r]){const m=this.changes[r][u];i[u]=m.getData()}await k8.setItem(r,JSON.stringify(i))},async hasChangesInStorage(){for(const r in this.changes){const i=await k8.getItem(r);if(i){const u=JSON.parse(i);if(Object.keys(u).length>0)return!0}}return!1},async setChange(r){r.isValid()&&(this.changes[r.type][r.key]=r,await this.saveChangesOfTypeToStorage(r.type))},async unsetChange(r){r.isValid()&&(delete this.changes[r.type][r.key],await this.saveChangesOfTypeToStorage(r.type))},async setChangesSent(r,i,u){const m=this.changes[r];let b=!1;for(const h in i){const x=i[h],S=m[h];S&&(S.last_change<=u?(delete m[h],b=!0):(x==null||x!=h)&&(S.key=x,m[x]=S,delete m[h],b=!0))}b&&await this.saveChangesOfTypeToStorage(r)}}}),vH=Kp.createInstance({storeName:"writer-preferences",description:"Preferences data"}),Y0=dg("preferences",{state:()=>({instructions_zoom:1,editor_zoom:1,word_count_enabled:!1,word_count_characters:!1}),getters:{allData:r=>({instructions_zoom:r.instructions_zoom,editor_zoom:r.editor_zoom,word_count_enabled:r.word_count_enabled,word_count_characters:r.word_count_characters})},actions:{async clearStorage(){try{await vH.clear()}catch(r){console.log(r)}this.$reset()},async loadFromStorage(){try{const r=await vH.getItem("preferences");r&&this.$patch(r)}catch(r){console.log(r)}},async saveToStorage(){try{await vH.setItem("preferences",this.allData)}catch(r){console.log(r)}},loadFromData(r){try{this.$patch(r),this.sent=!0,this.saveToStorage()}catch(i){console.log(i)}},async update(){const r=Bd();bi(),await this.saveToStorage(),await r.setChange(new Ca({type:Ca.TYPE_PREFERENCES,action:Ca.ACTION_SAVE,key:"preferences"}))},async getChangedData(r=0){const i=bi(),u=Bd(),m=[];for(const b of u.getChangesFor(Ca.TYPE_PREFERENCES,r))m.push(i.getChangeDataToSend(b,this.allData));return m},zoomInstructionsIn(){this.instructions_zoom=this.instructions_zoom*1.1,this.update()},zoomInstructionsOut(){this.instructions_zoom=this.instructions_zoom*.9,this.update()},zoomEditorIn(){this.editor_zoom=this.editor_zoom*1.1,this.update()},zoomEditorOut(){this.editor_zoom=this.editor_zoom*.9,this.update()},toggleWordCountEnabled(){this.word_count_enabled=!this.word_count_enabled,this.update()},toggleWordCountCharacters(){this.word_count_characters=!this.word_count_characters,this.update()}}}),gi=class gi{constructor(i={}){Sr(this,"key","");Sr(this,"title","");Sr(this,"type",null);Sr(this,"embedded",!0);Sr(this,"source","");Sr(this,"url","");Sr(this,"mimetype","");Sr(this,"size",null);this.setData(i)}setData(i){i.key!==void 0&&i.key!==null&&(this.key=i.key.toString()),i.title!==void 0&&i.title!==null&&(this.title=i.title.toString()),i.type!==void 0&&gi.ALLOWED_TYPES.includes(i.type)&&(this.type=i.type.toString()),i.embedded!==void 0&&i.embedded!==null&&(this.embedded=!!i.embedded),i.source!==void 0&&i.source!==null&&(this.source=i.source.toString(),this.type==gi.TYPE_URL&&(this.url=this.source)),i.url!==void 0&&i.url!==null&&(this.url=i.url.toString()),i.mimetype!==void 0&&i.mimetype!==null&&(this.mimetype=i.mimetype),i.size!==void 0&&i.size!==null&&(this.size=parseInt(i.size))}getData(){return{key:this.key,title:this.title,type:this.type,embedded:this.embedded,url:this.url,mimetype:this.mimetype,size:this.size}}isPdf(){return[gi.TYPE_FILE,gi.TYPE_SOLUTION,gi.TYPE_INSTRUCTION].includes(this.type)}isExternalUrl(){return this.type==gi.TYPE_URL&&!this.embedded}isEmbeddedUrl(){return this.type==gi.TYPE_URL&&this.embedded}isEmbeddedSelectable(){return this.type==gi.TYPE_FILE||this.type==gi.TYPE_URL&&this.embedded}hasFileToLoad(){return[gi.TYPE_FILE,gi.TYPE_SOLUTION,gi.TYPE_INSTRUCTION].includes(this.type)}getKey(){return this.key}getSignature(){return JSON.stringify(this.getData())}getClone(){return new gi(this.getData())}};Sr(gi,"TYPE_FILE","file"),Sr(gi,"TYPE_URL","url"),Sr(gi,"TYPE_INSTRUCTION","instruct"),Sr(gi,"TYPE_SOLUTION","solution"),Sr(gi,"ALLOWED_TYPES",[gi.TYPE_FILE,gi.TYPE_URL,gi.TYPE_INSTRUCTION,gi.TYPE_SOLUTION]);let fu=gi;const U0=Kp.createInstance({storeName:"writer-resources",description:"Resource data"}),Uf=dg("resources",{state:()=>({keys:[],resources:[],activeKey:""}),getters:{hasResources:r=>r.resources.length>0,hasInstruction(r){return!!r.resources.find(u=>u.type==fu.TYPE_INSTRUCTION)},getInstruction(r){return r.resources.find(i=>i.type==fu.TYPE_INSTRUCTION)},hasAnnotatableResource(r){return!!r.resources.find(u=>u.type==fu.TYPE_INSTRUCTION||u.type==fu.TYPE_FILE)},hasEmbeddedFileOrUrlResources(r){return!!r.resources.find(u=>(u.type==fu.TYPE_FILE||u.type==fu.TYPE_URL)&&u.embedded==!0)},getFileOrUrlResources(r){return r.resources.filter(i=>i.type==fu.TYPE_FILE||i.type==fu.TYPE_URL)},activeTitle(r){const i=r.resources.find(u=>u.key==r.activeKey);return i?i.title:""},getResource(r){return i=>r.resources.find(u=>u.key==i)},isActive(r){return i=>r.activeKey==i.key}},actions:{async clearStorage(){try{await U0.clear()}catch(r){console.log(r)}},async loadFromStorage(){try{const r=await U0.getItem("resourceKeys");r&&(this.keys=JSON.parse(r)),this.activeKey=await U0.getItem("activeKey")??[],this.resources=[];for(const i of this.keys){const u=await U0.getItem(i);if(u){const m=JSON.parse(u);if(typeof m=="object"&&m!==null){const b=new fu(m);this.resources.push(b)}}}await this.loadFiles()}catch(r){console.log(r)}},async loadFromData(r){const i=bi();try{await U0.clear(),this.$reset();for(const u of r){const m=new fu(u);m.type!=fu.TYPE_URL&&(m.url=i.getResourceUrl(m.key)),this.resources.push(m),this.activeKey==""&&m.isEmbeddedSelectable()&&(this.activeKey=m.key),this.keys.push(m.getKey()),await U0.setItem(m.getKey(),JSON.stringify(m.getData()))}await U0.setItem("keys",JSON.stringify(this.keys)),await U0.setItem("activeKey",this.activeKey),this.loadFiles()}catch(u){console.log(u)}},async selectResource(r){this.activeKey=r.key,await U0.setItem("activeKey",this.activeKey)},async loadFiles(){for(const r of this.keys){let i=this.getResource(r),u=null;if(i.hasFileToLoad())try{console.log("preload "+i.title+"..."),u=await Ba(i.url,{responseType:"blob",timeout:6e4}),console.log("finished. ")}catch(m){console.error(m)}}}}});var q0;let ig=(q0=class{constructor(i={}){Sr(this,"resource_key","");Sr(this,"mark_key","");Sr(this,"mark_value",null);Sr(this,"parent_number",0);Sr(this,"start_position",0);Sr(this,"end_position",0);Sr(this,"comment",null);Sr(this,"label","");this.setData(i)}static buildKey(i,u){return"ANNO_"+i+"_"+u}static getFromKey(i){const u=i.split("_");return new q0({resource_key:u[1],mark_key:u[2]})}static compare(i,u){return i.resource_key<u.resource_key?-1:i.resource_key>u.resource_key?1:i.parent_number<u.parent_number?-1:i.parent_number>u.parent_number?1:i.start_position<u.start_position?-1:i.start_position>u.start_position?1:0}setData(i){i.resource_key!==void 0&&i.resource_key!==null&&(this.resource_key=i.resource_key.toString()),i.mark_key!==void 0&&i.mark_key!==null?this.mark_key=i.mark_key:this.mark_key=Math.random().toString(),i.mark_value!==void 0&&i.mark_value!==null&&(this.mark_value=i.mark_value),i.parent_number!==void 0&&i.parent_number!==null&&(this.parent_number=i.parent_number),i.start_position!==void 0&&i.start_position!==null&&(this.start_position=i.start_position),i.end_position!==void 0&&i.end_position!==null&&(this.end_position=i.end_position),i.comment!==void 0&&i.comment!==null&&(this.comment=i.comment)}getData(){return{resource_key:this.resource_key,mark_key:this.mark_key,mark_value:this.mark_value,parent_number:this.parent_number,start_position:this.start_position,end_position:this.end_position,comment:this.comment}}getKey(){return q0.buildKey(this.resource_key,this.mark_key)}getSignature(){return JSON.stringify(this.getData())}getClone(){return new q0(this.getData())}},Sr(q0,"KEY_INSTRUCTIONS","0"),q0);const yH=Kp.createInstance({storeName:"writer-layout",description:"Layout data"}),Ll=dg("layout",{state:()=>({expandedColumn:"none",leftContent:"instructions",rightContent:"essay",showTimer:!1,showHelp:!1,showSendingStatus:!1,focusTarget:"",focusChange:0}),getters:{isLeftExpanded:r=>r.expandedColumn=="left",isRightExpanded:r=>r.expandedColumn=="right",isLeftVisible:r=>r.expandedColumn!="right",isRightVisible:r=>r.expandedColumn!="left",isInstructionsSelected:r=>r.leftContent=="instructions",isInstructionsPdfSelected:r=>r.leftContent=="instructionsPdf",isResourcesSelected:r=>r.leftContent=="resources",isAnnotationsSelected:r=>r.rightContent=="annotations",isEssaySelected:r=>r.rightContent=="essay",isNotesSelected:r=>r.rightContent=="notes",isInstructionsVisible:r=>r.expandedColumn!="right"&&r.leftContent=="instructions",isInstructionsPdfVisible:r=>r.isInstructionsPdfSelected&&r.isLeftVisible,isResourcesVisible:r=>r.expandedColumn!="right"&&r.leftContent=="resources",isAnnotationsVisible:r=>r.expandedColumn!="left"&&r.rightContent=="annotations",isEssayVisible:r=>r.expandedColumn!="left"&&r.rightContent=="essay",isNotesVisible:r=>r.expandedColumn!="left"&&r.rightContent=="notes",isResourceShown:r=>{const i=Uf();return function(m){return r.isInstructionsPdfVisible&&m.type==fu.TYPE_INSTRUCTION||r.isResourcesVisible&&i.isActive(m)}},shownResourceKey:r=>{const i=Uf();if(r.isInstructionsVisible)return ig.KEY_INSTRUCTIONS;if(r.isInstructionsPdfVisible){const u=i.getInstruction;if(u)return u.key}else if(r.isResourcesVisible)return i.activeKey;return null}},actions:{async initialize(){await this.clearStorage();const r=Uf(),i=Md();this.leftContent=i.hasInstructions?"instructions":r.hasInstruction?"instructionsPdf":r.hasEmbeddedFileOrUrlResources?"resources":"",this.leftContent||(this.expandedColumn="right")},async clearStorage(){try{await yH.clear()}catch(r){console.log(r)}},async loadFromStorage(){try{const r=await yH.getItem("layout");r&&(this.expandedColumn=r.expandedColumn,this.showTimer=r.showTimer)}catch(r){console.log(r)}},async saveToStorage(){try{await yH.setItem("layout",{expandedColumn:this.expandedColumn,showTimer:this.showTimer})}catch(r){console.log(r)}},showInstructions(){this.leftContent="instructions",this.setLeftVisible(),this.saveToStorage()},showInstructionsPdf(){this.leftContent="instructionsPdf",this.setLeftVisible(),this.saveToStorage()},showResources(){this.leftContent="resources",this.setLeftVisible(),this.saveToStorage()},showForResourceKey(r){const i=Uf(),u=i.getResource(r);u&&(u.type==fu.TYPE_INSTRUCTION?this.showInstructionsPdf():(i.selectResource(u),this.showResources()))},showAnnotations(){this.rightContent="annotations",this.setRightVisible(),this.saveToStorage()},showEssay(){this.rightContent="essay",this.setRightVisible(),this.saveToStorage()},showNotes(){this.rightContent="notes",this.setRightVisible(),this.saveToStorage()},setLeftVisible(){this.isLeftVisible||(this.expandedColumn="left",this.saveToStorage()),this.setFocusChange("left")},setRightVisible(){this.isRightVisible||(this.expandedColumn="right",this.saveToStorage()),this.setFocusChange("right")},setLeftExpanded(r){this.expandedColumn=r?"left":"none",this.setFocusChange("left"),this.saveToStorage()},setRightExpanded(r){this.expandedColumn=r?"right":"none",this.setFocusChange("right"),this.saveToStorage()},setFocusChange(r){this.focusTarget=r,this.focusChange=Date.now()},toggleTimer(){this.showTimer=!this.showTimer,this.saveToStorage()},handleKeyDown(r){if(r.altKey)switch(r.key){case"0":this.setFocusChange("header");break;case"1":this.setLeftVisible();break;case"2":this.setRightVisible();break;case"#":this.setFocusChange("navigation");break}}}});var qG={exports:{}};(function(r){var i=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},u=-1,m=1,b=0;i.Diff=function(h,x){return[h,x]},i.prototype.diff_main=function(h,x,S,B){typeof B>"u"&&(this.Diff_Timeout<=0?B=Number.MAX_VALUE:B=new Date().getTime()+this.Diff_Timeout*1e3);var N=B;if(h==null||x==null)throw new Error("Null input. (diff_main)");if(h==x)return h?[new i.Diff(b,h)]:[];typeof S>"u"&&(S=!0);var R=S,F=this.diff_commonPrefix(h,x),W=h.substring(0,F);h=h.substring(F),x=x.substring(F),F=this.diff_commonSuffix(h,x);var $=h.substring(h.length-F);h=h.substring(0,h.length-F),x=x.substring(0,x.length-F);var K=this.diff_compute_(h,x,R,N);return W&&K.unshift(new i.Diff(b,W)),$&&K.push(new i.Diff(b,$)),this.diff_cleanupMerge(K),K},i.prototype.diff_compute_=function(h,x,S,B){var N;if(!h)return[new i.Diff(m,x)];if(!x)return[new i.Diff(u,h)];var R=h.length>x.length?h:x,F=h.length>x.length?x:h,W=R.indexOf(F);if(W!=-1)return N=[new i.Diff(m,R.substring(0,W)),new i.Diff(b,F),new i.Diff(m,R.substring(W+F.length))],h.length>x.length&&(N[0][0]=N[2][0]=u),N;if(F.length==1)return[new i.Diff(u,h),new i.Diff(m,x)];var $=this.diff_halfMatch_(h,x);if($){var K=$[0],ee=$[1],ge=$[2],he=$[3],Ue=$[4],Te=this.diff_main(K,ge,S,B),te=this.diff_main(ee,he,S,B);return Te.concat([new i.Diff(b,Ue)],te)}return S&&h.length>100&&x.length>100?this.diff_lineMode_(h,x,B):this.diff_bisect_(h,x,B)},i.prototype.diff_lineMode_=function(h,x,S){var B=this.diff_linesToChars_(h,x);h=B.chars1,x=B.chars2;var N=B.lineArray,R=this.diff_main(h,x,!1,S);this.diff_charsToLines_(R,N),this.diff_cleanupSemantic(R),R.push(new i.Diff(b,""));for(var F=0,W=0,$=0,K="",ee="";F<R.length;){switch(R[F][0]){case m:$++,ee+=R[F][1];break;case u:W++,K+=R[F][1];break;case b:if(W>=1&&$>=1){R.splice(F-W-$,W+$),F=F-W-$;for(var ge=this.diff_main(K,ee,!1,S),he=ge.length-1;he>=0;he--)R.splice(F,0,ge[he]);F=F+ge.length}$=0,W=0,K="",ee="";break}F++}return R.pop(),R},i.prototype.diff_bisect_=function(h,x,S){for(var B=h.length,N=x.length,R=Math.ceil((B+N)/2),F=R,W=2*R,$=new Array(W),K=new Array(W),ee=0;ee<W;ee++)$[ee]=-1,K[ee]=-1;$[F+1]=0,K[F+1]=0;for(var ge=B-N,he=ge%2!=0,Ue=0,Te=0,te=0,Ae=0,ne=0;ne<R&&!(new Date().getTime()>S);ne++){for(var Ge=-ne+Ue;Ge<=ne-Te;Ge+=2){var $e=F+Ge,Ze;Ge==-ne||Ge!=ne&&$[$e-1]<$[$e+1]?Ze=$[$e+1]:Ze=$[$e-1]+1;for(var ot=Ze-Ge;Ze<B&&ot<N&&h.charAt(Ze)==x.charAt(ot);)Ze++,ot++;if($[$e]=Ze,Ze>B)Te+=2;else if(ot>N)Ue+=2;else if(he){var Ce=F+ge-Ge;if(Ce>=0&&Ce<W&&K[Ce]!=-1){var Ne=B-K[Ce];if(Ze>=Ne)return this.diff_bisectSplit_(h,x,Ze,ot,S)}}}for(var D=-ne+te;D<=ne-Ae;D+=2){var Ce=F+D,Ne;D==-ne||D!=ne&&K[Ce-1]<K[Ce+1]?Ne=K[Ce+1]:Ne=K[Ce-1]+1;for(var yt=Ne-D;Ne<B&&yt<N&&h.charAt(B-Ne-1)==x.charAt(N-yt-1);)Ne++,yt++;if(K[Ce]=Ne,Ne>B)Ae+=2;else if(yt>N)te+=2;else if(!he){var $e=F+ge-D;if($e>=0&&$e<W&&$[$e]!=-1){var Ze=$[$e],ot=F+Ze-$e;if(Ne=B-Ne,Ze>=Ne)return this.diff_bisectSplit_(h,x,Ze,ot,S)}}}}return[new i.Diff(u,h),new i.Diff(m,x)]},i.prototype.diff_bisectSplit_=function(h,x,S,B,N){var R=h.substring(0,S),F=x.substring(0,B),W=h.substring(S),$=x.substring(B),K=this.diff_main(R,F,!1,N),ee=this.diff_main(W,$,!1,N);return K.concat(ee)},i.prototype.diff_linesToChars_=function(h,x){var S=[],B={};S[0]="";function N($){for(var K="",ee=0,ge=-1,he=S.length;ge<$.length-1;){ge=$.indexOf(`
`,ee),ge==-1&&(ge=$.length-1);var Ue=$.substring(ee,ge+1);(B.hasOwnProperty?B.hasOwnProperty(Ue):B[Ue]!==void 0)?K+=String.fromCharCode(B[Ue]):(he==R&&(Ue=$.substring(ee),ge=$.length),K+=String.fromCharCode(he),B[Ue]=he,S[he++]=Ue),ee=ge+1}return K}var R=4e4,F=N(h);R=65535;var W=N(x);return{chars1:F,chars2:W,lineArray:S}},i.prototype.diff_charsToLines_=function(h,x){for(var S=0;S<h.length;S++){for(var B=h[S][1],N=[],R=0;R<B.length;R++)N[R]=x[B.charCodeAt(R)];h[S][1]=N.join("")}},i.prototype.diff_commonPrefix=function(h,x){if(!h||!x||h.charAt(0)!=x.charAt(0))return 0;for(var S=0,B=Math.min(h.length,x.length),N=B,R=0;S<N;)h.substring(R,N)==x.substring(R,N)?(S=N,R=S):B=N,N=Math.floor((B-S)/2+S);return N},i.prototype.diff_commonSuffix=function(h,x){if(!h||!x||h.charAt(h.length-1)!=x.charAt(x.length-1))return 0;for(var S=0,B=Math.min(h.length,x.length),N=B,R=0;S<N;)h.substring(h.length-N,h.length-R)==x.substring(x.length-N,x.length-R)?(S=N,R=S):B=N,N=Math.floor((B-S)/2+S);return N},i.prototype.diff_commonOverlap_=function(h,x){var S=h.length,B=x.length;if(S==0||B==0)return 0;S>B?h=h.substring(S-B):S<B&&(x=x.substring(0,S));var N=Math.min(S,B);if(h==x)return N;for(var R=0,F=1;;){var W=h.substring(N-F),$=x.indexOf(W);if($==-1)return R;F+=$,($==0||h.substring(N-F)==x.substring(0,F))&&(R=F,F++)}},i.prototype.diff_halfMatch_=function(h,x){if(this.Diff_Timeout<=0)return null;var S=h.length>x.length?h:x,B=h.length>x.length?x:h;if(S.length<4||B.length*2<S.length)return null;var N=this;function R(Te,te,Ae){for(var ne=Te.substring(Ae,Ae+Math.floor(Te.length/4)),Ge=-1,$e="",Ze,ot,Ce,Ne;(Ge=te.indexOf(ne,Ge+1))!=-1;){var D=N.diff_commonPrefix(Te.substring(Ae),te.substring(Ge)),yt=N.diff_commonSuffix(Te.substring(0,Ae),te.substring(0,Ge));$e.length<yt+D&&($e=te.substring(Ge-yt,Ge)+te.substring(Ge,Ge+D),Ze=Te.substring(0,Ae-yt),ot=Te.substring(Ae+D),Ce=te.substring(0,Ge-yt),Ne=te.substring(Ge+D))}return $e.length*2>=Te.length?[Ze,ot,Ce,Ne,$e]:null}var F=R(S,B,Math.ceil(S.length/4)),W=R(S,B,Math.ceil(S.length/2)),$;if(!F&&!W)return null;W?F?$=F[4].length>W[4].length?F:W:$=W:$=F;var K,ee,ge,he;h.length>x.length?(K=$[0],ee=$[1],ge=$[2],he=$[3]):(ge=$[0],he=$[1],K=$[2],ee=$[3]);var Ue=$[4];return[K,ee,ge,he,Ue]},i.prototype.diff_cleanupSemantic=function(h){for(var x=!1,S=[],B=0,N=null,R=0,F=0,W=0,$=0,K=0;R<h.length;)h[R][0]==b?(S[B++]=R,F=$,W=K,$=0,K=0,N=h[R][1]):(h[R][0]==m?$+=h[R][1].length:K+=h[R][1].length,N&&N.length<=Math.max(F,W)&&N.length<=Math.max($,K)&&(h.splice(S[B-1],0,new i.Diff(u,N)),h[S[B-1]+1][0]=m,B--,B--,R=B>0?S[B-1]:-1,F=0,W=0,$=0,K=0,N=null,x=!0)),R++;for(x&&this.diff_cleanupMerge(h),this.diff_cleanupSemanticLossless(h),R=1;R<h.length;){if(h[R-1][0]==u&&h[R][0]==m){var ee=h[R-1][1],ge=h[R][1],he=this.diff_commonOverlap_(ee,ge),Ue=this.diff_commonOverlap_(ge,ee);he>=Ue?(he>=ee.length/2||he>=ge.length/2)&&(h.splice(R,0,new i.Diff(b,ge.substring(0,he))),h[R-1][1]=ee.substring(0,ee.length-he),h[R+1][1]=ge.substring(he),R++):(Ue>=ee.length/2||Ue>=ge.length/2)&&(h.splice(R,0,new i.Diff(b,ee.substring(0,Ue))),h[R-1][0]=m,h[R-1][1]=ge.substring(0,ge.length-Ue),h[R+1][0]=u,h[R+1][1]=ee.substring(Ue),R++),R++}R++}},i.prototype.diff_cleanupSemanticLossless=function(h){function x(Ue,Te){if(!Ue||!Te)return 6;var te=Ue.charAt(Ue.length-1),Ae=Te.charAt(0),ne=te.match(i.nonAlphaNumericRegex_),Ge=Ae.match(i.nonAlphaNumericRegex_),$e=ne&&te.match(i.whitespaceRegex_),Ze=Ge&&Ae.match(i.whitespaceRegex_),ot=$e&&te.match(i.linebreakRegex_),Ce=Ze&&Ae.match(i.linebreakRegex_),Ne=ot&&Ue.match(i.blanklineEndRegex_),D=Ce&&Te.match(i.blanklineStartRegex_);return Ne||D?5:ot||Ce?4:ne&&!$e&&Ze?3:$e||Ze?2:ne||Ge?1:0}for(var S=1;S<h.length-1;){if(h[S-1][0]==b&&h[S+1][0]==b){var B=h[S-1][1],N=h[S][1],R=h[S+1][1],F=this.diff_commonSuffix(B,N);if(F){var W=N.substring(N.length-F);B=B.substring(0,B.length-F),N=W+N.substring(0,N.length-F),R=W+R}for(var $=B,K=N,ee=R,ge=x(B,N)+x(N,R);N.charAt(0)===R.charAt(0);){B+=N.charAt(0),N=N.substring(1)+R.charAt(0),R=R.substring(1);var he=x(B,N)+x(N,R);he>=ge&&(ge=he,$=B,K=N,ee=R)}h[S-1][1]!=$&&($?h[S-1][1]=$:(h.splice(S-1,1),S--),h[S][1]=K,ee?h[S+1][1]=ee:(h.splice(S+1,1),S--))}S++}},i.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,i.whitespaceRegex_=/\s/,i.linebreakRegex_=/[\r\n]/,i.blanklineEndRegex_=/\n\r?\n$/,i.blanklineStartRegex_=/^\r?\n\r?\n/,i.prototype.diff_cleanupEfficiency=function(h){for(var x=!1,S=[],B=0,N=null,R=0,F=!1,W=!1,$=!1,K=!1;R<h.length;)h[R][0]==b?(h[R][1].length<this.Diff_EditCost&&($||K)?(S[B++]=R,F=$,W=K,N=h[R][1]):(B=0,N=null),$=K=!1):(h[R][0]==u?K=!0:$=!0,N&&(F&&W&&$&&K||N.length<this.Diff_EditCost/2&&F+W+$+K==3)&&(h.splice(S[B-1],0,new i.Diff(u,N)),h[S[B-1]+1][0]=m,B--,N=null,F&&W?($=K=!0,B=0):(B--,R=B>0?S[B-1]:-1,$=K=!1),x=!0)),R++;x&&this.diff_cleanupMerge(h)},i.prototype.diff_cleanupMerge=function(h){h.push(new i.Diff(b,""));for(var x=0,S=0,B=0,N="",R="",F;x<h.length;)switch(h[x][0]){case m:B++,R+=h[x][1],x++;break;case u:S++,N+=h[x][1],x++;break;case b:S+B>1?(S!==0&&B!==0&&(F=this.diff_commonPrefix(R,N),F!==0&&(x-S-B>0&&h[x-S-B-1][0]==b?h[x-S-B-1][1]+=R.substring(0,F):(h.splice(0,0,new i.Diff(b,R.substring(0,F))),x++),R=R.substring(F),N=N.substring(F)),F=this.diff_commonSuffix(R,N),F!==0&&(h[x][1]=R.substring(R.length-F)+h[x][1],R=R.substring(0,R.length-F),N=N.substring(0,N.length-F))),x-=S+B,h.splice(x,S+B),N.length&&(h.splice(x,0,new i.Diff(u,N)),x++),R.length&&(h.splice(x,0,new i.Diff(m,R)),x++),x++):x!==0&&h[x-1][0]==b?(h[x-1][1]+=h[x][1],h.splice(x,1)):x++,B=0,S=0,N="",R="";break}h[h.length-1][1]===""&&h.pop();var W=!1;for(x=1;x<h.length-1;)h[x-1][0]==b&&h[x+1][0]==b&&(h[x][1].substring(h[x][1].length-h[x-1][1].length)==h[x-1][1]?(h[x][1]=h[x-1][1]+h[x][1].substring(0,h[x][1].length-h[x-1][1].length),h[x+1][1]=h[x-1][1]+h[x+1][1],h.splice(x-1,1),W=!0):h[x][1].substring(0,h[x+1][1].length)==h[x+1][1]&&(h[x-1][1]+=h[x+1][1],h[x][1]=h[x][1].substring(h[x+1][1].length)+h[x+1][1],h.splice(x+1,1),W=!0)),x++;W&&this.diff_cleanupMerge(h)},i.prototype.diff_xIndex=function(h,x){var S=0,B=0,N=0,R=0,F;for(F=0;F<h.length&&(h[F][0]!==m&&(S+=h[F][1].length),h[F][0]!==u&&(B+=h[F][1].length),!(S>x));F++)N=S,R=B;return h.length!=F&&h[F][0]===u?R:R+(x-N)},i.prototype.diff_prettyHtml=function(h){for(var x=[],S=/&/g,B=/</g,N=/>/g,R=/\n/g,F=0;F<h.length;F++){var W=h[F][0],$=h[F][1],K=$.replace(S,"&amp;").replace(B,"&lt;").replace(N,"&gt;").replace(R,"&para;<br>");switch(W){case m:x[F]='<ins style="background:#e6ffe6;">'+K+"</ins>";break;case u:x[F]='<del style="background:#ffe6e6;">'+K+"</del>";break;case b:x[F]="<span>"+K+"</span>";break}}return x.join("")},i.prototype.diff_text1=function(h){for(var x=[],S=0;S<h.length;S++)h[S][0]!==m&&(x[S]=h[S][1]);return x.join("")},i.prototype.diff_text2=function(h){for(var x=[],S=0;S<h.length;S++)h[S][0]!==u&&(x[S]=h[S][1]);return x.join("")},i.prototype.diff_levenshtein=function(h){for(var x=0,S=0,B=0,N=0;N<h.length;N++){var R=h[N][0],F=h[N][1];switch(R){case m:S+=F.length;break;case u:B+=F.length;break;case b:x+=Math.max(S,B),S=0,B=0;break}}return x+=Math.max(S,B),x},i.prototype.diff_toDelta=function(h){for(var x=[],S=0;S<h.length;S++)switch(h[S][0]){case m:x[S]="+"+encodeURI(h[S][1]);break;case u:x[S]="-"+h[S][1].length;break;case b:x[S]="="+h[S][1].length;break}return x.join("	").replace(/%20/g," ")},i.prototype.diff_fromDelta=function(h,x){for(var S=[],B=0,N=0,R=x.split(/\t/g),F=0;F<R.length;F++){var W=R[F].substring(1);switch(R[F].charAt(0)){case"+":try{S[B++]=new i.Diff(m,decodeURI(W))}catch{throw new Error("Illegal escape in diff_fromDelta: "+W)}break;case"-":case"=":var $=parseInt(W,10);if(isNaN($)||$<0)throw new Error("Invalid number in diff_fromDelta: "+W);var K=h.substring(N,N+=$);R[F].charAt(0)=="="?S[B++]=new i.Diff(b,K):S[B++]=new i.Diff(u,K);break;default:if(R[F])throw new Error("Invalid diff operation in diff_fromDelta: "+R[F])}}if(N!=h.length)throw new Error("Delta length ("+N+") does not equal source text length ("+h.length+").");return S},i.prototype.match_main=function(h,x,S){if(h==null||x==null||S==null)throw new Error("Null input. (match_main)");return S=Math.max(0,Math.min(S,h.length)),h==x?0:h.length?h.substring(S,S+x.length)==x?S:this.match_bitap_(h,x,S):-1},i.prototype.match_bitap_=function(h,x,S){if(x.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var B=this.match_alphabet_(x),N=this;function R(Ze,ot){var Ce=Ze/x.length,Ne=Math.abs(S-ot);return N.Match_Distance?Ce+Ne/N.Match_Distance:Ne?1:Ce}var F=this.Match_Threshold,W=h.indexOf(x,S);W!=-1&&(F=Math.min(R(0,W),F),W=h.lastIndexOf(x,S+x.length),W!=-1&&(F=Math.min(R(0,W),F)));var $=1<<x.length-1;W=-1;for(var K,ee,ge=x.length+h.length,he,Ue=0;Ue<x.length;Ue++){for(K=0,ee=ge;K<ee;)R(Ue,S+ee)<=F?K=ee:ge=ee,ee=Math.floor((ge-K)/2+K);ge=ee;var Te=Math.max(1,S-ee+1),te=Math.min(S+ee,h.length)+x.length,Ae=Array(te+2);Ae[te+1]=(1<<Ue)-1;for(var ne=te;ne>=Te;ne--){var Ge=B[h.charAt(ne-1)];if(Ue===0?Ae[ne]=(Ae[ne+1]<<1|1)&Ge:Ae[ne]=(Ae[ne+1]<<1|1)&Ge|((he[ne+1]|he[ne])<<1|1)|he[ne+1],Ae[ne]&$){var $e=R(Ue,ne-1);if($e<=F)if(F=$e,W=ne-1,W>S)Te=Math.max(1,2*S-W);else break}}if(R(Ue+1,S)>F)break;he=Ae}return W},i.prototype.match_alphabet_=function(h){for(var x={},S=0;S<h.length;S++)x[h.charAt(S)]=0;for(var S=0;S<h.length;S++)x[h.charAt(S)]|=1<<h.length-S-1;return x},i.prototype.patch_addContext_=function(h,x){if(x.length!=0){if(h.start2===null)throw Error("patch not initialized");for(var S=x.substring(h.start2,h.start2+h.length1),B=0;x.indexOf(S)!=x.lastIndexOf(S)&&S.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)B+=this.Patch_Margin,S=x.substring(h.start2-B,h.start2+h.length1+B);B+=this.Patch_Margin;var N=x.substring(h.start2-B,h.start2);N&&h.diffs.unshift(new i.Diff(b,N));var R=x.substring(h.start2+h.length1,h.start2+h.length1+B);R&&h.diffs.push(new i.Diff(b,R)),h.start1-=N.length,h.start2-=N.length,h.length1+=N.length+R.length,h.length2+=N.length+R.length}},i.prototype.patch_make=function(h,x,S){var B,N;if(typeof h=="string"&&typeof x=="string"&&typeof S>"u")B=h,N=this.diff_main(B,x,!0),N.length>2&&(this.diff_cleanupSemantic(N),this.diff_cleanupEfficiency(N));else if(h&&typeof h=="object"&&typeof x>"u"&&typeof S>"u")N=h,B=this.diff_text1(N);else if(typeof h=="string"&&x&&typeof x=="object"&&typeof S>"u")B=h,N=x;else if(typeof h=="string"&&typeof x=="string"&&S&&typeof S=="object")B=h,N=S;else throw new Error("Unknown call format to patch_make.");if(N.length===0)return[];for(var R=[],F=new i.patch_obj,W=0,$=0,K=0,ee=B,ge=B,he=0;he<N.length;he++){var Ue=N[he][0],Te=N[he][1];switch(!W&&Ue!==b&&(F.start1=$,F.start2=K),Ue){case m:F.diffs[W++]=N[he],F.length2+=Te.length,ge=ge.substring(0,K)+Te+ge.substring(K);break;case u:F.length1+=Te.length,F.diffs[W++]=N[he],ge=ge.substring(0,K)+ge.substring(K+Te.length);break;case b:Te.length<=2*this.Patch_Margin&&W&&N.length!=he+1?(F.diffs[W++]=N[he],F.length1+=Te.length,F.length2+=Te.length):Te.length>=2*this.Patch_Margin&&W&&(this.patch_addContext_(F,ee),R.push(F),F=new i.patch_obj,W=0,ee=ge,$=K);break}Ue!==m&&($+=Te.length),Ue!==u&&(K+=Te.length)}return W&&(this.patch_addContext_(F,ee),R.push(F)),R},i.prototype.patch_deepCopy=function(h){for(var x=[],S=0;S<h.length;S++){var B=h[S],N=new i.patch_obj;N.diffs=[];for(var R=0;R<B.diffs.length;R++)N.diffs[R]=new i.Diff(B.diffs[R][0],B.diffs[R][1]);N.start1=B.start1,N.start2=B.start2,N.length1=B.length1,N.length2=B.length2,x[S]=N}return x},i.prototype.patch_apply=function(h,x){if(h.length==0)return[x,[]];h=this.patch_deepCopy(h);var S=this.patch_addPadding(h);x=S+x+S,this.patch_splitMax(h);for(var B=0,N=[],R=0;R<h.length;R++){var F=h[R].start2+B,W=this.diff_text1(h[R].diffs),$,K=-1;if(W.length>this.Match_MaxBits?($=this.match_main(x,W.substring(0,this.Match_MaxBits),F),$!=-1&&(K=this.match_main(x,W.substring(W.length-this.Match_MaxBits),F+W.length-this.Match_MaxBits),(K==-1||$>=K)&&($=-1))):$=this.match_main(x,W,F),$==-1)N[R]=!1,B-=h[R].length2-h[R].length1;else{N[R]=!0,B=$-F;var ee;if(K==-1?ee=x.substring($,$+W.length):ee=x.substring($,K+this.Match_MaxBits),W==ee)x=x.substring(0,$)+this.diff_text2(h[R].diffs)+x.substring($+W.length);else{var ge=this.diff_main(W,ee,!1);if(W.length>this.Match_MaxBits&&this.diff_levenshtein(ge)/W.length>this.Patch_DeleteThreshold)N[R]=!1;else{this.diff_cleanupSemanticLossless(ge);for(var he=0,Ue,Te=0;Te<h[R].diffs.length;Te++){var te=h[R].diffs[Te];te[0]!==b&&(Ue=this.diff_xIndex(ge,he)),te[0]===m?x=x.substring(0,$+Ue)+te[1]+x.substring($+Ue):te[0]===u&&(x=x.substring(0,$+Ue)+x.substring($+this.diff_xIndex(ge,he+te[1].length))),te[0]!==u&&(he+=te[1].length)}}}}}return x=x.substring(S.length,x.length-S.length),[x,N]},i.prototype.patch_addPadding=function(h){for(var x=this.Patch_Margin,S="",B=1;B<=x;B++)S+=String.fromCharCode(B);for(var B=0;B<h.length;B++)h[B].start1+=x,h[B].start2+=x;var N=h[0],R=N.diffs;if(R.length==0||R[0][0]!=b)R.unshift(new i.Diff(b,S)),N.start1-=x,N.start2-=x,N.length1+=x,N.length2+=x;else if(x>R[0][1].length){var F=x-R[0][1].length;R[0][1]=S.substring(R[0][1].length)+R[0][1],N.start1-=F,N.start2-=F,N.length1+=F,N.length2+=F}if(N=h[h.length-1],R=N.diffs,R.length==0||R[R.length-1][0]!=b)R.push(new i.Diff(b,S)),N.length1+=x,N.length2+=x;else if(x>R[R.length-1][1].length){var F=x-R[R.length-1][1].length;R[R.length-1][1]+=S.substring(0,F),N.length1+=F,N.length2+=F}return S},i.prototype.patch_splitMax=function(h){for(var x=this.Match_MaxBits,S=0;S<h.length;S++)if(!(h[S].length1<=x)){var B=h[S];h.splice(S--,1);for(var N=B.start1,R=B.start2,F="";B.diffs.length!==0;){var W=new i.patch_obj,$=!0;for(W.start1=N-F.length,W.start2=R-F.length,F!==""&&(W.length1=W.length2=F.length,W.diffs.push(new i.Diff(b,F)));B.diffs.length!==0&&W.length1<x-this.Patch_Margin;){var K=B.diffs[0][0],ee=B.diffs[0][1];K===m?(W.length2+=ee.length,R+=ee.length,W.diffs.push(B.diffs.shift()),$=!1):K===u&&W.diffs.length==1&&W.diffs[0][0]==b&&ee.length>2*x?(W.length1+=ee.length,N+=ee.length,$=!1,W.diffs.push(new i.Diff(K,ee)),B.diffs.shift()):(ee=ee.substring(0,x-W.length1-this.Patch_Margin),W.length1+=ee.length,N+=ee.length,K===b?(W.length2+=ee.length,R+=ee.length):$=!1,W.diffs.push(new i.Diff(K,ee)),ee==B.diffs[0][1]?B.diffs.shift():B.diffs[0][1]=B.diffs[0][1].substring(ee.length))}F=this.diff_text2(W.diffs),F=F.substring(F.length-this.Patch_Margin);var ge=this.diff_text1(B.diffs).substring(0,this.Patch_Margin);ge!==""&&(W.length1+=ge.length,W.length2+=ge.length,W.diffs.length!==0&&W.diffs[W.diffs.length-1][0]===b?W.diffs[W.diffs.length-1][1]+=ge:W.diffs.push(new i.Diff(b,ge))),$||h.splice(++S,0,W)}}},i.prototype.patch_toText=function(h){for(var x=[],S=0;S<h.length;S++)x[S]=h[S];return x.join("")},i.prototype.patch_fromText=function(h){var x=[];if(!h)return x;for(var S=h.split(`
`),B=0,N=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;B<S.length;){var R=S[B].match(N);if(!R)throw new Error("Invalid patch string: "+S[B]);var F=new i.patch_obj;for(x.push(F),F.start1=parseInt(R[1],10),R[2]===""?(F.start1--,F.length1=1):R[2]=="0"?F.length1=0:(F.start1--,F.length1=parseInt(R[2],10)),F.start2=parseInt(R[3],10),R[4]===""?(F.start2--,F.length2=1):R[4]=="0"?F.length2=0:(F.start2--,F.length2=parseInt(R[4],10)),B++;B<S.length;){var W=S[B].charAt(0);try{var $=decodeURI(S[B].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+$)}if(W=="-")F.diffs.push(new i.Diff(u,$));else if(W=="+")F.diffs.push(new i.Diff(m,$));else if(W==" ")F.diffs.push(new i.Diff(b,$));else{if(W=="@")break;if(W!=="")throw new Error('Invalid patch mode "'+W+'" in: '+$)}B++}}return x},i.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},i.patch_obj.prototype.toString=function(){var h,x;this.length1===0?h=this.start1+",0":this.length1==1?h=this.start1+1:h=this.start1+1+","+this.length1,this.length2===0?x=this.start2+",0":this.length2==1?x=this.start2+1:x=this.start2+1+","+this.length2;for(var S=["@@ -"+h+" +"+x+` @@
`],B,N=0;N<this.diffs.length;N++){switch(this.diffs[N][0]){case m:B="+";break;case u:B="-";break;case b:B=" ";break}S[N+1]=B+encodeURI(this.diffs[N][1])+`
`}return S.join("").replace(/%20/g," ")},r.exports=i,r.exports.diff_match_patch=i,r.exports.DIFF_DELETE=u,r.exports.DIFF_INSERT=m,r.exports.DIFF_EQUAL=b})(qG);var Efe=qG.exports;const Afe=kM(Efe);var GG={exports:{}},YG={exports:{}};(function(){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={rotl:function(u,m){return u<<m|u>>>32-m},rotr:function(u,m){return u<<32-m|u>>>m},endian:function(u){if(u.constructor==Number)return i.rotl(u,8)&16711935|i.rotl(u,24)&4278255360;for(var m=0;m<u.length;m++)u[m]=i.endian(u[m]);return u},randomBytes:function(u){for(var m=[];u>0;u--)m.push(Math.floor(Math.random()*256));return m},bytesToWords:function(u){for(var m=[],b=0,h=0;b<u.length;b++,h+=8)m[h>>>5]|=u[b]<<24-h%32;return m},wordsToBytes:function(u){for(var m=[],b=0;b<u.length*32;b+=8)m.push(u[b>>>5]>>>24-b%32&255);return m},bytesToHex:function(u){for(var m=[],b=0;b<u.length;b++)m.push((u[b]>>>4).toString(16)),m.push((u[b]&15).toString(16));return m.join("")},hexToBytes:function(u){for(var m=[],b=0;b<u.length;b+=2)m.push(parseInt(u.substr(b,2),16));return m},bytesToBase64:function(u){for(var m=[],b=0;b<u.length;b+=3)for(var h=u[b]<<16|u[b+1]<<8|u[b+2],x=0;x<4;x++)b*8+x*6<=u.length*8?m.push(r.charAt(h>>>6*(3-x)&63)):m.push("=");return m.join("")},base64ToBytes:function(u){u=u.replace(/[^A-Z0-9+\/]/ig,"");for(var m=[],b=0,h=0;b<u.length;h=++b%4)h!=0&&m.push((r.indexOf(u.charAt(b-1))&Math.pow(2,-2*h+8)-1)<<h*2|r.indexOf(u.charAt(b))>>>6-h*2);return m}};YG.exports=i})();var Tfe=YG.exports,sV={utf8:{stringToBytes:function(r){return sV.bin.stringToBytes(unescape(encodeURIComponent(r)))},bytesToString:function(r){return decodeURIComponent(escape(sV.bin.bytesToString(r)))}},bin:{stringToBytes:function(r){for(var i=[],u=0;u<r.length;u++)i.push(r.charCodeAt(u)&255);return i},bytesToString:function(r){for(var i=[],u=0;u<r.length;u++)i.push(String.fromCharCode(r[u]));return i.join("")}}},Xj=sV;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Ofe=function(r){return r!=null&&(XG(r)||Dfe(r)||!!r._isBuffer)};function XG(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function Dfe(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&XG(r.slice(0,0))}(function(){var r=Tfe,i=Xj.utf8,u=Ofe,m=Xj.bin,b=function(h,x){h.constructor==String?x&&x.encoding==="binary"?h=m.stringToBytes(h):h=i.stringToBytes(h):u(h)?h=Array.prototype.slice.call(h,0):!Array.isArray(h)&&h.constructor!==Uint8Array&&(h=h.toString());for(var S=r.bytesToWords(h),B=h.length*8,N=1732584193,R=-271733879,F=-1732584194,W=271733878,$=0;$<S.length;$++)S[$]=(S[$]<<8|S[$]>>>24)&16711935|(S[$]<<24|S[$]>>>8)&4278255360;S[B>>>5]|=128<<B%32,S[(B+64>>>9<<4)+14]=B;for(var K=b._ff,ee=b._gg,ge=b._hh,he=b._ii,$=0;$<S.length;$+=16){var Ue=N,Te=R,te=F,Ae=W;N=K(N,R,F,W,S[$+0],7,-680876936),W=K(W,N,R,F,S[$+1],12,-389564586),F=K(F,W,N,R,S[$+2],17,606105819),R=K(R,F,W,N,S[$+3],22,-1044525330),N=K(N,R,F,W,S[$+4],7,-176418897),W=K(W,N,R,F,S[$+5],12,1200080426),F=K(F,W,N,R,S[$+6],17,-1473231341),R=K(R,F,W,N,S[$+7],22,-45705983),N=K(N,R,F,W,S[$+8],7,1770035416),W=K(W,N,R,F,S[$+9],12,-1958414417),F=K(F,W,N,R,S[$+10],17,-42063),R=K(R,F,W,N,S[$+11],22,-1990404162),N=K(N,R,F,W,S[$+12],7,1804603682),W=K(W,N,R,F,S[$+13],12,-40341101),F=K(F,W,N,R,S[$+14],17,-1502002290),R=K(R,F,W,N,S[$+15],22,1236535329),N=ee(N,R,F,W,S[$+1],5,-165796510),W=ee(W,N,R,F,S[$+6],9,-1069501632),F=ee(F,W,N,R,S[$+11],14,643717713),R=ee(R,F,W,N,S[$+0],20,-373897302),N=ee(N,R,F,W,S[$+5],5,-701558691),W=ee(W,N,R,F,S[$+10],9,38016083),F=ee(F,W,N,R,S[$+15],14,-660478335),R=ee(R,F,W,N,S[$+4],20,-405537848),N=ee(N,R,F,W,S[$+9],5,568446438),W=ee(W,N,R,F,S[$+14],9,-1019803690),F=ee(F,W,N,R,S[$+3],14,-187363961),R=ee(R,F,W,N,S[$+8],20,1163531501),N=ee(N,R,F,W,S[$+13],5,-1444681467),W=ee(W,N,R,F,S[$+2],9,-51403784),F=ee(F,W,N,R,S[$+7],14,1735328473),R=ee(R,F,W,N,S[$+12],20,-1926607734),N=ge(N,R,F,W,S[$+5],4,-378558),W=ge(W,N,R,F,S[$+8],11,-2022574463),F=ge(F,W,N,R,S[$+11],16,1839030562),R=ge(R,F,W,N,S[$+14],23,-35309556),N=ge(N,R,F,W,S[$+1],4,-1530992060),W=ge(W,N,R,F,S[$+4],11,1272893353),F=ge(F,W,N,R,S[$+7],16,-155497632),R=ge(R,F,W,N,S[$+10],23,-1094730640),N=ge(N,R,F,W,S[$+13],4,681279174),W=ge(W,N,R,F,S[$+0],11,-358537222),F=ge(F,W,N,R,S[$+3],16,-722521979),R=ge(R,F,W,N,S[$+6],23,76029189),N=ge(N,R,F,W,S[$+9],4,-640364487),W=ge(W,N,R,F,S[$+12],11,-421815835),F=ge(F,W,N,R,S[$+15],16,530742520),R=ge(R,F,W,N,S[$+2],23,-995338651),N=he(N,R,F,W,S[$+0],6,-198630844),W=he(W,N,R,F,S[$+7],10,1126891415),F=he(F,W,N,R,S[$+14],15,-1416354905),R=he(R,F,W,N,S[$+5],21,-57434055),N=he(N,R,F,W,S[$+12],6,1700485571),W=he(W,N,R,F,S[$+3],10,-1894986606),F=he(F,W,N,R,S[$+10],15,-1051523),R=he(R,F,W,N,S[$+1],21,-2054922799),N=he(N,R,F,W,S[$+8],6,1873313359),W=he(W,N,R,F,S[$+15],10,-30611744),F=he(F,W,N,R,S[$+6],15,-1560198380),R=he(R,F,W,N,S[$+13],21,1309151649),N=he(N,R,F,W,S[$+4],6,-145523070),W=he(W,N,R,F,S[$+11],10,-1120210379),F=he(F,W,N,R,S[$+2],15,718787259),R=he(R,F,W,N,S[$+9],21,-343485551),N=N+Ue>>>0,R=R+Te>>>0,F=F+te>>>0,W=W+Ae>>>0}return r.endian([N,R,F,W])};b._ff=function(h,x,S,B,N,R,F){var W=h+(x&S|~x&B)+(N>>>0)+F;return(W<<R|W>>>32-R)+x},b._gg=function(h,x,S,B,N,R,F){var W=h+(x&B|S&~B)+(N>>>0)+F;return(W<<R|W>>>32-R)+x},b._hh=function(h,x,S,B,N,R,F){var W=h+(x^S^B)+(N>>>0)+F;return(W<<R|W>>>32-R)+x},b._ii=function(h,x,S,B,N,R,F){var W=h+(S^(x|~B))+(N>>>0)+F;return(W<<R|W>>>32-R)+x},b._blocksize=16,b._digestsize=16,GG.exports=function(h,x){if(h==null)throw new Error("Illegal argument "+h);var S=r.wordsToBytes(b(h,x));return x&&x.asBytes?S:x&&x.asString?m.bytesToString(S):r.bytesToHex(S)}})();var Rfe=GG.exports;const JG=kM(Rfe),Ss=Kp.createInstance({storeName:"writer-essay",description:"Essay data"}),Cw=new Afe,E8=1e3,Nfe=5e3,Ife=5e3,Bfe=10,Mfe=1e3,xH={storedContent:"",storedHash:"",history:[],lastStoredIndex:-1,lastSentIndex:-1,lastSentHash:"",lastSave:0,lastSending:0,lastSendingSuccess:0,currentContent:"",sumOfDistances:0,lastCheck:0};let GS=0,Jj=0;const Lp=dg("essay",{state:()=>xH,getters:{hasHistory:r=>r.history.length>0,historyLength:r=>r.history.length,openSendings:r=>r.lastStoredIndex-r.lastSentIndex,unsentHistory(r){let i=[],u=r.lastSentIndex+1;for(;u<r.history.length;)i.push(r.history[u]),u++;return i},formatTimestamp(){return r=>new Date(r).toISOString().slice(0,19).replace("T"," ")},formatIndex(){return r=>r.toString().padStart(9,"0")},makeHash(){return(r,i)=>JG(r+i)}},actions:{async clearStorage(){try{await Ss.clear()}catch(r){console.log(r)}},addToHistory(r,i=0,u=null){let m;return u!==null?(this.history[u]=r,m=u):m=this.history.push(r)-1,r.is_delta?this.sumOfDistances+=i:this.sumOfDistances=0,m},async loadFromData(r){GS=1;try{this.$state=xH,this.currentContent=r.content??"",this.storedContent=r.content??"",this.storedHash=r.hash??"",await Ss.clear(),await Ss.setItem("storedContent",this.storedContent),await Ss.setItem("storedHash",this.storedHash);let u=0;for(;u<r.steps.length;){let m=r.steps[u],b={is_delta:m.is_delta,timestamp:m.timestamp,content:m.content,hash_before:m.hash_before,hash_after:m.hash_after};this.addToHistory(b,0,u),await Ss.setItem(this.formatIndex(u),b),u++}this.lastStoredIndex=this.history.length-1,this.lastSentIndex=this.history.length-1,this.lastSentHash=this.storedHash,await Ss.setItem("lastStoredIndex",this.lastStoredIndex),await Ss.setItem("lastSentIndex",this.lastSentIndex),await Ss.setItem("lastSentHash",this.lastSentHash),await Ss.setItem("lastSave",this.lastSave),await Ss.setItem("lastSending",this.lastSending),await Ss.setItem("lastSendingSuccess",this.lastSendingSuccess)}catch(u){console.log(u)}GS=0,bi().setInterval("essayStore.updateContent",this.updateContent,E8)},async loadFromStorage(){GS=1;try{this.$state=xH,this.lastStoredIndex=await Ss.getItem("lastStoredIndex")??-1,this.lastSentIndex=await Ss.getItem("lastSentIndex")??-1,this.lastSentHash=await Ss.getItem("lastSentHash")??"",this.lastSave=await Ss.getItem("lastSave")??0,this.lastSending=await Ss.getItem("lastSending")??0,this.lastSendingSuccess=await Ss.getItem("lastSendingSuccess")??0,this.storedContent=await Ss.getItem("storedContent")??"",this.storedHash=await Ss.getItem("storedHash")??"",this.currentContent=this.storedContent;let i=0;for(;i<=this.lastStoredIndex;){let u=await Ss.getItem(this.formatIndex(i))??{};this.addToHistory(u,0,i),i++}}catch(i){console.log(i)}GS=0,bi().setInterval("essayStore.updateContent",this.updateContent,E8)},async updateContent(r=!1,i=!1){const u=bi(),m=Date.now();if(!i&&m-this.lastCheck<E8||GS++||Md().writingEndReached)return!1;try{const h=this.currentContent+"";let x=null;if(h!=this.storedContent){const S=this.makeHash(h,u.getServerTime(m));let B=Cw.diff_main(this.storedContent,h);Cw.diff_cleanupEfficiency(B);const N=Cw.diff_levenshtein(B),R=Cw.patch_toText(Cw.patch_make(this.storedContent,B)),F=Cw.patch_apply(Cw.patch_fromText(R),this.storedContent);this.history.length==0||i||R.length>h.length||this.sumOfDistances+N>Mfe||F[0]!=h?x={is_delta:0,timestamp:u.getServerTime(m),content:h,hash_before:this.storedHash,hash_after:S}:(N>=Bfe||m-this.lastSave>Nfe)&&(x={is_delta:1,timestamp:u.getServerTime(m),content:R,hash_before:this.storedHash,hash_after:S}),x!==null&&(this.lastStoredIndex=this.addToHistory(x,N),this.lastSave=m,this.storedContent=h,this.storedHash=S,await Ss.setItem("storedContent",this.storedContent),await Ss.setItem("storedHash",this.storedHash),await Ss.setItem(this.formatIndex(this.lastStoredIndex),x),await Ss.setItem("lastStoredIndex",this.lastStoredIndex),console.log("Delta:",x.is_delta,"| Distance (sum): ",N,"(",this.sumOfDistances,")","| Editor: ",r,"| Duration:",Date.now()-m,"ms")),u.setInterval("essayStore.updateContent",this.updateContent,E8)}this.lastCheck=m,this.sendUpdate(i)}catch(h){console.error(h)}GS=0},async sendUpdate(r=!1){if(!r&&Date.now()-this.lastSending<Ife||Jj++)return!0;let i=[],u=this.lastSentIndex,m=this.lastSentHash,b=this.lastSentIndex+1;for(;b<this.history.length;)i.push(this.history[b]),m=this.history[b].hash_after,u=b++;let h=!1;return i.length>0?await bi().saveWritingStepsToBackend(i)&&(this.lastSentIndex=u,this.lastSentHash=m,this.lastSendingSuccess=Date.now(),await Ss.setItem("lastSentIndex",u),await Ss.setItem("lastSentHash",m),await Ss.setItem("lastSendingSuccess",this.lastSendingSuccess),h=!0):h=!0,this.lastSending=Date.now(),await Ss.setItem("lastSending",this.lastSending),Jj=!1,h},async setAllSavingsSent(){this.lastSentIndex=this.lastStoredIndex,this.lastSentHash=this.storedHash,this.lastSendingSuccess=Date.now(),await Ss.setItem("lastSentIndex",this.lastSentIndex),await Ss.setItem("lastSentHash",this.lastSentHash),this.lastSending=Date.now()},async hasUnsentSavingsInStorage(){const r=await Ss.getItem("lastStoredIndex")??-1,i=await Ss.getItem("lastSentIndex")??-1;return r>i},async hasHashInStorage(r){const i=await Ss.getItem("lastSentHash")??"";return r==i}}});class j0{constructor(i={}){Sr(this,"note_no",0);Sr(this,"note_text","");Sr(this,"last_change",null);this.setData(i)}static getKeyForNo(i){return"NOTE_"+i}setData(i){i.note_no!==void 0&&i.note_no!==null&&(this.note_no=parseInt(i.note_no)),i.note_text!==void 0&&i.note_text!==null&&(this.note_text=i.note_text.toString()),i.last_change!==void 0&&i.last_change!==null&&(this.last_change=parseInt(i.last_change))}getData(){return{note_no:this.note_no,note_text:this.note_text,last_change:this.last_change}}getKey(){return j0.getKeyForNo(this.note_no)}getClone(){return new j0(this.getData())}isEqual(i){for(const u in this)if(this[u]!==i[u])return!1;return!0}}const Ip=Kp.createInstance({storeName:"writer-notes",description:"Writer notes data"}),Qj=200;function Pfe(){return{keys:[],notes:{},editNotes:{},lastCheck:0,activeKey:null}}let wH=0;const iy=dg("notes",{state:()=>Pfe(),getters:{hasWrittenNotes:r=>{for(const i in r.notes)if(r.notes[i].note_text.length>0)return!0;return!1}},actions:{async clearStorage(){try{await Ip.clear()}catch(r){console.log(r)}this.$reset()},async loadFromStorage(){try{this.$reset();const r=await Ip.getItem("keys");r&&(this.keys=JSON.parse(r));for(const i of this.keys){const u=await Ip.getItem(i);if(u){const m=JSON.parse(u);if(typeof m=="object"&&m!==null){const b=new j0(m);this.notes[i]=b,this.editNotes[i]=b.getClone()}}}}catch(r){console.log(r)}},async loadFromData(r){try{await Ip.clear(),this.$reset();for(const u of r){const m=new j0(u);this.notes[m.getKey()]=m,this.editNotes[m.getKey()]=m.getClone(),this.keys.push(m.getKey()),await Ip.setItem(m.getKey(),JSON.stringify(m.getData()))}await Ip.setItem("keys",JSON.stringify(this.keys))}catch(u){console.log(u)}wH=0,bi().setInterval("notesStore.updateContent",this.updateContent,Qj)},async prepareNotes(r){const i=[];let u=!1;for(let m=0;m<r;m++){const b=j0.getKeyForNo(m);if(i.push(b),this.activeKey==b&&(u=!0),!(b in this.notes)){const h=new j0({note_no:m});this.notes[b]=h,this.editNotes[b]=h.getClone(),await Ip.setItem(b,JSON.stringify(h.getData()))}}this.keys=i,await Ip.setItem("keys",JSON.stringify(this.keys)),r>0&&!u&&(this.activeKey=j0.getKeyForNo(0))},async updateContent(r=!1,i=!1){const u=Date.now();if(!(u-this.lastCheck<Qj&&!i||wH++&&!i||Md().writingEndReached)){for(const b in this.editNotes)try{const h=this.editNotes[b].getClone(),x=this.notes[b]??new j0;if(!h.isEqual(x)){const S=bi(),B=Bd();h.last_change=S.getServerTime(Date.now()),this.editNotes[b].setData(h.getData()),this.notes[b]=h,await Ip.setItem(b,JSON.stringify(h.getData())),await B.setChange(new Ca({type:Ca.TYPE_NOTES,action:Ca.ACTION_SAVE,key:b})),console.log("Save Change ","| Editor: ",r,"| Duration:",Date.now()-u,"ms")}this.lastCheck=u}catch(h){console.error(h)}wH=0}},async getChangedData(r=0){const i=bi(),u=Bd(),m=[];for(const b of u.getChangesFor(Ca.TYPE_NOTES,r)){const h=await Ip.getItem(b.key);h?m.push(i.getChangeDataToSend(b,JSON.parse(h))):m.push(i.getChangeDataToSend(b))}return m}}}),YS=Kp.createInstance({storeName:"writer-alerts",description:"Alert Messages"}),tk=dg("alerts",{state:()=>({keys:[],alerts:[],activeKey:"",showAllAlerts:!1}),getters:{countAlerts:r=>r.alerts.length,hasAlerts:r=>r.alerts.length>0,hasActiveAlert:r=>r.activeKey!="",activeMessage(r){const i=r.alerts.find(u=>u.key==r.activeKey);return i?i.message:""},getAlert(r){return i=>r.alerts.find(u=>u.key==i)},formatTimestamp(){return r=>new Date(r*1e3).toLocaleString()}},actions:{showAlerts(){this.showAllAlerts=!0},hideAlert(){this.activeKey="",this.showAllAlerts=!1},async clearStorage(){try{await YS.clear()}catch(r){console.log(r)}},async loadFromStorage(){try{const r=await YS.getItem("alertKeys");r&&(this.keys=JSON.parse(r)),this.alerts=[];for(const i of this.keys){let u=await YS.getItem(i);this.alerts.unshift(u)}}catch(r){console.log(r)}},async loadFromData(r,i=!1){try{await YS.clear();let u=[],m=[];for(const b of r)i&&!this.keys.includes(b.key)&&(this.activeKey=b.key),m.unshift(b),u.push(b.key),await YS.setItem(b.key,b);this.keys=u,this.alerts=m,await YS.setItem("alertKeys",JSON.stringify(this.keys))}catch(u){console.log(u)}}}}),ag=Kp.createInstance({storeName:"writer-annotations",description:"Writer annotations data"});function Lfe(){return{keys:[],annotations:[],markerChange:0,selectionChange:0,caretRequest:0,selectedKey:"",deletedKey:"",firstVisibleKey:""}}const dy=dg("annotations",{state:()=>Lfe(),getters:{activeAnnotations:r=>{const u=Ll().shownResourceKey;return u!==null?r.annotations.filter(m=>m.resource_key===u):[]},getAnnotation:r=>function(u){return r.annotations.find(m=>m.getKey()===u)},getAnnotationsForResource:r=>function(u){return r.annotations.filter(m=>m.resource_key===u)},getActiveAnotationsInRange:r=>function(u,m){return r.activeAnnotations.filter(b=>b.start_position<=m&&b.end_position>=u)},getActiveAnnotationsByStartPosition:r=>function(u){return r.activeAnnotations.filter(m=>m.start_position==u)},getActiveAnnotationsByParentNumber:r=>function(u){return r.activeAnnotations.filter(m=>m.parent_number==u)}},actions:{setFirstVisibleAnnotation(r){this.firstVisibleKey=r},setMarkerChange(){this.markerChange=Date.now()},setCaretRequest(){this.caretRequest=Date.now()},selectAnnotation(r){this.selectedKey=r,this.selectionChange=Date.now()},async createAnnotation(r){bi();const i=Bd();this.keys.push(r.getKey()),this.annotations.push(r),await this.sortAndLabelAnnotations(),this.setMarkerChange(),this.selectAnnotation(r),await ag.setItem(r.getKey(),JSON.stringify(r.getData())),await ag.setItem("keys",JSON.stringify(this.keys)),await i.setChange(new Ca({type:Ca.TYPE_ANNOTATIONS,action:Ca.ACTION_SAVE,key:r.getKey()}))},async updateAnnotation(r,i=!1){bi();const u=Bd();this.keys.includes(r.getKey())&&(await ag.setItem(r.getKey(),JSON.stringify(r.getData())),await u.setChange(new Ca({type:Ca.TYPE_ANNOTATIONS,action:Ca.ACTION_SAVE,key:r.getKey()})),i&&(await this.sortAndLabelAnnotations(),this.setMarkerChange()))},async deleteAnnotation(r){this.selectedKey==r&&this.selectAnnotation("");const i=this.annotations.find(b=>b.getKey()==r);this.annotations=this.annotations.filter(b=>b.getKey()!=r),this.keys.includes(r)&&(this.keys=this.keys.filter(b=>b!=r),await ag.setItem("keys",JSON.stringify(this.keys)),await ag.removeItem(r)),this.deletedKey=r;const u=Bd(),m=new Ca({type:Ca.TYPE_ANNOTATIONS,action:Ca.ACTION_DELETE,key:i.getKey()});await u.setChange(m),await this.sortAndLabelAnnotations(),this.setMarkerChange()},async sortAndLabelAnnotations(){this.annotations=this.annotations.sort(ig.compare);let r="",i=0,u=0;for(const m of this.annotations)m.resource_key!==r?(r=m.resource_key,i=0,u=1):m.parent_number>i?(i=m.parent_number,u=1):u++,m.label=(i+1).toString()+"."+u.toString()},async clearStorage(){try{await ag.clear()}catch(r){console.log(r)}this.$reset()},async loadFromStorage(){try{this.$reset();const r=await ag.getItem("keys");r&&(this.keys=JSON.parse(r));for(const i of this.keys){const u=await ag.getItem(i);if(u){const m=JSON.parse(u);if(typeof m=="object"&&m!==null){const b=new ig(m);this.annotations.push(b)}}}await this.sortAndLabelAnnotations()}catch(r){console.log(r)}},async loadFromData(r){try{await ag.clear(),this.$reset();for(const i of r){const u=new ig(i);this.annotations.push(u),this.keys.push(u.getKey()),await ag.setItem(u.getKey(),JSON.stringify(u.getData()))}await ag.setItem("keys",JSON.stringify(this.keys)),await this.sortAndLabelAnnotations()}catch(i){console.log(i)}},async getChangedData(r=0){const i=bi(),u=Bd(),m=[];for(const b of u.getChangesFor(Ca.TYPE_ANNOTATIONS,r)){const h=await ag.getItem(b.key);h?m.push(i.getChangeDataToSend(b,JSON.parse(h))):m.push(i.getChangeDataToSend(b,ig.getFromKey(b.key)))}return m}}}),Ffe=5e3,bi=dg("api",{state:()=>({backendUrl:"",returnUrl:"",userKey:"",environmentKey:"",dataToken:"",fileToken:"",timeOffset:0,intervals:{},initialized:!1,review:!1,showInitFailure:!1,showReplaceConfirmation:!1,showReloadConfirmation:!1,showFinalizeFailure:!1,showAuthorizeFailure:!1,lastStepsTry:0,lastSendingTry:0,lastSaveWritingStepsResponseStatusText:"",lastSaveWritingStepsResponseData:null}),getters:{isAllSent:r=>{const i=Lp(),u=Bd();return!r.isSending&&i.openSendings+u.countChanges==0},isSending:r=>{r.lastSendingTry>0||r.lastStepsTry>0},getRequestConfig:r=>function(u){let m=r.backendUrl,b=new URLSearchParams,h=m.search(/\?+/);return h!=-1&&(b=new URLSearchParams(m.substr(h)),m=m.substr(0,h)),b.append("LongEssayUser",r.userKey),b.append("LongEssayEnvironment",r.environmentKey),b.append("LongEssaySignature",JG(r.userKey+r.environmentKey+u)),{baseURL:m,params:b,timeout:3e4,responseType:"json",responseEncoding:"utf8"}},getResourceUrl:r=>function(u){const m=this.getRequestConfig(this.fileToken);return m.baseURL+"/file/"+u+"?"+m.params.toString()},getServerTime:r=>function(u){return u==0?0:Math.floor((u-r.timeOffset)/1e3)},getChangeDataToSend:r=>function(u,m=null){const b=u.getData();return m&&(b.payload=m),b.server_time=r.getServerTime(u.last_change),b}},actions:{async init(){let r=!1,i=Gi.get("LongEssayHash");if(this.backendUrl=localStorage.getItem("writerBackendUrl"),this.returnUrl=localStorage.getItem("writerReturnUrl"),this.userKey=localStorage.getItem("writerUserKey"),this.environmentKey=localStorage.getItem("writerEnvironmentKey"),this.dataToken=localStorage.getItem("writerDataToken"),this.fileToken=localStorage.getItem("writerFileToken"),this.timeOffset=Math.floor(localStorage.getItem("writerTimeOffset")??0),Gi.get("LongEssayUser")&&Gi.get("LongEssayUser")!==this.userKey&&(this.userKey=Gi.get("LongEssayUser"),r=!0),Gi.get("LongEssayEnvironment")&&Gi.get("LongEssayEnvironment")!==this.environmentKey&&(this.environmentKey=Gi.get("LongEssayEnvironment"),r=!0),Gi.get("LongEssayBackend")&&Gi.get("LongEssayBackend")!==this.backendUrl&&(this.backendUrl=Gi.get("LongEssayBackend")),Gi.get("LongEssayReturn")&&Gi.get("LongEssayReturn")!==this.returnUrl&&(this.returnUrl=Gi.get("LongEssayReturn")),Gi.get("LongEssayToken")&&Gi.get("LongEssayToken")!==this.dataToken&&(this.dataToken=Gi.get("LongEssayToken")),!this.backendUrl||!this.returnUrl||!this.userKey||!this.environmentKey||!this.dataToken){this.showInitFailure=!0;return}const u=Lp(),m=Bd();r?await u.hasUnsentSavingsInStorage()||m.countChanges>0?(console.log("init: new context, open savings"),this.showReplaceConfirmation=!0):(console.log("init: new context, no open savings"),await this.loadDataFromBackend()):i?await u.hasHashInStorage(i)?(console.log("init: same context, same hash"),await this.loadDataFromStorage()):await u.hasUnsentSavingsInStorage()||m.countChanges>0?(console.log("init: same context, hashes differ, open savings"),this.showReloadConfirmation=!0):(console.log("init: same context, hashes differ, no open savings"),await this.loadDataFromBackend()):await u.hasUnsentSavingsInStorage()||m.countChanges>0?(console.log("init: same context, no server hash, open savings"),await this.loadDataFromStorage()):(console.log("init: same context, no server hash, no open savings"),await this.loadDataFromBackend()),this.setInterval("apiStore.timedSync",this.timedSync,Ffe)},async timedSync(){await this.saveChangesToBackend(),await this.loadUpdateFromBackend()},async loadDataFromStorage(){console.log("loadDataFromStorage..."),this.updateConfig();const r=vh(),i=Y0(),u=Md(),m=tk(),b=Uf(),h=Lp(),x=iy(),S=Ll(),B=Bd(),N=dy();await r.loadFromStorage(),await i.loadFromStorage(),await u.loadFromStorage(),await m.loadFromStorage(),await b.loadFromStorage(),await h.loadFromStorage(),await x.loadFromStorage(),await x.prepareNotes(r.notice_boards),await S.loadFromStorage(),await B.loadFromStorage(),await N.loadFromStorage(),await this.loadUpdateFromBackend(),this.initialized=!0},async loadDataFromBackend(){console.log("loadDataFromBackend..."),this.updateConfig();let r={};try{r=await Ba.get("/data",this.getRequestConfig(this.dataToken)),this.setTimeOffset(r),this.refreshToken(r)}catch(F){console.error(F),this.showInitFailure=!0;return}const i=vh(),u=Y0(),m=Md(),b=tk(),h=Uf(),x=Lp(),S=iy(),B=Bd(),N=Ll(),R=dy();await i.loadFromData(r.data.settings),await u.loadFromData(r.data.preferences),await m.loadFromData(r.data.task),await b.loadFromData(r.data.alerts,!1),await h.loadFromData(r.data.resources),await x.loadFromData(r.data.essay),await S.loadFromData(r.data.notes),await S.prepareNotes(i.notice_boards),await R.loadFromData(r.data.annotations),await B.clearStorage(),await N.initialize(),r.data.essay.started||await this.sendStart(),this.initialized=!0},async loadUpdateFromBackend(){if(this.lastSendingTry>0)return!1;this.lastSendingTry=Date.now();try{const r=await Ba.get("/update",this.getRequestConfig(this.dataToken));this.setTimeOffset(r),this.refreshToken(r);const i=Md(),u=tk(),m=vh(),b=iy();return await i.loadFromUpdate(r.data.task),await u.loadFromData(r.data.alerts,!0),await m.loadFromData(r.data.settings),await b.prepareNotes(m.notice_boards),this.lastSendingTry=0,!0}catch(r){return console.error(r),this.lastSendingTry=0,!1}},async sendStart(){let r={},i={started:this.getServerTime(Date.now())};try{return r=await Ba.put("/start",i,this.getRequestConfig(this.dataToken)),this.setTimeOffset(r),this.refreshToken(r),!0}catch(u){return console.error(u),this.showInitFailure=!0,!1}},async saveWritingStepsToBackend(r){let i={},u={steps:r};this.lastStepsTry=Date.now();try{return i=await Ba.put("/steps",u,this.getRequestConfig(this.dataToken)),this.setTimeOffset(i),this.refreshToken(i),this.lastStepsTry=0,this.lastSaveWritingStepsResponseStatusText=i.statusText,this.lastSaveWritingStepsResponseData=i.data,!0}catch(m){return this.lastStepsTry=0,this.lastSaveWritingStepsResponseStatusText=m.response.statusText,this.lastSaveWritingStepsResponseData=m.response.data,!1}},async saveChangesToBackend(r=!1){const i=dy(),u=Bd(),m=iy(),b=Y0();if(r){let h=0;for(;h<5&&this.lastSendingTry>0;)h++,await new Promise(x=>setTimeout(x,1e3))}if(this.lastSendingTry>0)return!1;if(u.countChanges>0){this.lastSendingTry=Date.now();try{const h={annotations:await i.getChangedData(this.lastSendingTry),notes:await m.getChangedData(this.lastSendingTry),preferences:await b.getChangedData(this.lastSendingTry)},x=await Ba.put("/changes",h,this.getRequestConfig(this.dataToken));this.setTimeOffset(x),this.refreshToken(x),await u.setChangesSent(Ca.TYPE_ANNOTATIONS,x.data.annotations,this.lastSendingTry),await u.setChangesSent(Ca.TYPE_NOTES,x.data.notes,this.lastSendingTry),await u.setChangesSent(Ca.TYPE_PREFERENCES,x.data.preferences,this.lastSendingTry)}catch(h){return console.error(h),this.lastSendingTry=0,!1}this.lastSendingTry=0}return!0},async saveFinalContentToBackend(r,i,u,m){let b={},h={steps:r,content:i,hash:u,authorized:m};try{return b=await Ba.put("/final",h,this.getRequestConfig(this.dataToken)),this.refreshToken(b),!0}catch(x){return console.error(x),!1}},updateConfig(){Gi.remove("LongEssayBackend"),Gi.remove("LongEssayReturn"),Gi.remove("LongEssayUser"),Gi.remove("LongEssayEnvironment"),Gi.remove("LongEssayToken"),Gi.remove("LongEssayHash"),localStorage.setItem("writerBackendUrl",this.backendUrl),localStorage.setItem("writerReturnUrl",this.returnUrl),localStorage.setItem("writerUserKey",this.userKey),localStorage.setItem("writerEnvironmentKey",this.environmentKey),localStorage.setItem("writerDataToken",this.dataToken),localStorage.setItem("writerFileToken",this.fileToken)},setTimeOffset(r){if(r.headers.longessaytime){const i=r.headers.longessaytime*1e3,u=Date.now();this.timeOffset=u-i,localStorage.setItem("writerTimeOffset",this.timeOffset)}},refreshToken(r){r.headers.longessaydatatoken&&(this.dataToken=r.headers.longessaydatatoken,localStorage.setItem("writerDataToken",this.dataToken)),r.headers.longessayfiletoken&&(this.fileToken=r.headers.longessayfiletoken,localStorage.setItem("writerFileToken",this.fileToken))},async finalize(r){const i=vh(),u=Md(),m=Uf(),b=Lp(),h=iy(),x=Ll(),S=tk(),B=Bd();if((r||b.openSendings>0)&&!await this.saveFinalContentToBackend(b.unsentHistory,b.storedContent,b.storedHash,r)){this.review=!0,this.showFinalizeFailure=!0,this.showAuthorizeFailure=r;return}await i.clearStorage(),await u.clearStorage(),await m.clearStorage(),await b.clearStorage(),await h.clearStorage(),await x.clearStorage(),await S.clearStorage(),await B.clearStorage(),localStorage.clear(),window.location=this.returnUrl},async retry(){const r=Lp();await this.saveFinalContentToBackend(r.unsentHistory,r.storedContent,r.storedHash,!1)?await r.setAllSavingsSent():this.showFinalizeFailure=!0,this.review=!0},setInterval(r,i,u){r in this.intervals&&clearInterval(this.intervals[r]),this.intervals[r]=setInterval(i,u)},clearAllIntervals(){for(const r in this.intervals)clearInterval(this.intervals[r]),delete this.intervals[r]}}}),A8=Kp.createInstance({storeName:"writer-task",description:"Task data"}),Md=dg("task",{state:()=>({title:null,writer_name:null,instructions:null,writing_end:null,writing_excluded:null,remaining_time:null}),getters:{hasInstructions:r=>!!r.instructions,hasWritingEnd:r=>!!r.writing_end,writingEndReached:r=>r.remaining_time===0,isExcluded:r=>r.writing_excluded>0},actions:{setData(r){this.title=r.title,this.instructions=r.instructions,this.writer_name=r.writer_name,this.writing_end=r.writing_end,this.writing_excluded=r.writing_excluded},async clearStorage(){try{await A8.clear()}catch(r){console.log(r)}},async loadFromStorage(){try{const i=await A8.getItem("task");this.setData(i)}catch(i){console.log(i)}this.updateRemainingTime(),bi().setInterval("taskStore.updateRemainingTime",this.updateRemainingTime,1e3)},async loadFromData(r){try{await A8.setItem("task",r),this.setData(r)}catch(u){console.log(u)}this.updateRemainingTime(),bi().setInterval("taskStore.updateRemainingTime",this.updateRemainingTime,1e3)},async loadFromUpdate(r){try{this.writing_end=r.writing_end,this.writing_excluded=r.writing_excluded,await A8.setItem("task",{title:this.title,instructions:this.instructions,writer_name:this.writer_name,writing_end:this.writing_end,writing_excluded:this.writing_excluded})}catch(u){console.log(u)}this.updateRemainingTime(),bi().setInterval("taskStore.updateRemainingTime",this.updateRemainingTime,1e3)},updateRemainingTime(){const r=bi();this.writing_end?this.remaining_time=Math.max(0,this.writing_end-r.getServerTime(Date.now())):this.remaining_time=null,(this.writingEndReached||this.isExcluded)&&(r.review=!0)}}}),wy=Jn({border:[Boolean,Number,String]},"border");function Cy(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jp();return{borderClasses:ct(()=>{const m=La(r)?r.value:r.border,b=[];if(m===!0||m==="")b.push(`${i}--border`);else if(typeof m=="string"||m===0)for(const h of String(m).split(" "))b.push(`border-${h}`);return b})}}const zfe=[null,"default","comfortable","compact"],qp=Jn({density:{type:String,default:"default",validator:r=>zfe.includes(r)}},"density");function o1(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jp();return{densityClasses:ct(()=>`${i}--density-${r.density}`)}}const _y=Jn({elevation:{type:[Number,String],validator(r){const i=parseInt(r);return!isNaN(i)&&i>=0&&i<=24}}},"elevation");function Sy(r){return{elevationClasses:ct(()=>{const u=La(r)?r.value:r.elevation,m=[];return u==null||m.push(`elevation-${u}`),m})}}const fg=Jn({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function mg(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jp();return{roundedClasses:ct(()=>{const m=La(r)?r.value:r.rounded,b=La(r)?r.value:r.tile,h=[];if(m===!0||m==="")h.push(`${i}--rounded`);else if(typeof m=="string"||m===0)for(const x of String(m).split(" "))h.push(`rounded-${x}`);else(b||m===!1)&&h.push("rounded-0");return h})}}const Ii=Jn({tag:{type:String,default:"div"}},"tag");function XV(r){return VV(()=>{const i=[],u={};if(r.value.background)if(ZH(r.value.background)){if(u.backgroundColor=r.value.background,!r.value.text&&ace(r.value.background)){const m=Hp(r.value.background);if(m.a==null||m.a===1){const b=tG(m);u.color=b,u.caretColor=b}}}else i.push(`bg-${r.value.background}`);return r.value.text&&(ZH(r.value.text)?(u.color=r.value.text,u.caretColor=r.value.text):i.push(`text-${r.value.text}`)),{colorClasses:i,colorStyles:u}})}function Q0(r,i){const u=ct(()=>({text:La(r)?r.value:i?r[i]:null})),{colorClasses:m,colorStyles:b}=XV(u);return{textColorClasses:m,textColorStyles:b}}function Vp(r,i){const u=ct(()=>({background:La(r)?r.value:i?r[i]:null})),{colorClasses:m,colorStyles:b}=XV(u);return{backgroundColorClasses:m,backgroundColorStyles:b}}const Hfe=["elevated","flat","tonal","outlined","text","plain"];function fO(r,i){return fe(Es,null,[r&&fe("span",{key:"overlay",class:`${i}__overlay`},null),fe("span",{key:"underlay",class:`${i}__underlay`},null)])}const zw=Jn({color:String,variant:{type:String,default:"elevated",validator:r=>Hfe.includes(r)}},"variant");function mO(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jp();const u=ct(()=>{const{variant:h}=Ve(r);return`${i}--variant-${h}`}),{colorClasses:m,colorStyles:b}=XV(ct(()=>{const{variant:h,color:x}=Ve(r);return{[["elevated","flat"].includes(h)?"background":"text"]:x}}));return{colorClasses:m,colorStyles:b,variantClasses:u}}const QG=Jn({baseColor:String,divided:Boolean,...wy(),...ts(),...qp(),..._y(),...fg(),...Ii(),...zl(),...zw()},"VBtnGroup"),uk=rr()({name:"VBtnGroup",props:QG(),setup(r,i){let{slots:u}=i;const{themeClasses:m}=ac(r),{densityClasses:b}=o1(r),{borderClasses:h}=Cy(r),{elevationClasses:x}=Sy(r),{roundedClasses:S}=mg(r);dk({VBtn:{height:"auto",baseColor:jr(r,"baseColor"),color:jr(r,"color"),density:jr(r,"density"),flat:!0,variant:jr(r,"variant")}}),Kr(()=>fe(r.tag,{class:["v-btn-group",{"v-btn-group--divided":r.divided},m.value,h.value,b.value,x.value,S.value,r.class],style:r.style},u))}}),Vfe=Jn({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),$fe=Jn({value:null,disabled:Boolean,selectedClass:String},"group-item");function Ufe(r,i){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const m=kl("useGroupItem");if(!m)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const b=xy();Kf(Symbol.for(`${i.description}:id`),b);const h=Yi(i,null);if(!h){if(!u)return h;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${i.description}`)}const x=jr(r,"value"),S=ct(()=>!!(h.disabled.value||r.disabled));h.register({id:b,value:x,disabled:S},m),Bc(()=>{h.unregister(b)});const B=ct(()=>h.isSelected(b)),N=ct(()=>h.items.value[0].id===b),R=ct(()=>h.items.value[h.items.value.length-1].id===b),F=ct(()=>B.value&&[h.selectedClass.value,r.selectedClass]);return Gn(B,W=>{m.emit("group:selected",{value:W})},{flush:"sync"}),{id:b,isSelected:B,isFirst:N,isLast:R,toggle:()=>h.select(b,!B.value),select:W=>h.select(b,W),selectedClass:F,value:x,disabled:S,group:h}}function Wfe(r,i){let u=!1;const m=mu([]),b=Pd(r,"modelValue",[],W=>W==null?[]:eY(m,Rw(W)),W=>{const $=jfe(m,W);return r.multiple?$:$[0]}),h=kl("useGroup");function x(W,$){const K=W,ee=Symbol.for(`${i.description}:id`),he=QS(ee,h==null?void 0:h.vnode).indexOf($);Ve(K.value)==null&&(K.value=he,K.useIndexAsValue=!0),he>-1?m.splice(he,0,K):m.push(K)}function S(W){if(u)return;B();const $=m.findIndex(K=>K.id===W);m.splice($,1)}function B(){const W=m.find($=>!$.disabled);W&&r.mandatory==="force"&&!b.value.length&&(b.value=[W.id])}Ic(()=>{B()}),Bc(()=>{u=!0}),RV(()=>{for(let W=0;W<m.length;W++)m[W].useIndexAsValue&&(m[W].value=W)});function N(W,$){const K=m.find(ee=>ee.id===W);if(!($&&(K!=null&&K.disabled)))if(r.multiple){const ee=b.value.slice(),ge=ee.findIndex(Ue=>Ue===W),he=~ge;if($=$??!he,he&&r.mandatory&&ee.length<=1||!he&&r.max!=null&&ee.length+1>r.max)return;ge<0&&$?ee.push(W):ge>=0&&!$&&ee.splice(ge,1),b.value=ee}else{const ee=b.value.includes(W);if(r.mandatory&&ee)return;b.value=$??!ee?[W]:[]}}function R(W){if(r.multiple,b.value.length){const $=b.value[0],K=m.findIndex(he=>he.id===$);let ee=(K+W)%m.length,ge=m[ee];for(;ge.disabled&&ee!==K;)ee=(ee+W)%m.length,ge=m[ee];if(ge.disabled)return;b.value=[m[ee].id]}else{const $=m.find(K=>!K.disabled);$&&(b.value=[$.id])}}const F={register:x,unregister:S,selected:b,select:N,disabled:jr(r,"disabled"),prev:()=>R(m.length-1),next:()=>R(1),isSelected:W=>b.value.includes(W),selectedClass:ct(()=>r.selectedClass),items:ct(()=>m),getItemIndex:W=>Zfe(m,W)};return Kf(i,F),F}function Zfe(r,i){const u=eY(r,[i]);return u.length?r.findIndex(m=>m.id===u[0]):-1}function eY(r,i){const u=[];return i.forEach(m=>{const b=r.find(x=>yM(m,x.value)),h=r[m];(b==null?void 0:b.value)!=null?u.push(b.id):h!=null&&u.push(h.id)}),u}function jfe(r,i){const u=[];return i.forEach(m=>{const b=r.findIndex(h=>h.id===m);if(~b){const h=r[b];u.push(h.value!=null?h.value:b)}}),u}const tY=Symbol.for("vuetify:v-btn-toggle"),Kfe=Jn({...QG(),...Vfe()},"VBtnToggle"),nY=rr()({name:"VBtnToggle",props:Kfe(),emits:{"update:modelValue":r=>!0},setup(r,i){let{slots:u}=i;const{isSelected:m,next:b,prev:h,select:x,selected:S}=Wfe(r,tY);return Kr(()=>{const B=uk.filterProps(r);return fe(uk,_a({class:["v-btn-toggle",r.class]},B,{style:r.style}),{default:()=>{var N;return[(N=u.default)==null?void 0:N.call(u,{isSelected:m,next:b,prev:h,select:x,selected:S})]}})}),{next:b,prev:h,select:x}}}),qfe=Jn({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),sc=rr(!1)({name:"VDefaultsProvider",props:qfe(),setup(r,i){let{slots:u}=i;const{defaults:m,disabled:b,reset:h,root:x,scoped:S}=aO(r);return dk(m,{reset:h,root:x,scoped:S,disabled:b}),()=>{var B;return(B=u.default)==null?void 0:B.call(u)}}}),Gfe=["x-small","small","default","large","x-large"],RM=Jn({size:{type:[String,Number],default:"default"}},"size");function NM(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jp();return VV(()=>{let u,m;return G8(Gfe,r.size)?u=`${i}--size-${r.size}`:r.size&&(m={width:dr(r.size),height:dr(r.size)}),{sizeClasses:u,sizeStyles:m}})}const Yfe=Jn({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:gl,...ts(),...RM(),...Ii({tag:"i"}),...zl()},"VIcon"),tr=rr()({name:"VIcon",props:Yfe(),setup(r,i){let{attrs:u,slots:m}=i;const b=wo(),{themeClasses:h}=ac(r),{iconData:x}=Eue(ct(()=>b.value||r.icon)),{sizeClasses:S}=NM(r),{textColorClasses:B,textColorStyles:N}=Q0(jr(r,"color"));return Kr(()=>{var W,$;const R=(W=m.default)==null?void 0:W.call(m);R&&(b.value=($=Zq(R).filter(K=>K.type===lO&&K.children&&typeof K.children=="string")[0])==null?void 0:$.children);const F=!!(u.onClick||u.onClickOnce);return fe(x.value.component,{tag:r.tag,icon:x.value.icon,class:["v-icon","notranslate",h.value,S.value,B.value,{"v-icon--clickable":F,"v-icon--disabled":r.disabled,"v-icon--start":r.start,"v-icon--end":r.end},r.class],style:[S.value?void 0:{fontSize:dr(r.size),height:dr(r.size),width:dr(r.size)},N.value,r.style],role:F?"button":void 0,"aria-hidden":!F,tabindex:F?r.disabled?-1:0:void 0},{default:()=>[R]})}),{}}});function oY(r,i){const u=wo(),m=Tr(!1);if(zV){const b=new IntersectionObserver(h=>{m.value=!!h.find(x=>x.isIntersecting)},i);Bc(()=>{b.disconnect()}),Gn(u,(h,x)=>{x&&(b.unobserve(x),m.value=!1),h&&b.observe(h)},{flush:"post"})}return{intersectionRef:u,isIntersecting:m}}const Xfe=Jn({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...ts(),...RM(),...Ii({tag:"div"}),...zl()},"VProgressCircular"),Jfe=rr()({name:"VProgressCircular",props:Xfe(),setup(r,i){let{slots:u}=i;const m=20,b=2*Math.PI*m,h=wo(),{themeClasses:x}=ac(r),{sizeClasses:S,sizeStyles:B}=NM(r),{textColorClasses:N,textColorStyles:R}=Q0(jr(r,"color")),{textColorClasses:F,textColorStyles:W}=Q0(jr(r,"bgColor")),{intersectionRef:$,isIntersecting:K}=oY(),{resizeRef:ee,contentRect:ge}=gG(),he=ct(()=>Math.max(0,Math.min(100,parseFloat(r.modelValue)))),Ue=ct(()=>Number(r.width)),Te=ct(()=>B.value?Number(r.size):ge.value?ge.value.width:Math.max(Ue.value,32)),te=ct(()=>m/(1-Ue.value/Te.value)*2),Ae=ct(()=>Ue.value/Te.value*te.value),ne=ct(()=>dr((100-he.value)/100*b));return xh(()=>{$.value=h.value,ee.value=h.value}),Kr(()=>fe(r.tag,{ref:h,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!r.indeterminate,"v-progress-circular--visible":K.value,"v-progress-circular--disable-shrink":r.indeterminate==="disable-shrink"},x.value,S.value,N.value,r.class],style:[B.value,R.value,r.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":r.indeterminate?void 0:he.value},{default:()=>[fe("svg",{style:{transform:`rotate(calc(-90deg + ${Number(r.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${te.value} ${te.value}`},[fe("circle",{class:["v-progress-circular__underlay",F.value],style:W.value,fill:"transparent",cx:"50%",cy:"50%",r:m,"stroke-width":Ae.value,"stroke-dasharray":b,"stroke-dashoffset":0},null),fe("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:m,"stroke-width":Ae.value,"stroke-dasharray":b,"stroke-dashoffset":ne.value},null)]),u.default&&fe("div",{class:"v-progress-circular__content"},[u.default({value:he.value})])]})),{}}}),Gp=Jn({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function Yp(r){return{dimensionStyles:ct(()=>{const u={},m=dr(r.height),b=dr(r.maxHeight),h=dr(r.maxWidth),x=dr(r.minHeight),S=dr(r.minWidth),B=dr(r.width);return m!=null&&(u.height=m),b!=null&&(u.maxHeight=b),h!=null&&(u.maxWidth=h),x!=null&&(u.minHeight=x),S!=null&&(u.minWidth=S),B!=null&&(u.width=B),u})}}const eK={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},IM=Jn({location:String},"location");function BM(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=arguments.length>2?arguments[2]:void 0;const{isRtl:m}=n1();return{locationStyles:ct(()=>{if(!r.location)return{};const{side:h,align:x}=UH(r.location.split(" ").length>1?r.location:`${r.location} center`,m.value);function S(N){return u?u(N):0}const B={};return h!=="center"&&(i?B[eK[h]]=`calc(100% - ${S(h)}px)`:B[h]=0),x!=="center"?i?B[eK[x]]=`calc(100% - ${S(x)}px)`:B[x]=0:(h==="center"?B.top=B.left="50%":B[{top:"left",bottom:"left",left:"top",right:"top"}[h]]="50%",B.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[h]),B})}}const Qfe=Jn({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...ts(),...IM({location:"top"}),...fg(),...Ii(),...zl()},"VProgressLinear"),eme=rr()({name:"VProgressLinear",props:Qfe(),emits:{"update:modelValue":r=>!0},setup(r,i){var Ce;let{slots:u}=i;const m=Pd(r,"modelValue"),{isRtl:b,rtlClasses:h}=n1(),{themeClasses:x}=ac(r),{locationStyles:S}=BM(r),{textColorClasses:B,textColorStyles:N}=Q0(r,"color"),{backgroundColorClasses:R,backgroundColorStyles:F}=Vp(ct(()=>r.bgColor||r.color)),{backgroundColorClasses:W,backgroundColorStyles:$}=Vp(ct(()=>r.bufferColor||r.bgColor||r.color)),{backgroundColorClasses:K,backgroundColorStyles:ee}=Vp(r,"color"),{roundedClasses:ge}=mg(r),{intersectionRef:he,isIntersecting:Ue}=oY(),Te=ct(()=>parseFloat(r.max)),te=ct(()=>parseFloat(r.height)),Ae=ct(()=>Pw(parseFloat(r.bufferValue)/Te.value*100,0,100)),ne=ct(()=>Pw(parseFloat(m.value)/Te.value*100,0,100)),Ge=ct(()=>b.value!==r.reverse),$e=ct(()=>r.indeterminate?"fade-transition":"slide-x-transition"),Ze=pi&&((Ce=window.matchMedia)==null?void 0:Ce.call(window,"(forced-colors: active)").matches);function ot(Ne){if(!he.value)return;const{left:D,right:yt,width:Pt}=he.value.getBoundingClientRect(),ln=Ge.value?Pt-Ne.clientX+(yt-Pt):Ne.clientX-D;m.value=Math.round(ln/Pt*Te.value)}return Kr(()=>fe(r.tag,{ref:he,class:["v-progress-linear",{"v-progress-linear--absolute":r.absolute,"v-progress-linear--active":r.active&&Ue.value,"v-progress-linear--reverse":Ge.value,"v-progress-linear--rounded":r.rounded,"v-progress-linear--rounded-bar":r.roundedBar,"v-progress-linear--striped":r.striped},ge.value,x.value,h.value,r.class],style:[{bottom:r.location==="bottom"?0:void 0,top:r.location==="top"?0:void 0,height:r.active?dr(te.value):0,"--v-progress-linear-height":dr(te.value),...r.absolute?S.value:{}},r.style],role:"progressbar","aria-hidden":r.active?"false":"true","aria-valuemin":"0","aria-valuemax":r.max,"aria-valuenow":r.indeterminate?void 0:ne.value,onClick:r.clickable&&ot},{default:()=>[r.stream&&fe("div",{key:"stream",class:["v-progress-linear__stream",B.value],style:{...N.value,[Ge.value?"left":"right"]:dr(-te.value),borderTop:`${dr(te.value/2)} dotted`,opacity:parseFloat(r.bufferOpacity),top:`calc(50% - ${dr(te.value/4)})`,width:dr(100-Ae.value,"%"),"--v-progress-linear-stream-to":dr(te.value*(Ge.value?1:-1))}},null),fe("div",{class:["v-progress-linear__background",Ze?void 0:R.value],style:[F.value,{opacity:parseFloat(r.bgOpacity),width:r.stream?0:void 0}]},null),fe("div",{class:["v-progress-linear__buffer",Ze?void 0:W.value],style:[$.value,{opacity:parseFloat(r.bufferOpacity),width:dr(Ae.value,"%")}]},null),fe(Zp,{name:$e.value},{default:()=>[r.indeterminate?fe("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(Ne=>fe("div",{key:Ne,class:["v-progress-linear__indeterminate",Ne,Ze?void 0:K.value],style:ee.value},null))]):fe("div",{class:["v-progress-linear__determinate",Ze?void 0:K.value],style:[ee.value,{width:dr(ne.value,"%")}]},null)]}),u.default&&fe("div",{class:"v-progress-linear__content"},[u.default({value:ne.value,buffer:Ae.value})])]})),{}}}),JV=Jn({loading:[Boolean,String]},"loader");function QV(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jp();return{loaderClasses:ct(()=>({[`${i}--loading`]:r.loading}))}}function rY(r,i){var m;let{slots:u}=i;return fe("div",{class:`${r.name}__loader`},[((m=u.default)==null?void 0:m.call(u,{color:r.color,isActive:r.active}))||fe(eme,{absolute:r.absolute,active:r.active,color:r.color,height:"2",indeterminate:!0},null)])}const tme=["static","relative","fixed","absolute","sticky"],e$=Jn({position:{type:String,validator:r=>tme.includes(r)}},"position");function t$(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jp();return{positionClasses:ct(()=>r.position?`${i}--${r.position}`:void 0)}}function nme(){const r=kl("useRoute");return ct(()=>{var i;return(i=r==null?void 0:r.proxy)==null?void 0:i.$route})}function sY(){var r,i;return(i=(r=kl("useRouter"))==null?void 0:r.proxy)==null?void 0:i.$router}function n$(r,i){var N,R;const u=nie("RouterLink"),m=ct(()=>!!(r.href||r.to)),b=ct(()=>(m==null?void 0:m.value)||ij(i,"click")||ij(r,"click"));if(typeof u=="string"||!("useLink"in u))return{isLink:m,isClickable:b,href:jr(r,"href")};const h=ct(()=>({...r,to:jr(()=>r.to||"")})),x=u.useLink(h.value),S=ct(()=>r.to?x:void 0),B=nme();return{isLink:m,isClickable:b,route:(N=S.value)==null?void 0:N.route,navigate:(R=S.value)==null?void 0:R.navigate,isActive:ct(()=>{var F,W,$;return S.value?r.exact?B.value?(($=S.value.isExactActive)==null?void 0:$.value)&&yM(S.value.route.value.query,B.value.query):((W=S.value.isExactActive)==null?void 0:W.value)??!1:((F=S.value.isActive)==null?void 0:F.value)??!1:!1}),href:ct(()=>{var F;return r.to?(F=S.value)==null?void 0:F.route.value.href:r.href})}}const o$=Jn({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let CH=!1;function ome(r,i){let u=!1,m,b;pi&&(Ma(()=>{window.addEventListener("popstate",h),m=r==null?void 0:r.beforeEach((x,S,B)=>{CH?u?i(B):B():setTimeout(()=>u?i(B):B()),CH=!0}),b=r==null?void 0:r.afterEach(()=>{CH=!1})}),jf(()=>{window.removeEventListener("popstate",h),m==null||m(),b==null||b()}));function h(x){var S;(S=x.state)!=null&&S.replaced||(u=!0,setTimeout(()=>u=!1))}}function rme(r,i){Gn(()=>{var u;return(u=r.isActive)==null?void 0:u.value},u=>{r.isLink.value&&u&&i&&Ma(()=>{i(!0)})},{immediate:!0})}const aV=Symbol("rippleStop"),sme=80;function tK(r,i){r.style.transform=i,r.style.webkitTransform=i}function iV(r){return r.constructor.name==="TouchEvent"}function aY(r){return r.constructor.name==="KeyboardEvent"}const ame=function(r,i){var F;let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=0,b=0;if(!aY(r)){const W=i.getBoundingClientRect(),$=iV(r)?r.touches[r.touches.length-1]:r;m=$.clientX-W.left,b=$.clientY-W.top}let h=0,x=.3;(F=i._ripple)!=null&&F.circle?(x=.15,h=i.clientWidth/2,h=u.center?h:h+Math.sqrt((m-h)**2+(b-h)**2)/4):h=Math.sqrt(i.clientWidth**2+i.clientHeight**2)/2;const S=`${(i.clientWidth-h*2)/2}px`,B=`${(i.clientHeight-h*2)/2}px`,N=u.center?S:`${m-h}px`,R=u.center?B:`${b-h}px`;return{radius:h,scale:x,x:N,y:R,centerX:S,centerY:B}},sM={show(r,i){var $;let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(($=i==null?void 0:i._ripple)!=null&&$.enabled))return;const m=document.createElement("span"),b=document.createElement("span");m.appendChild(b),m.className="v-ripple__container",u.class&&(m.className+=` ${u.class}`);const{radius:h,scale:x,x:S,y:B,centerX:N,centerY:R}=ame(r,i,u),F=`${h*2}px`;b.className="v-ripple__animation",b.style.width=F,b.style.height=F,i.appendChild(m);const W=window.getComputedStyle(i);W&&W.position==="static"&&(i.style.position="relative",i.dataset.previousPosition="static"),b.classList.add("v-ripple__animation--enter"),b.classList.add("v-ripple__animation--visible"),tK(b,`translate(${S}, ${B}) scale3d(${x},${x},${x})`),b.dataset.activated=String(performance.now()),setTimeout(()=>{b.classList.remove("v-ripple__animation--enter"),b.classList.add("v-ripple__animation--in"),tK(b,`translate(${N}, ${R}) scale3d(1,1,1)`)},0)},hide(r){var h;if(!((h=r==null?void 0:r._ripple)!=null&&h.enabled))return;const i=r.getElementsByClassName("v-ripple__animation");if(i.length===0)return;const u=i[i.length-1];if(u.dataset.isHiding)return;u.dataset.isHiding="true";const m=performance.now()-Number(u.dataset.activated),b=Math.max(250-m,0);setTimeout(()=>{u.classList.remove("v-ripple__animation--in"),u.classList.add("v-ripple__animation--out"),setTimeout(()=>{var S;r.getElementsByClassName("v-ripple__animation").length===1&&r.dataset.previousPosition&&(r.style.position=r.dataset.previousPosition,delete r.dataset.previousPosition),((S=u.parentNode)==null?void 0:S.parentNode)===r&&r.removeChild(u.parentNode)},300)},b)}};function iY(r){return typeof r>"u"||!!r}function tO(r){const i={},u=r.currentTarget;if(!(!(u!=null&&u._ripple)||u._ripple.touched||r[aV])){if(r[aV]=!0,iV(r))u._ripple.touched=!0,u._ripple.isTouch=!0;else if(u._ripple.isTouch)return;if(i.center=u._ripple.centered||aY(r),u._ripple.class&&(i.class=u._ripple.class),iV(r)){if(u._ripple.showTimerCommit)return;u._ripple.showTimerCommit=()=>{sM.show(r,u,i)},u._ripple.showTimer=window.setTimeout(()=>{var m;(m=u==null?void 0:u._ripple)!=null&&m.showTimerCommit&&(u._ripple.showTimerCommit(),u._ripple.showTimerCommit=null)},sme)}else sM.show(r,u,i)}}function nK(r){r[aV]=!0}function Hf(r){const i=r.currentTarget;if(i!=null&&i._ripple){if(window.clearTimeout(i._ripple.showTimer),r.type==="touchend"&&i._ripple.showTimerCommit){i._ripple.showTimerCommit(),i._ripple.showTimerCommit=null,i._ripple.showTimer=window.setTimeout(()=>{Hf(r)});return}window.setTimeout(()=>{i._ripple&&(i._ripple.touched=!1)}),sM.hide(i)}}function lY(r){const i=r.currentTarget;i!=null&&i._ripple&&(i._ripple.showTimerCommit&&(i._ripple.showTimerCommit=null),window.clearTimeout(i._ripple.showTimer))}let nO=!1;function cY(r){!nO&&(r.keyCode===oj.enter||r.keyCode===oj.space)&&(nO=!0,tO(r))}function uY(r){nO=!1,Hf(r)}function dY(r){nO&&(nO=!1,Hf(r))}function fY(r,i,u){const{value:m,modifiers:b}=i,h=iY(m);if(h||sM.hide(r),r._ripple=r._ripple??{},r._ripple.enabled=h,r._ripple.centered=b.center,r._ripple.circle=b.circle,Nle(m)&&m.class&&(r._ripple.class=m.class),h&&!u){if(b.stop){r.addEventListener("touchstart",nK,{passive:!0}),r.addEventListener("mousedown",nK);return}r.addEventListener("touchstart",tO,{passive:!0}),r.addEventListener("touchend",Hf,{passive:!0}),r.addEventListener("touchmove",lY,{passive:!0}),r.addEventListener("touchcancel",Hf),r.addEventListener("mousedown",tO),r.addEventListener("mouseup",Hf),r.addEventListener("mouseleave",Hf),r.addEventListener("keydown",cY),r.addEventListener("keyup",uY),r.addEventListener("blur",dY),r.addEventListener("dragstart",Hf,{passive:!0})}else!h&&u&&mY(r)}function mY(r){r.removeEventListener("mousedown",tO),r.removeEventListener("touchstart",tO),r.removeEventListener("touchend",Hf),r.removeEventListener("touchmove",lY),r.removeEventListener("touchcancel",Hf),r.removeEventListener("mouseup",Hf),r.removeEventListener("mouseleave",Hf),r.removeEventListener("keydown",cY),r.removeEventListener("keyup",uY),r.removeEventListener("dragstart",Hf),r.removeEventListener("blur",dY)}function ime(r,i){fY(r,i,!1)}function lme(r){delete r._ripple,mY(r)}function cme(r,i){if(i.value===i.oldValue)return;const u=iY(i.oldValue);fY(r,i,u)}const r$={mounted:ime,unmounted:lme,updated:cme},ume=Jn({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:tY},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:gl,appendIcon:gl,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...wy(),...ts(),...qp(),...Gp(),..._y(),...$fe(),...JV(),...IM(),...e$(),...fg(),...o$(),...RM(),...Ii({tag:"button"}),...zl(),...zw({variant:"elevated"})},"VBtn"),Ar=rr()({name:"VBtn",props:ume(),emits:{"group:selected":r=>!0},setup(r,i){let{attrs:u,slots:m}=i;const{themeClasses:b}=ac(r),{borderClasses:h}=Cy(r),{densityClasses:x}=o1(r),{dimensionStyles:S}=Yp(r),{elevationClasses:B}=Sy(r),{loaderClasses:N}=QV(r),{locationStyles:R}=BM(r),{positionClasses:F}=t$(r),{roundedClasses:W}=mg(r),{sizeClasses:$,sizeStyles:K}=NM(r),ee=Ufe(r,r.symbol,!1),ge=n$(r,u),he=ct(()=>{var Ce;return r.active!==void 0?r.active:ge.isLink.value?(Ce=ge.isActive)==null?void 0:Ce.value:ee==null?void 0:ee.isSelected.value}),Ue=ct(()=>he.value?r.activeColor??r.color:r.color),Te=ct(()=>{var Ne,D;return{color:(ee==null?void 0:ee.isSelected.value)&&(!ge.isLink.value||((Ne=ge.isActive)==null?void 0:Ne.value))||!ee||((D=ge.isActive)==null?void 0:D.value)?Ue.value??r.baseColor:r.baseColor,variant:r.variant}}),{colorClasses:te,colorStyles:Ae,variantClasses:ne}=mO(Te),Ge=ct(()=>(ee==null?void 0:ee.disabled.value)||r.disabled),$e=ct(()=>r.variant==="elevated"&&!(r.disabled||r.flat||r.border)),Ze=ct(()=>{if(!(r.value===void 0||typeof r.value=="symbol"))return Object(r.value)===r.value?JSON.stringify(r.value,null,0):r.value});function ot(Ce){var Ne;Ge.value||ge.isLink.value&&(Ce.metaKey||Ce.ctrlKey||Ce.shiftKey||Ce.button!==0||u.target==="_blank")||((Ne=ge.navigate)==null||Ne.call(ge,Ce),ee==null||ee.toggle())}return rme(ge,ee==null?void 0:ee.select),Kr(()=>{const Ce=ge.isLink.value?"a":r.tag,Ne=!!(r.prependIcon||m.prepend),D=!!(r.appendIcon||m.append),yt=!!(r.icon&&r.icon!==!0);return qo(fe(Ce,{type:Ce==="a"?void 0:"button",class:["v-btn",ee==null?void 0:ee.selectedClass.value,{"v-btn--active":he.value,"v-btn--block":r.block,"v-btn--disabled":Ge.value,"v-btn--elevated":$e.value,"v-btn--flat":r.flat,"v-btn--icon":!!r.icon,"v-btn--loading":r.loading,"v-btn--readonly":r.readonly,"v-btn--slim":r.slim,"v-btn--stacked":r.stacked},b.value,h.value,te.value,x.value,B.value,N.value,F.value,W.value,$.value,ne.value,r.class],style:[Ae.value,S.value,R.value,K.value,r.style],"aria-busy":r.loading?!0:void 0,disabled:Ge.value||void 0,href:ge.href.value,tabindex:r.loading||r.readonly?-1:void 0,onClick:ot,value:Ze.value},{default:()=>{var Pt;return[fO(!0,"v-btn"),!r.icon&&Ne&&fe("span",{key:"prepend",class:"v-btn__prepend"},[m.prepend?fe(sc,{key:"prepend-defaults",disabled:!r.prependIcon,defaults:{VIcon:{icon:r.prependIcon}}},m.prepend):fe(tr,{key:"prepend-icon",icon:r.prependIcon},null)]),fe("span",{class:"v-btn__content","data-no-activator":""},[!m.default&&yt?fe(tr,{key:"content-icon",icon:r.icon},null):fe(sc,{key:"content-defaults",disabled:!yt,defaults:{VIcon:{icon:r.icon}}},{default:()=>{var ln;return[((ln=m.default)==null?void 0:ln.call(m))??r.text]}})]),!r.icon&&D&&fe("span",{key:"append",class:"v-btn__append"},[m.append?fe(sc,{key:"append-defaults",disabled:!r.appendIcon,defaults:{VIcon:{icon:r.appendIcon}}},m.append):fe(tr,{key:"append-icon",icon:r.appendIcon},null)]),!!r.loading&&fe("span",{key:"loader",class:"v-btn__loader"},[((Pt=m.loader)==null?void 0:Pt.call(m))??fe(Jfe,{color:typeof r.loading=="boolean"?void 0:r.loading,indeterminate:!0,width:"2"},null)])]}}),[[r$,!Ge.value&&r.ripple,"",{center:!!r.icon}]])}),{group:ee}}}),dme={__name:"Timer",setup(r){const i=Md(),u=Ll();function m(b){const h=("00"+Math.floor(b)%60).slice(-2),x=("00"+Math.floor(b/60)%60).slice(-2),S=("00"+Math.floor(b/3600)%24).slice(-2),B=Math.floor(b/86400);return B>1?B+" Tage "+S+" Stunden":B>0?B+" Tag "+S+" Stunden":S!="00"?S+":"+x+":"+h+" Stunden":x!="00"?x+":"+h+" Minuten":h+" Sekunden"}return(b,h)=>qo((Xo(),Xs(Ar,{class:"app-header-item",onClick:h[0]||(h[0]=x=>Ve(u).toggleTimer())},{default:cn(()=>[fe(tr,{left:"",icon:"mdi-clock-outline"}),qo(nt("span",null,Ml(m(Ve(i).remaining_time)),513),[[pr,Ve(u).showTimer]]),qo(nt("span",null,"Restzeit",512),[[pr,!Ve(u).showTimer]])]),_:1},512)),[[pr,!Ve(i).writingEndReached]])}},$p=rr()({name:"VCardActions",props:ts(),setup(r,i){let{slots:u}=i;return dk({VBtn:{slim:!0,variant:"text"}}),Kr(()=>{var m;return fe("div",{class:["v-card-actions",r.class],style:r.style},[(m=u.default)==null?void 0:m.call(u)])}),{}}}),fme=Jn({opacity:[Number,String],...ts(),...Ii()},"VCardSubtitle"),mme=rr()({name:"VCardSubtitle",props:fme(),setup(r,i){let{slots:u}=i;return Kr(()=>fe(r.tag,{class:["v-card-subtitle",r.class],style:[{"--v-card-subtitle-opacity":r.opacity},r.style]},u)),{}}}),lV=xM("v-card-title");function gme(r){return{aspectStyles:ct(()=>{const i=Number(r.aspectRatio);return i?{paddingBottom:String(1/i*100)+"%"}:void 0})}}const gY=Jn({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...ts(),...Gp()},"VResponsive"),oK=rr()({name:"VResponsive",props:gY(),setup(r,i){let{slots:u}=i;const{aspectStyles:m}=gme(r),{dimensionStyles:b}=Yp(r);return Kr(()=>{var h;return fe("div",{class:["v-responsive",{"v-responsive--inline":r.inline},r.class],style:[b.value,r.style]},[fe("div",{class:"v-responsive__sizer",style:m.value},null),(h=u.additional)==null?void 0:h.call(u),u.default&&fe("div",{class:["v-responsive__content",r.contentClass]},[u.default()])])}),{}}}),MM=Jn({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:r=>r!==!0}},"transition"),ly=(r,i)=>{let{slots:u}=i;const{transition:m,disabled:b,group:h,...x}=r,{component:S=h?FV:Zp,...B}=typeof m=="object"?m:{};return Wp(S,_a(typeof m=="string"?{name:b?"":m}:B,typeof m=="string"?{}:Object.fromEntries(Object.entries({disabled:b,group:h}).filter(N=>{let[R,F]=N;return F!==void 0})),x),u)};function hme(r,i){if(!zV)return;const u=i.modifiers||{},m=i.value,{handler:b,options:h}=typeof m=="object"?m:{handler:m,options:{}},x=new IntersectionObserver(function(){var F;let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],B=arguments.length>1?arguments[1]:void 0;const N=(F=r._observe)==null?void 0:F[i.instance.$.uid];if(!N)return;const R=S.some(W=>W.isIntersecting);b&&(!u.quiet||N.init)&&(!u.once||R||N.init)&&b(R,S,B),R&&u.once?hY(r,i):N.init=!0},h);r._observe=Object(r._observe),r._observe[i.instance.$.uid]={init:!1,observer:x},x.observe(r)}function hY(r,i){var m;const u=(m=r._observe)==null?void 0:m[i.instance.$.uid];u&&(u.observer.unobserve(r),delete r._observe[i.instance.$.uid])}const pY={mounted:hme,unmounted:hY},pme=Jn({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...gY(),...ts(),...fg(),...MM()},"VImg"),PM=rr()({name:"VImg",directives:{intersect:pY},props:pme(),emits:{loadstart:r=>!0,load:r=>!0,error:r=>!0},setup(r,i){let{emit:u,slots:m}=i;const{backgroundColorClasses:b,backgroundColorStyles:h}=Vp(jr(r,"color")),{roundedClasses:x}=mg(r),S=kl("VImg"),B=Tr(""),N=wo(),R=Tr(r.eager?"loading":"idle"),F=Tr(),W=Tr(),$=ct(()=>r.src&&typeof r.src=="object"?{src:r.src.src,srcset:r.srcset||r.src.srcset,lazySrc:r.lazySrc||r.src.lazySrc,aspect:Number(r.aspectRatio||r.src.aspect||0)}:{src:r.src,srcset:r.srcset,lazySrc:r.lazySrc,aspect:Number(r.aspectRatio||0)}),K=ct(()=>$.value.aspect||F.value/W.value||0);Gn(()=>r.src,()=>{ee(R.value!=="idle")}),Gn(K,(Ne,D)=>{!Ne&&D&&N.value&&te(N.value)}),DV(()=>ee());function ee(Ne){if(!(r.eager&&Ne)&&!(zV&&!Ne&&!r.eager)){if(R.value="loading",$.value.lazySrc){const D=new Image;D.src=$.value.lazySrc,te(D,null)}$.value.src&&Ma(()=>{var D;u("loadstart",((D=N.value)==null?void 0:D.currentSrc)||$.value.src),setTimeout(()=>{var yt;if(!S.isUnmounted)if((yt=N.value)!=null&&yt.complete){if(N.value.naturalWidth||he(),R.value==="error")return;K.value||te(N.value,null),R.value==="loading"&&ge()}else K.value||te(N.value),Ue()})})}}function ge(){var Ne;S.isUnmounted||(Ue(),te(N.value),R.value="loaded",u("load",((Ne=N.value)==null?void 0:Ne.currentSrc)||$.value.src))}function he(){var Ne;S.isUnmounted||(R.value="error",u("error",((Ne=N.value)==null?void 0:Ne.currentSrc)||$.value.src))}function Ue(){const Ne=N.value;Ne&&(B.value=Ne.currentSrc||Ne.src)}let Te=-1;Bc(()=>{clearTimeout(Te)});function te(Ne){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const yt=()=>{if(clearTimeout(Te),S.isUnmounted)return;const{naturalHeight:Pt,naturalWidth:ln}=Ne;Pt||ln?(F.value=ln,W.value=Pt):!Ne.complete&&R.value==="loading"&&D!=null?Te=window.setTimeout(yt,D):(Ne.currentSrc.endsWith(".svg")||Ne.currentSrc.startsWith("data:image/svg+xml"))&&(F.value=1,W.value=1)};yt()}const Ae=ct(()=>({"v-img__img--cover":r.cover,"v-img__img--contain":!r.cover})),ne=()=>{var yt;if(!$.value.src||R.value==="idle")return null;const Ne=fe("img",{class:["v-img__img",Ae.value],style:{objectPosition:r.position},src:$.value.src,srcset:$.value.srcset,alt:r.alt,crossorigin:r.crossorigin,referrerpolicy:r.referrerpolicy,draggable:r.draggable,sizes:r.sizes,ref:N,onLoad:ge,onError:he},null),D=(yt=m.sources)==null?void 0:yt.call(m);return fe(ly,{transition:r.transition,appear:!0},{default:()=>[qo(D?fe("picture",{class:"v-img__picture"},[D,Ne]):Ne,[[pr,R.value==="loaded"]])]})},Ge=()=>fe(ly,{transition:r.transition},{default:()=>[$.value.lazySrc&&R.value!=="loaded"&&fe("img",{class:["v-img__img","v-img__img--preload",Ae.value],style:{objectPosition:r.position},src:$.value.lazySrc,alt:r.alt,crossorigin:r.crossorigin,referrerpolicy:r.referrerpolicy,draggable:r.draggable},null)]}),$e=()=>m.placeholder?fe(ly,{transition:r.transition,appear:!0},{default:()=>[(R.value==="loading"||R.value==="error"&&!m.error)&&fe("div",{class:"v-img__placeholder"},[m.placeholder()])]}):null,Ze=()=>m.error?fe(ly,{transition:r.transition,appear:!0},{default:()=>[R.value==="error"&&fe("div",{class:"v-img__error"},[m.error()])]}):null,ot=()=>r.gradient?fe("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${r.gradient})`}},null):null,Ce=Tr(!1);{const Ne=Gn(K,D=>{D&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{Ce.value=!0})}),Ne())})}return Kr(()=>{const Ne=oK.filterProps(r);return qo(fe(oK,_a({class:["v-img",{"v-img--absolute":r.absolute,"v-img--booting":!Ce.value},b.value,x.value,r.class],style:[{width:dr(r.width==="auto"?F.value:r.width)},h.value,r.style]},Ne,{aspectRatio:K.value,"aria-label":r.alt,role:r.alt?"img":void 0}),{additional:()=>fe(Es,null,[fe(ne,null,null),fe(Ge,null,null),fe(ot,null,null),fe($e,null,null),fe(Ze,null,null)]),default:m.default}),[[iO("intersect"),{handler:ee,options:r.options},null,{once:!0}]])}),{currentSrc:B,image:N,state:R,naturalWidth:F,naturalHeight:W}}}),bme=Jn({start:Boolean,end:Boolean,icon:gl,image:String,text:String,...wy(),...ts(),...qp(),...fg(),...RM(),...Ii(),...zl(),...zw({variant:"flat"})},"VAvatar"),aM=rr()({name:"VAvatar",props:bme(),setup(r,i){let{slots:u}=i;const{themeClasses:m}=ac(r),{borderClasses:b}=Cy(r),{colorClasses:h,colorStyles:x,variantClasses:S}=mO(r),{densityClasses:B}=o1(r),{roundedClasses:N}=mg(r),{sizeClasses:R,sizeStyles:F}=NM(r);return Kr(()=>fe(r.tag,{class:["v-avatar",{"v-avatar--start":r.start,"v-avatar--end":r.end},m.value,b.value,h.value,B.value,N.value,R.value,S.value,r.class],style:[x.value,F.value,r.style]},{default:()=>[u.default?fe(sc,{key:"content-defaults",defaults:{VImg:{cover:!0,src:r.image},VIcon:{icon:r.icon}}},{default:()=>[u.default()]}):r.image?fe(PM,{key:"image",src:r.image,alt:"",cover:!0},null):r.icon?fe(tr,{key:"icon",icon:r.icon},null):r.text,fO(!1,"v-avatar")]})),{}}}),vme=Jn({appendAvatar:String,appendIcon:gl,prependAvatar:String,prependIcon:gl,subtitle:[String,Number],title:[String,Number],...ts(),...qp()},"VCardItem"),yme=rr()({name:"VCardItem",props:vme(),setup(r,i){let{slots:u}=i;return Kr(()=>{var N;const m=!!(r.prependAvatar||r.prependIcon),b=!!(m||u.prepend),h=!!(r.appendAvatar||r.appendIcon),x=!!(h||u.append),S=!!(r.title!=null||u.title),B=!!(r.subtitle!=null||u.subtitle);return fe("div",{class:["v-card-item",r.class],style:r.style},[b&&fe("div",{key:"prepend",class:"v-card-item__prepend"},[u.prepend?fe(sc,{key:"prepend-defaults",disabled:!m,defaults:{VAvatar:{density:r.density,image:r.prependAvatar},VIcon:{density:r.density,icon:r.prependIcon}}},u.prepend):fe(Es,null,[r.prependAvatar&&fe(aM,{key:"prepend-avatar",density:r.density,image:r.prependAvatar},null),r.prependIcon&&fe(tr,{key:"prepend-icon",density:r.density,icon:r.prependIcon},null)])]),fe("div",{class:"v-card-item__content"},[S&&fe(lV,{key:"title"},{default:()=>{var R;return[((R=u.title)==null?void 0:R.call(u))??r.title]}}),B&&fe(mme,{key:"subtitle"},{default:()=>{var R;return[((R=u.subtitle)==null?void 0:R.call(u))??r.subtitle]}}),(N=u.default)==null?void 0:N.call(u)]),x&&fe("div",{key:"append",class:"v-card-item__append"},[u.append?fe(sc,{key:"append-defaults",disabled:!h,defaults:{VAvatar:{density:r.density,image:r.appendAvatar},VIcon:{density:r.density,icon:r.appendIcon}}},u.append):fe(Es,null,[r.appendIcon&&fe(tr,{key:"append-icon",density:r.density,icon:r.appendIcon},null),r.appendAvatar&&fe(aM,{key:"append-avatar",density:r.density,image:r.appendAvatar},null)])])])}),{}}}),xme=Jn({opacity:[Number,String],...ts(),...Ii()},"VCardText"),Up=rr()({name:"VCardText",props:xme(),setup(r,i){let{slots:u}=i;return Kr(()=>fe(r.tag,{class:["v-card-text",r.class],style:[{"--v-card-text-opacity":r.opacity},r.style]},u)),{}}}),wme=Jn({appendAvatar:String,appendIcon:gl,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:gl,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...wy(),...ts(),...qp(),...Gp(),..._y(),...JV(),...IM(),...e$(),...fg(),...o$(),...Ii(),...zl(),...zw({variant:"elevated"})},"VCard"),X0=rr()({name:"VCard",directives:{Ripple:r$},props:wme(),setup(r,i){let{attrs:u,slots:m}=i;const{themeClasses:b}=ac(r),{borderClasses:h}=Cy(r),{colorClasses:x,colorStyles:S,variantClasses:B}=mO(r),{densityClasses:N}=o1(r),{dimensionStyles:R}=Yp(r),{elevationClasses:F}=Sy(r),{loaderClasses:W}=QV(r),{locationStyles:$}=BM(r),{positionClasses:K}=t$(r),{roundedClasses:ee}=mg(r),ge=n$(r,u),he=ct(()=>r.link!==!1&&ge.isLink.value),Ue=ct(()=>!r.disabled&&r.link!==!1&&(r.link||ge.isClickable.value));return Kr(()=>{const Te=he.value?"a":r.tag,te=!!(m.title||r.title!=null),Ae=!!(m.subtitle||r.subtitle!=null),ne=te||Ae,Ge=!!(m.append||r.appendAvatar||r.appendIcon),$e=!!(m.prepend||r.prependAvatar||r.prependIcon),Ze=!!(m.image||r.image),ot=ne||$e||Ge,Ce=!!(m.text||r.text!=null);return qo(fe(Te,{class:["v-card",{"v-card--disabled":r.disabled,"v-card--flat":r.flat,"v-card--hover":r.hover&&!(r.disabled||r.flat),"v-card--link":Ue.value},b.value,h.value,x.value,N.value,F.value,W.value,K.value,ee.value,B.value,r.class],style:[S.value,R.value,$.value,r.style],href:ge.href.value,onClick:Ue.value&&ge.navigate,tabindex:r.disabled?-1:void 0},{default:()=>{var Ne;return[Ze&&fe("div",{key:"image",class:"v-card__image"},[m.image?fe(sc,{key:"image-defaults",disabled:!r.image,defaults:{VImg:{cover:!0,src:r.image}}},m.image):fe(PM,{key:"image-img",cover:!0,src:r.image},null)]),fe(rY,{name:"v-card",active:!!r.loading,color:typeof r.loading=="boolean"?void 0:r.loading},{default:m.loader}),ot&&fe(yme,{key:"item",prependAvatar:r.prependAvatar,prependIcon:r.prependIcon,title:r.title,subtitle:r.subtitle,appendAvatar:r.appendAvatar,appendIcon:r.appendIcon},{default:m.item,prepend:m.prepend,title:m.title,subtitle:m.subtitle,append:m.append}),Ce&&fe(Up,{key:"text"},{default:()=>{var D;return[((D=m.text)==null?void 0:D.call(m))??r.text]}}),(Ne=m.default)==null?void 0:Ne.call(m),m.actions&&fe($p,null,{default:m.actions}),fO(Ue.value,"v-card")]}}),[[iO("ripple"),Ue.value&&r.ripple]])}),{}}}),Cme=Jn({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function qf(r,i,u){return rr()({name:r,props:Cme({mode:u,origin:i}),setup(m,b){let{slots:h}=b;const x={onBeforeEnter(S){m.origin&&(S.style.transformOrigin=m.origin)},onLeave(S){if(m.leaveAbsolute){const{offsetTop:B,offsetLeft:N,offsetWidth:R,offsetHeight:F}=S;S._transitionInitialStyles={position:S.style.position,top:S.style.top,left:S.style.left,width:S.style.width,height:S.style.height},S.style.position="absolute",S.style.top=`${B}px`,S.style.left=`${N}px`,S.style.width=`${R}px`,S.style.height=`${F}px`}m.hideOnLeave&&S.style.setProperty("display","none","important")},onAfterLeave(S){if(m.leaveAbsolute&&(S!=null&&S._transitionInitialStyles)){const{position:B,top:N,left:R,width:F,height:W}=S._transitionInitialStyles;delete S._transitionInitialStyles,S.style.position=B||"",S.style.top=N||"",S.style.left=R||"",S.style.width=F||"",S.style.height=W||""}}};return()=>{const S=m.group?FV:Zp;return Wp(S,{name:m.disabled?"":r,css:!m.disabled,...m.group?void 0:{mode:m.mode},...m.disabled?{}:x},h.default)}}})}function bY(r,i){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return rr()({name:r,props:{mode:{type:String,default:u},disabled:Boolean,group:Boolean},setup(m,b){let{slots:h}=b;const x=m.group?FV:Zp;return()=>Wp(x,{name:m.disabled?"":r,css:!m.disabled,...m.disabled?{}:i},h.default)}})}function vY(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const u=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",m=Zf(`offset-${u}`);return{onBeforeEnter(x){x._parent=x.parentNode,x._initialStyle={transition:x.style.transition,overflow:x.style.overflow,[u]:x.style[u]}},onEnter(x){const S=x._initialStyle;x.style.setProperty("transition","none","important"),x.style.overflow="hidden";const B=`${x[m]}px`;x.style[u]="0",x.offsetHeight,x.style.transition=S.transition,r&&x._parent&&x._parent.classList.add(r),requestAnimationFrame(()=>{x.style[u]=B})},onAfterEnter:h,onEnterCancelled:h,onLeave(x){x._initialStyle={transition:"",overflow:x.style.overflow,[u]:x.style[u]},x.style.overflow="hidden",x.style[u]=`${x[m]}px`,x.offsetHeight,requestAnimationFrame(()=>x.style[u]="0")},onAfterLeave:b,onLeaveCancelled:b};function b(x){r&&x._parent&&x._parent.classList.remove(r),h(x)}function h(x){const S=x._initialStyle[u];x.style.overflow=x._initialStyle.overflow,S!=null&&(x.style[u]=S),delete x._initialStyle}}const _me=Jn({target:[Object,Array]},"v-dialog-transition"),Sme=rr()({name:"VDialogTransition",props:_me(),setup(r,i){let{slots:u}=i;const m={onBeforeEnter(b){b.style.pointerEvents="none",b.style.visibility="hidden"},async onEnter(b,h){var W;await new Promise($=>requestAnimationFrame($)),await new Promise($=>requestAnimationFrame($)),b.style.visibility="";const{x,y:S,sx:B,sy:N,speed:R}=sK(r.target,b),F=ek(b,[{transform:`translate(${x}px, ${S}px) scale(${B}, ${N})`,opacity:0},{}],{duration:225*R,easing:vce});(W=rK(b))==null||W.forEach($=>{ek($,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*R,easing:X8})}),F.finished.then(()=>h())},onAfterEnter(b){b.style.removeProperty("pointer-events")},onBeforeLeave(b){b.style.pointerEvents="none"},async onLeave(b,h){var W;await new Promise($=>requestAnimationFrame($));const{x,y:S,sx:B,sy:N,speed:R}=sK(r.target,b);ek(b,[{},{transform:`translate(${x}px, ${S}px) scale(${B}, ${N})`,opacity:0}],{duration:125*R,easing:yce}).finished.then(()=>h()),(W=rK(b))==null||W.forEach($=>{ek($,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*R,easing:X8})})},onAfterLeave(b){b.style.removeProperty("pointer-events")}};return()=>r.target?fe(Zp,_a({name:"dialog-transition"},m,{css:!1}),u):fe(Zp,{name:"dialog-transition"},u)}});function rK(r){var u;const i=(u=r.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:u.children;return i&&[...i]}function sK(r,i){const u=Yq(r),m=$V(i),[b,h]=getComputedStyle(i).transformOrigin.split(" ").map(he=>parseFloat(he)),[x,S]=getComputedStyle(i).getPropertyValue("--v-overlay-anchor-origin").split(" ");let B=u.left+u.width/2;x==="left"||S==="left"?B-=u.width/2:(x==="right"||S==="right")&&(B+=u.width/2);let N=u.top+u.height/2;x==="top"||S==="top"?N-=u.height/2:(x==="bottom"||S==="bottom")&&(N+=u.height/2);const R=u.width/m.width,F=u.height/m.height,W=Math.max(1,R,F),$=R/W||0,K=F/W||0,ee=m.width*m.height/(window.innerWidth*window.innerHeight),ge=ee>.12?Math.min(1.5,(ee-.12)*10+1):1;return{x:B-(b+m.left),y:N-(h+m.top),sx:$,sy:K,speed:ge}}qf("fab-transition","center center","out-in");qf("dialog-bottom-transition");qf("dialog-top-transition");qf("fade-transition");qf("scale-transition");qf("scroll-x-transition");qf("scroll-x-reverse-transition");qf("scroll-y-transition");qf("scroll-y-reverse-transition");qf("slide-x-transition");qf("slide-x-reverse-transition");const yY=qf("slide-y-transition");qf("slide-y-reverse-transition");const xY=bY("expand-transition",vY()),kme=bY("expand-x-transition",vY("",!0));function _H(r,i){return{x:r.x+i.x,y:r.y+i.y}}function Eme(r,i){return{x:r.x-i.x,y:r.y-i.y}}function aK(r,i){if(r.side==="top"||r.side==="bottom"){const{side:u,align:m}=r,b=m==="left"?0:m==="center"?i.width/2:m==="right"?i.width:m,h=u==="top"?0:u==="bottom"?i.height:u;return _H({x:b,y:h},i)}else if(r.side==="left"||r.side==="right"){const{side:u,align:m}=r,b=u==="left"?0:u==="right"?i.width:u,h=m==="top"?0:m==="center"?i.height/2:m==="bottom"?i.height:m;return _H({x:b,y:h},i)}return _H({x:i.width/2,y:i.height/2},i)}const wY={static:Ome,connected:Rme},Ame=Jn({locationStrategy:{type:[String,Function],default:"static",validator:r=>typeof r=="function"||r in wY},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function Tme(r,i){const u=wo({}),m=wo();pi&&yh(()=>!!(i.isActive.value&&r.locationStrategy),h=>{var x,S;Gn(()=>r.locationStrategy,h),jf(()=>{window.removeEventListener("resize",b),m.value=void 0}),window.addEventListener("resize",b,{passive:!0}),typeof r.locationStrategy=="function"?m.value=(x=r.locationStrategy(i,r,u))==null?void 0:x.updateLocation:m.value=(S=wY[r.locationStrategy](i,r,u))==null?void 0:S.updateLocation});function b(h){var x;(x=m.value)==null||x.call(m,h)}return{contentStyles:u,updateLocation:m}}function Ome(){}function Dme(r,i){const u=$V(r);return i?u.x+=parseFloat(r.style.right||0):u.x-=parseFloat(r.style.left||0),u.y-=parseFloat(r.style.top||0),u}function Rme(r,i,u){(Array.isArray(r.target.value)||Cce(r.target.value))&&Object.assign(u.value,{position:"fixed",top:0,[r.isRtl.value?"right":"left"]:0});const{preferredAnchor:b,preferredOrigin:h}=VV(()=>{const K=UH(i.location,r.isRtl.value),ee=i.origin==="overlap"?K:i.origin==="auto"?cH(K):UH(i.origin,r.isRtl.value);return K.side===ee.side&&K.align===uH(ee).align?{preferredAnchor:lj(K),preferredOrigin:lj(ee)}:{preferredAnchor:K,preferredOrigin:ee}}),[x,S,B,N]=["minWidth","minHeight","maxWidth","maxHeight"].map(K=>ct(()=>{const ee=parseFloat(i[K]);return isNaN(ee)?1/0:ee})),R=ct(()=>{if(Array.isArray(i.offset))return i.offset;if(typeof i.offset=="string"){const K=i.offset.split(" ").map(parseFloat);return K.length<2&&K.push(0),K}return typeof i.offset=="number"?[i.offset,0]:[0,0]});let F=!1;const W=new ResizeObserver(()=>{F&&$()});Gn([r.target,r.contentEl],(K,ee)=>{let[ge,he]=K,[Ue,Te]=ee;Ue&&!Array.isArray(Ue)&&W.unobserve(Ue),ge&&!Array.isArray(ge)&&W.observe(ge),Te&&W.unobserve(Te),he&&W.observe(he)},{immediate:!0}),jf(()=>{W.disconnect()});function $(){if(F=!1,requestAnimationFrame(()=>F=!0),!r.target.value||!r.contentEl.value)return;const K=Yq(r.target.value),ee=Dme(r.contentEl.value,r.isRtl.value),ge=J8(r.contentEl.value),he=12;ge.length||(ge.push(document.documentElement),r.contentEl.value.style.top&&r.contentEl.value.style.left||(ee.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),ee.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const Ue=ge.reduce((Ce,Ne)=>{const D=Ne.getBoundingClientRect(),yt=new Iw({x:Ne===document.documentElement?0:D.x,y:Ne===document.documentElement?0:D.y,width:Ne.clientWidth,height:Ne.clientHeight});return Ce?new Iw({x:Math.max(Ce.left,yt.left),y:Math.max(Ce.top,yt.top),width:Math.min(Ce.right,yt.right)-Math.max(Ce.left,yt.left),height:Math.min(Ce.bottom,yt.bottom)-Math.max(Ce.top,yt.top)}):yt},void 0);Ue.x+=he,Ue.y+=he,Ue.width-=he*2,Ue.height-=he*2;let Te={anchor:b.value,origin:h.value};function te(Ce){const Ne=new Iw(ee),D=aK(Ce.anchor,K),yt=aK(Ce.origin,Ne);let{x:Pt,y:ln}=Eme(D,yt);switch(Ce.anchor.side){case"top":ln-=R.value[0];break;case"bottom":ln+=R.value[0];break;case"left":Pt-=R.value[0];break;case"right":Pt+=R.value[0];break}switch(Ce.anchor.align){case"top":ln-=R.value[1];break;case"bottom":ln+=R.value[1];break;case"left":Pt-=R.value[1];break;case"right":Pt+=R.value[1];break}return Ne.x+=Pt,Ne.y+=ln,Ne.width=Math.min(Ne.width,B.value),Ne.height=Math.min(Ne.height,N.value),{overflows:uj(Ne,Ue),x:Pt,y:ln}}let Ae=0,ne=0;const Ge={x:0,y:0},$e={x:!1,y:!1};let Ze=-1;for(;!(Ze++>10);){const{x:Ce,y:Ne,overflows:D}=te(Te);Ae+=Ce,ne+=Ne,ee.x+=Ce,ee.y+=Ne;{const yt=cj(Te.anchor),Pt=D.x.before||D.x.after,ln=D.y.before||D.y.after;let hn=!1;if(["x","y"].forEach(Qe=>{if(Qe==="x"&&Pt&&!$e.x||Qe==="y"&&ln&&!$e.y){const On={anchor:{...Te.anchor},origin:{...Te.origin}},sr=Qe==="x"?yt==="y"?uH:cH:yt==="y"?cH:uH;On.anchor=sr(On.anchor),On.origin=sr(On.origin);const{overflows:pt}=te(On);(pt[Qe].before<=D[Qe].before&&pt[Qe].after<=D[Qe].after||pt[Qe].before+pt[Qe].after<(D[Qe].before+D[Qe].after)/2)&&(Te=On,hn=$e[Qe]=!0)}}),hn)continue}D.x.before&&(Ae+=D.x.before,ee.x+=D.x.before),D.x.after&&(Ae-=D.x.after,ee.x-=D.x.after),D.y.before&&(ne+=D.y.before,ee.y+=D.y.before),D.y.after&&(ne-=D.y.after,ee.y-=D.y.after);{const yt=uj(ee,Ue);Ge.x=Ue.width-yt.x.before-yt.x.after,Ge.y=Ue.height-yt.y.before-yt.y.after,Ae+=yt.x.before,ee.x+=yt.x.before,ne+=yt.y.before,ee.y+=yt.y.before}break}const ot=cj(Te.anchor);return Object.assign(u.value,{"--v-overlay-anchor-origin":`${Te.anchor.side} ${Te.anchor.align}`,transformOrigin:`${Te.origin.side} ${Te.origin.align}`,top:dr(SH(ne)),left:r.isRtl.value?void 0:dr(SH(Ae)),right:r.isRtl.value?dr(SH(-Ae)):void 0,minWidth:dr(ot==="y"?Math.min(x.value,K.width):x.value),maxWidth:dr(iK(Pw(Ge.x,x.value===1/0?0:x.value,B.value))),maxHeight:dr(iK(Pw(Ge.y,S.value===1/0?0:S.value,N.value)))}),{available:Ge,contentBox:ee}}return Gn(()=>[b.value,h.value,i.offset,i.minWidth,i.minHeight,i.maxWidth,i.maxHeight],()=>$()),Ma(()=>{const K=$();if(!K)return;const{available:ee,contentBox:ge}=K;ge.height>ee.y&&requestAnimationFrame(()=>{$(),requestAnimationFrame(()=>{$()})})}),{updateLocation:$}}function SH(r){return Math.round(r*devicePixelRatio)/devicePixelRatio}function iK(r){return Math.ceil(r*devicePixelRatio)/devicePixelRatio}let cV=!0;const iM=[];function Nme(r){!cV||iM.length?(iM.push(r),uV()):(cV=!1,r(),uV())}let lK=-1;function uV(){cancelAnimationFrame(lK),lK=requestAnimationFrame(()=>{const r=iM.shift();r&&r(),iM.length?uV():cV=!0})}const V8={none:null,close:Mme,block:Pme,reposition:Lme},Ime=Jn({scrollStrategy:{type:[String,Function],default:"block",validator:r=>typeof r=="function"||r in V8}},"VOverlay-scroll-strategies");function Bme(r,i){if(!pi)return;let u;xh(async()=>{u==null||u.stop(),i.isActive.value&&r.scrollStrategy&&(u=rO(),await new Promise(m=>setTimeout(m)),u.active&&u.run(()=>{var m;typeof r.scrollStrategy=="function"?r.scrollStrategy(i,r,u):(m=V8[r.scrollStrategy])==null||m.call(V8,i,r,u)}))}),jf(()=>{u==null||u.stop()})}function Mme(r){function i(u){r.isActive.value=!1}CY(r.targetEl.value??r.contentEl.value,i)}function Pme(r,i){var x;const u=(x=r.root.value)==null?void 0:x.offsetParent,m=[...new Set([...J8(r.targetEl.value,i.contained?u:void 0),...J8(r.contentEl.value,i.contained?u:void 0)])].filter(S=>!S.classList.contains("v-overlay-scroll-blocked")),b=window.innerWidth-document.documentElement.offsetWidth,h=(S=>ZV(S)&&S)(u||document.documentElement);h&&r.root.value.classList.add("v-overlay--scroll-blocked"),m.forEach((S,B)=>{S.style.setProperty("--v-body-scroll-x",dr(-S.scrollLeft)),S.style.setProperty("--v-body-scroll-y",dr(-S.scrollTop)),S!==document.documentElement&&S.style.setProperty("--v-scrollbar-offset",dr(b)),S.classList.add("v-overlay-scroll-blocked")}),jf(()=>{m.forEach((S,B)=>{const N=parseFloat(S.style.getPropertyValue("--v-body-scroll-x")),R=parseFloat(S.style.getPropertyValue("--v-body-scroll-y")),F=S.style.scrollBehavior;S.style.scrollBehavior="auto",S.style.removeProperty("--v-body-scroll-x"),S.style.removeProperty("--v-body-scroll-y"),S.style.removeProperty("--v-scrollbar-offset"),S.classList.remove("v-overlay-scroll-blocked"),S.scrollLeft=-N,S.scrollTop=-R,S.style.scrollBehavior=F}),h&&r.root.value.classList.remove("v-overlay--scroll-blocked")})}function Lme(r,i,u){let m=!1,b=-1,h=-1;function x(S){Nme(()=>{var R,F;const B=performance.now();(F=(R=r.updateLocation).value)==null||F.call(R,S),m=(performance.now()-B)/(1e3/60)>2})}h=(typeof requestIdleCallback>"u"?S=>S():requestIdleCallback)(()=>{u.run(()=>{CY(r.targetEl.value??r.contentEl.value,S=>{m?(cancelAnimationFrame(b),b=requestAnimationFrame(()=>{b=requestAnimationFrame(()=>{x(S)})})):x(S)})})}),jf(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(h),cancelAnimationFrame(b)})}function CY(r,i){const u=[document,...J8(r)];u.forEach(m=>{m.addEventListener("scroll",i,{passive:!0})}),jf(()=>{u.forEach(m=>{m.removeEventListener("scroll",i)})})}const Fme=Symbol.for("vuetify:v-menu"),_Y=Jn({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function SY(r,i){let u=()=>{};function m(x){u==null||u();const S=Number(x?r.openDelay:r.closeDelay);return new Promise(B=>{u=$le(S,()=>{i==null||i(x),B(x)})})}function b(){return m(!0)}function h(){return m(!1)}return{clearDelay:u,runOpenDelay:b,runCloseDelay:h}}const zme=Jn({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,..._Y()},"VOverlay-activator");function Hme(r,i){let{isActive:u,isTop:m,contentEl:b}=i;const h=kl("useActivator"),x=wo();let S=!1,B=!1,N=!0;const R=ct(()=>r.openOnFocus||r.openOnFocus==null&&r.openOnHover),F=ct(()=>r.openOnClick||r.openOnClick==null&&!r.openOnHover&&!R.value),{runOpenDelay:W,runCloseDelay:$}=SY(r,$e=>{$e===(r.openOnHover&&S||R.value&&B)&&!(r.openOnHover&&u.value&&!m.value)&&(u.value!==$e&&(N=!0),u.value=$e)}),K=wo(),ee={onClick:$e=>{$e.stopPropagation(),x.value=$e.currentTarget||$e.target,u.value||(K.value=[$e.clientX,$e.clientY]),u.value=!u.value},onMouseenter:$e=>{var Ze;(Ze=$e.sourceCapabilities)!=null&&Ze.firesTouchEvents||(S=!0,x.value=$e.currentTarget||$e.target,W())},onMouseleave:$e=>{S=!1,$()},onFocus:$e=>{Vle($e.target,":focus-visible")!==!1&&(B=!0,$e.stopPropagation(),x.value=$e.currentTarget||$e.target,W())},onBlur:$e=>{B=!1,$e.stopPropagation(),$()}},ge=ct(()=>{const $e={};return F.value&&($e.onClick=ee.onClick),r.openOnHover&&($e.onMouseenter=ee.onMouseenter,$e.onMouseleave=ee.onMouseleave),R.value&&($e.onFocus=ee.onFocus,$e.onBlur=ee.onBlur),$e}),he=ct(()=>{const $e={};if(r.openOnHover&&($e.onMouseenter=()=>{S=!0,W()},$e.onMouseleave=()=>{S=!1,$()}),R.value&&($e.onFocusin=()=>{B=!0,W()},$e.onFocusout=()=>{B=!1,$()}),r.closeOnContentClick){const Ze=Yi(Fme,null);$e.onClick=()=>{u.value=!1,Ze==null||Ze.closeParents()}}return $e}),Ue=ct(()=>{const $e={};return r.openOnHover&&($e.onMouseenter=()=>{N&&(S=!0,N=!1,W())},$e.onMouseleave=()=>{S=!1,$()}),$e});Gn(m,$e=>{var Ze;$e&&(r.openOnHover&&!S&&(!R.value||!B)||R.value&&!B&&(!r.openOnHover||!S))&&!((Ze=b.value)!=null&&Ze.contains(document.activeElement))&&(u.value=!1)}),Gn(u,$e=>{$e||setTimeout(()=>{K.value=void 0})},{flush:"post"});const Te=$H();xh(()=>{Te.value&&Ma(()=>{x.value=Te.el})});const te=$H(),Ae=ct(()=>r.target==="cursor"&&K.value?K.value:te.value?te.el:kY(r.target,h)||x.value),ne=ct(()=>Array.isArray(Ae.value)?void 0:Ae.value);let Ge;return Gn(()=>!!r.activator,$e=>{$e&&pi?(Ge=rO(),Ge.run(()=>{Vme(r,h,{activatorEl:x,activatorEvents:ge})})):Ge&&Ge.stop()},{flush:"post",immediate:!0}),jf(()=>{Ge==null||Ge.stop()}),{activatorEl:x,activatorRef:Te,target:Ae,targetEl:ne,targetRef:te,activatorEvents:ge,contentEvents:he,scrimEvents:Ue}}function Vme(r,i,u){let{activatorEl:m,activatorEvents:b}=u;Gn(()=>r.activator,(B,N)=>{if(N&&B!==N){const R=S(N);R&&x(R)}B&&Ma(()=>h())},{immediate:!0}),Gn(()=>r.activatorProps,()=>{h()}),jf(()=>{x()});function h(){let B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S(),N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.activatorProps;B&&Wle(B,_a(b.value,N))}function x(){let B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S(),N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.activatorProps;B&&Zle(B,_a(b.value,N))}function S(){let B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.activator;const N=kY(B,i);return m.value=(N==null?void 0:N.nodeType)===Node.ELEMENT_NODE?N:void 0,m.value}}function kY(r,i){var m,b;if(!r)return;let u;if(r==="parent"){let h=(b=(m=i==null?void 0:i.proxy)==null?void 0:m.$el)==null?void 0:b.parentNode;for(;h!=null&&h.hasAttribute("data-no-activator");)h=h.parentNode;u=h}else typeof r=="string"?u=document.querySelector(r):"$el"in r?u=r.$el:u=r;return u}function $me(){if(!pi)return Tr(!1);const{ssr:r}=dG();if(r){const i=Tr(!1);return Ic(()=>{i.value=!0}),i}else return Tr(!0)}const Ume=Jn({eager:Boolean},"lazy");function Wme(r,i){const u=Tr(!1),m=ct(()=>u.value||r.eager||i.value);Gn(i,()=>u.value=!0);function b(){r.eager||(u.value=!1)}return{isBooted:u,hasContent:m,onAfterLeave:b}}function s$(){const i=kl("useScopeId").vnode.scopeId;return{scopeId:i?{[i]:""}:void 0}}const cK=Symbol.for("vuetify:stack"),VT=mu([]);function Zme(r,i,u){const m=kl("useStack"),b=!u,h=Yi(cK,void 0),x=mu({activeChildren:new Set});Kf(cK,x);const S=Tr(+i.value);yh(r,()=>{var F;const R=(F=VT.at(-1))==null?void 0:F[1];S.value=R?R+10:+i.value,b&&VT.push([m.uid,S.value]),h==null||h.activeChildren.add(m.uid),jf(()=>{if(b){const W=Ao(VT).findIndex($=>$[0]===m.uid);VT.splice(W,1)}h==null||h.activeChildren.delete(m.uid)})});const B=Tr(!0);b&&xh(()=>{var F;const R=((F=VT.at(-1))==null?void 0:F[0])===m.uid;setTimeout(()=>B.value=R)});const N=ct(()=>!x.activeChildren.size);return{globalTop:sO(B),localTop:N,stackStyles:ct(()=>({zIndex:S.value}))}}function jme(r){return{teleportTarget:ct(()=>{const u=r();if(u===!0||!pi)return;const m=u===!1?document.body:typeof u=="string"?document.querySelector(u):u;if(m==null)return;let b=[...m.children].find(h=>h.matches(".v-overlay-container"));return b||(b=document.createElement("div"),b.className="v-overlay-container",m.appendChild(b)),b})}}function Kme(){return!0}function EY(r,i,u){if(!r||AY(r,u)===!1)return!1;const m=oG(i);if(typeof ShadowRoot<"u"&&m instanceof ShadowRoot&&m.host===r.target)return!1;const b=(typeof u.value=="object"&&u.value.include||(()=>[]))();return b.push(i),!b.some(h=>h==null?void 0:h.contains(r.target))}function AY(r,i){return(typeof i.value=="object"&&i.value.closeConditional||Kme)(r)}function qme(r,i,u){const m=typeof u.value=="function"?u.value:u.value.handler;r.shadowTarget=r.target,i._clickOutside.lastMousedownWasOutside&&EY(r,i,u)&&setTimeout(()=>{AY(r,u)&&m&&m(r)},0)}function uK(r,i){const u=oG(r);i(document),typeof ShadowRoot<"u"&&u instanceof ShadowRoot&&i(u)}const Gme={mounted(r,i){const u=b=>qme(b,r,i),m=b=>{r._clickOutside.lastMousedownWasOutside=EY(b,r,i)};uK(r,b=>{b.addEventListener("click",u,!0),b.addEventListener("mousedown",m,!0)}),r._clickOutside||(r._clickOutside={lastMousedownWasOutside:!1}),r._clickOutside[i.instance.$.uid]={onClick:u,onMousedown:m}},beforeUnmount(r,i){r._clickOutside&&(uK(r,u=>{var h;if(!u||!((h=r._clickOutside)!=null&&h[i.instance.$.uid]))return;const{onClick:m,onMousedown:b}=r._clickOutside[i.instance.$.uid];u.removeEventListener("click",m,!0),u.removeEventListener("mousedown",b,!0)}),delete r._clickOutside[i.instance.$.uid])}};function Yme(r){const{modelValue:i,color:u,...m}=r;return fe(Zp,{name:"fade-transition",appear:!0},{default:()=>[r.modelValue&&fe("div",_a({class:["v-overlay__scrim",r.color.backgroundColorClasses.value],style:r.color.backgroundColorStyles.value},m),null)]})}const TY=Jn({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...zme(),...ts(),...Gp(),...Ume(),...Ame(),...Ime(),...zl(),...MM()},"VOverlay"),dK=rr()({name:"VOverlay",directives:{ClickOutside:Gme},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...TY()},emits:{"click:outside":r=>!0,"update:modelValue":r=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(r,i){let{slots:u,attrs:m,emit:b}=i;const h=kl("VOverlay"),x=wo(),S=wo(),B=wo(),N=Pd(r,"modelValue"),R=ct({get:()=>N.value,set:xn=>{xn&&r.disabled||(N.value=xn)}}),{themeClasses:F}=ac(r),{rtlClasses:W,isRtl:$}=n1(),{hasContent:K,onAfterLeave:ee}=Wme(r,R),ge=Vp(ct(()=>typeof r.scrim=="string"?r.scrim:null)),{globalTop:he,localTop:Ue,stackStyles:Te}=Zme(R,jr(r,"zIndex"),r._disableGlobalStack),{activatorEl:te,activatorRef:Ae,target:ne,targetEl:Ge,targetRef:$e,activatorEvents:Ze,contentEvents:ot,scrimEvents:Ce}=Hme(r,{isActive:R,isTop:Ue,contentEl:B}),{teleportTarget:Ne}=jme(()=>{var J,ir,vr;const xn=r.attach||r.contained;if(xn)return xn;const Rn=((J=te==null?void 0:te.value)==null?void 0:J.getRootNode())||((vr=(ir=h.proxy)==null?void 0:ir.$el)==null?void 0:vr.getRootNode());return Rn instanceof ShadowRoot?Rn:!1}),{dimensionStyles:D}=Yp(r),yt=$me(),{scopeId:Pt}=s$();Gn(()=>r.disabled,xn=>{xn&&(R.value=!1)});const{contentStyles:ln,updateLocation:hn}=Tme(r,{isRtl:$,contentEl:B,target:ne,isActive:R});Bme(r,{root:x,contentEl:B,targetEl:Ge,isActive:R,updateLocation:hn});function Qe(xn){b("click:outside",xn),r.persistent?Zt():R.value=!1}function On(xn){return R.value&&he.value&&(!r.scrim||xn.target===S.value||xn instanceof MouseEvent&&xn.shadowTarget===S.value)}pi&&Gn(R,xn=>{xn?window.addEventListener("keydown",sr):window.removeEventListener("keydown",sr)},{immediate:!0}),Bc(()=>{pi&&window.removeEventListener("keydown",sr)});function sr(xn){var Rn,J;xn.key==="Escape"&&he.value&&(r.persistent?Zt():(R.value=!1,(Rn=B.value)!=null&&Rn.contains(document.activeElement)&&((J=te.value)==null||J.focus())))}const pt=sY();yh(()=>r.closeOnBack,()=>{ome(pt,xn=>{he.value&&R.value?(xn(!1),r.persistent?Zt():R.value=!1):xn()})});const bt=wo();Gn(()=>R.value&&(r.absolute||r.contained)&&Ne.value==null,xn=>{if(xn){const Rn=xce(x.value);Rn&&Rn!==document.scrollingElement&&(bt.value=Rn.scrollTop)}});function Zt(){r.noClickAnimation||B.value&&ek(B.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:X8})}function Ur(){b("afterEnter")}function ho(){ee(),b("afterLeave")}return Kr(()=>{var xn;return fe(Es,null,[(xn=u.activator)==null?void 0:xn.call(u,{isActive:R.value,targetRef:$e,props:_a({ref:Ae},Ze.value,r.activatorProps)}),yt.value&&K.value&&fe(wie,{disabled:!Ne.value,to:Ne.value},{default:()=>[fe("div",_a({class:["v-overlay",{"v-overlay--absolute":r.absolute||r.contained,"v-overlay--active":R.value,"v-overlay--contained":r.contained},F.value,W.value,r.class],style:[Te.value,{"--v-overlay-opacity":r.opacity,top:dr(bt.value)},r.style],ref:x},Pt,m),[fe(Yme,_a({color:ge,modelValue:R.value&&!!r.scrim,ref:S},Ce.value),null),fe(ly,{appear:!0,persisted:!0,transition:r.transition,target:ne.value,onAfterEnter:Ur,onAfterLeave:ho},{default:()=>{var Rn;return[qo(fe("div",_a({ref:B,class:["v-overlay__content",r.contentClass],style:[D.value,ln.value]},ot.value,r.contentProps),[(Rn=u.default)==null?void 0:Rn.call(u,{isActive:R})]),[[pr,R.value],[iO("click-outside"),{handler:Qe,closeConditional:On,include:()=>[te.value]}]])]}})])]})])}),{activatorEl:te,scrimEl:S,target:ne,animateClick:Zt,contentEl:B,globalTop:he,localTop:Ue,updateLocation:hn}}}),kH=Symbol("Forwarded refs");function EH(r,i){let u=r;for(;u;){const m=Reflect.getOwnPropertyDescriptor(u,i);if(m)return m;u=Object.getPrototypeOf(u)}}function OY(r){for(var i=arguments.length,u=new Array(i>1?i-1:0),m=1;m<i;m++)u[m-1]=arguments[m];return r[kH]=u,new Proxy(r,{get(b,h){if(Reflect.has(b,h))return Reflect.get(b,h);if(!(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))){for(const x of u)if(x.value&&Reflect.has(x.value,h)){const S=Reflect.get(x.value,h);return typeof S=="function"?S.bind(x.value):S}}},has(b,h){if(Reflect.has(b,h))return!0;if(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))return!1;for(const x of u)if(x.value&&Reflect.has(x.value,h))return!0;return!1},set(b,h,x){if(Reflect.has(b,h))return Reflect.set(b,h,x);if(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))return!1;for(const S of u)if(S.value&&Reflect.has(S.value,h))return Reflect.set(S.value,h,x);return!1},getOwnPropertyDescriptor(b,h){var S;const x=Reflect.getOwnPropertyDescriptor(b,h);if(x)return x;if(!(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))){for(const B of u){if(!B.value)continue;const N=EH(B.value,h)??("_"in B.value?EH((S=B.value._)==null?void 0:S.setupState,h):void 0);if(N)return N}for(const B of u){const N=B.value&&B.value[kH];if(!N)continue;const R=N.slice();for(;R.length;){const F=R.shift(),W=EH(F.value,h);if(W)return W;const $=F.value&&F.value[kH];$&&R.push(...$)}}}}})}const Xme=Jn({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...TY({origin:"center center",scrollStrategy:"block",transition:{component:Sme},zIndex:2400})},"VDialog"),J0=rr()({name:"VDialog",props:Xme(),emits:{"update:modelValue":r=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(r,i){let{emit:u,slots:m}=i;const b=Pd(r,"modelValue"),{scopeId:h}=s$(),x=wo();function S(R){var $,K;const F=R.relatedTarget,W=R.target;if(F!==W&&(($=x.value)!=null&&$.contentEl)&&((K=x.value)!=null&&K.globalTop)&&![document,x.value.contentEl].includes(W)&&!x.value.contentEl.contains(W)){const ee=Kq(x.value.contentEl);if(!ee.length)return;const ge=ee[0],he=ee[ee.length-1];F===ge?he.focus():ge.focus()}}pi&&Gn(()=>b.value&&r.retainFocus,R=>{R?document.addEventListener("focusin",S):document.removeEventListener("focusin",S)},{immediate:!0});function B(){var R;u("afterEnter"),(R=x.value)!=null&&R.contentEl&&!x.value.contentEl.contains(document.activeElement)&&x.value.contentEl.focus({preventScroll:!0})}function N(){u("afterLeave")}return Gn(b,async R=>{var F;R||(await Ma(),(F=x.value.activatorEl)==null||F.focus({preventScroll:!0}))}),Kr(()=>{const R=dK.filterProps(r),F=_a({"aria-haspopup":"dialog","aria-expanded":String(b.value)},r.activatorProps),W=_a({tabindex:-1},r.contentProps);return fe(dK,_a({ref:x,class:["v-dialog",{"v-dialog--fullscreen":r.fullscreen,"v-dialog--scrollable":r.scrollable},r.class],style:r.style},R,{modelValue:b.value,"onUpdate:modelValue":$=>b.value=$,"aria-modal":"true",activatorProps:F,contentProps:W,role:"dialog",onAfterEnter:B,onAfterLeave:N},h),{activator:m.activator,default:function(){for(var $=arguments.length,K=new Array($),ee=0;ee<$;ee++)K[ee]=arguments[ee];return fe(sc,{root:"VDialog"},{default:()=>{var ge;return[(ge=m.default)==null?void 0:ge.call(m,...K)]}})}})}),OY({},x)}}),dV=Symbol.for("vuetify:list");function DY(){const r=Yi(dV,{hasPrepend:Tr(!1),updateHasPrepend:()=>null}),i={hasPrepend:Tr(!1),updateHasPrepend:u=>{u&&(i.hasPrepend.value=u)}};return Kf(dV,i),r}function RY(){return Yi(dV,null)}const a$=r=>{const i={activate:u=>{let{id:m,value:b,activated:h}=u;return m=Ao(m),r&&!b&&h.size===1&&h.has(m)||(b?h.add(m):h.delete(m)),h},in:(u,m,b)=>{let h=new Set;if(u!=null)for(const x of Rw(u))h=i.activate({id:x,value:!0,activated:new Set(h),children:m,parents:b});return h},out:u=>Array.from(u)};return i},NY=r=>{const i=a$(r);return{activate:m=>{let{activated:b,id:h,...x}=m;h=Ao(h);const S=b.has(h)?new Set([h]):new Set;return i.activate({...x,id:h,activated:S})},in:(m,b,h)=>{let x=new Set;if(m!=null){const S=Rw(m);S.length&&(x=i.in(S.slice(0,1),b,h))}return x},out:(m,b,h)=>i.out(m,b,h)}},Jme=r=>{const i=a$(r);return{activate:m=>{let{id:b,activated:h,children:x,...S}=m;return b=Ao(b),x.has(b)?h:i.activate({id:b,activated:h,children:x,...S})},in:i.in,out:i.out}},Qme=r=>{const i=NY(r);return{activate:m=>{let{id:b,activated:h,children:x,...S}=m;return b=Ao(b),x.has(b)?h:i.activate({id:b,activated:h,children:x,...S})},in:i.in,out:i.out}},ege={open:r=>{let{id:i,value:u,opened:m,parents:b}=r;if(u){const h=new Set;h.add(i);let x=b.get(i);for(;x!=null;)h.add(x),x=b.get(x);return h}else return m.delete(i),m},select:()=>null},IY={open:r=>{let{id:i,value:u,opened:m,parents:b}=r;if(u){let h=Ao(b.get(i));for(m.add(i);h!=null&&h!==i;)m.add(h),h=Ao(b.get(h));return m}else m.delete(i);return m},select:()=>null},tge={open:IY.open,select:r=>{let{id:i,value:u,opened:m,parents:b}=r;if(!u)return m;const h=[];let x=b.get(i);for(;x!=null;)h.push(x),x=b.get(x);return new Set(h)}},i$=r=>{const i={select:u=>{let{id:m,value:b,selected:h}=u;if(m=Ao(m),r&&!b){const x=Array.from(h.entries()).reduce((S,B)=>{let[N,R]=B;return R==="on"&&S.push(N),S},[]);if(x.length===1&&x[0]===m)return h}return h.set(m,b?"on":"off"),h},in:(u,m,b)=>{let h=new Map;for(const x of u||[])h=i.select({id:x,value:!0,selected:new Map(h),children:m,parents:b});return h},out:u=>{const m=[];for(const[b,h]of u.entries())h==="on"&&m.push(b);return m}};return i},BY=r=>{const i=i$(r);return{select:m=>{let{selected:b,id:h,...x}=m;h=Ao(h);const S=b.has(h)?new Map([[h,b.get(h)]]):new Map;return i.select({...x,id:h,selected:S})},in:(m,b,h)=>{let x=new Map;return m!=null&&m.length&&(x=i.in(m.slice(0,1),b,h)),x},out:(m,b,h)=>i.out(m,b,h)}},nge=r=>{const i=i$(r);return{select:m=>{let{id:b,selected:h,children:x,...S}=m;return b=Ao(b),x.has(b)?h:i.select({id:b,selected:h,children:x,...S})},in:i.in,out:i.out}},oge=r=>{const i=BY(r);return{select:m=>{let{id:b,selected:h,children:x,...S}=m;return b=Ao(b),x.has(b)?h:i.select({id:b,selected:h,children:x,...S})},in:i.in,out:i.out}},rge=r=>{const i={select:u=>{let{id:m,value:b,selected:h,children:x,parents:S}=u;m=Ao(m);const B=new Map(h),N=[m];for(;N.length;){const F=N.shift();h.set(Ao(F),b?"on":"off"),x.has(F)&&N.push(...x.get(F))}let R=Ao(S.get(m));for(;R;){const F=x.get(R),W=F.every(K=>h.get(Ao(K))==="on"),$=F.every(K=>!h.has(Ao(K))||h.get(Ao(K))==="off");h.set(R,W?"on":$?"off":"indeterminate"),R=Ao(S.get(R))}return r&&!b&&Array.from(h.entries()).reduce((W,$)=>{let[K,ee]=$;return ee==="on"&&W.push(K),W},[]).length===0?B:h},in:(u,m,b)=>{let h=new Map;for(const x of u||[])h=i.select({id:x,value:!0,selected:new Map(h),children:m,parents:b});return h},out:(u,m)=>{const b=[];for(const[h,x]of u.entries())x==="on"&&!m.has(h)&&b.push(h);return b}};return i},oO=Symbol.for("vuetify:nested"),MY={id:Tr(),root:{register:()=>null,unregister:()=>null,parents:wo(new Map),children:wo(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:wo(!1),selectable:wo(!1),opened:wo(new Set),activated:wo(new Set),selected:wo(new Map),selectedValues:wo([])}},sge=Jn({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),age=r=>{let i=!1;const u=wo(new Map),m=wo(new Map),b=Pd(r,"opened",r.opened,$=>new Set(Ao($)),$=>[...$.values()]),h=ct(()=>{if(typeof r.activeStrategy=="object")return r.activeStrategy;if(typeof r.activeStrategy=="function")return r.activeStrategy(r.mandatory);switch(r.activeStrategy){case"leaf":return Jme(r.mandatory);case"single-leaf":return Qme(r.mandatory);case"independent":return a$(r.mandatory);case"single-independent":default:return NY(r.mandatory)}}),x=ct(()=>{if(typeof r.selectStrategy=="object")return r.selectStrategy;if(typeof r.selectStrategy=="function")return r.selectStrategy(r.mandatory);switch(r.selectStrategy){case"single-leaf":return oge(r.mandatory);case"leaf":return nge(r.mandatory);case"independent":return i$(r.mandatory);case"single-independent":return BY(r.mandatory);case"classic":default:return rge(r.mandatory)}}),S=ct(()=>{if(typeof r.openStrategy=="object")return r.openStrategy;switch(r.openStrategy){case"list":return tge;case"single":return ege;case"multiple":default:return IY}}),B=Pd(r,"activated",r.activated,$=>h.value.in($,u.value,m.value),$=>h.value.out($,u.value,m.value)),N=Pd(r,"selected",r.selected,$=>x.value.in($,u.value,m.value),$=>x.value.out($,u.value,m.value));Bc(()=>{i=!0});function R($){const K=[];let ee=$;for(;ee!=null;)K.unshift(ee),ee=m.value.get(ee);return K}const F=kl("nested"),W={id:Tr(),root:{opened:b,activatable:jr(r,"activatable"),selectable:jr(r,"selectable"),activated:B,selected:N,selectedValues:ct(()=>{const $=[];for(const[K,ee]of N.value.entries())ee==="on"&&$.push(K);return $}),register:($,K,ee)=>{K&&$!==K&&m.value.set($,K),ee&&u.value.set($,[]),K!=null&&u.value.set(K,[...u.value.get(K)||[],$])},unregister:$=>{if(i)return;u.value.delete($);const K=m.value.get($);if(K){const ee=u.value.get(K)??[];u.value.set(K,ee.filter(ge=>ge!==$))}m.value.delete($)},open:($,K,ee)=>{F.emit("click:open",{id:$,value:K,path:R($),event:ee});const ge=S.value.open({id:$,value:K,opened:new Set(b.value),children:u.value,parents:m.value,event:ee});ge&&(b.value=ge)},openOnSelect:($,K,ee)=>{const ge=S.value.select({id:$,value:K,selected:new Map(N.value),opened:new Set(b.value),children:u.value,parents:m.value,event:ee});ge&&(b.value=ge)},select:($,K,ee)=>{F.emit("click:select",{id:$,value:K,path:R($),event:ee});const ge=x.value.select({id:$,value:K,selected:new Map(N.value),children:u.value,parents:m.value,event:ee});ge&&(N.value=ge),W.root.openOnSelect($,K,ee)},activate:($,K,ee)=>{if(!r.activatable)return W.root.select($,!0,ee);F.emit("click:activate",{id:$,value:K,path:R($),event:ee});const ge=h.value.activate({id:$,value:K,activated:new Set(B.value),children:u.value,parents:m.value,event:ee});ge&&(B.value=ge)},children:u,parents:m}};return Kf(oO,W),W.root},PY=(r,i)=>{const u=Yi(oO,MY),m=Symbol(xy()),b=ct(()=>r.value!==void 0?r.value:m),h={...u,id:b,open:(x,S)=>u.root.open(Ao(b.value),x,S),openOnSelect:(x,S)=>u.root.openOnSelect(b.value,x,S),isOpen:ct(()=>u.root.opened.value.has(Ao(b.value))),parent:ct(()=>u.root.parents.value.get(b.value)),activate:(x,S)=>u.root.activate(b.value,x,S),isActivated:ct(()=>u.root.activated.value.has(Ao(b.value))),select:(x,S)=>u.root.select(b.value,x,S),isSelected:ct(()=>u.root.selected.value.get(Ao(b.value))==="on"),isIndeterminate:ct(()=>u.root.selected.value.get(b.value)==="indeterminate"),isLeaf:ct(()=>!u.root.children.value.get(b.value)),isGroupActivator:u.isGroupActivator};return!u.isGroupActivator&&u.root.register(b.value,u.id.value,i),Bc(()=>{!u.isGroupActivator&&u.root.unregister(b.value)}),i&&Kf(oO,h),h},ige=()=>{const r=Yi(oO,MY);Kf(oO,{...r,isGroupActivator:!0})};function LM(){const r=Tr(!1);return Ic(()=>{window.requestAnimationFrame(()=>{r.value=!0})}),{ssrBootStyles:ct(()=>r.value?void 0:{transition:"none !important"}),isBooted:sO(r)}}const lge=fk({name:"VListGroupActivator",setup(r,i){let{slots:u}=i;return ige(),()=>{var m;return(m=u.default)==null?void 0:m.call(u)}}}),cge=Jn({activeColor:String,baseColor:String,color:String,collapseIcon:{type:gl,default:"$collapse"},expandIcon:{type:gl,default:"$expand"},prependIcon:gl,appendIcon:gl,fluid:Boolean,subgroup:Boolean,title:String,value:null,...ts(),...Ii()},"VListGroup"),fK=rr()({name:"VListGroup",props:cge(),setup(r,i){let{slots:u}=i;const{isOpen:m,open:b,id:h}=PY(jr(r,"value"),!0),x=ct(()=>`v-list-group--id-${String(h.value)}`),S=RY(),{isBooted:B}=LM();function N($){$.stopPropagation(),b(!m.value,$)}const R=ct(()=>({onClick:N,class:"v-list-group__header",id:x.value})),F=ct(()=>m.value?r.collapseIcon:r.expandIcon),W=ct(()=>({VListItem:{active:m.value,activeColor:r.activeColor,baseColor:r.baseColor,color:r.color,prependIcon:r.prependIcon||r.subgroup&&F.value,appendIcon:r.appendIcon||!r.subgroup&&F.value,title:r.title,value:r.value}}));return Kr(()=>fe(r.tag,{class:["v-list-group",{"v-list-group--prepend":S==null?void 0:S.hasPrepend.value,"v-list-group--fluid":r.fluid,"v-list-group--subgroup":r.subgroup,"v-list-group--open":m.value},r.class],style:r.style},{default:()=>[u.activator&&fe(sc,{defaults:W.value},{default:()=>[fe(lge,null,{default:()=>[u.activator({props:R.value,isOpen:m.value})]})]}),fe(ly,{transition:{component:xY},disabled:!B.value},{default:()=>{var $;return[qo(fe("div",{class:"v-list-group__items",role:"group","aria-labelledby":x.value},[($=u.default)==null?void 0:$.call(u)]),[[pr,m.value]])]}})]})),{isOpen:m}}}),uge=Jn({opacity:[Number,String],...ts(),...Ii()},"VListItemSubtitle"),dge=rr()({name:"VListItemSubtitle",props:uge(),setup(r,i){let{slots:u}=i;return Kr(()=>fe(r.tag,{class:["v-list-item-subtitle",r.class],style:[{"--v-list-item-subtitle-opacity":r.opacity},r.style]},u)),{}}}),fge=xM("v-list-item-title"),mge=Jn({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:gl,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:gl,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:ug(),onClickOnce:ug(),...wy(),...ts(),...qp(),...Gp(),..._y(),...fg(),...o$(),...Ii(),...zl(),...zw({variant:"text"})},"VListItem"),Fp=rr()({name:"VListItem",directives:{Ripple:r$},props:mge(),emits:{click:r=>!0},setup(r,i){let{attrs:u,slots:m,emit:b}=i;const h=n$(r,u),x=ct(()=>r.value===void 0?h.href.value:r.value),{activate:S,isActivated:B,select:N,isOpen:R,isSelected:F,isIndeterminate:W,isGroupActivator:$,root:K,parent:ee,openOnSelect:ge}=PY(x,!1),he=RY(),Ue=ct(()=>{var pt;return r.active!==!1&&(r.active||((pt=h.isActive)==null?void 0:pt.value)||(K.activatable.value?B.value:F.value))}),Te=ct(()=>r.link!==!1&&h.isLink.value),te=ct(()=>!r.disabled&&r.link!==!1&&(r.link||h.isClickable.value||!!he&&(K.selectable.value||K.activatable.value||r.value!=null))),Ae=ct(()=>r.rounded||r.nav),ne=ct(()=>r.color??r.activeColor),Ge=ct(()=>({color:Ue.value?ne.value??r.baseColor:r.baseColor,variant:r.variant}));Gn(()=>{var pt;return(pt=h.isActive)==null?void 0:pt.value},pt=>{pt&&ee.value!=null&&K.open(ee.value,!0),pt&&ge(pt)},{immediate:!0});const{themeClasses:$e}=ac(r),{borderClasses:Ze}=Cy(r),{colorClasses:ot,colorStyles:Ce,variantClasses:Ne}=mO(Ge),{densityClasses:D}=o1(r),{dimensionStyles:yt}=Yp(r),{elevationClasses:Pt}=Sy(r),{roundedClasses:ln}=mg(Ae),hn=ct(()=>r.lines?`v-list-item--${r.lines}-line`:void 0),Qe=ct(()=>({isActive:Ue.value,select:N,isOpen:R.value,isSelected:F.value,isIndeterminate:W.value}));function On(pt){var bt;b("click",pt),te.value&&((bt=h.navigate)==null||bt.call(h,pt),!$&&(K.activatable.value?S(!B.value,pt):(K.selectable.value||r.value!=null)&&N(!F.value,pt)))}function sr(pt){(pt.key==="Enter"||pt.key===" ")&&(pt.preventDefault(),pt.target.dispatchEvent(new MouseEvent("click",pt)))}return Kr(()=>{const pt=Te.value?"a":r.tag,bt=m.title||r.title!=null,Zt=m.subtitle||r.subtitle!=null,Ur=!!(r.appendAvatar||r.appendIcon),ho=!!(Ur||m.append),xn=!!(r.prependAvatar||r.prependIcon),Rn=!!(xn||m.prepend);return he==null||he.updateHasPrepend(Rn),r.activeColor&&Qle("active-color",["color","base-color"]),qo(fe(pt,{class:["v-list-item",{"v-list-item--active":Ue.value,"v-list-item--disabled":r.disabled,"v-list-item--link":te.value,"v-list-item--nav":r.nav,"v-list-item--prepend":!Rn&&(he==null?void 0:he.hasPrepend.value),"v-list-item--slim":r.slim,[`${r.activeClass}`]:r.activeClass&&Ue.value},$e.value,Ze.value,ot.value,D.value,Pt.value,hn.value,ln.value,Ne.value,r.class],style:[Ce.value,yt.value,r.style],href:h.href.value,tabindex:te.value?he?-2:0:void 0,onClick:On,onKeydown:te.value&&!Te.value&&sr},{default:()=>{var J;return[fO(te.value||Ue.value,"v-list-item"),Rn&&fe("div",{key:"prepend",class:"v-list-item__prepend"},[m.prepend?fe(sc,{key:"prepend-defaults",disabled:!xn,defaults:{VAvatar:{density:r.density,image:r.prependAvatar},VIcon:{density:r.density,icon:r.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var ir;return[(ir=m.prepend)==null?void 0:ir.call(m,Qe.value)]}}):fe(Es,null,[r.prependAvatar&&fe(aM,{key:"prepend-avatar",density:r.density,image:r.prependAvatar},null),r.prependIcon&&fe(tr,{key:"prepend-icon",density:r.density,icon:r.prependIcon},null)]),fe("div",{class:"v-list-item__spacer"},null)]),fe("div",{class:"v-list-item__content","data-no-activator":""},[bt&&fe(fge,{key:"title"},{default:()=>{var ir;return[((ir=m.title)==null?void 0:ir.call(m,{title:r.title}))??r.title]}}),Zt&&fe(dge,{key:"subtitle"},{default:()=>{var ir;return[((ir=m.subtitle)==null?void 0:ir.call(m,{subtitle:r.subtitle}))??r.subtitle]}}),(J=m.default)==null?void 0:J.call(m,Qe.value)]),ho&&fe("div",{key:"append",class:"v-list-item__append"},[m.append?fe(sc,{key:"append-defaults",disabled:!Ur,defaults:{VAvatar:{density:r.density,image:r.appendAvatar},VIcon:{density:r.density,icon:r.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var ir;return[(ir=m.append)==null?void 0:ir.call(m,Qe.value)]}}):fe(Es,null,[r.appendIcon&&fe(tr,{key:"append-icon",density:r.density,icon:r.appendIcon},null),r.appendAvatar&&fe(aM,{key:"append-avatar",density:r.density,image:r.appendAvatar},null)]),fe("div",{class:"v-list-item__spacer"},null)])]}}),[[iO("ripple"),te.value&&r.ripple]])}),{activate:S,isActivated:B,isGroupActivator:$,isSelected:F,list:he,select:N}}}),gge=Jn({color:String,inset:Boolean,sticky:Boolean,title:String,...ts(),...Ii()},"VListSubheader"),hge=rr()({name:"VListSubheader",props:gge(),setup(r,i){let{slots:u}=i;const{textColorClasses:m,textColorStyles:b}=Q0(jr(r,"color"));return Kr(()=>{const h=!!(u.default||r.title);return fe(r.tag,{class:["v-list-subheader",{"v-list-subheader--inset":r.inset,"v-list-subheader--sticky":r.sticky},m.value,r.class],style:[{textColorStyles:b},r.style]},{default:()=>{var x;return[h&&fe("div",{class:"v-list-subheader__text"},[((x=u.default)==null?void 0:x.call(u))??r.title])]}})}),{}}}),pge=Jn({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...ts(),...zl()},"VDivider"),fV=rr()({name:"VDivider",props:pge(),setup(r,i){let{attrs:u,slots:m}=i;const{themeClasses:b}=ac(r),{textColorClasses:h,textColorStyles:x}=Q0(jr(r,"color")),S=ct(()=>{const B={};return r.length&&(B[r.vertical?"height":"width"]=dr(r.length)),r.thickness&&(B[r.vertical?"borderRightWidth":"borderTopWidth"]=dr(r.thickness)),B});return Kr(()=>{const B=fe("hr",{class:[{"v-divider":!0,"v-divider--inset":r.inset,"v-divider--vertical":r.vertical},b.value,h.value,r.class],style:[S.value,x.value,{"--v-border-opacity":r.opacity},r.style],"aria-orientation":!u.role||u.role==="separator"?r.vertical?"vertical":"horizontal":void 0,role:`${u.role||"separator"}`},null);return m.default?fe("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":r.vertical,"v-divider__wrapper--inset":r.inset}]},[B,fe("div",{class:"v-divider__content"},[m.default()]),B]):B}),{}}}),bge=Jn({items:Array,returnObject:Boolean},"VListChildren"),LY=rr()({name:"VListChildren",props:bge(),setup(r,i){let{slots:u}=i;return DY(),()=>{var m,b;return((m=u.default)==null?void 0:m.call(u))??((b=r.items)==null?void 0:b.map(h=>{var W,$;let{children:x,props:S,type:B,raw:N}=h;if(B==="divider")return((W=u.divider)==null?void 0:W.call(u,{props:S}))??fe(fV,S,null);if(B==="subheader")return(($=u.subheader)==null?void 0:$.call(u,{props:S}))??fe(hge,S,null);const R={subtitle:u.subtitle?K=>{var ee;return(ee=u.subtitle)==null?void 0:ee.call(u,{...K,item:N})}:void 0,prepend:u.prepend?K=>{var ee;return(ee=u.prepend)==null?void 0:ee.call(u,{...K,item:N})}:void 0,append:u.append?K=>{var ee;return(ee=u.append)==null?void 0:ee.call(u,{...K,item:N})}:void 0,title:u.title?K=>{var ee;return(ee=u.title)==null?void 0:ee.call(u,{...K,item:N})}:void 0},F=fK.filterProps(S);return x?fe(fK,_a({value:S==null?void 0:S.value},F),{activator:K=>{let{props:ee}=K;const ge={...S,...ee,value:r.returnObject?N:S.value};return u.header?u.header({props:ge}):fe(Fp,ge,R)},default:()=>fe(LY,{items:x,returnObject:r.returnObject},u)}):u.item?u.item({props:S}):fe(Fp,_a(S,{value:r.returnObject?N:S.value}),R)}))}}}),vge=Jn({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:yM}},"list-items");function yge(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"}function xge(r,i){const u=zT(i,r.itemType,"item"),m=yge(i)?i:zT(i,r.itemTitle),b=zT(i,r.itemValue,void 0),h=zT(i,r.itemChildren),x=r.itemProps===!0?Uq(i,["children"]):zT(i,r.itemProps),S={title:m,value:b,...x};return{type:u,title:S.title,value:S.value,props:S,children:u==="item"&&h?FY(r,h):void 0,raw:i}}function FY(r,i){const u=[];for(const m of i)u.push(xge(r,m));return u}function wge(r){return{items:ct(()=>FY(r,r.items))}}const Cge=Jn({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":ug(),"onClick:select":ug(),"onUpdate:opened":ug(),...sge({selectStrategy:"single-leaf",openStrategy:"list"}),...wy(),...ts(),...qp(),...Gp(),..._y(),itemType:{type:String,default:"type"},...vge(),...fg(),...Ii(),...zl(),...zw({variant:"text"})},"VList"),zY=rr()({name:"VList",props:Cge(),emits:{"update:selected":r=>!0,"update:activated":r=>!0,"update:opened":r=>!0,"click:open":r=>!0,"click:activate":r=>!0,"click:select":r=>!0},setup(r,i){let{slots:u}=i;const{items:m}=wge(r),{themeClasses:b}=ac(r),{backgroundColorClasses:h,backgroundColorStyles:x}=Vp(jr(r,"bgColor")),{borderClasses:S}=Cy(r),{densityClasses:B}=o1(r),{dimensionStyles:N}=Yp(r),{elevationClasses:R}=Sy(r),{roundedClasses:F}=mg(r),{children:W,open:$,parents:K,select:ee}=age(r),ge=ct(()=>r.lines?`v-list--${r.lines}-line`:void 0),he=jr(r,"activeColor"),Ue=jr(r,"baseColor"),Te=jr(r,"color");DY(),dk({VListGroup:{activeColor:he,baseColor:Ue,color:Te,expandIcon:jr(r,"expandIcon"),collapseIcon:jr(r,"collapseIcon")},VListItem:{activeClass:jr(r,"activeClass"),activeColor:he,baseColor:Ue,color:Te,density:jr(r,"density"),disabled:jr(r,"disabled"),lines:jr(r,"lines"),nav:jr(r,"nav"),slim:jr(r,"slim"),variant:jr(r,"variant")}});const te=Tr(!1),Ae=wo();function ne(Ne){te.value=!0}function Ge(Ne){te.value=!1}function $e(Ne){var D;!te.value&&!(Ne.relatedTarget&&((D=Ae.value)!=null&&D.contains(Ne.relatedTarget)))&&Ce()}function Ze(Ne){const D=Ne.target;if(!(!Ae.value||["INPUT","TEXTAREA"].includes(D.tagName))){if(Ne.key==="ArrowDown")Ce("next");else if(Ne.key==="ArrowUp")Ce("prev");else if(Ne.key==="Home")Ce("first");else if(Ne.key==="End")Ce("last");else return;Ne.preventDefault()}}function ot(Ne){te.value=!0}function Ce(Ne){if(Ae.value)return qq(Ae.value,Ne)}return Kr(()=>fe(r.tag,{ref:Ae,class:["v-list",{"v-list--disabled":r.disabled,"v-list--nav":r.nav,"v-list--slim":r.slim},b.value,h.value,S.value,B.value,R.value,ge.value,F.value,r.class],style:[x.value,N.value,r.style],tabindex:r.disabled||te.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:ne,onFocusout:Ge,onFocus:$e,onKeydown:Ze,onMousedown:ot},{default:()=>[fe(LY,{items:m.value,returnObject:r.returnObject},u)]})),{open:$,select:ee,focus:Ce,children:W,parents:K}}}),_ge=nt("span",null,"OK",-1),Sge=nt("span",null,"OK",-1),kge={__name:"Alerts",setup(r){const i=tk();return(u,m)=>(Xo(),Sl(Es,null,[qo(fe(Ar,{onClick:m[0]||(m[0]=b=>Ve(i).showAlerts())},{default:cn(()=>[fe(tr,{left:"",icon:"mdi-bell-outline"}),qo(nt("span",null,"1 Nachricht",512),[[pr,Ve(i).countAlerts==1]]),qo(nt("span",null,Ml(Ve(i).countAlerts)+" Nachrichten",513),[[pr,Ve(i).countAlerts>1]])]),_:1},512),[[pr,Ve(i).hasAlerts]]),fe(J0,{persistent:"",modelValue:Ve(i).hasActiveAlert,"onUpdate:modelValue":m[2]||(m[2]=b=>Ve(i).hasActiveAlert=b),"max-width":"1000"},{default:cn(()=>[fe(X0,null,{default:cn(()=>[fe(lV,null,{default:cn(()=>[oc(" Nachricht der Aufsicht ")]),_:1}),fe(Up,null,{default:cn(()=>[nt("p",null,Ml(Ve(i).activeMessage),1)]),_:1}),fe($p,null,{default:cn(()=>[fe(Ar,{onClick:m[1]||(m[1]=b=>Ve(i).hideAlert())},{default:cn(()=>[fe(tr,{left:"",icon:"mdi-check"}),_ge]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),fe(J0,{modelValue:Ve(i).showAllAlerts,"onUpdate:modelValue":m[4]||(m[4]=b=>Ve(i).showAllAlerts=b),"max-width":"1000"},{default:cn(()=>[fe(X0,null,{default:cn(()=>[fe(lV,null,{default:cn(()=>[oc(" Nachrichten der Aufsicht ")]),_:1}),fe(Up,null,{default:cn(()=>[(Xo(!0),Sl(Es,null,ik(Ve(i).alerts,b=>(Xo(),Xs(Fp,{key:b.key,title:Ve(i).formatTimestamp(b.time),subtitle:b.message},null,8,["title","subtitle"]))),128))]),_:1}),fe($p,null,{default:cn(()=>[fe(Ar,{onClick:m[3]||(m[3]=b=>Ve(i).hideAlert())},{default:cn(()=>[fe(tr,{left:"",icon:"mdi-check"}),Sge]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},gg=(r,i)=>{const u=r.__vccOpts||r;for(const[m,b]of i)u[m]=b;return u},Ege=Jn({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...ts(),...qp(),...Ii(),...zl()},"VTable"),$8=rr()({name:"VTable",props:Ege(),setup(r,i){let{slots:u,emit:m}=i;const{themeClasses:b}=ac(r),{densityClasses:h}=o1(r);return Kr(()=>fe(r.tag,{class:["v-table",{"v-table--fixed-height":!!r.height,"v-table--fixed-header":r.fixedHeader,"v-table--fixed-footer":r.fixedFooter,"v-table--has-top":!!u.top,"v-table--has-bottom":!!u.bottom,"v-table--hover":r.hover},b.value,h.value,r.class],style:r.style},{default:()=>{var x,S,B;return[(x=u.top)==null?void 0:x.call(u),u.default?fe("div",{class:"v-table__wrapper",style:{height:dr(r.height)}},[fe("table",null,[u.default()])]):(S=u.wrapper)==null?void 0:S.call(u),(B=u.bottom)==null?void 0:B.call(u)]}})),{}}}),Xp=r=>(vy("data-v-1a660a2d"),r=r(),yy(),r),Age=Xp(()=>nt("h1",null,"Allgemeine Navigation",-1)),Tge=Xp(()=>nt("thead",null,[nt("tr",null,[nt("th",{width:"50%"},"Aktion"),nt("th",{width:"50%"},"Tastenkombination")])],-1)),Oge=Xp(()=>nt("tbody",null,[nt("tr",null,[nt("td",null,"Nchstes Element"),nt("td",null,"Tab")]),nt("tr",null,[nt("td",null,"Vorheriges Element"),nt("td",null,"Shift + Tab")]),nt("tr",null,[nt("td",null,"Header Schaltflchen"),nt("td",null,"Alt + 0")]),nt("tr",null,[nt("td",null,"Navigationsleiste Schaltflchen"),nt("td",null,"Alt + #")]),nt("tr",null,[nt("td",null,"Inhalt linke Spalte"),nt("td",null,"Alt + 1")]),nt("tr",null,[nt("td",null,"Inhalt rechte Spalte"),nt("td",null,"Alt + 2")])],-1)),Dge=Xp(()=>nt("h1",null,"Navigation im Editor",-1)),Rge=Xp(()=>nt("thead",null,[nt("tr",null,[nt("th",{width:"50%"},"Aktion"),nt("th",{width:"50%"},"Tastenkombination")])],-1)),Nge=Xp(()=>nt("tbody",null,[nt("tr",null,[nt("td",null,"In Symbolleiste wechseln"),nt("td",null,"Alt + F10")]),nt("tr",null,[nt("td",null,"Symbolleiste verlassen"),nt("td",null,"Esc")]),nt("tr",null,[nt("td",null,"In Symbolleiste zwischen Schaltflchen wechseln"),nt("td",null,"Pfeil links und rechts")]),nt("tr",null,[nt("td",null,"Popup der Absatzformate aufklappen"),nt("td",null,"Eingabetaste")]),nt("tr",null,[nt("td",null,"Im Popup zwischen Absatzformaten wechseln"),nt("td",null,"Pfeil abwrts und aufwrts")]),nt("tr",null,[nt("td",null,"Im Popup ein Absatzformat whlen"),nt("td",null,"Eingabetaste")]),nt("tr",null,[nt("td",null,"Popup der Absatzformate schlieen"),nt("td",null,"Esc")])],-1)),Ige=Xp(()=>nt("h1",null,"Tastenbefehle im Editor",-1)),Bge=Xp(()=>nt("thead",null,[nt("tr",null,[nt("th",{width:"50%"},"Aktion"),nt("th",{width:"50%"},"Tastenkombination")])],-1)),Mge=Xp(()=>nt("tbody",null,[nt("tr",null,[nt("td",null,"Fett"),nt("td",null,"Ctrl + B")]),nt("tr",null,[nt("td",null,"Kursiv"),nt("td",null,"Ctrl + I")]),nt("tr",null,[nt("td",null,"Unterstrichen"),nt("td",null,"Ctrl + U")]),nt("tr",null,[nt("td",null,"Alles auswhlen"),nt("td",null,"Ctrl + A")]),nt("tr",null,[nt("td",null,"Wiederholen"),nt("td",null,"Ctrl + Y oder Ctrl + Shift + Z")]),nt("tr",null,[nt("td",null,"Rckgngig machen"),nt("td",null,"Ctrl + Z")]),nt("tr",null,[nt("td",null,"berschrift 1"),nt("td",null,"Shift + Alt + 1")]),nt("tr",null,[nt("td",null,"berschrift 2"),nt("td",null,"Shift + Alt + 2")]),nt("tr",null,[nt("td",null,"berschrift 3"),nt("td",null,"Shift + Alt + 3")]),nt("tr",null,[nt("td",null,"berschrift 4"),nt("td",null,"Shift + Alt + 4")]),nt("tr",null,[nt("td",null,"berschrift 5"),nt("td",null,"Shift + Alt + 5")]),nt("tr",null,[nt("td",null,"berschrift 6"),nt("td",null,"Shift + Alt + 6")]),nt("tr",null,[nt("td",null,"Absatz"),nt("td",null,"Shift + Alt + 7")])],-1)),Pge=Xp(()=>nt("span",null,"Hilfe schlieen",-1)),Lge={__name:"Help",setup(r){const i=Ll();return(u,m)=>(Xo(),Sl(Es,null,[fe(Ar,{class:"app-header-item",onClick:m[0]||(m[0]=b=>Ve(i).showHelp=!0)},{default:cn(()=>[fe(tr,{left:"",icon:"mdi-help"}),oc(" Hilfe ")]),_:1}),fe(J0,{modelValue:Ve(i).showHelp,"onUpdate:modelValue":m[2]||(m[2]=b=>Ve(i).showHelp=b),"max-width":"1000"},{default:cn(()=>[fe(X0,null,{default:cn(()=>[fe(Up,null,{default:cn(()=>[Age,fe($8,null,{default:cn(()=>[Tge,Oge]),_:1}),Dge,fe($8,null,{default:cn(()=>[Rge,Nge]),_:1}),Ige,fe($8,{title:"Tastenbefehle im Editor"},{default:cn(()=>[Bge,Mge]),_:1})]),_:1}),fe($p,null,{default:cn(()=>[fe(Ar,{onClick:m[1]||(m[1]=b=>Ve(i).showHelp=!1)},{default:cn(()=>[Pge]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Fge=gg(Lge,[["__scopeId","data-v-1a660a2d"]]),HY=Jn({text:String,...ts(),...Ii()},"VToolbarTitle"),VY=rr()({name:"VToolbarTitle",props:HY(),setup(r,i){let{slots:u}=i;return Kr(()=>{const m=!!(u.default||u.text||r.text);return fe(r.tag,{class:["v-toolbar-title",r.class],style:r.style},{default:()=>{var b;return[m&&fe("div",{class:"v-toolbar-title__placeholder"},[u.text?u.text():r.text,(b=u.default)==null?void 0:b.call(u)])]}})}),{}}}),zge=[null,"prominent","default","comfortable","compact"],$Y=Jn({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:r=>zge.includes(r)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...wy(),...ts(),..._y(),...fg(),...Ii({tag:"header"}),...zl()},"VToolbar"),mK=rr()({name:"VToolbar",props:$Y(),setup(r,i){var $;let{slots:u}=i;const{backgroundColorClasses:m,backgroundColorStyles:b}=Vp(jr(r,"color")),{borderClasses:h}=Cy(r),{elevationClasses:x}=Sy(r),{roundedClasses:S}=mg(r),{themeClasses:B}=ac(r),{rtlClasses:N}=n1(),R=Tr(!!(r.extended||($=u.extension)!=null&&$.call(u))),F=ct(()=>parseInt(Number(r.height)+(r.density==="prominent"?Number(r.height):0)-(r.density==="comfortable"?8:0)-(r.density==="compact"?16:0),10)),W=ct(()=>R.value?parseInt(Number(r.extensionHeight)+(r.density==="prominent"?Number(r.extensionHeight):0)-(r.density==="comfortable"?4:0)-(r.density==="compact"?8:0),10):0);return dk({VBtn:{variant:"text"}}),Kr(()=>{var he;const K=!!(r.title||u.title),ee=!!(u.image||r.image),ge=(he=u.extension)==null?void 0:he.call(u);return R.value=!!(r.extended||ge),fe(r.tag,{class:["v-toolbar",{"v-toolbar--absolute":r.absolute,"v-toolbar--collapse":r.collapse,"v-toolbar--flat":r.flat,"v-toolbar--floating":r.floating,[`v-toolbar--density-${r.density}`]:!0},m.value,h.value,x.value,S.value,B.value,N.value,r.class],style:[b.value,r.style]},{default:()=>[ee&&fe("div",{key:"image",class:"v-toolbar__image"},[u.image?fe(sc,{key:"image-defaults",disabled:!r.image,defaults:{VImg:{cover:!0,src:r.image}}},u.image):fe(PM,{key:"image-img",cover:!0,src:r.image},null)]),fe(sc,{defaults:{VTabs:{height:dr(F.value)}}},{default:()=>{var Ue,Te,te;return[fe("div",{class:"v-toolbar__content",style:{height:dr(F.value)}},[u.prepend&&fe("div",{class:"v-toolbar__prepend"},[(Ue=u.prepend)==null?void 0:Ue.call(u)]),K&&fe(VY,{key:"title",text:r.title},{text:u.title}),(Te=u.default)==null?void 0:Te.call(u),u.append&&fe("div",{class:"v-toolbar__append"},[(te=u.append)==null?void 0:te.call(u)])])]}}),fe(sc,{defaults:{VTabs:{height:dr(W.value)}}},{default:()=>[fe(xY,null,{default:()=>[R.value&&fe("div",{class:"v-toolbar__extension",style:{height:dr(W.value)}},[ge])]})]})]})}),{contentHeight:F,extensionHeight:W}}}),Hge=Jn({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Vge(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:u}=i;let m=0,b=0;const h=wo(null),x=Tr(0),S=Tr(0),B=Tr(0),N=Tr(!1),R=Tr(!1),F=ct(()=>Number(r.scrollThreshold)),W=ct(()=>Pw((F.value-x.value)/F.value||0)),$=()=>{const K=h.value;if(!K||u&&!u.value)return;m=x.value,x.value="window"in K?K.pageYOffset:K.scrollTop;const ee=K instanceof Window?document.documentElement.scrollHeight:K.scrollHeight;if(b!==ee){b=ee;return}R.value=x.value<m,B.value=Math.abs(x.value-F.value)};return Gn(R,()=>{S.value=S.value||x.value}),Gn(N,()=>{S.value=0}),Ic(()=>{Gn(()=>r.scrollTarget,K=>{var ge;const ee=K?document.querySelector(K):window;ee&&ee!==h.value&&((ge=h.value)==null||ge.removeEventListener("scroll",$),h.value=ee,h.value.addEventListener("scroll",$,{passive:!0}))},{immediate:!0})}),Bc(()=>{var K;(K=h.value)==null||K.removeEventListener("scroll",$)}),u&&Gn(u,$,{immediate:!0}),{scrollThreshold:F,currentScroll:x,currentThreshold:B,isScrollActive:N,scrollRatio:W,isScrollingUp:R,savedScroll:S}}const $ge=Jn({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:r=>["top","bottom"].includes(r)},...$Y(),...pG(),...Hge(),height:{type:[Number,String],default:64}},"VAppBar"),UY=rr()({name:"VAppBar",props:$ge(),emits:{"update:modelValue":r=>!0},setup(r,i){let{slots:u}=i;const m=wo(),b=Pd(r,"modelValue"),h=ct(()=>{var Te;const Ue=new Set(((Te=r.scrollBehavior)==null?void 0:Te.split(" "))??[]);return{hide:Ue.has("hide"),fullyHide:Ue.has("fully-hide"),inverted:Ue.has("inverted"),collapse:Ue.has("collapse"),elevate:Ue.has("elevate"),fadeImage:Ue.has("fade-image")}}),x=ct(()=>{const Ue=h.value;return Ue.hide||Ue.fullyHide||Ue.inverted||Ue.collapse||Ue.elevate||Ue.fadeImage||!b.value}),{currentScroll:S,scrollThreshold:B,isScrollingUp:N,scrollRatio:R}=Vge(r,{canScroll:x}),F=ct(()=>h.value.hide||h.value.fullyHide),W=ct(()=>r.collapse||h.value.collapse&&(h.value.inverted?R.value>0:R.value===0)),$=ct(()=>r.flat||h.value.fullyHide&&!b.value||h.value.elevate&&(h.value.inverted?S.value>0:S.value===0)),K=ct(()=>h.value.fadeImage?h.value.inverted?1-R.value:R.value:void 0),ee=ct(()=>{var te,Ae;if(h.value.hide&&h.value.inverted)return 0;const Ue=((te=m.value)==null?void 0:te.contentHeight)??0,Te=((Ae=m.value)==null?void 0:Ae.extensionHeight)??0;return F.value?S.value<B.value||h.value.fullyHide?Ue+Te:Ue:Ue+Te});yh(ct(()=>!!r.scrollBehavior),()=>{xh(()=>{F.value?h.value.inverted?b.value=S.value>B.value:b.value=N.value||S.value<B.value:b.value=!0})});const{ssrBootStyles:ge}=LM(),{layoutItemStyles:he}=bG({id:r.name,order:ct(()=>parseInt(r.order,10)),position:jr(r,"location"),layoutSize:ee,elementSize:Tr(void 0),active:b,absolute:jr(r,"absolute")});return Kr(()=>{const Ue=mK.filterProps(r);return fe(mK,_a({ref:m,class:["v-app-bar",{"v-app-bar--bottom":r.location==="bottom"},r.class],style:[{...he.value,"--v-toolbar-image-opacity":K.value,height:void 0,...ge.value},r.style]},Ue,{collapse:W.value,flat:$.value}),u)}),{}}}),Uge=rr()({name:"VAppBarTitle",props:HY(),setup(r,i){let{slots:u}=i;return Kr(()=>fe(VY,_a(r,{class:"v-app-bar-title"}),u)),{}}}),Wge=Jn({fluid:{type:Boolean,default:!1},...ts(),...Gp(),...Ii()},"VContainer"),Zge=rr()({name:"VContainer",props:Wge(),setup(r,i){let{slots:u}=i;const{rtlClasses:m}=n1(),{dimensionStyles:b}=Yp(r);return Kr(()=>fe(r.tag,{class:["v-container",{"v-container--fluid":r.fluid},m.value,r.class],style:[b.value,r.style]},u)),{}}}),WY=CM.reduce((r,i)=>(r[i]={type:[Boolean,String,Number],default:!1},r),{}),ZY=CM.reduce((r,i)=>{const u="offset"+e1(i);return r[u]={type:[String,Number],default:null},r},{}),jY=CM.reduce((r,i)=>{const u="order"+e1(i);return r[u]={type:[String,Number],default:null},r},{}),gK={col:Object.keys(WY),offset:Object.keys(ZY),order:Object.keys(jY)};function jge(r,i,u){let m=r;if(!(u==null||u===!1)){if(i){const b=i.replace(r,"");m+=`-${b}`}return r==="col"&&(m="v-"+m),r==="col"&&(u===""||u===!0)||(m+=`-${u}`),m.toLowerCase()}}const Kge=["auto","start","end","center","baseline","stretch"],qge=Jn({cols:{type:[Boolean,String,Number],default:!1},...WY,offset:{type:[String,Number],default:null},...ZY,order:{type:[String,Number],default:null},...jY,alignSelf:{type:String,default:null,validator:r=>Kge.includes(r)},...ts(),...Ii()},"VCol"),T8=rr()({name:"VCol",props:qge(),setup(r,i){let{slots:u}=i;const m=ct(()=>{const b=[];let h;for(h in gK)gK[h].forEach(S=>{const B=r[S],N=jge(h,S,B);N&&b.push(N)});const x=b.some(S=>S.startsWith("v-col-"));return b.push({"v-col":!x||!r.cols,[`v-col-${r.cols}`]:r.cols,[`offset-${r.offset}`]:r.offset,[`order-${r.order}`]:r.order,[`align-self-${r.alignSelf}`]:r.alignSelf}),b});return()=>{var b;return Wp(r.tag,{class:[m.value,r.class],style:r.style},(b=u.default)==null?void 0:b.call(u))}}}),l$=["start","end","center"],KY=["space-between","space-around","space-evenly"];function c$(r,i){return CM.reduce((u,m)=>{const b=r+e1(m);return u[b]=i(),u},{})}const Gge=[...l$,"baseline","stretch"],qY=r=>Gge.includes(r),GY=c$("align",()=>({type:String,default:null,validator:qY})),Yge=[...l$,...KY],YY=r=>Yge.includes(r),XY=c$("justify",()=>({type:String,default:null,validator:YY})),Xge=[...l$,...KY,"stretch"],JY=r=>Xge.includes(r),QY=c$("alignContent",()=>({type:String,default:null,validator:JY})),hK={align:Object.keys(GY),justify:Object.keys(XY),alignContent:Object.keys(QY)},Jge={align:"align",justify:"justify",alignContent:"align-content"};function Qge(r,i,u){let m=Jge[r];if(u!=null){if(i){const b=i.replace(r,"");m+=`-${b}`}return m+=`-${u}`,m.toLowerCase()}}const ehe=Jn({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:qY},...GY,justify:{type:String,default:null,validator:YY},...XY,alignContent:{type:String,default:null,validator:JY},...QY,...ts(),...Ii()},"VRow"),the=rr()({name:"VRow",props:ehe(),setup(r,i){let{slots:u}=i;const m=ct(()=>{const b=[];let h;for(h in hK)hK[h].forEach(x=>{const S=r[x],B=Qge(h,x,S);B&&b.push(B)});return b.push({"v-row--no-gutters":r.noGutters,"v-row--dense":r.dense,[`align-${r.align}`]:r.align,[`justify-${r.justify}`]:r.justify,[`align-content-${r.alignContent}`]:r.alignContent}),b});return()=>{var b;return Wp(r.tag,{class:["v-row",m.value,r.class],style:r.style},(b=u.default)==null?void 0:b.call(u))}}}),u$=xM("v-spacer","div","VSpacer"),nhe=nt("span",null,"Unterbrechen",-1),ohe=nt("span",null,"Vorschau zur Abgabe ",-1),rhe={__name:"AppBar",setup(r){const i=bi(),u=Md(),m=tk(),b=Lp(),h=Ll();async function x(){if(h.focusTarget=="header"){await Ma();for(const F of document.getElementsByClassName("app-header-item")){F.focus();break}}}Gn(()=>h.focusChange,x);function S(){return(u.writer_name==null?"":u.writer_name+", ")+(u.title??"")}function B(F){return new Promise(W=>setTimeout(W,F))}async function N(){await b.updateContent(!1,!0),await B(500),b.openSendings>0?i.review=!0:window.location=i.returnUrl}async function R(){await b.updateContent(!1,!0),await B(500),i.review=!0}return(F,W)=>(Xo(),Xs(UY,{elevation:"1",color:"white",density:"compact"},{default:cn(()=>[fe(Uge,null,{default:cn(()=>[oc(Ml(S()),1)]),_:1}),fe(u$),fe(Fge),Ve(m).hasAlerts?(Xo(),Xs(kge,{key:0})):Pl("",!0),Ve(u).hasWritingEnd?(Xo(),Xs(dme,{key:1})):Pl("",!0),qo(fe(Ar,{class:"app-header-item",onClick:W[0]||(W[0]=$=>N())},{default:cn(()=>[fe(tr,{left:"",icon:"mdi-pause"}),nhe]),_:1},512),[[pr,!Ve(i).review]]),qo(fe(Ar,{class:"app-header-item",onClick:R},{default:cn(()=>[fe(tr,{left:"",icon:"mdi-eye"}),ohe]),_:1},512),[[pr,!Ve(i).review]])]),_:1}))}};class she{async saveFile(i,u){if("showSaveFilePicker"in window&&(()=>{try{return window.self===window.top}catch{return!1}})())try{const S=await(await showSaveFilePicker({suggestedName:u})).createWritable();await S.write(i),await S.close();return}catch(x){if(x.name!=="AbortError"){console.error(x.name,x.message);return}}const b=URL.createObjectURL(i),h=document.createElement("a");h.href=b,h.download=u,h.style.display="none",document.body.append(h),h.click(),setTimeout(()=>{URL.revokeObjectURL(b),h.remove()},1e3)}}const ahe=xM("v-alert-title"),ihe=["success","info","warning","error"],lhe=Jn({border:{type:[Boolean,String],validator:r=>typeof r=="boolean"||["top","end","bottom","start"].includes(r)},borderColor:String,closable:Boolean,closeIcon:{type:gl,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:r=>ihe.includes(r)},...ts(),...qp(),...Gp(),..._y(),...IM(),...e$(),...fg(),...Ii(),...zl(),...zw({variant:"flat"})},"VAlert"),pK=rr()({name:"VAlert",props:lhe(),emits:{"click:close":r=>!0,"update:modelValue":r=>!0},setup(r,i){let{emit:u,slots:m}=i;const b=Pd(r,"modelValue"),h=ct(()=>{if(r.icon!==!1)return r.type?r.icon??`$${r.type}`:r.icon}),x=ct(()=>({color:r.color??r.type,variant:r.variant})),{themeClasses:S}=ac(r),{colorClasses:B,colorStyles:N,variantClasses:R}=mO(x),{densityClasses:F}=o1(r),{dimensionStyles:W}=Yp(r),{elevationClasses:$}=Sy(r),{locationStyles:K}=BM(r),{positionClasses:ee}=t$(r),{roundedClasses:ge}=mg(r),{textColorClasses:he,textColorStyles:Ue}=Q0(jr(r,"borderColor")),{t:Te}=iG(),te=ct(()=>({"aria-label":Te(r.closeLabel),onClick(Ae){b.value=!1,u("click:close",Ae)}}));return()=>{const Ae=!!(m.prepend||h.value),ne=!!(m.title||r.title),Ge=!!(m.close||r.closable);return b.value&&fe(r.tag,{class:["v-alert",r.border&&{"v-alert--border":!!r.border,[`v-alert--border-${r.border===!0?"start":r.border}`]:!0},{"v-alert--prominent":r.prominent},S.value,B.value,F.value,$.value,ee.value,ge.value,R.value,r.class],style:[N.value,W.value,K.value,r.style],role:"alert"},{default:()=>{var $e,Ze;return[fO(!1,"v-alert"),r.border&&fe("div",{key:"border",class:["v-alert__border",he.value],style:Ue.value},null),Ae&&fe("div",{key:"prepend",class:"v-alert__prepend"},[m.prepend?fe(sc,{key:"prepend-defaults",disabled:!h.value,defaults:{VIcon:{density:r.density,icon:h.value,size:r.prominent?44:28}}},m.prepend):fe(tr,{key:"prepend-icon",density:r.density,icon:h.value,size:r.prominent?44:28},null)]),fe("div",{class:"v-alert__content"},[ne&&fe(ahe,{key:"title"},{default:()=>{var ot;return[((ot=m.title)==null?void 0:ot.call(m))??r.title]}}),(($e=m.text)==null?void 0:$e.call(m))??r.text,(Ze=m.default)==null?void 0:Ze.call(m)]),m.append&&fe("div",{key:"append",class:"v-alert__append"},[m.append()]),Ge&&fe("div",{key:"close",class:"v-alert__close"},[m.close?fe(sc,{key:"close-defaults",defaults:{VBtn:{icon:r.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var ot;return[(ot=m.close)==null?void 0:ot.call(m,{props:te.value})]}}):fe(Ar,_a({key:"close-btn",icon:r.closeIcon,size:"x-small",variant:"text"},te.value),null)])]}})}}}),che=nt("h2",null,"Speicherung und bertragung",-1),uhe=nt("br",null,null,-1),dhe=nt("br",null,null,-1),fhe=nt("td",null," Letzte lokale Speicherung im Browser: ",-1),mhe=nt("td",null," Letzte bertragung auf den Server: ",-1),ghe=nt("td",null," Bearbeitungsschritte: ",-1),hhe=nt("span",null,"bertragen",-1),phe=nt("span",null,"Exportieren",-1),bhe=nt("span",null,"Schlieen",-1),vhe={__name:"SendingStatus",setup(r){const i=bi(),u=Ll(),m=Lp(),b=Md(),h=new she,x=wo(!1),S=wo(!1),B=wo(""),N=wo("");async function R(){x.value=!0,S.value=!1;const K=await m.sendUpdate(!0);x.value=!1,K||(B.value=i.lastSaveWritingStepsResponseStatusText,N.value=i.lastSaveWritingStepsResponseData,S.value=!0)}function F(){x.value=!1,S.value=!1,B.value="",N.value="",u.showSendingStatus=!0}function W(){u.showSendingStatus=!1}async function $(){const K=new Blob([m.currentContent],{type:"text/html"});await h.saveFile(K,b.writer_name+".html")}return(K,ee)=>(Xo(),Xs(zY,{tabindex:"-1"},{default:cn(()=>[fe(Fp,{tabindex:"-1",onClick:ee[0]||(ee[0]=ge=>F()),"aria-label":Ve(i).isSending?"nderungen werden gesendet":Ve(i).isAllSent?"Alles gesendet":"Noch nderungen zu senden",title:Ve(i).isSending?"nderungen werden gesendet":Ve(i).isAllSent?"Alles gesendet":"Noch nderungen zu senden"},{prepend:cn(()=>[fe(tr,{"aria-role":"hidden",icon:Ve(i).isSending?"mdi-cloud-upload":Ve(i).isAllSent?"mdi-cloud-check-outline":"mdi-cloud-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),fe(J0,{modelValue:Ve(u).showSendingStatus,"onUpdate:modelValue":ee[4]||(ee[4]=ge=>Ve(u).showSendingStatus=ge),"max-width":"1000"},{default:cn(()=>[fe(X0,null,{default:cn(()=>[fe(Up,null,{default:cn(()=>[che,qo(fe(pK,null,{default:cn(()=>[oc("bertrage...")]),_:1},512),[[pr,x.value]]),qo(fe(pK,null,{default:cn(()=>[oc("Beim bertragen ist ein Fehler aufgetreten! "),uhe,oc(Ml(B.value)+" ",1),dhe,oc(Ml(N.value),1)]),_:1},512),[[pr,S.value]]),fe($8,null,{default:cn(()=>[nt("tbody",null,[nt("tr",null,[fhe,nt("td",null,Ml(Ve(m).lastSave>0?Ve(m).formatTimestamp(Ve(m).lastSave):"keine"),1)]),nt("tr",null,[mhe,nt("td",null,Ml(Ve(m).lastSendingSuccess>0?Ve(m).formatTimestamp(Ve(m).lastSendingSuccess):"keine"),1)]),nt("tr",null,[ghe,nt("td",null,Ml(Ve(m).openSendings>0?Ve(m).openSendings+" noch nicht bertragen":"alle bertragen"),1)])])]),_:1})]),_:1}),fe($p,null,{default:cn(()=>[fe(Ar,{onClick:ee[1]||(ee[1]=ge=>R())},{default:cn(()=>[fe(tr,{left:"",icon:"mdi-file-send-outline"}),hhe]),_:1}),fe(Ar,{onClick:ee[2]||(ee[2]=ge=>$())},{default:cn(()=>[fe(tr,{left:"",icon:"mdi-file-download-outline"}),phe]),_:1}),fe(Ar,{onClick:ee[3]||(ee[3]=ge=>W())},{default:cn(()=>[fe(tr,{left:"",icon:"mdi-close"}),bhe]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}};function yhe(r){let{rootEl:i,isSticky:u,layoutItemStyles:m}=r;const b=Tr(!1),h=Tr(0),x=ct(()=>{const N=typeof b.value=="boolean"?"top":b.value;return[u.value?{top:"auto",bottom:"auto",height:void 0}:void 0,b.value?{[N]:dr(h.value)}:{top:m.value.top}]});Ic(()=>{Gn(u,N=>{N?window.addEventListener("scroll",B,{passive:!0}):window.removeEventListener("scroll",B)},{immediate:!0})}),Bc(()=>{window.removeEventListener("scroll",B)});let S=0;function B(){const N=S>window.scrollY?"up":"down",R=i.value.getBoundingClientRect(),F=parseFloat(m.value.top??0),W=window.scrollY-Math.max(0,h.value-F),$=R.height+Math.max(h.value,F)-window.scrollY-window.innerHeight,K=parseFloat(getComputedStyle(i.value).getPropertyValue("--v-body-scroll-y"))||0;R.height<window.innerHeight-F?(b.value="top",h.value=F):N==="up"&&b.value==="bottom"||N==="down"&&b.value==="top"?(h.value=window.scrollY+R.top-K,b.value=!0):N==="down"&&$<=0?(h.value=0,b.value="bottom"):N==="up"&&W<=0&&(K?b.value!=="top"&&(h.value=-W+K+F,b.value="top"):(h.value=R.top+W,b.value="top")),S=window.scrollY}return{isStuck:b,stickyStyles:x}}const xhe=100,whe=20;function bK(r){return(r<0?-1:1)*Math.sqrt(Math.abs(r))*1.41421356237}function vK(r){if(r.length<2)return 0;if(r.length===2)return r[1].t===r[0].t?0:(r[1].d-r[0].d)/(r[1].t-r[0].t);let i=0;for(let u=r.length-1;u>0;u--){if(r[u].t===r[u-1].t)continue;const m=bK(i),b=(r[u].d-r[u-1].d)/(r[u].t-r[u-1].t);i+=(b-m)*Math.abs(b),u===r.length-1&&(i*=.5)}return bK(i)*1e3}function Che(){const r={};function i(b){Array.from(b.changedTouches).forEach(h=>{(r[h.identifier]??(r[h.identifier]=new Fle(whe))).push([b.timeStamp,h])})}function u(b){Array.from(b.changedTouches).forEach(h=>{delete r[h.identifier]})}function m(b){var N;const h=(N=r[b])==null?void 0:N.values().reverse();if(!h)throw new Error(`No samples for touch id ${b}`);const x=h[0],S=[],B=[];for(const R of h){if(x[0]-R[0]>xhe)break;S.push({t:R[0],d:R[1].clientX}),B.push({t:R[0],d:R[1].clientY})}return{x:vK(S),y:vK(B),get direction(){const{x:R,y:F}=this,[W,$]=[Math.abs(R),Math.abs(F)];return W>$&&R>=0?"right":W>$&&R<=0?"left":$>W&&F>=0?"down":$>W&&F<=0?"up":_he()}}}return{addMovement:i,endTouch:u,getVelocity:m}}function _he(){throw new Error}function She(r){let{el:i,isActive:u,isTemporary:m,width:b,touchless:h,position:x}=r;Ic(()=>{window.addEventListener("touchstart",Ue,{passive:!0}),window.addEventListener("touchmove",Te,{passive:!1}),window.addEventListener("touchend",te,{passive:!0})}),Bc(()=>{window.removeEventListener("touchstart",Ue),window.removeEventListener("touchmove",Te),window.removeEventListener("touchend",te)});const S=ct(()=>["left","right"].includes(x.value)),{addMovement:B,endTouch:N,getVelocity:R}=Che();let F=!1;const W=Tr(!1),$=Tr(0),K=Tr(0);let ee;function ge(ne,Ge){return(x.value==="left"?ne:x.value==="right"?document.documentElement.clientWidth-ne:x.value==="top"?ne:x.value==="bottom"?document.documentElement.clientHeight-ne:XS())-(Ge?b.value:0)}function he(ne){let Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const $e=x.value==="left"?(ne-K.value)/b.value:x.value==="right"?(document.documentElement.clientWidth-ne-K.value)/b.value:x.value==="top"?(ne-K.value)/b.value:x.value==="bottom"?(document.documentElement.clientHeight-ne-K.value)/b.value:XS();return Ge?Math.max(0,Math.min(1,$e)):$e}function Ue(ne){if(h.value)return;const Ge=ne.changedTouches[0].clientX,$e=ne.changedTouches[0].clientY,Ze=25,ot=x.value==="left"?Ge<Ze:x.value==="right"?Ge>document.documentElement.clientWidth-Ze:x.value==="top"?$e<Ze:x.value==="bottom"?$e>document.documentElement.clientHeight-Ze:XS(),Ce=u.value&&(x.value==="left"?Ge<b.value:x.value==="right"?Ge>document.documentElement.clientWidth-b.value:x.value==="top"?$e<b.value:x.value==="bottom"?$e>document.documentElement.clientHeight-b.value:XS());(ot||Ce||u.value&&m.value)&&(ee=[Ge,$e],K.value=ge(S.value?Ge:$e,u.value),$.value=he(S.value?Ge:$e),F=K.value>-20&&K.value<80,N(ne),B(ne))}function Te(ne){const Ge=ne.changedTouches[0].clientX,$e=ne.changedTouches[0].clientY;if(F){if(!ne.cancelable){F=!1;return}const ot=Math.abs(Ge-ee[0]),Ce=Math.abs($e-ee[1]);(S.value?ot>Ce&&ot>3:Ce>ot&&Ce>3)?(W.value=!0,F=!1):(S.value?Ce:ot)>3&&(F=!1)}if(!W.value)return;ne.preventDefault(),B(ne);const Ze=he(S.value?Ge:$e,!1);$.value=Math.max(0,Math.min(1,Ze)),Ze>1?K.value=ge(S.value?Ge:$e,!0):Ze<0&&(K.value=ge(S.value?Ge:$e,!1))}function te(ne){if(F=!1,!W.value)return;B(ne),W.value=!1;const Ge=R(ne.changedTouches[0].identifier),$e=Math.abs(Ge.x),Ze=Math.abs(Ge.y);(S.value?$e>Ze&&$e>400:Ze>$e&&Ze>3)?u.value=Ge.direction===({left:"right",right:"left",top:"down",bottom:"up"}[x.value]||XS()):u.value=$.value>.5}const Ae=ct(()=>W.value?{transform:x.value==="left"?`translateX(calc(-100% + ${$.value*b.value}px))`:x.value==="right"?`translateX(calc(100% - ${$.value*b.value}px))`:x.value==="top"?`translateY(calc(-100% + ${$.value*b.value}px))`:x.value==="bottom"?`translateY(calc(100% - ${$.value*b.value}px))`:XS(),transition:"none"}:void 0);return yh(W,()=>{var $e,Ze;const ne=(($e=i.value)==null?void 0:$e.style.transform)??null,Ge=((Ze=i.value)==null?void 0:Ze.style.transition)??null;xh(()=>{var ot,Ce,Ne,D;(Ce=i.value)==null||Ce.style.setProperty("transform",((ot=Ae.value)==null?void 0:ot.transform)||"none"),(D=i.value)==null||D.style.setProperty("transition",((Ne=Ae.value)==null?void 0:Ne.transition)||null)}),jf(()=>{var ot,Ce;(ot=i.value)==null||ot.style.setProperty("transform",ne),(Ce=i.value)==null||Ce.style.setProperty("transition",Ge)})}),{isDragging:W,dragProgress:$,dragStyles:Ae}}function XS(){throw new Error}const khe=["start","end","left","right","top","bottom"],Ehe=Jn({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:r=>khe.includes(r)},sticky:Boolean,...wy(),...ts(),..._Y(),...vue({mobile:null}),..._y(),...pG(),...fg(),...Ii({tag:"nav"}),...zl()},"VNavigationDrawer"),Ahe=rr()({name:"VNavigationDrawer",props:Ehe(),emits:{"update:modelValue":r=>!0,"update:rail":r=>!0},setup(r,i){let{attrs:u,emit:m,slots:b}=i;const{isRtl:h}=n1(),{themeClasses:x}=ac(r),{borderClasses:S}=Cy(r),{backgroundColorClasses:B,backgroundColorStyles:N}=Vp(jr(r,"color")),{elevationClasses:R}=Sy(r),{displayClasses:F,mobile:W}=dG(r),{roundedClasses:$}=mg(r),K=sY(),ee=Pd(r,"modelValue",null,pt=>!!pt),{ssrBootStyles:ge}=LM(),{scopeId:he}=s$(),Ue=wo(),Te=Tr(!1),{runOpenDelay:te,runCloseDelay:Ae}=SY(r,pt=>{Te.value=pt}),ne=ct(()=>r.rail&&r.expandOnHover&&Te.value?Number(r.width):Number(r.rail?r.railWidth:r.width)),Ge=ct(()=>WH(r.location,h.value)),$e=ct(()=>r.persistent),Ze=ct(()=>!r.permanent&&(W.value||r.temporary)),ot=ct(()=>r.sticky&&!Ze.value&&Ge.value!=="bottom");yh(()=>r.expandOnHover&&r.rail!=null,()=>{Gn(Te,pt=>m("update:rail",!pt))}),yh(()=>!r.disableResizeWatcher,()=>{Gn(Ze,pt=>!r.permanent&&Ma(()=>ee.value=!pt))}),yh(()=>!r.disableRouteWatcher&&!!K,()=>{Gn(K.currentRoute,()=>Ze.value&&(ee.value=!1))}),Gn(()=>r.permanent,pt=>{pt&&(ee.value=!0)}),r.modelValue==null&&!Ze.value&&(ee.value=r.permanent||!W.value);const{isDragging:Ce,dragProgress:Ne}=She({el:Ue,isActive:ee,isTemporary:Ze,width:ne,touchless:jr(r,"touchless"),position:Ge}),D=ct(()=>{const pt=Ze.value?0:r.rail&&r.expandOnHover?Number(r.railWidth):ne.value;return Ce.value?pt*Ne.value:pt}),yt=ct(()=>["top","bottom"].includes(r.location)?0:ne.value),{layoutItemStyles:Pt,layoutItemScrimStyles:ln}=bG({id:r.name,order:ct(()=>parseInt(r.order,10)),position:Ge,layoutSize:D,elementSize:yt,active:ct(()=>ee.value||Ce.value),disableTransitions:ct(()=>Ce.value),absolute:ct(()=>r.absolute||ot.value&&typeof hn.value!="string")}),{isStuck:hn,stickyStyles:Qe}=yhe({rootEl:Ue,isSticky:ot,layoutItemStyles:Pt}),On=Vp(ct(()=>typeof r.scrim=="string"?r.scrim:null)),sr=ct(()=>({...Ce.value?{opacity:Ne.value*.2,transition:"none"}:void 0,...ln.value}));return dk({VList:{bgColor:"transparent"}}),Kr(()=>{const pt=b.image||r.image;return fe(Es,null,[fe(r.tag,_a({ref:Ue,onMouseenter:te,onMouseleave:Ae,class:["v-navigation-drawer",`v-navigation-drawer--${Ge.value}`,{"v-navigation-drawer--expand-on-hover":r.expandOnHover,"v-navigation-drawer--floating":r.floating,"v-navigation-drawer--is-hovering":Te.value,"v-navigation-drawer--rail":r.rail,"v-navigation-drawer--temporary":Ze.value,"v-navigation-drawer--persistent":$e.value,"v-navigation-drawer--active":ee.value,"v-navigation-drawer--sticky":ot.value},x.value,B.value,S.value,F.value,R.value,$.value,r.class],style:[N.value,Pt.value,ge.value,Qe.value,r.style,["top","bottom"].includes(Ge.value)?{height:"auto"}:{}]},he,u),{default:()=>{var bt,Zt,Ur;return[pt&&fe("div",{key:"image",class:"v-navigation-drawer__img"},[b.image?fe(sc,{key:"image-defaults",disabled:!r.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:r.image}}},b.image):fe(PM,{key:"image-img",alt:"",cover:!0,height:"inherit",src:r.image},null)]),b.prepend&&fe("div",{class:"v-navigation-drawer__prepend"},[(bt=b.prepend)==null?void 0:bt.call(b)]),fe("div",{class:"v-navigation-drawer__content"},[(Zt=b.default)==null?void 0:Zt.call(b)]),b.append&&fe("div",{class:"v-navigation-drawer__append"},[(Ur=b.append)==null?void 0:Ur.call(b)])]}}),fe(Zp,{name:"fade-transition"},{default:()=>[Ze.value&&(Ce.value||ee.value)&&!!r.scrim&&fe("div",_a({class:["v-navigation-drawer__scrim",On.backgroundColorClasses.value],style:[sr.value,On.backgroundColorStyles.value],onClick:()=>{$e.value||(ee.value=!1)}},he),null)]})])}),{isStuck:hn}}}),The={__name:"NavBar",setup(r){const i=Ll(),u=Uf(),m=Md(),b=vh();bi();async function h(){if(i.focusTarget=="navigation"){await Ma();for(const F of document.getElementsByClassName("app-navigation-item")){F.focus();break}}}Gn(()=>i.focusChange,h);function x(F){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseenter"))}function S(F){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseleave"))}function B(F){F.type==fu.TYPE_URL&&!F.embedded?window.open(F.source,"long-essay-writer-resource-"+F.key):(u.selectResource(F),i.showResources())}function N(F){F.keyCode==27?S():i.handleKeyDown(F)}function R(F){return F.isExternalUrl()?"mdi-link":F.isEmbeddedUrl()?u.isActive(F)&&i.isResourcesVisible?"mdi-link-box":"mdi-link-box-outline":u.isActive(F)&&i.isResourcesVisible?"mdi-file":"mdi-file-outline"}return(F,W)=>(Xo(),Xs(Ahe,{id:"app-navigation-drawer",elevation:"2",width:"500",permanent:"",rail:"","expand-on-hover":"",onFocusin:x,onFocusout:S,onKeydown:N},{append:cn(()=>[fe(vhe)]),default:cn(()=>[fe(zY,{tabindex:"-1"},{default:cn(()=>[Ve(m).hasInstructions?(Xo(),Xs(Fp,{key:0,"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:W[0]||(W[0]=$=>{Ve(i).showInstructions()}),"aria-label":"Aufgabenstellung"+(Ve(i).isInstructionsVisible?", ist ausgewhlt":""),title:"Aufgabenstellung"+(Ve(i).isInstructionsVisible?" (ausgewhlt)":""),ripple:!1},{prepend:cn(()=>[fe(tr,{"aria-role":"hidden",icon:Ve(i).isInstructionsVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"])):Pl("",!0),Ve(u).hasInstruction?(Xo(),Xs(Fp,{key:1,"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:W[1]||(W[1]=$=>{Ve(i).showInstructionsPdf()}),"aria-label":"Aufgabenstellung als PDF"+(Ve(i).isInstructionsPdfVisible?", ist ausgewhlt":""),title:"Aufgabenstellung als PDF"+(Ve(i).isInstructionsPdfVisible?" (ausgewhlt)":""),ripple:!1},{prepend:cn(()=>[fe(tr,{"aria-role":"hidden",icon:Ve(i).isInstructionsPdfVisible?"mdi-file-document":"mdi-file-document-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"])):Pl("",!0),(Xo(!0),Sl(Es,null,ik(Ve(u).getFileOrUrlResources,$=>(Xo(),Xs(Fp,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:K=>{B($)},"aria-label":$.title+(Ve(u).isActive($)&&Ve(i).isResourcesVisible?", ist ausgewhlt":""),title:$.title+(Ve(u).isActive($)&&Ve(i).isResourcesVisible?" (ausgewhlt)":""),key:$.key,ripple:!1},{prepend:cn(()=>[fe(tr,{"aria-role":"hidden",icon:R($)},null,8,["icon"])]),_:2},1032,["onClick","aria-label","title"]))),128)),qo(fe(fV,{class:"border-opacity-75"},null,512),[[pr,Ve(m).hasInstructions||Ve(u).hasResources]]),Ve(m).hasInstructions||Ve(u).hasAnnotatableResource?(Xo(),Xs(Fp,{key:2,"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:W[2]||(W[2]=$=>{Ve(i).showAnnotations()}),"aria-label":"Anmerkungen"+(Ve(i).isAnnotationsVisible?", ist ausgewhlt":""),title:"Anmerkungen"+(Ve(i).isAnnotationsVisible?" (ausgewhlt)":""),ripple:!1},{prepend:cn(()=>[fe(tr,{"aria-role":"hidden",icon:Ve(i).isAnnotationsVisible?"mdi-pencil-box":"mdi-pencil-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"])):Pl("",!0),fe(Fp,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:W[3]||(W[3]=$=>{Ve(i).showEssay()}),"aria-label":"Abgabe-Text"+(Ve(i).isEssayVisible?", ist ausgewhlt":""),title:"Abgabe-Text"+(Ve(i).isEssayVisible?" (ausgewhlt)":""),ripple:!1},{prepend:cn(()=>[fe(tr,{"aria-role":"hidden",icon:Ve(i).isEssayVisible?"mdi-file-edit":"mdi-file-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),Ve(b).hasNotes?(Xo(),Xs(Fp,{key:3,"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:W[4]||(W[4]=$=>{Ve(i).showNotes()}),"aria-label":"Notizen, werden bei der Abgabe verworfen"+(Ve(i).isNotesVisible?", ist ausgewhlt":""),title:"Notizen, werden bei der Abgabe verworfen"+(Ve(i).isNotesVisible?" (ausgewhlt)":""),ripple:!1},{prepend:cn(()=>[fe(tr,{"aria-role":"hidden",icon:Ve(i).isNotesVisible?"mdi-clipboard":"mdi-clipboard-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"])):Pl("",!0),fe(fV,{class:"border-opacity-75"})]),_:1})]),_:1}))}},Ohe=gg(The,[["__scopeId","data-v-713529ae"]]);function O8(r){const i=document.createElement("div");return i.innerHTML=r,(i.innerText||i.textContent).replace(/[\s\n\r]+/g,"")}const d$=dg("clipboard",{state:()=>({content:"",show_warning:!1}),getters:{getPasteAllowed:r=>function(u){return!!(vh().copy_allowed||(console.log("content:",u),console.log("normalized content:",O8(u)),console.log("state.content:",r.content),console.log("normalized state.content:",O8(r.content)),O8(u)==O8(r.content)))}},actions:{setContent(r){this.content=r},showWarning(){this.show_warning=!0},hideWarning(){this.show_warning=!1}}});class Dhe{constructor(i,u,m){Sr(this,"observer",null);Sr(this,"marks",[]);if(!i)throw new Error("Missing anchor element");this.el=i,u instanceof Function&&(this.onSelection=u,this.el.addEventListener("mouseup",this.selectionHandler.bind(this)),this.el.addEventListener("touchend",this.selectionHandler.bind(this)),this.el.addEventListener("keydown",this.keydownHandler.bind(this))),m instanceof Function&&(this.onIntersection=m,this.observer=new IntersectionObserver(this.intersectionHandler.bind(this),{root:this.el,threshold:[1]}))}onSelection(i){}onIntersection(i){}keydownHandler(i){switch(i.key){case"Enter":i.preventDefault(),this.selectionHandler(i);break;case"Escape":i.preventDefault(),this.removeSelection();break}}selectionHandler(i){let u=this.getSelectionData();u.mouseX=i.clientX,u.mouseY=i.clientY,u.firstWord>0&&u.lastWord>0&&this.onSelection(u)}intersectionHandler(i){let u=0;this.marks.forEach(m=>{(u==0||m.firstWord<u)&&this.isMarkVisible(m.firstWord,m.lastWord)&&(u=m.firstWord)}),this.onIntersection(u)}removeSelection(){window.getSelection().collapseToEnd()}getSelectionData(){const i=window.getSelection(),u=i.getRangeAt(0);if(!i||!u)return{};let m=u.commonAncestorContainer;m.nodeType==3&&(m=m.parentNode.parentNode);let b=0,h=0,x=0;return m.querySelectorAll("w-p").forEach(S=>{if(i.containsNode(S,!0)){let B=parseInt(S.getAttribute("w")),N=parseInt(S.getAttribute("p"));(b==0||B<b)&&(b=B,x=N),B>h&&(h=B)}}),{firstWord:b,lastWord:h,parentNumber:x,isCollapsed:i.isCollapsed}}addLabel(i,u,m){let b=this.el.querySelector('w-p[w="'+m+'"]');b&&(b.setAttribute("label",u),b.classList.add(i))}showMark(i,u,m){this.marks.push({cssClass:i,firstWord:u,lastWord:m}),this.el.querySelectorAll("w-p").forEach(b=>{let h=parseInt(b.getAttribute("w"));h>=u&&h<=m&&b.classList.add(i),this.observer&&(h==u||h==m)&&this.observer.observe(b)})}hideMark(i,u,m){this.marks=this.marks.filter(b=>b.cssClass!=i||b.firstWord!=u||b.lastWord!=m),this.el.querySelectorAll("w-p."+i).forEach(b=>{let h=parseInt(b.getAttribute("w"));h>=u&&h<=m&&b.classList.remove(i),this.observer&&(h==u||h==m)&&this.observer.unobserve(b)})}hideAllMarksOfClass(i){this.marks=this.marks.filter(u=>u.cssClass!=i),this.el.querySelectorAll("w-p."+i).forEach(u=>{u.classList.remove(i)})}hideAllMarksAndLabels(){this.marks=[],this.el.querySelectorAll("w-p[class]").forEach(i=>{i.classList.value=""}),this.observer&&this.observer.disconnect()}hideSelection(){}scrollToMark(i,u){if(!this.isMarkVisible(i,u,!0)){const m=this.el.querySelector('w-p[w="'+i+'"]');m&&m.scrollIntoView()}}setCaretToMark(i){const u=this.el.querySelector('w-p[w="'+i+'"]').childNodes[0];if(u){let m=document.createRange(),b=window.getSelection();m.setStart(u,0),m.collapse(!0),b.removeAllRanges(),b.addRange(m)}}isMarkVisible(i,u,m){const b=this.el.querySelector('w-p[w="'+i+'"]'),h=this.el.querySelector('w-p[w="'+u+'"]');if(!b||!h)return!1;const x=this.el.getBoundingClientRect(),S=b.getBoundingClientRect(),B=h.getBoundingClientRect(),N=S.top>=x.top&&S.bottom<=x.bottom,R=B.top>=x.top&&B.bottom<=x.bottom;return m?N&&R:N||R}}const Rhe={id:"app-instructions-wrapper"},Nhe={class:"appTextButtons"},Ihe=nt("span",{id:"app-instructions-mode-select"},"Auswhlen",-1),Bhe=nt("span",{id:"app-instructions-mode-mark"},"Markieren",-1),Mhe=["innerHTML"],Phe={__name:"Instructions",setup(r){const i=Md(),u=Ll(),m=Y0(),b=d$(),h=dy(),x=wo(0);let S;Ic(()=>{S=new Dhe(document.getElementById("app-instructions"),W,$),B()});function B(){S.hideAllMarksAndLabels(),h.activeAnnotations.forEach(Te=>F(Te))}Gn(()=>h.markerChange,B);function N(){S.hideAllMarksOfClass("selected");let Te=h.getAnnotation(h.selectedKey);Te&&(S.showMark("selected",Te.start_position,Te.end_position),S.addLabel("labelled",Te.label,Te.start_position),S.scrollToMark(Te.start_position,Te.end_position))}Gn(()=>h.selectionChange,N);function R(){let Te=h.getAnnotation(h.selectedKey);S.setCaretToMark(Te.start_position)}Gn(()=>h.caretRequest,R);function F(Te){S.showMark("marked",Te.start_position,Te.end_position),S.addLabel("labelled",Te.label,Te.start_position)}async function W(Te){if(Te.isCollapsed){const te=h.getActiveAnotationsInRange(Te.firstWord,Te.lastWord);if(te.length){const Ae=te.shift();h.selectAnnotation(Ae.getKey())}}else if(x.value===1){S.removeSelection();const te=new ig({resource_key:ig.KEY_INSTRUCTIONS,parent_number:Te.parentNumber,start_position:Te.firstWord,end_position:Te.lastWord});await h.createAnnotation(te),h.selectAnnotation(te.getKey())}}function $(Te){const te=h.getActiveAnnotationsByStartPosition(Te);if(te.length){const Ae=te.shift();h.setFirstVisibleAnnotation(Ae.getKey())}}function K(Te){x.value=Te}async function ee(){u.focusTarget=="left"&&u.isInstructionsVisible&&(await Ma(),document.getElementById("app-instructions").focus())}Gn(()=>u.focusChange,ee);function ge(Te){const te=Ue();console.log(te),b.setContent(te),Te.clipboardData.setData("text/html",te),Te.preventDefault()}function he(Te){return Te.preventDefault(),!1}function Ue(){var Te;if(document.selection&&document.selection.createRange)return Te=document.selection.createRange(),Te.htmlText;if(window.getSelection){var te=window.getSelection();if(te.rangeCount>0){Te=te.getRangeAt(0);var Ae=Te.cloneContents(),ne=document.createElement("div");return ne.appendChild(Ae),ne.innerHTML}else return""}else return""}return(Te,te)=>(Xo(),Sl("div",Rhe,[nt("div",Nhe,[fe(nY,{modelValue:x.value,"onUpdate:modelValue":te[2]||(te[2]=Ae=>x.value=Ae),density:"comfortable",variant:"outlined",divided:""},{default:cn(()=>[fe(Ar,{"aria-labelledby":"app-instructions-mode-select",size:"small",value:"0",onClick:te[0]||(te[0]=Ae=>K(0))},{default:cn(()=>[fe(tr,{icon:"mdi-cursor-default-outline"}),Ihe]),_:1}),fe(Ar,{"aria-labelledby":"app-instructions-mode-mark",size:"small",value:"1",onClick:te[1]||(te[1]=Ae=>K(1))},{default:cn(()=>[fe(tr,{icon:"mdi-marker"}),Bhe]),_:1})]),_:1},8,["modelValue"]),oc("  "),fe(uk,{density:"comfortable",variant:"outlined",divided:""},{default:cn(()=>[fe(Ar,{title:"Aufgabenstellung Text verkleinern",size:"small",icon:"mdi-magnify-minus-outline",onClick:te[3]||(te[3]=Ae=>Ve(m).zoomInstructionsOut())}),fe(Ar,{title:"Aufgabenstellung Text vergrern",size:"small",icon:"mdi-magnify-plus-outline",onClick:te[4]||(te[4]=Ae=>Ve(m).zoomInstructionsIn())})]),_:1})]),nt("div",{id:"app-instructions",class:"app-instructions-scroll long-essay-content",contenteditable:"true",style:K0("font-size:"+Ve(m).instructions_zoom+"rem;"),innerHTML:Ve(i).instructions,onBeforeinput:he,onCopy:ge,onCut:ge},null,44,Mhe)]))}},Lhe=(r,i,u)=>{let m=Promise.resolve();const b=new EventTarget,h=(K,ee=null)=>b.dispatchEvent(new CustomEvent(K,{detail:ee})),x=((K=0)=>()=>++K)(),S={},B=document.createElement("iframe"),N=Promise.withResolvers();return B.src=i+"?file="+encodeURIComponent(u),B.style.width="100%",B.style.height="100%",r.appendChild(B),window.addEventListener("message",$),{on:b.addEventListener.bind(b),off:b.removeEventListener.bind(b),getAll:()=>F("getAll"),get:K=>F("get",K),update:K=>R("update",K),setAll:K=>R("setAll",K),add:K=>R("add",K),delete:K=>R("delete",K),selected:()=>F("selected"),select:K=>F("select",K),currentPage:()=>F("currentPage"),destroy:()=>{window.removeEventListener("message",$),iframe.remove()},rebuild:()=>{window.addEventListener("message",$),r.appendChild(B)}};function R(K,...ee){return m=m.then(()=>F(K,...ee))}function F(K,...ee){return new Promise(ge=>{const he=x();return S[he]=ge,N.promise.then(()=>B.contentWindow.postMessage({id:he,name:K,args:ee}))})}function W(K){if(!S[K.id])return;const ee=S[K.id];delete S[K.id],ee(K.value)}function $(K){if(K.source===B.contentWindow){if(K.data.emit){K.data.emit.name==="ready"&&N.resolve(),h(K.data.emit.name,K.data.emit.detail);return}if(K.data.response){W(K.data.response);return}}}},Fhe=r=>(vy("data-v-55f64618"),r=r(),yy(),r),zhe={class:"appResourceWrapper"},Hhe=Fhe(()=>nt("div",{class:"appTextButtons"},null,-1)),Vhe={__name:"ResourcePdf",props:["resource"],setup(r){const i=Ll();Uf();const u=dy(),b=r.resource,h=wo();let x;Ic(()=>{x=Lhe(h.value,"./annotate-pdf/pdfjs-dist/web/viewer.html",b.url),B(),x.on("create",N),x.on("update",R),x.on("delete",F),x.on("select",W),x.on("pageChanged",$),S()});async function S(){i.isResourceShown(b)&&(await Ma(),h.value.focus())}Gn(()=>i.focusChange,S);function B(){const ge=[];for(const he of u.getAnnotationsForResource(b.key))ge.push({id:he.mark_key,page:he.parent_number,intern:JSON.parse(he.mark_value)});x.setAll(ge)}async function N(ge){const he=new ig({resource_key:b.key,mark_key:ge.detail.id,mark_value:JSON.stringify(ge.detail.intern),parent_number:ge.detail.page,start_position:Math.round(-ge.detail.intern.rect[1])});await u.createAnnotation(he),u.selectAnnotation(he.getKey())}function R(ge){const he=u.getAnnotation(ig.buildKey(b.key,ge.detail.id));he&&(he.mark_value=JSON.stringify(ge.detail.intern),u.updateAnnotation(he))}function F(ge){ge.detail&&u.deleteAnnotation(ig.buildKey(b.key,ge.detail.id))}function W(ge){ge.detail&&u.selectAnnotation(ig.buildKey(b.key,ge.detail.id))}function $(ge){let he=u.getActiveAnnotationsByParentNumber(ge.detail);if(he.length){let Ue=he.shift();u.setFirstVisibleAnnotation(Ue.getKey())}}function K(){const ge=u.getAnnotation(u.selectedKey);ge&&ge.resource_key==b.key&&x.select(ge.mark_key)}Gn(()=>u.selectionChange,K);function ee(){const ge=ig.getFromKey(u.deletedKey);ge.resource_key==b.key&&x.delete(ge.mark_key)}return Gn(()=>u.deletedKey,ee),(ge,he)=>(Xo(),Sl("div",zhe,[Hhe,nt("div",{class:"appResourceNode",tabindex:"0",ref_key:"ResourceNode",ref:h},null,512)]))}},$he=gg(Vhe,[["__scopeId","data-v-55f64618"]]),Uhe=r=>(vy("data-v-4491b7ee"),r=r(),yy(),r),Whe={id:"app-resource-url-wrapper"},Zhe=Uhe(()=>nt("div",{class:"appTextButtons"},null,-1)),jhe=["src"],Khe={__name:"ResourceUrl",props:["resource"],setup(r){const i=Ll();Uf();const m=r.resource,b=wo();async function h(){i.isResourceShown(m)&&(await Ma(),b.value.focus())}return Ic(()=>h),Gn(()=>i.focusChange,h),(x,S)=>(Xo(),Sl("div",Whe,[Zhe,nt("div",{tabindex:"0",class:"appResourceNode",ref_key:"ResourceNode",ref:b},[nt("iframe",{src:Ve(m).url,width:"100%",height:"100%",frameborder:"0",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""},null,8,jhe)],512)]))}},qhe=gg(Khe,[["__scopeId","data-v-4491b7ee"]]),Ghe={id:"app-resources",tabindex:"0",class:"resources"},Yhe={__name:"Resources",setup(r){const i=Ll(),u=Uf();return(m,b)=>(Xo(),Sl("div",Ghe,[(Xo(!0),Sl(Es,null,ik(Ve(u).resources,h=>(Xo(),Sl(Es,{key:h.key},[h.isPdf()?qo((Xo(),Xs($he,{key:h.key,resource:h},null,8,["resource"])),[[pr,Ve(i).isResourceShown(h)]]):Pl("",!0),h.isEmbeddedUrl()?qo((Xo(),Xs(qhe,{key:h.key,resource:h},null,8,["resource"])),[[pr,Ve(i).isResourceShown(h)]]):Pl("",!0)],64))),128))]))}},Xhe=gg(Yhe,[["__scopeId","data-v-1c7878fa"]]);var eX={exports:{}};(function(r){(function(){var i=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},u=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},m=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},b=function(e,t){return h(function(n,s){return e.eq(t(n),t(s))})},h=function(e){return{eq:e}},x=h(function(e,t){return e===t}),S=x,B=function(e){return h(function(t,n){if(t.length!==n.length)return!1;for(var s=t.length,l=0;l<s;l++)if(!e.eq(t[l],n[l]))return!1;return!0})},N=function(e,t){return b(B(e),function(n){return m(n,t)})},R=function(e){return h(function(t,n){var s=Object.keys(t),l=Object.keys(n);if(!N(S).eq(s,l))return!1;for(var f=s.length,g=0;g<f;g++){var C=s[g];if(!e.eq(t[C],n[C]))return!1}return!0})},F=h(function(e,t){if(e===t)return!0;var n=i(e),s=i(t);return n!==s?!1:u(n)?e===t:n==="array"?B(F).eq(e,t):n==="object"?R(F).eq(e,t):!1});const W=Object.getPrototypeOf,$=(e,t,n)=>{var s;return n(e,t.prototype)?!0:((s=e.constructor)===null||s===void 0?void 0:s.name)===t.name},K=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&$(e,String,(n,s)=>s.isPrototypeOf(n))?"string":t},ee=e=>t=>K(t)===e,ge=e=>t=>typeof t===e,he=e=>t=>e===t,Ue=(e,t)=>te(e)&&$(e,t,(n,s)=>W(n)===s),Te=ee("string"),te=ee("object"),Ae=e=>Ue(e,Object),ne=ee("array"),Ge=he(null),$e=ge("boolean"),Ze=he(void 0),ot=e=>e==null,Ce=e=>!ot(e),Ne=ge("function"),D=ge("number"),yt=(e,t)=>{if(ne(e)){for(let n=0,s=e.length;n<s;++n)if(!t(e[n]))return!1;return!0}return!1},Pt=()=>{},ln=(e,t)=>(...n)=>e(t.apply(null,n)),hn=(e,t)=>n=>e(t(n)),Qe=e=>()=>e,On=e=>e,sr=(e,t)=>e===t;function pt(e,...t){return(...n)=>{const s=t.concat(n);return e.apply(null,s)}}const bt=e=>t=>!e(t),Zt=e=>()=>{throw new Error(e)},Ur=e=>e(),ho=e=>{e()},xn=Qe(!1),Rn=Qe(!0);class J{constructor(t,n){this.tag=t,this.value=n}static some(t){return new J(!0,t)}static none(){return J.singletonNone}fold(t,n){return this.tag?n(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?J.some(t(this.value)):J.none()}bind(t){return this.tag?t(this.value):J.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:J.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return Ce(t)?J.some(t):J.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}J.singletonNone=new J(!1);const ir=Array.prototype.slice,vr=Array.prototype.indexOf,Ko=Array.prototype.push,oi=(e,t)=>vr.call(e,t),Ke=(e,t)=>{const n=oi(e,t);return n===-1?J.none():J.some(n)},le=(e,t)=>oi(e,t)>-1,xe=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const l=e[n];if(t(l,n))return!0}return!1},Me=(e,t)=>{const n=e.length,s=new Array(n);for(let l=0;l<n;l++){const f=e[l];s[l]=t(f,l)}return s},pe=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const l=e[n];t(l,n)}},St=(e,t)=>{for(let n=e.length-1;n>=0;n--){const s=e[n];t(s,n)}},$t=(e,t)=>{const n=[],s=[];for(let l=0,f=e.length;l<f;l++){const g=e[l];(t(g,l)?n:s).push(g)}return{pass:n,fail:s}},Ct=(e,t)=>{const n=[];for(let s=0,l=e.length;s<l;s++){const f=e[s];t(f,s)&&n.push(f)}return n},zt=(e,t,n)=>(St(e,(s,l)=>{n=t(n,s,l)}),n),It=(e,t,n)=>(pe(e,(s,l)=>{n=t(n,s,l)}),n),on=(e,t,n)=>{for(let s=0,l=e.length;s<l;s++){const f=e[s];if(t(f,s))return J.some(f);if(n(f,s))break}return J.none()},wn=(e,t)=>on(e,t,xn),Cn=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const l=e[n];if(t(l,n))return J.some(n)}return J.none()},En=e=>{const t=[];for(let n=0,s=e.length;n<s;++n){if(!ne(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Ko.apply(t,e[n])}return t},ao=(e,t)=>En(Me(e,t)),vo=(e,t)=>{for(let n=0,s=e.length;n<s;++n){const l=e[n];if(t(l,n)!==!0)return!1}return!0},To=e=>{const t=ir.call(e,0);return t.reverse(),t},Do=(e,t)=>Ct(e,n=>!le(t,n)),As=(e,t)=>{const n={};for(let s=0,l=e.length;s<l;s++){const f=e[s];n[String(f)]=t(f,s)}return n},fr=(e,t)=>{const n=ir.call(e,0);return n.sort(t),n},vi=(e,t)=>t>=0&&t<e.length?J.some(e[t]):J.none(),un=e=>vi(e,0),po=e=>vi(e,e.length-1),io=Ne(Array.from)?Array.from:e=>ir.call(e),Wr=(e,t)=>{for(let n=0;n<e.length;n++){const s=t(e[n],n);if(s.isSome())return s}return J.none()},Fa=(e,t)=>{const n=[],s=Ne(t)?l=>xe(n,f=>t(f,l)):l=>le(n,l);for(let l=0,f=e.length;l<f;l++){const g=e[l];s(g)||n.push(g)}return n},Vt=Object.keys,Js=Object.hasOwnProperty,Uo=(e,t)=>{const n=Vt(e);for(let s=0,l=n.length;s<l;s++){const f=n[s],g=e[f];t(g,f)}},El=(e,t)=>Or(e,(n,s)=>({k:s,v:t(n,s)})),Or=(e,t)=>{const n={};return Uo(e,(s,l)=>{const f=t(s,l);n[f.k]=f.v}),n},Hs=e=>(t,n)=>{e[n]=t},Gf=(e,t,n,s)=>{Uo(e,(l,f)=>{(t(l,f)?n:s)(l,f)})},hu=(e,t)=>{const n={},s={};return Gf(e,t,Hs(n),Hs(s)),{t:n,f:s}},ic=(e,t)=>{const n={};return Gf(e,t,Hs(n),Pt),n},Ji=(e,t)=>{const n=[];return Uo(e,(s,l)=>{n.push(t(s,l))}),n},pu=e=>Ji(e,On),mr=(e,t)=>Yn(e,t)?J.from(e[t]):J.none(),Yn=(e,t)=>Js.call(e,t),Al=(e,t)=>Yn(e,t)&&e[t]!==void 0&&e[t]!==null,da=(e,t,n=F)=>R(n).eq(e,t),bu=e=>{const t={};return pe(e,n=>{t[n]={}}),Vt(t)},Qt=e=>e.length!==void 0,vu=Array.isArray,Yf=e=>{if(vu(e))return e;{const t=[];for(let n=0,s=e.length;n<s;n++)t[n]=e[n];return t}},ns=(e,t,n)=>{if(!e)return!1;if(n=n||e,Qt(e)){for(let s=0,l=e.length;s<l;s++)if(t.call(n,e[s],s,e)===!1)return!1}else for(const s in e)if(Yn(e,s)&&t.call(n,e[s],s,e)===!1)return!1;return!0},Xf=(e,t)=>{const n=[];return ns(e,(s,l)=>{n.push(t(s,l,e))}),n},Bi=(e,t)=>{const n=[];return ns(e,(s,l)=>{(!t||t(s,l,e))&&n.push(s)}),n},hl=(e,t)=>{if(e){for(let n=0,s=e.length;n<s;n++)if(e[n]===t)return n}return-1},Qi=(e,t,n,s)=>{let l=Ze(n)?e[0]:n;for(let f=0;f<e.length;f++)l=t.call(s,l,e[f],f);return l},qr=(e,t,n)=>{for(let s=0,l=e.length;s<l;s++)if(t.call(n,e[s],s,e))return s;return-1},ri=e=>e[e.length-1],pl=e=>{let t=!1,n;return(...s)=>(t||(t=!0,n=e.apply(null,s)),n)},Jf=(e,t,n,s)=>{const l=e.isiOS()&&/ipad/i.test(n)===!0,f=e.isiOS()&&!l,g=e.isiOS()||e.isAndroid(),C=g||s("(pointer:coarse)"),A=l||!f&&g&&s("(min-device-width:768px)"),z=f||g&&!A,j=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,G=!z&&!A&&!j;return{isiPad:Qe(l),isiPhone:Qe(f),isTablet:Qe(A),isPhone:Qe(z),isTouch:Qe(C),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:Qe(j),isDesktop:Qe(G)}},Mc=(e,t)=>{for(let n=0;n<e.length;n++){const s=e[n];if(s.test(t))return s}},Pc=(e,t)=>{const n=Mc(e,t);if(!n)return{major:0,minor:0};const s=l=>Number(t.replace(n,"$"+l));return Wo(s(1),s(2))},Vd=(e,t)=>{const n=String(t).toLowerCase();return e.length===0?ed():Pc(e,n)},ed=()=>Wo(0,0),Wo=(e,t)=>({major:e,minor:t}),xs={nu:Wo,detect:Vd,unknown:ed},js=(e,t)=>Wr(t.brands,n=>{const s=n.brand.toLowerCase();return wn(e,l=>{var f;return s===((f=l.brand)===null||f===void 0?void 0:f.toLowerCase())}).map(l=>({current:l.name,version:xs.nu(parseInt(n.version,10),0)}))}),Qf=(e,t)=>{const n=String(t).toLowerCase();return wn(e,s=>s.search(n))},Mi=(e,t)=>Qf(e,t).map(n=>{const s=xs.detect(n.versionRegexes,t);return{current:n.name,version:s}}),Lc=(e,t)=>Qf(e,t).map(n=>{const s=xs.detect(n.versionRegexes,t);return{current:n.name,version:s}}),si=(e,t)=>e.substring(t),ai=(e,t,n)=>t===""||e.length>=t.length&&e.substr(n,n+t.length)===t,Fc=(e,t)=>Gr(e,t)?si(e,t.length):e,yr=(e,t,n=0,s)=>{const l=e.indexOf(t,n);return l!==-1?Ze(s)?!0:l+t.length<=s:!1},Gr=(e,t)=>ai(e,t,0),Se=(e,t)=>ai(e,t,e.length-t.length),Ye=e=>t=>t.replace(e,""),Re=Ye(/^\s+|\s+$/g),lt=Ye(/^\s+/g),st=Ye(/\s+$/g),je=e=>e.length>0,Lt=e=>!je(e),Yt=(e,t)=>t<=0?"":new Array(t+1).join(e),nn=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?J.none():J.some(n)},fn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,en=e=>t=>yr(t,e),ro=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>yr(e,"edge/")&&yr(e,"chrome")&&yr(e,"safari")&&yr(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,fn],search:e=>yr(e,"chrome")&&!yr(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>yr(e,"msie")||yr(e,"trident")},{name:"Opera",versionRegexes:[fn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:en("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:en("firefox")},{name:"Safari",versionRegexes:[fn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(yr(e,"safari")||yr(e,"mobile/"))&&yr(e,"applewebkit")}],Jt=[{name:"Windows",search:en("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>yr(e,"iphone")||yr(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:en("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:en("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:en("linux"),versionRegexes:[]},{name:"Solaris",search:en("sunos"),versionRegexes:[]},{name:"FreeBSD",search:en("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:en("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],lr={browsers:Qe(ro),oses:Qe(Jt)},Co="Edge",Io="Chromium",fs="IE",fo="Opera",bl="Firefox",za="Safari",Qn=()=>Pi({current:void 0,version:xs.unknown()}),Pi=e=>{const t=e.current,n=e.version,s=l=>()=>t===l;return{current:t,version:n,isEdge:s(Co),isChromium:s(Io),isIE:s(fs),isOpera:s(fo),isFirefox:s(bl),isSafari:s(za)}},el={unknown:Qn,nu:Pi,edge:Qe(Co),chromium:Qe(Io),ie:Qe(fs),opera:Qe(fo),firefox:Qe(bl),safari:Qe(za)},as="Windows",td="iOS",Ts="Android",$d="Linux",vl="macOS",nr="Solaris",yu="FreeBSD",em="ChromeOS",Ch=()=>ms({current:void 0,version:xs.unknown()}),ms=e=>{const t=e.current,n=e.version,s=l=>()=>t===l;return{current:t,version:n,isWindows:s(as),isiOS:s(td),isAndroid:s(Ts),isMacOS:s(vl),isLinux:s($d),isSolaris:s(nr),isFreeBSD:s(yu),isChromeOS:s(em)}},lc={unknown:Ch,nu:ms,windows:Qe(as),ios:Qe(td),android:Qe(Ts),linux:Qe($d),macos:Qe(vl),solaris:Qe(nr),freebsd:Qe(yu),chromeos:Qe(em)},Lr={detect:(e,t,n)=>{const s=lr.browsers(),l=lr.oses(),f=t.bind(A=>js(s,A)).orThunk(()=>Mi(s,e)).fold(el.unknown,el.nu),g=Lc(l,e).fold(lc.unknown,lc.nu),C=Jf(g,f,e,n);return{browser:f,os:g,deviceType:C}}},tm=e=>window.matchMedia(e).matches;let yl=pl(()=>Lr.detect(window.navigator.userAgent,J.from(window.navigator.userAgentData),tm));const Ha=()=>yl(),hg=window.navigator.userAgent,fa=Ha(),Li=fa.browser,Va=fa.os,xl=fa.deviceType,_h=hg.indexOf("Windows Phone")!==-1,_o={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Li.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Li.isIE(),windowsPhone:_h,browser:{current:Li.current,version:Li.version,isChromium:Li.isChromium,isEdge:Li.isEdge,isFirefox:Li.isFirefox,isIE:Li.isIE,isOpera:Li.isOpera,isSafari:Li.isSafari},os:{current:Va.current,version:Va.version,isAndroid:Va.isAndroid,isChromeOS:Va.isChromeOS,isFreeBSD:Va.isFreeBSD,isiOS:Va.isiOS,isLinux:Va.isLinux,isMacOS:Va.isMacOS,isSolaris:Va.isSolaris,isWindows:Va.isWindows},deviceType:{isDesktop:xl.isDesktop,isiPad:xl.isiPad,isiPhone:xl.isiPhone,isPhone:xl.isPhone,isTablet:xl.isTablet,isTouch:xl.isTouch,isWebView:xl.isWebView}},zc=/^\s*|\s*$/g,nd=e=>ot(e)?"":(""+e).replace(zc,""),xu=(e,t)=>t?t==="array"&&vu(e)?!0:typeof e===t:e!==void 0,Jp=(e,t,n={})=>{const s=Te(e)?e.split(t||","):e||[];let l=s.length;for(;l--;)n[s[l]]={};return n},ky=Yn,r1=(e,...t)=>{for(let n=0;n<t.length;n++){const s=t[n];for(const l in s)if(Yn(s,l)){const f=s[l];f!==void 0&&(e[l]=f)}}return e},s1=function(e,t,n,s){s=s||this,e&&(n&&(e=e[n]),ns(e,(l,f)=>t.call(s,l,f,n)===!1?!1:(s1(l,t,n,s),!0)))},Kt={trim:nd,isArray:vu,is:xu,toArray:Yf,makeMap:Jp,each:ns,map:Xf,grep:Bi,inArray:hl,hasOwn:ky,extend:r1,walk:s1,resolve:(e,t=window)=>{const n=e.split(".");for(let s=0,l=n.length;s<l&&(t=t[n[s]],!!t);s++);return t},explode:(e,t)=>ne(e)?e:e===""?[]:Xf(e.split(t||","),nd),_addCacheSuffix:e=>{const t=_o.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},Ud=(e,t,n=sr)=>e.exists(s=>n(s,t)),Wd=(e,t,n=sr)=>$a(e,t,n).getOr(e.isNone()&&t.isNone()),i1=e=>{const t=[],n=s=>{t.push(s)};for(let s=0;s<e.length;s++)e[s].each(n);return t},$a=(e,t,n)=>e.isSome()&&t.isSome()?J.some(n(e.getOrDie(),t.getOrDie())):J.none(),Zd=(e,t,n,s)=>e.isSome()&&t.isSome()&&n.isSome()?J.some(s(e.getOrDie(),t.getOrDie(),n.getOrDie())):J.none(),pg=(e,t)=>e?J.some(t):J.none(),Ey=typeof window<"u"?window:Function("return this;")(),Ay=(e,t)=>{let n=t??Ey;for(let s=0;s<e.length&&n!==void 0&&n!==null;++s)n=n[e[s]];return n},Qp=(e,t)=>{const n=e.split(".");return Ay(n,t)},Ty=(e,t)=>Qp(e,t),l1=(e,t)=>{const n=Ty(e,t);if(n==null)throw new Error(e+" not available on this browser");return n},Oy=Object.getPrototypeOf,bg=e=>l1("HTMLElement",e),c1=e=>{const t=Qp("ownerDocument.defaultView",e);return te(e)&&(bg(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Oy(e).constructor.name))},jd=8,Kd=9,Ua=11,nl=1,vg=3,Po=e=>e.dom.nodeName.toLowerCase(),od=e=>e.dom.nodeType,yg=e=>t=>od(t)===e,xg=e=>od(e)===jd||Po(e)==="#comment",yi=e=>Os(e)&&c1(e.dom),Os=yg(nl),Yr=yg(vg),Sa=yg(Kd),Fr=yg(Ua),qd=e=>t=>Os(t)&&Po(t)===e,nm=(e,t,n)=>{if(Te(n)||$e(n)||D(n))e.setAttribute(t,n+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple")},ra=(e,t,n)=>{nm(e.dom,t,n)},xi=(e,t)=>{const n=e.dom;Uo(t,(s,l)=>{nm(n,l,s)})},ii=(e,t)=>{const n=e.dom.getAttribute(t);return n===null?void 0:n},Hc=(e,t)=>J.from(ii(e,t)),rd=(e,t)=>{const n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},bo=(e,t)=>{e.dom.removeAttribute(t)},Ks=e=>{const t=e.dom.attributes;return t==null||t.length===0},ol=e=>It(e.dom.attributes,(t,n)=>(t[n.name]=n.value,t),{}),sd=(e,t)=>{const n=ii(e,t);return n===void 0||n===""?[]:n.split(" ")},ka=(e,t,n)=>{const l=sd(e,t).concat([n]);return ra(e,t,l.join(" ")),!0},Dn=(e,t,n)=>{const s=Ct(sd(e,t),l=>l!==n);return s.length>0?ra(e,t,s.join(" ")):bo(e,t),!1},cc=e=>e.dom.classList!==void 0,uc=e=>sd(e,"class"),cr=(e,t)=>ka(e,"class",t),kh=(e,t)=>Dn(e,"class",t),eb=(e,t)=>le(uc(e),t)?kh(e,t):cr(e,t),ad=(e,t)=>{cc(e)?e.dom.classList.add(t):cr(e,t)},So=e=>{(cc(e)?e.dom.classList:uc(e)).length===0&&bo(e,"class")},wi=(e,t)=>{cc(e)?e.dom.classList.remove(t):kh(e,t),So(e)},Eh=(e,t)=>{const n=cc(e)?e.dom.classList.toggle(t):eb(e,t);return So(e),n},id=(e,t)=>cc(e)&&e.dom.classList.contains(t),tb=(e,t)=>{const s=(t||document).createElement("div");if(s.innerHTML=e,!s.hasChildNodes()||s.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,e),new Error(l)}return $c(s.childNodes[0])},Vc=(e,t)=>{const s=(t||document).createElement(e);return $c(s)},Fi=(e,t)=>{const s=(t||document).createTextNode(e);return $c(s)},$c=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Be={fromHtml:tb,fromTag:Vc,fromText:Fi,fromDom:$c,fromPoint:(e,t,n)=>J.from(e.dom.elementFromPoint(t,n)).map($c)},om=(e,t)=>{const n=[],s=f=>(n.push(f),t(f));let l=t(e);do l=l.bind(s);while(l.isSome());return n},xr=(e,t)=>{const n=e.dom;if(n.nodeType!==nl)return!1;{const s=n;if(s.matches!==void 0)return s.matches(t);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(t);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(t);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},nb=e=>e.nodeType!==nl&&e.nodeType!==Kd&&e.nodeType!==Ua||e.childElementCount===0,wg=(e,t)=>{const n=t===void 0?document:t.dom;return nb(n)?[]:Me(n.querySelectorAll(e),Be.fromDom)},Uc=(e,t)=>{const n=t===void 0?document:t.dom;return nb(n)?J.none():J.from(n.querySelector(e)).map(Be.fromDom)},Lo=(e,t)=>e.dom===t.dom,Wa=(e,t)=>{const n=e.dom,s=t.dom;return n===s?!1:n.contains(s)},wu=e=>Be.fromDom(e.dom.ownerDocument),Hl=e=>Sa(e)?e:wu(e),Cu=e=>Be.fromDom(Hl(e).dom.documentElement),_u=e=>Be.fromDom(Hl(e).dom.defaultView),Za=e=>J.from(e.dom.parentNode).map(Be.fromDom),Yd=e=>J.from(e.dom.parentElement).map(Be.fromDom),rm=(e,t)=>{const n=Ne(t)?t:xn;let s=e.dom;const l=[];for(;s.parentNode!==null&&s.parentNode!==void 0;){const f=s.parentNode,g=Be.fromDom(f);if(l.push(g),n(g)===!0)break;s=f}return l},ob=e=>{const t=n=>Ct(n,s=>!Lo(e,s));return Za(e).map(ja).map(t).getOr([])},sa=e=>J.from(e.dom.previousSibling).map(Be.fromDom),Pn=e=>J.from(e.dom.nextSibling).map(Be.fromDom),Su=e=>To(om(e,sa)),sm=e=>om(e,Pn),ja=e=>Me(e.dom.childNodes,Be.fromDom),ku=(e,t)=>{const n=e.dom.childNodes;return J.from(n[t]).map(Be.fromDom)},wl=e=>ku(e,0),Eu=e=>ku(e,e.dom.childNodes.length-1),ld=e=>e.dom.childNodes.length,aa=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return Be.fromDom(t)},Vl=e=>Fr(e)&&Ce(e.dom.host),Wc=e=>Be.fromDom(e.dom.getRootNode()),am=e=>Vl(e)?e:aa(Hl(e)),u1=e=>Vl(e)?e:Be.fromDom(Hl(e).dom.body),Au=e=>{const t=Wc(e);return Vl(t)?J.some(t):J.none()},Xd=e=>Be.fromDom(e.dom.host),rb=e=>{if(Ce(e.target)){const t=Be.fromDom(e.target);if(Os(t)&&is(t)&&e.composed&&e.composedPath){const n=e.composedPath();if(n)return un(n)}}return J.from(e.target)},is=e=>Ce(e.dom.shadowRoot),Ci=e=>{const t=Yr(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const n=t.ownerDocument;return Au(Be.fromDom(t)).fold(()=>n.body.contains(t),hn(Ci,Xd))};var li=(e,t,n,s,l)=>e(n,s)?J.some(n):Ne(l)&&l(n)?J.none():t(n,s,l);const zi=(e,t,n)=>{let s=e.dom;const l=Ne(n)?n:xn;for(;s.parentNode;){s=s.parentNode;const f=Be.fromDom(s);if(t(f))return J.some(f);if(l(f))break}return J.none()},Qs=(e,t,n)=>li((l,f)=>f(l),zi,e,t,n),Ah=(e,t)=>{const n=e.dom;return n.parentNode?qs(Be.fromDom(n.parentNode),s=>!Lo(e,s)&&t(s)):J.none()},qs=(e,t)=>{const n=l=>t(Be.fromDom(l));return wn(e.dom.childNodes,n).map(Be.fromDom)},Ea=(e,t)=>{const n=s=>{for(let l=0;l<s.childNodes.length;l++){const f=Be.fromDom(s.childNodes[l]);if(t(f))return J.some(f);const g=n(s.childNodes[l]);if(g.isSome())return g}return J.none()};return n(e.dom)},Zc=(e,t,n)=>zi(e,s=>xr(s,t),n),At=(e,t)=>Uc(t,e),Aa=(e,t,n)=>li((l,f)=>xr(l,f),Zc,e,t,n),Th=e=>Aa(e,"[contenteditable]"),ls=(e,t=!1)=>Ci(e)?e.dom.isContentEditable:Th(e).fold(Qe(t),n=>Tu(n)==="true"),Tu=e=>e.dom.contentEditable,_i=e=>e.style!==void 0&&Ne(e.style.getPropertyValue),dc=(e,t,n)=>{if(!Te(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);_i(e)&&e.style.setProperty(t,n)},im=(e,t)=>{_i(e)&&e.style.removeProperty(t)},Hi=(e,t,n)=>{const s=e.dom;dc(s,t,n)},Bo=(e,t)=>{const n=e.dom;Uo(t,(s,l)=>{dc(n,l,s)})},Ds=(e,t)=>{const n=e.dom,l=window.getComputedStyle(n).getPropertyValue(t);return l===""&&!Ci(e)?Jd(n,t):l},Jd=(e,t)=>_i(e)?e.style.getPropertyValue(t):"",ws=(e,t)=>{const n=e.dom,s=Jd(n,t);return J.from(s).filter(l=>l.length>0)},Cg=e=>{const t={},n=e.dom;if(_i(n))for(let s=0;s<n.style.length;s++){const l=n.style.item(s);t[l]=n.style[l]}return t},jc=(e,t)=>{const n=e.dom;im(n,t),Ud(Hc(e,"style").map(Re),"")&&bo(e,"style")},d1=e=>e.dom.offsetWidth,gs=(e,t)=>{Za(e).each(s=>{s.dom.insertBefore(t.dom,e.dom)})},et=(e,t)=>{Pn(e).fold(()=>{Za(e).each(l=>{Rs(l,t)})},s=>{gs(s,t)})},Si=(e,t)=>{wl(e).fold(()=>{Rs(e,t)},s=>{e.dom.insertBefore(t.dom,s.dom)})},Rs=(e,t)=>{e.dom.appendChild(t.dom)},Tl=(e,t)=>{gs(e,t),Rs(t,e)},fc=(e,t)=>{pe(t,(n,s)=>{const l=s===0?e:t[s-1];et(l,n)})},Vs=(e,t)=>{pe(t,n=>{Rs(e,n)})},zr=e=>{e.dom.textContent="",pe(ja(e),t=>{gr(t)})},gr=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},ki=e=>{const t=ja(e);t.length>0&&fc(e,t),gr(e)},Ol=(e,t)=>{const s=(t||document).createElement("div");return s.innerHTML=e,ja(Be.fromDom(s))},Kc=e=>Me(e,Be.fromDom),cd=e=>e.dom.innerHTML,lm=(e,t)=>{const s=wu(e).dom,l=Be.fromDom(s.createDocumentFragment()),f=Ol(t,s);Vs(l,f),zr(e),Rs(e,l)},_g=e=>{const t=Be.fromTag("div"),n=Be.fromDom(e.dom.cloneNode(!0));return Rs(t,n),cd(t)},Sg=(e,t,n,s,l,f,g)=>({target:e,x:t,y:n,stop:s,prevent:l,kill:f,raw:g}),sb=e=>{const t=Be.fromDom(rb(e).getOr(e.target)),n=()=>e.stopPropagation(),s=()=>e.preventDefault(),l=ln(s,n);return Sg(t,e.clientX,e.clientY,n,s,l,e)},ab=(e,t)=>n=>{e(n)&&t(sb(n))},Ou=(e,t,n,s,l)=>{const f=ab(n,s);return e.dom.addEventListener(t,f,l),{unbind:pt(Z,e,t,f,l)}},I=(e,t,n,s)=>Ou(e,t,n,s,!1),Z=(e,t,n,s)=>{e.dom.removeEventListener(t,n,s)},oe=(e,t)=>({left:e,top:t,translate:(s,l)=>oe(e+s,t+l)}),Oe=oe,ze=e=>{const t=e.getBoundingClientRect();return Oe(t.left,t.top)},Tt=(e,t)=>e!==void 0?e:t!==void 0?t:0,Ln=e=>{const t=e.dom.ownerDocument,n=t.body,s=t.defaultView,l=t.documentElement;if(n===e.dom)return Oe(n.offsetLeft,n.offsetTop);const f=Tt(s==null?void 0:s.pageYOffset,l.scrollTop),g=Tt(s==null?void 0:s.pageXOffset,l.scrollLeft),C=Tt(l.clientTop,n.clientTop),A=Tt(l.clientLeft,n.clientLeft);return so(e).translate(g-A,f-C)},so=e=>{const t=e.dom,s=t.ownerDocument.body;return s===t?Oe(s.offsetLeft,s.offsetTop):Ci(e)?ze(t):Oe(0,0)},Xn=e=>{const t=e!==void 0?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,s=t.body.scrollTop||t.documentElement.scrollTop;return Oe(n,s)},_n=(e,t,n)=>{const l=(n!==void 0?n.dom:document).defaultView;l&&l.scrollTo(e,t)},Qo=(e,t)=>{Ha().browser.isSafari()&&Ne(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Ns=e=>{const t=e===void 0?window:e;return Ha().browser.isFirefox()?J.none():J.from(t.visualViewport)},cs=(e,t,n,s)=>({x:e,y:t,width:n,height:s,right:e+n,bottom:t+s}),mc=e=>{const t=e===void 0?window:e,n=t.document,s=Xn(Be.fromDom(n));return Ns(t).fold(()=>{const l=t.document.documentElement,f=l.clientWidth,g=l.clientHeight;return cs(s.left,s.top,f,g)},l=>cs(Math.max(l.pageLeft,s.left),Math.max(l.pageTop,s.top),l.width,l.height))},cm=(e,t)=>Ct(ja(e),t),um=(e,t)=>{let n=[];return pe(ja(e),s=>{t(s)&&(n=n.concat([s])),n=n.concat(um(s,t))}),n},ea=(e,t)=>wg(t,e),Vw=(e,t,n)=>zi(e,t,n).isSome(),ib=(e,t)=>Ah(e,t).isSome(),f1=(e,t)=>Ea(e,t).isSome();class Ka{constructor(t,n){this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,n,s,l){if(t){if(!l&&t[n])return t[n];if(t!==this.rootNode){let f=t[s];if(f)return f;for(let g=t.parentNode;g&&g!==this.rootNode;g=g.parentNode)if(f=g[s],f)return f}}}findPreviousNode(t,n){if(t){const s=t.previousSibling;if(this.rootNode&&s===this.rootNode)return;if(s){if(!n){for(let f=s.lastChild;f;f=f.lastChild)if(!f.lastChild)return f}return s}const l=t.parentNode;if(l&&l!==this.rootNode)return l}}}const hs="\uFEFF",ma="",Du=e=>e===hs,Oh=e=>e.replace(/\uFEFF/g,""),Dy=/^[ \t\r\n]*$/,$l=e=>Dy.test(e),rl=e=>{for(const t of e)if(!Du(t))return!1;return!0},lb=e=>" \f	\v".indexOf(e)!==-1,Qd=e=>e===`
`||e==="\r",hk=(e,t)=>t<e.length&&t>=0?Qd(e[t]):!1,cb=(e,t=4,n=!0,s=!0)=>{const l=Yt(" ",t),f=e.replace(/\t/g,l);return It(f,(C,A)=>lb(A)||A===ma?C.pcIsSpace||C.str===""&&n||C.str.length===f.length-1&&s||hk(f,C.str.length+1)?{pcIsSpace:!1,str:C.str+ma}:{pcIsSpace:!0,str:C.str+" "}:{pcIsSpace:Qd(A),str:C.str+A},{pcIsSpace:!1,str:""}).str},ud=e=>t=>!!t&&t.nodeType===e,ef=e=>!!e&&!Object.getPrototypeOf(e),yn=ud(1),qc=e=>yn(e)&&yi(Be.fromDom(e)),ub=e=>yn(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",tf=e=>{const t=e.toLowerCase();return n=>Ce(n)&&n.nodeName.toLowerCase()===t},qa=e=>{const t=e.map(n=>n.toLowerCase());return n=>{if(n&&n.nodeName){const s=n.nodeName.toLowerCase();return le(t,s)}return!1}},gc=(e,t)=>{const n=t.toLowerCase().split(" ");return s=>{if(yn(s)){const l=s.ownerDocument.defaultView;if(l)for(let f=0;f<n.length;f++){const g=l.getComputedStyle(s,null);if((g?g.getPropertyValue(e):null)===n[f])return!0}}return!1}},kg=e=>t=>yn(t)&&t.hasAttribute(e),nf=e=>yn(e)&&e.hasAttribute("data-mce-bogus"),m1=e=>yn(e)&&e.getAttribute("data-mce-bogus")==="all",Gc=e=>yn(e)&&e.tagName==="TABLE",Dh=e=>t=>!!(qc(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),Rh=qa(["textarea","input"]),Mt=ud(3),Ry=ud(4),of=ud(7),go=ud(8),Sn=ud(9),rf=ud(11),os=tf("br"),hc=tf("img"),pc=Dh("true"),to=Dh("false"),Nh=qa(["td","th"]),$w=qa(["td","th","caption"]),xt=qa(["video","audio","object","embed"]),Ny=tf("li"),Ih=tf("details"),Bh=tf("summary"),Eg={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},dm=(e,t,n)=>{const s=Be.fromDom(t),l=Be.fromDom(e),f=n.getWhitespaceElements();return Vw(l,C=>Yn(f,Po(C)),pt(Lo,s))},Uw=e=>yn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),sf=(e,t)=>yn(e)&&Yn(t.getNonEmptyElements(),e.nodeName),Zr=kg("data-mce-bookmark"),Ru=e=>Yd(Be.fromDom(e)).exists(t=>!ls(t)),g1=(e,t,n)=>$l(e.data)&&!dm(e,t,n),Yc=(e,t,n,s)=>Mt(e)&&!g1(e,t,n)&&(!s.includeZwsp||!rl(e.data)),fm=(e,t,n,s)=>Ne(s.isContent)&&s.isContent(t)||sf(t,e)||Zr(t)||Uw(t)||Yc(t,n,e,s)||to(t)||pc(t)&&Ru(t),Ul=(e,t,n)=>{const s={...Eg,...n};if(s.checkRootAsContent&&fm(e,t,t,s))return!1;let l=t.firstChild,f=0;if(!l)return!0;const g=new Ka(l,t);do{if(s.skipBogus&&yn(l)){const C=l.getAttribute("data-mce-bogus");if(C){l=g.next(C==="all");continue}}if(go(l)){l=g.next(!0);continue}if(os(l)){f++,l=g.next();continue}if(fm(e,l,t,s))return!1;l=g.next()}while(l);return f<=1},Is=(e,t,n)=>Ul(e,t.dom,{checkRootAsContent:!0,...n}),db=(e,t,n)=>fm(e,t,t,{includeZwsp:Eg.includeZwsp,...n}),ga=e=>{let t=e;return{get:()=>t,set:l=>{t=l}}},h1=e=>{const t=ga(J.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(J.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:C=>{n(),t.set(J.some(C))}}},bc=e=>{const t=ga(J.none()),n=()=>t.get().each(C=>clearInterval(C));return{clear:()=>{n(),t.set(J.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:C=>{n(),t.set(J.some(setInterval(C,e)))}}},ha=()=>{const e=h1(Pt);return{...e,on:n=>e.get().each(n)}},Ft=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},mm=e=>Ft(e)!=="html",pa=e=>mm(e.nodeName),Ww=e=>Ft(e.nodeName),Zw=["svg","math"],pk=()=>{const e=ha(),t=()=>e.get().map(Ww).getOr("html");return{track:l=>(pa(l)?e.set(l):e.get().exists(f=>!f.contains(l))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},dd="data-mce-block",Ag=e=>Ct(Vt(e),t=>!/[A-Z]/.test(t)),fb=e=>Me(Ag(e),t=>{const n=CSS.escape(t);return`${n}:`+Me(Zw,s=>`not(${s} ${n})`).join(":")}).join(","),p1=(e,t)=>Ce(t.querySelector(e))?(t.setAttribute(dd,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(dd),!1),Iy=(e,t)=>{const n=fb(e.getTransparentElements()),s=fb(e.getBlockElements());return Ct(t.querySelectorAll(n),l=>p1(s,l))},us=(e,t,n)=>{var s;const l=n?"lastChild":"firstChild";for(let f=t[l];f;f=f[l])if(Ul(e,f,{checkRootAsContent:!0})){(s=f.parentNode)===null||s===void 0||s.removeChild(f);return}},mb=(e,t,n)=>{const s=document.createRange(),l=t.parentNode;if(l){s.setStartBefore(t),s.setEndBefore(n);const f=s.extractContents();us(e,f,!0),s.setStartAfter(n),s.setEndAfter(t);const g=s.extractContents();us(e,g,!1),Ul(e,f,{checkRootAsContent:!0})||l.insertBefore(f,t),Ul(e,n,{checkRootAsContent:!0})||l.insertBefore(n,t),Ul(e,g,{checkRootAsContent:!0})||l.insertBefore(g,t),l.removeChild(t)}},ps=(e,t,n)=>{const s=e.getBlockElements(),l=Be.fromDom(t),f=C=>Po(C)in s,g=C=>Lo(C,l);pe(Kc(n),C=>{zi(C,f,g).each(A=>{const z=cm(C,j=>f(j)&&!e.isValidChild(Po(A),Po(j)));if(z.length>0){const j=Yd(A);pe(z,G=>{zi(G,f,g).each(X=>{mb(e,X.dom,G.dom)})}),j.each(G=>Iy(e,G.dom))}})})},Vi=(e,t,n)=>{pe([...n,...af(e,t)?[t]:[]],s=>pe(ea(Be.fromDom(s),s.nodeName.toLowerCase()),l=>{jw(e,l.dom)&&ki(l)}))},Bs=(e,t)=>{const n=Iy(e,t);ps(e,t,n),Vi(e,t,n)},Wl=(e,t)=>{if(Mh(e,t)){const n=fb(e.getBlockElements());p1(n,t)}},fd=(e,t,n)=>{const s=f=>Lo(f,Be.fromDom(t)),l=rm(Be.fromDom(n),s);vi(l,l.length-2).filter(Os).fold(()=>Bs(e,t),f=>Bs(e,f.dom))},Ta=e=>e.hasAttribute(dd),gb=(e,t)=>Yn(e.getTransparentElements(),t),Mh=(e,t)=>yn(t)&&gb(e,t.nodeName),af=(e,t)=>Mh(e,t)&&Ta(t),jw=(e,t)=>Mh(e,t)&&!Ta(t),Ph=(e,t)=>t.type===1&&gb(e,t.name)&&Te(t.attr(dd)),By=Ha().browser,b1=e=>wn(e,Os),hb=e=>By.isFirefox()&&Po(e)==="table"?b1(ja(e)).filter(t=>Po(t)==="caption").bind(t=>b1(sm(t)).map(n=>{const s=n.dom.offsetTop,l=t.dom.offsetTop,f=t.dom.offsetHeight;return s<=l?-f:0})).getOr(0):0,v1=(e,t)=>e.children&&le(e.children,t),My=(e,t,n)=>{let s=0,l=0;const f=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&Ds(Be.fromDom(e),"position")==="static"){const C=t.getBoundingClientRect();return s=C.left+(f.documentElement.scrollLeft||e.scrollLeft)-f.documentElement.clientLeft,l=C.top+(f.documentElement.scrollTop||e.scrollTop)-f.documentElement.clientTop,{x:s,y:l}}let g=t;for(;g&&g!==n&&g.nodeType&&!v1(g,n);){const C=g;s+=C.offsetLeft||0,l+=C.offsetTop||0,g=C.offsetParent}for(g=t.parentNode;g&&g!==n&&g.nodeType&&!v1(g,n);)s-=g.scrollLeft||0,l-=g.scrollTop||0,g=g.parentNode;l+=hb(Be.fromDom(t))}return{x:s,y:l}},gm=(e,t={})=>{let n=0;const s={},l=Be.fromDom(e),f=Hl(l),g=Fe=>{t.referrerPolicy=Fe},C=Fe=>{t.contentCssCors=Fe},A=Fe=>{Rs(am(l),Fe)},z=Fe=>{const qe=am(l);At(qe,"#"+Fe).each(gr)},j=Fe=>mr(s,Fe).getOrThunk(()=>({id:"mce-u"+n++,passed:[],failed:[],count:0})),G=Fe=>new Promise((qe,We)=>{let at;const Nt=Kt._addCacheSuffix(Fe),jt=j(Nt);s[Nt]=jt,jt.count++;const dn=(bn,Nn)=>{pe(bn,ho),jt.status=Nn,jt.passed=[],jt.failed=[],at&&(at.onload=null,at.onerror=null,at=null)},wt=()=>dn(jt.passed,2),dt=()=>dn(jt.failed,3);if(qe&&jt.passed.push(qe),We&&jt.failed.push(We),jt.status===1)return;if(jt.status===2){wt();return}if(jt.status===3){dt();return}jt.status=1;const Dt=Be.fromTag("link",f.dom);xi(Dt,{rel:"stylesheet",type:"text/css",id:jt.id}),t.contentCssCors&&ra(Dt,"crossOrigin","anonymous"),t.referrerPolicy&&ra(Dt,"referrerpolicy",t.referrerPolicy),at=Dt.dom,at.onload=wt,at.onerror=dt,A(Dt),ra(Dt,"href",Nt)}),X=(Fe,qe)=>{const We=j(Fe);s[Fe]=We,We.count++;const at=Be.fromTag("style",f.dom);xi(at,{rel:"stylesheet",type:"text/css",id:We.id}),at.dom.innerHTML=qe,A(at)},ue=Fe=>Promise.allSettled(Me(Fe,We=>G(We).then(Qe(We)))).then(We=>{const at=$t(We,Nt=>Nt.status==="fulfilled");return at.fail.length>0?Promise.reject(Me(at.fail,Nt=>Nt.reason)):Me(at.pass,Nt=>Nt.value)}),we=Fe=>{const qe=Kt._addCacheSuffix(Fe);mr(s,qe).each(We=>{--We.count===0&&(delete s[qe],z(We.id))})};return{load:G,loadRawCss:X,loadAll:ue,unload:we,unloadRawCss:Fe=>{mr(s,Fe).each(qe=>{--qe.count===0&&(delete s[Fe],z(qe.id))})},unloadAll:Fe=>{pe(Fe,qe=>{we(qe)})},_setReferrerPolicy:g,_setContentCssCors:C}},y1=(()=>{const e=new WeakMap;return{forElement:(n,s)=>{const f=Wc(n).dom;return J.from(e.get(f)).getOrThunk(()=>{const g=gm(f,s);return e.set(f,g),g})}}})(),x1=e=>e.nodeName.toLowerCase()==="span",Py=(e,t)=>Ce(e)&&(db(t,e)||t.isInline(e.nodeName.toLowerCase())),Ly=(e,t,n)=>{const s=new Ka(e,t).prev(!1),l=new Ka(e,t).next(!1),f=Ze(s)||Py(s,n),g=Ze(l)||Py(l,n);return f&&g},pb=e=>x1(e)&&e.getAttribute("data-mce-type")==="bookmark",Fy=(e,t,n)=>Mt(e)&&e.data.length>0&&Ly(e,t,n),zy=e=>yn(e)?e.childNodes.length>0:!1,bb=e=>rf(e)||Sn(e),Lh=(e,t,n,s)=>{var l;const f=s||t;if(yn(t)&&pb(t))return t;const g=t.childNodes;for(let C=g.length-1;C>=0;C--)Lh(e,g[C],n,f);if(yn(t)){const C=t.childNodes;C.length===1&&pb(C[0])&&((l=t.parentNode)===null||l===void 0||l.insertBefore(C[0],t))}return!bb(t)&&!db(n,t)&&!zy(t)&&!Fy(t,f,n)&&e.remove(t),t},Hy=Kt.makeMap,vb=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yb=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hm=/[<>&\"\']/g,Fh=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Vy={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},md={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Tg={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Og=e=>{const t=Be.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},gd=(e,t)=>{const n={};if(e){const s=e.split(",");t=t||10;for(let l=0;l<s.length;l+=2){const f=String.fromCharCode(parseInt(s[l],t));if(!md[f]){const g="&"+s[l+1]+";";n[f]=g,n[g]=f}}return n}else return},lf=gd("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),xb=(e,t)=>e.replace(t?vb:yb,n=>md[n]||n),vk=e=>(""+e).replace(hm,t=>md[t]||t),wb=(e,t)=>e.replace(t?vb:yb,n=>n.length>1?"&#"+((n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320)+65536)+";":md[n]||"&#"+n.charCodeAt(0)+";"),vc=(e,t,n)=>{const s=n||lf;return e.replace(t?vb:yb,l=>md[l]||s[l]||l)},Dg={encodeRaw:xb,encodeAllRaw:vk,encodeNumeric:wb,encodeNamed:vc,getEncodeFunc:(e,t)=>{const n=gd(t)||lf,s=(g,C)=>g.replace(C?vb:yb,A=>md[A]!==void 0?md[A]:n[A]!==void 0?n[A]:A.length>1?"&#"+((A.charCodeAt(0)-55296)*1024+(A.charCodeAt(1)-56320)+65536)+";":"&#"+A.charCodeAt(0)+";"),l=(g,C)=>vc(g,C,n),f=Hy(e.replace(/\+/g,","));return f.named&&f.numeric?s:f.named?t?l:vc:f.numeric?wb:xb},decode:e=>e.replace(Fh,(t,n)=>n?(n.charAt(0).toLowerCase()==="x"?n=parseInt(n.substr(1),16):n=parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(n&1023))):Vy[n]||String.fromCharCode(n)):Tg[t]||lf[t]||Og(t))},Ga=(e,t)=>(e=Kt.trim(e),e?e.split(t||" "):[]),Rg=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Ng=e=>te(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",w1=e=>{const t=n=>ne(n)?Me(n,t):Ng(n)?new RegExp(n.source,n.flags):te(n)?El(n,t):n;return t(e)},Fo=e=>{const t=/^(~)?(.+)$/;return ao(Ga(e,","),n=>{const s=t.exec(n);if(s){const f=s[1]==="~"?"span":"div",g=s[2];return[{cloneName:f,name:g}]}else return[]})},sl=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),Nu=e=>{let t,n;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",n="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",n+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(n=[n,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const s=[t,n].join(" ");return{blockContent:t,phrasingContent:n,flowContent:s}},ci=e=>{const{blockContent:t,phrasingContent:n,flowContent:s}=Nu(e),l=f=>Object.freeze(f.split(" "));return Object.freeze({blockContent:l(t),phrasingContent:l(n),flowContent:l(s)})},Ir={html4:pl(()=>ci("html4")),html5:pl(()=>ci("html5")),"html5-strict":pl(()=>ci("html5-strict"))},Cb=(e,t)=>{const{blockContent:n,phrasingContent:s,flowContent:l}=Ir[e]();return t==="blocks"?J.some(n):t==="phrasing"?J.some(s):t==="flow"?J.some(l):J.none()},qw=e=>{const t=sl(e),{phrasingContent:n,flowContent:s}=Nu(e),l={},f=(A,z,j)=>{l[A]={attributes:As(z,Qe({})),attributesOrder:z,children:As(j,Qe({}))}},g=(A,z="",j="")=>{const G=Ga(j),X=Ga(A);let ue=X.length;const we=[...t,...Ga(z)];for(;ue--;)f(X[ue],we.slice(),G)},C=(A,z)=>{const j=Ga(A),G=Ga(z);let X=j.length;for(;X--;){const ue=l[j[X]];for(let we=0,de=G.length;we<de;we++)ue.attributes[G[we]]={},ue.attributesOrder.push(G[we])}};return e!=="html5-strict"&&(pe(Ga("acronym applet basefont big font strike tt"),j=>{g(j,"",n)}),pe(Ga("center dir isindex noframes"),j=>{g(j,"",s)})),g("html","manifest","head body"),g("head","","base command link meta noscript script style title"),g("title hr noscript br"),g("base","href target"),g("link","href rel media hreflang type sizes hreflang"),g("meta","name http-equiv content charset"),g("style","media type scoped"),g("script","src async defer type charset"),g("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",s),g("dd div","",s),g("address dt caption","",e==="html4"?n:s),g("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",n),g("blockquote","cite",s),g("ol","reversed start type","li"),g("ul","","li"),g("li","value",s),g("dl","","dt dd"),g("a","href target rel media hreflang type",e==="html4"?n:s),g("q","cite",n),g("ins del","cite datetime",s),g("img","src sizes srcset alt usemap ismap width height"),g("iframe","src name width height",s),g("embed","src type width height"),g("object","data type typemustmatch name usemap form width height",[s,"param"].join(" ")),g("param","name value"),g("map","name",[s,"area"].join(" ")),g("area","alt coords shape href target rel media hreflang type"),g("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),g("colgroup","span","col"),g("col","span"),g("tbody thead tfoot","","tr"),g("tr","","td th"),g("td","colspan rowspan headers",s),g("th","colspan rowspan headers scope abbr",s),g("form","accept-charset action autocomplete enctype method name novalidate target",s),g("fieldset","disabled form name",[s,"legend"].join(" ")),g("label","form for",n),g("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),g("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?s:n),g("select","disabled form multiple name required size","option optgroup"),g("optgroup","disabled label","option"),g("option","disabled label selected value"),g("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),g("menu","type label",[s,"li"].join(" ")),g("noscript","",s),e!=="html4"&&(g("wbr"),g("ruby","",[n,"rt rp"].join(" ")),g("figcaption","",s),g("mark rt rp bdi","",n),g("summary","",[n,"h1 h2 h3 h4 h5 h6"].join(" ")),g("canvas","width height",s),g("data","value",n),g("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[s,"track source"].join(" ")),g("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[s,"track source"].join(" ")),g("picture","","img source"),g("source","src srcset type media sizes"),g("track","kind src srclang label default"),g("datalist","",[n,"option"].join(" ")),g("article section nav aside main header footer","",s),g("hgroup","","h1 h2 h3 h4 h5 h6"),g("figure","",[s,"figcaption"].join(" ")),g("time","datetime",n),g("dialog","open",s),g("command","type label icon disabled checked radiogroup command"),g("output","for form name",n),g("progress","value max",n),g("meter","value min max low high optimum",n),g("details","open",[s,"summary"].join(" ")),g("keygen","autofocus challenge disabled form keytype name"),f("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(C("script","language xml:space"),C("style","xml:space"),C("object","declare classid code codebase codetype archive standby align border hspace vspace"),C("embed","align name hspace vspace"),C("param","valuetype type"),C("a","charset name rev shape coords"),C("br","clear"),C("applet","codebase archive code object alt name width height align hspace vspace"),C("img","name longdesc align border hspace vspace"),C("iframe","longdesc frameborder marginwidth marginheight scrolling align"),C("font basefont","size color face"),C("input","usemap align"),C("select"),C("textarea"),C("h1 h2 h3 h4 h5 h6 div p legend caption","align"),C("ul","type compact"),C("li","type"),C("ol dl menu dir","compact"),C("pre","width xml:space"),C("hr","align noshade size width"),C("isindex","prompt"),C("table","summary width frame rules cellspacing cellpadding align bgcolor"),C("col","width align char charoff valign"),C("colgroup","width align char charoff valign"),C("thead","align char charoff valign"),C("tr","align char charoff valign bgcolor"),C("th","axis align char charoff valign nowrap bgcolor width height"),C("form","accept"),C("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),C("tfoot","align char charoff valign"),C("tbody","align char charoff valign"),C("area","nohref"),C("body","background bgcolor text link vlink alink")),e!=="html4"&&(C("input button select textarea","autofocus"),C("input textarea","placeholder"),C("a","download"),C("link script img","crossorigin"),C("img","loading"),C("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&pe([l.video,l.audio],A=>{delete A.children.audio,delete A.children.video}),pe(Ga("a form meter progress dfn"),A=>{l[A]&&delete l[A].children[A]}),delete l.caption.children.table,delete l.script,l},yk=e=>e==="-"?"remove":"add",Xr=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return J.from(t.exec(e)).map(n=>({preset:n[1]==="@",name:n[2]}))},C1=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return ao(Ga(e,","),n=>{const s=t.exec(n);if(s){const l=s[1],f=l?yk(l):"replace",g=s[2],C=ao(Ga(s[3],"|"),A=>Xr(A).toArray());return[{operation:f,name:g,validChildren:C}]}else return[]})},Uy=(e,t)=>{const n=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,s=/[*?+]/,{attributes:l,attributesOrder:f}=t;return pe(Ga(e,"|"),g=>{const C=n.exec(g);if(C){const A={},z=C[1],j=C[2].replace(/[\\:]:/g,":"),G=C[3],X=C[4];if(z==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(j),A.required=!0),z==="-"){delete l[j],f.splice(Kt.inArray(f,j),1);return}if(G&&(G==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:j,value:X}),A.defaultValue=X):G==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:j,value:X}),A.forcedValue=X):G==="<"&&(A.validValues=Kt.makeMap(X,"?"))),s.test(j)){const ue=A;t.attributePatterns=t.attributePatterns||[],ue.pattern=Rg(j),t.attributePatterns.push(ue)}else l[j]||f.push(j),l[j]=A}})},pm=(e,t)=>{Uo(e.attributes,(n,s)=>{t.attributes[s]=n}),t.attributesOrder.push(...e.attributesOrder)},yc=(e,t)=>{const n=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return ao(Ga(t,","),s=>{const l=n.exec(s);if(l){const f=l[1],g=l[2],C=l[3],A=l[4],z=l[5],j={attributes:{},attributesOrder:[]};if(e.each(G=>pm(G,j)),f==="#"?j.paddEmpty=!0:f==="-"&&(j.removeEmpty=!0),A==="!"&&(j.removeEmptyAttrs=!0),z&&Uy(z,j),C&&(j.outputName=g),g==="@")if(e.isNone())e=J.some(j);else return[];return[C?{name:g,element:j,aliasName:C}:{name:g,element:j}]}else return[]})},zh={},mn=Kt.makeMap,Xc=Kt.each,Wy=Kt.extend,_1=Kt.explode,Hh=(e,t={})=>{const n=mn(e," ",mn(e.toUpperCase()," "));return Wy(n,t)},S1=e=>Hh("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Ig=(e,t)=>{if(e){const n={};return Te(e)&&(e={"*":e}),Xc(e,(s,l)=>{n[l]=n[l.toUpperCase()]=t==="map"?mn(s,/[, ]/):_1(s,/[, ]/)}),n}else return},xc=(e={})=>{var t;const n={},s={};let l=[];const f={},g={},C=(Mn,jo,Fs)=>{const oa=e[Mn];if(oa)return mn(oa,/[, ]/,mn(oa.toUpperCase(),/[, ]/));{let Ia=zh[Mn];return Ia||(Ia=Hh(jo,Fs),zh[Mn]=Ia),Ia}},A=(t=e.schema)!==null&&t!==void 0?t:"html5",z=qw(A);e.verify_html===!1&&(e.valid_elements="*[*]");const j=Ig(e.valid_styles),G=Ig(e.invalid_styles,"map"),X=Ig(e.valid_classes,"map"),ue=C("whitespace_elements","pre script noscript style textarea video audio iframe object code"),we=C("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),de=C("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ke=C("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),Fe="td th iframe video audio object script code",qe=C("non_empty_elements",Fe+" pre svg textarea summary",de),We=C("move_caret_before_on_enter_elements",Fe+" table",de),at="h1 h2 h3 h4 h5 h6",Nt=C("text_block_elements",at+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),jt=C("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",Nt),dn=C("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),wt=C("transparent_elements","a ins del canvas map"),dt=C("wrap_block_elements","pre "+at);Xc("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Mn=>{g[Mn]=new RegExp("</"+Mn+"[^>]*>","gi")});const Dt=Mn=>{const jo=J.from(n["@"]),Fs=/[*?+]/;pe(yc(jo,Mn??""),({name:oa,element:Ia,aliasName:qi})=>{if(qi&&(n[qi]=Ia),Fs.test(oa)){const xa=Ia;xa.pattern=Rg(oa),l.push(xa)}else n[oa]=Ia})},bn=Mn=>{l=[],pe(Vt(n),jo=>{delete n[jo]}),Dt(Mn)},Nn=(Mn,jo)=>{var Fs,oa;delete zh.text_block_elements,delete zh.block_elements;const Ia=jo.extends?!Yu(jo.extends):!1,qi=jo.extends;if(s[Mn]=qi?s[qi]:{},f[Mn]=qi??Mn,qe[Mn.toUpperCase()]={},qe[Mn]={},Ia||(jt[Mn.toUpperCase()]={},jt[Mn]={}),qi&&!n[Mn]&&n[qi]){const xa=w1(n[qi]);delete xa.removeEmptyAttrs,delete xa.removeEmpty,n[Mn]=xa}else n[Mn]={attributesOrder:[],attributes:{}};if(ne(jo.attributes)){const xa=ec=>{wa.attributesOrder.push(ec),wa.attributes[ec]={}},wa=(Fs=n[Mn])!==null&&Fs!==void 0?Fs:{};delete wa.attributesDefault,delete wa.attributesForced,delete wa.attributePatterns,delete wa.attributesRequired,wa.attributesOrder=[],wa.attributes={},pe(jo.attributes,ec=>{const Qm=sl(A);Xr(ec).each(({preset:eg,name:tg})=>{eg?tg==="global"&&pe(Qm,xa):xa(tg)})}),n[Mn]=wa}if($e(jo.padEmpty)){const xa=(oa=n[Mn])!==null&&oa!==void 0?oa:{};xa.paddEmpty=jo.padEmpty,n[Mn]=xa}if(ne(jo.children)){const xa={},wa=Qm=>{xa[Qm]={}},ec=Qm=>{Cb(A,Qm).each(eg=>{pe(eg,wa)})};pe(jo.children,Qm=>{Xr(Qm).each(({preset:eg,name:tg})=>{eg?ec(tg):wa(tg)})}),s[Mn]=xa}qi&&Uo(s,(xa,wa)=>{xa[qi]&&(s[wa]=xa=Wy({},s[wa]),xa[Mn]=xa[qi])})},yo=Mn=>{pe(Fo(Mn??""),({name:jo,cloneName:Fs})=>{Nn(jo,{extends:Fs})})},Oo=Mn=>{te(Mn)?Uo(Mn,(jo,Fs)=>Nn(Fs,jo)):Te(Mn)&&yo(Mn)},hr=Mn=>{pe(C1(Mn??""),({operation:jo,name:Fs,validChildren:oa})=>{const Ia=jo==="replace"?{"#comment":{}}:s[Fs],qi=wa=>{jo==="remove"?delete Ia[wa]:Ia[wa]={}},xa=wa=>{Cb(A,wa).each(ec=>{pe(ec,qi)})};pe(oa,({preset:wa,name:ec})=>{wa?xa(ec):qi(ec)}),s[Fs]=Ia})},Dr=Mn=>{const jo=n[Mn];if(jo)return jo;let Fs=l.length;for(;Fs--;){const oa=l[Fs];if(oa.pattern.test(Mn))return oa}},Ys=()=>{e.valid_elements?(bn(e.valid_elements),Xc(z,(Mn,jo)=>{s[jo]=Mn.children})):(Xc(z,(Mn,jo)=>{n[jo]={attributes:Mn.attributes,attributesOrder:Mn.attributesOrder},s[jo]=Mn.children}),Xc(Ga("strong/b em/i"),Mn=>{const jo=Ga(Mn,"/");n[jo[1]].outputName=jo[0]}),Xc(dn,(Mn,jo)=>{n[jo]&&(e.padd_empty_block_inline_children&&(n[jo].paddInEmptyBlock=!0),n[jo].removeEmpty=!0)}),Xc(Ga("ol ul blockquote a table tbody"),Mn=>{n[Mn]&&(n[Mn].removeEmpty=!0)}),Xc(Ga("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Mn=>{n[Mn]&&(n[Mn].paddEmpty=!0)}),Xc(Ga("span"),Mn=>{n[Mn].removeEmptyAttrs=!0})),delete n.svg,Oo(e.custom_elements),hr(e.valid_children),Dt(e.extended_valid_elements),hr("+ol[ul|ol],+ul[ul|ol]"),Xc({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Mn,jo)=>{n[jo]&&(n[jo].parentsRequired=Ga(Mn))}),e.invalid_elements&&Xc(_1(e.invalid_elements),Mn=>{n[Mn]&&delete n[Mn]}),Dr("span")||Dt("span[!data-mce-type|*]")},ml=Qe(j),Pr=Qe(G),Xt=Qe(X),Tn=Qe(ke),er=Qe(jt),tn=Qe(Nt),Hn=Qe(dn),Eo=Qe(Object.seal(de)),an=Qe(we),xo=Qe(qe),Ro=Qe(We),mi=Qe(ue),Er=Qe(wt),ni=Qe(dt),Bf=Qe(Object.seal(g)),bh=(Mn,jo)=>{const Fs=s[Mn.toLowerCase()];return!!(Fs&&Fs[jo.toLowerCase()])},Ql=(Mn,jo)=>{const Fs=Dr(Mn);if(Fs)if(jo){if(Fs.attributes[jo])return!0;const oa=Fs.attributePatterns;if(oa){let Ia=oa.length;for(;Ia--;)if(oa[Ia].pattern.test(jo))return!0}}else return!0;return!1},Yu=Mn=>Yn(er(),Mn),Mf=Mn=>!Gr(Mn,"#")&&Ql(Mn)&&!Yu(Mn),Xu=Mn=>Yn(ni(),Mn)||Mf(Mn),Pf=Qe(f);return Ys(),{type:A,children:s,elements:n,getValidStyles:ml,getValidClasses:Xt,getBlockElements:er,getInvalidStyles:Pr,getVoidElements:Eo,getTextBlockElements:tn,getTextInlineElements:Hn,getBoolAttrs:Tn,getElementRule:Dr,getSelfClosingElements:an,getNonEmptyElements:xo,getMoveCaretBeforeOnEnterElements:Ro,getWhitespaceElements:mi,getTransparentElements:Er,getSpecialElements:Bf,isValidChild:bh,isValid:Ql,isBlock:Yu,isInline:Mf,isWrapper:Xu,getCustomElements:Pf,addValidElements:Dt,setValidElements:bn,addCustomElements:Oo,addValidChildren:hr}},xk=e=>({value:k1(e)}),k1=e=>Fc(e,"#").toUpperCase(),Zy=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},E1=e=>{const t=Zy(e.red)+Zy(e.green)+Zy(e.blue);return xk(t)},jy=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Ky=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,A1=(e,t,n,s)=>({red:e,green:t,blue:n,alpha:s}),qy=(e,t,n,s)=>{const l=parseInt(e,10),f=parseInt(t,10),g=parseInt(n,10),C=parseFloat(s);return A1(l,f,g,C)},Gy=e=>jy.test(e)?"rgb":Ky.test(e)?"rgba":"other",Gw=e=>{const t=jy.exec(e);if(t!==null)return J.some(qy(t[1],t[2],t[3],"1"));const n=Ky.exec(e);return n!==null?J.some(qy(n[1],n[2],n[3],n[4])):J.none()},wk=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,_b=e=>Gw(e).map(E1).map(t=>"#"+t.value).getOr(e),Yy=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,l=/\s+$/,f={};let g,C;const A=hs;t&&(g=t.getValidStyles(),C=t.getInvalidStyles());const z=(`\\" \\' \\; \\: ; : `+A).split(" ");for(let G=0;G<z.length;G++)f[z[G]]=A+G,f[A+G]=z[G];const j={parse:G=>{const X={};let ue=!1;const we=e.url_converter,de=e.url_converter_scope||j,ke=(wt,dt,Dt)=>{const bn=X[wt+"-top"+dt];if(!bn)return;const Nn=X[wt+"-right"+dt];if(!Nn)return;const yo=X[wt+"-bottom"+dt];if(!yo)return;const Oo=X[wt+"-left"+dt];if(!Oo)return;const hr=[bn,Nn,yo,Oo];let Dr=hr.length-1;for(;Dr--&&hr[Dr]===hr[Dr+1];);Dr>-1&&Dt||(X[wt+dt]=Dr===-1?hr[0]:hr.join(" "),delete X[wt+"-top"+dt],delete X[wt+"-right"+dt],delete X[wt+"-bottom"+dt],delete X[wt+"-left"+dt])},Fe=wt=>{const dt=X[wt];if(!dt)return;const Dt=dt.indexOf(",")>-1?[dt]:dt.split(" ");let bn=Dt.length;for(;bn--;)if(Dt[bn]!==Dt[0])return!1;return X[wt]=Dt[0],!0},qe=(wt,dt,Dt,bn)=>{Fe(dt)&&Fe(Dt)&&Fe(bn)&&(X[wt]=X[dt]+" "+X[Dt]+" "+X[bn],delete X[dt],delete X[Dt],delete X[bn])},We=wt=>(ue=!0,f[wt]),at=(wt,dt)=>(ue&&(wt=wt.replace(/\uFEFF[0-9]/g,Dt=>f[Dt])),dt||(wt=wt.replace(/\\([\'\";:])/g,"$1")),wt),Nt=wt=>String.fromCharCode(parseInt(wt.slice(1),16)),jt=wt=>wt.replace(/\\[0-9a-f]+/gi,Nt),dn=(wt,dt,Dt,bn,Nn,yo)=>{if(Nn=Nn||yo,Nn)return Nn=at(Nn),"'"+Nn.replace(/\'/g,"\\'")+"'";if(dt=at(dt||Dt||bn||""),!e.allow_script_urls){const Oo=dt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Oo)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Oo))return""}return we&&(dt=we.call(de,dt,"style")),"url('"+dt.replace(/\'/g,"\\'")+"')"};if(G){G=G.replace(/[\u0000-\u001F]/g,""),G=G.replace(/\\[\"\';:\uFEFF]/g,We).replace(/\"[^\"]+\"|\'[^\']+\'/g,dt=>dt.replace(/[;:]/g,We));let wt;for(;wt=s.exec(G);){s.lastIndex=wt.index+wt[0].length;let dt=wt[1].replace(l,"").toLowerCase(),Dt=wt[2].replace(l,"");if(dt&&Dt){if(dt=jt(dt),Dt=jt(Dt),dt.indexOf(A)!==-1||dt.indexOf('"')!==-1||!e.allow_script_urls&&(dt==="behavior"||/expression\s*\(|\/\*|\*\//.test(Dt)))continue;dt==="font-weight"&&Dt==="700"?Dt="bold":(dt==="color"||dt==="background-color")&&(Dt=Dt.toLowerCase()),Gy(Dt)==="rgb"&&Gw(Dt).each(bn=>{Dt=_b(wk(bn)).toLowerCase()}),Dt=Dt.replace(n,dn),X[dt]=ue?at(Dt,!0):Dt}}ke("border","",!0),ke("border","-width"),ke("border","-color"),ke("border","-style"),ke("padding",""),ke("margin",""),qe("border","border-width","border-style","border-color"),X.border==="medium none"&&delete X.border,X["border-image"]==="none"&&delete X["border-image"]}return X},serialize:(G,X)=>{let ue="";const we=(ke,Fe)=>{const qe=Fe[ke];if(qe)for(let We=0,at=qe.length;We<at;We++){const Nt=qe[We],jt=G[Nt];jt&&(ue+=(ue.length>0?" ":"")+Nt+": "+jt+";")}},de=(ke,Fe)=>{if(!C||!Fe)return!0;let qe=C["*"];return qe&&qe[ke]?!1:(qe=C[Fe],!(qe&&qe[ke]))};return X&&g?(we("*",g),we(X,g)):Uo(G,(ke,Fe)=>{ke&&de(Fe,X)&&(ue+=(ue.length>0?" ":"")+Fe+": "+ke+";")}),ue}};return j},Bg={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Ck=e=>e instanceof Event||Ne(e.initEvent),_k=e=>e.isDefaultPrevented===Rn||e.isDefaultPrevented===xn,cf=e=>ot(e.preventDefault)||Ck(e),bm=(e,t)=>{const n=t??{};for(const s in e)Yn(Bg,s)||(n[s]=e[s]);return Ce(e.composedPath)&&(n.composedPath=()=>e.composedPath()),Ce(e.getModifierState)&&(n.getModifierState=s=>e.getModifierState(s)),Ce(e.getTargetRanges)&&(n.getTargetRanges=()=>e.getTargetRanges()),n},T1=(e,t,n,s)=>{var l;const f=bm(t,s);return f.type=e,ot(f.target)&&(f.target=(l=f.srcElement)!==null&&l!==void 0?l:n),cf(t)&&(f.preventDefault=()=>{f.defaultPrevented=!0,f.isDefaultPrevented=Rn,Ne(t.preventDefault)&&t.preventDefault()},f.stopPropagation=()=>{f.cancelBubble=!0,f.isPropagationStopped=Rn,Ne(t.stopPropagation)&&t.stopPropagation()},f.stopImmediatePropagation=()=>{f.isImmediatePropagationStopped=Rn,f.stopPropagation()},_k(f)||(f.isDefaultPrevented=f.defaultPrevented===!0?Rn:xn,f.isPropagationStopped=f.cancelBubble===!0?Rn:xn,f.isImmediatePropagationStopped=xn)),f},Yw="mce-data-",Xy=/^(?:mouse|contextmenu)|click/,Sb=(e,t,n,s)=>{e.addEventListener(t,n,s||!1)},hd=(e,t,n,s)=>{e.removeEventListener(t,n,s||!1)},O1=e=>Ce(e)&&Xy.test(e.type),ta=(e,t)=>{const n=T1(e.type,e,document,t);if(O1(e)&&Ze(e.pageX)&&!Ze(e.clientX)){const s=n.target.ownerDocument||document,l=s.documentElement,f=s.body,g=n;g.pageX=e.clientX+(l&&l.scrollLeft||f&&f.scrollLeft||0)-(l&&l.clientLeft||f&&f.clientLeft||0),g.pageY=e.clientY+(l&&l.scrollTop||f&&f.scrollTop||0)-(l&&l.clientTop||f&&f.clientTop||0)}return n},Cs=(e,t,n)=>{const s=e.document,l={type:"ready"};if(n.domLoaded){t(l);return}const f=()=>s.readyState==="complete"||s.readyState==="interactive"&&s.body,g=()=>{hd(e,"DOMContentLoaded",g),hd(e,"load",g),n.domLoaded||(n.domLoaded=!0,t(l)),e=null};f()?g():Sb(e,"DOMContentLoaded",g),n.domLoaded||Sb(e,"load",g)};class uf{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Yw+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,n,s,l){const f=this;let g;const C=window,A=X=>{f.executeHandlers(ta(X||C.event),z)};if(!t||Mt(t)||go(t))return s;let z;t[f.expando]?z=t[f.expando]:(z=f.count++,t[f.expando]=z,f.events[z]={}),l=l||t;const j=n.split(" ");let G=j.length;for(;G--;){let X=j[G],ue=A,we=!1,de=!1;if(X==="DOMContentLoaded"&&(X="ready"),f.domLoaded&&X==="ready"&&t.readyState==="complete"){s.call(l,ta({type:X}));continue}!f.hasFocusIn&&(X==="focusin"||X==="focusout")&&(we=!0,de=X==="focusin"?"focus":"blur",ue=ke=>{const Fe=ta(ke||C.event);Fe.type=Fe.type==="focus"?"focusin":"focusout",f.executeHandlers(Fe,z)}),g=f.events[z][X],g?X==="ready"&&f.domLoaded?s(ta({type:X})):g.push({func:s,scope:l}):(f.events[z][X]=g=[{func:s,scope:l}],g.fakeName=de,g.capture=we,g.nativeHandler=ue,X==="ready"?Cs(t,ue,f):Sb(t,de||X,ue,we))}return t=g=null,s}unbind(t,n,s){if(!t||Mt(t)||go(t))return this;const l=t[this.expando];if(l){let f=this.events[l];if(n){const g=n.split(" ");let C=g.length;for(;C--;){const A=g[C],z=f[A];if(z){if(s){let j=z.length;for(;j--;)if(z[j].func===s){const G=z.nativeHandler,X=z.fakeName,ue=z.capture,we=z.slice(0,j).concat(z.slice(j+1));we.nativeHandler=G,we.fakeName=X,we.capture=ue,f[A]=we}}(!s||z.length===0)&&(delete f[A],hd(t,z.fakeName||A,z.nativeHandler,z.capture))}}}else Uo(f,(g,C)=>{hd(t,g.fakeName||C,g.nativeHandler,g.capture)}),f={};for(const g in f)if(Yn(f,g))return this;delete this.events[l];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,n,s){return this.dispatch(t,n,s)}dispatch(t,n,s){if(!t||Mt(t)||go(t))return this;const l=ta({type:n,target:t},s);do{const f=t[this.expando];f&&this.executeHandlers(l,f),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!l.isPropagationStopped());return this}clean(t){if(!t||Mt(t)||go(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const n=t.getElementsByTagName("*");let s=n.length;for(;s--;)t=n[s],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,n){const s=this.events[n],l=s&&s[t.type];if(l)for(let f=0,g=l.length;f<g;f++){const C=l[f];if(C&&C.func.call(C.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}uf.Event=new uf;const Jy=Kt.each,D1=Kt.grep,Oa="data-mce-style",$i=Kt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Mg=(e,t,n)=>{ot(n)||n===""?bo(e,t):ra(e,t,n)},df=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),vm=(e,t)=>{let n=0;if(e)for(let s=e.nodeType,l=e.previousSibling;l;l=l.previousSibling){const f=l.nodeType;t&&Mt(l)&&(f===s||!l.data.length)||(n++,s=f)}return n},R1=(e,t)=>{const n=ii(t,"style"),s=e.serialize(e.parse(n),Po(t));Mg(t,Oa,s)},Xw=(e,t)=>D(e)?Yn($i,t)?e+"":e+"px":e,Qy=(e,t,n)=>{const s=df(t);ot(n)||n===""?jc(e,s):Hi(e,s,Xw(n,s))},ym=(e,t,n)=>{const s=t.keep_values,l={set:(g,C,A)=>{const z=Be.fromDom(g);Ne(t.url_converter)&&Ce(C)&&(C=t.url_converter.call(t.url_converter_scope||n(),String(C),A,g));const j="data-mce-"+A;Mg(z,j,C),Mg(z,A,C)},get:(g,C)=>{const A=Be.fromDom(g);return ii(A,"data-mce-"+C)||ii(A,C)}},f={style:{set:(g,C)=>{const A=Be.fromDom(g);s&&Mg(A,Oa,C),bo(A,"style"),Te(C)&&Bo(A,e.parse(C))},get:g=>{const C=Be.fromDom(g),A=ii(C,Oa)||ii(C,"style");return e.serialize(e.parse(A),Po(C))}}};return s&&(f.href=f.src=l),f},Br=(e,t={})=>{const n={},s=window,l={};let f=0;const g=!0,C=!0,A=y1.forElement(Be.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),z=[],j=t.schema?t.schema:xc({}),G=Yy({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),X=t.ownEvents?new uf:uf.Event,ue=j.getBlockElements(),we=ut=>Te(ut)?Yn(ue,ut):yn(ut)&&(Yn(ue,ut.nodeName)||af(j,ut)),de=ut=>ut&&e&&Te(ut)?e.getElementById(ut):ut,ke=ut=>{const ft=de(ut);return Ce(ft)?Be.fromDom(ft):null},Fe=(ut,ft,Gt="")=>{let Wt;const Wn=ke(ut);if(Ce(Wn)&&Os(Wn)){const Ho=PT[ft];Ho&&Ho.get?Wt=Ho.get(Wn.dom,ft):Wt=ii(Wn,ft)}return Ce(Wt)?Wt:Gt},qe=ut=>{const ft=de(ut);return ot(ft)?[]:ft.attributes},We=(ut,ft,Gt)=>{Tn(ut,Wt=>{if(yn(Wt)){const Wn=Be.fromDom(Wt),Ho=Gt===""?null:Gt,zs=ii(Wn,ft),ng=PT[ft];ng&&ng.set?ng.set(Wn.dom,Ho,ft):Mg(Wn,ft,Ho),zs!==Ho&&t.onSetAttrib&&t.onSetAttrib({attrElm:Wn.dom,attrName:ft,attrValue:Ho})}})},at=(ut,ft)=>ut.cloneNode(ft),Nt=()=>t.root_element||e.body,jt=ut=>{const ft=mc(ut);return{x:ft.x,y:ft.y,w:ft.width,h:ft.height}},dn=(ut,ft)=>My(e.body,de(ut),ft),wt=(ut,ft,Gt)=>{Tn(ut,Wt=>{const Wn=Be.fromDom(Wt);Qy(Wn,ft,Gt),t.update_styles&&R1(G,Wn)})},dt=(ut,ft)=>{Tn(ut,Gt=>{const Wt=Be.fromDom(Gt);Uo(ft,(Wn,Ho)=>{Qy(Wt,Ho,Wn)}),t.update_styles&&R1(G,Wt)})},Dt=(ut,ft,Gt)=>{const Wt=de(ut);if(!(ot(Wt)||!qc(Wt)&&!ub(Wt)))return Gt?Ds(Be.fromDom(Wt),df(ft)):(ft=ft.replace(/-(\D)/g,(Wn,Ho)=>Ho.toUpperCase()),ft==="float"&&(ft="cssFloat"),Wt.style?Wt.style[ft]:void 0)},bn=ut=>{const ft=de(ut);if(!ft)return{w:0,h:0};let Gt=Dt(ft,"width"),Wt=Dt(ft,"height");return(!Gt||Gt.indexOf("px")===-1)&&(Gt="0"),(!Wt||Wt.indexOf("px")===-1)&&(Wt="0"),{w:parseInt(Gt,10)||ft.offsetWidth||ft.clientWidth,h:parseInt(Wt,10)||ft.offsetHeight||ft.clientHeight}},Nn=ut=>{const ft=de(ut),Gt=dn(ft),Wt=bn(ft);return{x:Gt.x,y:Gt.y,w:Wt.w,h:Wt.h}},yo=(ut,ft)=>{if(!ut)return!1;const Gt=ne(ut)?ut:[ut];return xe(Gt,Wt=>xr(Be.fromDom(Wt),ft))},Oo=(ut,ft,Gt,Wt)=>{const Wn=[];let Ho=de(ut);Wt=Wt===void 0;const zs=Gt||(Nt().nodeName!=="BODY"?Nt().parentNode:null);if(Te(ft))if(ft==="*")ft=yn;else{const ng=ft;ft=l8=>yo(l8,ng)}for(;Ho&&!(Ho===zs||ot(Ho.nodeType)||Sn(Ho)||rf(Ho));){if(!ft||ft(Ho))if(Wt)Wn.push(Ho);else return[Ho];Ho=Ho.parentNode}return Wt?Wn:null},hr=(ut,ft,Gt)=>{const Wt=Oo(ut,ft,Gt,!1);return Wt&&Wt.length>0?Wt[0]:null},Dr=(ut,ft,Gt)=>{let Wt=ft;if(ut){Te(ft)&&(Wt=Wn=>yo(Wn,ft));for(let Wn=ut[Gt];Wn;Wn=Wn[Gt])if(Ne(Wt)&&Wt(Wn))return Wn}return null},Ys=(ut,ft)=>Dr(ut,ft,"nextSibling"),ml=(ut,ft)=>Dr(ut,ft,"previousSibling"),Pr=ut=>Ne(ut.querySelectorAll),Xt=(ut,ft)=>{var Gt,Wt;const Wn=(Wt=(Gt=de(ft))!==null&&Gt!==void 0?Gt:t.root_element)!==null&&Wt!==void 0?Wt:e;return Pr(Wn)?io(Wn.querySelectorAll(ut)):[]},Tn=function(ut,ft,Gt){const Wt=Gt??this;if(ne(ut)){const Wn=[];return Jy(ut,(Ho,zs)=>{const ng=de(Ho);ng&&Wn.push(ft.call(Wt,ng,zs))}),Wn}else{const Wn=de(ut);return Wn?ft.call(Wt,Wn):!1}},er=(ut,ft)=>{Tn(ut,Gt=>{Uo(ft,(Wt,Wn)=>{We(Gt,Wn,Wt)})})},tn=(ut,ft)=>{Tn(ut,Gt=>{const Wt=Be.fromDom(Gt);lm(Wt,ft)})},Hn=(ut,ft,Gt,Wt,Wn)=>Tn(ut,Ho=>{const zs=Te(ft)?e.createElement(ft):ft;return Ce(Gt)&&er(zs,Gt),Wt&&(!Te(Wt)&&Wt.nodeType?zs.appendChild(Wt):Te(Wt)&&tn(zs,Wt)),Wn?zs:Ho.appendChild(zs)}),Eo=(ut,ft,Gt)=>Hn(e.createElement(ut),ut,ft,Gt,!0),an=Dg.decode,xo=Dg.encodeAllRaw,Ro=(ut,ft,Gt="")=>{let Wt="<"+ut;for(const Wn in ft)Al(ft,Wn)&&(Wt+=" "+Wn+'="'+xo(ft[Wn])+'"');return Lt(Gt)&&Yn(j.getVoidElements(),ut)?Wt+" />":Wt+">"+Gt+"</"+ut+">"},mi=ut=>{const ft=e.createElement("div"),Gt=e.createDocumentFragment();Gt.appendChild(ft),ut&&(ft.innerHTML=ut);let Wt;for(;Wt=ft.firstChild;)Gt.appendChild(Wt);return Gt.removeChild(ft),Gt},Er=(ut,ft)=>Tn(ut,Gt=>{const Wt=Be.fromDom(Gt);return ft&&pe(ja(Wt),Wn=>{Yr(Wn)&&Wn.dom.length===0?gr(Wn):gs(Wt,Wn)}),gr(Wt),Wt.dom}),ni=ut=>Tn(ut,ft=>{const Gt=ft.attributes;for(let Wt=Gt.length-1;Wt>=0;Wt--)ft.removeAttributeNode(Gt.item(Wt))}),Bf=ut=>G.parse(ut),bh=(ut,ft)=>G.serialize(ut,ft),Ql=ut=>{if(Rp!==Br.DOM&&e===document){if(n[ut])return;n[ut]=!0}let ft=e.getElementById("mceDefaultStyles");if(!ft){ft=e.createElement("style"),ft.id="mceDefaultStyles",ft.type="text/css";const Gt=e.head;Gt.firstChild?Gt.insertBefore(ft,Gt.firstChild):Gt.appendChild(ft)}ft.styleSheet?ft.styleSheet.cssText+=ut:ft.appendChild(e.createTextNode(ut))},Yu=ut=>{ut||(ut=""),pe(ut.split(","),ft=>{l[ft]=!0,A.load(ft).catch(Pt)})},Mf=(ut,ft,Gt)=>{Tn(ut,Wt=>{if(yn(Wt)){const Wn=Be.fromDom(Wt),Ho=ft.split(" ");pe(Ho,zs=>{Ce(Gt)?(Gt?ad:wi)(Wn,zs):Eh(Wn,zs)})}})},Xu=(ut,ft)=>{Mf(ut,ft,!0)},Pf=(ut,ft)=>{Mf(ut,ft,!1)},Mn=(ut,ft)=>{const Gt=ke(ut),Wt=ft.split(" ");return Ce(Gt)&&vo(Wt,Wn=>id(Gt,Wn))},jo=ut=>{Tn(ut,ft=>jc(Be.fromDom(ft),"display"))},Fs=ut=>{Tn(ut,ft=>Hi(Be.fromDom(ft),"display","none"))},oa=ut=>{const ft=ke(ut);return Ce(ft)&&Ud(ws(ft,"display"),"none")},Ia=ut=>(ut||"mce_")+f++,qi=ut=>{const ft=ke(ut);return Ce(ft)?yn(ft.dom)?ft.dom.outerHTML:_g(ft):""},xa=(ut,ft)=>{Tn(ut,Gt=>{yn(Gt)&&(Gt.outerHTML=ft)})},wa=(ut,ft)=>{const Gt=de(ft);return Tn(ut,Wt=>{const Wn=Gt==null?void 0:Gt.parentNode,Ho=Gt==null?void 0:Gt.nextSibling;return Wn&&(Ho?Wn.insertBefore(Wt,Ho):Wn.appendChild(Wt)),Wt})},ec=(ut,ft,Gt)=>Tn(ft,Wt=>{var Wn;const Ho=ne(ft)?ut.cloneNode(!0):ut;return Gt&&Jy(D1(Wt.childNodes),zs=>{Ho.appendChild(zs)}),(Wn=Wt.parentNode)===null||Wn===void 0||Wn.replaceChild(Ho,Wt),Wt}),Qm=(ut,ft)=>{if(ut.nodeName!==ft.toUpperCase()){const Gt=Eo(ft);return Jy(qe(ut),Wt=>{We(Gt,Wt.nodeName,Fe(ut,Wt.nodeName))}),ec(Gt,ut,!0),Gt}else return ut},eg=(ut,ft)=>{let Gt=ut;for(;Gt;){let Wt=ft;for(;Wt&&Gt!==Wt;)Wt=Wt.parentNode;if(Gt===Wt)break;Gt=Gt.parentNode}return!Gt&&ut.ownerDocument?ut.ownerDocument.documentElement:Gt},tg=(ut,ft,Gt)=>Ae(ft)?Ul(j,ut,{...Gt,isContent:Wn=>{const Ho=Wn.nodeName.toLowerCase();return!!ft[Ho]}}):Ul(j,ut,Gt),Lf=()=>e.createRange(),Yv=(ut,ft,Gt)=>{let Wt=Lf(),Wn,Ho;if(ut&&ft&&ut.parentNode&&ft.parentNode){const zs=ut.parentNode;return Wt.setStart(zs,vm(ut)),Wt.setEnd(ft.parentNode,vm(ft)),Wn=Wt.extractContents(),Wt=Lf(),Wt.setStart(ft.parentNode,vm(ft)+1),Wt.setEnd(zs,vm(ut)+1),Ho=Wt.extractContents(),zs.insertBefore(Lh(Rp,Wn,j),ut),Gt?zs.insertBefore(Gt,ut):zs.insertBefore(ft,ut),zs.insertBefore(Lh(Rp,Ho,j),ut),Er(ut),Gt||ft}else return},US=(ut,ft,Gt,Wt)=>{if(ne(ut)){let Wn=ut.length;const Ho=[];for(;Wn--;)Ho[Wn]=US(ut[Wn],ft,Gt,Wt);return Ho}else return t.collect&&(ut===e||ut===s)&&z.push([ut,ft,Gt,Wt]),X.bind(ut,ft,Gt,Wt||Rp)},WS=(ut,ft,Gt)=>{if(ne(ut)){let Wt=ut.length;const Wn=[];for(;Wt--;)Wn[Wt]=WS(ut[Wt],ft,Gt);return Wn}else{if(z.length>0&&(ut===e||ut===s)){let Wt=z.length;for(;Wt--;){const[Wn,Ho,zs]=z[Wt];ut===Wn&&(!ft||ft===Ho)&&(!Gt||Gt===zs)&&X.unbind(Wn,Ho,zs)}}return X.unbind(ut,ft,Gt)}},q9=(ut,ft,Gt)=>X.dispatch(ut,ft,Gt),V0=(ut,ft,Gt)=>X.dispatch(ut,ft,Gt),i8=ut=>{if(ut&&qc(ut)){const ft=ut.getAttribute("data-mce-contenteditable");return ft&&ft!=="inherit"?ft:ut.contentEditable!=="inherit"?ut.contentEditable:null}else return null},Rp={doc:e,settings:t,win:s,files:l,stdMode:g,boxModel:C,styleSheetLoader:A,boundEvents:z,styles:G,schema:j,events:X,isBlock:we,root:null,clone:at,getRoot:Nt,getViewPort:jt,getRect:Nn,getSize:bn,getParent:hr,getParents:Oo,get:de,getNext:Ys,getPrev:ml,select:Xt,is:yo,add:Hn,create:Eo,createHTML:Ro,createFragment:mi,remove:Er,setStyle:wt,getStyle:Dt,setStyles:dt,removeAllAttribs:ni,setAttrib:We,setAttribs:er,getAttrib:Fe,getPos:dn,parseStyle:Bf,serializeStyle:bh,addStyle:Ql,loadCSS:Yu,addClass:Xu,removeClass:Pf,hasClass:Mn,toggleClass:Mf,show:jo,hide:Fs,isHidden:oa,uniqueId:Ia,setHTML:tn,getOuterHTML:qi,setOuterHTML:xa,decode:an,encode:xo,insertAfter:wa,replace:ec,rename:Qm,findCommonAncestor:eg,run:Tn,getAttribs:qe,isEmpty:tg,createRng:Lf,nodeIndex:vm,split:Yv,bind:US,unbind:WS,fire:V0,dispatch:q9,getContentEditable:i8,getContentEditableParent:ut=>{const ft=Nt();let Gt=null;for(let Wt=ut;Wt&&Wt!==ft&&(Gt=i8(Wt),Gt===null);Wt=Wt.parentNode);return Gt},isEditable:ut=>{if(Ce(ut)){const ft=yn(ut)?ut:ut.parentElement;return Ce(ft)&&qc(ft)&&ls(Be.fromDom(ft))}else return!1},destroy:()=>{if(z.length>0){let ut=z.length;for(;ut--;){const[ft,Gt,Wt]=z[ut];X.unbind(ft,Gt,Wt)}}Uo(l,(ut,ft)=>{A.unload(ft),delete l[ft]})},isChildOf:(ut,ft)=>ut===ft||ft.contains(ut),dumpRng:ut=>"startContainer: "+ut.startContainer.nodeName+", startOffset: "+ut.startOffset+", endContainer: "+ut.endContainer.nodeName+", endOffset: "+ut.endOffset},PT=ym(G,t,Qe(Rp));return Rp};Br.DOM=Br(document),Br.nodeIndex=vm;const N1=Br.DOM,Jr=0,Iu=1,Jc=2,Pg=3;class al{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((n,s)=>{const l=N1;let f;const g=()=>{l.remove(z),f&&(f.onerror=f.onload=f=null)},C=()=>{g(),n()},A=()=>{g(),s("Failed to load script: "+t)},z=l.uniqueId();f=document.createElement("script"),f.id=z,f.type="text/javascript",f.src=Kt._addCacheSuffix(t),this.settings.referrerPolicy&&l.setAttrib(f,"referrerpolicy",this.settings.referrerPolicy),f.onload=C,f.onerror=A,(document.getElementsByTagName("head")[0]||document.body).appendChild(f)})}isDone(t){return this.states[t]===Jc}markDone(t){this.states[t]=Jc}add(t){const n=this;return n.queue.push(t),n.states[t]===void 0&&(n.states[t]=Jr),new Promise((l,f)=>{n.scriptLoadedCallbacks[t]||(n.scriptLoadedCallbacks[t]=[]),n.scriptLoadedCallbacks[t].push({resolve:l,reject:f})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const n=this,s=(A,z)=>{mr(n.scriptLoadedCallbacks,z).each(j=>{pe(j,G=>G[A](z))}),delete n.scriptLoadedCallbacks[z]},l=A=>{const z=Ct(A,j=>j.status==="rejected");return z.length>0?Promise.reject(ao(z,({reason:j})=>ne(j)?j:[j])):Promise.resolve()},f=A=>Promise.allSettled(Me(A,z=>n.states[z]===Jc?(s("resolve",z),Promise.resolve()):n.states[z]===Pg?(s("reject",z),Promise.reject(z)):(n.states[z]=Iu,n.loadScript(z).then(()=>{n.states[z]=Jc,s("resolve",z);const j=n.queue;return j.length>0?(n.queue=[],f(j).then(l)):Promise.resolve()},()=>(n.states[z]=Pg,s("reject",z),Promise.reject(z)))))),g=A=>(n.loading=!0,f(A).then(z=>{n.loading=!1;const j=n.queueLoadedCallbacks.shift();return J.from(j).each(ho),l(z)})),C=bu(t);return n.loading?new Promise((A,z)=>{n.queueLoadedCallbacks.push(()=>{g(C).then(A,z)})}):g(C)}}al.ScriptLoader=new al;const Ya=(e,t)=>{const n=e.indexOf(t);return n!==-1&&e.indexOf(t,n+1)>n},xm=e=>te(e)&&Yn(e,"raw"),kb=e=>ne(e)&&e.length>1,Lg={},Eb=ga("en"),Fg=()=>mr(Lg,Eb.get()),wc={getData:()=>El(Lg,e=>({...e})),setCode:e=>{e&&Eb.set(e)},getCode:()=>Eb.get(),add:(e,t)=>{let n=Lg[e];n||(Lg[e]=n={});const s=Me(Vt(t),l=>l.toLowerCase());Uo(t,(l,f)=>{const g=f.toLowerCase();g!==f&&Ya(s,g)?(Yn(t,g)||(n[g]=l),n[f]=l):n[g]=l})},translate:e=>{const t=Fg().getOr({}),n=g=>Ne(g)?Object.prototype.toString.call(g):s(g)?"":""+g,s=g=>g===""||g===null||g===void 0,l=g=>{const C=n(g);return Yn(t,C)?n(t[C]):mr(t,C.toLowerCase()).map(n).getOr(C)},f=g=>g.replace(/{context:\w+}$/,"");if(s(e))return"";if(xm(e))return n(e.raw);if(kb(e)){const g=e.slice(1),C=l(e[0]).replace(/\{([0-9]+)\}/g,(A,z)=>Yn(g,z)?n(g[z]):A);return f(C)}return f(l(e))},isRtl:()=>Fg().bind(e=>mr(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>Yn(Lg,e)},Ui=()=>{const e=[],t={},n={},s=[],l=(de,ke)=>{const Fe=Ct(s,qe=>qe.name===de&&qe.state===ke);pe(Fe,qe=>qe.resolve())},f=de=>Yn(t,de),g=de=>Yn(n,de),C=de=>{if(n[de])return n[de].instance},A=(de,ke)=>{const Fe=wc.getCode(),qe=","+(ke||"")+",";!Fe||ke&&qe.indexOf(","+Fe+",")===-1||al.ScriptLoader.add(t[de]+"/langs/"+Fe+".js")},z=(de,ke)=>{Ui.languageLoad!==!1&&(f(de)?A(de,ke):we(de,"loaded").then(()=>A(de,ke)))},j=(de,ke)=>(e.push(ke),n[de]={instance:ke},l(de,"added"),ke),G=de=>{delete t[de],delete n[de]},X=(de,ke)=>Te(ke)?Te(de)?{prefix:"",resource:ke,suffix:""}:{prefix:de.prefix,resource:ke,suffix:de.suffix}:ke,ue=(de,ke)=>{if(t[de])return Promise.resolve();let Fe=Te(ke)?ke:ke.prefix+ke.resource+ke.suffix;Fe.indexOf("/")!==0&&Fe.indexOf("://")===-1&&(Fe=Ui.baseURL+"/"+Fe),t[de]=Fe.substring(0,Fe.lastIndexOf("/"));const qe=()=>(l(de,"loaded"),Promise.resolve());return n[de]?qe():al.ScriptLoader.add(Fe).then(qe)},we=(de,ke="added")=>ke==="added"&&g(de)||ke==="loaded"&&f(de)?Promise.resolve():new Promise(Fe=>{s.push({name:de,state:ke,resolve:Fe})});return{items:e,urls:t,lookup:n,get:C,requireLangPack:z,add:j,remove:G,createUrl:X,load:ue,waitFor:we}};Ui.languageLoad=!0,Ui.baseURL="",Ui.PluginManager=Ui(),Ui.ThemeManager=Ui(),Ui.ModelManager=Ui();const zg=(e,t)=>{let n=null;return{cancel:()=>{Ge(n)||(clearTimeout(n),n=null)},throttle:(...f)=>{Ge(n)&&(n=setTimeout(()=>{n=null,e.apply(null,f)},t))}}},Vh=(e,t)=>{let n=null;const s=()=>{Ge(n)||(clearTimeout(n),n=null)};return{cancel:s,throttle:(...f)=>{s(),n=setTimeout(()=>{n=null,e.apply(null,f)},t)}}},tC=(e,t,n)=>Zc(e,t,n).isSome(),bs=Qe("mce-annotation"),vs=Qe("data-mce-annotation"),$s=Qe("data-mce-annotation-uid"),wr=Qe("data-mce-annotation-active"),ds=Qe("data-mce-annotation-classes"),Ms=Qe("data-mce-annotation-attrs"),I1=e=>t=>Lo(t,e),B1=(e,t)=>{const n=e.selection.getRng(),s=Be.fromDom(n.startContainer),l=Be.fromDom(e.getBody()),f=t.fold(()=>"."+bs(),A=>`[${vs()}="${A}"]`),g=ku(s,n.startOffset).getOr(s);return Aa(g,f,I1(l)).bind(A=>Hc(A,`${$s()}`).bind(z=>Hc(A,`${vs()}`).map(j=>{const G=ox(e,z);return{uid:z,name:j,elements:G}})))},nx=e=>Os(e)&&id(e,bs()),Ab=(e,t)=>rd(e,"data-mce-bogus")||tC(e,'[data-mce-bogus="all"]',I1(t)),ox=(e,t)=>{const n=Be.fromDom(e.getBody()),s=ea(n,`[${$s()}="${t}"]`);return Ct(s,l=>!Ab(l,n))},Hg=(e,t)=>{const n=Be.fromDom(e.getBody()),s=ea(n,`[${vs()}="${t}"]`),l={};return pe(s,f=>{if(!Ab(f,n)){const g=ii(f,$s()),C=mr(l,g).getOr([]);l[g]=C.concat([f])}}),l},M1=(e,t)=>{const n=ga({}),s=()=>({listeners:[],previous:ha()}),l=(G,X)=>{f(G,ue=>(X(ue),ue))},f=(G,X)=>{const ue=n.get(),we=mr(ue,G).getOrThunk(s),de=X(we);ue[G]=de,n.set(ue)},g=(G,X,ue)=>{l(G,we=>{pe(we.listeners,de=>de(!0,G,{uid:X,nodes:Me(ue,ke=>ke.dom)}))})},C=G=>{l(G,X=>{pe(X.listeners,ue=>ue(!1,G))})},A=(G,X)=>{pe(ox(e,G),ue=>{X?ra(ue,wr(),"true"):bo(ue,wr())})},z=Vh(()=>{const G=fr(t.getNames());pe(G,X=>{f(X,ue=>{const we=ue.previous.get();return B1(e,J.some(X)).fold(()=>{we.each(de=>{C(X),ue.previous.clear(),A(de,!1)})},({uid:de,name:ke,elements:Fe})=>{Ud(we,de)||(we.each(qe=>A(qe,!1)),g(ke,de,Fe),ue.previous.set(de),A(de,!0))}),{previous:ue.previous,listeners:ue.listeners}})})},30);return e.on("remove",()=>{z.cancel()}),e.on("NodeChange",()=>{z.throttle()}),{addListener:(G,X)=>{f(G,ue=>({previous:ue.previous,listeners:ue.listeners.concat([X])}))}}},P1=(e,t)=>{const n=vs(),s=f=>J.from(f.attr(n)).bind(t.lookup),l=f=>{var g,C;f.attr($s(),null),f.attr(vs(),null),f.attr(wr(),null);const A=J.from(f.attr(Ms())).map(X=>X.split(",")).getOr([]),z=J.from(f.attr(ds())).map(X=>X.split(",")).getOr([]);pe(A,X=>f.attr(X,null));const j=(C=(g=f.attr("class"))===null||g===void 0?void 0:g.split(" "))!==null&&C!==void 0?C:[],G=Do(j,[bs()].concat(z));f.attr("class",G.length>0?G.join(" "):null),f.attr(ds(),null),f.attr(Ms(),null)};e.serializer.addTempAttr(wr()),e.serializer.addAttributeFilter(n,f=>{for(const g of f)s(g).each(C=>{C.persistent===!1&&(g.name==="span"?g.unwrap():l(g))})})},rx=()=>{const e={};return{register:(l,f)=>{e[l]={name:l,settings:f}},lookup:l=>mr(e,l).map(f=>f.settings),getNames:()=>Vt(e)}},Tb=(e,t,n)=>Math.min(Math.max(e,t),n),il=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let sx=0;const Ei=e=>{const n=new Date().getTime(),s=Math.floor(il()*1e9);return sx++,e+"_"+s+sx+String(n)},Ob=(e,t)=>{pe(t,n=>{ad(e,n)})},Vg=(e,t)=>{pe(t,n=>{wi(e,n)})},Qc=(e,t)=>Be.fromDom(e.dom.cloneNode(t)),Ps=e=>Qc(e,!1),Cm=e=>Qc(e,!0),ax=(e,t)=>{const n=Be.fromTag(t),s=ol(e);return xi(n,s),n},ix=(e,t)=>{const n=ax(e,t);et(e,n);const s=ja(e);return Vs(n,s),gr(e),n},Db=(e,t,n=xn)=>{const s=new Ka(e,t),l=f=>{let g;do g=s[f]();while(g&&!Mt(g)&&!n(g));return J.from(g).filter(Mt)};return{current:()=>J.from(s.current()).filter(Mt),next:()=>l("next"),prev:()=>l("prev"),prev2:()=>l("prev2")}},pd=(e,t)=>{const n=t||(g=>e.isBlock(g)||os(g)||to(g)),s=(g,C,A,z)=>{if(Mt(g)){const j=z(g,C,g.data);if(j!==-1)return J.some({container:g,offset:j})}return A().bind(j=>s(j.container,j.offset,A,z))};return{backwards:(g,C,A,z)=>{const j=Db(g,z??e.getRoot(),n);return s(g,C,()=>j.prev().map(G=>({container:G,offset:G.length})),A).getOrNull()},forwards:(g,C,A,z)=>{const j=Db(g,z??e.getRoot(),n);return s(g,C,()=>j.next().map(G=>({container:G,offset:0})),A).getOrNull()}}},Rb=((e,t)=>{const n=f=>{if(!e(f))throw new Error("Can only get "+t+" value of a "+t+" node");return s(f).getOr("")},s=f=>e(f)?J.from(f.dom.nodeValue):J.none();return{get:n,getOption:s,set:(f,g)=>{if(!e(f))throw new Error("Can only set raw "+t+" value of a "+t+" node");f.dom.nodeValue=g}}})(Yr,"text"),_m=e=>Rb.get(e),nC=e=>Rb.getOption(e),Nb=(e,t)=>Rb.set(e,t),Ib=["td","th"],L1=["thead","tbody","tfoot"],$h=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],F1=["li","dd","dt"],Ai=["ul","ol","dl"],lx=["pre","script","textarea","style"],bd=e=>{let t;return n=>(t=t||As(e,Rn),Yn(t,Po(n)))},Bb=e=>Po(e)==="table",Bu=e=>Os(e)&&Po(e)==="br",Mb=bd($h),Pb=bd(Ai),Sm=bd(F1),$g=bd(L1),Cc=bd(Ib),Lb=bd(lx),kk=e=>{const t=[];let n=e.dom;for(;n;)t.push(Be.fromDom(n)),n=n.lastChild;return t},Zl=e=>{const t=ea(e,"br"),n=Ct(kk(e).slice(-1),Bu);t.length===n.length&&pe(n,gr)},vd=()=>{const e=Be.fromTag("br");return ra(e,"data-mce-bogus","1"),e},_c=e=>{zr(e),Rs(e,vd())},cx=(e,t)=>{Eu(e).each(n=>{sa(n).each(s=>{t.isBlock(Po(e))&&Bu(n)&&t.isBlock(Po(s))&&gr(n)})})},ia=hs,Sc=Du,ll=Oh,Ek=e=>e.insertContent(ia,{preserve_zwsp:!0}),ff=yn,yd=Mt,Uh=e=>(yd(e)&&(e=e.parentNode),ff(e)&&e.hasAttribute("data-mce-caret")),km=e=>yd(e)&&Sc(e.data),Dl=e=>Uh(e)||km(e),z1=e=>e.firstChild!==e.lastChild||!os(e.firstChild),H1=(e,t)=>{var n;const l=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(ia),f=e.parentNode;if(t){const g=e.previousSibling;if(yd(g)){if(Dl(g))return g;if(xd(g))return g.splitText(g.data.length-1)}f==null||f.insertBefore(l,e)}else{const g=e.nextSibling;if(yd(g)){if(Dl(g))return g;if(zb(g))return g.splitText(1),g}e.nextSibling?f==null||f.insertBefore(l,e.nextSibling):f==null||f.appendChild(l)}return l},Fb=e=>{const t=e.container();return Mt(t)?t.data.charAt(e.offset())===ia||e.isAtStart()&&km(t.previousSibling):!1},V1=e=>{const t=e.container();return Mt(t)?t.data.charAt(e.offset()-1)===ia||e.isAtEnd()&&km(t.nextSibling):!1},oC=(e,t,n)=>{var s;const f=((s=t.ownerDocument)!==null&&s!==void 0?s:document).createElement(e);f.setAttribute("data-mce-caret",n?"before":"after"),f.setAttribute("data-mce-bogus","all"),f.appendChild(vd().dom);const g=t.parentNode;return n?g==null||g.insertBefore(f,t):t.nextSibling?g==null||g.insertBefore(f,t.nextSibling):g==null||g.appendChild(f),f},zb=e=>yd(e)&&e.data[0]===ia,xd=e=>yd(e)&&e.data[e.data.length-1]===ia,Hb=e=>{var t;const n=e.getElementsByTagName("br"),s=n[n.length-1];nf(s)&&((t=s.parentNode)===null||t===void 0||t.removeChild(s))},Ug=e=>e&&e.hasAttribute("data-mce-caret")?(Hb(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Wg=e=>Uh(e.startContainer),mf=Math.round,gf=e=>e?{left:mf(e.left),top:mf(e.top),bottom:mf(e.bottom),right:mf(e.right),width:mf(e.width),height:mf(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Vb=(e,t)=>(e=gf(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),hf=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,pf=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,bf=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top?!0:e.top>t.bottom?!1:pf(t.top-e.bottom,e,t)},Zg=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:pf(t.bottom-e.top,e,t),$1=(e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom,Wh=e=>It(e,(t,n)=>t.fold(()=>J.some(n),s=>{const l=Math.min(n.left,s.left),f=Math.min(n.top,s.top),g=Math.max(n.right,s.right),C=Math.max(n.bottom,s.bottom);return J.some({top:f,right:g,bottom:C,left:l,width:g-l,height:C-f})}),J.none()),U1=(e,t,n)=>{const s=Math.max(Math.min(t,e.left+e.width),e.left),l=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-s)*(t-s)+(n-l)*(n-l))},ux=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),Zh=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},la=(e,t)=>{if(yn(e)&&e.hasChildNodes()){const n=e.childNodes,s=Tb(t,0,n.length-1);return n[s]}else return e},dx=(e,t)=>{if(!(t<0&&yn(e)&&e.hasChildNodes()))return la(e,t)},rC=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),fx=e=>Te(e)&&e.charCodeAt(0)>=768&&rC.test(e),mx=(...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1},vf=(...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0},W1=pc,$b=to,gx=os,Ak=Mt,yf=qa(["script","style","textarea"]),Ub=qa(["img","input","textarea","hr","iframe","video","audio","object","embed"]),sC=qa(["table"]),aC=Dl,eu=e=>aC(e)?!1:Ak(e)?!yf(e.parentNode):Ub(e)||gx(e)||sC(e)||Z1(e),hx=e=>yn(e)&&e.getAttribute("unselectable")==="true",Z1=e=>!hx(e)&&$b(e),iC=(e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(Z1(n))return!1;if(W1(n))return!0}return!0},jg=e=>Z1(e)?!It(io(e.getElementsByTagName("*")),(t,n)=>t||W1(n),!1):!1,jh=e=>Ub(e)||jg(e),Wb=(e,t)=>eu(e)&&iC(e,t),lC=yn,tu=eu,Em=gc("display","block table"),Zb=gc("float","left right"),jb=vf(lC,tu,bt(Zb)),j1=bt(gc("white-space","pre pre-line pre-wrap")),Kb=Mt,Ja=os,K1=Br.nodeIndex,Am=dx,Tm=e=>e?e.createRange():Br.DOM.createRng(),qb=e=>Te(e)&&/[\r\n\t ]/.test(e),q1=e=>!!e.setStart&&!!e.setEnd,Kg=e=>{const t=e.startContainer,n=e.startOffset;if(qb(e.toString())&&j1(t.parentNode)&&Mt(t)){const s=t.data;if(qb(s[n-1])||qb(s[n+1]))return!0}return!1},xf=e=>{const t=e.ownerDocument,n=Tm(t),s=t.createTextNode(ma),l=e.parentNode;l.insertBefore(s,e),n.setStart(s,0),n.setEnd(s,1);const f=gf(n.getBoundingClientRect());return l.removeChild(s),f},px=e=>{const t=e.startContainer,n=e.endContainer,s=e.startOffset,l=e.endOffset;if(t===n&&Mt(n)&&s===0&&l===1){const f=e.cloneRange();return f.setEndAfter(n),Wi(f)}else return null},G1=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Wi=e=>{var t;let n;const s=e.getClientRects();return s.length>0?n=gf(s[0]):n=gf(e.getBoundingClientRect()),!q1(e)&&Ja(e)&&G1(n)?xf(e):G1(n)&&q1(e)&&(t=px(e))!==null&&t!==void 0?t:n},wf=(e,t)=>{const n=Vb(e,t);return n.width=1,n.right=n.left+1,n},bx=e=>{const t=[],n=g=>{g.height!==0&&(t.length>0&&hf(g,t[t.length-1])||t.push(g))},s=(g,C)=>{const A=Tm(g.ownerDocument);if(C<g.data.length){if(fx(g.data[C]))return;if(fx(g.data[C-1])&&(A.setStart(g,C),A.setEnd(g,C+1),!Kg(A))){n(wf(Wi(A),!1));return}}C>0&&(A.setStart(g,C-1),A.setEnd(g,C),Kg(A)||n(wf(Wi(A),!1))),C<g.data.length&&(A.setStart(g,C),A.setEnd(g,C+1),Kg(A)||n(wf(Wi(A),!0)))},l=e.container(),f=e.offset();if(Kb(l))return s(l,f),t;if(lC(l))if(e.isAtEnd()){const g=Am(l,f);Kb(g)&&s(g,g.data.length),jb(g)&&!Ja(g)&&n(wf(Wi(g),!1))}else{const g=Am(l,f);if(Kb(g)&&s(g,0),jb(g)&&e.isAtEnd())return n(wf(Wi(g),!1)),t;const C=Am(e.container(),e.offset()-1);jb(C)&&!Ja(C)&&(Em(C)||Em(g)||!jb(g))&&n(wf(Wi(C),!1)),jb(g)&&n(wf(Wi(g),!0))}return t},mt=(e,t,n)=>{const s=()=>(Kb(e),t===0),l=()=>Kb(e)?t>=e.data.length:t>=e.childNodes.length,f=()=>{const j=Tm(e.ownerDocument);return j.setStart(e,t),j.setEnd(e,t),j},g=()=>(n||(n=bx(mt(e,t))),n),C=()=>g().length>0,A=j=>j&&e===j.container()&&t===j.offset(),z=j=>Am(e,j?t-1:t);return{container:Qe(e),offset:Qe(t),toRange:f,getClientRects:g,isVisible:C,isAtStart:s,isAtEnd:l,isEqual:A,getNode:z}};mt.fromRangeStart=e=>mt(e.startContainer,e.startOffset),mt.fromRangeEnd=e=>mt(e.endContainer,e.endOffset),mt.after=e=>mt(e.parentNode,K1(e)+1),mt.before=e=>mt(e.parentNode,K1(e)),mt.isAbove=(e,t)=>$a(un(t.getClientRects()),po(e.getClientRects()),bf).getOr(!1),mt.isBelow=(e,t)=>$a(po(t.getClientRects()),un(e.getClientRects()),Zg).getOr(!1),mt.isAtStart=e=>e?e.isAtStart():!1,mt.isAtEnd=e=>e?e.isAtEnd():!1,mt.isTextPosition=e=>e?Mt(e.container()):!1,mt.isElementPosition=e=>!mt.isTextPosition(e);const Kh=(e,t)=>{Mt(t)&&t.data.length===0&&e.remove(t)},Tk=(e,t,n)=>{t.insertNode(n),Kh(e,n.previousSibling),Kh(e,n.nextSibling)},cC=(e,t,n)=>{const s=J.from(n.firstChild),l=J.from(n.lastChild);t.insertNode(n),s.each(f=>Kh(e,f.previousSibling)),l.each(f=>Kh(e,f.nextSibling))},Y1=(e,t,n)=>{rf(n)?cC(e,t,n):Tk(e,t,n)},nu=Mt,X1=nf,Gb=Br.nodeIndex,vx=e=>{const t=e.parentNode;return X1(t)?vx(t):t},yx=e=>e?Qi(e.childNodes,(t,n)=>(X1(n)&&n.nodeName!=="BR"?t=t.concat(yx(n)):t.push(n),t),[]):[],Ok=(e,t)=>{let n=e;for(;(n=n.previousSibling)&&nu(n);)t+=n.data.length;return t},y=e=>t=>e===t,_=e=>{let t,n;t=yx(vx(e)),n=qr(t,y(e),e),t=t.slice(0,n+1);const s=Qi(t,(l,f,g)=>(nu(f)&&nu(t[g-1])&&l++,l),0);return t=Bi(t,qa([e.nodeName])),n=qr(t,y(e),e),n-s},T=e=>(nu(e)?"text()":e.nodeName.toLowerCase())+"["+_(e)+"]",P=(e,t,n)=>{const s=[];for(let l=t.parentNode;l&&l!==e;l=l.parentNode)s.push(l);return s},V=(e,t)=>{let n=[],s=t.container(),l=t.offset(),f;if(nu(s))f=Ok(s,l);else{const C=s.childNodes;l>=C.length?(f="after",l=C.length-1):f="before",s=C[l]}n.push(T(s));let g=P(e,s);return g=Bi(g,bt(nf)),n=n.concat(Xf(g,C=>T(C))),n.reverse().join("/")+","+f},U=(e,t,n)=>{let s=yx(e);return s=Bi(s,(l,f)=>!nu(l)||!nu(s[f-1])),s=Bi(s,qa([t])),s[n]},Q=(e,t)=>{let n=e,s=0;for(;nu(n);){const l=n.data.length;if(t>=s&&t<=s+l){e=n,t=t-s;break}if(!nu(n.nextSibling)){e=n,t=l;break}s+=l,n=n.nextSibling}return nu(e)&&t>e.data.length&&(t=e.data.length),mt(e,t)},re=(e,t)=>{if(!t)return null;const n=t.split(","),s=n[0].split("/"),l=n.length>1?n[1]:"before",f=Qi(s,(g,C)=>{const A=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(C);return A?(A[1]==="text()"&&(A[1]="#text"),U(g,A[1],parseInt(A[2],10))):null},e);if(!f)return null;if(!nu(f)&&f.parentNode){let g;return l==="after"?g=Gb(f)+1:g=Gb(f),mt(f.parentNode,g)}return Q(f,parseInt(l,10))},be=to,De=(e,t,n)=>{let s=e(t.data.slice(0,n)).length;for(let l=t.previousSibling;l&&Mt(l);l=l.previousSibling)s+=e(l.data).length;return s},He=(e,t,n,s,l)=>{const f=l?s.startContainer:s.endContainer;let g=l?s.startOffset:s.endOffset;const C=[],A=e.getRoot();if(Mt(f))C.push(n?De(t,f,g):g);else{let z=0;const j=f.childNodes;g>=j.length&&j.length&&(z=1,g=Math.max(0,j.length-1)),C.push(e.nodeIndex(j[g],n)+z)}for(let z=f;z&&z!==A;z=z.parentNode)C.push(e.nodeIndex(z,n));return C},Ee=(e,t,n,s)=>{const l=t.dom,f=He(l,e,n,s,!0),g=t.isForward(),C=Wg(s)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:f,forward:g,...C};{const A=He(l,e,n,s,!1);return{start:f,end:A,forward:g,...C}}},Ie=(e,t,n)=>{let s=0;return Kt.each(e.select(t),l=>{if(l.getAttribute("data-mce-bogus")!=="all"){if(l===n)return!1;s++;return}}),s},Pe=(e,t)=>{let n=t?e.startContainer:e.endContainer,s=t?e.startOffset:e.endOffset;if(yn(n)&&n.nodeName==="TR"){const l=n.childNodes;n=l[Math.min(t?s:s-1,l.length-1)],n&&(s=t?0:n.childNodes.length,t?e.setStart(n,s):e.setEnd(n,s))}},Je=e=>(Pe(e,!0),Pe(e,!1),e),tt=(e,t)=>{if(yn(e)&&(e=la(e,t),be(e)))return e;if(Dl(e)){Mt(e)&&Uh(e)&&(e=e.parentNode);let n=e.previousSibling;if(be(n)||(n=e.nextSibling,be(n)))return n}},Et=e=>tt(e.startContainer,e.startOffset)||tt(e.endContainer,e.endOffset),Ot=(e,t,n)=>{const s=n.getNode(),l=n.getRng();if(s.nodeName==="IMG"||be(s)){const g=s.nodeName;return{name:g,index:Ie(n.dom,g,s)}}const f=Et(l);if(f){const g=f.tagName;return{name:g,index:Ie(n.dom,g,f)}}return Ee(e,n,t,l)},kt=e=>{const t=e.getRng();return{start:V(e.dom.getRoot(),mt.fromRangeStart(t)),end:V(e.dom.getRoot(),mt.fromRangeEnd(t)),forward:e.isForward()}},Rt=e=>({rng:e.getRng(),forward:e.isForward()}),Ut=(e,t,n)=>{const s={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",s,"&#xFEFF;"):e.create("span",s)},qt=(e,t)=>{const n=e.dom;let s=e.getRng();const l=n.uniqueId(),f=e.isCollapsed(),g=e.getNode(),C=g.nodeName,A=e.isForward();if(C==="IMG")return{name:C,index:Ie(n,C,g)};const z=Je(s.cloneRange());if(!f){z.collapse(!1);const G=Ut(n,l+"_end",t);Y1(n,z,G)}s=Je(s),s.collapse(!0);const j=Ut(n,l+"_start",t);return Y1(n,s,j),e.moveToBookmark({id:l,keep:!0,forward:A}),{id:l,forward:A}},rt=(e,t,n=!1)=>t===2?Ot(ll,n,e):t===3?kt(e):t?Rt(e):qt(e,!1),gn=pt(Ot,On,!0),Vn=e=>{const t=f=>f(e),n=Qe(e),s=()=>l,l={tag:!0,inner:e,fold:(f,g)=>g(e),isValue:Rn,isError:xn,map:f=>$n.value(f(e)),mapError:s,bind:t,exists:t,forall:t,getOr:n,or:s,getOrThunk:n,orThunk:s,getOrDie:n,each:f=>{f(e)},toOptional:()=>J.some(e)};return l},co=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(s,l)=>s(e),isValue:xn,isError:Rn,map:t,mapError:s=>$n.error(s(e)),bind:t,exists:xn,forall:Rn,getOr:On,or:On,getOrThunk:Ur,orThunk:Ur,getOrDie:Zt(String(e)),each:Pt,toOptional:J.none};return n},$n={value:Vn,error:co,fromOption:(e,t)=>e.fold(()=>co(t),Vn)},Mo={generate:e=>{if(!ne(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],n={};return pe(e,(s,l)=>{const f=Vt(s);if(f.length!==1)throw new Error("one and only one name per case");const g=f[0],C=s[g];if(n[g]!==void 0)throw new Error("duplicate key detected:"+g);if(g==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ne(C))throw new Error("case arguments must be an array");t.push(g),n[g]=(...A)=>{const z=A.length;if(z!==C.length)throw new Error("Wrong number of arguments to case "+g+". Expected "+C.length+" ("+C+"), got "+z);return{fold:(...G)=>{if(G.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+G.length);return G[l].apply(null,A)},match:G=>{const X=Vt(G);if(t.length!==X.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+X.join(","));if(!vo(t,we=>le(X,we)))throw new Error("Not all branches were specified when using match. Specified: "+X.join(", ")+`
Required: `+t.join(", "));return G[g].apply(null,A)},log:G=>{console.log(G,{constructors:t,constructor:g,params:A})}}}}),n}};Mo.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Us=e=>{const t=[],n=[];return pe(e,s=>{s.fold(l=>{t.push(l)},l=>{n.push(l)})}),{errors:t,values:n}},ui=e=>e.type==="inline-command"||e.type==="inline-format",Da=e=>e.type==="block-command"||e.type==="block-format",jl=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,Om=e=>{var t;const n=l=>$n.error({message:l,pattern:e}),s=(l,f,g)=>{if(e.format!==void 0){let C;if(ne(e.format)){if(!vo(e.format,Te))return n(l+" pattern has non-string items in the `format` array");C=e.format}else if(Te(e.format))C=[e.format];else return n(l+" pattern has non-string `format` parameter");return $n.value(f(C))}else return e.cmd!==void 0?Te(e.cmd)?$n.value(g(e.cmd,e.value)):n(l+" pattern has non-string `cmd` parameter"):n(l+" pattern is missing both `format` and `cmd` parameters")};if(!te(e))return n("Raw pattern is not an object");if(!Te(e.start))return n("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!Te(e.end))return n("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let l=e.start,f=e.end;return f.length===0&&(f=l,l=""),s("Inline",g=>({type:"inline-format",start:l,end:f,format:g}),(g,C)=>({type:"inline-command",start:l,end:f,cmd:g,value:C}))}else{if(e.replacement!==void 0)return Te(e.replacement)?e.start.length===0?n("Replacement pattern has empty `start` parameter"):$n.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter");{const l=(t=e.trigger)!==null&&t!==void 0?t:"space";return e.start.length===0?n("Block pattern has empty `start` parameter"):s("Block",f=>({type:"block-format",start:e.start,format:f[0],trigger:l}),(f,g)=>({type:"block-command",start:e.start,cmd:f,value:g,trigger:l}))}}},di=e=>Ct(e,Da),Mu=e=>Ct(e,ui),qh=(e,t)=>({inlinePatterns:Mu(e),blockPatterns:di(e),dynamicPatternsLookup:t}),Cf=(e,t)=>({...e,blockPatterns:Ct(e.blockPatterns,n=>jl(n,t))}),Gh=e=>{const t=Us(Me(e,Om));return pe(t.errors,n=>console.error(n.message,n.pattern)),t.values},J1=e=>t=>{const n=e(t);return Gh(n)},_f=Ha().deviceType,uC=_f.isTouch(),zM=Br.DOM,HM=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return It(t,(n,s)=>{const l=s.split("="),f=l[0],g=l.length>1?l[1]:f;return n[Re(f)]=Re(g),n},{})},hO=e=>Ue(e,RegExp),pn=e=>t=>t.options.get(e),xx=e=>Te(e)||te(e),Dk=(e,t="")=>n=>{const s=Te(n);if(s)if(n.indexOf("=")!==-1){const l=HM(n);return{value:mr(l,e.id).getOr(t),valid:s}}else return{value:n,valid:s};else return{valid:!1,message:"Must be a string."}},dC=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:Dk(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:Dk(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:n=>{const s=Te(n)&&je(n);return s?{value:n,valid:s}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:n=>{const s=le(["block","linebreak","invert","default"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:n=>$e(n)?{valid:!0,value:n}:Te(n)?{valid:!0,value:n}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:n=>{const s=n===!1||Te(n)||yt(n,Te);return s?Te(n)?{value:Me(n.split(","),Re),valid:s}:ne(n)?{value:n,valid:s}:n===!1?{value:[],valid:s}:{value:n,valid:s}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Yb(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:n=>{const s=Te(n)||yt(n,Te);return s?{value:ne(n)?n:Me(n.split(","),Re),valid:s}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:n=>{const s=$e(n)||Te(n);return s?n===!1||_f.isiPhone()||_f.isiPad()?{value:"",valid:s}:{value:n===!0?"table,img,figure.image,div,video,iframe":n,valid:s}:{valid:!1,message:"Must be boolean or a string"}},default:!uC}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("theme",{processor:n=>n===!1||Te(n)||Ne(n),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:n=>{const s=n===!1||Te(n);return s?{value:n===!1?"":n,valid:s}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:xx}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:xx}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:xx}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:xx}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:n=>Te(n)||n===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:n=>yt(n,te)||n===!1?{value:Gh(n===!1?[]:n),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:n=>Ne(n)?{value:J1(n),valid:!0}:{valid:!1,message:"Must be a single function"},default:n=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:n=>yt(n,hO)?{value:n,valid:!0}:hO(n)?{value:[n],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:n=>{const s=le(["inherited","collapsed","expanded"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:n=>{const s=le(["inherited","collapsed","expanded"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:wc.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:zM.getAttrib(e.getElement(),"placeholder")})})},cl=pn("iframe_attrs"),wd=pn("doctype"),ou=pn("document_base_url"),fC=pn("body_id"),Rk=pn("body_class"),pO=pn("content_security_policy"),Nk=pn("br_in_pre"),Zi=pn("forced_root_block"),wx=pn("forced_root_block_attrs"),Ik=pn("newline_behavior"),bO=pn("br_newline_selector"),vO=pn("no_newline_selector"),Bk=pn("keep_styles"),Mk=pn("end_container_on_empty_block"),Mr=pn("automatic_uploads"),qg=pn("images_reuse_filename"),yO=pn("images_replace_blob_uris"),Pk=pn("icons"),xO=pn("icons_url"),Lk=pn("images_upload_url"),wO=pn("images_upload_base_path"),Fk=pn("images_upload_credentials"),VM=pn("images_upload_handler"),CO=pn("content_css_cors"),Cx=pn("referrer_policy"),zk=pn("language"),$M=pn("language_url"),_O=pn("indent_use_margin"),ru=pn("indentation"),Cl=pn("content_css"),Q1=pn("content_style"),SO=pn("font_css"),UM=pn("directionality"),Vo=pn("inline_boundaries_selector"),kO=pn("object_resizing"),EO=pn("resize_img_proportional"),Hk=pn("placeholder"),AO=pn("event_root"),WM=pn("service_message"),ev=pn("theme"),ZM=pn("theme_url"),_x=pn("model"),Vk=pn("model_url"),tv=pn("inline_boundaries"),jM=pn("formats"),KM=pn("preview_styles"),qM=pn("format_empty_lines"),Kn=pn("format_noneditable_selector"),TO=pn("custom_ui_selector"),Yb=pn("inline"),$k=pn("hidden_input"),OO=pn("submit_patch"),DO=pn("add_form_submit_trigger"),RO=pn("add_unload_trigger"),NO=pn("custom_undo_redo_levels"),GM=pn("disable_nodechange"),IO=pn("readonly"),ar=pn("editable_root"),BO=pn("content_css_cors"),Cd=pn("plugins"),Dm=pn("external_plugins"),mC=pn("block_unsupported_drop"),kc=pn("visual"),gC=pn("visual_table_class"),nv=pn("visual_anchor_class"),Sx=pn("iframe_aria_text"),ov=pn("setup"),YM=pn("init_instance_callback"),XM=pn("urlconverter_callback"),JM=pn("auto_focus"),QM=pn("browser_spellcheck"),Zo=pn("protect"),Sf=pn("paste_block_drop"),Rm=pn("paste_data_images"),eP=pn("paste_preprocess"),kx=pn("paste_postprocess"),Go=pn("newdocument_content"),MO=pn("paste_webkit_styles"),Uk=pn("paste_remove_styles_if_webkit"),tP=pn("paste_merge_formats"),Xb=pn("smart_paste"),Jb=pn("paste_as_text"),PO=pn("paste_tab_spaces"),nP=pn("allow_html_data_urls"),oP=pn("text_patterns"),Ex=pn("text_patterns_lookup"),Qb=pn("noneditable_class"),rP=pn("editable_class"),LO=pn("noneditable_regexp"),sP=pn("preserve_cdata"),FO=pn("highlight_on_focus"),zO=pn("xss_sanitization"),HO=pn("init_content_sync"),Wk=e=>e.options.isSet("text_patterns_lookup"),Zk=e=>Kt.explode(e.options.get("font_size_style_values")),jk=e=>Kt.explode(e.options.get("font_size_classes")),VO=e=>e.options.get("encoding")==="xml",Kk=e=>Kt.explode(e.options.get("images_file_types")),$O=pn("table_tab_navigation"),hC=pn("details_initial_state"),UO=pn("details_serialized_state"),qk=pn("sandbox_iframes"),pC=e=>e.options.get("sandbox_iframes_exclusions"),WO=pn("convert_unsafe_embeds"),ZO=pn("license_key"),jO=pn("api_key"),aP=yn,KO=Mt,Ax=e=>{const t=e.parentNode;t&&t.removeChild(e)},Gk=e=>{const t=ll(e);return{count:e.length-t.length,text:t}},Yk=e=>{let t;for(;(t=e.data.lastIndexOf(ia))!==-1;)e.deleteData(t,1)},Xk=(e,t)=>(Yh(e),t),iP=(e,t)=>{const n=Gk(e.data.substr(0,t.offset())),s=Gk(e.data.substr(t.offset()));return(n.text+s.text).length>0?(Yk(e),mt(e,t.offset()-n.count)):t},lP=(e,t)=>{const n=t.container(),s=Ke(io(n.childNodes),e).map(l=>l<t.offset()?mt(n,t.offset()-1):t).getOr(t);return Yh(e),s},cP=(e,t)=>KO(e)&&t.container()===e?iP(e,t):Xk(e,t),uP=(e,t)=>t.container()===e.parentNode?lP(e,t):Xk(e,t),dP=(e,t)=>mt.isTextPosition(t)?cP(e,t):uP(e,t),Yh=e=>{aP(e)&&Dl(e)&&(z1(e)?e.removeAttribute("data-mce-caret"):Ax(e)),KO(e)&&(Yk(e),e.data.length===0&&Ax(e))},qO=to,bC=xt,fP=Nh,Jk="*[contentEditable=false],video,audio,embed,object",GO=(e,t,n)=>{const s=Vb(t.getBoundingClientRect(),n);let l,f;if(e.tagName==="BODY"){const C=e.ownerDocument.documentElement;l=e.scrollLeft||C.scrollLeft,f=e.scrollTop||C.scrollTop}else{const C=e.getBoundingClientRect();l=e.scrollLeft-C.left,f=e.scrollTop-C.top}s.left+=l,s.right+=l,s.top+=f,s.bottom+=f,s.width=1;let g=t.offsetWidth-t.clientWidth;return g>0&&(n&&(g*=-1),s.left+=g,s.right+=g),s},YO=e=>{var t,n;const s=ea(Be.fromDom(e),Jk);for(let l=0;l<s.length;l++){const f=s[l].dom;let g=f.previousSibling;if(xd(g)){const C=g.data;C.length===1?(t=g.parentNode)===null||t===void 0||t.removeChild(g):g.deleteData(C.length-1,1)}g=f.nextSibling,zb(g)&&(g.data.length===1?(n=g.parentNode)===null||n===void 0||n.removeChild(g):g.deleteData(0,1))}},XO=(e,t,n,s)=>{const l=ha();let f,g;const C=Zi(e),A=e.dom,z=(de,ke)=>{let Fe;if(j(),fP(ke))return null;if(n(ke)){const qe=oC(C,ke,de),We=GO(t,ke,de);A.setStyle(qe,"top",We.top),A.setStyle(qe,"caret-color","transparent"),g=qe;const at=A.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});A.setStyles(at,{...We}),A.add(t,at),l.set({caret:at,element:ke,before:de}),de&&A.addClass(at,"mce-visual-caret-before"),G(),Fe=ke.ownerDocument.createRange(),Fe.setStart(qe,0),Fe.setEnd(qe,0)}else return g=H1(ke,de),Fe=ke.ownerDocument.createRange(),Tx(g.nextSibling)?(Fe.setStart(g,0),Fe.setEnd(g,0)):(Fe.setStart(g,1),Fe.setEnd(g,1)),Fe;return Fe},j=()=>{YO(t),g&&(Yh(g),g=null),l.on(de=>{A.remove(de.caret),l.clear()}),f&&(clearInterval(f),f=void 0)},G=()=>{f=setInterval(()=>{l.on(de=>{s()?A.toggleClass(de.caret,"mce-visual-caret-hidden"):A.addClass(de.caret,"mce-visual-caret-hidden")})},500)};return{show:z,hide:j,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{l.on(de=>{const ke=GO(t,de.element,de.before);A.setStyles(de.caret,{...ke})})},destroy:()=>clearInterval(f)}},Qk=()=>_o.browser.isFirefox(),Tx=e=>qO(e)||bC(e),Ox=e=>(Tx(e)||Gc(e)&&Qk())&&Yd(Be.fromDom(e)).exists(ls),vC=pc,yC=to,JO=xt,eE=gc("display","block table table-cell table-caption list-item"),tE=Dl,QO=Uh,mP=yn,xC=Mt,e5=eu,e0=e=>e>0,t0=e=>e<0,wC=(e,t)=>{let n;for(;n=e(t);)if(!QO(n))return n;return null},Dx=(e,t,n,s,l)=>{const f=new Ka(e,s),g=yC(e)||QO(e);let C;if(t0(t)){if(g&&(C=wC(f.prev.bind(f),!0),n(C)))return C;for(;C=wC(f.prev.bind(f),l);)if(n(C))return C}if(e0(t)){if(g&&(C=wC(f.next.bind(f),!0),n(C)))return C;for(;C=wC(f.next.bind(f),l);)if(n(C))return C}return null},gP=(e,t)=>{const n=l=>vC(l.dom),s=l=>l.dom===t;return zi(Be.fromDom(e),n,s).map(l=>l.dom).getOr(t)},Xh=(e,t)=>{for(;e&&e!==t;){if(eE(e))return e;e=e.parentNode}return null},Nm=(e,t,n)=>Xh(e.container(),n)===Xh(t.container(),n),CC=(e,t)=>{if(!t)return J.none();const n=t.container(),s=t.offset();return mP(n)?J.from(n.childNodes[s+e]):J.none()},t5=(e,t)=>{var n;const l=((n=t.ownerDocument)!==null&&n!==void 0?n:document).createRange();return e?(l.setStartBefore(t),l.setEndBefore(t)):(l.setStartAfter(t),l.setEndAfter(t)),l},n5=(e,t,n)=>Xh(t,e)===Xh(n,e),nE=(e,t,n)=>{const s=e?"previousSibling":"nextSibling";let l=n;for(;l&&l!==t;){let f=l[s];if(f&&tE(f)&&(f=f[s]),yC(f)||JO(f)){if(n5(t,f,l))return f;break}if(e5(f))break;l=l.parentNode}return null},Rx=pt(t5,!0),Nx=pt(t5,!1),oE=(e,t,n)=>{let s;const l=pt(nE,!0,t),f=pt(nE,!1,t),g=n.startContainer,C=n.startOffset;if(Uh(g)){const A=xC(g)?g.parentNode:g,z=A.getAttribute("data-mce-caret");if(z==="before"&&(s=A.nextSibling,Ox(s)))return Rx(s);if(z==="after"&&(s=A.previousSibling,Ox(s)))return Nx(s)}if(!n.collapsed)return n;if(Mt(g)){if(tE(g)){if(e===1){if(s=f(g),s)return Rx(s);if(s=l(g),s)return Nx(s)}if(e===-1){if(s=l(g),s)return Nx(s);if(s=f(g),s)return Rx(s)}return n}if(xd(g)&&C>=g.data.length-1)return e===1&&(s=f(g),s)?Rx(s):n;if(zb(g)&&C<=1)return e===-1&&(s=l(g),s)?Nx(s):n;if(C===g.data.length)return s=f(g),s?Rx(s):n;if(C===0)return s=l(g),s?Nx(s):n}return n},o5=(e,t)=>CC(e?0:-1,t).filter(yC),Ix=(e,t,n)=>{const s=oE(e,t,n);return e===-1?mt.fromRangeStart(s):mt.fromRangeEnd(s)},_C=e=>J.from(e.getNode()).map(Be.fromDom),hP=e=>J.from(e.getNode(!0)).map(Be.fromDom),rE=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},SC=(e,t)=>{const n=Nm(e,t);return!n&&os(e.getNode())?!0:n};var Ti;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Ti||(Ti={}));const pP=to,Im=Mt,r5=yn,An=os,n0=eu,sE=jh,kC=Wb,aE=(e,t)=>{const n=[];let s=e;for(;s&&s!==t;)n.push(s),s=s.parentNode;return n},s5=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,Bx=(e,t)=>{if(e0(e)){if(n0(t.previousSibling)&&!Im(t.previousSibling))return mt.before(t);if(Im(t))return mt(t,0)}if(t0(e)){if(n0(t.nextSibling)&&!Im(t.nextSibling))return mt.after(t);if(Im(t))return mt(t,t.data.length)}return t0(e)?An(t)?mt.before(t):mt.after(t):mt.before(t)},a5=(e,t)=>{const n=t.nextSibling;return n&&n0(n)?Im(n)?mt(n,0):mt.before(n):iE(Ti.Forwards,mt.after(t),e)},iE=(e,t,n)=>{let s,l,f,g;if(!r5(n)||!t)return null;if(t.isEqual(mt.after(n))&&n.lastChild){if(g=mt.after(n.lastChild),t0(e)&&n0(n.lastChild)&&r5(n.lastChild))return An(n.lastChild)?mt.before(n.lastChild):g}else g=t;const C=g.container();let A=g.offset();if(Im(C)){if(t0(e)&&A>0)return mt(C,--A);if(e0(e)&&A<C.length)return mt(C,++A);s=C}else{if(t0(e)&&A>0&&(l=s5(C,A-1),n0(l)))return!sE(l)&&(f=Dx(l,e,kC,l),f)?Im(f)?mt(f,f.data.length):mt.after(f):Im(l)?mt(l,l.data.length):mt.before(l);if(e0(e)&&A<C.childNodes.length&&(l=s5(C,A),n0(l)))return An(l)?a5(n,l):!sE(l)&&(f=Dx(l,e,kC,l),f)?Im(f)?mt(f,0):mt.before(f):Im(l)?mt(l,0):mt.after(l);s=l||g.getNode()}if(s&&(e0(e)&&g.isAtEnd()||t0(e)&&g.isAtStart())&&(s=Dx(s,e,Rn,n,!0),kC(s,n)))return Bx(e,s);l=s&&Dx(s,e,kC,n);const z=ri(Ct(aE(C,n),pP));return z&&(!l||!z.contains(l))?(e0(e)?g=mt.after(z):g=mt.before(z),g):l?Bx(e,l):null},zn=e=>({next:t=>iE(Ti.Forwards,t,e),prev:t=>iE(Ti.Backwards,t,e)}),uo=(e,t,n)=>{const s=e?mt.before(n):mt.after(n);return su(e,t,s)},i5=e=>os(e)?mt.before(e):mt.after(e),l5=e=>mt.isTextPosition(e)?e.offset()===0:eu(e.getNode()),c5=e=>{if(mt.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return eu(e.getNode(!0))},u5=(e,t)=>!mt.isTextPosition(e)&&!mt.isTextPosition(t)&&e.getNode()===t.getNode(!0),Zn=e=>!mt.isTextPosition(e)&&os(e.getNode()),Mx=(e,t,n)=>e?!u5(t,n)&&!Zn(t)&&c5(t)&&l5(n):!u5(n,t)&&l5(t)&&c5(n),su=(e,t,n)=>{const s=zn(t);return J.from(e?s.next(n):s.prev(n))},o0=(e,t,n)=>su(e,t,n).bind(s=>Nm(n,s,t)&&Mx(e,n,s)?su(e,t,s):J.some(s)),d5=(e,t,n,s)=>o0(e,t,n).bind(l=>s(l)?d5(e,t,l,s):J.some(l)),rv=(e,t)=>{const n=e?t.firstChild:t.lastChild;return Mt(n)?J.some(mt(n,e?0:n.data.length)):n?eu(n)?J.some(e?mt.before(n):i5(n)):uo(e,t,n):J.none()},Rl=pt(su,!0),Ec=pt(su,!1),Un=pt(rv,!0),Pu=pt(rv,!1),sv="_mce_caret",au=e=>yn(e)&&e.id===sv,Jh=(e,t)=>{let n=t;for(;n&&n!==e;){if(au(n))return n;n=n.parentNode}return null},f5=e=>Te(e.start),m5=e=>Yn(e,"rng"),g5=e=>Yn(e,"id"),lE=e=>Yn(e,"name"),h5=e=>Kt.isArray(e.start),EC=e=>!lE(e)&&$e(e.forward)?e.forward:!0,p5=(e,t)=>(yn(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),bP=(e,t)=>{const n=J.from(re(e.getRoot(),t.start)),s=J.from(re(e.getRoot(),t.end));return $a(n,s,(l,f)=>{const g=e.createRng();return g.setStart(l.container(),l.offset()),g.setEnd(f.container(),f.offset()),{range:g,forward:EC(t)}})},vP=(e,t)=>{var n;const l=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(ia);e.appendChild(l),t.setStart(l,0),t.setEnd(l,0)},cE=e=>!e.hasChildNodes(),uE=(e,t)=>Pu(e).fold(xn,n=>(t.setStart(n.container(),n.offset()),t.setEnd(n.container(),n.offset()),!0)),b5=(e,t,n)=>cE(t)&&Jh(e,t)?(vP(t,n),!0):!1,v5=(e,t,n,s)=>{const l=n[t?"start":"end"],f=e.getRoot();if(l){let g=f,C=l[0];for(let A=l.length-1;g&&A>=1;A--){const z=g.childNodes;if(b5(f,g,s))return!0;if(l[A]>z.length-1)return b5(f,g,s)?!0:uE(g,s);g=z[l[A]]}Mt(g)&&(C=Math.min(l[0],g.data.length)),yn(g)&&(C=Math.min(l[0],g.childNodes.length)),t?s.setStart(g,C):s.setEnd(g,C)}return!0},dE=e=>Mt(e)&&e.data.length>0,y5=(e,t,n)=>{const s=e.get(n.id+"_"+t),l=s==null?void 0:s.parentNode,f=n.keep;if(s&&l){let g,C;if(t==="start"?f?s.hasChildNodes()?(g=s.firstChild,C=1):dE(s.nextSibling)?(g=s.nextSibling,C=0):dE(s.previousSibling)?(g=s.previousSibling,C=s.previousSibling.data.length):(g=l,C=e.nodeIndex(s)+1):(g=l,C=e.nodeIndex(s)):f?s.hasChildNodes()?(g=s.firstChild,C=1):dE(s.previousSibling)?(g=s.previousSibling,C=s.previousSibling.data.length):(g=l,C=e.nodeIndex(s)):(g=l,C=e.nodeIndex(s)),!f){const A=s.previousSibling,z=s.nextSibling;Kt.each(Kt.grep(s.childNodes),G=>{Mt(G)&&(G.data=G.data.replace(/\uFEFF/g,""))});let j;for(;j=e.get(n.id+"_"+t);)e.remove(j,!0);if(Mt(z)&&Mt(A)&&!_o.browser.isOpera()){const G=A.data.length;A.appendData(z.data),e.remove(z),g=A,C=G}}return J.some(mt(g,C))}else return J.none()},x5=(e,t)=>{const n=e.createRng();return v5(e,!0,t,n)&&v5(e,!1,t,n)?J.some({range:n,forward:EC(t)}):J.none()},r0=(e,t)=>{const n=y5(e,"start",t),s=y5(e,"end",t);return $a(n,s.or(n),(l,f)=>{const g=e.createRng();return g.setStart(p5(e,l.container()),l.offset()),g.setEnd(p5(e,f.container()),f.offset()),{range:g,forward:EC(t)}})},w5=(e,t)=>J.from(e.select(t.name)[t.index]).map(n=>{const s=e.createRng();return s.selectNode(n),{range:s,forward:!0}}),C5=(e,t)=>{const n=e.dom;if(t){if(h5(t))return x5(n,t);if(f5(t))return bP(n,t);if(g5(t))return r0(n,t);if(lE(t))return w5(n,t);if(m5(t))return J.some({range:t.rng,forward:EC(t)})}return J.none()},yP=(e,t,n)=>rt(e,t,n),xP=(e,t)=>{C5(e,t).each(({range:n,forward:s})=>{e.setRng(n,s)})},iu=e=>yn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",ji=(e=>t=>e===t)(ma),s0=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Gg=e=>!s0(e)&&!ji(e)&&!Du(e),rs=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},Lu=e=>ao(e,t=>{const n=Zh(t);return n?[Be.fromDom(n)]:[]}),Px=e=>rs(e).length>1,AC=e=>Ct(Lu(e),Cc),av=e=>ea(e,"td[data-mce-selected],th[data-mce-selected]"),_5=(e,t)=>{const n=av(t);return n.length>0?n:AC(e)},kf=e=>_5(rs(e.selection.getSel()),Be.fromDom(e.getBody())),Cr=(e,t)=>Zc(e,"table",t),Lx=e=>{const t=e.startContainer,n=e.startOffset;return Mt(t)?n===0?J.some(Be.fromDom(t)):J.none():J.from(t.childNodes[n]).map(Be.fromDom)},S5=e=>{const t=e.endContainer,n=e.endOffset;return Mt(t)?n===t.data.length?J.some(Be.fromDom(t)):J.none():J.from(t.childNodes[n-1]).map(Be.fromDom)},fE=e=>wl(e).fold(Qe([e]),t=>[e].concat(fE(t))),Fx=e=>Eu(e).fold(Qe([e]),t=>Po(t)==="br"?sa(t).map(n=>[e].concat(Fx(n))).getOr([]):[e].concat(Fx(t))),zx=(e,t)=>$a(Lx(t),S5(t),(n,s)=>{const l=wn(fE(e),pt(Lo,n)),f=wn(Fx(e),pt(Lo,s));return l.isSome()&&f.isSome()}).getOr(!1),Hx=(e,t,n,s)=>{const l=n,f=new Ka(n,l),g=ic(e.schema.getMoveCaretBeforeOnEnterElements(),(A,z)=>!le(["td","th","table"],z.toLowerCase()));let C=n;do{if(Mt(C)&&Kt.trim(C.data).length!==0){s?t.setStart(C,0):t.setEnd(C,C.data.length);return}if(g[C.nodeName]){s?t.setStartBefore(C):C.nodeName==="BR"?t.setEndBefore(C):t.setEndAfter(C);return}}while(C=s?f.next():f.prev());l.nodeName==="BODY"&&(s?t.setStart(l,0):t.setEnd(l,l.childNodes.length))},iv=e=>{const t=e.selection.getSel();return Ce(t)&&t.rangeCount>0},lv=(e,t)=>{const n=kf(e);n.length>0?pe(n,s=>{const l=s.dom,f=e.dom.createRng();f.setStartBefore(l),f.setEndAfter(l),t(f,!0)}):t(e.selection.getRng(),!1)},TC=(e,t,n)=>{const s=qt(e,t);n(s),e.moveToBookmark(s)},cv=e=>D(e==null?void 0:e.nodeType),OC=e=>yn(e)&&!iu(e)&&!au(e)&&!nf(e),k5=(e,t)=>{if(OC(t)&&!/^(TD|TH)$/.test(t.nodeName)){const n=e.getAttrib(t,"data-mce-selected"),s=parseInt(n,10);return!isNaN(s)&&s>0}else return!1},mE=(e,t,n)=>{const{selection:s,dom:l}=e,f=s.getNode(),g=to(f);TC(s,!0,()=>{t()}),g&&to(f)&&l.isChildOf(f,e.getBody())?e.selection.select(f):n(s.getStart())&&E5(l,s)},E5=(e,t)=>{var n,s;const l=t.getRng(),{startContainer:f,startOffset:g}=l,C=t.getNode();if(!k5(e,C)&&yn(f)){const A=f.childNodes,z=e.getRoot();let j;if(g<A.length){const G=A[g];j=new Ka(G,(n=e.getParent(G,e.isBlock))!==null&&n!==void 0?n:z)}else{const G=A[A.length-1];j=new Ka(G,(s=e.getParent(G,e.isBlock))!==null&&s!==void 0?s:z),j.next(!0)}for(let G=j.current();G;G=j.next()){if(e.getContentEditable(G)==="false")return;if(Mt(G)&&!gE(G)){l.setStart(G,0),t.setRng(l);return}}}},a0=(e,t,n)=>{if(e){const s=t?"nextSibling":"previousSibling";for(e=e[s];e;e=e[s])if(yn(e)||!gE(e))return e}},DC=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||af(e,t),Qh=(e,t,n)=>e.schema.isValidChild(t,n),gE=(e,t=!1)=>{if(Ce(e)&&Mt(e)){const n=t?e.data.replace(/ /g,""):e.data;return $l(n)}else return!1},CP=e=>Ce(e)&&Mt(e)&&e.length===0,A5=(e,t)=>{const n="[data-mce-cef-wrappable]",s=Kn(e),l=Lt(s)?n:`${n},${s}`;return xr(Be.fromDom(t),l)},hE=(e,t)=>{const n=e.dom;return OC(t)&&n.getContentEditable(t)==="false"&&A5(e,t)&&n.select('[contenteditable="true"]',t).length===0},Yg=(e,t)=>Ne(e)?e(t):(Ce(t)&&(e=e.replace(/%(\w+)/g,(n,s)=>t[s]||n)),e),uv=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),RC=(e,t)=>{if(ot(e))return null;{let n=String(e);return(t==="color"||t==="backgroundColor")&&(n=_b(n)),t==="fontWeight"&&e===700&&(n="bold"),t==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},Vx=(e,t,n)=>{const s=e.getStyle(t,n);return RC(s,n)},pE=(e,t)=>{let n;return e.getParent(t,s=>yn(s)?(n=e.getStyle(s,"text-decoration"),!!n&&n!=="none"):!1),n},$x=(e,t,n)=>e.getParents(t,n,e.getRoot()),NC=(e,t,n)=>{const s=e.formatter.get(t);return Ce(s)&&xe(s,n)},T5=(e,t)=>NC(e,t,s=>{const l=f=>Ne(f)||f.length>1&&f.charAt(0)==="%";return xe(["styles","attributes"],f=>mr(s,f).exists(g=>{const C=ne(g)?g:pu(g);return xe(C,l)}))}),O5=(e,t,n)=>{const s=["inline","block","selector","attributes","styles","classes"],l=f=>ic(f,(g,C)=>xe(s,A=>A===C));return NC(e,t,f=>{const g=l(f);return NC(e,n,C=>{const A=l(C);return da(g,A)})})},Ef=e=>Al(e,"block"),D5=e=>Ef(e)&&e.wrapper===!0,R5=e=>Ef(e)&&e.wrapper!==!0,Ac=e=>Al(e,"selector"),Qa=e=>Al(e,"inline"),N5=e=>Ac(e)&&Qa(e)&&Ud(mr(e,"mixed"),!0),IC=e=>Ac(e)&&e.expand!==!1&&!Qa(e),I5=e=>{const t=[];let n=e;for(;n;){if(Mt(n)&&n.data!==ia||n.childNodes.length>1)return[];yn(n)&&t.push(n),n=n.firstChild}return t},bE=e=>I5(e).length>0,BC=e=>au(e.dom)&&bE(e.dom),ep=iu,Ux=$x,MC=gE,PC=DC,B5=e=>os(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,Wx=(e,t)=>{let n=t;for(;n;){if(yn(n)&&e.getContentEditable(n))return e.getContentEditable(n)==="false"?n:t;n=n.parentNode}return t},LC=(e,t,n,s)=>{const l=t.data;if(e){for(let f=n;f>0;f--)if(s(l.charAt(f-1)))return f}else for(let f=n;f<l.length;f++)if(s(l.charAt(f)))return f;return-1},Zx=(e,t,n)=>LC(e,t,n,s=>ji(s)||s0(s)),vE=(e,t,n)=>LC(e,t,n,Gg),yE=(e,t,n,s,l,f)=>{let g;const C=e.getParent(n,e.isBlock)||t,A=(j,G,X)=>{const ue=pd(e),we=l?ue.backwards:ue.forwards;return J.from(we(j,G,(de,ke)=>ep(de.parentNode)?-1:(g=de,X(l,de,ke)),C))};return A(n,s,Zx).bind(j=>f?A(j.container,j.offset+(l?-1:0),vE):J.some(j)).orThunk(()=>g?J.some({container:g,offset:l?0:g.length}):J.none())},i0=(e,t,n,s,l)=>{const f=s[l];Mt(s)&&Lt(s.data)&&f&&(s=f);const g=Ux(e,s);for(let C=0;C<g.length;C++)for(let A=0;A<t.length;A++){const z=t[A];if(!(Ce(z.collapsed)&&z.collapsed!==n.collapsed)&&Ac(z)&&e.is(g[C],z.selector))return g[C]}return s},FC=(e,t,n,s)=>{var l;let f=n;const g=e.getRoot(),C=t[0];if(Ef(C)&&(f=C.wrapper?null:e.getParent(n,C.block,g)),!f){const A=(l=e.getParent(n,"LI,TD,TH,SUMMARY"))!==null&&l!==void 0?l:g;f=e.getParent(Mt(n)?n.parentNode:n,z=>z!==g&&PC(e.schema,z),A)}if(f&&Ef(C)&&C.wrapper&&(f=Ux(e,f,"ul,ol").reverse()[0]||f),!f)for(f=n;f&&f[s]&&!e.isBlock(f[s])&&(f=f[s],!uv(f,"br")););return f||n},zC=(e,t,n,s)=>{const l=n.parentNode;return Ce(n[s])?!1:l===t||ot(l)||e.isBlock(l)?!0:zC(e,t,l,s)},Xg=(e,t,n,s,l)=>{let f=n;const g=l?"previousSibling":"nextSibling",C=e.getRoot();if(Mt(n)&&!MC(n)&&(l?s>0:s<n.data.length))return n;for(;f;){if(!t[0].block_expand&&e.isBlock(f))return f;for(let A=f[g];A;A=A[g]){const z=Mt(A)&&!zC(e,C,A,g);if(!ep(A)&&!B5(A)&&!MC(A,z))return f}if(f===C||f.parentNode===C){n=f;break}f=f.parentNode}return n},Jg=e=>ep(e.parentNode)||ep(e),tp=(e,t,n,s=!1)=>{let{startContainer:l,startOffset:f,endContainer:g,endOffset:C}=t;const A=n[0];return yn(l)&&l.hasChildNodes()&&(l=la(l,f),Mt(l)&&(f=0)),yn(g)&&g.hasChildNodes()&&(g=la(g,t.collapsed?C:C-1),Mt(g)&&(C=g.data.length)),l=Wx(e,l),g=Wx(e,g),Jg(l)&&(l=ep(l)?l:l.parentNode,t.collapsed?l=l.previousSibling||l:l=l.nextSibling||l,Mt(l)&&(f=t.collapsed?l.length:0)),Jg(g)&&(g=ep(g)?g:g.parentNode,t.collapsed?g=g.nextSibling||g:g=g.previousSibling||g,Mt(g)&&(C=t.collapsed?0:g.length)),t.collapsed&&(yE(e,e.getRoot(),l,f,!0,s).each(({container:G,offset:X})=>{l=G,f=X}),yE(e,e.getRoot(),g,C,!1,s).each(({container:G,offset:X})=>{g=G,C=X})),(Qa(A)||A.block_expand)&&((!Qa(A)||!Mt(l)||f===0)&&(l=Xg(e,n,l,f,!0)),(!Qa(A)||!Mt(g)||C===g.data.length)&&(g=Xg(e,n,g,C,!1))),IC(A)&&(l=i0(e,n,t,l,"previousSibling"),g=i0(e,n,t,g,"nextSibling")),(Ef(A)||Ac(A))&&(l=FC(e,n,l,"previousSibling"),g=FC(e,n,g,"nextSibling"),Ef(A)&&(e.isBlock(l)||(l=Xg(e,n,l,f,!0),Mt(l)&&(f=0)),e.isBlock(g)||(g=Xg(e,n,g,C,!1),Mt(g)&&(C=g.data.length)))),yn(l)&&l.parentNode&&(f=e.nodeIndex(l),l=l.parentNode),yn(g)&&g.parentNode&&(C=e.nodeIndex(g)+1,g=g.parentNode),{startContainer:l,startOffset:f,endContainer:g,endOffset:C}},jx=(e,t,n)=>{var s;const l=t.startOffset,f=la(t.startContainer,l),g=t.endOffset,C=la(t.endContainer,g-1),A=ke=>{const Fe=ke[0];Mt(Fe)&&Fe===f&&l>=Fe.data.length&&ke.splice(0,1);const qe=ke[ke.length-1];return g===0&&ke.length>0&&qe===C&&Mt(qe)&&ke.splice(ke.length-1,1),ke},z=(ke,Fe,qe)=>{const We=[];for(;ke&&ke!==qe;ke=ke[Fe])We.push(ke);return We},j=(ke,Fe)=>e.getParent(ke,qe=>qe.parentNode===Fe,Fe),G=(ke,Fe,qe)=>{const We=qe?"nextSibling":"previousSibling";for(let at=ke,Nt=at.parentNode;at&&at!==Fe;at=Nt){Nt=at.parentNode;const jt=z(at===ke?at:at[We],We);jt.length&&(qe||jt.reverse(),n(A(jt)))}};if(f===C)return n(A([f]));const X=(s=e.findCommonAncestor(f,C))!==null&&s!==void 0?s:e.getRoot();if(e.isChildOf(f,C))return G(f,X,!0);if(e.isChildOf(C,f))return G(C,X);const ue=j(f,X)||f,we=j(C,X)||C;G(f,ue,!0);const de=z(ue===f?ue:ue.nextSibling,"nextSibling",we===C?we.nextSibling:we);de.length&&n(A(de)),G(C,we)},_P=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],M5=e=>Yr(e)&&_m(e)===ia,P5=(e,t,n,s)=>Za(t).fold(()=>"skipping",l=>s==="br"||M5(t)?"valid":nx(t)?"existing":au(t.dom)?"caret":xe(_P,f=>xr(t,f))?"valid-block":!Qh(e,n,s)||!Qh(e,Po(l),n)?"invalid-child":"valid"),np=(e,t)=>{const n=tp(e.dom,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},op=(e,t,n,s,l,f)=>{const{uid:g=t,...C}=n;ad(e,bs()),ra(e,`${$s()}`,g),ra(e,`${vs()}`,s);const{attributes:A={},classes:z=[]}=l(g,C);if(xi(e,A),Ob(e,z),f){z.length>0&&ra(e,`${ds()}`,z.join(","));const j=Vt(A);j.length>0&&ra(e,`${Ms()}`,j.join(","))}},Oi=e=>{wi(e,bs()),bo(e,`${$s()}`),bo(e,`${vs()}`),bo(e,`${wr()}`);const t=Hc(e,`${Ms()}`).map(s=>s.split(",")).getOr([]),n=Hc(e,`${ds()}`).map(s=>s.split(",")).getOr([]);pe(t,s=>bo(e,s)),Vg(e,n),bo(e,`${ds()}`),bo(e,`${Ms()}`)},Bm=(e,t,n,s,l)=>{const f=Be.fromTag("span",e);return op(f,t,n,s,l,!1),f},or=(e,t,n,s,l,f)=>{const g=[],C=Bm(e.getDoc(),n,f,s,l),A=ha(),z=()=>{A.clear()},j=()=>A.get().getOrThunk(()=>{const we=Ps(C);return g.push(we),A.set(we),we}),G=we=>{pe(we,X)},X=we=>{switch(P5(e,we,"span",Po(we))){case"invalid-child":{z();const ke=ja(we);G(ke),z();break}case"valid-block":{z(),op(we,n,f,s,l,!0);break}case"valid":{const ke=j();Tl(we,ke);break}}},ue=we=>{const de=Me(we,Be.fromDom);G(de)};return jx(e.dom,t,we=>{z(),ue(we)}),g},SP=(e,t,n,s)=>{e.undoManager.transact(()=>{const l=e.selection,f=l.getRng(),g=kf(e).length>0,C=Ei("mce-annotation");if(f.collapsed&&!g&&np(e,f),l.getRng().collapsed&&!g){const A=Bm(e.getDoc(),C,s,t,n.decorate);lm(A,ma),l.getRng().insertNode(A.dom),l.select(A.dom)}else TC(l,!1,()=>{lv(e,A=>{or(e,A,C,t,n.decorate,s)})})})},L5=e=>{const t=rx();P1(e,t);const n=M1(e,t),s=qd("span"),l=f=>{pe(f,g=>{s(g)?ki(g):Oi(g)})};return{register:(f,g)=>{t.register(f,g)},annotate:(f,g)=>{t.lookup(f).each(C=>{SP(e,f,C,g)})},annotationChanged:(f,g)=>{n.addListener(f,g)},remove:f=>{B1(e,J.some(f)).each(({elements:g})=>{const C=e.selection.getBookmark();l(g),e.selection.moveToBookmark(C)})},removeAll:f=>{const g=e.selection.getBookmark();Uo(Hg(e,f),(C,A)=>{l(C)}),e.selection.moveToBookmark(g)},getAll:f=>{const g=Hg(e,f);return El(g,C=>Me(C,A=>A.dom))}}},Nr=e=>({getBookmark:pt(yP,e),moveToBookmark:pt(xP,e)});Nr.isBookmarkNode=iu;const xE=(e,t,n)=>n.collapsed?!1:xe(n.getClientRects(),s=>$1(s,e,t)),Kx=(e,t)=>e.dispatch("PreProcess",t),qx=(e,t)=>e.dispatch("PostProcess",t),Gx=e=>{e.dispatch("remove")},Yx=e=>{e.dispatch("detach")},F5=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},kP=(e,t,n,s,l)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:s,origin:l})},EP=(e,t,n,s,l)=>{e.dispatch("ObjectResized",{target:t,width:n,height:s,origin:l})},AP=e=>{e.dispatch("PreInit")},TP=e=>{e.dispatch("PostRender")},Ws=e=>{e.dispatch("Init")},z5=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},wE=(e,t,n)=>{e.dispatch(t,n)},H5=(e,t,n,s)=>{e.dispatch("FormatApply",{format:t,node:n,vars:s})},V5=(e,t,n,s)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:s})},OP=(e,t)=>e.dispatch("BeforeSetContent",t),Kl=(e,t)=>e.dispatch("SetContent",t),Af=(e,t)=>e.dispatch("BeforeGetContent",t),$5=(e,t)=>e.dispatch("GetContent",t),CE=(e,t)=>{e.dispatch("AutocompleterStart",t)},_E=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},SE=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},DP=e=>{e.dispatch("AutocompleterEnd")},Xx=(e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}),HC=(e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}),VC=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),RP=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),rn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||rn.metaKeyPressed(e),metaKeyPressed:e=>_o.os.isMacOS()||_o.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},l0="data-mce-selected",NP="table,img,figure.image,hr,video,span.mce-preview-object,details",lu=Math.abs,rp=Math.round,$C={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},_d=e=>e.type==="longpress"||e.type.indexOf("touch")===0,kr=(e,t)=>{const n=t.dom,s=t.getDoc(),l=document,f=t.getBody();let g,C,A,z,j,G,X,ue,we,de,ke,Fe,qe,We,at,Nt,jt;const dn=an=>Ce(an)&&(hc(an)||n.is(an,"figure.image")),wt=an=>xt(an)||n.hasClass(an,"mce-preview-object"),dt=(an,xo)=>{if(_d(an)){const Ro=an.touches[0];return dn(an.target)&&!xE(Ro.clientX,Ro.clientY,xo)}else return dn(an.target)&&!xE(an.clientX,an.clientY,xo)},Dt=an=>{const xo=an.target;dt(an,t.selection.getRng())&&!an.isDefaultPrevented()&&t.selection.select(xo)},bn=an=>n.hasClass(an,"mce-preview-object")&&Ce(an.firstElementChild)?[an,an.firstElementChild]:n.is(an,"figure.image")?[an.querySelector("img")]:[an],Nn=an=>{const xo=kO(t);return!xo||an.getAttribute("data-mce-resize")==="false"||an===t.getBody()?!1:n.hasClass(an,"mce-preview-object")&&Ce(an.firstElementChild)?xr(Be.fromDom(an.firstElementChild),xo):xr(Be.fromDom(an),xo)},yo=(an,xo)=>{if(wt(xo))return an.create("img",{src:_o.transparentSrc});if(Gc(xo)){const mi=Gr(z.name,"n")?un:po,Er=xo.cloneNode(!0);return mi(an.select("tr",Er)).each(ni=>{const Bf=an.select("td,th",ni);an.setStyle(ni,"height",null),pe(Bf,bh=>an.setStyle(bh,"height",null))}),Er}else return xo.cloneNode(!0)},Oo=(an,xo,Ro)=>{if(Ce(Ro)){const mi=bn(an);pe(mi,Er=>{Er.style[xo]||!t.schema.isValid(Er.nodeName.toLowerCase(),xo)?n.setStyle(Er,xo,Ro):n.setAttrib(Er,xo,""+Ro)})}},hr=(an,xo,Ro)=>{Oo(an,"width",xo),Oo(an,"height",Ro)},Dr=an=>{let xo,Ro,mi,Er,ni;xo=an.screenX-G,Ro=an.screenY-X,We=xo*z[2]+de,at=Ro*z[3]+ke,We=We<5?5:We,at=at<5?5:at,(dn(g)||wt(g))&&EO(t)!==!1?mi=!rn.modifierPressed(an):mi=rn.modifierPressed(an),mi&&(lu(xo)>lu(Ro)?(at=rp(We*Fe),We=rp(at/Fe)):(We=rp(at/Fe),at=rp(We*Fe))),hr(C,We,at),Er=z.startPos.x+xo,ni=z.startPos.y+Ro,Er=Er>0?Er:0,ni=ni>0?ni:0,n.setStyles(A,{left:Er,top:ni,display:"block"}),A.innerHTML=We+" &times; "+at,z[2]<0&&C.clientWidth<=We&&n.setStyle(C,"left",ue+(de-We)),z[3]<0&&C.clientHeight<=at&&n.setStyle(C,"top",we+(ke-at)),xo=f.scrollWidth-Nt,Ro=f.scrollHeight-jt,xo+Ro!==0&&n.setStyles(A,{left:Er-xo,top:ni-Ro}),qe||(kP(t,g,de,ke,"corner-"+z.name),qe=!0)},Ys=()=>{const an=qe;qe=!1,an&&(Oo(g,"width",We),Oo(g,"height",at)),n.unbind(s,"mousemove",Dr),n.unbind(s,"mouseup",Ys),l!==s&&(n.unbind(l,"mousemove",Dr),n.unbind(l,"mouseup",Ys)),n.remove(C),n.remove(A),n.remove(j),ml(g),an&&(EP(t,g,We,at,"corner-"+z.name),n.setAttrib(g,"style",n.getAttrib(g,"style"))),t.nodeChanged()},ml=an=>{tn();const xo=n.getPos(an,f),Ro=xo.x,mi=xo.y,Er=an.getBoundingClientRect(),ni=Er.width||Er.right-Er.left,Bf=Er.height||Er.bottom-Er.top;g!==an&&(Xt(),g=an,We=at=0);const bh=t.dispatch("ObjectSelected",{target:an});Nn(an)&&!bh.isDefaultPrevented()?Uo($C,(Ql,Yu)=>{const Mf=Pf=>{const Mn=bn(g)[0];G=Pf.screenX,X=Pf.screenY,de=Mn.clientWidth,ke=Mn.clientHeight,Fe=ke/de,z=Ql,z.name=Yu,z.startPos={x:ni*Ql[0]+Ro,y:Bf*Ql[1]+mi},Nt=f.scrollWidth,jt=f.scrollHeight,j=n.add(f,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(j,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),C=yo(n,g),n.addClass(C,"mce-clonedresizable"),n.setAttrib(C,"data-mce-bogus","all"),C.contentEditable="false",n.setStyles(C,{left:Ro,top:mi,margin:0}),hr(C,ni,Bf),C.removeAttribute(l0),f.appendChild(C),n.bind(s,"mousemove",Dr),n.bind(s,"mouseup",Ys),l!==s&&(n.bind(l,"mousemove",Dr),n.bind(l,"mouseup",Ys)),A=n.add(f,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},de+" &times; "+ke)};let Xu=n.get("mceResizeHandle"+Yu);Xu&&n.remove(Xu),Xu=n.add(f,"div",{id:"mceResizeHandle"+Yu,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Yu+"-resize; margin:0; padding:0"}),n.bind(Xu,"mousedown",Pf=>{Pf.stopImmediatePropagation(),Pf.preventDefault(),Mf(Pf)}),Ql.elm=Xu,n.setStyles(Xu,{left:ni*Ql[0]+Ro-Xu.offsetWidth/2,top:Bf*Ql[1]+mi-Xu.offsetHeight/2})}):Xt(!1)},Pr=zg(ml,0),Xt=(an=!0)=>{Pr.cancel(),tn(),g&&an&&g.removeAttribute(l0),Uo($C,(xo,Ro)=>{const mi=n.get("mceResizeHandle"+Ro);mi&&(n.unbind(mi),n.remove(mi))})},Tn=(an,xo)=>n.isChildOf(an,xo),er=an=>{if(qe||t.removed||t.composing)return;const xo=an.type==="mousedown"?an.target:e.getNode(),Ro=Aa(Be.fromDom(xo),NP).map(Er=>Er.dom).filter(Er=>n.isEditable(Er.parentElement)||Er.nodeName==="IMG"&&n.isEditable(Er)).getOrUndefined(),mi=Ce(Ro)?n.getAttrib(Ro,l0,"1"):"1";if(pe(n.select(`img[${l0}],hr[${l0}]`),Er=>{Er.removeAttribute(l0)}),Ce(Ro)&&Tn(Ro,f)&&t.hasFocus()){Hn();const Er=e.getStart(!0);if(Tn(Er,Ro)&&Tn(e.getEnd(!0),Ro)){n.setAttrib(Ro,l0,mi),Pr.throttle(Ro);return}}Xt()},tn=()=>{Uo($C,an=>{an.elm&&(n.unbind(an.elm),delete an.elm)})},Hn=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{Hn(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",er),t.on("keyup compositionend",an=>{g&&g.nodeName==="TABLE"&&er(an)}),t.on("hide blur",Xt),t.on("contextmenu longpress",Dt,!0)}),t.on("remove",tn),{isResizable:Nn,showResizeRect:ml,hideResizeRect:Xt,updateResizeRect:er,destroy:()=>{Pr.cancel(),g=C=j=null}}},dv=(e,t)=>{t.fold(n=>{e.setStartBefore(n.dom)},(n,s)=>{e.setStart(n.dom,s)},n=>{e.setStartAfter(n.dom)})},UC=(e,t)=>{t.fold(n=>{e.setEndBefore(n.dom)},(n,s)=>{e.setEnd(n.dom,s)},n=>{e.setEndAfter(n.dom)})},kE=(e,t,n)=>{const s=e.document.createRange();return dv(s,t),UC(s,n),s},Jx=(e,t,n,s,l)=>{const f=e.document.createRange();return f.setStart(t.dom,n),f.setEnd(s.dom,l),f},c0=Mo.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),U5=(e,t,n)=>t(Be.fromDom(n.startContainer),n.startOffset,Be.fromDom(n.endContainer),n.endOffset),EE=(e,t)=>t.match({domRange:n=>({ltr:Qe(n),rtl:J.none}),relative:(n,s)=>({ltr:pl(()=>kE(e,n,s)),rtl:pl(()=>J.some(kE(e,s,n)))}),exact:(n,s,l,f)=>({ltr:pl(()=>Jx(e,n,s,l,f)),rtl:pl(()=>J.some(Jx(e,l,f,n,s)))})}),IP=(e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter(l=>l.collapsed===!1).map(l=>c0.rtl(Be.fromDom(l.endContainer),l.endOffset,Be.fromDom(l.startContainer),l.startOffset)).getOrThunk(()=>U5(e,c0.ltr,n)):U5(e,c0.ltr,n)},W5=(e,t)=>{const n=EE(e,t);return IP(e,n)};c0.ltr,c0.rtl;const WC={create:(e,t,n,s)=>({start:e,soffset:t,finish:n,foffset:s})},Z5=(e,t,n)=>{var s;return J.from((s=e.caretPositionFromPoint)===null||s===void 0?void 0:s.call(e,t,n)).bind(l=>{if(l.offsetNode===null)return J.none();const f=e.createRange();return f.setStart(l.offsetNode,l.offset),f.collapse(),J.some(f)})},ZC=(e,t,n)=>{var s;return J.from((s=e.caretRangeFromPoint)===null||s===void 0?void 0:s.call(e,t,n))},MP=(e,t,n)=>e.caretPositionFromPoint?Z5(e,t,n):e.caretRangeFromPoint?ZC(e,t,n):J.none(),PP=(e,t,n)=>{const s=e.document;return MP(s,t,n).map(l=>WC.create(Be.fromDom(l.startContainer),l.startOffset,Be.fromDom(l.endContainer),l.endOffset))},AE=Mo.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),LP=(e,t,n,s)=>e.fold(t,n,s),FP=e=>e.fold(On,On,On),j5=AE.before,zP=AE.on,HP=AE.after,Mm={before:j5,on:zP,after:HP,cata:LP,getStart:FP},Qx=Mo.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),VP=e=>Qx.exact(e.start,e.soffset,e.finish,e.foffset),$P=e=>e.match({domRange:t=>Be.fromDom(t.startContainer),relative:(t,n)=>Mm.getStart(t),exact:(t,n,s,l)=>t}),K5=Qx.domRange,Fu=Qx.relative,UP=Qx.exact,q5=e=>{const t=$P(e);return _u(t)},TE=WC.create,sp={domRange:K5,relative:Fu,exact:UP,exactFromRange:VP,getWin:q5,range:TE},e2=(e,t)=>{const n=Po(e);return n==="input"?Mm.after(e):le(["br","img"],n)?t===0?Mm.before(e):Mm.after(e):Mm.on(e,t)},G5=(e,t)=>{const n=e.fold(Mm.before,e2,Mm.after),s=t.fold(Mm.before,e2,Mm.after);return sp.relative(n,s)},jC=(e,t,n,s)=>{const l=e2(e,t),f=e2(n,s);return sp.relative(l,f)},Y5=e=>e.match({domRange:t=>{const n=Be.fromDom(t.startContainer),s=Be.fromDom(t.endContainer);return jC(n,t.startOffset,s,t.endOffset)},relative:G5,exact:jC}),Tc=(e,t)=>{const s=document.createDocumentFragment();return pe(e,l=>{s.appendChild(l.dom)}),Be.fromDom(s)},WP=e=>{const t=sp.getWin(e).dom,n=(l,f,g,C)=>Jx(t,l,f,g,C),s=Y5(e);return W5(t,s).match({ltr:n,rtl:n})},OE=(e,t,n)=>PP(e,t,n),X5=(e,t,n)=>{const s=_u(Be.fromDom(n));return OE(s.dom,e,t).map(l=>{const f=n.createRange();return f.setStart(l.start.dom,l.soffset),f.setEnd(l.finish.dom,l.foffset),f}).getOrUndefined()},t2=(e,t)=>Ce(e)&&Ce(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,Tf=(e,t,n)=>{let s=e;for(;s&&s!==t;){if(n(s))return s;s=s.parentNode}return null},KC=(e,t,n)=>Tf(e,t,n)!==null,qC=(e,t,n)=>KC(e,t,s=>s.nodeName===n),J5=(e,t)=>Dl(e)&&!KC(e,t,au),Q5=(e,t,n)=>{const s=t.parentNode;if(s){const l=new Ka(t,e.getParent(s,e.isBlock)||e.getRoot());let f;for(;f=l[n?"prev":"next"]();)if(os(f))return!0}return!1},eD=(e,t)=>{var n;return((n=e.previousSibling)===null||n===void 0?void 0:n.nodeName)===t},tD=(e,t)=>{let n=t;for(;n&&n!==e;){if(to(n))return!0;n=n.parentNode}return!1},n2=(e,t,n,s,l)=>{const f=e.getRoot(),g=e.schema.getNonEmptyElements(),C=l.parentNode;let A,z;if(!C)return J.none();const j=e.getParent(C,e.isBlock)||f;if(s&&os(l)&&t&&e.isEmpty(j))return J.some(mt(C,e.nodeIndex(l)));const G=new Ka(l,j);for(;z=G[s?"prev":"next"]();){if(e.getContentEditableParent(z)==="false"||J5(z,f))return J.none();if(Mt(z)&&z.data.length>0)return qC(z,f,"A")?J.none():J.some(mt(z,s?z.data.length:0));if(e.isBlock(z)||g[z.nodeName.toLowerCase()])return J.none();A=z}return go(A)?J.none():n&&A?J.some(mt(A,0)):J.none()},DE=(e,t,n,s)=>{const l=e.getRoot();let f,g=!1,C=n?s.startContainer:s.endContainer,A=n?s.startOffset:s.endOffset;const z=yn(C)&&A===C.childNodes.length,j=e.schema.getNonEmptyElements();let G=n;if(Dl(C))return J.none();if(yn(C)&&A>C.childNodes.length-1&&(G=!1),Sn(C)&&(C=l,A=0),C===l){if(G&&(f=C.childNodes[A>0?A-1:0],f&&(Dl(f)||j[f.nodeName]||Gc(f))))return J.none();if(C.hasChildNodes()){if(A=Math.min(!G&&A>0?A-1:A,C.childNodes.length-1),C=C.childNodes[A],A=Mt(C)&&z?C.data.length:0,!t&&C===l.lastChild&&Gc(C)||tD(l,C)||Dl(C)||Ih(C))return J.none();if(C.hasChildNodes()&&!Gc(C)){f=C;const X=new Ka(C,l);do{if(to(f)||Dl(f)){g=!1;break}if(Mt(f)&&f.data.length>0){A=G?0:f.data.length,C=f,g=!0;break}if(j[f.nodeName.toLowerCase()]&&!$w(f)){A=e.nodeIndex(f),C=f.parentNode,G||A++,g=!0;break}}while(f=G?X.next():X.prev())}}}return t&&(Mt(C)&&A===0&&n2(e,z,t,!0,C).each(X=>{C=X.container(),A=X.offset(),g=!0}),yn(C)&&(f=C.childNodes[A],f||(f=C.childNodes[A-1]),f&&os(f)&&!eD(f,"A")&&!Q5(e,f,!1)&&!Q5(e,f,!0)&&n2(e,z,t,!0,f).each(X=>{C=X.container(),A=X.offset(),g=!0}))),G&&!t&&Mt(C)&&A===C.data.length&&n2(e,z,t,!1,C).each(X=>{C=X.container(),A=X.offset(),g=!0}),g&&C?J.some(mt(C,A)):J.none()},Pm=(e,t)=>{const n=t.collapsed,s=t.cloneRange(),l=mt.fromRangeStart(t);return DE(e,n,!0,s).each(f=>{(!n||!mt.isAbove(l,f))&&s.setStart(f.container(),f.offset())}),n||DE(e,n,!1,s).each(f=>{s.setEnd(f.container(),f.offset())}),n&&s.collapse(!0),t2(t,s)?J.none():J.some(s)},o2=(e,t)=>e.splitText(t),r2=e=>{let t=e.startContainer,n=e.startOffset,s=e.endContainer,l=e.endOffset;if(t===s&&Mt(t)){if(n>0&&n<t.data.length)if(s=o2(t,n),t=s.previousSibling,l>n){l=l-n;const f=o2(s,l).previousSibling;t=s=f,l=f.data.length,n=0}else l=0}else if(Mt(t)&&n>0&&n<t.data.length&&(t=o2(t,n),n=0),Mt(s)&&l>0&&l<s.data.length){const f=o2(s,l).previousSibling;s=f,l=f.data.length}return{startContainer:t,startOffset:n,endContainer:s,endOffset:l}},ap=e=>({walk:(f,g)=>jx(e,f,g),split:r2,expand:(f,g={type:"word"})=>{if(g.type==="word"){const C=tp(e,f,[{inline:"span"}]),A=e.createRng();return A.setStart(C.startContainer,C.startOffset),A.setEnd(C.endContainer,C.endOffset),A}return f},normalize:f=>Pm(e,f).fold(xn,g=>(f.setStart(g.startContainer,g.startOffset),f.setEnd(g.endContainer,g.endOffset),!0))});ap.compareRanges=t2,ap.getCaretRangeFromPoint=X5,ap.getSelectedNode=Zh,ap.getNode=la;const RE=((e,t)=>{const n=(C,A)=>{if(!D(A)&&!A.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+A);const z=C.dom;_i(z)&&(z.style[e]=A+"px")},s=C=>{const A=t(C);if(A<=0||A===null){const z=Ds(C,e);return parseFloat(z)||0}return A},l=s,f=(C,A)=>It(A,(z,j)=>{const G=Ds(C,j),X=G===void 0?0:parseInt(G,10);return isNaN(X)?z:z+X},0);return{set:n,get:s,getOuter:l,aggregate:f,max:(C,A,z)=>{const j=f(C,z);return A>j?A-j:0}}})("height",e=>{const t=e.dom;return Ci(e)?t.getBoundingClientRect().height:t.offsetHeight}),u0=e=>RE.get(e),nD=()=>Be.fromDom(document),oD=(e,t)=>e.view(t).fold(Qe([]),s=>{const l=e.owner(s),f=oD(e,l);return[s].concat(f)}),GC=(e,t)=>{const n=t.owner(e);return oD(t,n)};var KP=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?J.none():J.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(Be.fromDom)},owner:e=>Hl(e)});const rD=e=>{const t=nD(),n=Xn(t),s=GC(e,KP),l=so(e),f=zt(s,(g,C)=>{const A=so(C);return{left:g.left+A.left,top:g.top+A.top}},{left:0,top:0});return Oe(f.left+l.left+n.left,f.top+l.top+n.top)},Qg=e=>Po(e)==="textarea",sD=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),aD=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},iD=(e,t)=>{const n=ja(e);if(n.length===0||Qg(e))return{element:e,offset:t};if(t<n.length&&!Qg(n[t]))return{element:n[t],offset:0};{const s=n[n.length-1];return Qg(s)?{element:e,offset:t}:Po(s)==="img"?{element:s,offset:1}:Yr(s)?{element:s,offset:_m(s).length}:{element:s,offset:ja(s).length}}},s2=(e,t)=>{const n=Ln(e),s=u0(e);return{element:e,bottom:n.top+s,height:s,pos:n,cleanup:t}},lD=(e,t)=>{const n=iD(e,t),s=Be.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+ia+"</span>");return gs(n.element,s),s2(s,()=>gr(s))},cD=e=>s2(Be.fromDom(e),Pt),uD=(e,t,n,s)=>{fD(e,(l,f)=>dD(e,t,n,s),n)},a2=(e,t,n,s,l)=>{const f={elm:s.element.dom,alignToTop:l};if(sD(e,f))return;const g=Xn(t).top;n(e,t,g,s,l),aD(e,f)},dD=(e,t,n,s)=>{const l=Be.fromDom(e.getBody()),f=Be.fromDom(e.getDoc());d1(l);const g=lD(Be.fromDom(n.startContainer),n.startOffset);a2(e,f,t,g,s),g.cleanup()},YC=(e,t,n,s)=>{const l=Be.fromDom(e.getDoc());a2(e,l,n,cD(t),s)},fD=(e,t,n)=>{const s=n.startContainer,l=n.startOffset,f=n.endContainer,g=n.endOffset;t(Be.fromDom(s),Be.fromDom(f));const C=e.dom.createRng();C.setStart(s,l),C.setEnd(f,g),e.selection.setRng(n)},i2=(e,t,n,s,l)=>{const f=t.pos;if(s)_n(f.left,f.top,l);else{const g=f.top-n+t.height;_n(-e.getBody().getBoundingClientRect().left,g,l)}},NE=(e,t,n,s,l,f)=>{const g=s+n,C=l.pos.top,A=l.bottom,z=A-C>=s;C<n?i2(e,l,s,f!==!1,t):C>g?i2(e,l,s,z?f!==!1:f===!0,t):A>g&&!z&&i2(e,l,s,f===!0,t)},l2=(e,t,n,s,l)=>{const f=_u(t).dom.innerHeight;NE(e,t,n,f,s,l)},Lm=(e,t,n,s,l)=>{const f=_u(t).dom.innerHeight;NE(e,t,n,f,s,l);const g=rD(s.element),C=mc(window);g.top<C.y?Qo(s.element,l!==!1):g.top>C.bottom&&Qo(s.element,l===!0)},qP=(e,t,n)=>uD(e,l2,t,n),IE=(e,t,n)=>YC(e,t,l2,n),na=(e,t,n)=>uD(e,Lm,t,n),BE=(e,t,n)=>YC(e,t,Lm,n),ME=(e,t,n)=>{(e.inline?IE:BE)(e,t,n)},zu=(e,t,n)=>{(e.inline?qP:na)(e,t,n)},PE=(e,t=!1)=>e.dom.focus({preventScroll:t}),LE=e=>{const t=Wc(e).dom;return e.dom===t.activeElement},d0=(e=nD())=>J.from(e.dom.activeElement).map(Be.fromDom),GP=e=>d0(Wc(e)).filter(t=>e.dom.contains(t.dom)),mD=(e,t)=>{const n=Yr(t)?_m(t).length:ja(t).length+1;return e>n?n:e<0?0:e},fv=e=>sp.range(e.start,mD(e.soffset,e.start),e.finish,mD(e.foffset,e.finish)),gD=(e,t)=>!ef(t.dom)&&(Wa(e,t)||Lo(e,t)),ip=e=>t=>gD(e,t.start)&&gD(e,t.finish),YP=e=>e.inline||_o.browser.isFirefox(),lp=e=>sp.range(Be.fromDom(e.startContainer),e.startOffset,Be.fromDom(e.endContainer),e.endOffset),XP=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?J.none():J.from(t.getRangeAt(0))).map(lp)},Hu=e=>{const t=_u(e);return XP(t.dom).filter(ip(e))},c2=(e,t)=>J.from(t).filter(ip(e)).map(fv),FE=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),J.some(t)}catch{return J.none()}},mv=e=>{const t=YP(e)?Hu(Be.fromDom(e.getBody())):J.none();e.bookmark=t.isSome()?t:e.bookmark},zE=e=>(e.bookmark?e.bookmark:J.none()).bind(n=>c2(Be.fromDom(e.getBody()),n)).bind(FE),XC=e=>{zE(e).each(t=>e.selection.setRng(t))},Vu={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},JC=(e,t)=>(D(t)||(t=0),setTimeout(e,t)),hD=(e,t)=>(D(t)||(t=0),setInterval(e,t)),Oc={setEditorTimeout:(e,t,n)=>JC(()=>{e.removed||t()},n),setEditorInterval:(e,t,n)=>{const s=hD(()=>{e.removed?clearInterval(s):t()},n);return s}},HE=e=>e.type==="nodechange"&&e.selectionChange,f0=(e,t)=>{const n=()=>{t.throttle()};Br.DOM.bind(document,"mouseup",n),e.on("remove",()=>{Br.DOM.unbind(document,"mouseup",n)})},VE=(e,t)=>{e.on("mouseup touchend",n=>{t.throttle()})},pD=(e,t)=>{VE(e,t),e.on("keyup NodeChange AfterSetSelectionRange",n=>{HE(n)||mv(e)})},JP=e=>{const t=zg(()=>{mv(e)},0);e.on("init",()=>{e.inline&&f0(e,t),pD(e,t)}),e.on("remove",()=>{t.cancel()})};let Fm;const $E=Br.DOM,bD=e=>yn(e)&&Vu.isEditorUIElement(e),u2=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},QC=(e,t)=>{const n=TO(e);return $E.getParent(t,l=>bD(l)||(n?e.dom.is(l,n):!1))!==null},e_=e=>{try{const t=Wc(Be.fromDom(e.getElement()));return d0(t).fold(()=>document.body,n=>n.dom)}catch{return document.body}},vD=(e,t)=>{const n=t.editor;JP(n);const s=(l,f)=>{if(FO(l)&&l.inline!==!0){const g=Be.fromDom(l.getContainer());f(g,"tox-edit-focus")}};n.on("focusin",()=>{const l=e.focusedEditor;u2(e_(n))&&s(n,ad),l!==n&&(l&&l.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:l}),n.focus(!0))}),n.on("focusout",()=>{Oc.setEditorTimeout(n,()=>{const l=e.focusedEditor;(!u2(e_(n))||l!==n)&&s(n,wi),!QC(n,e_(n))&&l===n&&(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Fm||(Fm=l=>{const f=e.activeEditor;f&&rb(l).each(g=>{const C=g;C.ownerDocument===document&&C!==document.body&&!QC(f,C)&&e.focusedEditor===f&&(f.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},$E.bind(document,"focusin",Fm))},QP=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Fm&&($E.unbind(document,"focusin",Fm),Fm=null)},e7=e=>{e.on("AddEditor",pt(vD,e)),e.on("RemoveEditor",pt(QP,e))},t7=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="true"),n7=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="false")!==null,o7=e=>e.collapsed?J.from(la(e.startContainer,e.startOffset)).map(Be.fromDom):J.none(),r7=(e,t)=>o7(t).bind(n=>$g(n)?J.some(n):Wa(e,n)?J.none():J.some(e)),yD=(e,t)=>{r7(Be.fromDom(e.getBody()),t).bind(n=>Un(n.dom)).fold(()=>{e.selection.normalize()},n=>e.selection.setRng(n.toRange()))},t_=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},s7=e=>LE(e)||GP(e).isSome(),a7=e=>Ce(e.iframeElement)&&LE(Be.fromDom(e.iframeElement)),i7=e=>{const t=e.getBody();return t&&s7(Be.fromDom(t))},xD=e=>{const t=Wc(Be.fromDom(e.getElement()));return d0(t).filter(n=>!u2(n.dom)&&QC(e,n.dom)).isSome()},gv=e=>e.inline?i7(e):a7(e),m0=e=>gv(e)||xD(e),l7=e=>{const t=e.selection,n=e.getBody();let s=t.getRng();e.quirks.refreshContentEditable();const l=g=>{zE(g).each(C=>{g.selection.setRng(C),s=C})};!gv(e)&&e.hasEditableRoot()&&l(e);const f=t7(e,t.getNode());if(f&&e.dom.isChildOf(f,n)){n7(e,f)||t_(n),t_(f),e.hasEditableRoot()||l(e),yD(e,s),UE(e);return}e.inline||(_o.browser.isOpera()||t_(n),e.getWin().focus()),(_o.browser.isFirefox()||e.inline)&&(t_(n),yD(e,s)),UE(e)},UE=e=>e.editorManager.setActive(e),wD=(e,t)=>{e.removed||(t?UE(e):l7(e))},CD=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),_D=(e,t,n,s,l)=>{const f=n?t.startContainer:t.endContainer,g=n?t.startOffset:t.endOffset;return J.from(f).map(Be.fromDom).map(C=>!s||!t.collapsed?ku(C,l(C,g)).getOr(C):C).bind(C=>Os(C)?J.some(C):Za(C).filter(Os)).map(C=>C.dom).getOr(e)},SD=(e,t,n=!1)=>_D(e,t,!0,n,(s,l)=>Math.min(ld(s),l)),kD=(e,t,n=!1)=>_D(e,t,!1,n,(s,l)=>l>0?l-1:l),ED=(e,t)=>{const n=e;for(;e&&Mt(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||n},c7=(e,t)=>{if(!t)return e;let n=t.startContainer,s=t.endContainer;const l=t.startOffset,f=t.endOffset;let g=t.commonAncestorContainer;t.collapsed||(n===s&&f-l<2&&n.hasChildNodes()&&(g=n.childNodes[l]),Mt(n)&&Mt(s)&&(n.length===l?n=ED(n.nextSibling,!0):n=n.parentNode,f===0?s=ED(s.previousSibling,!1):s=s.parentNode,n&&n===s&&(g=n)));const C=Mt(g)?g.parentNode:g;return qc(C)?C:e},WE=(e,t,n,s)=>{const l=[],f=e.getRoot(),g=e.getParent(n||SD(f,t,t.collapsed),e.isBlock),C=e.getParent(s||kD(f,t,t.collapsed),e.isBlock);if(g&&g!==f&&l.push(g),g&&C&&g!==C){let A;const z=new Ka(g,f);for(;(A=z.next())&&A!==C;)e.isBlock(A)&&l.push(A)}return C&&g!==C&&C!==f&&l.push(C),l},d2=(e,t,n)=>J.from(t).bind(s=>J.from(s.parentNode).map(l=>{const f=e.nodeIndex(s),g=e.createRng();return g.setStart(l,f),g.setEnd(l,f+1),n&&(Hx(e,g,s,!0),Hx(e,g,s,!1)),g})),n_=(e,t)=>Me(t,n=>{const s=e.dispatch("GetSelectionRange",{range:n});return s.range!==n?s.range:n}),u7={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},g0=(e,t,n)=>{const s=n?"lastChild":"firstChild",l=n?"prev":"next";if(e[s])return e[s];if(e!==t){let f=e[l];if(f)return f;for(let g=e.parent;g&&g!==t;g=g.parent)if(f=g[l],f)return f}},AD=e=>{var t;const n=(t=e.value)!==null&&t!==void 0?t:"";if(!$l(n))return!1;const s=e.parent;return!(s&&(s.name!=="span"||s.attr("style"))&&/^[ ]+$/.test(n))},ba=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class fi{static create(t,n){const s=new fi(t,u7[t]||1);return n&&Uo(n,(l,f)=>{s.attr(f,l)}),s}constructor(t,n){this.name=t,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}replace(t){const n=this;return t.parent&&t.remove(),n.insert(t,n),n.remove(),n}attr(t,n){const s=this;if(!Te(t))return Ce(t)&&Uo(t,(f,g)=>{s.attr(g,f)}),s;const l=s.attributes;if(l){if(n!==void 0){if(n===null){if(t in l.map){delete l.map[t];let f=l.length;for(;f--;)if(l[f].name===t)return l.splice(f,1),s}return s}if(t in l.map){let f=l.length;for(;f--;)if(l[f].name===t){l[f].value=n;break}}else l.push({name:t,value:n});return l.map[t]=n,s}return l.map[t]}}clone(){const t=this,n=new fi(t.name,t.type),s=t.attributes;if(s){const l=[];l.map={};for(let f=0,g=s.length;f<g;f++){const C=s[f];C.name!=="id"&&(l[l.length]={name:C.name,value:C.value},l.map[C.name]=C.value)}n.attributes=l}return n.value=t.value,n}wrap(t){const n=this;return n.parent&&(n.parent.insert(t,n),t.append(n)),n}unwrap(){const t=this;for(let n=t.firstChild;n;){const s=n.next;t.insert(n,t,!0),n=s}t.remove()}remove(){const t=this,n=t.parent,s=t.next,l=t.prev;return n&&(n.firstChild===t?(n.firstChild=s,s&&(s.prev=null)):l&&(l.next=s),n.lastChild===t?(n.lastChild=l,l&&(l.next=null)):s&&(s.prev=l),t.parent=t.next=t.prev=null),t}append(t){const n=this;t.parent&&t.remove();const s=n.lastChild;return s?(s.next=t,t.prev=s,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t}insert(t,n,s){t.parent&&t.remove();const l=n.parent||this;return s?(n===l.firstChild?l.firstChild=t:n.prev&&(n.prev.next=t),t.prev=n.prev,t.next=n,n.prev=t):(n===l.lastChild?l.lastChild=t:n.next&&(n.next.prev=t),t.next=n.next,t.prev=n,n.next=t),t.parent=l,t}getAll(t){const n=this,s=[];for(let l=n.firstChild;l;l=g0(l,n))l.name===t&&s.push(l);return s}children(){const t=this,n=[];for(let s=t.firstChild;s;s=s.next)n.push(s);return n}empty(){const t=this;if(t.firstChild){const n=[];for(let l=t.firstChild;l;l=g0(l,t))n.push(l);let s=n.length;for(;s--;){const l=n[s];l.parent=l.firstChild=l.lastChild=l.next=l.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,n={},s){var l;const f=this;let g=f.firstChild;if(ba(f))return!1;if(g)do{if(g.type===1){if(g.attr("data-mce-bogus"))continue;if(t[g.name]||ba(g))return!1}if(g.type===8||g.type===3&&!AD(g)||g.type===3&&g.parent&&n[g.parent.name]&&$l((l=g.value)!==null&&l!==void 0?l:"")||s&&s(g))return!1}while(g=g0(g,f));return!0}walk(t){return g0(this,null,t)}}const TD=Kt.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),o_=e=>Te(e.nodeValue)&&e.nodeValue.includes(ia),f2=e=>`${e.length===0?"":`${Me(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,cp=(e,t)=>t.querySelectorAll(f2(e)),eh=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>o_(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),OD=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(o_(t)){const n=t.parentNode;return n&&Yn(TD,n.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),d7=e=>eh(e).nextNode()!==null,hv=e=>OD(e).nextNode()!==null,pv=(e,t)=>t.querySelector(f2(e))!==null,bv=(e,t)=>{pe(cp(e,t),n=>{const s=Be.fromDom(n);ii(s,"data-mce-bogus")==="all"?gr(s):pe(e,l=>{rd(s,l)&&bo(s,l)})})},r_=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},ZE=ln(r_,eh),DD=ln(r_,OD),jE=(e,t)=>{const n=[{condition:pt(pv,t),action:pt(bv,t)},{condition:d7,action:ZE},{condition:hv,action:DD}];let s=e,l=!1;return pe(n,({condition:f,action:g})=>{f(s)&&(l||(s=e.cloneNode(!0),l=!0),g(s))}),s},RD=e=>{const t=ea(e,"[data-mce-bogus]");pe(t,n=>{ii(n,"data-mce-bogus")==="all"?gr(n):Bu(n)?(gs(n,Be.fromText(hs)),gr(n)):ki(n)})},ND=e=>{const t=ea(e,"input");pe(t,n=>{bo(n,"name")})},ID=(e,t)=>{const n=Zi(e),s=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${n}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(s,"")},BD=(e,t)=>{const n=e.getDoc(),s=Wc(Be.fromDom(e.getBody())),l=Be.fromTag("div",n);ra(l,"data-mce-bogus","all"),Bo(l,{position:"fixed",left:"-9999999px",top:"0"}),lm(l,t.innerHTML),RD(l),ND(l);const f=u1(s);Rs(f,l);const g=ll(l.dom.innerText);return gr(l),g},m2=(e,t,n)=>{let s;return t.format==="raw"?s=Kt.trim(ll(jE(n,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?s=BD(e,n):t.format==="tree"?s=e.serializer.serialize(n,t):s=ID(e,e.serializer.serialize(n,t)),t.format!=="text"&&!Lb(Be.fromDom(n))&&Te(s)?Kt.trim(s):s},MD=(e,t)=>J.from(e.getBody()).fold(Qe(t.format==="tree"?new fi("body",11):""),n=>m2(e,t,n)),KE=Kt.makeMap,qE=e=>{const t=[];e=e||{};const n=e.indent,s=KE(e.indent_before||""),l=KE(e.indent_after||""),f=Dg.getEncodeFunc(e.entity_encoding||"raw",e.entities),g=e.element_format!=="xhtml";return{start:(C,A,z)=>{if(n&&s[C]&&t.length>0){const j=t[t.length-1];j.length>0&&j!==`
`&&t.push(`
`)}if(t.push("<",C),A)for(let j=0,G=A.length;j<G;j++){const X=A[j];t.push(" ",X.name,'="',f(X.value,!0),'"')}if(!z||g?t[t.length]=">":t[t.length]=" />",z&&n&&l[C]&&t.length>0){const j=t[t.length-1];j.length>0&&j!==`
`&&t.push(`
`)}},end:C=>{let A;t.push("</",C,">"),n&&l[C]&&t.length>0&&(A=t[t.length-1],A.length>0&&A!==`
`&&t.push(`
`))},text:(C,A)=>{C.length>0&&(t[t.length]=A?C:f(C))},cdata:C=>{t.push("<![CDATA[",C,"]]>")},comment:C=>{t.push("<!--",C,"-->")},pi:(C,A)=>{A?t.push("<?",C," ",f(A),"?>"):t.push("<?",C,"?>"),n&&t.push(`
`)},doctype:C=>{t.push("<!DOCTYPE",C,">",n?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},th=(e={},t=xc())=>{const n=qE(e);return e.validate="validate"in e?e.validate:!0,{serialize:l=>{const f=e.validate,g={3:A=>{var z;n.text((z=A.value)!==null&&z!==void 0?z:"",A.raw)},8:A=>{var z;n.comment((z=A.value)!==null&&z!==void 0?z:"")},7:A=>{n.pi(A.name,A.value)},10:A=>{var z;n.doctype((z=A.value)!==null&&z!==void 0?z:"")},4:A=>{var z;n.cdata((z=A.value)!==null&&z!==void 0?z:"")},11:A=>{let z=A;if(z=z.firstChild)do C(z);while(z=z.next)}};n.reset();const C=A=>{var z;const j=g[A.type];if(j)j(A);else{const G=A.name,X=G in t.getVoidElements();let ue=A.attributes;if(f&&ue&&ue.length>1){const we=[];we.map={};const de=t.getElementRule(A.name);if(de){for(let ke=0,Fe=de.attributesOrder.length;ke<Fe;ke++){const qe=de.attributesOrder[ke];if(qe in ue.map){const We=ue.map[qe];we.map[qe]=We,we.push({name:qe,value:We})}}for(let ke=0,Fe=ue.length;ke<Fe;ke++){const qe=ue[ke].name;if(!(qe in we.map)){const We=ue.map[qe];we.map[qe]=We,we.push({name:qe,value:We})}}ue=we}}if(n.start(G,ue,X),mm(G))Te(A.value)&&n.text(A.value,!0),n.end(G);else if(!X){let we=A.firstChild;if(we){(G==="pre"||G==="textarea")&&we.type===3&&((z=we.value)===null||z===void 0?void 0:z[0])===`
`&&n.text(`
`,!0);do C(we);while(we=we.next)}n.end(G)}}};return l.type===1&&!e.inner?C(l):l.type===3?g[3](l):g[11](l),n.getContent()}}},GE=new Set;pe(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{GE.add(t)});const YE=new Set;pe(["background-color"],t=>{YE.add(t)});const XE=["font","text-decoration","text-emphasis"],PD=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),h0=(e,t)=>Vt(PD(e,t)),JE=e=>GE.has(e),g2=e=>YE.has(e),QE=(e,t)=>xe(h0(e,t),n=>JE(n)),LD=(e,t)=>QE(e,t)&&xe(h0(e,t),n=>g2(n)),s_=e=>Ct(e,t=>xe(XE,n=>Gr(t,n))),f7=(e,t,n)=>{const s=h0(e,t),l=h0(e,n),f=g=>{var C,A;const z=(C=e.getStyle(t,g))!==null&&C!==void 0?C:"",j=(A=e.getStyle(n,g))!==null&&A!==void 0?A:"";return je(z)&&je(j)&&z!==j};return xe(s,g=>{const C=A=>xe(A,z=>z===g);if(!C(l)&&C(XE)){const A=s_(l);return xe(A,f)}else return f(g)})},FD=(e,t,n)=>J.from(n.container()).filter(Mt).exists(s=>{const l=e?0:-1;return t(s.data.charAt(n.offset()+l))}),nh=pt(FD,!0,s0),h2=pt(FD,!1,s0),zD=e=>{const t=e.container();return Mt(t)&&(t.data.length===0||Sc(t.data)&&Nr.isBookmarkNode(t.parentNode))},Sd=(e,t)=>n=>CC(e?0:-1,n).filter(t).isSome(),eA=e=>hc(e)&&Ds(Be.fromDom(e),"display")==="block",a_=e=>to(e)&&!m1(e),HD=Sd(!0,eA),VD=Sd(!1,eA),p0=Sd(!0,xt),vv=Sd(!1,xt),$D=Sd(!0,Gc),yv=Sd(!1,Gc),va=Sd(!0,a_),Of=Sd(!1,a_),b0=e=>e.slice(0,-1),UD=(e,t,n)=>Wa(t,e)?b0(rm(e,s=>n(s)||Lo(s,t))):[],ql=(e,t)=>UD(e,t,xn),Dc=(e,t)=>[e].concat(ql(e,t)),i_=(e,t,n)=>d5(e,t,n,zD),WD=e=>t=>e.isBlock(Po(t)),tA=(e,t,n)=>wn(Dc(Be.fromDom(t.container()),e),WD(n)),xv=(e,t,n,s)=>i_(e,t.dom,n).forall(l=>tA(t,n,s).fold(()=>!Nm(l,n,t.dom),f=>!Nm(l,n,t.dom)&&Wa(f,Be.fromDom(l.container())))),l_=(e,t,n,s)=>tA(t,n,s).fold(()=>i_(e,t.dom,n).forall(l=>!Nm(l,n,t.dom)),l=>i_(e,l.dom,n).isNone()),c_=pt(l_,!1),ZD=pt(l_,!0),nA=pt(xv,!1),oA=pt(xv,!0),m7=e=>_C(e).exists(Bu),$u=(e,t,n,s)=>{const l=Ct(Dc(Be.fromDom(n.container()),t),g=>s.isBlock(Po(g))),f=un(l).getOr(t);return su(e,f.dom,n).filter(m7)},p2=(e,t,n)=>_C(t).exists(Bu)||$u(!0,e,t,n).isSome(),v0=(e,t,n)=>hP(t).exists(Bu)||$u(!1,e,t,n).isSome(),u_=pt($u,!1),jD=pt($u,!0),rA=e=>mt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),sA=(e,t,n)=>{const s=Ct(Dc(Be.fromDom(t.container()),e),l=>n.isBlock(Po(l)));return un(s).getOr(e)},KD=(e,t,n)=>rA(t)?h2(t):h2(t)||Ec(sA(e,t,n).dom,t).exists(h2),qD=(e,t,n)=>rA(t)?nh(t):nh(t)||Rl(sA(e,t,n).dom,t).exists(nh),GD=e=>le(["pre","pre-wrap"],e),d_=e=>_C(e).bind(t=>Qs(t,Os)).exists(t=>GD(Ds(t,"white-space"))),aA=(e,t)=>Ec(e.dom,t).isNone(),iA=(e,t)=>Rl(e.dom,t).isNone(),YD=(e,t,n)=>aA(e,t)||iA(e,t)||c_(e,t,n)||ZD(e,t,n)||v0(e,t,n)||p2(e,t,n),lA=e=>Ce(e)&&to(e)&&eE(e),cA=(e,t)=>n=>lA(new Ka(n,e)[t]()),XD=(e,t)=>{const n=Rl(e.dom,t).getOr(t),s=cA(e.dom,"next");return t.isAtEnd()&&(s(t.container())||s(n.container()))},uA=(e,t)=>{const n=Ec(e.dom,t).getOr(t),s=cA(e.dom,"prev");return t.isAtStart()&&(s(t.container())||s(n.container()))},dA=(e,t,n)=>d_(t)?!1:YD(e,t,n)||KD(e,t,n)||qD(e,t,n),wv=(e,t,n)=>d_(t)?!1:c_(e,t,n)||nA(e,t,n)||v0(e,t,n)||KD(e,t,n)||uA(e,t),JD=e=>{const t=e.container(),n=e.offset();return Mt(t)&&n<t.data.length?mt(t,n+1):e},y0=(e,t,n)=>d_(t)?!1:ZD(e,t,n)||oA(e,t,n)||p2(e,t,n)||qD(e,t,n)||XD(e,t),fA=(e,t,n)=>wv(e,t,n)||y0(e,JD(t),n),b2=(e,t)=>ji(e.charAt(t)),mA=(e,t)=>s0(e.charAt(t)),QD=e=>{const t=e.container();return Mt(t)&&yr(t.data,ma)},g7=e=>{const t=e.split("");return Me(t,(n,s)=>ji(n)&&s>0&&s<t.length-1&&Gg(t[s-1])&&Gg(t[s+1])?" ":n).join("")},eR=(e,t,n,s)=>{const l=t.data,f=mt(t,0);return!n&&b2(l,0)&&!fA(e,f,s)?(t.data=" "+l.slice(1),!0):n&&mA(l,0)&&wv(e,f,s)?(t.data=ma+l.slice(1),!0):!1},tR=e=>{const t=e.data,n=g7(t);return n!==t?(e.data=n,!0):!1},nR=(e,t,n,s)=>{const l=t.data,f=mt(t,l.length-1);return!n&&b2(l,l.length-1)&&!fA(e,f,s)?(t.data=l.slice(0,-1)+" ",!0):n&&mA(l,l.length-1)&&y0(e,f,s)?(t.data=l.slice(0,-1)+ma,!0):!1},oR=(e,t,n)=>{const s=t.container();if(!Mt(s))return J.none();if(QD(t)){const l=eR(e,s,!1,n)||tR(s)||nR(e,s,!1,n);return pg(l,t)}else if(fA(e,t,n)){const l=eR(e,s,!0,n)||nR(e,s,!0,n);return pg(l,t)}else return J.none()},h7=e=>{const t=Be.fromDom(e.getBody());e.selection.isCollapsed()&&oR(t,mt.fromRangeStart(e.selection.getRng()),e.schema).each(n=>{e.selection.setRng(n.toRange())})},rR=(e,t,n,s)=>{if(n===0)return;const l=Be.fromDom(e),f=zi(l,z=>s.isBlock(Po(z))).getOr(l),g=e.data.slice(t,t+n),C=t+n>=e.data.length&&y0(f,mt(e,e.data.length),s),A=t===0&&wv(f,mt(e,0),s);e.replaceData(t,n,cb(g,4,A,C))},f_=(e,t,n)=>{const s=e.data.slice(t),l=s.length-lt(s).length;rR(e,t,l,n)},_s=(e,t,n)=>{const s=e.data.slice(0,t),l=s.length-st(s).length;rR(e,t-l,l,n)},v2=(e,t,n,s,l=!0)=>{const f=st(e.data).length,g=l?e:t,C=l?t:e;return l?g.appendData(C.data):g.insertData(0,C.data),gr(Be.fromDom(C)),s&&f_(g,f,n),g},p7=(e,t)=>{const n=e.container(),s=e.offset();return!mt.isTextPosition(e)&&n===t.parentNode&&s>mt.before(t).offset()},b7=(e,t)=>p7(t,e)?mt(t.container(),t.offset()-1):t,Cv=e=>Mt(e)?mt(e,0):mt.before(e),up=e=>Mt(e)?mt(e,e.data.length):mt.after(e),zm=e=>eu(e.previousSibling)?J.some(up(e.previousSibling)):e.previousSibling?Pu(e.previousSibling):J.none(),gA=e=>eu(e.nextSibling)?J.some(Cv(e.nextSibling)):e.nextSibling?Un(e.nextSibling):J.none(),sR=(e,t)=>J.from(t.previousSibling?t.previousSibling:t.parentNode).bind(n=>Ec(e,mt.before(n))).orThunk(()=>Rl(e,mt.after(t))),aR=(e,t)=>Rl(e,mt.after(t)).orThunk(()=>Ec(e,mt.before(t))),m_=(e,t)=>zm(t).orThunk(()=>gA(t)).orThunk(()=>sR(e,t)),v7=(e,t)=>gA(t).orThunk(()=>zm(t)).orThunk(()=>aR(e,t)),hA=(e,t,n)=>e?v7(t,n):m_(t,n),iR=(e,t,n)=>hA(e,t,n).map(pt(b7,n)),pA=(e,t,n)=>{n.fold(()=>{e.focus()},s=>{e.selection.setRng(s.toRange(),t)})},bA=e=>t=>t.dom===e,lR=(e,t)=>t&&Yn(e.schema.getBlockElements(),Po(t)),vA=(e,t,n)=>{if(Is(e,t)){const s=Be.fromHtml('<br data-mce-bogus="1">');return n?pe(ja(t),l=>{BC(l)||gr(l)}):zr(t),Rs(t,s),J.some(mt.before(s.dom))}else return J.none()},y7=(e,t,n,s)=>{const l=sa(e).filter(Yr),f=Pn(e).filter(Yr);return gr(e),Zd(l,f,t,(g,C,A)=>{const z=g.dom,j=C.dom,G=z.data.length;return v2(z,j,n,s),A.container()===j?mt(z,G):A}).orThunk(()=>(s&&(l.each(g=>_s(g.dom,g.dom.length,n)),f.each(g=>f_(g.dom,0,n))),t))},x7=(e,t)=>Yn(e.schema.getTextInlineElements(),Po(t)),ul=(e,t,n,s=!0,l=!1)=>{const f=iR(t,e.getBody(),n.dom),g=zi(n,pt(lR,e),bA(e.getBody())),C=y7(n,f,e.schema,x7(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):g.bind(A=>vA(e.schema,A,l)).fold(()=>{s&&pA(e,t,C)},A=>{s&&pA(e,t,J.some(A))})},cR=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,w7=e=>cR.test(e),x0=(e,t)=>xr(Be.fromDom(t),Vo(e))&&!af(e.schema,t)&&e.dom.isEditable(t),y2=e=>{var t;return Br.DOM.getStyle(e,"direction",!0)==="rtl"||w7((t=e.textContent)!==null&&t!==void 0?t:"")},C7=(e,t,n)=>Ct(Br.DOM.getParents(n.container(),"*",t),e),dp=(e,t,n)=>{const s=C7(e,t,n);return J.from(s[s.length-1])},uR=(e,t,n)=>{const s=Xh(t,e),l=Xh(n,e);return Ce(s)&&s===l},yA=e=>Fb(e)||V1(e),Uu=(e,t)=>{const n=t.container(),s=t.offset();return e?km(n)?Mt(n.nextSibling)?mt(n.nextSibling,0):mt.after(n):Fb(t)?mt(n,s+1):t:km(n)?Mt(n.previousSibling)?mt(n.previousSibling,n.previousSibling.data.length):mt.before(n):V1(t)?mt(n,s-1):t},dR=pt(Uu,!0),_v=pt(Uu,!1),xA=(e,t)=>{const n=s=>s.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},fR=e=>{e.execCommand("delete")},g_=e=>xA(e,"Delete"),wA=e=>xA(e,"ForwardDelete"),x2=e=>t=>Ud(Za(t),e,Lo),mR=e=>Mb(e)||Sm(e),w2=(e,t)=>Wa(e,t)?Qs(t,mR,x2(e)):J.none(),h_=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},gR=(e,t,n)=>$a(Un(n),Pu(n),(s,l)=>{const f=Uu(!0,s),g=Uu(!1,l),C=Uu(!1,t);return e?Rl(n,C).exists(A=>A.isEqual(g)&&t.isEqual(f)):Ec(n,C).exists(A=>A.isEqual(f)&&t.isEqual(g))}).getOr(!0),kd=e=>(xg(e)?sa(e):Eu(e)).bind(kd).orThunk(()=>J.some(e)),p_=(e,t,n,s=!0)=>{var l;t.deleteContents();const f=kd(n).getOr(n),g=Be.fromDom((l=e.dom.getParent(f.dom,e.dom.isBlock))!==null&&l!==void 0?l:n.dom);if(g.dom===e.getBody()?h_(e,s):Is(e.schema,g,{checkRootAsContent:!1})&&(_c(g),s&&e.selection.setCursorLocation(g.dom,0)),!Lo(n,g)){const C=Ud(Za(g),n)?[]:ob(g);pe(C.concat(ja(n)),A=>{!Lo(A,g)&&!Wa(A,g)&&Is(e.schema,A)&&gr(A)})}},_7=e=>t=>Lo(e,t),CA=e=>ea(e,"td,th"),ur=(e,t)=>Cr(Be.fromDom(e),t),S7=e=>$a(e.startTable,e.endTable,(t,n)=>{const s=f1(t,f=>Lo(f,n)),l=f1(n,f=>Lo(f,t));return!s&&!l?e:{...e,startTable:s?J.none():e.startTable,endTable:l?J.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),C2=e=>S7(e),k7=(e,t)=>{const n=ur(e.startContainer,t),s=ur(e.endContainer,t),l=n.isSome(),f=s.isSome(),g=$a(n,s,Lo).getOr(!1);return C2({startTable:n,endTable:s,isStartInTable:l,isEndInTable:f,isSameTable:g,isMultiTable:!g&&l&&f})},b_=(e,t)=>({start:e,end:t}),fp=(e,t,n)=>({rng:e,table:t,cells:n}),Ki=Mo.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),mp=(e,t)=>Aa(Be.fromDom(e),"td,th",t),oh=e=>!Lo(e.start,e.end),Df=(e,t)=>Cr(e.start,t).bind(n=>Cr(e.end,t).bind(s=>pg(Lo(n,s),n))),_2=(e,t)=>!oh(e)&&Df(e,t).exists(n=>{const s=n.dom.rows;return s.length===1&&s[0].cells.length===1}),_A=(e,t)=>{const n=mp(e.startContainer,t),s=mp(e.endContainer,t);return $a(n,s,b_)},SA=e=>t=>Cr(t,e).bind(n=>po(CA(n)).map(s=>b_(t,s))),hR=e=>t=>Cr(t,e).bind(n=>un(CA(n)).map(s=>b_(s,t))),v_=e=>t=>Df(t,e).map(n=>fp(t,n,CA(n))),pR=(e,t,n,s)=>{if(n.collapsed||!e.forall(oh))return J.none();if(t.isSameTable){const l=e.bind(v_(s));return J.some({start:l,end:l})}else{const l=mp(n.startContainer,s),f=mp(n.endContainer,s),g=l.bind(SA(s)).bind(v_(s)),C=f.bind(hR(s)).bind(v_(s));return J.some({start:g,end:C})}},bR=(e,t)=>Cn(e,n=>Lo(n,t)),y_=e=>$a(bR(e.cells,e.rng.start),bR(e.cells,e.rng.end),(t,n)=>e.cells.slice(t,n+1)),vR=(e,t,n)=>e.exists(s=>_2(s,n)&&zx(s.start,t)),kA=(e,t)=>{const{startTable:n,endTable:s}=t,l=e.cloneRange();return n.each(f=>l.setStartAfter(f.dom)),s.each(f=>l.setEndBefore(f.dom)),l},yR=(e,t,n,s)=>pR(e,t,n,s).bind(({start:l,end:f})=>l.or(f)).bind(l=>{const{isSameTable:f}=t,g=y_(l).getOr([]);if(f&&l.cells.length===g.length)return J.some(Ki.fullTable(l.table));if(g.length>0){if(f)return J.some(Ki.partialTable(g,J.none()));{const C=kA(n,t);return J.some(Ki.partialTable(g,J.some({...t,rng:C})))}}else return J.none()}),EA=(e,t,n,s)=>pR(e,t,n,s).bind(({start:l,end:f})=>{const g=l.bind(y_).getOr([]),C=f.bind(y_).getOr([]);if(g.length>0&&C.length>0){const A=kA(n,t);return J.some(Ki.multiTable(g,C,A))}else return J.none()}),E7=(e,t)=>{const n=_7(e),s=_A(t,n),l=k7(t,n);return vR(s,t,n)?s.map(f=>Ki.singleCellTable(t,f.start)):l.isMultiTable?EA(s,l,t,n):yR(s,l,t,n)},xR=e=>pe(e,t=>{bo(t,"contenteditable"),_c(t)}),A7=(e,t)=>J.from(e.dom.getParent(t,e.dom.isBlock)).map(Be.fromDom),Hm=(e,t,n)=>{n.each(s=>{t?gr(s):(_c(s),e.selection.setCursorLocation(s.dom,0))})},w0=(e,t,n,s)=>{const l=n.cloneRange();s?(l.setStart(n.startContainer,n.startOffset),l.setEndAfter(t.dom.lastChild)):(l.setStartBefore(t.dom.firstChild),l.setEnd(n.endContainer,n.endOffset)),OA(e,l,t,!1).each(f=>f())},AA=e=>{const t=kf(e),n=Be.fromDom(e.selection.getNode());Nh(n.dom)&&Is(e.schema,n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&xe(t,s=>Lo(s,n))&&ra(n,"data-mce-selected","1")},TA=(e,t,n)=>J.some(()=>{const s=e.selection.getRng(),l=n.bind(({rng:f,isStartInTable:g})=>{const C=A7(e,g?f.endContainer:f.startContainer);f.deleteContents(),Hm(e,g,C.filter(pt(Is,e.schema)));const A=g?t[0]:t[t.length-1];return w0(e,A,s,g),Is(e.schema,A)?J.none():J.some(g?t.slice(1):t.slice(0,-1))}).getOr(t);xR(l),AA(e)}),wR=(e,t,n,s)=>J.some(()=>{const l=e.selection.getRng(),f=t[0],g=n[n.length-1];w0(e,f,l,!0),w0(e,g,l,!1);const C=Is(e.schema,f)?t:t.slice(1),A=Is(e.schema,g)?n:n.slice(0,-1);xR(C.concat(A)),s.deleteContents(),AA(e)}),OA=(e,t,n,s=!0)=>J.some(()=>{p_(e,t,n,s)}),gp=(e,t)=>J.some(()=>ul(e,!1,t)),T7=(e,t,n)=>E7(t,n).bind(s=>s.fold(pt(OA,e),pt(gp,e),pt(TA,e),pt(wR,e))),O7=(e,t)=>x_(e,t),D7=(e,t,n,s)=>DA(t,s).fold(()=>T7(e,t,n),l=>O7(e,l)),R7=(e,t,n)=>{const s=Be.fromDom(e.getBody()),l=e.selection.getRng();return n.length!==0?TA(e,n,J.none()):D7(e,s,l,t)},CR=(e,t)=>wn(Dc(t,e),Cc),DA=(e,t)=>wn(Dc(t,e),qd("caption")),N7=(e,t,n,s,l)=>o0(n,e.getBody(),l).bind(f=>CR(t,Be.fromDom(f.getNode())).bind(g=>Lo(g,s)?J.none():J.some(Pt))),x_=(e,t)=>J.some(()=>{_c(t),e.selection.setCursorLocation(t.dom,0)}),I7=(e,t,n,s)=>Un(e.dom).bind(l=>Pu(e.dom).map(f=>t?n.isEqual(l)&&s.isEqual(f):n.isEqual(f)&&s.isEqual(l))).getOr(!0),w_=(e,t)=>x_(e,t),B7=(e,t,n)=>DA(e,Be.fromDom(n.getNode())).fold(()=>J.some(Pt),s=>pg(!Lo(s,t),Pt)),S2=(e,t,n,s,l)=>o0(n,e.getBody(),l).fold(()=>J.some(Pt),f=>I7(s,n,l,f)?w_(e,s):B7(t,s,f)),RA=(e,t,n,s)=>{const l=mt.fromRangeStart(e.selection.getRng());return CR(n,s).bind(f=>Is(e.schema,f,{checkRootAsContent:!1})?x_(e,f):N7(e,n,t,f,l))},C0=(e,t,n,s)=>{const l=mt.fromRangeStart(e.selection.getRng());return Is(e.schema,s)?x_(e,s):S2(e,n,t,s,l)},hp=(e,t)=>e?$D(t):yv(t),C_=(e,t)=>{const n=mt.fromRangeStart(e.selection.getRng());return hp(t,n)||su(t,e.getBody(),n).exists(s=>hp(t,s))},__=(e,t,n)=>{const s=Be.fromDom(e.getBody());return DA(s,n).fold(()=>RA(e,t,s,n).orThunk(()=>pg(C_(e,t),Pt)),l=>C0(e,t,s,l))},rh=(e,t)=>{const n=Be.fromDom(e.selection.getStart(!0)),s=kf(e);return e.selection.isCollapsed()&&s.length===0?__(e,t,n):R7(e,n,s)},Wu=(e,t)=>{let n=t;for(;n&&n!==e;){if(pc(n)||to(n))return n;n=n.parentNode}return null},S_=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],k_=Kt.each,E_=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),s=(f,g)=>{if(f.nodeName!==g.nodeName||f.nodeType!==g.nodeType)return!1;const C=z=>{const j={};return k_(t.getAttribs(z),G=>{const X=G.nodeName.toLowerCase();X!=="style"&&!l(X)&&(j[X]=t.getAttrib(z,X))}),j},A=(z,j)=>{for(const G in z)if(Yn(z,G)){const X=j[G];if(Ze(X)||z[G]!==X)return!1;delete j[G]}for(const G in j)if(Yn(j,G))return!1;return!0};return yn(f)&&yn(g)&&(!A(C(f),C(g))||!A(t.parseStyle(t.getAttrib(f,"style")),t.parseStyle(t.getAttrib(g,"style"))))?!1:!iu(f)&&!iu(g)},l=f=>xe(S_,g=>Gr(f,g))||n.has(f);return{compare:s,isAttributeInternal:l}},A_=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),NA=e=>e.name==="summary",_R=(e,t)=>{let n=e;for(;n=n.walk();)t(n)},IA=(e,t,n,s)=>{const l=n.name;for(let f=0,g=e.length;f<g;f++){const C=e[f];if(C.name===l){const A=s.nodes[l];A?A.nodes.push(n):s.nodes[l]={filter:C,nodes:[n]}}}if(n.attributes)for(let f=0,g=t.length;f<g;f++){const C=t[f],A=C.name;if(A in n.attributes.map){const z=s.attributes[A];z?z.nodes.push(n):s.attributes[A]={filter:C,nodes:[n]}}}},Sv=(e,t,n)=>{const s={nodes:{},attributes:{}};return n.firstChild&&_R(n,l=>{IA(e,t,l,s)}),s},BA=(e,t)=>{const n=(s,l)=>{Uo(s,f=>{const g=io(f.nodes);pe(f.filter.callbacks,C=>{for(let A=g.length-1;A>=0;A--){const z=g[A];(!(l?z.attr(f.filter.name)!==void 0:z.name===f.filter.name)||ot(z.parent))&&g.splice(A,1)}g.length>0&&C(g,f.filter.name,t)})})};n(e.nodes,!1),n(e.attributes,!0)},MA=(e,t,n,s={})=>{const l=Sv(e,t,n);BA(l,s)},T_=(e,t,n,s)=>{if((e.pad_empty_with_br||t.insert)&&n(s)){const f=new fi("br",1);t.insert&&f.attr("data-mce-bogus","1"),s.empty().append(f)}else s.empty().append(new fi("#text",3)).value=ma},O_=e=>{var t;return PA(e,"#text")&&((t=e==null?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===ma},PA=(e,t)=>{const n=e==null?void 0:e.firstChild;return Ce(n)&&n===e.lastChild&&n.name===t},SR=(e,t)=>{const n=e.getElementRule(t.name);return(n==null?void 0:n.paddEmpty)===!0},kv=(e,t,n,s)=>s.isEmpty(t,n,l=>SR(e,l)),kR=(e,t)=>Ce(e)&&(t(e)||e.name==="br"),sh=e=>{let t;for(let n=e;n;n=n.parent){const s=n.attr("contenteditable");if(s==="false")break;s==="true"&&(t=n)}return J.from(t)},Vm=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const s=e.children();for(const l of s)n&&!t.isValidChild(n.name,l.name)&&Vm(l,t,n);e.unwrap()}},cu=(e,t,n,s=Pt)=>{const l=t.getTextBlockElements(),f=t.getNonEmptyElements(),g=t.getWhitespaceElements(),C=Kt.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),A=new Set,z=j=>j!==n&&!C[j.name];for(let j=0;j<e.length;j++){const G=e[j];let X,ue,we;if(!G.parent||A.has(G))continue;if(l[G.name]&&G.parent.name==="li"){let ke=G.next;for(;ke&&l[ke.name];){ke.name="li",A.add(ke),G.parent.insert(ke,G.parent);ke=ke.next}G.unwrap();continue}const de=[G];for(X=G.parent;X&&!t.isValidChild(X.name,G.name)&&z(X);X=X.parent)de.push(X);if(X&&de.length>1)if(k2(t,G,X))Vm(G,t);else{de.reverse(),ue=de[0].clone(),s(ue);let ke=ue;for(let Fe=0;Fe<de.length-1;Fe++){t.isValidChild(ke.name,de[Fe].name)&&Fe>0?(we=de[Fe].clone(),s(we),ke.append(we)):we=ke;for(let qe=de[Fe].firstChild;qe&&qe!==de[Fe+1];){const We=qe.next;we.append(qe),qe=We}ke=we}kv(t,f,g,ue)?X.insert(G,de[0],!0):(X.insert(ue,de[0],!0),X.insert(G,ue)),X=de[0],(kv(t,f,g,X)||PA(X,"br"))&&X.empty().remove()}else if(G.parent){if(G.name==="li"){let ke=G.prev;if(ke&&(ke.name==="ul"||ke.name==="ol")){ke.append(G);continue}if(ke=G.next,ke&&(ke.name==="ul"||ke.name==="ol")&&ke.firstChild){ke.insert(G,ke.firstChild,!0);continue}const Fe=new fi("ul",1);s(Fe),G.wrap(Fe);continue}if(t.isValidChild(G.parent.name,"div")&&t.isValidChild("div",G.name)){const ke=new fi("div",1);s(ke),G.wrap(ke)}else Vm(G,t)}}},LA=(e,t)=>{let n=e;for(;n;){if(n.name===t)return!0;n=n.parent}return!1},k2=(e,t,n=t.parent)=>n?e.children[t.name]&&!e.isValidChild(n.name,t.name)||t.name==="a"&&LA(n,"a")?!0:NA(n)&&A_(t)?!((n==null?void 0:n.firstChild)===t&&(n==null?void 0:n.lastChild)===t):!1:!1,ER=(e,t,n,s)=>{const l=document.createRange();return l.setStart(e,t),l.setEnd(n,s),l},AR=e=>{const t=mt.fromRangeStart(e),n=mt.fromRangeEnd(e),s=e.commonAncestorContainer;return su(!1,s,n).map(l=>!Nm(t,n,s)&&Nm(t,l,s)?ER(t.container(),t.offset(),l.container(),l.offset()):e).getOr(e)},D_=e=>e.collapsed?e:AR(e),FA=e=>Ce(e.firstChild)&&e.firstChild===e.lastChild,TR=e=>e.name==="br"||e.value===ma,OR=(e,t)=>e.getBlockElements()[t.name]&&FA(t)&&TR(t.firstChild),zA=(e,t)=>{const n=e.getNonEmptyElements();return Ce(t)&&(t.isEmpty(n)||OR(e,t))},$m=(e,t)=>{let n=t.firstChild,s=t.lastChild;return n&&n.name==="meta"&&(n=n.next),s&&s.attr("id")==="mce_marker"&&(s=s.prev),zA(e,s)&&(s=s==null?void 0:s.prev),!n||n!==s?!1:n.name==="ul"||n.name==="ol"},Ed=e=>{var t,n;const s=e.firstChild,l=e.lastChild;return s&&s.nodeName==="META"&&((t=s.parentNode)===null||t===void 0||t.removeChild(s)),l&&l.id==="mce_marker"&&((n=l.parentNode)===null||n===void 0||n.removeChild(l)),e},R_=(e,t,n)=>{const s=t.serialize(n),l=e.createFragment(s);return Ed(l)},DR=e=>{var t;return Ct((t=e==null?void 0:e.childNodes)!==null&&t!==void 0?t:[],n=>n.nodeName==="LI")},N_=e=>e.data===ma||os(e),RR=e=>Ce(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&N_(e.firstChild),NR=e=>!e.firstChild||RR(e),IR=e=>e.length>0&&NR(e[e.length-1])?e.slice(0,-1):e,I_=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&n.nodeName==="LI"?n:null},BR=(e,t)=>!!I_(e,t),MR=(e,t)=>{const n=t.cloneRange(),s=t.cloneRange();return n.setStartBefore(e),s.setEndAfter(e),[n.cloneContents(),s.cloneContents()]},B_=(e,t)=>{const n=mt.before(e),l=zn(t).next(n);return l?l.toRange():null},M_=(e,t)=>{const n=mt.after(e),l=zn(t).prev(n);return l?l.toRange():null},PR=(e,t,n,s)=>{const l=MR(e,s),f=e.parentNode;return f&&(f.insertBefore(l[0],e),Kt.each(t,g=>{f.insertBefore(g,e)}),f.insertBefore(l[1],e),f.removeChild(e)),M_(t[t.length-1],n)},HA=(e,t,n)=>{const s=e.parentNode;return s&&Kt.each(t,l=>{s.insertBefore(l,e)}),B_(e,n)},M7=(e,t,n,s)=>(s.insertAfter(t.reverse(),e),M_(t[0],n)),P7=(e,t,n,s)=>{const l=R_(t,e,s),f=I_(t,n.startContainer),g=IR(DR(l.firstChild)),C=1,A=2,z=t.getRoot(),j=G=>{const X=mt.fromRangeStart(n),ue=zn(t.getRoot()),we=G===C?ue.prev(X):ue.next(X),de=we==null?void 0:we.getNode();return de?I_(t,de)!==f:!0};return f?j(C)?HA(f,g,z):j(A)?M7(f,g,z,t):PR(f,g,z,n):null},L7=["pre"],F7=(e,t,n,s)=>{var l;const f=t.firstChild,g=t.lastChild,C=g.attr("data-mce-type")==="bookmark"?g.prev:g,A=f===C,z=le(L7,f.name);if(A&&z){const j=f.attr("contenteditable")!=="false",G=((l=e.getParent(n,e.isBlock))===null||l===void 0?void 0:l.nodeName.toLowerCase())===f.name,X=J.from(Wu(s,n)).forall(pc);return j&&G&&X}else return!1},VA=Nh,z7=(e,t,n)=>{if(Ce(n)){const s=e.getParent(t.endContainer,VA);return n===s&&zx(Be.fromDom(n),t)}else return!1},P_=(e,t,n)=>{var s;if(n.getAttribute("data-mce-bogus")==="all")(s=n.parentNode)===null||s===void 0||s.insertBefore(e.dom.createFragment(t),n);else{const l=n.firstChild,f=n.lastChild;!l||l===f&&l.nodeName==="BR"?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})}},$A=(e,t,n)=>{J.from(e.getParent(t,"td,th")).map(Be.fromDom).each(s=>cx(s,n))},LR=(e,t)=>{const n=e.schema.getTextInlineElements(),s=e.dom;if(t){const l=e.getBody(),f=E_(e),g="*[data-mce-fragment]",C=s.select(g);Kt.each(C,A=>{const z=X=>Ce(n[X.nodeName.toLowerCase()]),j=X=>X.childNodes.length===1;if((X=>!(QE(s,X)||LD(s,X)))(A)&&z(A)&&j(A)){const X=h0(s,A),ue=(Fe,qe)=>vo(Fe,We=>le(qe,We)),we=Fe=>j(A)&&s.is(Fe,g)&&z(Fe)&&(Fe.nodeName===A.nodeName&&ue(X,h0(s,Fe))||we(Fe.children[0])),de=Fe=>Ce(Fe)&&Fe!==l&&(f.compare(A,Fe)||de(Fe.parentElement)),ke=Fe=>Ce(Fe)&&Fe!==l&&s.is(Fe,g)&&(f7(s,A,Fe)||ke(Fe.parentElement));(we(A.children[0])||de(A.parentElement)&&!ke(A.parentElement))&&s.remove(A,!0)}})}},UA=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},H7=e=>{Kt.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},V7=e=>!!e.getAttribute("data-mce-fragment"),$7=(e,t)=>Ce(t)&&!e.schema.getVoidElements()[t.nodeName],U7=(e,t)=>{var n,s,l;let f;const g=e.dom,C=e.selection;if(!t)return;C.scrollIntoView(t);const A=Wu(e.getBody(),t);if(A&&g.getContentEditable(A)==="false"){g.remove(t),C.select(A);return}let z=g.createRng();const j=t.previousSibling;if(Mt(j)){z.setStart(j,(s=(n=j.nodeValue)===null||n===void 0?void 0:n.length)!==null&&s!==void 0?s:0);const ue=t.nextSibling;Mt(ue)&&(j.appendData(ue.data),(l=ue.parentNode)===null||l===void 0||l.removeChild(ue))}else z.setStartBefore(t),z.setEndBefore(t);const G=ue=>{let we=mt.fromRangeStart(ue);return we=zn(e.getBody()).next(we),we==null?void 0:we.toRange()},X=g.getParent(t,g.isBlock);if(g.remove(t),X&&g.isEmpty(X)){const ue=VA(X);zr(Be.fromDom(X)),z.setStart(X,0),z.setEnd(X,0),!ue&&!V7(X)&&(f=G(z))?(z=f,g.remove(X)):g.add(X,g.create("br",ue?{}:{"data-mce-bogus":"1"}))}C.setRng(z)},W7=e=>{const t=e.dom,n=D_(e.selection.getRng());e.selection.setRng(n);const s=t.getParent(n.startContainer,VA);z7(t,n,s)?OA(e,n,Be.fromDom(s)):n.startContainer===n.endContainer&&n.endOffset-n.startOffset===1&&Mt(n.startContainer.childNodes[n.startOffset])?n.deleteContents():e.getDoc().execCommand("Delete",!1)},Z7=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return J.some(t);return J.none()},L_=(e,t,n)=>{var s;return xe(n.children(),A_)&&((s=e.getParent(t,e.isBlock))===null||s===void 0?void 0:s.nodeName)==="SUMMARY"},F_=(e,t,n)=>{var s,l;const f=e.selection,g=e.dom,C=e.parser,A=n.merge,z=th({validate:!0},e.schema),j='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.preserve_zwsp||(t=ll(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,j);let G=f.getRng();const X=G.startContainer,ue=e.getBody();X===ue&&f.isCollapsed()&&g.isBlock(ue.firstChild)&&$7(e,ue.firstChild)&&g.isEmpty(ue.firstChild)&&(G=g.createRng(),G.setStart(ue.firstChild,0),G.setEnd(ue.firstChild,0),f.setRng(G)),f.isCollapsed()||W7(e);const we=f.getNode(),de={context:we.nodeName.toLowerCase(),data:n.data,insert:!0},ke=C.parse(t,de);if(n.paste===!0&&$m(e.schema,ke)&&BR(g,we))return G=P7(z,g,f.getRng(),ke),G&&f.setRng(G),t;n.paste===!0&&F7(g,ke,we,e.getBody())&&((s=ke.firstChild)===null||s===void 0||s.unwrap()),UA(ke);let Fe=ke.lastChild;if(Fe&&Fe.attr("id")==="mce_marker"){const qe=Fe;for(Fe=Fe.prev;Fe;Fe=Fe.walk(!0))if(Fe.type===3||!g.isBlock(Fe.name)){Fe.parent&&e.schema.isValidChild(Fe.parent.name,"span")&&Fe.parent.insert(qe,Fe,Fe.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(we),!de.invalid&&!L_(g,we,ke))t=z.serialize(ke),P_(e,t,we);else{e.selection.setContent(j);let qe=f.getNode(),We;const at=e.getBody();for(Sn(qe)?qe=We=at:We=qe;We&&We!==at;)qe=We,We=We.parentNode;t=qe===at?at.innerHTML:g.getOuterHTML(qe);const Nt=C.parse(t),jt=Z7(Nt),dn=jt.bind(sh).getOr(Nt);jt.each(bn=>bn.replace(ke));const wt=ke.children(),dt=(l=ke.parent)!==null&&l!==void 0?l:Nt;ke.unwrap();const Dt=Ct(wt,bn=>k2(e.schema,bn,dt));cu(Dt,e.schema,dn),MA(C.getNodeFilters(),C.getAttributeFilters(),Nt),t=z.serialize(Nt),qe===at?g.setHTML(at,t):g.setOuterHTML(qe,t)}return LR(e,A),U7(e,g.get("mce_marker")),H7(e.getBody()),$A(g,f.getStart(),e.schema),fd(e.schema,e.getBody(),f.getStart()),t},_0=e=>e instanceof fi,j7=e=>{gv(e)&&Un(e.getBody()).each(t=>{const n=t.getNode(),s=Gc(n)?Un(n).getOr(t):t;e.selection.setRng(s.toRange())})},WA=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),n!==!0&&j7(e)},K7=(e,t,n,s)=>{if(n=ll(n),n.length===0||/^\s+$/.test(n)){const l='<br data-mce-bogus="1">';t.nodeName==="TABLE"?n="<tr><td>"+l+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+l+"</li>");const f=Zi(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),f.toLowerCase())?(n=l,n=e.dom.createHTML(f,wx(e),n)):n||(n=l),WA(e,n,s.no_selection),{content:n,html:n}}else{s.format!=="raw"&&(n=th({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const l=Lb(Be.fromDom(t))?n:Kt.trim(n);return WA(e,l,s.no_selection),{content:l,html:l}}},q7=(e,t,n,s)=>{MA(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const l=th({validate:!1},e.schema).serialize(n),f=ll(Lb(Be.fromDom(t))?l:Kt.trim(l));return WA(e,f,s.no_selection),{content:n,html:f}},G7=(e,t,n)=>J.from(e.getBody()).map(s=>_0(t)?q7(e,s,t,n):K7(e,s,t,n)).getOr({content:t,html:_0(n.content)?"":n.content}),FR=e=>Ne(e)?e:xn,Ad=(e,t,n)=>{let s=e.dom;const l=FR(n);for(;s.parentNode;){s=s.parentNode;const f=Be.fromDom(s),g=t(f);if(g.isSome())return g;if(l(f))break}return J.none()},E2=(e,t,n)=>{const s=t(e),l=FR(n);return s.orThunk(()=>l(e)?J.none():Ad(e,t,l))},z_=uv,ZA=(e,t,n)=>{const s=e.formatter.get(n);if(s)for(let l=0;l<s.length;l++){const f=s[l];if(Ac(f)&&f.inherit===!1&&e.dom.is(t,f.selector))return!0}return!1},H_=(e,t,n,s,l)=>{const f=e.dom.getRoot();if(t===f)return!1;const g=e.dom.getParent(t,C=>ZA(e,C,n)?!0:C.parentNode===f||!!Um(e,C,n,s,!0));return!!Um(e,g,n,s,l)},V_=(e,t,n)=>Qa(n)&&z_(t,n.inline)||Ef(n)&&z_(t,n.block)?!0:Ac(n)?yn(t)&&e.is(t,n.selector):!1,jA=(e,t,n,s,l,f)=>{const g=n[s],C=s==="attributes";if(Ne(n.onmatch))return n.onmatch(t,n,s);if(g){if(Qt(g)){for(let A=0;A<g.length;A++)if(C?e.getAttrib(t,g[A]):Vx(e,t,g[A]))return!0}else for(const A in g)if(Yn(g,A)){const z=C?e.getAttrib(t,A):Vx(e,t,A),j=Yg(g[A],f),G=ot(z)||Lt(z);if(G&&ot(j))continue;if(l&&G&&!n.exact||(!l||n.exact)&&!z_(z,RC(j,A)))return!1}}return!0},Um=(e,t,n,s,l)=>{const f=e.formatter.get(n),g=e.dom;if(f&&yn(t))for(let C=0;C<f.length;C++){const A=f[C];if(V_(e.dom,t,A)&&jA(g,t,A,"attributes",l,s)&&jA(g,t,A,"styles",l,s)){const z=A.classes;if(z){for(let j=0;j<z.length;j++)if(!e.dom.hasClass(t,Yg(z[j],s)))return}return A}}},pp=(e,t,n,s,l)=>{if(s)return H_(e,s,t,n,l);if(s=e.selection.getNode(),H_(e,s,t,n,l))return!0;const f=e.selection.getStart();return!!(f!==s&&H_(e,f,t,n,l))},zR=(e,t,n)=>{const s=[],l={},f=e.selection.getStart();return e.dom.getParent(f,g=>{for(let C=0;C<t.length;C++){const A=t[C];!l[A]&&Um(e,g,A,n)&&(l[A]=!0,s.push(A))}},e.dom.getRoot()),s},HR=(e,t)=>{const n=l=>Lo(l,Be.fromDom(e.getBody())),s=(l,f)=>Um(e,l.dom,f)?J.some(f):J.none();return J.from(e.selection.getStart(!0)).bind(l=>E2(Be.fromDom(l),f=>Wr(t,g=>s(f,g)),n)).getOrNull()},VR=(e,t)=>{const n=e.formatter.get(t),s=e.dom;if(n&&e.selection.isEditable()){const l=e.selection.getStart(),f=$x(s,l);for(let g=n.length-1;g>=0;g--){const C=n[g];if(!Ac(C))return!0;for(let A=f.length-1;A>=0;A--)if(s.is(f[A],C.selector))return!0}}return!1},KA=(e,t,n)=>It(n,(s,l)=>{const f=T5(e,l);return e.formatter.matchNode(t,l,{},f)?s.concat([l]):s},[]),A2=ia,Y7=(e,t)=>e.importNode(t,!0),$R=e=>{if(e){const t=new Ka(e,e);for(let n=t.current();n;n=t.next())if(Mt(n))return n}return null},Wm=e=>{const t=Be.fromTag("span");return xi(t,{id:sv,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Rs(t,Be.fromText(A2)),t},qA=e=>{const t=$R(e);return t&&t.data.charAt(0)===A2&&t.deleteData(0,1),t},GA=(e,t,n)=>{const s=e.dom,l=e.selection;if(bE(t))ul(e,!1,Be.fromDom(t),n,!0);else{const f=l.getRng(),g=s.getParent(t,s.isBlock),C=f.startContainer,A=f.startOffset,z=f.endContainer,j=f.endOffset,G=qA(t);s.remove(t,!0),C===G&&A>0&&f.setStart(G,A-1),z===G&&j>0&&f.setEnd(G,j-1),g&&s.isEmpty(g)&&_c(Be.fromDom(g)),l.setRng(f)}},YA=(e,t,n)=>{const s=e.dom,l=e.selection;if(t)GA(e,t,n);else if(t=Jh(e.getBody(),l.getStart()),!t)for(;t=s.get(sv);)GA(e,t,n)},S0=(e,t,n)=>{var s,l;const f=e.dom,g=f.getParent(n,pt(DC,e.schema));g&&f.isEmpty(g)?(s=n.parentNode)===null||s===void 0||s.replaceChild(t,n):(Zl(Be.fromDom(n)),f.isEmpty(n)?(l=n.parentNode)===null||l===void 0||l.replaceChild(t,n):f.insertAfter(t,n))},XA=(e,t)=>(e.appendChild(t),t),T2=(e,t)=>{var n;const s=zt(e,(f,g)=>XA(f,g.cloneNode(!1)),t),l=(n=s.ownerDocument)!==null&&n!==void 0?n:document;return XA(s,l.createTextNode(A2))},X7=(e,t,n,s,l,f)=>{const g=e.formatter,C=e.dom,A=Ct(Vt(g.get()),G=>G!==s&&!yr(G,"removeformat")),z=KA(e,n,A);if(Ct(z,G=>!O5(e,G,s)).length>0){const G=n.cloneNode(!1);return C.add(t,G),g.remove(s,l,G,f),C.remove(G),J.some(G)}else return J.none()},UR=e=>Nb(e,_m(e).replace(new RegExp(`${ma}$`)," ")),JA=(e,t)=>{const n=()=>{t!==null&&!e.dom.isEmpty(t)&&sa(Be.fromDom(t)).each(s=>{Yr(s)?UR(s):Ea(s,l=>Yr(l)).each(l=>{Yr(l)&&UR(l)})})};e.once("input",s=>{s.data&&!s0(s.data)&&(s.isComposing?e.once("compositionend",()=>{n()}):n())})},ah=(e,t,n)=>{let s;const l=e.selection,f=e.formatter.get(t);if(!f)return;const g=l.getRng();let C=g.startOffset;const z=g.startContainer.nodeValue;s=Jh(e.getBody(),l.getStart());const j=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(z&&C>0&&C<z.length&&j.test(z.charAt(C))&&j.test(z.charAt(C-1))){const G=l.getBookmark();g.collapse(!0);let X=tp(e.dom,g,f);X=r2(X),e.formatter.apply(t,n,X),l.moveToBookmark(G)}else{let G=s?$R(s):null;(!s||(G==null?void 0:G.data)!==A2)&&(s=Y7(e.getDoc(),Wm(!0).dom),G=s.firstChild,g.insertNode(s),C=1,JA(e,s)),e.formatter.apply(t,n,s),l.setCursorLocation(G,C)}},QA=(e,t,n,s)=>{const l=e.dom,f=e.selection;let g=!1;const C=e.formatter.get(t);if(!C)return;const A=f.getRng(),z=A.startContainer,j=A.startOffset;let G=z;Mt(z)&&(j!==z.data.length&&(g=!0),G=G.parentNode);const X=[];let ue;for(;G;){if(Um(e,G,t,n,s)){ue=G;break}G.nextSibling&&(g=!0),X.push(G),G=G.parentNode}if(ue)if(g){const we=f.getBookmark();A.collapse(!0);let de=tp(l,A,C,!0);de=r2(de),e.formatter.remove(t,n,de,s),f.moveToBookmark(we)}else{const we=Jh(e.getBody(),ue),de=Ce(we)?l.getParents(ue.parentNode,Rn,we):[],ke=Wm(!1).dom;S0(e,ke,we??ue);const Fe=X7(e,ke,ue,t,n,s),qe=T2([...X,...Fe.toArray(),...de],ke);we&&GA(e,we,Ce(we)),f.setCursorLocation(qe,1),JA(e,ke),l.isEmpty(ue)&&l.remove(ue)}},e3=(e,t,n)=>{const s=e.selection,l=e.getBody();YA(e,null,n),(t===8||t===46)&&s.isCollapsed()&&s.getStart().innerHTML===A2&&YA(e,Jh(l,s.getStart()),!0),(t===37||t===39)&&YA(e,Jh(l,s.getStart()),!0)},t3=e=>Mt(e)&&Se(e.data,ma),WR=e=>{e.on("mouseup keydown",t=>{e3(e,t.keyCode,t3(e.selection.getRng().endContainer))})},n3=e=>{const t=Wm(!1),n=T2(e,t.dom);return{caretContainer:t,caretPosition:mt(n,0)}},o3=(e,t)=>{const{caretContainer:n,caretPosition:s}=n3(t);return gs(Be.fromDom(e),n),gr(Be.fromDom(e)),s},J7=(e,t)=>{const{caretContainer:n,caretPosition:s}=n3(t);return e.insertNode(n.dom),s},Ev=(e,t)=>{if(au(t.dom))return!1;const n=e.schema.getTextInlineElements();return Yn(n,Po(t))&&!au(t.dom)&&!nf(t.dom)},bp={},r3=qa(["pre"]),ZR=(e,t)=>{bp[e]||(bp[e]=[]),bp[e].push(t)},jR=(e,t)=>{Yn(bp,e)&&pe(bp[e],n=>{n(t)})};ZR("pre",e=>{const t=e.selection.getRng(),n=l=>f=>{const g=f.previousSibling;return r3(g)&&le(l,g)},s=(l,f)=>{const g=Be.fromDom(f),C=Hl(g).dom;gr(g),Vs(Be.fromDom(l),[Be.fromTag("br",C),Be.fromTag("br",C),...ja(g)])};if(!t.collapsed){const l=e.selection.getSelectedBlocks(),f=Ct(Ct(l,r3),n(l));pe(f,g=>{s(g.previousSibling,g)})}});const s3=["fontWeight","fontStyle","color","fontSize","fontFamily"],$_=e=>te(e.styles)&&xe(Vt(e.styles),t=>le(s3,t)),a3=e=>wn(e,t=>Qa(t)&&t.inline==="span"&&$_(t)),Av=(e,t)=>{const n=e.get(t);return ne(n)?a3(n):J.none()},KR=(e,t)=>Ec(t,mt.fromRangeStart(e)).isNone(),i3=(e,t)=>Rl(t,mt.fromRangeEnd(e)).exists(n=>!os(n.getNode())||Rl(t,n).isSome())===!1,qR=e=>t=>Ny(t)&&e.isEditable(t),Q7=e=>{const t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return KR(n,t[0])&&i3(n,t[0])?t:[];{const s=un(t).filter(g=>KR(n,g)).toArray(),l=po(t).filter(g=>i3(n,g)).toArray(),f=t.slice(1,-1);return s.concat(f).concat(l)}},GR=e=>Ct(Q7(e),qR(e.dom)),l3=e=>Ct(e.getSelectedBlocks(),qR(e.dom)),c3=Kt.each,U_=e=>yn(e)&&!iu(e)&&!au(e)&&!nf(e),vp=(e,t)=>{for(let n=e;n;n=n[t]){if(Mt(n)&&je(n.data))return e;if(yn(n)&&!iu(n))return n}return e},u3=(e,t,n)=>{const s=E_(e),l=qc(t)&&e.dom.isEditable(t),f=qc(n)&&e.dom.isEditable(n);if(l&&f){const g=vp(t,"previousSibling"),C=vp(n,"nextSibling");if(s.compare(g,C)){for(let A=g.nextSibling;A&&A!==C;){const z=A;A=A.nextSibling,g.appendChild(z)}return e.dom.remove(C),Kt.each(Kt.grep(C.childNodes),A=>{g.appendChild(A)}),g}}return n},W_=(e,t,n,s)=>{var l;if(s&&t.merge_siblings!==!1){const f=(l=u3(e,a0(s),s))!==null&&l!==void 0?l:s;u3(e,f,a0(f,!0))}},YR=(e,t,n)=>{if(t.clear_child_styles){const s=t.links?"*:not(a)":"*";c3(e.select(s,n),l=>{U_(l)&&e.isEditable(l)&&c3(t.styles,(f,g)=>{e.setStyle(l,g,"")})})}},O2=(e,t,n)=>{c3(e.childNodes,s=>{U_(s)&&(t(s)&&n(s),s.hasChildNodes()&&O2(s,t,n))})},yp=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},d3=(e,t)=>n=>!!(n&&Vx(e,n,t)),uu=(e,t,n)=>s=>{e.setStyle(s,t,n),s.getAttribute("style")===""&&s.removeAttribute("style"),yp(e,s)},Zu=Mo.generate([{keep:[]},{rename:["name"]},{removed:[]}]),f3=/^(src|href|style)$/,Z_=Kt.each,j_=uv,XR=e=>/^(TR|TH|TD)$/.test(e.nodeName),k0=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),D2=(e,t,n)=>{let s=t[n?"startContainer":"endContainer"],l=t[n?"startOffset":"endOffset"];if(yn(s)){const f=s.childNodes.length-1;!n&&l&&l--,s=s.childNodes[l>f?f:l]}return Mt(s)&&n&&l>=s.data.length&&(s=new Ka(s,e.getBody()).next()||s),Mt(s)&&!n&&l===0&&(s=new Ka(s,e.getBody()).prev()||s),s},m3=(e,t)=>{const n=t?"firstChild":"lastChild",s=e[n];return XR(e)&&s?e.nodeName==="TR"&&s[n]||s:e},K_=(e,t,n,s)=>{var l;const f=e.create(n,s);return(l=t.parentNode)===null||l===void 0||l.insertBefore(f,t),f.appendChild(t),f},q_=(e,t,n,s,l)=>{const f=Be.fromDom(t),g=Be.fromDom(e.create(s,l)),C=n?sm(f):Su(f);return Vs(g,C),n?(gs(f,g),Si(g,f)):(et(f,g),Rs(g,f)),g.dom},eL=(e,t)=>t.links&&e.nodeName==="A",JR=(e,t,n)=>{const s=t.parentNode;let l;const f=e.dom,g=Zi(e);Ef(n)&&s===f.getRoot()&&(!n.list_block||!j_(t,n.list_block))&&pe(io(t.childNodes),C=>{Qh(e,g,C.nodeName.toLowerCase())?l?l.appendChild(C):(l=K_(f,C,g),f.setAttribs(l,wx(e))):l=null}),!(N5(n)&&!j_(n.inline,t))&&f.remove(t,!0)},g3=(e,t,n)=>D(e)?{name:t,value:null}:{name:e,value:Yg(t,n)},QR=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},Rc=(e,t,n,s,l)=>{let f=!1;Z_(n.styles,(g,C)=>{const{name:A,value:z}=g3(C,g,s),j=RC(z,A);(n.remove_similar||Ge(z)||!yn(l)||j_(Vx(e,l,A),j))&&e.setStyle(t,A,""),f=!0}),f&&QR(e,t)},h3=(e,t,n)=>{t==="removeformat"?pe(l3(e.selection),s=>{pe(s3,l=>e.dom.setStyle(s,l,"")),QR(e.dom,s)}):Av(e.formatter,t).each(s=>{pe(l3(e.selection),l=>Rc(e.dom,l,s,n,null))})},p3=(e,t,n,s,l)=>{const f=e.dom,g=E_(e),C=e.schema;if(Qa(t)&&gb(C,t.inline)&&af(C,s)&&s.parentElement===e.getBody())return JR(e,s,t),Zu.removed();if(!t.ceFalseOverride&&s&&f.getContentEditableParent(s)==="false"||s&&!V_(f,s,t)&&!eL(s,t))return Zu.keep();const A=s,z=t.preserve_attributes;if(Qa(t)&&t.remove==="all"&&ne(z)){const j=Ct(f.getAttribs(A),G=>le(z,G.name.toLowerCase()));if(f.removeAllAttribs(A),pe(j,G=>f.setAttrib(A,G.name,G.value)),j.length>0)return Zu.rename("span")}if(t.remove!=="all"){Rc(f,A,t,n,l),Z_(t.attributes,(G,X)=>{const{name:ue,value:we}=g3(X,G,n);if(t.remove_similar||Ge(we)||!yn(l)||j_(f.getAttrib(l,ue),we)){if(ue==="class"){const de=f.getAttrib(A,ue);if(de){let ke="";if(pe(de.split(/\s+/),Fe=>{/mce\-\w+/.test(Fe)&&(ke+=(ke?" ":"")+Fe)}),ke){f.setAttrib(A,ue,ke);return}}}if(f3.test(ue)&&A.removeAttribute("data-mce-"+ue),ue==="style"&&qa(["li"])(A)&&f.getStyle(A,"list-style-type")==="none"){A.removeAttribute(ue),f.setStyle(A,"list-style-type","none");return}ue==="class"&&A.removeAttribute("className"),A.removeAttribute(ue)}}),Z_(t.classes,G=>{G=Yg(G,n),(!yn(l)||f.hasClass(l,G))&&f.removeClass(A,G)});const j=f.getAttribs(A);for(let G=0;G<j.length;G++){const X=j[G].nodeName;if(!g.isAttributeInternal(X))return Zu.keep()}}return t.remove!=="none"?(JR(e,A,t),Zu.removed()):Zu.keep()},b3=(e,t,n,s,l)=>{let f;return t.parentNode&&pe($x(e.dom,t.parentNode).reverse(),g=>{if(!f&&yn(g)&&g.id!=="_start"&&g.id!=="_end"){const C=Um(e,g,n,s,l);C&&C.split!==!1&&(f=g)}}),f},eN=(e,t,n,s)=>p3(e,t,n,s,s).fold(Qe(s),l=>(e.dom.createFragment().appendChild(s),e.dom.rename(s,l)),Qe(null)),R2=(e,t,n,s,l,f,g,C)=>{var A,z;let j,G;const X=e.dom;if(n){const ue=n.parentNode;for(let we=s.parentNode;we&&we!==ue;we=we.parentNode){let de=X.clone(we,!1);for(let ke=0;ke<t.length&&(de=eN(e,t[ke],C,de),de!==null);ke++);de&&(j&&de.appendChild(j),G||(G=de),j=de)}(!g.mixed||!X.isBlock(n))&&(s=(A=X.split(n,s))!==null&&A!==void 0?A:s),j&&G&&((z=l.parentNode)===null||z===void 0||z.insertBefore(j,l),G.appendChild(l),Qa(g)&&W_(e,g,C,j))}return s},ih=(e,t,n,s,l)=>{const f=e.formatter.get(t),g=f[0],C=e.dom,A=e.selection,z=de=>{const ke=b3(e,de,t,n,l);return R2(e,f,ke,de,de,!0,g,n)},j=de=>iu(de)&&yn(de)&&(de.id==="_start"||de.id==="_end"),G=de=>xe(f,ke=>wp(e,ke,n,de,de)),X=de=>{const ke=io(de.childNodes),qe=G(de)||xe(f,Nt=>V_(C,de,Nt)),We=de.parentNode;if(!qe&&Ce(We)&&IC(g)&&G(We),g.deep&&ke.length)for(let Nt=0;Nt<ke.length;Nt++)X(ke[Nt]);pe(["underline","line-through","overline"],Nt=>{yn(de)&&e.dom.getStyle(de,"text-decoration")===Nt&&de.parentNode&&pE(C,de.parentNode)===Nt&&wp(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Nt}},void 0,de)})},ue=de=>{const ke=C.get(de?"_start":"_end");if(ke){let Fe=ke[de?"firstChild":"lastChild"];return j(Fe)&&(Fe=Fe[de?"firstChild":"lastChild"]),Mt(Fe)&&Fe.data.length===0&&(Fe=de?ke.previousSibling||ke.nextSibling:ke.nextSibling||ke.previousSibling),C.remove(ke,!0),Fe}else return null},we=de=>{let ke,Fe,qe=tp(C,de,f,de.collapsed);if(g.split){if(qe=r2(qe),ke=D2(e,qe,!0),Fe=D2(e,qe),ke!==Fe){if(ke=m3(ke,!0),Fe=m3(Fe,!1),k0(C,ke,Fe)){const at=J.from(ke.firstChild).getOr(ke);z(q_(C,at,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ue(!0);return}if(k0(C,Fe,ke)){const at=J.from(Fe.lastChild).getOr(Fe);z(q_(C,at,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ue(!1);return}ke=K_(C,ke,"span",{id:"_start","data-mce-type":"bookmark"}),Fe=K_(C,Fe,"span",{id:"_end","data-mce-type":"bookmark"});const We=C.createRng();We.setStartAfter(ke),We.setEndBefore(Fe),jx(C,We,at=>{pe(at,Nt=>{!iu(Nt)&&!iu(Nt.parentNode)&&z(Nt)})}),z(ke),z(Fe),ke=ue(!0),Fe=ue()}else ke=Fe=z(ke);qe.startContainer=ke.parentNode?ke.parentNode:ke,qe.startOffset=C.nodeIndex(ke),qe.endContainer=Fe.parentNode?Fe.parentNode:Fe,qe.endOffset=C.nodeIndex(Fe)+1}jx(C,qe,We=>{pe(We,X)})};if(s){if(cv(s)){const de=C.createRng();de.setStartBefore(s),de.setEndAfter(s),we(de)}else we(s);V5(e,t,s,n);return}!A.isCollapsed()||!Qa(g)||kf(e).length?(mE(e,()=>lv(e,we),de=>Qa(g)&&pp(e,t,n,de)),e.nodeChanged()):QA(e,t,n,l),h3(e,t,n),V5(e,t,s,n)},xp=(e,t,n,s,l)=>{(s||e.selection.isEditable())&&ih(e,t,n,s,l)},wp=(e,t,n,s,l)=>p3(e,t,n,s,l).fold(xn,f=>(e.dom.rename(s,f),!0),Rn),G_=Kt.each,v3=(e,t,n,s)=>{const l=f=>{if(qc(f)&&yn(f.parentNode)&&e.isEditable(f)){const g=pE(e,f.parentNode);e.getStyle(f,"color")&&g?e.setStyle(f,"text-decoration",g):e.getStyle(f,"text-decoration")===g&&e.setStyle(f,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(Kt.walk(s,l,"childNodes"),l(s))},tN=(e,t,n,s)=>{if(t.styles&&t.styles.backgroundColor){const l=d3(e,"fontSize");O2(s,f=>l(f)&&e.isEditable(f),uu(e,"backgroundColor",Yg(t.styles.backgroundColor,n)))}},tL=(e,t,n,s)=>{if(Qa(t)&&(t.inline==="sub"||t.inline==="sup")){const l=d3(e,"fontSize");O2(s,g=>l(g)&&e.isEditable(g),uu(e,"fontSize",""));const f=Ct(e.select(t.inline==="sup"?"sub":"sup",s),e.isEditable);e.remove(f,!0)}},nN=(e,t,n,s)=>{G_(t,l=>{Qa(l)&&G_(e.dom.select(l.inline,s),f=>{U_(f)&&wp(e,l,n,f,l.exact?f:null)}),YR(e.dom,l,s)})},oN=(e,t,n,s,l)=>{const f=l.parentNode;Um(e,f,n,s)&&wp(e,t,s,l)||t.merge_with_parents&&f&&e.dom.getParent(f,g=>Um(e,g,n,s)?(wp(e,t,s,l),!0):!1)},N2=Kt.each,rN=(e,t,n,s)=>{if(qM(e)&&Qa(t)&&n.parentNode){const l=S1(e.schema),f=ib(Be.fromDom(n),g=>au(g.dom));return Al(l,s)&&Ul(e.schema,n.parentNode,{skipBogus:!1,includeZwsp:!0})&&!f}else return!1},sN=(e,t,n,s)=>{if(N2(n.styles,(l,f)=>{e.setStyle(t,f,Yg(l,s))}),n.styles){const l=e.getAttrib(t,"style");l&&e.setAttrib(t,"data-mce-style",l)}},nL=(e,t,n,s)=>{const l=e.formatter.get(t),f=l[0],g=!s&&e.selection.isCollapsed(),C=e.dom,A=e.selection,z=(we,de=f)=>{Ne(de.onformat)&&de.onformat(we,de,n,s),sN(C,we,de,n),N2(de.attributes,(ke,Fe)=>{C.setAttrib(we,Fe,Yg(ke,n))}),N2(de.classes,ke=>{const Fe=Yg(ke,n);C.hasClass(we,Fe)||C.addClass(we,Fe)})},j=(we,de)=>{let ke=!1;return N2(we,Fe=>Ac(Fe)?C.getContentEditable(de)==="false"&&!Fe.ceFalseOverride||Ce(Fe.collapsed)&&Fe.collapsed!==g?!0:C.is(de,Fe.selector)&&!au(de)?(z(de,Fe),ke=!0,!1):!0:!1),ke},G=we=>{if(Te(we)){const de=C.create(we);return z(de),de}else return null},X=(we,de,ke)=>{const Fe=[];let qe=!0;const We=f.inline||f.block,at=G(We),Nt=wt=>D5(f)&&Um(e,wt,t,n),jt=(wt,dt,Dt)=>{const bn=R5(f)&&DC(e.schema,wt)&&Qh(e,dt,We);return Dt&&bn},dn=(wt,dt,Dt,bn)=>{const Nn=wt.nodeName.toLowerCase(),yo=Qh(e,We,Nn)&&Qh(e,dt,We),Oo=!ke&&Mt(wt)&&Sc(wt.data),hr=au(wt),Dr=!Qa(f)||!we.isBlock(wt);return(Dt||bn)&&yo&&!Oo&&!hr&&Dr};jx(we,de,wt=>{let dt;const Dt=bn=>{let Nn=!1,yo=qe,Oo=!1;const hr=bn.parentNode,Dr=hr.nodeName.toLowerCase(),Ys=we.getContentEditable(bn);Ce(Ys)&&(yo=qe,qe=Ys==="true",Nn=!0,Oo=hE(e,bn));const ml=qe&&!Nn;if(os(bn)&&!rN(e,f,bn,Dr)){dt=null,Ef(f)&&we.remove(bn);return}if(Nt(bn)){dt=null;return}if(jt(bn,Dr,ml)){const Pr=we.rename(bn,We);z(Pr),Fe.push(Pr),dt=null;return}if(Ac(f)){let Pr=j(l,bn);if(!Pr&&Ce(hr)&&IC(f)&&(Pr=j(l,hr)),!Qa(f)||Pr){dt=null;return}}Ce(at)&&dn(bn,Dr,ml,Oo)?(dt||(dt=we.clone(at,!1),hr.insertBefore(dt,bn),Fe.push(dt)),Oo&&Nn&&(qe=yo),dt.appendChild(bn)):(dt=null,pe(io(bn.childNodes),Dt),Nn&&(qe=yo),dt=null)};pe(wt,Dt)}),f.links===!0&&pe(Fe,wt=>{const dt=Dt=>{Dt.nodeName==="A"&&z(Dt,f),pe(io(Dt.childNodes),dt)};dt(wt)}),pe(Fe,wt=>{const dt=Nn=>{let yo=0;return pe(Nn.childNodes,Oo=>{!CP(Oo)&&!iu(Oo)&&yo++}),yo},Dt=Nn=>wn(Nn.childNodes,OC).filter(Oo=>we.getContentEditable(Oo)!=="false"&&V_(we,Oo,f)).map(Oo=>{const hr=we.clone(Oo,!1);return z(hr),we.replace(hr,Nn,!0),we.remove(Oo,!0),hr}).getOr(Nn),bn=dt(wt);if((Fe.length>1||!we.isBlock(wt))&&bn===0){we.remove(wt,!0);return}(Qa(f)||Ef(f)&&f.wrapper)&&(!f.exact&&bn===1&&(wt=Dt(wt)),nN(e,l,n,wt),oN(e,f,t,n,wt),tN(we,f,n,wt),v3(we,f,n,wt),tL(we,f,n,wt),W_(e,f,n,wt))})},ue=cv(s)?s:A.getNode();if(C.getContentEditable(ue)==="false"&&!hE(e,ue)){s=ue,j(l,s),H5(e,t,s,n);return}if(f){if(s)if(cv(s)){if(!j(l,s)){const we=C.createRng();we.setStartBefore(s),we.setEndAfter(s),X(C,tp(C,we,l),!0)}}else X(C,s,!0);else!g||!Qa(f)||kf(e).length?(A.setRng(D_(A.getRng())),mE(e,()=>{lv(e,(we,de)=>{const ke=de?we:tp(C,we,l);X(C,ke,!1)})},Rn),e.nodeChanged()):ah(e,t,n),Av(e.formatter,t).each(we=>{pe(GR(e.selection),de=>sN(C,de,we,n))});jR(t,e)}H5(e,t,s,n)},aN=(e,t,n,s)=>{(s||e.selection.isEditable())&&nL(e,t,n,s)},Nl=e=>Yn(e,"vars"),iN=(e,t)=>{e.set({}),t.on("NodeChange",n=>{x3(t,n.element,e.get())}),t.on("FormatApply FormatRemove",n=>{const s=J.from(n.node).map(l=>cv(l)?l:l.startContainer).bind(l=>yn(l)?J.some(l):J.from(l.parentElement)).getOrThunk(()=>Tv(t));x3(t,s,e.get())})},Tv=e=>e.selection.getStart(),lN=(e,t,n,s,l)=>on(t,C=>{const A=e.formatter.matchNode(C,n,l??{},s);return!Ze(A)},C=>ZA(e,C,n)?!0:s?!1:Ce(e.formatter.matchNode(C,n,l,!0))),y3=(e,t)=>{const n=t??Tv(e);return Ct($x(e.dom,n),s=>yn(s)&&!nf(s))},x3=(e,t,n)=>{const s=y3(e,t);Uo(n,(l,f)=>{const g=C=>{const A=lN(e,s,f,C.similar,Nl(C)?C.vars:void 0),z=A.isSome();if(C.state.get()!==z){C.state.set(z);const j=A.getOr(t);Nl(C)?C.callback(z,{node:j,format:f,parents:s}):pe(C.callbacks,G=>G(z,{node:j,format:f,parents:s}))}};pe([l.withSimilar,l.withoutSimilar],g),pe(l.withVars,g)})},w3=(e,t,n,s,l,f)=>{const g=t.get();pe(n.split(","),C=>{const A=mr(g,C).getOrThunk(()=>{const j={withSimilar:{state:ga(!1),similar:!0,callbacks:[]},withoutSimilar:{state:ga(!1),similar:!1,callbacks:[]},withVars:[]};return g[C]=j,j}),z=()=>{const j=y3(e);return lN(e,j,C,l,f).isSome()};if(Ze(f)){const j=l?A.withSimilar:A.withoutSimilar;j.callbacks.push(s),j.callbacks.length===1&&j.state.set(z())}else A.withVars.push({state:ga(z()),similar:l,vars:f,callback:s})}),t.set(g)},cN=(e,t,n)=>{const s=e.get();pe(t.split(","),l=>mr(s,l).each(f=>{s[l]={withSimilar:{...f.withSimilar,callbacks:Ct(f.withSimilar.callbacks,g=>g!==n)},withoutSimilar:{...f.withoutSimilar,callbacks:Ct(f.withoutSimilar.callbacks,g=>g!==n)},withVars:Ct(f.withVars,g=>g.callback!==n)}})),e.set(s)},oL=(e,t,n,s,l,f)=>(w3(e,t,n,s,l,f),{unbind:()=>cN(t,n,s)}),rL=(e,t,n,s)=>{const l=e.formatter.get(t);l&&(pp(e,t,n,s)&&(!("toggle"in l[0])||l[0].toggle)?xp(e,t,n,s):aN(e,t,n,s))},uN=Kt.explode,Y_=()=>{const e={};return{addFilter:(l,f)=>{pe(uN(l),g=>{Yn(e,g)||(e[g]={name:g,callbacks:[]}),e[g].callbacks.push(f)})},getFilters:()=>pu(e),removeFilter:(l,f)=>{pe(uN(l),g=>{if(Yn(e,g))if(Ce(f)){const C=e[g],A=Ct(C.callbacks,z=>z!==f);A.length>0?C.callbacks=A:delete e[g]}else delete e[g]})}}},sL=(e,t)=>{pe(t,n=>{e.attr(n,null)})},aL=(e,t,n)=>{e.addNodeFilter("font",s=>{pe(s,l=>{const f=t.parse(l.attr("style")),g=l.attr("color"),C=l.attr("face"),A=l.attr("size");g&&(f.color=g),C&&(f["font-family"]=C),A&&nn(A).each(z=>{f["font-size"]=n[z-1]}),l.name="span",l.attr("style",t.serialize(f)),sL(l,["color","face","size"])})})},dN=(e,t,n)=>{e.addNodeFilter("strike",s=>{const l=t.type!=="html4";pe(s,f=>{if(l)f.name="s";else{const g=n.parse(f.attr("style"));g["text-decoration"]="line-through",f.name="span",f.attr("style",n.serialize(g))}})})},iL=(e,t,n)=>{var s;const l=Yy();t.convert_fonts_to_spans&&aL(e,l,Kt.explode((s=t.font_size_legacy_values)!==null&&s!==void 0?s:"")),dN(e,n,l)},lL=(e,t,n)=>{t.inline_styles&&iL(e,t,n)},C3=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),X_=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},J_=e=>{const[t,...n]=e.split(","),s=n.join(","),l=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(l){const f=l[2]===";base64",g=f?X_(s):decodeURIComponent(s);return J.some({type:l[1],data:g,base64Encoded:f})}else return J.none()},_3=(e,t,n=!0)=>{let s=t;if(n)try{s=atob(t)}catch{return J.none()}const l=new Uint8Array(s.length);for(let f=0;f<l.length;f++)l[f]=s.charCodeAt(f);return J.some(new Blob([l],{type:e}))},S3=e=>new Promise((t,n)=>{J_(e).bind(({type:s,data:l,base64Encoded:f})=>_3(s,l,f)).fold(()=>n("Invalid data URI"),t)}),cL=e=>Gr(e,"blob:")?C3(e):Gr(e,"data:")?S3(e):Promise.reject("Unknown URI format"),fN=e=>new Promise((t,n)=>{const s=new FileReader;s.onloadend=()=>{t(s.result)},s.onerror=()=>{var l;n((l=s.error)===null||l===void 0?void 0:l.message)},s.readAsDataURL(e)});let uL=0;const E0=e=>"blobid"+uL++,mN=(e,t,n)=>J_(e).bind(({data:s,type:l,base64Encoded:f})=>{if(t&&!f)return J.none();{const g=f?s:btoa(s);return n(g,l)}}),I2=(e,t,n)=>{const s=e.create(E0(),t,n);return e.add(s),s},gN=(e,t,n=!1)=>mN(t,n,(s,l)=>J.from(e.getByData(s,l)).orThunk(()=>_3(l,s).map(f=>I2(e,f,s)))),k3=(e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(Gr(t,"blob:")){const s=e.getByUri(t);return Ce(s)?Promise.resolve(s):cL(t).then(l=>fN(l).then(f=>mN(f,!1,g=>J.some(I2(e,l,g))).getOrThunk(n)))}else return Gr(t,"data:")?gN(e,t).fold(n,s=>Promise.resolve(s)):Promise.reject("Unknown image data format")},hN=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,pN=e=>J.from(e.match(hN)).bind(t=>vi(t,1)).map(t=>Gr(t,"www.")?t.substring(4):t),E3=(e,t)=>{J.from(e.attr("src")).bind(pN).forall(n=>!le(t,n))&&e.attr("sandbox","")},Ov=(e,t)=>Gr(e,`${t}/`),dL=e=>Ze(e)?"iframe":Ov(e,"image")?"img":Ov(e,"video")?"video":Ov(e,"audio")?"audio":"iframe",fL=({type:e,src:t,width:n,height:s}={},l,f)=>{const g=dL(e),C=new fi(g,1);return C.attr(g==="audio"?{src:t}:{src:t,width:n,height:s}),(g==="audio"||g==="video")&&C.attr("controls",""),g==="iframe"&&l&&E3(C,f),C},A3=e=>Ce(e.attr("data-mce-bogus")),bN=e=>e.attr("src")===_o.transparentSrc||Ce(e.attr("data-mce-placeholder")),mL=(e,t)=>{const{blob_cache:n}=t;if(n){const s=l=>{const f=l.attr("src");bN(l)||A3(l)||ot(f)||gN(n,f,!0).each(g=>{l.attr("src",g.blobUri())})};e.addAttributeFilter("src",l=>pe(l,s))}},gL=(e,t)=>{var n,s;const l=e.schema;e.addAttributeFilter("href",A=>{let z=A.length;const j=X=>X.split(" ").filter(we=>we.length>0).concat(["noopener"]).sort().join(" "),G=X=>{const ue=X?Kt.trim(X):"";return/\b(noopener)\b/g.test(ue)?ue:j(ue)};if(!t.allow_unsafe_link_target)for(;z--;){const X=A[z];X.name==="a"&&X.attr("target")==="_blank"&&X.attr("rel",G(X.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",A=>{let z=A.length,j,G,X,ue;for(;z--;)if(ue=A[z],ue.name==="a"&&ue.firstChild&&!ue.attr("href"))for(X=ue.parent,j=ue.lastChild;j&&X;)G=j.prev,X.insert(j,ue),j=G}),t.fix_list_elements&&e.addNodeFilter("ul,ol",A=>{let z=A.length,j,G;for(;z--;)if(j=A[z],G=j.parent,G&&(G.name==="ul"||G.name==="ol"))if(j.prev&&j.prev.name==="li")j.prev.append(j);else{const X=new fi("li",1);X.attr("style","list-style-type: none"),j.wrap(X)}});const f=l.getValidClasses();t.validate&&f&&e.addAttributeFilter("class",A=>{var z;let j=A.length;for(;j--;){const G=A[j],X=(z=G.attr("class"))!==null&&z!==void 0?z:"",ue=Kt.explode(X," ");let we="";for(let de=0;de<ue.length;de++){const ke=ue[de];let Fe=!1,qe=f["*"];qe&&qe[ke]&&(Fe=!0),qe=f[G.name],!Fe&&qe&&qe[ke]&&(Fe=!0),Fe&&(we&&(we+=" "),we+=ke)}we.length||(we=null),G.attr("class",we)}}),mL(e,t);const g=(n=t.sandbox_iframes)!==null&&n!==void 0?n:!1,C=Fa((s=t.sandbox_iframes_exclusions)!==null&&s!==void 0?s:[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",A=>pe(A,z=>{z.replace(fL({type:z.attr("type"),src:z.name==="object"?z.attr("data"):z.attr("src"),width:z.attr("width"),height:z.attr("height")},g,C))})),g&&e.addNodeFilter("iframe",A=>pe(A,z=>E3(z,C)))},{entries:vN,setPrototypeOf:yN,isFrozen:T3,getPrototypeOf:xN,getOwnPropertyDescriptor:hL}=Object;let{freeze:Nc,seal:ss,create:pL}=Object,{apply:O3,construct:Q_}=typeof Reflect<"u"&&Reflect;O3||(O3=function(t,n,s){return t.apply(n,s)}),Nc||(Nc=function(t){return t}),ss||(ss=function(t){return t}),Q_||(Q_=function(t,n){return new t(...n)});const D3=Yl(Array.prototype.forEach),wN=Yl(Array.prototype.pop),Td=Yl(Array.prototype.push),Dv=Yl(String.prototype.toLowerCase),eS=Yl(String.prototype.toString),R3=Yl(String.prototype.match),ju=Yl(String.prototype.replace),N3=Yl(String.prototype.indexOf),CN=Yl(String.prototype.trim),Gl=Yl(RegExp.prototype.test),Cp=B2(TypeError);function Yl(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),l=1;l<n;l++)s[l-1]=arguments[l];return O3(e,t,s)}}function B2(e){return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return Q_(e,n)}}function $o(e,t,n){var s;n=(s=n)!==null&&s!==void 0?s:Dv,yN&&yN(e,null);let l=t.length;for(;l--;){let f=t[l];if(typeof f=="string"){const g=n(f);g!==f&&(T3(t)||(t[l]=g),f=g)}e[f]=!0}return e}function Zm(e){const t=pL(null);for(const[n,s]of vN(e))t[n]=s;return t}function M2(e,t){for(;e!==null;){const s=hL(e,t);if(s){if(s.get)return Yl(s.get);if(typeof s.value=="function")return Yl(s.value)}e=xN(e)}function n(s){return console.warn("fallback value for",s),null}return n}const I3=Nc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),B3=Nc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),tS=Nc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),bL=Nc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),M3=Nc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),P2=Nc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),_N=Nc(["#text"]),SN=Nc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),P3=Nc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),kN=Nc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),nS=Nc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),vL=ss(/\{\{[\w\W]*|[\w\W]*\}\}/gm),yL=ss(/<%[\w\W]*|[\w\W]*%>/gm),xL=ss(/\${[\w\W]*}/gm),wL=ss(/^data-[\-\w.\u00B7-\uFFFF]/),CL=ss(/^aria-[\-\w]+$/),EN=ss(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),AN=ss(/^(?:\w+script|data):/i),TN=ss(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),L3=ss(/^html$/i);var F3=Object.freeze({__proto__:null,MUSTACHE_EXPR:vL,ERB_EXPR:yL,TMPLIT_EXPR:xL,DATA_ATTR:wL,ARIA_ATTR:CL,IS_ALLOWED_URI:EN,IS_SCRIPT_OR_DATA:AN,ATTR_WHITESPACE:TN,DOCTYPE_NAME:L3});const ON=()=>typeof window>"u"?null:window,DN=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let s=null;const l="data-tt-policy-suffix";n&&n.hasAttribute(l)&&(s=n.getAttribute(l));const f="dompurify"+(s?"#"+s:"");try{return t.createPolicy(f,{createHTML(g){return g},createScriptURL(g){return g}})}catch{return console.warn("TrustedTypes policy "+f+" could not be created."),null}};function z3(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ON();const t=No=>z3(No);if(t.version="3.0.5",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;const n=e.document,s=n.currentScript;let{document:l}=e;const{DocumentFragment:f,HTMLTemplateElement:g,Node:C,Element:A,NodeFilter:z,NamedNodeMap:j=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:G,DOMParser:X,trustedTypes:ue}=e,we=A.prototype,de=M2(we,"cloneNode"),ke=M2(we,"nextSibling"),Fe=M2(we,"childNodes"),qe=M2(we,"parentNode");if(typeof g=="function"){const No=l.createElement("template");No.content&&No.content.ownerDocument&&(l=No.content.ownerDocument)}let We,at="";const{implementation:Nt,createNodeIterator:jt,createDocumentFragment:dn,getElementsByTagName:wt}=l,{importNode:dt}=n;let Dt={};t.isSupported=typeof vN=="function"&&typeof qe=="function"&&Nt&&Nt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:bn,ERB_EXPR:Nn,TMPLIT_EXPR:yo,DATA_ATTR:Oo,ARIA_ATTR:hr,IS_SCRIPT_OR_DATA:Dr,ATTR_WHITESPACE:Ys}=F3;let{IS_ALLOWED_URI:ml}=F3,Pr=null;const Xt=$o({},[...I3,...B3,...tS,...M3,..._N]);let Tn=null;const er=$o({},[...SN,...P3,...kN,...nS]);let tn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Hn=null,Eo=null,an=!0,xo=!0,Ro=!1,mi=!0,Er=!1,ni=!1,Bf=!1,bh=!1,Ql=!1,Yu=!1,Mf=!1,Xu=!0,Pf=!1;const Mn="user-content-";let jo=!0,Fs=!1,oa={},Ia=null;const qi=$o({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let xa=null;const wa=$o({},["audio","video","img","source","image","track"]);let ec=null;const Qm=$o({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),eg="http://www.w3.org/1998/Math/MathML",tg="http://www.w3.org/2000/svg",Lf="http://www.w3.org/1999/xhtml";let Yv=Lf,US=!1,WS=null;const q9=$o({},[eg,tg,Lf],eS);let V0;const i8=["application/xhtml+xml","text/html"],iZ="text/html";let Bl,pw=null;const lZ=l.createElement("form"),G9=function(ht){return ht instanceof RegExp||ht instanceof Function},Rp=function(ht){if(!(pw&&pw===ht)){if((!ht||typeof ht!="object")&&(ht={}),ht=Zm(ht),V0=i8.indexOf(ht.PARSER_MEDIA_TYPE)===-1?V0=iZ:V0=ht.PARSER_MEDIA_TYPE,Bl=V0==="application/xhtml+xml"?eS:Dv,Pr="ALLOWED_TAGS"in ht?$o({},ht.ALLOWED_TAGS,Bl):Xt,Tn="ALLOWED_ATTR"in ht?$o({},ht.ALLOWED_ATTR,Bl):er,WS="ALLOWED_NAMESPACES"in ht?$o({},ht.ALLOWED_NAMESPACES,eS):q9,ec="ADD_URI_SAFE_ATTR"in ht?$o(Zm(Qm),ht.ADD_URI_SAFE_ATTR,Bl):Qm,xa="ADD_DATA_URI_TAGS"in ht?$o(Zm(wa),ht.ADD_DATA_URI_TAGS,Bl):wa,Ia="FORBID_CONTENTS"in ht?$o({},ht.FORBID_CONTENTS,Bl):qi,Hn="FORBID_TAGS"in ht?$o({},ht.FORBID_TAGS,Bl):{},Eo="FORBID_ATTR"in ht?$o({},ht.FORBID_ATTR,Bl):{},oa="USE_PROFILES"in ht?ht.USE_PROFILES:!1,an=ht.ALLOW_ARIA_ATTR!==!1,xo=ht.ALLOW_DATA_ATTR!==!1,Ro=ht.ALLOW_UNKNOWN_PROTOCOLS||!1,mi=ht.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Er=ht.SAFE_FOR_TEMPLATES||!1,ni=ht.WHOLE_DOCUMENT||!1,Ql=ht.RETURN_DOM||!1,Yu=ht.RETURN_DOM_FRAGMENT||!1,Mf=ht.RETURN_TRUSTED_TYPE||!1,bh=ht.FORCE_BODY||!1,Xu=ht.SANITIZE_DOM!==!1,Pf=ht.SANITIZE_NAMED_PROPS||!1,jo=ht.KEEP_CONTENT!==!1,Fs=ht.IN_PLACE||!1,ml=ht.ALLOWED_URI_REGEXP||EN,Yv=ht.NAMESPACE||Lf,tn=ht.CUSTOM_ELEMENT_HANDLING||{},ht.CUSTOM_ELEMENT_HANDLING&&G9(ht.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(tn.tagNameCheck=ht.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ht.CUSTOM_ELEMENT_HANDLING&&G9(ht.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(tn.attributeNameCheck=ht.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ht.CUSTOM_ELEMENT_HANDLING&&typeof ht.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(tn.allowCustomizedBuiltInElements=ht.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Er&&(xo=!1),Yu&&(Ql=!0),oa&&(Pr=$o({},[..._N]),Tn=[],oa.html===!0&&($o(Pr,I3),$o(Tn,SN)),oa.svg===!0&&($o(Pr,B3),$o(Tn,P3),$o(Tn,nS)),oa.svgFilters===!0&&($o(Pr,tS),$o(Tn,P3),$o(Tn,nS)),oa.mathMl===!0&&($o(Pr,M3),$o(Tn,kN),$o(Tn,nS))),ht.ADD_TAGS&&(Pr===Xt&&(Pr=Zm(Pr)),$o(Pr,ht.ADD_TAGS,Bl)),ht.ADD_ATTR&&(Tn===er&&(Tn=Zm(Tn)),$o(Tn,ht.ADD_ATTR,Bl)),ht.ADD_URI_SAFE_ATTR&&$o(ec,ht.ADD_URI_SAFE_ATTR,Bl),ht.FORBID_CONTENTS&&(Ia===qi&&(Ia=Zm(Ia)),$o(Ia,ht.FORBID_CONTENTS,Bl)),jo&&(Pr["#text"]=!0),ni&&$o(Pr,["html","head","body"]),Pr.table&&($o(Pr,["tbody"]),delete Hn.tbody),ht.TRUSTED_TYPES_POLICY){if(typeof ht.TRUSTED_TYPES_POLICY.createHTML!="function")throw Cp('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ht.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Cp('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');We=ht.TRUSTED_TYPES_POLICY,at=We.createHTML("")}else We===void 0&&(We=DN(ue,s)),We!==null&&typeof at=="string"&&(at=We.createHTML(""));Nc&&Nc(ht),pw=ht}},PT=$o({},["mi","mo","mn","ms","mtext"]),ut=$o({},["foreignobject","desc","title","annotation-xml"]),ft=$o({},["title","style","font","a","script"]),Gt=$o({},B3);$o(Gt,tS),$o(Gt,bL);const Wt=$o({},M3);$o(Wt,P2);const Wn=function(ht){let kn=qe(ht);(!kn||!kn.tagName)&&(kn={namespaceURI:Yv,tagName:"template"});const oo=Dv(ht.tagName),ua=Dv(kn.tagName);return WS[ht.namespaceURI]?ht.namespaceURI===tg?kn.namespaceURI===Lf?oo==="svg":kn.namespaceURI===eg?oo==="svg"&&(ua==="annotation-xml"||PT[ua]):!!Gt[oo]:ht.namespaceURI===eg?kn.namespaceURI===Lf?oo==="math":kn.namespaceURI===tg?oo==="math"&&ut[ua]:!!Wt[oo]:ht.namespaceURI===Lf?kn.namespaceURI===tg&&!ut[ua]||kn.namespaceURI===eg&&!PT[ua]?!1:!Wt[oo]&&(ft[oo]||!Gt[oo]):!!(V0==="application/xhtml+xml"&&WS[ht.namespaceURI]):!1},Ho=function(ht){Td(t.removed,{element:ht});try{ht.parentNode.removeChild(ht)}catch{ht.remove()}},zs=function(ht,kn){try{Td(t.removed,{attribute:kn.getAttributeNode(ht),from:kn})}catch{Td(t.removed,{attribute:null,from:kn})}if(kn.removeAttribute(ht),ht==="is"&&!Tn[ht])if(Ql||Yu)try{Ho(kn)}catch{}else try{kn.setAttribute(ht,"")}catch{}},ng=function(ht){let kn,oo;if(bh)ht="<remove></remove>"+ht;else{const og=R3(ht,/^[\r\n\t ]+/);oo=og&&og[0]}V0==="application/xhtml+xml"&&Yv===Lf&&(ht='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ht+"</body></html>");const ua=We?We.createHTML(ht):ht;if(Yv===Lf)try{kn=new X().parseFromString(ua,V0)}catch{}if(!kn||!kn.documentElement){kn=Nt.createDocument(Yv,"template",null);try{kn.documentElement.innerHTML=US?at:ua}catch{}}const tc=kn.body||kn.documentElement;return ht&&oo&&tc.insertBefore(l.createTextNode(oo),tc.childNodes[0]||null),Yv===Lf?wt.call(kn,ni?"html":"body")[0]:ni?kn.documentElement:tc},l8=function(ht){return jt.call(ht.ownerDocument||ht,ht,z.SHOW_ELEMENT|z.SHOW_COMMENT|z.SHOW_TEXT,null,!1)},Xse=function(ht){return ht instanceof G&&(typeof ht.nodeName!="string"||typeof ht.textContent!="string"||typeof ht.removeChild!="function"||!(ht.attributes instanceof j)||typeof ht.removeAttribute!="function"||typeof ht.setAttribute!="function"||typeof ht.namespaceURI!="string"||typeof ht.insertBefore!="function"||typeof ht.hasChildNodes!="function")},c8=function(ht){return typeof C=="object"?ht instanceof C:ht&&typeof ht=="object"&&typeof ht.nodeType=="number"&&typeof ht.nodeName=="string"},$0=function(ht,kn,oo){Dt[ht]&&D3(Dt[ht],ua=>{ua.call(t,kn,oo,pw)})},cZ=function(ht){let kn;if($0("beforeSanitizeElements",ht,null),Xse(ht))return Ho(ht),!0;const oo=Bl(ht.nodeName);if($0("uponSanitizeElement",ht,{tagName:oo,allowedTags:Pr}),ht.hasChildNodes()&&!c8(ht.firstElementChild)&&(!c8(ht.content)||!c8(ht.content.firstElementChild))&&Gl(/<[/\w]/g,ht.innerHTML)&&Gl(/<[/\w]/g,ht.textContent))return Ho(ht),!0;if(!Pr[oo]||Hn[oo]){if(!Hn[oo]&&dZ(oo)&&(tn.tagNameCheck instanceof RegExp&&Gl(tn.tagNameCheck,oo)||tn.tagNameCheck instanceof Function&&tn.tagNameCheck(oo)))return!1;if(jo&&!Ia[oo]){const ua=qe(ht)||ht.parentNode,tc=Fe(ht)||ht.childNodes;if(tc&&ua){const og=tc.length;for(let Ni=og-1;Ni>=0;--Ni)ua.insertBefore(de(tc[Ni],!0),ke(ht))}}return Ho(ht),!0}return ht instanceof A&&!Wn(ht)||(oo==="noscript"||oo==="noembed"||oo==="noframes")&&Gl(/<\/no(script|embed|frames)/i,ht.innerHTML)?(Ho(ht),!0):(Er&&ht.nodeType===3&&(kn=ht.textContent,kn=ju(kn,bn," "),kn=ju(kn,Nn," "),kn=ju(kn,yo," "),ht.textContent!==kn&&(Td(t.removed,{element:ht.cloneNode()}),ht.textContent=kn)),$0("afterSanitizeElements",ht,null),!1)},uZ=function(ht,kn,oo){if(Xu&&(kn==="id"||kn==="name")&&(oo in l||oo in lZ))return!1;if(!(xo&&!Eo[kn]&&Gl(Oo,kn))){if(!(an&&Gl(hr,kn))){if(!Tn[kn]||Eo[kn]){if(!(dZ(ht)&&(tn.tagNameCheck instanceof RegExp&&Gl(tn.tagNameCheck,ht)||tn.tagNameCheck instanceof Function&&tn.tagNameCheck(ht))&&(tn.attributeNameCheck instanceof RegExp&&Gl(tn.attributeNameCheck,kn)||tn.attributeNameCheck instanceof Function&&tn.attributeNameCheck(kn))||kn==="is"&&tn.allowCustomizedBuiltInElements&&(tn.tagNameCheck instanceof RegExp&&Gl(tn.tagNameCheck,oo)||tn.tagNameCheck instanceof Function&&tn.tagNameCheck(oo))))return!1}else if(!ec[kn]){if(!Gl(ml,ju(oo,Ys,""))){if(!((kn==="src"||kn==="xlink:href"||kn==="href")&&ht!=="script"&&N3(oo,"data:")===0&&xa[ht])){if(!(Ro&&!Gl(Dr,ju(oo,Ys,"")))){if(oo)return!1}}}}}}return!0},dZ=function(ht){return ht.indexOf("-")>0},fZ=function(ht){let kn,oo,ua,tc;$0("beforeSanitizeAttributes",ht,null);const{attributes:og}=ht;if(!og)return;const Ni={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Tn};for(tc=og.length;tc--;){kn=og[tc];const{name:rg,namespaceURI:Y9}=kn;oo=rg==="value"?kn.value:CN(kn.value);const Qse=oo;if(ua=Bl(rg),Ni.attrName=ua,Ni.attrValue=oo,Ni.keepAttr=!0,Ni.forceKeepAttr=void 0,$0("uponSanitizeAttribute",ht,Ni),oo=Ni.attrValue,Ni.forceKeepAttr)continue;if(!Ni.keepAttr){zs(rg,ht);continue}if(!mi&&Gl(/\/>/i,oo)){zs(rg,ht);continue}Er&&(oo=ju(oo,bn," "),oo=ju(oo,Nn," "),oo=ju(oo,yo," "));const mZ=Bl(ht.nodeName);if(!uZ(mZ,ua,oo)){zs(rg,ht);continue}if(Pf&&(ua==="id"||ua==="name")&&(zs(rg,ht),oo=Mn+oo),We&&typeof ue=="object"&&typeof ue.getAttributeType=="function"&&!Y9)switch(ue.getAttributeType(mZ,ua)){case"TrustedHTML":{oo=We.createHTML(oo);break}case"TrustedScriptURL":{oo=We.createScriptURL(oo);break}}if(oo!==Qse)try{Y9?ht.setAttributeNS(Y9,rg,oo):ht.setAttribute(rg,oo)}catch{zs(rg,ht)}}$0("afterSanitizeAttributes",ht,null)},Jse=function No(ht){let kn;const oo=l8(ht);for($0("beforeSanitizeShadowDOM",ht,null);kn=oo.nextNode();)$0("uponSanitizeShadowNode",kn,null),!cZ(kn)&&(kn.content instanceof f&&No(kn.content),fZ(kn));$0("afterSanitizeShadowDOM",ht,null)};return t.sanitize=function(No){let ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},kn,oo,ua,tc;if(US=!No,US&&(No="<!-->"),typeof No!="string"&&!c8(No))if(typeof No.toString=="function"){if(No=No.toString(),typeof No!="string")throw Cp("dirty is not a string, aborting")}else throw Cp("toString is not a function");if(!t.isSupported)return No;if(Bf||Rp(ht),t.removed=[],typeof No=="string"&&(Fs=!1),Fs){if(No.nodeName){const rg=Bl(No.nodeName);if(!Pr[rg]||Hn[rg])throw Cp("root node is forbidden and cannot be sanitized in-place")}}else if(No instanceof C)kn=ng("<!---->"),oo=kn.ownerDocument.importNode(No,!0),oo.nodeType===1&&oo.nodeName==="BODY"||oo.nodeName==="HTML"?kn=oo:kn.appendChild(oo);else{if(!Ql&&!Er&&!ni&&No.indexOf("<")===-1)return We&&Mf?We.createHTML(No):No;if(kn=ng(No),!kn)return Ql?null:Mf?at:""}kn&&bh&&Ho(kn.firstChild);const og=l8(Fs?No:kn);for(;ua=og.nextNode();)cZ(ua)||(ua.content instanceof f&&Jse(ua.content),fZ(ua));if(Fs)return No;if(Ql){if(Yu)for(tc=dn.call(kn.ownerDocument);kn.firstChild;)tc.appendChild(kn.firstChild);else tc=kn;return(Tn.shadowroot||Tn.shadowrootmode)&&(tc=dt.call(n,tc,!0)),tc}let Ni=ni?kn.outerHTML:kn.innerHTML;return ni&&Pr["!doctype"]&&kn.ownerDocument&&kn.ownerDocument.doctype&&kn.ownerDocument.doctype.name&&Gl(L3,kn.ownerDocument.doctype.name)&&(Ni="<!DOCTYPE "+kn.ownerDocument.doctype.name+`>
`+Ni),Er&&(Ni=ju(Ni,bn," "),Ni=ju(Ni,Nn," "),Ni=ju(Ni,yo," ")),We&&Mf?We.createHTML(Ni):Ni},t.setConfig=function(No){Rp(No),Bf=!0},t.clearConfig=function(){pw=null,Bf=!1},t.isValidAttribute=function(No,ht,kn){pw||Rp({});const oo=Bl(No),ua=Bl(ht);return uZ(oo,ua,kn)},t.addHook=function(No,ht){typeof ht=="function"&&(Dt[No]=Dt[No]||[],Td(Dt[No],ht))},t.removeHook=function(No){if(Dt[No])return wN(Dt[No])},t.removeHooks=function(No){Dt[No]&&(Dt[No]=[])},t.removeAllHooks=function(){Dt={}},t}var H3=z3();const RN=Kt.each,NN=Kt.trim,_L=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],SL={ftp:21,http:80,https:443,mailto:25},IN=["img","video"],BN=(e,t)=>Ce(e)?!e:Ce(t)?!le(IN,t):!0,kL=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},V3=(e,t,n)=>{const s=kL(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(s)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(s)?BN(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(s):/^data:/i.test(s)};class Ku{static parseDataUri(t){let n;const s=decodeURIComponent(t).split(","),l=/data:([^;]+)/.exec(s[0]);return l&&(n=l[1]),{type:n,data:s[1]}}static isDomSafe(t,n,s={}){if(s.allow_script_urls)return!0;{const l=Dg.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!V3(s,l,n)}}static getDocumentBaseUrl(t){var n;let s;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?s=(n=t.href)!==null&&n!==void 0?n:"":s=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/")),s}constructor(t,n={}){this.path="",this.directory="",t=NN(t),this.settings=n;const s=n.base_uri,l=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){l.source=t;return}const f=t.indexOf("//")===0;if(t.indexOf("/")===0&&!f&&(t=(s&&s.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const C=s?s.path:new Ku(document.location.href).directory;if((s==null?void 0:s.protocol)==="")t="//mce_host"+l.toAbsPath(C,t);else{const A=/([^#?]*)([#?]?.*)/.exec(t);A&&(t=(s&&s.protocol||"http")+"://mce_host"+l.toAbsPath(C,A[1])+A[2])}}t=t.replace(/@@/g,"(mce_at)");const g=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);g&&RN(_L,(C,A)=>{let z=g[A];z&&(z=z.replace(/\(mce_at\)/g,"@@")),l[C]=z}),s&&(l.protocol||(l.protocol=s.protocol),l.userInfo||(l.userInfo=s.userInfo),!l.port&&l.host==="mce_host"&&(l.port=s.port),(!l.host||l.host==="mce_host")&&(l.host=s.host),l.source=""),f&&(l.protocol="")}setPath(t){const n=/^(.*?)\/?(\w+)?$/.exec(t);n&&(this.path=n[0],this.directory=n[1],this.file=n[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const n=new Ku(t,{base_uri:this});if(n.host!=="mce_host"&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&n.protocol!=="")return n.getURI();const s=this.getURI(),l=n.getURI();if(s===l||s.charAt(s.length-1)==="/"&&s.substr(0,s.length-1)===l)return s;let f=this.toRelPath(this.path,n.path);return n.query&&(f+="?"+n.query),n.anchor&&(f+="#"+n.anchor),f}toAbsolute(t,n){const s=new Ku(t,{base_uri:this});return s.getURI(n&&this.isSameOrigin(s))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const n=this.protocol?SL[this.protocol]:null;if(n&&(this.port||n)==(t.port||n))return!0}return!1}toRelPath(t,n){let s=0,l="",f,g;const C=t.substring(0,t.lastIndexOf("/")).split("/"),A=n.split("/");if(C.length>=A.length){for(f=0,g=C.length;f<g;f++)if(f>=A.length||C[f]!==A[f]){s=f+1;break}}if(C.length<A.length){for(f=0,g=A.length;f<g;f++)if(f>=C.length||C[f]!==A[f]){s=f+1;break}}if(s===1)return n;for(f=0,g=C.length-(s-1);f<g;f++)l+="../";for(f=s-1,g=A.length;f<g;f++)f!==s-1?l+="/"+A[f]:l+=A[f];return l}toAbsPath(t,n){let s=0;const l=/\/$/.test(n)?"/":"",f=t.split("/"),g=n.split("/"),C=[];RN(f,G=>{G&&C.push(G)});const A=[];for(let G=g.length-1;G>=0;G--)if(!(g[G].length===0||g[G]===".")){if(g[G]===".."){s++;continue}if(s>0){s--;continue}A.push(g[G])}const z=C.length-s;let j;return z<=0?j=To(A).join("/"):j=C.slice(0,z).join("/")+"/"+To(A).join("/"),j.indexOf("/")!==0&&(j="/"+j),l&&j.lastIndexOf("/")!==j.length-1&&(j+=l),j}getURI(t=!1){let n;return(!this.source||t)&&(n="",t||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source}}const EL=Kt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),$3="data-mce-type";let MN=0;const PN=(e,t,n,s,l)=>{var f,g,C,A;const z=t.validate,j=n.getSpecialElements();e.nodeType===jd&&!t.allow_conditional_comments&&/^\[if/i.test((f=e.nodeValue)!==null&&f!==void 0?f:"")&&(e.nodeValue=" "+e.nodeValue);const G=(g=l==null?void 0:l.tagName)!==null&&g!==void 0?g:e.nodeName.toLowerCase();if(s!=="html"&&n.isValid(s)){Ce(l)&&(l.allowedTags[G]=!0);return}if(e.nodeType!==nl||G==="body")return;const X=Be.fromDom(e),ue=rd(X,$3),we=ii(X,"data-mce-bogus");if(!ue&&Te(we)){we==="all"?gr(X):ki(X);return}const de=n.getElementRule(G);if(z&&!de){Yn(j,G)?gr(X):ki(X);return}else Ce(l)&&(l.allowedTags[G]=!0);if(z&&de&&!ue){if(pe((C=de.attributesForced)!==null&&C!==void 0?C:[],ke=>{ra(X,ke.name,ke.value==="{$uid}"?`mce_${MN++}`:ke.value)}),pe((A=de.attributesDefault)!==null&&A!==void 0?A:[],ke=>{rd(X,ke.name)||ra(X,ke.name,ke.value==="{$uid}"?`mce_${MN++}`:ke.value)}),de.attributesRequired&&!xe(de.attributesRequired,ke=>rd(X,ke))){ki(X);return}if(de.removeEmptyAttrs&&Ks(X)){ki(X);return}de.outputName&&de.outputName!==G&&ix(X,de.outputName)}},AL=(e,t,n,s,l)=>{const f=e.tagName.toLowerCase(),{attrName:g,attrValue:C}=l;l.keepAttr=L2(t,n,s,f,g,C),l.keepAttr?(l.allowedAttributes[g]=!0,W3(g,n)&&(l.attrValue=g),t.allow_svg_data_urls&&Gr(C,"data:image/svg+xml")&&(l.forceKeepAttr=!0)):U3(e,g)&&(l.forceKeepAttr=!0)},L2=(e,t,n,s,l,f)=>n!=="html"&&!mm(s)?!0:!(l in EL&&V3(e,f,s))&&(!e.validate||t.isValid(s,l)||Gr(l,"data-")||Gr(l,"aria-")),U3=(e,t)=>e.hasAttribute($3)&&(t==="id"||t==="class"||t==="style"),W3=(e,t)=>e in t.getBoolAttrs(),LN=(e,t,n,s)=>{const{attributes:l}=e;for(let f=l.length-1;f>=0;f--){const g=l[f],C=g.name,A=g.value;!L2(t,n,s,e.tagName.toLowerCase(),C,A)&&!U3(e,C)?e.removeAttribute(C):W3(C,n)&&e.setAttribute(C,C)}},TL=(e,t,n)=>{const s=H3();return s.addHook("uponSanitizeElement",(l,f)=>{PN(l,e,t,n.track(l),f)}),s.addHook("uponSanitizeAttribute",(l,f)=>{AL(l,e,t,n.current(),f)}),s},OL=(e,t)=>{const s={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return s.PARSER_MEDIA_TYPE=t,e.allow_script_urls?s.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(s.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),s},FN=e=>{const t=Ww(e);if(t==="svg"){const n=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(l=>`xlink:${l}`),s={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:n};H3().sanitize(e,s)}else if(t==="math"){const n={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}};H3().sanitize(e,n)}else throw new Error("Not a namespace element")},DL=(e,t)=>{const n=pk();if(e.sanitize){const s=TL(e,t,n);return{sanitizeHtmlElement:(f,g)=>{s.sanitize(f,OL(e,g)),s.removed=[],n.reset()},sanitizeNamespaceElement:FN}}else return{sanitizeHtmlElement:(f,g)=>{const C=document.createNodeIterator(f,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let A;for(;A=C.nextNode();){const z=n.track(A);PN(A,e,t,z),yn(A)&&LN(A,e,t,z)}n.reset()},sanitizeNamespaceElement:Pt}},oS=Kt.makeMap,Z3=Kt.extend,zN=(e,t,n,s)=>{const l=e.name,f=l in n&&l!=="title"&&l!=="textarea"&&l!=="noscript",g=t.childNodes;for(let C=0,A=g.length;C<A;C++){const z=g[C],j=new fi(z.nodeName.toLowerCase(),z.nodeType);if(yn(z)){const G=z.attributes;for(let X=0,ue=G.length;X<ue;X++){const we=G[X];j.attr(we.name,we.value)}mm(j.name)&&(s(z),j.value=z.innerHTML)}else Mt(z)?(j.value=z.data,f&&(j.raw=!0)):(go(z)||Ry(z)||of(z))&&(j.value=z.data);mm(j.name)||zN(j,z,n,s),e.append(j)}},ei=(e,t,n)=>{const s=[];for(let l=e,f=l;l;f=l,l=l.walk()){const g=l;pe(t,C=>C(g)),ot(g.parent)&&g!==e?l=f:s.push(g)}for(let l=s.length-1;l>=0;l--){const f=s[l];pe(n,g=>g(f))}},jm=(e,t,n,s)=>{const l=n.validate,f=t.getNonEmptyElements(),g=t.getWhitespaceElements(),C=Z3(oS("script,style,head,html,body,title,meta,param"),t.getBlockElements()),A=S1(t),z=/[ \t\r\n]+/g,j=/^[ \t\r\n]+/,G=/[ \t\r\n]+$/,X=qe=>{let We=qe.parent;for(;Ce(We);){if(We.name in g)return!0;We=We.parent}return!1},ue=qe=>{let We=qe;for(;Ce(We);){if(We.name in A)return kv(t,f,g,We);We=We.parent}return!1},we=qe=>qe.name in C||Ph(t,qe)||mm(qe.name)&&qe.parent===e,de=(qe,We)=>{const at=We?qe.prev:qe.next;return Ce(at)||ot(qe.parent)?!1:we(qe.parent)&&(qe.parent!==e||s.isRootContent===!0)};return[qe=>{var We;if(qe.type===3&&!X(qe)){let at=(We=qe.value)!==null&&We!==void 0?We:"";at=at.replace(z," "),(kR(qe.prev,we)||de(qe,!0))&&(at=at.replace(j,"")),at.length===0||at===" "&&qe.prev&&qe.prev.type===jd&&qe.next&&qe.next.type===jd?qe.remove():qe.value=at}},qe=>{var We;if(qe.type===1){const at=t.getElementRule(qe.name);if(l&&at){const Nt=kv(t,f,g,qe);at.paddInEmptyBlock&&Nt&&ue(qe)?T_(n,s,we,qe):at.removeEmpty&&Nt?we(qe)?qe.remove():qe.unwrap():at.paddEmpty&&(Nt||O_(qe))&&T_(n,s,we,qe)}}else if(qe.type===3&&!X(qe)){let at=(We=qe.value)!==null&&We!==void 0?We:"";(qe.next&&we(qe.next)||de(qe,!1))&&(at=at.replace(G,"")),at.length===0?qe.remove():qe.value=at}}]},RL=(e,t)=>{var n;const s=(n=t.forced_root_block)!==null&&n!==void 0?n:e.forced_root_block;return s===!1?"":s===!0?"p":s},Rv=(e={},t=xc())=>{const n=Y_(),s=Y_(),l={validate:!0,root_name:"body",sanitize:!0,...e},f=new DOMParser,g=DL(l,t),C=(We,at,Nt="html")=>{const jt=Nt==="xhtml"?"application/xhtml+xml":"text/html",dn=Yn(t.getSpecialElements(),at.toLowerCase()),wt=dn?`<${at}>${We}</${at}>`:We,dt=()=>Nt==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${wt}</body></html>`:/^[\s]*<head/i.test(We)||/^[\s]*<html/i.test(We)||/^[\s]*<!DOCTYPE/i.test(We)?`<html>${wt}</html>`:`<body>${wt}</body>`,Dt=f.parseFromString(dt(),jt).body;return g.sanitizeHtmlElement(Dt,jt),dn?Dt.firstChild:Dt},A=n.addFilter,z=n.getFilters,j=n.removeFilter,G=s.addFilter,X=s.getFilters,ue=s.removeFilter,we=(We,at)=>{k2(t,We)&&at.push(We)},de=(We,at)=>{const Nt=Te(at.attr($3)),jt=at.type===1&&!Yn(We,at.name)&&!Ph(t,at)&&!mm(at.name);return at.type===3||jt&&!Nt},ke=(We,at)=>{const Nt=Z3(oS("script,style,head,html,body,title,meta,param"),t.getBlockElements()),jt=/^[ \t\r\n]+/,dn=/[ \t\r\n]+$/;let wt=We.firstChild,dt=null;const Dt=bn=>{var Nn,yo;bn&&(wt=bn.firstChild,wt&&wt.type===3&&(wt.value=(Nn=wt.value)===null||Nn===void 0?void 0:Nn.replace(jt,"")),wt=bn.lastChild,wt&&wt.type===3&&(wt.value=(yo=wt.value)===null||yo===void 0?void 0:yo.replace(dn,"")))};if(t.isValidChild(We.name,at.toLowerCase())){for(;wt;){const bn=wt.next;de(Nt,wt)?(dt||(dt=new fi(at,1),dt.attr(l.forced_root_block_attrs),We.insert(dt,wt)),dt.append(wt)):(Dt(dt),dt=null),wt=bn}Dt(dt)}},qe={schema:t,addAttributeFilter:G,getAttributeFilters:X,removeAttributeFilter:ue,addNodeFilter:A,getNodeFilters:z,removeNodeFilter:j,parse:(We,at={})=>{var Nt;const jt=l.validate,dn=(Nt=at.context)!==null&&Nt!==void 0?Nt:l.root_name,wt=C(We,dn,at.format);Bs(t,wt);const dt=new fi(dn,11);zN(dt,wt,t.getSpecialElements(),g.sanitizeNamespaceElement),wt.innerHTML="";const[Dt,bn]=jm(dt,t,l,at),Nn=[],yo=jt?Ys=>we(Ys,Nn):Pt,Oo={nodes:{},attributes:{}},hr=Ys=>IA(z(),X(),Ys,Oo);if(ei(dt,[Dt,hr],[bn,yo]),Nn.reverse(),jt&&Nn.length>0)if(at.context){const{pass:Ys,fail:ml}=$t(Nn,Pr=>Pr.parent===dt);cu(ml,t,dt,hr),at.invalid=Ys.length>0}else cu(Nn,t,dt,hr);const Dr=RL(l,at);return Dr&&(dt.name==="body"||at.isRootContent)&&ke(dt,Dr),at.invalid||BA(Oo,at),dt}};return gL(qe,l),lL(qe,l,t),qe},NL=e=>_0(e)?th({validate:!1}).serialize(e):e,j3=(e,t,n)=>{const s=NL(e),l=t(s);if(l.isDefaultPrevented())return l;if(_0(e))if(l.content!==s){const f=Rv({validate:!1,forced_root_block:!1,...n}).parse(l.content,{context:e.name});return{...l,content:f}}else return{...l,content:e};else return l},A0=e=>({sanitize:zO(e),sandbox_iframes:qk(e),sandbox_iframes_exclusions:pC(e)}),HN=(e,t)=>{if(t.no_events)return $n.value(t);{const n=Af(e,t);return n.isDefaultPrevented()?$n.error($5(e,{content:"",...n}).content):$n.value(n)}},Od=(e,t,n)=>n.no_events?t:j3(t,l=>$5(e,{...n,content:l}),A0(e)).content,K3=(e,t)=>{if(t.no_events)return $n.value(t);{const n=j3(t.content,s=>OP(e,{...t,content:s}),A0(e));return n.isDefaultPrevented()?(Kl(e,n),$n.error(void 0)):$n.value(n)}},q3=(e,t,n)=>{n.no_events||Kl(e,{...n,content:t})},rS=(e,t,n)=>({element:e,width:t,rows:n}),G3=(e,t)=>({element:e,cells:t}),IL=(e,t)=>({x:e,y:t}),sS=(e,t)=>Hc(e,t).bind(nn).getOr(1),Km=(e,t,n,s,l)=>{const f=sS(l,"rowspan"),g=sS(l,"colspan"),C=e.rows;for(let A=n;A<n+f;A++){C[A]||(C[A]=G3(Cm(s),[]));for(let z=t;z<t+g;z++){const j=C[A].cells;j[z]=A===n&&z===t?l:Ps(l)}}},VN=(e,t,n)=>{const s=e.rows;return!!(s[n]?s[n].cells:[])[t]},$N=(e,t,n)=>{for(;VN(e,t,n);)t++;return t},F2=e=>It(e,(t,n)=>n.cells.length>t?n.cells.length:t,0),aS=(e,t)=>{const n=e.rows;for(let s=0;s<n.length;s++){const l=n[s].cells;for(let f=0;f<l.length;f++)if(Lo(l[f],t))return J.some(IL(f,s))}return J.none()},Y3=(e,t,n,s,l)=>{const f=[],g=e.rows;for(let C=n;C<=l;C++){const A=g[C].cells,z=t<s?A.slice(t,s+1):A.slice(s,t+1);f.push(G3(g[C].element,z))}return f},UN=(e,t,n)=>{const s=t.x,l=t.y,f=n.x,g=n.y,C=l<g?Y3(e,s,l,f,g):Y3(e,s,g,f,l);return rS(e.element,F2(C),C)},WN=(e,t)=>{const n=Ps(e.element),s=Be.fromTag("tbody");return Vs(s,t),Rs(n,s),n},BL=e=>Me(e.rows,t=>{const n=Me(t.cells,l=>{const f=Cm(l);return bo(f,"colspan"),bo(f,"rowspan"),f}),s=Ps(t.element);return Vs(s,n),s}),ML=e=>{const t=rS(Ps(e),0,[]);return pe(ea(e,"tr"),(n,s)=>{pe(ea(n,"td,th"),(l,f)=>{Km(t,$N(t,f,s),s,n,l)})}),rS(t.element,F2(t.rows),t.rows)},PL=e=>WN(e,BL(e)),ZN=(e,t,n)=>aS(e,t).bind(s=>aS(e,n).map(l=>UN(e,s,l))),jN=e=>wn(e,t=>Po(t)==="ul"||Po(t)==="ol"),LL=(e,t)=>wn(e,n=>Po(n)==="li"&&zx(n,t)).fold(Qe([]),n=>jN(e).map(s=>{const l=Be.fromTag(Po(s)),f=ic(Cg(s),(g,C)=>Gr(C,"list-style"));return Bo(l,f),[Be.fromTag("li"),l]}).getOr([])),X3=(e,t)=>{const n=It(t,(s,l)=>(Rs(l,s),l),e);return t.length>0?Tc([n]):n},KN=e=>Sm(e)?Za(e).filter(Pb).fold(Qe([]),t=>[e,t]):Pb(e)?[e]:[],FL=(e,t,n)=>{const s=Be.fromDom(t.commonAncestorContainer),l=Dc(s,e),f=Ct(l,A=>n.isWrapper(Po(A))),g=LL(l,t),C=f.concat(g.length?g:KN(s));return Me(C,Ps)},J3=()=>Tc([]),zL=(e,t,n)=>X3(Be.fromDom(t.cloneContents()),FL(e,t,n)),HL=(e,t)=>Zc(t,"table",pt(Lo,e)),dl=(e,t)=>HL(e,t[0]).bind(n=>{const s=t[0],l=t[t.length-1],f=ML(n);return ZN(f,s,l).map(g=>Tc([PL(g)]))}).getOrThunk(J3),VL=(e,t,n)=>t.length>0&&t[0].collapsed?J3():zL(e,t[0],n),$L=(e,t,n)=>{const s=_5(t,e);return s.length>0?dl(e,s):VL(e,t,n)},iS=(e,t)=>t>=0&&t<e.length&&s0(e.charAt(t)),qN=e=>ll(e.innerText),lS=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),UL=e=>J.from(e.selection.getRng()).map(t=>{var n;const s=J.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),l=e.getBody(),f=lS(s),g=Be.fromDom(t.cloneContents());RD(g),ND(g);const C=e.dom.add(l,f,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},g.dom),A=qN(C),z=ll((n=C.textContent)!==null&&n!==void 0?n:"");if(e.dom.remove(C),iS(z,0)||iS(z,z.length-1)){const j=s.getOr(l),G=qN(j),X=G.indexOf(A);if(X===-1)return A;{const ue=iS(G,X-1),we=iS(G,X+A.length);return(ue?" ":"")+A+(we?" ":"")}}else return A}).getOr(""),Q3=(e,t)=>{const n=e.selection.getRng(),s=e.dom.create("body"),l=e.selection.getSel(),f=n_(e,rs(l)),g=t.contextual?$L(Be.fromDom(e.getBody()),f,e.schema).dom:n.cloneContents();return g&&s.appendChild(g),e.selection.serializer.serialize(s,t)},e4=(e,t)=>{if(t.format==="text")return UL(e);{const n=Q3(e,t);return t.format==="tree"?n:e.selection.isCollapsed()?"":n}},WL=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),ZL=(e,t,n={})=>{const s=WL(n,t);return HN(e,s).fold(On,l=>{const f=e4(e,l);return Od(e,f,l)})},qu=0,t4=1,GN=2,n4=(e,t)=>{const n=e.length+t.length+2,s=new Array(n),l=new Array(n),f=(j,G,X)=>({start:j,end:G,diag:X}),g=(j,G,X,ue,we)=>{const de=A(j,G,X,ue);if(de===null||de.start===G&&de.diag===G-ue||de.end===j&&de.diag===j-X){let ke=j,Fe=X;for(;ke<G||Fe<ue;)ke<G&&Fe<ue&&e[ke]===t[Fe]?(we.push([qu,e[ke]]),++ke,++Fe):G-j>ue-X?(we.push([GN,e[ke]]),++ke):(we.push([t4,t[Fe]]),++Fe)}else{g(j,de.start,X,de.start-de.diag,we);for(let ke=de.start;ke<de.end;++ke)we.push([qu,e[ke]]);g(de.end,G,de.end-de.diag,ue,we)}},C=(j,G,X,ue)=>{let we=j;for(;we-G<ue&&we<X&&e[we]===t[we-G];)++we;return f(j,we,G)},A=(j,G,X,ue)=>{const we=G-j,de=ue-X;if(we===0||de===0)return null;const ke=we-de,Fe=de+we,qe=(Fe%2===0?Fe:Fe+1)/2;s[1+qe]=j,l[1+qe]=G+1;let We,at,Nt,jt,dn;for(We=0;We<=qe;++We){for(at=-We;at<=We;at+=2){for(Nt=at+qe,at===-We||at!==We&&s[Nt-1]<s[Nt+1]?s[Nt]=s[Nt+1]:s[Nt]=s[Nt-1]+1,jt=s[Nt],dn=jt-j+X-at;jt<G&&dn<ue&&e[jt]===t[dn];)s[Nt]=++jt,++dn;if(ke%2!==0&&ke-We<=at&&at<=ke+We&&l[Nt-ke]<=s[Nt])return C(l[Nt-ke],at+j-X,G,ue)}for(at=ke-We;at<=ke+We;at+=2){for(Nt=at+qe-ke,at===ke-We||at!==ke+We&&l[Nt+1]<=l[Nt-1]?l[Nt]=l[Nt+1]-1:l[Nt]=l[Nt-1],jt=l[Nt]-1,dn=jt-j+X-at;jt>=j&&dn>=X&&e[jt]===t[dn];)l[Nt]=jt--,dn--;if(ke%2===0&&-We<=at&&at<=We&&l[Nt]<=s[Nt+ke])return C(l[Nt],at+j-X,G,ue)}}return null},z=[];return g(0,e.length,0,t.length,z),z},o4=e=>yn(e)?e.outerHTML:Mt(e)?Dg.encodeRaw(e.data,!1):go(e)?"<!--"+e.data+"-->":"",cS=e=>{let t;const n=document.createElement("div"),s=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)s.appendChild(t);return s},YN=(e,t,n)=>{const s=cS(t);if(e.hasChildNodes()&&n<e.childNodes.length){const l=e.childNodes[n];e.insertBefore(s,l)}else e.appendChild(s)},XN=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];e.removeChild(n)}},JN=(e,t)=>{let n=0;pe(e,s=>{s[0]===qu?n++:s[0]===t4?(YN(t,s[1],n),n++):s[0]===GN&&XN(t,n)})},jL=(e,t)=>Ct(Me(io(e.childNodes),ln(ll,o4)),n=>n.length>0),KL=(e,t)=>{const n=Me(io(t.childNodes),o4);return JN(n4(n,e),t),t},r4=pl(()=>document.implementation.createHTMLDocument("undo")),qL=e=>e.querySelector("iframe")!==null,GL=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),uS=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),Nv=e=>{const t=e.serializer.getTempAttrs(),n=jE(e.getBody(),t);return qL(n)?GL(jL(n)):uS(ll(n.innerHTML))},z2=(e,t,n)=>{const s=n?t.beforeBookmark:t.bookmark;t.type==="fragmented"?KL(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:Ce(s)&&h5(s)?!s.isFakeCaret:!0}),s&&(e.selection.moveToBookmark(s),e.selection.scrollIntoView())},dS=e=>e.type==="fragmented"?e.fragments.join(""):e.content,lh=e=>{const t=Be.fromTag("body",r4());return lm(t,dS(e)),pe(ea(t,"*[data-mce-bogus]"),ki),cd(t)},YL=(e,t)=>dS(e)===dS(t),XL=(e,t)=>lh(e)===lh(t),Iv=(e,t)=>!e||!t?!1:YL(e,t)?!0:XL(e,t),fS=e=>e.get()===0,H2=(e,t,n)=>{fS(n)&&(e.typing=t)},s4=(e,t)=>{e.typing&&(H2(e,!1,t),e.add())},JL=e=>{e.typing&&(e.typing=!1,e.add())},QL=(e,t,n)=>{fS(t)&&n.set(gn(e.selection))},a4=(e,t,n,s,l,f,g)=>{const C=Nv(e),A=Kt.extend(f||{},C);if(!fS(s)||e.removed)return null;const z=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:A,lastLevel:z,originalEvent:g}).isDefaultPrevented()||z&&Iv(z,A))return null;t.data[n.get()]&&l.get().each(X=>{t.data[n.get()].beforeBookmark=X});const j=NO(e);if(j&&t.data.length>j){for(let X=0;X<t.data.length-1;X++)t.data[X]=t.data[X+1];t.data.length--,n.set(t.data.length)}A.bookmark=gn(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(A),n.set(t.data.length-1);const G={level:A,lastLevel:z,originalEvent:g};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",G),e.dispatch("change",G)):e.dispatch("AddUndo",G),A},i4=(e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")},l4=(e,t,n,s,l)=>{if(t.transact(s)){const f=t.data[n.get()].bookmark,g=t.data[n.get()-1];z2(e,g,!0),t.transact(l)&&(t.data[n.get()-1].beforeBookmark=f)}},QN=(e,t,n)=>{let s;return t.get()<n.length-1&&(t.set(t.get()+1),s=n[t.get()],z2(e,s,!1),e.setDirty(!0),e.dispatch("Redo",{level:s})),s},mS=(e,t,n,s)=>{let l;return t.typing&&(t.add(),t.typing=!1,H2(t,!1,n)),s.get()>0&&(s.set(s.get()-1),l=t.data[s.get()],z2(e,l,!0),e.setDirty(!0),e.dispatch("Undo",{level:l})),l},e6=e=>{e.clear(),e.add()},t6=(e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!Iv(Nv(e),t.data[0]),eF=(e,t)=>t.get()<e.data.length-1&&!e.typing,tF=(e,t,n)=>(s4(e,t),e.beforeChange(),e.ignore(n),e.add()),c4=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},n6=(e,t)=>{const n=e.dom,s=Ce(t)?t:e.getBody();pe(n.select("table,a",s),l=>{switch(l.nodeName){case"TABLE":const f=gC(e),g=n.getAttrib(l,"border");(!g||g==="0")&&e.hasVisual?n.addClass(l,f):n.removeClass(l,f);break;case"A":if(!n.getAttrib(l,"href")){const C=n.getAttrib(l,"name")||l.id,A=nv(e);C&&e.hasVisual?n.addClass(l,A):n.removeClass(l,A)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},u4=e=>({init:{bindEvents:Pt},undoManager:{beforeChange:(t,n)=>QL(e,t,n),add:(t,n,s,l,f,g)=>a4(e,t,n,s,l,f,g),undo:(t,n,s)=>mS(e,t,n,s),redo:(t,n)=>QN(e,t,n),clear:(t,n)=>i4(e,t,n),reset:t=>e6(t),hasUndo:(t,n)=>t6(e,t,n),hasRedo:(t,n)=>eF(t,n),transact:(t,n,s)=>tF(t,n,s),ignore:(t,n)=>c4(t,n),extra:(t,n,s,l)=>l4(e,t,n,s,l)},formatter:{match:(t,n,s,l)=>pp(e,t,n,s,l),matchAll:(t,n)=>zR(e,t,n),matchNode:(t,n,s,l)=>Um(e,t,n,s,l),canApply:t=>VR(e,t),closest:t=>HR(e,t),apply:(t,n,s)=>aN(e,t,n,s),remove:(t,n,s,l)=>xp(e,t,n,s,l),toggle:(t,n,s)=>rL(e,t,n,s),formatChanged:(t,n,s,l,f)=>oL(e,t,n,s,l,f)},editor:{getContent:t=>MD(e,t),setContent:(t,n)=>G7(e,t,n),insertContent:(t,n)=>F_(e,t,n),addVisual:t=>n6(e,t)},selection:{getContent:(t,n)=>ZL(e,t,n)},autocompleter:{addDecoration:Pt,removeDecoration:Pt},raw:{getModel:()=>J.none()}}),nF=e=>{const t=z=>te(z)?z:{},{init:n,undoManager:s,formatter:l,editor:f,selection:g,autocompleter:C,raw:A}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:s.beforeChange,add:s.add,undo:s.undo,redo:s.redo,clear:s.clear,reset:s.reset,hasUndo:s.hasUndo,hasRedo:s.hasRedo,transact:(z,j,G)=>s.transact(G),ignore:(z,j)=>s.ignore(j),extra:(z,j,G,X)=>s.extra(G,X)},formatter:{match:(z,j,G,X)=>l.match(z,t(j),X),matchAll:l.matchAll,matchNode:l.matchNode,canApply:z=>l.canApply(z),closest:z=>l.closest(z),apply:(z,j,G)=>l.apply(z,t(j)),remove:(z,j,G,X)=>l.remove(z,t(j)),toggle:(z,j,G)=>l.toggle(z,t(j)),formatChanged:(z,j,G,X,ue)=>l.formatChanged(j,G,X,ue)},editor:{getContent:z=>f.getContent(z),setContent:(z,j)=>({content:f.setContent(z,j),html:""}),insertContent:(z,j)=>(f.insertContent(z),""),addVisual:f.addVisual},selection:{getContent:(z,j)=>g.getContent(j)},autocompleter:{addDecoration:C.addDecoration,removeDecoration:C.removeDecoration},raw:{getModel:()=>J.some(A.getRawModel())}}},oF=()=>{const e=Qe(null),t=Qe("");return{init:{bindEvents:Pt},undoManager:{beforeChange:Pt,add:e,undo:e,redo:e,clear:Pt,reset:Pt,hasUndo:xn,hasRedo:xn,transact:e,ignore:Pt,extra:Pt},formatter:{match:xn,matchAll:Qe([]),matchNode:Qe(void 0),canApply:xn,closest:t,apply:Pt,remove:Pt,toggle:Pt,formatChanged:Qe({unbind:Pt})},editor:{getContent:t,setContent:Qe({content:"",html:""}),insertContent:Qe(""),addVisual:Pt},selection:{getContent:t},autocompleter:{addDecoration:Pt,removeDecoration:Pt},raw:{getModel:Qe(J.none())}}},qm=e=>Yn(e.plugins,"rtc"),o6=e=>mr(e.plugins,"rtc").bind(t=>J.from(t.setup)),r6=e=>{const t=e;return o6(e).fold(()=>(t.rtcInstance=u4(e),J.none()),n=>(t.rtcInstance=oF(),J.some(()=>n().then(s=>(t.rtcInstance=nF(s),s.rtc.isRemote)))))},d4=e=>e.rtcInstance?e.rtcInstance:u4(e),ti=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},Bv=(e,t,n)=>{ti(e).undoManager.beforeChange(t,n)},rF=(e,t,n,s,l,f,g)=>ti(e).undoManager.add(t,n,s,l,f,g),sF=(e,t,n,s)=>ti(e).undoManager.undo(t,n,s),s6=(e,t,n)=>ti(e).undoManager.redo(t,n),a6=(e,t,n)=>{ti(e).undoManager.clear(t,n)},gS=(e,t)=>{ti(e).undoManager.reset(t)},aF=(e,t,n)=>ti(e).undoManager.hasUndo(t,n),iF=(e,t,n)=>ti(e).undoManager.hasRedo(t,n),lF=(e,t,n,s)=>ti(e).undoManager.transact(t,n,s),cF=(e,t,n)=>{ti(e).undoManager.ignore(t,n)},uF=(e,t,n,s,l)=>{ti(e).undoManager.extra(t,n,s,l)},dF=(e,t,n,s,l)=>ti(e).formatter.match(t,n,s,l),fF=(e,t,n)=>ti(e).formatter.matchAll(t,n),mF=(e,t,n,s,l)=>ti(e).formatter.matchNode(t,n,s,l),gF=(e,t)=>ti(e).formatter.canApply(t),hF=(e,t)=>ti(e).formatter.closest(t),Hr=(e,t,n,s)=>{ti(e).formatter.apply(t,n,s)},i6=(e,t,n,s,l)=>{ti(e).formatter.remove(t,n,s,l)},f4=(e,t,n,s)=>{ti(e).formatter.toggle(t,n,s)},l6=(e,t,n,s,l,f)=>ti(e).formatter.formatChanged(t,n,s,l,f),c6=(e,t)=>d4(e).editor.getContent(t),m4=(e,t,n)=>d4(e).editor.setContent(t,n),pF=(e,t,n)=>d4(e).editor.insertContent(t,n),bF=(e,t,n)=>ti(e).selection.getContent(t,n),u6=(e,t)=>ti(e).editor.addVisual(t),d6=e=>ti(e).init.bindEvents(),vF=(e,t={})=>{const n=t.format?t.format:"html";return bF(e,n,t)},T0=e=>e.dom.length===0?(gr(e),J.none()):J.some(e),yF=(e,t)=>e.filter(n=>Nr.isBookmarkNode(n.dom)).bind(t?Pn:sa),Mv=(e,t,n,s,l)=>{const f=e.dom,g=t.dom,C=s?f.length:g.length;s?(v2(f,g,l,!1,!s),n.setStart(g,C)):(v2(g,f,l,!1,!s),n.setEnd(g,C))},V2=(e,t,n)=>{Za(e).each(s=>{const l=e.dom;t&&wv(s,mt(l,0),n)?f_(l,0,n):!t&&y0(s,mt(l,l.length),n)&&_s(l,l.length,n)})},O0=(e,t,n,s,l)=>{e.bind(f=>((s?_s:f_)(f.dom,s?f.dom.length:0,l),t.filter(Yr).map(C=>Mv(f,C,n,s,l)))).orThunk(()=>yF(t,s).or(t).filter(Yr).map(g=>V2(g,s,l)))},g4=(e,t,n)=>{const s=J.from(t.firstChild).map(Be.fromDom),l=J.from(t.lastChild).map(Be.fromDom);e.deleteContents(),e.insertNode(t);const f=s.bind(sa).filter(Yr).bind(T0),g=l.bind(Pn).filter(Yr).bind(T0);O0(f,s,e,!0,n),O0(g,l,e,!1,n),e.collapse(!1)},f6=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),m6=(e,t)=>{if(t.format!=="raw"){const n=e.selection.getRng(),s=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),l=s?{context:s.nodeName.toLowerCase()}:{},f=e.parser.parse(t.content,{forced_root_block:!1,...l,...t});return th({validate:!1},e.schema).serialize(f)}else return t.content},h4=(e,t,n={})=>{const s=f6(n,t);K3(e,s).each(l=>{const f=m6(e,l),g=e.selection.getRng();g4(g,g.createContextualFragment(f),e.schema),e.selection.setRng(g),zu(e,g),q3(e,f,l)})},p4=(e,t,n)=>{if(Yn(e,t)){const s=Ct(e[t],l=>l!==n);s.length===0?delete e[t]:e[t]=s}};var g6=(e,t)=>{let n,s;const l=(C,A)=>wn(A,z=>e.is(z,C)),f=C=>e.getParents(C,void 0,e.getRoot()),g=()=>{n={},s={},t.on("NodeChange",C=>{const A=C.element,z=f(A),j={};Uo(n,(G,X)=>{l(X,z).each(ue=>{s[X]||(pe(G,we=>{we(!0,{node:ue,selector:X,parents:z})}),s[X]=G),j[X]=G})}),Uo(s,(G,X)=>{j[X]||(delete s[X],pe(G,ue=>{ue(!1,{node:A,selector:X,parents:z})}))})})};return{selectorChangedWithUnbind:(C,A)=>(n||g(),n[C]||(n[C]=[]),n[C].push(A),l(C,f(t.selection.getStart())).each(()=>{s[C]=n[C]}),{unbind:()=>{p4(n,C,A),p4(s,C,A)}})}};const b4=e=>!!(e&&e.ownerDocument)&&Wa(Be.fromDom(e.ownerDocument),Be.fromDom(e)),v4=e=>e?b4(e.startContainer)&&b4(e.endContainer):!1,y4=(e,t,n,s)=>{let l,f;const{selectorChangedWithUnbind:g}=g6(e,s),C=(Xt,Tn)=>{const er=e.createRng();Ce(Xt)&&Ce(Tn)?(er.setStart(Xt,Tn),er.setEnd(Xt,Tn),at(er),Fe(!1)):(Hx(e,er,s.getBody(),!0),at(er))},A=Xt=>vF(s,Xt),z=(Xt,Tn)=>h4(s,Xt,Tn),j=Xt=>SD(s.getBody(),We(),Xt),G=Xt=>kD(s.getBody(),We(),Xt),X=(Xt,Tn)=>ml.getBookmark(Xt,Tn),ue=Xt=>ml.moveToBookmark(Xt),we=(Xt,Tn)=>(d2(e,Xt,Tn).each(at),Xt),de=()=>{const Xt=We(),Tn=qe();return!Xt||Xt.item?!1:Xt.compareEndPoints?Xt.compareEndPoints("StartToEnd",Xt)===0:!Tn||Xt.collapsed},ke=()=>{const Xt=We(),Tn=s.getBody().querySelectorAll('[data-mce-selected="1"]');return Tn.length>0?vo(Tn,er=>e.isEditable(er.parentElement)):CD(e,Xt)},Fe=Xt=>{const Tn=We();Tn.collapse(!!Xt),at(Tn)},qe=()=>t.getSelection?t.getSelection():t.document.selection,We=()=>{let Xt;const Tn=(tn,Hn,Eo)=>{try{return Hn.compareBoundaryPoints(tn,Eo)}catch{return-1}},er=t.document;if(Ce(s.bookmark)&&!gv(s)){const tn=zE(s);if(tn.isSome())return tn.map(Hn=>n_(s,[Hn])[0]).getOr(er.createRange())}try{const tn=qe();tn&&!ef(tn.anchorNode)&&(tn.rangeCount>0?Xt=tn.getRangeAt(0):Xt=er.createRange(),Xt=n_(s,[Xt])[0])}catch{}if(Xt||(Xt=er.createRange()),Sn(Xt.startContainer)&&Xt.collapsed){const tn=e.getRoot();Xt.setStart(tn,0),Xt.setEnd(tn,0)}return l&&f&&(Tn(Xt.START_TO_START,Xt,l)===0&&Tn(Xt.END_TO_END,Xt,l)===0?Xt=f:(l=null,f=null)),Xt},at=(Xt,Tn)=>{if(!v4(Xt))return;const er=qe();if(Xt=s.dispatch("SetSelectionRange",{range:Xt,forward:Tn}).range,er){f=Xt;try{er.removeAllRanges(),er.addRange(Xt)}catch{}Tn===!1&&er.extend&&(er.collapse(Xt.endContainer,Xt.endOffset),er.extend(Xt.startContainer,Xt.startOffset)),l=er.rangeCount>0?er.getRangeAt(0):null}if(!Xt.collapsed&&Xt.startContainer===Xt.endContainer&&(er!=null&&er.setBaseAndExtent)&&Xt.endOffset-Xt.startOffset<2&&Xt.startContainer.hasChildNodes()){const Hn=Xt.startContainer.childNodes[Xt.startOffset];Hn&&Hn.nodeName==="IMG"&&(er.setBaseAndExtent(Xt.startContainer,Xt.startOffset,Xt.endContainer,Xt.endOffset),(er.anchorNode!==Xt.startContainer||er.focusNode!==Xt.endContainer)&&er.setBaseAndExtent(Hn,0,Hn,1))}s.dispatch("AfterSetSelectionRange",{range:Xt,forward:Tn})},Nt=Xt=>(z(e.getOuterHTML(Xt)),Xt),jt=()=>c7(s.getBody(),We()),dn=(Xt,Tn)=>WE(e,We(),Xt,Tn),wt=()=>{const Xt=qe(),Tn=Xt==null?void 0:Xt.anchorNode,er=Xt==null?void 0:Xt.focusNode;if(!Xt||!Tn||!er||ef(Tn)||ef(er))return!0;const tn=e.createRng(),Hn=e.createRng();try{tn.setStart(Tn,Xt.anchorOffset),tn.collapse(!0),Hn.setStart(er,Xt.focusOffset),Hn.collapse(!0)}catch{return!0}return tn.compareBoundaryPoints(tn.START_TO_START,Hn)<=0},Ys={dom:e,win:t,serializer:n,editor:s,expand:(Xt={type:"word"})=>at(ap(e).expand(We(),Xt)),collapse:Fe,setCursorLocation:C,getContent:A,setContent:z,getBookmark:X,moveToBookmark:ue,select:we,isCollapsed:de,isEditable:ke,isForward:wt,setNode:Nt,getNode:jt,getSel:qe,setRng:at,getRng:We,getStart:j,getEnd:G,getSelectedBlocks:dn,normalize:()=>{const Xt=We(),Tn=qe();if(!Px(Tn)&&iv(s)){const er=Pm(e,Xt);return er.each(tn=>{at(tn,wt())}),er.getOr(Xt)}return Xt},selectorChanged:(Xt,Tn)=>(g(Xt,Tn),Ys),selectorChangedWithUnbind:g,getScrollContainer:()=>{let Xt,Tn=e.getRoot();for(;Tn&&Tn.nodeName!=="BODY";){if(Tn.scrollHeight>Tn.clientHeight){Xt=Tn;break}Tn=Tn.parentNode}return Xt},scrollIntoView:(Xt,Tn)=>{Ce(Xt)?ME(s,Xt,Tn):zu(s,We(),Tn)},placeCaretAt:(Xt,Tn)=>at(X5(Xt,Tn,s.getDoc())),getBoundingClientRect:()=>{const Xt=We();return Xt.collapsed?mt.fromRangeStart(Xt).getClientRects()[0]:Xt.getBoundingClientRect()},destroy:()=>{t=l=f=null,Pr.destroy()}},ml=Nr(Ys),Pr=kr(Ys,s);return Ys.bookmarkManager=ml,Ys.controlSelection=Pr,Ys},h6=(e,t,n)=>{t.addNodeFilter("br",(s,l,f)=>{const g=Kt.extend({},n.getBlockElements()),C=n.getNonEmptyElements(),A=n.getWhitespaceElements();g.body=1;const z=j=>j.name in g||Ph(n,j);for(let j=0,G=s.length;j<G;j++){let X=s[j],ue=X.parent;if(ue&&z(ue)&&X===ue.lastChild){let we=X.prev;for(;we;){const de=we.name;if(de!=="span"||we.attr("data-mce-type")!=="bookmark"){de==="br"&&(X=null);break}we=we.prev}if(X&&(X.remove(),kv(n,C,A,ue))){const de=n.getElementRule(ue.name);de&&(de.removeEmpty?ue.remove():de.paddEmpty&&T_(e,f,z,ue))}}else{let we=X;for(;ue&&ue.firstChild===we&&ue.lastChild===we&&(we=ue,!g[ue.name]);)ue=ue.parent;if(we===ue){const de=new fi("#text",3);de.value=ma,X.replace(de)}}}})},x4=(e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",(s,l)=>{let f=s.length;for(;f--;){const g=s[f];g.attr("tabindex",g.attr("data-mce-tabindex")),g.attr(l,null)}}),e.addAttributeFilter("src,href,style",(s,l)=>{const f="data-mce-"+l,g=t.url_converter,C=t.url_converter_scope;let A=s.length;for(;A--;){const z=s[A];let j=z.attr(f);j!==void 0?(z.attr(l,j.length>0?j:null),z.attr(f,null)):(j=z.attr(l),l==="style"?j=n.serializeStyle(n.parseStyle(j),z.name):g&&(j=g.call(C,j,l,z.name)),z.attr(l,j.length>0?j:null))}}),e.addAttributeFilter("class",s=>{let l=s.length;for(;l--;){const f=s[l];let g=f.attr("class");g&&(g=g.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),f.attr("class",g.length>0?g:null))}}),e.addAttributeFilter("data-mce-type",(s,l,f)=>{let g=s.length;for(;g--;){const C=s[g];C.attr("data-mce-type")==="bookmark"&&!f.cleanup&&(J.from(C.firstChild).exists(z=>{var j;return!Sc((j=z.value)!==null&&j!==void 0?j:"")})?C.unwrap():C.remove())}}),e.addNodeFilter("script,style",(s,l)=>{var f;const g=A=>A.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let C=s.length;for(;C--;){const A=s[C],z=A.firstChild,j=(f=z==null?void 0:z.value)!==null&&f!==void 0?f:"";if(l==="script"){const G=A.attr("type");G&&A.attr("type",G==="mce-no/type"?null:G.replace(/^mce\-/,"")),t.element_format==="xhtml"&&z&&j.length>0&&(z.value=`// <![CDATA[
`+g(j)+`
// ]]>`)}else t.element_format==="xhtml"&&z&&j.length>0&&(z.value=`<!--
`+g(j)+`
-->`)}}),e.addNodeFilter("#comment",s=>{let l=s.length;for(;l--;){const f=s[l],g=f.value;t.preserve_cdata&&(g==null?void 0:g.indexOf("[CDATA["))===0?(f.name="#cdata",f.type=4,f.value=n.decode(g.replace(/^\[CDATA\[|\]\]$/g,""))):(g==null?void 0:g.indexOf("mce:protected "))===0&&(f.name="#text",f.type=3,f.raw=!0,f.value=unescape(g).substr(14))}}),e.addNodeFilter("xml:namespace,input",(s,l)=>{let f=s.length;for(;f--;){const g=s[f];g.type===7?g.remove():g.type===1&&l==="input"&&!g.attr("type")&&g.attr("type","text")}}),e.addAttributeFilter("data-mce-type",s=>{pe(s,l=>{l.attr("data-mce-type")==="format-caret"&&(l.isEmpty(e.schema.getNonEmptyElements())?l.remove():l.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(s,l)=>{let f=s.length;for(;f--;)s[f].attr(l,null)}),t.remove_trailing_brs&&h6(t,e,e.schema)},xF=e=>{const t=s=>(s==null?void 0:s.name)==="br",n=e.lastChild;if(t(n)){const s=n.prev;t(s)&&(n.remove(),s.remove())}},p6=(e,t,n)=>{let s;const l=e.dom;let f=t.cloneNode(!0);const g=document.implementation;if(g.createHTMLDocument){const C=g.createHTMLDocument("");Kt.each(f.nodeName==="BODY"?f.childNodes:[f],A=>{C.body.appendChild(C.importNode(A,!0))}),f.nodeName!=="BODY"?f=C.body.firstChild:f=C.body,s=l.doc,l.doc=C}return Kx(e,{...n,node:f}),s&&(l.doc=s),f},b6=(e,t)=>Ce(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,v6=(e,t,n)=>b6(e,n)?p6(e,t,n):t,wF=(e,t,n)=>{Kt.inArray(t,n)===-1&&(e.addAttributeFilter(n,(s,l)=>{let f=s.length;for(;f--;)s[f].attr(l,null)}),t.push(n))},CF=(e,t,n)=>!t.no_events&&e?qx(e,{...t,content:n}).content:n,hS=(e,t,n)=>{const s=ll(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||Lb(Be.fromDom(t))?s:Kt.trim(s)},y6=(e,t,n)=>{const s=n.selection?{forced_root_block:!1,...n}:n,l=e.parse(t,s);return xF(l),l},x6=(e,t,n)=>th(e,t).serialize(n),w6=(e,t,n,s,l)=>{const f=x6(t,n,s);return CF(e,l,f)},_F=(e,t)=>{const n=["data-mce-selected"],s={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},l=t&&t.dom?t.dom:Br.DOM,f=t&&t.schema?t.schema:xc(s),g=Rv(s,f);x4(g,s,l);const C=(A,z={})=>{const j={format:"html",...z},G=v6(t,A,j),X=hS(l,G,j),ue=y6(g,X,j);return j.format==="tree"?ue:w6(t,s,f,ue,j)};return{schema:f,addNodeFilter:g.addNodeFilter,addAttributeFilter:g.addAttributeFilter,serialize:C,addRules:f.addValidElements,setRules:f.setValidElements,addTempAttr:pt(wF,g,n),getTempAttrs:Qe(n),getNodeFilters:g.getNodeFilters,getAttributeFilters:g.getAttributeFilters,removeNodeFilter:g.removeNodeFilter,removeAttributeFilter:g.removeAttributeFilter}},C6=(e,t)=>{const n=_F(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},SF="html",kF=(e,t)=>({...e,format:t,get:!0,getInner:!0}),_6=(e,t={})=>{const n=t.format?t.format:SF,s=kF(t,n);return HN(e,s).fold(On,l=>{const f=c6(e,l);return Od(e,f,l)})},S6="html",k6=(e,t)=>({format:S6,...e,set:!0,content:t}),w4=(e,t,n={})=>{const s=k6(n,t);return K3(e,s).map(l=>{const f=m4(e,l.content,l);return q3(e,f.html,l),f.content}).getOr(t)},EF="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),AF=[],TF="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),$2=[],C4=(e,t)=>{const n=Ct(t,s=>Yn(e,s));return fr(n)},OF=e=>{const t=C4(e,EF),n=e.forced_root_block;return(n===!1||n==="")&&t.push("forced_root_block (false only)"),fr(t)},E6=e=>C4(e,AF),_4=(e,t)=>{const n=Kt.makeMap(e.plugins," "),l=Ct(t,f=>Yn(n,f));return fr(l)},S4=e=>_4(e,TF),A6=e=>_4(e,$2.map(t=>t.name)),T6=(e,t)=>{const n=OF(e),s=S4(t),l=s.length>0,f=n.length>0,g=t.theme==="mobile";if(l||f||g){const C=`
- `,A=g?`

Themes:${C}mobile`:"",z=l?`

Plugins:${C}${s.join(C)}`:"",j=f?`

Options:${C}${n.join(C)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+A+z+j)}},O6=e=>wn($2,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),DF=(e,t)=>{const n=E6(e),s=A6(t),l=s.length>0,f=n.length>0;if(l||f){const g=`
- `,C=l?`

Plugins:${g}${s.map(O6).join(g)}`:"",A=f?`

Options:${g}${n.join(g)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+C+A)}},RF=(e,t)=>{T6(e,t),DF(e,t)},_p=Br.DOM,NF=e=>{_p.setStyle(e.id,"display",e.orgDisplay)},U2=e=>J.from(e).each(t=>t.destroy()),pS=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const n=e.selection;if(n){const s=n.dom;t.selection=n.win=n.dom=s.doc=null}},D6=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),_p.unbind(t,"submit reset",e.formEventDelegate))},R6=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,s=e.getBody(),l=e.getElement();s&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Ce(l==null?void 0:l.nextSibling)&&_p.remove(l.nextSibling),Gx(e),e.editorManager.remove(e),!e.inline&&s&&NF(e),Yx(e),_p.remove(e.getContainer()),U2(t),U2(n),e.destroy()}},IF=(e,t)=>{const{selection:n,dom:s}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),U2(n),U2(s)),D6(e),pS(e),e.destroyed=!0}},W2=(()=>{const e={};return{add:(l,f)=>{e[l]=f},get:l=>e[l]?e[l]:{icons:{}},has:l=>Yn(e,l)}})(),Sp=Ui.ModelManager,Z2=(e,t)=>t.dom[e],k4=(e,t)=>parseInt(Ds(t,e),10),E4=pt(Z2,"clientWidth"),N6=pt(Z2,"clientHeight"),BF=pt(k4,"margin-top"),I6=pt(k4,"margin-left"),MF=e=>e.dom.getBoundingClientRect(),B6=(e,t,n)=>{const s=E4(e),l=N6(e);return t>=0&&n>=0&&t<=s&&n<=l},M6=(e,t,n,s)=>{const l=MF(t),f=e?l.left+t.dom.clientLeft+I6(t):0,g=e?l.top+t.dom.clientTop+BF(t):0,C=n-f,A=s-g;return{x:C,y:A}},PF=(e,t,n)=>{const s=Be.fromDom(e.getBody()),l=e.inline?s:Cu(s),f=M6(e.inline,l,t,n);return B6(l,f.x,f.y)},P6=e=>J.from(e).map(Be.fromDom),A4=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return P6(t).map(Ci).getOr(!1)};var L6=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const T4=e=>{const t=[],n=()=>{const X=e.theme;return X&&X.getNotificationManagerImpl?X.getNotificationManagerImpl():L6()},s=()=>J.from(t[0]),l=(X,ue)=>X.type===ue.type&&X.text===ue.text&&!X.progressBar&&!X.timeout&&!ue.progressBar&&!ue.timeout,f=()=>{s().each(X=>{X.reposition()})},g=X=>{t.push(X)},C=X=>{Cn(t,ue=>ue===X).each(ue=>{t.splice(ue,1)})},A=(X,ue=!0)=>e.removed||!A4(e)?{}:(ue&&e.dispatch("BeforeOpenNotification",{notification:X}),wn(t,we=>l(n().getArgs(we),X)).getOrThunk(()=>{e.editorManager.setActive(e);const we=n().open(X,()=>{C(we)},()=>m0(e));return g(we),f(),e.dispatch("OpenNotification",{notification:{...we}}),we})),z=()=>{s().each(X=>{n().close(X),C(X),f()})},j=Qe(t);return(X=>{X.on("SkinLoaded",()=>{const ue=WM(X);ue&&A({text:ue,type:"warning",timeout:0},!1),f()}),X.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(f)}),X.on("remove",()=>{pe(t.slice(),ue=>{n().close(ue)})}),X.addShortcut("alt+F12","Focus to notification",()=>s().map(ue=>Be.fromDom(ue.getEl())).each(ue=>PE(ue)))})(e),{open:A,close:z,getNotifications:j}},D0=Ui.PluginManager,kp=Ui.ThemeManager;var LF=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const F6=e=>{let t=[];const n=()=>{const de=e.theme;return de&&de.getWindowManagerImpl?de.getWindowManagerImpl():LF()},s=(de,ke)=>(...Fe)=>ke?ke.apply(de,Fe):void 0,l=de=>{e.dispatch("OpenWindow",{dialog:de})},f=de=>{e.dispatch("CloseWindow",{dialog:de})},g=de=>{t.push(de),l(de)},C=de=>{f(de),t=Ct(t,ke=>ke!==de),t.length===0&&e.focus()},A=()=>J.from(t[t.length-1]),z=de=>{e.editorManager.setActive(e),mv(e),e.ui.show();const ke=de();return g(ke),ke},j=(de,ke)=>z(()=>n().open(de,ke,C)),G=de=>z(()=>n().openUrl(de,C)),X=(de,ke,Fe)=>{const qe=n();qe.alert(de,s(Fe||qe,ke))},ue=(de,ke,Fe)=>{const qe=n();qe.confirm(de,s(Fe||qe,ke))},we=()=>{A().each(de=>{n().close(de),C(de)})};return e.on("remove",()=>{pe(t,de=>{n().close(de)})}),{open:j,openUrl:G,alert:X,confirm:ue,close:we}},bS=(e,t)=>{e.notificationManager.open({type:"error",text:t})},vS=(e,t)=>{e._skinLoaded?bS(e,t):e.on("SkinLoaded",()=>{bS(e,t)})},z6=(e,t)=>{vS(e,wc.translate(["Failed to upload image: {0}",t]))},Pv=(e,t,n)=>{wE(e,t,{message:n}),console.error(n)},R0=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,O4=(e,t,n)=>{Pv(e,"PluginLoadError",R0("plugin",t,n))},D4=(e,t,n)=>{Pv(e,"IconsLoadError",R0("icons",t,n))},FF=(e,t,n)=>{Pv(e,"LanguageLoadError",R0("language",t,n))},H6=(e,t,n)=>{Pv(e,"ThemeLoadError",R0("theme",t,n))},zF=(e,t,n)=>{Pv(e,"ModelLoadError",R0("model",t,n))},HF=(e,t,n)=>{const s=wc.translate(["Failed to initialize plugin: {0}",t]);wE(e,"PluginLoadError",{message:s}),j2(s,n),vS(e,s)},j2=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},R4=e=>/^[a-z0-9\-]+$/i.test(e),N4=e=>"content/"+e+"/content.css",yS=e=>tinymce.Resource.has(N4(e)),VF=e=>V6(e,Cl(e)),$F=e=>V6(e,SO(e)),V6=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",l=`content${e.editorManager.suffix}.css`;return Me(t,f=>yS(f)?f:R4(f)&&!e.inline?`${n}/${f}/${l}`:e.documentBaseURI.toAbsolute(f))},$6=e=>{e.contentCSS=e.contentCSS.concat(VF(e),$F(e))},U6=e=>e?io(e.getElementsByTagName("img")):[],UF=(e,t)=>{const n={};return{findAll:(l,f=Rn)=>{const g=Ct(U6(l),A=>{const z=A.src;return A.hasAttribute("data-mce-bogus")||A.hasAttribute("data-mce-placeholder")||!z||z===_o.transparentSrc?!1:Gr(z,"blob:")?!e.isUploaded(z)&&f(A):Gr(z,"data:")?f(A):!1}),C=Me(g,A=>{const z=A.src;if(Yn(n,z))return n[z].then(j=>Te(j)?j:{image:A,blobInfo:j.blobInfo});{const j=k3(t,z).then(G=>(delete n[z],{image:A,blobInfo:G})).catch(G=>(delete n[z],G));return n[z]=j,j}});return Promise.all(C)}}},I4=()=>{let n={};const s=(X,ue)=>({status:X,resultUri:ue}),l=X=>X in n;return{hasBlobUri:l,getResultUri:X=>{const ue=n[X];return ue?ue.resultUri:null},isPending:X=>l(X)?n[X].status===1:!1,isUploaded:X=>l(X)?n[X].status===2:!1,markPending:X=>{n[X]=s(1,null)},markUploaded:(X,ue)=>{n[X]=s(2,ue)},removeFailed:X=>{delete n[X]},destroy:()=>{n={}}}};let K2=0;const W6=()=>{const e=()=>Math.round(il()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},WF=e=>e+K2+++W6(),Z6=()=>{let e=[];const t=G=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[G.toLowerCase()]||"dat",n=(G,X,ue,we,de)=>{if(Te(G))return s({id:G,name:we,filename:de,blob:X,base64:ue});if(te(G))return s(G);throw new Error("Unknown input type")},s=G=>{if(!G.blob||!G.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const X=G.id||WF("blobid"),ue=G.name||X,we=G.blob;return{id:Qe(X),name:Qe(ue),filename:Qe(G.filename||ue+"."+t(we.type)),blob:Qe(we),base64:Qe(G.base64),blobUri:Qe(G.blobUri||URL.createObjectURL(we)),uri:Qe(G.uri)}},l=G=>{g(G.id())||e.push(G)},f=G=>wn(e,G).getOrUndefined(),g=G=>f(X=>X.id()===G);return{create:n,add:l,get:g,getByUri:G=>f(X=>X.blobUri()===G),getByData:(G,X)=>f(ue=>ue.base64()===G&&ue.blob().type===X),findFirst:f,removeByUri:G=>{e=Ct(e,X=>X.blobUri()===G?(URL.revokeObjectURL(X.blobUri()),!1):!0)},destroy:()=>{pe(e,G=>{URL.revokeObjectURL(G.blobUri())}),e=[]}}},j6=(e,t)=>{const n={},s=(de,ke)=>de?de.replace(/\/$/,"")+"/"+ke.replace(/^\//,""):ke,l=(de,ke)=>new Promise((Fe,qe)=>{const We=new XMLHttpRequest;We.open("POST",t.url),We.withCredentials=t.credentials,We.upload.onprogress=Nt=>{ke(Nt.loaded/Nt.total*100)},We.onerror=()=>{qe("Image upload failed due to a XHR Transport error. Code: "+We.status)},We.onload=()=>{if(We.status<200||We.status>=300){qe("HTTP Error: "+We.status);return}const Nt=JSON.parse(We.responseText);if(!Nt||!Te(Nt.location)){qe("Invalid JSON: "+We.responseText);return}Fe(s(t.basePath,Nt.location))};const at=new FormData;at.append("file",de.blob(),de.filename()),We.send(at)}),f=Ne(t.handler)?t.handler:l,g=()=>new Promise(de=>{de([])}),C=(de,ke)=>({url:ke,blobInfo:de,status:!0}),A=(de,ke)=>({url:"",blobInfo:de,status:!1,error:ke}),z=(de,ke)=>{Kt.each(n[de],Fe=>{Fe(ke)}),delete n[de]},j=(de,ke,Fe)=>(e.markPending(de.blobUri()),new Promise(qe=>{let We,at;try{const Nt=()=>{We&&(We.close(),at=Pt)},jt=wt=>{Nt(),e.markUploaded(de.blobUri(),wt),z(de.blobUri(),C(de,wt)),qe(C(de,wt))},dn=wt=>{Nt(),e.removeFailed(de.blobUri()),z(de.blobUri(),A(de,wt)),qe(A(de,wt))};at=wt=>{wt<0||wt>100||J.from(We).orThunk(()=>J.from(Fe).map(Ur)).each(dt=>{We=dt,dt.progressBar.value(wt)})},ke(de,at).then(jt,wt=>{dn(Te(wt)?{message:wt}:wt)})}catch(Nt){qe(A(de,Nt))}})),G=de=>de===l,X=de=>{const ke=de.blobUri();return new Promise(Fe=>{n[ke]=n[ke]||[],n[ke].push(Fe)})},ue=(de,ke)=>(de=Kt.grep(de,Fe=>!e.isUploaded(Fe.blobUri())),Promise.all(Kt.map(de,Fe=>e.isPending(Fe.blobUri())?X(Fe):j(Fe,f,ke))));return{upload:(de,ke)=>!t.url&&G(f)?g():ue(de,ke)}},K6=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),q6=(e,t)=>j6(t,{url:Lk(e),basePath:wO(e),credentials:Fk(e),handler:VM(e)}),ZF=e=>{const t=I4(),n=q6(e,t);return{upload:(s,l=!0)=>n.upload(s,l?K6(e):void 0)}},jF=(e,t)=>e.dom.isEmpty(t.dom)&&Ce(e.schema.getTextBlockElements()[Po(t)]),G6=e=>t=>{jF(e,t)&&Rs(t,Be.fromHtml('<br data-mce-bogus="1" />'))},B4=e=>{const t=Z6();let n,s;const l=I4(),f=[],g=We=>at=>e.selection?We(at):[],C=We=>We+(We.indexOf("?")===-1?"?":"&")+new Date().getTime(),A=(We,at,Nt)=>{let jt=0;do jt=We.indexOf(at,jt),jt!==-1&&(We=We.substring(0,jt)+Nt+We.substr(jt+at.length),jt+=Nt.length-at.length+1);while(jt!==-1);return We},z=(We,at,Nt)=>{const jt=`src="${Nt}"${Nt===_o.transparentSrc?' data-mce-placeholder="1"':""}`;return We=A(We,`src="${at}"`,jt),We=A(We,'data-mce-src="'+at+'"','data-mce-src="'+Nt+'"'),We},j=(We,at)=>{pe(e.undoManager.data,Nt=>{Nt.type==="fragmented"?Nt.fragments=Me(Nt.fragments,jt=>z(jt,We,at)):Nt.content=z(Nt.content,We,at)})},G=(We,at)=>{const Nt=e.convertURL(at,"src");j(We.src,at),xi(Be.fromDom(We),{src:qg(e)?C(at):at,"data-mce-src":Nt})},X=()=>(n||(n=q6(e,l)),ke().then(g(We=>{const at=Me(We,Nt=>Nt.blobInfo);return n.upload(at,K6(e)).then(g(Nt=>{const jt=[];let dn=!1;const wt=Me(Nt,(dt,Dt)=>{const{blobInfo:bn,image:Nn}=We[Dt];let yo=!1;return dt.status&&yO(e)?(dt.url&&!yr(Nn.src,dt.url)&&(dn=!0),t.removeByUri(Nn.src),qm(e)||G(Nn,dt.url)):dt.error&&(dt.error.remove&&(j(Nn.src,_o.transparentSrc),jt.push(Nn),yo=!0),z6(e,dt.error.message)),{element:Nn,status:dt.status,uploadUri:dt.url,blobInfo:bn,removed:yo}});return jt.length>0&&!qm(e)?e.undoManager.transact(()=>{pe(Kc(jt),dt=>{const Dt=Za(dt);gr(dt),Dt.each(G6(e)),t.removeByUri(dt.dom.src)})}):dn&&e.undoManager.dispatchChange(),wt}))}))),ue=()=>Mr(e)?X():Promise.resolve([]),we=We=>vo(f,at=>at(We)),de=We=>{f.push(We)},ke=()=>(s||(s=UF(l,t)),s.findAll(e.getBody(),we).then(g(We=>{const at=Ct(We,Nt=>Te(Nt)?(vS(e,Nt),!1):Nt.uriType!=="blob");return qm(e)||pe(at,Nt=>{j(Nt.image.src,Nt.blobInfo.blobUri()),Nt.image.src=Nt.blobInfo.blobUri(),Nt.image.removeAttribute("data-mce-src")}),at}))),Fe=()=>{t.destroy(),l.destroy(),s=n=null},qe=We=>We.replace(/src="(blob:[^"]+)"/g,(at,Nt)=>{const jt=l.getResultUri(Nt);if(jt)return'src="'+jt+'"';let dn=t.getByUri(Nt);return dn||(dn=It(e.editorManager.get(),(wt,dt)=>wt||dt.editorUpload&&dt.editorUpload.blobCache.getByUri(Nt),void 0)),dn?'src="data:'+dn.blob().type+";base64,"+dn.base64()+'"':at});return e.on("SetContent",()=>{Mr(e)?ue():ke()}),e.on("RawSaveContent",We=>{We.content=qe(We.content)}),e.on("GetContent",We=>{We.source_view||We.format==="raw"||We.format==="tree"||(We.content=qe(We.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",We=>{pe(We,at=>{const Nt=at.attr("src");if(!Nt||t.getByUri(Nt))return;const jt=l.getResultUri(Nt);jt&&at.attr("src",jt)})})}),{blobCache:t,addFilter:de,uploadImages:X,uploadImagesAuto:ue,scanForImages:ke,destroy:Fe}},Y6=e=>{const t=e.dom,n=e.schema.type,s={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:l=>{t.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:l=>{t.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const l={inline:"span",styles:{textDecoration:"line-through"},exact:!0},f={inline:"strike",remove:"all",preserve_attributes:["class","style"]},g={inline:"s",remove:"all",preserve_attributes:["class","style"]};return n!=="html4"?[g,l,f]:[l,g,f]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(l,f,g)=>yn(l)&&l.hasAttribute("href"),onformat:(l,f,g)=>{Kt.each(g,(C,A)=>{t.setAttrib(l,A,C)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":l=>{var f;return(f=l==null?void 0:l.customValue)!==null&&f!==void 0?f:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Kt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),l=>{s[l]={block:l,remove:"all"}}),s},M4={remove_similar:!0,inherit:!1},N0={selector:"td,th",...M4},X6={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...N0},tablecellverticalalign:{styles:{"vertical-align":"%value"},...N0},tablecellbordercolor:{styles:{borderColor:"%value"},...N0},tablecellclass:{classes:["%value"],...N0},tableclass:{selector:"table",classes:["%value"],...M4},tablecellborderstyle:{styles:{borderStyle:"%value"},...N0},tablecellborderwidth:{styles:{borderWidth:"%value"},...N0}},KF=Qe(X6),P4=e=>{const t={},n=g=>Ce(g)?t[g]:t,s=g=>Yn(t,g),l=(g,C)=>{g&&(Te(g)?(ne(C)||(C=[C]),pe(C,A=>{Ze(A.deep)&&(A.deep=!Ac(A)),Ze(A.split)&&(A.split=!Ac(A)||Qa(A)),Ze(A.remove)&&Ac(A)&&!Qa(A)&&(A.remove="none"),Ac(A)&&Qa(A)&&(A.mixed=!0,A.block_expand=!0),Te(A.classes)&&(A.classes=A.classes.split(/\s+/))}),t[g]=C):Uo(g,(A,z)=>{l(z,A)}))},f=g=>(g&&t[g]&&delete t[g],t);return l(Y6(e)),l(KF()),l(jM(e)),{get:n,has:s,register:l,unregister:f}},I0=Kt.each,Xl=Br.DOM,Rf=e=>Ce(e)&&te(e),q2=(e,t)=>{const n=t&&t.schema||xc({}),s=(A,z)=>{z.classes.length>0&&Xl.addClass(A,z.classes.join(" ")),Xl.setAttribs(A,z.attrs)},l=A=>{const z=Te(A)?{name:A,classes:[],attrs:{}}:A,j=Xl.create(z.name);return s(j,z),j},f=(A,z)=>{const j=n.getElementRule(A.nodeName.toLowerCase()),G=j==null?void 0:j.parentsRequired;return G&&G.length?z&&le(G,z)?z:G[0]:!1},g=(A,z,j)=>{let G;const X=z[0],ue=Rf(X)?X.name:void 0,we=f(A,ue);if(we)ue===we?(G=X,z=z.slice(1)):G=we;else if(X)G=X,z=z.slice(1);else if(!j)return A;const de=G?l(G):Xl.create("div");de.appendChild(A),j&&Kt.each(j,Fe=>{const qe=l(Fe);de.insertBefore(qe,A)});const ke=Rf(G)?G.siblings:void 0;return g(de,z,ke)},C=Xl.create("div");if(e.length>0){const A=e[0],z=l(A),j=Rf(A)?A.siblings:void 0;C.appendChild(g(z,e.slice(1),j))}return C},Lv=e=>{e=Kt.trim(e);let t="div";const n={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(s,l,f,g,C)=>{switch(l){case"#":n.attrs.id=f;break;case".":n.classes.push(f);break;case":":Kt.inArray("checked disabled enabled read-only required".split(" "),f)!==-1&&(n.attrs[f]=f);break}if(g==="["){const A=C.match(/([\w\-]+)(?:\=\"([^\"]+))?/);A&&(n.attrs[A[1]]=A[2])}return""})),n.name=t||"div",n},J6=e=>Te(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Kt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const n=Kt.map(t.split(/(?:~\+|~|\+)/),Lv),s=n.pop();return n.length&&(s.siblings=n),s}).reverse()):[],Q6=(e,t)=>{let n="",s=KM(e);if(s==="")return"";const l=X=>Te(X)?X.replace(/%(\w+)/g,""):"",f=(X,ue)=>Xl.getStyle(ue??e.getBody(),X,!0);if(Te(t)){const X=e.formatter.get(t);if(!X)return"";t=X[0]}if("preview"in t){const X=t.preview;if(X===!1)return"";s=X||s}let g=t.block||t.inline||"span",C;const A=J6(t.selector);A.length>0?(A[0].name||(A[0].name=g),g=t.selector,C=q2(A,e)):C=q2([g],e);const z=Xl.select(g,C)[0]||C.firstChild;I0(t.styles,(X,ue)=>{const we=l(X);we&&Xl.setStyle(z,ue,we)}),I0(t.attributes,(X,ue)=>{const we=l(X);we&&Xl.setAttrib(z,ue,we)}),I0(t.classes,X=>{const ue=l(X);Xl.hasClass(z,ue)||Xl.addClass(z,ue)}),e.dispatch("PreviewFormats"),Xl.setStyles(C,{position:"absolute",left:-65535}),e.getBody().appendChild(C);const j=f("fontSize"),G=/px$/.test(j)?parseInt(j,10):0;return I0(s.split(" "),X=>{let ue=f(X,z);if(!(X==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ue)&&(ue=f(X),_b(ue).toLowerCase()==="#ffffff"))&&!(X==="color"&&_b(ue).toLowerCase()==="#000000")){if(X==="font-size"&&/em|%$/.test(ue)){if(G===0)return;ue=parseFloat(ue)/(/%$/.test(ue)?100:1)*G+"px"}X==="border"&&ue&&(n+="padding:0 2px;"),n+=X+":"+ue+";"}}),e.dispatch("AfterPreviewFormats"),Xl.remove(C),n},L4=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},G2=e=>{const t=P4(e),n=ga({});return L4(e),WR(e),qm(e)||iN(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(s,l,f)=>{Hr(e,s,l,f)},remove:(s,l,f,g)=>{i6(e,s,l,f,g)},toggle:(s,l,f)=>{f4(e,s,l,f)},match:(s,l,f,g)=>dF(e,s,l,f,g),closest:s=>hF(e,s),matchAll:(s,l)=>fF(e,s,l),matchNode:(s,l,f,g)=>mF(e,s,l,f,g),canApply:s=>gF(e,s),formatChanged:(s,l,f,g)=>l6(e,n,s,l,f,g),getCssText:pt(Q6,e)}},ch=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},B0=(e,t,n)=>{const s=ga(!1),l=A=>{H2(t,!1,n),t.add({},A)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",A=>{const z=A.command;ch(z)||(s4(t,n),t.beforeChange())}),e.on("ExecCommand",A=>{const z=A.command;ch(z)||l(A)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("dragend",l),e.on("keyup",A=>{const z=A.keyCode;if(A.isDefaultPrevented())return;const j=_o.os.isMacOS()&&A.key==="Meta";(z>=33&&z<=36||z>=37&&z<=40||z===45||A.ctrlKey||j)&&(l(),e.nodeChanged()),(z===46||z===8)&&e.nodeChanged(),s.get()&&t.typing&&!Iv(Nv(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),s.set(!1),e.nodeChanged())}),e.on("keydown",A=>{const z=A.keyCode;if(A.isDefaultPrevented())return;if(z>=33&&z<=36||z>=37&&z<=40||z===45){t.typing&&l(A);return}const j=A.ctrlKey&&!A.altKey||A.metaKey;if((z<16||z>20)&&z!==224&&z!==91&&!t.typing&&!j){t.beforeChange(),H2(t,!0,n),t.add({},A),s.set(!0);return}(_o.os.isMacOS()?A.metaKey:A.ctrlKey&&!A.altKey)&&t.beforeChange()}),e.on("mousedown",A=>{t.typing&&l(A)});const f=A=>A.inputType==="insertReplacementText",g=A=>A.inputType==="insertText"&&A.data===null,C=A=>A.inputType==="insertFromPaste"||A.inputType==="insertFromDrop";e.on("input",A=>{A.inputType&&(f(A)||g(A)||C(A))&&l(A)}),e.on("AddUndo Undo Redo ClearUndos",A=>{A.isDefaultPrevented()||e.nodeChanged()})},eI=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},tI=e=>{const t=ha(),n=ga(0),s=ga(0),l={data:[],typing:!1,beforeChange:()=>{Bv(e,n,t)},add:(f,g)=>rF(e,l,s,n,t,f,g),dispatchChange:()=>{e.setDirty(!0);const f=Nv(e);f.bookmark=gn(e.selection),e.dispatch("change",{level:f,lastLevel:vi(l.data,s.get()).getOrUndefined()})},undo:()=>sF(e,l,n,s),redo:()=>s6(e,s,l.data),clear:()=>{a6(e,l,s)},reset:()=>{gS(e,l)},hasUndo:()=>aF(e,l,s),hasRedo:()=>iF(e,l,s),transact:f=>lF(e,l,n,f),ignore:f=>{cF(e,n,f)},extra:(f,g)=>{uF(e,l,s,f,g)}};return qm(e)||B0(e,l,n),eI(e),l},nI=[9,27,rn.HOME,rn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,rn.DOWN,rn.UP,rn.LEFT,rn.RIGHT].concat(_o.browser.isFirefox()?[224]:[]),oI="data-mce-placeholder",rI=e=>e.type==="keydown"||e.type==="keyup",sI=e=>{const t=e.keyCode;return t===rn.BACKSPACE||t===rn.DELETE},F4=e=>{if(rI(e)){const t=e.keyCode;return!sI(e)&&(rn.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||le(nI,t))}else return!1},aI=e=>rI(e)&&!(sI(e)||e.type==="keyup"&&e.keyCode===229),qF=(e,t,n)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const s=t.firstElementChild;return s?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:n===s.nodeName.toLowerCase():!0}else return!1},iI=e=>{var t;const n=e.dom,s=Zi(e),l=(t=Hk(e))!==null&&t!==void 0?t:"",f=(g,C)=>{if(F4(g))return;const A=e.getBody(),z=aI(g)?!1:qF(n,A,s);(n.getAttrib(A,oI)!==""!==z||C)&&(n.setAttrib(A,oI,z?l:null),z5(e,z),e.on(z?"keydown":"keyup",f),e.off(z?"keyup":"keydown",f))};je(l)&&e.on("init",g=>{f(g,!0),e.on("change SetContent ExecCommand",f),e.on("paste",C=>Oc.setEditorTimeout(e,()=>f(C)))})},GF=(e,t)=>({block:e,position:t}),z4=(e,t)=>({from:e,to:t}),H4=(e,t)=>{const n=Be.fromDom(e),s=Be.fromDom(t.container());return w2(n,s).map(l=>GF(l,t))},lI=e=>!(Wa(e.to.block,e.from.block)||Wa(e.from.block,e.to.block)),V4=e=>!Lo(e.from.block,e.to.block),$4=(e,t)=>Qs(t,l=>Cc(l)||pc(l.dom),l=>Lo(l,e)).filter(Os).getOr(e),U4=(e,t)=>{const n=Be.fromDom(e);return Lo($4(n,t.from.block),$4(n,t.to.block))},YF=e=>to(e.from.block.dom)===!1&&to(e.to.block.dom)===!1,cI=e=>{const t=n=>Mb(n)||Ta(n.dom)||Sm(n);return t(e.from.block)&&t(e.to.block)},XF=(e,t,n,s)=>os(s.position.getNode())&&!Is(e,s.block)?rv(!1,s.block.dom).bind(l=>l.isEqual(s.position)?su(n,t,l).bind(f=>H4(t,f)):J.some(s)).getOr(s):s,uI=(e,t,n,s)=>{const l=H4(t,mt.fromRangeStart(s)),f=l.bind(g=>su(n,t,g.position).bind(C=>H4(t,C).map(A=>XF(e,t,n,A))));return $a(l,f,z4).filter(g=>V4(g)&&U4(t,g)&&YF(g)&&cI(g)&&lI(g))},dI=(e,t,n,s)=>s.collapsed?uI(e,t,n,s):J.none(),JF=(e,t)=>{const n=ja(e);return Cn(n,s=>t.isBlock(Po(s))).fold(Qe(n),s=>n.slice(0,s))},fI=(e,t)=>{const n=JF(e,t);return pe(n,gr),n},mI=(e,t,n)=>{const s=Dc(n,t);return wn(s.reverse(),l=>Is(e,l)).each(gr)},QF=(e,t)=>Ct(Su(t),n=>!Is(e,n)).length===0,ez=(e,t,n,s,l)=>{if(Is(s,n))return _c(n),Un(n.dom);QF(s,l)&&Is(s,t)&&gs(l,Be.fromTag("br"));const f=Ec(n.dom,mt.before(l.dom));return pe(fI(t,s),g=>{gs(l,g)}),mI(s,e,t),f},M0=(e,t)=>e.isInline(Po(t)),gI=(e,t,n,s)=>{if(Is(s,n)){if(Is(s,t)){const g=zt((C=>{const A=(z,j)=>wl(z).fold(()=>j,G=>M0(s,G)?A(G,j.concat(Ps(G))):j);return A(C,[])})(n),(C,A)=>(Tl(C,A),A),vd());zr(t),Rs(t,g)}return gr(n),Un(t.dom)}const l=Pu(n.dom);return pe(fI(t,s),f=>{Rs(n,f)}),mI(s,e,t),l},hI=(e,t)=>{const n=Dc(t,e);return J.from(n[n.length-1])},pI=(e,t)=>Wa(t,e)?hI(t,e):J.none(),bI=(e,t)=>{rv(e,t.dom).bind(n=>J.from(n.getNode())).map(Be.fromDom).filter(Bu).each(gr)},vI=(e,t,n,s)=>(bI(!0,t),bI(!1,n),pI(t,n).fold(pt(gI,e,t,n,s),pt(ez,e,t,n,s))),uh=(e,t,n,s,l)=>t?vI(e,s,n,l):vI(e,n,s,l),xS=(e,t)=>{const n=Be.fromDom(e.getBody());return dI(e.schema,n.dom,t,e.selection.getRng()).map(l=>()=>{uh(n,t,l.from.block,l.to.block,e.schema).each(f=>{e.selection.setRng(f.toRange())})})},wS=(e,t,n)=>{const s=t.getRng();return $a(w2(e,Be.fromDom(s.startContainer)),w2(e,Be.fromDom(s.endContainer)),(l,f)=>Lo(l,f)?J.none():J.some(()=>{s.deleteContents(),uh(e,!0,l,f,n).each(g=>{t.setRng(g.toRange())})})).getOr(J.none())},yI=(e,t)=>{const n=Be.fromDom(t),s=pt(Lo,e);return zi(n,Cc,s).isSome()},xI=(e,t)=>yI(e,t.startContainer)||yI(e,t.endContainer),tz=(e,t)=>{const n=Ec(e.dom,mt.fromRangeStart(t)).isNone(),s=Rl(e.dom,mt.fromRangeEnd(t)).isNone();return!xI(e,t)&&n&&s},nz=e=>J.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),W4=e=>{const t=Be.fromDom(e.getBody()),n=e.selection.getRng();return tz(t,n)?nz(e):wS(t,e.selection,e.schema)},Z4=(e,t)=>e.selection.isCollapsed()?J.none():W4(e),ys=(e,t,n,s,l)=>J.from(t._selectionOverrides.showCaret(e,n,s,l)),oz=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},Y2=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?J.none():J.some(oz(t)),j4=(e,t,n)=>{const s=oE(1,e.getBody(),t),l=mt.fromRangeStart(s),f=l.getNode();if(Tx(f))return ys(1,e,f,!l.isAtEnd(),!1);const g=l.getNode(!0);if(Tx(g))return ys(1,e,g,!1,!1);const C=Wu(e.dom.getRoot(),l.getNode());return Tx(C)?ys(1,e,C,!1,n):J.none()},CS=(e,t,n)=>t.collapsed?j4(e,t,n).getOr(t):t,K4=e=>va(e)||p0(e),rz=e=>Of(e)||vv(e),sz=(e,t)=>{Mt(t)&&t.data.length===0&&e.remove(t)},wI=(e,t,n,s,l,f)=>{ys(s,e,f.getNode(!l),l,!0).each(g=>{if(t.collapsed){const C=t.cloneRange();l?C.setEnd(g.startContainer,g.startOffset):C.setStart(g.endContainer,g.endOffset),C.deleteContents()}else t.deleteContents();e.selection.setRng(g)}),sz(e.dom,n)},az=(e,t)=>{const n=e.selection.getRng();if(!Mt(n.commonAncestorContainer))return J.none();const s=t?Ti.Forwards:Ti.Backwards,l=zn(e.getBody()),f=pt(rE,t?l.next:l.prev),g=t?K4:rz,C=Ix(s,e.getBody(),n),A=f(C),z=A&&Uu(t,A);if(!z||!SC(C,z))return J.none();if(g(z))return J.some(()=>wI(e,n,C.getNode(),s,t,z));const j=f(z);return j&&g(j)&&SC(z,j)?J.some(()=>wI(e,n,C.getNode(),s,t,j)):J.none()},q4=(e,t)=>az(e,t),G4=(e,t)=>{const n=e.getBody();return t?Un(n).filter(va):Pu(n).filter(Of)},Y4=e=>{const t=e.selection.getRng();return!t.collapsed&&(G4(e,!0).exists(n=>n.isEqual(mt.fromRangeStart(t)))||G4(e,!1).exists(n=>n.isEqual(mt.fromRangeEnd(t))))},Fv=e=>Ce(e)&&(Cc(Be.fromDom(e))||Sm(Be.fromDom(e))),Ra=Mo.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),iz=(e,t)=>{const n=t.getNode(!e),s=e?"after":"before";return yn(n)&&n.getAttribute("data-mce-caret")===s},lz=(e,t,n,s,l)=>{const f=g=>l.isInline(g.nodeName.toLowerCase())&&!Nm(n,s,e);return o5(!t,n).fold(()=>o5(t,s).fold(xn,f),f)},CI=(e,t,n,s,l)=>{const f=l.getNode(!n);return w2(Be.fromDom(t),Be.fromDom(s.getNode())).map(g=>Is(e,g)?Ra.remove(g.dom):Ra.moveToElement(f)).orThunk(()=>J.some(Ra.moveToElement(f)))},_I=(e,t,n,s)=>su(t,e,n).bind(l=>Fv(l.getNode())||lz(e,t,n,l,s)?J.none():t&&to(l.getNode())||!t&&to(l.getNode(!0))?CI(s,e,t,n,l):t&&Of(n)||!t&&va(n)?J.some(Ra.moveToPosition(l)):J.none()),cz=(e,t)=>ot(t)?J.none():e&&to(t.nextSibling)?J.some(Ra.moveToElement(t.nextSibling)):!e&&to(t.previousSibling)?J.some(Ra.moveToElement(t.previousSibling)):J.none(),uz=(e,t,n)=>n.fold(s=>J.some(Ra.remove(s)),s=>J.some(Ra.moveToElement(s)),s=>Nm(t,s,e)?J.none():J.some(Ra.moveToPosition(s))),dz=(e,t,n,s)=>iz(t,n)?cz(t,n.getNode(!t)).orThunk(()=>_I(e,t,n,s)):_I(e,t,n,s).bind(l=>uz(e,n,l)),fz=(e,t,n,s)=>{const l=oE(t?1:-1,e,n),f=mt.fromRangeStart(l),g=Be.fromDom(e);return!t&&Of(f)?J.some(Ra.remove(f.getNode(!0))):t&&va(f)?J.some(Ra.remove(f.getNode())):!t&&va(f)&&v0(g,f,s)?u_(g,f,s).map(C=>Ra.remove(C.getNode())):t&&Of(f)&&p2(g,f,s)?jD(g,f,s).map(C=>Ra.remove(C.getNode())):dz(e,t,f,s)},mz=(e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),ul(e,t,Be.fromDom(n)),!0),gz=(e,t)=>n=>{const s=t?mt.before(n):mt.after(n);return e.selection.setRng(s.toRange()),!0},hz=e=>t=>(e.selection.setRng(t.toRange()),!0),SI=(e,t)=>J.from(Wu(e.getBody(),t)),pz=(e,t)=>{const n=e.selection.getNode();return SI(e,n).filter(to).fold(()=>fz(e.getBody(),t,e.selection.getRng(),e.schema).map(s=>()=>s.fold(mz(e,t),gz(e,t),hz(e))),()=>J.some(Pt))},bz=e=>{pe(ea(e,".mce-offscreen-selection"),gr)},vz=(e,t)=>{const n=e.selection.getNode();return to(n)&&!Nh(n)?SI(e,n.parentNode).filter(to).fold(()=>J.some(()=>{bz(Be.fromDom(e.getBody())),ul(e,t,Be.fromDom(e.selection.getNode())),h_(e)}),()=>J.some(Pt)):Y4(e)?J.some(()=>{p_(e,e.selection.getRng(),Be.fromDom(e.getBody()))}):J.none()},kI=e=>{const t=e.dom,n=e.selection,s=Wu(e.getBody(),n.getNode());if(pc(s)&&t.isBlock(s)&&t.isEmpty(s)){const l=t.create("br",{"data-mce-bogus":"1"});t.setHTML(s,""),s.appendChild(l),n.setRng(mt.before(l).toRange())}return!0},X4=(e,t)=>e.selection.isCollapsed()?pz(e,t):vz(e,t),EI=e=>e.hasOwnProperty("text"),AI=e=>e.hasOwnProperty("marker"),TI=(e,t)=>{const n=(f,g)=>{if(Mt(f))return{text:f,offset:g};{const C=t(),A=f.childNodes;return g<A.length?(f.insertBefore(C,A[g]),{marker:C,before:!0}):(f.appendChild(C),{marker:C,before:!1})}},s=n(e.endContainer,e.endOffset);return{start:n(e.startContainer,e.startOffset),end:s}},OI=e=>{var t,n;const{start:s,end:l}=e,f=new window.Range;return EI(s)?f.setStart(s.text,s.offset):AI(s)&&(s.before?f.setStartBefore(s.marker):f.setStartAfter(s.marker),(t=s.marker.parentNode)===null||t===void 0||t.removeChild(s.marker)),EI(l)?f.setEnd(l.text,l.offset):AI(l)&&(l.before?f.setEndBefore(l.marker):f.setEndAfter(l.marker),(n=l.marker.parentNode)===null||n===void 0||n.removeChild(l.marker)),f},J4=(e,t)=>{var n;const s=e.dom,l=s.getParent(e.selection.getStart(),s.isBlock),f=s.getParent(e.selection.getEnd(),s.isBlock),g=e.getBody();if(((n=l==null?void 0:l.nodeName)===null||n===void 0?void 0:n.toLowerCase())==="div"&&l&&f&&l===g.firstChild&&f===g.lastChild&&!s.isEmpty(g)){const A=l.cloneNode(!1),z=()=>{if(t?wA(e):g_(e),g.firstChild!==l){const j=TI(e.selection.getRng(),()=>document.createElement("span"));Array.from(g.childNodes).forEach(G=>A.appendChild(G)),g.appendChild(A),e.selection.setRng(OI(j))}};return J.some(z)}return J.none()},yz=(e,t)=>{const n=mt.fromRangeStart(e.selection.getRng());return su(t,e.getBody(),n).filter(s=>t?HD(s):VD(s)).bind(s=>CC(t?0:-1,s)).map(s=>()=>e.selection.select(s))},Q4=(e,t)=>e.selection.isCollapsed()?yz(e,t):J.none(),zv=Mt,DI=e=>zv(e)&&e.data[0]===ia,RI=e=>zv(e)&&e.data[e.data.length-1]===ia,NI=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(ia)},xz=e=>{var t;if(zv(e.previousSibling))return RI(e.previousSibling)||e.previousSibling.appendData(ia),e.previousSibling;if(zv(e))return DI(e)||e.insertData(0,ia),e;{const n=NI(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(n,e),n}},wz=e=>{var t,n;if(zv(e.nextSibling))return DI(e.nextSibling)||e.nextSibling.insertData(0,ia),e.nextSibling;if(zv(e))return RI(e)||e.appendData(ia),e;{const s=NI(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(s,e.nextSibling):(n=e.parentNode)===null||n===void 0||n.appendChild(s),s}},_S=(e,t)=>e?xz(t):wz(t),II=pt(_S,!0),Cz=pt(_S,!1),BI=(e,t)=>Mt(e.container())?_S(t,e.container()):_S(t,e.getNode()),MI=(e,t)=>{const n=t.get();return n&&e.container()===n&&km(n)},eT=(e,t)=>t.fold(n=>{Yh(e.get());const s=II(n);return e.set(s),J.some(mt(s,s.length-1))},n=>Un(n).map(s=>{if(MI(s,e)){const l=e.get();return mt(l,1)}else{Yh(e.get());const l=BI(s,!0);return e.set(l),mt(l,1)}}),n=>Pu(n).map(s=>{if(MI(s,e)){const l=e.get();return mt(l,l.length-1)}else{Yh(e.get());const l=BI(s,!1);return e.set(l),mt(l,l.length-1)}}),n=>{Yh(e.get());const s=Cz(n);return e.set(s),J.some(mt(s,1))}),PI=(e,t)=>{for(let n=0;n<e.length;n++){const s=e[n].apply(null,t);if(s.isSome())return s}return J.none()},Il=Mo.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),LI=(e,t)=>{const n=Xh(t,e);return n||e},_z=(e,t,n)=>{const s=dR(n),l=LI(t,s.container());return dp(e,l,s).fold(()=>Rl(l,s).bind(pt(dp,e,l)).map(f=>Il.before(f)),J.none)},FI=(e,t)=>Jh(e,t)===null,zI=(e,t,n)=>dp(e,t,n).filter(pt(FI,t)),Sz=(e,t,n)=>{const s=_v(n);return zI(e,t,s).bind(l=>Ec(l,s).isNone()?J.some(Il.start(l)):J.none())},kz=(e,t,n)=>{const s=dR(n);return zI(e,t,s).bind(l=>Rl(l,s).isNone()?J.some(Il.end(l)):J.none())},Ez=(e,t,n)=>{const s=_v(n),l=LI(t,s.container());return dp(e,l,s).fold(()=>Ec(l,s).bind(pt(dp,e,l)).map(f=>Il.after(f)),J.none)},HI=e=>!y2(tT(e)),Gm=(e,t,n)=>PI([_z,Sz,kz,Ez],[e,t,n]).filter(HI),tT=e=>e.fold(On,On,On,On),VI=e=>e.fold(Qe("before"),Qe("start"),Qe("end"),Qe("after")),X2=e=>e.fold(Il.before,Il.before,Il.after,Il.after),SS=e=>e.fold(Il.start,Il.start,Il.end,Il.end),Az=(e,t)=>VI(e)===VI(t)&&tT(e)===tT(t),$I=(e,t,n,s,l,f)=>$a(dp(t,n,s),dp(t,n,l),(g,C)=>g!==C&&uR(n,g,C)?Il.after(e?g:C):f).getOr(f),Tz=(e,t)=>e.fold(Rn,n=>!Az(n,t)),Oz=(e,t,n,s,l)=>{const f=Uu(e,l);return su(e,n,f).map(pt(Uu,e)).fold(()=>s.map(X2),A=>Gm(t,n,A).map(pt($I,e,t,n,f,A)).filter(pt(Tz,s))).filter(HI)},Dz=(e,t)=>e?t.fold(ln(J.some,Il.start),J.none,ln(J.some,Il.after),J.none):t.fold(J.none,ln(J.some,Il.before),J.none,ln(J.some,Il.end)),Rz=(e,t,n,s)=>{const l=Uu(e,s),f=Gm(t,n,l);return Gm(t,n,l).bind(pt(Dz,e)).orThunk(()=>Oz(e,t,n,f,s))},Nz=e=>Ne(e.selection.getSel().modify),UI=(e,t,n)=>{const s=e?1:-1;return t.setRng(mt(n.container(),n.offset()+s).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},nT=(e,t)=>{const n=t.selection.getRng(),s=e?mt.fromRangeEnd(n):mt.fromRangeStart(n);return Nz(t)?e&&Fb(s)?UI(!0,t.selection,s):!e&&V1(s)?UI(!1,t.selection,s):!1:!1};var Dd;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Dd||(Dd={}));const kS=(e,t)=>e===Ti.Backwards?To(t):t,WI=(e,t,n)=>e===Ti.Forwards?t.next(n):t.prev(n),Iz=(e,t,n,s)=>os(s.getNode(t===Ti.Forwards))?Dd.Br:Nm(n,s)===!1?Dd.Block:Dd.Wrap,ZI=(e,t,n,s)=>{const l=zn(n);let f=s;const g=[];for(;f;){const C=WI(t,l,f);if(!C)break;if(os(C.getNode(!1)))return t===Ti.Forwards?{positions:kS(t,g).concat([C]),breakType:Dd.Br,breakAt:J.some(C)}:{positions:kS(t,g),breakType:Dd.Br,breakAt:J.some(C)};if(!C.isVisible()){f=C;continue}if(e(f,C)){const A=Iz(n,t,f,C);return{positions:kS(t,g),breakType:A,breakAt:J.some(C)}}g.push(C),f=C}return{positions:kS(t,g),breakType:Dd.Eol,breakAt:J.none()}},jI=(e,t,n,s)=>t(n,s).breakAt.map(l=>{const f=t(n,l).positions;return e===Ti.Backwards?f.concat(l):[l].concat(f)}).getOr([]),oT=(e,t)=>It(e,(n,s)=>n.fold(()=>J.some(s),l=>$a(un(l.getClientRects()),un(s.getClientRects()),(f,g)=>{const C=Math.abs(t-f.left);return Math.abs(t-g.left)<=C?s:l}).or(n)),J.none()),ES=(e,t)=>un(t.getClientRects()).bind(n=>oT(e,n.left)),J2=pt(ZI,mt.isAbove,-1),Q2=pt(ZI,mt.isBelow,1),KI=pt(jI,-1,J2),AS=pt(jI,1,Q2),qI=(e,t)=>J2(e,t).breakAt.isNone(),GI=(e,t)=>Q2(e,t).breakAt.isNone(),Bz=e=>Un(e).map(t=>[t].concat(Q2(e,t).positions)).getOr([]),YI=e=>Pu(e).map(t=>J2(e,t).positions.concat(t)).getOr([]),P0=(e,t)=>ES(KI(e,t),t),Mz=(e,t)=>ES(AS(e,t),t),Pz=to,XI=(e,t)=>Math.abs(e.left-t),Jl=(e,t)=>Math.abs(e.right-t),JI=e=>Al(e,"node"),QI=(e,t)=>Qi(e,(n,s)=>{const l=Math.min(XI(n,t),Jl(n,t)),f=Math.min(XI(s,t),Jl(s,t));return f===l&&JI(s)&&Pz(s.node)||f<l?s:n}),Lz=e=>{const t=n=>Me(n,s=>{const l=gf(s);return l.node=e,l});if(yn(e))return t(e.getClientRects());if(Mt(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}else return[]},eB=e=>ao(e,Lz);var ew;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(ew||(ew={}));const Fz=(e,t,n,s)=>{let l=s;for(;l=Dx(l,e,Wb,t);)if(n(l))return},rT=(e,t,n,s,l,f)=>{let g=0;const C=[],A=G=>{let X=eB([G]);e===-1&&(X=X.reverse());for(let ue=0;ue<X.length;ue++){const we=X[ue];if(!n(we,z)){if(C.length>0&&t(we,ri(C))&&g++,we.line=g,l(we))return!0;C.push(we)}}return!1},z=ri(f.getClientRects());if(!z)return C;const j=f.getNode();return j&&(A(j),Fz(e,s,A,j)),C},zz=(e,t)=>t.line>e,Hz=(e,t)=>t.line===e,Vz=pt(rT,ew.Up,bf,Zg),$z=pt(rT,ew.Down,Zg,bf),tB=e=>ri(e.getClientRects()),Hv=(e,t,n,s)=>{const l=zn(t);let f,g,C,A;const z=[];let j=0;e===1?(f=l.next,g=Zg,C=bf,A=mt.after(s)):(f=l.prev,g=bf,C=Zg,A=mt.before(s));const G=tB(A);do{if(!A.isVisible())continue;const X=tB(A);if(C(X,G))continue;z.length>0&&g(X,ri(z))&&j++;const ue=gf(X);if(ue.position=A,ue.line=j,n(ue))return z;z.push(ue)}while(A=f(A));return z},sT=e=>t=>zz(e,t),Vv=e=>t=>Hz(e,t),Nf=(e,t)=>{e.selection.setRng(t),zu(e,e.selection.getRng())},TS=(e,t,n)=>J.some(CS(e,t,n)),aT=(e,t,n,s,l,f)=>{const g=t===Ti.Forwards,C=zn(e.getBody()),A=pt(rE,g?C.next:C.prev),z=g?s:l;if(!n.collapsed){const we=Zh(n);if(f(we))return ys(t,e,we,t===Ti.Backwards,!1);if(Y4(e)){const de=n.cloneRange();return de.collapse(t===Ti.Backwards),J.from(de)}}const j=Ix(t,e.getBody(),n);if(z(j))return Y2(e,j.getNode(!g));let G=A(j);const X=Wg(n);if(G)G=Uu(g,G);else return X?J.some(n):J.none();if(z(G))return ys(t,e,G.getNode(!g),g,!1);const ue=A(G);return ue&&z(ue)&&SC(G,ue)?ys(t,e,ue.getNode(!g),g,!1):X?TS(e,G.toRange(),!1):J.none()},nB=(e,t,n,s,l,f)=>{const g=Ix(t,e.getBody(),n),C=ri(g.getClientRects()),A=t===ew.Down,z=e.getBody();if(!C)return J.none();if(Y4(e)){const ke=A?mt.fromRangeEnd(n):mt.fromRangeStart(n);return(A?Mz:P0)(z,ke).orThunk(()=>J.from(ke)).map(qe=>qe.toRange())}const G=(A?$z:Vz)(z,sT(1),g),X=Ct(G,Vv(1)),ue=C.left,we=QI(X,ue);if(we&&f(we.node)){const ke=Math.abs(ue-we.left),Fe=Math.abs(ue-we.right);return ys(t,e,we.node,ke<Fe,!1)}let de;if(s(g)?de=g.getNode():l(g)?de=g.getNode(!0):de=Zh(n),de){const ke=Hv(t,z,sT(1),de);let Fe=QI(Ct(ke,Vv(1)),ue);if(Fe||(Fe=ri(Ct(ke,Vv(0))),Fe))return TS(e,Fe.position.toRange(),!1)}return X.length===0?OS(e,A).filter(A?l:s).map(ke=>CS(e,ke.toRange(),!1)):J.none()},OS=(e,t)=>{const n=e.selection.getRng(),s=t?mt.fromRangeEnd(n):mt.fromRangeStart(n),l=gP(s.container(),e.getBody());if(t){const f=Q2(l,s);return po(f.positions)}else{const f=J2(l,s);return un(f.positions)}},oB=(e,t,n)=>OS(e,t).filter(n).exists(s=>(e.selection.setRng(s.toRange()),!0)),tw=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},iT=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},lT=(e,t,n)=>eT(t,n).map(s=>(tw(e,s),n)),rB=(e,t,n)=>{const s=mt.fromRangeStart(e);if(e.collapsed)return s;{const l=mt.fromRangeEnd(e);return n?Ec(t,l).getOr(l):Rl(t,s).getOr(s)}},sB=(e,t,n)=>{const s=e.getBody(),l=rB(e.selection.getRng(),s,n),f=pt(x0,e);return Rz(n,f,s,l).bind(C=>lT(e,t,C))},aB=(e,t,n)=>{const s=Me(ea(Be.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),g=>g.dom),l=Ct(s,e),f=Ct(n,e);pe(Do(l,f),pt(iT,!1)),pe(Do(f,l),pt(iT,!0))},cT=(e,t)=>{const n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){const s=mt.fromRangeStart(e.selection.getRng());mt.isTextPosition(s)&&!yA(s)&&(tw(e,dP(n,s)),t.set(null))}},iB=(e,t,n,s)=>{if(t.selection.isCollapsed()){const l=Ct(s,e);pe(l,f=>{const g=mt.fromRangeStart(t.selection.getRng());Gm(e,t.getBody(),g).bind(C=>lT(t,n,C))})}},uT=(e,t,n)=>tv(e)?sB(e,t,n).isSome():!1,dT=(e,t,n)=>tv(t)?nT(e,t):!1,lB=e=>{const t=ga(null),n=pt(x0,e);return e.on("NodeChange",s=>{tv(e)&&(aB(n,e.dom,s.parents),cT(e,t),iB(n,e,t,s.parents))}),t},cB=pt(dT,!0),uB=pt(dT,!1),nw=(e,t,n)=>{if(tv(e)){const s=OS(e,t).getOrThunk(()=>{const l=e.selection.getRng();return t?mt.fromRangeEnd(l):mt.fromRangeStart(l)});return Gm(pt(x0,e),e.getBody(),s).exists(l=>{const f=X2(l);return eT(n,f).exists(g=>(tw(e,g),!0))})}else return!1},fT=(e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},mT=e=>$a(Un(e),Pu(e),(t,n)=>{const s=Uu(!0,t),l=Uu(!1,n);return Rl(e,s).forall(f=>f.isEqual(l))}).getOr(!0),ow=(e,t)=>n=>eT(t,n).map(s=>()=>tw(e,s)),gT=(e,t,n,s)=>{const l=e.getBody(),f=pt(x0,e);e.undoManager.ignore(()=>{e.selection.setRng(fT(n,s)),g_(e),Gm(f,l,mt.fromRangeStart(e.selection.getRng())).map(SS).bind(ow(e,t)).each(ho)}),e.nodeChanged()},dB=(e,t)=>{const n=Xh(t,e);return n||e},fB=(e,t,n,s)=>{const l=dB(e.getBody(),s.container()),f=pt(x0,e),g=Gm(f,l,s);return g.bind(A=>n?A.fold(Qe(J.some(SS(A))),J.none,Qe(J.some(X2(A))),J.none):A.fold(J.none,Qe(J.some(X2(A))),J.none,Qe(J.some(SS(A))))).map(ow(e,t)).getOrThunk(()=>{const A=o0(n,l,s),z=A.bind(j=>Gm(f,l,j));return $a(g,z,()=>dp(f,l,s).bind(j=>mT(j)?J.some(()=>{ul(e,n,Be.fromDom(j))}):J.none())).getOrThunk(()=>z.bind(()=>A.map(j=>()=>{n?gT(e,t,s,j):gT(e,t,j,s)})))})},rw=(e,t,n)=>{if(e.selection.isCollapsed()&&tv(e)){const s=mt.fromRangeStart(e.selection.getRng());return fB(e,t,n,s)}return J.none()},mB=e=>ld(e)>1,hT=(e,t)=>{const n=Be.fromDom(e.getBody()),s=Be.fromDom(e.selection.getStart()),l=Dc(s,n);return Cn(l,t).fold(Qe(l),f=>l.slice(0,f))},gB=e=>ld(e)===1,Uz=e=>hT(e,t=>e.schema.isBlock(Po(t))||mB(t)),hB=e=>hT(e,t=>e.schema.isBlock(Po(t))),pT=(e,t)=>{const n=pt(Ev,e);return ao(t,s=>n(s)?[s.dom]:[])},sw=e=>{const t=hB(e);return pT(e,t)},pB=(e,t,n,s)=>{const l=pT(t,s);if(l.length===0)ul(t,e,n);else{const f=o3(n.dom,l);t.selection.setRng(f.toRange())}},bB=(e,t)=>{const n=Ct(Uz(e),gB);return po(n).bind(s=>{const l=mt.fromRangeStart(e.selection.getRng());return gR(t,l,s.dom)&&!BC(s)?J.some(()=>pB(t,e,s,n)):J.none()})},bT=(e,t)=>{const n=t.parentElement;return os(t)&&!Ge(n)&&e.dom.isEmpty(n)},Wz=e=>BC(Be.fromDom(e)),vT=(e,t)=>{const n=e.selection.getStart(),s=bT(e,n)||Wz(n)?o3(n,t):J7(e.selection.getRng(),t);e.selection.setRng(s.toRange())},Zz=(e,t)=>{const n=Do(t,sw(e));n.length>0&&vT(e,n)},yT=e=>Mt(e.startContainer),vB=e=>e.startOffset===0&&yT(e),jz=(e,t)=>{const n=t.startContainer.parentElement;return!Ge(n)&&Ev(e,Be.fromDom(n))},Kz=e=>{const t=e.startContainer.parentNode,n=e.endContainer.parentNode;return!Ge(t)&&!Ge(n)&&t.isEqualNode(n)},o=e=>{const t=e.endContainer;return e.endOffset===(Mt(t)?t.length:t.childNodes.length)},a=e=>Kz(e)&&o(e),c=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),d=e=>a(e)||c(e),p=e=>{const t=e.selection.getRng();return vB(t)&&jz(e,t)&&d(t)},v=e=>{if(p(e)){const t=sw(e);return J.some(()=>{g_(e),Zz(e,t)})}else return J.none()},w=(e,t)=>e.selection.isCollapsed()?bB(e,t):v(e),k=(e,t)=>Vw(e,n=>au(n.dom),n=>t.isBlock(Po(n))),E=e=>k(Be.fromDom(e.selection.getStart()),e.schema),O=e=>{const t=e.selection.getRng();return t.collapsed&&(yT(t)||e.dom.isEmpty(t.startContainer))&&!E(e)},L=e=>(O(e)&&vT(e,[]),!0),M=(e,t,n)=>Ce(n)?J.some(()=>{e._selectionOverrides.hideFakeCaret(),ul(e,t,Be.fromDom(n))}):J.none(),H=(e,t)=>{const n=t?p0:vv,s=t?Ti.Forwards:Ti.Backwards,l=Ix(s,e.getBody(),e.selection.getRng());return n(l)?M(e,t,l.getNode(!t)):J.from(Uu(t,l)).filter(f=>n(f)&&SC(l,f)).bind(f=>M(e,t,f.getNode(!t)))},q=(e,t)=>{const n=e.selection.getNode();return xt(n)?M(e,t,n):J.none()},Y=(e,t)=>e.selection.isCollapsed()?H(e,t):q(e,t),se=e=>Qs(e,t=>pc(t.dom)||to(t.dom)).exists(t=>pc(t.dom)),ce=e=>nn(e??"").getOr(0),ve=(e,t)=>{const n=e||Bb(t)?"margin":"padding",s=Ds(t,"direction")==="rtl"?"-right":"-left";return n+s},ie=(e,t,n,s,l,f)=>{const g=ve(n,Be.fromDom(f)),C=ce(e.getStyle(f,g));if(t==="outdent"){const A=Math.max(0,C-s);e.setStyle(f,g,A?A+l:"")}else{const A=C+s+l;e.setStyle(f,g,A)}},ae=(e,t)=>vo(t,n=>{const s=ve(_O(e),n),l=ws(n,s).map(ce).getOr(0);return e.dom.getContentEditable(n.dom)!=="false"&&l>0}),me=e=>{const t=Le(e);return!e.mode.isReadOnly()&&(t.length>1||ae(e,t))},ye=e=>Pb(e)||Sm(e),_e=e=>Za(e).exists(ye),Le=e=>Ct(Kc(e.selection.getSelectedBlocks()),t=>!ye(t)&&!_e(t)&&se(t)),Xe=(e,t)=>{var n,s;const{dom:l}=e,f=ru(e),g=(s=(n=/[a-z%]+$/i.exec(f))===null||n===void 0?void 0:n[0])!==null&&s!==void 0?s:"px",C=ce(f),A=_O(e);pe(Le(e),z=>{ie(l,t,A,C,g,z.dom)})},_t=e=>Xe(e,"indent"),vt=e=>Xe(e,"outdent"),gt=e=>{if(e.selection.isCollapsed()&&me(e)){const t=e.dom,n=e.selection.getRng(),s=mt.fromRangeStart(n),l=t.getParent(n.startContainer,t.isBlock);if(l!==null&&c_(Be.fromDom(l),s,e.schema))return J.some(()=>vt(e))}return J.none()},Bt=(e,t,n)=>Wr([gt,X4,q4,(s,l)=>rw(s,t,l),xS,rh,Q4,Y,Z4,w,J4],s=>s(e,n)).filter(s=>e.selection.isEditable()),sn=(e,t)=>{Bt(e,t,!1).fold(()=>{e.selection.isEditable()&&(g_(e),h_(e))},ho)},vn=(e,t)=>{Bt(e,t,!0).fold(()=>{e.selection.isEditable()&&wA(e)},ho)},In=(e,t)=>{e.addCommand("delete",()=>{sn(e,t)}),e.addCommand("forwardDelete",()=>{vn(e,t)})},qn=5,ko=400,Vr=e=>e.touches===void 0||e.touches.length!==1?J.none():J.some(e.touches[0]),Qr=(e,t)=>{const n=Math.abs(e.clientX-t.x),s=Math.abs(e.clientY-t.y);return n>qn||s>qn},mo=e=>{const t=ha(),n=ga(!1),s=Vh(l=>{e.dispatch("longpress",{...l,type:"longpress"}),n.set(!0)},ko);e.on("touchstart",l=>{Vr(l).each(f=>{s.cancel();const g={x:f.clientX,y:f.clientY,target:l.target};s.throttle(l),n.set(!1),t.set(g)})},!0),e.on("touchmove",l=>{s.cancel(),Vr(l).each(f=>{t.on(g=>{Qr(f,g)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",l=>{s.cancel(),l.type!=="touchcancel"&&t.get().filter(f=>f.target.isEqualNode(l.target)).each(()=>{n.get()?l.preventDefault():e.dispatch("tap",{...l,type:"tap"})})},!0)},zo=(e,t)=>Yn(e,t.nodeName),Fn=(e,t)=>Mt(t)?!0:yn(t)?!zo(e.getBlockElements(),t)&&!iu(t)&&!af(e,t)&&!pa(t):!1,es=(e,t,n)=>xe(ql(Be.fromDom(n),Be.fromDom(t)),s=>zo(e,s.dom)),_r=(e,t)=>{if(Mt(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||zo(e,t.nextSibling)||pa(t.nextSibling)}return!1},Di=e=>e.dom.create(Zi(e),wx(e)),Ri=e=>{const t=e.dom,n=e.selection,s=e.schema,l=s.getBlockElements(),f=n.getStart(),g=e.getBody();let C,A,z=null;const j=Zi(e);if(!f||!yn(f))return;const G=g.nodeName.toLowerCase();if(!s.isValidChild(G,j.toLowerCase())||es(l,g,f))return;if(g.firstChild===g.lastChild&&os(g.firstChild)){C=Di(e),C.appendChild(vd().dom),g.replaceChild(C,g.firstChild),e.selection.setCursorLocation(C,0),e.nodeChanged();return}let X=g.firstChild;for(;X;)if(yn(X)&&Wl(s,X),Fn(s,X)){if(_r(l,X)){A=X,X=X.nextSibling,t.remove(A);continue}if(!C){if(!z&&e.hasFocus()&&(z=TI(e.selection.getRng(),()=>document.createElement("span"))),!X.parentNode){X=null;break}C=Di(e),g.insertBefore(C,X)}A=X,X=X.nextSibling,C.appendChild(A)}else C=null,X=X.nextSibling;z&&(e.selection.setRng(OI(z)),e.nodeChanged())},Na=(e,t,n)=>{const s=Be.fromDom(Di(e)),l=vd();Rs(s,l),n(t,s);const f=document.createRange();return f.setStartBefore(l.dom),f.setEndBefore(l.dom),f},ya=e=>{e.on("NodeChange",()=>Ri(e))},dh=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,$v=(e,t,n)=>function(s){const l=arguments,f=l[l.length-2],g=f>0?t.charAt(f-1):"";if(g==='"')return s;if(g===">"){const C=t.lastIndexOf("<",f);if(C!==-1&&t.substring(C,f).indexOf('contenteditable="false"')!==-1)return s}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(l[0])+'">'+e.dom.encode(typeof l[1]=="string"?l[1]:l[0])+"</span>"},Ep=(e,t,n)=>{let s=t.length,l=n.content;if(n.format!=="raw"){for(;s--;)l=l.replace(t[s],$v(e,l,Qb(e)));n.content=l}},fh=(e,t)=>vo(e,n=>{const s=t.match(n);return s!==null&&s[0].length===t.length}),aw=e=>{const t="contenteditable",n=" "+Kt.trim(rP(e))+" ",s=" "+Kt.trim(Qb(e))+" ",l=dh(n),f=dh(s),g=LO(e);g.length>0&&e.on("BeforeSetContent",C=>{Ep(e,g,C)}),e.parser.addAttributeFilter("class",C=>{let A=C.length;for(;A--;){const z=C[A];l(z)?z.attr(t,"true"):f(z)&&z.attr(t,"false")}}),e.serializer.addAttributeFilter(t,C=>{let A=C.length;for(;A--;){const z=C[A];if(!l(z)&&!f(z))continue;const j=z.attr("data-mce-content");g.length>0&&j?fh(g,j)?(z.name="#text",z.type=3,z.raw=!0,z.value=j):z.remove():z.attr(t,null)}})},Ap=e=>At(Be.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),Ym=(e,t)=>{t.hasAttribute("data-mce-caret")&&(Ug(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},L0=(e,t)=>{const n=Ap(e);if(n){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),Ym(e,n);return}z1(n)&&(Ym(e,n),e.undoManager.add())}},F0=e=>{e.on("keyup compositionstart",pt(L0,e))},Uv=to,DS=(e,t,n)=>aT(t,e,n,va,Of,Uv),iw=(e,t,n)=>nB(t,e,n,f=>va(f)||$D(f),f=>Of(f)||yv(f),Uv),Tp=e=>{const t=e.dom.create(Zi(e));return t.innerHTML='<br data-mce-bogus="1">',t},Xm=(e,t,n)=>{const s=zn(e.getBody()),l=pt(rE,t===1?s.next:s.prev);if(n.collapsed){const f=e.dom.getParent(n.startContainer,"PRE");if(!f)return;if(!l(mt.fromRangeStart(n))){const C=Be.fromDom(Tp(e));t===1?et(Be.fromDom(f),C):gs(Be.fromDom(f),C),e.selection.select(C.dom,!0),e.selection.collapse()}}},mh=(e,t)=>{const n=t?Ti.Forwards:Ti.Backwards,s=e.selection.getRng();return DS(n,e,s).orThunk(()=>(Xm(e,n,s),J.none()))},lw=(e,t)=>{const n=t?1:-1,s=e.selection.getRng();return iw(n,e,s).orThunk(()=>(Xm(e,n,s),J.none()))},cw=(e,t)=>{const n=t?e.getEnd(!0):e.getStart(!0);return y2(n)?!t:t},Yo=(e,t)=>mh(e,cw(e.selection,t)).exists(n=>(Nf(e,n),!0)),Jm=(e,t)=>lw(e,t).exists(n=>(Nf(e,n),!0)),Rd=(e,t)=>oB(e,t,t?Of:va),z0=(e,t)=>G4(e,!t).map(n=>{const s=n.toRange(),l=e.selection.getRng();return t?s.setStart(l.startContainer,l.startOffset):s.setEnd(l.endContainer,l.endOffset),s}).exists(n=>(Nf(e,n),!0)),RS=e=>le(["figcaption"],Po(e)),gh=(e,t,n)=>{const s=pt(Lo,t);return Qs(Be.fromDom(e.container()),l=>n.isBlock(Po(l)),s).filter(RS)},Wv=(e,t,n)=>t?GI(e.dom,n):qI(e.dom,n),xT=(e,t)=>{const n=Be.fromDom(e.getBody()),s=mt.fromRangeStart(e.selection.getRng());return gh(s,n,e.schema).exists(()=>{if(Wv(n,t,s)){const f=Na(e,n,t?Rs:Si);return e.selection.setRng(f),!0}else return!1})},NS=(e,t)=>e.selection.isCollapsed()?xT(e,t):!1,qz=(e,t,n)=>{const s=e.selection.getRng(),l=mt.fromRangeStart(s);return e.getBody().firstChild===t&&qI(n,l)?(e.execCommand("InsertNewBlockBefore"),!0):!1},Zv=(e,t)=>{const n=e.selection.getRng(),s=mt.fromRangeStart(n);return e.getBody().lastChild===t&&GI(t,s)?(e.execCommand("InsertNewBlockAfter"),!0):!1},Gz=(e,t)=>t?J.from(e.dom.getParent(e.selection.getNode(),"details")).map(n=>Zv(e,n)).getOr(!1):J.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(n=>J.from(e.dom.getParent(n,"details")).map(s=>qz(e,s,n))).getOr(!1),fl=(e,t)=>Gz(e,t),H0={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},Yz=e=>Me(e,t=>({...H0,...t})),yB=e=>Me(e,t=>({...H0,...t})),IS=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,xB=(e,t)=>ao(Yz(e),n=>IS(n,t)?[n]:[]),wB=(e,t)=>ao(yB(e),n=>IS(n,t)?[n]:[]),eo=(e,...t)=>()=>e.apply(null,t),Op=(e,t)=>wn(xB(e,t),n=>n.action()),BS=(e,t)=>Wr(wB(e,t),n=>n.action()),Dp=(e,t)=>{const n=t?Ti.Forwards:Ti.Backwards,s=e.selection.getRng();return aT(e,n,s,p0,vv,xt).exists(l=>(Nf(e,l),!0))},jv=(e,t)=>{const n=t?1:-1,s=e.selection.getRng();return nB(e,n,s,p0,vv,xt).exists(l=>(Nf(e,l),!0))},wT=(e,t)=>oB(e,t,t?vv:p0),CT=Mo.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Gu={...CT,none:e=>CT.none(e)},CB=(e,t)=>ST(e,t,Rn),ST=(e,t,n)=>ao(ja(e),s=>xr(s,t)?n(s)?[s]:[]:ST(s,t,n)),_B=(e,t,n=xn)=>{if(n(t))return J.none();if(le(e,Po(t)))return J.some(t);const s=l=>xr(l,"table")||n(l);return Zc(t,e.join(","),s)},SB=(e,t)=>_B(["td","th"],e,t),Xz=e=>CB(e,"th,td"),it=(e,t)=>Aa(e,"table",t),Bn=(e,t,n,s,l=Rn)=>{const f=s===1;if(!f&&n<=0)return Gu.first(e[0]);if(f&&n>=e.length-1)return Gu.last(e[e.length-1]);{const g=n+s,C=e[g];return l(C)?Gu.middle(t,C):Bn(e,t,g,s,l)}},no=(e,t)=>it(e,t).bind(n=>{const s=Xz(n);return Cn(s,f=>Lo(e,f)).map(f=>({index:f,all:s}))}),$r=(e,t,n)=>no(e,n).fold(()=>Gu.none(e),l=>Bn(l.all,e,l.index,1,t)),Ls=(e,t,n)=>no(e,n).fold(()=>Gu.none(),l=>Bn(l.all,e,l.index,-1,t)),Gs=e=>nC(e).filter(t=>t.trim().length!==0||t.indexOf(ma)>-1).isSome(),Zs=e=>yi(e)&&ii(e,"contenteditable")==="false",ca=["img","br"],Kv=e=>Gs(e)||le(ca,Po(e))||Zs(e),Jz=e=>Ea(e,Kv),kB=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),p$=(e,t)=>ao(t,n=>{const s=kB(gf(n.getBoundingClientRect()),-1);return[{x:s.left,y:e(s),cell:n},{x:s.right,y:e(s),cell:n}]}),dX=(e,t,n)=>It(e,(s,l)=>s.fold(()=>J.some(l),f=>{const g=Math.sqrt(Math.abs(f.x-t)+Math.abs(f.y-n)),C=Math.sqrt(Math.abs(l.x-t)+Math.abs(l.y-n));return J.some(C<g?l:f)}),J.none()),b$=(e,t,n,s,l)=>{const f=ea(Be.fromDom(n),"td,th,caption").map(C=>C.dom),g=Ct(p$(e,f),C=>t(C,l));return dX(g,s,l).map(C=>C.cell)},fX=e=>e.bottom,mX=e=>e.top,gX=(e,t)=>e.y<t,hX=(e,t)=>e.y>t,pX=pt(b$,fX,gX),bX=pt(b$,mX,hX),vX=(e,t)=>un(t.getClientRects()).bind(n=>pX(e,n.left,n.top)).bind(n=>ES(YI(n),t)),yX=(e,t)=>po(t.getClientRects()).bind(n=>bX(e,n.left,n.top)).bind(n=>ES(Bz(n),t)),xX=(e,t,n)=>n.breakAt.exists(s=>e(t,s).breakAt.isSome()),wX=e=>e.breakType===Dd.Wrap&&e.positions.length===0,CX=e=>e.breakType===Dd.Br&&e.positions.length===1,v$=(e,t,n)=>{const s=e(t,n);return wX(s)||!os(n.getNode())&&CX(s)?!xX(e,t,s):s.breakAt.isNone()},_X=pt(v$,J2),SX=pt(v$,Q2),kX=(e,t,n)=>{const s=mt.fromRangeStart(t);return rv(!e,n).exists(l=>l.isEqual(s))},EX=(e,t,n,s)=>{const l=e.selection.getRng(),f=t?1:-1;return Qk()&&kX(t,l,n)?(ys(f,e,n,!t,!1).each(g=>{Nf(e,g)}),!0):!1},AX=(e,t,n)=>vX(t,n).orThunk(()=>un(n.getClientRects()).bind(s=>oT(KI(e,mt.before(t)),s.left))).getOr(mt.before(t)),TX=(e,t,n)=>yX(t,n).orThunk(()=>un(n.getClientRects()).bind(s=>oT(AS(e,mt.after(t)),s.left))).getOr(mt.after(t)),y$=(e,t)=>{const n=t.getNode(e);return Gc(n)?J.some(n):J.none()},OX=(e,t,n)=>{t.undoManager.transact(()=>{const s=e?et:gs,l=Na(t,Be.fromDom(n),s);Nf(t,l)})},x$=(e,t,n)=>{const s=y$(!!t,n),l=t===!1;s.fold(()=>Nf(e,n.toRange()),f=>rv(l,e.getBody()).filter(g=>g.isEqual(n)).fold(()=>Nf(e,n.toRange()),g=>OX(t,e,f)))},DX=(e,t,n,s)=>{const l=e.selection.getRng(),f=mt.fromRangeStart(l),g=e.getBody();if(!t&&_X(s,f)){const C=AX(g,n,f);return x$(e,t,C),!0}else if(t&&SX(s,f)){const C=TX(g,n,f);return x$(e,t,C),!0}else return!1},w$=(e,t,n)=>J.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(s=>J.from(e.dom.getParent(s,"table")).map(l=>n(e,t,l,s))).getOr(!1),C$=(e,t)=>w$(e,t,EX),Qz=(e,t)=>w$(e,t,DX),RX=e=>{const t=sp.exact(e,0,e,0);return WP(t)},_$=(e,t,n)=>n.fold(J.none,J.none,(s,l)=>Jz(l).map(f=>RX(f)),s=>(e.execCommand("mceTableInsertRowAfter"),S$(e,t,s))),S$=(e,t,n)=>_$(e,t,$r(n,ls)),NX=(e,t,n)=>_$(e,t,Ls(n,ls)),k$=(e,t)=>{const n=["table","li","dl"],s=Be.fromDom(e.getBody()),l=C=>{const A=Po(C);return Lo(C,s)||le(n,A)},f=e.selection.getRng(),g=Be.fromDom(t?f.endContainer:f.startContainer);return SB(g,l).map(C=>(it(C,l).each(j=>{e.model.table.clearSelectedCells(j.dom)}),e.selection.collapse(!t),(t?S$:NX)(e,l,C).each(j=>{e.selection.setRng(j)}),!0)).getOr(!1)},IX=(e,t,n)=>{const s=_o.os.isMacOS()||_o.os.isiOS();Op([{keyCode:rn.RIGHT,action:eo(Yo,e,!0)},{keyCode:rn.LEFT,action:eo(Yo,e,!1)},{keyCode:rn.UP,action:eo(Jm,e,!1)},{keyCode:rn.DOWN,action:eo(Jm,e,!0)},...s?[{keyCode:rn.UP,action:eo(z0,e,!1),metaKey:!0,shiftKey:!0},{keyCode:rn.DOWN,action:eo(z0,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:rn.RIGHT,action:eo(C$,e,!0)},{keyCode:rn.LEFT,action:eo(C$,e,!1)},{keyCode:rn.UP,action:eo(Qz,e,!1)},{keyCode:rn.DOWN,action:eo(Qz,e,!0)},{keyCode:rn.UP,action:eo(Qz,e,!1)},{keyCode:rn.UP,action:eo(fl,e,!1)},{keyCode:rn.DOWN,action:eo(fl,e,!0)},{keyCode:rn.RIGHT,action:eo(Dp,e,!0)},{keyCode:rn.LEFT,action:eo(Dp,e,!1)},{keyCode:rn.UP,action:eo(jv,e,!1)},{keyCode:rn.DOWN,action:eo(jv,e,!0)},{keyCode:rn.RIGHT,action:eo(uT,e,t,!0)},{keyCode:rn.LEFT,action:eo(uT,e,t,!1)},{keyCode:rn.RIGHT,ctrlKey:!s,altKey:s,action:eo(cB,e,t)},{keyCode:rn.LEFT,ctrlKey:!s,altKey:s,action:eo(uB,e,t)},{keyCode:rn.UP,action:eo(NS,e,!1)},{keyCode:rn.DOWN,action:eo(NS,e,!0)}],n).each(l=>{n.preventDefault()})},BX=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||IX(e,t,n)})},hh=(e,t)=>({container:e,offset:t}),EB=Br.DOM,AB=e=>t=>e===t?-1:0,MX=e=>t=>e.isBlock(t)||le(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",e9=(e,t,n)=>{if(Mt(e)&&t>=0)return J.some(hh(e,t));{const s=pd(EB);return J.from(s.backwards(e,t,AB(e),n)).map(l=>hh(l.container,l.container.data.length))}},PX=(e,t,n)=>{if(Mt(e)&&t>=e.length)return J.some(hh(e,t));{const s=pd(EB);return J.from(s.forwards(e,t,AB(e),n)).map(l=>hh(l.container,0))}},t9=(e,t,n)=>{if(!Mt(e))return J.none();const s=e.data;if(t>=0&&t<=s.length)return J.some(hh(e,t));{const l=pd(EB);return J.from(l.backwards(e,t,AB(e),n)).bind(f=>{const g=f.container.data;return t9(f.container,t+g.length,n)})}},E$=(e,t,n)=>{if(!Mt(e))return J.none();const s=e.data;if(t<=s.length)return J.some(hh(e,t));{const l=pd(EB);return J.from(l.forwards(e,t,AB(e),n)).bind(f=>E$(f.container,t-s.length,n))}},n9=(e,t,n,s,l)=>{const f=pd(e,MX(e));return J.from(f.backwards(t,n,s,l))},LX=e=>e.collapsed&&Mt(e.startContainer),FX=e=>ll(e.toString().replace(/\u00A0/g," ")),A$=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,zX=(e,t)=>e.substring(t.length),HX=(e,t,n,s=!1)=>{let l;const f=n.charAt(0);for(l=t-1;l>=0;l--){const g=e.charAt(l);if(!s&&A$(g))return J.none();if(f===g&&yr(e,n,l,t))break}return J.some(l)},o9=(e,t,n,s=!1)=>{if(!LX(t))return J.none();const l={text:"",offset:0},f=(C,A,z)=>(l.text=z+l.text,l.offset+=A,HX(l.text,l.offset,n,s).getOr(A)),g=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return n9(e,t.startContainer,t.startOffset,f,g).bind(C=>{const A=t.cloneRange();if(A.setStart(C.container,C.offset),A.setEnd(t.endContainer,t.endOffset),A.collapsed)return J.none();const z=FX(A);return z.lastIndexOf(n)!==0?J.none():J.some({text:zX(z,n),range:A,trigger:n})})},VX=e=>e.nodeType===vg,$X=e=>e.nodeType===nl,T$=e=>{if(VX(e))return hh(e,e.data.length);{const t=e.childNodes;return t.length>0?T$(t[t.length-1]):hh(e,t.length)}},O$=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?O$(n[t],0):n.length>0&&$X(e)&&n.length===t?T$(n[n.length-1]):hh(e,t)},UX=(e,t)=>{var n;const s=(n=e.getParent(t.container,e.isBlock))!==null&&n!==void 0?n:e.getRoot();return n9(e,t.container,t.offset,(l,f)=>f===0?-1:f,s).filter(l=>{const f=l.container.data.charAt(l.offset-1);return!A$(f)}).isSome()},WX=e=>t=>{const n=O$(t.startContainer,t.startOffset);return!UX(e,n)},ZX=(e,t,n)=>Wr(n.triggers,s=>o9(e,t,s)),jX=(e,t)=>{const n=t(),s=e.selection.getRng();return ZX(e.dom,s,n).bind(l=>D$(e,t,l))},D$=(e,t,n,s={})=>{var l;const f=t(),C=(l=e.selection.getRng().startContainer.nodeValue)!==null&&l!==void 0?l:"",A=Ct(f.lookupByTrigger(n.trigger),j=>n.text.length>=j.minChars&&j.matches.getOrThunk(()=>WX(e.dom))(n.range,C,n.text));if(A.length===0)return J.none();const z=Promise.all(Me(A,j=>j.fetch(n.text,j.maxResults,s).then(X=>({matchText:n.text,items:X,columns:j.columns,onAction:j.onAction,highlightOn:j.highlightOn}))));return J.some({lookupData:z,context:n})};var ph;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(ph||(ph={}));const r9=(e,t,n)=>e.stype===ph.Error?t(e.serror):n(e.svalue),KX=e=>{const t=[],n=[];return pe(e,s=>{r9(s,l=>n.push(l),l=>t.push(l))}),{values:t,errors:n}},qX=(e,t)=>e.stype===ph.Error?{stype:ph.Error,serror:t(e.serror)}:e,GX=(e,t)=>e.stype===ph.Value?{stype:ph.Value,svalue:t(e.svalue)}:e,YX=(e,t)=>e.stype===ph.Value?t(e.svalue):e,XX=(e,t)=>e.stype===ph.Error?t(e.serror):e,R$=e=>({stype:ph.Value,svalue:e}),N$=e=>({stype:ph.Error,serror:e}),_l={fromResult:e=>e.fold(N$,R$),toResult:e=>r9(e,$n.error,$n.value),svalue:R$,partition:KX,serror:N$,bind:YX,bindError:XX,map:GX,mapError:qX,fold:r9},s9=e=>te(e)&&Vt(e).length>100?" removed due to size":JSON.stringify(e,null,2),JX=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:Qe("... (only showing first ten failures)")}]):e;return Me(t,n=>"Failed path: ("+n.path.join(" > ")+`)
`+n.getErrorInfo())},TB=(e,t)=>_l.serror([{path:e,getErrorInfo:t}]),QX=(e,t,n)=>TB(e,()=>'Could not find valid *required* value for "'+t+'" in '+s9(n)),eJ=(e,t)=>TB(e,()=>'Choice schema did not contain choice key: "'+t+'"'),tJ=(e,t,n)=>TB(e,()=>'The chosen schema: "'+n+'" did not exist in branches: '+s9(t)),nJ=(e,t)=>TB(e,Qe(t)),oJ=(e,t,n,s)=>mr(n,s).fold(()=>tJ(e,n,s),f=>f.extract(e.concat(["branch: "+s]),t)),rJ=(e,t)=>({extract:(l,f)=>mr(f,e).fold(()=>eJ(l,e),C=>oJ(l,f,t,C)),toString:()=>"chooseOn("+e+"). Possible values: "+Vt(t)}),sJ=(e,t)=>t,aJ=(e,t)=>Ae(e)&&Ae(t)?OB(e,t):t,I$=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const n={};for(let s=0;s<t.length;s++){const l=t[s];for(const f in l)Yn(l,f)&&(n[f]=e(n[f],l[f]))}return n},OB=I$(aJ),B$=I$(sJ),M$=()=>({tag:"required",process:{}}),iJ=e=>({tag:"defaultedThunk",process:e}),P$=e=>iJ(Qe(e)),lJ=()=>({tag:"option",process:{}}),cJ=(e,t)=>e.length>0?_l.svalue(OB(t,B$.apply(void 0,e))):_l.svalue(t),L$=e=>ln(_l.serror,En)(e),uJ={consolidateObj:(e,t)=>{const n=_l.partition(e);return n.errors.length>0?L$(n.errors):cJ(n.values,t)},consolidateArr:e=>{const t=_l.partition(e);return t.errors.length>0?L$(t.errors):_l.svalue(t.values)}},dJ=(e,t,n,s)=>({tag:"field",key:e,newKey:t,presence:n,prop:s}),fJ=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),F$=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},a9=e=>{const t=(s,l)=>_l.bindError(e(l),f=>nJ(s,f)),n=Qe("val");return{extract:t,toString:n}},mJ=a9(_l.svalue),gJ=(e,t,n,s)=>mr(t,n).fold(()=>QX(e,n,t),s),z$=(e,t,n,s)=>{const l=mr(e,t).getOrThunk(()=>n(e));return s(l)},hJ=(e,t,n)=>n(mr(e,t)),pJ=(e,t,n,s)=>{const l=mr(e,t).map(f=>f===!0?n(e):f);return s(l)},bJ=(e,t,n,s,l)=>{const f=C=>l.extract(t.concat([s]),C),g=C=>C.fold(()=>_l.svalue(J.none()),A=>{const z=l.extract(t.concat([s]),A);return _l.map(z,J.some)});switch(e.tag){case"required":return gJ(t,n,s,f);case"defaultedThunk":return z$(n,s,e.process,f);case"option":return hJ(n,s,g);case"defaultedOptionThunk":return pJ(n,s,e.process,g);case"mergeWithThunk":return z$(n,s,Qe({}),C=>{const A=OB(e.process(n),C);return f(A)})}},vJ=(e,t,n)=>{const s={},l=[];for(const f of n)F$(f,(g,C,A,z)=>{const j=bJ(A,e,t,g,z);_l.fold(j,G=>{l.push(...G)},G=>{s[C]=G})},(g,C)=>{s[g]=C(t)});return l.length>0?_l.serror(l):_l.svalue(s)},i9=e=>({extract:(s,l)=>vJ(s,l,e),toString:()=>`obj{
`+Me(e,l=>F$(l,(f,g,C,A)=>f+" -> "+A.toString(),(f,g)=>"state("+f+")")).join(`
`)+"}"}),H$=e=>({extract:(s,l)=>{const f=Me(l,(g,C)=>e.extract(s.concat(["["+C+"]"]),g));return uJ.consolidateArr(f)},toString:()=>"array("+e.toString()+")"}),yJ=e=>a9(t=>e(t).fold(_l.serror,_l.svalue)),xJ=(e,t,n)=>{const s=t.extract([e],n);return _l.mapError(s,l=>({input:n,errors:l}))},wJ=(e,t,n)=>_l.toResult(xJ(e,t,n)),CJ=e=>`Errors: 
`+JX(e.errors).join(`
`)+`

Input object: `+s9(e.input),V$=(e,t)=>rJ(e,El(t,i9)),_J=Qe(mJ),DB=(e,t)=>a9(n=>{const s=typeof n;return e(n)?_l.svalue(n):_l.serror(`Expected type: ${t} but got: ${s}`)}),SJ=DB(D,"number"),RB=DB(Te,"string"),kJ=DB($e,"boolean"),l9=DB(Ne,"function"),kT=dJ,$$=fJ,EJ=e=>yJ(t=>le(e,t)?$n.value(t):$n.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),U$=(e,t)=>kT(e,e,M$(),t),W$=e=>U$(e,RB),Z$=e=>U$(e,l9),AJ=(e,t)=>kT(e,e,M$(),H$(t)),c9=(e,t)=>kT(e,e,lJ(),t),NB=e=>c9(e,RB),TJ=e=>c9(e,l9),OJ=(e,t)=>kT(e,e,P$(t),_J()),MS=(e,t,n)=>kT(e,e,P$(t),n),j$=(e,t)=>MS(e,t,SJ),DJ=(e,t)=>MS(e,t,RB),K$=(e,t,n)=>MS(e,t,EJ(n)),u9=(e,t)=>MS(e,t,kJ),d9=(e,t)=>MS(e,t,l9),RJ=(e,t,n)=>MS(e,t,H$(n)),NJ=W$("type"),IJ=Z$("fetch"),f9=Z$("onAction"),BJ=d9("onSetup",()=>Pt),MJ=NB("text"),PJ=NB("icon"),LJ=NB("tooltip"),FJ=NB("label"),zJ=u9("active",!1),HJ=u9("enabled",!0),q$=u9("primary",!1),VJ=e=>OJ("columns",e),ET=e=>DJ("type",e),$J=i9([NJ,W$("trigger"),j$("minChars",1),VJ(1),j$("maxResults",10),TJ("matches"),IJ,f9,RJ("highlightOn",[],RB)]),UJ=e=>wJ("Autocompleter",$J,e),m9=[HJ,LJ,PJ,MJ,BJ],G$=[zJ].concat(m9),WJ=[d9("predicate",xn),K$("scope","node",["node","editor"]),K$("position","selection",["node","selection","line"])],ZJ=m9.concat([ET("contextformbutton"),q$,f9,$$("original",On)]),jJ=G$.concat([ET("contextformbutton"),q$,f9,$$("original",On)]),KJ=m9.concat([ET("contextformbutton")]),qJ=G$.concat([ET("contextformtogglebutton")]),GJ=V$("type",{contextformbutton:ZJ,contextformtogglebutton:jJ});i9([ET("contextform"),d9("initValue",Qe("")),FJ,AJ("commands",GJ),c9("launch",V$("type",{contextformbutton:KJ,contextformtogglebutton:qJ}))].concat(WJ));const YJ=e=>{const t=e.ui.registry.getAll().popups,n=El(t,g=>UJ(g).fold(C=>{throw new Error(CJ(C))},On)),s=bu(Ji(n,g=>g.trigger)),l=pu(n);return{dataset:n,triggers:s,lookupByTrigger:g=>Ct(l,C=>C.trigger===g)}},XJ=(e,t)=>{const n=Vh(t.load,50);e.on("input",s=>{s.inputType==="insertCompositionText"&&!e.composing||n.throttle()}),e.on("keydown",s=>{const l=s.which;l===8?n.throttle():l===27?(n.cancel(),t.cancelIfNecessary()):(l===38||l===40)&&n.cancel()},!0),e.on("remove",n.cancel)},JJ=e=>{const t=ha(),n=ga(!1),s=t.isSet,l=()=>{s()&&(DP(e),n.set(!1),t.clear())},f=G=>{s()||t.set({trigger:G.trigger,matchLength:G.text.length})},g=pl(()=>YJ(e)),C=G=>t.get().map(X=>o9(e.dom,e.selection.getRng(),X.trigger,!0).bind(ue=>D$(e,g,ue,G))).getOrThunk(()=>jX(e,g)),A=G=>{C(G).fold(l,X=>{f(X.context),X.lookupData.then(ue=>{t.get().map(we=>{const de=X.context;we.trigger===de.trigger&&(t.set({...we,matchLength:de.text.length}),n.get()?(SE(e,{range:de.range}),_E(e,{lookupData:ue})):(n.set(!0),SE(e,{range:de.range}),CE(e,{lookupData:ue})))})})})},z=(G,X)=>{const ue=G.compareBoundaryPoints(window.Range.START_TO_START,X),we=G.compareBoundaryPoints(window.Range.END_TO_END,X);return ue>=0&&we<=0},j=()=>t.get().bind(({trigger:G})=>{const X=e.selection.getRng();return o9(e.dom,X,G,n.get()).filter(({range:ue})=>z(X,ue)).map(({range:ue})=>ue)});e.addCommand("mceAutocompleterReload",(G,X)=>{const ue=te(X)?X.fetchOptions:{};A(ue)}),e.addCommand("mceAutocompleterClose",l),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{j().each(G=>{SE(e,{range:G})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>j().isSome()),XJ(e,{cancelIfNecessary:l,load:A})},QJ=Ha().browser.isSafari(),Y$=e=>_c(Be.fromDom(e)),X$=(e,t)=>{var n;return e.startOffset===0&&e.endOffset===((n=t.textContent)===null||n===void 0?void 0:n.length)},IB=(e,t)=>J.from(e.getParent(t.container(),"details")),J$=(e,t)=>IB(e,t).isSome(),eQ=(e,t)=>{const n=J.from(e.getParent(t.startContainer,"details")),s=J.from(e.getParent(t.endContainer,"details"));if(n.isSome()||s.isSome()){const l=n.bind(f=>J.from(e.select("summary",f)[0]));return J.some({startSummary:l,startDetails:n,endDetails:s})}else return J.none()},tQ=(e,t)=>Un(t).exists(n=>n.isEqual(e)),nQ=(e,t)=>Pu(t).exists(n=>os(n.getNode())&&Ec(t,n).exists(s=>s.isEqual(e))||n.isEqual(e)),oQ=(e,t)=>t.startSummary.exists(n=>tQ(e,n)),rQ=(e,t)=>t.startSummary.exists(n=>nQ(e,n)),sQ=(e,t)=>t.startDetails.exists(n=>Ec(n,e).forall(s=>t.startSummary.exists(l=>!l.contains(e.container())&&l.contains(s.container())))),aQ=(e,t,n)=>n.startDetails.exists(s=>Rl(e,t).forall(l=>!s.contains(l.container()))),Q$=(e,t)=>{const n=t.getNode();Ze(n)||e.selection.setCursorLocation(n,t.offset())},eU=(e,t,n)=>{const s=e.dom.getParent(t.container(),"details");if(s&&!s.open){const l=e.dom.select("summary",s)[0];l&&(n?Un(l):Pu(l)).each(g=>Q$(e,g))}else Q$(e,t)},iQ=(e,t)=>{const n=A=>A.contains(e.startContainer),s=A=>A.contains(e.endContainer),l=t.startSummary.exists(n),f=t.startSummary.exists(s),g=t.startDetails.forall(A=>t.endDetails.forall(z=>A!==z));return(l||f)&&!(l&&f)||g},tU=(e,t,n)=>{const{dom:s,selection:l}=e,f=e.getBody();if(n==="character"){const g=mt.fromRangeStart(l.getRng()),C=s.getParent(g.container(),s.isBlock),A=IB(s,g),z=C&&s.isEmpty(C),j=Ge(C==null?void 0:C.previousSibling),G=Ge(C==null?void 0:C.nextSibling);return z&&(t?G:j)&&o0(!t,f,g).exists(we=>J$(s,we)&&!Wd(A,IB(s,we)))?!0:o0(t,f,g).fold(xn,X=>{const ue=IB(s,X);if(J$(s,X)&&!Wd(A,ue)){if(t||eU(e,X,!1),C&&z){if(t&&j)return!0;if(!t&&G)return!0;eU(e,X,t),e.dom.remove(C)}return!0}else return!1})}else return!1},lQ=(e,t,n,s)=>{const f=e.selection.getRng(),g=mt.fromRangeStart(f),C=e.getBody();return s==="selection"?iQ(f,t):n?rQ(g,t)||aQ(C,g,t):oQ(g,t)||sQ(g,t)},cQ=(e,t,n)=>eQ(e.dom,e.selection.getRng()).fold(()=>tU(e,t,n),s=>lQ(e,s,t,n)||tU(e,t,n)),uQ=(e,t,n)=>{const s=e.selection,l=s.getNode(),f=s.getRng(),g=mt.fromRangeStart(f);return Bh(l)?(n==="selection"&&X$(f,l)||gR(t,g,l)?Y$(l):e.undoManager.transact(()=>{const C=s.getSel();let{anchorNode:A,anchorOffset:z,focusNode:j,focusOffset:G}=C??{};const X=()=>{Ce(A)&&Ce(z)&&Ce(j)&&Ce(G)&&(C==null||C.setBaseAndExtent(A,z,j,G))},ue=()=>{A=C==null?void 0:C.anchorNode,z=C==null?void 0:C.anchorOffset,j=C==null?void 0:C.focusNode,G=C==null?void 0:C.focusOffset},we=(ke,Fe)=>{pe(ke.childNodes,qe=>{cv(qe)&&Fe.appendChild(qe)})},de=e.dom.create("span",{"data-mce-bogus":"1"});we(l,de),l.appendChild(de),X(),(n==="word"||n==="line")&&(C==null||C.modify("extend",t?"right":"left",n)),!s.isCollapsed()&&X$(s.getRng(),de)?Y$(l):(e.execCommand(t?"ForwardDelete":"Delete"),ue(),we(de,l),X()),e.dom.remove(de)}),!0):!1},uw=(e,t,n)=>cQ(e,t,n)||QJ&&uQ(e,t,n)?J.some(Pt):J.none(),nU=e=>(t,n,s={})=>{const l=t.getBody(),f={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:l,currentTarget:l,eventPhase:Event.AT_TARGET,originalTarget:l,explicitOriginalTarget:l,isTrusted:!1,srcElement:l,cancelable:!1,preventDefault:Pt,inputType:n},g=bm(new InputEvent(e));return t.dispatch(e,{...g,...f,...s})},AT=nU("input"),BB=nU("beforeinput"),oU=Ha(),rU=oU.os,sU=rU.isMacOS()||rU.isiOS(),dQ=oU.browser.isFirefox(),fQ=(e,t,n)=>{const s=n.keyCode===rn.BACKSPACE?"deleteContentBackward":"deleteContentForward",l=e.selection.isCollapsed(),f=l?"character":"selection",g=C=>l?C?"word":"line":"selection";BS([{keyCode:rn.BACKSPACE,action:eo(gt,e)},{keyCode:rn.BACKSPACE,action:eo(X4,e,!1)},{keyCode:rn.DELETE,action:eo(X4,e,!0)},{keyCode:rn.BACKSPACE,action:eo(q4,e,!1)},{keyCode:rn.DELETE,action:eo(q4,e,!0)},{keyCode:rn.BACKSPACE,action:eo(rw,e,t,!1)},{keyCode:rn.DELETE,action:eo(rw,e,t,!0)},{keyCode:rn.BACKSPACE,action:eo(rh,e,!1)},{keyCode:rn.DELETE,action:eo(rh,e,!0)},{keyCode:rn.BACKSPACE,action:eo(uw,e,!1,f)},{keyCode:rn.DELETE,action:eo(uw,e,!0,f)},...sU?[{keyCode:rn.BACKSPACE,altKey:!0,action:eo(uw,e,!1,g(!0))},{keyCode:rn.DELETE,altKey:!0,action:eo(uw,e,!0,g(!0))},{keyCode:rn.BACKSPACE,metaKey:!0,action:eo(uw,e,!1,g(!1))}]:[{keyCode:rn.BACKSPACE,ctrlKey:!0,action:eo(uw,e,!1,g(!0))},{keyCode:rn.DELETE,ctrlKey:!0,action:eo(uw,e,!0,g(!0))}],{keyCode:rn.BACKSPACE,action:eo(Q4,e,!1)},{keyCode:rn.DELETE,action:eo(Q4,e,!0)},{keyCode:rn.BACKSPACE,action:eo(Y,e,!1)},{keyCode:rn.DELETE,action:eo(Y,e,!0)},{keyCode:rn.BACKSPACE,action:eo(Z4,e,!1)},{keyCode:rn.DELETE,action:eo(Z4,e,!0)},{keyCode:rn.BACKSPACE,action:eo(xS,e,!1)},{keyCode:rn.DELETE,action:eo(xS,e,!0)},{keyCode:rn.BACKSPACE,action:eo(w,e,!1)},{keyCode:rn.DELETE,action:eo(w,e,!0)},{keyCode:rn.BACKSPACE,action:eo(J4,e,!1)},{keyCode:rn.DELETE,action:eo(J4,e,!0)}],n).filter(C=>e.selection.isEditable()).each(C=>{n.preventDefault(),BB(e,s).isDefaultPrevented()||(C(),AT(e,s))})},mQ=(e,t,n)=>Op([{keyCode:rn.BACKSPACE,action:eo(kI,e)},{keyCode:rn.DELETE,action:eo(kI,e)},...sU?[{keyCode:rn.BACKSPACE,altKey:!0,action:eo(L,e)},{keyCode:rn.DELETE,altKey:!0,action:eo(L,e)},...n?[{keyCode:dQ?224:91,action:eo(L,e)}]:[]]:[{keyCode:rn.BACKSPACE,ctrlKey:!0,action:eo(L,e)},{keyCode:rn.DELETE,ctrlKey:!0,action:eo(L,e)}]],t),gQ=(e,t)=>{let n=!1;e.on("keydown",s=>{n=s.keyCode===rn.BACKSPACE,s.isDefaultPrevented()||fQ(e,t,s)}),e.on("keyup",s=>{s.isDefaultPrevented()||mQ(e,s,n),n=!1})},hQ=e=>{for(;e;){if(yn(e)||Mt(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},PS=(e,t)=>{const n=e.dom,s=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const f=hQ(t.firstChild);f&&/^(UL|OL|DL)$/.test(f.nodeName)&&t.insertBefore(n.doc.createTextNode(ma),t.firstChild)}const l=n.createRng();if(t.normalize(),t.hasChildNodes()){const f=new Ka(t,t);let g=t,C;for(;C=f.current();){if(Mt(C)){l.setStart(C,0),l.setEnd(C,0);break}if(s[C.nodeName.toLowerCase()]){l.setStartBefore(C),l.setEndBefore(C);break}g=C,C=f.next()}C||(l.setStart(g,0),l.setEnd(g,0))}else os(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(l.setStartBefore(t),l.setEndBefore(t)):(l.setStartAfter(t),l.setEndAfter(t)):(l.setStart(t,0),l.setEnd(t,0));e.selection.setRng(l),zu(e,l)},TT=(e,t)=>{const n=e.getRoot();let s,l=t;for(;l!==n&&l&&e.getContentEditable(l)!=="false";){if(e.getContentEditable(l)==="true"){s=l;break}l=l.parentNode}return l!==n?s:n},g9=e=>J.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),pQ=e=>g9(e).fold(Qe(""),t=>t.nodeName.toUpperCase()),bQ=e=>g9(e).filter(t=>Sm(Be.fromDom(t))).isSome(),h9=e=>{e.innerHTML='<br data-mce-bogus="1">'},vQ=(e,t,n)=>{const s=e.dom;J.from(n.style).map(s.parseStyle).each(A=>{const j={...Cg(Be.fromDom(t)),...A};s.setStyles(t,j)});const l=J.from(n.class).map(A=>A.split(/\s+/)),f=J.from(t.className).map(A=>Ct(A.split(/\s+/),z=>z!==""));$a(l,f,(A,z)=>{const j=Ct(z,X=>!le(A,X)),G=[...A,...j];s.setAttrib(t,"class",G.join(" "))});const g=["style","class"],C=ic(n,(A,z)=>!le(g,z));s.setAttribs(t,C)},OT=(e,t)=>{if(Zi(e).toLowerCase()===t.tagName.toLowerCase()){const s=wx(e);vQ(e,t,s)}},aU=(e,t,n,s,l=!0,f,g)=>{const C=e.dom,A=e.schema,z=Zi(e),j=n?n.nodeName.toUpperCase():"";let G=t;const X=A.getTextInlineElements();let ue;f||j==="TABLE"||j==="HR"?ue=C.create(f||z,g||{}):ue=n.cloneNode(!1);let we=ue;if(!l)C.setAttrib(ue,"style",null),C.setAttrib(ue,"class",null);else do if(X[G.nodeName]){if(au(G)||iu(G))continue;const de=G.cloneNode(!1);C.setAttrib(de,"id",""),ue.hasChildNodes()?(de.appendChild(ue.firstChild),ue.appendChild(de)):(we=de,ue.appendChild(de))}while((G=G.parentNode)&&G!==s);return OT(e,ue),h9(we),ue},yQ=(e,t)=>e.dom.getParent(t,Ih),xQ=(e,t,n)=>{let s=t;for(;s&&s!==e&&Ge(s.nextSibling);){const l=s.parentElement;if(!l||!n(l))return Ih(l);s=l}return!1},wQ=(e,t,n)=>!t&&n.nodeName.toLowerCase()===Zi(e)&&e.dom.isEmpty(n)&&xQ(e.getBody(),n,s=>Yn(e.schema.getTextBlockElements(),s.nodeName.toLowerCase())),CQ=(e,t,n)=>{var s,l,f;const g=t(Zi(e)),C=yQ(e,n);C&&(e.dom.insertAfter(g,C),PS(e,g),((f=(l=(s=n.parentElement)===null||s===void 0?void 0:s.childNodes)===null||l===void 0?void 0:l.length)!==null&&f!==void 0?f:0)>1&&e.dom.remove(n))},_Q=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,SQ=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},iU=(e,t)=>{const n=e==null?void 0:e.parentNode;return Ce(n)&&n.nodeName===t},lU=e=>Ce(e)&&/^(OL|UL|LI)$/.test(e.nodeName),p9=e=>Ce(e)&&/^(LI|DT|DD)$/.test(e.nodeName),kQ=e=>lU(e)&&lU(e.parentNode),MB=e=>{const t=e.parentNode;return p9(t)?t:e},PB=(e,t,n)=>{let s=e[n?"firstChild":"lastChild"];for(;s&&!yn(s);)s=s[n?"nextSibling":"previousSibling"];return s===t},cU=e=>It(Ji(Cg(Be.fromDom(e)),(t,n)=>`${n}: ${t};`),(t,n)=>t+n,""),EQ=(e,t,n,s,l)=>{const f=e.dom,g=e.selection.getRng(),C=n.parentNode;if(n===e.getBody()||!C)return;kQ(n)&&(l="LI");const A=p9(s)?cU(s):void 0;let z=p9(s)&&A?t(l,{style:cU(s)}):t(l);if(PB(n,s,!0)&&PB(n,s,!1))if(iU(n,"LI")){const j=MB(n);f.insertAfter(z,j),SQ(n)?f.remove(j):f.remove(n)}else f.replace(z,n);else if(PB(n,s,!0))iU(n,"LI")?(f.insertAfter(z,MB(n)),z.appendChild(f.doc.createTextNode(" ")),z.appendChild(n)):C.insertBefore(z,n),f.remove(s);else if(PB(n,s,!1))f.insertAfter(z,MB(n)),f.remove(s);else{n=MB(n);const j=g.cloneRange();j.setStartAfter(s),j.setEndAfter(n);const G=j.extractContents();if(l==="LI"&&_Q(G,"LI")){const X=Ct(Me(z.children,Be.fromDom),bt(qd("br")));z=G.firstChild,f.insertAfter(G,n),pe(X,ue=>Si(Be.fromDom(z),ue)),A&&z.setAttribute("style",A)}else f.insertAfter(G,n),f.insertAfter(z,n);f.remove(s)}PS(e,z)},AQ=e=>{pe(um(Be.fromDom(e),Yr),t=>{const n=t.dom;n.nodeValue=ll(n.data)})},TQ=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return n!==null&&e.dom.getContentEditableParent(n)==="false"},OQ=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),b9=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,v9=(e,t)=>Ce(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",DQ=(e,t,n)=>{var s;const l=[];if(!n)return;let f=n;for(;f=f.firstChild;){if(e.isBlock(f))return;yn(f)&&!t[f.nodeName.toLowerCase()]&&l.push(f)}let g=l.length;for(;g--;)f=l[g],(!f.hasChildNodes()||f.firstChild===f.lastChild&&((s=f.firstChild)===null||s===void 0?void 0:s.nodeValue)===""||OQ(e,f))&&e.remove(f)},y9=(e,t,n)=>Mt(t)?e?n===1&&t.data.charAt(n-1)===ia?0:n:n===t.data.length-1&&t.data.charAt(n)===ia?t.data.length:n:n,RQ=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,y9(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,y9(!1,e.endContainer,e.endOffset)),t},NQ=e=>{let t=e;do Mt(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},IQ=(e,t,n,s,l)=>{var f,g;const C=e.dom,A=(f=TT(C,s))!==null&&f!==void 0?f:C.getRoot();let z=C.getParent(s,C.isBlock);if(!z||!v9(C,z)){if(z=z||A,!z.hasChildNodes()){const ue=C.create(t);return OT(e,ue),z.appendChild(ue),n.setStart(ue,0),n.setEnd(ue,0),ue}let j=s;for(;j&&j.parentNode!==z;)j=j.parentNode;let G;for(;j&&!C.isBlock(j);)G=j,j=j.previousSibling;const X=(g=G==null?void 0:G.parentElement)===null||g===void 0?void 0:g.nodeName;if(G&&X&&e.schema.isValidChild(X,t.toLowerCase())){const ue=G.parentNode,we=C.create(t);for(OT(e,we),ue.insertBefore(we,G),j=G;j&&!C.isBlock(j);){const de=j.nextSibling;we.appendChild(j),j=de}n.setStart(s,l),n.setEnd(s,l)}}return s},BQ=(e,t)=>{t.normalize();const n=t.lastChild;(!n||yn(n)&&/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")},MQ=(e,t)=>{const n=Mk(e);return ot(t)?!1:Te(n)?le(Kt.explode(n),t.nodeName.toLowerCase()):n},uU={insert:(e,t)=>{let n,s,l,f,g=!1;const C=e.dom,A=e.schema,z=A.getNonEmptyElements(),j=e.selection.getRng(),G=Zi(e),X=Be.fromDom(j.startContainer),ue=ku(X,j.startOffset),we=ue.exists(Dt=>yi(Dt)&&!ls(Dt)),de=j.collapsed&&we,ke=(Dt,bn)=>aU(e,n,jt,Nt,Bk(e),Dt,bn),Fe=Dt=>{const bn=y9(Dt,n,s);if(Mt(n)&&(Dt?bn>0:bn<n.data.length))return!1;if((n.parentNode===jt||n===jt)&&g&&!Dt||Dt&&yn(n)&&n===jt.firstChild)return!0;if(b9(n,"TABLE")||b9(n,"HR"))return g&&!Dt||!g&&Dt;const Nn=new Ka(n,jt);Mt(n)&&(Dt&&bn===0?Nn.prev():!Dt&&bn===n.data.length&&Nn.next());let yo;for(;yo=Nn.current();){if(yn(yo)){if(!yo.getAttribute("data-mce-bogus")){const Oo=yo.nodeName.toLowerCase();if(z[Oo]&&Oo!=="br")return!1}}else if(Mt(yo)&&!$l(yo.data))return!1;Dt?Nn.prev():Nn.next()}return!0},qe=()=>{let Dt;return/^(H[1-6]|PRE|FIGURE)$/.test(l)&&dn!=="HGROUP"?Dt=ke(G):Dt=ke(),MQ(e,f)&&v9(C,f)&&C.isEmpty(jt,void 0,{includeZwsp:!0})?Dt=C.split(f,jt):C.insertAfter(Dt,jt),PS(e,Dt),Dt};Pm(C,j).each(Dt=>{j.setStart(Dt.startContainer,Dt.startOffset),j.setEnd(Dt.endContainer,Dt.endOffset)}),n=j.startContainer,s=j.startOffset;const We=!!(t&&t.shiftKey),at=!!(t&&t.ctrlKey);yn(n)&&n.hasChildNodes()&&!de&&(g=s>n.childNodes.length-1,n=n.childNodes[Math.min(s,n.childNodes.length-1)]||n,g&&Mt(n)?s=n.data.length:s=0);const Nt=TT(C,n);if(!Nt||TQ(e,n))return;We||(n=IQ(e,G,j,n,s));let jt=C.getParent(n,C.isBlock)||C.getRoot();f=Ce(jt==null?void 0:jt.parentNode)?C.getParent(jt.parentNode,C.isBlock):null,l=jt?jt.nodeName.toUpperCase():"";const dn=f?f.nodeName.toUpperCase():"";if(dn==="LI"&&!at){const Dt=f;jt=Dt,f=Dt.parentNode,l=dn}if(yn(f)&&wQ(e,We,jt))return CQ(e,ke,jt);if(/^(LI|DT|DD)$/.test(l)&&yn(f)&&C.isEmpty(jt)){EQ(e,ke,f,jt,G);return}if(!de&&(jt===e.getBody()||!v9(C,jt)))return;const wt=jt.parentNode;let dt;if(de)dt=ke(G),ue.fold(()=>{Rs(X,Be.fromDom(dt))},Dt=>{gs(Dt,Be.fromDom(dt))}),e.selection.setCursorLocation(dt,0);else if(Uh(jt))dt=Ug(jt),C.isEmpty(jt)&&h9(jt),OT(e,dt),PS(e,dt);else if(Fe(!1))dt=qe();else if(Fe(!0)&&wt){const Dt=mt.fromRangeStart(j),bn=yv(Dt),Nn=Be.fromDom(jt),Oo=v0(Nn,Dt,e.schema)?u_(Nn,Dt,e.schema).bind(Dr=>J.from(Dr.getNode())):J.none();dt=wt.insertBefore(ke(),jt);const hr=b9(jt,"HR")||bn?dt:Oo.getOr(jt);PS(e,hr)}else{const Dt=RQ(j).cloneRange();Dt.setEndAfter(jt);const bn=Dt.extractContents();AQ(bn),NQ(bn),dt=bn.firstChild,C.insertAfter(bn,jt),DQ(C,z,dt),BQ(C,jt),C.isEmpty(jt)&&h9(jt),dt.normalize(),C.isEmpty(dt)?(C.remove(dt),qe()):(OT(e,dt),PS(e,dt))}C.setAttrib(dt,"id",""),e.dispatch("NewBlock",{newBlock:dt})},fakeEventName:"insertParagraph"},PQ=(e,t,n)=>{const s=new Ka(t,n);let l;const f=e.getNonEmptyElements();for(;l=s.next();)if(f[l.nodeName.toLowerCase()]||Mt(l)&&l.length>0)return!0;return!1},dU=(e,t,n)=>{const s=e.dom.createRng();n?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)),e.selection.setRng(s),zu(e,s)},LQ=(e,t)=>{const n=e.selection,s=e.dom,l=n.getRng();let f,g=!1;Pm(s,l).each(ue=>{l.setStart(ue.startContainer,ue.startOffset),l.setEnd(ue.endContainer,ue.endOffset)});let C=l.startOffset,A=l.startContainer;if(yn(A)&&A.hasChildNodes()){const ue=C>A.childNodes.length-1;A=A.childNodes[Math.min(C,A.childNodes.length-1)]||A,ue&&Mt(A)?C=A.data.length:C=0}let z=s.getParent(A,s.isBlock);const j=z&&z.parentNode?s.getParent(z.parentNode,s.isBlock):null,G=j?j.nodeName.toUpperCase():"",X=!!(t&&t.ctrlKey);G==="LI"&&!X&&(z=j),Mt(A)&&C>=A.data.length&&(PQ(e.schema,A,z||s.getRoot())||(f=s.create("br"),l.insertNode(f),l.setStartAfter(f),l.setEndAfter(f),g=!0)),f=s.create("br"),Y1(s,l,f),dU(e,f,g),e.undoManager.add()},FQ=(e,t)=>{const n=Be.fromTag("br");gs(Be.fromDom(t),n),e.undoManager.add()},zQ=(e,t)=>{VQ(e.getBody(),t)||et(Be.fromDom(t),Be.fromTag("br"));const n=Be.fromTag("br");et(Be.fromDom(t),n),dU(e,n.dom,!1),e.undoManager.add()},HQ=e=>os(e.getNode()),VQ=(e,t)=>HQ(mt.after(t))?!0:Rl(e,mt.after(t)).map(n=>os(n.getNode())).getOr(!1),fU=e=>e&&e.nodeName==="A"&&"href"in e,$Q=e=>e.fold(xn,fU,fU,xn),UQ=e=>{const t=pt(x0,e),n=mt.fromRangeStart(e.selection.getRng());return Gm(t,e.getBody(),n).filter($Q)},WQ=(e,t)=>{t.fold(Pt,pt(FQ,e),pt(zQ,e),Pt)},mU={insert:(e,t)=>{const n=UQ(e);n.isSome()?n.each(pt(WQ,e)):LQ(e,t)},fakeEventName:"insertLineBreak"},gU=(e,t)=>g9(e).filter(n=>t.length>0&&xr(Be.fromDom(n),t)).isSome(),ZQ=e=>gU(e,bO(e)),jQ=e=>gU(e,vO(e)),Nd=Mo.generate([{br:[]},{block:[]},{none:[]}]),KQ=(e,t)=>jQ(e),hU=e=>(t,n)=>bQ(t)===e,pU=(e,t)=>(n,s)=>pQ(n)===e.toUpperCase()===t,qQ=e=>{const t=TT(e.dom,e.selection.getStart());return ot(t)},DT=e=>pU("pre",e),GQ=()=>pU("summary",!0),LB=e=>(t,n)=>Nk(t)===e,YQ=(e,t)=>ZQ(e),FB=(e,t)=>t,XQ=e=>{const t=Zi(e),n=TT(e.dom,e.selection.getStart());return Ce(n)&&e.schema.isValidChild(n.nodeName,t)},JQ=e=>{const t=e.selection.getRng(),n=Be.fromDom(t.startContainer),l=ku(n,t.startOffset).map(f=>yi(f)&&!ls(f));return t.collapsed&&l.getOr(!0)},If=(e,t)=>(n,s)=>It(e,(f,g)=>f&&g(n,s),!0)?J.some(t):J.none(),QQ=(e,t)=>PI([If([KQ],Nd.none()),If([DT(!0),qQ],Nd.none()),If([GQ()],Nd.br()),If([DT(!0),LB(!1),FB],Nd.br()),If([DT(!0),LB(!1)],Nd.block()),If([DT(!0),LB(!0),FB],Nd.block()),If([DT(!0),LB(!0)],Nd.br()),If([hU(!0),FB],Nd.br()),If([hU(!0)],Nd.block()),If([YQ],Nd.br()),If([FB],Nd.br()),If([XQ],Nd.block()),If([JQ],Nd.block())],[e,!!(t&&t.shiftKey)]).getOr(Nd.none()),zB=(e,t,n)=>{t.selection.isCollapsed()||fR(t),!(Ce(n)&&BB(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,n),Ce(n)&&AT(t,e.fakeEventName))},bU=(e,t)=>{const n=()=>zB(mU,e,t),s=()=>zB(uU,e,t),l=QQ(e,t);switch(Ik(e)){case"linebreak":l.fold(n,n,Pt);break;case"block":l.fold(s,s,Pt);break;case"invert":l.fold(s,n,Pt);break;default:l.fold(n,s,Pt);break}},vU=Ha(),eee=vU.os.isiOS()&&vU.browser.isSafari(),yU=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),JL(e.undoManager),e.undoManager.transact(()=>{bU(e,t)}))},tee=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(Mt(t)){const n=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,s=t.data.charAt(e.startOffset-1);return n.test(s)}else return!1},nee=e=>{let t=J.none();const n=l=>{t=J.some(l.selection.getBookmark()),l.undoManager.add()},s=(l,f)=>{l.undoManager.undo(),t.fold(Pt,g=>l.selection.moveToBookmark(g)),yU(l,f),t=J.none()};e.on("keydown",l=>{l.keyCode===rn.ENTER&&(eee&&tee(e.selection.getRng())?n(e):yU(e,l))}),e.on("keyup",l=>{l.keyCode===rn.ENTER&&t.each(()=>s(e,l))})},oee=(e,t,n)=>{const s=_o.os.isMacOS()||_o.os.isiOS();Op([{keyCode:rn.END,action:eo(Rd,e,!0)},{keyCode:rn.HOME,action:eo(Rd,e,!1)},...s?[]:[{keyCode:rn.HOME,action:eo(z0,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:rn.END,action:eo(z0,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:rn.END,action:eo(wT,e,!0)},{keyCode:rn.HOME,action:eo(wT,e,!1)},{keyCode:rn.END,action:eo(nw,e,!0,t)},{keyCode:rn.HOME,action:eo(nw,e,!1,t)}],n).each(l=>{n.preventDefault()})},ree=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||oee(e,t,n)})},see=e=>{e.on("input",t=>{t.isComposing||h7(e)})},aee=Ha(),iee=(e,t,n)=>{Op([{keyCode:rn.PAGE_UP,action:eo(nw,e,!1,t)},{keyCode:rn.PAGE_DOWN,action:eo(nw,e,!0,t)}],n)},xU=e=>e.stopImmediatePropagation(),wU=e=>e.keyCode===rn.PAGE_UP||e.keyCode===rn.PAGE_DOWN,CU=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",xU,!0):!n&&e.get()&&t.off("NodeChange",xU),e.set(n)},lee=(e,t)=>{if(aee.os.isMacOS())return;const n=ga(!1);e.on("keydown",s=>{wU(s)&&CU(n,e,!0)}),e.on("keyup",s=>{s.isDefaultPrevented()||iee(e,t,s),wU(s)&&n.get()&&(CU(n,e,!1),e.nodeChanged())})},cee=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||xe(t.getTargetRanges(),n=>!CD(e.dom,n)))&&t.preventDefault()})},_U=(e,t)=>{const n=t.container(),s=t.offset();return Mt(n)?(n.insertData(s,e),J.some(mt(n,s+e.length))):_C(t).map(l=>{const f=Be.fromText(e);return t.isAtEnd()?et(l,f):gs(l,f),mt(f.dom,e.length)})},SU=pt(_U,ma),kU=pt(_U," "),uee=(e,t,n)=>dA(e,t,n)?SU(t):kU(t),dee=e=>t=>t.fold(n=>Ec(e.dom,mt.before(n)),n=>Un(n),n=>Pu(n),n=>Rl(e.dom,mt.after(n))),fee=(e,t,n)=>s=>dA(e,s,n)?SU(t):kU(t),EU=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},mee=(e,t)=>e.isEditable(e.getParent(t,"summary")),gee=e=>{const t=mt.fromRangeStart(e.selection.getRng()),n=Be.fromDom(e.getBody());if(e.selection.isCollapsed()){const s=pt(x0,e),l=mt.fromRangeStart(e.selection.getRng());return Gm(s,e.getBody(),l).bind(dee(n)).map(f=>()=>fee(n,t,e.schema)(f).each(EU(e)))}else return J.none()},hee=e=>{const t=()=>{const n=Be.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const s=mt.fromRangeStart(e.selection.getRng());uee(n,s,e.schema).each(EU(e))};return pg(_o.browser.isFirefox()&&e.selection.isEditable()&&mee(e.dom,e.selection.getRng().startContainer),t)},pee=(e,t)=>{BS([{keyCode:rn.SPACEBAR,action:eo(gee,e)},{keyCode:rn.SPACEBAR,action:eo(hee,e)}],t).each(n=>{t.preventDefault(),BB(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),AT(e,"insertText",{data:" "}))})},bee=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||pee(e,t)})},vee=e=>$O(e)?[{keyCode:rn.TAB,action:eo(k$,e,!0)},{keyCode:rn.TAB,shiftKey:!0,action:eo(k$,e,!1)}]:[],yee=(e,t)=>{Op([...vee(e)],t).each(n=>{t.preventDefault()})},xee=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||yee(e,t)})},wee=e=>{if(e.addShortcut("Meta+P","","mcePrint"),JJ(e),qm(e))return ga(null);{const t=lB(e);return cee(e),F0(e),BX(e,t),gQ(e,t),nee(e),bee(e),see(e),xee(e),ree(e,t),lee(e,t),t}};class Cee{constructor(t){this.lastPath=[],this.editor=t;let n;const s=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",l=>{const f=t.selection.getRng(),g={startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset};(l.type==="nodechange"||!t2(g,n))&&t.dispatch("SelectionChange"),n=g}),t.on("contextmenu",()=>{mv(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const l=t.selection.getStart(!0);l&&iv(t)&&!s.isSameElementPath(l)&&t.dom.isChildOf(l,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",l=>{!l.isDefaultPrevented()&&iv(t)&&(t.selection.getNode().nodeName==="IMG"?Oc.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const n=this.editor.selection;let s;if(this.editor.initialized&&n&&!GM(this.editor)&&!this.editor.mode.isReadOnly()){const l=this.editor.getBody();s=n.getStart(!0)||l,(s.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(s,l))&&(s=l);const f=[];this.editor.dom.getParent(s,g=>g===l?!0:(f.push(g),!1)),this.editor.dispatch("NodeChange",{...t,element:s,parents:f})}}isSameElementPath(t){let n;const s=this.editor,l=To(s.dom.getParents(t,Rn,s.getBody()));if(l.length===this.lastPath.length){for(n=l.length;n>=0&&l[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=l,!0}return this.lastPath=l,!1}}const AU=Ei("image"),_ee=e=>{const t=e;return J.from(t[AU])},See=(e,t)=>{const n=e;n[AU]=t},x9=Ei("event"),kee=e=>{const t=e;return J.from(t[x9])},HB=e=>t=>{const n=t;n[x9]=e},Eee=(e,t)=>HB(t)(e),TU=HB(0),Aee=HB(2),Tee=HB(1),Oee=(e=>t=>{const n=t;return J.from(n[x9]).exists(s=>s===e)})(0),Dee=()=>Object.freeze({length:0,item:e=>null}),w9=Ei("mode"),Ree=e=>{const t=e;return J.from(t[w9])},VB=e=>t=>{const n=t;n[w9]=e},OU=(e,t)=>VB(t)(e),DU=VB(0),C9=VB(2),Nee=VB(1),RU=e=>t=>{const n=t;return J.from(n[w9]).exists(s=>s===e)},LS=RU(0),NU=RU(1),Iee=(e,t)=>({...t,get length(){return t.length},add:(n,s)=>{if(LS(e))if(Te(n)){if(!Ze(s))return t.add(n,s)}else return t.add(n);return null},remove:n=>{LS(e)&&t.remove(n)},clear:()=>{LS(e)&&t.clear()}}),Bee=["none","copy","link","move"],Mee=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],_9=()=>{const e=new window.DataTransfer;let t="move",n="all";const s={get dropEffect(){return t},set dropEffect(l){le(Bee,l)&&(t=l)},get effectAllowed(){return n},set effectAllowed(l){Oee(s)&&le(Mee,l)&&(n=l)},get items(){return Iee(s,e.items)},get files(){return NU(s)?Dee():e.files},get types(){return e.types},setDragImage:(l,f,g)=>{LS(s)&&(See(s,{image:l,x:f,y:g}),e.setDragImage(l,f,g))},getData:l=>NU(s)?"":e.getData(l),setData:(l,f)=>{LS(s)&&e.setData(l,f)},clearData:l=>{LS(s)&&e.clearData(l)}};return DU(s),s},Pee=e=>{const t=_9(),n=Ree(e);return C9(e),TU(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,_ee(e).each(s=>t.setDragImage(s.image,s.x,s.y)),pe(e.types,s=>{s!=="Files"&&t.setData(s,e.getData(s))}),pe(e.files,s=>t.items.add(s)),kee(e).each(s=>{Eee(t,s)}),n.each(s=>{OU(e,s),OU(t,s)}),t},Lee=e=>{const t=e.getData("text/html");return t===""?J.none():J.some(t)},IU=(e,t)=>e.setData("text/html",t),BU="x-tinymce/html",$B=Qe(BU),S9="<!-- "+BU+" -->",Fee=e=>S9+e,zee=e=>e.replace(S9,""),MU=e=>e.indexOf(S9)!==-1,Hee=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),Vee=(e,t)=>{let n="<"+e;const s=Ji(t,(l,f)=>f+'="'+Dg.encodeAllRaw(l)+'"');return s.length&&(n+=" "+s.join(" ")),n+">"},$ee=(e,t,n)=>{const s=e.split(/\n\n/),l=Vee(t,n),f="</"+t+">",g=Me(s,A=>A.split(/\n/).join("<br />")),C=A=>l+A+f;return g.length===1?g[0]:Me(g,C).join("")},PU="%MCEPASTEBIN%",Uee=(e,t)=>{const{dom:n,selection:s}=e,l=e.getBody();t.set(s.getRng());const f=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},PU);_o.browser.isFirefox()&&n.setStyle(f,"left",n.getStyle(l,"direction",!0)==="rtl"?65535:-65535),n.bind(f,"beforedeactivate focusin focusout",g=>{g.stopPropagation()}),f.focus(),s.select(f,!0)},Wee=(e,t)=>{const n=e.dom;if(k9(e)){let s;const l=t.get();for(;s=k9(e);)n.remove(s),n.unbind(s);l&&e.selection.setRng(l)}t.set(null)},k9=e=>e.dom.get("mcepastebin"),Zee=e=>Ce(e)&&e.id==="mcepastebin",jee=e=>{const t=e.dom,n=(g,C)=>{g.appendChild(C),t.remove(C,!0)},[s,...l]=Ct(e.getBody().childNodes,Zee);pe(l,g=>{n(s,g)});const f=t.select("div[id=mcepastebin]",s);for(let g=f.length-1;g>=0;g--){const C=t.create("div");s.insertBefore(C,f[g]),n(C,f[g])}return s?s.innerHTML:""},LU=e=>e===PU,Kee=e=>{const t=ga(null);return{create:()=>Uee(e,t),remove:()=>Wee(e,t),getEl:()=>k9(e),getHtml:()=>jee(e),getLastRng:t.get}},FU=(e,t)=>(Kt.each(t,n=>{Ue(n,RegExp)?e=e.replace(n,""):e=e.replace(n[0],n[1])}),e),qee=e=>{const t=xc(),n=Rv({},t);let s="";const l=t.getVoidElements(),f=Kt.makeMap("script noscript style textarea video audio iframe object"," "),g=t.getBlockElements(),C=A=>{const z=A.name,j=A;if(z==="br"){s+=`
`;return}if(z!=="wbr"){if(l[z]&&(s+=" "),f[z]){s+=" ";return}if(A.type===3&&(s+=A.value),!(A.name in t.getVoidElements())){let G=A.firstChild;if(G)do C(G);while(G=G.next)}g[z]&&j.next&&(s+=`
`,z==="p"&&(s+=`
`))}};return e=FU(e,[/<!\[[^\]]+\]>/g]),C(n.parse(e)),s},zU=e=>(e=FU(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(n,s,l)=>!s&&!l?" ":ma],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),Gee=e=>{let t=0;return()=>e+t++},Yee=e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Kt.hasOwn(n,t)?"image/"+n[t]:"image/"+t},Xee=(e,t)=>{const n=Rv({sanitize:zO(e),sandbox_iframes:qk(e),sandbox_iframes_exclusions:pC(e),convert_unsafe_embeds:WO(e)},e.schema);n.addNodeFilter("meta",l=>{Kt.each(l,f=>{f.remove()})});const s=n.parse(t,{forced_root_block:!1,isRootContent:!0});return th({validate:!0},e.schema).serialize(s)},HU=(e,t)=>({content:e,cancelled:t}),Jee=(e,t,n)=>{const s=e.dom.create("div",{style:"display:none"},t),l=HC(e,s,n);return HU(l.node.innerHTML,l.isDefaultPrevented())},Qee=(e,t,n)=>{const s=Xx(e,t,n),l=Xee(e,s.content);return e.hasEventListeners("PastePostProcess")&&!s.isDefaultPrevented()?Jee(e,l,n):HU(l,s.isDefaultPrevented())},ete=(e,t,n)=>Qee(e,t,n),E9=(e,t)=>(e.insertContent(t,{merge:tP(e),paste:!0}),!0),A9=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),tte=(e,t)=>A9(t)&&xe(Kk(e),n=>Se(t.toLowerCase(),`.${n.toLowerCase()}`)),nte=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),ote=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),rte=(e,t,n)=>!e.selection.isCollapsed()&&A9(t)?ote(e,t,n):!1,ste=(e,t,n)=>tte(e,t)?nte(e,t,n):!1,ate=(e,t)=>{Kt.each([rte,ste,E9],n=>!n(e,t,E9))},ite=(e,t,n)=>{n||!Xb(e)?E9(e,t):ate(e,t)},lte=Gee("mceclip"),cte=e=>{const t=_9();return IU(t,e),C9(t),t},VU=(e,t,n,s,l)=>{const f=ete(e,t,n);if(!f.cancelled){const g=f.content,C=()=>ite(e,g,s);l?BB(e,"insertFromPaste",{dataTransfer:cte(g)}).isDefaultPrevented()||(C(),AT(e,"insertFromPaste")):C()}},UB=(e,t,n,s)=>{const l=n||MU(t);VU(e,zee(t),l,!1,s)},T9=(e,t,n)=>{const s=e.dom.encode(t).replace(/\r\n/g,`
`),l=cb(s,PO(e)),f=$ee(l,Zi(e),wx(e));VU(e,f,!1,!0,n)},$U=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const s=e.types[n];try{t[s]=e.getData(s)}catch{t[s]=""}}return t},qv=(e,t)=>t in e&&e[t].length>0,UU=e=>qv(e,"text/html")||qv(e,"text/plain"),ute=(e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Ce(n)?e.dom.encode(n[1]):void 0},dte=(e,t,n,s)=>{const l=lte(),f=qg(e)&&Ce(n.name),g=f?ute(e,n.name):l,C=f?n.name:void 0,A=t.create(l,n,s,g,C);return t.add(A),A},fte=(e,t)=>{J_(t.uri).each(({data:n,type:s,base64Encoded:l})=>{const f=l?n:btoa(n),g=t.file,C=e.editorUpload.blobCache,A=C.getByData(f,s),z=A??dte(e,C,g,f);UB(e,`<img src="${z.blobUri()}">`,!1,!0)})},mte=e=>e.type==="paste",gte=e=>Promise.all(Me(e,t=>fN(t).then(n=>({file:t,uri:n})))),hte=e=>{const t=Kk(e);return n=>Gr(n.type,"image/")&&xe(t,s=>Yee(s)===n.type)},pte=(e,t)=>{const n=t.items?ao(io(t.items),l=>l.kind==="file"?[l.getAsFile()]:[]):[],s=t.files?io(t.files):[];return Ct(n.length>0?n:s,hte(e))},WU=(e,t,n)=>{const s=mte(t)?t.clipboardData:t.dataTransfer;if(Rm(e)&&s){const l=pte(e,s);if(l.length>0)return t.preventDefault(),gte(l).then(f=>{n&&e.selection.setRng(n),pe(f,g=>{fte(e,g)})}),!0}return!1},bte=e=>{var t,n;return _o.os.isAndroid()&&((n=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||n===void 0?void 0:n.length)===0},vte=e=>rn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,O9=(e,t,n,s,l)=>{let f=zU(n);const g=qv(t,$B())||MU(n),C=!g&&Hee(f),A=A9(f);(LU(f)||!f.length||C&&!A)&&(s=!0),(s||A)&&(qv(t,"text/plain")&&C?f=t["text/plain"]:f=qee(f)),!LU(f)&&(s?T9(e,f,l):UB(e,f,g,l))},yte=(e,t,n)=>{let s;const l=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",f=>{vte(f)&&!f.isDefaultPrevented()&&(s=f.shiftKey&&f.keyCode===86)}),e.on("paste",f=>{if(f.isDefaultPrevented()||bte(f))return;const g=n.get()==="text"||s;s=!1;const C=$U(f.clipboardData);!UU(C)&&WU(e,f,l())||(qv(C,"text/html")?(f.preventDefault(),O9(e,C,C["text/html"],g,!0)):qv(C,"text/plain")&&qv(C,"text/uri-list")?(f.preventDefault(),O9(e,C,C["text/plain"],g,!0)):(t.create(),Oc.setEditorTimeout(e,()=>{const A=t.getHtml();t.remove(),O9(e,C,A,g,!1)},0)))})},xte=e=>{const t=l=>Gr(l,"webkit-fake-url"),n=l=>Gr(l,"data:"),s=l=>{var f;return((f=l.data)===null||f===void 0?void 0:f.paste)===!0};e.parser.addNodeFilter("img",(l,f,g)=>{if(!Rm(e)&&s(g))for(const C of l){const A=C.attr("src");Te(A)&&!C.attr("data-mce-object")&&A!==_o.transparentSrc&&(t(A)||!nP(e)&&n(A))&&C.remove()}})},wte=(e,t,n)=>{yte(e,t,n),xte(e)},Cte=(e,t)=>{t.get()==="text"?(t.set("html"),VC(e,!1)):(t.set("text"),VC(e,!0)),e.focus()},_te=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{Cte(e,t)}),e.addCommand("mceInsertClipboardContent",(n,s)=>{s.html&&UB(e,s.html,s.internal,!1),s.text&&T9(e,s.text,!1)})},Ste=(e,t,n)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData($B(),t),!0}catch{return!1}else return!1},ZU=(e,t,n,s)=>{Ste(e.clipboardData,t.html,t.text)?(e.preventDefault(),s()):n(t.html,s)},jU=e=>(t,n)=>{const{dom:s,selection:l}=e,f=s.create("div",{contenteditable:"false","data-mce-bogus":"all"}),g=s.create("div",{contenteditable:"true"},t);s.setStyles(f,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),f.appendChild(g),s.add(e.getBody(),f);const C=l.getRng();g.focus();const A=s.createRng();A.selectNodeContents(g),l.setRng(A),Oc.setEditorTimeout(e,()=>{l.setRng(C),s.remove(f),n()},0)},KU=e=>({html:Fee(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),kte=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),qU=e=>!e.selection.isCollapsed()||kte(e),Ete=e=>t=>{!t.isDefaultPrevented()&&qU(e)&&e.selection.isEditable()&&ZU(t,KU(e),jU(e),()=>{if(_o.browser.isChromium()||_o.browser.isFirefox()){const n=e.selection.getRng();Oc.setEditorTimeout(e,()=>{e.selection.setRng(n),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},Ate=e=>t=>{!t.isDefaultPrevented()&&qU(e)&&ZU(t,KU(e),jU(e),Pt)},Tte=e=>{e.on("cut",Ete(e)),e.on("copy",Ate(e))},GU=(e,t)=>{var n,s;return ap.getCaretRangeFromPoint((n=t.clientX)!==null&&n!==void 0?n:0,(s=t.clientY)!==null&&s!==void 0?s:0,e.getDoc())},Ote=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},YU=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},Dte=e=>xe(e.files,t=>/^image\//.test(t.type)),Rte=(e,t,n,s)=>{const l=e.getParent(n,g=>af(t,g));if(!Ge(e.getParent(n,"summary")))return!0;if(l&&Yn(s,"text/html")){const g=new DOMParser().parseFromString(s["text/html"],"text/html").body;return!Ge(g.querySelector(l.nodeName.toLowerCase()))}else return!1},Nte=e=>{e.on("input",t=>{const n=s=>Ge(s.querySelector("summary"));if(t.inputType==="deleteByDrag"){const s=Ct(e.dom.select("details"),n);pe(s,l=>{os(l.firstChild)&&l.firstChild.remove();const f=e.dom.create("summary");f.appendChild(vd().dom),l.prepend(f)})}})},Ite=(e,t)=>{Sf(e)&&e.on("dragend dragover draggesture dragdrop drop drag",n=>{n.preventDefault(),n.stopPropagation()}),Rm(e)||e.on("drop",n=>{const s=n.dataTransfer;s&&Dte(s)&&n.preventDefault()}),e.on("drop",n=>{if(n.isDefaultPrevented())return;const s=GU(e,n);if(ot(s))return;const l=$U(n.dataTransfer),f=qv(l,$B());if((!UU(l)||Ote(l))&&WU(e,n,s))return;const g=l[$B()],C=g||l["text/html"]||l["text/plain"],A=Rte(e.dom,e.schema,s.startContainer,l),z=t.get();z&&!A||C&&(n.preventDefault(),Oc.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(g||z&&A)&&e.execCommand("Delete"),YU(e,s);const j=zU(C);l["text/html"]?UB(e,j,f,!0):T9(e,j,!0)})}))}),e.on("dragstart",n=>{t.set(!0)}),e.on("dragover dragend",n=>{Rm(e)&&!t.get()&&(n.preventDefault(),YU(e,GU(e,n))),n.type==="dragend"&&t.set(!1)}),Nte(e)},Bte=e=>{const t=l=>f=>{l(e,f)},n=eP(e);Ne(n)&&e.on("PastePreProcess",t(n));const s=kx(e);Ne(s)&&e.on("PastePostProcess",t(s))},Mte=(e,t)=>{e.on("PastePreProcess",n=>{n.content=t(e,n.content,n.internal)})},Pte=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,XU=e=>Kt.trim(e).replace(Pte,_b).toLowerCase(),Lte=(e,t,n)=>{const s=MO(e);if(n||s==="all"||!Uk(e))return t;const l=s?s.split(/[, ]/):[];if(l&&s!=="none"){const f=e.dom,g=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(C,A,z,j)=>{const G=f.parseStyle(f.decode(z)),X={};for(let we=0;we<l.length;we++){const de=G[l[we]];let ke=de,Fe=f.getStyle(g,l[we],!0);/color/.test(l[we])&&(ke=XU(ke),Fe=XU(Fe)),Fe!==ke&&(X[l[we]]=de)}const ue=f.serializeStyle(X,"span");return ue?A+' style="'+ue+'"'+j:A+j})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(f,g,C,A)=>g+' style="'+C+'"'+A),t},Fte=e=>{(_o.browser.isChromium()||_o.browser.isSafari())&&Mte(e,Lte)},zte=e=>{const t=ga(!1),n=ga(Jb(e)?"text":"html"),s=Kee(e);Fte(e),_te(e,n),Bte(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>n.get()==="text"),e.on("PreInit",()=>{Tte(e),Ite(e,t),wte(e,s,n)})},Hte=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},Vte=e=>{e.parser.addNodeFilter("details",t=>{const n=hC(e);pe(t,s=>{n==="expanded"?s.attr("open","open"):n==="collapsed"&&s.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const n=UO(e);pe(t,s=>{n==="expanded"?s.attr("open","open"):n==="collapsed"&&s.attr("open",null)})})},$te=e=>{Hte(e),Vte(e)},Ute=os,JU=Mt,Wte=e=>to(e.dom),Zte=e=>pc(e.dom),QU=e=>t=>Lo(Be.fromDom(e),t),jte=(e,t,n)=>Qs(Be.fromDom(e),s=>Zte(s)||n.isBlock(Po(s)),QU(t)).getOr(Be.fromDom(t)).dom,eW=(e,t)=>Qs(Be.fromDom(e),Wte,QU(t)),tW=(e,t,n)=>{const s=new Ka(e,t),l=n?s.next.bind(s):s.prev.bind(s);let f=e;for(let g=n?e:l();g&&!Ute(g);g=l())eu(g)&&(f=g);return f},Kte=(e,t,n)=>{const l=mt.fromRangeStart(e).getNode(),f=jte(l,t,n),g=tW(l,f,!1),C=tW(l,f,!0),A=document.createRange();return eW(g,f).fold(()=>{JU(g)?A.setStart(g,0):A.setStartBefore(g)},z=>A.setStartBefore(z.dom)),eW(C,f).fold(()=>{JU(C)?A.setEnd(C,C.data.length):A.setEndAfter(C)},z=>A.setEndAfter(z.dom)),A},qte=e=>{const t=Kte(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(D_(t))},Gte=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),qte(e))})};var FS;(function(e){e.Before="before",e.After="after"})(FS||(FS={}));const Yte=(e,t)=>Math.abs(e.left-t),Xte=(e,t)=>Math.abs(e.right-t),Jte=(e,t)=>e>=t.top&&e<=t.bottom,Qte=(e,t)=>e.top<t.bottom&&e.bottom>t.top,ene=(e,t)=>{const n=ux(e,t)/Math.min(e.height,t.height);return Qte(e,t)&&n>.5},tne=(e,t)=>{const n=Ct(e,s=>Jte(t,s));return Wh(n).fold(()=>[[],e],s=>{const{pass:l,fail:f}=$t(e,g=>ene(g,s));return[l,f]})},nne=(e,t)=>({node:e.node,position:Yte(e,t)<Xte(e,t)?FS.Before:FS.After}),one=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),D9=(e,t,n,s)=>{const l=G=>eu(G.node)?J.some(G):yn(G.node)?D9(io(G.node.childNodes),t,n,!1):J.none(),f=(G,X,ue)=>l(X).filter(we=>Math.abs(ue(G,t,n)-ue(we,t,n))<2&&Mt(we.node)),g=(G,X)=>{const ue=fr(G,(we,de)=>X(we,t,n)-X(de,t,n));return Wr(ue,l).map(we=>s&&!Mt(we.node)&&ue.length>1?f(we,ue[1],X).getOr(we):we)},[C,A]=tne(eB(e),n),{pass:z,fail:j}=$t(A,G=>G.top<n);return g(C,one).orThunk(()=>g(j,U1)).orThunk(()=>g(z,U1))},rne=(e,t,n,s)=>{const l=(f,g)=>{const C=z=>yn(z)&&z.classList.contains("mce-drag-container"),A=Ct(f.dom.childNodes,bt(C));return g.fold(()=>D9(A,n,s,!0),z=>{const j=Ct(A,G=>G!==z.dom);return D9(j,n,s,!0)}).orThunk(()=>(Lo(f,e)?J.none():Yd(f)).bind(j=>l(j,J.some(f))))};return l(t,J.none())},sne=(e,t,n)=>{const s=Be.fromDom(e),l=Hl(s),g=Be.fromPoint(l,t,n).filter(C=>Wa(s,C)).getOr(s);return rne(s,g,t,n)},nW=(e,t,n)=>sne(e,t,n).filter(s=>Ox(s.node)).map(s=>nne(s,t)),oW=e=>{var t,n;const s=e.getBoundingClientRect(),l=e.ownerDocument,f=l.documentElement,g=l.defaultView;return{top:s.top+((t=g==null?void 0:g.scrollY)!==null&&t!==void 0?t:0)-f.clientTop,left:s.left+((n=g==null?void 0:g.scrollX)!==null&&n!==void 0?n:0)-f.clientLeft}},ane=e=>e.inline?oW(e.getBody()):{left:0,top:0},ine=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},lne=e=>{const t=e.getBody(),n=e.getDoc().documentElement,s={left:t.scrollLeft,top:t.scrollTop},l={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?s:l},cne=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=oW(e.getContentAreaContainer()),s=lne(e);return{left:t.pageX-n.left+s.left,top:t.pageY-n.top+s.top}}return{left:t.pageX,top:t.pageY}},une=(e,t,n)=>({pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}),dne=(e,t)=>une(ane(e),ine(e),cne(e,t)),rW=e=>({target:e,srcElement:e}),fne=(e,t,n,s)=>({...t,dataTransfer:s,type:e,...rW(n)}),mne=(e,t,n)=>{const s=Zt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:s,initEvent:s,preventDefault:Pt,stopImmediatePropagation:Pt,stopPropagation:Pt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:s,initMouseEvent:s,getModifierState:s,dataTransfer:n,...rW(t)}},gne=(e,t)=>{const n=Pee(e);return t==="dragstart"?(TU(n),DU(n)):t==="drop"?(Aee(n),C9(n)):(Tee(n),Nee(n)),n},hne=(e,t,n,s)=>{const l=gne(n,e);return Ze(s)?mne(e,t,l):fne(e,s,t,l)},WB=32,pne=100,ZB=8,jB=16,sW=to,bne=mx(sW,pc),vne=(e,t,n)=>sW(n)&&n!==t&&e.isEditable(n.parentElement),yne=(e,t,n)=>ot(t)||t===n||e.dom.isChildOf(t,n)?!1:e.dom.isEditable(t),xne=(e,t,n,s)=>{const l=e.dom,f=t.cloneNode(!0);l.setStyles(f,{width:n,height:s}),l.setAttrib(f,"data-mce-selected",null);const g=l.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return l.setStyles(g,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:s}),l.setStyles(f,{margin:0,boxSizing:"border-box"}),g.appendChild(f),g},wne=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},KB=(e,t)=>n=>()=>{const s=e==="left"?n.scrollX:n.scrollY;n.scroll({[e]:s+t,behavior:"smooth"})},aW=KB("left",-WB),iW=KB("left",WB),lW=KB("top",-WB),cW=KB("top",WB),Cne=(e,t,n,s,l,f,g,C,A,z,j,G)=>{let X=0,ue=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>l&&(X=t.pageX+n-l),t.pageY+s>f&&(ue=t.pageY+s-f),e.style.width=n-X+"px",e.style.height=s-ue+"px";const we=A.clientHeight,de=A.clientWidth,ke=g+A.getBoundingClientRect().top,Fe=C+A.getBoundingClientRect().left;j.on(qe=>{qe.intervalId.clear(),qe.dragging&&G&&(g+ZB>=we?qe.intervalId.set(cW(z)):g-ZB<=0?qe.intervalId.set(lW(z)):C+ZB>=de?qe.intervalId.set(iW(z)):C-ZB<=0?qe.intervalId.set(aW(z)):ke+jB>=window.innerHeight?qe.intervalId.set(cW(window)):ke-jB<=0?qe.intervalId.set(lW(window)):Fe+jB>=window.innerWidth?qe.intervalId.set(iW(window)):Fe-jB<=0&&qe.intervalId.set(aW(window)))})},uW=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},_ne=(e,t)=>{const n=e.getParent(t.parentNode,e.isBlock);uW(t),n&&n!==e.getRoot()&&e.isEmpty(n)&&_c(Be.fromDom(n))},Sne=e=>e.button===0,kne=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),Ene=(e,t)=>n=>{if(Sne(n)){const s=wn(t.dom.getParents(n.target),bne).getOr(null);if(Ce(s)&&vne(t.dom,t.getBody(),s)){const l=t.dom.getPos(s),f=t.getBody(),g=t.getDoc().documentElement;e.set({element:s,dataTransfer:_9(),dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?f.scrollWidth:g.offsetWidth)-2,maxY:(t.inline?f.scrollHeight:g.offsetHeight)-2,relX:n.pageX-l.x,relY:n.pageY-l.y,width:s.offsetWidth,height:s.offsetHeight,ghost:xne(t,s,s.offsetWidth,s.offsetHeight),intervalId:bc(pne)})}}},Ane=(e,t,n)=>{e._selectionOverrides.hideFakeCaret(),nW(e.getBody(),t,n).fold(()=>e.selection.placeCaretAt(t,n),s=>{const l=e._selectionOverrides.showCaret(1,s.node,s.position===FS.Before,!1);l?e.selection.setRng(l):e.selection.placeCaretAt(t,n)})},RT=(e,t,n,s,l)=>{t==="dragstart"&&IU(s,e.dom.getOuterHTML(n));const f=hne(t,n,s,l);return e.dispatch(t,f)},Tne=(e,t)=>{const n=zg((l,f)=>Ane(t,l,f),0);t.on("remove",n.cancel);const s=e;return l=>e.on(f=>{const g=Math.max(Math.abs(l.screenX-f.screenX),Math.abs(l.screenY-f.screenY));if(!f.dragging&&g>10){const C=RT(t,"dragstart",f.element,f.dataTransfer,l);if(Ce(C.dataTransfer)&&(f.dataTransfer=C.dataTransfer),C.isDefaultPrevented())return;f.dragging=!0,t.focus()}if(f.dragging){const C=l.currentTarget===t.getDoc().documentElement,A=kne(f,dne(t,l));wne(f.ghost,t.getBody()),Cne(f.ghost,A,f.width,f.height,f.maxX,f.maxY,l.clientY,l.clientX,t.getContentAreaContainer(),t.getWin(),s,C),n.throttle(l.clientX,l.clientY)}})},One=e=>{const t=e.getSel();if(Ce(t)){const s=t.getRangeAt(0).startContainer;return Mt(s)?s.parentNode:s}else return null},Dne=(e,t)=>n=>{e.on(s=>{var l;if(s.intervalId.clear(),s.dragging){if(yne(t,One(t.selection),s.element)){const f=(l=t.getDoc().elementFromPoint(n.clientX,n.clientY))!==null&&l!==void 0?l:t.getBody();RT(t,"drop",f,s.dataTransfer,n).isDefaultPrevented()||t.undoManager.transact(()=>{_ne(t.dom,s.element),Lee(s.dataTransfer).each(C=>t.insertContent(C)),t._selectionOverrides.hideFakeCaret()})}RT(t,"dragend",t.getBody(),s.dataTransfer,n)}}),fW(e)},dW=(e,t,n)=>{e.on(s=>{s.intervalId.clear(),s.dragging&&n.fold(()=>RT(t,"dragend",s.element,s.dataTransfer),l=>RT(t,"dragend",s.element,s.dataTransfer,l))}),fW(e)},Rne=(e,t)=>n=>dW(e,t,J.some(n)),fW=e=>{e.on(t=>{t.intervalId.clear(),uW(t.ghost)}),e.clear()},Nne=e=>{const t=ha(),n=Br.DOM,s=document,l=Ene(t,e),f=Tne(t,e),g=Dne(t,e),C=Rne(t,e);e.on("mousedown",l),e.on("mousemove",f),e.on("mouseup",g),n.bind(s,"mousemove",f),n.bind(s,"mouseup",C),e.on("remove",()=>{n.unbind(s,"mousemove",f),n.unbind(s,"mouseup",C)}),e.on("keydown",A=>{A.keyCode===rn.ESC&&dW(t,e,J.none())})},Ine=e=>{const t=l=>{if(!l.isDefaultPrevented()){const f=l.dataTransfer;f&&(le(f.types,"Files")||f.files.length>0)&&(l.preventDefault(),l.type==="drop"&&vS(e,"Dropped file type is not supported"))}},n=l=>{QC(e,l.target)&&t(l)},s=()=>{const l=Br.DOM,f=e.dom,g=document,C=e.inline?e.getBody():e.getDoc(),A=["drop","dragover"];pe(A,z=>{l.bind(g,z,n),f.bind(C,z,t)}),e.on("remove",()=>{pe(A,z=>{l.unbind(g,z,n),f.unbind(C,z,t)})})};e.on("init",()=>{Oc.setEditorTimeout(e,s,0)})},Bne=e=>{Nne(e),mC(e)&&Ine(e)},Mne=e=>{const t=zg(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const n=e.selection.getRng();if(n.collapsed){const s=CS(e,n,!1);e.selection.setRng(s)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},Pne=e=>{e.on("init",()=>{e.on("focusin",t=>{const n=t.target;if(xt(n)){const s=Wu(e.getBody(),n),l=to(s)?s:n;e.selection.getNode()!==l&&Y2(e,l).each(f=>e.selection.setRng(f))}})})},NT=to,mW=(e,t)=>Wu(e.getBody(),t),Lne=e=>{const t=e.selection,n=e.dom,s=e.getBody(),l=XO(e,s,n.isBlock,()=>gv(e)),f="sel-"+n.uniqueId(),g="data-mce-selected";let C;const A=dn=>Ce(dn)&&n.hasClass(dn,"mce-offscreen-selection"),z=dn=>dn!==s&&(NT(dn)||xt(dn))&&n.isChildOf(dn,s)&&n.isEditable(dn.parentNode),j=dn=>{dn&&t.setRng(dn)},G=(dn,wt,dt,Dt=!0)=>e.dispatch("ShowCaret",{target:wt,direction:dn,before:dt}).isDefaultPrevented()?null:(Dt&&t.scrollIntoView(wt,dn===-1),l.show(dt,wt)),X=dn=>{dn.hasAttribute("data-mce-caret")&&(Ug(dn),t.scrollIntoView(dn))},ue=()=>{e.on("click",wt=>{n.isEditable(wt.target)||(wt.preventDefault(),e.focus())}),e.on("blur NewBlock",at),e.on("ResizeWindow FullscreenStateChanged",l.reposition),e.on("tap",wt=>{const dt=wt.target,Dt=mW(e,dt);NT(Dt)?(wt.preventDefault(),Y2(e,Dt).each(We)):z(dt)&&Y2(e,dt).each(We)},!0),e.on("mousedown",wt=>{const dt=wt.target;if(dt!==s&&dt.nodeName!=="HTML"&&!n.isChildOf(dt,s)||!PF(e,wt.clientX,wt.clientY))return;at(),jt();const Dt=mW(e,dt);NT(Dt)?(wt.preventDefault(),Y2(e,Dt).each(We)):nW(s,wt.clientX,wt.clientY).each(bn=>{wt.preventDefault();const Nn=G(1,bn.node,bn.position===FS.Before,!1);j(Nn),qc(Dt)?Dt.focus():e.getBody().focus()})}),e.on("keypress",wt=>{rn.modifierPressed(wt)||NT(t.getNode())&&wt.preventDefault()}),e.on("GetSelectionRange",wt=>{let dt=wt.range;if(C){if(!C.parentNode){C=null;return}dt=dt.cloneRange(),dt.selectNode(C),wt.range=dt}}),e.on("SetSelectionRange",wt=>{wt.range=ke(wt.range);const dt=We(wt.range,wt.forward);dt&&(wt.range=dt)});const dn=wt=>yn(wt)&&wt.id==="mcepastebin";e.on("AfterSetSelectionRange",wt=>{const dt=wt.range,Dt=dt.startContainer.parentElement;!de(dt)&&!dn(Dt)&&jt(),A(Dt)||at()}),Bne(e),Mne(e),Pne(e)},we=dn=>Dl(dn)||zb(dn)||xd(dn),de=dn=>we(dn.startContainer)||we(dn.endContainer),ke=dn=>{const wt=e.schema.getVoidElements(),dt=n.createRng(),Dt=dn.startContainer,bn=dn.startOffset,Nn=dn.endContainer,yo=dn.endOffset;return Yn(wt,Dt.nodeName.toLowerCase())?bn===0?dt.setStartBefore(Dt):dt.setStartAfter(Dt):dt.setStart(Dt,bn),Yn(wt,Nn.nodeName.toLowerCase())?yo===0?dt.setEndBefore(Nn):dt.setEndAfter(Nn):dt.setEnd(Nn,yo),dt},Fe=(dn,wt)=>{const dt=Be.fromDom(e.getBody()),Dt=e.getDoc(),bn=At(dt,"#"+f).getOrThunk(()=>{const Oo=Be.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Dt);return ra(Oo,"id",f),Rs(dt,Oo),Oo}),Nn=n.createRng();zr(bn),Vs(bn,[Be.fromText(ma,Dt),Be.fromDom(wt),Be.fromText(ma,Dt)]),Nn.setStart(bn.dom.firstChild,1),Nn.setEnd(bn.dom.lastChild,0),Bo(bn,{top:n.getPos(dn,e.getBody()).y+"px"}),PE(bn);const yo=t.getSel();return yo&&(yo.removeAllRanges(),yo.addRange(Nn)),Nn},qe=dn=>{const wt=dn.cloneNode(!0),dt=e.dispatch("ObjectSelected",{target:dn,targetClone:wt});if(dt.isDefaultPrevented())return null;const Dt=Fe(dn,dt.targetClone),bn=Be.fromDom(dn);return pe(ea(Be.fromDom(e.getBody()),`*[${g}]`),Nn=>{Lo(bn,Nn)||bo(Nn,g)}),n.getAttrib(dn,g)||dn.setAttribute(g,"1"),C=dn,jt(),Dt},We=(dn,wt)=>{if(!dn)return null;if(dn.collapsed){if(!de(dn)){const Nn=wt?1:-1,yo=Ix(Nn,s,dn),Oo=yo.getNode(!wt);if(Ce(Oo)){if(Ox(Oo))return G(Nn,Oo,wt?!yo.isAtEnd():!1,!1);if(km(Oo)&&to(Oo.nextSibling)){const Dr=n.createRng();return Dr.setStart(Oo,0),Dr.setEnd(Oo,0),Dr}}const hr=yo.getNode(wt);if(Ce(hr)){if(Ox(hr))return G(Nn,hr,wt?!1:!yo.isAtEnd(),!1);if(km(hr)&&to(hr.previousSibling)){const Dr=n.createRng();return Dr.setStart(hr,1),Dr.setEnd(hr,1),Dr}}}return null}let dt=dn.startContainer,Dt=dn.startOffset;const bn=dn.endOffset;if(Mt(dt)&&Dt===0&&NT(dt.parentNode)&&(dt=dt.parentNode,Dt=n.nodeIndex(dt),dt=dt.parentNode),!yn(dt))return null;if(bn===Dt+1&&dt===dn.endContainer){const Nn=dt.childNodes[Dt];if(z(Nn))return qe(Nn)}return null},at=()=>{C&&C.removeAttribute(g),At(Be.fromDom(e.getBody()),"#"+f).each(gr),C=null},Nt=()=>{l.destroy(),C=null},jt=()=>{l.hide()};return qm(e)||ue(),{showCaret:G,showBlockCaretContainer:X,hideFakeCaret:jt,destroy:Nt}},Fne=(e,t)=>{let n=t;for(let s=e.previousSibling;Mt(s);s=s.previousSibling)n+=s.data.length;return n},gW=(e,t,n,s,l)=>{if(Mt(n)&&(s<0||s>n.data.length))return[];const f=l&&Mt(n)?[Fne(n,s)]:[s];let g=n;for(;g!==t&&g.parentNode;)f.push(e.nodeIndex(g,l)),g=g.parentNode;return g===t?f.reverse():[]},R9=(e,t,n,s,l,f,g=!1)=>{const C=gW(e,t,n,s,g),A=gW(e,t,l,f,g);return{start:C,end:A}},hW=(e,t)=>{const n=t.slice(),s=n.pop();return D(s)?It(n,(f,g)=>f.bind(C=>J.from(C.childNodes[g])),J.some(e)).bind(f=>Mt(f)&&(s<0||s>f.data.length)?J.none():J.some({node:f,offset:s})):J.none()},pW=(e,t)=>hW(e,t.start).bind(({node:n,offset:s})=>hW(e,t.end).map(({node:l,offset:f})=>{const g=document.createRange();return g.setStart(n,s),g.setEnd(l,f),g})),zne=(e,t,n,s=!1)=>R9(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,s),zS=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const s=t.parentNode;e.remove(t,Mt(t.firstChild)&&$l(t.firstChild.data)),zS(e,s,n)}},qB=(e,t,n,s=!0)=>{const l=t.startContainer.parentNode,f=t.endContainer.parentNode;t.deleteContents(),s&&!n(t.startContainer)&&(Mt(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),Mt(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),zS(e,l,n),l!==f&&zS(e,f,n))},GB=(e,t)=>J.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),N9=(e,t,n)=>{const s=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:di(s).concat(e.blockPatterns),inlinePatterns:Mu(s).concat(e.inlinePatterns)}},I9=(e,t,n,s)=>{const l=e.createRng();return l.setStart(t,0),l.setEnd(n,s),l.toString()},bW=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),YB=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},vW=(e,t,n)=>{const s=pW(e.getRoot(),n).getOrDie("Unable to resolve path range"),l=s.startContainer,f=s.endContainer,g=s.endOffset===0?f:f.splitText(s.endOffset),C=s.startOffset===0?l:l.splitText(s.startOffset),A=C.parentNode,z=g.parentNode;return{prefix:t,end:z.insertBefore(bW(e,t+"-end"),g),start:A.insertBefore(bW(e,t+"-start"),C)}},yW=(e,t,n)=>{zS(e,e.get(t.prefix+"-end"),n),zS(e,e.get(t.prefix+"-start"),n)},B9=e=>e.start.length===0,Hne=e=>(t,n)=>{const l=t.data.substring(0,n),f=l.lastIndexOf(e.charAt(e.length-1)),g=l.lastIndexOf(e);return g!==-1?g+e.length:f!==-1?f+1:-1},xW=(e,t,n,s)=>{const l=t.start;return n9(e,s.container,s.offset,Hne(l),n).bind(g=>{var C,A;const z=(A=(C=n.textContent)===null||C===void 0?void 0:C.indexOf(l))!==null&&A!==void 0?A:-1;if(z!==-1&&g.offset>=z+l.length){const G=e.createRng();return G.setStart(g.container,g.offset-l.length),G.setEnd(g.container,g.offset),J.some(G)}else{const G=g.offset-l.length;return t9(g.container,G,n).map(X=>{const ue=e.createRng();return ue.setStart(X.container,X.offset),ue.setEnd(g.container,g.offset),ue}).filter(X=>X.toString()===l).orThunk(()=>xW(e,t,n,hh(g.container,0)))}})},Vne=(e,t,n,s,l,f=!1)=>{if(t.start.length===0&&!f){const g=e.createRng();return g.setStart(n,s),g.setEnd(n,s),J.some(g)}return e9(n,s,l).bind(g=>xW(e,t,l,g).bind(A=>{var z;if(f){if(A.endContainer===g.container&&A.endOffset===g.offset)return J.none();if(g.offset===0&&((z=A.endContainer.textContent)===null||z===void 0?void 0:z.length)===A.endOffset)return J.none()}return J.some(A)}))},$ne=(e,t,n,s)=>{const l=e.dom,f=l.getRoot(),g=n.pattern,C=n.position.container,A=n.position.offset;return t9(C,A-n.pattern.end.length,t).bind(z=>{const j=R9(l,f,z.container,z.offset,C,A,s);if(B9(g))return J.some({matches:[{pattern:g,startRng:j,endRng:j}],position:z});{const G=XB(e,n.remainingPatterns,z.container,z.offset,t,s),X=G.getOr({matches:[],position:z}),ue=X.position;return Vne(l,g,ue.container,ue.offset,t,G.isNone()).map(de=>{const ke=zne(l,f,de,s);return{matches:X.matches.concat([{pattern:g,startRng:ke,endRng:j}]),position:hh(de.startContainer,de.startOffset)}})}})},XB=(e,t,n,s,l,f)=>{const g=e.dom;return e9(n,s,g.getRoot()).bind(C=>{const A=I9(g,l,n,s);for(let z=0;z<t.length;z++){const j=t[z];if(!Se(A,j.end))continue;const G=t.slice();G.splice(z,1);const X=$ne(e,l,{pattern:j,remainingPatterns:G,position:C},f);if(X.isNone()&&s>0)return XB(e,t,n,s-1,l,f);if(X.isSome())return X}return J.none()})},wW=(e,t,n)=>{e.selection.setRng(n),t.type==="inline-format"?pe(t.format,s=>{e.formatter.apply(s)}):e.execCommand(t.cmd,!1,t.value)},Une=(e,t,n,s)=>{const l=YB(e.dom,n);qB(e.dom,l,s),wW(e,t,l)},Wne=(e,t,n,s,l)=>{const f=e.dom,g=YB(f,s),C=YB(f,n);qB(f,C,l),qB(f,g,l);const A={prefix:n.prefix,start:n.end,end:s.start},z=YB(f,A);wW(e,t,z)},Zne=(e,t)=>{const n=Ei("mce_textpattern"),s=zt(t,(l,f)=>{const g=vW(e,n+`_end${l.length}`,f.endRng);return l.concat([{...f,endMarker:g}])},[]);return zt(s,(l,f)=>{const g=s.length-l.length-1,C=B9(f.pattern)?f.endMarker:vW(e,n+`_start${g}`,f.startRng);return l.concat([{...f,startMarker:C}])},[])},jne=e=>fr(e,(t,n)=>n.end.length-t.end.length),Kne=(e,t)=>{const n=vo(e,s=>xe(t,l=>s.pattern.start===l.pattern.start&&s.pattern.end===l.pattern.end));return e.length===t.length?n?e:t:e.length>t.length?e:t},CW=(e,t,n,s,l,f)=>{const g=XB(e,l.inlinePatterns,n,s,t,f).fold(()=>[],A=>A.matches),C=XB(e,jne(l.inlinePatterns),n,s,t,f).fold(()=>[],A=>A.matches);return Kne(g,C)},_W=(e,t)=>{if(t.length===0)return;const n=e.dom,s=e.selection.getBookmark(),l=Zne(n,t);pe(l,f=>{const g=n.getParent(f.startMarker.start,n.isBlock),C=A=>A===g;B9(f.pattern)?Une(e,f.pattern,f.endMarker,C):Wne(e,f.pattern,f.startMarker,f.endMarker,C),yW(n,f.endMarker,C),yW(n,f.startMarker,C)}),e.selection.moveToBookmark(s)},SW=(e,t,n)=>PX(t,0,t).map(s=>{const l=s.container;return E$(l,n.start.length,t).each(f=>{const g=e.createRng();g.setStart(l,0),g.setEnd(f.container,f.offset),qB(e,g,C=>C===t)}),l}),kW=e=>(t,n)=>{const s=t.dom,l=n.pattern,f=pW(s.getRoot(),n.range).getOrDie("Unable to resolve path range"),g=(C,A)=>{const z=A.get(C);return ne(z)&&un(z).exists(j=>Yn(j,"block"))};return GB(t,f).each(C=>{l.type==="block-format"?g(l.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,C,l),t.formatter.apply(l.format)}):l.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,C,l),t.execCommand(l.cmd,!1,l.value)})}),!0},qne=e=>fr(e,(t,n)=>n.start.length-t.start.length),EW=e=>(t,n)=>{const s=qne(t),l=n.replace(ma," ");return wn(s,f=>e(f,n,l))},AW=(e,t)=>(n,s,l,f,g)=>{var C;g===void 0&&(g=(C=s.textContent)!==null&&C!==void 0?C:"");const A=n.dom,z=Zi(n);return A.is(s,z)?e(l.blockPatterns,g).map(j=>t&&Kt.trim(g).length===j.start.length?[]:[{pattern:j,range:R9(A,A.getRoot(),s,0,s,0,f)}]).getOr([]):[]},Gne=e=>/^\s[^\s]/.test(e),Yne=kW((e,t,n)=>{SW(e,t,n).each(s=>{const l=Be.fromDom(s),f=_m(l);Gne(f)&&Nb(l,f.slice(1))})}),Xne=EW((e,t,n)=>t.indexOf(e.start)===0||n.indexOf(e.start)===0),Jne=AW(Xne,!0),Qne=(e,t)=>{const n=e.selection.getRng();return GB(e,n).map(s=>{var l;const f=Math.max(0,n.startOffset),g=N9(t,s,(l=s.textContent)!==null&&l!==void 0?l:""),C=CW(e,s,n.startContainer,f,g,!0),A=Jne(e,s,g,!0);return{inlineMatches:C,blockMatches:A}}).filter(({inlineMatches:s,blockMatches:l})=>l.length>0||s.length>0)},eoe=(e,t)=>{if(t.length===0)return;const n=e.selection.getBookmark();pe(t,s=>Yne(e,s)),e.selection.moveToBookmark(n)},toe=kW(SW),noe=EW((e,t,n)=>t===e.start||n===e.start),ooe=AW(noe,!1),roe=(e,t)=>{const n=e.selection.getRng();return GB(e,n).map(s=>{const l=Math.max(0,n.startOffset),f=I9(e.dom,s,n.startContainer,l),g=N9(t,s,f);return ooe(e,s,g,!1,f)}).filter(s=>s.length>0)},soe=(e,t)=>{pe(t,n=>toe(e,n))},aoe=(e,t)=>Qne(e,t).fold(xn,({inlineMatches:n,blockMatches:s})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{Ek(e),_W(e,n),eoe(e,s);const l=e.selection.getRng(),f=e9(l.startContainer,l.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),f.each(g=>{const C=g.container;C.data.charAt(g.offset-1)===hs&&(C.deleteData(g.offset-1,1),zS(e.dom,C.parentNode,A=>A===e.dom.getRoot()))})}),!0)),ioe=(e,t)=>{const n=e.selection.getRng();GB(e,n).map(s=>{const l=Math.max(0,n.startOffset-1),f=I9(e.dom,s,n.startContainer,l),g=N9(t,s,f),C=CW(e,s,n.startContainer,l,g,!1);C.length>0&&e.undoManager.transact(()=>{_W(e,C)})})},loe=(e,t)=>roe(e,t).fold(xn,n=>(e.undoManager.transact(()=>{soe(e,n)}),!0)),TW=(e,t,n)=>{for(let s=0;s<e.length;s++)if(n(e[s],t))return!0;return!1},coe=(e,t)=>TW(e,t,(n,s)=>n===s.keyCode&&!rn.modifierPressed(s)),uoe=(e,t)=>TW(e,t,(n,s)=>n.charCodeAt(0)===s.charCode),doe=e=>{const t=[",",".",";",":","!","?"],n=[32],s=()=>qh(oP(e).filter(g=>g.type==="inline-command"||g.type==="block-command"?e.queryCommandSupported(g.cmd):!0),Ex(e)),l=()=>Wk(e);e.on("keydown",g=>{if(g.keyCode===13&&!rn.modifierPressed(g)&&e.selection.isCollapsed()){const C=Cf(s(),"enter");(C.inlinePatterns.length>0||C.blockPatterns.length>0||l())&&aoe(e,C)&&g.preventDefault()}},!0),e.on("keydown",g=>{if(g.keyCode===32&&e.selection.isCollapsed()){const C=Cf(s(),"space");(C.blockPatterns.length>0||l())&&loe(e,C)&&g.preventDefault()}},!0);const f=()=>{if(e.selection.isCollapsed()){const g=Cf(s(),"space");(g.inlinePatterns.length>0||l())&&ioe(e,g)}};e.on("keyup",g=>{coe(n,g)&&f()}),e.on("keypress",g=>{uoe(t,g)&&Oc.setEditorTimeout(e,f)})},foe=e=>{doe(e)},moe=e=>{const t=Kt.each,n=rn.BACKSPACE,s=rn.DELETE,l=e.dom,f=e.selection,g=e.parser,C=_o.browser,A=C.isFirefox(),z=C.isChromium()||C.isSafari(),j=_o.deviceType.isiPhone()||_o.deviceType.isiPad(),G=_o.os.isMacOS()||_o.os.isiOS(),X=(tn,Hn)=>{try{e.getDoc().execCommand(tn,!1,String(Hn))}catch{}},ue=tn=>tn.isDefaultPrevented(),we=()=>{const tn=Eo=>{const an=l.create("body"),xo=Eo.cloneContents();return an.appendChild(xo),f.serializer.serialize(an,{format:"html"})},Hn=Eo=>{const an=tn(Eo),xo=l.createRng();xo.selectNode(e.getBody());const Ro=tn(xo);return an===Ro};e.on("keydown",Eo=>{const an=Eo.keyCode;if(!ue(Eo)&&(an===s||an===n)&&e.selection.isEditable()){const xo=e.selection.isCollapsed(),Ro=e.getBody();if(xo&&!Ul(e.schema,Ro)||!xo&&!Hn(e.selection.getRng()))return;Eo.preventDefault(),e.setContent(""),Ro.firstChild&&l.isBlock(Ro.firstChild)?e.selection.setCursorLocation(Ro.firstChild,0):e.selection.setCursorLocation(Ro,0),e.nodeChanged()}})},de=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},ke=()=>{e.inline||l.bind(e.getDoc(),"mousedown mouseup",tn=>{let Hn;if(tn.target===e.getDoc().documentElement)if(Hn=f.getRng(),e.getBody().focus(),tn.type==="mousedown"){if(Dl(Hn.startContainer))return;f.placeCaretAt(tn.clientX,tn.clientY)}else f.setRng(Hn)})},Fe=()=>{e.on("keydown",tn=>{if(!ue(tn)&&tn.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&f.getRng().startOffset===0){const Hn=f.getNode(),Eo=Hn.previousSibling;if(Hn.nodeName==="HR"){l.remove(Hn),tn.preventDefault();return}Eo&&Eo.nodeName&&Eo.nodeName.toLowerCase()==="hr"&&(l.remove(Eo),tn.preventDefault())}}})},qe=()=>{Range.prototype.getClientRects||e.on("mousedown",tn=>{if(!ue(tn)&&tn.target.nodeName==="HTML"){const Hn=e.getBody();Hn.blur(),Oc.setEditorTimeout(e,()=>{Hn.focus()})}})},We=()=>{const tn=nv(e);e.on("click",Hn=>{const Eo=Hn.target;/^(IMG|HR)$/.test(Eo.nodeName)&&l.isEditable(Eo)&&(Hn.preventDefault(),e.selection.select(Eo),e.nodeChanged()),Eo.nodeName==="A"&&l.hasClass(Eo,tn)&&Eo.childNodes.length===0&&l.isEditable(Eo.parentNode)&&(Hn.preventDefault(),f.select(Eo))})},at=()=>{const tn=()=>{const Eo=l.getAttribs(f.getStart().cloneNode(!1));return()=>{const an=f.getStart();an!==e.getBody()&&(l.setAttrib(an,"style",null),t(Eo,xo=>{an.setAttributeNode(xo.cloneNode(!0))}))}},Hn=()=>!f.isCollapsed()&&l.getParent(f.getStart(),l.isBlock)!==l.getParent(f.getEnd(),l.isBlock);e.on("keypress",Eo=>{let an;return!ue(Eo)&&(Eo.keyCode===8||Eo.keyCode===46)&&Hn()?(an=tn(),e.getDoc().execCommand("delete",!1),an(),Eo.preventDefault(),!1):!0}),l.bind(e.getDoc(),"cut",Eo=>{if(!ue(Eo)&&Hn()){const an=tn();Oc.setEditorTimeout(e,()=>{an()})}})},Nt=()=>{e.on("keydown",tn=>{if(!ue(tn)&&tn.keyCode===n&&f.isCollapsed()&&f.getRng().startOffset===0){const Hn=f.getNode().previousSibling;if(Hn&&Hn.nodeName&&Hn.nodeName.toLowerCase()==="table")return tn.preventDefault(),!1}return!0})},jt=()=>{e.on("keydown",tn=>{if(ue(tn)||tn.keyCode!==rn.BACKSPACE)return;let Hn=f.getRng();const Eo=Hn.startContainer,an=Hn.startOffset,xo=l.getRoot();let Ro=Eo;if(!(!Hn.collapsed||an!==0)){for(;Ro.parentNode&&Ro.parentNode.firstChild===Ro&&Ro.parentNode!==xo;)Ro=Ro.parentNode;Ro.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Ro),Hn=l.createRng(),Hn.setStart(Eo,0),Hn.setEnd(Eo,0),f.setRng(Hn))}})},dn=()=>{const tn=()=>{X("StyleWithCSS",!1),X("enableInlineTableEditing",!1),kO(e)||X("enableObjectResizing",!1)};IO(e)||e.on("BeforeExecCommand mousedown",tn)},wt=()=>{const tn=()=>{t(l.select("a:not([data-mce-block])"),Hn=>{var Eo;let an=Hn.parentNode;const xo=l.getRoot();if((an==null?void 0:an.lastChild)===Hn){for(;an&&!l.isBlock(an);){if(((Eo=an.parentNode)===null||Eo===void 0?void 0:Eo.lastChild)!==an||an===xo)return;an=an.parentNode}l.add(an,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Hn=>{(Hn.type==="setcontent"||Hn.command==="mceInsertLink")&&tn()})},dt=()=>{e.on("init",()=>{X("DefaultParagraphSeparator",Zi(e))})},Dt=tn=>{const Hn=tn.getBody(),Eo=tn.selection.getRng();return Eo.startContainer===Eo.endContainer&&Eo.startContainer===Hn&&Eo.startOffset===0&&Eo.endOffset===Hn.childNodes.length},bn=()=>{e.on("keyup focusin mouseup",tn=>{!rn.modifierPressed(tn)&&!Dt(e)&&f.normalize()},!0)},Nn=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},yo=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},Oo=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",tn=>{let Hn;tn.target.nodeName==="HTML"&&(Hn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Hn),e.selection.normalize(),e.nodeChanged())}))},hr=()=>{G&&e.on("keydown",tn=>{rn.metaKeyPressed(tn)&&!tn.shiftKey&&(tn.keyCode===37||tn.keyCode===39)&&(tn.preventDefault(),e.selection.getSel().modify("move",tn.keyCode===37?"backward":"forward","lineboundary"))})},Dr=()=>{e.on("click",tn=>{let Hn=tn.target;do if(Hn.tagName==="A"){tn.preventDefault();return}while(Hn=Hn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Ys=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",tn=>{tn.preventDefault()})})},ml=()=>{g.addNodeFilter("br",tn=>{let Hn=tn.length;for(;Hn--;)tn[Hn].attr("class")==="Apple-interchange-newline"&&tn[Hn].remove()})},Pr=Pt,Xt=()=>{if(!A||e.removed)return!1;const tn=e.selection.getSel();return!tn||!tn.rangeCount||tn.rangeCount===0},Tn=()=>{z&&(ke(),We(),Ys(),de(),j&&(yo(),Oo(),Dr())),A&&(qe(),dn(),Nn(),hr())},er=()=>{jt(),we(),_o.windowsPhone||bn(),z&&(ke(),We(),dt(),Ys(),Nt(),ml(),j?(yo(),Oo(),Dr()):de()),A&&(Fe(),qe(),at(),dn(),wt(),Nn(),hr(),Nt())};return qm(e)?Tn():er(),{refreshContentEditable:Pr,isHidden:Xt}},goe=e=>e.toLowerCase()==="gpl",hoe=e=>e.length>=64&&e.length<=255,poe=e=>goe(e)||hoe(e)?"VALID":"INVALID",boe=e=>{const t=ZO(e);!Te(jO(e))&&(Ze(t)||poe(t)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},M9=Br.DOM,voe=(e,t)=>{const n=Be.fromDom(e.getBody()),s=am(Wc(n)),l=Be.fromTag("style");ra(l,"type","text/css"),Rs(l,Be.fromText(t)),Rs(s,l),e.on("remove",()=>{gr(l)})},yoe=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,P9=e=>ic(e,t=>Ze(t)===!1),OW=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return P9({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:yoe(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:pC(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},DW=e=>{const t=e.options.get;return P9({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},xoe=e=>{const t=e.options.get;return{...OW(e),...DW(e),...P9({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},woe=e=>{const t=Rv(OW(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(n,s)=>{const l=e.dom,f="data-mce-"+s;let g=n.length;for(;g--;){const C=n[g];let A=C.attr(s);if(A&&!C.attr(f)){if(A.indexOf("data:")===0||A.indexOf("blob:")===0)continue;s==="style"?(A=l.serializeStyle(l.parseStyle(A),C.name),A.length||(A=null),C.attr(f,A),C.attr(s,A)):s==="tabindex"?(C.attr(f,A),C.attr(s,null)):C.attr(f,e.convertURL(A,s,C.name))}}}),t.addNodeFilter("script",n=>{let s=n.length;for(;s--;){const l=n[s],f=l.attr("type")||"no/type";f.indexOf("mce-")!==0&&l.attr("type","mce-"+f)}}),sP(e)&&t.addNodeFilter("#cdata",n=>{var s;let l=n.length;for(;l--;){const f=n[l];f.type=8,f.name="#comment",f.value="[CDATA["+e.dom.encode((s=f.value)!==null&&s!==void 0?s:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",n=>{let s=n.length;const l=e.schema.getNonEmptyElements();for(;s--;){const f=n[s];f.isEmpty(l)&&f.getAll("br").length===0&&f.append(new fi("br",1))}}),t},Coe=e=>{const t=JM(e);t&&Oc.setEditorTimeout(e,()=>{let n;t===!0?n=e:n=e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())},100)},_oe=e=>{const t=e.dom.getRoot();!e.inline&&(!iv(e)||e.selection.getStart(!0)===t)&&Un(t).each(n=>{const s=n.getNode(),l=Gc(s)?Un(s).getOr(n):n;e.selection.setRng(l.toRange())})},Soe=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Ws(e),e.focus(!0),_oe(e),e.nodeChanged({initial:!0});const t=YM(e);Ne(t)&&t.call(e,e),Coe(e)},L9=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,koe=(e,t,n)=>{const{pass:s,fail:l}=$t(t,C=>tinymce.Resource.has(N4(C))),g=[...s.map(C=>{const A=tinymce.Resource.get(N4(C));return Te(A)?Promise.resolve(L9(e).loadRawCss(C,A)):Promise.resolve()}),L9(e).loadAll(l)];return e.inline?g:g.concat([e.ui.styleSheetLoader.loadAll(n)])},RW=e=>{const t=L9(e),n=SO(e),s=e.contentCSS,l=()=>{t.unloadAll(s),e.inline||e.ui.styleSheetLoader.unloadAll(n)},f=()=>{e.removed?l():e.on("remove",l)};if(e.contentStyles.length>0){let A="";Kt.each(e.contentStyles,z=>{A+=z+`\r
`}),e.dom.addStyle(A)}const g=Promise.all(koe(e,s,n)).then(f).catch(f),C=Q1(e);return C&&voe(e,C),g},Eoe=e=>{const t=e.getDoc(),n=e.getBody();AP(e),QM(e)||(t.body.spellcheck=!1,M9.setAttrib(n,"spellcheck","false")),e.quirks=moe(e),TP(e);const s=UM(e);s!==void 0&&(n.dir=s);const l=Zo(e);l&&e.on("BeforeSetContent",f=>{Kt.each(l,g=>{f.content=f.content.replace(g,C=>"<!--mce:protected "+escape(C)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",f=>{e.composing=f.type==="compositionstart"})},Aoe=e=>{qm(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},F9=e=>{e.removed!==!0&&(Aoe(e),Soe(e))},Toe=e=>{let t=!1;const n=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(n),t=!0,e.setProgressState(!1)}},NW=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(M9.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const s=e.getBody();s.disabled=!0,e.readonly=IO(e),e._editableRoot=ar(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&M9.getStyle(s,"position",!0)==="static"&&(s.style.position="relative"),s.contentEditable="true"),s.disabled=!1,e.editorUpload=B4(e),e.schema=xc(DW(e)),e.dom=Br(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:CO(e),referrerPolicy:Cx(e),onSetAttrib:g=>{e.dispatch("SetAttrib",g)}}),e.parser=woe(e),e.serializer=C6(xoe(e),e),e.selection=y4(e.dom,e.getWin(),e.serializer,e),e.annotator=L5(e),e.formatter=G2(e),e.undoManager=tI(e),e._nodeChangeDispatcher=new Cee(e),e._selectionOverrides=Lne(e),mo(e),$te(e),aw(e),qm(e)||(Gte(e),foe(e));const l=wee(e);In(e,l),ya(e),iI(e),zte(e);const f=r6(e);Eoe(e),boe(e),f.fold(()=>{const g=Toe(e);RW(e).then(()=>{F9(e),g()})},g=>{e.setProgressState(!0),RW(e).then(()=>{g().then(C=>{e.setProgressState(!1),F9(e),d6(e)},C=>{e.notificationManager.open({type:"error",text:String(C)}),F9(e),d6(e)})})})},Ooe=Rn,Doe=(e,t,n)=>I(e,t,Ooe,n),z9=Br.DOM,Roe=(e,t,n,s)=>{const l=Be.fromTag("iframe");return s.each(f=>ra(l,"tabindex",f)),xi(l,n),xi(l,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),ad(l,"tox-edit-area__iframe"),l},Noe=e=>{let t=wd(e)+"<html><head>";ou(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=fC(e),s=Rk(e),l=e.translate(Sx(e));return pO(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+pO(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${s}" data-id="${e.id}" aria-label="${l}"><br></body></html>`,t},Ioe=(e,t)=>{const n=_o.browser.isFirefox()?Sx(e):"Rich Text Area",s=e.translate(n),l=Hc(Be.fromDom(e.getElement()),"tabindex").bind(nn),f=Roe(e.id,s,cl(e),l).dom;f.onload=()=>{f.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=f,e.iframeHTML=Noe(e),z9.add(t.iframeContainer,f)},Boe=e=>{const t=e.iframeElement,n=()=>{e.contentDocument=t.contentDocument,NW(e)};if(HO(e)||_o.browser.isFirefox()){const s=e.getDoc();s.open(),s.write(e.iframeHTML),s.close(),n()}else{const s=Doe(Be.fromDom(t),"load",()=>{s.unbind(),n()});t.srcdoc=e.iframeHTML}},Moe=(e,t)=>{Ioe(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=z9.isHidden(t.editorContainer)),e.getElement().style.display="none",z9.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,Boe(e)},IW=Br.DOM,Poe=(e,t,n)=>{const s=D0.get(n),l=D0.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=Kt.trim(n),s&&Kt.inArray(t,n)===-1){if(e.plugins[n])return;try{const f=s(e,l)||{};e.plugins[n]=f,Ne(f.init)&&(f.init(e,l),t.push(n))}catch(f){HF(e,n,f)}}},Loe=e=>e.replace(/^\-/,""),Foe=e=>{const t=[];pe(Cd(e),n=>{Poe(e,t,Loe(n))})},zoe=e=>{const t=Kt.trim(Pk(e)),n=e.ui.registry.getAll().icons,s={...W2.get("default").icons,...W2.get(t).icons};Uo(s,(l,f)=>{Yn(n,f)||e.ui.registry.addIcon(f,l)})},Hoe=e=>{const t=ev(e);if(Te(t)){const n=kp.get(t);e.theme=n(e,kp.urls[t])||{},Ne(e.theme.init)&&e.theme.init(e,kp.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},Voe=e=>{const t=_x(e),n=Sp.get(t);e.model=n(e,Sp.urls[t])},$oe=e=>{const t=e.theme.renderUI;return t?t():MW(e)},Uoe=e=>{const t=e.getElement(),s=ev(e)(e,t);return s.editorContainer.nodeType&&(s.editorContainer.id=s.editorContainer.id||e.id+"_parent"),s.iframeContainer&&s.iframeContainer.nodeType&&(s.iframeContainer.id=s.iframeContainer.id||e.id+"_iframecontainer"),s.height=s.iframeHeight?s.iframeHeight:t.offsetHeight,s},BW=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),Woe=e=>{const t=IW.create("div");return IW.insertAfter(t,e),BW(t,t)},MW=e=>{const t=e.getElement();return e.inline?BW(null):Woe(t)},Zoe=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,Te(ev(e))?$oe(e):Ne(ev(e))?Uoe(e):MW(e)},joe=(e,t)=>{const n={show:J.from(t.show).getOr(Pt),hide:J.from(t.hide).getOr(Pt),isEnabled:J.from(t.isEnabled).getOr(Rn),setEnabled:s=>{e.mode.isReadOnly()||J.from(t.setEnabled).each(l=>l(s))}};e.ui={...e.ui,...n}},Koe=async e=>{e.dispatch("ScriptsLoaded"),zoe(e),Hoe(e),Voe(e),Foe(e);const t=await Zoe(e);joe(e,J.from(t.api).getOr({})),e.editorContainer=t.editorContainer,$6(e),e.inline?NW(e):Moe(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},dw=Br.DOM,PW=e=>e.charAt(0)==="-",qoe=(e,t)=>{const n=zk(t),s=$M(t);if(!wc.hasCode(n)&&n!=="en"){const l=je(s)?s:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(l).catch(()=>{FF(t,l,n)})}},Goe=(e,t)=>{const n=ev(e);if(Te(n)&&!PW(n)&&!Yn(kp.urls,n)){const s=ZM(e),l=s?e.documentBaseURI.toAbsolute(s):`themes/${n}/theme${t}.js`;kp.load(n,l).catch(()=>{H6(e,l,n)})}},Yoe=(e,t)=>{const n=_x(e);if(n!=="plugin"&&!Yn(Sp.urls,n)){const s=Vk(e),l=Te(s)?e.documentBaseURI.toAbsolute(s):`models/${n}/model${t}.js`;Sp.load(n,l).catch(()=>{zF(e,l,n)})}},Xoe=e=>J.from(xO(e)).filter(je).map(t=>({url:t,name:J.none()})),LW=(e,t,n)=>J.from(t).filter(s=>je(s)&&!W2.has(s)).map(s=>({url:`${e.editorManager.baseURL}/icons/${s}/icons${n}.js`,name:J.some(s)})),Joe=(e,t,n)=>{const s=LW(t,"default",n),l=Xoe(t).orThunk(()=>LW(t,Pk(t),""));pe(i1([s,l]),f=>{e.add(f.url).catch(()=>{D4(t,f.url,f.name.getOrUndefined())})})},Qoe=(e,t)=>{const n=(s,l)=>{D0.load(s,l).catch(()=>{O4(e,l,s)})};Uo(Dm(e),(s,l)=>{n(l,s),e.options.set("plugins",Cd(e).concat(l))}),pe(Cd(e),s=>{s=Kt.trim(s),s&&!D0.urls[s]&&!PW(s)&&n(s,`plugins/${s}/plugin${t}.js`)})},ere=e=>{const t=ev(e);return!Te(t)||Ce(kp.get(t))},tre=e=>{const t=_x(e);return Ce(Sp.get(t))},nre=(e,t)=>{const n=al.ScriptLoader,s=()=>{!e.removed&&ere(e)&&tre(e)&&Koe(e)};Goe(e,t),Yoe(e,t),qoe(n,e),Joe(n,e,t),Qoe(e,t),n.loadQueue().then(s,s)},ore=(e,t)=>y1.forElement(e,{contentCssCors:BO(t),referrerPolicy:Cx(t)}),rre=e=>{const t=e.id;wc.setCode(zk(e));const n=()=>{dw.unbind(window,"ready",n),e.render()};if(!uf.Event.domLoaded){dw.bind(window,"ready",n);return}if(!e.getElement())return;const s=Be.fromDom(e.getElement()),l=ol(s);e.on("remove",()=>{St(s.dom.attributes,g=>bo(s,g.name)),xi(s,l)}),e.ui.styleSheetLoader=ore(s,e),Yb(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const f=e.getElement().form||dw.getParent(t,"form");f&&(e.formElement=f,$k(e)&&!Rh(e.getElement())&&(dw.insertAfter(dw.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=g=>{e.dispatch(g.type,g)},dw.bind(f,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),OO(e)&&!f.submit.nodeType&&!f.submit.length&&!f._mceOldSubmit&&(f._mceOldSubmit=f.submit,f.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),f._mceOldSubmit(f)))),e.windowManager=F6(e),e.notificationManager=T4(e),VO(e)&&e.on("GetContent",g=>{g.save&&(g.content=dw.encode(g.content))}),DO(e)&&e.on("submit",()=>{e.initialized&&e.save()}),RO(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),nre(e,e.suffix)},sre=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),RP(e,t))},are=e=>e._editableRoot,ire=(e,t)=>({sections:Qe(e),options:Qe(t)}),FW=Ha().deviceType,zW=FW.isPhone(),lre=FW.isTablet(),IT=e=>{if(ot(e))return[];{const t=ne(e)?e:e.split(/[ ,]/),n=Me(t,Re);return Ct(n,je)}},cre=(e,t)=>{const n=hu(t,(s,l)=>le(e,l));return ire(n.t,n.f)},ure=(e,t,n={})=>{const s=e.sections(),l=mr(s,t).getOr({});return Kt.extend({},n,l)},H9=(e,t)=>Yn(e.sections(),t),dre=(e,t)=>H9(e,t)?e.sections()[t]:{},fre=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:mr(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),mre=(e,t)=>{var n;const s=(n=t.external_plugins)!==null&&n!==void 0?n:{};return e&&e.external_plugins?Kt.extend({},e.external_plugins,s):s},gre=(e,t)=>[...IT(e),...IT(t)],hre=(e,t,n,s)=>e&&H9(t,"mobile")?s:n,pre=(e,t,n,s)=>{const l=IT(n.forced_plugins),f=IT(s.plugins),g=dre(t,"mobile"),C=g.plugins?IT(g.plugins):f,A=hre(e,t,f,C),z=gre(l,A);return Kt.extend(s,{forced_plugins:l,plugins:z})},bre=(e,t)=>e&&H9(t,"mobile"),vre=(e,t,n,s,l)=>{var f;const g=e?{mobile:fre((f=l.mobile)!==null&&f!==void 0?f:{},t)}:{},C=cre(["mobile"],OB(g,l)),A=Kt.extend(n,s,C.options(),bre(e,C)?ure(C,"mobile"):{},{external_plugins:mre(s,C.options())});return pre(e,C,s,A)},yre=(e,t)=>{const n=B$(t);return vre(zW||lre,zW,n,e,n)},xre=(e,t)=>u6(e,t),wre=e=>{const t=(s,l)=>{e.formatter.toggle(s,l),e.nodeChanged()},n=s=>()=>{pe("left,center,right,justify".split(","),l=>{s!==l&&e.formatter.remove("align"+l)}),s!=="none"&&t("align"+s)};e.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})},Cre=e=>{const t=n=>()=>{const s=e.selection,l=s.isCollapsed()?[e.dom.getParent(s.getNode(),e.dom.isBlock)]:s.getSelectedBlocks();return xe(l,f=>Ce(e.formatter.matchNode(f,n)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},_re=e=>{wre(e),Cre(e)},Sre=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let s;try{n.execCommand(t)}catch{s=!0}if(t==="paste"&&!n.queryCommandEnabled(t)&&(s=!0),s||!n.queryCommandSupported(t)){let l=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(_o.os.isMacOS()||_o.os.isiOS())&&(l=l.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:l,type:"error"})}}})},kre=(e,t,n,s)=>{const l=Be.fromDom(e.getRoot());return wv(l,mt.fromRangeStart(t),s)?n=n.replace(/^ /,"&nbsp;"):n=n.replace(/^&nbsp;/," "),y0(l,mt.fromRangeEnd(t),s)?n=n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n=n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},Ere=e=>{if(typeof e!="string"){const t=Kt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},Are=(e,t)=>{const n=e.selection,s=e.dom;return/^ | $/.test(t)?kre(s,n.getRng(),t,e.schema):t},JB=(e,t)=>{if(e.selection.isEditable()){const{content:n,details:s}=Ere(t);K3(e,{...s,content:Are(e,n),format:"html",set:!1,selection:!0}).each(l=>{const f=pF(e,l.content,s);q3(e,f,l),e.addVisual()})}},Tre=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,s)=>{JB(e,e.dom.createHTML("img",{src:s}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,s)=>{JB(e,e.dom.encode(s))},insertHTML:(t,n,s)=>{JB(e,s)},mceInsertContent:(t,n,s)=>{JB(e,s)},mceSetContent:(t,n,s)=>{e.setContent(s)},mceReplaceContent:(t,n,s)=>{e.execCommand("mceInsertContent",!1,s.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(Go(e))}})},Ore={"font-size":"size","font-family":"face"},Dre=qd("font"),Rre=(e,t,n)=>{const s=f=>ws(f,e).orThunk(()=>Dre(f)?mr(Ore,e).bind(g=>Hc(f,g)):J.none()),l=f=>Lo(Be.fromDom(t),f);return E2(Be.fromDom(n),f=>s(f),l)},Nre=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),Ire=(e,t)=>J.from(Br.DOM.getStyle(t,e,!0)),HW=e=>(t,n)=>J.from(n).map(Be.fromDom).filter(Os).bind(s=>Rre(e,t,s.dom).or(Ire(e,s.dom))).getOr(""),Bre=HW("font-size"),Mre=ln(Nre,HW("font-family")),Pre=e=>Un(e.getBody()).bind(t=>{const n=t.container();return J.from(Mt(n)?n.parentNode:n)}),Lre=e=>J.from(e.selection.getRng()).bind(t=>{const n=e.getBody();return t.startContainer===n&&t.startOffset===0?J.none():J.from(e.selection.getStart(!0))}),Fre=(e,t)=>Lre(e).orThunk(pt(Pre,e)).map(Be.fromDom).filter(Os).bind(t),V9=(e,t)=>Fre(e,hn(J.some,t)),VW=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const s=Zk(e),l=jk(e);return l.length>0?l[n-1]||t:s[n-1]||t}else return t}else return t},zre=e=>{const t=e.split(/\s*,\s*/);return Me(t,n=>n.indexOf(" ")!==-1&&!(Gr(n,'"')||Gr(n,"'"))?`'${n}'`:n).join(",")},Hre=(e,t)=>{const n=VW(e,t);e.formatter.toggle("fontname",{value:zre(n)}),e.nodeChanged()},Vre=e=>V9(e,t=>Mre(e.getBody(),t.dom)).getOr(""),$re=(e,t)=>{e.formatter.toggle("fontsize",{value:VW(e,t)}),e.nodeChanged()},Ure=e=>V9(e,t=>Bre(e.getBody(),t.dom)).getOr(""),Wre=e=>V9(e,t=>{const n=Be.fromDom(e.getBody()),s=E2(t,f=>ws(f,"line-height"),pt(Lo,n)),l=()=>{const f=parseFloat(Ds(t,"line-height")),g=parseFloat(Ds(t,"font-size"));return String(f/g)};return s.getOrThunk(l)}).getOr(""),Zre=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},jre=e=>{const t=(n,s)=>{e.formatter.toggle(n,s),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>{t(n)},"ForeColor,HiliteColor":(n,s,l)=>{t(n,{value:l})},BackColor:(n,s,l)=>{t("hilitecolor",{value:l})},FontName:(n,s,l)=>{Hre(e,l)},FontSize:(n,s,l)=>{$re(e,l)},LineHeight:(n,s,l)=>{Zre(e,l)},Lang:(n,s,l)=>{var f;t(n,{value:l.code,customValue:(f=l.customCode)!==null&&f!==void 0?f:null})},RemoveFormat:n=>{e.formatter.remove(n)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(n,s,l)=>{t(Te(l)?l:"p")},mceToggleFormat:(n,s,l)=>{t(l)}})},Kre=e=>{const t=n=>e.formatter.match(n);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>t(n),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>Vre(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>Ure(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>Wre(e))},qre=e=>{jre(e),Kre(e)},Gre=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},Yre=e=>{e.editorCommands.addCommands({Indent:()=>{_t(e)},Outdent:()=>{vt(e)}}),e.editorCommands.addCommands({Outdent:()=>me(e)},"state")},Xre=e=>{const t=(n,s,l)=>{const f=Te(l)?{href:l}:l,g=e.dom.getParent(e.selection.getNode(),"a");te(f)&&Te(f.href)&&(f.href=f.href.replace(/ /g,"%20"),(!g||!f.href)&&e.formatter.remove("link"),f.href&&e.formatter.apply("link",f,g))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const n=e.dom.getParent(e.selection.getStart(),"a");n&&e.dom.remove(n,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},Jre=(e,t,n,s)=>{const l=e.dom,f=C=>l.isBlock(C)&&C.parentElement===n,g=f(t)?t:l.getParent(s,f,n);return J.from(g).map(Be.fromDom)},$W=(e,t)=>{const n=e.dom,s=e.selection.getRng(),l=t?e.selection.getStart():e.selection.getEnd(),f=t?s.startContainer:s.endContainer,g=TT(n,f);if(!g||!g.isContentEditable)return;const C=t?gs:et,A=Zi(e);Jre(e,l,g,f).each(z=>{const j=aU(e,f,z.dom,g,!1,A);C(z,Be.fromDom(j)),e.selection.setCursorLocation(j,0),e.dispatch("NewBlock",{newBlock:j}),AT(e,"insertParagraph")})},Qre=e=>$W(e,!0),ese=e=>$W(e,!1),tse=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{Qre(e)},InsertNewBlockAfter:()=>{ese(e)}})},nse=e=>{e.editorCommands.addCommands({insertParagraph:()=>{zB(uU,e)},mceInsertNewLine:(t,n,s)=>{bU(e,s)},InsertLineBreak:(t,n,s)=>{zB(mU,e)}})},ose=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,s)=>{let l=0;e.dom.getParent(e.selection.getNode(),f=>yn(f)&&l++===s?(e.selection.select(f),!1):!0,e.getBody())},mceSelectNode:(t,n,s)=>{e.selection.select(s)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),pc);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})},rse=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,s)=>{const l=s??e.selection.getNode();if(l!==e.getBody()){const f=e.selection.getBookmark();e.dom.remove(l,!0),e.selection.moveToBookmark(f)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,s)=>{wD(e,s===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},sse=e=>{_re(e),Sre(e),Gre(e),ose(e),Tre(e),Xre(e),Yre(e),tse(e),nse(e),qre(e),rse(e)},ase=["toggleview"],UW=e=>le(ase,e.toLowerCase());class WW{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,n=!1,s,l){const f=this.editor,g=t.toLowerCase(),C=l==null?void 0:l.skip_focus;if(f.removed||(g!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(g)&&!C?f.focus():XC(f)),f.dispatch("BeforeExecCommand",{command:t,ui:n,value:s}).isDefaultPrevented()))return!1;const z=this.commands.exec[g];return Ne(z)?(z(g,n,s),f.dispatch("ExecCommand",{command:t,ui:n,value:s}),!0):!1}queryCommandState(t){if(!UW(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const n=t.toLowerCase(),s=this.commands.state[n];return Ne(s)?s(n):!1}queryCommandValue(t){if(!UW(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const n=t.toLowerCase(),s=this.commands.value[n];return Ne(s)?s(n):""}addCommands(t,n="exec"){const s=this.commands;Uo(t,(l,f)=>{pe(f.toLowerCase().split(","),g=>{s[n][g]=l})})}addCommand(t,n,s){const l=t.toLowerCase();this.commands.exec[l]=(f,g,C)=>n.call(s??this.editor,g,C)}queryCommandSupported(t){const n=t.toLowerCase();return!!this.commands.exec[n]}addQueryStateHandler(t,n,s){this.commands.state[t.toLowerCase()]=()=>n.call(s??this.editor)}addQueryValueHandler(t,n,s){this.commands.value[t.toLowerCase()]=()=>n.call(s??this.editor)}}const fw="data-mce-contenteditable",ise=(e,t,n)=>{id(e,t)&&!n?wi(e,t):n&&ad(e,t)},$9=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch{}},QB=(e,t)=>{e.dom.contentEditable=t?"true":"false"},lse=e=>{pe(ea(e,'*[contenteditable="true"]'),t=>{ra(t,fw,"true"),QB(t,!1)})},cse=e=>{pe(ea(e,`*[${fw}="true"]`),t=>{bo(t,fw),QB(t,!0)})},use=e=>{J.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},dse=e=>{e.selection.setRng(e.selection.getRng())},fse=(e,t)=>{const n=Be.fromDom(e.getBody());ise(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),use(e),e.readonly=!0,QB(n,!1),lse(n)):(e.readonly=!1,e.hasEditableRoot()&&QB(n,!0),cse(n),$9(e,"StyleWithCSS",!1),$9(e,"enableInlineTableEditing",!1),$9(e,"enableObjectResizing",!1),m0(e)&&e.focus(),dse(e),e.nodeChanged())},mw=e=>e.readonly,ZW=e=>{e.parser.addAttributeFilter("contenteditable",t=>{mw(e)&&pe(t,n=>{n.attr(fw,n.attr("contenteditable")),n.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(fw,t=>{mw(e)&&pe(t,n=>{n.attr("contenteditable",n.attr(fw))})}),e.serializer.addTempAttr(fw)},mse=e=>{e.serializer?ZW(e):e.on("PreInit",()=>{ZW(e)})},gse=e=>e.type==="click",hse=["copy"],pse=e=>le(hse,e.type),bse=(e,t)=>Aa(t,"a",s=>Lo(s,Be.fromDom(e.getBody()))).bind(s=>Hc(s,"href")),vse=(e,t)=>{if(gse(t)&&!rn.metaKeyPressed(t)){const n=Be.fromDom(t.target);bse(e,n).each(s=>{if(t.preventDefault(),/^#/.test(s)){const l=e.dom.select(`${s},[name="${Fc(s,"#")}"]`);l.length&&e.selection.scrollIntoView(l[0],!0)}else window.open(s,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else pse(t)&&e.dispatch(t.type,t)},yse=e=>{e.on("ShowCaret",t=>{mw(e)&&t.preventDefault()}),e.on("ObjectSelected",t=>{mw(e)&&t.preventDefault()})},xse=Kt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class U9{static isNative(t){return!!xse[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||xn}fire(t,n){return this.dispatch(t,n)}dispatch(t,n){const s=t.toLowerCase(),l=T1(s,n??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(l);const f=this.bindings[s];if(f)for(let g=0,C=f.length;g<C;g++){const A=f[g];if(!A.removed){if(A.once&&this.off(s,A.func),l.isImmediatePropagationStopped())return l;if(A.func.call(this.scope,l)===!1)return l.preventDefault(),l}}return l}on(t,n,s,l){if(n===!1&&(n=xn),n){const f={func:n,removed:!1};l&&Kt.extend(f,l);const g=t.toLowerCase().split(" ");let C=g.length;for(;C--;){const A=g[C];let z=this.bindings[A];z||(z=[],this.toggleEvent(A,!0)),s?z=[f,...z]:z=[...z,f],this.bindings[A]=z}}return this}off(t,n){if(t){const s=t.toLowerCase().split(" ");let l=s.length;for(;l--;){const f=s[l];let g=this.bindings[f];if(!f)return Uo(this.bindings,(C,A)=>{this.toggleEvent(A,!1),delete this.bindings[A]}),this;if(g){if(!n)g.length=0;else{const C=$t(g,A=>A.func===n);g=C.fail,this.bindings[f]=g,pe(C.pass,A=>{A.removed=!0})}g.length||(this.toggleEvent(t,!1),delete this.bindings[f])}}}else Uo(this.bindings,(s,l)=>{this.toggleEvent(l,!1)}),this.bindings={};return this}once(t,n,s){return this.on(t,n,s,{once:!0})}has(t){t=t.toLowerCase();const n=this.bindings[t];return!(!n||n.length===0)}}const BT=e=>(e._eventDispatcher||(e._eventDispatcher=new U9({scope:e,toggleEvent:(t,n)=>{U9.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),W9={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const s=this;if(s.removed&&e!=="remove"&&e!=="detach")return T1(e.toLowerCase(),t??{},s);const l=BT(s).dispatch(e,t);if(n!==!1&&s.parent){let f=s.parent();for(;f&&!l.isPropagationStopped();)f.dispatch(e,l,!1),f=f.parent?f.parent():void 0}return l},on(e,t,n){return BT(this).on(e,t,n)},off(e,t){return BT(this).off(e,t)},once(e,t){return BT(this).once(e,t)},hasEventListeners(e){return BT(this).has(e)}},e8=Br.DOM;let gw;const t8=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const n=AO(e);return n?(e.eventRoot||(e.eventRoot=e8.select(n)[0]),e.eventRoot):e.getBody()},wse=e=>!e.hidden&&!mw(e),jW=(e,t,n)=>{wse(e)?e.dispatch(t,n):mw(e)&&vse(e,n)},KW=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=t8(e,t);if(AO(e)){if(gw||(gw={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||gw&&(Uo(gw,(l,f)=>{e.dom.unbind(t8(e,f))}),gw=null)})),gw[t])return;const s=l=>{const f=l.target,g=e.editorManager.get();let C=g.length;for(;C--;){const A=g[C].getBody();(A===f||e8.isChildOf(f,A))&&jW(g[C],t,l)}};gw[t]=s,e8.bind(n,t,s)}else{const s=l=>{jW(e,t,l)};e8.bind(n,t,s),e.delegates[t]=s}},qW={...W9,bindPendingEventDelegates(){const e=this;Kt.each(e._pendingNativeEvents,t=>{KW(e,t)})},toggleNativeEvent(e,t){const n=this;e==="focus"||e==="blur"||n.removed||(t?n.initialized?KW(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(t8(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(Uo(e.delegates,(s,l)=>{e.dom.unbind(t8(e,l),l,s)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},Cse=e=>Te(e)?{value:e.split(/[ ,]/),valid:!0}:yt(e,Te)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},_se=e=>{const t=(()=>{switch(e){case"array":return ne;case"boolean":return $e;case"function":return Ne;case"number":return D;case"object":return te;case"string":return Te;case"string[]":return Cse;case"object[]":return n=>yt(n,te);case"regexp":return n=>Ue(n,RegExp);default:return Rn}})();return n=>Z9(n,t,`The value must be a ${e}.`)},Sse=e=>Te(e.processor),GW=(e,t)=>{const n=Lt(t.message)?"":`. ${t.message}`;return e+n},YW=e=>e.valid,Z9=(e,t,n="")=>{const s=t(e);return $e(s)?s?{value:e,valid:!0}:{valid:!1,message:n}:s},kse=(e,t,n)=>{if(!Ze(t)){const s=Z9(t,n);if(YW(s))return s.value;console.error(GW(`Invalid default value passed for the "${e}" option`,s))}},Ese=(e,t,n=t)=>{const s={},l={},f=(ue,we,de)=>{const ke=Z9(we,de);return YW(ke)?(l[ue]=ke.value,!0):(console.warn(GW(`Invalid value passed for the ${ue} option`,ke)),!1)},g=(ue,we)=>{const de=Sse(we)?_se(we.processor):we.processor,ke=kse(ue,we.default,de);s[ue]={...we,default:ke,processor:de},mr(l,ue).orThunk(()=>mr(t,ue)).each(qe=>f(ue,qe,de))},C=ue=>Yn(s,ue);return{register:g,isRegistered:C,get:ue=>mr(l,ue).orThunk(()=>mr(s,ue).map(we=>we.default)).getOrUndefined(),set:(ue,we)=>{if(C(ue)){const de=s[ue];return de.immutable?(console.error(`"${ue}" is an immutable option and cannot be updated`),!1):f(ue,we,de.processor)}else return console.warn(`"${ue}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:ue=>{const we=C(ue);return we&&delete l[ue],we},isSet:ue=>Yn(l,ue),debug:()=>{try{console.log(JSON.parse(JSON.stringify(n,(ue,we)=>$e(we)||D(we)||Te(we)||Ge(we)||ne(we)||Ae(we)?we:Object.prototype.toString.call(we))))}catch(ue){console.error(ue)}}}},Ase=["design","readonly"],XW=(e,t,n,s)=>{const l=n[t.get()],f=n[s];try{f.activate()}catch(g){console.error(`problem while activating editor mode ${s}:`,g);return}l.deactivate(),l.editorReadOnly!==f.editorReadOnly&&fse(e,f.editorReadOnly),t.set(s),F5(e,s)},Tse=(e,t,n,s)=>{if(s!==n.get()){if(!Yn(t,s))throw new Error(`Editor mode '${s}' is invalid`);e.initialized?XW(e,n,t,s):e.on("init",()=>XW(e,n,t,s))}},Ose=(e,t,n)=>{if(le(Ase,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(s){console.error(`problem while deactivating editor mode ${t}:`,s)}}}}},Dse=e=>{const t=ga("design"),n=ga({design:{activate:Pt,deactivate:Pt,editorReadOnly:!1},readonly:{activate:Pt,deactivate:Pt,editorReadOnly:!0}});return mse(e),yse(e),{isReadOnly:()=>mw(e),set:s=>Tse(e,n.get(),t,s),get:()=>t.get(),register:(s,l)=>{n.set(Ose(n.get(),s,l))}}},j9=Kt.each,K9=Kt.explode,Rse={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},JW=Kt.makeMap("alt,ctrl,shift,meta,access"),Nse=e=>e in JW,Ise=e=>{const t={},n=_o.os.isMacOS()||_o.os.isiOS();j9(K9(e.toLowerCase(),"+"),f=>{Nse(f)?t[f]=!0:/^[0-9]{2,}$/.test(f)?t.keyCode=parseInt(f,10):(t.charCode=f.charCodeAt(0),t.keyCode=Rse[f]||f.toUpperCase().charCodeAt(0))});const s=[t.keyCode];let l;for(l in JW)t[l]?s.push(l):t[l]=!1;return t.id=s.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class QW{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const n=this;t.on("keyup keypress keydown",s=>{(n.hasModifier(s)||n.isFunctionKey(s))&&!s.isDefaultPrevented()&&(j9(n.shortcuts,l=>{n.matchShortcut(s,l)&&(n.pendingPatterns=l.subpatterns.slice(0),s.type==="keydown"&&n.executeShortcutAction(l))}),n.matchShortcut(s,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&s.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}add(t,n,s,l){const f=this,g=f.normalizeCommandFunc(s);return j9(K9(Kt.trim(t)),C=>{const A=f.createShortcut(C,n,g,l);f.shortcuts[A.id]=A}),!0}remove(t){const n=this.createShortcut(t);return this.shortcuts[n.id]?(delete this.shortcuts[n.id],!0):!1}normalizeCommandFunc(t){const n=this,s=t;return typeof s=="string"?()=>{n.editor.execCommand(s,!1,null)}:Kt.isArray(s)?()=>{n.editor.execCommand(s[0],s[1],s[2])}:s}createShortcut(t,n,s,l){const f=Kt.map(K9(t,">"),Ise);return f[f.length-1]=Kt.extend(f[f.length-1],{func:s,scope:l||this.editor}),Kt.extend(f[0],{desc:this.editor.translate(n),subpatterns:f.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,n){return!n||n.ctrl!==t.ctrlKey||n.meta!==t.metaKey||n.alt!==t.altKey||n.shift!==t.shiftKey?!1:t.keyCode===n.keyCode||t.charCode&&t.charCode===n.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const Bse=()=>{const e={},t={},n={},s={},l={},f={},g={},C={},A=(j,G)=>(X,ue)=>{j[X.toLowerCase()]={...ue,type:G}},z=(j,G)=>s[j.toLowerCase()]=G;return{addButton:A(e,"button"),addGroupToolbarButton:A(e,"grouptoolbarbutton"),addToggleButton:A(e,"togglebutton"),addMenuButton:A(e,"menubutton"),addSplitButton:A(e,"splitbutton"),addMenuItem:A(t,"menuitem"),addNestedMenuItem:A(t,"nestedmenuitem"),addToggleMenuItem:A(t,"togglemenuitem"),addAutocompleter:A(n,"autocompleter"),addContextMenu:A(l,"contextmenu"),addContextToolbar:A(f,"contexttoolbar"),addContextForm:A(f,"contextform"),addSidebar:A(g,"sidebar"),addView:A(C,"views"),addIcon:z,getAll:()=>({buttons:e,menuItems:t,icons:s,popups:n,contextMenus:l,contextToolbars:f,sidebars:g,views:C})}},Mse=()=>{const e=Bse();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},hw=Br.DOM,eZ=Kt.extend,Pse=Kt.each;class n8{constructor(t,n,s){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=s,this.documentBaseUrl=s.documentBaseURL,eZ(this,qW);const l=this;this.id=t,this.hidden=!1;const f=yre(s.defaultOptions,n);this.options=Ese(l,f,n),dC(l);const g=this.options.get;g("deprecation_warnings")&&RF(n,f);const C=g("suffix");C&&(s.suffix=C),this.suffix=s.suffix;const A=g("base_url");A&&s._setBaseUrl(A),this.baseUri=s.baseURI;const z=Cx(l);z&&(al.ScriptLoader._setReferrerPolicy(z),Br.DOM.styleSheetLoader._setReferrerPolicy(z));const j=BO(l);Ce(j)&&Br.DOM.styleSheetLoader._setContentCssCors(j),Ui.languageLoad=g("language_load"),Ui.baseURL=s.baseURL,this.setDirty(!1),this.documentBaseURI=new Ku(ou(l),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Yb(l),this.hasVisual=kc(l),this.shortcuts=new QW(this),this.editorCommands=new WW(this),sse(this);const G=g("cache_suffix");G&&(_o.cacheSuffix=G.replace(/^[\?\&]+/,"")),this.ui={registry:Mse(),styleSheetLoader:void 0,show:Pt,hide:Pt,setEnabled:Pt,isEnabled:Rn},this.mode=Dse(l),s.dispatch("SetupEditor",{editor:this});const X=ov(l);Ne(X)&&X.call(l,l)}render(){rre(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return gv(this)}translate(t){return wc.translate(t)}getParam(t,n,s){const l=this.options;return l.isRegistered(t)||(Ce(s)?l.register(t,{processor:s,default:n}):l.register(t,{processor:Rn,default:n})),!l.isSet(t)&&!Ze(n)?n:l.get(t)}hasPlugin(t,n){return le(Cd(this),t)?n?D0.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,n,s){this.editorCommands.addCommand(t,n,s)}addQueryStateHandler(t,n,s){this.editorCommands.addQueryStateHandler(t,n,s)}addQueryValueHandler(t,n,s){this.editorCommands.addQueryValueHandler(t,n,s)}addShortcut(t,n,s,l){this.shortcuts.add(t,n,s,l)}execCommand(t,n,s,l){return this.editorCommands.execCommand(t,n,s,l)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(hw.show(t.getContainer()),hw.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(hw.hide(t.getContainer()),hw.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,n){this.dispatch("ProgressState",{state:t,time:n})}load(t={}){const n=this,s=n.getElement();if(n.removed)return"";if(s){const l={...t,load:!0},f=Rh(s)?s.value:s.innerHTML,g=n.setContent(f,l);return l.no_events||n.dispatch("LoadContent",{...l,element:s}),g}else return""}save(t={}){const n=this;let s=n.getElement();if(!s||!n.initialized||n.removed)return"";const l={...t,save:!0,element:s};let f=n.getContent(l);const g={...l,content:f};if(g.no_events||n.dispatch("SaveContent",g),g.format==="raw"&&n.dispatch("RawSaveContent",g),f=g.content,Rh(s))s.value=f;else{(t.is_removing||!n.inline)&&(s.innerHTML=f);const C=hw.getParent(n.id,"form");C&&Pse(C.elements,A=>A.name===n.id?(A.value=f,!1):!0)}return g.element=l.element=s=null,g.set_dirty!==!1&&n.setDirty(!1),f}setContent(t,n){return w4(this,t,n)}getContent(t){return _6(this,t)}insertContent(t,n){n&&(t=eZ({content:t},n)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?w4(this,this.startContent,{format:"raw"}):w4(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const n=!this.isNotDirty;this.isNotDirty=!t,t&&t!==n&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||hw.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=hw.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const n=t.iframeElement;n&&(t.contentWindow=n.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const n=t.getWin();n&&(t.contentDocument=n.document)}return t.contentDocument}getBody(){var t,n;const s=this.getDoc();return(n=(t=this.bodyElement)!==null&&t!==void 0?t:s==null?void 0:s.body)!==null&&n!==void 0?n:null}convertURL(t,n,s){const l=this,f=l.options.get,g=XM(l);if(Ne(g))return g.call(l,t,s,!0,n);if(!f("convert_urls")||s==="link"||te(s)&&s.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const C=new Ku(t);return C.protocol!=="http"&&C.protocol!=="https"&&C.protocol!==""?t:f("relative_urls")?l.documentBaseURI.toRelative(t):(t=l.documentBaseURI.toAbsolute(t,f("remove_script_host")),t)}addVisual(t){xre(this,t)}setEditableRoot(t){sre(this,t)}hasEditableRoot(){return are(this)}remove(){R6(this)}destroy(t){IF(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const HS=Br.DOM,o8=Kt.each;let tZ=!1,r8,du=[];const s8=e=>{const t=e.type;o8(Gv.get(),n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e);break}})},nZ=e=>{if(e!==tZ){const t=Br.DOM;e?(t.bind(window,"resize",s8),t.bind(window,"scroll",s8)):(t.unbind(window,"resize",s8),t.unbind(window,"scroll",s8)),tZ=e}},oZ=e=>{const t=du;return du=Ct(du,n=>e!==n),Gv.activeEditor===e&&(Gv.activeEditor=du.length>0?du[0]:null),Gv.focusedEditor===e&&(Gv.focusedEditor=null),t.length!==du.length},Lse=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(oZ(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},Fse=document.compatMode!=="CSS1Compat",Gv={...W9,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"3.0",releaseDate:"2024-08-07",i18n:wc,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",s=Ku.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/"));const l=window.tinymce||window.tinyMCEPreInit;if(l)t=l.base||l.baseURL,n=l.suffix;else{const f=document.getElementsByTagName("script");for(let g=0;g<f.length;g++){const C=f[g].src||"";if(C==="")continue;const A=C.substring(C.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(C)){A.indexOf(".min")!==-1&&(n=".min"),t=C.substring(0,C.lastIndexOf("/"));break}}if(!t&&document.currentScript){const g=document.currentScript.src;g.indexOf(".min")!==-1&&(n=".min"),t=g.substring(0,g.lastIndexOf("/"))}}e.baseURL=new Ku(s).toAbsolute(t),e.documentBaseURL=s,e.baseURI=new Ku(e.baseURL),e.suffix=n,e7(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const s=e.plugin_base_urls;s!==void 0&&Uo(s,(l,f)=>{Ui.PluginManager.urls[f]=l})},init(e){const t=this;let n;const s=Kt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),l=(j,G)=>j.inline&&G.tagName.toLowerCase()in s,f=j=>{let G=j.id;return G||(G=mr(j,"name").filter(X=>!HS.get(X)).getOrThunk(HS.uniqueId),j.setAttribute("id",G)),G},g=j=>{const G=e[j];if(G)return G.apply(t,[])},C=j=>_o.browser.isIE()||_o.browser.isEdge()?(j2("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):Fse?(j2("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):Te(j.selector)?HS.select(j.selector):Ce(j.target)?[j.target]:[];let A=j=>{n=j};const z=()=>{let j=0;const G=[];let X;const ue=(we,de,ke)=>{const Fe=new n8(we,de,t);G.push(Fe),Fe.on("init",()=>{++j===X.length&&A(G)}),Fe.targetElm=Fe.targetElm||ke,Fe.render()};HS.unbind(window,"ready",z),g("onpageload"),X=Fa(C(e)),Kt.each(X,we=>{Lse(t.get(we.id))}),X=Kt.grep(X,we=>!t.get(we.id)),X.length===0?A([]):o8(X,we=>{l(e,we)?j2("Could not initialize inline editor on invalid inline target element",we):ue(f(we),e,we)})};return HS.bind(window,"ready",z),new Promise(j=>{n?j(n):A=G=>{j(G)}})},get(e){return arguments.length===0?du.slice(0):Te(e)?wn(du,t=>t.id===e).getOr(null):D(e)&&du[e]?du[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(n===null&&du.push(e),nZ(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),r8||(r8=s=>{const l=t.dispatch("BeforeUnload");if(l.returnValue)return s.preventDefault(),s.returnValue=l.returnValue,l.returnValue},window.addEventListener("beforeunload",r8))),e},createEditor(e,t){return this.add(new n8(e,t,this))},remove(e){const t=this;let n;if(!e){for(let s=du.length-1;s>=0;s--)t.remove(du[s]);return}if(Te(e)){o8(HS.select(e),s=>{n=t.get(s.id),n&&t.remove(n)});return}return n=e,Ge(t.get(n.id))?null:(oZ(n)&&t.dispatch("RemoveEditor",{editor:n}),du.length===0&&window.removeEventListener("beforeunload",r8),n.remove(),nZ(du.length>0),n)},execCommand(e,t,n){var s;const l=this,f=te(n)?(s=n.id)!==null&&s!==void 0?s:n.index:n;switch(e){case"mceAddEditor":{if(!l.get(f)){const g=n.options;new n8(f,g,l).render()}return!0}case"mceRemoveEditor":{const g=l.get(f);return g&&g.remove(),!0}case"mceToggleEditor":{const g=l.get(f);return g?(g.isHidden()?g.show():g.hide(),!0):(l.execCommand("mceAddEditor",!1,n),!0)}}return l.activeEditor?l.activeEditor.execCommand(e,t,n):!1},triggerSave:()=>{o8(du,e=>{e.save()})},addI18n:(e,t)=>{wc.add(e,t)},translate:e=>wc.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Ku(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Ku(this.baseURL)}};Gv.setup();const zse=(()=>{const e=ha(),t=f=>({items:f,types:Vt(f),getType:g=>mr(f,g).getOrUndefined()}),n=f=>{e.set(f)},s=()=>e.get().getOrUndefined(),l=e.clear;return{FakeClipboardItem:t,write:n,read:s,clear:l}})(),rZ=Math.min,VS=Math.max,a8=Math.round,sZ=(e,t,n)=>{let s=t.x,l=t.y;const f=e.w,g=e.h,C=t.w,A=t.h,z=(n||"").split("");return z[0]==="b"&&(l+=A),z[1]==="r"&&(s+=C),z[0]==="c"&&(l+=a8(A/2)),z[1]==="c"&&(s+=a8(C/2)),z[3]==="b"&&(l-=g),z[4]==="r"&&(s-=f),z[3]==="c"&&(l-=a8(g/2)),z[4]==="c"&&(s-=a8(f/2)),$S(s,l,f,g)},Hse=(e,t,n,s)=>{for(let l=0;l<s.length;l++){const f=sZ(e,t,s[l]);if(f.x>=n.x&&f.x+f.w<=n.w+n.x&&f.y>=n.y&&f.y+f.h<=n.h+n.y)return s[l]}return null},Vse=(e,t,n)=>$S(e.x-t,e.y-n,e.w+t*2,e.h+n*2),$se=(e,t)=>{const n=VS(e.x,t.x),s=VS(e.y,t.y),l=rZ(e.x+e.w,t.x+t.w),f=rZ(e.y+e.h,t.y+t.h);return l-n<0||f-s<0?null:$S(n,s,l-n,f-s)},Use=(e,t,n)=>{let s=e.x,l=e.y,f=e.x+e.w,g=e.y+e.h;const C=t.x+t.w,A=t.y+t.h,z=VS(0,t.x-s),j=VS(0,t.y-l),G=VS(0,f-C),X=VS(0,g-A);return s+=z,l+=j,n&&(f+=z,g+=j,s-=G,l-=X),f-=G,g-=X,$S(s,l,f-s,g-l)},$S=(e,t,n,s)=>({x:e,y:t,w:n,h:s}),Wse={inflate:Vse,relativePosition:sZ,findBestRelativePosition:Hse,intersect:$se,clamp:Use,create:$S,fromClientRect:e=>$S(e.left,e.top,e.width,e.height)},Zse=(e,t,n=1e3)=>{let s=!1,l=null;const f=z=>(...j)=>{s||(s=!0,l!==null&&(clearTimeout(l),l=null),z.apply(null,j))},g=f(e),C=f(t);return{start:(...z)=>{!s&&l===null&&(l=setTimeout(()=>C.apply(null,z),n))},resolve:g,reject:C}},jse=(()=>{const e={},t={},n={};return{load:(A,z)=>{const j=`Script at URL "${z}" failed to load`,G=`Script at URL "${z}" did not call \`tinymce.Resource.add('${A}', data)\` within 1 second`;if(e[A]!==void 0)return e[A];{const X=new Promise((ue,we)=>{const de=Zse(ue,we);t[A]=de.resolve,al.ScriptLoader.loadScript(z).then(()=>de.start(G),()=>de.reject(j))});return e[A]=X,X}},add:(A,z)=>{t[A]!==void 0&&(t[A](z),delete t[A]),e[A]=Promise.resolve(z),n[A]=z},has:A=>A in n,get:A=>n[A],unload:A=>{delete e[A],delete n[A]}}})(),Kse=()=>(()=>{let e={},t=[];const n={getItem:s=>{const l=e[s];return l||null},setItem:(s,l)=>{t.push(s),e[s]=String(l)},key:s=>t[s],removeItem:s=>{t=t.filter(l=>l===s),delete e[s]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})();let MT;try{const e="__storage_test__";MT=window.localStorage,MT.setItem(e,e),MT.removeItem(e)}catch{MT=Kse()}var qse=MT;const Gse={geom:{Rect:Wse},util:{Delay:Oc,Tools:Kt,VK:rn,URI:Ku,EventDispatcher:U9,Observable:W9,I18n:wc,LocalStorage:qse,ImageUploader:ZF},dom:{EventUtils:uf,TreeWalker:Ka,TextSeeker:pd,DOMUtils:Br,ScriptLoader:al,RangeUtils:ap,Serializer:C6,StyleSheetLoader:gm,ControlSelection:kr,BookmarkManager:Nr,Selection:y4,Event:uf.Event},html:{Styles:Yy,Entities:Dg,Node:fi,Schema:xc,DomParser:Rv,Writer:qE,Serializer:th},Env:_o,AddOnManager:Ui,Annotator:L5,Formatter:G2,UndoManager:tI,EditorCommands:WW,WindowManager:F6,NotificationManager:T4,EditorObservable:qW,Shortcuts:QW,Editor:n8,FocusManager:Vu,EditorManager:Gv,DOM:Br.DOM,ScriptLoader:al.ScriptLoader,PluginManager:D0,ThemeManager:kp,ModelManager:Sp,IconManager:W2,Resource:jse,FakeClipboard:zse,trim:Kt.trim,isArray:Kt.isArray,is:Kt.is,toArray:Kt.toArray,makeMap:Kt.makeMap,each:Kt.each,map:Kt.map,grep:Kt.grep,inArray:Kt.inArray,extend:Kt.extend,walk:Kt.walk,resolve:Kt.resolve,explode:Kt.explode,_addCacheSuffix:Kt._addCacheSuffix},aZ=Kt.extend(Gv,Gse),Yse=e=>{try{r.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(aZ),Yse(aZ)})()})(eX);var Jhe=eX.exports;const Qhe=kM(Jhe);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const r=Object.getPrototypeOf,i=(o,a,c)=>{var d;return!!c(o,a.prototype)||((d=o.constructor)===null||d===void 0?void 0:d.name)===a.name},u=o=>a=>(c=>{const d=typeof c;return c===null?"null":d==="object"&&Array.isArray(c)?"array":d==="object"&&i(c,String,(p,v)=>v.isPrototypeOf(p))?"string":d})(a)===o,m=o=>a=>typeof a===o,b=o=>a=>o===a,h=u("string"),x=u("object"),S=o=>((a,c)=>x(a)&&i(a,c,(d,p)=>r(d)===p))(o,Object),B=u("array"),N=b(null),R=m("boolean"),F=b(void 0),W=o=>o==null,$=o=>!W(o),K=m("function"),ee=m("number"),ge=(o,a)=>{if(B(o)){for(let c=0,d=o.length;c<d;++c)if(!a(o[c]))return!1;return!0}return!1},he=()=>{},Ue=o=>()=>o(),Te=(o,a)=>(...c)=>o(a.apply(null,c)),te=o=>()=>o,Ae=o=>o,ne=(o,a)=>o===a;function Ge(o,...a){return(...c)=>{const d=a.concat(c);return o.apply(null,d)}}const $e=o=>a=>!o(a),Ze=o=>()=>{throw new Error(o)},ot=o=>o(),Ce=te(!1),Ne=te(!0);class D{constructor(a,c){this.tag=a,this.value=c}static some(a){return new D(!0,a)}static none(){return D.singletonNone}fold(a,c){return this.tag?c(this.value):a()}isSome(){return this.tag}isNone(){return!this.tag}map(a){return this.tag?D.some(a(this.value)):D.none()}bind(a){return this.tag?a(this.value):D.none()}exists(a){return this.tag&&a(this.value)}forall(a){return!this.tag||a(this.value)}filter(a){return!this.tag||a(this.value)?this:D.none()}getOr(a){return this.tag?this.value:a}or(a){return this.tag?this:a}getOrThunk(a){return this.tag?this.value:a()}orThunk(a){return this.tag?this:a()}getOrDie(a){if(this.tag)return this.value;throw new Error(a??"Called getOrDie on None")}static from(a){return $(a)?D.some(a):D.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(a){this.tag&&a(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}D.singletonNone=new D(!1);const yt=Array.prototype.slice,Pt=Array.prototype.indexOf,ln=Array.prototype.push,hn=(o,a)=>Pt.call(o,a),Qe=(o,a)=>hn(o,a)>-1,On=(o,a)=>{for(let c=0,d=o.length;c<d;c++)if(a(o[c],c))return!0;return!1},sr=(o,a)=>{const c=[];for(let d=0;d<o;d++)c.push(a(d));return c},pt=(o,a)=>{const c=[];for(let d=0;d<o.length;d+=a){const p=yt.call(o,d,d+a);c.push(p)}return c},bt=(o,a)=>{const c=o.length,d=new Array(c);for(let p=0;p<c;p++){const v=o[p];d[p]=a(v,p)}return d},Zt=(o,a)=>{for(let c=0,d=o.length;c<d;c++)a(o[c],c)},Ur=(o,a)=>{const c=[],d=[];for(let p=0,v=o.length;p<v;p++){const w=o[p];(a(w,p)?c:d).push(w)}return{pass:c,fail:d}},ho=(o,a)=>{const c=[];for(let d=0,p=o.length;d<p;d++){const v=o[d];a(v,d)&&c.push(v)}return c},xn=(o,a,c)=>(((d,p)=>{for(let v=d.length-1;v>=0;v--)p(d[v],v)})(o,(d,p)=>{c=a(c,d,p)}),c),Rn=(o,a,c)=>(Zt(o,(d,p)=>{c=a(c,d,p)}),c),J=(o,a)=>((c,d,p)=>{for(let v=0,w=c.length;v<w;v++){const k=c[v];if(d(k,v))return D.some(k);if(p(k,v))break}return D.none()})(o,a,Ce),ir=(o,a)=>{for(let c=0,d=o.length;c<d;c++)if(a(o[c],c))return D.some(c);return D.none()},vr=o=>{const a=[];for(let c=0,d=o.length;c<d;++c){if(!B(o[c]))throw new Error("Arr.flatten item "+c+" was not an array, input: "+o);ln.apply(a,o[c])}return a},Ko=(o,a)=>vr(bt(o,a)),oi=(o,a)=>{for(let c=0,d=o.length;c<d;++c)if(a(o[c],c)!==!0)return!1;return!0},Ke=o=>{const a=yt.call(o,0);return a.reverse(),a},le=(o,a)=>ho(o,c=>!Qe(a,c)),xe=(o,a)=>{const c={};for(let d=0,p=o.length;d<p;d++){const v=o[d];c[String(v)]=a(v,d)}return c},Me=o=>[o],pe=(o,a)=>{const c=yt.call(o,0);return c.sort(a),c},St=(o,a)=>a>=0&&a<o.length?D.some(o[a]):D.none(),$t=o=>St(o,0),Ct=o=>St(o,o.length-1),zt=K(Array.from)?Array.from:o=>yt.call(o),It=(o,a)=>{for(let c=0;c<o.length;c++){const d=a(o[c],c);if(d.isSome())return d}return D.none()},on=Object.keys,wn=Object.hasOwnProperty,Cn=(o,a)=>{const c=on(o);for(let d=0,p=c.length;d<p;d++){const v=c[d];a(o[v],v)}},En=(o,a)=>ao(o,(c,d)=>({k:d,v:a(c,d)})),ao=(o,a)=>{const c={};return Cn(o,(d,p)=>{const v=a(d,p);c[v.k]=v.v}),c},vo=o=>(a,c)=>{o[c]=a},To=(o,a,c,d)=>{Cn(o,(p,v)=>{(a(p,v)?c:d)(p,v)})},Do=(o,a)=>{const c={};return To(o,a,vo(c),he),c},As=(o,a)=>{const c=[];return Cn(o,(d,p)=>{c.push(a(d,p))}),c},fr=(o,a)=>{const c=on(o);for(let d=0,p=c.length;d<p;d++){const v=c[d],w=o[v];if(a(w,v,o))return D.some(w)}return D.none()},vi=o=>As(o,Ae),un=(o,a)=>po(o,a)?D.from(o[a]):D.none(),po=(o,a)=>wn.call(o,a),io=(o,a)=>po(o,a)&&o[a]!==void 0&&o[a]!==null,Wr=(o,a,c=ne)=>o.exists(d=>c(d,a)),Fa=o=>{const a=[],c=d=>{a.push(d)};for(let d=0;d<o.length;d++)o[d].each(c);return a},Vt=(o,a,c)=>o.isSome()&&a.isSome()?D.some(c(o.getOrDie(),a.getOrDie())):D.none(),Js=(o,a)=>o!=null?D.some(a(o)):D.none(),Uo=(o,a)=>o?D.some(a):D.none(),El=(o,a,c)=>a===""||o.length>=a.length&&o.substr(c,c+a.length)===a,Or=(o,a)=>Gf(o,a)?((c,d)=>c.substring(d))(o,a.length):o,Hs=(o,a,c=0,d)=>{const p=o.indexOf(a,c);return p!==-1&&(!!F(d)||p+a.length<=d)},Gf=(o,a)=>El(o,a,0),hu=(o,a)=>El(o,a,o.length-a.length),ic=(jd=/^\s+|\s+$/g,o=>o.replace(jd,"")),Ji=o=>o.length>0,pu=o=>!Ji(o),mr=o=>o.style!==void 0&&K(o.style.getPropertyValue),Yn=o=>{if(o==null)throw new Error("Node cannot be null or undefined");return{dom:o}},Al=(o,a)=>{const c=document.createElement("div");if(c.innerHTML=o,!c.hasChildNodes()||c.childNodes.length>1){const d="HTML does not have a single root node";throw console.error(d,o),new Error(d)}return Yn(c.childNodes[0])},da=(o,a)=>{const c=document.createElement(o);return Yn(c)},bu=(o,a)=>{const c=document.createTextNode(o);return Yn(c)},Qt=Yn,vu=typeof window<"u"?window:Function("return this;")(),Yf=(o,a)=>((c,d)=>{let p=d??vu;for(let v=0;v<c.length&&p!=null;++v)p=p[c[v]];return p})(o.split("."),a),ns=Object.getPrototypeOf,Xf=o=>{const a=Yf("ownerDocument.defaultView",o);return x(o)&&((c=>((d,p)=>{const v=((w,k)=>Yf(w,k))(d,p);if(v==null)throw new Error(d+" not available on this browser");return v})("HTMLElement",c))(a).prototype.isPrototypeOf(o)||/^HTML\w*Element$/.test(ns(o).constructor.name))},Bi=o=>o.dom.nodeName.toLowerCase(),hl=o=>a=>(c=>c.dom.nodeType)(a)===o,Qi=o=>qr(o)&&Xf(o.dom),qr=hl(1),ri=hl(3),pl=hl(9),Jf=hl(11),Mc=o=>a=>qr(a)&&Bi(a)===o,Pc=(o,a)=>{const c=o.dom;if(c.nodeType!==1)return!1;{const d=c;if(d.matches!==void 0)return d.matches(a);if(d.msMatchesSelector!==void 0)return d.msMatchesSelector(a);if(d.webkitMatchesSelector!==void 0)return d.webkitMatchesSelector(a);if(d.mozMatchesSelector!==void 0)return d.mozMatchesSelector(a);throw new Error("Browser lacks native selectors")}},Vd=o=>o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11||o.childElementCount===0,ed=(o,a)=>{const c=a===void 0?document:a.dom;return Vd(c)?D.none():D.from(c.querySelector(o)).map(Qt)},Wo=(o,a)=>o.dom===a.dom,xs=(o,a)=>{const c=o.dom,d=a.dom;return c!==d&&c.contains(d)},js=o=>Qt(o.dom.ownerDocument),Qf=o=>pl(o)?o:js(o),Mi=o=>Qt(Qf(o).dom.documentElement),Lc=o=>Qt(Qf(o).dom.defaultView),si=o=>D.from(o.dom.parentNode).map(Qt),ai=o=>D.from(o.dom.parentElement).map(Qt),Fc=o=>D.from(o.dom.offsetParent).map(Qt),yr=o=>bt(o.dom.childNodes,Qt),Gr=(o,a)=>{const c=o.dom.childNodes;return D.from(c[a]).map(Qt)},Se=o=>Gr(o,0),Ye=(o,a)=>({element:o,offset:a}),Re=(o,a)=>{const c=yr(o);return c.length>0&&a<c.length?Ye(c[a],0):Ye(o,a)},lt=o=>Jf(o)&&$(o.dom.host),st=o=>Qt(o.dom.getRootNode()),je=o=>lt(o)?o:Qt(Qf(o).dom.body),Lt=o=>{const a=st(o);return lt(a)?D.some(a):D.none()},Yt=o=>Qt(o.dom.host),nn=o=>{const a=ri(o)?o.dom.parentNode:o.dom;if(a==null||a.ownerDocument===null)return!1;const c=a.ownerDocument;return Lt(Qt(a)).fold(()=>c.body.contains(a),(d=nn,p=Yt,v=>d(p(v))));var d,p},fn=()=>en(Qt(document)),en=o=>{const a=o.dom.body;if(a==null)throw new Error("Body is not available yet");return Qt(a)},ro=(o,a,c)=>{if(!(h(c)||R(c)||ee(c)))throw console.error("Invalid call to Attribute.set. Key ",a,":: Value ",c,":: Element ",o),new Error("Attribute value was not simple");o.setAttribute(a,c+"")},Jt=(o,a,c)=>{ro(o.dom,a,c)},lr=(o,a)=>{const c=o.dom;Cn(a,(d,p)=>{ro(c,p,d)})},Co=(o,a)=>{const c=o.dom.getAttribute(a);return c===null?void 0:c},Io=(o,a)=>D.from(Co(o,a)),fs=(o,a)=>{const c=o.dom;return!(!c||!c.hasAttribute)&&c.hasAttribute(a)},fo=(o,a)=>{o.dom.removeAttribute(a)},bl=(o,a,c)=>{if(!h(c))throw console.error("Invalid call to CSS.set. Property ",a,":: Value ",c,":: Element ",o),new Error("CSS value must be a string: "+c);mr(o)&&o.style.setProperty(a,c)},za=(o,a)=>{mr(o)&&o.style.removeProperty(a)},Qn=(o,a,c)=>{const d=o.dom;bl(d,a,c)},Pi=(o,a)=>{const c=o.dom;Cn(a,(d,p)=>{bl(c,p,d)})},el=(o,a)=>{const c=o.dom;Cn(a,(d,p)=>{d.fold(()=>{za(c,p)},v=>{bl(c,p,v)})})},as=(o,a)=>{const c=o.dom,d=window.getComputedStyle(c).getPropertyValue(a);return d!==""||nn(o)?d:td(c,a)},td=(o,a)=>mr(o)?o.style.getPropertyValue(a):"",Ts=(o,a)=>{const c=o.dom,d=td(c,a);return D.from(d).filter(p=>p.length>0)},$d=o=>{const a={},c=o.dom;if(mr(c))for(let d=0;d<c.style.length;d++){const p=c.style.item(d);a[p]=c.style[p]}return a},vl=(o,a,c)=>{const d=da(o);return Qn(d,a,c),Ts(d,a).isSome()},nr=(o,a)=>{const c=o.dom;za(c,a),Wr(Io(o,"style").map(ic),"")&&fo(o,"style")},yu=o=>o.dom.offsetWidth,em=(o,a)=>{const c=p=>{const v=a(p);if(v<=0||v===null){const w=as(p,o);return parseFloat(w)||0}return v},d=(p,v)=>Rn(v,(w,k)=>{const E=as(p,k),O=E===void 0?0:parseInt(E,10);return isNaN(O)?w:w+O},0);return{set:(p,v)=>{if(!ee(v)&&!v.match(/^[0-9]+$/))throw new Error(o+".set accepts only positive integer values. Value was "+v);const w=p.dom;mr(w)&&(w.style[o]=v+"px")},get:c,getOuter:c,aggregate:d,max:(p,v,w)=>{const k=d(p,w);return v>k?v-k:0}}},Ch=em("height",o=>{const a=o.dom;return nn(o)?a.getBoundingClientRect().height:a.offsetHeight}),ms=o=>Ch.get(o),lc=o=>Ch.getOuter(o),tl=(o,a)=>({left:o,top:a,translate:(c,d)=>tl(o+c,a+d)}),Lr=tl,tm=(o,a)=>o!==void 0?o:a!==void 0?a:0,yl=o=>{const a=o.dom.ownerDocument,c=a.body,d=a.defaultView,p=a.documentElement;if(c===o.dom)return Lr(c.offsetLeft,c.offsetTop);const v=tm(d==null?void 0:d.pageYOffset,p.scrollTop),w=tm(d==null?void 0:d.pageXOffset,p.scrollLeft),k=tm(p.clientTop,c.clientTop),E=tm(p.clientLeft,c.clientLeft);return Ha(o).translate(w-E,v-k)},Ha=o=>{const a=o.dom,c=a.ownerDocument.body;return c===a?Lr(c.offsetLeft,c.offsetTop):nn(o)?(d=>{const p=d.getBoundingClientRect();return Lr(p.left,p.top)})(a):Lr(0,0)},hg=em("width",o=>o.dom.offsetWidth),fa=o=>hg.get(o),Li=o=>hg.getOuter(o),Va=o=>{let a,c=!1;return(...d)=>(c||(c=!0,a=o.apply(null,d)),a)},xl=()=>_h(0,0),_h=(o,a)=>({major:o,minor:a}),_o={nu:_h,detect:(o,a)=>{const c=String(a).toLowerCase();return o.length===0?xl():((d,p)=>{const v=((k,E)=>{for(let O=0;O<k.length;O++){const L=k[O];if(L.test(E))return L}})(d,p);if(!v)return{major:0,minor:0};const w=k=>Number(p.replace(v,"$"+k));return _h(w(1),w(2))})(o,c)},unknown:xl},zc=(o,a)=>{const c=String(a).toLowerCase();return J(o,d=>d.search(c))},nd=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,xu=o=>a=>Hs(a,o),Jp=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:o=>Hs(o,"edge/")&&Hs(o,"chrome")&&Hs(o,"safari")&&Hs(o,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,nd],search:o=>Hs(o,"chrome")&&!Hs(o,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:o=>Hs(o,"msie")||Hs(o,"trident")},{name:"Opera",versionRegexes:[nd,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:xu("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:xu("firefox")},{name:"Safari",versionRegexes:[nd,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:o=>(Hs(o,"safari")||Hs(o,"mobile/"))&&Hs(o,"applewebkit")}],ky=[{name:"Windows",search:xu("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:o=>Hs(o,"iphone")||Hs(o,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:xu("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:xu("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:xu("linux"),versionRegexes:[]},{name:"Solaris",search:xu("sunos"),versionRegexes:[]},{name:"FreeBSD",search:xu("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:xu("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],r1={browsers:te(Jp),oses:te(ky)},s1="Edge",Hw="Chromium",Sh="Opera",a1="Firefox",Kt="Safari",Ud=o=>{const a=o.current,c=o.version,d=p=>()=>a===p;return{current:a,version:c,isEdge:d(s1),isChromium:d(Hw),isIE:d("IE"),isOpera:d(Sh),isFirefox:d(a1),isSafari:d(Kt)}},Wd=()=>Ud({current:void 0,version:_o.unknown()}),i1=Ud,$a="Windows",Zd="Android",pg="Linux",Ey="macOS",Ay="Solaris",Qp="FreeBSD",Ty="ChromeOS",l1=o=>{const a=o.current,c=o.version,d=p=>()=>a===p;return{current:a,version:c,isWindows:d($a),isiOS:d("iOS"),isAndroid:d(Zd),isMacOS:d(Ey),isLinux:d(pg),isSolaris:d(Ay),isFreeBSD:d(Qp),isChromeOS:d(Ty)}},Oy=()=>l1({current:void 0,version:_o.unknown()}),bg=l1,c1=o=>window.matchMedia(o).matches;var jd;let Kd=Va(()=>((o,a,c)=>{const d=r1.browsers(),p=r1.oses(),v=a.bind(E=>((O,L)=>It(L.brands,M=>{const H=M.brand.toLowerCase();return J(O,q=>{var Y;return H===((Y=q.brand)===null||Y===void 0?void 0:Y.toLowerCase())}).map(q=>({current:q.name,version:_o.nu(parseInt(M.version,10),0)}))}))(d,E)).orThunk(()=>((E,O)=>zc(E,O).map(L=>{const M=_o.detect(L.versionRegexes,O);return{current:L.name,version:M}}))(d,o)).fold(Wd,i1),w=((E,O)=>zc(E,O).map(L=>{const M=_o.detect(L.versionRegexes,O);return{current:L.name,version:M}}))(p,o).fold(Oy,bg),k=((E,O,L,M)=>{const H=E.isiOS()&&/ipad/i.test(L)===!0,q=E.isiOS()&&!H,Y=E.isiOS()||E.isAndroid(),se=Y||M("(pointer:coarse)"),ce=H||!q&&Y&&M("(min-device-width:768px)"),ve=q||Y&&!ce,ie=O.isSafari()&&E.isiOS()&&/safari/i.test(L)===!1,ae=!ve&&!ce&&!ie;return{isiPad:te(H),isiPhone:te(q),isTablet:te(ce),isPhone:te(ve),isTouch:te(se),isAndroid:E.isAndroid,isiOS:E.isiOS,isWebView:te(ie),isDesktop:te(ae)}})(w,v,o,c);return{browser:v,os:w,deviceType:k}})(window.navigator.userAgent,D.from(window.navigator.userAgentData),c1));const Ua=()=>Kd(),nl=o=>{const a=Qt((v=>{if($(v.target)){const w=Qt(v.target);if(qr(w)&&(k=>$(k.dom.shadowRoot))(w)&&v.composed&&v.composedPath){const k=v.composedPath();if(k)return $t(k)}}return D.from(v.target)})(o).getOr(o.target)),c=()=>o.stopPropagation(),d=()=>o.preventDefault(),p=Te(d,c);return((v,w,k,E,O,L,M)=>({target:v,x:w,y:k,stop:E,prevent:O,kill:L,raw:M}))(a,o.clientX,o.clientY,c,d,p,o)},vg=(o,a,c,d,p)=>{const v=((w,k)=>E=>{w(E)&&k(nl(E))})(c,d);return o.dom.addEventListener(a,v,p),{unbind:Ge(Po,o,a,v,p)}},Po=(o,a,c,d)=>{o.dom.removeEventListener(a,c,d)},od=(o,a)=>{si(o).each(c=>{c.dom.insertBefore(a.dom,o.dom)})},yg=(o,a)=>{(d=>D.from(d.dom.nextSibling).map(Qt))(o).fold(()=>{si(o).each(d=>{yi(d,a)})},d=>{od(d,a)})},xg=(o,a)=>{Se(o).fold(()=>{yi(o,a)},c=>{o.dom.insertBefore(a.dom,c.dom)})},yi=(o,a)=>{o.dom.appendChild(a.dom)},Os=(o,a)=>{Zt(a,c=>{yi(o,c)})},Yr=o=>{o.dom.textContent="",Zt(yr(o),a=>{Sa(a)})},Sa=o=>{const a=o.dom;a.parentNode!==null&&a.parentNode.removeChild(a)},Fr=o=>{const a=o!==void 0?o.dom:document,c=a.body.scrollLeft||a.documentElement.scrollLeft,d=a.body.scrollTop||a.documentElement.scrollTop;return Lr(c,d)},qd=(o,a,c)=>{const d=(c!==void 0?c.dom:document).defaultView;d&&d.scrollTo(o,a)},nm=(o,a,c,d)=>({x:o,y:a,width:c,height:d,right:o+c,bottom:a+d}),ra=o=>{const a=o===void 0?window:o,c=a.document,d=Fr(Qt(c));return(p=>{const v=p===void 0?window:p;return Ua().browser.isFirefox()?D.none():D.from(v.visualViewport)})(a).fold(()=>{const p=a.document.documentElement,v=p.clientWidth,w=p.clientHeight;return nm(d.left,d.top,v,w)},p=>nm(Math.max(p.pageLeft,d.left),Math.max(p.pageTop,d.top),p.width,p.height))},xi=()=>Qt(document),ii=(o,a)=>o.view(a).fold(te([]),c=>{const d=o.owner(c),p=ii(o,d);return[c].concat(p)});var Hc=Object.freeze({__proto__:null,view:o=>{var a;return(o.dom===document?D.none():D.from((a=o.dom.defaultView)===null||a===void 0?void 0:a.frameElement)).map(Qt)},owner:o=>js(o)});const rd=o=>{const a=xi(),c=Fr(a);return((p,v)=>{const w=v.owner(p),k=ii(v,w);return D.some(k)})(o,Hc).fold(Ge(yl,o),p=>{const v=Ha(o),w=xn(p,(k,E)=>{const O=Ha(E);return{left:k.left+O.left,top:k.top+O.top}},{left:0,top:0});return Lr(w.left+v.left+c.left,w.top+v.top+c.top)})},bo=(o,a,c,d)=>({x:o,y:a,width:c,height:d,right:o+c,bottom:a+d}),Ks=o=>{const a=yl(o),c=Li(o),d=lc(o);return bo(a.left,a.top,c,d)},ol=o=>{const a=rd(o),c=Li(o),d=lc(o);return bo(a.left,a.top,c,d)},sd=(o,a)=>{const c=Math.max(o.x,a.x),d=Math.max(o.y,a.y),p=Math.min(o.right,a.right),v=Math.min(o.bottom,a.bottom);return bo(c,d,p-c,v-d)},ka=()=>ra(window),Dn=o=>{let a=o;return{get:()=>a,set:c=>{a=c}}},cc=o=>{const a=Dn(D.none()),c=()=>a.get().each(o);return{clear:()=>{c(),a.set(D.none())},isSet:()=>a.get().isSome(),get:()=>a.get(),set:d=>{c(),a.set(D.some(d))}}},uc=()=>cc(o=>o.unbind()),cr=()=>{const o=cc(he);return{...o,on:a=>o.get().each(a)}};var kh=tinymce.util.Tools.resolve("tinymce.ThemeManager");const eb=o=>{const a=v=>v(o),c=te(o),d=()=>p,p={tag:!0,inner:o,fold:(v,w)=>w(o),isValue:Ne,isError:Ce,map:v=>So.value(v(o)),mapError:d,bind:a,exists:a,forall:a,getOr:c,or:d,getOrThunk:c,orThunk:d,getOrDie:c,each:v=>{v(o)},toOptional:()=>D.some(o)};return p},ad=o=>{const a=()=>c,c={tag:!1,inner:o,fold:(d,p)=>d(o),isValue:Ce,isError:Ne,map:a,mapError:d=>So.error(d(o)),bind:a,exists:Ce,forall:Ne,getOr:Ae,or:Ae,getOrThunk:ot,orThunk:ot,getOrDie:Ze(String(o)),each:he,toOptional:D.none};return c},So={value:eb,error:ad,fromOption:(o,a)=>o.fold(()=>ad(a),eb)};var wi;(function(o){o[o.Error=0]="Error",o[o.Value=1]="Value"})(wi||(wi={}));const Eh=(o,a,c)=>o.stype===wi.Error?a(o.serror):c(o.svalue),id=o=>({stype:wi.Value,svalue:o}),tb=o=>({stype:wi.Error,serror:o}),Vc=id,Fi=tb,$c=Eh,Gd=(o,a,c,d)=>({tag:"field",key:o,newKey:a,presence:c,prop:d}),Be=(o,a,c)=>{switch(o.tag){case"field":return a(o.key,o.newKey,o.presence,o.prop);case"custom":return c(o.newKey,o.instantiator)}},om=o=>(...a)=>{if(a.length===0)throw new Error("Can't merge zero objects");const c={};for(let d=0;d<a.length;d++){const p=a[d];for(const v in p)po(p,v)&&(c[v]=o(c[v],p[v]))}return c},xr=om((o,a)=>S(o)&&S(a)?xr(o,a):a),nb=om((o,a)=>a),wg=o=>({tag:"defaultedThunk",process:o}),Uc=o=>wg(te(o)),Lo=o=>({tag:"mergeWithThunk",process:o}),Wa=o=>{const a=(d=>{const p=[],v=[];return Zt(d,w=>{Eh(w,k=>v.push(k),k=>p.push(k))}),{values:p,errors:v}})(o);return a.errors.length>0?(c=a.errors,Te(Fi,vr)(c)):Vc(a.values);var c},wu=o=>x(o)&&on(o).length>100?" removed due to size":JSON.stringify(o,null,2),Hl=(o,a)=>Fi([{path:o,getErrorInfo:a}]),Cu=o=>({extract:(a,c)=>((d,p)=>d.stype===wi.Error?p(d.serror):d)(o(c),d=>((p,v)=>Hl(p,te(v)))(a,d)),toString:te("val")}),_u=Cu(Vc),Za=(o,a,c,d)=>d(un(o,a).getOrThunk(()=>c(o))),Yd=(o,a,c,d,p)=>{const v=k=>p.extract(a.concat([d]),k),w=k=>k.fold(()=>Vc(D.none()),E=>((O,L)=>O.stype===wi.Value?{stype:wi.Value,svalue:L(O.svalue)}:O)(p.extract(a.concat([d]),E),D.some));switch(o.tag){case"required":return((k,E,O,L)=>un(E,O).fold(()=>((M,H,q)=>Hl(M,()=>'Could not find valid *required* value for "'+H+'" in '+wu(q)))(k,O,E),L))(a,c,d,v);case"defaultedThunk":return Za(c,d,o.process,v);case"option":return((k,E,O)=>O(un(k,E)))(c,d,w);case"defaultedOptionThunk":return((k,E,O,L)=>L(un(k,E).map(M=>M===!0?O(k):M)))(c,d,o.process,w);case"mergeWithThunk":return Za(c,d,te({}),k=>{const E=xr(o.process(c),k);return v(E)})}},rm=o=>({extract:(a,c)=>o().extract(a,c),toString:()=>o().toString()}),ob=o=>on(Do(o,$)),sa=o=>{const a=Pn(o),c=xn(o,(d,p)=>Be(p,v=>xr(d,{[v]:!0}),te(d)),{});return{extract:(d,p)=>{const v=R(p)?[]:ob(p),w=ho(v,k=>!io(c,k));return w.length===0?a.extract(d,p):((k,E)=>Hl(k,()=>"There are unsupported fields: ["+E.join(", ")+"] specified"))(d,w)},toString:a.toString}},Pn=o=>({extract:(a,c)=>((d,p,v)=>{const w={},k=[];for(const E of v)Be(E,(O,L,M,H)=>{const q=Yd(M,d,p,O,H);$c(q,Y=>{k.push(...Y)},Y=>{w[L]=Y})},(O,L)=>{w[O]=L(p)});return k.length>0?Fi(k):Vc(w)})(a,c,o),toString:()=>`obj{
`+bt(o,c=>Be(c,(d,p,v,w)=>d+" -> "+w.toString(),(d,p)=>"state("+d+")")).join(`
`)+"}"}),Su=o=>({extract:(a,c)=>{const d=bt(c,(p,v)=>o.extract(a.concat(["["+v+"]"]),p));return Wa(d)},toString:()=>"array("+o.toString()+")"}),sm=(o,a)=>{const c=a!==void 0?a:Ae;return{extract:(d,p)=>{const v=[];for(const w of o){const k=w.extract(d,p);if(k.stype===wi.Value)return{stype:wi.Value,svalue:c(k.svalue)};v.push(k)}return Wa(v)},toString:()=>"oneOf("+bt(o,d=>d.toString()).join(", ")+")"}},ja=(o,a)=>({extract:(c,d)=>{const p=on(d),v=((w,k)=>Su(Cu(o)).extract(w,k))(c,p);return((w,k)=>w.stype===wi.Value?k(w.svalue):w)(v,w=>{const k=bt(w,E=>Gd(E,E,{tag:"required",process:{}},a));return Pn(k).extract(c,d)})},toString:()=>"setOf("+a.toString()+")"}),ku=Te(Su,Pn),wl=te(_u),Eu=(o,a)=>Cu(c=>{const d=typeof c;return o(c)?Vc(c):Fi(`Expected type: ${a} but got: ${d}`)}),ld=Eu(ee,"number"),aa=Eu(h,"string"),Vl=Eu(R,"boolean"),Wc=Eu(K,"function"),am=o=>{if(Object(o)!==o)return!0;switch({}.toString.call(o).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(o).every(a=>am(o[a]));default:return!1}},u1=Cu(o=>am(o)?Vc(o):Fi("Expected value to be acceptable for sending via postMessage")),Au=(o,a)=>({extract:(c,d)=>un(d,o).fold(()=>((p,v)=>Hl(p,()=>'Choice schema did not contain choice key: "'+v+'"'))(c,o),p=>((v,w,k,E)=>un(k,E).fold(()=>((O,L,M)=>Hl(O,()=>'The chosen schema: "'+M+'" did not exist in branches: '+wu(L)))(v,k,E),O=>O.extract(v.concat(["branch: "+E]),w)))(c,d,a,p)),toString:()=>"chooseOn("+o+"). Possible values: "+on(a)}),Xd=o=>Cu(a=>o(a).fold(Fi,Vc)),rb=(o,a)=>ja(c=>o(c).fold(tb,id),a),is=(o,a,c)=>{return d=((p,v,w)=>((k,E)=>k.stype===wi.Error?{stype:wi.Error,serror:E(k.serror)}:k)(v.extract([p],w),k=>({input:w,errors:k})))(o,a,c),Eh(d,So.error,So.value);var d},Ci=o=>o.fold(a=>{throw new Error(zi(a))},Ae),li=(o,a,c)=>Ci(is(o,a,c)),zi=o=>`Errors: 
`+(a=>{const c=a.length>10?a.slice(0,10).concat([{path:[],getErrorInfo:te("... (only showing first ten failures)")}]):a;return bt(c,d=>"Failed path: ("+d.path.join(" > ")+`)
`+d.getErrorInfo())})(o.errors).join(`
`)+`

Input object: `+wu(o.input),Qs=(o,a)=>Au(o,En(a,Pn)),Ah=(o,a)=>((c,d)=>{const p=Va(d);return{extract:(v,w)=>p().extract(v,w),toString:()=>p().toString()}})(0,a),qs=Gd,Ea=(o,a)=>({tag:"custom",newKey:o,instantiator:a}),Zc=o=>Xd(a=>Qe(o,a)?So.value(a):So.error(`Unsupported value: "${a}", choose one of "${o.join(", ")}".`)),At=o=>qs(o,o,{tag:"required",process:{}},wl()),Aa=(o,a)=>qs(o,o,{tag:"required",process:{}},a),Th=o=>Aa(o,ld),ls=o=>Aa(o,aa),Tu=(o,a)=>qs(o,o,{tag:"required",process:{}},Zc(a)),_i=o=>Aa(o,Wc),dc=(o,a)=>qs(o,o,{tag:"required",process:{}},Pn(a)),im=(o,a)=>qs(o,o,{tag:"required",process:{}},ku(a)),Hi=(o,a)=>qs(o,o,{tag:"required",process:{}},Su(a)),Bo=o=>qs(o,o,{tag:"option",process:{}},wl()),Ds=(o,a)=>qs(o,o,{tag:"option",process:{}},a),Jd=o=>Ds(o,ld),ws=o=>Ds(o,aa),Cg=(o,a)=>Ds(o,Zc(a)),jc=o=>Ds(o,Wc),d1=(o,a)=>Ds(o,Su(a)),gs=(o,a)=>Ds(o,Pn(a)),et=(o,a)=>qs(o,o,Uc(a),wl()),Si=(o,a,c)=>qs(o,o,Uc(a),c),Rs=(o,a)=>Si(o,a,ld),Tl=(o,a)=>Si(o,a,aa),fc=(o,a,c)=>Si(o,a,Zc(c)),Vs=(o,a)=>Si(o,a,Vl),zr=(o,a)=>Si(o,a,Wc),gr=(o,a,c)=>Si(o,a,Su(c)),ki=(o,a,c)=>Si(o,a,Pn(c)),Ol=o=>{if(!B(o))throw new Error("cases must be an array");if(o.length===0)throw new Error("there must be at least one case");const a=[],c={};return Zt(o,(d,p)=>{const v=on(d);if(v.length!==1)throw new Error("one and only one name per case");const w=v[0],k=d[w];if(c[w]!==void 0)throw new Error("duplicate key detected:"+w);if(w==="cata")throw new Error("cannot have a case named cata (sorry)");if(!B(k))throw new Error("case arguments must be an array");a.push(w),c[w]=(...E)=>{const O=E.length;if(O!==k.length)throw new Error("Wrong number of arguments to case "+w+". Expected "+k.length+" ("+k+"), got "+O);return{fold:(...L)=>{if(L.length!==o.length)throw new Error("Wrong number of arguments to fold. Expected "+o.length+", got "+L.length);return L[p].apply(null,E)},match:L=>{const M=on(L);if(a.length!==M.length)throw new Error("Wrong number of arguments to match. Expected: "+a.join(",")+`
Actual: `+M.join(","));if(!oi(a,H=>Qe(M,H)))throw new Error("Not all branches were specified when using match. Specified: "+M.join(", ")+`
Required: `+a.join(", "));return L[w].apply(null,E)},log:L=>{console.log(L,{constructors:a,constructor:w,params:E})}}}}),c};Ol([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Kc=(o,a)=>((c,d)=>({[c]:d}))(o,a),cd=o=>(a=>{const c={};return Zt(a,d=>{c[d.key]=d.value}),c})(o),lm=o=>K(o)?o:Ce,_g=(o,a,c)=>{let d=o.dom;const p=lm(c);for(;d.parentNode;){d=d.parentNode;const v=Qt(d),w=a(v);if(w.isSome())return w;if(p(v))break}return D.none()},Sg=(o,a,c)=>{const d=a(o),p=lm(c);return d.orThunk(()=>p(o)?D.none():_g(o,a,p))},sb=(o,a)=>Wo(o.element,a.event.target),ab={can:Ne,abort:Ce,run:he},Ou=o=>{if(!io(o,"can")&&!io(o,"abort")&&!io(o,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(o,null,2)+" does not have can, abort, or run!");return{...ab,...o}},I=te,Z=I("touchstart"),oe=I("touchmove"),Oe=I("touchend"),ze=I("touchcancel"),Tt=I("mousedown"),Ln=I("mousemove"),so=I("mouseout"),Xn=I("mouseup"),_n=I("mouseover"),Qo=I("focusin"),Ns=I("focusout"),cs=I("keydown"),mc=I("keyup"),cm=I("input"),um=I("change"),ea=I("click"),Vw=I("transitioncancel"),ib=I("transitionend"),f1=I("transitionstart"),Ka=I("selectstart"),hs=o=>te("alloy."+o),ma={tap:hs("tap")},Du=hs("focus"),Oh=hs("blur.post"),Dy=hs("paste.post"),$l=hs("receive"),rl=hs("execute"),lb=hs("focus.item"),Qd=ma.tap,hk=hs("longpress"),cb=hs("sandbox.close"),ud=hs("typeahead.cancel"),ef=hs("system.init"),yn=hs("system.touchmove"),qc=hs("system.touchend"),ub=hs("system.scroll"),tf=hs("system.resize"),qa=hs("system.attached"),gc=hs("system.detached"),kg=hs("system.dismissRequested"),nf=hs("system.repositionRequested"),m1=hs("focusmanager.shifted"),Gc=hs("slotcontainer.visibility"),Dh=hs("system.external.element.scroll"),Rh=hs("change.tab"),Mt=hs("dismiss.tab"),Ry=hs("highlight"),of=hs("dehighlight"),go=(o,a)=>{hc(o,o.element,a,{})},Sn=(o,a,c)=>{hc(o,o.element,a,c)},rf=o=>{go(o,rl())},os=(o,a,c)=>{hc(o,a,c,{})},hc=(o,a,c,d)=>{const p={target:a,...d};o.getSystem().triggerEvent(c,a,p)},pc=(o,a,c,d)=>{o.getSystem().triggerEvent(c,a,d.event)},to=o=>cd(o),Nh=(o,a)=>({key:o,value:Ou({abort:a})}),$w=o=>({key:o,value:Ou({run:(a,c)=>{c.event.prevent()}})}),xt=(o,a)=>({key:o,value:Ou({run:a})}),Ny=(o,a,c)=>({key:o,value:Ou({run:(d,p)=>{a.apply(void 0,[d,p].concat(c))}})}),Ih=o=>a=>({key:o,value:Ou({run:(c,d)=>{sb(c,d)&&a(c,d)}})}),Bh=(o,a,c)=>((d,p)=>xt(d,(v,w)=>{v.getSystem().getByUid(p).each(k=>{pc(k,k.element,d,w)})}))(o,a.partUids[c]),Eg=(o,a)=>xt(o,(c,d)=>{const p=d.event,v=c.getSystem().getByDom(p.target).getOrThunk(()=>Sg(p.target,w=>c.getSystem().getByDom(w).toOptional(),Ce).getOr(c));a(c,v,d)}),dm=o=>xt(o,(a,c)=>{c.cut()}),Uw=o=>xt(o,(a,c)=>{c.stop()}),sf=(o,a)=>Ih(o)(a),Zr=Ih(qa()),Ru=Ih(gc()),g1=Ih(ef()),Yc=(hm=rl(),o=>xt(hm,o)),fm=o=>bt(o,a=>hu(a,"/*")?a.substring(0,a.length-2):a),Ul=(o,a)=>{const c=o.toString(),d=c.indexOf(")")+1,p=c.indexOf("("),v=c.substring(p+1,d-1).split(/,\s*/);return o.toFunctionAnnotation=()=>({name:a,parameters:fm(v)}),o},Is=o=>({classes:F(o.classes)?[]:o.classes,attributes:F(o.attributes)?{}:o.attributes,styles:F(o.styles)?{}:o.styles}),db=(o,a,c)=>g1((d,p)=>{c(d,o,a)}),ga=o=>({key:o,value:void 0}),h1=(o,a,c,d,p,v,w)=>{const k=L=>io(L,c)?L[c]():D.none(),E=En(p,(L,M)=>((H,q,Y)=>((se,ce,ve)=>{const ie=ve.toString(),ae=ie.indexOf(")")+1,me=ie.indexOf("("),ye=ie.substring(me+1,ae-1).split(/,\s*/);return se.toFunctionAnnotation=()=>({name:ce,parameters:fm(ye.slice(0,1).concat(ye.slice(3)))}),se})((se,...ce)=>{const ve=[se].concat(ce);return se.config({name:te(H)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+H+". Using API: "+Y)},ie=>{const ae=Array.prototype.slice.call(ve,1);return q.apply(void 0,[se,ie.config,ie.state].concat(ae))})},Y,q))(c,L,M)),O={...En(v,(L,M)=>Ul(L,M)),...E,revoke:Ge(ga,c),config:L=>{const M=li(c+"-config",o,L);return{key:c,value:{config:M,me:O,configAsRaw:Va(()=>li(c+"-config",o,L)),initialConfig:L,state:w}}},schema:te(a),exhibit:(L,M)=>Vt(k(L),un(d,"exhibit"),(H,q)=>q(M,H.config,H.state)).getOrThunk(()=>Is({})),name:te(c),handlers:L=>k(L).map(M=>un(d,"events").getOr(()=>({}))(M.config,M.state)).getOr({})};return O},bc={init:()=>ha({readState:te("No State required")})},ha=o=>o,Ft=o=>cd(o),mm=sa([At("fields"),At("name"),et("active",{}),et("apis",{}),et("state",bc),et("extra",{})]),pa=o=>{const a=li("Creating behaviour: "+o.name,mm,o);return((c,d,p,v,w,k)=>{const E=sa(c),O=gs(d,[(L=c,Ds("config",sa(L)))]);var L;return h1(E,O,d,p,v,w,k)})(a.fields,a.name,a.active,a.apis,a.extra,a.state)},Ww=sa([At("branchKey"),At("branches"),At("name"),et("active",{}),et("apis",{}),et("state",bc),et("extra",{})]),Zw=o=>{const a=li("Creating behaviour: "+o.name,Ww,o);return((c,d,p,v,w,k)=>{const E=c,O=gs(d,[Ds("config",c)]);return h1(E,O,d,p,v,w,k)})(Qs(a.branchKey,a.branches),a.name,a.active,a.apis,a.extra,a.state)},pk=te(void 0),dd=(o,a)=>{const c=Co(o,a);return c===void 0||c===""?[]:c.split(" ")},Ag=o=>o.dom.classList!==void 0,fb=o=>dd(o,"class"),p1=(o,a)=>((c,d,p)=>{const v=dd(c,d).concat([p]);return Jt(c,d,v.join(" ")),!0})(o,"class",a),Iy=(o,a)=>((c,d,p)=>{const v=ho(dd(c,d),w=>w!==p);return v.length>0?Jt(c,d,v.join(" ")):fo(c,d),!1})(o,"class",a),us=(o,a)=>{Ag(o)?o.dom.classList.add(a):p1(o,a)},mb=o=>{(Ag(o)?o.dom.classList:fb(o)).length===0&&fo(o,"class")},ps=(o,a)=>{Ag(o)?o.dom.classList.remove(a):Iy(o,a),mb(o)},Vi=(o,a)=>Ag(o)&&o.dom.classList.contains(a),Bs=(o,a)=>{Zt(a,c=>{us(o,c)})},Wl=(o,a)=>{Zt(a,c=>{ps(o,c)})},fd=o=>Ag(o)?(a=>{const c=a.dom.classList,d=new Array(c.length);for(let p=0;p<c.length;p++){const v=c.item(p);v!==null&&(d[p]=v)}return d})(o):fb(o),Ta=(o,a,c,d,p)=>{const v=w=>w+"px";return{position:o,left:a.map(v),top:c.map(v),right:d.map(v),bottom:p.map(v)}},gb=(o,a)=>{el(o,(c=>({...c,position:D.some(c.position)}))(a))},Mh=o=>(Wr(Ts(o,"position"),"fixed")?D.none():Fc(o)).orThunk(()=>{const a=da("span");return si(o).bind(c=>{yi(c,a);const d=Fc(a);return Sa(a),d})}),af=o=>Mh(o).map(yl).getOrThunk(()=>Lr(0,0)),jw=(o,a)=>{const c=o.element;us(c,a.transitionClass),ps(c,a.fadeOutClass),us(c,a.fadeInClass),a.onShow(o)},Ph=(o,a)=>{const c=o.element;us(c,a.transitionClass),ps(c,a.fadeInClass),us(c,a.fadeOutClass),a.onHide(o)},By=(o,a)=>o.y>=a.y,b1=(o,a)=>o.bottom<=a.bottom,hb=(o,a,c)=>({location:"top",leftX:a,topY:c.bounds.y-o.y}),v1=(o,a,c)=>({location:"bottom",leftX:a,bottomY:o.bottom-c.bounds.bottom}),My=o=>o.box.x-o.win.x,gm=(o,a,c)=>c.getInitialPos().map(d=>{const p=((v,w)=>{const k=w.optScrollEnv.fold(te(v.bounds.y),E=>E.scrollElmTop+(v.bounds.y-E.currentScrollTop));return Lr(v.bounds.x,k)})(d,a);return{box:bo(p.left,p.top,fa(o),ms(o)),location:d.location}}),bk=(o,a,c,d,p)=>{const v=((k,E)=>{const O=E.optScrollEnv.fold(te(k.y),L=>k.y+L.currentScrollTop-L.scrollElmTop);return Lr(k.x,O)})(a,c),w=bo(v.left,v.top,a.width,a.height);d.setInitialPos({style:$d(o),position:as(o,"position")||"static",bounds:w,location:p.location})},y1=(o,a,c)=>c.getInitialPos().bind(d=>{var p;switch(c.clearInitialPos(),d.position){case"static":return D.some({morph:"static"});case"absolute":const v=Mh(o).getOr(fn()),w=Ks(v),k=(p=v.dom.scrollTop)!==null&&p!==void 0?p:0;return D.some({morph:"absolute",positionCss:Ta("absolute",un(d.style,"left").map(E=>a.x-w.x),un(d.style,"top").map(E=>a.y-w.y+k),un(d.style,"right").map(E=>w.right-a.right),un(d.style,"bottom").map(E=>w.bottom-a.bottom))});default:return D.none()}}),x1=o=>{switch(o.location){case"top":return D.some({morph:"fixed",positionCss:Ta("fixed",D.some(o.leftX),D.some(o.topY),D.none(),D.none())});case"bottom":return D.some({morph:"fixed",positionCss:Ta("fixed",D.some(o.leftX),D.none(),D.none(),D.some(o.bottomY))});default:return D.none()}},Py=(o,a,c)=>{const d=o.element;return Wr(Ts(d,"position"),"fixed")?((p,v,w)=>((k,E,O)=>gm(k,E,O).filter(({box:L})=>((M,H,q)=>oi(M,Y=>{switch(Y){case"bottom":return b1(H,q.bounds);case"top":return By(H,q.bounds)}}))(O.getModes(),L,E)).bind(({box:L})=>y1(k,L,O)))(p,v,w).orThunk(()=>v.optScrollEnv.bind(k=>gm(p,v,w)).bind(({box:k,location:E})=>{const O=ka(),L=My({win:O,box:k}),M=E==="top"?hb(O,L,v):v1(O,L,v);return x1(M)})))(d,a,c):((p,v,w)=>{const k=Ks(p),E=ka(),O=((L,M,H)=>{const q=M.win,Y=M.box,se=My(M);return It(L,ce=>{switch(ce){case"bottom":return b1(Y,H.bounds)?D.none():D.some(v1(q,se,H));case"top":return By(Y,H.bounds)?D.none():D.some(hb(q,se,H));default:return D.none()}}).getOr({location:"no-dock"})})(w.getModes(),{win:E,box:k},v);return O.location==="top"||O.location==="bottom"?(bk(p,k,v,w,O),x1(O)):D.none()})(d,a,c)},Ly=(o,a,c)=>{c.setDocked(!1),Zt(["left","right","top","bottom","position"],d=>nr(o.element,d)),a.onUndocked(o)},pb=(o,a,c,d)=>{const p=d.position==="fixed";c.setDocked(p),gb(o.element,d),(p?a.onDocked:a.onUndocked)(o)},Fy=(o,a,c,d,p=!1)=>{a.contextual.each(v=>{v.lazyContext(o).each(w=>{const k=((E,O)=>E.y<O.bottom&&E.bottom>O.y)(w,d.bounds);k!==c.isVisible()&&(c.setVisible(k),p&&!k?(Bs(o.element,[v.fadeOutClass]),v.onHide(o)):(k?jw:Ph)(o,v))})})},zy=(o,a,c,d,p)=>{Fy(o,a,c,d,!0),pb(o,a,c,p.positionCss)},bb=(o,a,c)=>{o.getSystem().isConnected()&&((d,p,v)=>{const w=p.lazyViewport(d);Fy(d,p,v,w),Py(d,w,v).each(k=>{((E,O,L,M,H)=>{switch(H.morph){case"static":return Ly(E,O,L);case"absolute":return pb(E,O,L,H.positionCss);case"fixed":zy(E,O,L,M,H)}})(d,p,v,w,k)})})(o,a,c)},Lh=(o,a,c)=>{c.isDocked()&&((d,p,v)=>{const w=d.element;v.setDocked(!1);const k=p.lazyViewport(d);((E,O,L)=>{const M=E.element;return gm(M,O,L).bind(({box:H})=>y1(M,H,L))})(d,k,v).each(E=>{switch(E.morph){case"static":Ly(d,p,v);break;case"absolute":pb(d,p,v,E.positionCss)}}),v.setVisible(!0),p.contextual.each(E=>{Wl(w,[E.fadeInClass,E.fadeOutClass,E.transitionClass]),E.onShow(d)}),bb(d,p,v)})(o,a,c)},Hy=o=>(a,c,d)=>{const p=c.lazyViewport(a);((v,w,k,E)=>{const O=Ks(v),L=ka(),M=E(L,My({win:L,box:O}),w);return M.location==="bottom"||M.location==="top"?(((H,q,Y,se,ce)=>{se.getInitialPos().fold(()=>bk(H,q,Y,se,ce),()=>he)})(v,O,w,k,M),x1(M)):D.none()})(a.element,p,d,o).each(v=>{zy(a,c,d,p,v)})},vb=Hy(hb),yb=Hy(v1);var hm,Fh=Object.freeze({__proto__:null,refresh:bb,reset:Lh,isDocked:(o,a,c)=>c.isDocked(),getModes:(o,a,c)=>c.getModes(),setModes:(o,a,c,d)=>c.setModes(d),forceDockToTop:vb,forceDockToBottom:yb}),Vy=Object.freeze({__proto__:null,events:(o,a)=>to([sf(ib(),(c,d)=>{o.contextual.each(p=>{Vi(c.element,p.transitionClass)&&(Wl(c.element,[p.transitionClass,p.fadeInClass]),(a.isVisible()?p.onShown:p.onHidden)(c)),d.stop()})}),xt(ub(),(c,d)=>{bb(c,o,a)}),xt(Dh(),(c,d)=>{bb(c,o,a)}),xt(tf(),(c,d)=>{Lh(c,o,a)})])});const md=o=>o.dom.innerHTML,Tg=(o,a)=>{const c=js(o).dom,d=Qt(c.createDocumentFragment()),p=((v,w)=>{const k=(w||document).createElement("div");return k.innerHTML=v,yr(Qt(k))})(a,c);Os(d,p),Yr(o),yi(o,d)},Og=(o,a)=>Qt(o.dom.cloneNode(a)),gd=o=>(a=>{if(lt(a))return"#shadow-root";{const c=(d=>Og(d,!1))(a);return(d=>{const p=da("div"),v=Qt(d.dom.cloneNode(!0));return yi(p,v),md(p)})(c)}})(o);var lf;(function(o){o[o.STOP=0]="STOP",o[o.NORMAL=1]="NORMAL",o[o.LOGGING=2]="LOGGING"})(lf||(lf={}));const xb=Dn({}),vk=["alloy/data/Fields","alloy/debugging/Debugging"],wb=(o,a,c)=>((d,p,v)=>{switch(un(xb.get(),d).orThunk(()=>{const w=on(xb.get());return It(w,k=>d.indexOf(k)>-1?D.some(xb.get()[k]):D.none())}).getOr(lf.NORMAL)){case lf.NORMAL:return v(vc());case lf.LOGGING:{const w=((E,O)=>{const L=[],M=new Date().getTime();return{logEventCut:(H,q,Y)=>{L.push({outcome:"cut",target:q,purpose:Y})},logEventStopped:(H,q,Y)=>{L.push({outcome:"stopped",target:q,purpose:Y})},logNoParent:(H,q,Y)=>{L.push({outcome:"no-parent",target:q,purpose:Y})},logEventNoHandlers:(H,q)=>{L.push({outcome:"no-handlers-left",target:q})},logEventResponse:(H,q,Y)=>{L.push({outcome:"response",purpose:Y,target:q})},write:()=>{const H=new Date().getTime();Qe(["mousemove","mouseover","mouseout",ef()],E)||console.log(E,{event:E,time:H-M,target:O.dom,sequence:bt(L,q=>Qe(["cut","stopped","response"],q.outcome)?"{"+q.purpose+"} "+q.outcome+" at ("+gd(q.target)+")":q.outcome)})}}})(d,p),k=v(w);return w.write(),k}case lf.STOP:return!0}})(o,a,c),vc=te({logEventCut:he,logEventStopped:he,logNoParent:he,logEventNoHandlers:he,logEventResponse:he,write:he}),Kw=te([At("menu"),At("selectedMenu")]),$y=te([At("item"),At("selectedItem")]);te(Pn($y().concat(Kw())));const Dg=te(Pn($y())),Ga=dc("initSize",[At("numColumns"),At("numRows")]),Rg=()=>dc("markers",[At("backgroundMenu")].concat(Kw()).concat($y())),Ng=o=>dc("markers",bt(o,At)),w1=(o,a,c)=>((()=>{const d=new Error;if(d.stack!==void 0){const p=d.stack.split(`
`);J(p,v=>v.indexOf("alloy")>0&&!On(vk,w=>v.indexOf(w)>-1)).getOr("unknown")}})(),qs(a,a,c,Xd(d=>So.value((...p)=>d.apply(void 0,p))))),Fo=o=>w1(0,o,Uc(he)),sl=o=>w1(0,o,Uc(D.none)),Nu=o=>w1(0,o,{tag:"required",process:{}}),ci=o=>w1(0,o,{tag:"required",process:{}}),Ir=(o,a)=>Ea(o,te(a)),Cb=o=>Ea(o,Ae),qw=te(Ga);var yk=[gs("contextual",[ls("fadeInClass"),ls("fadeOutClass"),ls("transitionClass"),_i("lazyContext"),Fo("onShow"),Fo("onShown"),Fo("onHide"),Fo("onHidden")]),zr("lazyViewport",()=>({bounds:ka(),optScrollEnv:D.none()})),gr("modes",["top","bottom"],aa),Fo("onDocked"),Fo("onUndocked")];const Xr=pa({fields:yk,name:"docking",active:Vy,apis:Fh,state:Object.freeze({__proto__:null,init:o=>{const a=Dn(!1),c=Dn(!0),d=cr(),p=Dn(o.modes);return ha({isDocked:a.get,setDocked:a.set,getInitialPos:d.get,setInitialPos:d.set,clearInitialPos:d.clear,isVisible:c.get,setVisible:c.set,getModes:p.get,setModes:p.set,readState:()=>`docked:  ${a.get()}, visible: ${c.get()}, modes: ${p.get().join(",")}`})}})}),C1=to([((o,a)=>({key:o,value:Ou({can:(c,d)=>{const p=d.event,v=p.originator,w=p.target;return!((k,E,O)=>Wo(E,k.element)&&!Wo(E,O))(c,v,w)||(console.warn(Du()+` did not get interpreted by the desired target. 
Originator: `+gd(v)+`
Target: `+gd(w)+`
Check the `+Du()+" event handlers"),!1)}})}))(Du())]);var Uy=Object.freeze({__proto__:null,events:C1});const pm=(o,a,c,d)=>{const p=o+a;return p>d?c:p<c?d:p},yc=(o,a,c)=>Math.min(Math.max(o,a),c);let zh=0;const mn=o=>{const a=new Date().getTime(),c=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return zh++,o+"_"+c+zh+String(a)},Xc=te("alloy-id-"),Wy=te("data-alloy-id"),_1=Xc(),Hh=Wy(),S1=(o,a)=>{Object.defineProperty(o.dom,Hh,{value:a,writable:!0})},Ig=o=>{const a=qr(o)?o.dom[Hh]:null;return D.from(a)},xc=o=>mn(o),xk=Ae,k1=o=>{const a=p=>`The component must be in a context to execute: ${p}`+(o?`
`+gd(o().element)+" is not in context.":""),c=p=>()=>{throw new Error(a(p))},d=p=>()=>{console.warn(a(p))};return{debugInfo:te("fake"),triggerEvent:d("triggerEvent"),triggerFocus:d("triggerFocus"),triggerEscape:d("triggerEscape"),broadcast:d("broadcast"),broadcastOn:d("broadcastOn"),broadcastEvent:d("broadcastEvent"),build:c("build"),buildOrPatch:c("buildOrPatch"),addToWorld:c("addToWorld"),removeFromWorld:c("removeFromWorld"),addToGui:c("addToGui"),removeFromGui:c("removeFromGui"),getByUid:c("getByUid"),getByDom:c("getByDom"),isConnected:Ce}},Zy=k1(),E1=mn("alloy-premade"),jy=o=>(Object.defineProperty(o.element.dom,E1,{value:o.uid,writable:!0}),Kc(E1,o)),Ky=o=>un(o,E1),A1=o=>((a,c)=>{const d=c.toString(),p=d.indexOf(")")+1,v=d.indexOf("("),w=d.substring(v+1,p-1).split(/,\s*/);return a.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:fm(w.slice(1))}),a})((a,...c)=>o(a.getApis(),a,...c),o),qy=(o,a)=>{const c={};return Cn(o,(d,p)=>{Cn(d,(v,w)=>{const k=un(c,w).getOr([]);c[w]=k.concat([a(p,v)])})}),c},Gy=o=>o.cHandler,Gw=(o,a)=>({name:o,handler:a}),wk=(o,a)=>{const c={};return Zt(o,d=>{c[d.name()]=d.handlers(a)}),c},_b=(o,a,c)=>{const d=a[c];return d?((p,v,w,k)=>{try{const E=pe(w,(O,L)=>{const M=O[v],H=L[v],q=k.indexOf(M),Y=k.indexOf(H);if(q===-1)throw new Error("The ordering for "+p+" does not have an entry for "+M+`.
Order specified: `+JSON.stringify(k,null,2));if(Y===-1)throw new Error("The ordering for "+p+" does not have an entry for "+H+`.
Order specified: `+JSON.stringify(k,null,2));return q<Y?-1:Y<q?1:0});return So.value(E)}catch(E){return So.error([E])}})("Event: "+c,"name",o,d).map(p=>(v=>({can:((E,O)=>(...L)=>Rn(E,(M,H)=>M&&(q=>q.can)(H).apply(void 0,L),!0))(v),abort:((E,O)=>(...L)=>Rn(E,(M,H)=>M||(q=>q.abort)(H).apply(void 0,L),!1))(v),run:(...E)=>{Zt(v,O=>{O.run.apply(void 0,E)})}}))(bt(p,v=>v.handler))):((p,v)=>So.error(["The event ("+p+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(bt(v,w=>w.name),null,2)]))(c,o)},Yy=(o,a)=>((c,d)=>{const p=(w=>{const k=[],E=[];return Zt(w,O=>{O.fold(L=>{k.push(L)},L=>{E.push(L)})}),{errors:k,values:E}})(c);return p.errors.length>0?(v=p.errors,So.error(vr(v))):((w,k)=>w.length===0?So.value(k):So.value(xr(k,nb.apply(void 0,w))))(p.values,d);var v})(As(o,(c,d)=>(c.length===1?So.value(c[0].handler):_b(c,a,d)).map(p=>{const v=(k=>{const E=(O=>K(O)?{can:Ne,abort:Ce,run:O}:O)(k);return(O,L,...M)=>{const H=[O,L].concat(M);E.abort.apply(void 0,H)?L.stop():E.can.apply(void 0,H)&&E.run.apply(void 0,H)}})(p),w=c.length>1?ho(a[d],k=>On(c,E=>E.name===k)).join(" > "):c[0].name;return Kc(d,((k,E)=>({handler:k,purpose:E}))(v,w))})),{}),Bg="alloy.base.behaviour",Ck=Pn([qs("dom","dom",{tag:"required",process:{}},Pn([At("tag"),et("styles",{}),et("classes",[]),et("attributes",{}),Bo("value"),Bo("innerHtml")])),At("components"),At("uid"),et("events",{}),et("apis",{}),qs("eventOrder","eventOrder",(Mg={[rl()]:["disabling",Bg,"toggling","typeaheadevents"],[Du()]:[Bg,"focusing","keying"],[ef()]:[Bg,"disabling","toggling","representing","tooltipping"],[cm()]:[Bg,"representing","streaming","invalidating"],[gc()]:[Bg,"representing","item-events","toolbar-button-events","tooltipping"],[Tt()]:["focusing",Bg,"item-type-events"],[Z()]:["focusing",Bg,"item-type-events"],[_n()]:["item-type-events","tooltipping"],[$l()]:["receiving","reflecting","tooltipping"]},Lo(te(Mg))),wl()),Bo("domModification")]),_k=o=>o.events,cf=o=>o.dom.value,bm=(o,a)=>{if(a===void 0)throw new Error("Value.set was undefined");o.dom.value=a},T1=(o,a,c)=>{c.fold(()=>yi(o,a),d=>{Wo(d,a)||(od(d,a),Sa(d))})},Yw=(o,a,c)=>{const d=bt(a,c),p=yr(o);return Zt(p.slice(d.length),Sa),d},Xy=(o,a,c,d)=>{const p=Gr(o,a),v=d(c,p),w=((k,E,O)=>Gr(k,E).map(L=>{if(O.exists(M=>!Wo(M,L))){const M=O.map(Bi).getOr("span"),H=da(M);return od(L,H),H}return L}))(o,a,p);return T1(o,v.element,w),v},Sb=(o,a)=>{const c=on(o),d=on(a),p=le(d,c),v=((w,k)=>{const E={},O={};return To(w,(L,M)=>!po(a,M)||L!==a[M],vo(E),vo(O)),{t:E,f:O}})(o).t;return{toRemove:p,toSet:v}},hd=(o,a)=>{const c=a.filter(d=>Bi(d)===o.tag&&!(p=>p.innerHtml.isSome()&&p.domChildren.length>0)(o)&&!(p=>po(p.dom,E1))(d)).bind(d=>((p,v)=>{try{const w=((k,E)=>{const{class:O,style:L,...M}=(me=>Rn(me.dom.attributes,(ye,_e)=>(ye[_e.name]=_e.value,ye),{}))(E),{toSet:H,toRemove:q}=Sb(k.attributes,M),Y=$d(E),{toSet:se,toRemove:ce}=Sb(k.styles,Y),ve=fd(E),ie=le(ve,k.classes),ae=le(k.classes,ve);return Zt(q,me=>fo(E,me)),lr(E,H),Bs(E,ae),Wl(E,ie),Zt(ce,me=>nr(E,me)),Pi(E,se),k.innerHtml.fold(()=>{const me=k.domChildren;((ye,_e)=>{Yw(ye,_e,(Le,Xe)=>{const _t=Gr(ye,Xe);return T1(ye,Le,_t),Le})})(E,me)},me=>{Tg(E,me)}),(()=>{const me=E,ye=k.value.getOrUndefined();ye!==cf(me)&&bm(me,ye??"")})(),E})(p,v);return D.some(w)}catch{return D.none()}})(o,d)).getOrThunk(()=>(d=>{const p=da(d.tag);lr(p,d.attributes),Bs(p,d.classes),Pi(p,d.styles),d.innerHtml.each(w=>Tg(p,w));const v=d.domChildren;return Os(p,v),d.value.each(w=>{bm(p,w)}),p})(o));return S1(c,o.uid),c},O1=o=>{const a=(c=>{const d=un(c,"behaviours").getOr({});return Ko(on(d),p=>{const v=d[p];return $(v)?[v.me]:[]})})(o);return((c,d)=>((p,v)=>{const w=bt(v,E=>gs(E.name(),[At("config"),et("state",bc)])),k=is("component.behaviours",Pn(w),p.behaviours).fold(E=>{throw new Error(zi(E)+`
Complete spec:
`+JSON.stringify(p,null,2))},Ae);return{list:v,data:En(k,E=>{const O=E.map(L=>({config:L.config,state:L.state.init(L.config)}));return te(O)})}})(c,d))(o,a)},ta=(o,a)=>{const c=()=>H,d=Dn(Zy),p=Ci((q=>is("custom.definition",Ck,q))(o)),v=O1(o),w=(q=>q.list)(v),k=(q=>q.data)(v),E=((q,Y,se)=>{const ce={...(ve=q).dom,uid:ve.uid,domChildren:bt(ve.components,Le=>Le.element)};var ve;const ie=(Le=>Le.domModification.fold(()=>Is({}),Is))(q),ae={"alloy.base.modification":ie},me=Y.length>0?((Le,Xe,_t,vt)=>{const gt={...Xe};Zt(_t,ko=>{gt[ko.name()]=ko.exhibit(Le,vt)});const Bt=qy(gt,(ko,Vr)=>({name:ko,modification:Vr})),sn=ko=>xn(ko,(Vr,Qr)=>({...Qr.modification,...Vr}),{}),vn=xn(Bt.classes,(ko,Vr)=>Vr.modification.concat(ko),[]),In=sn(Bt.attributes),qn=sn(Bt.styles);return Is({classes:vn,attributes:In,styles:qn})})(se,ae,Y,ce):ie;return ye=ce,_e=me,{...ye,attributes:{...ye.attributes,..._e.attributes},styles:{...ye.styles,..._e.styles},classes:ye.classes.concat(_e.classes)};var ye,_e})(p,w,k),O=hd(E,a),L=((q,Y,se)=>{const ce={"alloy.base.behaviour":_k(q)};return((ve,ie,ae,me)=>{const ye=((_e,Le,Xe)=>{const _t={...Xe,...wk(Le,_e)};return qy(_t,Gw)})(ve,ae,me);return Yy(ye,ie)})(se,q.eventOrder,Y,ce).getOrDie()})(p,w,k),M=Dn(p.components),H={uid:o.uid,getSystem:d.get,config:q=>{const Y=k;return(K(Y[q.name()])?Y[q.name()]:()=>{throw new Error("Could not find "+q.name()+" in "+JSON.stringify(o,null,2))})()},hasConfigured:q=>K(k[q.name()]),spec:o,readState:q=>k[q]().map(Y=>Y.state.readState()).getOr("not enabled"),getApis:()=>p.apis,connect:q=>{d.set(q)},disconnect:()=>{d.set(k1(c))},element:O,syncComponents:()=>{const q=yr(O),Y=Ko(q,se=>d.get().getByDom(se).fold(()=>[],Me));M.set(Y)},components:M.get,events:L};return H},Cs=o=>{const a=bu(o);return uf({element:a})},uf=o=>{const a=li("external.component",sa([At("element"),Bo("uid")]),o),c=Dn(k1()),d=a.uid.getOrThunk(()=>xc("external"));S1(a.element,d);const p={uid:d,getSystem:c.get,config:D.none,hasConfigured:Ce,connect:v=>{c.set(v)},disconnect:()=>{c.set(k1(()=>p))},getApis:()=>({}),element:a.element,spec:o,readState:te("No state"),syncComponents:he,components:te([]),events:{}};return jy(p)},Jy=xc,D1=(o,a)=>Ky(o).getOrThunk(()=>((c,d)=>{const{events:p,...v}=xk(c),w=((E,O)=>{const L=un(E,"components").getOr([]);return O.fold(()=>bt(L,Oa),M=>bt(L,(H,q)=>D1(H,Gr(M,q))))})(v,d),k={...v,events:{...Uy,...p},components:w};return So.value(ta(k,d))})((c=>po(c,"uid"))(o)?o:{uid:Jy(""),...o},a).getOrDie()),Oa=o=>D1(o,D.none()),$i=jy;var Mg,df=(o,a,c,d,p)=>o(c,d)?D.some(c):K(p)&&p(c)?D.none():a(c,d,p);const vm=(o,a,c)=>{let d=o.dom;const p=K(c)?c:Ce;for(;d.parentNode;){d=d.parentNode;const v=Qt(d);if(a(v))return D.some(v);if(p(v))break}return D.none()},R1=(o,a,c)=>df((d,p)=>p(d),vm,o,a,c),Xw=(o,a)=>J(o.dom.childNodes,c=>a(Qt(c))).map(Qt),Qy=(o,a,c)=>R1(o,a,c).isSome(),ym=(o,a,c)=>vm(o,d=>Pc(d,a),c),Br=(o,a)=>((c,d)=>{const p=c.dom;return p.parentNode?Xw(Qt(p.parentNode),v=>!Wo(c,v)&&Pc(v,a)):D.none()})(o),N1=(o,a)=>Xw(o,c=>Pc(c,a)),Jr=(o,a)=>ed(a,o),Iu=(o,a,c)=>df((d,p)=>Pc(d,p),ym,o,a,c),Jc="aria-controls",Pg=()=>{const o=mn(Jc);return{id:o,link:a=>{Jt(a,Jc,o)},unlink:a=>{fo(a,Jc)}}},al=(o,a)=>Qy(a,c=>Wo(c,o.element),Ce)||((c,d)=>(p=>R1(p,v=>{if(!qr(v))return!1;const w=Co(v,"id");return w!==void 0&&w.indexOf(Jc)>-1}).bind(v=>{const w=Co(v,"id"),k=st(v);return Jr(k,`[${Jc}="${w}"]`)}))(d).exists(p=>al(c,p)))(o,a),Ya=(o,a,c,d,p,v,w,k=!1)=>({x:o,y:a,bubble:c,direction:d,placement:p,restriction:v,label:`${w}-${p}`,alwaysFit:k}),xm=Ol([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),kb=xm.southeast,Lg=xm.southwest,Eb=xm.northeast,Fg=xm.northwest,Jw=xm.south,ex=xm.north,tx=xm.east,Qw=xm.west,Xa=(o,a)=>xe(["left","right","top","bottom"],c=>un(a,c).map(d=>((p,v)=>{switch(v){case 1:return p.x;case 0:return p.x+p.width;case 2:return p.y;case 3:return p.y+p.height}})(o,d))),wm="layout",eC=o=>o.x,wc=(o,a)=>o.x+o.width/2-a.width/2,Ui=(o,a)=>o.x+o.width-a.width,zg=(o,a)=>o.y-a.height,Vh=o=>o.y+o.height,tC=(o,a)=>o.y+o.height/2-a.height/2,bs=(o,a,c)=>Ya(eC(o),Vh(o),c.southeast(),kb(),"southeast",Xa(o,{left:1,top:3}),wm),vs=(o,a,c)=>Ya(Ui(o,a),Vh(o),c.southwest(),Lg(),"southwest",Xa(o,{right:0,top:3}),wm),$s=(o,a,c)=>Ya(eC(o),zg(o,a),c.northeast(),Eb(),"northeast",Xa(o,{left:1,bottom:2}),wm),wr=(o,a,c)=>Ya(Ui(o,a),zg(o,a),c.northwest(),Fg(),"northwest",Xa(o,{right:0,bottom:2}),wm),ds=(o,a,c)=>Ya(wc(o,a),zg(o,a),c.north(),ex(),"north",Xa(o,{bottom:2}),wm),Ms=(o,a,c)=>Ya(wc(o,a),Vh(o),c.south(),Jw(),"south",Xa(o,{top:3}),wm),I1=(o,a,c)=>Ya((d=>d.x+d.width)(o),tC(o,a),c.east(),tx(),"east",Xa(o,{left:0}),wm),B1=(o,a,c)=>Ya(((d,p)=>d.x-p.width)(o,a),tC(o,a),c.west(),Qw(),"west",Xa(o,{right:1}),wm),nx=()=>[bs,vs,$s,wr,Ms,ds,I1,B1],Ab=()=>[vs,bs,wr,$s,Ms,ds,I1,B1],ox=()=>[$s,wr,bs,vs,ds,Ms],Hg=()=>[wr,$s,vs,bs,ds,Ms],M1=()=>[bs,vs,$s,wr,Ms,ds],P1=()=>[vs,bs,wr,$s,Ms,ds];var rx=Object.freeze({__proto__:null,events:o=>to([xt($l(),(a,c)=>{const d=o.channels,p=on(d),v=c,w=((k,E)=>E.universal?k:ho(k,O=>Qe(E.channels,O)))(p,v);Zt(w,k=>{const E=d[k],O=E.schema,L=li("channel["+k+`] data
Receiver: `+gd(a.element),O,v.data);E.onReceive(a,L)})})])}),Tb=[Aa("channels",rb(So.value,sa([Nu("onReceive"),et("schema",wl())])))];const il=pa({fields:Tb,name:"receiving",active:rx});var sx=Object.freeze({__proto__:null,exhibit:(o,a)=>Is({classes:[],styles:a.useFixed()?{}:{position:"relative"}})});const Ei=(o,a=!1)=>o.dom.focus({preventScroll:a}),Ob=o=>o.dom.blur(),Vg=o=>{const a=st(o).dom;return o.dom===a.activeElement},Qc=(o=xi())=>D.from(o.dom.activeElement).map(Qt),Ps=o=>Qc(st(o)).filter(a=>o.dom.contains(a.dom)),Cm=(o,a)=>{const c=st(a),d=Qc(c).bind(v=>{const w=k=>Wo(v,k);return w(a)?D.some(a):((k,E)=>{const O=L=>{for(let M=0;M<L.childNodes.length;M++){const H=Qt(L.childNodes[M]);if(E(H))return D.some(H);const q=O(L.childNodes[M]);if(q.isSome())return q}return D.none()};return O(k.dom)})(a,w)}),p=o(a);return d.each(v=>{Qc(c).filter(w=>Wo(w,v)).fold(()=>{Ei(v)},he)}),p},ax=Ol([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),ix=(o,a,c,d,p,v)=>{const w=a.rect,k=w.x-c,E=w.y-d,O=p-(k+w.width),L=v-(E+w.height),M=D.some(k),H=D.some(E),q=D.some(O),Y=D.some(L),se=D.none();return a.direction.fold(()=>Ta(o,M,H,se,se),()=>Ta(o,se,H,q,se),()=>Ta(o,M,se,se,Y),()=>Ta(o,se,se,q,Y),()=>Ta(o,M,H,se,se),()=>Ta(o,M,se,se,Y),()=>Ta(o,M,H,se,se),()=>Ta(o,se,H,q,se))},Db=(o,a)=>o.fold(()=>{const c=a.rect;return Ta("absolute",D.some(c.x),D.some(c.y),D.none(),D.none())},(c,d,p,v)=>ix("absolute",a,c,d,p,v),(c,d,p,v)=>ix("fixed",a,c,d,p,v)),pd=(o,a)=>{const c=Ge(rd,a),d=o.fold(c,c,()=>{const w=Fr();return rd(a).translate(-w.left,-w.top)}),p=Li(a),v=lc(a);return bo(d.left,d.top,p,v)},Sk=(o,a)=>a.fold(()=>o.fold(ka,ka,bo),c=>o.fold(te(c),te(c),()=>{const d=Rb(o,c.x,c.y);return bo(d.left,d.top,c.width,c.height)})),Rb=(o,a,c)=>{const d=Lr(a,c);return o.fold(te(d),te(d),()=>{const p=Fr();return d.translate(-p.left,-p.top)})};ax.none;const _m=ax.relative,nC=ax.fixed,Nb="data-alloy-placement",Ib=o=>Io(o,Nb),L1=Ol([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),$h=(o,a,c,d)=>{const p=o.bubble,v=p.offset,w=((me,ye,_e)=>{const Le=(Bt,sn)=>ye[Bt].map(vn=>{const In=Bt==="top"||Bt==="bottom",qn=In?_e.top:_e.left,ko=(Bt==="left"||Bt==="top"?Math.max:Math.min)(vn,sn)+qn;return In?yc(ko,me.y,me.bottom):yc(ko,me.x,me.right)}).getOr(sn),Xe=Le("left",me.x),_t=Le("top",me.y),vt=Le("right",me.right),gt=Le("bottom",me.bottom);return bo(Xe,_t,vt-Xe,gt-_t)})(d,o.restriction,v),k=o.x+v.left,E=o.y+v.top,O=bo(k,E,a,c),{originInBounds:L,sizeInBounds:M,visibleW:H,visibleH:q}=((me,ye)=>{const{x:_e,y:Le,right:Xe,bottom:_t}=ye,{x:vt,y:gt,right:Bt,bottom:sn,width:vn,height:In}=me;return{originInBounds:vt>=_e&&vt<=Xe&&gt>=Le&&gt<=_t,sizeInBounds:Bt<=Xe&&Bt>=_e&&sn<=_t&&sn>=Le,visibleW:Math.min(vn,vt>=_e?Xe-vt:Bt-_e),visibleH:Math.min(In,gt>=Le?_t-gt:sn-Le)}})(O,w),Y=L&&M,se=Y?O:((me,ye)=>{const{x:_e,y:Le,right:Xe,bottom:_t}=ye,{x:vt,y:gt,width:Bt,height:sn}=me,vn=Math.max(_e,Xe-Bt),In=Math.max(Le,_t-sn),qn=yc(vt,_e,vn),ko=yc(gt,Le,In),Vr=Math.min(qn+Bt,Xe)-qn,Qr=Math.min(ko+sn,_t)-ko;return bo(qn,ko,Vr,Qr)})(O,w),ce=se.width>0&&se.height>0,{maxWidth:ve,maxHeight:ie}=((me,ye,_e)=>{const Le=te(ye.bottom-_e.y),Xe=te(_e.bottom-ye.y),_t=((sn,vn,In,qn)=>sn.fold(vn,vn,qn,qn,vn,qn,In,In))(me,Xe,Xe,Le),vt=te(ye.right-_e.x),gt=te(_e.right-ye.x);return{maxWidth:((sn,vn,In,qn)=>sn.fold(vn,qn,vn,qn,In,In,vn,qn))(me,gt,gt,vt),maxHeight:_t}})(o.direction,se,d),ae={rect:se,maxHeight:ie,maxWidth:ve,direction:o.direction,placement:o.placement,classes:{on:p.classesOn,off:p.classesOff},layout:o.label,testY:E};return Y||o.alwaysFit?L1.fit(ae):L1.nofit(ae,H,q,ce)},F1=Ne,Ai=(o,a,c)=>((d,p,v,w)=>vg(d,p,v,w,!1))(o,a,F1,c),lx=(o,a,c)=>((d,p,v,w)=>vg(d,p,v,w,!0))(o,a,F1,c),bd=nl,Bb=["top","bottom","right","left"],Bu="data-alloy-transition-timer",Mb=(o,a,c,d,p,v)=>{const w=((k,E,O)=>O.exists(L=>{const M=k.mode;return M==="all"||L[M]!==E[M]}))(d,p,v);if(w||((k,E)=>((O,L)=>oi(L,M=>Vi(O,M)))(k,E.classes))(o,d)){Qn(o,"position",c.position);const k=pd(a,o),E=Db(a,{...p,rect:k}),O=xe(Bb,L=>E[L]);((L,M)=>{const H=q=>parseFloat(q).toFixed(3);return fr(M,(q,Y)=>!((se,ce,ve=ne)=>Vt(se,ce,ve).getOr(se.isNone()&&ce.isNone()))(L[Y].map(H),q.map(H))).isSome()})(c,O)&&(el(o,O),w&&((L,M)=>{Bs(L,M.classes),Io(L,Bu).each(H=>{clearTimeout(parseInt(H,10)),fo(L,Bu)}),((H,q)=>{const Y=uc(),se=uc();let ce;const ve=ye=>{var _e;const Le=(_e=ye.raw.pseudoElement)!==null&&_e!==void 0?_e:"";return Wo(ye.target,H)&&pu(Le)&&Qe(Bb,ye.raw.propertyName)},ie=ye=>{if(W(ye)||ve(ye)){Y.clear(),se.clear();const _e=ye==null?void 0:ye.raw.type;(W(_e)||_e===ib())&&(clearTimeout(ce),fo(H,Bu),Wl(H,q.classes))}},ae=Ai(H,f1(),ye=>{ve(ye)&&(ae.unbind(),Y.set(Ai(H,ib(),ie)),se.set(Ai(H,Vw(),ie)))}),me=(ye=>{const _e=vt=>{const gt=as(ye,vt).split(/\s*,\s*/);return ho(gt,Ji)},Le=vt=>{if(h(vt)&&/^[\d.]+/.test(vt)){const gt=parseFloat(vt);return hu(vt,"ms")?gt:1e3*gt}return 0},Xe=_e("transition-delay"),_t=_e("transition-duration");return Rn(_t,(vt,gt,Bt)=>{const sn=Le(Xe[Bt])+Le(gt);return Math.max(vt,sn)},0)})(H);requestAnimationFrame(()=>{ce=setTimeout(ie,me+17),Jt(H,Bu,ce)})})(L,M)})(o,d),yu(o))}else Wl(o,d.classes)},Pb=(o,a)=>{((c,d)=>{const p=Ch.max(c,d,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);Qn(c,"max-height",p+"px")})(o,Math.floor(a))},Sm=te((o,a)=>{Pb(o,a),Pi(o,{"overflow-x":"hidden","overflow-y":"auto"})}),$g=te((o,a)=>{Pb(o,a)}),Cc=(o,a,c)=>o[a]===void 0?c:o[a],Lb=(o,a,c,d)=>{const p=((v,w,k,E)=>{nr(w,"max-height"),nr(w,"max-width");const O={width:Li(L=w),height:lc(L)};var L;return((M,H,q,Y,se,ce)=>{const ve=Y.width,ie=Y.height,ae=(me,ye,_e,Le,Xe)=>{const _t=me(q,Y,se,M,ce),vt=$h(_t,ve,ie,ce);return vt.fold(te(vt),(gt,Bt,sn,vn)=>(Xe===vn?sn>Le||Bt>_e:!Xe&&vn)?vt:L1.nofit(ye,_e,Le,Xe))};return Rn(H,(me,ye)=>{const _e=Ge(ae,ye);return me.fold(te(me),_e)},L1.nofit({rect:q,maxHeight:Y.height,maxWidth:Y.width,direction:kb(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:q.y},-1,-1,!1)).fold(Ae,Ae)})(w,E.preference,v,O,k,E.bounds)})(o,a,c,d);return((v,w,k)=>{const E=Db(k.origin,w);k.transition.each(O=>{Mb(v,k.origin,E,O,w,k.lastPlacement)}),gb(v,E)})(a,p,d),((v,w)=>{((k,E)=>{Jt(k,Nb,E)})(v,w.placement)})(a,p),((v,w)=>{const k=w.classes;Wl(v,k.off),Bs(v,k.on)})(a,p),((v,w,k)=>{(0,k.maxHeightFunction)(v,w.maxHeight)})(a,p,d),((v,w,k)=>{(0,k.maxWidthFunction)(v,w.maxWidth)})(a,p,d),{layout:p.layout,placement:p.placement}},kk=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Zl=(o,a,c,d=1)=>{const p=o*d,v=a*d,w=E=>un(c,E).getOr([]),k=(E,O,L)=>{const M=le(kk,L);return{offset:Lr(E,O),classesOn:Ko(L,w),classesOff:Ko(M,w)}};return{southeast:()=>k(-o,a,["top","alignLeft"]),southwest:()=>k(o,a,["top","alignRight"]),south:()=>k(-o/2,a,["top","alignCentre"]),northeast:()=>k(-o,-a,["bottom","alignLeft"]),northwest:()=>k(o,-a,["bottom","alignRight"]),north:()=>k(-o/2,-a,["bottom","alignCentre"]),east:()=>k(o,-a/2,["valignCentre","left"]),west:()=>k(-o,-a/2,["valignCentre","right"]),insetNortheast:()=>k(p,v,["top","alignLeft","inset"]),insetNorthwest:()=>k(-p,v,["top","alignRight","inset"]),insetNorth:()=>k(-p/2,v,["top","alignCentre","inset"]),insetSoutheast:()=>k(p,-v,["bottom","alignLeft","inset"]),insetSouthwest:()=>k(-p,-v,["bottom","alignRight","inset"]),insetSouth:()=>k(-p/2,-v,["bottom","alignCentre","inset"]),insetEast:()=>k(-p,-v/2,["valignCentre","right","inset"]),insetWest:()=>k(p,-v/2,["valignCentre","left","inset"])}},vd=()=>Zl(0,0,{}),_c=Ae,cx=(o,a)=>c=>ia(c)==="rtl"?a:o,ia=o=>as(o,"direction")==="rtl"?"rtl":"ltr";var Sc;(function(o){o.TopToBottom="toptobottom",o.BottomToTop="bottomtotop"})(Sc||(Sc={}));const ll="data-alloy-vertical-dir",Ek=o=>Qy(o,a=>qr(a)&&Co(a,"data-alloy-vertical-dir")===Sc.BottomToTop),ff=()=>gs("layouts",[At("onLtr"),At("onRtl"),Bo("onBottomLtr"),Bo("onBottomRtl")]),yd=(o,a,c,d,p,v,w)=>{const k=w.map(Ek).getOr(!1),E=a.layouts.map(H=>H.onLtr(o)),O=a.layouts.map(H=>H.onRtl(o)),L=k?a.layouts.bind(H=>H.onBottomLtr.map(q=>q(o))).or(E).getOr(p):E.getOr(c),M=k?a.layouts.bind(H=>H.onBottomRtl.map(q=>q(o))).or(O).getOr(v):O.getOr(d);return cx(L,M)(o)};var Uh=[At("hotspot"),Bo("bubble"),et("overrides",{}),ff(),Ir("placement",(o,a,c)=>{const d=a.hotspot,p=pd(c,d.element),v=yd(o.element,a,M1(),P1(),ox(),Hg(),D.some(a.hotspot.element));return D.some(_c({anchorBox:p,bubble:a.bubble.getOr(vd()),overrides:a.overrides,layouts:v}))})],km=[At("x"),At("y"),et("height",0),et("width",0),et("bubble",vd()),et("overrides",{}),ff(),Ir("placement",(o,a,c)=>{const d=Rb(c,a.x,a.y),p=bo(d.left,d.top,a.width,a.height),v=yd(o.element,a,nx(),Ab(),nx(),Ab(),D.none());return D.some(_c({anchorBox:p,bubble:a.bubble,overrides:a.overrides,layouts:v}))})];const Dl=Ol([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),z1=o=>o.fold(Ae,(a,c,d)=>a.translate(-c,-d)),H1=o=>o.fold(Ae,Ae),Fb=o=>Rn(o,(a,c)=>a.translate(c.left,c.top),Lr(0,0)),V1=o=>{const a=bt(o,H1);return Fb(a)},oC=Dl.screen,zb=Dl.absolute,xd=(o,a,c)=>{const d=js(o.element),p=Fr(d),v=((w,k,E)=>{const O=Lc(E.root).dom;return D.from(O.frameElement).map(Qt).filter(L=>{const M=js(L),H=js(w.element);return Wo(M,H)}).map(yl)})(o,0,c).getOr(p);return zb(v,p.left,p.top)},Hb=(o,a,c,d)=>{const p=oC(Lr(o,a));return D.some(((v,w,k)=>({point:v,width:w,height:k}))(p,c,d))},Ug=(o,a,c,d,p)=>o.map(v=>{const w=[a,v.point],k=(E=()=>V1(w),O=()=>V1(w),L=()=>(ae=>{const me=bt(ae,z1);return Fb(me)})(w),d.fold(E,O,L));var E,O,L;const M=(se=k.left,ce=k.top,ve=v.width,ie=v.height,{x:se,y:ce,width:ve,height:ie}),H=c.showAbove?ox():M1(),q=c.showAbove?Hg():P1(),Y=yd(p,c,H,q,H,q,D.none());var se,ce,ve,ie;return _c({anchorBox:M,bubble:c.bubble.getOr(vd()),overrides:c.overrides,layouts:Y})});var Wg=[At("node"),At("root"),Bo("bubble"),ff(),et("overrides",{}),et("showAbove",!1),Ir("placement",(o,a,c)=>{const d=xd(o,0,a);return a.node.filter(nn).bind(p=>{const v=p.dom.getBoundingClientRect(),w=Hb(v.left,v.top,v.width,v.height),k=a.node.getOr(o.element);return Ug(w,d,a,c,k)})})];const mf=(o,a,c,d)=>({start:o,soffset:a,finish:c,foffset:d}),gf=Ol([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Vb=(gf.before,gf.on,gf.after,o=>o.fold(Ae,Ae,Ae)),hf=Ol([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),pf={domRange:hf.domRange,relative:hf.relative,exact:hf.exact,exactFromRange:o=>hf.exact(o.start,o.soffset,o.finish,o.foffset),getWin:o=>{const a=(c=>c.match({domRange:d=>Qt(d.startContainer),relative:(d,p)=>Vb(d),exact:(d,p,v,w)=>d}))(o);return Lc(a)},range:mf},bf=(o,a,c)=>{const d=o.document.createRange();var p;return p=d,a.fold(v=>{p.setStartBefore(v.dom)},(v,w)=>{p.setStart(v.dom,w)},v=>{p.setStartAfter(v.dom)}),((v,w)=>{w.fold(k=>{v.setEndBefore(k.dom)},(k,E)=>{v.setEnd(k.dom,E)},k=>{v.setEndAfter(k.dom)})})(d,c),d},Zg=(o,a,c,d,p)=>{const v=o.document.createRange();return v.setStart(a.dom,c),v.setEnd(d.dom,p),v},$1=o=>({left:o.left,top:o.top,right:o.right,bottom:o.bottom,width:o.width,height:o.height}),Wh=Ol([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),U1=(o,a,c)=>a(Qt(c.startContainer),c.startOffset,Qt(c.endContainer),c.endOffset),ux=(o,a)=>((c,d)=>{const p=((v,w)=>w.match({domRange:k=>({ltr:te(k),rtl:D.none}),relative:(k,E)=>({ltr:Va(()=>bf(v,k,E)),rtl:Va(()=>D.some(bf(v,E,k)))}),exact:(k,E,O,L)=>({ltr:Va(()=>Zg(v,k,E,O,L)),rtl:Va(()=>D.some(Zg(v,O,L,k,E)))})}))(c,d);return((v,w)=>{const k=w.ltr();return k.collapsed?w.rtl().filter(E=>E.collapsed===!1).map(E=>Wh.rtl(Qt(E.endContainer),E.endOffset,Qt(E.startContainer),E.startOffset)).getOrThunk(()=>U1(0,Wh.ltr,k)):U1(0,Wh.ltr,k)})(0,p)})(o,a).match({ltr:(c,d,p,v)=>{const w=o.document.createRange();return w.setStart(c.dom,d),w.setEnd(p.dom,v),w},rtl:(c,d,p,v)=>{const w=o.document.createRange();return w.setStart(p.dom,v),w.setEnd(c.dom,d),w}});Wh.ltr,Wh.rtl;const Zh=(o,a,c)=>ho(((d,p)=>{const v=K(p)?p:Ce;let w=d.dom;const k=[];for(;w.parentNode!==null&&w.parentNode!==void 0;){const E=w.parentNode,O=Qt(E);if(k.push(O),v(O)===!0)break;w=E}return k})(o,c),a),la=(o,a)=>((c,d)=>{const p=d===void 0?document:d.dom;return Vd(p)?[]:bt(p.querySelectorAll(c),Qt)})(a,o),dx=o=>{if(o.rangeCount>0){const a=o.getRangeAt(0),c=o.getRangeAt(o.rangeCount-1);return D.some(mf(Qt(a.startContainer),a.startOffset,Qt(c.endContainer),c.endOffset))}return D.none()},rC=o=>{if(o.anchorNode===null||o.focusNode===null)return dx(o);{const a=Qt(o.anchorNode),c=Qt(o.focusNode);return((d,p,v,w)=>{const k=((O,L,M,H)=>{const q=js(O).dom.createRange();return q.setStart(O.dom,L),q.setEnd(M.dom,H),q})(d,p,v,w),E=Wo(d,v)&&p===w;return k.collapsed&&!E})(a,o.anchorOffset,c,o.focusOffset)?D.some(mf(a,o.anchorOffset,c,o.focusOffset)):dx(o)}},fx=(o,a)=>(c=>{const d=c.getClientRects(),p=d.length>0?d[0]:c.getBoundingClientRect();return p.width>0||p.height>0?D.some(p).map($1):D.none()})(ux(o,a)),mx=((o,a)=>{const c=d=>o(d)?D.from(d.dom.nodeValue):D.none();return{get:d=>{if(!o(d))throw new Error("Can only get text value of a text node");return c(d).getOr("")},getOption:c,set:(d,p)=>{if(!o(d))throw new Error("Can only set raw text value of a text node");d.dom.nodeValue=p}}})(ri),vf=(o,a)=>({element:o,offset:a}),W1=(o,a)=>ri(o)?vf(o,a):((c,d)=>{const p=yr(c);if(p.length===0)return vf(c,d);if(d<p.length)return vf(p[d],0);{const v=p[p.length-1],w=ri(v)?(k=>mx.get(k))(v).length:yr(v).length;return vf(v,w)}})(o,a),$b=o=>o.foffset!==void 0,gx=(o,a)=>a.getSelection.getOrThunk(()=>()=>(c=>(d=>D.from(d.getSelection()))(c).filter(d=>d.rangeCount>0).bind(rC))(o))().map(c=>{if($b(c)){const d=W1(c.start,c.soffset),p=W1(c.finish,c.foffset);return pf.range(d.element,d.offset,p.element,p.offset)}return c});var Ak=[Bo("getSelection"),At("root"),Bo("bubble"),ff(),et("overrides",{}),et("showAbove",!1),Ir("placement",(o,a,c)=>{const d=Lc(a.root).dom,p=xd(o,0,a),v=gx(d,a).bind(k=>{if($b(k))return((O,L)=>(M=>{const H=M.getBoundingClientRect();return H.width>0||H.height>0?D.some(H).map($1):D.none()})(ux(O,L)))(d,pf.exactFromRange(k)).orThunk(()=>{const O=bu("\uFEFF");od(k.start,O);const L=fx(d,pf.exact(O,0,O,1));return Sa(O),L}).bind(O=>Hb(O.left,O.top,O.width,O.height));{const E=En(k,L=>L.dom.getBoundingClientRect()),O={left:Math.min(E.firstCell.left,E.lastCell.left),right:Math.max(E.firstCell.right,E.lastCell.right),top:Math.min(E.firstCell.top,E.lastCell.top),bottom:Math.max(E.firstCell.bottom,E.lastCell.bottom)};return Hb(O.left,O.top,O.right-O.left,O.bottom-O.top)}}),w=gx(d,a).bind(k=>$b(k)?qr(k.start)?D.some(k.start):ai(k.start):D.some(k.firstCell)).getOr(o.element);return Ug(v,p,a,c,w)})];const yf="link-layout",Ub=o=>o.x+o.width,sC=(o,a)=>o.x-a.width,aC=(o,a)=>o.y-a.height+o.height,eu=o=>o.y,hx=(o,a,c)=>Ya(Ub(o),eu(o),c.southeast(),kb(),"southeast",Xa(o,{left:0,top:2}),yf),Z1=(o,a,c)=>Ya(sC(o,a),eu(o),c.southwest(),Lg(),"southwest",Xa(o,{right:1,top:2}),yf),iC=(o,a,c)=>Ya(Ub(o),aC(o,a),c.northeast(),Eb(),"northeast",Xa(o,{left:0,bottom:3}),yf),jg=(o,a,c)=>Ya(sC(o,a),aC(o,a),c.northwest(),Fg(),"northwest",Xa(o,{right:1,bottom:3}),yf),jh=()=>[hx,Z1,iC,jg],Wb=()=>[Z1,hx,jg,iC];var lC=[At("item"),ff(),et("overrides",{}),Ir("placement",(o,a,c)=>{const d=pd(c,a.item.element),p=yd(o.element,a,jh(),Wb(),jh(),Wb(),D.none());return D.some(_c({anchorBox:d,bubble:vd(),overrides:a.overrides,layouts:p}))})],tu=Qs("type",{selection:Ak,node:Wg,hotspot:Uh,submenu:lC,makeshift:km});const Em=[Hi("classes",aa),fc("mode","all",["all","layout","placement"])],Zb=[et("useFixed",Ce),Bo("getBounds")],jb=[Aa("anchor",tu),gs("transition",Em)],j1=(o,a,c,d,p,v)=>{const w=li("placement.info",Pn(jb),p),k=w.anchor,E=d.element,O=c.get(d.uid);Cm(()=>{Qn(E,"position","fixed");const L=Ts(E,"visibility");Qn(E,"visibility","hidden");const M=a.useFixed()?(()=>{const H=document.documentElement;return nC(0,0,H.clientWidth,H.clientHeight)})():(H=>{const q=yl(H.element),Y=H.element.dom.getBoundingClientRect();return _m(q.left,q.top,Y.width,Y.height)})(o);k.placement(o,k,M).each(H=>{const q=v.orThunk(()=>a.getBounds.map(ot)),Y=((se,ce,ve,ie,ae,me)=>((ye,_e,Le,Xe,_t,vt,gt,Bt)=>{const sn=Cc(gt,"maxHeightFunction",Sm()),vn=Cc(gt,"maxWidthFunction",he),In=ye.anchorBox,qn=ye.origin,ko={bounds:Sk(qn,vt),origin:qn,preference:Xe,maxHeightFunction:sn,maxWidthFunction:vn,lastPlacement:_t,transition:Bt};return Lb(In,_e,Le,ko)})(((ye,_e)=>((Le,Xe)=>({anchorBox:Le,origin:Xe}))(ye,_e))(ce.anchorBox,se),ie.element,ce.bubble,ce.layouts,ae,ve,ce.overrides,me))(M,H,q,d,O,w.transition);c.set(d.uid,Y)}),L.fold(()=>{nr(E,"visibility")},H=>{Qn(E,"visibility",H)}),Ts(E,"left").isNone()&&Ts(E,"top").isNone()&&Ts(E,"right").isNone()&&Ts(E,"bottom").isNone()&&Wr(Ts(E,"position"),"fixed")&&nr(E,"position")},E)};var Kb=Object.freeze({__proto__:null,position:(o,a,c,d,p)=>{const v=D.none();j1(o,a,c,d,p,v)},positionWithinBounds:j1,getMode:(o,a,c)=>a.useFixed()?"fixed":"absolute",reset:(o,a,c,d)=>{const p=d.element;Zt(["position","left","right","top","bottom"],v=>nr(p,v)),(v=>{fo(v,Nb)})(p),c.clear(d.uid)}});const Ja=pa({fields:Zb,name:"positioning",active:sx,apis:Kb,state:Object.freeze({__proto__:null,init:()=>{let o={};return ha({readState:()=>o,clear:a=>{$(a)?delete o[a]:o={}},set:(a,c)=>{o[a]=c},get:a=>un(o,a)})}})}),K1=o=>o.getSystem().isConnected(),Am=o=>{go(o,gc());const a=o.components();Zt(a,Am)},Tm=o=>{const a=o.components();Zt(a,Tm),go(o,qa())},qb=(o,a)=>{o.getSystem().addToWorld(a),nn(o.element)&&Tm(a)},q1=o=>{Am(o),o.getSystem().removeFromWorld(o)},Kg=(o,a)=>{yi(o.element,a.element)},xf=(o,a)=>{px(o,a,yi)},px=(o,a,c)=>{o.getSystem().addToWorld(a),c(o.element,a.element),nn(o.element)&&Tm(a),o.syncComponents()},G1=o=>{Am(o),Sa(o.element),o.getSystem().removeFromWorld(o)},Wi=o=>{const a=si(o.element).bind(c=>o.getSystem().getByDom(c).toOptional());G1(o),a.each(c=>{c.syncComponents()})},wf=o=>{const a=o.components();Zt(a,G1),Yr(o.element),o.syncComponents()},bx=(o,a)=>{Kh(o,a,yi)},mt=(o,a)=>{Kh(o,a,yg)},Kh=(o,a,c)=>{c(o,a.element);const d=yr(a.element);Zt(d,p=>{a.getByDom(p).each(Tm)})},Tk=o=>{const a=yr(o.element);Zt(a,c=>{o.getByDom(c).each(Am)}),Sa(o.element)},cC=(o,a,c,d)=>{c.get().each(w=>{wf(o)});const p=a.getAttachPoint(o);xf(p,o);const v=o.getSystem().build(d);return xf(o,v),c.set(v),v},Y1=(o,a,c,d)=>{const p=cC(o,a,c,d);return a.onOpen(o,p),p},nu=(o,a,c)=>{c.get().each(d=>{wf(o),Wi(o),a.onClose(o,d),c.clear()})},X1=(o,a,c)=>c.isOpen(),Gb=(o,a,c)=>{const d=a.getAttachPoint(o);Qn(o.element,"position",Ja.getMode(d)),((p,v,w,k)=>{Ts(p.element,v).fold(()=>{fo(p.element,w)},E=>{Jt(p.element,w,E)}),Qn(p.element,v,"hidden")})(o,"visibility",a.cloakVisibilityAttr)},vx=(o,a,c)=>{(d=>On(["top","left","right","bottom"],p=>Ts(d,p).isSome()))(o.element)||nr(o.element,"position"),((d,p,v)=>{Io(d.element,v).fold(()=>nr(d.element,p),w=>Qn(d.element,p,w))})(o,"visibility",a.cloakVisibilityAttr)};var yx=Object.freeze({__proto__:null,cloak:Gb,decloak:vx,open:Y1,openWhileCloaked:(o,a,c,d,p)=>{Gb(o,a),Y1(o,a,c,d),p(),vx(o,a)},close:nu,isOpen:X1,isPartOf:(o,a,c,d)=>X1(0,0,c)&&c.get().exists(p=>a.isPartOf(o,p,d)),getState:(o,a,c)=>c.get(),setContent:(o,a,c,d)=>c.get().map(()=>cC(o,a,c,d))}),Ok=Object.freeze({__proto__:null,events:(o,a)=>to([xt(cb(),(c,d)=>{nu(c,o,a)})])}),y=[Fo("onOpen"),Fo("onClose"),At("isPartOf"),At("getAttachPoint"),et("cloakVisibilityAttr","data-precloak-visibility")],_=Object.freeze({__proto__:null,init:()=>{const o=cr(),a=te("not-implemented");return ha({readState:a,isOpen:o.isSet,clear:o.clear,set:o.set,get:o.get})}});const T=pa({fields:y,name:"sandboxing",active:Ok,apis:yx,state:_}),P=te("dismiss.popups"),V=te("reposition.popups"),U=te("mouse.released"),Q=sa([et("isExtraPart",Ce),gs("fireEventInstead",[et("event",kg())])]),re=o=>{const a=li("Dismissal",Q,o);return{[P()]:{schema:sa([At("target")]),onReceive:(c,d)=>{T.isOpen(c)&&(T.isPartOf(c,d.target)||a.isExtraPart(c,d.target)||a.fireEventInstead.fold(()=>T.close(c),p=>go(c,p.event)))}}}},be=sa([gs("fireEventInstead",[et("event",nf())]),_i("doReposition")]),De=o=>{const a=li("Reposition",be,o);return{[V()]:{onReceive:c=>{T.isOpen(c)&&a.fireEventInstead.fold(()=>a.doReposition(c),d=>go(c,d.event))}}}},He=(o,a,c)=>{a.store.manager.onLoad(o,a,c)},Ee=(o,a,c)=>{a.store.manager.onUnload(o,a,c)};var Ie=Object.freeze({__proto__:null,onLoad:He,onUnload:Ee,setValue:(o,a,c,d)=>{a.store.manager.setValue(o,a,c,d)},getValue:(o,a,c)=>a.store.manager.getValue(o,a,c),getState:(o,a,c)=>c}),Pe=Object.freeze({__proto__:null,events:(o,a)=>{const c=o.resetOnDom?[Zr((d,p)=>{He(d,o,a)}),Ru((d,p)=>{Ee(d,o,a)})]:[db(o,a,He)];return to(c)}});const Je=()=>{const o=Dn(null);return ha({set:o.set,get:o.get,isNotSet:()=>o.get()===null,clear:()=>{o.set(null)},readState:()=>({mode:"memory",value:o.get()})})},tt=()=>{const o=Dn({}),a=Dn({});return ha({readState:()=>({mode:"dataset",dataByValue:o.get(),dataByText:a.get()}),lookup:c=>un(o.get(),c).orThunk(()=>un(a.get(),c)),update:c=>{const d=o.get(),p=a.get(),v={},w={};Zt(c,k=>{v[k.value]=k,un(k,"meta").each(E=>{un(E,"text").each(O=>{w[O]=k})})}),o.set({...d,...v}),a.set({...p,...w})},clear:()=>{o.set({}),a.set({})}})};var Et=Object.freeze({__proto__:null,memory:Je,dataset:tt,manual:()=>ha({readState:he}),init:o=>o.store.manager.state(o)});const Ot=(o,a,c,d)=>{const p=a.store;c.update([d]),p.setValue(o,d),a.onSetValue(o,d)};var kt=[Bo("initialValue"),At("getFallbackEntry"),At("getDataKey"),At("setValue"),Ir("manager",{setValue:Ot,getValue:(o,a,c)=>{const d=a.store,p=d.getDataKey(o);return c.lookup(p).getOrThunk(()=>d.getFallbackEntry(p))},onLoad:(o,a,c)=>{a.store.initialValue.each(d=>{Ot(o,a,c,d)})},onUnload:(o,a,c)=>{c.clear()},state:tt})],Rt=[At("getValue"),et("setValue",he),Bo("initialValue"),Ir("manager",{setValue:(o,a,c,d)=>{a.store.setValue(o,d),a.onSetValue(o,d)},getValue:(o,a,c)=>a.store.getValue(o),onLoad:(o,a,c)=>{a.store.initialValue.each(d=>{a.store.setValue(o,d)})},onUnload:he,state:bc.init})],Ut=[Bo("initialValue"),Ir("manager",{setValue:(o,a,c,d)=>{c.set(d),a.onSetValue(o,d)},getValue:(o,a,c)=>c.get(),onLoad:(o,a,c)=>{a.store.initialValue.each(d=>{c.isNotSet()&&c.set(d)})},onUnload:(o,a,c)=>{c.clear()},state:Je})],qt=[Si("store",{mode:"memory"},Qs("mode",{memory:Ut,manual:Rt,dataset:kt})),Fo("onSetValue"),et("resetOnDom",!1)];const rt=pa({fields:qt,name:"representing",active:Pe,apis:Ie,extra:{setValueFrom:(o,a)=>{const c=rt.getValue(a);rt.setValue(o,c)}},state:Et}),gn=(o,a)=>ki(o,{},bt(a,c=>{return d=c.name(),p="Cannot configure "+c.name()+" for "+o,qs(d,d,{tag:"option",process:{}},Cu(v=>Fi("The field: "+d+" is forbidden. "+p)));var d,p}).concat([Ea("dump",Ae)])),Vn=o=>o.dump,co=(o,a)=>({...Ft(a),...o.dump}),jn=gn,$n=co,lo="placeholder",Mo=Ol([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Us=o=>po(o,"uiType"),ui=(o,a,c,d)=>((p,v,w,k)=>Us(w)&&w.uiType===lo?((E,O,L,M)=>E.exists(H=>H!==L.owner)?Mo.single(!0,te(L)):un(M,L.name).fold(()=>{throw new Error("Unknown placeholder component: "+L.name+`
Known: [`+on(M)+`]
Namespace: `+E.getOr("none")+`
Spec: `+JSON.stringify(L,null,2))},H=>H.replace()))(p,0,w,k):Mo.single(!1,te(w)))(o,0,c,d).fold((p,v)=>{const w=Us(c)?v(a,c.config,c.validated):v(a),k=un(w,"components").getOr([]),E=Ko(k,O=>ui(o,a,O,d));return[{...w,components:E}]},(p,v)=>{if(Us(c)){const w=v(a,c.config,c.validated);return c.validated.preprocess.getOr(Ae)(w)}return v(a)}),Da=Mo.single,jl=Mo.multiple,Om=te(lo),di=Ol([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Mu=et("factory",{sketch:Ae}),qh=et("schema",[]),Cf=At("name"),Gh=qs("pname","pname",wg(o=>"<alloy."+mn(o.name)+">"),wl()),J1=Ea("schema",()=>[Bo("preprocess")]),_f=et("defaults",te({})),uC=et("overrides",te({})),zM=Pn([Mu,qh,Cf,Gh,_f,uC]),HM=Pn([Mu,qh,Cf,_f,uC]),hO=Pn([Mu,qh,Cf,Gh,_f,uC]),pn=Pn([Mu,J1,Cf,At("unit"),Gh,_f,uC]),xx=o=>o.fold(D.some,D.none,D.some,D.some),Dk=o=>{const a=c=>c.name;return o.fold(a,a,a,a)},dC=(o,a)=>c=>{const d=li("Converting part type",a,c);return o(d)},cl=dC(di.required,zM),wd=dC(di.external,HM),ou=dC(di.optional,hO),fC=dC(di.group,pn),Rk=te("entirety");var pO=Object.freeze({__proto__:null,required:cl,external:wd,optional:ou,group:fC,asNamedPart:xx,name:Dk,asCommon:o=>o.fold(Ae,Ae,Ae,Ae),original:Rk});const Nk=(o,a,c,d)=>xr(a.defaults(o,c,d),c,{uid:o.partUids[a.name]},a.overrides(o,c,d)),Zi=(o,a)=>{const c={};return Zt(a,d=>{xx(d).each(p=>{const v=wx(o,p.pname);c[p.name]=w=>{const k=li("Part: "+p.name+" in "+o,Pn(p.schema),w);return{...v,config:w,validated:k}}})}),c},wx=(o,a)=>({uiType:Om(),owner:o,name:a}),Ik=(o,a,c)=>({uiType:Om(),owner:o,name:a,config:c,validated:{}}),bO=o=>Ko(o,a=>a.fold(D.none,D.some,D.none,D.none).map(c=>dc(c.name,c.schema.concat([Cb(Rk())]))).toArray()),vO=o=>bt(o,Dk),Bk=(o,a,c)=>((d,p,v)=>{const w={},k={};return Zt(v,E=>{E.fold(O=>{w[O.pname]=Da(!0,(L,M,H)=>O.factory.sketch(Nk(L,O,M,H)))},O=>{const L=p.parts[O.name];k[O.name]=te(O.factory.sketch(Nk(p,O,L[Rk()]),L))},O=>{w[O.pname]=Da(!1,(L,M,H)=>O.factory.sketch(Nk(L,O,M,H)))},O=>{w[O.pname]=jl(!0,(L,M,H)=>{const q=L[O.name];return bt(q,Y=>O.factory.sketch(xr(O.defaults(L,Y,H),Y,O.overrides(L,Y))))})})}),{internals:te(w),externals:te(k)}})(0,a,c),Mk=(o,a,c)=>((d,p,v,w)=>{const k=En(w,(O,L)=>((M,H)=>{let q=!1;return{name:te(M),required:()=>H.fold((Y,se)=>Y,(Y,se)=>Y),used:()=>q,replace:()=>{if(q)throw new Error("Trying to use the same placeholder more than once: "+M);return q=!0,H}}})(L,O)),E=((O,L,M,H)=>Ko(M,q=>ui(O,L,q,H)))(d,p,v,k);return Cn(k,O=>{if(O.used()===!1&&O.required())throw new Error("Placeholder: "+O.name()+` was not found in components list
Namespace: `+d.getOr("none")+`
Components: `+JSON.stringify(p.components,null,2))}),E})(D.some(o),a,a.components,c),Mr=(o,a,c)=>{const d=a.partUids[c];return o.getSystem().getByUid(d).toOptional()},qg=(o,a,c)=>Mr(o,a,c).getOrDie("Could not find part: "+c),yO=(o,a,c)=>{const d={},p=a.partUids,v=o.getSystem();return Zt(c,w=>{d[w]=te(v.getByUid(p[w]))}),d},Pk=(o,a)=>{const c=o.getSystem();return En(a.partUids,(d,p)=>te(c.getByUid(d)))},xO=o=>on(o.partUids),Lk=(o,a,c)=>{const d={},p=a.partUids,v=o.getSystem();return Zt(c,w=>{d[w]=te(v.getByUid(p[w]).getOrDie())}),d},wO=(o,a)=>{const c=vO(a);return cd(bt(c,d=>({key:d,value:o+"-"+d})))},Fk=o=>qs("partUids","partUids",Lo(a=>wO(a.uid,o)),wl());var VM=Object.freeze({__proto__:null,generate:Zi,generateOne:Ik,schemas:bO,names:vO,substitutes:Bk,components:Mk,defaultUids:wO,defaultUidsSchema:Fk,getAllParts:Pk,getAllPartNames:xO,getPart:Mr,getPartOrDie:qg,getParts:yO,getPartsOrDie:Lk});const CO=(o,a,c,d,p)=>{const v=((w,k)=>(w.length>0?[dc("parts",w)]:[]).concat([At("uid"),et("dom",{}),et("components",[]),Cb("originalSpec"),et("debug.sketcher",{})]).concat(k))(d,p);return li(o+" [SpecSchema]",sa(v.concat(a)),c)},Cx=(o,a,c,d,p)=>{const v=zk(p),w=bO(c),k=Fk(c),E=CO(o,a,v,w,[k]),O=Bk(0,E,c);return d(E,Mk(o,E,O.internals()),v,O.externals())},zk=o=>(a=>po(a,"uid"))(o)?o:{...o,uid:xc("uid")},$M=sa([At("name"),At("factory"),At("configFields"),et("apis",{}),et("extraApis",{})]),_O=sa([At("name"),At("factory"),At("configFields"),At("partFields"),et("apis",{}),et("extraApis",{})]),ru=o=>{const a=li("Sketcher for "+o.name,$M,o),c=En(a.apis,A1),d=En(a.extraApis,(p,v)=>Ul(p,v));return{name:a.name,configFields:a.configFields,sketch:p=>((v,w,k,E)=>{const O=zk(E);return k(CO(v,w,O,[],[]),O)})(a.name,a.configFields,a.factory,p),...c,...d}},Cl=o=>{const a=li("Sketcher for "+o.name,_O,o),c=Zi(a.name,a.partFields),d=En(a.apis,A1),p=En(a.extraApis,(v,w)=>Ul(v,w));return{name:a.name,partFields:a.partFields,configFields:a.configFields,sketch:v=>Cx(a.name,a.configFields,a.partFields,a.factory,v),parts:c,...d,...p}},Q1=o=>Mc("input")(o)&&Co(o,"type")!=="radio"||Mc("textarea")(o);var SO=Object.freeze({__proto__:null,getCurrent:(o,a,c)=>a.find(o)});const UM=[At("find")],Vo=pa({fields:UM,name:"composing",apis:SO}),kO=["input","button","textarea","select"],EO=(o,a,c)=>{(a.disabled()?_x:Vk)(o,a)},Hk=(o,a)=>a.useNative===!0&&Qe(kO,Bi(o.element)),AO=o=>{Jt(o.element,"disabled","disabled")},WM=o=>{fo(o.element,"disabled")},ev=o=>{Jt(o.element,"aria-disabled","true")},ZM=o=>{Jt(o.element,"aria-disabled","false")},_x=(o,a,c)=>{a.disableClass.each(d=>{us(o.element,d)}),(Hk(o,a)?AO:ev)(o),a.onDisabled(o)},Vk=(o,a,c)=>{a.disableClass.each(d=>{ps(o.element,d)}),(Hk(o,a)?WM:ZM)(o),a.onEnabled(o)},tv=(o,a)=>Hk(o,a)?(c=>fs(c.element,"disabled"))(o):(c=>Co(c.element,"aria-disabled")==="true")(o);var jM=Object.freeze({__proto__:null,enable:Vk,disable:_x,isDisabled:tv,onLoad:EO,set:(o,a,c,d)=>{(d?_x:Vk)(o,a)}}),KM=Object.freeze({__proto__:null,exhibit:(o,a)=>Is({classes:a.disabled()?a.disableClass.toArray():[]}),events:(o,a)=>to([Nh(rl(),(c,d)=>tv(c,o)),db(o,a,EO)])}),qM=[zr("disabled",Ce),et("useNative",!0),Bo("disableClass"),Fo("onDisabled"),Fo("onEnabled")];const Kn=pa({fields:qM,name:"disabling",active:KM,apis:jM}),TO=(o,a,c,d)=>{const p=la(o.element,"."+a.highlightClass);Zt(p,v=>{On(d,w=>Wo(w.element,v))||(ps(v,a.highlightClass),o.getSystem().getByDom(v).each(w=>{a.onDehighlight(o,w),go(w,of())}))})},Yb=(o,a,c,d)=>{TO(o,a,0,[d]),$k(o,a,c,d)||(us(d.element,a.highlightClass),a.onHighlight(o,d),go(d,Ry()))},$k=(o,a,c,d)=>Vi(d.element,a.highlightClass),OO=(o,a,c)=>Jr(o.element,"."+a.itemClass).bind(d=>o.getSystem().getByDom(d).toOptional()),DO=(o,a,c)=>{const d=la(o.element,"."+a.itemClass);return(d.length>0?D.some(d[d.length-1]):D.none()).bind(p=>o.getSystem().getByDom(p).toOptional())},RO=(o,a,c,d)=>{const p=la(o.element,"."+a.itemClass);return ir(p,v=>Vi(v,a.highlightClass)).bind(v=>{const w=pm(v,d,0,p.length-1);return o.getSystem().getByDom(p[w]).toOptional()})},NO=(o,a,c)=>{const d=la(o.element,"."+a.itemClass);return Fa(bt(d,p=>o.getSystem().getByDom(p).toOptional()))};var GM=Object.freeze({__proto__:null,dehighlightAll:(o,a,c)=>TO(o,a,0,[]),dehighlight:(o,a,c,d)=>{$k(o,a,c,d)&&(ps(d.element,a.highlightClass),a.onDehighlight(o,d),go(d,of()))},highlight:Yb,highlightFirst:(o,a,c)=>{OO(o,a).each(d=>{Yb(o,a,c,d)})},highlightLast:(o,a,c)=>{DO(o,a).each(d=>{Yb(o,a,c,d)})},highlightAt:(o,a,c,d)=>{((p,v,w,k)=>{const E=la(p.element,"."+v.itemClass);return D.from(E[k]).fold(()=>So.error(new Error("No element found with index "+k)),p.getSystem().getByDom)})(o,a,0,d).fold(p=>{throw p},p=>{Yb(o,a,c,p)})},highlightBy:(o,a,c,d)=>{const p=NO(o,a);J(p,d).each(v=>{Yb(o,a,c,v)})},isHighlighted:$k,getHighlighted:(o,a,c)=>Jr(o.element,"."+a.highlightClass).bind(d=>o.getSystem().getByDom(d).toOptional()),getFirst:OO,getLast:DO,getPrevious:(o,a,c)=>RO(o,a,0,-1),getNext:(o,a,c)=>RO(o,a,0,1),getCandidates:NO}),IO=[At("highlightClass"),At("itemClass"),Fo("onHighlight"),Fo("onDehighlight")];const ar=pa({fields:IO,name:"highlighting",apis:GM}),BO=[8],Cd=[9],Dm=[13],mC=[27],kc=[32],gC=[37],nv=[38],Sx=[39],ov=[40],YM=(o,a,c)=>{const d=Ke(o.slice(0,a)),p=Ke(o.slice(a+1));return J(d.concat(p),c)},XM=(o,a,c)=>{const d=Ke(o.slice(0,a));return J(d,c)},JM=(o,a,c)=>{const d=o.slice(0,a),p=o.slice(a+1);return J(p.concat(d),c)},QM=(o,a,c)=>{const d=o.slice(a+1);return J(d,c)},Zo=o=>a=>{const c=a.raw;return Qe(o,c.which)},Sf=o=>a=>oi(o,c=>c(a)),Rm=o=>o.raw.shiftKey===!0,eP=o=>o.raw.ctrlKey===!0,kx=$e(Rm),Go=(o,a)=>({matches:o,classification:a}),MO=(o,a,c)=>{a.exists(d=>c.exists(p=>Wo(p,d)))||Sn(o,m1(),{prevFocus:a,newFocus:c})},Uk=()=>{const o=a=>Ps(a.element);return{get:o,set:(a,c)=>{const d=o(a);a.getSystem().triggerFocus(c,a.element);const p=o(a);MO(a,d,p)}}},tP=()=>{const o=a=>ar.getHighlighted(a).map(c=>c.element);return{get:o,set:(a,c)=>{const d=o(a);a.getSystem().getByDom(c).fold(he,v=>{ar.highlight(a,v)});const p=o(a);MO(a,d,p)}}};var Xb;(function(o){o.OnFocusMode="onFocus",o.OnEnterOrSpaceMode="onEnterOrSpace",o.OnApiMode="onApi"})(Xb||(Xb={}));const Jb=(o,a,c,d,p)=>{const v=(k,E,O,L,M)=>{return(H=O(k,E,L,M),q=E.event,J(H,Y=>Y.matches(q)).map(Y=>Y.classification)).bind(Y=>Y(k,E,L,M));var H,q},w={schema:()=>o.concat([et("focusManager",Uk()),Si("focusInside","onFocus",Xd(k=>Qe(["onFocus","onEnterOrSpace","onApi"],k)?So.value(k):So.error("Invalid value for focusInside"))),Ir("handler",w),Ir("state",a),Ir("sendFocusIn",p)]),processKey:v,toEvents:(k,E)=>{const O=k.focusInside!==Xb.OnFocusMode?D.none():p(k).map(M=>xt(Du(),(H,q)=>{M(H,k,E),q.stop()})),L=[xt(cs(),(M,H)=>{v(M,H,c,k,E).fold(()=>{((q,Y)=>{const se=Zo(kc.concat(Dm))(Y.event);k.focusInside===Xb.OnEnterOrSpaceMode&&se&&sb(q,Y)&&p(k).each(ce=>{ce(q,k,E),Y.stop()})})(M,H)},q=>{H.stop()})}),xt(mc(),(M,H)=>{v(M,H,d,k,E).each(q=>{H.stop()})})];return to(O.toArray().concat(L))}};return w},PO=o=>{const a=[Bo("onEscape"),Bo("onEnter"),et("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),et("firstTabstop",0),et("useTabstopAt",Ne),Bo("visibilitySelector")].concat([o]),c=(L,M)=>{const H=L.visibilitySelector.bind(q=>Iu(M,q)).getOr(M);return ms(H)>0},d=(L,M)=>M.focusManager.get(L).bind(H=>Iu(H,M.selector)),p=(L,M,H)=>{((q,Y)=>{const se=la(q.element,Y.selector),ce=ho(se,ve=>c(Y,ve));return D.from(ce[Y.firstTabstop])})(L,M).each(q=>{M.focusManager.set(L,q)})},v=(L,M,H,q)=>{const Y=la(L.element,H.selector);return d(L,H).bind(se=>ir(Y,Ge(Wo,se)).bind(ce=>((ve,ie,ae,me,ye)=>ye(ie,ae,_e=>((Le,Xe)=>c(Le,Xe)&&Le.useTabstopAt(Xe))(me,_e)).fold(()=>me.cyclic?D.some(!0):D.none(),_e=>(me.focusManager.set(ve,_e),D.some(!0))))(L,Y,ce,H,q)))},w=(L,M,H)=>{const q=H.cyclic?YM:XM;return v(L,0,H,q)},k=(L,M,H)=>{const q=H.cyclic?JM:QM;return v(L,0,H,q)},E=te([Go(Sf([Rm,Zo(Cd)]),w),Go(Zo(Cd),k),Go(Sf([kx,Zo(Dm)]),(L,M,H)=>H.onEnter.bind(q=>q(L,M)))]),O=te([Go(Zo(mC),(L,M,H)=>H.onEscape.bind(q=>q(L,M))),Go(Zo(Cd),(L,M,H)=>d(L,H).filter(q=>!H.useTabstopAt(q)).bind(q=>((Y=>(se=>si(se))(Y).bind(Se).exists(se=>Wo(se,Y)))(q)?w:k)(L,M,H)))]);return Jb(a,bc.init,E,O,()=>D.some(p))};var nP=PO(Ea("cyclic",Ce)),oP=PO(Ea("cyclic",Ne));const Ex=(o,a,c)=>Q1(c)&&Zo(kc)(a.event)?D.none():((d,p,v)=>(os(d,v,rl()),D.some(!0)))(o,0,c),Qb=(o,a)=>D.some(!0),rP=[et("execute",Ex),et("useSpace",!1),et("useEnter",!0),et("useControlEnter",!1),et("useDown",!1)],LO=(o,a,c)=>c.execute(o,a,o.element);var sP=Jb(rP,bc.init,(o,a,c,d)=>{const p=c.useSpace&&!Q1(o.element)?kc:[],v=c.useEnter?Dm:[],w=c.useDown?ov:[],k=p.concat(v).concat(w);return[Go(Zo(k),LO)].concat(c.useControlEnter?[Go(Sf([eP,Zo(Dm)]),LO)]:[])},(o,a,c,d)=>c.useSpace&&!Q1(o.element)?[Go(Zo(kc),Qb)]:[],()=>D.none());const FO=()=>{const o=cr();return ha({readState:()=>o.get().map(a=>({numRows:String(a.numRows),numColumns:String(a.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(a,c)=>{o.set({numRows:a,numColumns:c})},getNumRows:()=>o.get().map(a=>a.numRows),getNumColumns:()=>o.get().map(a=>a.numColumns)})};var zO=Object.freeze({__proto__:null,flatgrid:FO,init:o=>o.state(o)});const HO=o=>(a,c,d,p)=>{const v=o(a.element);return VO(v,a,c,d,p)},Wk=(o,a)=>{const c=cx(o,a);return HO(c)},Zk=(o,a)=>{const c=cx(a,o);return HO(c)},jk=o=>(a,c,d,p)=>VO(o,a,c,d,p),VO=(o,a,c,d,p)=>d.focusManager.get(a).bind(v=>o(a.element,v,d,p)).map(v=>(d.focusManager.set(a,v),!0)),Kk=jk,$O=jk,hC=jk,UO=o=>!(a=>a.offsetWidth<=0&&a.offsetHeight<=0)(o.dom),qk=(o,a,c)=>{const d=la(o,c);return((p,v)=>ir(p,w=>Wo(w,a)).map(w=>({index:w,candidates:p})))(ho(d,UO))},pC=(o,a)=>ir(o,c=>Wo(a,c)),WO=(o,a,c,d)=>d(Math.floor(a/c),a%c).bind(p=>{const v=p.row*c+p.column;return v>=0&&v<o.length?D.some(o[v]):D.none()}),ZO=(o,a,c,d,p)=>WO(o,a,d,(v,w)=>{const k=v===c-1?o.length-v*d:d,E=pm(w,p,0,k-1);return D.some({row:v,column:E})}),jO=(o,a,c,d,p)=>WO(o,a,d,(v,w)=>{const k=pm(v,p,0,c-1),E=k===c-1?o.length-k*d:d,O=yc(w,0,E-1);return D.some({row:k,column:O})}),aP=[At("selector"),et("execute",Ex),sl("onEscape"),et("captureTab",!1),qw()],KO=(o,a,c)=>{Jr(o.element,a.selector).each(d=>{a.focusManager.set(o,d)})},Ax=o=>(a,c,d,p)=>qk(a,c,d.selector).bind(v=>o(v.candidates,v.index,p.getNumRows().getOr(d.initSize.numRows),p.getNumColumns().getOr(d.initSize.numColumns))),Gk=(o,a,c)=>c.captureTab?D.some(!0):D.none(),Yk=Ax((o,a,c,d)=>ZO(o,a,c,d,-1)),Xk=Ax((o,a,c,d)=>ZO(o,a,c,d,1)),iP=Ax((o,a,c,d)=>jO(o,a,c,d,-1)),lP=Ax((o,a,c,d)=>jO(o,a,c,d,1)),cP=te([Go(Zo(gC),Wk(Yk,Xk)),Go(Zo(Sx),Zk(Yk,Xk)),Go(Zo(nv),Kk(iP)),Go(Zo(ov),$O(lP)),Go(Sf([Rm,Zo(Cd)]),Gk),Go(Sf([kx,Zo(Cd)]),Gk),Go(Zo(kc.concat(Dm)),(o,a,c,d)=>((p,v)=>v.focusManager.get(p).bind(w=>Iu(w,v.selector)))(o,c).bind(p=>c.execute(o,a,p)))]),uP=te([Go(Zo(mC),(o,a,c)=>c.onEscape(o,a)),Go(Zo(kc),Qb)]);var dP=Jb(aP,FO,cP,uP,()=>D.some(KO));const Yh=(o,a,c,d,p)=>{const v=(w,k,E)=>p(w,k,d,0,E.length-1,E[k],O=>{return L=E[O],Bi(L)==="button"&&Co(L,"disabled")==="disabled"?v(w,O,E):D.from(E[O]);var L});return qk(o,c,a).bind(w=>{const k=w.index,E=w.candidates;return v(k,k,E)})},qO=(o,a,c,d)=>Yh(o,a,c,d,(p,v,w,k,E,O,L)=>{const M=yc(v+w,k,E);return M===p?D.from(O):L(M)}),bC=(o,a,c,d)=>Yh(o,a,c,d,(p,v,w,k,E,O,L)=>{const M=pm(v,w,k,E);return M===p?D.none():L(M)}),fP=[At("selector"),et("getInitial",D.none),et("execute",Ex),sl("onEscape"),et("executeOnMove",!1),et("allowVertical",!0),et("allowHorizontal",!0),et("cycles",!0)],Jk=(o,a,c)=>((d,p)=>p.focusManager.get(d).bind(v=>Iu(v,p.selector)))(o,c).bind(d=>c.execute(o,a,d)),GO=(o,a,c)=>{a.getInitial(o).orThunk(()=>Jr(o.element,a.selector)).each(d=>{a.focusManager.set(o,d)})},YO=(o,a,c)=>(c.cycles?bC:qO)(o,c.selector,a,-1),XO=(o,a,c)=>(c.cycles?bC:qO)(o,c.selector,a,1),Qk=o=>(a,c,d,p)=>o(a,c,d,p).bind(()=>d.executeOnMove?Jk(a,c,d):D.some(!0)),Tx=te([Go(Zo(kc),Qb),Go(Zo(mC),(o,a,c)=>c.onEscape(o,a))]);var Ox=Jb(fP,bc.init,(o,a,c,d)=>{const p=[...c.allowHorizontal?gC:[]].concat(c.allowVertical?nv:[]),v=[...c.allowHorizontal?Sx:[]].concat(c.allowVertical?ov:[]);return[Go(Zo(p),Qk(Wk(YO,XO))),Go(Zo(v),Qk(Zk(YO,XO))),Go(Zo(Dm),Jk),Go(Zo(kc),Jk)]},Tx,()=>D.some(GO));const vC=(o,a,c)=>D.from(o[a]).bind(d=>D.from(d[c]).map(p=>({rowIndex:a,columnIndex:c,cell:p}))),yC=(o,a,c,d)=>{const p=o[a].length,v=pm(c,d,0,p-1);return vC(o,a,v)},JO=(o,a,c,d)=>{const p=pm(c,d,0,o.length-1),v=o[p].length,w=yc(a,0,v-1);return vC(o,p,w)},eE=(o,a,c,d)=>{const p=o[a].length,v=yc(c+d,0,p-1);return vC(o,a,v)},tE=(o,a,c,d)=>{const p=yc(c+d,0,o.length-1),v=o[p].length,w=yc(a,0,v-1);return vC(o,p,w)},QO=[dc("selectors",[At("row"),At("cell")]),et("cycles",!0),et("previousSelector",D.none),et("execute",Ex)],mP=(o,a,c)=>{a.previousSelector(o).orThunk(()=>{const d=a.selectors;return Jr(o.element,d.cell)}).each(d=>{a.focusManager.set(o,d)})},xC=(o,a)=>(c,d,p)=>{const v=p.cycles?o:a;return Iu(d,p.selectors.row).bind(w=>{const k=la(w,p.selectors.cell);return pC(k,d).bind(E=>{const O=la(c,p.selectors.row);return pC(O,w).bind(L=>{const M=((H,q)=>bt(H,Y=>la(Y,q.selectors.cell)))(O,p);return v(M,L,E).map(H=>H.cell)})})})},e5=xC((o,a,c)=>yC(o,a,c,-1),(o,a,c)=>eE(o,a,c,-1)),e0=xC((o,a,c)=>yC(o,a,c,1),(o,a,c)=>eE(o,a,c,1)),t0=xC((o,a,c)=>JO(o,c,a,-1),(o,a,c)=>tE(o,c,a,-1)),wC=xC((o,a,c)=>JO(o,c,a,1),(o,a,c)=>tE(o,c,a,1)),Dx=te([Go(Zo(gC),Wk(e5,e0)),Go(Zo(Sx),Zk(e5,e0)),Go(Zo(nv),Kk(t0)),Go(Zo(ov),$O(wC)),Go(Zo(kc.concat(Dm)),(o,a,c)=>Ps(o.element).bind(d=>c.execute(o,a,d)))]),gP=te([Go(Zo(kc),Qb)]);var Xh=Jb(QO,bc.init,Dx,gP,()=>D.some(mP));const Nm=[At("selector"),et("execute",Ex),et("moveOnTab",!1)],CC=(o,a,c)=>c.focusManager.get(o).bind(d=>c.execute(o,a,d)),t5=(o,a,c)=>{Jr(o.element,a.selector).each(d=>{a.focusManager.set(o,d)})},n5=(o,a,c)=>bC(o,c.selector,a,-1),nE=(o,a,c)=>bC(o,c.selector,a,1),Rx=te([Go(Zo(nv),hC(n5)),Go(Zo(ov),hC(nE)),Go(Sf([Rm,Zo(Cd)]),(o,a,c,d)=>c.moveOnTab?hC(n5)(o,a,c,d):D.none()),Go(Sf([kx,Zo(Cd)]),(o,a,c,d)=>c.moveOnTab?hC(nE)(o,a,c,d):D.none()),Go(Zo(Dm),CC),Go(Zo(kc),CC)]),Nx=te([Go(Zo(kc),Qb)]);var oE=Jb(Nm,bc.init,Rx,Nx,()=>D.some(t5));const o5=[sl("onSpace"),sl("onEnter"),sl("onShiftEnter"),sl("onLeft"),sl("onRight"),sl("onTab"),sl("onShiftTab"),sl("onUp"),sl("onDown"),sl("onEscape"),et("stopSpaceKeyup",!1),Bo("focusIn")];var Ix=Jb(o5,bc.init,(o,a,c)=>[Go(Zo(kc),c.onSpace),Go(Sf([kx,Zo(Dm)]),c.onEnter),Go(Sf([Rm,Zo(Dm)]),c.onShiftEnter),Go(Sf([Rm,Zo(Cd)]),c.onShiftTab),Go(Sf([kx,Zo(Cd)]),c.onTab),Go(Zo(nv),c.onUp),Go(Zo(ov),c.onDown),Go(Zo(gC),c.onLeft),Go(Zo(Sx),c.onRight),Go(Zo(kc),c.onSpace)],(o,a,c)=>[...c.stopSpaceKeyup?[Go(Zo(kc),Qb)]:[],Go(Zo(mC),c.onEscape)],o=>o.focusIn);const _C=nP.schema(),hP=oP.schema(),rE=Ox.schema(),SC=dP.schema(),Ti=Xh.schema(),pP=sP.schema(),Im=oE.schema(),r5=Ix.schema(),An=Zw({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:_C,cyclic:hP,flow:rE,flatgrid:SC,matrix:Ti,execution:pP,menu:Im,special:r5}),name:"keying",active:{events:(o,a)=>o.handler.toEvents(o,a)},apis:{focusIn:(o,a,c)=>{a.sendFocusIn(a).fold(()=>{o.getSystem().triggerFocus(o.element,o.element)},d=>{d(o,a,c)})},setGridSize:(o,a,c,d,p)=>{(v=>io(v,"setGridSize"))(c)?c.setGridSize(d,p):console.error("Layout does not support setGridSize")}},state:zO}),n0=(o,a)=>{Cm(()=>{((c,d,p)=>{const v=c.components();(E=>{Zt(E.components(),O=>Sa(O.element)),Yr(E.element),E.syncComponents()})(c);const w=p(d),k=le(v,w);Zt(k,E=>{Am(E),c.getSystem().removeFromWorld(E)}),Zt(w,E=>{K1(E)?Kg(c,E):(c.getSystem().addToWorld(E),Kg(c,E),nn(c.element)&&Tm(E))}),c.syncComponents()})(o,a,()=>bt(a,o.getSystem().build))},o.element)},sE=(o,a)=>{Cm(()=>{((c,d,p)=>{const v=c.components(),w=Ko(d,O=>Ky(O).toArray());Zt(v,O=>{Qe(w,O)||q1(O)});const k=((O,L,M)=>Yw(O,L,(H,q)=>Xy(O,q,H,M)))(o.element,a,o.getSystem().buildOrPatch),E=le(v,k);Zt(E,O=>{K1(O)&&q1(O)}),Zt(k,O=>{K1(O)||qb(c,O)}),c.syncComponents()})(o,a)},o.element)},kC=(o,a,c,d)=>{q1(a);const p=Xy(o.element,c,d,o.getSystem().buildOrPatch);qb(o,p),o.syncComponents()},aE=(o,a,c)=>{const d=o.getSystem().build(c);px(o,d,a)},s5=(o,a,c,d)=>{Wi(a),aE(o,(p,v)=>((w,k,E)=>{Gr(w,E).fold(()=>{yi(w,k)},O=>{od(O,k)})})(p,v,c),d)},Bx=(o,a)=>o.components(),a5=(o,a,c,d,p)=>{const v=Bx(o);return D.from(v[d]).map(w=>(p.fold(()=>Wi(w),k=>{(a.reuseDom?kC:s5)(o,w,d,k)}),w))};var iE=Object.freeze({__proto__:null,append:(o,a,c,d)=>{aE(o,yi,d)},prepend:(o,a,c,d)=>{aE(o,xg,d)},remove:(o,a,c,d)=>{const p=Bx(o);J(p,w=>Wo(d.element,w.element)).each(Wi)},replaceAt:a5,replaceBy:(o,a,c,d,p)=>{const v=Bx(o);return ir(v,d).bind(w=>a5(o,a,0,w,p))},set:(o,a,c,d)=>(a.reuseDom?sE:n0)(o,d),contents:Bx});const zn=pa({fields:[Vs("reuseDom",!0)],name:"replacing",apis:iE}),uo=(o,a)=>{const c=((d,p)=>{const v=to(p);return pa({fields:[At("enabled")],name:d,active:{events:te(v)}})})(o,a);return{key:o,value:{config:{},me:c,configAsRaw:te({}),initialConfig:{},state:bc}}},i5=(o,a)=>{a.ignore||(Ei(o.element),a.onFocus(o))};var l5=Object.freeze({__proto__:null,focus:i5,blur:(o,a)=>{a.ignore||Ob(o.element)},isFocused:o=>Vg(o.element)}),c5=Object.freeze({__proto__:null,exhibit:(o,a)=>{const c=a.ignore?{}:{attributes:{tabindex:"-1"}};return Is(c)},events:o=>to([xt(Du(),(a,c)=>{i5(a,o),c.stop()})].concat(o.stopMousedown?[xt(Tt(),(a,c)=>{c.event.prevent()})]:[]))}),u5=[Fo("onFocus"),et("stopMousedown",!1),et("ignore",!1)];const Zn=pa({fields:u5,name:"focusing",active:c5,apis:l5}),Mx=(o,a,c,d)=>{const p=c.get();c.set(d),((v,w,k)=>{w.toggleClass.each(E=>{k.get()?us(v.element,E):ps(v.element,E)})})(o,a,c),((v,w,k)=>{const E=w.aria;E.update(v,E,k.get())})(o,a,c),p!==d&&a.onToggled(o,d)},su=(o,a,c)=>{Mx(o,a,c,!c.get())},o0=(o,a,c)=>{Mx(o,a,c,a.selected)};var d5=Object.freeze({__proto__:null,onLoad:o0,toggle:su,isOn:(o,a,c)=>c.get(),on:(o,a,c)=>{Mx(o,a,c,!0)},off:(o,a,c)=>{Mx(o,a,c,!1)},set:Mx}),rv=Object.freeze({__proto__:null,exhibit:()=>Is({}),events:(o,a)=>{const c=(d=o,p=a,v=su,Yc(k=>{v(k,d,p)}));var d,p,v;const w=db(o,a,o0);return to(vr([o.toggleOnExecute?[c]:[],[w]]))}});const Rl=(o,a,c)=>{Jt(o.element,"aria-expanded",c)};var Ec=[et("selected",!1),Bo("toggleClass"),et("toggleOnExecute",!0),Fo("onToggled"),Si("aria",{mode:"none"},Qs("mode",{pressed:[et("syncWithExpanded",!1),Ir("update",(o,a,c)=>{Jt(o.element,"aria-pressed",c),a.syncWithExpanded&&Rl(o,0,c)})],checked:[Ir("update",(o,a,c)=>{Jt(o.element,"aria-checked",c)})],expanded:[Ir("update",Rl)],selected:[Ir("update",(o,a,c)=>{Jt(o.element,"aria-selected",c)})],none:[Ir("update",he)]}))];const Un=pa({fields:Ec,name:"toggling",active:rv,apis:d5,state:{init:()=>{const o=Dn(!1);return{get:()=>o.get(),set:a=>o.set(a),clear:()=>o.set(!1),readState:()=>o.get()}}}}),Pu=()=>{const o=(a,c)=>{c.stop(),rf(a)};return[xt(ea(),o),xt(Qd(),o),dm(Z()),dm(Tt())]},sv=o=>to(vr([o.map(a=>Yc((c,d)=>{a(c),d.stop()})).toArray(),Pu()])),au="alloy.item-hover",Jh="alloy.item-focus",f5="alloy.item-toggled",m5=o=>{(Ps(o.element).isNone()||Zn.isFocused(o))&&(Zn.isFocused(o)||Zn.focus(o),Sn(o,au,{item:o}))},g5=o=>{Sn(o,Jh,{item:o})},lE=te(au),h5=te(Jh),EC=te(f5),p5=o=>o.role.fold(()=>o.toggling.map(a=>a.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),Ae),bP=[At("data"),At("components"),At("dom"),et("hasSubmenu",!1),Bo("toggling"),Bo("role"),jn("itemBehaviours",[Un,Zn,An,rt]),et("ignoreFocus",!1),et("domModification",{}),Ir("builder",o=>({dom:o.dom,domModification:{...o.domModification,attributes:{role:p5(o),...o.domModification.attributes,"aria-haspopup":o.hasSubmenu,...o.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:$n(o.itemBehaviours,[o.toggling.fold(Un.revoke,a=>Un.config(((c,d)=>({aria:{mode:d?"selected":"checked"},...Do(c,(p,v)=>v!=="exclusive"),onToggled:(p,v)=>{K(c.onToggled)&&c.onToggled(p,v),((w,k)=>{Sn(w,f5,{item:w,state:k})})(p,v)}}))(a,o.role.exists(c=>c==="option")))),Zn.config({ignore:o.ignoreFocus,stopMousedown:o.ignoreFocus,onFocus:a=>{g5(a)}}),An.config({mode:"execution"}),rt.config({store:{mode:"memory",initialValue:o.data}}),uo("item-type-events",[...Pu(),xt(_n(),m5),xt(lb(),Zn.focus)])]),components:o.components,eventOrder:o.eventOrder})),et("eventOrder",{})],vP=[At("dom"),At("components"),Ir("builder",o=>({dom:o.dom,components:o.components,events:to([Uw(lb())])}))],cE=te("item-widget"),uE=te([cl({name:"widget",overrides:o=>({behaviours:Ft([rt.config({store:{mode:"manual",getValue:a=>o.data,setValue:he}})])})})]),b5=[At("uid"),At("data"),At("components"),At("dom"),et("autofocus",!1),et("ignoreFocus",!1),jn("widgetBehaviours",[rt,Zn,An]),et("domModification",{}),Fk(uE()),Ir("builder",o=>{const a=Bk(cE(),o,uE()),c=Mk(cE(),o,a.internals()),d=v=>Mr(v,o,"widget").map(w=>(An.focusIn(w),w)),p=(v,w)=>(Q1(w.event.target)||o.autofocus&&w.setSource(v.element),D.none());return{dom:o.dom,components:c,domModification:o.domModification,events:to([Yc((v,w)=>{d(v).each(k=>{w.stop()})}),xt(_n(),m5),xt(lb(),(v,w)=>{o.autofocus?d(v):Zn.focus(v)})]),behaviours:$n(o.widgetBehaviours,[rt.config({store:{mode:"memory",initialValue:o.data}}),Zn.config({ignore:o.ignoreFocus,onFocus:v=>{g5(v)}}),An.config({mode:"special",focusIn:o.autofocus?v=>{d(v)}:pk(),onLeft:p,onRight:p,onEscape:(v,w)=>Zn.isFocused(v)||o.autofocus?(o.autofocus&&w.setSource(v.element),D.none()):(Zn.focus(v),D.some(!0))})])}})],v5=Qs("type",{widget:b5,item:bP,separator:vP}),dE=te([fC({factory:{sketch:o=>{const a=li("menu.spec item",v5,o);return a.builder(a)}},name:"items",unit:"item",defaults:(o,a)=>po(a,"uid")?a:{...a,uid:xc("item")},overrides:(o,a)=>({type:a.type,ignoreFocus:o.fakeFocus,domModification:{classes:[o.markers.item]}})})]),y5=te([ws("role"),At("value"),At("items"),At("dom"),At("components"),et("eventOrder",{}),gn("menuBehaviours",[ar,rt,Vo,An]),Si("movement",{mode:"menu",moveOnTab:!0},Qs("mode",{grid:[qw(),Ir("config",(o,a)=>({mode:"flatgrid",selector:"."+o.markers.item,initSize:{numColumns:a.initSize.numColumns,numRows:a.initSize.numRows},focusManager:o.focusManager}))],matrix:[Ir("config",(o,a)=>({mode:"matrix",selectors:{row:a.rowSelector,cell:"."+o.markers.item},previousSelector:a.previousSelector,focusManager:o.focusManager})),At("rowSelector"),et("previousSelector",D.none)],menu:[et("moveOnTab",!0),Ir("config",(o,a)=>({mode:"menu",selector:"."+o.markers.item,moveOnTab:a.moveOnTab,focusManager:o.focusManager}))]})),Aa("markers",Dg()),et("fakeFocus",!1),et("focusManager",Uk()),Fo("onHighlight"),Fo("onDehighlight"),et("showMenuRole",!0)]),x5=te("alloy.menu-focus"),r0=Cl({name:"Menu",configFields:y5(),partFields:dE(),factory:(o,a,c,d)=>({uid:o.uid,dom:o.dom,markers:o.markers,behaviours:co(o.menuBehaviours,[ar.config({highlightClass:o.markers.selectedItem,itemClass:o.markers.item,onHighlight:o.onHighlight,onDehighlight:o.onDehighlight}),rt.config({store:{mode:"memory",initialValue:o.value}}),Vo.config({find:D.some}),An.config(o.movement.config(o,o.movement))]),events:to([xt(h5(),(p,v)=>{const w=v.event;p.getSystem().getByDom(w.target).each(k=>{ar.highlight(p,k),v.stop(),Sn(p,x5(),{menu:p,item:k})})}),xt(lE(),(p,v)=>{const w=v.event.item;ar.highlight(p,w)}),xt(EC(),(p,v)=>{const{item:w,state:k}=v.event;k&&Co(w.element,"role")==="menuitemradio"&&((E,O)=>{const L=la(E.element,'[role="menuitemradio"][aria-checked="true"]');Zt(L,M=>{Wo(M,O.element)||E.getSystem().getByDom(M).each(H=>{Un.off(H)})})})(p,w)})]),components:a,eventOrder:o.eventOrder,...o.showMenuRole?{domModification:{attributes:{role:o.role.getOr("menu")}}}:{}})}),w5=(o,a,c,d)=>un(c,d).bind(p=>un(o,p).bind(v=>{const w=w5(o,a,c,v);return D.some([v].concat(w))})).getOr([]),C5=o=>o.type==="prepared"?D.some(o.menu):D.none(),yP=()=>{const o=Dn({}),a=Dn({}),c=Dn({}),d=cr(),p=Dn({}),v=E=>w(E).bind(C5),w=E=>un(a.get(),E),k=E=>un(o.get(),E);return{setMenuBuilt:(E,O)=>{a.set({...a.get(),[E]:{type:"prepared",menu:O}})},setContents:(E,O,L,M)=>{d.set(E),o.set(L),a.set(O),p.set(M);const H=((q,Y)=>{const se={};Cn(q,(ae,me)=>{Zt(ae,ye=>{se[ye]=me})});const ce=Y,ve=ao(Y,(ae,me)=>({k:ae,v:me})),ie=En(ve,(ae,me)=>[me].concat(w5(se,ce,ve,me)));return En(se,ae=>un(ie,ae).getOr([ae]))})(M,L);c.set(H)},expand:E=>un(o.get(),E).map(O=>{const L=un(c.get(),E).getOr([]);return[O].concat(L)}),refresh:E=>un(c.get(),E),collapse:E=>un(c.get(),E).bind(O=>O.length>1?D.some(O.slice(1)):D.none()),lookupMenu:w,lookupItem:k,otherMenus:E=>{const O=p.get();return le(on(O),E)},getPrimary:()=>d.get().bind(v),getMenus:()=>a.get(),clear:()=>{o.set({}),a.set({}),c.set({}),d.clear()},isClear:()=>d.get().isNone(),getTriggeringPath:(E,O)=>{const L=ho(k(E).toArray(),M=>v(M).isSome());return un(c.get(),E).bind(M=>{const H=Ke(L.concat(M));return(q=>{const Y=[];for(let se=0;se<q.length;se++){const ce=q[se];if(!ce.isSome())return D.none();Y.push(ce.getOrDie())}return D.some(Y)})(Ko(H,(q,Y)=>((se,ce,ve)=>v(se).bind(ie=>(ae=>fr(o.get(),(me,ye)=>me===ae))(se).bind(ae=>ce(ae).map(me=>({triggeredMenu:ie,triggeringItem:me,triggeringPath:ve})))))(q,O,H.slice(0,Y+1)).fold(()=>Wr(d.get(),q)?[]:[D.none()],se=>[D.some(se)])))})}}},xP=C5,iu=mn("tiered-menu-item-highlight"),wP=mn("tiered-menu-item-dehighlight");var ji;(function(o){o[o.HighlightMenuAndItem=0]="HighlightMenuAndItem",o[o.HighlightJustMenu=1]="HighlightJustMenu",o[o.HighlightNone=2]="HighlightNone"})(ji||(ji={}));const s0=te("collapse-item"),Gg=ru({name:"TieredMenu",configFields:[ci("onExecute"),ci("onEscape"),Nu("onOpenMenu"),Nu("onOpenSubmenu"),Fo("onRepositionMenu"),Fo("onCollapseMenu"),et("highlightOnOpen",ji.HighlightMenuAndItem),dc("data",[At("primary"),At("menus"),At("expansions")]),et("fakeFocus",!1),Fo("onHighlightItem"),Fo("onDehighlightItem"),Fo("onHover"),Rg(),At("dom"),et("navigateOnHover",!0),et("stayInDom",!1),gn("tmenuBehaviours",[An,ar,Vo,zn]),et("eventOrder",{})],apis:{collapseMenu:(o,a)=>{o.collapseMenu(a)},highlightPrimary:(o,a)=>{o.highlightPrimary(a)},repositionMenus:(o,a)=>{o.repositionMenus(a)}},factory:(o,a)=>{const c=cr(),d=yP(),p=ae=>rt.getValue(ae).value,v=ae=>En(o.data.menus,(me,ye)=>Ko(me.items,_e=>_e.type==="separator"?[]:[_e.data.value])),w=ar.highlight,k=(ae,me)=>{w(ae,me),ar.getHighlighted(me).orThunk(()=>ar.getFirst(me)).each(ye=>{o.fakeFocus?ar.highlight(me,ye):os(ae,ye.element,lb())})},E=(ae,me)=>Fa(bt(me,ye=>ae.lookupMenu(ye).bind(_e=>_e.type==="prepared"?D.some(_e.menu):D.none()))),O=(ae,me,ye)=>{const _e=E(me,me.otherMenus(ye));Zt(_e,Le=>{Wl(Le.element,[o.markers.backgroundMenu]),o.stayInDom||zn.remove(ae,Le)})},L=(ae,me)=>{const ye=(_e=>c.get().getOrThunk(()=>{const Le={},Xe=la(_e.element,`.${o.markers.item}`),_t=ho(Xe,vt=>Co(vt,"aria-haspopup")==="true");return Zt(_t,vt=>{_e.getSystem().getByDom(vt).each(gt=>{const Bt=p(gt);Le[Bt]=gt})}),c.set(Le),Le}))(ae);Cn(ye,(_e,Le)=>{const Xe=Qe(me,Le);Jt(_e.element,"aria-expanded",Xe)})},M=(ae,me,ye)=>D.from(ye[0]).bind(_e=>me.lookupMenu(_e).bind(Le=>{if(Le.type==="notbuilt")return D.none();{const Xe=Le.menu,_t=E(me,ye.slice(1));return Zt(_t,vt=>{us(vt.element,o.markers.backgroundMenu)}),nn(Xe.element)||zn.append(ae,$i(Xe)),Wl(Xe.element,[o.markers.backgroundMenu]),k(ae,Xe),O(ae,me,ye),D.some(Xe)}}));let H;(function(ae){ae[ae.HighlightSubmenu=0]="HighlightSubmenu",ae[ae.HighlightParent=1]="HighlightParent"})(H||(H={}));const q=(ae,me,ye=H.HighlightSubmenu)=>{if(me.hasConfigured(Kn)&&Kn.isDisabled(me))return D.some(me);{const _e=p(me);return d.expand(_e).bind(Le=>(L(ae,Le),D.from(Le[0]).bind(Xe=>d.lookupMenu(Xe).bind(_t=>{const vt=((gt,Bt,sn)=>{if(sn.type==="notbuilt"){const vn=gt.getSystem().build(sn.nbMenu());return d.setMenuBuilt(Bt,vn),vn}return sn.menu})(ae,Xe,_t);return nn(vt.element)||zn.append(ae,$i(vt)),o.onOpenSubmenu(ae,me,vt,Ke(Le)),ye===H.HighlightSubmenu?(ar.highlightFirst(vt),M(ae,d,Le)):(ar.dehighlightAll(vt),D.some(me))}))))}},Y=(ae,me)=>{const ye=p(me);return d.collapse(ye).bind(_e=>(L(ae,_e),M(ae,d,_e).map(Le=>(o.onCollapseMenu(ae,me,Le),Le))))},se=ae=>(me,ye)=>Iu(ye.getSource(),`.${o.markers.item}`).bind(_e=>me.getSystem().getByDom(_e).toOptional().bind(Le=>ae(me,Le).map(Ne))),ce=to([xt(x5(),(ae,me)=>{const ye=me.event.item;d.lookupItem(p(ye)).each(()=>{const _e=me.event.menu;ar.highlight(ae,_e);const Le=p(me.event.item);d.refresh(Le).each(Xe=>O(ae,d,Xe))})}),Yc((ae,me)=>{const ye=me.event.target;ae.getSystem().getByDom(ye).each(_e=>{p(_e).indexOf("collapse-item")===0&&Y(ae,_e),q(ae,_e,H.HighlightSubmenu).fold(()=>{o.onExecute(ae,_e)},he)})}),Zr((ae,me)=>{(ye=>{const _e=((Xe,_t,vt)=>En(vt,(gt,Bt)=>{const sn=()=>r0.sketch({...gt,value:Bt,markers:o.markers,fakeFocus:o.fakeFocus,onHighlight:(vn,In)=>{Sn(vn,iu,{menuComp:vn,itemComp:In})},onDehighlight:(vn,In)=>{Sn(vn,wP,{menuComp:vn,itemComp:In})},focusManager:o.fakeFocus?tP():Uk()});return Bt===_t?{type:"prepared",menu:Xe.getSystem().build(sn())}:{type:"notbuilt",nbMenu:sn}}))(ye,o.data.primary,o.data.menus),Le=v();return d.setContents(o.data.primary,_e,o.data.expansions,Le),d.getPrimary()})(ae).each(ye=>{zn.append(ae,$i(ye)),o.onOpenMenu(ae,ye),o.highlightOnOpen===ji.HighlightMenuAndItem?k(ae,ye):o.highlightOnOpen===ji.HighlightJustMenu&&w(ae,ye)})}),xt(iu,(ae,me)=>{o.onHighlightItem(ae,me.event.menuComp,me.event.itemComp)}),xt(wP,(ae,me)=>{o.onDehighlightItem(ae,me.event.menuComp,me.event.itemComp)}),...o.navigateOnHover?[xt(lE(),(ae,me)=>{const ye=me.event.item;((_e,Le)=>{const Xe=p(Le);d.refresh(Xe).bind(_t=>(L(_e,_t),M(_e,d,_t)))})(ae,ye),q(ae,ye,H.HighlightParent),o.onHover(ae,ye)})]:[]]),ve=ae=>ar.getHighlighted(ae).bind(ar.getHighlighted),ie={collapseMenu:ae=>{ve(ae).each(me=>{Y(ae,me)})},highlightPrimary:ae=>{d.getPrimary().each(me=>{k(ae,me)})},repositionMenus:ae=>{d.getPrimary().bind(ye=>ve(ae).bind(_e=>{const Le=p(_e),Xe=vi(d.getMenus()),_t=Fa(bt(Xe,xP));return d.getTriggeringPath(Le,vt=>((gt,Bt,sn)=>It(Bt,vn=>{if(!vn.getSystem().isConnected())return D.none();const In=ar.getCandidates(vn);return J(In,qn=>p(qn)===sn)}))(0,_t,vt))}).map(_e=>({primary:ye,triggeringPath:_e}))).fold(()=>{(ye=>D.from(ye.components()[0]).filter(_e=>Co(_e.element,"role")==="menu"))(ae).each(ye=>{o.onRepositionMenu(ae,ye,[])})},({primary:ye,triggeringPath:_e})=>{o.onRepositionMenu(ae,ye,_e)})}};return{uid:o.uid,dom:o.dom,markers:o.markers,behaviours:co(o.tmenuBehaviours,[An.config({mode:"special",onRight:se((ae,me)=>Q1(me.element)?D.none():q(ae,me,H.HighlightSubmenu)),onLeft:se((ae,me)=>Q1(me.element)?D.none():Y(ae,me)),onEscape:se((ae,me)=>Y(ae,me).orThunk(()=>o.onEscape(ae,me).map(()=>ae))),focusIn:(ae,me)=>{d.getPrimary().each(ye=>{os(ae,ye.element,lb())})}}),ar.config({highlightClass:o.markers.selectedMenu,itemClass:o.markers.menu}),Vo.config({find:ae=>ar.getHighlighted(ae)}),zn.config({})]),eventOrder:o.eventOrder,apis:ie,events:ce}},extraApis:{tieredData:(o,a,c)=>({primary:o,menus:a,expansions:c}),singleData:(o,a)=>({primary:o,menus:Kc(o,a),expansions:{}}),collapseItem:o=>({value:mn(s0()),meta:{text:o}})}}),rs=ru({name:"InlineView",configFields:[At("lazySink"),Fo("onShow"),Fo("onHide"),jc("onEscape"),gn("inlineBehaviours",[T,rt,il]),gs("fireDismissalEventInstead",[et("event",kg())]),gs("fireRepositionEventInstead",[et("event",nf())]),et("getRelated",D.none),et("isExtraPart",Ce),et("eventOrder",D.none)],factory:(o,a)=>{const c=(w,k,E,O)=>{const L=o.lazySink(w).getOrDie();T.openWhileCloaked(w,k,()=>Ja.positionWithinBounds(L,w,E,O())),rt.setValue(w,D.some({mode:"position",config:E,getBounds:O}))},d=(w,k,E,O)=>{const L=((M,H,q,Y,se)=>{const ce=()=>M.lazySink(H),ve=Y.type==="horizontal"?{layouts:{onLtr:()=>M1(),onRtl:()=>P1()}}:{},ie=ae=>(me=>me.length===2)(ae)?ve:{};return Gg.sketch({dom:{tag:"div"},data:Y.data,markers:Y.menu.markers,highlightOnOpen:Y.menu.highlightOnOpen,fakeFocus:Y.menu.fakeFocus,onEscape:()=>(T.close(H),M.onEscape.map(ae=>ae(H)),D.some(!0)),onExecute:()=>D.some(!0),onOpenMenu:(ae,me)=>{Ja.positionWithinBounds(ce().getOrDie(),me,q,se())},onOpenSubmenu:(ae,me,ye,_e)=>{const Le=ce().getOrDie();Ja.position(Le,ye,{anchor:{type:"submenu",item:me,...ie(_e)}})},onRepositionMenu:(ae,me,ye)=>{const _e=ce().getOrDie();Ja.positionWithinBounds(_e,me,q,se()),Zt(ye,Le=>{const Xe=ie(Le.triggeringPath);Ja.position(_e,Le.triggeredMenu,{anchor:{type:"submenu",item:Le.triggeringItem,...Xe}})})}})})(o,w,k,E,O);T.open(w,L),rt.setValue(w,D.some({mode:"menu",menu:L}))},p=w=>{T.isOpen(w)&&rt.getValue(w).each(k=>{switch(k.mode){case"menu":T.getState(w).each(Gg.repositionMenus);break;case"position":const E=o.lazySink(w).getOrDie();Ja.positionWithinBounds(E,w,k.config,k.getBounds())}})},v={setContent:(w,k)=>{T.setContent(w,k)},showAt:(w,k,E)=>{const O=D.none;c(w,k,E,O)},showWithinBounds:c,showMenuAt:(w,k,E)=>{d(w,k,E,D.none)},showMenuWithinBounds:d,hide:w=>{T.isOpen(w)&&(rt.setValue(w,D.none()),T.close(w))},getContent:w=>T.getState(w),reposition:p,isOpen:T.isOpen};return{uid:o.uid,dom:o.dom,behaviours:co(o.inlineBehaviours,[T.config({isPartOf:(w,k,E)=>al(k,E)||((O,L)=>o.getRelated(O).exists(M=>al(M,L)))(w,E),getAttachPoint:w=>o.lazySink(w).getOrDie(),onOpen:w=>{o.onShow(w)},onClose:w=>{o.onHide(w)}}),rt.config({store:{mode:"memory",initialValue:D.none()}}),il.config({channels:{...re({isExtraPart:a.isExtraPart,...o.fireDismissalEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({})}),...De({...o.fireRepositionEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({}),doReposition:p})}})]),eventOrder:o.eventOrder,apis:v}},apis:{showAt:(o,a,c,d)=>{o.showAt(a,c,d)},showWithinBounds:(o,a,c,d,p)=>{o.showWithinBounds(a,c,d,p)},showMenuAt:(o,a,c,d)=>{o.showMenuAt(a,c,d)},showMenuWithinBounds:(o,a,c,d,p)=>{o.showMenuWithinBounds(a,c,d,p)},hide:(o,a)=>{o.hide(a)},isOpen:(o,a)=>o.isOpen(a),getContent:(o,a)=>o.getContent(a),setContent:(o,a,c)=>{o.setContent(a,c)},reposition:(o,a)=>{o.reposition(a)}}});var Lu,Px,AC=tinymce.util.Tools.resolve("tinymce.util.Delay"),av=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),_5=tinymce.util.Tools.resolve("tinymce.EditorManager"),kf=tinymce.util.Tools.resolve("tinymce.Env");(function(o){o.default="wrap",o.floating="floating",o.sliding="sliding",o.scrolling="scrolling"})(Lu||(Lu={})),function(o){o.auto="auto",o.top="top",o.bottom="bottom"}(Px||(Px={}));const Cr=o=>a=>a.options.get(o),Lx=o=>a=>D.from(o(a)),S5=o=>{const a=kf.deviceType.isPhone(),c=kf.deviceType.isTablet()||a,d=o.options.register,p=w=>h(w)||w===!1,v=w=>h(w)||ee(w);d("skin",{processor:w=>h(w)||w===!1,default:"oxide"}),d("skin_url",{processor:"string"}),d("height",{processor:v,default:Math.max(o.getElement().offsetHeight,400)}),d("width",{processor:v,default:av.DOM.getStyle(o.getElement(),"width")}),d("min_height",{processor:"number",default:100}),d("min_width",{processor:"number"}),d("max_height",{processor:"number"}),d("max_width",{processor:"number"}),d("style_formats",{processor:"object[]"}),d("style_formats_merge",{processor:"boolean",default:!1}),d("style_formats_autohide",{processor:"boolean",default:!1}),d("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),d("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),d("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),d("font_size_input_default_unit",{processor:"string",default:"pt"}),d("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),d("content_langs",{processor:"object[]"}),d("removed_menuitems",{processor:"string",default:""}),d("menubar",{processor:w=>h(w)||R(w),default:!a}),d("menu",{processor:"object",default:{}}),d("toolbar",{processor:w=>R(w)||h(w)||B(w)?{value:w,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),sr(9,w=>{d("toolbar"+(w+1),{processor:"string"})}),d("toolbar_mode",{processor:"string",default:c?"scrolling":"floating"}),d("toolbar_groups",{processor:"object",default:{}}),d("toolbar_location",{processor:"string",default:Px.auto}),d("toolbar_persist",{processor:"boolean",default:!1}),d("toolbar_sticky",{processor:"boolean",default:o.inline}),d("toolbar_sticky_offset",{processor:"number",default:0}),d("fixed_toolbar_container",{processor:"string",default:""}),d("fixed_toolbar_container_target",{processor:"object"}),d("ui_mode",{processor:"string",default:"combined"}),d("file_picker_callback",{processor:"function"}),d("file_picker_validator_handler",{processor:"function"}),d("file_picker_types",{processor:"string"}),d("typeahead_urls",{processor:"boolean",default:!0}),d("anchor_top",{processor:p,default:"#top"}),d("anchor_bottom",{processor:p,default:"#bottom"}),d("draggable_modal",{processor:"boolean",default:!1}),d("statusbar",{processor:"boolean",default:!0}),d("elementpath",{processor:"boolean",default:!0}),d("branding",{processor:"boolean",default:!0}),d("promotion",{processor:"boolean",default:!0}),d("resize",{processor:w=>w==="both"||R(w),default:!kf.deviceType.isTouch()}),d("sidebar_show",{processor:"string"}),d("help_accessibility",{processor:"boolean",default:o.hasPlugin("help")}),d("default_font_stack",{processor:"string[]",default:[]})},fE=Cr("readonly"),Fx=Cr("height"),zx=Cr("width"),Hx=Lx(Cr("min_width")),iv=Lx(Cr("min_height")),lv=Lx(Cr("max_width")),TC=Lx(Cr("max_height")),cv=Lx(Cr("style_formats")),OC=Cr("style_formats_merge"),k5=Cr("style_formats_autohide"),mE=Cr("content_langs"),E5=Cr("removed_menuitems"),a0=Cr("toolbar_mode"),DC=Cr("toolbar_groups"),Qh=Cr("toolbar_location"),gE=Cr("fixed_toolbar_container"),CP=Cr("fixed_toolbar_container_target"),A5=Cr("toolbar_persist"),hE=Cr("toolbar_sticky_offset"),Yg=Cr("menubar"),uv=Cr("toolbar"),RC=Cr("file_picker_callback"),Vx=Cr("file_picker_validator_handler"),pE=Cr("font_size_input_default_unit"),$x=Cr("file_picker_types"),NC=Cr("typeahead_urls"),T5=Cr("anchor_top"),O5=Cr("anchor_bottom"),Ef=Cr("draggable_modal"),D5=Cr("statusbar"),R5=Cr("elementpath"),Ac=Cr("branding"),Qa=Cr("resize"),N5=Cr("paste_as_text"),IC=Cr("sidebar_show"),I5=Cr("promotion"),bE=Cr("help_accessibility"),BC=Cr("default_font_stack"),ep=o=>o.options.get("skin")===!1,Ux=o=>o.options.get("menubar")!==!1,MC=o=>{const a=o.options.get("skin_url");if(ep(o))return a;if(a)return o.documentBaseURI.toAbsolute(a);{const c=o.options.get("skin");return _5.baseURL+"/skins/ui/"+c}},PC=o=>D.from(o.options.get("skin_url")),B5=o=>o.options.get("line_height_formats").split(" "),Wx=o=>{const a=uv(o),c=h(a),d=B(a)&&a.length>0;return!Zx(o)&&(d||c||a===!0)},LC=o=>{const a=sr(9,d=>o.options.get("toolbar"+(d+1))),c=ho(a,h);return Uo(c.length>0,c)},Zx=o=>LC(o).fold(()=>{const a=uv(o);return ge(a,h)&&a.length>0},Ne),vE=o=>Qh(o)===Px.bottom,yE=o=>{var a;if(!o.inline)return D.none();const c=(a=gE(o))!==null&&a!==void 0?a:"";if(c.length>0)return Jr(fn(),c);const d=CP(o);return $(d)?D.some(Qt(d)):D.none()},i0=o=>o.inline&&yE(o).isSome(),FC=o=>yE(o).getOrThunk(()=>je(st(Qt(o.getElement())))),zC=o=>o.inline&&!Ux(o)&&!Wx(o)&&!Zx(o),Xg=o=>(o.options.get("toolbar_sticky")||o.inline)&&!i0(o)&&!zC(o),Jg=o=>!i0(o)&&o.options.get("ui_mode")==="split",tp=o=>{const a=o.options.get("menu");return En(a,c=>({...c,items:c.items}))};var jx=Object.freeze({__proto__:null,get ToolbarMode(){return Lu},get ToolbarLocation(){return Px},register:S5,getSkinUrl:MC,getSkinUrlOption:PC,isReadOnly:fE,isSkinDisabled:ep,getHeightOption:Fx,getWidthOption:zx,getMinWidthOption:Hx,getMinHeightOption:iv,getMaxWidthOption:lv,getMaxHeightOption:TC,getUserStyleFormats:cv,shouldMergeStyleFormats:OC,shouldAutoHideStyleFormats:k5,getLineHeightFormats:B5,getContentLanguages:mE,getRemovedMenuItems:E5,isMenubarEnabled:Ux,isMultipleToolbars:Zx,isToolbarEnabled:Wx,isToolbarPersist:A5,getMultipleToolbarsOption:LC,getUiContainer:FC,useFixedContainer:i0,isSplitUiMode:Jg,getToolbarMode:a0,isDraggableModal:Ef,isDistractionFree:zC,isStickyToolbar:Xg,getStickyToolbarOffset:hE,getToolbarLocation:Qh,isToolbarLocationBottom:vE,getToolbarGroups:DC,getMenus:tp,getMenubar:Yg,getToolbar:uv,getFilePickerCallback:RC,getFilePickerTypes:$x,useTypeaheadUrls:NC,getAnchorTop:T5,getAnchorBottom:O5,getFilePickerValidatorHandler:Vx,getFontSizeInputDefaultUnit:pE,useStatusBar:D5,useElementPath:R5,promotionEnabled:I5,useBranding:Ac,getResize:Qa,getPasteAsText:N5,getSidebarShow:IC,useHelpAccessibility:bE,getDefaultFontStack:BC});const _P=["visible","hidden","clip"],M5=o=>ic(o).length>0&&!Qe(_P,o),P5=o=>{if(Qi(o)){const a=as(o,"overflow-x"),c=as(o,"overflow-y");return M5(a)||M5(c)}return!1},np=(o,a)=>Jg(o)?((c,d)=>{const p=Zh(d,P5),v=p.length===0?Lt(d).map(Yt).map(w=>Zh(w,P5)).getOr([]):p;return $t(v).map(w=>({element:w,others:v.slice(1),isFullscreen:()=>(k=>k.plugins.fullscreen&&k.plugins.fullscreen.isFullscreen())(c)}))})(o,a):D.none(),op=o=>{const a=[...bt(o.others,Ks),ka()];return o.isFullscreen()?ka():((c,d)=>Rn(d,(p,v)=>sd(p,v),c))(Ks(o.element),a)},Oi=ru({name:"Button",factory:o=>{const a=sv(o.action),c=o.dom.tag,d=p=>un(o.dom,"attributes").bind(v=>un(v,p));return{uid:o.uid,dom:o.dom,components:o.components,events:a,behaviours:$n(o.buttonBehaviours,[Zn.config({}),An.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:c==="button"?{type:d("type").getOr("button"),...d("role").map(p=>({role:p})).getOr({})}:{role:o.role.getOr(d("role").getOr("button"))}},eventOrder:o.eventOrder}},configFields:[et("uid",void 0),At("dom"),et("components",[]),jn("buttonBehaviours",[Zn,An]),Bo("action"),Bo("role"),et("eventOrder",{})]}),Bm=o=>{const a=Al(o),c=yr(a),d=(w=>{const k=w.dom.attributes!==void 0?w.dom.attributes:[];return Rn(k,(E,O)=>O.name==="class"?E:{...E,[O.name]:O.value},{})})(a),p=(w=>Array.prototype.slice.call(w.dom.classList,0))(a),v=c.length===0?{}:{innerHtml:md(a)};return{tag:Bi(a),classes:p,attributes:d,...v}},or=o=>{const a=(c=>c.uid!==void 0)(o)&&io(o,"uid")?o.uid:xc("memento");return{get:c=>c.getSystem().getByUid(a).getOrDie(),getOpt:c=>c.getSystem().getByUid(a).toOptional(),asSpec:()=>({...o,uid:a})}};var SP=Object.freeze({__proto__:null,exhibit:(o,a)=>Is({attributes:cd([{key:a.tabAttr,value:"true"}])})}),L5=[et("tabAttr","data-alloy-tabstop")];const Nr=pa({fields:L5,name:"tabstopping",active:SP}),xE=mn("tooltip.exclusive"),Kx=mn("tooltip.show"),qx=mn("tooltip.hide"),Gx=mn("tooltip.immediateHide"),Yx=mn("tooltip.immediateShow"),F5=(o,a,c)=>{o.getSystem().broadcastOn([xE],{})};var kP=Object.freeze({__proto__:null,hideAllExclusive:F5,immediateOpenClose:(o,a,c,d)=>go(o,d?Yx:Gx),isEnabled:(o,a,c)=>c.isEnabled(),setComponents:(o,a,c,d)=>{c.getTooltip().each(p=>{p.getSystem().isConnected()&&zn.set(p,d)})},setEnabled:(o,a,c,d)=>c.setEnabled(d)}),EP=Object.freeze({__proto__:null,events:(o,a)=>{const c=v=>{a.getTooltip().each(w=>{w.getSystem().isConnected()&&(Wi(w),o.onHide(v,w),a.clearTooltip())}),a.clearTimer()},d=v=>{if(!a.isShowing()&&a.isEnabled()){F5(v);const w=o.lazySink(v).getOrDie(),k=v.getSystem().build({dom:o.tooltipDom,components:o.tooltipComponents,events:to(o.mode==="normal"?[xt(_n(),E=>{go(v,Kx)}),xt(so(),E=>{go(v,qx)})]:[]),behaviours:Ft([zn.config({})])});a.setTooltip(k),xf(w,k),o.onShow(v,k),Ja.position(w,k,{anchor:o.anchor(v)})}},p=v=>{a.getTooltip().each(w=>{const k=o.lazySink(v).getOrDie();Ja.position(k,w,{anchor:o.anchor(v)})})};return to(vr([[g1(v=>{o.onSetup(v)}),xt(Kx,v=>{a.resetTimer(()=>{d(v)},o.delayForShow())}),xt(qx,v=>{a.resetTimer(()=>{c(v)},o.delayForHide())}),xt(Yx,v=>{a.resetTimer(()=>{d(v)},0)}),xt(Gx,v=>{a.resetTimer(()=>{c(v)},0)}),xt($l(),(v,w)=>{const k=w;k.universal||Qe(k.channels,xE)&&c(v)}),Ru(v=>{c(v)})],(()=>{switch(o.mode){case"normal":return[xt(Qo(),v=>{go(v,Yx)}),xt(Oh(),v=>{go(v,Gx)}),xt(_n(),v=>{go(v,Kx)}),xt(so(),v=>{go(v,qx)})];case"follow-highlight":return[xt(Ry(),(v,w)=>{go(v,Kx)}),xt(of(),v=>{go(v,qx)})];case"children-normal":return[xt(Qo(),(v,w)=>{Ps(v.element).each(k=>{Pc(w.event.target,"[data-mce-tooltip]")&&a.getTooltip().fold(()=>{go(v,Yx)},E=>{a.isShowing()&&(o.onShow(v,E),p(v))})})}),xt(Oh(),v=>{Ps(v.element).fold(()=>{go(v,Gx)},he)}),xt(_n(),v=>{Jr(v.element,"[data-mce-tooltip]:hover").each(w=>{a.getTooltip().fold(()=>{go(v,Kx)},k=>{a.isShowing()&&(o.onShow(v,k),p(v))})})}),xt(so(),v=>{Jr(v.element,"[data-mce-tooltip]:hover").fold(()=>{go(v,qx)},he)})];default:return[xt(Qo(),(v,w)=>{Ps(v.element).each(k=>{Pc(w.event.target,"[data-mce-tooltip]")&&a.getTooltip().fold(()=>{go(v,Yx)},E=>{a.isShowing()&&(o.onShow(v,E),p(v))})})}),xt(Oh(),v=>{Ps(v.element).fold(()=>{go(v,Gx)},he)})]}})()]))}}),AP=[At("lazySink"),At("tooltipDom"),et("exclusive",!0),et("tooltipComponents",[]),zr("delayForShow",te(300)),zr("delayForHide",te(300)),zr("onSetup",he),fc("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),et("anchor",o=>({type:"hotspot",hotspot:o,layouts:{onLtr:te([Ms,ds,bs,$s,vs,wr]),onRtl:te([Ms,ds,bs,$s,vs,wr])},bubble:Zl(0,-2,{})})),Fo("onHide"),Fo("onShow")],TP=Object.freeze({__proto__:null,init:()=>{const o=Dn(!0),a=cr(),c=cr(),d=()=>{a.on(clearTimeout)},p=te("not-implemented");return ha({getTooltip:c.get,isShowing:c.isSet,setTooltip:c.set,clearTooltip:c.clear,clearTimer:d,resetTimer:(v,w)=>{d(),a.set(setTimeout(v,w))},readState:p,isEnabled:()=>o.get(),setEnabled:v=>o.set(v)})}});const Ws=pa({fields:AP,name:"tooltipping",active:EP,state:TP,apis:kP}),{entries:z5,setPrototypeOf:wE,isFrozen:H5,getPrototypeOf:V5,getOwnPropertyDescriptor:OP}=Object;let{freeze:Kl,seal:Af,create:$5}=Object,{apply:CE,construct:_E}=typeof Reflect<"u"&&Reflect;CE||(CE=function(o,a,c){return o.apply(a,c)}),Kl||(Kl=function(o){return o}),Af||(Af=function(o){return o}),_E||(_E=function(o,a){return new o(...a)});const SE=_d(Array.prototype.forEach),DP=_d(Array.prototype.pop),Xx=_d(Array.prototype.push),HC=_d(String.prototype.toLowerCase),VC=_d(String.prototype.toString),RP=_d(String.prototype.match),rn=_d(String.prototype.replace),l0=_d(String.prototype.indexOf),NP=_d(String.prototype.trim),lu=_d(RegExp.prototype.test),rp=($C=TypeError,function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return _E($C,a)});var $C;function _d(o){return function(a){for(var c=arguments.length,d=new Array(c>1?c-1:0),p=1;p<c;p++)d[p-1]=arguments[p];return CE(o,a,d)}}function kr(o,a,c){var d;c=(d=c)!==null&&d!==void 0?d:HC,wE&&wE(o,null);let p=a.length;for(;p--;){let v=a[p];if(typeof v=="string"){const w=c(v);w!==v&&(H5(a)||(a[p]=w),v=w)}o[v]=!0}return o}function dv(o){const a=$5(null);for(const[c,d]of z5(o))a[c]=d;return a}function UC(o,a){for(;o!==null;){const c=OP(o,a);if(c){if(c.get)return _d(c.get);if(typeof c.value=="function")return _d(c.value)}o=V5(o)}return function(c){return console.warn("fallback value for",c),null}}const kE=Kl(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Jx=Kl(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),c0=Kl(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),U5=Kl(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),EE=Kl(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),IP=Kl(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),W5=Kl(["#text"]),BP=Kl(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),WC=Kl(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Z5=Kl(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ZC=Kl(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MP=Af(/\{\{[\w\W]*|[\w\W]*\}\}/gm),PP=Af(/<%[\w\W]*|[\w\W]*%>/gm),AE=Af(/\${[\w\W]*}/gm),LP=Af(/^data-[\-\w.\u00B7-\uFFFF]/),FP=Af(/^aria-[\-\w]+$/),j5=Af(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),zP=Af(/^(?:\w+script|data):/i),HP=Af(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Mm=Af(/^html$/i);var Qx=Object.freeze({__proto__:null,MUSTACHE_EXPR:MP,ERB_EXPR:PP,TMPLIT_EXPR:AE,DATA_ATTR:LP,ARIA_ATTR:FP,IS_ALLOWED_URI:j5,IS_SCRIPT_OR_DATA:zP,ATTR_WHITESPACE:HP,DOCTYPE_NAME:Mm});const VP=()=>typeof window>"u"?null:window;var $P=function o(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:VP();const c=it=>o(it);if(c.version="3.0.5",c.removed=[],!a||!a.document||a.document.nodeType!==9)return c.isSupported=!1,c;const d=a.document,p=d.currentScript;let{document:v}=a;const{DocumentFragment:w,HTMLTemplateElement:k,Node:E,Element:O,NodeFilter:L,NamedNodeMap:M=a.NamedNodeMap||a.MozNamedAttrMap,HTMLFormElement:H,DOMParser:q,trustedTypes:Y}=a,se=O.prototype,ce=UC(se,"cloneNode"),ve=UC(se,"nextSibling"),ie=UC(se,"childNodes"),ae=UC(se,"parentNode");if(typeof k=="function"){const it=v.createElement("template");it.content&&it.content.ownerDocument&&(v=it.content.ownerDocument)}let me,ye="";const{implementation:_e,createNodeIterator:Le,createDocumentFragment:Xe,getElementsByTagName:_t}=v,{importNode:vt}=d;let gt={};c.isSupported=typeof z5=="function"&&typeof ae=="function"&&_e&&_e.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Bt,ERB_EXPR:sn,TMPLIT_EXPR:vn,DATA_ATTR:In,ARIA_ATTR:qn,IS_SCRIPT_OR_DATA:ko,ATTR_WHITESPACE:Vr}=Qx;let{IS_ALLOWED_URI:Qr}=Qx,mo=null;const zo=kr({},[...kE,...Jx,...c0,...EE,...W5]);let Fn=null;const es=kr({},[...BP,...WC,...Z5,...ZC]);let _r=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Di=null,Ri=null,Na=!0,ya=!0,dh=!1,$v=!0,Ep=!1,fh=!1,aw=!1,Ap=!1,Ym=!1,L0=!1,F0=!1,Uv=!0,DS=!1,iw=!0,Tp=!1,Xm={},mh=null;const lw=kr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let cw=null;const Yo=kr({},["audio","video","img","source","image","track"]);let Jm=null;const Rd=kr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),z0="http://www.w3.org/1998/Math/MathML",RS="http://www.w3.org/2000/svg",gh="http://www.w3.org/1999/xhtml";let Wv=gh,xT=!1,NS=null;const qz=kr({},[z0,RS,gh],VC);let Zv;const Gz=["application/xhtml+xml","text/html"];let fl,H0=null;const Yz=v.createElement("form"),yB=function(it){return it instanceof RegExp||it instanceof Function},IS=function(it){if(!H0||H0!==it){if(it&&typeof it=="object"||(it={}),it=dv(it),Zv=Zv=Gz.indexOf(it.PARSER_MEDIA_TYPE)===-1?"text/html":it.PARSER_MEDIA_TYPE,fl=Zv==="application/xhtml+xml"?VC:HC,mo="ALLOWED_TAGS"in it?kr({},it.ALLOWED_TAGS,fl):zo,Fn="ALLOWED_ATTR"in it?kr({},it.ALLOWED_ATTR,fl):es,NS="ALLOWED_NAMESPACES"in it?kr({},it.ALLOWED_NAMESPACES,VC):qz,Jm="ADD_URI_SAFE_ATTR"in it?kr(dv(Rd),it.ADD_URI_SAFE_ATTR,fl):Rd,cw="ADD_DATA_URI_TAGS"in it?kr(dv(Yo),it.ADD_DATA_URI_TAGS,fl):Yo,mh="FORBID_CONTENTS"in it?kr({},it.FORBID_CONTENTS,fl):lw,Di="FORBID_TAGS"in it?kr({},it.FORBID_TAGS,fl):{},Ri="FORBID_ATTR"in it?kr({},it.FORBID_ATTR,fl):{},Xm="USE_PROFILES"in it&&it.USE_PROFILES,Na=it.ALLOW_ARIA_ATTR!==!1,ya=it.ALLOW_DATA_ATTR!==!1,dh=it.ALLOW_UNKNOWN_PROTOCOLS||!1,$v=it.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ep=it.SAFE_FOR_TEMPLATES||!1,fh=it.WHOLE_DOCUMENT||!1,Ym=it.RETURN_DOM||!1,L0=it.RETURN_DOM_FRAGMENT||!1,F0=it.RETURN_TRUSTED_TYPE||!1,Ap=it.FORCE_BODY||!1,Uv=it.SANITIZE_DOM!==!1,DS=it.SANITIZE_NAMED_PROPS||!1,iw=it.KEEP_CONTENT!==!1,Tp=it.IN_PLACE||!1,Qr=it.ALLOWED_URI_REGEXP||j5,Wv=it.NAMESPACE||gh,_r=it.CUSTOM_ELEMENT_HANDLING||{},it.CUSTOM_ELEMENT_HANDLING&&yB(it.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(_r.tagNameCheck=it.CUSTOM_ELEMENT_HANDLING.tagNameCheck),it.CUSTOM_ELEMENT_HANDLING&&yB(it.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(_r.attributeNameCheck=it.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),it.CUSTOM_ELEMENT_HANDLING&&typeof it.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(_r.allowCustomizedBuiltInElements=it.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ep&&(ya=!1),L0&&(Ym=!0),Xm&&(mo=kr({},[...W5]),Fn=[],Xm.html===!0&&(kr(mo,kE),kr(Fn,BP)),Xm.svg===!0&&(kr(mo,Jx),kr(Fn,WC),kr(Fn,ZC)),Xm.svgFilters===!0&&(kr(mo,c0),kr(Fn,WC),kr(Fn,ZC)),Xm.mathMl===!0&&(kr(mo,EE),kr(Fn,Z5),kr(Fn,ZC))),it.ADD_TAGS&&(mo===zo&&(mo=dv(mo)),kr(mo,it.ADD_TAGS,fl)),it.ADD_ATTR&&(Fn===es&&(Fn=dv(Fn)),kr(Fn,it.ADD_ATTR,fl)),it.ADD_URI_SAFE_ATTR&&kr(Jm,it.ADD_URI_SAFE_ATTR,fl),it.FORBID_CONTENTS&&(mh===lw&&(mh=dv(mh)),kr(mh,it.FORBID_CONTENTS,fl)),iw&&(mo["#text"]=!0),fh&&kr(mo,["html","head","body"]),mo.table&&(kr(mo,["tbody"]),delete Di.tbody),it.TRUSTED_TYPES_POLICY){if(typeof it.TRUSTED_TYPES_POLICY.createHTML!="function")throw rp('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof it.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw rp('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');me=it.TRUSTED_TYPES_POLICY,ye=me.createHTML("")}else me===void 0&&(me=function(Bn,no){if(typeof Bn!="object"||typeof Bn.createPolicy!="function")return null;let $r=null;const Ls="data-tt-policy-suffix";no&&no.hasAttribute(Ls)&&($r=no.getAttribute(Ls));const Gs="dompurify"+($r?"#"+$r:"");try{return Bn.createPolicy(Gs,{createHTML:Zs=>Zs,createScriptURL:Zs=>Zs})}catch{return console.warn("TrustedTypes policy "+Gs+" could not be created."),null}}(Y,p)),me!==null&&typeof ye=="string"&&(ye=me.createHTML(""));Kl&&Kl(it),H0=it}},xB=kr({},["mi","mo","mn","ms","mtext"]),wB=kr({},["foreignobject","desc","title","annotation-xml"]),eo=kr({},["title","style","font","a","script"]),Op=kr({},Jx);kr(Op,c0),kr(Op,U5);const BS=kr({},EE);kr(BS,IP);const Dp=function(it){Xx(c.removed,{element:it});try{it.parentNode.removeChild(it)}catch{it.remove()}},jv=function(it,Bn){try{Xx(c.removed,{attribute:Bn.getAttributeNode(it),from:Bn})}catch{Xx(c.removed,{attribute:null,from:Bn})}if(Bn.removeAttribute(it),it==="is"&&!Fn[it])if(Ym||L0)try{Dp(Bn)}catch{}else try{Bn.setAttribute(it,"")}catch{}},wT=function(it){let Bn,no;if(Ap)it="<remove></remove>"+it;else{const Gs=RP(it,/^[\r\n\t ]+/);no=Gs&&Gs[0]}Zv==="application/xhtml+xml"&&Wv===gh&&(it='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+it+"</body></html>");const $r=me?me.createHTML(it):it;if(Wv===gh)try{Bn=new q().parseFromString($r,Zv)}catch{}if(!Bn||!Bn.documentElement){Bn=_e.createDocument(Wv,"template",null);try{Bn.documentElement.innerHTML=xT?ye:$r}catch{}}const Ls=Bn.body||Bn.documentElement;return it&&no&&Ls.insertBefore(v.createTextNode(no),Ls.childNodes[0]||null),Wv===gh?_t.call(Bn,fh?"html":"body")[0]:fh?Bn.documentElement:Ls},CT=function(it){return Le.call(it.ownerDocument||it,it,L.SHOW_ELEMENT|L.SHOW_COMMENT|L.SHOW_TEXT,null,!1)},_T=function(it){return typeof E=="object"?it instanceof E:it&&typeof it=="object"&&typeof it.nodeType=="number"&&typeof it.nodeName=="string"},Gu=function(it,Bn,no){gt[it]&&SE(gt[it],$r=>{$r.call(c,Bn,no,H0)})},CB=function(it){let Bn;if(Gu("beforeSanitizeElements",it,null),(no=it)instanceof H&&(typeof no.nodeName!="string"||typeof no.textContent!="string"||typeof no.removeChild!="function"||!(no.attributes instanceof M)||typeof no.removeAttribute!="function"||typeof no.setAttribute!="function"||typeof no.namespaceURI!="string"||typeof no.insertBefore!="function"||typeof no.hasChildNodes!="function"))return Dp(it),!0;var no;const $r=fl(it.nodeName);if(Gu("uponSanitizeElement",it,{tagName:$r,allowedTags:mo}),it.hasChildNodes()&&!_T(it.firstElementChild)&&(!_T(it.content)||!_T(it.content.firstElementChild))&&lu(/<[/\w]/g,it.innerHTML)&&lu(/<[/\w]/g,it.textContent))return Dp(it),!0;if(!mo[$r]||Di[$r]){if(!Di[$r]&&_B($r)&&(_r.tagNameCheck instanceof RegExp&&lu(_r.tagNameCheck,$r)||_r.tagNameCheck instanceof Function&&_r.tagNameCheck($r)))return!1;if(iw&&!mh[$r]){const Ls=ae(it)||it.parentNode,Gs=ie(it)||it.childNodes;if(Gs&&Ls)for(let Zs=Gs.length-1;Zs>=0;--Zs)Ls.insertBefore(ce(Gs[Zs],!0),ve(it))}return Dp(it),!0}return it instanceof O&&!function(Ls){let Gs=ae(Ls);Gs&&Gs.tagName||(Gs={namespaceURI:Wv,tagName:"template"});const Zs=HC(Ls.tagName),ca=HC(Gs.tagName);return!!NS[Ls.namespaceURI]&&(Ls.namespaceURI===RS?Gs.namespaceURI===gh?Zs==="svg":Gs.namespaceURI===z0?Zs==="svg"&&(ca==="annotation-xml"||xB[ca]):!!Op[Zs]:Ls.namespaceURI===z0?Gs.namespaceURI===gh?Zs==="math":Gs.namespaceURI===RS?Zs==="math"&&wB[ca]:!!BS[Zs]:Ls.namespaceURI===gh?!(Gs.namespaceURI===RS&&!wB[ca])&&!(Gs.namespaceURI===z0&&!xB[ca])&&!BS[Zs]&&(eo[Zs]||!Op[Zs]):!(Zv!=="application/xhtml+xml"||!NS[Ls.namespaceURI]))}(it)?(Dp(it),!0):$r!=="noscript"&&$r!=="noembed"&&$r!=="noframes"||!lu(/<\/no(script|embed|frames)/i,it.innerHTML)?(Ep&&it.nodeType===3&&(Bn=it.textContent,Bn=rn(Bn,Bt," "),Bn=rn(Bn,sn," "),Bn=rn(Bn,vn," "),it.textContent!==Bn&&(Xx(c.removed,{element:it.cloneNode()}),it.textContent=Bn)),Gu("afterSanitizeElements",it,null),!1):(Dp(it),!0)},ST=function(it,Bn,no){if(Uv&&(Bn==="id"||Bn==="name")&&(no in v||no in Yz))return!1;if(!(ya&&!Ri[Bn]&&lu(In,Bn))){if(!(Na&&lu(qn,Bn))){if(!Fn[Bn]||Ri[Bn]){if(!(_B(it)&&(_r.tagNameCheck instanceof RegExp&&lu(_r.tagNameCheck,it)||_r.tagNameCheck instanceof Function&&_r.tagNameCheck(it))&&(_r.attributeNameCheck instanceof RegExp&&lu(_r.attributeNameCheck,Bn)||_r.attributeNameCheck instanceof Function&&_r.attributeNameCheck(Bn))||Bn==="is"&&_r.allowCustomizedBuiltInElements&&(_r.tagNameCheck instanceof RegExp&&lu(_r.tagNameCheck,no)||_r.tagNameCheck instanceof Function&&_r.tagNameCheck(no))))return!1}else if(!Jm[Bn]){if(!lu(Qr,rn(no,Vr,""))){if((Bn!=="src"&&Bn!=="xlink:href"&&Bn!=="href"||it==="script"||l0(no,"data:")!==0||!cw[it])&&!(dh&&!lu(ko,rn(no,Vr,"")))){if(no)return!1}}}}}return!0},_B=function(it){return it.indexOf("-")>0},SB=function(it){let Bn,no,$r,Ls;Gu("beforeSanitizeAttributes",it,null);const{attributes:Gs}=it;if(!Gs)return;const Zs={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Fn};for(Ls=Gs.length;Ls--;){Bn=Gs[Ls];const{name:ca,namespaceURI:Kv}=Bn;no=ca==="value"?Bn.value:NP(Bn.value);const Jz=no;if($r=fl(ca),Zs.attrName=$r,Zs.attrValue=no,Zs.keepAttr=!0,Zs.forceKeepAttr=void 0,Gu("uponSanitizeAttribute",it,Zs),no=Zs.attrValue,Zs.forceKeepAttr)continue;if(!Zs.keepAttr){jv(ca,it);continue}if(!$v&&lu(/\/>/i,no)){jv(ca,it);continue}Ep&&(no=rn(no,Bt," "),no=rn(no,sn," "),no=rn(no,vn," "));const kB=fl(it.nodeName);if(ST(kB,$r,no)){if(!DS||$r!=="id"&&$r!=="name"||(jv(ca,it),no="user-content-"+no),me&&typeof Y=="object"&&typeof Y.getAttributeType=="function"&&!Kv)switch(Y.getAttributeType(kB,$r)){case"TrustedHTML":no=me.createHTML(no);break;case"TrustedScriptURL":no=me.createScriptURL(no)}if(no!==Jz)try{Kv?it.setAttributeNS(Kv,ca,no):it.setAttribute(ca,no)}catch{jv(ca,it)}}else jv(ca,it)}Gu("afterSanitizeAttributes",it,null)},Xz=function it(Bn){let no;const $r=CT(Bn);for(Gu("beforeSanitizeShadowDOM",Bn,null);no=$r.nextNode();)Gu("uponSanitizeShadowNode",no,null),CB(no)||(no.content instanceof w&&it(no.content),SB(no));Gu("afterSanitizeShadowDOM",Bn,null)};return c.sanitize=function(it){let Bn,no,$r,Ls,Gs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(xT=!it,xT&&(it="<!-->"),typeof it!="string"&&!_T(it)){if(typeof it.toString!="function")throw rp("toString is not a function");if(typeof(it=it.toString())!="string")throw rp("dirty is not a string, aborting")}if(!c.isSupported)return it;if(aw||IS(Gs),c.removed=[],typeof it=="string"&&(Tp=!1),Tp){if(it.nodeName){const Kv=fl(it.nodeName);if(!mo[Kv]||Di[Kv])throw rp("root node is forbidden and cannot be sanitized in-place")}}else if(it instanceof E)Bn=wT("<!---->"),no=Bn.ownerDocument.importNode(it,!0),no.nodeType===1&&no.nodeName==="BODY"||no.nodeName==="HTML"?Bn=no:Bn.appendChild(no);else{if(!Ym&&!Ep&&!fh&&it.indexOf("<")===-1)return me&&F0?me.createHTML(it):it;if(Bn=wT(it),!Bn)return Ym?null:F0?ye:""}Bn&&Ap&&Dp(Bn.firstChild);const Zs=CT(Tp?it:Bn);for(;$r=Zs.nextNode();)CB($r)||($r.content instanceof w&&Xz($r.content),SB($r));if(Tp)return it;if(Ym){if(L0)for(Ls=Xe.call(Bn.ownerDocument);Bn.firstChild;)Ls.appendChild(Bn.firstChild);else Ls=Bn;return(Fn.shadowroot||Fn.shadowrootmode)&&(Ls=vt.call(d,Ls,!0)),Ls}let ca=fh?Bn.outerHTML:Bn.innerHTML;return fh&&mo["!doctype"]&&Bn.ownerDocument&&Bn.ownerDocument.doctype&&Bn.ownerDocument.doctype.name&&lu(Mm,Bn.ownerDocument.doctype.name)&&(ca="<!DOCTYPE "+Bn.ownerDocument.doctype.name+`>
`+ca),Ep&&(ca=rn(ca,Bt," "),ca=rn(ca,sn," "),ca=rn(ca,vn," ")),me&&F0?me.createHTML(ca):ca},c.setConfig=function(it){IS(it),aw=!0},c.clearConfig=function(){H0=null,aw=!1},c.isValidAttribute=function(it,Bn,no){H0||IS({});const $r=fl(it),Ls=fl(Bn);return ST($r,Ls,no)},c.addHook=function(it,Bn){typeof Bn=="function"&&(gt[it]=gt[it]||[],Xx(gt[it],Bn))},c.removeHook=function(it){if(gt[it])return DP(gt[it])},c.removeHooks=function(it){gt[it]&&(gt[it]=[])},c.removeAllHooks=function(){gt={}},c}();const K5=o=>$P().sanitize(o);var Fu=tinymce.util.Tools.resolve("tinymce.util.I18n");const UP={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},q5="temporary-placeholder",TE=o=>()=>un(o,q5).getOr("!not found!"),sp=(o,a)=>{const c=o.toLowerCase();if(Fu.isRtl()){const d=((p,v)=>hu(p,v)?p:((w,k)=>w+k)(p,v))(c,"-rtl");return po(a,d)?d:c}return c},e2=(o,a)=>un(a,sp(o,a)),G5=(o,a)=>{const c=a();return e2(o,c).getOrThunk(TE(c))},jC=()=>uo("add-focusable",[Zr(o=>{N1(o.element,"svg").each(a=>Jt(a,"focusable","false"))})]),Y5=(o,a,c,d)=>{var p,v;const w=(E=>!!Fu.isRtl()&&po(UP,E))(a)?["tox-icon--flip"]:[],k=un(c,sp(a,c)).or(d).getOrThunk(TE(c));return{dom:{tag:o.tag,attributes:(p=o.attributes)!==null&&p!==void 0?p:{},classes:o.classes.concat(w),innerHtml:k},behaviours:Ft([...(v=o.behaviours)!==null&&v!==void 0?v:[],jC()])}},Tc=(o,a,c,d=D.none())=>Y5(a,o,c(),d),WP={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},OE=ru({name:"Notification",factory:o=>{const a=mn("notification-text"),c=or({dom:Bm(`<p id=${a}>${K5(o.backstageProvider.translate(o.text))}</p>`),behaviours:Ft([zn.config({})])}),d=M=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${M}%`}}}),p=M=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${M}%`}}),v=or({dom:{tag:"div",classes:o.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[d(0)]},p(0)],behaviours:Ft([zn.config({})])}),w={updateProgress:(M,H)=>{M.getSystem().isConnected()&&v.getOpt(M).each(q=>{zn.set(q,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[d(H)]},p(H)])})},updateText:(M,H)=>{if(M.getSystem().isConnected()){const q=c.get(M);zn.set(q,[Cs(H)])}}},k=vr([o.icon.toArray(),o.level.toArray(),o.level.bind(M=>D.from(WP[M])).toArray()]),E=or(Oi.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":o.backstageProvider.translate("Close")}},components:[Tc("close",{tag:"span",classes:["tox-icon"]},o.iconProvider)],buttonBehaviours:Ft([Nr.config({}),Ws.config({...o.backstageProvider.tooltips.getConfig({tooltipText:o.backstageProvider.translate("Close")})})]),action:M=>{o.onAction(M)}})),O=((M,H,q)=>{const Y=q(),se=J(M,ce=>po(Y,sp(ce,Y)));return Y5({tag:"div",classes:["tox-notification__icon"]},se.getOr(q5),Y,D.none())})(k,0,o.iconProvider),L=[O,{dom:{tag:"div",classes:["tox-notification__body"]},components:[c.asSpec()],behaviours:Ft([zn.config({})])}];return{uid:o.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":a},classes:o.level.map(M=>["tox-notification","tox-notification--in",`tox-notification--${M}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:Ft([Nr.config({}),Zn.config({}),An.config({mode:"special",onEscape:M=>(o.onAction(M),D.some(!0))})]),components:L.concat(o.progress?[v.asSpec()]:[]).concat([E.asSpec()]),apis:w}},configFields:[Bo("level"),At("progress"),Bo("icon"),At("onAction"),At("text"),At("iconProvider"),At("backstageProvider")],apis:{updateProgress:(o,a,c)=>{o.updateProgress(a,c)},updateText:(o,a,c)=>{o.updateText(a,c)}}});var X5=(o,a,c,d)=>{const p=a.backstage.shared,v=()=>Qt(o.queryCommandValue("ToggleView")===""?o.getContentAreaContainer():o.getContainer()),w=()=>{const E=Ks(v());return D.some(E)},k=E=>{w().each(O=>{Zt(E,L=>{nr(L.element,"width"),fa(L.element)>O.width&&Qn(L.element,"width",O.width+"px")})})};return{open:(E,O,L)=>{const M=()=>{d.on(Y=>{O();const se=L();(ce=>{zn.remove(ce,H),q()})(Y),((ce,ve)=>{yr(ce.element).length===0?((ie,ae)=>{rs.hide(ie),d.clear(),ae&&o.focus()})(ce,ve):((ie,ae)=>{ae&&An.focusIn(ie)})(ce,ve)})(Y,se)})},H=Oa(OE.sketch({text:E.text,level:Qe(["success","error","warning","warn","info"],E.type)?E.type:void 0,progress:E.progressBar===!0,icon:E.icon,onAction:M,iconProvider:p.providers.icons,backstageProvider:p.providers}));if(d.isSet()){const Y=$i(H);d.on(se=>{zn.append(se,Y),rs.reposition(se),Xr.refresh(se),k(se.components())})}else{const Y=Oa(rs.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:p.getSink,fireDismissalEventInstead:{},...p.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Ft([An.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),zn.config({}),...Xg(o)&&!p.header.isPositionedAtTop()?[]:[Xr.config({contextual:{lazyContext:()=>D.some(Ks(v())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:ie=>np(o,ie.element).map(ae=>({bounds:op(ae),optScrollEnv:D.some({currentScrollTop:ae.element.dom.scrollTop,scrollElmTop:yl(ae.element).top})})).getOrThunk(()=>({bounds:ka(),optScrollEnv:D.none()}))})]])})),se=$i(H),ce={maxHeightFunction:$g()},ve={...p.anchors.banner(),overrides:ce};d.set(Y),c.add(Y),rs.showWithinBounds(Y,se,{anchor:ve},w)}ee(E.timeout)&&E.timeout>0&&AC.setEditorTimeout(o,()=>{M()},E.timeout);const q=()=>{d.on(Y=>{rs.reposition(Y),Xr.refresh(Y),k(Y.components())})};return{close:M,reposition:q,text:Y=>{OE.updateText(H,Y)},settings:E,getEl:()=>H.element.dom,progressBar:{value:Y=>{OE.updateProgress(H,Y)}}}},close:E=>{E.close()},getArgs:E=>E.settings}},t2;(function(o){o[o.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",o[o.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(t2||(t2={}));var Tf=t2;const KC="tox-menu-nav__js",qC="tox-collection__item",J5="tox-swatch",Q5={normal:KC,color:J5},eD="tox-collection__item--enabled",tD="tox-collection__item-icon",n2="tox-collection__item-label",DE="tox-collection__item-caret",Pm="tox-collection__item--active",o2="tox-collection__item-container",r2="tox-collection__item-container--row",ap=o=>un(Q5,o).getOr(KC),m$=o=>o==="color"?"tox-swatches":"tox-menu",RE=o=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:m$(o),tieredMenu:"tox-tiered-menu"}),u0=o=>{const a=RE(o);return{backgroundMenu:a.backgroundMenu,selectedMenu:a.selectedMenu,menu:a.menu,selectedItem:a.selectedItem,item:ap(o)}},nD=(o,a,c)=>{const d=RE(c);return{tag:"div",classes:vr([[d.menu,`tox-menu-${a}-column`],o?[d.hasIcons]:[]])}},oD=[r0.parts.items({})],GC=(o,a,c)=>{const d=RE(c);return{dom:{tag:"div",classes:vr([[d.tieredMenu]])},markers:u0(c)}},ZP=te([Bo("data"),et("inputAttributes",{}),et("inputStyles",{}),et("tag","input"),et("inputClasses",[]),Fo("onSetValue"),et("styles",{}),et("eventOrder",{}),gn("inputBehaviours",[rt,Zn]),et("selectOnFocus",!0)]),jP=o=>Ft([Zn.config({onFocus:o.selectOnFocus?a=>{const c=a.element,d=cf(c);c.dom.setSelectionRange(0,d.length)}:he})]),KP=o=>({...jP(o),...co(o.inputBehaviours,[rt.config({store:{mode:"manual",...o.data.map(a=>({initialValue:a})).getOr({}),getValue:a=>cf(a.element),setValue:(a,c)=>{cf(a.element)!==c&&bm(a.element,c)}},onSetValue:o.onSetValue})])}),rD=o=>({tag:o.tag,attributes:{type:"text",...o.inputAttributes},styles:o.inputStyles,classes:o.inputClasses}),Qg=ru({name:"Input",configFields:ZP(),factory:(o,a)=>({uid:o.uid,dom:rD(o),components:[],behaviours:KP(o),eventOrder:o.eventOrder})}),sD=mn("refetch-trigger-event"),aD=mn("redirect-menu-item-interaction"),iD="tox-menu__searcher",s2=o=>Jr(o.element,`.${iD}`).bind(a=>o.getSystem().getByDom(a).toOptional()),lD=s2,cD=o=>({fetchPattern:rt.getValue(o),selectionStart:o.element.dom.selectionStart,selectionEnd:o.element.dom.selectionEnd}),uD=o=>{const a=(p,v)=>(v.cut(),D.none()),c=(p,v)=>{const w={interactionEvent:v.event,eventType:v.event.raw.type};return Sn(p,aD,w),D.some(!0)},d="searcher-events";return{dom:{tag:"div",classes:[qC]},components:[Qg.sketch({inputClasses:[iD,"tox-textfield"],inputAttributes:{...o.placeholder.map(p=>({placeholder:o.i18n(p)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Ft([uo(d,[xt(cm(),p=>{go(p,sD)}),xt(cs(),(p,v)=>{v.event.raw.key==="Escape"&&v.stop()})]),An.config({mode:"special",onLeft:a,onRight:a,onSpace:a,onEnter:c,onEscape:c,onUp:c,onDown:c})]),eventOrder:{keydown:[d,An.name()]}})]}},a2="tox-collection--results__js",dD=o=>{var a;return o.dom?{...o,dom:{...o.dom,attributes:{...(a=o.dom.attributes)!==null&&a!==void 0?a:{},id:mn("aria-item-search-result-id"),"aria-selected":"false"}}}:o},YC=(o,a)=>c=>{const d=pt(c,a);return bt(d,p=>({dom:o,components:p}))},fD=(o,a)=>{const c=[];let d=[];return Zt(o,(p,v)=>{a(p,v)?(d.length>0&&c.push(d),d=[],(po(p.dom,"innerHtml")||p.components&&p.components.length>0)&&d.push(p)):d.push(p)}),d.length>0&&c.push(d),bt(c,p=>({dom:{tag:"div",classes:["tox-collection__group"]},components:p}))},i2=(o,a,c)=>r0.parts.items({preprocess:d=>{const p=bt(d,c);return o!=="auto"&&o>1?YC({tag:"div",classes:["tox-collection__group"]},o)(p):fD(p,(v,w)=>a[w].type==="separator")}}),NE=(o,a,c=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(o===1?["tox-collection--list"]:["tox-collection--grid"])},components:[i2(o,a,Ae)]}),l2=o=>On(o,a=>"icon"in a&&a.icon!==void 0),Lm=o=>(console.error(zi(o)),console.log(o),D.none()),qP=(o,a,c,d,p)=>{const v=(w=c,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[r0.parts.items({preprocess:k=>fD(k,(E,O)=>w[O].type==="separator")})]});var w;return{value:o,dom:v.dom,components:v.components,items:c}},IE=(o,a,c,d,p)=>{if(p.menuType==="color"){const v=(w=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[r0.parts.items({preprocess:w!=="auto"?YC({tag:"div",classes:["tox-swatches__row"]},w):Ae})]}]}))(d);return{value:o,dom:v.dom,components:v.components,items:c}}if(p.menuType==="normal"&&d==="auto"){const v=NE(d,c);return{value:o,dom:v.dom,components:v.components,items:c}}if(p.menuType==="normal"||p.menuType==="searchable"){const v=p.menuType!=="searchable"?NE(d,c):p.searchMode.searchMode==="search-with-field"?((w,k,E)=>{const O=mn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(w===1?["tox-collection--list"]:["tox-collection--grid"])},components:[uD({i18n:Fu.translate,placeholder:E.placeholder}),{dom:{tag:"div",classes:[...w===1?["tox-collection--list"]:["tox-collection--grid"],a2],attributes:{id:O}},components:[i2(w,k,dD)]}]}})(d,c,p.searchMode):((w,k,E=!0)=>{const O=mn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",a2].concat(w===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:O}},components:[i2(w,k,dD)]}})(d,c);return{value:o,dom:v.dom,components:v.components,items:c}}if(p.menuType==="listpreview"&&d!=="auto"){const v=(w=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[r0.parts.items({preprocess:YC({tag:"div",classes:["tox-collection__group"]},w)})]}))(d);return{value:o,dom:v.dom,components:v.components,items:c}}return{value:o,dom:nD(a,d,p.menuType),components:oD,items:c}},na=ls("type"),BE=ls("name"),ME=ls("label"),zu=ls("text"),PE=ls("title"),LE=ls("icon"),d0=ls("value"),GP=_i("fetch"),mD=_i("getSubmenuItems"),fv=_i("onAction"),gD=_i("onItemAction"),ip=zr("onSetup",()=>he),YP=ws("name"),lp=ws("text"),XP=ws("role"),Hu=ws("icon"),c2=ws("tooltip"),FE=ws("label"),mv=ws("shortcut"),zE=jc("select"),XC=Vs("active",!1),g$=Vs("borderless",!1),Vu=Vs("enabled",!0),JC=Vs("primary",!1),hD=o=>et("columns",o),Oc=et("meta",{}),HE=zr("onAction",he),f0=o=>Tl("type",o),VE=o=>qs("name","name",wg(()=>mn(`${o}-name`)),aa),pD=Pn([na,lp]),JP=Pn([f0("autocompleteitem"),XC,Vu,Oc,d0,lp,Hu]),Fm=[Vu,c2,Hu,lp,ip],$E=Pn([na,fv,mv].concat(Fm)),bD=o=>is("toolbarbutton",$E,o),u2=[XC].concat(Fm),QC=Pn(u2.concat([na,fv,mv])),e_=o=>is("ToggleButton",QC,o),vD=[zr("predicate",Ce),fc("scope","node",["node","editor"]),fc("position","selection",["node","selection","line"])],QP=Fm.concat([f0("contextformbutton"),JC,fv,Ea("original",Ae)]),e7=u2.concat([f0("contextformbutton"),JC,fv,Ea("original",Ae)]),t7=Fm.concat([f0("contextformbutton")]),n7=u2.concat([f0("contextformtogglebutton")]),o7=Qs("type",{contextformbutton:QP,contextformtogglebutton:e7}),r7=Pn([f0("contextform"),zr("initValue",te("")),FE,Hi("commands",o7),Ds("launch",Qs("type",{contextformbutton:t7,contextformtogglebutton:n7}))].concat(vD)),yD=Pn([f0("contexttoolbar"),ls("items")].concat(vD)),t_=[na,ls("src"),ws("alt"),gr("classes",[],aa)],s7=Pn(t_),a7=[na,zu,YP,gr("classes",["tox-collection__item-label"],aa)],i7=Pn(a7),xD=rm(()=>Au("type",{cardimage:s7,cardtext:i7,cardcontainer:gv})),gv=Pn([na,Tl("direction","horizontal"),Tl("align","left"),Tl("valign","middle"),Hi("items",xD)]),m0=[Vu,lp,XP,mv,qs("value","value",wg(()=>mn("menuitem-value")),wl()),Oc],l7=Pn([na,FE,Hi("items",xD),ip,HE].concat(m0)),UE=Pn([na,XC,Hu].concat(m0)),wD=[na,ls("fancytype"),HE],CD=[et("initData",{})].concat(wD),_D=[jc("select"),ki("initData",{},[Vs("allowCustomColors",!0),Tl("storageKey","default"),d1("colors",wl())])].concat(wD),SD=Qs("fancytype",{inserttable:CD,colorswatch:_D}),kD=Pn([na,ip,HE,Hu].concat(m0)),ED=Pn([na,mD,ip,Hu].concat(m0)),c7=Pn([na,Hu,XC,ip,fv].concat(m0)),WE=(o,a,c)=>{const d=la(o.element,"."+c);if(d.length>0){const p=ir(d,v=>{const w=v.dom.getBoundingClientRect().top,k=d[0].dom.getBoundingClientRect().top;return Math.abs(w-k)>a}).getOr(d.length);return D.some({numColumns:p,numRows:Math.ceil(d.length/p)})}return D.none()},d2=o=>((a,c)=>Ft([uo(a,c)]))(mn("unnamed-events"),o),n_="silver.readonly",u7=Pn([Aa("readonly",Vl)]),g0=(o,a)=>{const c=o.mainUi.outerContainer.element,d=[o.mainUi.mothership,...o.uiMotherships];a&&Zt(d,p=>{p.broadcastOn([P()],{target:c})}),Zt(d,p=>{p.broadcastOn([n_],{readonly:a})})},AD=(o,a)=>{o.on("init",()=>{o.mode.isReadOnly()&&g0(a,!0)}),o.on("SwitchMode",()=>g0(a,o.mode.isReadOnly())),fE(o)&&o.mode.set("readonly")},ba=()=>il.config({channels:{[n_]:{schema:u7,onReceive:(o,a)=>{Kn.set(o,a.readonly)}}}}),fi=o=>Kn.config({disabled:o}),TD=o=>Kn.config({disabled:o,disableClass:"tox-tbtn--disabled"}),o_=o=>Kn.config({disabled:o,disableClass:"tox-tbtn--disabled",useNative:!1}),f2=(o,a)=>{const c=o.getApi(a);return d=>{d(c)}},cp=(o,a)=>Zr(c=>{f2(o,c)(d=>{const p=o.onSetup(d);K(p)&&a.set(p)})}),eh=(o,a)=>Ru(c=>f2(o,c)(a.get())),OD=(o,a)=>Yc((c,d)=>{f2(o,c)(o.onAction),o.triggersSubmenu||a!==Tf.CLOSE_ON_EXECUTE||(c.getSystem().isConnected()&&go(c,cb()),d.stop())}),d7={[rl()]:["disabling","alloy.base.behaviour","toggling","item-events"]},hv=Fa,pv=(o,a,c,d)=>{const p=Dn(he);return{type:"item",dom:a.dom,components:hv(a.optComponents),data:o.data,eventOrder:d7,hasSubmenu:o.triggersSubmenu,itemBehaviours:Ft([uo("item-events",[OD(o,c),cp(o,p),eh(o,p)]),(v=()=>!o.enabled||d.isDisabled(),Kn.config({disabled:v,disableClass:"tox-collection__item--state-disabled"})),ba(),zn.config({})].concat(o.itemBehaviours))};var v},bv=o=>({value:o.value,meta:{text:o.text.getOr(""),...o.meta}}),r_=o=>{const a=kf.os.isMacOS()||kf.os.isiOS(),c=a?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},d=o.split("+"),p=bt(d,v=>{const w=v.toLowerCase().trim();return po(c,w)?c[w]:v});return a?p.join(""):p.join("+")},ZE=(o,a,c=[tD])=>Tc(o,{tag:"div",classes:c},a),DD=o=>({dom:{tag:"div",classes:[n2]},components:[Cs(Fu.translate(o))]}),jE=(o,a)=>({dom:{tag:"div",classes:a,innerHtml:o}}),RD=(o,a)=>({dom:{tag:"div",classes:[n2]},components:[{dom:{tag:o.tag,styles:o.styles},components:[Cs(Fu.translate(a))]}]}),ND=o=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[Cs(r_(o))]}),ID=o=>ZE("checkmark",o,["tox-collection__item-checkmark"]),BD=o=>{const a=o.map(c=>({attributes:{id:mn("menu-item"),"aria-label":Fu.translate(c)}})).getOr({});return{tag:"div",classes:[KC,qC],...a}},m2=(o,a,c,d=D.none())=>o.presets==="color"?((p,v,w)=>{const k=p.value,E=p.iconContent.map(L=>((M,H,q)=>{const Y=H();return e2(M,Y).or(q).getOrThunk(TE(Y))})(L,v.icons,w)),O=p.ariaLabel.map(L=>({"aria-label":v.translate(L),"data-mce-name":L})).getOr({});return{dom:(()=>{const L=J5,M=E.getOr(""),H={tag:"div",attributes:O,classes:[L]};return k==="custom"?{...H,tag:"button",classes:[...H.classes,"tox-swatches__picker-btn"],innerHtml:M}:k==="remove"?{...H,classes:[...H.classes,"tox-swatch--remove"],innerHtml:M}:$(k)?{...H,attributes:{...H.attributes,"data-mce-color":k},styles:{"background-color":k},innerHtml:M}:H})(),optComponents:[]}})(o,a,d):((p,v,w,k)=>{const E={tag:"div",classes:[tD]},O=w?p.iconContent.map(q=>Tc(q,E,v.icons,k)).orThunk(()=>D.some({dom:E})):D.none(),L=p.checkMark,M=D.from(p.meta).fold(()=>DD,q=>po(q,"style")?Ge(RD,q.style):DD),H=p.htmlContent.fold(()=>p.textContent.map(M),q=>D.some(jE(q,[n2])));return{dom:BD(p.ariaLabel),optComponents:[O,H,p.shortcutContent.map(ND),L,p.caret]}})(o,a,c,d),MD=(o,a,c)=>un(o,"tooltipWorker").map(d=>[Ws.config({lazySink:a.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:p=>({type:"submenu",item:p,overrides:{maxHeightFunction:$g}}),mode:"follow-highlight",onShow:(p,v)=>{d(w=>{Ws.setComponents(p,[uf({element:Qt(w)})])})}})]).getOrThunk(()=>c.map(d=>[Ws.config({...a.providers.tooltips.getConfig({tooltipText:d}),mode:"follow-highlight"})]).getOr([])),KE=(o,a)=>{const c=(d=>av.DOM.encode(d))(Fu.translate(o));if(a.length>0){const d=new RegExp((p=>p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(a),"gi");return c.replace(d,p=>`<span class="tox-autocompleter-highlight">${p}</span>`)}return c},qE=(o,a)=>bt(o,c=>{switch(c.type){case"cardcontainer":return((v,w)=>{const k=v.direction==="vertical"?"tox-collection__item-container--column":r2,E=v.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[o2,k,E,(()=>{switch(v.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:w}})(c,qE(c.items,a));case"cardimage":return((v,w,k)=>({dom:{tag:"img",classes:w,attributes:{src:v,alt:k.getOr("")}}}))(c.src,c.classes,c.alt);case"cardtext":const d=c.name.exists(v=>Qe(a.cardText.highlightOn,v)),p=d?D.from(a.cardText.matchText).getOr(""):"";return jE(KE(c.text,p),c.classes)}}),th=Zi(cE(),uE()),GE=o=>({value:h0(o)}),YE=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,XE=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,PD=o=>YE.test(o)||XE.test(o),h0=o=>Or(o,"#").toUpperCase(),JE=o=>{const a=o.toString(16);return(a.length===1?"0"+a:a).toUpperCase()},g2=o=>{const a=JE(o.red)+JE(o.green)+JE(o.blue);return GE(a)},QE=Math.min,LD=Math.max,s_=Math.round,f7=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,FD=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,nh=(o,a,c,d)=>({red:o,green:a,blue:c,alpha:d}),h2=o=>{const a=parseInt(o,10);return a.toString()===o&&a>=0&&a<=255},zD=o=>{let a,c,d;const p=(o.hue||0)%360;let v=o.saturation/100,w=o.value/100;if(v=LD(0,QE(v,1)),w=LD(0,QE(w,1)),v===0)return a=c=d=s_(255*w),nh(a,c,d,1);const k=p/60,E=w*v,O=E*(1-Math.abs(k%2-1)),L=w-E;switch(Math.floor(k)){case 0:a=E,c=O,d=0;break;case 1:a=O,c=E,d=0;break;case 2:a=0,c=E,d=O;break;case 3:a=0,c=O,d=E;break;case 4:a=O,c=0,d=E;break;case 5:a=E,c=0,d=O;break;default:a=c=d=0}return a=s_(255*(a+L)),c=s_(255*(c+L)),d=s_(255*(d+L)),nh(a,c,d,1)},Sd=o=>{const a=(v=>{const w=(E=>({value:E.value.replace(YE,(L,M,H,q)=>M+M+H+H+q+q)}))(v),k=XE.exec(w.value);return k===null?["FFFFFF","FF","FF","FF"]:k})(o),c=parseInt(a[1],16),d=parseInt(a[2],16),p=parseInt(a[3],16);return nh(c,d,p,1)},eA=(o,a,c,d)=>{const p=parseInt(o,10),v=parseInt(a,10),w=parseInt(c,10),k=parseFloat(d);return nh(p,v,w,k)},a_=o=>{const a=f7.exec(o);if(a!==null)return D.some(eA(a[1],a[2],a[3],"1"));const c=FD.exec(o);return c!==null?D.some(eA(c[1],c[2],c[3],c[4])):D.none()},HD=o=>`rgba(${o.red},${o.green},${o.blue},${o.alpha})`,VD=nh(255,0,0,1),p0=(o,a)=>{o.dispatch("ResizeContent",a)},vv=(o,a)=>{o.dispatch("TextColorChange",a)},$D=(o,a)=>o.dispatch("ResolveName",{name:a.nodeName.toLowerCase(),target:a}),yv=(o,a)=>()=>{o(),a()},va=o=>b0(o,"NodeChange",a=>{a.setEnabled(o.selection.isEditable())}),Of=(o,a)=>c=>{const d=va(o)(c),p=((v,w)=>k=>{const E=uc(),O=()=>{k.setActive(v.formatter.match(w));const L=v.formatter.formatChanged(w,k.setActive);E.set(L)};return v.initialized?O():v.once("init",O),()=>{v.off("init",O),E.clear()}})(o,a)(c);return()=>{d(),p()}},b0=(o,a,c)=>d=>{const p=()=>c(d),v=()=>{c(d),o.on(a,p)};return o.initialized?v():o.once("init",v),()=>{o.off("init",v),o.off(a,p)}},UD=o=>a=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("mceToggleFormat",!1,a.format)})},ql=(o,a)=>()=>o.execCommand(a);var Dc=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const i_={},WD=o=>un(i_,o).getOrThunk(()=>{const a=`tinymce-custom-colors-${o}`,c=Dc.getItem(a);if(W(c)){const p=Dc.getItem("tinymce-custom-colors");Dc.setItem(a,$(p)?p:"[]")}const d=((p,v=10)=>{const w=Dc.getItem(p),k=h(w)?JSON.parse(w):[],E=v-(O=k).length<0?O.slice(0,v):O;var O;const L=M=>{E.splice(M,1)};return{add:M=>{((H,q)=>{const Y=hn(H,q);return Y===-1?D.none():D.some(Y)})(E,M).each(L),E.unshift(M),E.length>v&&E.pop(),Dc.setItem(p,JSON.stringify(E))},state:()=>E.slice(0)}})(a,10);return i_[o]=d,d}),tA=(o,a)=>{WD(o).add(a)},xv=(o,a,c)=>({hue:o,saturation:a,value:c}),l_=o=>{let a=0,c=0,d=0;const p=o.red/255,v=o.green/255,w=o.blue/255,k=Math.min(p,Math.min(v,w)),E=Math.max(p,Math.max(v,w));return k===E?(d=k,xv(0,0,100*d)):(a=p===k?3:w===k?1:5,a=60*(a-(p===k?v-w:w===k?p-v:w-p)/(E-k)),c=(E-k)/E,d=E,xv(Math.round(a),Math.round(100*c),Math.round(100*d)))},c_=o=>g2(zD(o)),ZD=o=>{return(a=o,PD(a)?D.some({value:h0(a)}):D.none()).orThunk(()=>a_(o).map(g2)).getOrThunk(()=>{const c=document.createElement("canvas");c.height=1,c.width=1;const d=c.getContext("2d");d.clearRect(0,0,c.width,c.height),d.fillStyle="#FFFFFF",d.fillStyle=o,d.fillRect(0,0,1,1);const p=d.getImageData(0,0,1,1).data,v=p[0],w=p[1],k=p[2],E=p[3];return g2(nh(v,w,k,E))});var a},nA="forecolor",oA="hilitecolor",m7=o=>{const a=[];for(let c=0;c<o.length;c+=2)a.push({text:o[c+1],value:"#"+ZD(o[c]).value,icon:"checkmark",type:"choiceitem"});return a},$u=o=>a=>a.options.get(o),p2="#000000",v0=(o,a)=>a===nA&&o.options.isSet("color_map_foreground")?$u("color_map_foreground")(o):a===oA&&o.options.isSet("color_map_background")?$u("color_map_background")(o):$u("color_map")(o),u_=(o,a="default")=>Math.max(5,Math.ceil(Math.sqrt(v0(o,a).length))),jD=(o,a)=>{const c=$u("color_cols")(o),d=u_(o,a);return c===u_(o)?d:c},rA=(o,a="default")=>Math.round(a===nA?$u("color_cols_foreground")(o):a===oA?$u("color_cols_background")(o):$u("color_cols")(o)),sA=$u("custom_colors"),KD=$u("color_default_foreground"),qD=$u("color_default_background"),GD=(o,a)=>{const c=Qt(o.selection.getStart()),d=a==="hilitecolor"?Sg(c,p=>{if(qr(p)){const v=as(p,"background-color");return Uo(a_(v).exists(w=>w.alpha!==0),v)}return D.none()}).getOr("rgba(0, 0, 0, 0)"):as(c,"color");return a_(d).map(p=>"#"+g2(p).value)},d_=o=>{const a="choiceitem",c={type:a,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return o?[c,{type:a,text:"Custom color",icon:"color-picker",value:"custom"}]:[c]},aA=(o,a,c,d)=>{c==="custom"?JD(o)(p=>{p.each(v=>{tA(a,v),o.execCommand("mceApplyTextcolor",a,v),d(v)})},GD(o,a).getOr(p2)):c==="remove"?(d(""),o.execCommand("mceRemoveTextcolor",a)):(d(c),o.execCommand("mceApplyTextcolor",a,c))},iA=(o,a,c)=>o.concat((d=>bt(WD(d).state(),p=>({type:"choiceitem",text:p,icon:"checkmark",value:p})))(a).concat(d_(c))),YD=(o,a,c)=>d=>{d(iA(o,a,c))},lA=(o,a,c)=>{const d=a==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";o.setIconFill(d,c)},cA=(o,a)=>{o.setTooltip(a)},XD=(o,a)=>c=>{const d=GD(o,a);return Wr(d,c.toUpperCase())},uA=(o,a,c)=>{if(pu(c))return a==="forecolor"?"Text color":"Background color";const d=a==="forecolor"?"Text color {0}":"Background color {0}",p=iA(v0(o,a),a,!1),v=J(p,w=>w.value===c).getOr({text:""}).text;return o.translate([d,o.translate(v)])},dA=(o,a,c,d)=>{o.ui.registry.addSplitButton(a,{tooltip:uA(o,c,d.get()),presets:"color",icon:a==="forecolor"?"text-color":"highlight-bg-color",select:XD(o,c),columns:rA(o,c),fetch:YD(v0(o,c),c,sA(o)),onAction:p=>{aA(o,c,d.get(),he)},onItemAction:(p,v)=>{aA(o,c,v,w=>{d.set(w),vv(o,{name:a,color:w})})},onSetup:p=>{lA(p,a,d.get());const v=w=>{w.name===a&&(lA(p,w.name,w.color),cA(p,uA(o,c,w.color)))};return o.on("TextColorChange",v),yv(va(o)(p),()=>{o.off("TextColorChange",v)})}})},wv=(o,a,c,d,p)=>{o.ui.registry.addNestedMenuItem(a,{text:d,icon:a==="forecolor"?"text-color":"highlight-bg-color",onSetup:v=>(cA(v,uA(o,c,p.get())),lA(v,a,p.get()),va(o)(v)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:XD(o,c),initData:{storageKey:c},onAction:v=>{aA(o,c,v.value,w=>{p.set(w),vv(o,{name:a,color:w})})}}]})},JD=o=>(a,c)=>{let d=!1;const p={colorpicker:c};o.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:p,onAction:(v,w)=>{w.name==="hex-valid"&&(d=w.value)},onSubmit:v=>{const w=v.getData().colorpicker;d?(a(D.from(w)),v.close()):o.windowManager.alert(o.translate(["Invalid hex color code: {0}",w]))},onClose:he,onCancel:()=>{a(D.none())}})},y0=(o,a,c,d,p,v,w,k)=>{const E=l2(a),O=fA(a,c,d,p!=="color"?"normal":"color",v,w,k);return IE(o,E,O,d,{menuType:p})},fA=(o,a,c,d,p,v,w)=>Fa(bt(o,k=>{return k.type==="choiceitem"?(E=k,is("choicemenuitem",UE,E)).fold(Lm,O=>D.some(((L,M,H,q,Y,se,ce,ve=!0)=>{const ie=m2({presets:H,textContent:M?L.text:D.none(),htmlContent:D.none(),ariaLabel:L.text,iconContent:L.icon,shortcutContent:M?L.shortcut:D.none(),checkMark:M?D.some(ID(ce.icons)):D.none(),caret:D.none(),value:L.value},ce,ve),ae=L.text.filter(te(!M)).map(me=>Ws.config(ce.tooltips.getConfig({tooltipText:ce.translate(me)})));return xr(pv({data:bv(L),enabled:L.enabled,getApi:me=>({setActive:ye=>{Un.set(me,ye)},isActive:()=>Un.isOn(me),isEnabled:()=>!Kn.isDisabled(me),setEnabled:ye=>Kn.set(me,!ye)}),onAction:me=>q(L.value),onSetup:me=>(me.setActive(Y),he),triggersSubmenu:!1,itemBehaviours:[...ae.toArray()]},ie,se,ce),{toggling:{toggleClass:eD,toggleOnExecute:!1,selected:L.active,exclusive:!0}})})(O,c===1,d,a,v(O.value),p,w,l2(o)))):D.none();var E})),b2=(o,a)=>{const c=u0(a);return o===1?{mode:"menu",moveOnTab:!0}:o==="auto"?{mode:"grid",selector:"."+c.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(a==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:d=>a==="color"?Jr(d.element,"[aria-checked=true]"):D.none()}},mA=mn("cell-over"),QD=mn("cell-execute"),g7=(o,a,c)=>{const d=v=>Sn(v,QD,{row:o,col:a}),p=(v,w)=>{w.stop(),d(v)};return Oa({dom:{tag:"div",attributes:{role:"button","aria-label":c}},behaviours:Ft([uo("insert-table-picker-cell",[xt(_n(),Zn.focus),xt(rl(),d),xt(ea(),p),xt(Qd(),p)]),Un.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Zn.config({onFocus:v=>Sn(v,mA,{row:o,col:a})})])})},eR=o=>Ko(o,a=>bt(a,$i)),tR=(o,a)=>Cs(`${a}x${o}`),nR={inserttable:(o,a)=>{const c=(w=>(k,E)=>w.shared.providers.translate(["{0} columns, {1} rows",E,k]))(a),d=((w,k,E)=>{const O=[];for(let L=0;L<10;L++){const M=[];for(let H=0;H<10;H++){const q=w(L+1,H+1);M.push(g7(L,H,q))}O.push(M)}return O})(c),p=tR(0,0),v=or({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[p],behaviours:Ft([zn.config({})])});return{type:"widget",data:{value:mn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[th.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:eR(d).concat(v.asSpec()),behaviours:Ft([uo("insert-table-picker",[Zr(w=>{zn.set(v.get(w),[p])}),Eg(mA,(w,k,E)=>{const{row:O,col:L}=E.event;((M,H,q,Y,se)=>{for(let ce=0;ce<10;ce++)for(let ve=0;ve<10;ve++)Un.set(M[ce][ve],ce<=H&&ve<=q)})(d,O,L),zn.set(v.get(w),[tR(O+1,L+1)])}),Eg(QD,(w,k,E)=>{const{row:O,col:L}=E.event;go(w,cb()),o.onAction({numRows:O+1,numColumns:L+1})})]),An.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(o,a)=>{const c=((w,k)=>{const E=w.initData.allowCustomColors&&k.colorinput.hasCustomColors();return w.initData.colors.fold(()=>iA(k.colorinput.getColors(w.initData.storageKey),w.initData.storageKey,E),O=>O.concat(d_(E)))})(o,a),d=a.colorinput.getColorCols(o.initData.storageKey),p="color",v={...y0(mn("menu-value"),c,w=>{o.onAction({value:w})},d,p,Tf.CLOSE_ON_EXECUTE,o.select.getOr(Ce),a.shared.providers),markers:u0(p),movement:b2(d,p),showMenuRole:!1};return{type:"widget",data:{value:mn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[th.widget(r0.sketch(v))]}}},oR=o=>({type:"separator",dom:{tag:"div",classes:[qC,"tox-collection__group-heading"]},components:o.text.map(Cs).toArray()});var h7=Object.freeze({__proto__:null,getCoupled:(o,a,c,d)=>c.getOrCreate(o,a,d),getExistingCoupled:(o,a,c,d)=>c.getExisting(o,a,d)}),rR=[Aa("others",rb(So.value,wl()))],f_=Object.freeze({__proto__:null,init:()=>{const o={},a=(d,p)=>{if(on(d.others).length===0)throw new Error("Cannot find any known coupled components");return un(o,p)},c=te({});return ha({readState:c,getExisting:(d,p,v)=>a(p,v).orThunk(()=>(un(p.others,v).getOrDie("No information found for coupled component: "+v),D.none())),getOrCreate:(d,p,v)=>a(p,v).getOrThunk(()=>{const w=un(p.others,v).getOrDie("No information found for coupled component: "+v)(d),k=d.getSystem().build(w);return o[v]=k,k})})}});const _s=pa({fields:rR,name:"coupling",apis:h7,state:f_}),v2=o=>{let a=D.none(),c=[];const d=w=>{p()?v(w):c.push(w)},p=()=>a.isSome(),v=w=>{a.each(k=>{setTimeout(()=>{w(k)},0)})};return o(w=>{p()||(a=D.some(w),Zt(c,v),c=[])}),{get:d,map:w=>v2(k=>{d(E=>{k(w(E))})}),isReady:p}},p7={nu:v2,pure:o=>v2(a=>{a(o)})},b7=o=>{setTimeout(()=>{throw o},0)},Cv=o=>{const a=c=>{o().then(c,b7)};return{map:c=>Cv(()=>o().then(c)),bind:c=>Cv(()=>o().then(d=>c(d).toPromise())),anonBind:c=>Cv(()=>o().then(()=>c.toPromise())),toLazy:()=>p7.nu(a),toCached:()=>{let c=null;return Cv(()=>(c===null&&(c=o()),c))},toPromise:o,get:a}},up=o=>Cv(()=>new Promise(o)),zm=o=>Cv(()=>Promise.resolve(o)),gA=te("sink"),sR=te(ou({name:gA(),overrides:te({dom:{tag:"div"},behaviours:Ft([Ja.config({useFixed:Ne})]),events:to([dm(cs()),dm(Tt()),dm(ea())])})})),aR=(o,a)=>{const c=o.getHotspot(a).getOr(a),d="hotspot",p=o.getAnchorOverrides();return o.layouts.fold(()=>({type:d,hotspot:c,overrides:p}),v=>({type:d,hotspot:c,overrides:p,layouts:v}))},m_=(o,a,c,d,p,v,w)=>((E,O,L,M,H,q,Y)=>{const se=((ve,ie,ae)=>(0,ve.fetch)(ae).map(ie))(E,O,M),ce=iR(M,E);return se.map(ve=>ve.bind(ie=>{const ae=ie.menus[ie.primary];return D.from(ae).each(me=>{E.listRole.each(ye=>{me.role=ye})}),D.from(Gg.sketch({...q.menu(),uid:xc(""),data:ie,highlightOnOpen:Y,onOpenMenu:(me,ye)=>{const _e=ce().getOrDie();Ja.position(_e,ye,{anchor:L}),T.decloak(H)},onOpenSubmenu:(me,ye,_e)=>{const Le=ce().getOrDie();Ja.position(Le,_e,{anchor:{type:"submenu",item:ye}}),T.decloak(H)},onRepositionMenu:(me,ye,_e)=>{const Le=ce().getOrDie();Ja.position(Le,ye,{anchor:L}),Zt(_e,Xe=>{Ja.position(Le,Xe.triggeredMenu,{anchor:{type:"submenu",item:Xe.triggeringItem}})})},onEscape:()=>(Zn.focus(M),T.close(H),D.some(!0))}))}))})(o,a,aR(o,c),c,d,p,w).map(E=>(E.fold(()=>{T.isOpen(d)&&T.close(d)},O=>{T.cloak(d),T.open(d,O),v(d)}),d)),v7=(o,a,c,d,p,v,w)=>(T.close(d),zm(d)),hA=(o,a,c,d,p,v)=>{const w=_s.getCoupled(c,"sandbox");return(T.isOpen(w)?v7:m_)(o,a,c,w,d,p,v)},iR=(o,a)=>o.getSystem().getByUid(a.uid+"-"+gA()).map(c=>()=>So.value(c)).getOrThunk(()=>a.lazySink.fold(()=>()=>So.error(new Error("No internal sink is specified, nor could an external sink be found")),c=>()=>c(o))),pA=o=>{T.getState(o).each(a=>{Gg.repositionMenus(a)})},bA=(o,a,c)=>{const d=Pg(),p=iR(a,o);return{dom:{tag:"div",classes:o.sandboxClasses,attributes:{id:d.id}},behaviours:$n(o.sandboxBehaviours,[rt.config({store:{mode:"memory",initialValue:a}}),T.config({onOpen:(v,w)=>{const k=aR(o,a);d.link(a.element),o.matchWidth&&((E,O,L)=>{const M=Vo.getCurrent(O).getOr(O),H=fa(E.element);L?Qn(M.element,"min-width",H+"px"):((q,Y)=>{hg.set(q,Y)})(M.element,H)})(k.hotspot,w,o.useMinWidth),o.onOpen(k,v,w),c!==void 0&&c.onOpen!==void 0&&c.onOpen(v,w)},onClose:(v,w)=>{d.unlink(a.element),p().getOr(w).element.dom.dispatchEvent(new window.FocusEvent("focusout")),c!==void 0&&c.onClose!==void 0&&c.onClose(v,w)},isPartOf:(v,w,k)=>al(w,k)||al(a,k),getAttachPoint:()=>p().getOrDie()}),Vo.config({find:v=>T.getState(v).bind(w=>Vo.getCurrent(w))}),il.config({channels:{...re({isExtraPart:Ce}),...De({doReposition:pA})}})])}},lR=o=>{const a=_s.getCoupled(o,"sandbox");pA(a)},vA=()=>[et("sandboxClasses",[]),jn("sandboxBehaviours",[Vo,il,T,rt])],y7=te([At("dom"),At("fetch"),Fo("onOpen"),sl("onExecute"),et("getHotspot",D.some),et("getAnchorOverrides",te({})),ff(),gn("dropdownBehaviours",[Un,_s,An,Zn]),At("toggleClass"),et("eventOrder",{}),Bo("lazySink"),et("matchWidth",!1),et("useMinWidth",!1),Bo("role"),Bo("listRole")].concat(vA())),x7=te([wd({schema:[Rg(),et("fakeFocus",!1)],name:"menu",defaults:o=>({onExecute:o.onExecute})}),sR()]),ul=Cl({name:"Dropdown",configFields:y7(),partFields:x7(),factory:(o,a,c,d)=>{const p=E=>{T.getState(E).each(O=>{Gg.highlightPrimary(O)})},v=(E,O,L)=>hA(o,Ae,E,d,O,L),w={expand:E=>{Un.isOn(E)||v(E,he,ji.HighlightNone).get(he)},open:E=>{Un.isOn(E)||v(E,he,ji.HighlightMenuAndItem).get(he)},refetch:E=>_s.getExistingCoupled(E,"sandbox").fold(()=>v(E,he,ji.HighlightMenuAndItem).map(he),O=>m_(o,Ae,E,O,d,he,ji.HighlightMenuAndItem).map(he)),isOpen:Un.isOn,close:E=>{Un.isOn(E)&&v(E,he,ji.HighlightMenuAndItem).get(he)},repositionMenus:E=>{Un.isOn(E)&&lR(E)}},k=(E,O)=>(rf(E),D.some(!0));return{uid:o.uid,dom:o.dom,components:a,behaviours:co(o.dropdownBehaviours,[Un.config({toggleClass:o.toggleClass,aria:{mode:"expanded"}}),_s.config({others:{sandbox:E=>bA(o,E,{onOpen:()=>Un.on(E),onClose:()=>Un.off(E)})}}),An.config({mode:"special",onSpace:k,onEnter:k,onDown:(E,O)=>{if(ul.isOpen(E)){const L=_s.getCoupled(E,"sandbox");p(L)}else ul.open(E);return D.some(!0)},onEscape:(E,O)=>ul.isOpen(E)?(ul.close(E),D.some(!0)):D.none()}),Zn.config({})]),events:sv(D.some(E=>{v(E,p,ji.HighlightMenuAndItem).get(he)})),eventOrder:{...o.eventOrder,[rl()]:["disabling","toggling","alloy.base.behaviour"]},apis:w,domModification:{attributes:{"aria-haspopup":o.listRole.getOr("true"),...o.role.fold(()=>({}),E=>({role:E})),...o.dom.tag==="button"?{type:un(o.dom,"attributes").bind(E=>un(E,"type")).getOr("button")}:{}}}}},apis:{open:(o,a)=>o.open(a),refetch:(o,a)=>o.refetch(a),expand:(o,a)=>o.expand(a),close:(o,a)=>o.close(a),isOpen:(o,a)=>o.isOpen(a),repositionMenus:(o,a)=>o.repositionMenus(a)}}),cR=(o,a,c)=>{lD(o).each(d=>{var p;((v,w)=>{Io(w.element,"id").each(k=>Jt(v.element,"aria-activedescendant",k))})(d,c),(Vi((p=a).element,a2)?D.some(p.element):Jr(p.element,"."+a2)).each(v=>{Io(v,"id").each(w=>Jt(d.element,"aria-controls",w))})}),Jt(c.element,"aria-selected","true")},w7=(o,a,c)=>{Jt(c.element,"aria-selected","false")},x0=o=>_s.getExistingCoupled(o,"sandbox").bind(s2).map(cD).map(a=>a.fetchPattern).getOr("");var y2;(function(o){o[o.ContentFocus=0]="ContentFocus",o[o.UiFocus=1]="UiFocus"})(y2||(y2={}));const C7=(o,a,c,d,p)=>{const v=c.shared.providers,w=E=>p?{...E,shortcut:D.none(),icon:E.text.isSome()?D.none():E.icon}:E;switch(o.type){case"menuitem":return(k=o,is("menuitem",kD,k)).fold(Lm,E=>D.some(((O,L,M,H=!0)=>{const q=m2({presets:"normal",iconContent:O.icon,textContent:O.text,htmlContent:D.none(),ariaLabel:O.text,caret:D.none(),checkMark:D.none(),shortcutContent:O.shortcut},M,H);return pv({data:bv(O),getApi:Y=>({isEnabled:()=>!Kn.isDisabled(Y),setEnabled:se=>Kn.set(Y,!se)}),enabled:O.enabled,onAction:O.onAction,onSetup:O.onSetup,triggersSubmenu:!1,itemBehaviours:[]},q,L,M)})(w(E),a,v,d)));case"nestedmenuitem":return(E=>is("nestedmenuitem",ED,E))(o).fold(Lm,E=>D.some(((O,L,M,H=!0,q=!1)=>{const Y=q?(se=M.icons,ZE("chevron-down",se,[DE])):(ve=>ZE("chevron-right",ve,[DE]))(M.icons);var se;const ce=m2({presets:"normal",iconContent:O.icon,textContent:O.text,htmlContent:D.none(),ariaLabel:O.text,caret:D.some(Y),checkMark:D.none(),shortcutContent:O.shortcut},M,H);return pv({data:bv(O),getApi:ve=>({isEnabled:()=>!Kn.isDisabled(ve),setEnabled:ie=>Kn.set(ve,!ie),setIconFill:(ie,ae)=>{Jr(ve.element,`svg path[class="${ie}"], rect[class="${ie}"]`).each(me=>{Jt(me,"fill",ae)})},setTooltip:ie=>{const ae=M.translate(ie);Jt(ve.element,"aria-label",ae)}}),enabled:O.enabled,onAction:he,onSetup:O.onSetup,triggersSubmenu:!0,itemBehaviours:[]},ce,L,M)})(w(E),a,v,d,p)));case"togglemenuitem":return(E=>is("togglemenuitem",c7,E))(o).fold(Lm,E=>D.some(((O,L,M,H=!0)=>{const q=m2({iconContent:O.icon,textContent:O.text,htmlContent:D.none(),ariaLabel:O.text,checkMark:D.some(ID(M.icons)),caret:D.none(),shortcutContent:O.shortcut,presets:"normal",meta:O.meta},M,H);return xr(pv({data:bv(O),enabled:O.enabled,getApi:Y=>({setActive:se=>{Un.set(Y,se)},isActive:()=>Un.isOn(Y),isEnabled:()=>!Kn.isDisabled(Y),setEnabled:se=>Kn.set(Y,!se)}),onAction:O.onAction,onSetup:O.onSetup,triggersSubmenu:!1,itemBehaviours:[]},q,L,M),{toggling:{toggleClass:eD,toggleOnExecute:!1,selected:O.active},role:O.role.getOrUndefined()})})(w(E),a,v,d)));case"separator":return(E=>is("separatormenuitem",pD,E))(o).fold(Lm,E=>D.some(oR(E)));case"fancymenuitem":return(E=>is("fancymenuitem",SD,E))(o).fold(Lm,E=>((O,L)=>un(nR,O.fancytype).map(M=>M(O,L)))(E,c));default:return console.error("Unknown item in general menu",o),D.none()}var k},dp=(o,a,c,d,p,v,w)=>{const k=d===1,E=!k||l2(o);return Fa(bt(o,O=>{switch(O.type){case"separator":return(L=O,is("Autocompleter.Separator",pD,L)).fold(Lm,M=>D.some(oR(M)));case"cardmenuitem":return(M=>is("cardmenuitem",l7,M))(O).fold(Lm,M=>D.some(((H,q,Y,se)=>{const ce={dom:BD(H.label),optComponents:[D.some({dom:{tag:"div",classes:[o2,r2]},components:qE(H.items,se)})]};return pv({data:bv({text:D.none(),...H}),enabled:H.enabled,getApi:ve=>({isEnabled:()=>!Kn.isDisabled(ve),setEnabled:ie=>{Kn.set(ve,!ie),Zt(la(ve.element,"*"),ae=>{ve.getSystem().getByDom(ae).each(me=>{me.hasConfigured(Kn)&&Kn.set(me,!ie)})})}}),onAction:H.onAction,onSetup:H.onSetup,triggersSubmenu:!1,itemBehaviours:D.from(se.itemBehaviours).getOr([])},ce,q,Y.providers)})({...M,onAction:H=>{M.onAction(H),c(M.value,M.meta)}},p,v,{itemBehaviours:MD(M.meta,v,D.none()),cardText:{matchText:a,highlightOn:w}})));default:return(M=>is("Autocompleter.Item",JP,M))(O).fold(Lm,M=>D.some(((H,q,Y,se,ce,ve,ie,ae=!0)=>{const me=m2({presets:se,textContent:D.none(),htmlContent:Y?H.text.map(_e=>KE(_e,q)):D.none(),ariaLabel:H.text,iconContent:H.icon,shortcutContent:D.none(),checkMark:D.none(),caret:D.none(),value:H.value},ie.providers,ae,H.icon),ye=H.text.filter(_e=>!Y&&_e!=="");return pv({data:bv(H),enabled:H.enabled,getApi:te({}),onAction:_e=>ce(H.value,H.meta),onSetup:te(he),triggersSubmenu:!1,itemBehaviours:MD(H,ie,ye)},me,ve,ie.providers)})(M,a,k,"normal",c,p,v,E)))}var L}))},uR=(o,a,c,d,p,v)=>{const w=l2(a),k=Fa(bt(a,O=>{const L=M=>C7(M,c,d,(H=>p?!po(H,"text"):w)(M),p);return O.type==="nestedmenuitem"&&O.getSubmenuItems().length<=0?L({...O,enabled:!1}):L(O)})),E=(O=>O.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:O})(v);return(p?qP:IE)(o,w,k,1,E)},yA=o=>Gg.singleData(o.value,o),Uu=o=>mf(Qt(o.startContainer),o.startOffset,Qt(o.endContainer),o.endOffset),dR=(o,a)=>{const c=mn("autocompleter"),d=Dn(!1),p=Dn(!1),v=cr(),w=Oa(rs.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:c}},components:[],fireDismissalEventInstead:{},inlineBehaviours:Ft([uo("dismissAutocompleter",[xt(kg(),()=>M()),xt(Ry(),(Y,se)=>{Io(se.event.target,"id").each(ce=>Jt(Qt(o.getBody()),"aria-activedescendant",ce))})])]),lazySink:a.getSink})),k=()=>rs.isOpen(w),E=p.get,O=()=>{if(k()){rs.hide(w),o.dom.remove(c,!1);const Y=Qt(o.getBody());Io(Y,"aria-owns").filter(se=>se===c).each(()=>{fo(Y,"aria-owns"),fo(Y,"aria-activedescendant")})}},L=()=>rs.getContent(w).bind(Y=>St(Y.components(),0)),M=()=>o.execCommand("mceAutocompleterClose"),H=Y=>{const se=(ce=>{const ve=It(ce,ie=>D.from(ie.columns)).getOr(1);return Ko(ce,ie=>{const ae=ie.items;return dp(ae,ie.matchText,(me,ye)=>{const _e={hide:()=>M(),reload:Le=>{O(),o.execCommand("mceAutocompleterReload",!1,{fetchOptions:Le})}};o.execCommand("mceAutocompleterRefreshActiveRange"),v.get().each(Le=>{d.set(!0),ie.onAction(_e,Le,me,ye),d.set(!1)})},ve,Tf.BUBBLE_TO_SANDBOX,a,ie.highlightOn)})})(Y);se.length>0?(((ce,ve)=>{const ie=It(ce,ae=>D.from(ae.columns)).getOr(1);rs.showMenuAt(w,{anchor:{type:"selection",getSelection:()=>v.get().map(Uu),root:Qt(o.getBody())}},((ae,me,ye,_e)=>{const Le=b2(me,_e),Xe=u0(_e);return{data:yA({...ae,movement:Le,menuBehaviours:d2(me!=="auto"?[]:[Zr((_t,vt)=>{WE(_t,4,Xe.item).each(({numColumns:gt,numRows:Bt})=>{An.setGridSize(_t,Bt,gt)})})])}),menu:{markers:u0(_e),fakeFocus:ye===y2.ContentFocus}}})(IE("autocompleter-value",!0,ve,ie,{menuType:"normal"}),ie,y2.ContentFocus,"normal")),L().each(ar.highlightFirst)})(Y,se),Jt(Qt(o.getBody()),"aria-owns",c),o.inline||q()):O()},q=()=>{o.dom.get(c)&&o.dom.remove(c,!1);const Y=o.getDoc().documentElement,se=o.selection.getNode(),ce=(ve=>Og(ve,!0))(w.element);Pi(ce,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${se.offsetTop}px`,left:`${se.offsetLeft}px`}),o.dom.add(Y,ce.dom),Jr(ce,'[role="menu"]').each(ve=>{nr(ve,"position"),nr(ve,"max-height")})};o.on("AutocompleterStart",({lookupData:Y})=>{p.set(!0),d.set(!1),H(Y)}),o.on("AutocompleterUpdate",({lookupData:Y})=>H(Y)),o.on("AutocompleterUpdateActiveRange",({range:Y})=>v.set(Y)),o.on("AutocompleterEnd",()=>{O(),p.set(!1),d.set(!1),v.clear()}),((Y,se)=>{const ce=(ie,ae)=>{Sn(ie,cs(),{raw:ae})},ve=()=>Y.getMenu().bind(ar.getHighlighted);se.on("keydown",ie=>{const ae=ie.which;Y.isActive()&&(Y.isMenuOpen()?ae===13?(ve().each(rf),ie.preventDefault()):ae===40?(ve().fold(()=>{Y.getMenu().each(ar.highlightFirst)},me=>{ce(me,ie)}),ie.preventDefault(),ie.stopImmediatePropagation()):ae!==37&&ae!==38&&ae!==39||ve().each(me=>{ce(me,ie),ie.preventDefault(),ie.stopImmediatePropagation()}):ae!==13&&ae!==38&&ae!==40||Y.cancelIfNecessary())}),se.on("NodeChange",()=>{!Y.isActive()||Y.isProcessingAction()||se.queryCommandState("mceAutoCompleterInRange")||Y.cancelIfNecessary()})})({cancelIfNecessary:M,isMenuOpen:k,isActive:E,isProcessingAction:d.get,getMenu:L},o)},_v=(o,a,c)=>Iu(o,a,c).isSome(),xA=(o,a)=>{let c=null;return{cancel:()=>{c!==null&&(clearTimeout(c),c=null)},schedule:(...d)=>{c=setTimeout(()=>{o.apply(null,d),c=null},a)}}},fR=o=>{const a=o.raw;return a.touches===void 0||a.touches.length!==1?D.none():D.some(a.touches[0])},g_=(o,a)=>{const c={stopBackspace:!0,...a},d=(M=>{const H=cr(),q=Dn(!1),Y=xA(ce=>{M.triggerEvent(hk(),ce),q.set(!0)},400),se=cd([{key:Z(),value:ce=>(fR(ce).each(ve=>{Y.cancel();const ie={x:ve.clientX,y:ve.clientY,target:ce.target};Y.schedule(ce),q.set(!1),H.set(ie)}),D.none())},{key:oe(),value:ce=>(Y.cancel(),fR(ce).each(ve=>{H.on(ie=>{((ae,me)=>{const ye=Math.abs(ae.clientX-me.x),_e=Math.abs(ae.clientY-me.y);return ye>5||_e>5})(ve,ie)&&H.clear()})}),D.none())},{key:Oe(),value:ce=>(Y.cancel(),H.get().filter(ve=>Wo(ve.target,ce.target)).map(ve=>q.get()?(ce.prevent(),!1):M.triggerEvent(Qd(),ce)))}]);return{fireIfReady:(ce,ve)=>un(se,ve).bind(ie=>ie(ce))}})(c),p=bt(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),M=>Ai(o,M,H=>{d.fireIfReady(H,M).each(q=>{q&&H.kill()}),c.triggerEvent(M,H)&&H.kill()})),v=cr(),w=Ai(o,"paste",M=>{d.fireIfReady(M,"paste").each(H=>{H&&M.kill()}),c.triggerEvent("paste",M)&&M.kill(),v.set(setTimeout(()=>{c.triggerEvent(Dy(),M)},0))}),k=Ai(o,"keydown",M=>{c.triggerEvent("keydown",M)?M.kill():c.stopBackspace&&(H=>H.raw.which===BO[0]&&!Qe(["input","textarea"],Bi(H.target))&&!_v(H.target,'[contenteditable="true"]'))(M)&&M.prevent()}),E=Ai(o,"focusin",M=>{c.triggerEvent("focusin",M)&&M.kill()}),O=cr(),L=Ai(o,"focusout",M=>{c.triggerEvent("focusout",M)&&M.kill(),O.set(setTimeout(()=>{c.triggerEvent(Oh(),M)},0))});return{unbind:()=>{Zt(p,M=>{M.unbind()}),k.unbind(),E.unbind(),L.unbind(),w.unbind(),v.on(clearTimeout),O.on(clearTimeout)}}},wA=(o,a)=>{const c=un(o,"target").getOr(a);return Dn(c)},x2=Ol([{stopped:[]},{resume:["element"]},{complete:[]}]),mR=(o,a,c,d,p,v)=>{const w=o(a,d),k=((E,O)=>{const L=Dn(!1),M=Dn(!1);return{stop:()=>{L.set(!0)},cut:()=>{M.set(!0)},isStopped:L.get,isCut:M.get,event:E,setSource:O.set,getSource:O.get}})(c,p);return w.fold(()=>(v.logEventNoHandlers(a,d),x2.complete()),E=>{const O=E.descHandler;return Gy(O)(k),k.isStopped()?(v.logEventStopped(a,E.element,O.purpose),x2.stopped()):k.isCut()?(v.logEventCut(a,E.element,O.purpose),x2.complete()):si(E.element).fold(()=>(v.logNoParent(a,E.element,O.purpose),x2.complete()),L=>(v.logEventResponse(a,E.element,O.purpose),x2.resume(L)))})},w2=(o,a,c,d,p,v)=>mR(o,a,c,d,p,v).fold(Ne,w=>w2(o,a,c,w,p,v),Ce),h_=(o,a,c,d,p)=>{const v=wA(c,d);return w2(o,a,c,d,v,p)},gR=()=>{const o=(()=>{const d={};return{registerId:(p,v,w)=>{Cn(w,(k,E)=>{const O=d[E]!==void 0?d[E]:{};O[v]=((L,M)=>({cHandler:Ge.apply(void 0,[L.handler].concat(M)),purpose:L.purpose}))(k,p),d[E]=O})},unregisterId:p=>{Cn(d,(v,w)=>{po(v,p)&&delete v[p]})},filterByType:p=>un(d,p).map(v=>As(v,(w,k)=>((E,O)=>({id:E,descHandler:O}))(k,w))).getOr([]),find:(p,v,w)=>un(d,v).bind(k=>Sg(w,E=>((O,L)=>Ig(L).bind(M=>un(O,M)).map(M=>((H,q)=>({element:H,descHandler:q}))(L,M)))(k,E),p))}})(),a={},c=d=>{Ig(d.element).each(p=>{delete a[p],o.unregisterId(p)})};return{find:(d,p,v)=>o.find(d,p,v),filter:d=>o.filterByType(d),register:d=>{const p=(w=>{const k=w.element;return Ig(k).getOrThunk(()=>((E,O)=>{const L=mn(_1+"uid-");return S1(O,L),L})(0,w.element))})(d);io(a,p)&&((w,k)=>{const E=a[k];if(E!==w)throw new Error('The tagId "'+k+'" is already used by: '+gd(E.element)+`
Cannot use it for: `+gd(w.element)+`
The conflicting element is`+(nn(E.element)?" ":" not ")+"already in the DOM");c(w)})(d,p);const v=[d];o.registerId(v,p,d.events),a[p]=d},unregister:c,getById:d=>un(a,d)}},kd=ru({name:"Container",factory:o=>{const{attributes:a,...c}=o.dom;return{uid:o.uid,dom:{tag:"div",attributes:{role:"presentation",...a},...c},components:o.components,behaviours:Vn(o.containerBehaviours),events:o.events,domModification:o.domModification,eventOrder:o.eventOrder}},configFields:[et("components",[]),gn("containerBehaviours",[]),et("events",{}),et("domModification",{}),et("eventOrder",{})]}),p_=o=>{const a=ce=>si(o.element).fold(Ne,ve=>Wo(ce,ve)),c=gR(),d=(ce,ve)=>c.find(a,ce,ve),p=g_(o.element,{triggerEvent:(ce,ve)=>wb(ce,ve.target,ie=>((ae,me,ye,_e)=>h_(ae,me,ye,ye.target,_e))(d,ce,ve,ie))}),v={debugInfo:te("real"),triggerEvent:(ce,ve,ie)=>{wb(ce,ve,ae=>h_(d,ce,ie,ve,ae))},triggerFocus:(ce,ve)=>{Ig(ce).fold(()=>{Ei(ce)},ie=>{wb(Du(),ce,ae=>(((me,ye,_e,Le,Xe)=>{const _t=wA(_e,Le);mR(me,ye,_e,Le,_t,Xe)})(d,Du(),{originator:ve,kill:he,prevent:he,target:ce},ce,ae),!1))})},triggerEscape:(ce,ve)=>{v.triggerEvent("keydown",ce.element,ve.event)},getByUid:ce=>Y(ce),getByDom:ce=>se(ce),build:Oa,buildOrPatch:D1,addToGui:ce=>{E(ce)},removeFromGui:ce=>{O(ce)},addToWorld:ce=>{w(ce)},removeFromWorld:ce=>{k(ce)},broadcast:ce=>{M(ce)},broadcastOn:(ce,ve)=>{H(ce,ve)},broadcastEvent:(ce,ve)=>{q(ce,ve)},isConnected:Ne},w=ce=>{ce.connect(v),ri(ce.element)||(c.register(ce),Zt(ce.components(),w),v.triggerEvent(ef(),ce.element,{target:ce.element}))},k=ce=>{ri(ce.element)||(Zt(ce.components(),k),c.unregister(ce)),ce.disconnect()},E=ce=>{xf(o,ce)},O=ce=>{Wi(ce)},L=ce=>{const ve=c.filter($l());Zt(ve,ie=>{const ae=ie.descHandler;Gy(ae)(ce)})},M=ce=>{L({universal:!0,data:ce})},H=(ce,ve)=>{L({universal:!1,channels:ce,data:ve})},q=(ce,ve)=>((ie,ae,me)=>{const ye=(_e=>{const Le=Dn(!1);return{stop:()=>{Le.set(!0)},cut:he,isStopped:Le.get,isCut:Ce,event:_e,setSource:Ze("Cannot set source of a broadcasted event"),getSource:Ze("Cannot get source of a broadcasted event")}})(ae);return Zt(ie,_e=>{const Le=_e.descHandler;Gy(Le)(ye)}),ye.isStopped()})(c.filter(ce),ve),Y=ce=>c.getById(ce).fold(()=>So.error(new Error('Could not find component with uid: "'+ce+'" in system.')),So.value),se=ce=>{const ve=Ig(ce).getOr("not found");return Y(ve)};return w(o),{root:o,element:o.element,destroy:()=>{p.unbind(),Sa(o.element)},add:E,remove:O,getByUid:Y,getByDom:se,addToWorld:w,removeFromWorld:k,broadcast:M,broadcastOn:H,broadcastEvent:q}},_7=te([et("prefix","form-field"),gn("fieldBehaviours",[Vo,rt])]),CA=te([ou({schema:[At("dom")],name:"label"}),ou({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[At("text")],name:"aria-descriptor"}),cl({factory:{sketch:o=>{const a=((c,d)=>{const p={};return Cn(c,(v,w)=>{Qe(d,w)||(p[w]=v)}),p})(o,["factory"]);return o.factory.sketch(a)}},schema:[At("factory")],name:"field"})]),ur=Cl({name:"FormField",configFields:_7(),partFields:CA(),factory:(o,a,c,d)=>{const p=co(o.fieldBehaviours,[Vo.config({find:k=>Mr(k,o,"field")}),rt.config({store:{mode:"manual",getValue:k=>Vo.getCurrent(k).bind(rt.getValue),setValue:(k,E)=>{Vo.getCurrent(k).each(O=>{rt.setValue(O,E)})}}})]),v=to([Zr((k,E)=>{const O=yO(k,o,["label","field","aria-descriptor"]);O.field().each(L=>{const M=mn(o.prefix);O.label().each(H=>{Jt(H.element,"for",M),Jt(L.element,"id",M)}),O["aria-descriptor"]().each(H=>{const q=mn(o.prefix);Jt(H.element,"id",q),Jt(L.element,"aria-describedby",q)})})})]),w={getField:k=>Mr(k,o,"field"),getLabel:k=>Mr(k,o,"label")};return{uid:o.uid,dom:o.dom,components:a,behaviours:p,events:v,apis:w}},apis:{getField:(o,a)=>o.getField(a),getLabel:(o,a)=>o.getLabel(a)}});var S7=tinymce.util.Tools.resolve("tinymce.html.Entities");const C2=(o,a,c,d)=>{const p=k7(o,a,c,d);return ur.sketch(p)},k7=(o,a,c,d)=>({dom:b_(c),components:o.toArray().concat([a]),fieldBehaviours:Ft(d)}),b_=o=>({tag:"div",classes:["tox-form__group"].concat(o)}),fp=(o,a)=>ur.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Cs(a.translate(o))]}),Ki=mn("form-component-change"),mp=mn("form-close"),oh=mn("form-cancel"),Df=mn("form-action"),_2=mn("form-submit"),_A=mn("form-block"),SA=mn("form-unblock"),hR=mn("form-tabchange"),v_=mn("form-resize"),pR=(o,a,c)=>{const d=o.label.map(M=>fp(M,a)),p=a.icons(),v=M=>(H,q)=>{Iu(q.event.target,"[data-collection-item-value]").each(Y=>{M(H,q,Y,Co(Y,"data-collection-item-value"))})},w=v((M,H,q,Y)=>{H.stop(),a.isDisabled()||Sn(M,Df,{name:o.name,value:Y})}),k=[xt(_n(),v((M,H,q)=>{Ei(q)})),xt(ea(),w),xt(Qd(),w),xt(Qo(),v((M,H,q)=>{Jr(M.element,"."+Pm).each(Y=>{ps(Y,Pm)}),us(q,Pm)})),xt(Ns(),v(M=>{Jr(M.element,"."+Pm).each(H=>{ps(H,Pm),Ob(H)})})),Yc(v((M,H,q,Y)=>{Sn(M,Df,{name:o.name,value:Y})}))],E=(M,H)=>bt(la(M.element,".tox-collection__item"),H),O=ur.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(o.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Ae},behaviours:Ft([Kn.config({disabled:a.isDisabled,onDisabled:M=>{E(M,H=>{us(H,"tox-collection__item--state-disabled"),Jt(H,"aria-disabled",!0)})},onEnabled:M=>{E(M,H=>{ps(H,"tox-collection__item--state-disabled"),fo(H,"aria-disabled")})}}),ba(),zn.config({}),Ws.config({...a.tooltips.getConfig({tooltipText:"",onShow:M=>{Jr(M.element,"."+Pm+"[data-mce-tooltip]").each(H=>{Io(H,"data-mce-tooltip").each(q=>{Ws.setComponents(M,a.tooltips.getComponents({tooltipText:q}))})})}}),mode:"children-keyboard-focus",anchor:M=>({type:"node",node:Jr(M.element,"."+Pm).orThunk(()=>ed(".tox-collection__item")),root:M.element,layouts:{onLtr:te([Ms,ds,bs,$s,vs,wr]),onRtl:te([Ms,ds,bs,$s,vs,wr])},bubble:Zl(0,-2,{})})}),rt.config({store:{mode:"memory",initialValue:c.getOr([])},onSetValue:(M,H)=>{((q,Y)=>{const se=bt(Y,ie=>{const ae=Fu.translate(ie.text),me=o.columns===1?`<div class="tox-collection__item-label">${ae}</div>`:"",ye=`<div class="tox-collection__item-icon">${(Xe=>{var _t;return(_t=p[Xe])!==null&&_t!==void 0?_t:Xe})(ie.icon)}</div>`,_e={_:" "," - ":" ","-":" "},Le=ae.replace(/\_| \- |\-/g,Xe=>_e[Xe]);return`<div data-mce-tooltip="${Le}" class="tox-collection__item${a.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${S7.encodeAllRaw(ie.value)}" aria-label="${Le}">${ye}${me}</div>`}),ce=o.columns!=="auto"&&o.columns>1?pt(se,o.columns):[se],ve=bt(ce,ie=>`<div class="tox-collection__group">${ie.join("")}</div>`);Tg(q.element,ve.join(""))})(M,H),o.columns==="auto"&&WE(M,5,"tox-collection__item").each(({numRows:q,numColumns:Y})=>{An.setGridSize(M,q,Y)}),go(M,v_)}}),Nr.config({}),An.config((L=o.columns,L===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:L==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${qC}`}})),uo("collection-events",k)]),eventOrder:{[rl()]:["disabling","alloy.base.behaviour","collection-events"],[Qo()]:["collection-events","tooltipping"]}});var L;return C2(d,O,["tox-form__group--collection"],[])},bR=["input","textarea"],y_=o=>{const a=Bi(o);return Qe(bR,a)},vR=(o,a)=>{const c=a.getRoot(o).getOr(o.element);ps(c,a.invalidClass),a.notify.each(d=>{y_(o.element)&&Jt(o.element,"aria-invalid",!1),d.getContainer(o).each(p=>{Tg(p,d.validHtml)}),d.onValid(o)})},kA=(o,a,c,d)=>{const p=a.getRoot(o).getOr(o.element);us(p,a.invalidClass),a.notify.each(v=>{y_(o.element)&&Jt(o.element,"aria-invalid",!0),v.getContainer(o).each(w=>{Tg(w,d)}),v.onInvalid(o,d)})},yR=(o,a,c)=>a.validator.fold(()=>zm(So.value(!0)),d=>d.validate(o)),EA=(o,a,c)=>(a.notify.each(d=>{d.onValidate(o)}),yR(o,a).map(d=>o.getSystem().isConnected()?d.fold(p=>(kA(o,a,0,p),So.error(p)),p=>(vR(o,a),So.value(p))):So.error("No longer in system")));var E7=Object.freeze({__proto__:null,markValid:vR,markInvalid:kA,query:yR,run:EA,isInvalid:(o,a)=>{const c=a.getRoot(o).getOr(o.element);return Vi(c,a.invalidClass)}}),xR=Object.freeze({__proto__:null,events:(o,a)=>o.validator.map(c=>to([xt(c.onEvent,d=>{EA(d,o).get(Ae)})].concat(c.validateOnLoad?[Zr(d=>{EA(d,o).get(he)})]:[]))).getOr({})}),A7=[At("invalidClass"),et("getRoot",D.none),gs("notify",[et("aria","alert"),et("getContainer",D.none),et("validHtml",""),Fo("onValid"),Fo("onInvalid"),Fo("onValidate")]),gs("validator",[At("validate"),et("onEvent","input"),et("validateOnLoad",!0)])];const Hm=pa({fields:A7,name:"invalidating",active:xR,apis:E7,extra:{validation:o=>a=>{const c=rt.getValue(a);return zm(o(c))}}}),w0=pa({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>to([Nh(Ka(),Ne)]),exhibit:()=>Is({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),AA=mn("color-input-change"),TA=mn("color-swatch-change"),wR=mn("color-picker-cancel"),OA=ou({schema:[At("dom")],name:"label"}),gp=o=>ou({name:o+"-edge",overrides:a=>a.model.manager.edgeActions[o].fold(()=>({}),c=>({events:to([Ny(Z(),(d,p,v)=>c(d,v),[a]),Ny(Tt(),(d,p,v)=>c(d,v),[a]),Ny(Ln(),(d,p,v)=>{v.mouseIsDown.get()&&c(d,v)},[a])])}))}),T7=gp("top-left"),O7=gp("top"),D7=gp("top-right"),R7=gp("right"),CR=gp("bottom-right"),DA=gp("bottom"),N7=gp("bottom-left"),x_=gp("left"),I7=cl({name:"thumb",defaults:te({dom:{styles:{position:"absolute"}}}),overrides:o=>({events:to([Bh(Z(),o,"spectrum"),Bh(oe(),o,"spectrum"),Bh(Oe(),o,"spectrum"),Bh(Tt(),o,"spectrum"),Bh(Ln(),o,"spectrum"),Bh(Xn(),o,"spectrum")])})}),w_=o=>Rm(o.event);var B7=[OA,x_,R7,O7,DA,T7,D7,N7,CR,I7,cl({schema:[Ea("mouseIsDown",()=>Dn(!1))],name:"spectrum",overrides:o=>{const a=o.model.manager,c=(d,p)=>a.getValueFromEvent(p).map(v=>a.setValueFrom(d,o,v));return{behaviours:Ft([An.config({mode:"special",onLeft:(d,p)=>a.onLeft(d,o,w_(p)),onRight:(d,p)=>a.onRight(d,o,w_(p)),onUp:(d,p)=>a.onUp(d,o,w_(p)),onDown:(d,p)=>a.onDown(d,o,w_(p))}),Nr.config({}),Zn.config({})]),events:to([xt(Z(),c),xt(oe(),c),xt(Tt(),c),xt(Ln(),(d,p)=>{o.mouseIsDown.get()&&c(d,p)})])}}})];const S2=te("slider.change.value"),RA=o=>{const a=o.event.raw;if((c=>c.type.indexOf("touch")!==-1)(a)){const c=a;return c.touches!==void 0&&c.touches.length===1?D.some(c.touches[0]).map(d=>Lr(d.clientX,d.clientY)):D.none()}{const c=a;return c.clientX!==void 0?D.some(c).map(d=>Lr(d.clientX,d.clientY)):D.none()}},C0=o=>o.model.minX,hp=o=>o.model.minY,C_=o=>o.model.minX-1,__=o=>o.model.minY-1,rh=o=>o.model.maxX,Wu=o=>o.model.maxY,S_=o=>o.model.maxX+1,k_=o=>o.model.maxY+1,E_=(o,a,c)=>a(o)-c(o),A_=o=>E_(o,rh,C0),NA=o=>E_(o,Wu,hp),_R=o=>A_(o)/2,IA=o=>NA(o)/2,Sv=(o,a)=>a?o.stepSize*o.speedMultiplier:o.stepSize,BA=o=>o.snapToGrid,MA=o=>o.snapStart,T_=o=>o.rounded,O_=(o,a)=>o[a+"-edge"]!==void 0,PA=o=>O_(o,"left"),SR=o=>O_(o,"right"),kv=o=>O_(o,"top"),kR=o=>O_(o,"bottom"),sh=o=>o.model.value.get(),Vm=(o,a)=>({x:o,y:a}),cu=(o,a)=>{Sn(o,S2(),{value:a})},LA=(o,a,c,d)=>o<a?o:o>c?c:o===a?a-1:Math.max(a,o-d),k2=(o,a,c,d)=>o>c?o:o<a?a:o===c?c+1:Math.min(c,o+d),ER=(o,a,c)=>Math.max(a,Math.min(c,o)),AR=o=>{const{min:a,max:c,range:d,value:p,step:v,snap:w,snapStart:k,rounded:E,hasMinEdge:O,hasMaxEdge:L,minBound:M,maxBound:H,screenRange:q}=o,Y=O?a-1:a,se=L?c+1:c;if(p<M)return Y;if(p>H)return se;{const ce=((ie,ae,me)=>Math.min(me,Math.max(ie,ae))-ae)(p,M,H),ve=ER(ce/q*d+a,Y,se);return w&&ve>=a&&ve<=c?((ie,ae,me,ye,_e)=>_e.fold(()=>{const Le=ie-ae,Xe=Math.round(Le/ye)*ye;return ER(ae+Xe,ae-1,me+1)},Le=>{const Xe=(ie-Le)%ye,_t=Math.round(Xe/ye),vt=Math.floor((ie-Le)/ye),gt=Math.floor((me-Le)/ye),Bt=Le+Math.min(gt,vt+_t)*ye;return Math.max(Le,Bt)}))(ve,a,c,v,k):E?Math.round(ve):ve}},D_=o=>{const{min:a,max:c,range:d,value:p,hasMinEdge:v,hasMaxEdge:w,maxBound:k,maxOffset:E,centerMinEdge:O,centerMaxEdge:L}=o;return p<a?v?0:O:p>c?w?k:L:(p-a)/d*E},FA="top",TR="right",OR="bottom",zA="left",$m=o=>o.element.dom.getBoundingClientRect(),Ed=(o,a)=>o[a],R_=o=>{const a=$m(o);return Ed(a,zA)},DR=o=>{const a=$m(o);return Ed(a,TR)},N_=o=>{const a=$m(o);return Ed(a,FA)},RR=o=>{const a=$m(o);return Ed(a,OR)},NR=o=>{const a=$m(o);return Ed(a,"width")},IR=o=>{const a=$m(o);return Ed(a,"height")},I_=(o,a,c)=>(o+a)/2-c,BR=(o,a)=>{const c=$m(o),d=$m(a),p=Ed(c,zA),v=Ed(c,TR),w=Ed(d,zA);return I_(p,v,w)},MR=(o,a)=>{const c=$m(o),d=$m(a),p=Ed(c,FA),v=Ed(c,OR),w=Ed(d,FA);return I_(p,v,w)},B_=(o,a)=>{Sn(o,S2(),{value:a})},M_=(o,a,c)=>{const d={min:C0(a),max:rh(a),range:A_(a),value:c,step:Sv(a),snap:BA(a),snapStart:MA(a),rounded:T_(a),hasMinEdge:PA(a),hasMaxEdge:SR(a),minBound:R_(o),maxBound:DR(o),screenRange:NR(o)};return AR(d)},PR=o=>(a,c,d)=>((p,v,w,k)=>{const E=(p>0?k2:LA)(sh(w),C0(w),rh(w),Sv(w,k));return B_(v,E),D.some(E)})(o,a,c,d).map(Ne),HA=(o,a,c,d,p,v)=>{const w=((k,E,O,L,M)=>{const H=NR(k),q=L.bind(ce=>D.some(BR(ce,k))).getOr(0),Y=M.bind(ce=>D.some(BR(ce,k))).getOr(H),se={min:C0(E),max:rh(E),range:A_(E),value:O,hasMinEdge:PA(E),hasMaxEdge:SR(E),minBound:R_(k),minOffset:0,maxBound:DR(k),maxOffset:H,centerMinEdge:q,centerMaxEdge:Y};return D_(se)})(a,v,c,d,p);return R_(a)-R_(o)+w},M7=PR(-1),P7=PR(1),L7=D.none,F7=D.none,VA={"top-left":D.none(),top:D.none(),"top-right":D.none(),right:D.some((o,a)=>{cu(o,S_(a))}),"bottom-right":D.none(),bottom:D.none(),"bottom-left":D.none(),left:D.some((o,a)=>{cu(o,C_(a))})};var z7=Object.freeze({__proto__:null,setValueFrom:(o,a,c)=>{const d=M_(o,a,c);return B_(o,d),d},setToMin:(o,a)=>{const c=C0(a);B_(o,c)},setToMax:(o,a)=>{const c=rh(a);B_(o,c)},findValueOfOffset:M_,getValueFromEvent:o=>RA(o).map(a=>a.left),findPositionOfValue:HA,setPositionFromValue:(o,a,c,d)=>{const p=sh(c),v=HA(o,d.getSpectrum(o),p,d.getLeftEdge(o),d.getRightEdge(o),c),w=fa(a.element)/2;Qn(a.element,"left",v-w+"px")},onLeft:M7,onRight:P7,onUp:L7,onDown:F7,edgeActions:VA});const P_=(o,a)=>{Sn(o,S2(),{value:a})},$A=(o,a,c)=>{const d={min:hp(a),max:Wu(a),range:NA(a),value:c,step:Sv(a),snap:BA(a),snapStart:MA(a),rounded:T_(a),hasMinEdge:kv(a),hasMaxEdge:kR(a),minBound:N_(o),maxBound:RR(o),screenRange:IR(o)};return AR(d)},LR=o=>(a,c,d)=>((p,v,w,k)=>{const E=(p>0?k2:LA)(sh(w),hp(w),Wu(w),Sv(w,k));return P_(v,E),D.some(E)})(o,a,c,d).map(Ne),UA=(o,a,c,d,p,v)=>{const w=((k,E,O,L,M)=>{const H=IR(k),q=L.bind(ce=>D.some(MR(ce,k))).getOr(0),Y=M.bind(ce=>D.some(MR(ce,k))).getOr(H),se={min:hp(E),max:Wu(E),range:NA(E),value:O,hasMinEdge:kv(E),hasMaxEdge:kR(E),minBound:N_(k),minOffset:0,maxBound:RR(k),maxOffset:H,centerMinEdge:q,centerMaxEdge:Y};return D_(se)})(a,v,c,d,p);return N_(a)-N_(o)+w},H7=D.none,V7=D.none,$7=LR(-1),U7=LR(1),W7={"top-left":D.none(),top:D.some((o,a)=>{cu(o,__(a))}),"top-right":D.none(),right:D.none(),"bottom-right":D.none(),bottom:D.some((o,a)=>{cu(o,k_(a))}),"bottom-left":D.none(),left:D.none()};var Z7=Object.freeze({__proto__:null,setValueFrom:(o,a,c)=>{const d=$A(o,a,c);return P_(o,d),d},setToMin:(o,a)=>{const c=hp(a);P_(o,c)},setToMax:(o,a)=>{const c=Wu(a);P_(o,c)},findValueOfOffset:$A,getValueFromEvent:o=>RA(o).map(a=>a.top),findPositionOfValue:UA,setPositionFromValue:(o,a,c,d)=>{const p=sh(c),v=UA(o,d.getSpectrum(o),p,d.getTopEdge(o),d.getBottomEdge(o),c),w=ms(a.element)/2;Qn(a.element,"top",v-w+"px")},onLeft:H7,onRight:V7,onUp:$7,onDown:U7,edgeActions:W7});const L_=(o,a)=>{Sn(o,S2(),{value:a})},F_=(o,a)=>({x:o,y:a}),_0=(o,a)=>(c,d,p)=>((v,w,k,E,O)=>{const L=v>0?k2:LA,M=w?sh(E).x:L(sh(E).x,C0(E),rh(E),Sv(E,O)),H=w?L(sh(E).y,hp(E),Wu(E),Sv(E,O)):sh(E).y;return L_(k,F_(M,H)),D.some(M)})(o,a,c,d,p).map(Ne),j7=_0(-1,!1),WA=_0(1,!1),K7=_0(-1,!0),q7=_0(1,!0),G7={"top-left":D.some((o,a)=>{cu(o,Vm(C_(a),__(a)))}),top:D.some((o,a)=>{cu(o,Vm(_R(a),__(a)))}),"top-right":D.some((o,a)=>{cu(o,Vm(S_(a),__(a)))}),right:D.some((o,a)=>{cu(o,Vm(S_(a),IA(a)))}),"bottom-right":D.some((o,a)=>{cu(o,Vm(S_(a),k_(a)))}),bottom:D.some((o,a)=>{cu(o,Vm(_R(a),k_(a)))}),"bottom-left":D.some((o,a)=>{cu(o,Vm(C_(a),k_(a)))}),left:D.some((o,a)=>{cu(o,Vm(C_(a),IA(a)))})};var FR=Object.freeze({__proto__:null,setValueFrom:(o,a,c)=>{const d=M_(o,a,c.left),p=$A(o,a,c.top),v=F_(d,p);return L_(o,v),v},setToMin:(o,a)=>{const c=C0(a),d=hp(a);L_(o,F_(c,d))},setToMax:(o,a)=>{const c=rh(a),d=Wu(a);L_(o,F_(c,d))},getValueFromEvent:o=>RA(o),setPositionFromValue:(o,a,c,d)=>{const p=sh(c),v=HA(o,d.getSpectrum(o),p.x,d.getLeftEdge(o),d.getRightEdge(o),c),w=UA(o,d.getSpectrum(o),p.y,d.getTopEdge(o),d.getBottomEdge(o),c),k=fa(a.element)/2,E=ms(a.element)/2;Qn(a.element,"left",v-k+"px"),Qn(a.element,"top",w-E+"px")},onLeft:j7,onRight:WA,onUp:K7,onDown:q7,edgeActions:G7});const Ad=Cl({name:"Slider",configFields:[et("stepSize",1),et("speedMultiplier",10),et("onChange",he),et("onChoose",he),et("onInit",he),et("onDragStart",he),et("onDragEnd",he),et("snapToGrid",!1),et("rounded",!0),Bo("snapStart"),Aa("model",Qs("mode",{x:[et("minX",0),et("maxX",100),Ea("value",o=>Dn(o.mode.minX)),At("getInitialValue"),Ir("manager",z7)],y:[et("minY",0),et("maxY",100),Ea("value",o=>Dn(o.mode.minY)),At("getInitialValue"),Ir("manager",Z7)],xy:[et("minX",0),et("maxX",100),et("minY",0),et("maxY",100),Ea("value",o=>Dn({x:o.mode.minX,y:o.mode.minY})),At("getInitialValue"),Ir("manager",FR)]})),gn("sliderBehaviours",[An,rt]),Ea("mouseIsDown",()=>Dn(!1))],partFields:B7,factory:(o,a,c,d)=>{const p=ie=>qg(ie,o,"thumb"),v=ie=>qg(ie,o,"spectrum"),w=ie=>Mr(ie,o,"left-edge"),k=ie=>Mr(ie,o,"right-edge"),E=ie=>Mr(ie,o,"top-edge"),O=ie=>Mr(ie,o,"bottom-edge"),L=o.model,M=L.manager,H=(ie,ae)=>{M.setPositionFromValue(ie,ae,o,{getLeftEdge:w,getRightEdge:k,getTopEdge:E,getBottomEdge:O,getSpectrum:v})},q=(ie,ae)=>{L.value.set(ae);const me=p(ie);H(ie,me)},Y=ie=>{const ae=o.mouseIsDown.get();o.mouseIsDown.set(!1),ae&&Mr(ie,o,"thumb").each(me=>{const ye=L.value.get();o.onChoose(ie,me,ye)})},se=(ie,ae)=>{ae.stop(),o.mouseIsDown.set(!0),o.onDragStart(ie,p(ie))},ce=(ie,ae)=>{ae.stop(),o.onDragEnd(ie,p(ie)),Y(ie)},ve=ie=>{Mr(ie,o,"spectrum").map(An.focusIn)};return{uid:o.uid,dom:o.dom,components:a,behaviours:co(o.sliderBehaviours,[An.config({mode:"special",focusIn:ve}),rt.config({store:{mode:"manual",getValue:ie=>L.value.get(),setValue:q}}),il.config({channels:{[U()]:{onReceive:Y}}})]),events:to([xt(S2(),(ie,ae)=>{((me,ye)=>{q(me,ye);const _e=p(me);o.onChange(me,_e,ye)})(ie,ae.event.value)}),Zr((ie,ae)=>{const me=L.getInitialValue();L.value.set(me);const ye=p(ie);H(ie,ye);const _e=v(ie);o.onInit(ie,ye,_e,L.value.get())}),xt(Z(),se),xt(Oe(),ce),xt(Tt(),(ie,ae)=>{ve(ie),se(ie,ae)}),xt(Xn(),ce)]),apis:{resetToMin:ie=>{M.setToMin(ie,o)},resetToMax:ie=>{M.setToMax(ie,o)},setValue:q,refresh:H},domModification:{styles:{position:"relative"}}}},apis:{setValue:(o,a,c)=>{o.setValue(a,c)},resetToMin:(o,a)=>{o.resetToMin(a)},resetToMax:(o,a)=>{o.resetToMax(a)},refresh:(o,a)=>{o.refresh(a)}}}),E2=mn("rgb-hex-update"),z_=mn("slider-update"),ZA=mn("palette-update"),H_="form",V_=[gn("formBehaviours",[rt])],jA=o=>"<alloy.field."+o+">",Um=(o,a)=>({uid:o.uid,dom:o.dom,components:a,behaviours:co(o.formBehaviours,[rt.config({store:{mode:"manual",getValue:c=>{const d=Pk(c,o);return En(d,(p,v)=>p().bind(w=>{return k=Vo.getCurrent(w),E=new Error(`Cannot find a current component to extract the value from for form part '${v}': `+gd(w.element)),k.fold(()=>So.error(E),So.value);var k,E}).map(rt.getValue))},setValue:(c,d)=>{Cn(d,(p,v)=>{Mr(c,o,v).each(w=>{Vo.getCurrent(w).each(k=>{rt.setValue(k,p)})})})}}})]),apis:{getField:(c,d)=>Mr(c,o,d).bind(Vo.getCurrent)}}),pp={getField:A1((o,a,c)=>o.getField(a,c)),sketch:o=>{const a=(()=>{const v=[];return{field:(w,k)=>(v.push(w),Ik(H_,jA(w),k)),record:te(v)}})(),c=o(a),d=a.record(),p=bt(d,v=>cl({name:v,pname:jA(v)}));return Cx(H_,V_,p,Um,c)}},zR=mn("valid-input"),HR=mn("invalid-input"),VR=mn("validating-input"),KA="colorcustom.rgb.",A2={isEnabled:Ne,setEnabled:he,immediatelyShow:he,immediatelyHide:he},Y7=(o,a,c,d,p,v)=>{const w=(q,Y)=>{const se=Y.get();q!==se.isEnabled()&&(se.setEnabled(q),q?se.immediatelyShow():se.immediatelyHide())},k=(q,Y,se)=>Hm.config({invalidClass:a("invalid"),notify:{onValidate:ce=>{Sn(ce,VR,{type:q})},onValid:ce=>{w(!1,se),Sn(ce,zR,{type:q,value:rt.getValue(ce)})},onInvalid:ce=>{w(!0,se),Sn(ce,HR,{type:q,value:rt.getValue(ce)})}},validator:{validate:ce=>{const ve=rt.getValue(ce),ie=Y(ve)?So.value(!0):So.error(o("aria.input.invalid"));return zm(ie)},validateOnLoad:!1}}),E=(q,Y,se,ce,ve)=>{const ie=Dn(A2),ae=o(KA+"range"),me=ur.parts.label({dom:{tag:"label",attributes:{"aria-label":ce}},components:[Cs(se)]}),ye=ur.parts.field({data:ve,factory:Qg,inputAttributes:{type:"text",...Y==="hex"?{"aria-live":"polite"}:{}},inputClasses:[a("textfield")],inputBehaviours:Ft([k(Y,q,ie),Nr.config({}),Ws.config({...p({tooltipText:"",onSetup:gt=>{ie.set({isEnabled:()=>Ws.isEnabled(gt),setEnabled:Bt=>Ws.setEnabled(gt,Bt),immediatelyShow:()=>Ws.immediateOpenClose(gt,!0),immediatelyHide:()=>Ws.immediateOpenClose(gt,!1)}),Ws.setEnabled(gt,!1)},onShow:(gt,Bt)=>{Ws.setComponents(gt,[{dom:{tag:"p",classes:[a("rgb-warning-note")]},components:[Cs(o(Y==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:gt=>{Hm.isInvalid(gt)&&Hm.run(gt).get(he)}}),_e=mn("aria-invalid"),Le=or(v("invalid",D.some(_e),"warning")),Xe=[me,ye,or({dom:{tag:"div",classes:[a("invalid-icon")]},components:[Le.asSpec()]}).asSpec()],_t=Y!=="hex"?[ur.parts["aria-descriptor"]({text:ae})]:[],vt=Xe.concat(_t);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[a("rgb-container")]},components:vt}},O=(q,Y)=>{const se=Y.red,ce=Y.green,ve=Y.blue;rt.setValue(q,{red:se,green:ce,blue:ve})},L=or({dom:{tag:"div",classes:[a("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),M=(q,Y)=>{L.getOpt(q).each(se=>{Qn(se.element,"background-color","#"+Y.value)})};return ru({factory:()=>{const q={red:Dn(D.some(255)),green:Dn(D.some(255)),blue:Dn(D.some(255)),hex:Dn(D.some("ffffff"))},Y=Xe=>q[Xe].get(),se=(Xe,_t)=>{q[Xe].set(_t)},ce=Xe=>{const _t=Xe.red,vt=Xe.green,gt=Xe.blue;se("red",D.some(_t)),se("green",D.some(vt)),se("blue",D.some(gt))},ve=(Xe,_t)=>{const vt=_t.event;vt.type!=="hex"?se(vt.type,D.none()):d(Xe)},ie=(Xe,_t)=>{const vt=_t.event;(gt=>gt.type==="hex")(vt)?((gt,Bt)=>{c(gt);const sn=GE(Bt);se("hex",D.some(sn.value));const vn=Sd(sn);O(gt,vn),ce(vn),Sn(gt,E2,{hex:sn}),M(gt,sn)})(Xe,vt.value):((gt,Bt,sn)=>{const vn=parseInt(sn,10);se(Bt,D.some(vn)),Y("red").bind(In=>Y("green").bind(qn=>Y("blue").map(ko=>nh(In,qn,ko,1)))).each(In=>{const qn=((ko,Vr)=>{const Qr=g2(Vr);return pp.getField(ko,"hex").each(mo=>{Zn.isFocused(mo)||rt.setValue(ko,{hex:Qr.value})}),Qr})(gt,In);Sn(gt,E2,{hex:qn}),M(gt,qn)})})(Xe,vt.type,vt.value)},ae=Xe=>({label:o(KA+Xe+".label"),description:o(KA+Xe+".description")}),me=ae("red"),ye=ae("green"),_e=ae("blue"),Le=ae("hex");return xr(pp.sketch(Xe=>({dom:{tag:"form",classes:[a("rgb-form")],attributes:{"aria-label":o("aria.color.picker")}},components:[Xe.field("red",ur.sketch(E(h2,"red",me.label,me.description,255))),Xe.field("green",ur.sketch(E(h2,"green",ye.label,ye.description,255))),Xe.field("blue",ur.sketch(E(h2,"blue",_e.label,_e.description,255))),Xe.field("hex",ur.sketch(E(PD,"hex",Le.label,Le.description,"ffffff"))),L.asSpec()],formBehaviours:Ft([Hm.config({invalidClass:a("form-invalid")}),uo("rgb-form-events",[xt(zR,ie),xt(HR,ve),xt(VR,ve)])])})),{apis:{updateHex:(Xe,_t)=>{rt.setValue(Xe,{hex:_t.value}),((vt,gt)=>{const Bt=Sd(gt);O(vt,Bt),ce(Bt)})(Xe,_t),M(Xe,_t)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(q,Y,se)=>{q.updateHex(Y,se)}},extraApis:{}})},$R=(o,a,c,d)=>ru({name:"ColourPicker",configFields:[At("dom"),et("onValidHex",he),et("onInvalidHex",he)],factory:v=>{const w=Y7(o,a,v.onValidHex,v.onInvalidHex,c,d),k=((ve,ie)=>{const ae=Ad.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[ie("sv-palette-spectrum")]}}),me=Ad.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[ie("sv-palette-thumb")],innerHtml:`<div class=${ie("sv-palette-inner-thumb")} role="presentation"></div>`}}),ye=(_e,Le)=>{const{width:Xe,height:_t}=_e,vt=_e.getContext("2d");if(vt===null)return;vt.fillStyle=Le,vt.fillRect(0,0,Xe,_t);const gt=vt.createLinearGradient(0,0,Xe,0);gt.addColorStop(0,"rgba(255,255,255,1)"),gt.addColorStop(1,"rgba(255,255,255,0)"),vt.fillStyle=gt,vt.fillRect(0,0,Xe,_t);const Bt=vt.createLinearGradient(0,0,0,_t);Bt.addColorStop(0,"rgba(0,0,0,0)"),Bt.addColorStop(1,"rgba(0,0,0,1)"),vt.fillStyle=Bt,vt.fillRect(0,0,Xe,_t)};return ru({factory:_e=>{const Le=te({x:0,y:0}),Xe=Ft([Vo.config({find:D.some}),Zn.config({})]);return Ad.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":ve(["Saturation {0}%, Brightness {1}%",0,0])},classes:[ie("sv-palette")]},model:{mode:"xy",getInitialValue:Le},rounded:!1,components:[ae,me],onChange:(_t,vt,gt)=>{ee(gt)||Jt(_t.element,"aria-valuetext",ve(["Saturation {0}%, Brightness {1}%",Math.floor(gt.x),Math.floor(100-gt.y)])),Sn(_t,ZA,{value:gt})},onInit:(_t,vt,gt,Bt)=>{ye(gt.element.dom,HD(VD))},sliderBehaviours:Xe})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(_e,Le,Xe)=>{((_t,vt)=>{const gt=_t.components()[0].element.dom,Bt=xv(vt,100,100),sn=zD(Bt);ye(gt,HD(sn))})(Le,Xe)},setThumb:(_e,Le,Xe)=>{((_t,vt)=>{const gt=l_(Sd(vt));Ad.setValue(_t,{x:gt.saturation,y:100-gt.value}),Jt(_t.element,"aria-valuetext",ve(["Saturation {0}%, Brightness {1}%",gt.saturation,gt.value]))})(Le,Xe)}},extraApis:{}})})(o,a),E={paletteRgba:Dn(VD),paletteHue:Dn(0)},O=or(((ve,ie)=>{const ae=Ad.parts.spectrum({dom:{tag:"div",classes:[ie("hue-slider-spectrum")],attributes:{role:"presentation"}}}),me=Ad.parts.thumb({dom:{tag:"div",classes:[ie("hue-slider-thumb")],attributes:{role:"presentation"}}});return Ad.sketch({dom:{tag:"div",classes:[ie("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:te(0)},components:[ae,me],sliderBehaviours:Ft([Zn.config({})]),onChange:(ye,_e,Le)=>{Jt(ye.element,"aria-valuenow",Math.floor(360-3.6*Le)),Sn(ye,z_,{value:Le})}})})(0,a)),L=or(k.sketch({})),M=or(w.sketch({})),H=(ve,ie,ae)=>{L.getOpt(ve).each(me=>{k.setHue(me,ae)})},q=(ve,ie)=>{M.getOpt(ve).each(ae=>{w.updateHex(ae,ie)})},Y=(ve,ie,ae)=>{O.getOpt(ve).each(me=>{Ad.setValue(me,(ye=>100-ye/360*100)(ae))})},se=(ve,ie)=>{L.getOpt(ve).each(ae=>{k.setThumb(ae,ie)})},ce=(ve,ie,ae,me)=>{((ye,_e)=>{const Le=Sd(ye);E.paletteRgba.set(Le),E.paletteHue.set(_e)})(ie,ae),Zt(me,ye=>{ye(ve,ie,ae)})};return{uid:v.uid,dom:v.dom,components:[L.asSpec(),O.asSpec(),M.asSpec()],behaviours:Ft([uo("colour-picker-events",[xt(E2,(()=>{const ve=[H,Y,se];return(ie,ae)=>{const me=ae.event.hex,ye=(_e=>l_(Sd(_e)))(me);ce(ie,me,ye.hue,ve)}})()),xt(ZA,(()=>{const ve=[q];return(ie,ae)=>{const me=ae.event.value,ye=E.paletteHue.get(),_e=xv(ye,me.x,100-me.y),Le=c_(_e);ce(ie,Le,ye,ve)}})()),xt(z_,(()=>{const ve=[H,q];return(ie,ae)=>{const me=(_t=>(100-_t)/100*360)(ae.event.value),ye=E.paletteRgba.get(),_e=l_(ye),Le=xv(me,_e.saturation,_e.value),Xe=c_(Le);ce(ie,Xe,me,ve)}})())]),Vo.config({find:ve=>M.getOpt(ve)}),An.config({mode:"acyclic"})])}}}),Wm=()=>Vo.config({find:D.some}),qA=o=>Vo.config({find:a=>Gr(a.element,o).bind(c=>a.getSystem().getByDom(c).toOptional())}),GA=Pn([et("preprocess",Ae),et("postprocess",Ae)]),YA=(o,a)=>{const c=li("RepresentingConfigs.memento processors",GA,a);return rt.config({store:{mode:"manual",getValue:d=>{const p=o.get(d),v=rt.getValue(p);return c.postprocess(v)},setValue:(d,p)=>{const v=c.preprocess(p),w=o.get(d);rt.setValue(w,v)}}})},S0=(o,a,c)=>rt.config({store:{mode:"manual",...o.map(d=>({initialValue:d})).getOr({}),getValue:a,setValue:c}}),XA=(o,a,c)=>S0(o,d=>a(d.element),(d,p)=>c(d.element,p)),T2=o=>rt.config({store:{mode:"memory",initialValue:o}}),X7={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var UR=tinymce.util.Tools.resolve("tinymce.Resource");const JA=o=>po(o,"init");var ah=tinymce.util.Tools.resolve("tinymce.util.Tools");const QA=(o,a)=>{let c=null;const d=()=>{N(c)||(clearTimeout(c),c=null)};return{cancel:d,throttle:(...p)=>{d(),c=setTimeout(()=>{c=null,o.apply(null,p)},a)}}},e3=mn("alloy-fake-before-tabstop"),t3=mn("alloy-fake-after-tabstop"),WR=o=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:o},behaviours:Ft([Zn.config({ignore:!0}),Nr.config({})])}),n3=(o,a)=>({dom:{tag:"div",classes:["tox-navobj",...o.getOr([])]},components:[WR([e3]),a,WR([t3])],behaviours:Ft([qA(1)])}),o3=(o,a)=>{Sn(o,cs(),{raw:{which:9,shiftKey:a}})},J7=(o,a)=>{const c=a.element;Vi(c,e3)?o3(o,!0):Vi(c,t3)&&o3(o,!1)},Ev=o=>_v(o,["."+e3,"."+t3].join(","),Ce),bp=mn("update-dialog"),r3=mn("update-title"),ZR=mn("update-body"),jR=mn("update-footer"),s3=mn("body-send-message"),$_=mn("dialog-focus-shifted"),a3=Ua().browser,Av=a3.isSafari(),KR=a3.isFirefox(),i3=Av||KR,qR=a3.isChromium(),Q7=({scrollTop:o,scrollHeight:a,clientHeight:c})=>Math.ceil(o)+c>=a,GR=(o,a)=>o.scrollTo(0,a==="bottom"?99999999:a),l3=(o,a,c)=>{const d=o.dom;D.from(d.contentDocument).fold(c,p=>{let v=0;const w=((E,O)=>{const L=E.body;return D.from(!/^<!DOCTYPE (html|HTML)/.test(O)&&(!qR&&!Av||$(L)&&(L.scrollTop!==0||Math.abs(L.scrollHeight-L.clientHeight)>1))?L:E.documentElement)})(p,a).map(E=>(v=E.scrollTop,E)).forall(Q7),k=()=>{const E=d.contentWindow;$(E)&&(w?GR(E,"bottom"):!w&&i3&&v!==0&&GR(E,v))};Av&&d.addEventListener("load",k,{once:!0}),p.open(),p.write(a),p.close(),Av||k()})},c3=Uo(i3,Av?500:200).map(o=>((a,c)=>{let d=null,p=null;return{cancel:()=>{N(d)||(clearTimeout(d),d=null,p=null)},throttle:(...v)=>{p=v,N(d)&&(d=setTimeout(()=>{const w=p;d=null,p=null,a.apply(null,w)},c))}}})(l3,o)),U_=mn("toolbar.button.execute"),vp=mn("common-button-display-events"),u3={[rl()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[qa()]:["toolbar-button-events",vp],[gc()]:["toolbar-button-events","dropdown-events","tooltipping"],[Tt()]:["focusing","alloy.base.behaviour",vp]},W_=o=>Qn(o.element,"width",as(o.element,"width")),YR=(o,a,c)=>Tc(o,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:c},a),O2=(o,a)=>YR(o,a,[]),yp=(o,a)=>YR(o,a,[zn.config({})]),d3=(o,a,c)=>({dom:{tag:"span",classes:[`${a}__select-label`]},components:[Cs(c.translate(o))],behaviours:Ft([zn.config({})])}),uu=mn("update-menu-text"),Zu=mn("update-menu-icon"),f3=(o,a,c,d)=>{const p=Dn(he),v=o.text.map(se=>or(d3(se,a,c.providers))),w=o.icon.map(se=>or(yp(se,c.providers.icons))),k=(se,ce)=>{const ve=rt.getValue(se);return Zn.focus(ve),Sn(ve,"keydown",{raw:ce.event.raw}),ul.close(ve),D.some(!0)},E=o.role.fold(()=>({}),se=>({role:se})),O=D.from(o.listRole).map(se=>({listRole:se})).getOr({}),L=o.ariaLabel.fold(()=>({}),se=>({"aria-label":c.providers.translate(se)})),M=Tc("chevron-down",{tag:"div",classes:[`${a}__select-chevron`]},c.providers.icons),H=mn("common-button-display-events"),q="dropdown-events";return or(ul.sketch({...o.uid?{uid:o.uid}:{},...E,...O,dom:{tag:"button",classes:[a,`${a}--select`].concat(bt(o.classes,se=>`${a}--${se}`)),attributes:{...L,...$(d)?{"data-mce-name":d}:{}}},components:hv([w.map(se=>se.asSpec()),v.map(se=>se.asSpec()),D.some(M)]),matchWidth:!0,useMinWidth:!0,onOpen:(se,ce,ve)=>{o.searchable&&(ie=>{lD(ie).each(ae=>Zn.focus(ae))})(ve)},dropdownBehaviours:Ft([...o.dropdownBehaviours,fi(()=>o.disabled||c.providers.isDisabled()),ba(),w0.config({}),zn.config({}),...o.tooltip.map(se=>Ws.config(c.providers.tooltips.getConfig({tooltipText:c.providers.translate(se)}))).toArray(),uo(q,[cp(o,p),eh(o,p)]),uo(H,[Zr((se,ce)=>o.listRole==="listbox"?he:W_(se))]),uo("menubutton-update-display-text",[xt(uu,(se,ce)=>{v.bind(ve=>ve.getOpt(se)).each(ve=>{zn.set(ve,[Cs(c.providers.translate(ce.event.text))])})}),xt(Zu,(se,ce)=>{w.bind(ve=>ve.getOpt(se)).each(ve=>{zn.set(ve,[yp(ce.event.icon,c.providers.icons)])})})])]),eventOrder:xr(u3,{[Tt()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[qa()]:["toolbar-button-events",Ws.name(),q,H]}),sandboxBehaviours:Ft([An.config({mode:"special",onLeft:k,onRight:k}),uo("dropdown-sandbox-events",[xt(sD,(se,ce)=>{(ve=>{const ie=rt.getValue(ve),ae=s2(ve).map(cD);ul.refetch(ie).get(()=>{const me=_s.getCoupled(ie,"sandbox");ae.each(ye=>s2(me).each(_e=>((Le,Xe)=>{rt.setValue(Le,Xe.fetchPattern),Le.element.dom.selectionStart=Xe.selectionStart,Le.element.dom.selectionEnd=Xe.selectionEnd})(_e,ye)))})})(se),ce.stop()}),xt(aD,(se,ce)=>{((ve,ie)=>{(ae=>T.getState(ae).bind(ar.getHighlighted).bind(ar.getHighlighted))(ve).each(ae=>{((me,ye,_e,Le)=>{const Xe={...Le,target:ye};me.getSystem().triggerEvent(_e,ye,Xe)})(ve,ae.element,ie.event.eventType,ie.event.interactionEvent)})})(se,ce),ce.stop()})])]),lazySink:c.getSink,toggleClass:`${a}--active`,parts:{menu:{...GC(0,o.columns,o.presets),fakeFocus:o.searchable,...o.listRole==="listbox"?{}:{onHighlightItem:cR,onCollapseMenu:(se,ce,ve)=>{ar.getHighlighted(ve).each(ie=>{cR(se,ve,ie)})},onDehighlightItem:w7}}},getAnchorOverrides:()=>({maxHeightFunction:(se,ce)=>{Sm()(se,ce-10)}}),fetch:se=>up(Ge(o.fetch,se))})).asSpec()},Z_=o=>o.type==="separator",j_={type:"separator"},XR=(o,a)=>{const c=((d,p)=>{const v=Rn(d,(w,k)=>(E=>h(E))(k)?k===""?w:k==="|"?w.length>0&&!Z_(w[w.length-1])?w.concat([j_]):w:po(p,k.toLowerCase())?w.concat([p[k.toLowerCase()]]):w:w.concat([k]),[]);return v.length>0&&Z_(v[v.length-1])&&v.pop(),v})(h(o)?o.split(" "):o,a);return xn(c,(d,p)=>{if((v=>po(v,"getSubmenuItems"))(p)){const v=(k=>{const E=un(k,"value").getOrThunk(()=>mn("generated-menu-item"));return xr({value:E},k)})(p),w=((k,E)=>{const O=k.getSubmenuItems(),L=XR(O,E);return{item:k,menus:xr(L.menus,{[k.value]:L.items}),expansions:xr(L.expansions,{[k.value]:k.value})}})(v,a);return{menus:xr(d.menus,w.menus),items:[w.item,...d.items],expansions:xr(d.expansions,w.expansions)}}return{...d,items:[p,...d.items]}},{menus:{},expansions:{},items:[]})},k0=(o,a,c,d)=>{const p=mn("primary-menu"),v=XR(o,c.shared.providers.menuItems());if(v.items.length===0)return D.none();const w=(M=>M.search.fold(()=>({searchMode:"no-search"}),H=>({searchMode:"search-with-field",placeholder:H.placeholder})))(d),k=uR(p,v.items,a,c,d.isHorizontalMenu,w),E=(M=>M.search.fold(()=>({searchMode:"no-search"}),H=>({searchMode:"search-with-results"})))(d),O=En(v.menus,(M,H)=>uR(H,M,a,c,!1,E)),L=xr(O,Kc(p,k));return D.from(Gg.tieredData(p,L,v.expansions))},D2=o=>!po(o,"items"),m3="data-value",K_=(o,a,c,d,p)=>bt(c,v=>D2(v)?{type:"togglemenuitem",...p?{}:{role:"option"},text:v.text,value:v.value,active:v.value===d,onAction:()=>{rt.setValue(o,v.value),Sn(o,Ki,{name:a}),Zn.focus(o)}}:{type:"nestedmenuitem",text:v.text,getSubmenuItems:()=>K_(o,a,v.items,d,p)}),q_=(o,a)=>It(o,c=>D2(c)?Uo(c.value===a,c):q_(c.items,a)),eL=ru({name:"HtmlSelect",configFields:[At("options"),gn("selectBehaviours",[Zn,rt]),et("selectClasses",[]),et("selectAttributes",{}),Bo("data")],factory:(o,a)=>{const c=bt(o.options,p=>({dom:{tag:"option",value:p.value,innerHtml:p.text}})),d=o.data.map(p=>Kc("initialValue",p)).getOr({});return{uid:o.uid,dom:{tag:"select",classes:o.selectClasses,attributes:o.selectAttributes},components:c,behaviours:co(o.selectBehaviours,[Zn.config({}),rt.config({store:{mode:"manual",getValue:p=>cf(p.element),setValue:(p,v)=>{const w=$t(o.options);J(o.options,k=>k.value===v).isSome()?bm(p.element,v):p.element.dom.selectedIndex===-1&&v===""&&w.each(k=>bm(p.element,k.value))},...d}})])}}}),JR=te([et("field1Name","field1"),et("field2Name","field2"),Nu("onLockedChange"),Ng(["lockClass"]),et("locked",!1),jn("coupledFieldBehaviours",[Vo,rt])]),g3=(o,a)=>cl({factory:ur,name:o,overrides:c=>({fieldBehaviours:Ft([uo("coupled-input-behaviour",[xt(cm(),d=>{((p,v,w)=>Mr(p,v,w).bind(Vo.getCurrent))(d,c,a).each(p=>{Mr(d,c,"lock").each(v=>{Un.isOn(v)&&c.onLockedChange(d,p,v)})})})])])})}),QR=te([g3("field1","field2"),g3("field2","field1"),cl({factory:Oi,schema:[At("dom")],name:"lock",overrides:o=>({buttonBehaviours:Ft([Un.config({selected:o.locked,toggleClass:o.markers.lockClass,aria:{mode:"pressed"}})])})})]),Rc=Cl({name:"FormCoupledInputs",configFields:JR(),partFields:QR(),factory:(o,a,c,d)=>({uid:o.uid,dom:o.dom,components:a,behaviours:$n(o.coupledFieldBehaviours,[Vo.config({find:D.some}),rt.config({store:{mode:"manual",getValue:p=>{const v=Lk(p,o,["field1","field2"]);return{[o.field1Name]:rt.getValue(v.field1()),[o.field2Name]:rt.getValue(v.field2())}},setValue:(p,v)=>{const w=Lk(p,o,["field1","field2"]);io(v,o.field1Name)&&rt.setValue(w.field1(),v[o.field1Name]),io(v,o.field2Name)&&rt.setValue(w.field2(),v[o.field2Name])}}})]),apis:{getField1:p=>Mr(p,o,"field1"),getField2:p=>Mr(p,o,"field2"),getLock:p=>Mr(p,o,"lock")}}),apis:{getField1:(o,a)=>o.getField1(a),getField2:(o,a)=>o.getField2(a),getLock:(o,a)=>o.getLock(a)}}),h3=o=>{const a=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(o);if(a!==null){const c=parseFloat(a[1]),d=a[2];return So.value({value:c,unit:d})}return So.error(o)},p3=(o,a)=>{const c={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},d=p=>po(c,p);return o.unit===a?D.some(o.value):d(o.unit)&&d(a)?c[o.unit]===c[a]?D.some(o.value):D.some(o.value/c[o.unit]*c[a]):D.none()},b3=o=>D.none(),eN=(o,a)=>{const c=o.label.map(L=>fp(L,a)),d=[Kn.config({disabled:()=>o.disabled||a.isDisabled()}),ba(),An.config({mode:"execution",useEnter:o.multiline!==!0,useControlEnter:o.multiline===!0,execute:L=>(go(L,_2),D.some(!0))}),uo("textfield-change",[xt(cm(),(L,M)=>{Sn(L,Ki,{name:o.name})}),xt(Dy(),(L,M)=>{Sn(L,Ki,{name:o.name})})]),Nr.config({})],p=o.validation.map(L=>Hm.config({getRoot:M=>ai(M.element),invalidClass:"tox-invalid",validator:{validate:M=>{const H=rt.getValue(M),q=L.validator(H);return zm(q===!0?So.value(H):So.error(q))},validateOnLoad:L.validateOnLoad}})).toArray(),v={...o.placeholder.fold(te({}),L=>({placeholder:a.translate(L)})),...o.inputMode.fold(te({}),L=>({inputmode:L})),"data-mce-name":o.name},w=ur.parts.field({tag:o.multiline===!0?"textarea":"input",...o.data.map(L=>({data:L})).getOr({}),inputAttributes:v,inputClasses:[o.classname],inputBehaviours:Ft(vr([d,p])),selectOnFocus:!1,factory:Qg}),k=o.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[w]}:w,E=(o.flex?["tox-form__group--stretched"]:[]).concat(o.maximized?["tox-form-group--maximize"]:[]),O=[Kn.config({disabled:()=>o.disabled||a.isDisabled(),onDisabled:L=>{ur.getField(L).each(Kn.disable)},onEnabled:L=>{ur.getField(L).each(Kn.enable)}}),ba()];return C2(c,k,E,O)},R2=(o,a)=>a.getAnimationRoot.fold(()=>o.element,c=>c(o)),ih=o=>o.dimension.property,xp=(o,a)=>o.dimension.getDimension(a),wp=(o,a)=>{const c=R2(o,a);Wl(c,[a.shrinkingClass,a.growingClass])},G_=(o,a)=>{ps(o.element,a.openClass),us(o.element,a.closedClass),Qn(o.element,ih(a),"0px"),yu(o.element)},v3=(o,a)=>{ps(o.element,a.closedClass),us(o.element,a.openClass),nr(o.element,ih(a))},tN=(o,a,c,d)=>{c.setCollapsed(),Qn(o.element,ih(a),xp(a,o.element)),wp(o,a),G_(o,a),a.onStartShrink(o),a.onShrunk(o)},tL=(o,a,c,d)=>{const p=d.getOrThunk(()=>xp(a,o.element));c.setCollapsed(),Qn(o.element,ih(a),p),yu(o.element);const v=R2(o,a);ps(v,a.growingClass),us(v,a.shrinkingClass),G_(o,a),a.onStartShrink(o)},nN=(o,a,c)=>{const d=xp(a,o.element);(d==="0px"?tN:tL)(o,a,c,D.some(d))},oN=(o,a,c)=>{const d=R2(o,a),p=Vi(d,a.shrinkingClass),v=xp(a,o.element);v3(o,a);const w=xp(a,o.element);(p?()=>{Qn(o.element,ih(a),v),yu(o.element)}:()=>{G_(o,a)})(),ps(d,a.shrinkingClass),us(d,a.growingClass),v3(o,a),Qn(o.element,ih(a),w),c.setExpanded(),a.onStartGrow(o)},N2=(o,a,c)=>{const d=R2(o,a);return Vi(d,a.growingClass)===!0},rN=(o,a,c)=>{const d=R2(o,a);return Vi(d,a.shrinkingClass)===!0};var sN=Object.freeze({__proto__:null,refresh:(o,a,c)=>{if(c.isExpanded()){nr(o.element,ih(a));const d=xp(a,o.element);Qn(o.element,ih(a),d)}},grow:(o,a,c)=>{c.isExpanded()||oN(o,a,c)},shrink:(o,a,c)=>{c.isExpanded()&&nN(o,a,c)},immediateShrink:(o,a,c)=>{c.isExpanded()&&tN(o,a,c)},hasGrown:(o,a,c)=>c.isExpanded(),hasShrunk:(o,a,c)=>c.isCollapsed(),isGrowing:N2,isShrinking:rN,isTransitioning:(o,a,c)=>N2(o,a)||rN(o,a),toggleGrow:(o,a,c)=>{(c.isExpanded()?nN:oN)(o,a,c)},disableTransitions:wp,immediateGrow:(o,a,c)=>{c.isExpanded()||(v3(o,a),Qn(o.element,ih(a),xp(a,o.element)),wp(o,a),c.setExpanded(),a.onStartGrow(o),a.onGrown(o))}}),nL=Object.freeze({__proto__:null,exhibit:(o,a,c)=>{const d=a.expanded;return Is(d?{classes:[a.openClass],styles:{}}:{classes:[a.closedClass],styles:Kc(a.dimension.property,"0px")})},events:(o,a)=>to([sf(ib(),(c,d)=>{d.event.raw.propertyName===o.dimension.property&&(wp(c,o),a.isExpanded()&&nr(c.element,o.dimension.property),(a.isExpanded()?o.onGrown:o.onShrunk)(c))})])}),aN=[At("closedClass"),At("openClass"),At("shrinkingClass"),At("growingClass"),Bo("getAnimationRoot"),Fo("onShrunk"),Fo("onStartShrink"),Fo("onGrown"),Fo("onStartGrow"),et("expanded",!1),Aa("dimension",Qs("property",{width:[Ir("property","width"),Ir("getDimension",o=>fa(o)+"px")],height:[Ir("property","height"),Ir("getDimension",o=>ms(o)+"px")]}))];const Nl=pa({fields:aN,name:"sliding",active:nL,apis:sN,state:Object.freeze({__proto__:null,init:o=>{const a=Dn(o.expanded);return ha({isExpanded:()=>a.get()===!0,isCollapsed:()=>a.get()===!1,setCollapsed:Ge(a.set,!1),setExpanded:Ge(a.set,!0),readState:()=>"expanded: "+a.get()})}})}),iN=o=>({isEnabled:()=>!Kn.isDisabled(o),setEnabled:a=>Kn.set(o,!a),setActive:a=>{const c=o.element;a?(us(c,"tox-tbtn--enabled"),Jt(c,"aria-pressed",!0)):(ps(c,"tox-tbtn--enabled"),fo(c,"aria-pressed"))},isActive:()=>Vi(o.element,"tox-tbtn--enabled"),setText:a=>{Sn(o,uu,{text:a})},setIcon:a=>Sn(o,Zu,{icon:a})}),Tv=(o,a,c,d,p=!0,v)=>f3({text:o.text,icon:o.icon,tooltip:o.tooltip,ariaLabel:o.tooltip,searchable:o.search.isSome(),role:d,fetch:(w,k)=>{const E={pattern:o.search.isSome()?x0(w):""};o.fetch(O=>{k(k0(O,Tf.CLOSE_ON_EXECUTE,c,{isHorizontalMenu:!1,search:o.search}))},E,iN(w))},onSetup:o.onSetup,getApi:iN,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...p?[Nr.config({})]:[]]},a,c.shared,v),lN=(o,a,c)=>{const d=v=>w=>{const k=!w.isActive();w.setActive(k),v.storage.set(k),c.shared.getSink().each(E=>{a().getOpt(E).each(O=>{Ei(O.element),Sn(O,Df,{name:v.name,value:v.storage.get()})})})},p=v=>w=>{w.setActive(v.storage.get())};return v=>{v(bt(o,w=>{const k=w.text.fold(()=>({}),E=>({text:E}));return{type:w.type,active:!1,...k,onAction:d(w),onSetup:p(w)}}))}},y3=o=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":o}},components:[Cs(o)]}),x3=mn("leaf-label-event-id"),w3=({leaf:o,onLeafAction:a,visible:c,treeId:d,selectedId:p,backstage:v})=>{const w=o.menu.map(E=>Tv(E,"tox-mbtn",v,D.none(),c)),k=[y3(o.title)];return w.each(E=>k.push(E)),Oi.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(c?["tox-tree--leaf__label--visible"]:[])},components:k,role:"treeitem",action:E=>{a(o.id),E.getSystem().broadcastOn([`update-active-item-${d}`],{value:o.id})},eventOrder:{[cs()]:[x3,"keying"]},buttonBehaviours:Ft([...c?[Nr.config({})]:[],Un.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),il.config({channels:{[`update-active-item-${d}`]:{onReceive:(E,O)=>{(O.value===o.id?Un.on:Un.off)(E)}}}}),uo(x3,[Zr((E,O)=>{p.each(L=>{(L===o.id?Un.on:Un.off)(E)})}),xt(cs(),(E,O)=>{const L=O.event.raw.code==="ArrowLeft",M=O.event.raw.code==="ArrowRight";L?(ym(E.element,".tox-tree--directory").each(H=>{E.getSystem().getByDom(H).each(q=>{N1(H,".tox-tree--directory__label").each(Y=>{q.getSystem().getByDom(Y).each(Zn.focus)})})}),O.stop()):M&&O.stop()})])])})},cN=mn("directory-label-event-id"),oL=({directory:o,visible:a,noChildren:c,backstage:d})=>{const p=o.menu.map(O=>Tv(O,"tox-mbtn",d,D.none())),v=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(w="chevron-right",k=d.shared.providers.icons,((O,L,M)=>Tc(O,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},L))(w,k))]},y3(o.title)];var w,k;p.each(O=>{v.push(O)});const E=O=>{ym(O.element,".tox-tree--directory").each(L=>{O.getSystem().getByDom(L).each(M=>{const H=!Un.isOn(M);Un.toggle(M),Sn(O,"expand-tree-node",{expanded:H,node:o.id})})})};return Oi.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(a?["tox-tree--directory__label--visible"]:[])},components:v,action:E,eventOrder:{[cs()]:[cN,"keying"]},buttonBehaviours:Ft([...a?[Nr.config({})]:[],uo(cN,[xt(cs(),(O,L)=>{const M=L.event.raw.code==="ArrowRight",H=L.event.raw.code==="ArrowLeft";M&&c&&L.stop(),(M||H)&&ym(O.element,".tox-tree--directory").each(q=>{O.getSystem().getByDom(q).each(Y=>{!Un.isOn(Y)&&M||Un.isOn(Y)&&H?(E(O),L.stop()):H&&!Un.isOn(Y)&&(ym(Y.element,".tox-tree--directory").each(se=>{N1(se,".tox-tree--directory__label").each(ce=>{Y.getSystem().getByDom(ce).each(Zn.focus)})}),L.stop())})})})])])})},rL=({children:o,onLeafAction:a,visible:c,treeId:d,expandedIds:p,selectedId:v,backstage:w})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:o.map(k=>k.type==="leaf"?w3({leaf:k,selectedId:v,onLeafAction:a,visible:c,treeId:d,backstage:w}):Y_({directory:k,expandedIds:p,selectedId:v,onLeafAction:a,labelTabstopping:c,treeId:d,backstage:w})),behaviours:Ft([Nl.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:c}),zn.config({})])}),uN=mn("directory-event-id"),Y_=({directory:o,onLeafAction:a,labelTabstopping:c,treeId:d,backstage:p,expandedIds:v,selectedId:w})=>{const{children:k}=o,E=Dn(v),O=v.includes(o.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[oL({directory:o,visible:c,noChildren:o.children.length===0,backstage:p}),rL({children:k,expandedIds:v,selectedId:w,onLeafAction:a,visible:O,treeId:d,backstage:p})],behaviours:Ft([uo(uN,[Zr((L,M)=>{Un.set(L,O)}),xt("expand-tree-node",(L,M)=>{const{expanded:H,node:q}=M.event;E.set(H?[...E.get(),q]:E.get().filter(Y=>Y!==q))})]),Un.config({...o.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(L,M)=>{const H=L.components()[1],q=(Y=M,k.map(se=>se.type==="leaf"?w3({leaf:se,selectedId:w,onLeafAction:a,visible:Y,treeId:d,backstage:p}):Y_({directory:se,expandedIds:E.get(),selectedId:w,onLeafAction:a,labelTabstopping:Y,treeId:d,backstage:p})));var Y;M?Nl.grow(H):Nl.shrink(H),zn.set(H,q)}})])}},sL=mn("tree-event-id");var aL=Object.freeze({__proto__:null,events:(o,a)=>{const c=o.stream.streams.setup(o,a);return to([xt(o.event,c),Ru(()=>a.cancel())].concat(o.cancelEvent.map(d=>[xt(d,()=>a.cancel())]).getOr([])))}});const dN=o=>{const a=Dn(null);return ha({readState:()=>({timer:a.get()!==null?"set":"unset"}),setTimer:c=>{a.set(c)},cancel:()=>{const c=a.get();c!==null&&c.cancel()}})};var iL=Object.freeze({__proto__:null,throttle:dN,init:o=>o.stream.streams.state(o)}),lL=[Aa("stream",Qs("mode",{throttle:[At("delay"),et("stopEvent",!0),Ir("streams",{setup:(o,a)=>{const c=o.stream,d=QA(o.onStream,c.delay);return a.setTimer(d),(p,v)=>{d.throttle(p,v),c.stopEvent&&v.stop()}},state:dN})]})),et("event","input"),Bo("cancelEvent"),Nu("onStream")];const C3=pa({fields:lL,name:"streaming",active:aL,state:iL}),X_=(o,a,c)=>{const d=rt.getValue(c);rt.setValue(a,d),_3(a)},J_=(o,a)=>{const c=o.element,d=cf(c),p=c.dom;Co(c,"type")!=="number"&&a(p,d)},_3=o=>{J_(o,(a,c)=>a.setSelectionRange(c.length,c.length))},S3=te("alloy.typeahead.itemexecute"),cL=te([Bo("lazySink"),At("fetch"),et("minChars",5),et("responseTime",1e3),Fo("onOpen"),et("getHotspot",D.some),et("getAnchorOverrides",te({})),et("layouts",D.none()),et("eventOrder",{}),ki("model",{},[et("getDisplayText",o=>o.meta!==void 0&&o.meta.text!==void 0?o.meta.text:o.value),et("selectsOver",!0),et("populateFromBrowse",!0)]),Fo("onSetValue"),sl("onExecute"),Fo("onItemExecute"),et("inputClasses",[]),et("inputAttributes",{}),et("inputStyles",{}),et("matchWidth",!0),et("useMinWidth",!1),et("dismissOnBlur",!0),Ng(["openClass"]),Bo("initialData"),Bo("listRole"),gn("typeaheadBehaviours",[Zn,rt,C3,An,Un,_s]),Ea("lazyTypeaheadComp",()=>Dn(D.none)),Ea("previewing",()=>Dn(!0))].concat(ZP()).concat(vA())),fN=te([wd({schema:[Rg()],name:"menu",overrides:o=>({fakeFocus:!0,onHighlightItem:(a,c,d)=>{o.previewing.get()?o.lazyTypeaheadComp.get().each(p=>{((v,w,k)=>{if(v.selectsOver){const E=rt.getValue(w),O=v.getDisplayText(E),L=rt.getValue(k);return v.getDisplayText(L).indexOf(O)===0?D.some(()=>{X_(0,w,k),((M,H)=>{J_(M,(q,Y)=>q.setSelectionRange(H,Y.length))})(w,O.length)}):D.none()}return D.none()})(o.model,p,d).fold(()=>{o.model.selectsOver?(ar.dehighlight(c,d),o.previewing.set(!0)):o.previewing.set(!1)},v=>{v(),o.previewing.set(!1)})}):o.lazyTypeaheadComp.get().each(p=>{o.model.populateFromBrowse&&X_(o.model,p,d),Io(d.element,"id").each(v=>Jt(p.element,"aria-activedescendant",v))})},onExecute:(a,c)=>o.lazyTypeaheadComp.get().map(d=>(Sn(d,S3(),{item:c}),!0)),onHover:(a,c)=>{o.previewing.set(!1),o.lazyTypeaheadComp.get().each(d=>{o.model.populateFromBrowse&&X_(o.model,d,c)})}})})]),uL=Cl({name:"Typeahead",configFields:cL(),partFields:fN(),factory:(o,a,c,d)=>{const p=(M,H,q)=>{o.previewing.set(!1);const Y=_s.getCoupled(M,"sandbox");if(T.isOpen(Y))Vo.getCurrent(Y).each(se=>{ar.getHighlighted(se).fold(()=>{q(se)},()=>{pc(Y,se.element,"keydown",H)})});else{const se=ce=>{Vo.getCurrent(ce).each(q)};m_(o,w(M),M,Y,d,se,ji.HighlightMenuAndItem).get(he)}},v=jP(o),w=M=>H=>H.map(q=>{const Y=vi(q.menus),se=Ko(Y,ce=>ho(ce.items,ve=>ve.type==="item"));return rt.getState(M).update(bt(se,ce=>ce.data)),q}),k=M=>Vo.getCurrent(M),E="typeaheadevents",O=[Zn.config({}),rt.config({onSetValue:o.onSetValue,store:{mode:"dataset",getDataKey:M=>cf(M.element),getFallbackEntry:M=>({value:M,meta:{}}),setValue:(M,H)=>{bm(M.element,o.model.getDisplayText(H))},...o.initialData.map(M=>Kc("initialValue",M)).getOr({})}}),C3.config({stream:{mode:"throttle",delay:o.responseTime,stopEvent:!1},onStream:(M,H)=>{const q=_s.getCoupled(M,"sandbox");if(Zn.isFocused(M)&&cf(M.element).length>=o.minChars){const Y=k(q).bind(ce=>ar.getHighlighted(ce).map(rt.getValue));o.previewing.set(!0);const se=ce=>{k(q).each(ve=>{Y.fold(()=>{o.model.selectsOver&&ar.highlightFirst(ve)},ie=>{ar.highlightBy(ve,ae=>rt.getValue(ae).value===ie.value),ar.getHighlighted(ve).orThunk(()=>(ar.highlightFirst(ve),D.none()))})})};m_(o,w(M),M,q,d,se,ji.HighlightJustMenu).get(he)}},cancelEvent:ud()}),An.config({mode:"special",onDown:(M,H)=>(p(M,H,ar.highlightFirst),D.some(!0)),onEscape:M=>{const H=_s.getCoupled(M,"sandbox");return T.isOpen(H)?(T.close(H),D.some(!0)):D.none()},onUp:(M,H)=>(p(M,H,ar.highlightLast),D.some(!0)),onEnter:M=>{const H=_s.getCoupled(M,"sandbox"),q=T.isOpen(H);if(q&&!o.previewing.get())return k(H).bind(Y=>ar.getHighlighted(Y)).map(Y=>(Sn(M,S3(),{item:Y}),!0));{const Y=rt.getValue(M);return go(M,ud()),o.onExecute(H,M,Y),q&&T.close(H),D.some(!0)}}}),Un.config({toggleClass:o.markers.openClass,aria:{mode:"expanded"}}),_s.config({others:{sandbox:M=>bA(o,M,{onOpen:()=>Un.on(M),onClose:()=>{o.lazyTypeaheadComp.get().each(H=>fo(H.element,"aria-activedescendant")),Un.off(M)}})}}),uo(E,[Zr(M=>{o.lazyTypeaheadComp.set(D.some(M))}),Ru(M=>{o.lazyTypeaheadComp.set(D.none())}),Yc(M=>{const H=he;hA(o,w(M),M,d,H,ji.HighlightMenuAndItem).get(he)}),xt(S3(),(M,H)=>{const q=_s.getCoupled(M,"sandbox");X_(o.model,M,H.event.item),go(M,ud()),o.onItemExecute(M,q,H.event.item,rt.getValue(M)),T.close(q),_3(M)})].concat(o.dismissOnBlur?[xt(Oh(),M=>{const H=_s.getCoupled(M,"sandbox");Ps(H.element).isNone()&&T.close(H)})]:[]))],L={[gc()]:[rt.name(),C3.name(),E],...o.eventOrder};return{uid:o.uid,dom:rD(xr(o,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...v,...co(o.typeaheadBehaviours,O)},eventOrder:L}}}),E0=o=>({...o,toCached:()=>E0(o.toCached()),bindFuture:a=>E0(o.bind(c=>c.fold(d=>zm(So.error(d)),d=>a(d)))),bindResult:a=>E0(o.map(c=>c.bind(a))),mapResult:a=>E0(o.map(c=>c.map(a))),mapError:a=>E0(o.map(c=>c.mapError(a))),foldResult:(a,c)=>o.map(d=>d.fold(a,c)),withTimeout:(a,c)=>E0(up(d=>{let p=!1;const v=setTimeout(()=>{p=!0,d(So.error(c()))},a);o.get(w=>{p||(clearTimeout(v),d(w))})}))}),mN=o=>E0(up(o)),I2=(o,a,c=[],d,p,v,w)=>{const k=a.fold(()=>({}),L=>({action:L})),E={buttonBehaviours:Ft([fi(()=>!o.enabled||w.isDisabled()),ba(),Nr.config({}),...v.map(L=>Ws.config(w.tooltips.getConfig({tooltipText:w.translate(L)}))).toArray(),uo("button press",[$w("click")])].concat(c)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...k},O=xr(E,{dom:d});return xr(O,{components:p})},gN=(o,a,c,d=[],p)=>{const v={tag:"button",classes:["tox-tbtn"],attributes:{...o.tooltip.map(E=>({"aria-label":c.translate(E)})).getOr({}),"data-mce-name":p}},w=o.icon.map(E=>O2(E,c.icons)),k=hv([w]);return I2(o,a,d,v,k,o.tooltip,c)},k3=o=>{switch(o){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},hN=(o,a,c,d=[],p=[])=>{const v=c.translate(o.text),w=o.icon.map(M=>O2(M,c.icons)),k=[w.getOrThunk(()=>Cs(v))],E=o.buttonType.getOr(o.primary||o.borderless?"primary":"secondary"),O={tag:"button",classes:[...k3(E),...w.isSome()?["tox-button--icon"]:[],...o.borderless?["tox-button--naked"]:[],...p],attributes:{"aria-label":v,"data-mce-name":o.text}},L=o.icon.map(te(v));return I2(o,a,d,O,k,L,c)},pN=(o,a,c,d=[],p=[])=>{const v=hN(o,D.some(a),c,d,p);return Oi.sketch(v)},E3=(o,a)=>c=>{a==="custom"?Sn(c,Df,{name:o,value:{}}):a==="submit"?go(c,_2):a==="cancel"?go(c,oh):console.error("Unknown button type: ",a)},Ov=(o,a,c)=>{if(((d,p)=>p==="menu")(0,a)){const d=()=>w,p=o,v={...o,type:"menubutton",search:D.none(),onSetup:k=>(k.setEnabled(o.enabled),he),fetch:lN(p.items,d,c)},w=or(Tv(v,"tox-tbtn",c,D.none(),!0,o.text.or(o.tooltip).getOrUndefined()));return w.asSpec()}if(((d,p)=>p==="custom"||p==="cancel"||p==="submit")(0,a)){const d=E3(o.name,a),p={...o,borderless:!1};return pN(p,d,c.shared.providers,[])}if(((d,p)=>p==="togglebutton")(0,a))return((d,p,v)=>{var w,k;const E=d.icon.map(ae=>yp(ae,p.icons)).map(or),O=d.buttonType.getOr(d.primary?"primary":"secondary"),L={...d,name:(w=d.name)!==null&&w!==void 0?w:"",primary:O==="primary",tooltip:d.tooltip,enabled:(k=d.enabled)!==null&&k!==void 0&&k,borderless:!1},M=L.tooltip.or(d.text).map(ae=>({"aria-label":p.translate(ae)})).getOr({}),H=k3(O??"secondary"),q=d.icon.isSome()&&d.text.isSome(),Y={tag:"button",classes:[...H.concat(d.icon.isSome()?["tox-button--icon"]:[]),...d.active?["tox-button--enabled"]:[],...q?["tox-button--icon-and-text"]:[]],attributes:{...M,...$(v)?{"data-mce-name":v}:{}}},se=p.translate(d.text.getOr("")),ce=Cs(se),ve=[...hv([E.map(ae=>ae.asSpec())]),...d.text.isSome()?[ce]:[]],ie=I2(L,D.some(ae=>{Sn(ae,Df,{name:d.name,value:{setIcon:me=>{E.map(ye=>ye.getOpt(ae).each(_e=>{zn.set(_e,[yp(me,p.icons)])}))}}})}),[],Y,ve,d.tooltip,p);return Oi.sketch(ie)})(o,c.shared.providers,o.text.or(o.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",a),new Error("Unknown footer button type")},dL={type:"separator"},fL=o=>({type:"menuitem",value:o.url,text:o.title,meta:{attach:o.attach},onAction:he}),A3=(o,a)=>({type:"menuitem",value:a,text:o,meta:{attach:void 0},onAction:he}),bN=(o,a)=>(c=>bt(c,fL))(((c,d)=>ho(d,p=>p.type===c))(o,a)),mL=o=>bN("header",o.targets),gL=o=>bN("anchor",o.targets),vN=o=>D.from(o.anchorTop).map(a=>A3("<top>",a)).toArray(),yN=o=>D.from(o.anchorBottom).map(a=>A3("<bottom>",a)).toArray(),T3=(o,a)=>{const c=o.toLowerCase();return ho(a,d=>{var p;const v=d.meta!==void 0&&d.meta.text!==void 0?d.meta.text:d.text,w=(p=d.value)!==null&&p!==void 0?p:"";return Hs(v.toLowerCase(),c)||Hs(w.toLowerCase(),c)})},xN=mn("aria-invalid"),hL=(o,a)=>{o.dom.checked=a},Nc=o=>o.dom.checked,ss=o=>(a,c,d,p,v)=>un(c,"name").fold(()=>o(c,p,D.none(),v),w=>a.field(w,o(c,p,un(d,w),v))),pL={bar:ss((o,a)=>((c,d)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:bt(c.items,d.interpreter)}))(o,a.shared)),collection:ss((o,a,c)=>pR(o,a.shared.providers,c)),alertbanner:ss((o,a)=>((c,d)=>{const p=G5(c.icon,d.icons);return kd.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${c.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:c.url?void 0:p},components:c.url?[Oi.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:p,attributes:{title:d.translate(c.iconTooltip)}},action:v=>Sn(v,Df,{name:"alert-banner",value:c.url}),buttonBehaviours:Ft([jC()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:d.translate(c.text)}}]})})(o,a.shared.providers)),input:ss((o,a,c)=>((d,p,v)=>eN({name:d.name,multiline:!1,label:d.label,inputMode:d.inputMode,placeholder:d.placeholder,flex:!1,disabled:!d.enabled,classname:"tox-textfield",validation:D.none(),maximized:d.maximized,data:v},p))(o,a.shared.providers,c)),textarea:ss((o,a,c)=>((d,p,v)=>eN({name:d.name,multiline:!0,label:d.label,inputMode:D.none(),placeholder:d.placeholder,flex:!0,disabled:!d.enabled,classname:"tox-textarea",validation:D.none(),maximized:d.maximized,data:v},p))(o,a.shared.providers,c)),label:ss((o,a,c,d)=>((p,v,w)=>{const k="tox-label",E=p.align==="center"?[`${k}--center`]:[],O=p.align==="end"?[`${k}--end`]:[],L=or({dom:{tag:"label",classes:[k,...E,...O]},components:[Cs(v.providers.translate(p.label))]}),M=bt(p.items,v.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[L.asSpec(),...M],behaviours:Ft([Wm(),zn.config({}),(H=D.none(),XA(H,md,Tg)),An.config({mode:"acyclic"}),uo("label",[Zr(q=>{p.for.each(Y=>{w(Y).each(se=>{L.getOpt(q).each(ce=>{var ve;const ie=(ve=Co(se.element,"id"))!==null&&ve!==void 0?ve:mn("form-field");Jt(se.element,"id",ie),Jt(ce.element,"for",ie)})})})})])])};var H})(o,a.shared,d)),iframe:(G3=(o,a,c)=>((d,p,v)=>{const w="tox-dialog__iframe",k=d.transparent?[]:[`${w}--opaque`],E=d.border?["tox-navobj-bordered"]:[],O={...d.label.map(q=>({title:q})).getOr({}),...v.map(q=>({srcdoc:q})).getOr({}),...d.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},L=((q,Y)=>{const se=Dn(q.getOr(""));return{getValue:ce=>se.get(),setValue:(ce,ve)=>{if(se.get()!==ve){const ie=ce.element,ae=()=>Jt(ie,"srcdoc",ve);Y?c3.fold(te(l3),me=>me.throttle)(ie,ve,ae):ae()}se.set(ve)}}})(v,d.streamContent),M=d.label.map(q=>fp(q,p)),H=ur.parts.field({factory:{sketch:q=>n3(D.from(E),{uid:q.uid,dom:{tag:"iframe",attributes:O,classes:[w,...k]},behaviours:Ft([Nr.config({}),Zn.config({}),S0(v,L.getValue,L.setValue),il.config({channels:{[$_]:{onReceive:(Y,se)=>{se.newFocus.each(ce=>{ai(Y.element).each(ve=>{(Wo(Y.element,ce)?us:ps)(ve,"tox-navobj-bordered-focus")})})}}}})])})}});return C2(M,H,["tox-form__group--stretched"],[])})(o,a.shared.providers,c),(o,a,c,d,p)=>{const v=xr(a,{source:"dynamic"});return ss(G3)(o,v,c,d,p)}),button:ss((o,a)=>((c,d)=>{const p=E3(c.name,"custom");return v=D.none(),w=ur.parts.field({factory:Oi,...hN(c,D.some(p),d,[T2(""),Wm()])}),C2(v,w,[],[]);var v,w})(o,a.shared.providers)),checkbox:ss((o,a,c)=>((d,p,v)=>{const w=M=>(M.element.dom.click(),D.some(!0)),k=ur.parts.field({factory:{sketch:Ae},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Ft([Wm(),Kn.config({disabled:()=>!d.enabled||p.isDisabled(),onDisabled:M=>{ai(M.element).each(H=>us(H,"tox-checkbox--disabled"))},onEnabled:M=>{ai(M.element).each(H=>ps(H,"tox-checkbox--disabled"))}}),Nr.config({}),Zn.config({}),XA(v,Nc,hL),An.config({mode:"special",onEnter:w,onSpace:w,stopSpaceKeyup:!0}),uo("checkbox-events",[xt(um(),(M,H)=>{Sn(M,Ki,{name:d.name})})])])}),E=ur.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Cs(p.translate(d.label))],behaviours:Ft([w0.config({})])}),O=M=>Tc(M==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+M]},p.icons),L=or({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[O("checked"),O("unchecked")]});return ur.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[k,L.asSpec(),E],fieldBehaviours:Ft([Kn.config({disabled:()=>!d.enabled||p.isDisabled()}),ba()])})})(o,a.shared.providers,c)),colorinput:ss((o,a,c)=>((d,p,v,w)=>{const k=ur.parts.field({factory:Qg,inputClasses:["tox-textfield"],data:w,onSetValue:M=>Hm.run(M).get(he),inputBehaviours:Ft([Kn.config({disabled:p.providers.isDisabled}),ba(),Nr.config({}),Hm.config({invalidClass:"tox-textbox-field-invalid",getRoot:M=>ai(M.element),notify:{onValid:M=>{const H=rt.getValue(M);Sn(M,AA,{color:H})}},validator:{validateOnLoad:!1,validate:M=>{const H=rt.getValue(M);if(H.length===0)return zm(So.value(!0));{const q=da("span");Qn(q,"background-color",H);const Y=Ts(q,"background-color").fold(()=>So.error("blah"),se=>So.value(H));return zm(Y)}}}})]),selectOnFocus:!1}),E=d.label.map(M=>fp(M,p.providers)),O=(M,H)=>{Sn(M,TA,{value:H})},L=or(((M,H)=>ul.sketch({dom:M.dom,components:M.components,toggleClass:"mce-active",dropdownBehaviours:Ft([fi(H.providers.isDisabled),ba(),w0.config({}),Nr.config({})]),layouts:M.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:H.getSink,fetch:q=>up(Y=>M.fetch(Y)).map(Y=>D.from(yA(xr(y0(mn("menu-value"),Y,se=>{M.onItemAction(q,se)},M.columns,M.presets,Tf.CLOSE_ON_EXECUTE,Ce,H.providers),{movement:b2(M.columns,M.presets)})))),parts:{menu:GC(0,0,M.presets)}}))({dom:{tag:"span",attributes:{"aria-label":p.providers.translate("Color swatch")}},layouts:{onRtl:()=>[vs,bs,Ms],onLtr:()=>[bs,vs,Ms]},components:[],fetch:YD(v.getColors(d.storageKey),d.storageKey,v.hasCustomColors()),columns:v.getColorCols(d.storageKey),presets:"color",onItemAction:(M,H)=>{L.getOpt(M).each(q=>{H==="custom"?v.colorPicker(Y=>{Y.fold(()=>go(q,wR),se=>{O(q,se),tA(d.storageKey,se)})},"#ffffff"):O(q,H==="remove"?"":H)})}},p));return ur.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:E.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[k,L.asSpec()]}]),fieldBehaviours:Ft([uo("form-field-events",[xt(AA,(M,H)=>{L.getOpt(M).each(q=>{Qn(q.element,"background-color",H.event.color)}),Sn(M,Ki,{name:d.name})}),xt(TA,(M,H)=>{ur.getField(M).each(q=>{rt.setValue(q,H.event.value),Vo.getCurrent(M).each(Zn.focus)})}),xt(wR,(M,H)=>{ur.getField(M).each(q=>{Vo.getCurrent(M).each(Zn.focus)})})])])})})(o,a.shared,a.colorinput,c)),colorpicker:ss((o,a,c)=>((d,p,v)=>{const w=O=>"tox-"+O,k=$R((O=>L=>h(L)?O.translate(X7[L]):O.translate(L))(p),w,p.tooltips.getConfig,(O,L,M=O,H=O)=>Tc(M,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+O],attributes:{title:p.translate(H),"aria-live":"polite",...L.fold(()=>({}),q=>({id:q}))}},p.icons)),E=or(k.sketch({dom:{tag:"div",classes:[w("color-picker-container")],attributes:{role:"presentation"}},onValidHex:O=>{Sn(O,Df,{name:"hex-valid",value:!0})},onInvalidHex:O=>{Sn(O,Df,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[E.asSpec()],behaviours:Ft([S0(v,O=>{const L=E.get(O);return Vo.getCurrent(L).bind(M=>rt.getValue(M).hex).map(M=>"#"+Or(M,"#")).getOr("")},(O,L)=>{const M=D.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(L)).bind(q=>St(q,1)),H=E.get(O);Vo.getCurrent(H).fold(()=>{console.log("Can not find form")},q=>{rt.setValue(q,{hex:M.getOr("")}),pp.getField(q,"hex").each(Y=>{go(Y,cm())})})}),Wm()])}})(0,a.shared.providers,c)),dropzone:ss((o,a,c)=>((d,p,v)=>{const w=(Y,se)=>{se.stop()},k=Y=>(se,ce)=>{Zt(Y,ve=>{ve(se,ce)})},E=(Y,se)=>{var ce;if(!Kn.isDisabled(Y)){const ve=se.event.raw;L(Y,(ce=ve.dataTransfer)===null||ce===void 0?void 0:ce.files)}},O=(Y,se)=>{const ce=se.event.raw.target;L(Y,ce.files)},L=(Y,se)=>{se&&(rt.setValue(Y,((ce,ve)=>{const ie=ah.explode(ve.getOption("images_file_types"));return ho(zt(ce),ae=>On(ie,me=>hu(ae.name.toLowerCase(),`.${me.toLowerCase()}`)))})(se,p)),Sn(Y,Ki,{name:d.name}))},M=or({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Ft([uo("input-file-events",[dm(ea()),dm(Qd())])])}),H=d.label.map(Y=>fp(Y,p)),q=ur.parts.field({factory:{sketch:Y=>({uid:Y.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Ft([T2(v.getOr([])),Wm(),Kn.config({}),Un.config({toggleClass:"dragenter",toggleOnExecute:!1}),uo("dropzone-events",[xt("dragenter",k([w,Un.toggle])),xt("dragleave",k([w,Un.toggle])),xt("dragover",w),xt("drop",k([w,E])),xt(um(),O)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Cs(p.translate("Drop an image here"))]},Oi.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Cs(p.translate("Browse for an image")),M.asSpec()],action:se=>{M.get(se).element.dom.click()},buttonBehaviours:Ft([Nr.config({}),fi(p.isDisabled),ba()])})]}]})}});return C2(H,q,["tox-form__group--stretched"],[])})(o,a.shared.providers,c)),grid:ss((o,a)=>((c,d)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${c.columns}col`]},components:bt(c.items,d.interpreter)}))(o,a.shared)),listbox:ss((o,a,c)=>((d,p,v)=>{const w=On(d.items,H=>!D2(H)),k=p.shared.providers,E=v.bind(H=>q_(d.items,H)).orThunk(()=>$t(d.items).filter(D2)),O=d.label.map(H=>fp(H,k)),L=ur.parts.field({dom:{},factory:{sketch:H=>f3({uid:H.uid,text:E.map(q=>q.text),icon:D.none(),tooltip:D.none(),role:Uo(!w,"combobox"),...w?{}:{listRole:"listbox"},ariaLabel:d.label,fetch:(q,Y)=>{const se=K_(q,d.name,d.items,rt.getValue(q),w);Y(k0(se,Tf.CLOSE_ON_EXECUTE,p,{isHorizontalMenu:!1,search:D.none()}))},onSetup:te(he),getApi:te({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Nr.config({}),S0(E.map(q=>q.value),q=>Co(q.element,m3),(q,Y)=>{q_(d.items,Y).each(se=>{Jt(q.element,m3,se.value),Sn(q,uu,{text:se.text})})})]},"tox-listbox",p.shared)}}),M={dom:{tag:"div",classes:["tox-listboxfield"]},components:[L]};return ur.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:vr([O.toArray(),[M]]),fieldBehaviours:Ft([Kn.config({disabled:te(!d.enabled),onDisabled:H=>{ur.getField(H).each(Kn.disable)},onEnabled:H=>{ur.getField(H).each(Kn.enable)}})])})})(o,a,c)),selectbox:ss((o,a,c)=>((d,p,v)=>{const w=bt(d.items,M=>({text:p.translate(M.text),value:M.value})),k=d.label.map(M=>fp(M,p)),E=ur.parts.field({dom:{},...v.map(M=>({data:M})).getOr({}),selectAttributes:{size:d.size},options:w,factory:eL,selectBehaviours:Ft([Kn.config({disabled:()=>!d.enabled||p.isDisabled()}),Nr.config({}),uo("selectbox-change",[xt(um(),(M,H)=>{Sn(M,Ki,{name:d.name})})])])}),O=d.size>1?D.none():D.some(Tc("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},p.icons)),L={dom:{tag:"div",classes:["tox-selectfield"]},components:vr([[E],O.toArray()])};return ur.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:vr([k.toArray(),[L]]),fieldBehaviours:Ft([Kn.config({disabled:()=>!d.enabled||p.isDisabled(),onDisabled:M=>{ur.getField(M).each(Kn.disable)},onEnabled:M=>{ur.getField(M).each(Kn.enable)}}),ba()])})})(o,a.shared.providers,c)),sizeinput:ss((o,a)=>((c,d)=>{let p=b3;const v=mn("ratio-event"),w=se=>Tc(se,{tag:"span",classes:["tox-icon","tox-lock-icon__"+se]},d.icons),k=c.label.getOr("Constrain proportions"),E=d.translate(k),O=Rc.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":E,"data-mce-name":k}},components:[w("lock"),w("unlock")],buttonBehaviours:Ft([Kn.config({disabled:()=>!c.enabled||d.isDisabled()}),ba(),Nr.config({}),Ws.config(d.tooltips.getConfig({tooltipText:E}))])}),L=se=>({dom:{tag:"div",classes:["tox-form__group"]},components:se}),M=se=>ur.parts.field({factory:Qg,inputClasses:["tox-textfield"],inputBehaviours:Ft([Kn.config({disabled:()=>!c.enabled||d.isDisabled()}),ba(),Nr.config({}),uo("size-input-events",[xt(Qo(),(ce,ve)=>{Sn(ce,v,{isField1:se})}),xt(um(),(ce,ve)=>{Sn(ce,Ki,{name:c.name})})])]),selectOnFocus:!1}),H=se=>({dom:{tag:"label",classes:["tox-label"]},components:[Cs(d.translate(se))]}),q=Rc.parts.field1(L([ur.parts.label(H("Width")),M(!0)])),Y=Rc.parts.field2(L([ur.parts.label(H("Height")),M(!1)]));return Rc.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[q,Y,L([H(""),O])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(se,ce,ve)=>{h3(rt.getValue(se)).each(ie=>{p(ie).each(ae=>{rt.setValue(ce,(me=>{const ye={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let _e=me.value.toFixed((Le=me.unit)in ye?ye[Le]:1);var Le;return _e.indexOf(".")!==-1&&(_e=_e.replace(/\.?0*$/,"")),_e+me.unit})(ae))})})},coupledFieldBehaviours:Ft([Kn.config({disabled:()=>!c.enabled||d.isDisabled(),onDisabled:se=>{Rc.getField1(se).bind(ur.getField).each(Kn.disable),Rc.getField2(se).bind(ur.getField).each(Kn.disable),Rc.getLock(se).each(Kn.disable)},onEnabled:se=>{Rc.getField1(se).bind(ur.getField).each(Kn.enable),Rc.getField2(se).bind(ur.getField).each(Kn.enable),Rc.getLock(se).each(Kn.enable)}}),ba(),uo("size-input-events2",[xt(v,(se,ce)=>{const ve=ce.event.isField1,ie=ve?Rc.getField1(se):Rc.getField2(se),ae=ve?Rc.getField2(se):Rc.getField1(se),me=ie.map(rt.getValue).getOr(""),ye=ae.map(rt.getValue).getOr("");p=((_e,Le)=>{const Xe=h3(_e).toOptional(),_t=h3(Le).toOptional();return Vt(Xe,_t,(vt,gt)=>p3(vt,gt.unit).map(Bt=>gt.value/Bt).map(Bt=>{return sn=Bt,vn=gt.unit,In=>p3(In,vn).map(qn=>({value:qn*sn,unit:vn}));var sn,vn}).getOr(b3)).getOr(b3)})(me,ye)})])])})})(o,a.shared.providers)),slider:ss((o,a,c)=>((d,p,v)=>{const w=Ad.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Cs(p.translate(d.label))]}),k=Ad.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),E=Ad.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Ad.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:d.min,maxX:d.max,getInitialValue:te(v.getOrThunk(()=>(Math.abs(d.max)-Math.abs(d.min))/2))},components:[w,k,E],sliderBehaviours:Ft([Wm(),Zn.config({})]),onChoose:(O,L,M)=>{Sn(O,Ki,{name:d.name,value:M})},onChange:(O,L,M)=>{Sn(O,Ki,{name:d.name,value:M})}})})(o,a.shared.providers,c)),urlinput:ss((o,a,c)=>((d,p,v,w)=>{const k=p.shared.providers,E=ie=>{const ae=rt.getValue(ie);v.addToHistory(ae.value,d.filetype)},O={...w.map(ie=>({initialData:ie})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":xN,type:"url"},minChars:0,responseTime:0,fetch:ie=>{const ae=((ye,_e,Le)=>{var Xe,_t;const vt=rt.getValue(_e),gt=(_t=(Xe=vt==null?void 0:vt.meta)===null||Xe===void 0?void 0:Xe.text)!==null&&_t!==void 0?_t:vt.value;return Le.getLinkInformation().fold(()=>[],Bt=>{const sn=T3(gt,(In=>bt(In,qn=>A3(qn,qn)))(Le.getHistory(ye)));return ye==="file"?(vn=[sn,T3(gt,mL(Bt)),T3(gt,vr([vN(Bt),gL(Bt),yN(Bt)]))],Rn(vn,(In,qn)=>In.length===0||qn.length===0?In.concat(qn):In.concat(dL,qn),[])):sn;var vn})})(d.filetype,ie,v),me=k0(ae,Tf.BUBBLE_TO_SANDBOX,p,{isHorizontalMenu:!1,search:D.none()});return zm(me)},getHotspot:ie=>ce.getOpt(ie),onSetValue:(ie,ae)=>{ie.hasConfigured(Hm)&&Hm.run(ie).get(he)},typeaheadBehaviours:Ft([...v.getValidationHandler().map(ie=>Hm.config({getRoot:ae=>ai(ae.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(ae,me)=>{H.getOpt(ae).each(ye=>{Jt(ye.element,"title",k.translate(me))})}},validator:{validate:ae=>{const me=rt.getValue(ae);return mN(ye=>{ie({type:d.filetype,url:me.value},_e=>{if(_e.status==="invalid"){const Le=So.error(_e.message);ye(Le)}else{const Le=So.value(_e.message);ye(Le)}})})},validateOnLoad:!1}})).toArray(),Kn.config({disabled:()=>!d.enabled||k.isDisabled()}),Nr.config({}),uo("urlinput-events",[xt(cm(),ie=>{const ae=cf(ie.element),me=ae.trim();me!==ae&&bm(ie.element,me),d.filetype==="file"&&Sn(ie,Ki,{name:d.name})}),xt(um(),ie=>{Sn(ie,Ki,{name:d.name}),E(ie)}),xt(Dy(),ie=>{Sn(ie,Ki,{name:d.name}),E(ie)})])]),eventOrder:{[cm()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:ie=>ie.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:p.shared.getSink,parts:{menu:GC(0,0,"normal")},onExecute:(ie,ae,me)=>{Sn(ae,_2,{})},onItemExecute:(ie,ae,me,ye)=>{E(ie),Sn(ie,Ki,{name:d.name})}},L=ur.parts.field({...O,factory:uL}),M=d.label.map(ie=>fp(ie,k)),H=or(((ie,ae,me=ie,ye=ie)=>Tc(me,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+ie],attributes:{title:k.translate(ye),"aria-live":"polite",...ae.fold(()=>({}),_e=>({id:_e}))}},k.icons))("invalid",D.some(xN),"warning")),q=or({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[H.asSpec()]}),Y=v.getUrlPicker(d.filetype),se=mn("browser.url.event"),ce=or({dom:{tag:"div",classes:["tox-control-wrap"]},components:[L,q.asSpec()],behaviours:Ft([Kn.config({disabled:()=>!d.enabled||k.isDisabled()})])}),ve=or(pN({name:d.name,icon:D.some("browse"),text:d.picker_text.or(d.label).getOr(""),enabled:d.enabled,primary:!1,buttonType:D.none(),borderless:!0},ie=>go(ie,se),k,[],["tox-browse-url"]));return ur.sketch({dom:b_([]),components:M.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:vr([[ce.asSpec()],Y.map(()=>ve.asSpec()).toArray()])}]),fieldBehaviours:Ft([Kn.config({disabled:()=>!d.enabled||k.isDisabled(),onDisabled:ie=>{ur.getField(ie).each(Kn.disable),ve.getOpt(ie).each(Kn.disable)},onEnabled:ie=>{ur.getField(ie).each(Kn.enable),ve.getOpt(ie).each(Kn.enable)}}),ba(),uo("url-input-events",[xt(se,ie=>{Vo.getCurrent(ie).each(ae=>{const me=rt.getValue(ae),ye={fieldname:d.name,...me};Y.each(_e=>{_e(ye).get(Le=>{rt.setValue(ae,Le),Sn(ie,Ki,{name:d.name})})})})})])])})})(o,a,a.urlinput,c)),customeditor:ss(o=>{const a=cr(),c=or({dom:{tag:o.tag}}),d=cr(),p=!JA(o)&&o.onFocus.isSome()?[Zn.config({onFocus:v=>{o.onFocus.each(w=>{w(v.element.dom)})}}),Nr.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Ft([uo("custom-editor-events",[Zr(v=>{c.getOpt(v).each(w=>{(JA(o)?o.init(w.element.dom):UR.load(o.scriptId,o.scriptUrl).then(k=>k(w.element.dom,o.settings))).then(k=>{d.on(E=>{k.setValue(E)}),d.clear(),a.set(k)})})})]),S0(D.none(),()=>a.get().fold(()=>d.get().getOr(""),v=>v.getValue()),(v,w)=>{a.get().fold(()=>d.set(w),k=>k.setValue(w))}),Wm()].concat(p)),components:[c.asSpec()]}}),htmlpanel:ss((o,a)=>((c,d)=>{const p=["tox-form__group",...c.stretched?["tox-form__group--stretched"]:[]],v=uo("htmlpanel",[Zr(w=>{c.onInit(w.element.dom)})]);return c.presets==="presentation"?kd.sketch({dom:{tag:"div",classes:p,innerHtml:c.html},containerBehaviours:Ft([Ws.config({...d.tooltips.getConfig({tooltipText:"",onShow:w=>{Jr(w.element,"[data-mce-tooltip]:hover").orThunk(()=>Ps(w.element)).each(k=>{Io(k,"data-mce-tooltip").each(E=>{Ws.setComponents(w,d.tooltips.getComponents({tooltipText:E}))})})}}),mode:"children-normal",anchor:w=>({type:"node",node:Jr(w.element,"[data-mce-tooltip]:hover").orThunk(()=>Ps(w.element).filter(k=>Io(k,"data-mce-tooltip").isSome())),root:w.element,layouts:{onLtr:te([Ms,ds,bs,$s,vs,wr]),onRtl:te([Ms,ds,bs,$s,vs,wr])},bubble:Zl(0,-2,{})})}),v])}):kd.sketch({dom:{tag:"div",classes:p,innerHtml:c.html,attributes:{role:"document"}},containerBehaviours:Ft([Nr.config({}),Zn.config({}),v])})})(o,a.shared.providers)),imagepreview:ss((o,a,c)=>((d,p)=>{const v=Dn(p.getOr({url:""})),w=or({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:p.map(L=>({src:L.url})).getOr({})}}),k=or({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[w.asSpec()]}),E={};d.height.each(L=>E.height=L);const O=p.map(L=>({url:L.url,zoom:D.from(L.zoom),cachedWidth:D.from(L.cachedWidth),cachedHeight:D.from(L.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:E,attributes:{role:"presentation"}},components:[k.asSpec()],behaviours:Ft([Wm(),S0(O,()=>v.get(),(L,M)=>{const H={url:M.url};M.zoom.each(Y=>H.zoom=Y),M.cachedWidth.each(Y=>H.cachedWidth=Y),M.cachedHeight.each(Y=>H.cachedHeight=Y),v.set(H);const q=()=>{const{cachedWidth:Y,cachedHeight:se,zoom:ce}=H;if(!F(Y)&&!F(se)){if(F(ce)){const ie=((ae,me,ye)=>{const _e=fa(ae),Le=ms(ae);return Math.min(_e/me,Le/ye,1)})(L.element,Y,se);H.zoom=ie}const ve=((ie,ae,me,ye,_e)=>{const Le=me*_e,Xe=ye*_e,_t=Math.max(0,ie/2-Le/2),vt=Math.max(0,ae/2-Xe/2);return{left:_t.toString()+"px",top:vt.toString()+"px",width:Le.toString()+"px",height:Xe.toString()+"px"}})(fa(L.element),ms(L.element),Y,se,H.zoom);k.getOpt(L).each(ie=>{Pi(ie.element,ve)})}};w.getOpt(L).each(Y=>{const se=Y.element;var ce;M.url!==Co(se,"src")&&(Jt(se,"src",M.url),ps(L.element,"tox-imagepreview__loaded")),q(),(ce=se,new Promise((ve,ie)=>{const ae=()=>{ye(),ve(ce)},me=[Ai(ce,"load",ae),Ai(ce,"error",()=>{ye(),ie("Unable to load data from image: "+ce.dom.src)})],ye=()=>Zt(me,_e=>_e.unbind());ce.dom.complete&&ae()})).then(ve=>{L.getSystem().isConnected()&&(us(L.element,"tox-imagepreview__loaded"),H.cachedWidth=ve.dom.naturalWidth,H.cachedHeight=ve.dom.naturalHeight,q())})})})])}})(o,c)),table:ss((o,a)=>((c,d)=>{const p=k=>({dom:{tag:"td",innerHtml:d.translate(k)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(w=c.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:bt(w,k=>({dom:{tag:"th",innerHtml:d.translate(k)}}))}]}),(v=c.cells,{dom:{tag:"tbody"},components:bt(v,k=>({dom:{tag:"tr"},components:bt(k,p)}))})],behaviours:Ft([Nr.config({}),Zn.config({})])};var v,w})(o,a.shared.providers)),tree:ss((o,a)=>((c,d)=>{const p=c.onLeafAction.getOr(he),v=c.onToggleExpand.getOr(he),w=c.defaultExpandedIds,k=Dn(w),E=Dn(c.defaultSelectedId),O=mn("tree-id"),L=(M,H)=>c.items.map(q=>q.type==="leaf"?w3({leaf:q,selectedId:M,onLeafAction:p,visible:!0,treeId:O,backstage:d}):Y_({directory:q,selectedId:M,onLeafAction:p,expandedIds:H,labelTabstopping:!0,treeId:O,backstage:d}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:L(E.get(),k.get()),behaviours:Ft([An.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),uo(sL,[xt("expand-tree-node",(M,H)=>{const{expanded:q,node:Y}=H.event;k.set(q?[...k.get(),Y]:k.get().filter(se=>se!==Y)),v(k.get(),{expanded:q,node:Y})})]),il.config({channels:{[`update-active-item-${O}`]:{onReceive:(M,H)=>{E.set(D.some(H.value)),zn.set(M,L(D.some(H.value),k.get()))}}}}),zn.config({})])}})(o,a)),panel:ss((o,a)=>((c,d)=>({dom:{tag:"div",classes:c.classes},components:bt(c.items,d.shared.interpreter)}))(o,a))},O3={field:(o,a)=>a,record:te([])},Q_=(o,a,c,d,p)=>{const v=xr(d,{shared:{interpreter:w=>D3(o,w,c,v,p)}});return D3(o,a,c,v,p)},D3=(o,a,c,d,p)=>un(pL,a.type).fold(()=>(console.error(`Unknown factory type "${a.type}", defaulting to container: `,a),a),v=>v(o,a,c,d,p)),wN=(o,a,c,d)=>D3(O3,o,a,c,d),Td="layout-inset",Dv=o=>o.x,eS=(o,a)=>o.x+o.width/2-a.width/2,R3=(o,a)=>o.x+o.width-a.width,ju=o=>o.y,N3=(o,a)=>o.y+o.height-a.height,CN=(o,a)=>o.y+o.height/2-a.height/2,Gl=(o,a,c)=>Ya(R3(o,a),N3(o,a),c.insetSouthwest(),Fg(),"southwest",Xa(o,{right:0,bottom:3}),Td),Cp=(o,a,c)=>Ya(Dv(o),N3(o,a),c.insetSoutheast(),Eb(),"southeast",Xa(o,{left:1,bottom:3}),Td),Yl=(o,a,c)=>Ya(R3(o,a),ju(o),c.insetNorthwest(),Lg(),"northwest",Xa(o,{right:0,top:2}),Td),B2=(o,a,c)=>Ya(Dv(o),ju(o),c.insetNortheast(),kb(),"northeast",Xa(o,{left:1,top:2}),Td),$o=(o,a,c)=>Ya(eS(o,a),ju(o),c.insetNorth(),Jw(),"north",Xa(o,{top:2}),Td),Zm=(o,a,c)=>Ya(eS(o,a),N3(o,a),c.insetSouth(),ex(),"south",Xa(o,{bottom:3}),Td),M2=(o,a,c)=>Ya(R3(o,a),CN(o,a),c.insetEast(),Qw(),"east",Xa(o,{right:0}),Td),I3=(o,a,c)=>Ya(Dv(o),CN(o,a),c.insetWest(),tx(),"west",Xa(o,{left:1}),Td),B3=o=>{switch(o){case"north":return $o;case"northeast":return B2;case"northwest":return Yl;case"south":return Zm;case"southeast":return Cp;case"southwest":return Gl;case"east":return M2;case"west":return I3}},tS=(o,a,c,d,p)=>Ib(d).map(B3).getOr($o)(o,a,c,d,p),bL=o=>{switch(o){case"north":return Zm;case"northeast":return Cp;case"northwest":return Gl;case"south":return $o;case"southeast":return B2;case"southwest":return Yl;case"east":return I3;case"west":return M2}},M3=(o,a,c,d,p)=>Ib(d).map(bL).getOr($o)(o,a,c,d,p),P2={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},_N=(o,a,c)=>{const d={maxHeightFunction:$g()};return()=>c()?{type:"node",root:je(st(o())),node:D.from(o()),bubble:Zl(12,12,P2),layouts:{onRtl:()=>[B2],onLtr:()=>[Yl]},overrides:d}:{type:"hotspot",hotspot:a(),bubble:Zl(-12,12,P2),layouts:{onRtl:()=>[bs,vs,Ms],onLtr:()=>[vs,bs,Ms]},overrides:d}},SN=(o,a,c,d)=>{const p={maxHeightFunction:$g()};return()=>d()?{type:"node",root:je(st(a())),node:D.from(a()),bubble:Zl(12,12,P2),layouts:{onRtl:()=>[$o],onLtr:()=>[$o]},overrides:p}:o?{type:"node",root:je(st(a())),node:D.from(a()),bubble:Zl(0,-lc(a()),P2),layouts:{onRtl:()=>[ds],onLtr:()=>[ds]},overrides:p}:{type:"hotspot",hotspot:c(),bubble:Zl(0,0,P2),layouts:{onRtl:()=>[ds],onLtr:()=>[ds]},overrides:p}},P3=(o,a,c)=>()=>c()?{type:"node",root:je(st(o())),node:D.from(o()),layouts:{onRtl:()=>[$o],onLtr:()=>[$o]}}:{type:"hotspot",hotspot:a(),layouts:{onRtl:()=>[Ms],onLtr:()=>[Ms]}},kN=(o,a)=>()=>({type:"selection",root:a(),getSelection:()=>{const c=o.selection.getRng(),d=o.model.table.getSelectedCells();if(d.length>1){const p=d[0],v=d[d.length-1],w={firstCell:Qt(p),lastCell:Qt(v)};return D.some(w)}return D.some(pf.range(Qt(c.startContainer),c.startOffset,Qt(c.endContainer),c.endOffset))}}),nS=o=>a=>({type:"node",root:o(),node:a}),vL=(o,a,c,d)=>{const p=i0(o),v=()=>Qt(o.getBody()),w=()=>Qt(o.getContentAreaContainer()),k=()=>p||!d();return{inlineDialog:_N(w,a,k),inlineBottomDialog:SN(o.inline,w,c,k),banner:P3(w,a,k),cursor:kN(o,v),node:nS(v)}},yL=o=>(a,c)=>{JD(o)(a,c)},xL=o=>()=>sA(o),wL=o=>a=>v0(o,a),CL=o=>a=>rA(o,a),EN=o=>()=>Ef(o),AN=o=>io(o,"items"),TN=o=>io(o,"format"),L3=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],F3=o=>Rn(o,(a,c)=>{if(po(c,"items")){const d=F3(c.items);return{customFormats:a.customFormats.concat(d.customFormats),formats:a.formats.concat([{title:c.title,items:d.formats}])}}if(po(c,"inline")||(d=>po(d,"block"))(c)||(d=>po(d,"selector"))(c)){const d=`custom-${h(c.name)?c.name:c.title.toLowerCase()}`;return{customFormats:a.customFormats.concat([{name:d,format:c}]),formats:a.formats.concat([{title:c.title,format:d,icon:c.icon}])}}return{...a,formats:a.formats.concat(c)}},{customFormats:[],formats:[]}),ON=o=>cv(o).map(a=>{const c=((d,p)=>{const v=F3(p),w=k=>{Zt(k,E=>{d.formatter.has(E.name)||d.formatter.register(E.name,E.format)})};return d.formatter?w(v.customFormats):d.on("init",()=>{w(v.customFormats)}),v.formats})(o,a);return OC(o)?L3.concat(c):c}).getOr(L3),DN=(o,a,c)=>({...o,type:"formatter",isSelected:a(o.format),getStylePreview:c(o.format)}),z3=(o,a,c,d)=>{const p=v=>bt(v,w=>AN(w)?(k=>{const E=p(k.items);return{...k,type:"submenu",getStyleItems:te(E)}})(w):TN(w)?(k=>DN(k,c,d))(w):(k=>{const E=on(k);return E.length===1&&Qe(E,"title")})(w)?{...w,type:"separator"}:(k=>{const E=h(k.name)?k.name:mn(k.title),O=`custom-${E}`,L={...k,type:"formatter",format:O,isSelected:c(O),getStylePreview:d(O)};return o.formatter.register(E,L),L})(w));return p(a)},H3=o=>{let a=0;const c=d=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Cs(d.tooltipText)]}];return{getConfig:d=>({delayForShow:()=>a>0?60:300,delayForHide:te(300),exclusive:!0,lazySink:o,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:c(d),onShow:(p,v)=>{a++,d.onShow&&d.onShow(p,v)},onHide:(p,v)=>{a--,d.onHide&&d.onHide(p,v)},onSetup:d.onSetup}),getComponents:c}},RN=ah.trim,NN=o=>a=>!!((c=>$(c)&&c.nodeType===1)(a)&&(a.contentEditable===o||a.getAttribute("data-mce-contenteditable")===o)),_L=NN("true"),SL=NN("false"),IN=(o,a,c,d,p)=>({type:o,title:a,url:c,level:d,attach:p}),BN=o=>o.innerText||o.textContent,kL=o=>(a=>a&&a.nodeName==="A"&&(a.id||a.name)!==void 0)(o)&&Ku(o),V3=o=>o&&/^(H[1-6])$/.test(o.nodeName),Ku=o=>(a=>{let c=a;for(;c=c.parentNode;){const d=c.contentEditable;if(d&&d!=="inherit")return _L(c)}return!1})(o)&&!SL(o),EL=o=>V3(o)&&Ku(o),$3=o=>{var a;const c=(d=>d.id?d.id:mn("h"))(o);return IN("header",(a=BN(o))!==null&&a!==void 0?a:"","#"+c,(d=>V3(d)?parseInt(d.nodeName.substr(1),10):0)(o),()=>{o.id=c})},MN=o=>{const a=o.id||o.name,c=BN(o);return IN("anchor",c||"#"+a,"#"+a,0,he)},PN=o=>RN(o.title).length>0,AL=o=>{const a=(c=>bt(la(Qt(c),"h1,h2,h3,h4,h5,h6,a:not([href])"),p=>p.dom))(o);return ho((c=>bt(ho(c,EL),$3))(a).concat((c=>bt(ho(c,kL),MN))(a)),PN)},L2="tinymce-url-history",U3=o=>h(o)&&/^https?/.test(o),W3=o=>x(o)&&fr(o,a=>{return!(B(c=a)&&c.length<=5&&oi(c,U3));var c}).isNone(),LN=()=>{const o=Dc.getItem(L2);if(o===null)return{};let a;try{a=JSON.parse(o)}catch(c){if(c instanceof SyntaxError)return console.log("Local storage "+L2+" was not valid JSON",c),{};throw c}return W3(a)?a:(console.log("Local storage "+L2+" was not valid format",a),{})},TL=o=>{const a=LN();return un(a,o).getOr([])},OL=(o,a)=>{if(!U3(o))return;const c=LN(),d=un(c,a).getOr([]),p=ho(d,v=>v!==o);c[a]=[o].concat(p).slice(0,5),(v=>{if(!W3(v))throw new Error(`Bad format for history:
`+JSON.stringify(v));Dc.setItem(L2,JSON.stringify(v))})(c)},FN=o=>!!o,DL=o=>En(ah.makeMap(o,/[, ]/),FN),oS=o=>D.from(RC(o)),Z3=o=>D.from(o).filter(h).getOrUndefined(),zN=o=>({getHistory:TL,addToHistory:OL,getLinkInformation:()=>(a=>NC(a)?D.some({targets:AL(a.getBody()),anchorTop:Z3(T5(a)),anchorBottom:Z3(O5(a))}):D.none())(o),getValidationHandler:()=>(a=>D.from(Vx(a)))(o),getUrlPicker:a=>((c,d)=>((p,v)=>{const w=(k=>{const E=D.from($x(k)).filter(FN).map(DL);return oS(k).fold(Ce,O=>E.fold(Ne,L=>on(L).length>0&&L))})(p);return R(w)?w?oS(p):D.none():w[v]?oS(p):D.none()})(c,d).map(p=>v=>up(w=>{const k={filetype:d,fieldname:v.fieldname,...D.from(v.meta).getOr({})};p.call(c,(E,O)=>{if(!h(E))throw new Error("Expected value to be string");if(O!==void 0&&!x(O))throw new Error("Expected meta to be a object");w({value:E,meta:O})},v.value,k)})))(o,a)}),ei=VM,jm=pO,RL=te([et("shell",!1),At("makeItem"),et("setupItem",he),jn("listBehaviours",[zn])]),Rv=ou({name:"items",overrides:()=>({behaviours:Ft([zn.config({})])})}),NL=te([Rv]),j3=Cl({name:te("CustomList")(),configFields:RL(),partFields:NL(),factory:(o,a,c,d)=>{const p=o.shell?{behaviours:[zn.config({})],components:[]}:{behaviours:[],components:a};return{uid:o.uid,dom:o.dom,components:p.components,behaviours:co(o.listBehaviours,p.behaviours),apis:{setItems:(v,w)=>{var k;(k=v,o.shell?D.some(k):Mr(k,o,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},E=>{const O=zn.contents(E),L=w.length,M=L-O.length,H=M>0?sr(M,()=>o.makeItem()):[],q=O.slice(L);Zt(q,se=>zn.remove(E,se)),Zt(H,se=>zn.append(E,se));const Y=zn.contents(E);Zt(Y,(se,ce)=>{o.setupItem(v,se,w[ce],ce)})})}}}},apis:{setItems:(o,a,c)=>{o.setItems(a,c)}}}),A0=te([At("dom"),et("shell",!0),gn("toolbarBehaviours",[zn])]),HN=te([ou({name:"groups",overrides:()=>({behaviours:Ft([zn.config({})])})})]),Od=Cl({name:"Toolbar",configFields:A0(),partFields:HN(),factory:(o,a,c,d)=>{const p=o.shell?{behaviours:[zn.config({})],components:[]}:{behaviours:[],components:a};return{uid:o.uid,dom:o.dom,components:p.components,behaviours:co(o.toolbarBehaviours,p.behaviours),apis:{setGroups:(v,w)=>{var k;(k=v,o.shell?D.some(k):Mr(k,o,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},E=>{zn.set(E,w)})},refresh:he},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,a,c)=>{o.setGroups(a,c)}}}),K3=he,q3=Ce,rS=te([]);var G3,IL=Object.freeze({__proto__:null,setup:K3,isDocked:q3,getBehaviours:rS});const sS=te(mn("toolbar-height-change")),Km={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},VN="tox-tinymce--toolbar-sticky-on",$N="tox-tinymce--toolbar-sticky-off",F2=(o,a)=>Qe(Xr.getModes(o),a),aS=o=>{const a=o.element;ai(a).each(c=>{const d="padding-"+Xr.getModes(o)[0];if(Xr.isDocked(o)){const p=fa(c);Qn(a,"width",p+"px"),Qn(c,d,(v=>lc(v)+(parseInt(as(v,"margin-top"),10)||0)+(parseInt(as(v,"margin-bottom"),10)||0))(a)+"px")}else nr(a,"width"),nr(c,d)})},Y3=(o,a)=>{a?(ps(o,Km.fadeOutClass),Bs(o,[Km.transitionClass,Km.fadeInClass])):(ps(o,Km.fadeInClass),Bs(o,[Km.fadeOutClass,Km.transitionClass]))},UN=(o,a)=>{const c=Qt(o.getContainer());a?(us(c,VN),ps(c,$N)):(us(c,$N),ps(c,VN))},WN=(o,a)=>{const c=cr(),d=a.getSink,p=k=>{d().each(E=>k(E.element))},v=k=>{o.inline||aS(k),UN(o,Xr.isDocked(k)),k.getSystem().broadcastOn([V()],{}),d().each(E=>E.getSystem().broadcastOn([V()],{}))},w=o.inline?[]:[il.config({channels:{[sS()]:{onReceive:aS}}})];return[Zn.config({}),Xr.config({contextual:{lazyContext:k=>{const E=lc(k.element),O=o.inline?o.getContentAreaContainer():o.getContainer();return D.from(O).map(L=>{const M=Ks(Qt(L));return np(o,k.element).fold(()=>{const H=M.height-E,q=M.y+(F2(k,"top")?0:E);return bo(M.x,q,M.width,H)},H=>{const q=sd(M,op(H)),Y=F2(k,"top")?q.y:q.y+E;return bo(q.x,Y,q.width,q.height-E)})})},onShow:()=>{p(k=>Y3(k,!0))},onShown:k=>{p(E=>Wl(E,[Km.transitionClass,Km.fadeInClass])),c.get().each(E=>{((O,L)=>{const M=js(L);Qc(M).filter(H=>!Wo(L,H)).filter(H=>Wo(H,Qt(M.dom.body))||xs(O,H)).each(()=>Ei(L))})(k.element,E),c.clear()})},onHide:k=>{((E,O)=>Ps(E).orThunk(()=>O().toOptional().bind(L=>Ps(L.element))))(k.element,d).fold(c.clear,c.set),p(E=>Y3(E,!1))},onHidden:()=>{p(k=>Wl(k,[Km.transitionClass]))},...Km},lazyViewport:k=>np(o,k.element).fold(()=>{const E=ka(),O=hE(o),L=E.y+(F2(k,"top")?O:0),M=E.height-(F2(k,"bottom")?O:0);return{bounds:bo(E.x,L,E.width,M),optScrollEnv:D.none()}},E=>({bounds:op(E),optScrollEnv:D.some({currentScrollTop:E.element.dom.scrollTop,scrollElmTop:yl(E.element).top})})),modes:[a.header.getDockingMode()],onDocked:v,onUndocked:v}),...w]};var BL=Object.freeze({__proto__:null,setup:(o,a,c)=>{o.inline||(a.header.isPositionedAtTop()||o.on("ResizeEditor",()=>{c().each(Xr.reset)}),o.on("ResizeWindow ResizeEditor",()=>{c().each(aS)}),o.on("SkinLoaded",()=>{c().each(d=>{Xr.isDocked(d)?Xr.reset(d):Xr.refresh(d)})}),o.on("FullscreenStateChanged",()=>{c().each(Xr.reset)})),o.on("AfterScrollIntoView",d=>{c().each(p=>{Xr.refresh(p);const v=p.element;UO(v)&&((w,k)=>{const E=js(k),O=Lc(k).dom.innerHeight,L=Fr(E),M=Qt(w.elm),H=ol(M),q=ms(M),Y=H.y,se=Y+q,ce=yl(k),ve=ms(k),ie=ce.top,ae=ie+ve,me=Math.abs(ie-L.top)<2,ye=Math.abs(ae-(L.top+O))<2;if(me&&Y<ae)qd(L.left,Y-ve,E);else if(ye&&se>ie){const _e=Y-O+q+ve;qd(L.left,_e,E)}})(d,v)})}),o.on("PostRender",()=>{UN(o,!1)})},isDocked:o=>o().map(Xr.isDocked).getOr(!1),getBehaviours:WN});const ML=Pn([na,Aa("items",sm([ku([BE,Hi("items",aa)]),aa]))].concat(Fm)),PL=[ws("text"),ws("tooltip"),ws("icon"),Si("search",!1,sm([Vl,Pn([ws("placeholder")])],o=>R(o)?o?D.some({placeholder:D.none()}):D.none():D.some(o))),_i("fetch"),zr("onSetup",()=>he)],ZN=Pn([na,...PL]),jN=o=>is("menubutton",ZN,o),LL=Pn([na,c2,Hu,lp,zE,GP,ip,fc("presets","normal",["normal","color","listpreview"]),hD(1),fv,gD]);var X3=ru({factory:(o,a)=>{const c={focus:An.focusIn,setMenus:(d,p)=>{const v=bt(p,w=>{const k={type:"menubutton",text:w.text,fetch:O=>{O(w.getItems())}},E=jN(k).mapError(O=>zi(O)).getOrDie();return Tv(E,"tox-mbtn",a.backstage,D.some("menuitem"))});zn.set(d,v)}};return{uid:o.uid,dom:o.dom,components:[],behaviours:Ft([zn.config({}),uo("menubar-events",[Zr(d=>{o.onSetup(d)}),xt(_n(),(d,p)=>{Jr(d.element,".tox-mbtn--active").each(v=>{Iu(p.event.target,".tox-mbtn").each(w=>{Wo(v,w)||d.getSystem().getByDom(v).each(k=>{d.getSystem().getByDom(w).each(E=>{ul.expand(E),ul.close(k),Zn.focus(E)})})})})}),xt(m1(),(d,p)=>{p.event.prevFocus.bind(v=>d.getSystem().getByDom(v).toOptional()).each(v=>{p.event.newFocus.bind(w=>d.getSystem().getByDom(w).toOptional()).each(w=>{ul.isOpen(v)&&(ul.expand(w),ul.close(v))})})})]),An.config({mode:"flow",selector:".tox-mbtn",onEscape:d=>(o.onEscape(d),D.some(!0))}),Nr.config({})]),apis:c,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[At("dom"),At("uid"),At("onEscape"),At("backstage"),et("onSetup",he)],apis:{focus:(o,a)=>{o.focus(a)},setMenus:(o,a,c)=>{o.setMenus(a,c)}}});const KN="container",FL=[gn("slotBehaviours",[])],J3=o=>"<alloy.field."+o+">",zL=(o,a)=>{const c=L=>xO(o),d=(L,M)=>(H,q)=>Mr(H,o,q).map(Y=>L(Y,q)).getOr(M),p=(L,M)=>Co(L.element,"aria-hidden")!=="true",v=d(p,!1),w=d((L,M)=>{if(p(L)){const H=L.element;Qn(H,"display","none"),Jt(H,"aria-hidden","true"),Sn(L,Gc(),{name:M,visible:!1})}}),k=(L=>(M,H)=>{Zt(H,q=>L(M,q))})(w),E=d((L,M)=>{if(!p(L)){const H=L.element;nr(H,"display"),fo(H,"aria-hidden"),Sn(L,Gc(),{name:M,visible:!0})}}),O={getSlotNames:c,getSlot:(L,M)=>Mr(L,o,M),isShowing:v,hideSlot:w,hideAllSlots:L=>k(L,c()),showSlot:E};return{uid:o.uid,dom:o.dom,components:a,behaviours:Vn(o.slotBehaviours),apis:O}},HL=En({getSlotNames:(o,a)=>o.getSlotNames(a),getSlot:(o,a,c)=>o.getSlot(a,c),isShowing:(o,a,c)=>o.isShowing(a,c),hideSlot:(o,a,c)=>o.hideSlot(a,c),hideAllSlots:(o,a)=>o.hideAllSlots(a),showSlot:(o,a,c)=>o.showSlot(a,c)},o=>A1(o)),dl={...HL,sketch:o=>{const a=(()=>{const v=[];return{slot:(w,k)=>(v.push(w),Ik(KN,J3(w),k)),record:te(v)}})(),c=o(a),d=a.record(),p=bt(d,v=>cl({name:v,pname:J3(v)}));return Cx(KN,FL,p,zL,c)}},VL=Pn([Hu,c2,zr("onShow",he),zr("onHide",he),ip]),$L=o=>({element:()=>o.element.dom}),iS=(o,a)=>{const c=bt(on(a),d=>{const p=a[d],v=Ci((w=>is("sidebar",VL,w))(p));return{name:d,getApi:$L,onSetup:v.onSetup,onShow:v.onShow,onHide:v.onHide}});return bt(c,d=>{const p=Dn(he);return o.slot(d.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:d2([cp(d,p),eh(d,p),xt(Gc(),(v,w)=>{const k=w.event;J(c,O=>O.name===k.name).each(O=>{(k.visible?O.onShow:O.onHide)(O.getApi(v))})})])})})},qN=o=>dl.sketch(a=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:iS(a,o),slotBehaviours:d2([Zr(c=>dl.hideAllSlots(c))])})),lS=(o,a)=>{Jt(o,"role",a)},UL=o=>Vo.getCurrent(o).bind(a=>Nl.isGrowing(a)||Nl.hasGrown(a)?Vo.getCurrent(a).bind(c=>J(dl.getSlotNames(c),d=>dl.isShowing(c,d))):D.none()),Q3=mn("FixSizeEvent"),e4=mn("AutoSizeEvent");var WL=Object.freeze({__proto__:null,block:(o,a,c,d)=>{Jt(o.element,"aria-busy",!0);const p=a.getRoot(o).getOr(o),v=Ft([An.config({mode:"special",onTab:()=>D.some(!0),onShiftTab:()=>D.some(!0)}),Zn.config({})]),w=d(p,v),k=p.getSystem().build(w);zn.append(p,$i(k)),k.hasConfigured(An)&&a.focus&&An.focusIn(k),c.isBlocked()||a.onBlock(o),c.blockWith(()=>zn.remove(p,k))},unblock:(o,a,c)=>{fo(o.element,"aria-busy"),c.isBlocked()&&a.onUnblock(o),c.clear()},isBlocked:(o,a,c)=>c.isBlocked()}),ZL=[zr("getRoot",D.none),Vs("focus",!0),Fo("onBlock"),Fo("onUnblock")];const qu=pa({fields:ZL,name:"blocking",apis:WL,state:Object.freeze({__proto__:null,init:()=>{const o=cc(a=>a.destroy());return ha({readState:o.isSet,blockWith:a=>{o.set({destroy:a})},clear:o.clear,isBlocked:o.isSet})}})}),t4=o=>Vo.getCurrent(o).each(a=>Ei(a.element,!0)),GN=(o,a,c)=>{const d=Dn(!1),p=cr(),v=k=>{var E;d.get()&&(!(O=>O.type==="focusin")(E=k)||!(E.composed?$t(E.composedPath()):D.from(E.target)).map(Qt).filter(qr).exists(O=>Vi(O,"mce-pastebin")))&&(k.preventDefault(),t4(a()),o.editorManager.setActive(o))};o.inline||o.on("PreInit",()=>{o.dom.bind(o.getWin(),"focusin",v),o.on("BeforeExecCommand",k=>{k.command.toLowerCase()==="mcefocus"&&k.value!==!0&&v(k)})});const w=k=>{k!==d.get()&&(d.set(k),((E,O,L,M)=>{const H=O.element;if(((q,Y)=>{const se="tabindex",ce=`data-mce-${se}`;D.from(q.iframeElement).map(Qt).each(ve=>{Y?(Io(ve,se).each(ie=>Jt(ve,ce,ie)),Jt(ve,se,-1)):(fo(ve,se),Io(ve,ce).each(ie=>{Jt(ve,se,ie),fo(ve,ce)}))})})(E,L),L)qu.block(O,(q=>(Y,se)=>({dom:{tag:"div",attributes:{"aria-label":q.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Bm('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(M)),nr(H,"display"),fo(H,"aria-hidden"),E.hasFocus()&&t4(O);else{const q=Vo.getCurrent(O).exists(Y=>Vg(Y.element));qu.unblock(O),Qn(H,"display","none"),Jt(H,"aria-hidden","true"),q&&E.focus()}})(o,a(),k,c.providers),((E,O)=>{E.dispatch("AfterProgressState",{state:O})})(o,k))};o.on("ProgressState",k=>{if(p.on(clearTimeout),ee(k.time)){const E=AC.setEditorTimeout(o,()=>w(k.state),k.time);p.set(E)}else w(k.state),p.clear()})},n4=(o,a,c)=>({within:o,extra:a,withinWidth:c}),o4=(o,a,c)=>{const d=Rn(o,(w,k)=>((E,O)=>{const L=c(E);return D.some({element:E,start:O,finish:O+L,width:L})})(k,w.len).fold(te(w),E=>({len:E.finish,list:w.list.concat([E])})),{len:0,list:[]}).list,p=ho(d,w=>w.finish<=a),v=xn(p,(w,k)=>w+k.width,0);return{within:p,extra:d.slice(p.length),withinWidth:v}},cS=o=>bt(o,a=>a.element),YN=(o,a)=>{const c=bt(a,d=>$i(d));Od.setGroups(o,c)},XN=(o,a,c)=>{const d=a.builtGroups.get();if(d.length===0)return;const p=qg(o,a,"primary"),v=_s.getCoupled(o,"overflowGroup");Qn(p.element,"visibility","hidden");const w=d.concat([v]),k=It(w,O=>Ps(O.element).bind(L=>O.getSystem().getByDom(L).toOptional()));c([]),YN(p,w);const E=((O,L,M,H)=>{const q=((ve,ie,ae)=>{const me=o4(ie,ve,ae);return me.extra.length===0?D.some(me):D.none()})(O,L,M).getOrThunk(()=>o4(L,O-M(H),M)),Y=q.within,se=q.extra,ce=q.withinWidth;return se.length===1&&se[0].width<=M(H)?((ve,ie,ae)=>{const me=cS(ve.concat(ie));return n4(me,[],ae)})(Y,se,ce):se.length>=1?((ve,ie,ae,me)=>{const ye=cS(ve).concat([ae]);return n4(ye,cS(ie),me)})(Y,se,H,ce):((ve,ie,ae)=>n4(cS(ve),[],ae))(Y,0,ce)})(fa(p.element),a.builtGroups.get(),O=>Math.ceil(O.element.dom.getBoundingClientRect().width),v);E.extra.length===0?(zn.remove(p,v),c([])):(YN(p,E.within),c(E.extra)),nr(p.element,"visibility"),yu(p.element),k.each(Zn.focus)},JN=te([gn("splitToolbarBehaviours",[_s]),Ea("builtGroups",()=>Dn([]))]),jL=te([Ng(["overflowToggledClass"]),jc("getOverflowBounds"),At("lazySink"),Ea("overflowGroups",()=>Dn([])),Fo("onOpened"),Fo("onClosed")].concat(JN())),KL=te([cl({factory:Od,schema:A0(),name:"primary"}),wd({schema:A0(),name:"overflow"}),wd({name:"overflow-button"}),wd({name:"overflow-group"})]),r4=te((o,a)=>{((c,d)=>{const p=hg.max(c,d,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);Qn(c,"max-width",p+"px")})(o,Math.floor(a))}),qL=te([Ng(["toggledClass"]),At("lazySink"),_i("fetch"),jc("getBounds"),gs("fireDismissalEventInstead",[et("event",kg())]),ff(),Fo("onToggled")]),GL=te([wd({name:"button",overrides:o=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Ft([Un.config({toggleClass:o.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:o.onToggled})])})}),wd({factory:Od,schema:A0(),name:"toolbar",overrides:o=>({toolbarBehaviours:Ft([An.config({mode:"cyclic",onEscape:a=>(Mr(a,o,"button").each(Zn.focus),D.none())})])})})]),uS=cr(),Nv=(o,a)=>{const c=_s.getCoupled(o,"toolbarSandbox");T.isOpen(c)?T.close(c):T.open(c,a.toolbar())},z2=(o,a,c,d)=>{const p=c.getBounds.map(w=>w()),v=c.lazySink(o).getOrDie();Ja.positionWithinBounds(v,a,{anchor:{type:"hotspot",hotspot:o,layouts:d,overrides:{maxWidthFunction:r4()}}},p)},dS=(o,a,c,d,p)=>{Od.setGroups(a,p),z2(o,a,c,d),Un.on(o)},lh=Cl({name:"FloatingToolbarButton",factory:(o,a,c,d)=>({...Oi.sketch({...d.button(),action:p=>{Nv(p,d)},buttonBehaviours:$n({dump:d.button().buttonBehaviours},[_s.config({others:{toolbarSandbox:p=>((v,w,k)=>{const E=Pg();return{dom:{tag:"div",attributes:{id:E.id}},behaviours:Ft([An.config({mode:"special",onEscape:O=>(T.close(O),D.some(!0))}),T.config({onOpen:(O,L)=>{const M=uS.get().getOr(!1);k.fetch().get(H=>{dS(v,L,k,w.layouts,H),E.link(v.element),M||An.focusIn(L)})},onClose:()=>{Un.off(v),uS.get().getOr(!1)||Zn.focus(v),E.unlink(v.element)},isPartOf:(O,L,M)=>al(L,M)||al(v,M),getAttachPoint:()=>k.lazySink(v).getOrDie()}),il.config({channels:{...re({isExtraPart:Ce,...k.fireDismissalEventInstead.map(O=>({fireEventInstead:{event:O.event}})).getOr({})}),...De({doReposition:()=>{T.getState(_s.getCoupled(v,"toolbarSandbox")).each(O=>{z2(v,O,k,w.layouts)})}})}})])}})(p,c,o)}})])}),apis:{setGroups:(p,v)=>{T.getState(_s.getCoupled(p,"toolbarSandbox")).each(w=>{dS(p,w,o,c.layouts,v)})},reposition:p=>{T.getState(_s.getCoupled(p,"toolbarSandbox")).each(v=>{z2(p,v,o,c.layouts)})},toggle:p=>{Nv(p,d)},toggleWithoutFocusing:p=>{((v,w)=>{uS.set(!0),Nv(v,w),uS.clear()})(p,d)},getToolbar:p=>T.getState(_s.getCoupled(p,"toolbarSandbox")),isOpen:p=>T.isOpen(_s.getCoupled(p,"toolbarSandbox"))}}),configFields:qL(),partFields:GL(),apis:{setGroups:(o,a,c)=>{o.setGroups(a,c)},reposition:(o,a)=>{o.reposition(a)},toggle:(o,a)=>{o.toggle(a)},toggleWithoutFocusing:(o,a)=>{o.toggleWithoutFocusing(a)},getToolbar:(o,a)=>o.getToolbar(a),isOpen:(o,a)=>o.isOpen(a)}}),YL=te([At("items"),Ng(["itemSelector"]),gn("tgroupBehaviours",[An])]),XL=te([fC({name:"items",unit:"item"})]),Iv=Cl({name:"ToolbarGroup",configFields:YL(),partFields:XL(),factory:(o,a,c,d)=>({uid:o.uid,dom:o.dom,components:a,behaviours:co(o.tgroupBehaviours,[An.config({mode:"flow",selector:o.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),fS=o=>bt(o,a=>$i(a)),H2=(o,a,c)=>{XN(o,c,d=>{c.overflowGroups.set(d),a.getOpt(o).each(p=>{lh.setGroups(p,fS(d))})})},s4=Cl({name:"SplitFloatingToolbar",configFields:jL(),partFields:KL(),factory:(o,a,c,d)=>{const p=or(lh.sketch({fetch:()=>up(v=>{v(fS(o.overflowGroups.get()))}),layouts:{onLtr:()=>[vs,bs],onRtl:()=>[bs,vs],onBottomLtr:()=>[wr,$s],onBottomRtl:()=>[$s,wr]},getBounds:c.getOverflowBounds,lazySink:o.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:o.markers.overflowToggledClass},parts:{button:d["overflow-button"](),toolbar:d.overflow()},onToggled:(v,w)=>o[w?"onOpened":"onClosed"](v)}));return{uid:o.uid,dom:o.dom,components:a,behaviours:co(o.splitToolbarBehaviours,[_s.config({others:{overflowGroup:()=>Iv.sketch({...d["overflow-group"](),items:[p.asSpec()]})}})]),apis:{setGroups:(v,w)=>{o.builtGroups.set(bt(w,v.getSystem().build)),H2(v,p,o)},refresh:v=>H2(v,p,o),toggle:v=>{p.getOpt(v).each(w=>{lh.toggle(w)})},toggleWithoutFocusing:v=>{p.getOpt(v).each(lh.toggleWithoutFocusing)},isOpen:v=>p.getOpt(v).map(lh.isOpen).getOr(!1),reposition:v=>{p.getOpt(v).each(w=>{lh.reposition(w)})},getOverflow:v=>p.getOpt(v).bind(lh.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,a,c)=>{o.setGroups(a,c)},refresh:(o,a)=>{o.refresh(a)},reposition:(o,a)=>{o.reposition(a)},toggle:(o,a)=>{o.toggle(a)},toggleWithoutFocusing:(o,a)=>{o.toggle(a)},isOpen:(o,a)=>o.isOpen(a),getOverflow:(o,a)=>o.getOverflow(a)}}),JL=te([Ng(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Fo("onOpened"),Fo("onClosed")].concat(JN())),QL=te([cl({factory:Od,schema:A0(),name:"primary"}),cl({factory:Od,schema:A0(),name:"overflow",overrides:o=>({toolbarBehaviours:Ft([Nl.config({dimension:{property:"height"},closedClass:o.markers.closedClass,openClass:o.markers.openClass,shrinkingClass:o.markers.shrinkingClass,growingClass:o.markers.growingClass,onShrunk:a=>{Mr(a,o,"overflow-button").each(c=>{Un.off(c)}),o.onClosed(a)},onGrown:a=>{o.onOpened(a)},onStartGrow:a=>{Mr(a,o,"overflow-button").each(Un.on)}}),An.config({mode:"acyclic",onEscape:a=>(Mr(a,o,"overflow-button").each(Zn.focus),D.some(!0))})])})}),wd({name:"overflow-button",overrides:o=>({buttonBehaviours:Ft([Un.config({toggleClass:o.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),wd({name:"overflow-group"})]),a4=(o,a,c)=>{Mr(o,a,"overflow-button").each(d=>{Mr(o,a,"overflow").each(p=>{if(i4(o,a),Nl.hasShrunk(p)){const v=a.onOpened;a.onOpened=w=>{c||An.focusIn(p),v(w),a.onOpened=v}}else{const v=a.onClosed;a.onClosed=w=>{c||Zn.focus(d),v(w),a.onClosed=v}}Nl.toggleGrow(p)})})},i4=(o,a)=>{Mr(o,a,"overflow").each(c=>{XN(o,a,d=>{const p=bt(d,v=>$i(v));Od.setGroups(c,p)}),Mr(o,a,"overflow-button").each(d=>{Nl.hasGrown(c)&&Un.on(d)}),Nl.refresh(c)})},l4=Cl({name:"SplitSlidingToolbar",configFields:JL(),partFields:QL(),factory:(o,a,c,d)=>{const p="alloy.toolbar.toggle";return{uid:o.uid,dom:o.dom,components:a,behaviours:co(o.splitToolbarBehaviours,[_s.config({others:{overflowGroup:v=>Iv.sketch({...d["overflow-group"](),items:[Oi.sketch({...d["overflow-button"](),action:w=>{go(v,p)}})]})}}),uo("toolbar-toggle-events",[xt(p,v=>{a4(v,o,!1)})])]),apis:{setGroups:(v,w)=>{((k,E)=>{const O=bt(E,k.getSystem().build);o.builtGroups.set(O)})(v,w),i4(v,o)},refresh:v=>i4(v,o),toggle:v=>{a4(v,o,!1)},toggleWithoutFocusing:v=>{a4(v,o,!0)},isOpen:v=>((w,k)=>Mr(w,k,"overflow").map(Nl.hasGrown).getOr(!1))(v,o)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,a,c)=>{o.setGroups(a,c)},refresh:(o,a)=>{o.refresh(a)},toggle:(o,a)=>{o.toggle(a)},isOpen:(o,a)=>o.isOpen(a)}}),QN=o=>{const a=o.title.fold(()=>({}),c=>({attributes:{title:c}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...a},components:[Iv.parts.items({})],items:o.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Ft([Nr.config({}),Zn.config({})])}},mS=o=>Iv.sketch(QN(o)),e6=(o,a)=>{const c=Zr(d=>{const p=bt(o.initGroups,mS);Od.setGroups(d,p)});return Ft([o_(o.providers.isDisabled),ba(),An.config({mode:a,onEscape:o.onEscape,selector:".tox-toolbar__group"}),uo("toolbar-events",[c])])},t6=o=>{const a=o.cyclicKeying?"cyclic":"acyclic";return{uid:o.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":QN({title:D.none(),items:[]}),"overflow-button":gN({name:"more",icon:D.some("more-drawer"),enabled:!0,tooltip:D.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:D.none(),borderless:!1},D.none(),o.providers,[],"overflow-button")},splitToolbarBehaviours:e6(o,a)}},eF=o=>{const a=t6(o),c=s4.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return s4.sketch({...a,lazySink:o.getSink,getOverflowBounds:()=>{const d=o.moreDrawerData.lazyHeader().element,p=ol(d),v=Mi(d),w=ol(v),k=Math.max(v.dom.scrollHeight,w.height);return bo(p.x+4,w.y,p.width-8,k)},parts:{...a.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o.attributes}}},components:[c],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:d=>o.onToggled(d,!0),onClosed:d=>o.onToggled(d,!1)})},tF=o=>{const a=l4.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),c=l4.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),d=t6(o);return l4.sketch({...d,components:[a,c],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:p=>{p.getSystem().broadcastOn([sS()],{type:"opened"}),o.onToggled(p,!0)},onClosed:p=>{p.getSystem().broadcastOn([sS()],{type:"closed"}),o.onToggled(p,!1)}})},c4=o=>{const a=o.cyclicKeying?"cyclic":"acyclic";return Od.sketch({uid:o.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(o.type===Lu.scrolling?["tox-toolbar--scrolling"]:[])},components:[Od.parts.groups({})],toolbarBehaviours:e6(o,a)})},n6=[lp,Hu,ws("tooltip"),fc("buttonType","secondary",["primary","secondary"]),Vs("borderless",!1),_i("onAction")],u4={button:[...n6,zu,Tu("type",["button"])],togglebutton:[...n6,Vs("active",!1),Tu("type",["togglebutton"])]},nF=[Tu("type",["group"]),gr("buttons",[],Qs("type",u4))],oF=Qs("type",{...u4,group:nF}),qm=Pn([gr("buttons",[],oF),_i("onShow"),_i("onHide")]),o6=(o,a)=>((c,d)=>{var p,v;const w=c.type==="togglebutton",k=c.icon.map(ie=>yp(ie,d.icons)).map(or),E={...c,name:w?c.text.getOr(c.icon.getOr("")):(p=c.text)!==null&&p!==void 0?p:c.icon.getOr(""),primary:c.buttonType==="primary",buttonType:D.from(c.buttonType),tooltip:c.tooltip,icon:c.icon,enabled:!0,borderless:c.borderless},O=k3((v=c.buttonType)!==null&&v!==void 0?v:"secondary"),L=w?c.text.map(d.translate):D.some(d.translate(c.text)),M=L.map(Cs),H=E.tooltip.or(L).map(ie=>({"aria-label":d.translate(ie)})).getOr({}),q=k.map(ie=>ie.asSpec()),Y=hv([q,M]),se=c.icon.isSome()&&M.isSome(),ce={tag:"button",classes:O.concat(...c.icon.isSome()&&!se?["tox-button--icon"]:[]).concat(...se?["tox-button--icon-and-text"]:[]).concat(...c.borderless?["tox-button--naked"]:[]).concat(...c.type==="togglebutton"&&c.active?["tox-button--enabled"]:[]),attributes:H},ve=I2(E,D.some(ie=>{const ae=me=>{k.map(ye=>ye.getOpt(ie).each(_e=>{zn.set(_e,[yp(me,d.icons)])}))};return w?c.onAction({setIcon:ae,setActive:me=>{const ye=ie.element;me?(us(ye,"tox-button--enabled"),Jt(ye,"aria-pressed",!0)):(ps(ye,"tox-button--enabled"),fo(ye,"aria-pressed"))},isActive:()=>Vi(ie.element,"tox-button--enabled")}):c.type==="button"?c.onAction({setIcon:ae}):void 0}),[],ce,Y,c.tooltip,d);return Oi.sketch(ve)})(o,a),r6=Ua().deviceType,d4=r6.isPhone(),ti=r6.isTablet();var Bv=Cl({name:"silver.View",configFields:[At("viewConfig")],partFields:[ou({factory:{sketch:o=>{let a=!1;const c=bt(o.buttons,d=>d.type==="group"?(a=!0,((p,v)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:bt(p.buttons,w=>o6(w,v))}))(d,o.providers)):o6(d,o.providers));return{uid:o.uid,dom:{tag:"div",classes:[a?"tox-view__toolbar":"tox-view__header",...d4||ti?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Ft([Zn.config({}),An.config({mode:"flow",selector:"button, .tox-button",focusInside:Xb.OnEnterOrSpaceMode})]),components:a?c:[kd.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),kd.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:c})]}}},schema:[At("buttons"),At("providers")],name:"header"}),ou({factory:{sketch:o=>({uid:o.uid,behaviours:Ft([Zn.config({}),Nr.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(o,a,c,d)=>{const p={getPane:v=>ei.getPart(v,o,"pane"),getOnShow:v=>o.viewConfig.onShow,getOnHide:v=>o.viewConfig.onHide};return{uid:o.uid,dom:o.dom,components:a,behaviours:Ft([Zn.config({}),An.config({mode:"cyclic",focusInside:Xb.OnEnterOrSpaceMode})]),apis:p}},apis:{getPane:(o,a)=>o.getPane(a),getOnShow:(o,a)=>o.getOnShow(a),getOnHide:(o,a)=>o.getOnHide(a)}});const rF=(o,a,c)=>As(a,(d,p)=>{const v=Ci(is("view",qm,d));return o.slot(p,Bv.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:v,components:[...v.buttons.length>0?[Bv.parts.header({buttons:v.buttons,providers:c})]:[],Bv.parts.pane({})]}))}),sF=(o,a)=>dl.sketch(c=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:rF(c,o,a),slotBehaviours:d2([Zr(d=>dl.hideAllSlots(d))])})),s6=o=>J(dl.getSlotNames(o),a=>dl.isShowing(o,a)),a6=(o,a,c)=>{dl.getSlot(o,a).each(d=>{Bv.getPane(d).each(p=>{var v;c(d)((v=p.element.dom,{getContainer:te(v)}))})})};var gS=ru({factory:(o,a)=>{const c={setViews:(d,p)=>{zn.set(d,[sF(p,a.backstage.shared.providers)])},whichView:d=>Vo.getCurrent(d).bind(s6),toggleView:(d,p,v,w)=>Vo.getCurrent(d).exists(k=>{const E=s6(k),O=E.exists(M=>w===M),L=dl.getSlot(k,w).isSome();return L&&(dl.hideAllSlots(k),O?((M=>{const H=M.element;Qn(H,"display","none"),Jt(H,"aria-hidden","true")})(d),p()):(v(),(M=>{const H=M.element;nr(H,"display"),fo(H,"aria-hidden")})(d),dl.showSlot(k,w),((M,H)=>{a6(M,H,Bv.getOnShow)})(k,w)),E.each(M=>((H,q)=>a6(H,q,Bv.getOnHide))(k,M))),L})};return{uid:o.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Ft([zn.config({}),Vo.config({find:d=>{const p=zn.contents(d);return $t(p)}})]),apis:c}},name:"silver.ViewWrapper",configFields:[At("backstage")],apis:{setViews:(o,a,c)=>o.setViews(a,c),toggleView:(o,a,c,d,p)=>o.toggleView(a,c,d,p),whichView:(o,a)=>o.whichView(a)}});const aF=jm.optional({factory:X3,name:"menubar",schema:[At("backstage")]}),iF=jm.optional({factory:{sketch:o=>j3.sketch({uid:o.uid,dom:o.dom,listBehaviours:Ft([An.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>c4({type:o.type,uid:mn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:o.providers,onEscape:()=>(o.onEscape(),D.some(!0))}),setupItem:(a,c,d,p)=>{Od.setGroups(c,d)},shell:!0})},name:"multiple-toolbar",schema:[At("dom"),At("onEscape")]}),lF=jm.optional({factory:{sketch:o=>(c=>c.type===Lu.sliding?tF:c.type===Lu.floating?eF:c4)(o)({type:o.type,uid:o.uid,onEscape:()=>(o.onEscape(),D.some(!0)),onToggled:(c,d)=>o.onToolbarToggled(d),cyclicKeying:!1,initGroups:[],getSink:o.getSink,providers:o.providers,moreDrawerData:{lazyToolbar:o.lazyToolbar,lazyMoreButton:o.lazyMoreButton,lazyHeader:o.lazyHeader},attributes:o.attributes})},name:"toolbar",schema:[At("dom"),At("onEscape"),At("getSink")]}),cF=jm.optional({factory:{sketch:o=>{const a=o.editor,c=o.sticky?WN:rS;return{uid:o.uid,dom:o.dom,components:o.components,behaviours:Ft(c(a,o.sharedBackstage))}}},name:"header",schema:[At("dom")]}),uF=jm.optional({factory:{sketch:o=>({uid:o.uid,dom:o.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"Upgrade"}}]})},name:"promotion",schema:[At("dom")]}),dF=jm.optional({name:"socket",schema:[At("dom")]}),fF=jm.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Ft([Nr.config({}),Zn.config({}),Nl.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:a=>{Vo.getCurrent(a).each(dl.hideAllSlots),go(a,e4)},onGrown:a=>{go(a,e4)},onStartGrow:a=>{Sn(a,Q3,{width:Ts(a.element,"width").getOr("")})},onStartShrink:a=>{Sn(a,Q3,{width:fa(a.element)+"px"})}}),zn.config({}),Vo.config({find:a=>{const c=zn.contents(a);return $t(c)}})])}],behaviours:Ft([qA(0),uo("sidebar-sliding-events",[xt(Q3,(a,c)=>{Qn(a.element,"width",c.event.width)}),xt(e4,(a,c)=>{nr(a.element,"width")})])])})},name:"sidebar",schema:[At("dom")]}),mF=jm.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Ft([zn.config({}),qu.config({focus:!1}),Vo.config({find:a=>$t(a.components())})]),components:[]})},name:"throbber",schema:[At("dom")]}),gF=jm.optional({factory:gS,name:"viewWrapper",schema:[At("backstage")]}),hF=jm.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:o.components})},name:"editorContainer",schema:[]});var Hr=Cl({name:"OuterContainer",factory:(o,a,c)=>{let d=!1;const p=w=>{Br(w,".tox-statusbar").each(k=>{as(k,"display")==="none"&&Co(k,"aria-hidden")==="true"?(nr(k,"display"),fo(k,"aria-hidden")):(Qn(k,"display","none"),Jt(k,"aria-hidden","true"))})},v={getSocket:w=>ei.getPart(w,o,"socket"),setSidebar:(w,k,E)=>{ei.getPart(w,o,"sidebar").each(O=>((L,M,H)=>{Vo.getCurrent(L).each(q=>{zn.set(q,[qN(M)]);const Y=H==null?void 0:H.toLowerCase();h(Y)&&po(M,Y)&&Vo.getCurrent(q).each(se=>{dl.showSlot(se,Y),Nl.immediateGrow(q),nr(q.element,"width"),lS(L.element,"region")})})})(O,k,E))},toggleSidebar:(w,k)=>{ei.getPart(w,o,"sidebar").each(E=>((O,L)=>{Vo.getCurrent(O).each(M=>{Vo.getCurrent(M).each(H=>{Nl.hasGrown(M)?dl.isShowing(H,L)?(Nl.shrink(M),lS(O.element,"presentation")):(dl.hideAllSlots(H),dl.showSlot(H,L),lS(O.element,"region")):(dl.hideAllSlots(H),dl.showSlot(H,L),Nl.grow(M),lS(O.element,"region"))})})})(E,k))},whichSidebar:w=>ei.getPart(w,o,"sidebar").bind(UL).getOrNull(),getHeader:w=>ei.getPart(w,o,"header"),getToolbar:w=>ei.getPart(w,o,"toolbar"),setToolbar:(w,k)=>{ei.getPart(w,o,"toolbar").each(E=>{const O=bt(k,mS);E.getApis().setGroups(E,O)})},setToolbars:(w,k)=>{ei.getPart(w,o,"multiple-toolbar").each(E=>{const O=bt(k,L=>bt(L,mS));j3.setItems(E,O)})},refreshToolbar:w=>{ei.getPart(w,o,"toolbar").each(k=>k.getApis().refresh(k))},toggleToolbarDrawer:w=>{ei.getPart(w,o,"toolbar").each(k=>{Js(k.getApis().toggle,E=>E(k))})},toggleToolbarDrawerWithoutFocusing:w=>{ei.getPart(w,o,"toolbar").each(k=>{Js(k.getApis().toggleWithoutFocusing,E=>E(k))})},isToolbarDrawerToggled:w=>ei.getPart(w,o,"toolbar").bind(k=>D.from(k.getApis().isOpen).map(E=>E(k))).getOr(!1),getThrobber:w=>ei.getPart(w,o,"throbber"),focusToolbar:w=>{ei.getPart(w,o,"toolbar").orThunk(()=>ei.getPart(w,o,"multiple-toolbar")).each(k=>{An.focusIn(k)})},setMenubar:(w,k)=>{ei.getPart(w,o,"menubar").each(E=>{X3.setMenus(E,k)})},focusMenubar:w=>{ei.getPart(w,o,"menubar").each(k=>{X3.focus(k)})},setViews:(w,k)=>{ei.getPart(w,o,"viewWrapper").each(E=>{gS.setViews(E,k)})},toggleView:(w,k)=>ei.getPart(w,o,"viewWrapper").exists(E=>gS.toggleView(E,()=>v.showMainView(w),()=>v.hideMainView(w),k)),whichView:w=>ei.getPart(w,o,"viewWrapper").bind(gS.whichView).getOrNull(),hideMainView:w=>{d=v.isToolbarDrawerToggled(w),d&&v.toggleToolbarDrawer(w),ei.getPart(w,o,"editorContainer").each(k=>{const E=k.element;p(E),Qn(E,"display","none"),Jt(E,"aria-hidden","true")})},showMainView:w=>{d&&v.toggleToolbarDrawer(w),ei.getPart(w,o,"editorContainer").each(k=>{const E=k.element;p(E),nr(E,"display"),fo(E,"aria-hidden")})}};return{uid:o.uid,dom:o.dom,components:a,apis:v,behaviours:o.behaviours}},configFields:[At("dom"),At("behaviours")],partFields:[cF,aF,lF,iF,dF,fF,uF,mF,gF,hF],apis:{getSocket:(o,a)=>o.getSocket(a),setSidebar:(o,a,c,d)=>{o.setSidebar(a,c,d)},toggleSidebar:(o,a,c)=>{o.toggleSidebar(a,c)},whichSidebar:(o,a)=>o.whichSidebar(a),getHeader:(o,a)=>o.getHeader(a),getToolbar:(o,a)=>o.getToolbar(a),setToolbar:(o,a,c)=>{o.setToolbar(a,c)},setToolbars:(o,a,c)=>{o.setToolbars(a,c)},refreshToolbar:(o,a)=>o.refreshToolbar(a),toggleToolbarDrawer:(o,a)=>{o.toggleToolbarDrawer(a)},toggleToolbarDrawerWithoutFocusing:(o,a)=>{o.toggleToolbarDrawerWithoutFocusing(a)},isToolbarDrawerToggled:(o,a)=>o.isToolbarDrawerToggled(a),getThrobber:(o,a)=>o.getThrobber(a),setMenubar:(o,a,c)=>{o.setMenubar(a,c)},focusMenubar:(o,a)=>{o.focusMenubar(a)},focusToolbar:(o,a)=>{o.focusToolbar(a)},setViews:(o,a,c)=>{o.setViews(a,c)},toggleView:(o,a,c)=>o.toggleView(a,c),whichView:(o,a)=>o.whichView(a)}});const i6={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},f4=o=>o.split(" "),l6=(o,a)=>{const c={...i6,...a.menus},d=on(a.menus).length>0,p=a.menubar===void 0||a.menubar===!0?f4("file edit view insert format tools table help"):f4(a.menubar===!1?"":a.menubar),v=ho(p,k=>{const E=po(i6,k);return d?E||un(a.menus,k).exists(O=>po(O,"items")):E}),w=bt(v,k=>{const E=c[k];return((O,L,M)=>{const H=E5(M).split(/[ ,]/);return{text:O.title,getItems:()=>Ko(O.items,q=>{const Y=q.toLowerCase();return Y.trim().length===0||On(H,se=>se===Y)?[]:Y==="separator"||Y==="|"?[{type:"separator"}]:L.menuItems[Y]?[L.menuItems[Y]]:[]})}})({title:E.title,items:f4(E.items)},a,o)});return ho(w,k=>k.getItems().length>0&&On(k.getItems(),E=>h(E)||E.type!=="separator"))},c6=(o,a,c)=>(o.on("remove",()=>c.unload(a)),c.load(a)),m4=(o,a,c,d)=>(o.on("remove",()=>d.unloadRawCss(a)),d.loadRawCss(a,c)),pF=async(o,a)=>{const c="ui/"+PC(o).getOr("default")+"/skin.css",d=tinymce.Resource.get(c);if(!h(d)){const p=o.editorManager.suffix;return c6(o,a+`/skin${p}.css`,o.ui.styleSheetLoader)}m4(o,c,d,o.ui.styleSheetLoader)},bF=async(o,a)=>{var c;if(c=Qt(o.getElement()),Lt(c).isSome()){const d="ui/"+PC(o).getOr("default")+"/skin.shadowdom.css",p=tinymce.Resource.get(d);if(!h(p)){const v=o.editorManager.suffix;return c6(o,a+`/skin.shadowdom${v}.css`,av.DOM.styleSheetLoader)}m4(o,d,p,av.DOM.styleSheetLoader)}},u6=(o,a)=>(async(c,d)=>{const p=()=>{const w=MC(d),k=d.editorManager.suffix;w&&d.contentCSS.push(w+(c?"/content.inline":"/content")+`${k}.css`)};PC(d).fold(p,w=>{const k="ui/"+w+(c?"/content.inline":"/content")+".css",E=tinymce.Resource.get(k);h(E)?m4(d,k,E,d.ui.styleSheetLoader):p()});const v=MC(d);if(!ep(d)&&h(v))return Promise.all([pF(d,v),bF(d,v)]).then()})(o,a).then((c=>{const d=()=>{c._skinLoaded=!0,(p=>{p.dispatch("SkinLoaded")})(c)};return()=>{c.initialized?d():c.on("init",d)}})(a),((c,d)=>()=>((p,v)=>{p.dispatch("SkinLoadError",v)})(c,{message:"Skin could not be loaded"}))(a)),d6=Ge(u6,!1),vF=Ge(u6,!0),T0=(o,a,c)=>pu(c)?o.translate(a):o.translate([a,o.translate(c)]),yF=(o,a)=>{const c=(v,w,k,E)=>{const O=o.shared.providers.translate(v.title);if(v.type==="separator")return D.some({type:"separator",text:O});if(v.type==="submenu"){const L=Ko(v.getStyleItems(),M=>d(M,w,E));return w===0&&L.length<=0?D.none():D.some({type:"nestedmenuitem",text:O,enabled:L.length>0,getSubmenuItems:()=>Ko(v.getStyleItems(),M=>d(M,w,E))})}return D.some({type:"togglemenuitem",text:O,icon:v.icon,active:v.isSelected(E),enabled:!k,onAction:a.onAction(v),...v.getStylePreview().fold(()=>({}),L=>({meta:{style:L}}))})},d=(v,w,k)=>{const E=v.type==="formatter"&&a.isInvalid(v);return w===0?E?[]:c(v,w,!1,k).toArray():c(v,w,E,k).toArray()},p=v=>{const w=a.getCurrentValue(),k=a.shouldHide?0:1;return Ko(v,E=>d(E,k,w))};return{validateItems:p,getFetch:(v,w)=>(k,E)=>{const O=w(),L=p(O);E(k0(L,Tf.CLOSE_ON_EXECUTE,v,{isHorizontalMenu:!1,search:D.none()}))}}},Mv=(o,a)=>{const c=a.dataset,d=c.type==="basic"?()=>bt(c.data,p=>DN(p,a.isSelectedFor,a.getPreviewFor)):c.getData;return{items:yF(o,a),getStyleItems:d}},V2=(o,a,c,d,p,v)=>{const{items:w,getStyleItems:k}=Mv(a,c),E=Dn(c.tooltip);return f3({text:c.icon.isSome()?D.none():c.text,icon:c.icon,ariaLabel:D.some(c.tooltip),tooltip:D.none(),role:D.none(),fetch:w.getFetch(a,k),onSetup:O=>{const L=M=>O.setTooltip(T0(o,d(M.value),M.value));return o.on(p,L),yv(b0(o,"NodeChange",M=>{const H=M.getComponent();c.updateText(H),Kn.set(M.getComponent(),!o.selection.isEditable())})(O),()=>o.off(p,L))},getApi:O=>({getComponent:te(O),setTooltip:L=>{const M=a.shared.providers.translate(L);Jt(O.element,"aria-label",M),E.set(L)}}),columns:1,presets:"normal",classes:c.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Ws.config({...a.shared.providers.tooltips.getConfig({tooltipText:a.shared.providers.translate(c.tooltip),onShow:O=>{if(c.tooltip!==E.get()){const L=a.shared.providers.translate(E.get());Ws.setComponents(O,a.shared.providers.tooltips.getComponents({tooltipText:L}))}}})})]},"tox-tbtn",a.shared,v)};var O0;(function(o){o[o.SemiColon=0]="SemiColon",o[o.Space=1]="Space"})(O0||(O0={}));const g4=(o,a,c)=>{const d=(p=((v,w)=>w===O0.SemiColon?v.replace(/;$/,"").split(";"):v.split(" "))(o.options.get(a),c),bt(p,v=>{let w=v,k=v;const E=v.split("=");return E.length>1&&(w=E[0],k=E[1]),{title:w,format:k}}));var p;return{type:"basic",data:d}},f6=te("Alignment {0}"),m6="left",h4=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],p4=o=>{const a={type:"basic",data:h4};return{tooltip:T0(o,f6(),m6),text:D.none(),icon:D.some("align-left"),isSelectedFor:c=>()=>o.formatter.match(c),getCurrentValue:D.none,getPreviewFor:c=>D.none,onAction:c=>()=>J(h4,d=>d.format===c.format).each(d=>o.execCommand(d.command)),updateText:c=>{const d=J(h4,p=>o.formatter.match(p.format)).fold(te(m6),p=>p.title.toLowerCase());Sn(c,Zu,{icon:`align-${d}`}),((p,v)=>{p.dispatch("AlignTextUpdate",v)})(o,{value:d})},dataset:a,shouldHide:!1,isInvalid:c=>!o.formatter.canApply(c.format)}},g6=(o,a)=>{const c=a(),d=bt(c,p=>p.format);return D.from(o.formatter.closest(d)).bind(p=>J(c,v=>v.format===p))},b4=te("Block {0}"),v4="Paragraph",y4=o=>{const a=g4(o,"block_formats",O0.SemiColon);return{tooltip:T0(o,b4(),v4),text:D.some(v4),icon:D.none(),isSelectedFor:c=>()=>o.formatter.match(c),getCurrentValue:D.none,getPreviewFor:c=>()=>{const d=o.formatter.get(c);return d?D.some({tag:d.length>0&&(d[0].inline||d[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(c))}):D.none()},onAction:UD(o),updateText:c=>{const d=g6(o,()=>a.data).fold(te(v4),p=>p.title);Sn(c,uu,{text:d}),((p,v)=>{p.dispatch("BlocksTextUpdate",v)})(o,{value:d})},dataset:a,shouldHide:!1,isInvalid:c=>!o.formatter.canApply(c.format)}},h6=te("Font {0}"),x4="System Font",xF=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],p6=o=>{const a=o.split(/\s*,\s*/);return bt(a,c=>c.replace(/^['"]+|['"]+$/g,""))},b6=(o,a)=>a.length>0&&oi(a,c=>o.indexOf(c.toLowerCase())>-1),v6=o=>{const a=()=>{const d=O=>O?p6(O)[0]:"",p=o.queryCommandValue("FontName"),v=c.data,w=p?p.toLowerCase():"",k=BC(o);return{matchOpt:J(v,O=>{const L=O.format;return L.toLowerCase()===w||d(L).toLowerCase()===d(w).toLowerCase()}).orThunk(()=>Uo(((O,L)=>{if(O.indexOf("-apple-system")===0||L.length>0){const M=p6(O.toLowerCase());return b6(M,xF)||b6(M,L)}return!1})(w,k),{title:x4,format:w})),font:p}},c=g4(o,"font_family_formats",O0.SemiColon);return{tooltip:T0(o,h6(),x4),text:D.some(x4),icon:D.none(),isSelectedFor:d=>p=>p.exists(v=>v.format===d),getCurrentValue:()=>{const{matchOpt:d}=a();return d},getPreviewFor:d=>()=>D.some({tag:"div",styles:d.indexOf("dings")===-1?{"font-family":d}:{}}),onAction:d=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontName",!1,d.format)})},updateText:d=>{const{matchOpt:p,font:v}=a(),w=p.fold(te(v),k=>k.title);Sn(d,uu,{text:w}),((k,E)=>{k.dispatch("FontFamilyTextUpdate",E)})(o,{value:w})},dataset:c,shouldHide:!1,isInvalid:Ce}},wF={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},CF=(()=>{const o="[0-9]+",a="[eE][+-]?"+o,c=p=>`(?:${p})?`,d=["Infinity",o+"\\."+c(o)+c(a),"\\."+o+c(a),o+c(a)].join("|");return new RegExp(`^([+-]?(?:${d}))(.*)$`)})(),hS=(o,a)=>D.from(CF.exec(o)).bind(c=>{const d=Number(c[1]),p=c[2];return((v,w)=>On(w,k=>On(wF[k],E=>v===E)))(p,a)?D.some({value:d,unit:p}):D.none()}),y6={tab:te(9),escape:te(27),enter:te(13),backspace:te(8),delete:te(46),left:te(37),up:te(38),right:te(39),down:te(40),space:te(32),home:te(36),end:te(35),pageUp:te(33),pageDown:te(34)},x6=te("Font size {0}"),w6="12pt",_F={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},C6={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},SF=(o,a)=>/[0-9.]+px$/.test(o)?((c,d)=>{const p=Math.pow(10,d);return Math.round(c*p)/p})(72*parseInt(o,10)/96,a||0)+"pt":un(C6,o).getOr(o),kF=o=>un(_F,o).getOr(""),_6=o=>{const a=()=>{let p=D.none();const v=d.data,w=o.queryCommandValue("FontSize");if(w)for(let k=3;p.isNone()&&k>=0;k--){const E=SF(w,k),O=kF(E);p=J(v,L=>L.format===w||L.format===E||L.format===O)}return{matchOpt:p,size:w}},c=te(D.none),d=g4(o,"font_size_formats",O0.Space);return{tooltip:T0(o,x6(),w6),text:D.some(w6),icon:D.none(),isSelectedFor:p=>v=>v.exists(w=>w.format===p),getPreviewFor:c,getCurrentValue:()=>{const{matchOpt:p}=a();return p},onAction:p=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontSize",!1,p.format)})},updateText:p=>{const{matchOpt:v,size:w}=a(),k=v.fold(te(w),E=>E.title);Sn(p,uu,{text:k}),((E,O)=>{E.dispatch("FontSizeTextUpdate",O)})(o,{value:k})},dataset:d,shouldHide:!1,isInvalid:Ce}},S6=o=>pu(o)?"Formats":"Format {0}",k6=(o,a)=>{const c="Formats";return{tooltip:T0(o,S6(""),""),text:D.some(c),icon:D.none(),isSelectedFor:d=>()=>o.formatter.match(d),getCurrentValue:D.none,getPreviewFor:d=>()=>{const p=o.formatter.get(d);return p!==void 0?D.some({tag:p.length>0&&(p[0].inline||p[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(d))}):D.none()},onAction:UD(o),updateText:d=>{const p=k=>AN(k)?Ko(k.items,p):TN(k)?[{title:k.title,format:k.format}]:[],v=Ko(ON(o),p),w=g6(o,te(v)).fold(te({title:c,tooltipLabel:""}),k=>({title:k.title,tooltipLabel:k.title}));Sn(d,uu,{text:w.title}),((k,E)=>{k.dispatch("StylesTextUpdate",E)})(o,{value:w.tooltipLabel})},shouldHide:k5(o),isInvalid:d=>!o.formatter.canApply(d.format),dataset:a}},w4=te([At("toggleClass"),At("fetch"),Nu("onExecute"),et("getHotspot",D.some),et("getAnchorOverrides",te({})),ff(),Nu("onItemExecute"),Bo("lazySink"),At("dom"),Fo("onOpen"),gn("splitDropdownBehaviours",[_s,An,Zn]),et("matchWidth",!1),et("useMinWidth",!1),et("eventOrder",{}),Bo("role"),Bo("listRole")].concat(vA())),EF=cl({factory:Oi,schema:[At("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Ft([Zn.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:a=>{a.getSystem().getByUid(o.uid).each(rf)},buttonBehaviours:Ft([Un.config({toggleOnExecute:!1,toggleClass:o.toggleClass})])})}),AF=cl({factory:Oi,schema:[At("dom")],name:"button",defaults:()=>({buttonBehaviours:Ft([Zn.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:a=>{a.getSystem().getByUid(o.uid).each(c=>{o.onExecute(c,a)})}})}),TF=te([EF,AF,ou({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[At("text")],name:"aria-descriptor"}),wd({schema:[Rg()],name:"menu",defaults:o=>({onExecute:(a,c)=>{a.getSystem().getByUid(o.uid).each(d=>{o.onItemExecute(d,a,c)})}})}),sR()]),$2=Cl({name:"SplitDropdown",configFields:w4(),partFields:TF(),factory:(o,a,c,d)=>{const p=O=>{Vo.getCurrent(O).each(L=>{ar.highlightFirst(L),An.focusIn(L)})},v=O=>{hA(o,Ae,O,d,p,ji.HighlightMenuAndItem).get(he)},w=O=>{const L=qg(O,o,"button");return rf(L),D.some(!0)},k={...to([Zr((O,L)=>{Mr(O,o,"aria-descriptor").each(M=>{const H=mn("aria");Jt(M.element,"id",H),Jt(O.element,"aria-describedby",H)})})]),...sv(D.some(v))},E={repositionMenus:O=>{Un.isOn(O)&&lR(O)}};return{uid:o.uid,dom:o.dom,components:a,apis:E,eventOrder:{...o.eventOrder,[rl()]:["disabling","toggling","alloy.base.behaviour"]},events:k,behaviours:co(o.splitDropdownBehaviours,[_s.config({others:{sandbox:O=>{const L=qg(O,o,"arrow");return bA(o,O,{onOpen:()=>{Un.on(L),Un.on(O)},onClose:()=>{Un.off(L),Un.off(O)}})}}}),An.config({mode:"special",onSpace:w,onEnter:w,onDown:O=>(v(O),D.some(!0))}),Zn.config({}),Un.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:o.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(o,a)=>o.repositionMenus(a)}}),C4=o=>({isEnabled:()=>!Kn.isDisabled(o),setEnabled:a=>Kn.set(o,!a),setText:a=>Sn(o,uu,{text:a}),setIcon:a=>Sn(o,Zu,{icon:a})}),OF=o=>({setActive:a=>{Un.set(o,a)},isActive:()=>Un.isOn(o),isEnabled:()=>!Kn.isDisabled(o),setEnabled:a=>Kn.set(o,!a),setText:a=>Sn(o,uu,{text:a}),setIcon:a=>Sn(o,Zu,{icon:a})}),E6=(o,a)=>o.map(c=>({"aria-label":a.translate(c)})).getOr({}),_4=mn("focus-button"),S4=(o,a,c,d,p,v)=>{const w=a.map(E=>or(d3(E,"tox-tbtn",p))),k=o.map(E=>or(yp(E,p.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(a.isSome()?["tox-tbtn--select"]:[]),attributes:{...E6(c,p),...$(v)?{"data-mce-name":v}:{}}},components:hv([k.map(E=>E.asSpec()),w.map(E=>E.asSpec())]),eventOrder:{[Tt()]:["focusing","alloy.base.behaviour",vp],[qa()]:[vp,"toolbar-group-button-events"]},buttonBehaviours:Ft([o_(p.isDisabled),ba(),uo(vp,[Zr((E,O)=>W_(E)),xt(uu,(E,O)=>{w.bind(L=>L.getOpt(E)).each(L=>{zn.set(L,[Cs(p.translate(O.event.text))])})}),xt(Zu,(E,O)=>{k.bind(L=>L.getOpt(E)).each(L=>{zn.set(L,[yp(O.event.icon,p.icons)])})}),xt(Tt(),(E,O)=>{O.event.prevent(),go(E,_4)})])].concat(d.getOr([])))}},A6=(o,a,c,d)=>{var p;const v=Dn(he),w=S4(o.icon,o.text,o.tooltip,D.none(),c,d);return Oi.sketch({dom:w.dom,components:w.components,eventOrder:u3,buttonBehaviours:{...Ft([uo("toolbar-button-events",[(k={onAction:o.onAction,getApi:a.getApi},Yc((E,O)=>{f2(k,E)(L=>{Sn(E,U_,{buttonApi:L}),k.onAction(L)})})),cp(a,v),eh(a,v)]),...o.tooltip.map(E=>Ws.config(c.tooltips.getConfig({tooltipText:c.translate(E)+o.shortcut.map(O=>` (${r_(O)})`).getOr("")}))).toArray(),o_(()=>!o.enabled||c.isDisabled()),ba()].concat(a.toolbarButtonBehaviours)),[vp]:(p=w.buttonBehaviours)===null||p===void 0?void 0:p[vp]}});var k},T6=(o,a,c,d)=>A6(o,{toolbarButtonBehaviours:c.length>0?[uo("toolbarButtonWith",c)]:[],getApi:C4,onSetup:o.onSetup},a,d),O6=(o,a,c,d)=>A6(o,{toolbarButtonBehaviours:[zn.config({}),Un.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(c.length>0?[uo("toolbarToggleButtonWith",c)]:[]),getApi:OF,onSetup:o.onSetup},a,d),DF=(o,a,c)=>d=>up(p=>a.fetch(p)).map(p=>D.from(yA(xr(y0(mn("menu-value"),p,v=>{a.onItemAction(o(d),v)},a.columns,a.presets,Tf.CLOSE_ON_EXECUTE,a.select.getOr(Ce),c),{movement:b2(a.columns,a.presets),menuBehaviours:d2(a.columns!=="auto"?[]:[Zr((v,w)=>{WE(v,4,ap(a.presets)).each(({numRows:k,numColumns:E})=>{An.setGridSize(v,k,E)})})])})))),RF=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],_p=(o,a)=>(c,d,p,v)=>{const w=o(c).mapError(k=>zi(k)).getOrDie();return a(w,d,p,v)},NF={button:_p(bD,(o,a,c,d)=>((p,v,w)=>T6(p,v,[],w))(o,a.shared.providers,d)),togglebutton:_p(e_,(o,a,c,d)=>((p,v,w)=>O6(p,v,[],w))(o,a.shared.providers,d)),menubutton:_p(jN,(o,a,c,d)=>Tv(o,"tox-tbtn",a,D.none(),!1,d)),splitbutton:_p(o=>is("SplitButton",LL,o),(o,a,c,d)=>((p,v,w)=>{const k=Dn(p.tooltip.getOr("")),E=M=>({isEnabled:()=>!Kn.isDisabled(M),setEnabled:H=>Kn.set(M,!H),setIconFill:(H,q)=>{Jr(M.element,`svg path[class="${H}"], rect[class="${H}"]`).each(Y=>{Jt(Y,"fill",q)})},setActive:H=>{Jt(M.element,"aria-pressed",H),Jr(M.element,"span").each(q=>{M.getSystem().getByDom(q).each(Y=>Un.set(Y,H))})},isActive:()=>Jr(M.element,"span").exists(H=>M.getSystem().getByDom(H).exists(Un.isOn)),setText:H=>Jr(M.element,"span").each(q=>M.getSystem().getByDom(q).each(Y=>Sn(Y,uu,{text:H}))),setIcon:H=>Jr(M.element,"span").each(q=>M.getSystem().getByDom(q).each(Y=>Sn(Y,Zu,{icon:H}))),setTooltip:H=>{const q=v.providers.translate(H);Jt(M.element,"aria-label",q),k.set(H)}}),O=Dn(he),L={getApi:E,onSetup:p.onSetup};return $2.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...E6(p.tooltip,v.providers),...$(w)?{"data-mce-name":w}:{}}},onExecute:M=>{const H=E(M);H.isEnabled()&&p.onAction(H)},onItemExecute:(M,H,q)=>{},splitDropdownBehaviours:Ft([TD(v.providers.isDisabled),ba(),uo("split-dropdown-events",[Zr((M,H)=>W_(M)),xt(_4,Zn.focus),cp(L,O),eh(L,O)]),w0.config({}),...p.tooltip.map(M=>Ws.config({...v.providers.tooltips.getConfig({tooltipText:v.providers.translate(M),onShow:H=>{if(k.get()!==M){const q=v.providers.translate(k.get());Ws.setComponents(H,v.providers.tooltips.getComponents({tooltipText:q}))}}})})).toArray()]),eventOrder:{[qa()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[gc()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:v.getSink,fetch:DF(E,p,v.providers),parts:{menu:GC(0,p.columns,p.presets)},components:[$2.parts.button(S4(p.icon,p.text,D.none(),D.some([Un.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),v.providers)),$2.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:G5("chevron-down",v.providers.icons)},buttonBehaviours:Ft([TD(v.providers.isDisabled),ba(),jC()])}),$2.parts["aria-descriptor"]({text:v.providers.translate("To open the popup, press Shift+Enter")})]})})(o,a.shared,d)),grouptoolbarbutton:_p(o=>is("GroupToolbarButton",ML,o),(o,a,c,d)=>{const p=c.ui.registry.getAll().buttons,v={[ll]:a.shared.header.isPositionedAtTop()?Sc.TopToBottom:Sc.BottomToTop};if(a0(c)===Lu.floating)return((w,k,E,O,L)=>{const M=k.shared,H=Dn(he),q={toolbarButtonBehaviours:[],getApi:C4,onSetup:w.onSetup},Y=[uo("toolbar-group-button-events",[cp(q,H),eh(q,H)])];return lh.sketch({lazySink:M.getSink,fetch:()=>up(se=>{se(bt(E(w.items),mS))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:S4(w.icon,w.text,w.tooltip,D.some(Y),M.providers,L),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:O}}}})})(o,a,w=>pS(c,{buttons:p,toolbar:w,allowToolbarGroups:!1},a,D.none()),v,d);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},U2={styles:(o,a)=>{const c={type:"advanced",...a.styles};return V2(o,a,k6(o,c),S6,"StylesTextUpdate","styles")},fontsize:(o,a)=>V2(o,a,_6(o),x6,"FontSizeTextUpdate","fontsize"),fontsizeinput:(o,a)=>((c,d,p,v)=>{let w=D.none();const k=b0(c,"NodeChange SwitchMode",me=>{const ye=me.getComponent();w=D.some(ye),p.updateInputValue(ye),Kn.set(ye,!c.selection.isEditable())}),E=me=>({getComponent:te(me)}),O=Dn(he),L=mn("custom-number-input-events"),M=(me,ye,_e)=>{const Le=w.map(Bt=>rt.getValue(Bt)).getOr(""),Xe=p.getNewValue(Le,me),_t=Le.length-`${Xe}`.length,vt=w.map(Bt=>Bt.element.dom.selectionStart-_t),gt=w.map(Bt=>Bt.element.dom.selectionEnd-_t);p.onAction(Xe,_e),w.each(Bt=>{rt.setValue(Bt,Xe),ye&&(vt.each(sn=>Bt.element.dom.selectionStart=sn),gt.each(sn=>Bt.element.dom.selectionEnd=sn))})},H=(me,ye)=>M((_e,Le)=>_e-Le,me,ye),q=(me,ye)=>M((_e,Le)=>_e+Le,me,ye),Y=me=>ai(me.element).fold(D.none,ye=>(Ei(ye),D.some(!0))),se=me=>Vg(me.element)?(Se(me.element).each(ye=>Ei(ye)),D.some(!0)):D.none(),ce=(me,ye,_e,Le)=>{const Xe=Dn(he),_t=d.shared.providers.translate(_e),vt=mn("altExecuting"),gt=b0(c,"NodeChange SwitchMode",sn=>{Kn.set(sn.getComponent(),!c.selection.isEditable())}),Bt=sn=>{Kn.isDisabled(sn)||me(!0)};return Oi.sketch({dom:{tag:"button",attributes:{"aria-label":_t,"data-mce-name":ye},classes:Le.concat(ye)},components:[O2(ye,d.shared.providers.icons)],buttonBehaviours:Ft([Kn.config({}),Ws.config(d.shared.providers.tooltips.getConfig({tooltipText:_t})),uo(vt,[cp({onSetup:gt,getApi:E},Xe),eh({getApi:E},Xe),xt(cs(),(sn,vn)=>{vn.event.raw.keyCode!==y6.space()&&vn.event.raw.keyCode!==y6.enter()||Kn.isDisabled(sn)||me(!1)}),xt(ea(),Bt),xt(Oe(),Bt)])]),eventOrder:{[cs()]:[vt,"keying"],[ea()]:[vt,"alloy.base.behaviour"],[Oe()]:[vt,"alloy.base.behaviour"],[qa()]:["alloy.base.behaviour",vt,"tooltipping"],[gc()]:[vt,"tooltipping"]}})},ve=or(ce(me=>H(!1,me),"minus","Decrease font size",[])),ie=or(ce(me=>q(!1,me),"plus","Increase font size",[])),ae=or({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[Qg.sketch({inputBehaviours:Ft([Kn.config({}),uo(L,[cp({onSetup:k,getApi:E},O),eh({getApi:E},O)]),uo("input-update-display-text",[xt(uu,(me,ye)=>{rt.setValue(me,ye.event.text)}),xt(Ns(),me=>{p.onAction(rt.getValue(me))}),xt(um(),me=>{p.onAction(rt.getValue(me))})]),An.config({mode:"special",onEnter:me=>(M(Ae,!0,!0),D.some(!0)),onEscape:Y,onUp:me=>(q(!0,!1),D.some(!0)),onDown:me=>(H(!0,!1),D.some(!0)),onLeft:(me,ye)=>(ye.cut(),D.none()),onRight:(me,ye)=>(ye.cut(),D.none())})])})],behaviours:Ft([Zn.config({}),An.config({mode:"special",onEnter:se,onSpace:se,onEscape:Y}),uo("input-wrapper-events",[xt(_n(),me=>{Zt([ve,ie],ye=>{const _e=Qt(ye.get(me).element.dom);Vg(_e)&&Ob(_e)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...$(v)?{"data-mce-name":v}:{}}},components:[ve.asSpec(),ae.asSpec(),ie.asSpec()],behaviours:Ft([Zn.config({}),An.config({mode:"flow",focusInside:Xb.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:me=>Vg(me.element)?D.none():(Ei(me.element),D.some(!0))})])}})(o,a,(c=>{const d=()=>c.queryCommandValue("FontSize");return{updateInputValue:p=>Sn(p,uu,{text:d()}),onAction:(p,v)=>c.execCommand("FontSize",!1,p,{skip_focus:!v}),getNewValue:(p,v)=>{hS(p,["unsupportedLength","empty"]);const w=d(),k=hS(p,["unsupportedLength","empty"]).or(hS(w,["unsupportedLength","empty"])),E=k.map(q=>q.value).getOr(16),O=pE(c),L=k.map(q=>q.unit).filter(q=>q!=="").getOr(O),M=v(E,(q=>{var Y;return(Y={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[q])!==null&&Y!==void 0?Y:{step:1}})(L).step),H=`${(q=>q>=0)(M)?M:E}${L}`;return H!==w&&((q,Y)=>{q.dispatch("FontSizeInputTextUpdate",Y)})(c,{value:H}),H}}})(o),"fontsizeinput"),fontfamily:(o,a)=>V2(o,a,v6(o),h6,"FontFamilyTextUpdate","fontfamily"),blocks:(o,a)=>V2(o,a,y4(o),b4,"BlocksTextUpdate","blocks"),align:(o,a)=>V2(o,a,p4(o),f6,"AlignTextUpdate","align")},pS=(o,a,c,d)=>{const p=(w=>{const k=w.toolbar,E=w.buttons;return k===!1?[]:k===void 0||k===!0?(O=>{const L=bt(RF,M=>{const H=ho(M.items,q=>po(O,q)||po(U2,q));return{name:M.name,items:H}});return ho(L,M=>M.items.length>0)})(E):h(k)?(O=>{const L=O.split("|");return bt(L,M=>({items:M.trim().split(" ")}))})(k):(O=>ge(O,L=>po(L,"name")&&po(L,"items")))(k)?k:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(a),v=bt(p,w=>{const k=Ko(w.items,E=>E.trim().length===0?[]:((O,L,M,H,q,Y)=>un(L,M.toLowerCase()).orThunk(()=>Y.bind(se=>It(se,ce=>un(L,ce+M.toLowerCase())))).fold(()=>un(U2,M.toLowerCase()).map(se=>se(O,q)),se=>se.type!=="grouptoolbarbutton"||H?((ce,ve,ie,ae)=>un(NF,ce.type).fold(()=>(console.error("skipping button defined by",ce),D.none()),me=>D.some(me(ce,ve,ie,ae))))(se,q,O,M.toLowerCase()):(console.warn(`Ignoring the '${M}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),D.none())))(o,a.buttons,E,a.allowToolbarGroups,c,d).toArray());return{title:D.from(o.translate(w.name)),items:k}});return ho(v,w=>w.items.length>0)},D6=(o,a,c,d)=>{const p=a.mainUi.outerContainer,v=c.toolbar,w=c.buttons;if(ge(v,h)){const k=v.map(E=>{const O={toolbar:E,buttons:w,allowToolbarGroups:c.allowToolbarGroups};return pS(o,O,d,D.none())});Hr.setToolbars(p,k)}else Hr.setToolbar(p,pS(o,c,d,D.none()))},R6=Ua(),IF=R6.os.isiOS()&&R6.os.version.major<=12;var h$=Object.freeze({__proto__:null,render:(o,a,c,d,p)=>{const{mainUi:v,uiMotherships:w}=a,k=Dn(0),E=v.outerContainer;d6(o);const O=Qt(p.targetNode),L=je(st(O));mt(O,v.mothership),((Y,se,ce)=>{Jg(Y)&&mt(ce.mainUi.mothership.element,ce.popupUi.mothership),bx(se,ce.dialogUi.mothership)})(o,L,a),o.on("SkinLoaded",()=>{Hr.setSidebar(E,c.sidebar,IC(o)),D6(o,a,c,d),k.set(o.getWin().innerWidth),Hr.setMenubar(E,l6(o,c)),Hr.setViews(E,c.views),((Y,se)=>{const{uiMotherships:ce}=se,ve=Y.dom;let ie=Y.getWin();const ae=Y.getDoc().documentElement,me=Dn(Lr(ie.innerWidth,ie.innerHeight)),ye=Dn(Lr(ae.offsetWidth,ae.offsetHeight)),_e=()=>{const vt=me.get();vt.left===ie.innerWidth&&vt.top===ie.innerHeight||(me.set(Lr(ie.innerWidth,ie.innerHeight)),p0(Y))},Le=()=>{const vt=Y.getDoc().documentElement,gt=ye.get();gt.left===vt.offsetWidth&&gt.top===vt.offsetHeight||(ye.set(Lr(vt.offsetWidth,vt.offsetHeight)),p0(Y))},Xe=vt=>{((gt,Bt)=>{gt.dispatch("ScrollContent",Bt)})(Y,vt)};ve.bind(ie,"resize",_e),ve.bind(ie,"scroll",Xe);const _t=lx(Qt(Y.getBody()),"load",Le);Y.on("hide",()=>{Zt(ce,vt=>{Qn(vt.element,"display","none")})}),Y.on("show",()=>{Zt(ce,vt=>{nr(vt.element,"display")})}),Y.on("NodeChange",Le),Y.on("remove",()=>{_t.unbind(),ve.unbind(ie,"resize",_e),ve.unbind(ie,"scroll",Xe),ie=null})})(o,a)});const M=Hr.getSocket(E).getOrDie("Could not find expected socket element");if(IF){Pi(M.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const Y=((ce,ve)=>{let ie=null;return{cancel:()=>{N(ie)||(clearTimeout(ie),ie=null)},throttle:(...ae)=>{N(ie)&&(ie=setTimeout(()=>{ie=null,ce.apply(null,ae)},20))}}})(()=>{o.dispatch("ScrollContent")}),se=Ai(M.element,"scroll",Y.throttle);o.on("remove",se.unbind)}AD(o,a),o.addCommand("ToggleSidebar",(Y,se)=>{Hr.toggleSidebar(E,se),(ce=>{ce.dispatch("ToggleSidebar")})(o)}),o.addQueryValueHandler("ToggleSidebar",()=>{var Y;return(Y=Hr.whichSidebar(E))!==null&&Y!==void 0?Y:""}),o.addCommand("ToggleView",(Y,se)=>{if(Hr.toggleView(E,se)){const ce=E.element;v.mothership.broadcastOn([P()],{target:ce}),Zt(w,ve=>{ve.broadcastOn([P()],{target:ce})}),N(Hr.whichView(E))&&(o.focus(),o.nodeChanged(),Hr.refreshToolbar(E)),(ve=>{ve.dispatch("ToggleView")})(o)}}),o.addQueryValueHandler("ToggleView",()=>{var Y;return(Y=Hr.whichView(E))!==null&&Y!==void 0?Y:""});const H=a0(o);H!==Lu.sliding&&H!==Lu.floating||o.on("ResizeWindow ResizeEditor ResizeContent",()=>{const Y=o.getWin().innerWidth;Y!==k.get()&&(Hr.refreshToolbar(a.mainUi.outerContainer),k.set(Y))});const q={setEnabled:Y=>{g0(a,!Y)},isEnabled:()=>!Kn.isDisabled(E)};return{iframeContainer:M.element.dom,editorContainer:E.element.dom,api:q}}});const W2=o=>/^[0-9\.]+(|px)$/i.test(""+o)?D.some(parseInt(""+o,10)):D.none(),Sp=o=>ee(o)?o+"px":o,Z2=(o,a,c)=>{const d=a.filter(v=>o<v),p=c.filter(v=>o>v);return d.or(p).getOr(o)},k4=o=>{const a=zx(o),c=Hx(o),d=lv(o);return W2(a).map(p=>Z2(p,c,d))},{ToolbarLocation:E4,ToolbarMode:N6}=jx,BF=(o,a,c,d,p)=>{const{mainUi:v,uiMotherships:w}=c,k=av.DOM,E=i0(o),O=Xg(o),L=lv(o).or(k4(o)),M=d.shared.header,H=M.isPositionedAtTop,q=a0(o),Y=q===N6.sliding||q===N6.floating,se=Dn(!1),ce=()=>se.get()&&!o.removed,ve=ye=>Y?ye.fold(te(0),_e=>_e.components().length>1?ms(_e.components()[1].element):0):0,ie=()=>{Zt(w,ye=>{ye.broadcastOn([V()],{})})},ae=ye=>{if(!ce())return;E||p.on(Xe=>{const _t=L.getOrThunk(()=>ra().width-Ha(a).left-10);Qn(Xe.element,"max-width",_t+"px")});const _e=Fr(),Le=!(E||E||!(yl(v.outerContainer.element).left+Li(v.outerContainer.element)>=window.innerWidth-40||Ts(v.outerContainer.element,"width").isSome())||(Qn(v.outerContainer.element,"position","absolute"),Qn(v.outerContainer.element,"left","0px"),nr(v.outerContainer.element,"width"),0));if(Y&&Hr.refreshToolbar(v.outerContainer),!E){const Xe=Fr(),_t=Uo(_e.left!==Xe.left,_e);((vt,gt)=>{p.on(Bt=>{const sn=Hr.getToolbar(v.outerContainer),vn=ve(sn),In=Ks(a),qn=((mo,zo)=>Jg(mo)?Mh(zo):D.none())(o,v.outerContainer.element),ko=qn.fold(()=>In.x,mo=>{const zo=Ks(mo);return Wo(mo,fn())?In.x:In.x-zo.x}),Vr=Uo(vt,Math.ceil(v.outerContainer.element.dom.getBoundingClientRect().width)).filter(mo=>mo>150).map(mo=>{const zo=gt.getOr(Fr()),Fn=window.innerWidth-(ko-zo.left),es=Math.max(Math.min(mo,Fn),150);return Fn<mo&&Qn(v.outerContainer.element,"width",es+"px"),{width:es+"px"}}).getOr({width:"max-content"}),Qr={position:"absolute",left:Math.round(ko)+"px",top:qn.fold(()=>H()?Math.max(In.y-ms(Bt.element)+vn,0):In.bottom,mo=>{var zo;const Fn=Ks(mo),es=(zo=mo.dom.scrollTop)!==null&&zo!==void 0?zo:0,_r=Wo(mo,fn())?Math.max(In.y-ms(Bt.element)+vn,0):In.y-Fn.y+es-ms(Bt.element)+vn;return H()?_r:In.bottom})+"px"};Pi(v.outerContainer.element,{...Qr,...Vr})})})(Le,_t),_t.each(vt=>{qd(vt.left,Xe.top)})}O&&p.on(ye),ie()},me=()=>!(E||!O||!ce())&&p.get().exists(ye=>{const _e=M.getDockingMode(),Le=(_t=>{switch(Qh(o)){case E4.auto:const vt=Hr.getToolbar(v.outerContainer),gt=ve(vt),Bt=ms(_t.element)-gt,sn=Ks(a);if(sn.y>Bt)return"top";{const vn=Mi(a),In=Math.max(vn.dom.scrollHeight,ms(vn));return sn.bottom<In-Bt||ka().bottom<sn.bottom-Bt?"bottom":"top"}case E4.bottom:return"bottom";case E4.top:default:return"top"}})(ye);return Le!==_e&&(Xe=Le,p.on(_t=>{Xr.setModes(_t,[Xe]),M.setDockingMode(Xe);const vt=H()?Sc.TopToBottom:Sc.BottomToTop;Jt(_t.element,ll,vt)}),!0);var Xe});return{isVisible:ce,isPositionedAtTop:H,show:()=>{se.set(!0),Qn(v.outerContainer.element,"display","flex"),k.addClass(o.getBody(),"mce-edit-focus"),Zt(w,ye=>{nr(ye.element,"display")}),me(),Jg(o)?ae(ye=>Xr.isDocked(ye)?Xr.reset(ye):Xr.refresh(ye)):ae(Xr.refresh)},hide:()=>{se.set(!1),Qn(v.outerContainer.element,"display","none"),k.removeClass(o.getBody(),"mce-edit-focus"),Zt(w,ye=>{Qn(ye.element,"display","none")})},update:ae,updateMode:()=>{me()&&ae(Xr.reset)},repositionPopups:ie}},I6=(o,a)=>{const c=Ks(o);return{pos:a?c.y:c.bottom,bounds:c}};var MF=Object.freeze({__proto__:null,render:(o,a,c,d,p)=>{const{mainUi:v}=a,w=cr(),k=Qt(p.targetNode),E=BF(o,k,a,d,w),O=A5(o);vF(o);const L=()=>{if(w.isSet())return void E.show();w.set(Hr.getHeader(v.outerContainer).getOrDie());const H=FC(o);Jg(o)?(mt(k,v.mothership),mt(k,a.popupUi.mothership)):bx(H,v.mothership),bx(H,a.dialogUi.mothership);const q=()=>{D6(o,a,c,d),Hr.setMenubar(v.outerContainer,l6(o,c)),E.show(),((Y,se,ce,ve)=>{const ie=Dn(I6(se,ce.isPositionedAtTop())),ae=Le=>{const{pos:Xe,bounds:_t}=I6(se,ce.isPositionedAtTop()),{pos:vt,bounds:gt}=ie.get(),Bt=_t.height!==gt.height||_t.width!==gt.width;ie.set({pos:Xe,bounds:_t}),Bt&&p0(Y,Le),ce.isVisible()&&(vt!==Xe?ce.update(Xr.reset):Bt&&(ce.updateMode(),ce.repositionPopups()))};ve||(Y.on("activate",ce.show),Y.on("deactivate",ce.hide)),Y.on("SkinLoaded ResizeWindow",()=>ce.update(Xr.reset)),Y.on("NodeChange keydown",Le=>{requestAnimationFrame(()=>ae(Le))});let me=0;const ye=QA(()=>ce.update(Xr.refresh),33);Y.on("ScrollWindow",()=>{const Le=Fr().left;Le!==me&&(me=Le,ye.throttle()),ce.updateMode()}),Jg(Y)&&Y.on("ElementScroll",Le=>{ce.update(Xr.refresh)});const _e=uc();_e.set(lx(Qt(Y.getBody()),"load",Le=>ae(Le.raw))),Y.on("remove",()=>{_e.clear()})})(o,k,E,O),o.nodeChanged()};O?o.once("SkinLoaded",q):q()};o.on("show",L),o.on("hide",E.hide),O||(o.on("focus",L),o.on("blur",E.hide)),o.on("init",()=>{(o.hasFocus()||O)&&L()}),AD(o,a);const M={show:L,hide:E.hide,setEnabled:H=>{g0(a,!H)},isEnabled:()=>!Kn.isDisabled(v.outerContainer)};return{editorContainer:v.outerContainer.element.dom,api:M}}});const B6="contexttoolbar-hide",M6=(o,a)=>xt(U_,(c,d)=>{const p=(v=>({hide:()=>go(v,cb()),getValue:()=>rt.getValue(v)}))(o.get(c));a.onAction(p,d.event.buttonApi)}),PF=(o,a)=>{const c=o.label.fold(()=>({}),v=>({"aria-label":v})),d=or(Qg.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:o.initValue(),inputAttributes:c,selectOnFocus:!0,inputBehaviours:Ft([An.config({mode:"special",onEnter:v=>p.findPrimary(v).map(w=>(rf(w),!0)),onLeft:(v,w)=>(w.cut(),D.none()),onRight:(v,w)=>(w.cut(),D.none())})])})),p=((v,w,k)=>{const E=bt(w,O=>or(((L,M,H)=>(q=>q.type==="contextformtogglebutton")(M)?((q,Y,se)=>{const{primary:ce,...ve}=Y.original,ie=Ci(e_({...ve,type:"togglebutton",onAction:he}));return O6(ie,se,[M6(q,Y)])})(L,M,H):((q,Y,se)=>{const{primary:ce,...ve}=Y.original,ie=Ci(bD({...ve,type:"button",onAction:he}));return T6(ie,se,[M6(q,Y)])})(L,M,H))(v,O,k)));return{asSpecs:()=>bt(E,O=>O.asSpec()),findPrimary:O=>It(w,(L,M)=>L.primary?D.from(E[M]).bind(H=>H.getOpt(O)).filter($e(Kn.isDisabled)):D.none())}})(d,o.commands,a);return[{title:D.none(),items:[d.asSpec()]},{title:D.none(),items:p.asSpecs()}]},P6=(o,a,c)=>a.bottom-o.y>=c&&o.bottom-a.y>=c,A4=o=>{const a=(c=>{const d=c.getBoundingClientRect();if(d.height<=0&&d.width<=0){const p=Re(Qt(c.startContainer),c.startOffset).element;return(ri(p)?si(p):D.some(p)).filter(qr).map(v=>v.dom.getBoundingClientRect()).getOr(d)}return d})(o.selection.getRng());if(o.inline){const c=Fr();return bo(c.left+a.left,c.top+a.top,a.width,a.height)}{const c=ol(Qt(o.getBody()));return bo(c.x+a.left,c.y+a.top,a.width,a.height)}},L6=(o,a,c,d=0)=>{const p=ra(window),v=Ks(Qt(o.getContentAreaContainer())),w=Ux(o)||Wx(o)||Zx(o),{x:k,width:E}=((O,L,M)=>{const H=Math.max(O.x+M,L.x);return{x:H,width:Math.min(O.right-M,L.right)-H}})(v,p,d);if(o.inline&&!w)return bo(k,p.y,E,p.height);{const O=a.header.isPositionedAtTop(),{y:L,bottom:M}=((H,q,Y,se,ce,ve)=>{const ie=Qt(H.getContainer()),ae=Jr(ie,".tox-editor-header").getOr(ie),me=Ks(ae),ye=me.y>=q.bottom,_e=se&&!ye;if(H.inline&&_e)return{y:Math.max(me.bottom+ve,Y.y),bottom:Y.bottom};if(H.inline&&!_e)return{y:Y.y,bottom:Math.min(me.y-ve,Y.bottom)};const Le=ce==="line"?Ks(ie):q;return _e?{y:Math.max(me.bottom+ve,Y.y),bottom:Math.min(Le.bottom-ve,Y.bottom)}:{y:Math.max(Le.y+ve,Y.y),bottom:Math.min(me.y-ve,Y.bottom)}})(o,v,p,O,c,d);return bo(k,L,E,M-L)}},T4={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},D0={maxHeightFunction:$g(),maxWidthFunction:r4()},kp=o=>o==="node",LF=(o,a,c,d,p)=>{const v=A4(o),w=d.lastElement().exists(k=>Wo(c,k));return((k,E)=>{const O=k.selection.getRng(),L=Re(Qt(O.startContainer),O.startOffset);return O.startContainer===O.endContainer&&O.startOffset===O.endOffset-1&&Wo(L.element,E)})(o,c)?w?tS:$o:w?((k,E,O)=>{const L=Ts(k,"position");Qn(k,"position",E);const M=P6(v,Ks(a),-20)&&!d.isReposition()?M3:tS;return L.each(H=>Qn(k,"position",H)),M})(a,d.getMode()):(d.getMode()==="fixed"?p.y+Fr().top:p.y)+(ms(a)+12)<=v.y?$o:Zm},F6=(o,a,c,d)=>{const p=w=>(k,E,O,L,M)=>({...LF(o,L,w,c,M)({...k,y:M.y,height:M.height},E,O,L,M),alwaysFit:!0}),v=w=>kp(d)?[p(w)]:[];return a?{onLtr:w=>[Ms,bs,vs,$s,wr,ds].concat(v(w)),onRtl:w=>[Ms,vs,bs,wr,$s,ds].concat(v(w))}:{onLtr:w=>[ds,Ms,$s,bs,wr,vs].concat(v(w)),onRtl:w=>[ds,Ms,wr,vs,$s,bs].concat(v(w))}},bS=(o,a)=>{const c=ho(a,v=>v.predicate(o.dom)),{pass:d,fail:p}=Ur(c,v=>v.type==="contexttoolbar");return{contextToolbars:d,contextForms:p}},vS=(o,a)=>{const c={},d=[],p=[],v={},w={},k=on(o);return Zt(k,E=>{const O=o[E];O.type==="contextform"?((L,M)=>{const H=Ci(is("ContextForm",r7,M));c[L]=H,H.launch.map(q=>{v["form:"+L]={...M.launch,type:q.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{a(H)}}}),H.scope==="editor"?p.push(H):d.push(H),w[L]=H})(E,O):O.type==="contexttoolbar"&&((L,M)=>{var H;(H=M,is("ContextToolbar",yD,H)).each(q=>{M.scope==="editor"?p.push(q):d.push(q),w[L]=q})})(E,O)}),{forms:c,inNodeScope:d,inEditorScope:p,lookupTable:w,formNavigators:v}},z6=mn("forward-slide"),Pv=mn("backward-slide"),R0=mn("change-slide-event"),O4="tox-pop--resizing",D4="tox-pop--transition",FF=(o,a,c,d)=>{const p=d.backstage,v=p.shared,w=Ua().deviceType.isTouch,k=cr(),E=cr(),O=cr(),L=Oa((_e=>{const Le=Dn([]);return rs.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:Xe=>{Le.set([]),rs.getContent(Xe).each(_t=>{nr(_t.element,"visibility")}),ps(Xe.element,O4),nr(Xe.element,"width")},inlineBehaviours:Ft([uo("context-toolbar-events",[sf(ib(),(Xe,_t)=>{_t.event.raw.propertyName==="width"&&(ps(Xe.element,O4),nr(Xe.element,"width"))}),xt(R0,(Xe,_t)=>{const vt=Xe.element;nr(vt,"width");const gt=fa(vt);rs.setContent(Xe,_t.event.contents),us(vt,O4);const Bt=fa(vt);Qn(vt,"width",gt+"px"),rs.getContent(Xe).each(sn=>{_t.event.focus.bind(vn=>(Ei(vn),Ps(vt))).orThunk(()=>(An.focusIn(sn),Qc(st(vt))))}),setTimeout(()=>{Qn(Xe.element,"width",Bt+"px")},0)}),xt(z6,(Xe,_t)=>{rs.getContent(Xe).each(vt=>{Le.set(Le.get().concat([{bar:vt,focus:Qc(st(Xe.element))}]))}),Sn(Xe,R0,{contents:_t.event.forwardContents,focus:D.none()})}),xt(Pv,(Xe,_t)=>{Ct(Le.get()).each(vt=>{Le.set(Le.get().slice(0,Le.get().length-1)),Sn(Xe,R0,{contents:$i(vt.bar),focus:vt.focus})})})]),An.config({mode:"special",onEscape:Xe=>Ct(Le.get()).fold(()=>_e.onEscape(),_t=>(go(Xe,Pv),D.some(!0)))})]),lazySink:()=>So.value(_e.sink)})})({sink:c,onEscape:()=>(o.focus(),D.some(!0))})),M=()=>{const _e=O.get().getOr("node"),Le=kp(_e)?1:0;return L6(o,v,_e,Le)},H=()=>!(o.removed||w()&&p.isContextMenuOpen()),q=()=>{if(H()){const _e=M(),Le=Wr(O.get(),"node")?((Xe,_t)=>_t.filter(vt=>nn(vt)&&Qi(vt)).map(ol).getOrThunk(()=>A4(Xe)))(o,k.get()):A4(o);return _e.height<=0||!P6(Le,_e,.01)}return!0},Y=()=>{k.clear(),E.clear(),O.clear(),rs.hide(L)},se=()=>{if(rs.isOpen(L)){const _e=L.element;nr(_e,"display"),q()?Qn(_e,"display","none"):(E.set(0),rs.reposition(L))}},ce=_e=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[_e],behaviours:Ft([An.config({mode:"acyclic"}),uo("pop-dialog-wrap-events",[Zr(Le=>{o.shortcuts.add("ctrl+F9","focus statusbar",()=>An.focusIn(Le))}),Ru(Le=>{o.shortcuts.remove("ctrl+F9")})])])}),ve=Va(()=>vS(a,_e=>{const Le=ie([_e]);Sn(L,z6,{forwardContents:ce(Le)})})),ie=_e=>{const{buttons:Le}=o.ui.registry.getAll(),Xe={...Le,...ve().formNavigators},_t=a0(o)===Lu.scrolling?Lu.scrolling:Lu.default,vt=vr(bt(_e,gt=>gt.type==="contexttoolbar"?((Bt,sn)=>pS(o,{buttons:Bt,toolbar:sn.items,allowToolbarGroups:!1},d.backstage,D.some(["form:"])))(Xe,gt):((Bt,sn)=>PF(Bt,sn))(gt,v.providers)));return c4({type:_t,uid:mn("context-toolbar"),initGroups:vt,onEscape:D.none,cyclicKeying:!0,providers:v.providers})},ae=(_e,Le)=>{if(ye.cancel(),!H())return;const Xe=ie(_e),_t=_e[0].position,vt=((Bt,sn)=>{const vn=Bt==="node"?v.anchors.node(sn):v.anchors.cursor(),In=((qn,ko,Vr,Qr)=>ko==="line"?{bubble:Zl(12,0,T4),layouts:{onLtr:()=>[I1],onRtl:()=>[B1]},overrides:D0}:{bubble:Zl(0,12,T4,1/12),layouts:F6(qn,Vr,Qr,ko),overrides:D0})(o,Bt,w(),{lastElement:k.get,isReposition:()=>Wr(E.get(),0),getMode:()=>Ja.getMode(c)});return xr(vn,In)})(_t,Le);O.set(_t),E.set(1);const gt=L.element;nr(gt,"display"),(Bt=>Wr(Vt(Bt,k.get(),Wo),!0))(Le)||(ps(gt,D4),Ja.reset(c,L)),rs.showWithinBounds(L,ce(Xe),{anchor:vt,transition:{classes:[D4],mode:"placement"}},()=>D.some(M())),Le.fold(k.clear,k.set),q()&&Qn(gt,"display","none")};let me=!1;const ye=QA(()=>{!o.hasFocus()||o.removed||me||(Vi(L.element,D4)?ye.throttle():((_e,Le)=>{const Xe=Qt(Le.getBody()),_t=gt=>Wo(gt,Xe),vt=Qt(Le.selection.getNode());return(gt=>!_t(gt)&&!xs(Xe,gt))(vt)?D.none():((gt,Bt,sn)=>{const vn=bS(gt,Bt);if(vn.contextForms.length>0)return D.some({elem:gt,toolbars:[vn.contextForms[0]]});{const In=bS(gt,sn);if(In.contextForms.length>0)return D.some({elem:gt,toolbars:[In.contextForms[0]]});if(vn.contextToolbars.length>0||In.contextToolbars.length>0){const qn=(ko=>{if(ko.length<=1)return ko;{const Vr=Fn=>On(ko,es=>es.position===Fn),Qr=Fn=>ho(ko,es=>es.position===Fn),mo=Vr("selection"),zo=Vr("node");if(mo||zo){if(zo&&mo){const Fn=Qr("node"),es=bt(Qr("selection"),_r=>({..._r,position:"node"}));return Fn.concat(es)}return Qr(mo?"selection":"node")}return Qr("line")}})(vn.contextToolbars.concat(In.contextToolbars));return D.some({elem:gt,toolbars:qn})}return D.none()}})(vt,_e.inNodeScope,_e.inEditorScope).orThunk(()=>((gt,Bt,sn)=>gt(Bt)?D.none():_g(Bt,vn=>{if(qr(vn)){const{contextToolbars:In,contextForms:qn}=bS(vn,sn.inNodeScope),ko=qn.length>0?qn:(Vr=>{if(Vr.length<=1)return Vr;{const Qr=mo=>J(Vr,zo=>zo.position===mo);return Qr("selection").orThunk(()=>Qr("node")).orThunk(()=>Qr("line")).map(mo=>mo.position).fold(()=>[],mo=>ho(Vr,zo=>zo.position===mo))}})(In);return ko.length>0?D.some({elem:vn,toolbars:ko}):D.none()}return D.none()},gt))(_t,vt,_e))})(ve(),o).fold(Y,_e=>{ae(_e.toolbars,D.some(_e.elem))}))},17);o.on("init",()=>{o.on("remove",Y),o.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",se),o.on("click keyup focus SetContent",ye.throttle),o.on(B6,Y),o.on("contexttoolbar-show",_e=>{const Le=ve();un(Le.lookupTable,_e.toolbarKey).each(Xe=>{ae([Xe],Uo(_e.target!==o,_e.target)),rs.getContent(L).each(An.focusIn)})}),o.on("focusout",_e=>{AC.setEditorTimeout(o,()=>{Ps(c.element).isNone()&&Ps(L.element).isNone()&&Y()},0)}),o.on("SwitchMode",()=>{o.mode.isReadOnly()&&Y()}),o.on("ExecCommand",({command:_e})=>{_e.toLowerCase()==="toggleview"&&Y()}),o.on("AfterProgressState",_e=>{_e.state?Y():o.hasFocus()&&ye.throttle()}),o.on("dragstart",()=>{me=!0}),o.on("dragend drop",()=>{me=!1}),o.on("NodeChange",_e=>{Ps(L.element).fold(ye.throttle,he)})})},H6=(o,a)=>{const c=()=>{const d=a.getOptions(o),p=a.getCurrent(o).map(a.hash),v=cr();return bt(d,w=>({type:"togglemenuitem",text:a.display(w),onSetup:k=>{const E=L=>{L&&(v.on(M=>M.setActive(!1)),v.set(k)),k.setActive(L)};E(Wr(p,a.hash(w)));const O=a.watcher(o,w,E);return()=>{v.clear(),O()}},onAction:()=>a.setCurrent(o,w)}))};o.ui.registry.addMenuButton(a.name,{tooltip:a.text,icon:a.icon,fetch:d=>d(c()),onSetup:a.onToolbarSetup}),o.ui.registry.addNestedMenuItem(a.name,{type:"nestedmenuitem",text:a.text,getSubmenuItems:c,onSetup:a.onMenuSetup})},zF=o=>{H6(o,(a=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:B5,hash:c=>((d,p)=>hS(d,["fixed","relative","empty"]).map(({value:v,unit:w})=>v+w))(c).getOr(c),display:Ae,watcher:(c,d,p)=>c.formatter.formatChanged("lineheight",p,!1,{value:d}).unbind,getCurrent:c=>D.from(c.queryCommandValue("LineHeight")),setCurrent:(c,d)=>c.execCommand("LineHeight",!1,d),onToolbarSetup:va(a),onMenuSetup:va(a)}))(o)),(a=>D.from(mE(a)).map(c=>({name:"language",text:"Language",icon:"language",getOptions:te(c),hash:d=>F(d.customCode)?d.code:`${d.code}/${d.customCode}`,display:d=>d.title,watcher:(d,p,v)=>{var w;return d.formatter.formatChanged("lang",v,!1,{value:p.code,customValue:(w=p.customCode)!==null&&w!==void 0?w:null}).unbind},getCurrent:d=>{const p=Qt(d.selection.getNode());return Sg(p,v=>D.some(v).filter(qr).bind(w=>Io(w,"lang").map(k=>({code:k,customCode:Io(w,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(d,p)=>d.execCommand("Lang",!1,p),onToolbarSetup:d=>{const p=uc();return d.setActive(a.formatter.match("lang",{},void 0,!0)),p.set(a.formatter.formatChanged("lang",d.setActive,!0)),yv(p.clear,va(a)(d))},onMenuSetup:va(a)})))(o).each(a=>H6(o,a))},HF=o=>b0(o,"NodeChange",a=>{a.setEnabled(o.queryCommandState("outdent")&&o.selection.isEditable())}),j2=(o,a)=>c=>{c.setActive(a.get());const d=p=>{a.set(p.state),c.setActive(p.state)};return o.on("PastePlainTextToggle",d),yv(()=>o.off("PastePlainTextToggle",d),va(o)(c))},R4=(o,a)=>()=>{o.execCommand("mceToggleFormat",!1,a)},N4=o=>{(a=>{(c=>{ah.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(d,p)=>{c.ui.registry.addToggleButton(d.name,{tooltip:d.text,icon:d.icon,onSetup:Of(c,d.name),onAction:R4(c,d.name),shortcut:d.shortcut})});for(let d=1;d<=6;d++){const p="h"+d,v=`Access+${d}`;c.ui.registry.addToggleButton(p,{text:p.toUpperCase(),tooltip:"Heading "+d,onSetup:Of(c,p),onAction:R4(c,p),shortcut:v})}})(a),(c=>{ah.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],d=>{c.ui.registry.addButton(d.name,{tooltip:d.text,icon:d.icon,onAction:ql(c,d.action),shortcut:d.shortcut})}),ah.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],d=>{c.ui.registry.addButton(d.name,{tooltip:d.text,icon:d.icon,onSetup:va(c),onAction:ql(c,d.action)})})})(a),(c=>{ah.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],d=>{c.ui.registry.addToggleButton(d.name,{tooltip:d.text,icon:d.icon,onAction:ql(c,d.action),onSetup:Of(c,d.name)})})})(a)})(o),(a=>{ah.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],c=>{a.ui.registry.addMenuItem(c.name,{text:c.text,icon:c.icon,shortcut:c.shortcut,onAction:ql(a,c.action)})}),ah.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],c=>{a.ui.registry.addMenuItem(c.name,{text:c.text,icon:c.icon,shortcut:c.shortcut,onSetup:va(a),onAction:ql(a,c.action)})}),a.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:va(a),onAction:R4(a,"code")})})(o)},yS=(o,a)=>b0(o,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",c=>{c.setEnabled(!o.mode.isReadOnly()&&o.undoManager[a]())}),VF=o=>b0(o,"VisualAid",a=>{a.setActive(o.hasVisual)}),$F=(o,a)=>{(c=>{Zt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],d=>{c.ui.registry.addToggleButton(d.name,{tooltip:d.text,icon:d.icon,onAction:ql(c,d.cmd),onSetup:Of(c,d.name)})}),c.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:va(c),onAction:ql(c,"JustifyNone")})})(o),N4(o),((c,d)=>{((p,v)=>{const w=Mv(v,p4(p));p.ui.registry.addNestedMenuItem("align",{text:v.shared.providers.translate("Align"),onSetup:va(p),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(c,d),((p,v)=>{const w=Mv(v,v6(p));p.ui.registry.addNestedMenuItem("fontfamily",{text:v.shared.providers.translate("Fonts"),onSetup:va(p),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(c,d),((p,v)=>{const w={type:"advanced",...v.styles},k=Mv(v,k6(p,w));p.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:va(p),getSubmenuItems:()=>k.items.validateItems(k.getStyleItems())})})(c,d),((p,v)=>{const w=Mv(v,y4(p));p.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:va(p),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(c,d),((p,v)=>{const w=Mv(v,_6(p));p.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:va(p),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(c,d)})(o,a),(c=>{(d=>{d.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:yS(d,"hasUndo"),onAction:ql(d,"undo")}),d.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:yS(d,"hasRedo"),onAction:ql(d,"redo")})})(c),(d=>{d.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:yS(d,"hasUndo"),onAction:ql(d,"undo"),shortcut:"Meta+Z"}),d.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:yS(d,"hasRedo"),onAction:ql(d,"redo"),shortcut:"Meta+Y"})})(c)})(o),(c=>{(k=>{k.addCommand("mceApplyTextcolor",(E,O)=>{((L,M,H)=>{L.undoManager.transact(()=>{L.focus(),L.formatter.apply(M,{value:H}),L.nodeChanged()})})(k,E,O)}),k.addCommand("mceRemoveTextcolor",E=>{((O,L)=>{O.undoManager.transact(()=>{O.focus(),O.formatter.remove(L,{value:null},void 0,!0),O.nodeChanged()})})(k,E)})})(c);const d=KD(c),p=qD(c),v=Dn(d),w=Dn(p);dA(c,"forecolor","forecolor",v),dA(c,"backcolor","hilitecolor",w),wv(c,"forecolor","forecolor","Text color",v),wv(c,"backcolor","hilitecolor","Background color",w)})(o),(c=>{(d=>{d.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:ql(d,"mceToggleVisualAid")})})(c),(d=>{d.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:VF(d),onAction:ql(d,"mceToggleVisualAid")})})(c)})(o),(c=>{(d=>{d.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:HF(d),onAction:ql(d,"outdent")}),d.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:va(d),onAction:ql(d,"indent")})})(c)})(o),zF(o),(c=>{const d=Dn(N5(c)),p=()=>c.execCommand("mceTogglePlainTextPaste");c.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:p,onSetup:j2(c,d)}),c.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:p,onSetup:j2(c,d)})})(o)},V6=o=>h(o)?o.split(/[ ,]/):o,$6=o=>a=>a.options.get(o),U6=$6("contextmenu_never_use_native"),UF=$6("contextmenu_avoid_overlap"),I4=o=>{const a=o.ui.registry.getAll().contextMenus,c=o.options.get("contextmenu");return o.options.isSet("contextmenu")?c:ho(c,d=>po(a,d))},K2=(o,a)=>({type:"makeshift",x:o,y:a}),W6=o=>o.type==="longpress"||o.type.indexOf("touch")===0,WF=(o,a)=>a.type==="contextmenu"||a.type==="longpress"?o.inline?(c=>{if(W6(c)){const d=c.touches[0];return K2(d.pageX,d.pageY)}return K2(c.pageX,c.pageY)})(a):((c,d)=>{const p=av.DOM.getPos(c);return((v,w,k)=>K2(v.x+w,v.y+k))(d,p.x,p.y)})(o.getContentAreaContainer(),(c=>{if(W6(c)){const d=c.touches[0];return K2(d.clientX,d.clientY)}return K2(c.clientX,c.clientY)})(a)):Z6(o),Z6=o=>({type:"selection",root:Qt(o.selection.getNode())}),j6=(o,a,c)=>{switch(c){case"node":return(d=>({type:"node",node:D.some(Qt(d.selection.getNode())),root:Qt(d.getBody())}))(o);case"point":return WF(o,a);case"selection":return Z6(o)}},K6=(o,a,c,d,p,v)=>{const w=c(),k=j6(o,a,v);k0(w,Tf.CLOSE_ON_EXECUTE,d,{isHorizontalMenu:!1,search:D.none()}).map(E=>{a.preventDefault(),rs.showMenuAt(p,{anchor:k},{menu:{markers:u0("normal")},data:E})})},q6={onLtr:()=>[Ms,bs,vs,$s,wr,ds,$o,Zm,B2,Cp,Yl,Gl],onRtl:()=>[Ms,vs,bs,wr,$s,ds,$o,Zm,Yl,Gl,B2,Cp]},ZF={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},jF=(o,a,c,d,p,v)=>{const w=Ua(),k=w.os.isiOS(),E=w.os.isMacOS(),O=w.os.isAndroid(),L=w.deviceType.isTouch(),M=()=>{const H=c();((q,Y,se,ce,ve,ie,ae)=>{const me=((ye,_e,Le)=>{const Xe=j6(ye,_e,Le);return{bubble:Zl(0,Le==="point"?12:0,ZF),layouts:q6,overrides:{maxWidthFunction:r4(),maxHeightFunction:$g()},...Xe}})(q,Y,ie);k0(se,Tf.CLOSE_ON_EXECUTE,ce,{isHorizontalMenu:!0,search:D.none()}).map(ye=>{Y.preventDefault();const _e=ae?ji.HighlightMenuAndItem:ji.HighlightNone;rs.showMenuWithinBounds(ve,{anchor:me},{menu:{markers:u0("normal"),highlightOnOpen:_e},data:ye,type:"horizontal"},()=>D.some(L6(q,ce.shared,ie==="node"?"node":"selection"))),q.dispatch(B6)})})(o,a,H,d,p,v,!(O||k||E&&L))};if((E||k)&&v!=="node"){const H=()=>{(q=>{const Y=q.selection.getRng(),se=()=>{AC.setEditorTimeout(q,()=>{q.selection.setRng(Y)},10),ie()};q.once("touchend",se);const ce=ae=>{ae.preventDefault(),ae.stopImmediatePropagation()};q.on("mousedown",ce,!0);const ve=()=>ie();q.once("longpresscancel",ve);const ie=()=>{q.off("touchend",se),q.off("longpresscancel",ve),q.off("mousedown",ce)}})(o),M()};((q,Y)=>{const se=q.selection;if(se.isCollapsed()||Y.touches.length<1)return!1;{const ce=Y.touches[0],ve=se.getRng();return fx(q.getWin(),pf.domRange(ve)).exists(ie=>ie.left<=ce.clientX&&ie.right>=ce.clientX&&ie.top<=ce.clientY&&ie.bottom>=ce.clientY)}})(o,a)?H():(o.once("selectionchange",H),o.once("touchend",()=>o.off("selectionchange",H)))}else M()},G6=o=>h(o)?o==="|":o.type==="separator",B4={type:"separator"},Y6=o=>{const a=c=>({text:c.text,icon:c.icon,enabled:c.enabled,shortcut:c.shortcut});if(h(o))return o;switch(o.type){case"separator":return B4;case"submenu":return{type:"nestedmenuitem",...a(o),getSubmenuItems:()=>{const d=o.getSubmenuItems();return h(d)?d:bt(d,Y6)}};default:const c=o;return{type:"menuitem",...a(c),onAction:Ue(c.onAction)}}},M4=(o,a)=>{if(a.length===0)return o;const c=Ct(o).filter(d=>!G6(d)).fold(()=>[],d=>[B4]);return o.concat(c).concat(a).concat([B4])},N0=(o,a)=>!(c=>c.type==="longpress"||po(c,"touches"))(a)&&(a.button!==2||a.target===o.getBody()&&a.pointerType===""),X6=(o,a)=>N0(o,a)?o.selection.getStart(!0):a.target,KF=(o,a,c)=>{const d=Ua().deviceType.isTouch,p=Oa(rs.sketch({dom:{tag:"div"},lazySink:a,onEscape:()=>o.focus(),onShow:()=>c.setContextMenuState(!0),onHide:()=>c.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Ft([uo("dismissContextMenu",[xt(kg(),(k,E)=>{T.close(k),o.focus()})])])})),v=()=>rs.hide(p),w=k=>{if(U6(o)&&k.preventDefault(),((O,L)=>L.ctrlKey&&!U6(O))(o,k)||(O=>I4(O).length===0)(o))return;const E=((O,L)=>{const M=UF(O),H=N0(O,L)?"selection":"point";if(Ji(M)){const q=X6(O,L);return _v(Qt(q),M)?"node":H}return H})(o,k);(d()?jF:K6)(o,k,()=>{const O=X6(o,k),L=o.ui.registry.getAll(),M=I4(o);return((H,q,Y)=>{const se=Rn(q,(ce,ve)=>un(H,ve.toLowerCase()).map(ie=>{const ae=ie.update(Y);if(h(ae)&&Ji(ic(ae)))return M4(ce,ae.split(" "));if(B(ae)&&ae.length>0){const me=bt(ae,Y6);return M4(ce,me)}return ce}).getOrThunk(()=>ce.concat([ve])),[]);return se.length>0&&G6(se[se.length-1])&&se.pop(),se})(L.contextMenus,M,O)},c,p,E)};o.on("init",()=>{const k="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(d()?"":" ResizeWindow");o.on(k,v),o.on("longpress contextmenu",w)})},P4=Ol([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),I0=o=>a=>a.translate(-o.left,-o.top),Xl=o=>a=>a.translate(o.left,o.top),Rf=o=>(a,c)=>Rn(o,(d,p)=>p(d),Lr(a,c)),q2=(o,a,c)=>o.fold(Rf([Xl(c),I0(a)]),Rf([I0(a)]),Rf([])),Lv=(o,a,c)=>o.fold(Rf([Xl(c)]),Rf([]),Rf([Xl(a)])),J6=(o,a,c)=>o.fold(Rf([]),Rf([I0(c)]),Rf([Xl(a),I0(c)])),Q6=(o,a,c)=>{const d=o.fold((p,v)=>({position:D.some("absolute"),left:D.some(p+"px"),top:D.some(v+"px")}),(p,v)=>({position:D.some("absolute"),left:D.some(p-c.left+"px"),top:D.some(v-c.top+"px")}),(p,v)=>({position:D.some("fixed"),left:D.some(p+"px"),top:D.some(v+"px")}));return{right:D.none(),bottom:D.none(),...d}},L4=(o,a,c,d)=>{const p=(v,w)=>(k,E)=>{const O=v(a,c,d);return w(k.getOr(O.left),E.getOr(O.top))};return o.fold(p(J6,G2),p(Lv,ch),p(q2,B0))},G2=P4.offset,ch=P4.absolute,B0=P4.fixed,eI=(o,a)=>{const c=Co(o,a);return F(c)?NaN:parseInt(c,10)},tI=(o,a,c,d,p,v)=>{const w=((O,L,M,H)=>((q,Y)=>{const se=q.element,ce=eI(se,Y.leftAttr),ve=eI(se,Y.topAttr);return isNaN(ce)||isNaN(ve)?D.none():D.some(Lr(ce,ve))})(O,L).fold(()=>M,q=>B0(q.left+H.left,q.top+H.top)))(o,a,c,d),k=a.mustSnap?oI(o,a,w,p,v):rI(o,a,w,p,v),E=q2(w,p,v);return((O,L,M)=>{const H=O.element;Jt(H,L.leftAttr,M.left+"px"),Jt(H,L.topAttr,M.top+"px")})(o,a,E),k.fold(()=>({coord:B0(E.left,E.top),extra:D.none()}),O=>({coord:O.output,extra:O.extra}))},nI=(o,a,c,d)=>It(o,p=>{const v=p.sensor;return((k,E,O,L,M,H)=>{const q=Lv(k,M,H),Y=Lv(E,M,H);return Math.abs(q.left-Y.left)<=O&&Math.abs(q.top-Y.top)<=L})(a,v,p.range.left,p.range.top,c,d)?D.some({output:L4(p.output,a,c,d),extra:p.extra}):D.none()}),oI=(o,a,c,d,p)=>{const v=a.getSnapPoints(o);return nI(v,c,d,p).orThunk(()=>Rn(v,(k,E)=>{const O=E.sensor,L=((M,H,q,Y,se,ce)=>{const ve=Lv(M,se,ce),ie=Lv(H,se,ce),ae=Math.abs(ve.left-ie.left),me=Math.abs(ve.top-ie.top);return Lr(ae,me)})(c,O,E.range.left,E.range.top,d,p);return k.deltas.fold(()=>({deltas:D.some(L),snap:D.some(E)}),M=>(L.left+L.top)/2<=(M.left+M.top)/2?{deltas:D.some(L),snap:D.some(E)}:k)},{deltas:D.none(),snap:D.none()}).snap.map(k=>({output:L4(k.output,c,d,p),extra:k.extra})))},rI=(o,a,c,d,p)=>{const v=a.getSnapPoints(o);return nI(v,c,d,p)};var sI=Object.freeze({__proto__:null,snapTo:(o,a,c,d)=>{const p=a.getTarget(o.element);if(a.repositionTarget){const v=js(o.element),w=Fr(v),k=af(p),E=((L,M,H)=>({coord:L4(L.output,L.output,M,H),extra:L.extra}))(d,w,k),O=Q6(E.coord,0,k);el(p,O)}}});const F4="data-initial-z-index",aI=(o,a)=>{o.getSystem().addToGui(a),(c=>{si(c.element).filter(qr).each(d=>{Ts(d,"z-index").each(p=>{Jt(d,F4,p)}),Qn(d,"z-index",as(c.element,"z-index"))})})(a)},qF=o=>{(a=>{si(a.element).filter(qr).each(c=>{Io(c,F4).fold(()=>nr(c,"z-index"),d=>Qn(c,"z-index",d)),fo(c,F4)})})(o),o.getSystem().removeFromGui(o)},iI=(o,a,c)=>o.getSystem().build(kd.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[a]},events:c}));var GF=gs("snaps",[At("getSnapPoints"),Fo("onSensor"),At("leftAttr"),At("topAttr"),et("lazyViewport",ka),et("mustSnap",!1)]);const z4=[et("useFixed",Ce),At("blockerClass"),et("getTarget",Ae),et("onDrag",he),et("repositionTarget",!0),et("onDrop",he),zr("getBounds",ka),GF],H4=o=>{return(a=Ts(o,"left"),c=Ts(o,"top"),d=Ts(o,"position"),a.isSome()&&c.isSome()&&d.isSome()?D.some(((p,v,w)=>(w==="fixed"?B0:G2)(parseInt(p,10),parseInt(v,10)))(a.getOrDie(),c.getOrDie(),d.getOrDie())):D.none()).getOrThunk(()=>{const p=yl(o);return ch(p.left,p.top)});var a,c,d},lI=(o,a)=>({bounds:o.getBounds(),height:lc(a.element),width:Li(a.element)}),V4=(o,a,c,d,p)=>{const v=c.update(d,p),w=c.getStartData().getOrThunk(()=>lI(a,o));v.each(k=>{((E,O,L,M)=>{const H=O.getTarget(E.element);if(O.repositionTarget){const q=js(E.element),Y=Fr(q),se=af(H),ce=H4(H),ve=((ae,me,ye,_e,Le,Xe,_t)=>((vt,gt,Bt,sn,vn)=>{const In=vn.bounds,qn=Lv(gt,Bt,sn),ko=yc(qn.left,In.x,In.x+In.width-vn.width),Vr=yc(qn.top,In.y,In.y+In.height-vn.height),Qr=ch(ko,Vr);return gt.fold(()=>{const mo=J6(Qr,Bt,sn);return G2(mo.left,mo.top)},te(Qr),()=>{const mo=q2(Qr,Bt,sn);return B0(mo.left,mo.top)})})(0,me.fold(()=>{const vt=(gt=ye,Bt=Xe.left,sn=Xe.top,gt.fold((In,qn)=>G2(In+Bt,qn+sn),(In,qn)=>ch(In+Bt,qn+sn),(In,qn)=>B0(In+Bt,qn+sn)));var gt,Bt,sn;const vn=q2(vt,_e,Le);return B0(vn.left,vn.top)},vt=>{const gt=tI(ae,vt,ye,Xe,_e,Le);return gt.extra.each(Bt=>{vt.onSensor(ae,Bt)}),gt.coord}),_e,Le,_t))(E,O.snaps,ce,Y,se,M,L),ie=Q6(ve,0,se);el(H,ie)}O.onDrag(E,H,M)})(o,a,w,k)})},$4=(o,a,c,d)=>{a.each(qF),c.snaps.each(v=>{((w,k)=>{((E,O)=>{const L=E.element;fo(L,O.leftAttr),fo(L,O.topAttr)})(w,k)})(o,v)});const p=c.getTarget(o.element);d.reset(),c.onDrop(o,p)},U4=o=>(a,c)=>{const d=p=>{c.setStartData(lI(a,p))};return to([xt(ub(),p=>{c.getStartData().each(()=>d(p))}),...o(a,c,d)])};var YF=Object.freeze({__proto__:null,getData:o=>D.from(Lr(o.x,o.y)),getDelta:(o,a)=>Lr(a.left-o.left,a.top-o.top)});const cI=(o,a,c)=>[xt(Tt(),(d,p)=>{if(p.event.raw.button!==0)return;p.stop();const v=()=>$4(d,D.some(E),o,a),w=xA(v,200),k={drop:v,delayDrop:w.schedule,forceDrop:v,move:O=>{w.cancel(),V4(d,o,a,YF,O)}},E=iI(d,o.blockerClass,(O=>to([xt(Tt(),O.forceDrop),xt(Xn(),O.drop),xt(Ln(),(L,M)=>{O.move(M.event)}),xt(so(),O.delayDrop)]))(k));c(d),aI(d,E)})],XF=[...z4,Ir("dragger",{handlers:U4(cI)})];var uI=Object.freeze({__proto__:null,getData:o=>{const a=o.raw.touches;return a.length===1?(c=>{const d=c[0];return D.some(Lr(d.clientX,d.clientY))})(a):D.none()},getDelta:(o,a)=>Lr(a.left-o.left,a.top-o.top)});const dI=(o,a,c)=>{const d=cr(),p=v=>{$4(v,d.get(),o,a),d.clear()};return[xt(Z(),(v,w)=>{w.stop();const k=()=>p(v),E={drop:k,delayDrop:he,forceDrop:k,move:L=>{V4(v,o,a,uI,L)}},O=iI(v,o.blockerClass,(L=>to([xt(Z(),L.forceDrop),xt(Oe(),L.drop),xt(ze(),L.drop),xt(oe(),(M,H)=>{L.move(H.event)})]))(E));d.set(O),c(v),aI(v,O)}),xt(oe(),(v,w)=>{w.stop(),V4(v,o,a,uI,w.event)}),xt(Oe(),(v,w)=>{w.stop(),p(v)}),xt(ze(),p)]},JF=XF,fI=[...z4,Ir("dragger",{handlers:U4(dI)})],mI=[...z4,Ir("dragger",{handlers:U4((o,a,c)=>[...cI(o,a,c),...dI(o,a,c)])})];var QF=Object.freeze({__proto__:null,mouse:JF,touch:fI,mouseOrTouch:mI}),ez=Object.freeze({__proto__:null,init:()=>{let o=D.none(),a=D.none();const c=te({});return ha({readState:c,reset:()=>{o=D.none(),a=D.none()},update:(d,p)=>d.getData(p).bind(v=>((w,k)=>{const E=o.map(O=>w.getDelta(O,k));return o=D.some(k),E})(d,v)),getStartData:()=>a,setStartData:d=>{a=D.some(d)}})}});const M0=Zw({branchKey:"mode",branches:QF,name:"dragging",active:{events:(o,a)=>o.dragger.handlers(o,a)},extra:{snap:o=>({sensor:o.sensor,range:o.range,output:o.output,extra:D.from(o.extra)})},state:ez,apis:sI}),gI=(o,a,c,d,p,v)=>o.fold(()=>M0.snap({sensor:ch(c-20,d-20),range:Lr(p,v),output:ch(D.some(c),D.some(d)),extra:{td:a}}),w=>{const k=c-20,E=d-20,O=w.element.dom.getBoundingClientRect();return M0.snap({sensor:ch(k,E),range:Lr(40,40),output:ch(D.some(c-O.width/2),D.some(d-O.height/2)),extra:{td:a}})}),hI=(o,a,c)=>({getSnapPoints:o,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(d,p)=>{const v=p.td;((w,k)=>w.exists(E=>Wo(E,k)))(a.get(),v)||(a.set(v),c(v))},mustSnap:!0}),pI=o=>or(Oi.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Ft([M0.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:o}),w0.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),bI=(o,a)=>{const c=Dn([]),d=Dn([]),p=Dn(!1),v=cr(),w=cr(),k=ie=>{const ae=ol(ie);return gI(M.getOpt(a),ie,ae.x,ae.y,ae.width,ae.height)},E=ie=>{const ae=ol(ie);return gI(H.getOpt(a),ie,ae.right,ae.bottom,ae.width,ae.height)},O=hI(()=>bt(c.get(),ie=>k(ie)),v,ie=>{w.get().each(ae=>{o.dispatch("TableSelectorChange",{start:ie,finish:ae})})}),L=hI(()=>bt(d.get(),ie=>E(ie)),w,ie=>{v.get().each(ae=>{o.dispatch("TableSelectorChange",{start:ae,finish:ie})})}),M=pI(O),H=pI(L),q=Oa(M.asSpec()),Y=Oa(H.asSpec()),se=(ie,ae,me,ye)=>{const _e=me(ae);M0.snapTo(ie,_e),((Le,Xe,_t,vt)=>{const gt=Xe.dom.getBoundingClientRect();nr(Le.element,"display");const Bt=Lc(Qt(o.getBody())).dom.innerHeight,sn=gt[ye]<0,vn=((In,qn)=>In[ye]>qn)(gt,Bt);(sn||vn)&&Qn(Le.element,"display","none")})(ie,ae)},ce=ie=>se(q,ie,k,"top"),ve=ie=>se(Y,ie,E,"bottom");if(Ua().deviceType.isTouch()){const ie=ae=>bt(ae,Qt);o.on("TableSelectionChange",ae=>{p.get()||(xf(a,q),xf(a,Y),p.set(!0));const me=Qt(ae.start),ye=Qt(ae.finish);v.set(me),w.set(ye),D.from(ae.otherCells).each(_e=>{c.set(ie(_e.upOrLeftCells)),d.set(ie(_e.downOrRightCells)),ce(me),ve(ye)})}),o.on("ResizeEditor ResizeWindow ScrollContent",()=>{v.get().each(ce),w.get().each(ve)}),o.on("TableSelectionClear",()=>{p.get()&&(Wi(q),Wi(Y),p.set(!1)),v.clear(),w.clear()})}},vI=(o,a,c)=>{var d;const p=(d=a.delimiter)!==null&&d!==void 0?d:"";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Ft([An.config({mode:"flow",selector:"div[role=button]"}),Kn.config({disabled:c.isDisabled}),ba(),Nr.config({}),zn.config({}),uo("elementPathEvents",[Zr((v,w)=>{o.shortcuts.add("alt+F11","focus statusbar elementpath",()=>An.focusIn(v)),o.on("NodeChange",k=>{const E=(L=>{const M=[];let H=L.length;for(;H-- >0;){const Y=L[H];if(Y.nodeType===1&&(q=Y).nodeName!=="BR"&&!q.getAttribute("data-mce-bogus")&&q.getAttribute("data-mce-type")!=="bookmark"){const se=$D(o,Y);if(se.isDefaultPrevented()||M.push({name:se.name,element:Y}),se.isPropagationStopped())break}}var q;return M})(k.parents),O=E.length>0?Rn(E,(L,M,H)=>{const q=((Y,se,ce)=>Oi.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":ce}},components:[Cs(Y)],action:ve=>{o.focus(),o.selection.select(se),o.nodeChanged()},buttonBehaviours:Ft([Ws.config({...c.tooltips.getConfig({tooltipText:c.translate(["Select the {0} element",se.nodeName.toLowerCase()]),onShow:(ve,ie)=>{((ae,me)=>{const ye=D.from(Co(ae,"id")).getOrThunk(()=>{const _e=mn("aria");return Jt(me,"id",_e),_e});Jt(ae,"aria-describedby",ye)})(ve.element,ie.element)},onHide:ve=>{var ie;ie=ve.element,fo(ie,"aria-describedby")}})}),fi(c.isDisabled),ba()])}))(M.name,M.element,H);return H===0?L.concat([q]):L.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Cs(` ${p} `)]},q])},[]):[];zn.set(v,O)})})])]),components:[]}};var uh;(function(o){o[o.None=0]="None",o[o.Both=1]="Both",o[o.Vertical=2]="Vertical"})(uh||(uh={}));const xS=(o,a,c)=>{const d=Qt(o.getContainer()),p=((v,w,k,E,O)=>{const L={height:Z2(E+w.top,iv(v),TC(v))};return k===uh.Both&&(L.width=Z2(O+w.left,Hx(v),lv(v))),L})(o,a,c,ms(d),fa(d));Cn(p,(v,w)=>{ee(v)&&Qn(d,w,Sp(v))}),(v=>{v.dispatch("ResizeEditor")})(o)},wS=(o,a,c,d)=>{const p=Lr(20*c,20*d);return xS(o,p,a),D.some(!0)},yI=(o,a)=>{const c=()=>{const d=[],p=bE(o),v=R5(o),w=Ac(o)||o.hasPlugin("wordcount");return v&&d.push(vI(o,{},a)),p&&d.push((()=>{const k=r_("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Cs(Fu.translate(["Press {0} for help",k]))]}})()),w&&d.push((()=>{const k=[];return o.hasPlugin("wordcount")&&k.push(((E,O)=>{const L=(M,H,q)=>zn.set(M,[Cs(O.translate(["{0} "+q,H[q]]))]);return Oi.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Ft([fi(O.isDisabled),ba(),Nr.config({}),zn.config({}),rt.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),uo("wordcount-events",[Yc(M=>{const H=rt.getValue(M),q=H.mode==="words"?"characters":"words";rt.setValue(M,{mode:q,count:H.count}),L(M,H.count,q)}),Zr(M=>{E.on("wordCountUpdate",H=>{const{mode:q}=rt.getValue(M);rt.setValue(M,{mode:q,count:H.wordCount}),L(M,H.wordCount,q)})})])]),eventOrder:{[rl()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(o,a)),Ac(o)&&k.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":o.translate(["Build with {0}","TinyMCE"])},innerHtml:o.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:Ft([Zn.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:k}})()),d.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const k="tox-statusbar__text-container--flex-start",E="tox-statusbar__text-container--flex-end";if(p){const O="tox-statusbar__text-container-3-cols";return w||v?w&&!v?[O,E]:[O,k]:[O,"tox-statusbar__text-container--space-around"]}return[w&&!v?E:k]})()]},components:d}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const d=c(),p=((v,w)=>{const k=(O=>{const L=Qa(O);return L===!1?uh.None:L==="both"?uh.Both:uh.Vertical})(v);if(k===uh.None)return D.none();const E=k===uh.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return D.some(Tc("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":w.translate(E),"data-mce-name":"resize-handle"},behaviours:[M0.config({mode:"mouse",repositionTarget:!1,onDrag:(O,L,M)=>xS(v,M,k),blockerClass:"tox-blocker"}),An.config({mode:"special",onLeft:()=>wS(v,k,-1,0),onRight:()=>wS(v,k,1,0),onUp:()=>wS(v,k,0,-1),onDown:()=>wS(v,k,0,1)}),Nr.config({}),Zn.config({}),Ws.config(w.tooltips.getConfig({tooltipText:w.translate("Resize")}))]},w.icons))})(o,a);return d.concat(p.toArray())})()}},xI=(o,a)=>a.get().getOrDie(`UI for ${o} has not been rendered`),tz=(o,a)=>{const c=o.inline,d=c?MF:h$,p=Xg(o)?BL:IL,v=(()=>{const _e=cr(),Le=cr(),Xe=cr();return{dialogUi:_e,popupUi:Le,mainUi:Xe,getUiMotherships:()=>{const _t=_e.get().map(gt=>gt.mothership),vt=Le.get().map(gt=>gt.mothership);return _t.fold(()=>vt.toArray(),gt=>vt.fold(()=>[gt],Bt=>Wo(gt.element,Bt.element)?[gt]:[gt,Bt]))},lazyGetInOuterOrDie:(_t,vt)=>()=>Xe.get().bind(gt=>vt(gt.outerContainer)).getOrDie(`Could not find ${_t} element in OuterContainer`)}})(),w=cr(),k=cr(),E=cr(),O=Ua().deviceType.isTouch()?["tox-platform-touch"]:[],L=vE(o),M=a0(o),H=or({dom:{tag:"div",classes:["tox-anchorbar"]}}),q=or({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),Y=()=>v.mainUi.get().map(_e=>_e.outerContainer).bind(Hr.getHeader),se=v.lazyGetInOuterOrDie("anchor bar",H.getOpt),ce=v.lazyGetInOuterOrDie("bottom anchor bar",q.getOpt),ve=v.lazyGetInOuterOrDie("toolbar",Hr.getToolbar),ie=v.lazyGetInOuterOrDie("throbber",Hr.getThrobber),ae=((_e,Le,Xe,_t)=>{const vt=Dn(!1),gt=(zo=>{const Fn=Dn(vE(zo)?"bottom":"top");return{isPositionedAtTop:()=>Fn.get()==="top",getDockingMode:Fn.get,setDockingMode:Fn.set}})(Le),Bt={icons:()=>Le.ui.registry.getAll().icons,menuItems:()=>Le.ui.registry.getAll().menuItems,translate:Fu.translate,isDisabled:()=>Le.mode.isReadOnly()||!Le.ui.isEnabled(),getOption:Le.options.get,tooltips:H3(_e.dialog)},sn=zN(Le),vn=(zo=>{const Fn=Na=>()=>zo.formatter.match(Na),es=Na=>()=>{const ya=zo.formatter.get(Na);return ya!==void 0?D.some({tag:ya.length>0&&(ya[0].inline||ya[0].block)||"div",styles:zo.dom.parseStyle(zo.formatter.getCssText(Na))}):D.none()},_r=Dn([]),Di=Dn([]),Ri=Dn(!1);return zo.on("PreInit",Na=>{const ya=ON(zo),dh=z3(zo,ya,Fn,es);_r.set(dh)}),zo.on("addStyleModifications",Na=>{const ya=z3(zo,Na.items,Fn,es);Di.set(ya),Ri.set(Na.replace)}),{getData:()=>{const Na=Ri.get()?[]:_r.get(),ya=Di.get();return Na.concat(ya)}}})(Le),In=(zo=>({colorPicker:yL(zo),hasCustomColors:xL(zo),getColors:wL(zo),getColorCols:CL(zo)}))(Le),qn=(zo=>({isDraggableModal:EN(zo)}))(Le),ko={shared:{providers:Bt,anchors:vL(Le,Xe,_t,gt.isPositionedAtTop),header:gt},urlinput:sn,styles:vn,colorinput:In,dialog:qn,isContextMenuOpen:()=>vt.get(),setContextMenuState:zo=>vt.set(zo)},Vr=zo=>D.none(),Qr={...ko,shared:{...ko.shared,interpreter:zo=>wN(zo,{},Qr,Vr),getSink:_e.popup}},mo={...ko,shared:{...ko.shared,interpreter:zo=>wN(zo,{},mo,Vr),getSink:_e.dialog}};return{popup:Qr,dialog:mo}})({popup:()=>So.fromOption(v.popupUi.get().map(_e=>_e.sink),"(popup) UI has not been rendered"),dialog:()=>So.fromOption(v.dialogUi.get().map(_e=>_e.sink),"UI has not been rendered")},o,se,ce),me=()=>{const _e=(()=>{const ko={attributes:{[ll]:L?Sc.BottomToTop:Sc.TopToBottom}},Vr=Hr.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:ae.popup,onEscape:()=>{o.focus()}}),Qr=Hr.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:ae.popup.shared.getSink,providers:ae.popup.shared.providers,onEscape:()=>{o.focus()},onToolbarToggled:ya=>{((dh,$v)=>{dh.dispatch("ToggleToolbarDrawer",{state:$v})})(o,ya)},type:M,lazyToolbar:ve,lazyHeader:()=>Y().getOrDie("Could not find header element"),...ko}),mo=Hr.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:ae.popup.shared.providers,onEscape:()=>{o.focus()},type:M}),zo=Zx(o),Fn=Wx(o),es=Ux(o),_r=I5(o),Di=Hr.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Ri=zo||Fn||es,Na=_r?[Di,Vr]:[Vr];return Hr.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Ri?[]:["tox-editor-header--empty"]),...ko},components:vr([es?Na:[],zo?[mo]:Fn?[Qr]:[],i0(o)?[]:[H.asSpec()]]),sticky:Xg(o),editor:o,sharedBackstage:ae.popup.shared})})(),Le={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Hr.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Hr.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},Xe=Hr.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:ae.popup}),_t=Hr.parts.viewWrapper({backstage:ae.popup}),vt=D5(o)&&!c?D.some(yI(o,ae.popup.shared.providers)):D.none(),gt=vr([L?[]:[_e],c?[]:[Le],L?[_e]:[]]),Bt=Hr.parts.editorContainer({components:vr([gt,c?[]:[q.asSpec()]])}),sn=zC(o),vn={role:"application",...Fu.isRtl()?{dir:"rtl"}:{},...sn?{"aria-hidden":"true"}:{}},In=Oa(Hr.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(c?["tox-tinymce-inline"]:[]).concat(L?["tox-tinymce--toolbar-bottom"]:[]).concat(O),styles:{visibility:"hidden",...sn?{opacity:"0",border:"0"}:{}},attributes:vn},components:[Bt,...c?[]:[_t,...vt.toArray()],Xe],behaviours:Ft([ba(),Kn.config({disableClass:"tox-tinymce--disabled"}),An.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),qn=p_(In);return w.set(qn),{mothership:qn,outerContainer:In}},ye=_e=>{const Le=Sp((_t=>(gt=>{const Bt=Fx(gt),sn=iv(gt),vn=TC(gt);return W2(Bt).map(In=>Z2(In,sn,vn))})(_t).getOr(Fx(_t)))(o)),Xe=Sp((_t=>k4(_t).getOr(zx(_t)))(o));return o.inline||(vl("div","width",Xe)&&Qn(_e.element,"width",Xe),vl("div","height",Le)?Qn(_e.element,"height",Le):Qn(_e.element,"height","400px")),Le};return{popups:{backstage:ae.popup,getMothership:()=>xI("popups",E)},dialogs:{backstage:ae.dialog,getMothership:()=>xI("dialogs",k)},renderUI:()=>{const _e=me(),Le=(()=>{const _t=FC(o),vt=Wo(fn(),_t)&&as(_t,"display")==="grid",gt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(O),attributes:{...Fu.isRtl()?{dir:"rtl"}:{}}},behaviours:Ft([Ja.config({useFixed:()=>p.isDocked(Y)})])},Bt={dom:{styles:{width:document.body.clientWidth+"px"}},events:to([xt(tf(),In=>{Qn(In.element,"width",document.body.clientWidth+"px")})])},sn=Oa(xr(gt,vt?Bt:{})),vn=p_(sn);return k.set(vn),{sink:sn,mothership:vn}})(),Xe=Jg(o)?(()=>{const _t={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(O),attributes:{...Fu.isRtl()?{dir:"rtl"}:{}}},behaviours:Ft([Ja.config({useFixed:()=>p.isDocked(Y),getBounds:()=>a.getPopupSinkBounds()})])},vt=Oa(_t),gt=p_(vt);return E.set(gt),{sink:vt,mothership:gt}})():(_t=>(E.set(_t.mothership),_t))(Le);return v.dialogUi.set(Le),v.popupUi.set(Xe),v.mainUi.set(_e),(_t=>{const{mainUi:vt,popupUi:gt,uiMotherships:Bt}=_t;En(DC(o),(Fn,es)=>{o.ui.registry.addGroupToolbarButton(es,Fn)});const{buttons:sn,menuItems:vn,contextToolbars:In,sidebars:qn,views:ko}=o.ui.registry.getAll(),Vr=LC(o),Qr={menuItems:vn,menus:tp(o),menubar:Yg(o),toolbar:Vr.getOrThunk(()=>uv(o)),allowToolbarGroups:M===Lu.floating,buttons:sn,sidebar:qn,views:ko};var mo;mo=vt.outerContainer,o.addShortcut("alt+F9","focus menubar",()=>{Hr.focusMenubar(mo)}),o.addShortcut("alt+F10","focus toolbar",()=>{Hr.focusToolbar(mo)}),o.addCommand("ToggleToolbarDrawer",(Fn,es)=>{es!=null&&es.skipFocus?Hr.toggleToolbarDrawerWithoutFocusing(mo):Hr.toggleToolbarDrawer(mo)}),o.addQueryStateHandler("ToggleToolbarDrawer",()=>Hr.isToolbarDrawerToggled(mo)),((Fn,es,_r)=>{const Di=(Yo,Jm)=>{Zt([es,..._r],Rd=>{Rd.broadcastEvent(Yo,Jm)})},Ri=(Yo,Jm)=>{Zt([es,..._r],Rd=>{Rd.broadcastOn([Yo],Jm)})},Na=Yo=>Ri(P(),{target:Yo.target}),ya=xi(),dh=Ai(ya,"touchstart",Na),$v=Ai(ya,"touchmove",Yo=>Di(yn(),Yo)),Ep=Ai(ya,"touchend",Yo=>Di(qc(),Yo)),fh=Ai(ya,"mousedown",Na),aw=Ai(ya,"mouseup",Yo=>{Yo.raw.button===0&&Ri(U(),{target:Yo.target})}),Ap=Yo=>Ri(P(),{target:Qt(Yo.target)}),Ym=Yo=>{Yo.button===0&&Ri(U(),{target:Qt(Yo.target)})},L0=()=>{Zt(Fn.editorManager.get(),Yo=>{Fn!==Yo&&Yo.dispatch("DismissPopups",{relatedTarget:Fn})})},F0=Yo=>Di(ub(),bd(Yo)),Uv=Yo=>{Ri(V(),{}),Di(tf(),bd(Yo))},DS=st(Qt(Fn.getElement())),iw=lx(DS,"scroll",Yo=>{requestAnimationFrame(()=>{if(Fn.getContainer()!=null){const Jm=np(Fn,es.element).map(Rd=>[Rd.element,...Rd.others]).getOr([]);On(Jm,Rd=>Wo(Rd,Yo.target))&&(Fn.dispatch("ElementScroll",{target:Yo.target.dom}),Di(Dh(),Yo))}})}),Tp=()=>Ri(V(),{}),Xm=Yo=>{Yo.state&&Ri(P(),{target:Qt(Fn.getContainer())})},mh=Yo=>{Ri(P(),{target:Qt(Yo.relatedTarget.getContainer())})},lw=Yo=>Fn.dispatch("focusin",Yo),cw=Yo=>Fn.dispatch("focusout",Yo);Fn.on("PostRender",()=>{Fn.on("click",Ap),Fn.on("tap",Ap),Fn.on("mouseup",Ym),Fn.on("mousedown",L0),Fn.on("ScrollWindow",F0),Fn.on("ResizeWindow",Uv),Fn.on("ResizeEditor",Tp),Fn.on("AfterProgressState",Xm),Fn.on("DismissPopups",mh),Zt([es,..._r],Yo=>{Yo.element.dom.addEventListener("focusin",lw),Yo.element.dom.addEventListener("focusout",cw)})}),Fn.on("remove",()=>{Fn.off("click",Ap),Fn.off("tap",Ap),Fn.off("mouseup",Ym),Fn.off("mousedown",L0),Fn.off("ScrollWindow",F0),Fn.off("ResizeWindow",Uv),Fn.off("ResizeEditor",Tp),Fn.off("AfterProgressState",Xm),Fn.off("DismissPopups",mh),Zt([es,..._r],Yo=>{Yo.element.dom.removeEventListener("focusin",lw),Yo.element.dom.removeEventListener("focusout",cw)}),fh.unbind(),dh.unbind(),$v.unbind(),Ep.unbind(),aw.unbind(),iw.unbind()}),Fn.on("detach",()=>{Zt([es,..._r],Tk),Zt([es,..._r],Yo=>Yo.destroy())})})(o,vt.mothership,Bt),p.setup(o,ae.popup.shared,Y),$F(o,ae.popup),KF(o,ae.popup.shared.getSink,ae.popup),(Fn=>{const{sidebars:es}=Fn.ui.registry.getAll();Zt(on(es),_r=>{const Di=es[_r],Ri=()=>Wr(D.from(Fn.queryCommandValue("ToggleSidebar")),_r);Fn.ui.registry.addToggleButton(_r,{icon:Di.icon,tooltip:Di.tooltip,onAction:Na=>{Fn.execCommand("ToggleSidebar",!1,_r),Na.setActive(Ri())},onSetup:Na=>{Na.setActive(Ri());const ya=()=>Na.setActive(Ri());return Fn.on("ToggleSidebar",ya),()=>{Fn.off("ToggleSidebar",ya)}}})})})(o),GN(o,ie,ae.popup.shared),FF(o,In,gt.sink,{backstage:ae.popup}),bI(o,gt.sink);const zo={targetNode:o.getElement(),height:ye(vt.outerContainer)};return d.render(o,_t,Qr,ae.popup,zo)})({popupUi:Xe,dialogUi:Le,mainUi:_e,uiMotherships:v.getUiMotherships()})}}},nz=te([At("lazySink"),Bo("dragBlockClass"),zr("getBounds",ka),et("useTabstopAt",Ne),et("firstTabstop",0),et("eventOrder",{}),gn("modalBehaviours",[An]),sl("onExecute"),ci("onEscape")]),W4={sketch:Ae},Z4=te([ou({name:"draghandle",overrides:(o,a)=>({behaviours:Ft([M0.config({mode:"mouse",getTarget:c=>ym(c,'[role="dialog"]').getOr(c),blockerClass:o.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(a,null,2)).message),getBounds:o.getDragBounds})])})}),cl({schema:[At("dom")],name:"title"}),cl({factory:W4,schema:[At("dom")],name:"close"}),cl({factory:W4,schema:[At("dom")],name:"body"}),ou({factory:W4,schema:[At("dom")],name:"footer"}),wd({factory:{sketch:(o,a)=>({...o,dom:a.dom,components:a.components})},schema:[et("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),et("components",[])],name:"blocker"})]),ys=Cl({name:"ModalDialog",configFields:nz(),partFields:Z4(),factory:(o,a,c,d)=>{const p=cr(),v=mn("modal-events"),w={...o.eventOrder,[qa()]:[v].concat(o.eventOrder["alloy.system.attached"]||[])},k=Ua();return{uid:o.uid,dom:o.dom,components:a,apis:{show:E=>{p.set(E);const O=o.lazySink(E).getOrDie(),L=d.blocker(),M=O.getSystem().build({...L,components:L.components.concat([$i(E)]),behaviours:Ft([Zn.config({}),uo("dialog-blocker-events",[sf(Qo(),()=>{qu.isBlocked(E)||An.focusIn(E)})])])});xf(O,M),An.focusIn(E)},hide:E=>{p.clear(),si(E.element).each(O=>{E.getSystem().getByDom(O).each(L=>{Wi(L)})})},getBody:E=>qg(E,o,"body"),getFooter:E=>Mr(E,o,"footer"),setIdle:E=>{qu.unblock(E)},setBusy:(E,O)=>{qu.block(E,O)}},eventOrder:w,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:co(o.modalBehaviours,[zn.config({}),An.config({mode:"cyclic",onEnter:o.onExecute,onEscape:o.onEscape,useTabstopAt:o.useTabstopAt,firstTabstop:o.firstTabstop}),qu.config({getRoot:p.get}),uo(v,[Zr(E=>{const O=qg(E,o,"title").element,L=(M=>M.dom.textContent)(O);k.os.isMacOS()&&$(L)?Jt(E.element,"aria-label",L):((M,H)=>{const q=Io(M,"id").fold(()=>{const Y=mn("dialog-label");return Jt(H,"id",Y),Y},Ae);Jt(M,"aria-labelledby",q)})(E.element,O)})])])}},apis:{show:(o,a)=>{o.show(a)},hide:(o,a)=>{o.hide(a)},getBody:(o,a)=>o.getBody(a),getFooter:(o,a)=>o.getFooter(a),setBusy:(o,a,c)=>{o.setBusy(a,c)},setIdle:(o,a)=>{o.setIdle(a)}}}),oz=Pn([na,BE].concat(m0)),Y2=Vl,j4=[VE("button"),Hu,fc("align","end",["start","end"]),JC,Vu,Cg("buttonType",["primary","secondary"])],CS=[...j4,zu],K4=[Tu("type",["submit","cancel","custom"]),...CS],rz=[Tu("type",["menu"]),lp,c2,Hu,Hi("items",oz),...j4],sz=[...j4,Tu("type",["togglebutton"]),c2,Hu,lp,Vs("active",!1)],wI=Qs("type",{submit:K4,cancel:K4,custom:K4,menu:rz,togglebutton:sz}),az=[na,zu,Tu("level",["info","warn","error","success"]),LE,et("url","")],q4=Pn(az),G4=[na,zu,Vu,VE("button"),Hu,g$,Cg("buttonType",["primary","secondary","toolbar"]),JC],Y4=Pn(G4),Fv=[na,BE],Ra=Fv.concat([FE]),iz=Fv.concat([ME,Vu]),lz=Pn(iz),CI=Vl,_I=Ra.concat([hD("auto")]),cz=Pn(_I),uz=ku([d0,zu,LE]),dz=Ra.concat([Tl("storageKey","default")]),fz=Pn(dz),mz=aa,gz=Pn(Ra),hz=aa,SI=Fv.concat([Tl("tag","textarea"),ls("scriptId"),ls("scriptUrl"),jc("onFocus"),Si("settings",void 0,u1)]),pz=Fv.concat([Tl("tag","textarea"),_i("init")]),bz=Xd(o=>is("customeditor.old",sa(pz),o).orThunk(()=>is("customeditor.new",sa(SI),o))),vz=aa,kI=Pn(Ra),X4=Su(_u),EI=o=>[na,Th("columns"),o],AI=[na,ls("html"),fc("presets","presentation",["presentation","document"]),zr("onInit",he),Vs("stretched",!1)],TI=Pn(AI),OI=Ra.concat([Vs("border",!1),Vs("sandboxed",!0),Vs("streamContent",!1),Vs("transparent",!0)]),J4=Pn(OI),yz=aa,Q4=Pn(Fv.concat([ws("height")])),zv=Pn([ls("url"),Jd("zoom"),Jd("cachedWidth"),Jd("cachedHeight")]),DI=Ra.concat([ws("inputMode"),ws("placeholder"),Vs("maximized",!1),Vu]),RI=Pn(DI),NI=aa,xz=o=>[na,ME,o,fc("align","start",["start","center","end"]),ws("for")],wz=[zu,d0],_S=[zu,Hi("items",Ah(0,()=>II))],II=sm([Pn(wz),Pn(_S)]),Cz=Ra.concat([Hi("items",II),Vu]),BI=Pn(Cz),MI=aa,eT=Ra.concat([im("items",[zu,d0]),Rs("size",1),Vu]),PI=Pn(eT),Il=aa,LI=Ra.concat([Vs("constrain",!0),Vu]),_z=Pn(LI),FI=Pn([ls("width"),ls("height")]),zI=Fv.concat([ME,Rs("min",0),Rs("max",0)]),Sz=Pn(zI),kz=ld,Ez=[na,Hi("header",aa),Hi("cells",Su(aa))],HI=Pn(Ez),Gm=Ra.concat([ws("placeholder"),Vs("maximized",!1),Vu]),tT=Pn(Gm),VI=aa,X2=[Tu("type",["directory","leaf"]),PE,ls("id"),Ds("menu",ZN)],SS=Pn(X2),Az=X2.concat([Hi("children",Ah(0,()=>Au("type",{directory:$I,leaf:SS})))]),$I=Pn(Az),Tz=Au("type",{directory:$I,leaf:SS}),Oz=[na,Hi("items",Tz),jc("onLeafAction"),jc("onToggleExpand"),gr("defaultExpandedIds",[],aa),ws("defaultSelectedId")],Dz=Pn(Oz),Rz=Ra.concat([fc("filetype","file",["image","media","file"]),Vu,ws("picker_text")]),Nz=Pn(Rz),UI=Pn([d0,Oc]),nT=o=>qs("items","items",{tag:"required",process:{}},Su(Xd(a=>is(`Checking item of ${o}`,Dd,a).fold(c=>So.error(zi(c)),c=>So.value(c))))),Dd=rm(()=>{return Au("type",{alertbanner:q4,bar:Pn((o=nT("bar"),[na,o])),button:Y4,checkbox:lz,colorinput:fz,colorpicker:gz,dropzone:kI,grid:Pn(EI(nT("grid"))),iframe:J4,input:RI,listbox:BI,selectbox:PI,sizeinput:_z,slider:Sz,textarea:tT,urlinput:Nz,customeditor:bz,htmlpanel:TI,imagepreview:Q4,collection:cz,label:Pn(xz(nT("label"))),table:HI,tree:Dz,panel:WI});var o}),kS=[na,et("classes",[]),Hi("items",Dd)],WI=Pn(kS),Iz=[VE("tab"),PE,Hi("items",Dd)],ZI=[na,im("tabs",Iz)],jI=Pn(ZI),oT=CS,ES=wI,J2=Pn([ls("title"),Aa("body",Au("type",{panel:WI,tabpanel:jI})),Tl("size","normal"),gr("buttons",[],ES),et("initialData",{}),zr("onAction",he),zr("onChange",he),zr("onSubmit",he),zr("onClose",he),zr("onCancel",he),zr("onTabChange",he)]),Q2=Pn([Tu("type",["cancel","custom"]),...oT]),KI=Pn([ls("title"),ls("url"),Jd("height"),Jd("width"),d1("buttons",Q2),zr("onAction",he),zr("onCancel",he),zr("onClose",he),zr("onMessage",he)]),AS=o=>x(o)?[o].concat(Ko(vi(o),AS)):B(o)?Ko(o,AS):[],qI=o=>h(o.type)&&h(o.name),GI={checkbox:CI,colorinput:mz,colorpicker:hz,dropzone:X4,input:NI,iframe:yz,imagepreview:zv,selectbox:Il,sizeinput:FI,slider:kz,listbox:MI,size:FI,textarea:VI,urlinput:UI,customeditor:vz,collection:uz,togglemenuitem:Y2},Bz=o=>{const a=(d=>ho(AS(d),qI))(o),c=Ko(a,d=>(p=>D.from(GI[p.type]))(d).fold(()=>[],p=>[Aa(d.name,p)]));return Pn(c)},YI=o=>{var a;return{internalDialog:Ci(is("dialog",J2,o)),dataValidator:Bz(o),initialData:(a=o.initialData)!==null&&a!==void 0?a:{}}},P0={open:(o,a)=>{const c=YI(a);return o(c.internalDialog,c.initialData,c.dataValidator)},openUrl:(o,a)=>o(Ci(is("dialog",KI,a))),redial:o=>YI(o)};var Mz=Object.freeze({__proto__:null,events:(o,a)=>{const c=(d,p)=>{o.updateState.each(v=>{const w=v(d,p);a.set(w)}),o.renderComponents.each(v=>{const w=v(p,a.get());(o.reuseDom?sE:n0)(d,w)})};return to([xt($l(),(d,p)=>{const v=p;if(!v.universal){const w=o.channel;Qe(v.channels,w)&&c(d,v.data)}}),Zr((d,p)=>{o.initialData.each(v=>{c(d,v)})})])}}),Pz=Object.freeze({__proto__:null,getState:(o,a,c)=>c}),XI=[At("channel"),Bo("renderComponents"),Bo("updateState"),Bo("initialData"),Vs("reuseDom",!0)];const Jl=pa({fields:XI,name:"reflecting",active:Mz,apis:Pz,state:Object.freeze({__proto__:null,init:()=>{const o=Dn(D.none());return{readState:()=>o.get().getOr("none"),get:o.get,set:o.set,clear:()=>o.set(D.none())}}})}),JI=o=>{const a=[],c={};return Cn(o,(d,p)=>{d.fold(()=>{a.push(p)},v=>{c[p]=v})}),a.length>0?So.error(a):So.value(c)},QI=(o,a,c,d)=>{const p=or(pp.sketch(w=>({dom:{tag:"div",classes:["tox-form"].concat(o.classes)},components:bt(o.items,k=>Q_(w,k,a,c,d))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[p.asSpec()]}],behaviours:Ft([An.config({mode:"acyclic",useTabstopAt:$e(Ev)}),(v=p,Vo.config({find:v.getOpt})),YA(p,{postprocess:w=>JI(w).fold(k=>(console.error(k),{}),Ae)}),uo("dialog-body-panel",[xt(Qo(),(w,k)=>{w.getSystem().broadcastOn([$_],{newFocus:D.some(k.event.target)})})])])};var v},Lz=ru({name:"TabButton",configFields:[et("uid",void 0),At("value"),qs("dom","dom",Lo(()=>({attributes:{role:"tab",id:mn("aria"),"aria-selected":"false"}})),wl()),Bo("action"),et("domModification",{}),gn("tabButtonBehaviours",[Zn,An,rt]),At("view")],factory:(o,a)=>({uid:o.uid,dom:o.dom,components:o.components,events:sv(o.action),behaviours:co(o.tabButtonBehaviours,[Zn.config({}),An.config({mode:"execution",useSpace:!0,useEnter:!0}),rt.config({store:{mode:"memory",initialValue:o.value}})]),domModification:o.domModification})}),eB=te([At("tabs"),At("dom"),et("clickToDismiss",!1),gn("tabbarBehaviours",[ar,An]),Ng(["tabClass","selectedClass"])]),ew=fC({factory:Lz,name:"tabs",unit:"tab",overrides:o=>{const a=(d,p)=>{ar.dehighlight(d,p),Sn(d,Mt(),{tabbar:d,button:p})},c=(d,p)=>{ar.highlight(d,p),Sn(d,Rh(),{tabbar:d,button:p})};return{action:d=>{const p=d.getSystem().getByUid(o.uid).getOrDie(),v=ar.isHighlighted(p,d);(v&&o.clickToDismiss?a:v?he:c)(p,d)},domModification:{classes:[o.markers.tabClass]}}}}),Fz=te([ew]),rT=Cl({name:"Tabbar",configFields:eB(),partFields:Fz(),factory:(o,a,c,d)=>({uid:o.uid,dom:o.dom,components:a,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:co(o.tabbarBehaviours,[ar.config({highlightClass:o.markers.selectedClass,itemClass:o.markers.tabClass,onHighlight:(p,v)=>{Jt(v.element,"aria-selected","true")},onDehighlight:(p,v)=>{Jt(v.element,"aria-selected","false")}}),An.config({mode:"flow",getInitial:p=>ar.getHighlighted(p).map(v=>v.element),selector:"."+o.markers.tabClass,executeOnMove:!0})])})}),zz=ru({name:"Tabview",configFields:[gn("tabviewBehaviours",[zn])],factory:(o,a)=>({uid:o.uid,dom:o.dom,behaviours:co(o.tabviewBehaviours,[zn.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),Hz=te([et("selectFirst",!0),Fo("onChangeTab"),Fo("onDismissTab"),et("tabs",[]),gn("tabSectionBehaviours",[])]),Vz=cl({factory:rT,schema:[At("dom"),dc("markers",[At("tabClass"),At("selectedClass")])],name:"tabbar",defaults:o=>({tabs:o.tabs})}),$z=cl({factory:zz,name:"tabview"}),tB=te([Vz,$z]),Hv=Cl({name:"TabSection",configFields:Hz(),partFields:tB(),factory:(o,a,c,d)=>{const p=(v,w)=>{Mr(v,o,"tabbar").each(k=>{w(k).each(rf)})};return{uid:o.uid,dom:o.dom,components:a,behaviours:Vn(o.tabSectionBehaviours),events:to(vr([o.selectFirst?[Zr((v,w)=>{p(v,ar.getFirst)})]:[],[xt(Rh(),(v,w)=>{(k=>{const E=rt.getValue(k);Mr(k,o,"tabview").each(O=>{J(o.tabs,L=>L.value===E).each(L=>{const M=L.view();Io(k.element,"id").each(H=>{Jt(O.element,"aria-labelledby",H)}),zn.set(O,M),o.onChangeTab(O,k,M)})})})(w.event.button)}),xt(Mt(),(v,w)=>{const k=w.event.button;o.onDismissTab(v,k)})]])),apis:{getViewItems:v=>Mr(v,o,"tabview").map(w=>zn.contents(w)).getOr([]),showTab:(v,w)=>{p(v,k=>{const E=ar.getCandidates(k);return J(E,O=>rt.getValue(O)===w).filter(O=>!ar.isHighlighted(k,O))})}}}},apis:{getViewItems:(o,a)=>o.getViewItems(a),showTab:(o,a,c)=>{o.showTab(a,c)}}}),sT=(o,a)=>{Qn(o,"height",a+"px"),Qn(o,"flex-basis",a+"px")},Vv=(o,a,c)=>{ym(o,'[role="dialog"]').each(d=>{Jr(d,'[role="tablist"]').each(p=>{c.get().map(v=>(Qn(a,"height","0"),Qn(a,"flex-basis","0"),Math.min(v,((w,k,E)=>{const O=Mi(w).dom,L=ym(w,".tox-dialog-wrap").getOr(w);let M;M=as(L,"position")==="fixed"?Math.max(O.clientHeight,window.innerHeight):Math.max(O.offsetHeight,O.scrollHeight);const H=ms(k),q=k.dom.offsetLeft>=E.dom.offsetLeft+fa(E)?Math.max(ms(E),H):H,Y=parseInt(as(w,"margin-top"),10)||0,se=parseInt(as(w,"margin-bottom"),10)||0;return M-(ms(w)+Y+se-q)})(d,a,p)))).each(v=>{sT(a,v)})})})},Nf=o=>Jr(o,'[role="tabpanel"]'),TS="send-data-to-section",aT="send-data-to-view",nB=(o,a,c,d)=>{const p=Dn({}),v=L=>{const M=rt.getValue(L),H=JI(M).getOr({}),q=p.get(),Y=xr(q,H);p.set(Y)},w=L=>{const M=p.get();rt.setValue(L,M)},k=Dn(null),E=bt(o.tabs,L=>({value:L.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Cs(c.shared.providers.translate(L.title))],view:()=>[pp.sketch(M=>({dom:{tag:"div",classes:["tox-form"]},components:bt(L.items,H=>Q_(M,H,a,c,d)),formBehaviours:Ft([An.config({mode:"acyclic",useTabstopAt:$e(Ev)}),uo("TabView.form.events",[Zr(w),Ru(v)]),il.config({channels:cd([{key:TS,value:{onReceive:v}},{key:aT,value:{onReceive:w}}])})])}))]})),O=(L=>{const M=cr();return{extraEvents:[Zr(q=>{const Y=q.element;Nf(Y).each(se=>{Qn(se,"visibility","hidden"),q.getSystem().getByDom(se).toOptional().each(ce=>{const ve=((ae,me,ye)=>bt(ae,(_e,Le)=>{zn.set(ye,ae[Le].view());const Xe=me.dom.getBoundingClientRect();return zn.set(ye,[]),Xe.height}))(L,se,ce);(ae=>$t(pe(ae,(me,ye)=>me>ye?-1:me<ye?1:0)))(ve).fold(M.clear,M.set)}),Vv(Y,se,M),nr(se,"visibility"),((ce,ve)=>{$t(ce).each(ie=>Hv.showTab(ve,ie.value))})(L,q),requestAnimationFrame(()=>{Vv(Y,se,M)})})}),xt(tf(),q=>{const Y=q.element;Nf(Y).each(se=>{Vv(Y,se,M)})}),xt(v_,(q,Y)=>{const se=q.element;Nf(se).each(ce=>{const ve=Qc(st(ce));Qn(ce,"visibility","hidden");const ie=Ts(ce,"height").map(me=>parseInt(me,10));nr(ce,"height"),nr(ce,"flex-basis");const ae=ce.dom.getBoundingClientRect().height;ie.forall(me=>ae>me)?(M.set(ae),Vv(se,ce,M)):ie.each(me=>{sT(ce,me)}),nr(ce,"visibility"),ve.each(Ei)})})],selectFirst:!1}})(E);return Hv.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(L,M,H)=>{const q=rt.getValue(M);Sn(L,hR,{name:q,oldName:k.get()}),k.set(q)},tabs:E,components:[Hv.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[rT.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Ft([Nr.config({})])}),Hv.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:O.selectFirst,tabSectionBehaviours:Ft([uo("tabpanel",O.extraEvents),An.config({mode:"acyclic"}),Vo.config({find:L=>$t(Hv.getViewItems(L))}),S0(D.none(),L=>(L.getSystem().broadcastOn([TS],{}),p.get()),(L,M)=>{p.set(M),L.getSystem().broadcastOn([aT],{})})])})},OS=(o,a,c,d,p,v)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...c.map(w=>({id:w})).getOr({}),...p?{"aria-live":"polite"}:{}}},components:[],behaviours:Ft([qA(0),Jl.config({channel:`${ZR}-${a}`,updateState:(w,k)=>D.some({isTabPanel:()=>k.body.type==="tabpanel"}),renderComponents:w=>{const k=w.body;return k.type==="tabpanel"?[nB(k,w.initialData,d,v)]:[QI(k,w.initialData,d,v)]},initialData:o})])}),oB=kf.deviceType.isTouch(),tw=(o,a)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[o,a]}),iT=(o,a)=>ys.parts.close(Oi.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":a.translate("Close")}},action:o,buttonBehaviours:Ft([Nr.config({})])})),lT=()=>ys.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),rB=(o,a)=>ys.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Bm(`<p>${K5(a.translate(o))}</p>`)}]}]}),sB=o=>ys.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:o}),aB=(o,a)=>[kd.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:o}),kd.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:a})],cT=o=>{const a="tox-dialog",c=a+"-wrap",d=c+"__backdrop",p=a+"__disable-scroll";return ys.sketch({lazySink:o.lazySink,onEscape:v=>(o.onEscape(v),D.some(!0)),useTabstopAt:v=>!Ev(v),firstTabstop:o.firstTabstop,dom:{tag:"div",classes:[a].concat(o.extraClasses),styles:{position:"relative",...o.extraStyles}},components:[o.header,o.body,...o.footer.toArray()],parts:{blocker:{dom:Bm(`<div class="${c}"></div>`),components:[{dom:{tag:"div",classes:oB?[d,d+"--opaque"]:[d]}}]}},dragBlockClass:c,modalBehaviours:Ft([Zn.config({}),uo("dialog-events",o.dialogEvents.concat([sf(Qo(),(v,w)=>{qu.isBlocked(v)||An.focusIn(v)}),xt(m1(),(v,w)=>{v.getSystem().broadcastOn([$_],{newFocus:w.event.newFocus})})])),uo("scroll-lock",[Zr(()=>{us(fn(),p)}),Ru(()=>{ps(fn(),p)})]),...o.extraBehaviours]),eventOrder:{[rl()]:["dialog-events"],[qa()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[gc()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...o.eventOrder}})},iB=o=>Oi.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":o.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:Ft([Nr.config({}),Ws.config(o.tooltips.getConfig({tooltipText:o.translate("Close")}))]),components:[Tc("close",{tag:"span",classes:["tox-icon"]},o.icons)],action:a=>{go(a,oh)}}),uT=(o,a,c,d)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...c.map(p=>({id:p})).getOr({})}},components:[],behaviours:Ft([Jl.config({channel:`${r3}-${a}`,initialData:o,renderComponents:p=>[Cs(d.translate(p.title))]})])}),dT=()=>({dom:Bm('<div class="tox-dialog__draghandle"></div>')}),lB=(o,a,c)=>((d,p,v)=>{const w=ys.parts.title(uT(d,p,D.none(),v)),k=ys.parts.draghandle(dT()),E=ys.parts.close(iB(v)),O=[w].concat(d.draggable?[k]:[]).concat([E]);return kd.sketch({dom:Bm('<div class="tox-dialog__header"></div>'),components:O})})({title:c.shared.providers.translate(o),draggable:c.dialog.isDraggableModal()},a,c.shared.providers),cB=(o,a,c,d)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":c.translate(o)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${d.getOr(0)}px`,position:"absolute"}},behaviours:a,components:[{dom:Bm('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),uB=(o,a,c)=>({onClose:()=>c.closeWindow(),onBlock:d=>{const p=Jr(o().element,".tox-dialog__header").map(v=>ms(v));ys.setBusy(o(),(v,w)=>cB(d.message,w,a,p))},onUnblock:()=>{ys.setIdle(o())}}),nw="tox-dialog--fullscreen",fT="tox-dialog--width-lg",mT="tox-dialog--width-md",ow=o=>{switch(o){case"large":return D.some(fT);case"medium":return D.some(mT);default:return D.none()}},gT=(o,a)=>{const c=Qt(a.element.dom);Vi(c,nw)||(Wl(c,[fT,mT]),ow(o).each(d=>us(c,d)))},dB=(o,a)=>{const c=Qt(o.element.dom),d=fd(c),p=J(d,v=>v===fT||v===mT).or(ow(a));((v,w)=>{Zt(w,k=>{((E,O)=>{Ag(E)?E.dom.classList.toggle(O):((L,M)=>Qe(fb(L),M)?Iy(L,M):p1(L,M))(E,O),mb(E)})(v,k)})})(c,[nw,...p.toArray()])},fB=(o,a,c)=>Oa(cT({...o,firstTabstop:1,lazySink:c.shared.getSink,extraBehaviours:[T2({}),...o.extraBehaviours],onEscape:d=>{go(d,oh)},dialogEvents:a,eventOrder:{[$l()]:[Jl.name(),il.name()],[qa()]:["scroll-lock",Jl.name(),"messages","dialog-events","alloy.base.behaviour"],[gc()]:["alloy.base.behaviour","dialog-events","messages",Jl.name(),"scroll-lock"]}})),rw=(o,a={})=>bt(o,c=>c.type==="menu"?(d=>{const p=bt(d.items,v=>{const w=un(a,v.name).getOr(Dn(!1));return{...v,storage:w}});return{...d,items:p}})(c):c),mB=o=>Rn(o,(a,c)=>c.type==="menu"?Rn(c.items,(d,p)=>(d[p.name]=p.storage,d),a):a,{}),hT=(o,a)=>[Eg(Qo(),J7),o(mp,(c,d,p,v)=>{Qc(st(v.element)).fold(he,Ob),a.onClose(),d.onClose()}),o(oh,(c,d,p,v)=>{d.onCancel(c),go(v,mp)}),xt(SA,(c,d)=>a.onUnblock()),xt(_A,(c,d)=>a.onBlock(d.event))],gB=(o,a,c)=>{const d=(v,w)=>xt(v,(k,E)=>{p(k,(O,L)=>{w(o(),O,E.event,k)})}),p=(v,w)=>{Jl.getState(v).get().each(k=>{w(k.internalDialog,v)})};return[...hT(d,a),d(_2,(v,w)=>w.onSubmit(v)),d(Ki,(v,w,k)=>{w.onChange(v,{name:k.name})}),d(Df,(v,w,k,E)=>{const O=()=>E.getSystem().isConnected()?An.focusIn(E):void 0,L=q=>fs(q,"disabled")||Io(q,"aria-disabled").exists(Y=>Y==="true"),M=st(E.element),H=Qc(M);w.onAction(v,{name:k.name,value:k.value}),Qc(M).fold(O,q=>{L(q)||H.exists(Y=>xs(q,Y)&&L(Y))?O():c().toOptional().filter(Y=>!xs(Y.element,q)).each(O)})}),d(hR,(v,w,k)=>{w.onTabChange(v,{newTabName:k.name,oldTabName:k.oldName})}),Ru(v=>{const w=o();rt.setValue(v,w.getData())})]},Uz=(o,a)=>{const c=a.map(v=>v.footerButtons).getOr([]),d=Ur(c,v=>v.align==="start"),p=(v,w)=>kd.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${v}`]},components:bt(w,k=>k.memento.asSpec())});return[p("start",d.pass),p("end",d.fail)]},hB=(o,a,c)=>({dom:Bm('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Ft([Jl.config({channel:`${jR}-${a}`,initialData:o,updateState:(d,p)=>{const v=bt(p.buttons,w=>{const k=or(((E,O)=>Ov(E,E.type,O))(w,c));return{name:w.name,align:w.align,memento:k}});return D.some({lookupByName:w=>((k,E,O)=>J(E,L=>L.name===O).bind(L=>L.memento.getOpt(k)))(d,v,w),footerButtons:v})},renderComponents:Uz})])}),pT=(o,a,c)=>ys.parts.footer(hB(o,a,c)),sw=(o,a)=>{if(o.getRoot().getSystem().isConnected()){const c=Vo.getCurrent(o.getFormWrapper()).getOr(o.getFormWrapper());return pp.getField(c,a).orThunk(()=>o.getFooter().bind(p=>Jl.getState(p).get()).bind(p=>p.lookupByName(a)))}return D.none()},pB=(o,a,c)=>{const d=v=>{const w=o.getRoot();w.getSystem().isConnected()&&v(w)},p={getData:()=>{const v=o.getRoot(),w=v.getSystem().isConnected()?o.getFormWrapper():v;return{...rt.getValue(w),...En(c,k=>k.get())}},setData:v=>{d(w=>{const k=p.getData(),E=xr(k,v),O=((M,H)=>{const q=M.getRoot();return Jl.getState(q).get().map(Y=>Ci(is("data",Y.dataValidator,H))).getOr(H)})(o,E),L=o.getFormWrapper();rt.setValue(L,O),Cn(c,(M,H)=>{po(E,H)&&M.set(E[H])})})},setEnabled:(v,w)=>{sw(o,v).each(w?Kn.enable:Kn.disable)},focus:v=>{sw(o,v).each(Zn.focus)},block:v=>{if(!h(v))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");d(w=>{Sn(w,_A,{message:v})})},unblock:()=>{d(v=>{go(v,SA)})},showTab:v=>{d(w=>{const k=o.getBody();Jl.getState(k).get().exists(E=>E.isTabPanel())&&Vo.getCurrent(k).each(E=>{Hv.showTab(E,v)})})},redial:v=>{d(w=>{const k=o.getId(),E=a(v),O=rw(E.internalDialog.buttons,c);w.getSystem().broadcastOn([`${bp}-${k}`],E),w.getSystem().broadcastOn([`${r3}-${k}`],E.internalDialog),w.getSystem().broadcastOn([`${ZR}-${k}`],E.internalDialog),w.getSystem().broadcastOn([`${jR}-${k}`],{...E.internalDialog,buttons:O}),p.setData(E.initialData)})},close:()=>{d(v=>{go(v,mp)})},toggleFullscreen:o.toggleFullscreen};return p},bB=(o,a,c,d=!1,p)=>{const v=mn("dialog"),w=mn("dialog-label"),k=mn("dialog-content"),E=o.internalDialog,O=Dn(E.size),L=ow(O.get()).toArray(),M=or(((ye,_e,Le,Xe)=>kd.sketch({dom:Bm('<div class="tox-dialog__header"></div>'),components:[uT(ye,_e,D.some(Le),Xe),dT(),iB(Xe)],containerBehaviours:Ft([M0.config({mode:"mouse",blockerClass:"blocker",getTarget:_t=>Iu(_t,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:E.title,draggable:!0},v,w,c.shared.providers)),H=or(((ye,_e,Le,Xe,_t,vt)=>OS(ye,_e,D.some(Le),Xe,_t,vt))({body:E.body,initialData:E.initialData},v,k,c,d,ye=>sw(ae,ye))),q=rw(E.buttons),Y=mB(q),se=Uo(q.length!==0,or(((ye,_e,Le)=>hB(ye,_e,Le))({buttons:q},v,c))),ce=gB(()=>me,{onBlock:ye=>{qu.block(ie,(_e,Le)=>{const Xe=M.getOpt(ie).map(_t=>ms(_t.element));return cB(ye.message,Le,c.shared.providers,Xe)})},onUnblock:()=>{qu.unblock(ie)},onClose:()=>a.closeWindow()},c.shared.getSink),ve=Ua().os,ie=Oa({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...L],attributes:{role:"dialog",...ve.isMacOS()?{"aria-label":E.title}:{"aria-labelledby":w}}},eventOrder:{[$l()]:[Jl.name(),il.name()],[rl()]:["execute-on-form"],[qa()]:["reflecting","execute-on-form"]},behaviours:Ft([An.config({mode:"cyclic",onEscape:ye=>(go(ye,mp),D.some(!0)),useTabstopAt:ye=>!Ev(ye)&&(Bi(ye)!=="button"||Co(ye,"disabled")!=="disabled"),firstTabstop:1}),Jl.config({channel:`${bp}-${v}`,updateState:(ye,_e)=>(O.set(_e.internalDialog.size),gT(_e.internalDialog.size,ye),p(),D.some(_e)),initialData:o}),Zn.config({}),uo("execute-on-form",ce.concat([sf(Qo(),(ye,_e)=>{An.focusIn(ye)}),xt(m1(),(ye,_e)=>{ye.getSystem().broadcastOn([$_],{newFocus:_e.event.newFocus})})])),qu.config({getRoot:()=>D.some(ie)}),zn.config({}),T2({})]),components:[M.asSpec(),H.asSpec(),...se.map(ye=>ye.asSpec()).toArray()]}),ae={getId:te(v),getRoot:te(ie),getFooter:()=>se.map(ye=>ye.get(ie)),getBody:()=>H.get(ie),getFormWrapper:()=>{const ye=H.get(ie);return Vo.getCurrent(ye).getOr(ye)},toggleFullscreen:()=>{dB(ie,O.get())}},me=pB(ae,a.redial,Y);return{dialog:ie,instanceApi:me}};var bT=tinymce.util.Tools.resolve("tinymce.util.URI");const Wz=["insertContent","setContent","execCommand","close","block","unblock"],vT=o=>x(o)&&Wz.indexOf(o.mceAction)!==-1,Zz=(o,a,c,d)=>{const p=mn("dialog"),v=lB(o.title,p,d),w=(ve=>{const ie={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[n3(D.none(),{dom:{tag:"iframe",attributes:{src:ve.url}},behaviours:Ft([Nr.config({}),Zn.config({})])})]}],behaviours:Ft([An.config({mode:"acyclic",useTabstopAt:$e(Ev)})])};return ys.parts.body(ie)})(o),k=o.buttons.bind(ve=>ve.length===0?D.none():D.some(pT({buttons:ve},p,d))),E=((ve,ie)=>{const ae=(ye,_e)=>xt(ye,(Le,Xe)=>{me(Le,(_t,vt)=>{_e(ce,_t,Xe.event,Le)})}),me=(ye,_e)=>{Jl.getState(ye).get().each(Le=>{_e(Le,ye)})};return[...hT(ae,ie),ae(Df,(ye,_e,Le)=>{_e.onAction(ye,{name:Le.name})})]})(0,uB(()=>se,d.shared.providers,a)),O={...o.height.fold(()=>({}),ve=>({height:ve+"px","max-height":ve+"px"})),...o.width.fold(()=>({}),ve=>({width:ve+"px","max-width":ve+"px"}))},L=o.width.isNone()&&o.height.isNone()?["tox-dialog--width-lg"]:[],M=new bT(o.url,{base_uri:new bT(window.location.href)}),H=`${M.protocol}://${M.host}${M.port?":"+M.port:""}`,q=uc(),Y=[Jl.config({channel:`${bp}-${p}`,updateState:(ve,ie)=>D.some(ie),initialData:o}),uo("messages",[Zr(()=>{const ve=Ai(Qt(window),"message",ie=>{if(M.isSameOrigin(new bT(ie.raw.origin))){const ae=ie.raw.data;vT(ae)?((me,ye,_e)=>{switch(_e.mceAction){case"insertContent":me.insertContent(_e.content);break;case"setContent":me.setContent(_e.content);break;case"execCommand":const Le=!!R(_e.ui)&&_e.ui;me.execCommand(_e.cmd,Le,_e.value);break;case"close":ye.close();break;case"block":ye.block(_e.message);break;case"unblock":ye.unblock()}})(c,ce,ae):(me=>!vT(me)&&x(me)&&po(me,"mceAction"))(ae)&&o.onMessage(ce,ae)}});q.set(ve)}),Ru(q.clear)]),il.config({channels:{[s3]:{onReceive:(ve,ie)=>{Jr(ve.element,"iframe").each(ae=>{const me=ae.dom.contentWindow;$(me)&&me.postMessage(ie,H)})}}}})],se=fB({id:p,header:v,body:w,footer:k,extraClasses:L,extraBehaviours:Y,extraStyles:O},E,d),ce=(ve=>{const ie=ae=>{ve.getSystem().isConnected()&&ae(ve)};return{block:ae=>{if(!h(ae))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");ie(me=>{Sn(me,_A,{message:ae})})},unblock:()=>{ie(ae=>{go(ae,SA)})},close:()=>{ie(ae=>{go(ae,mp)})},sendMessage:ae=>{ie(me=>{me.getSystem().broadcastOn([s3],ae)})}}})(se);return{dialog:se,instanceApi:ce}},yT=(o,a)=>Ci(is("data",a,o)),vB=o=>_v(o,".tox-alert-dialog")||_v(o,".tox-confirm-dialog"),jz=(o,a,c)=>a&&c?[]:[Xr.config({contextual:{lazyContext:()=>D.some(Ks(Qt(o.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:d=>np(o,d.element).map(p=>({bounds:op(p),optScrollEnv:D.some({currentScrollTop:p.element.dom.scrollTop,scrollElmTop:yl(p.element).top})})).getOrThunk(()=>({bounds:ka(),optScrollEnv:D.none()}))})],Kz=o=>{const a=o.editor,c=Xg(a),d=(E=>{const O=E.shared;return{open:(L,M)=>{const H=()=>{ys.hide(ce),M()},q=or(Ov({name:"close-alert",text:"OK",primary:!0,buttonType:D.some("primary"),align:"end",enabled:!0,icon:D.none()},"cancel",E)),Y=lT(),se=iT(H,O.providers),ce=Oa(cT({lazySink:()=>O.getSink(),header:tw(Y,se),body:rB(L,O.providers),footer:D.some(sB(aB([],[q.asSpec()]))),onEscape:H,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[xt(oh,H)],eventOrder:{}}));ys.show(ce);const ve=q.get(ce);Zn.focus(ve)}}})(o.backstages.dialog),p=(E=>{const O=E.shared;return{open:(L,M)=>{const H=ae=>{ys.hide(ve),M(ae)},q=or(Ov({name:"yes",text:"Yes",primary:!0,buttonType:D.some("primary"),align:"end",enabled:!0,icon:D.none()},"submit",E)),Y=Ov({name:"no",text:"No",primary:!1,buttonType:D.some("secondary"),align:"end",enabled:!0,icon:D.none()},"cancel",E),se=lT(),ce=iT(()=>H(!1),O.providers),ve=Oa(cT({lazySink:()=>O.getSink(),header:tw(se,ce),body:rB(L,O.providers),footer:D.some(sB(aB([],[Y,q.asSpec()]))),onEscape:()=>H(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[xt(oh,()=>H(!1)),xt(_2,()=>H(!0))],eventOrder:{}}));ys.show(ve);const ie=q.get(ve);Zn.focus(ie)}}})(o.backstages.dialog),v=(E,O)=>P0.open((L,M,H)=>{const q=M,Y=((se,ce,ve)=>{const ie=mn("dialog"),ae=se.internalDialog,me=lB(ae.title,ie,ve),ye=Dn(ae.size),_e=ow(ye.get()).toArray(),Le=((qn,ko,Vr,Qr)=>{const mo=OS(qn,ko,D.none(),Vr,!1,Qr);return ys.parts.body(mo)})({body:ae.body,initialData:ae.initialData},ie,ve,qn=>sw(vn,qn)),Xe=rw(ae.buttons),_t=mB(Xe),vt=Uo(Xe.length!==0,pT({buttons:Xe},ie,ve)),gt=gB(()=>In,uB(()=>sn,ve.shared.providers,ce),ve.shared.getSink),Bt={id:ie,header:me,body:Le,footer:vt,extraClasses:_e,extraBehaviours:[Jl.config({channel:`${bp}-${ie}`,updateState:(qn,ko)=>(ye.set(ko.internalDialog.size),gT(ko.internalDialog.size,qn),D.some(ko)),initialData:se})],extraStyles:{}},sn=fB(Bt,gt,ve),vn={getId:te(ie),getRoot:te(sn),getBody:()=>ys.getBody(sn),getFooter:()=>ys.getFooter(sn),getFormWrapper:()=>{const qn=ys.getBody(sn);return Vo.getCurrent(qn).getOr(qn)},toggleFullscreen:()=>{dB(sn,ye.get())}},In=pB(vn,ce.redial,_t);return{dialog:sn,instanceApi:In}})({dataValidator:H,initialData:q,internalDialog:L},{redial:P0.redial,closeWindow:()=>{ys.hide(Y.dialog),O(Y.instanceApi)}},o.backstages.dialog);return ys.show(Y.dialog),Y.instanceApi.setData(q),Y.instanceApi},E),w=(E,O,L,M)=>P0.open((H,q,Y)=>{const se=yT(q,Y),ce=cr(),ve=o.backstages.popup.shared.header.isPositionedAtTop(),ie=()=>ce.on(ye=>{rs.reposition(ye),c&&ve||Xr.refresh(ye)}),ae=bB({dataValidator:Y,initialData:se,internalDialog:H},{redial:P0.redial,closeWindow:()=>{ce.on(rs.hide),a.off("ResizeEditor",ie),ce.clear(),L(ae.instanceApi)}},o.backstages.popup,M.ariaAttrs,ie),me=Oa(rs.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:M.persistent?{event:"doNotDismissYet"}:{},...ve?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Ft([uo("window-manager-inline-events",[xt(kg(),(ye,_e)=>{go(ae.dialog,oh)})]),...jz(a,c,ve)]),isExtraPart:(ye,_e)=>vB(_e)}));return ce.set(me),rs.showWithinBounds(me,$i(ae.dialog),{anchor:O},()=>{const ye=a.inline?fn():Qt(a.getContainer()),_e=Ks(ye);return D.some(_e)}),c&&ve||(Xr.refresh(me),a.on("ResizeEditor",ie)),ae.instanceApi.setData(se),An.focusIn(ae.dialog),ae.instanceApi},E),k=(E,O,L,M)=>P0.open((H,q,Y)=>{const se=yT(q,Y),ce=cr(),ve=o.backstages.popup.shared.header.isPositionedAtTop(),ie=()=>ce.on(ye=>{rs.reposition(ye),Xr.refresh(ye)}),ae=bB({dataValidator:Y,initialData:se,internalDialog:H},{redial:P0.redial,closeWindow:()=>{ce.on(rs.hide),a.off("ResizeEditor ScrollWindow ElementScroll",ie),ce.clear(),L(ae.instanceApi)}},o.backstages.popup,M.ariaAttrs,ie),me=Oa(rs.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:M.persistent?{event:"doNotDismissYet"}:{},...ve?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Ft([uo("window-manager-inline-events",[xt(kg(),(ye,_e)=>{go(ae.dialog,oh)})]),Xr.config({contextual:{lazyContext:()=>D.some(Ks(Qt(a.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:ye=>np(a,ye.element).map(_e=>({bounds:op(_e),optScrollEnv:D.some({currentScrollTop:_e.element.dom.scrollTop,scrollElmTop:yl(_e.element).top})})).getOrThunk(()=>({bounds:ka(),optScrollEnv:D.none()}))})]),isExtraPart:(ye,_e)=>vB(_e)}));return ce.set(me),rs.showWithinBounds(me,$i(ae.dialog),{anchor:O},()=>o.backstages.popup.shared.getSink().toOptional().bind(ye=>{const _e=np(a,ye.element).map(_t=>op(_t)).getOr(ka()),Le=Ks(Qt(a.getContentAreaContainer())),Xe=sd(Le,_e);return D.some(bo(Xe.x,Xe.y,Xe.width,Xe.height-15))})),Xr.refresh(me),a.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",ie),ae.instanceApi.setData(se),An.focusIn(ae.dialog),ae.instanceApi},E);return{open:(E,O,L)=>{if(!F(O)){if(O.inline==="toolbar")return w(E,o.backstages.popup.shared.anchors.inlineDialog(),L,O);if(O.inline==="bottom")return k(E,o.backstages.popup.shared.anchors.inlineBottomDialog(),L,O);if(O.inline==="cursor")return w(E,o.backstages.popup.shared.anchors.cursor(),L,O)}return v(E,L)},openUrl:(E,O)=>((L,M)=>P0.openUrl(H=>{const q=Zz(H,{closeWindow:()=>{ys.hide(q.dialog),M(q.instanceApi)}},a,o.backstages.dialog);return ys.show(q.dialog),q.instanceApi},L))(E,O),alert:(E,O)=>{d.open(E,O)},close:E=>{E.close()},confirm:(E,O)=>{p.open(E,O)}}};kh.add("silver",o=>{(k=>{S5(k),(E=>{const O=E.options.register,L=H=>ge(H,h)?{value:m7(H),valid:!0}:{valid:!1,message:"Must be an array of strings."},M=H=>ee(H)&&H>0?{value:H,valid:!0}:{valid:!1,message:"Must be a positive number."};O("color_map",{processor:L,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),O("color_map_background",{processor:L}),O("color_map_foreground",{processor:L}),O("color_cols",{processor:M,default:u_(E)}),O("color_cols_foreground",{processor:M,default:jD(E,nA)}),O("color_cols_background",{processor:M,default:jD(E,oA)}),O("custom_colors",{processor:"boolean",default:!0}),O("color_default_foreground",{processor:"string",default:p2}),O("color_default_background",{processor:"string",default:p2})})(k),(E=>{const O=E.options.register;O("contextmenu_avoid_overlap",{processor:"string",default:""}),O("contextmenu_never_use_native",{processor:"boolean",default:!1}),O("contextmenu",{processor:L=>L===!1?{value:[],valid:!0}:h(L)||ge(L,h)?{value:V6(L),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(k)})(o);let a=()=>ka();const{dialogs:c,popups:d,renderUI:p}=tz(o,{getPopupSinkBounds:()=>a()});dR(o,d.backstage.shared);const v=Kz({editor:o,backstages:{popup:d.backstage,dialog:c.backstage}}),w=cr();return{renderUI:()=>{const k=p();return np(o,d.getMothership().element).each(E=>{a=()=>op(E)}),k},getWindowManagerImpl:te(v),getNotificationManagerImpl:()=>X5(o,{backstage:d.backstage},d.getMothership(),w)}})})();(function(){var r=tinymce.util.Tools.resolve("tinymce.ModelManager");const i=y=>_=>(T=>{const P=typeof T;return T===null?"null":P==="object"&&Array.isArray(T)?"array":P==="object"&&(V=U=T,(Q=String).prototype.isPrototypeOf(V)||((re=U.constructor)===null||re===void 0?void 0:re.name)===Q.name)?"string":P;var V,U,Q,re})(_)===y,u=y=>_=>typeof _===y,m=y=>_=>y===_,b=i("string"),h=i("object"),x=i("array"),S=m(null),B=u("boolean"),N=m(void 0),R=y=>!(_=>_==null)(y),F=u("function"),W=u("number"),$=()=>{},K=y=>()=>y,ee=y=>y,ge=(y,_)=>y===_;function he(y,..._){return(...T)=>{const P=_.concat(T);return y.apply(null,P)}}const Ue=y=>_=>!y(_),Te=y=>y(),te=K(!1),Ae=K(!0);class ne{constructor(_,T){this.tag=_,this.value=T}static some(_){return new ne(!0,_)}static none(){return ne.singletonNone}fold(_,T){return this.tag?T(this.value):_()}isSome(){return this.tag}isNone(){return!this.tag}map(_){return this.tag?ne.some(_(this.value)):ne.none()}bind(_){return this.tag?_(this.value):ne.none()}exists(_){return this.tag&&_(this.value)}forall(_){return!this.tag||_(this.value)}filter(_){return!this.tag||_(this.value)?this:ne.none()}getOr(_){return this.tag?this.value:_}or(_){return this.tag?this:_}getOrThunk(_){return this.tag?this.value:_()}orThunk(_){return this.tag?this:_()}getOrDie(_){if(this.tag)return this.value;throw new Error(_??"Called getOrDie on None")}static from(_){return R(_)?ne.some(_):ne.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(_){this.tag&&_(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ne.singletonNone=new ne(!1);const Ge=Array.prototype.slice,$e=Array.prototype.indexOf,Ze=Array.prototype.push,ot=(y,_)=>{return T=y,P=_,$e.call(T,P)>-1;var T,P},Ce=(y,_)=>{for(let T=0,P=y.length;T<P;T++)if(_(y[T],T))return!0;return!1},Ne=(y,_)=>{const T=[];for(let P=0;P<y;P++)T.push(_(P));return T},D=(y,_)=>{const T=y.length,P=new Array(T);for(let V=0;V<T;V++){const U=y[V];P[V]=_(U,V)}return P},yt=(y,_)=>{for(let T=0,P=y.length;T<P;T++)_(y[T],T)},Pt=(y,_)=>{const T=[],P=[];for(let V=0,U=y.length;V<U;V++){const Q=y[V];(_(Q,V)?T:P).push(Q)}return{pass:T,fail:P}},ln=(y,_)=>{const T=[];for(let P=0,V=y.length;P<V;P++){const U=y[P];_(U,P)&&T.push(U)}return T},hn=(y,_,T)=>(((P,V)=>{for(let U=P.length-1;U>=0;U--)V(P[U],U)})(y,(P,V)=>{T=_(T,P,V)}),T),Qe=(y,_,T)=>(yt(y,(P,V)=>{T=_(T,P,V)}),T),On=(y,_)=>((T,P,V)=>{for(let U=0,Q=T.length;U<Q;U++){const re=T[U];if(P(re,U))return ne.some(re);if(V(re,U))break}return ne.none()})(y,_,te),sr=(y,_)=>{for(let T=0,P=y.length;T<P;T++)if(_(y[T],T))return ne.some(T);return ne.none()},pt=y=>{const _=[];for(let T=0,P=y.length;T<P;++T){if(!x(y[T]))throw new Error("Arr.flatten item "+T+" was not an array, input: "+y);Ze.apply(_,y[T])}return _},bt=(y,_)=>pt(D(y,_)),Zt=(y,_)=>{for(let T=0,P=y.length;T<P;++T)if(_(y[T],T)!==!0)return!1;return!0},Ur=(y,_)=>{const T={};for(let P=0,V=y.length;P<V;P++){const U=y[P];T[String(U)]=_(U,P)}return T},ho=(y,_)=>_>=0&&_<y.length?ne.some(y[_]):ne.none(),xn=y=>ho(y,0),Rn=y=>ho(y,y.length-1),J=(y,_)=>{for(let T=0;T<y.length;T++){const P=_(y[T],T);if(P.isSome())return P}return ne.none()},ir=Object.keys,vr=Object.hasOwnProperty,Ko=(y,_)=>{const T=ir(y);for(let P=0,V=T.length;P<V;P++){const U=T[P];_(y[U],U)}},oi=(y,_)=>Ke(y,(T,P)=>({k:P,v:_(T,P)})),Ke=(y,_)=>{const T={};return Ko(y,(P,V)=>{const U=_(P,V);T[U.k]=U.v}),T},le=(y,_)=>{const T=[];return Ko(y,(P,V)=>{T.push(_(P,V))}),T},xe=y=>le(y,ee),Me=(y,_)=>vr.call(y,_),pe=typeof window<"u"?window:Function("return this;")(),St=(y,_)=>((T,P)=>{let V=P??pe;for(let U=0;U<T.length&&V!=null;++U)V=V[T[U]];return V})(y.split("."),_),$t=Object.getPrototypeOf,Ct=y=>{const _=St("ownerDocument.defaultView",y);return h(y)&&((T=>((P,V)=>{const U=((Q,re)=>St(Q,re))(P,V);if(U==null)throw new Error(P+" not available on this browser");return U})("HTMLElement",T))(_).prototype.isPrototypeOf(y)||/^HTML\w*Element$/.test($t(y).constructor.name))},zt=y=>y.dom.nodeName.toLowerCase(),It=y=>y.dom.nodeType,on=y=>_=>It(_)===y,wn=y=>It(y)===8||zt(y)==="#comment",Cn=y=>En(y)&&Ct(y.dom),En=on(1),ao=on(3),vo=on(9),To=on(11),Do=y=>_=>En(_)&&zt(_)===y,As=(y,_,T)=>{if(!(b(T)||B(T)||W(T)))throw console.error("Invalid call to Attribute.set. Key ",_,":: Value ",T,":: Element ",y),new Error("Attribute value was not simple");y.setAttribute(_,T+"")},fr=(y,_,T)=>{As(y.dom,_,T)},vi=(y,_)=>{const T=y.dom;Ko(_,(P,V)=>{As(T,V,P)})},un=(y,_)=>{const T=y.dom.getAttribute(_);return T===null?void 0:T},po=(y,_)=>ne.from(un(y,_)),io=(y,_)=>{y.dom.removeAttribute(_)},Wr=y=>Qe(y.dom.attributes,(_,T)=>(_[T.name]=T.value,_),{}),Fa=y=>{if(y==null)throw new Error("Node cannot be null or undefined");return{dom:y}},Vt={fromHtml:(y,_)=>{const T=(_||document).createElement("div");if(T.innerHTML=y,!T.hasChildNodes()||T.childNodes.length>1){const P="HTML does not have a single root node";throw console.error(P,y),new Error(P)}return Fa(T.childNodes[0])},fromTag:(y,_)=>{const T=(_||document).createElement(y);return Fa(T)},fromText:(y,_)=>{const T=(_||document).createTextNode(y);return Fa(T)},fromDom:Fa,fromPoint:(y,_,T)=>ne.from(y.dom.elementFromPoint(_,T)).map(Fa)},Js=(y,_)=>{const T=y.dom;if(T.nodeType!==1)return!1;{const P=T;if(P.matches!==void 0)return P.matches(_);if(P.msMatchesSelector!==void 0)return P.msMatchesSelector(_);if(P.webkitMatchesSelector!==void 0)return P.webkitMatchesSelector(_);if(P.mozMatchesSelector!==void 0)return P.mozMatchesSelector(_);throw new Error("Browser lacks native selectors")}},Uo=y=>y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11||y.childElementCount===0,El=(y,_)=>{const T=_===void 0?document:_.dom;return Uo(T)?ne.none():ne.from(T.querySelector(y)).map(Vt.fromDom)},Or=(y,_)=>y.dom===_.dom,Hs=(y,_)=>{const T=y.dom,P=_.dom;return T!==P&&T.contains(P)},Gf=Js,hu=y=>Vt.fromDom(y.dom.ownerDocument),ic=y=>vo(y)?y:hu(y),Ji=y=>ne.from(y.dom.parentNode).map(Vt.fromDom),pu=y=>ne.from(y.dom.parentElement).map(Vt.fromDom),mr=(y,_)=>{const T=F(_)?_:te;let P=y.dom;const V=[];for(;P.parentNode!==null&&P.parentNode!==void 0;){const U=P.parentNode,Q=Vt.fromDom(U);if(V.push(Q),T(Q)===!0)break;P=U}return V},Yn=y=>ne.from(y.dom.previousSibling).map(Vt.fromDom),Al=y=>ne.from(y.dom.nextSibling).map(Vt.fromDom),da=y=>D(y.dom.childNodes,Vt.fromDom),bu=(y,_)=>{const T=y.dom.childNodes;return ne.from(T[_]).map(Vt.fromDom)},Qt=(y,_)=>{Ji(y).each(T=>{T.dom.insertBefore(_.dom,y.dom)})},vu=(y,_)=>{Al(y).fold(()=>{Ji(y).each(T=>{ns(T,_)})},T=>{Qt(T,_)})},Yf=(y,_)=>{(P=>bu(P,0))(y).fold(()=>{ns(y,_)},P=>{y.dom.insertBefore(_.dom,P.dom)})},ns=(y,_)=>{y.dom.appendChild(_.dom)},Xf=(y,_)=>{Qt(y,_),ns(_,y)},Bi=(y,_)=>{yt(_,(T,P)=>{const V=P===0?y:_[P-1];vu(V,T)})},hl=(y,_)=>{yt(_,T=>{ns(y,T)})},Qi=y=>{y.dom.textContent="",yt(da(y),_=>{qr(_)})},qr=y=>{const _=y.dom;_.parentNode!==null&&_.parentNode.removeChild(_)},ri=y=>{const _=da(y);_.length>0&&Bi(y,_),qr(y)},pl=(y,_)=>Vt.fromDom(y.dom.cloneNode(_)),Jf=y=>pl(y,!1),Mc=y=>pl(y,!0),Pc=(y,_)=>{const T=Vt.fromTag(_),P=Wr(y);return vi(T,P),T},Vd=["tfoot","thead","tbody","colgroup"],ed=(y,_,T)=>({element:y,rowspan:_,colspan:T}),Wo=(y,_,T)=>({element:y,cells:_,section:T}),xs=(y,_,T)=>({element:y,isNew:_,isLocked:T}),js=(y,_,T,P)=>({element:y,cells:_,section:T,isNew:P}),Qf=y=>Vt.fromDom(y.dom.host),Mi=y=>{const _=ao(y)?y.dom.parentNode:y.dom;if(_==null||_.ownerDocument===null)return!1;const T=_.ownerDocument;return(U=>{const Q=(be=>Vt.fromDom(be.dom.getRootNode()))(U);return To(re=Q)&&R(re.dom.host)?ne.some(Q):ne.none();var re})(Vt.fromDom(_)).fold(()=>T.body.contains(_),(P=Mi,V=Qf,U=>P(V(U))));var P,V},Lc=y=>{const _=y.dom.body;if(_==null)throw new Error("Body is not available yet");return Vt.fromDom(_)},si=(y,_)=>{let T=[];return yt(da(y),P=>{_(P)&&(T=T.concat([P])),T=T.concat(si(P,_))}),T},ai=(y,_,T)=>((P,V,U)=>ln(mr(P,U),Q=>Js(Q,_)))(y,0,T),Fc=(y,_)=>((T,P)=>ln(da(T),V=>Js(V,_)))(y),yr=(y,_)=>((T,P)=>{const V=P===void 0?document:P.dom;return Uo(V)?[]:D(V.querySelectorAll(T),Vt.fromDom)})(_,y);var Gr=(y,_,T,P,V)=>y(T,P)?ne.some(T):F(V)&&V(T)?ne.none():_(T,P,V);const Se=(y,_,T)=>{let P=y.dom;const V=F(T)?T:te;for(;P.parentNode;){P=P.parentNode;const U=Vt.fromDom(P);if(_(U))return ne.some(U);if(V(U))break}return ne.none()},Ye=(y,_,T)=>Gr((P,V)=>V(P),Se,y,_,T),Re=(y,_,T)=>Se(y,P=>Js(P,_),T),lt=(y,_)=>((T,P)=>On(T.dom.childNodes,V=>{return U=Vt.fromDom(V),Js(U,_);var U}).map(Vt.fromDom))(y),st=(y,_)=>El(_,y),je=(y,_,T)=>Gr((P,V)=>Js(P,V),Re,y,_,T),Lt=(y,_,T=ge)=>y.exists(P=>T(P,_)),Yt=y=>{const _=[],T=P=>{_.push(P)};for(let P=0;P<y.length;P++)y[P].each(T);return _},nn=(y,_)=>y?ne.some(_):ne.none(),fn=(y,_,T)=>_===""||y.length>=_.length&&y.substr(T,T+_.length)===_,en=(y,_,T=0,P)=>{const V=y.indexOf(_,T);return V!==-1&&(!!N(P)||V+_.length<=P)},ro=(y,_)=>fn(y,_,0),Jt=(y,_)=>fn(y,_,y.length-_.length),lr=(y=>_=>_.replace(y,""))(/^\s+|\s+$/g),Co=y=>y.length>0,Io=y=>y.style!==void 0&&F(y.style.getPropertyValue),fs=(y,_,T)=>{if(!b(T))throw console.error("Invalid call to CSS.set. Property ",_,":: Value ",T,":: Element ",y),new Error("CSS value must be a string: "+T);Io(y)&&y.style.setProperty(_,T)},fo=(y,_,T)=>{const P=y.dom;fs(P,_,T)},bl=(y,_)=>{const T=y.dom;Ko(_,(P,V)=>{fs(T,V,P)})},za=(y,_)=>{const T=y.dom,P=window.getComputedStyle(T).getPropertyValue(_);return P!==""||Mi(y)?P:Qn(T,_)},Qn=(y,_)=>Io(y)?y.style.getPropertyValue(_):"",Pi=(y,_)=>{const T=y.dom,P=Qn(T,_);return ne.from(P).filter(V=>V.length>0)},el=(y,_)=>{((T,P)=>{Io(T)&&T.style.removeProperty(P)})(y.dom,_),Lt(po(y,"style").map(lr),"")&&io(y,"style")},as=(y,_,T=0)=>po(y,_).map(P=>parseInt(P,10)).getOr(T),td=(y,_)=>as(y,_,1),Ts=y=>Do("col")(y)?as(y,"span",1)>1:td(y,"colspan")>1,$d=(y,_)=>parseInt(za(y,_),10),vl=K(10),nr=K(10),yu=(y,_)=>em(y,_,Ae),em=(y,_,T)=>bt(da(y),P=>Js(P,_)?T(P)?[P]:[]:em(P,_,T)),Ch=(y,_)=>((T,P,V=te)=>V(P)?ne.none():ot(T,zt(P))?ne.some(P):Re(P,T.join(","),U=>Js(U,"table")||V(U)))(["td","th"],y,_),ms=y=>yu(y,"th,td"),lc=y=>Js(y,"colgroup")?Fc(y,"col"):bt(tm(y),_=>Fc(_,"col")),tl=(y,_)=>je(y,"table",_),Lr=y=>yu(y,"tr"),tm=y=>tl(y).fold(K([]),_=>Fc(_,"colgroup")),yl=(y,_)=>D(y,T=>{if(zt(T)==="colgroup"){const P=D(lc(T),V=>{const U=as(V,"span",1);return ed(V,1,U)});return Wo(T,P,"colgroup")}{const P=D(ms(T),V=>{const U=as(V,"rowspan",1),Q=as(V,"colspan",1);return ed(V,U,Q)});return Wo(T,P,_(T))}}),Ha=y=>Ji(y).map(_=>{const T=zt(_);return(P=>ot(Vd,P))(T)?T:"tbody"}).getOr("tbody"),hg=y=>{const _=Lr(y),T=[...tm(y),..._];return yl(T,Ha)},fa=y=>{let _,T=!1;return(...P)=>(T||(T=!0,_=y.apply(null,P)),_)},Li=()=>Va(0,0),Va=(y,_)=>({major:y,minor:_}),xl={nu:Va,detect:(y,_)=>{const T=String(_).toLowerCase();return y.length===0?Li():((P,V)=>{const U=((re,be)=>{for(let De=0;De<re.length;De++){const He=re[De];if(He.test(be))return He}})(P,V);if(!U)return{major:0,minor:0};const Q=re=>Number(V.replace(U,"$"+re));return Va(Q(1),Q(2))})(y,T)},unknown:Li},_h=(y,_)=>{const T=String(_).toLowerCase();return On(y,P=>P.search(T))},_o=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,zc=y=>_=>en(_,y),nd=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:y=>en(y,"edge/")&&en(y,"chrome")&&en(y,"safari")&&en(y,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,_o],search:y=>en(y,"chrome")&&!en(y,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:y=>en(y,"msie")||en(y,"trident")},{name:"Opera",versionRegexes:[_o,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:zc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:zc("firefox")},{name:"Safari",versionRegexes:[_o,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:y=>(en(y,"safari")||en(y,"mobile/"))&&en(y,"applewebkit")}],xu=[{name:"Windows",search:zc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:y=>en(y,"iphone")||en(y,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:zc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:zc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:zc("linux"),versionRegexes:[]},{name:"Solaris",search:zc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:zc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:zc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Jp={browsers:K(nd),oses:K(xu)},ky="Edge",r1="Chromium",s1="Opera",Hw="Firefox",Sh="Safari",a1=y=>{const _=y.current,T=y.version,P=V=>()=>_===V;return{current:_,version:T,isEdge:P(ky),isChromium:P(r1),isIE:P("IE"),isOpera:P(s1),isFirefox:P(Hw),isSafari:P(Sh)}},Kt=()=>a1({current:void 0,version:xl.unknown()}),Ud=a1,Wd="Windows",i1="Android",$a="Linux",Zd="macOS",pg="Solaris",Ey="FreeBSD",Ay="ChromeOS",Qp=y=>{const _=y.current,T=y.version,P=V=>()=>_===V;return{current:_,version:T,isWindows:P(Wd),isiOS:P("iOS"),isAndroid:P(i1),isMacOS:P(Zd),isLinux:P($a),isSolaris:P(pg),isFreeBSD:P(Ey),isChromeOS:P(Ay)}},Ty=()=>Qp({current:void 0,version:xl.unknown()}),l1=Qp,Oy=y=>window.matchMedia(y).matches;let bg=fa(()=>((y,_,T)=>{const P=Jp.browsers(),V=Jp.oses(),U=_.bind(be=>((De,He)=>J(He.brands,Ee=>{const Ie=Ee.brand.toLowerCase();return On(De,Pe=>{var Je;return Ie===((Je=Pe.brand)===null||Je===void 0?void 0:Je.toLowerCase())}).map(Pe=>({current:Pe.name,version:xl.nu(parseInt(Ee.version,10),0)}))}))(P,be)).orThunk(()=>((be,De)=>_h(be,De).map(He=>{const Ee=xl.detect(He.versionRegexes,De);return{current:He.name,version:Ee}}))(P,y)).fold(Kt,Ud),Q=((be,De)=>_h(be,De).map(He=>{const Ee=xl.detect(He.versionRegexes,De);return{current:He.name,version:Ee}}))(V,y).fold(Ty,l1),re=((be,De,He,Ee)=>{const Ie=be.isiOS()&&/ipad/i.test(He)===!0,Pe=be.isiOS()&&!Ie,Je=be.isiOS()||be.isAndroid(),tt=Je||Ee("(pointer:coarse)"),Et=Ie||!Pe&&Je&&Ee("(min-device-width:768px)"),Ot=Pe||Je&&!Et,kt=De.isSafari()&&be.isiOS()&&/safari/i.test(He)===!1,Rt=!Ot&&!Et&&!kt;return{isiPad:K(Ie),isiPhone:K(Pe),isTablet:K(Et),isPhone:K(Ot),isTouch:K(tt),isAndroid:be.isAndroid,isiOS:be.isiOS,isWebView:K(kt),isDesktop:K(Rt)}})(Q,U,y,T);return{browser:U,os:Q,deviceType:re}})(window.navigator.userAgent,ne.from(window.navigator.userAgentData),Oy));const c1=()=>bg(),jd=(y,_)=>{const T=V=>{const U=_(V);if(U<=0||U===null){const Q=za(V,y);return parseFloat(Q)||0}return U},P=(V,U)=>Qe(U,(Q,re)=>{const be=za(V,re),De=be===void 0?0:parseInt(be,10);return isNaN(De)?Q:Q+De},0);return{set:(V,U)=>{if(!W(U)&&!U.match(/^[0-9]+$/))throw new Error(y+".set accepts only positive integer values. Value was "+U);const Q=V.dom;Io(Q)&&(Q.style[y]=U+"px")},get:T,getOuter:T,aggregate:P,max:(V,U,Q)=>{const re=P(V,Q);return U>re?U-re:0}}},Kd=(y,_,T)=>((P,V)=>(U=>{const Q=parseFloat(U);return isNaN(Q)?ne.none():ne.some(Q)})(P).getOr(V))(za(y,_),T),Ua=jd("width",y=>y.dom.offsetWidth),nl=y=>Ua.get(y),vg=y=>Ua.getOuter(y),Po=y=>((_,T)=>{const P=_.dom,V=P.getBoundingClientRect().width||P.offsetWidth;return T==="border-box"?V:((U,Q,re,be)=>Q-Kd(U,`padding-${re}`,0)-Kd(U,`padding-${be}`,0)-Kd(U,`border-${re}-width`,0)-Kd(U,`border-${be}-width`,0))(_,V,"left","right")})(y,"content-box"),od=(y,_,T)=>{const P=y.cells,V=P.slice(0,_),U=P.slice(_),Q=V.concat(T).concat(U);return yi(y,Q)},yg=(y,_,T)=>od(y,_,[T]),xg=(y,_,T)=>{y.cells[_]=T},yi=(y,_)=>js(y.element,_,y.section,y.isNew),Os=(y,_)=>y.cells[_],Yr=(y,_)=>Os(y,_).element,Sa=y=>y.cells.length,Fr=y=>{const _=Pt(y,T=>T.section==="colgroup");return{rows:_.fail,cols:_.pass}},qd=(y,_,T)=>{const P=D(y.cells,T);return js(_(y.element),P,y.section,!0)},nm="data-snooker-locked-cols",ra=y=>po(y,nm).bind(_=>ne.from(_.match(/\d+/g))).map(_=>Ur(_,Ae)),xi=y=>{const _=Qe(Fr(y).rows,(P,V)=>(yt(V.cells,(U,Q)=>{U.isLocked&&(P[Q]=!0)}),P),{}),T=le(_,(P,V)=>parseInt(V,10));return((P,V)=>{const U=Ge.call(P,0);return U.sort(void 0),U})(T)},ii=(y,_)=>y+","+_,Hc=(y,_)=>{const T=bt(y.all,P=>P.cells);return ln(T,_)},rd=y=>{const _={},T=[],P=xn(y).map(Ie=>Ie.element).bind(tl).bind(ra).getOr({});let V=0,U=0,Q=0;const{pass:re,fail:be}=Pt(y,Ie=>Ie.section==="colgroup");yt(be,Ie=>{const Pe=[];yt(Ie.cells,Je=>{let tt=0;for(;_[ii(Q,tt)]!==void 0;)tt++;const Et=((kt,Rt)=>Me(kt,Rt)&&kt[Rt]!==void 0&&kt[Rt]!==null)(P,tt.toString()),Ot=((kt,Rt,Ut,qt,rt,gn)=>({element:kt,rowspan:Rt,colspan:Ut,row:qt,column:rt,isLocked:gn}))(Je.element,Je.rowspan,Je.colspan,Q,tt,Et);for(let kt=0;kt<Je.colspan;kt++)for(let Rt=0;Rt<Je.rowspan;Rt++){const Ut=tt+kt,qt=ii(Q+Rt,Ut);_[qt]=Ot,U=Math.max(U,Ut+1)}Pe.push(Ot)}),V++,T.push(Wo(Ie.element,Pe,Ie.section)),Q++});const{columns:De,colgroups:He}=Rn(re).map(Ie=>{const Pe=(tt=>{const Et={};let Ot=0;return yt(tt.cells,kt=>{const Rt=kt.colspan;Ne(Rt,Ut=>{const qt=Ot+Ut;Et[qt]=((rt,gn,Vn)=>({element:rt,colspan:gn,column:Vn}))(kt.element,Rt,qt)}),Ot+=Rt}),Et})(Ie);return{colgroups:[((tt,Et)=>({element:tt,columns:Et}))(Ie.element,xe(Pe))],columns:Pe}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((Ie,Pe)=>({rows:Ie,columns:Pe}))(V,U),access:_,all:T,columns:De,colgroups:He}},bo=y=>{const _=hg(y);return rd(_)},Ks=rd,ol=(y,_,T)=>ne.from(y.access[ii(_,T)]),sd=(y,_,T)=>{const P=Hc(y,V=>T(_,V.element));return P.length>0?ne.some(P[0]):ne.none()},ka=Hc,Dn=y=>bt(y.all,_=>_.cells),cc=y=>xe(y.columns),uc=y=>ir(y.columns).length>0,cr=(y,_)=>ne.from(y.columns[_]),kh=(y,_=Ae)=>{const T=y.grid,P=Ne(T.columns,ee),V=Ne(T.rows,ee);return D(P,U=>eb(()=>bt(V,Q=>ol(y,Q,U).filter(re=>re.column===U).toArray()),Q=>Q.colspan===1&&_(Q.element),()=>ol(y,0,U)))},eb=(y,_,T)=>{const P=y();return On(P,_).orThunk(()=>ne.from(P[0]).orThunk(T)).map(V=>V.element)},ad=y=>{const _=y.grid,T=Ne(_.rows,ee),P=Ne(_.columns,ee);return D(T,V=>eb(()=>bt(P,U=>ol(y,V,U).filter(Q=>Q.row===V).fold(K([]),Q=>[Q])),U=>U.rowspan===1,()=>ol(y,V,0)))},So=(y,_)=>T=>wi(T)==="rtl"?_:y,wi=y=>za(y,"direction")==="rtl"?"rtl":"ltr",Eh=jd("height",y=>{const _=y.dom;return Mi(y)?_.getBoundingClientRect().height:_.offsetHeight}),id=y=>Eh.get(y),tb=y=>Eh.getOuter(y),Vc=(y,_)=>({left:y,top:_,translate:(T,P)=>Vc(y+T,_+P)}),Fi=Vc,$c=(y,_)=>y!==void 0?y:_!==void 0?_:0,Gd=y=>{const _=y.dom.ownerDocument,T=_.body,P=_.defaultView,V=_.documentElement;if(T===y.dom)return Fi(T.offsetLeft,T.offsetTop);const U=$c(P==null?void 0:P.pageYOffset,V.scrollTop),Q=$c(P==null?void 0:P.pageXOffset,V.scrollLeft),re=$c(V.clientTop,T.clientTop),be=$c(V.clientLeft,T.clientLeft);return Be(y).translate(Q-be,U-re)},Be=y=>{const _=y.dom,T=_.ownerDocument.body;return T===_?Fi(T.offsetLeft,T.offsetTop):Mi(y)?(P=>{const V=P.getBoundingClientRect();return Fi(V.left,V.top)})(_):Fi(0,0)},om=(y,_)=>({row:y,y:_}),xr=(y,_)=>({col:y,x:_}),nb=y=>Gd(y).left+vg(y),wg=y=>Gd(y).left,Uc=(y,_)=>xr(y,wg(_)),Lo=(y,_)=>xr(y,nb(_)),Wa=y=>Gd(y).top,wu=(y,_)=>om(y,Wa(_)),Hl=(y,_)=>om(y,Wa(_)+tb(_)),Cu=(y,_,T)=>{if(T.length===0)return[];const P=D(T.slice(1),(U,Q)=>U.map(re=>y(Q,re))),V=T[T.length-1].map(U=>_(T.length-1,U));return P.concat([V])},_u={delta:ee,positions:y=>Cu(wu,Hl,y),edge:Wa},Za=So({delta:ee,edge:wg,positions:y=>Cu(Uc,Lo,y)},{delta:y=>-y,edge:nb,positions:y=>Cu(Lo,Uc,y)}),Yd={delta:(y,_)=>Za(_).delta(y,_),positions:(y,_)=>Za(_).positions(y,_),edge:y=>Za(y).edge(y)},rm={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},ob=(()=>{const y="[0-9]+",_="[eE][+-]?"+y,T=V=>`(?:${V})?`,P=["Infinity",y+"\\."+T(y)+T(_),"\\."+y+T(_),y+T(_)].join("|");return new RegExp(`^([+-]?(?:${P}))(.*)$`)})(),sa=/(\d+(\.\d+)?)%/,Pn=/(\d+(\.\d+)?)px|em/,Su=Do("col"),sm=Do("tr"),ja=(y,_,T)=>{const P=pu(y).getOrThunk(()=>Lc(hu(y)));return _(y)/T(P)*100},ku=(y,_)=>{fo(y,"width",_+"px")},wl=(y,_)=>{fo(y,"width",_+"%")},Eu=(y,_)=>{fo(y,"height",_+"px")},ld=y=>{const _=(T=>{return Kd(P=T,"height",P.dom.offsetHeight)+"px";var P})(y);return _?((T,P,V,U)=>{const Q=parseFloat(T);return Jt(T,"%")&&zt(P)!=="table"?((re,be,De,He)=>{const Ee=tl(re).map(Ie=>{const Pe=De(Ie);return Math.floor(be/100*Pe)}).getOr(be);return He(re,Ee),Ee})(P,Q,V,U):Q})(_,y,id,Eu):id(y)},aa=(y,_)=>Pi(y,_).orThunk(()=>po(y,_).map(T=>T+"px")),Vl=y=>aa(y,"width"),Wc=y=>ja(y,nl,Po),am=y=>{return Su(y)?nl(y):Kd(_=y,"width",_.dom.offsetWidth);var _},u1=y=>sm(y)?id(y):((_,T,P)=>P(_)/td(_,"rowspan"))(y,0,ld),Au=(y,_,T)=>{fo(y,"width",_+T)},Xd=y=>ja(y,nl,Po)+"%",rb=K(sa),is=Do("col"),Ci=y=>Vl(y).getOrThunk(()=>am(y)+"px"),li=y=>{return(_=y,aa(_,"height")).getOrThunk(()=>u1(y)+"px");var _},zi=(y,_,T,P,V,U)=>y.filter(P).fold(()=>U(((Q,re)=>{if(re<0||re>=Q.length-1)return ne.none();const be=Q[re].fold(()=>{const He=(Ee=>{const Ie=Ge.call(Ee,0);return Ie.reverse(),Ie})(Q.slice(0,re));return J(He,(Ee,Ie)=>Ee.map(Pe=>({value:Pe,delta:Ie+1})))},He=>ne.some({value:He,delta:0})),De=Q[re+1].fold(()=>{const He=Q.slice(re+1);return J(He,(Ee,Ie)=>Ee.map(Pe=>({value:Pe,delta:Ie+1})))},He=>ne.some({value:He,delta:1}));return be.bind(He=>De.map(Ee=>{const Ie=Ee.delta+He.delta;return Math.abs(Ee.value-He.value)/Ie}))})(T,_)),Q=>V(Q)),Qs=(y,_,T,P)=>{const V=kh(y),U=uc(y)?(be=>D(cc(be),De=>ne.from(De.element)))(y):V,Q=[ne.some(Yd.edge(_))].concat(D(Yd.positions(V,_),be=>be.map(De=>De.x))),re=Ue(Ts);return D(U,(be,De)=>zi(be,De,Q,re,He=>{if((Ie=>{const Pe=c1().browser,Je=Pe.isChromium()||Pe.isFirefox();return!is(Ie)||Je})(He))return T(He);{const Ie=(Ee=V[De])!=null?ee(Ee):ne.none();return zi(Ie,De,Q,re,Pe=>P(ne.some(nl(Pe))),P)}var Ee},P))},Ah=y=>y.map(_=>_+"px").getOr(""),qs=(y,_,T)=>Qs(y,_,am,P=>P.getOrThunk(T.minCellWidth)),Ea=(y,_,T,P)=>{const V=ad(y),U=D(y.all,re=>ne.some(re.element)),Q=[ne.some(_u.edge(_))].concat(D(_u.positions(V,_),re=>re.map(be=>be.y)));return D(U,(re,be)=>zi(re,be,Q,Ae,T,P))},Zc=(y,_)=>()=>Mi(y)?_(y):parseFloat(Pi(y,"width").getOr("0")),At=y=>{const _=Zc(y,P=>parseFloat(Xd(P))),T=Zc(y,nl);return{width:_,pixelWidth:T,getWidths:(P,V)=>((U,Q,re)=>Qs(U,Q,Wc,be=>be.fold(()=>re.minCellWidth(),De=>De/re.pixelWidth()*100)))(P,y,V),getCellDelta:P=>P/T()*100,singleColumnWidth:(P,V)=>[100-P],minCellWidth:()=>vl()/T()*100,setElementWidth:wl,adjustTableWidth:P=>{const V=_();wl(y,V+P/100*V)},isRelative:!0,label:"percent"}},Aa=y=>{const _=Zc(y,nl);return{width:_,pixelWidth:_,getWidths:(T,P)=>qs(T,y,P),getCellDelta:ee,singleColumnWidth:(T,P)=>[Math.max(vl(),T+P)-T],minCellWidth:vl,setElementWidth:ku,adjustTableWidth:T=>{const P=_()+T;ku(y,P)},isRelative:!1,label:"pixel"}},Th=y=>Vl(y).fold(()=>(_=>{const T=Zc(_,nl),P=K(0);return{width:T,pixelWidth:T,getWidths:(V,U)=>qs(V,_,U),getCellDelta:P,singleColumnWidth:K([0]),minCellWidth:P,setElementWidth:$,adjustTableWidth:$,isRelative:!0,label:"none"}})(y),_=>((T,P)=>rb().exec(P)!==null?At(T):Aa(T))(y,_)),ls=Aa,Tu=At,_i=(y,_,T)=>{const P=y[T].element,V=Vt.fromTag("td");ns(V,Vt.fromTag("br")),(_?ns:Yf)(P,V)},dc=((y,_)=>{const T=P=>y(P)?ne.from(P.dom.nodeValue):ne.none();return{get:P=>{if(!y(P))throw new Error("Can only get text value of a text node");return T(P).getOr("")},getOption:T,set:(P,V)=>{if(!y(P))throw new Error("Can only set raw text value of a text node");P.dom.nodeValue=V}}})(ao),im=y=>dc.get(y),Hi=y=>dc.getOption(y),Bo=(y,_)=>dc.set(y,_),Ds=y=>zt(y)==="img"?1:Hi(y).fold(()=>da(y).length,_=>_.length),Jd=["img","br"],ws=y=>Hi(y).filter(_=>_.trim().length!==0||_.indexOf("")>-1).isSome()||ot(Jd,zt(y))||(_=>Cn(_)&&un(_,"contenteditable")==="false")(y),Cg=y=>((_,T)=>{const P=V=>{for(let U=0;U<V.childNodes.length;U++){const Q=Vt.fromDom(V.childNodes[U]);if(T(Q))return ne.some(Q);const re=P(V.childNodes[U]);if(re.isSome())return re}return ne.none()};return P(_.dom)})(y,ws),jc=y=>d1(y,ws),d1=(y,_)=>{const T=P=>{const V=da(P);for(let U=V.length-1;U>=0;U--){const Q=V[U];if(_(Q))return ne.some(Q);const re=T(Q);if(re.isSome())return re}return ne.none()};return T(y)},gs={scope:["row","col"]},et=y=>()=>{const _=Vt.fromTag("td",y.dom);return ns(_,Vt.fromTag("br",y.dom)),_},Si=y=>()=>Vt.fromTag("col",y.dom),Rs=y=>()=>Vt.fromTag("colgroup",y.dom),Tl=y=>()=>Vt.fromTag("tr",y.dom),fc=(y,_,T)=>{const P=((V,U)=>{const Q=Pc(V,U),re=da(Mc(V));return hl(Q,re),Q})(y,_);return Ko(T,(V,U)=>{V===null?io(P,U):fr(P,U,V)}),P},Vs=y=>y,zr=(y,_,T)=>{const P=(V,U)=>{((Q,re)=>{const be=Q.dom,De=re.dom;Io(be)&&Io(De)&&(De.style.cssText=be.style.cssText)})(V.element,U),el(U,"height"),V.colspan!==1&&el(U,"width")};return{col:V=>{const U=Vt.fromTag(zt(V.element),_.dom);return P(V,U),y(V.element,U),U},colgroup:Rs(_),row:Tl(_),cell:V=>{const U=Vt.fromTag(zt(V.element),_.dom),Q=T.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),re=Q.length>0?((be,De,He)=>Cg(be).map(Ee=>{const Ie=He.join(","),Pe=ai(Ee,Ie,Je=>Or(Je,be));return hn(Pe,(Je,tt)=>{const Et=Jf(tt);return ns(Je,Et),Et},De)}).getOr(De))(V.element,U,Q):U;return ns(re,Vt.fromTag("br")),P(V,U),((be,De)=>{Ko(gs,(He,Ee)=>po(be,Ee).filter(Ie=>ot(He,Ie)).each(Ie=>fr(De,Ee,Ie)))})(V.element,U),y(V.element,U),U},replace:fc,colGap:Si(_),gap:et(_)}},gr=y=>({col:Si(y),colgroup:Rs(y),row:Tl(y),cell:et(y),replace:Vs,colGap:Si(y),gap:et(y)}),ki=y=>_=>_.options.get(y),Ol="100%",Kc=y=>{var _;const T=y.dom,P=(_=T.getParent(y.selection.getStart(),T.isBlock))!==null&&_!==void 0?_:y.getBody();return Po(Vt.fromDom(P))+"px"},cd=y=>ne.from(y.options.get("table_clone_elements")),lm=ki("table_header_type"),_g=ki("table_column_resizing"),Sg=y=>_g(y)==="preservetable",sb=y=>_g(y)==="resizetable",ab=ki("table_sizing_mode"),Ou=y=>ab(y)==="relative",I=y=>ab(y)==="fixed",Z=y=>ab(y)==="responsive",oe=ki("table_resize_bars"),Oe=ki("table_style_by_css"),ze=ki("table_merge_content_on_paste"),Tt=y=>{const _=y.options,T=_.get("table_default_attributes");return _.isSet("table_default_attributes")?T:((P,V)=>Z(P)||Oe(P)?V:I(P)?{...V,width:Kc(P)}:{...V,width:Ol})(y,T)},Ln=ki("table_use_colgroups"),so=y=>je(y,"[contenteditable]"),Xn=(y,_=!1)=>Mi(y)?y.dom.isContentEditable:so(y).fold(K(_),T=>_n(T)==="true"),_n=y=>y.dom.contentEditable,Qo=y=>Vt.fromDom(y.getBody()),Ns=y=>_=>Or(_,Qo(y)),cs=y=>{io(y,"data-mce-style");const _=T=>io(T,"data-mce-style");yt(ms(y),_),yt(lc(y),_),yt(Lr(y),_)},mc=y=>Vt.fromDom(y.selection.getStart()),cm=y=>y.getBoundingClientRect().width,um=y=>y.getBoundingClientRect().height,ea=y=>(_,T)=>{const P=_.dom.getStyle(T,y)||_.dom.getAttrib(T,y);return ne.from(P).filter(Co)},Vw=ea("width"),ib=ea("height"),f1=y=>Ye(y,Do("table")).exists(Xn),Ka=(y,_)=>{const T=_.column,P=_.column+_.colspan-1,V=_.row,U=_.row+_.rowspan-1;return T<=y.finishCol&&P>=y.startCol&&V<=y.finishRow&&U>=y.startRow},hs=(y,_)=>_.column>=y.startCol&&_.column+_.colspan-1<=y.finishCol&&_.row>=y.startRow&&_.row+_.rowspan-1<=y.finishRow,ma=(y,_,T)=>{const P=sd(y,_,Or),V=sd(y,T,Or);return P.bind(U=>V.map(Q=>{return re=U,be=Q,{startRow:Math.min(re.row,be.row),startCol:Math.min(re.column,be.column),finishRow:Math.max(re.row+re.rowspan-1,be.row+be.rowspan-1),finishCol:Math.max(re.column+re.colspan-1,be.column+be.colspan-1)};var re,be}))},Du=(y,_,T)=>ma(y,_,T).map(P=>{const V=ka(y,he(Ka,P));return D(V,U=>U.element)}),Oh=(y,_)=>sd(y,_,(T,P)=>Hs(P,T)).map(T=>T.element),Dy=(y,_,T)=>{const P=rl(y);return Du(P,_,T)},$l=(y,_,T,P,V)=>{const U=rl(y),Q=Or(y,T)?ne.some(_):Oh(U,_),re=Or(y,V)?ne.some(P):Oh(U,P);return Q.bind(be=>re.bind(De=>Du(U,be,De)))},rl=bo;var lb=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Qd=()=>({up:K({selector:Re,closest:je,predicate:Se,all:mr}),down:K({selector:yr,predicate:si}),styles:K({get:za,getRaw:Pi,set:fo,remove:el}),attrs:K({get:un,set:fr,remove:io,copyTo:(y,_)=>{const T=Wr(y);vi(_,T)}}),insert:K({before:Qt,after:vu,afterAll:Bi,append:ns,appendAll:hl,prepend:Yf,wrap:Xf}),remove:K({unwrap:ri,remove:qr}),create:K({nu:Vt.fromTag,clone:y=>Vt.fromDom(y.dom.cloneNode(!1)),text:Vt.fromText}),query:K({comparePosition:(y,_)=>y.dom.compareDocumentPosition(_.dom),prevSibling:Yn,nextSibling:Al}),property:K({children:da,name:zt,parent:Ji,document:y=>ic(y).dom,isText:ao,isComment:wn,isElement:En,isSpecial:y=>{const _=zt(y);return ot(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],_)},getLanguage:y=>En(y)?po(y,"lang"):ne.none(),getText:im,setText:Bo,isBoundary:y=>!!En(y)&&(zt(y)==="body"||ot(lb,zt(y))),isEmptyTag:y=>!!En(y)&&ot(["br","img","hr","input"],zt(y)),isNonEditable:y=>En(y)&&un(y,"contenteditable")==="false"}),eq:Or,is:Gf});const hk=(y,_,T,P)=>{const V=_(y,T);return hn(P,(U,Q)=>{const re=_(y,Q);return cb(y,U,re)},V)},cb=(y,_,T)=>_.bind(P=>T.filter(he(y.eq,P))),ud=Qd(),ef=(y,_)=>((T,P,V)=>V.length>0?((U,Q,re,be)=>be(U,Q,re[0],re.slice(1)))(T,P,V,hk):ne.none())(ud,(T,P)=>y(P),_),yn=y=>Re(y,"table"),qc=(y,_,T)=>{const P=V=>U=>T!==void 0&&T(U)||Or(U,V);return Or(y,_)?ne.some({boxes:ne.some([y]),start:y,finish:_}):yn(y).bind(V=>yn(_).bind(U=>{if(Or(V,U))return ne.some({boxes:Dy(V,y,_),start:y,finish:_});if(Hs(V,U)){const Q=ai(_,"td,th",P(V)),re=Q.length>0?Q[Q.length-1]:_;return ne.some({boxes:$l(V,y,V,_,U),start:y,finish:re})}if(Hs(U,V)){const Q=ai(y,"td,th",P(U)),re=Q.length>0?Q[Q.length-1]:y;return ne.some({boxes:$l(U,y,V,_,U),start:y,finish:re})}return((Q,re,be)=>((De,He,Ee,Ie=te)=>{const Pe=[He].concat(De.up().all(He)),Je=[Ee].concat(De.up().all(Ee)),tt=Rt=>sr(Rt,Ie).fold(()=>Rt,Ut=>Rt.slice(0,Ut+1)),Et=tt(Pe),Ot=tt(Je),kt=On(Et,Rt=>Ce(Ot,((Ut,qt)=>he(Ut.eq,qt))(De,Rt)));return{firstpath:Et,secondpath:Ot,shared:kt}})(ud,Q,re,void 0))(y,_).shared.bind(Q=>je(Q,"table",T).bind(re=>{const be=ai(_,"td,th",P(re)),De=be.length>0?be[be.length-1]:_,He=ai(y,"td,th",P(re)),Ee=He.length>0?He[He.length-1]:y;return ne.some({boxes:$l(re,y,V,_,U),start:Ee,finish:De})}))}))},ub=(y,_)=>{const T=yr(y,_);return T.length>0?ne.some(T):ne.none()},tf=(y,_,T)=>st(y,_).bind(P=>st(y,T).bind(V=>ef(yn,[P,V]).map(U=>({first:P,last:V,table:U})))),qa=(y,_,T,P,V)=>((U,Q)=>On(U,re=>Js(re,Q)))(y,V).bind(U=>((Q,re,be)=>tl(Q).bind(De=>((He,Ee,Ie,Pe)=>sd(He,Ee,Or).bind(Je=>{const tt=Ie>0?Je.row+Je.rowspan-1:Je.row,Et=Pe>0?Je.column+Je.colspan-1:Je.column;return ol(He,tt+Ie,Et+Pe).map(Ot=>Ot.element)}))(rl(De),Q,re,be)))(U,_,T).bind(Q=>((re,be)=>Re(re,"table").bind(De=>st(De,be).bind(He=>qc(He,re).bind(Ee=>Ee.boxes.map(Ie=>({boxes:Ie,start:Ee.start,finish:Ee.finish}))))))(Q,P))),gc=(y,_)=>ub(y,_),kg=(y,_,T)=>tf(y,_,T).bind(P=>{const V=be=>Or(y,be),U="thead,tfoot,tbody,table",Q=Re(P.first,U,V),re=Re(P.last,U,V);return Q.bind(be=>re.bind(De=>Or(be,De)?((He,Ee,Ie)=>((Pe,Je,tt)=>ma(Pe,Je,tt).bind(Et=>((Ot,kt)=>{let Rt=!0;const Ut=he(hs,kt);for(let qt=kt.startRow;qt<=kt.finishRow;qt++)for(let rt=kt.startCol;rt<=kt.finishCol;rt++)Rt=Rt&&ol(Ot,qt,rt).exists(Ut);return Rt?ne.some(kt):ne.none()})(Pe,Et)))(rl(He),Ee,Ie))(P.table,P.first,P.last):ne.none()))}),nf=ee,m1=y=>{const _=(T,P)=>po(T,P).exists(V=>parseInt(V,10)>1);return y.length>0&&Zt(y,T=>_(T,"rowspan")||_(T,"colspan"))?ne.some(y):ne.none()},Gc=(y,_,T)=>_.length<=1?ne.none():kg(y,T.firstSelectedSelector,T.lastSelectedSelector).map(P=>({bounds:P,cells:_})),Dh="data-mce-selected",Rh="data-mce-first-selected",Mt="data-mce-last-selected",Ry="["+Dh+"]",of={selected:Dh,selectedSelector:"td["+Dh+"],th["+Dh+"]",firstSelected:Rh,firstSelectedSelector:"td["+Rh+"],th["+Rh+"]",lastSelected:Mt,lastSelectedSelector:"td["+Mt+"],th["+Mt+"]"},go=(y,_,T)=>({element:T,mergable:Gc(_,y,of),unmergable:m1(y),selection:nf(y)}),Sn=y=>(_,T)=>{const P=zt(_),V=P==="col"||P==="colgroup"?tl(U=_).bind(Q=>gc(Q,of.firstSelectedSelector)).fold(K(U),Q=>Q[0]):_;var U;return je(V,y,T)},rf=Sn("th,td,caption"),os=Sn("th,td"),hc=y=>{return _=y.model.table.getSelectedCells(),D(_,Vt.fromDom);var _},pc=(y,_)=>{y.on("BeforeGetContent",T=>{const P=V=>{T.preventDefault(),(U=>tl(U[0]).map(Q=>{const re=((be,De)=>{const He=Rt=>Js(Rt.element,De),Ee=Mc(be),Ie=hg(Ee),Pe=Th(be),Je=Ks(Ie),tt=((Rt,Ut)=>{const qt=Rt.grid.columns;let rt=Rt.grid.rows,gn=qt,Vn=0,co=0;const jn=[],$n=[];return Ko(Rt.access,lo=>{if(jn.push(lo),Ut(lo)){$n.push(lo);const Mo=lo.row,Us=Mo+lo.rowspan-1,ui=lo.column,Da=ui+lo.colspan-1;Mo<rt?rt=Mo:Us>Vn&&(Vn=Us),ui<gn?gn=ui:Da>co&&(co=Da)}}),((lo,Mo,Us,ui,Da,jl)=>({minRow:lo,minCol:Mo,maxRow:Us,maxCol:ui,allCells:Da,selectedCells:jl}))(rt,gn,Vn,co,jn,$n)})(Je,He),Et="th:not("+De+"),td:not("+De+")",Ot=em(Ee,"th,td",Rt=>Js(Rt,Et));yt(Ot,qr),((Rt,Ut,qt,rt)=>{const gn=ln(Rt,jn=>jn.section!=="colgroup"),Vn=Ut.grid.columns,co=Ut.grid.rows;for(let jn=0;jn<co;jn++){let $n=!1;for(let lo=0;lo<Vn;lo++)jn<qt.minRow||jn>qt.maxRow||lo<qt.minCol||lo>qt.maxCol||(ol(Ut,jn,lo).filter(rt).isNone()?_i(gn,$n,jn):$n=!0)}})(Ie,Je,tt,He);const kt=((Rt,Ut,qt,rt)=>{if(rt.minCol===0&&Ut.grid.columns===rt.maxCol+1)return 0;const gn=qs(Ut,Rt,qt),Vn=Qe(gn,($n,lo)=>$n+lo,0),co=Qe(gn.slice(rt.minCol,rt.maxCol+1),($n,lo)=>$n+lo,0),jn=co/Vn*qt.pixelWidth()-qt.pixelWidth();return qt.getCellDelta(jn)})(be,bo(be),Pe,tt);return((Rt,Ut,qt,rt)=>{Ko(qt.columns,Vn=>{(Vn.column<Ut.minCol||Vn.column>Ut.maxCol)&&qr(Vn.element)});const gn=ln(yu(Rt,"tr"),Vn=>Vn.dom.childElementCount===0);yt(gn,qr),Ut.minCol!==Ut.maxCol&&Ut.minRow!==Ut.maxRow||yt(yu(Rt,"th,td"),Vn=>{io(Vn,"rowspan"),io(Vn,"colspan")}),io(Rt,nm),io(Rt,"data-snooker-col-series"),Th(Rt).adjustTableWidth(rt)})(Ee,tt,Je,kt),Ee})(Q,Ry);return cs(re),[re]}))(V).each(U=>{T.content=T.format==="text"?(Q=>D(Q,re=>re.dom.innerText).join(""))(U):((Q,re)=>D(re,be=>Q.selection.serializer.serialize(be.dom,{})).join(""))(y,U)})};if(T.selection===!0){const V=(U=>ln(hc(U),Q=>Js(Q,of.selectedSelector)))(y);V.length>=1&&P(V)}}),y.on("BeforeSetContent",T=>{if(T.selection===!0&&T.paste===!0){const P=hc(y);xn(P).each(V=>{tl(V).each(U=>{const Q=ln(((be,De)=>{const He=document.createElement("div");return He.innerHTML=be,da(Vt.fromDom(He))})(T.content),be=>zt(be)!=="meta"),re=Do("table");if(ze(y)&&Q.length===1&&re(Q[0])){T.preventDefault();const be=Vt.fromDom(y.getDoc()),De=gr(be),He=((Ee,Ie,Pe)=>({element:Ee,clipboard:Ie,generators:Pe}))(V,Q[0],De);_.pasteCells(U,He).each(()=>{y.focus()})}})})}})},to=(y,_)=>({element:y,offset:_}),Nh=(y,_,T)=>y.property().isText(_)&&y.property().getText(_).trim().length===0||y.property().isComment(_)?T(_).bind(P=>Nh(y,P,T).orThunk(()=>ne.some(P))):ne.none(),$w=(y,_)=>y.property().isText(_)?y.property().getText(_).length:y.property().children(_).length,xt=(y,_)=>{const T=Nh(y,_,y.query().prevSibling).getOr(_);if(y.property().isText(T))return to(T,$w(y,T));const P=y.property().children(T);return P.length>0?xt(y,P[P.length-1]):to(T,$w(y,T))},Ny=xt,Ih=Qd(),Bh=(y,_)=>{Ts(y)||(P=>Vl(P).bind(V=>{return U=V,Q=["fixed","relative","empty"],ne.from(ob.exec(U)).bind(re=>{const be=Number(re[1]),De=re[2];return((He,Ee)=>Ce(Ee,Ie=>Ce(rm[Ie],Pe=>He===Pe)))(De,Q)?ne.some({value:be,unit:De}):ne.none()});var U,Q}))(y).each(P=>{const V=P.value/2;Au(y,V,P.unit),Au(_,V,P.unit)})},Eg=y=>D(y,K(0)),dm=(y,_,T,P,V)=>V(y.slice(0,_)).concat(P).concat(V(y.slice(T))),Uw=y=>(_,T,P,V)=>{if(y(P)){const U=Math.max(V,_[T]-Math.abs(P)),Q=Math.abs(U-_[T]);return P>=0?Q:-Q}return P},sf=Uw(y=>y<0),Zr=Uw(Ae),Ru=()=>{const y=(T,P,V,U)=>{const Q=(100+V)/100,re=Math.max(U,(T[P]+V)/Q);return D(T,(be,De)=>(De===P?re:be/Q)-be)},_=(T,P,V,U,Q,re)=>re?y(T,P,U,Q):((be,De,He,Ee,Ie)=>{const Pe=sf(be,De,Ee,Ie);return dm(be,De,He+1,[Pe,0],Eg)})(T,P,V,U,Q);return{resizeTable:(T,P)=>T(P),clampTableDelta:sf,calcLeftEdgeDeltas:_,calcMiddleDeltas:(T,P,V,U,Q,re,be)=>_(T,V,U,Q,re,be),calcRightEdgeDeltas:(T,P,V,U,Q,re)=>{if(re)return y(T,V,U,Q);{const be=sf(T,V,U,Q);return Eg(T.slice(0,V)).concat([be])}},calcRedestributedWidths:(T,P,V,U)=>{if(U){const Q=(P+V)/P,re=D(T,be=>be/Q);return{delta:100*Q-100,newSizes:re}}return{delta:V,newSizes:T}}}},g1=()=>{const y=(_,T,P,V,U)=>{const Q=Zr(_,V>=0?P:T,V,U);return dm(_,T,P+1,[Q,-Q],Eg)};return{resizeTable:(_,T,P)=>{P&&_(T)},clampTableDelta:(_,T,P,V,U)=>{if(U){if(P>=0)return P;{const Q=Qe(_,(re,be)=>re+be-V,0);return Math.max(-Q,P)}}return sf(_,T,P,V)},calcLeftEdgeDeltas:y,calcMiddleDeltas:(_,T,P,V,U,Q)=>y(_,P,V,U,Q),calcRightEdgeDeltas:(_,T,P,V,U,Q)=>{if(Q)return Eg(_);{const re=V/_.length;return D(_,K(re))}},calcRedestributedWidths:(_,T,P,V)=>({delta:0,newSizes:_})}},Yc=y=>bo(y).grid,fm=Do("th"),Ul=y=>Zt(y,_=>fm(_.element)),Is=(y,_)=>y&&_?"sectionCells":y?"section":"cells",db=y=>{const _=y.section==="thead",T=Lt(ga(y.cells),"th");return y.section==="tfoot"?{type:"footer"}:_||T?{type:"header",subType:Is(_,T)}:{type:"body"}},ga=y=>{const _=ln(y,T=>fm(T.element));return _.length===0?ne.some("td"):_.length===y.length?ne.some("th"):ne.none()},h1=(y,_,T)=>xs(T(y.element,_),!0,y.isLocked),bc=(y,_)=>y.section!==_?js(y.element,y.cells,_,y.isNew):y,ha=()=>({transformRow:bc,transformCell:(y,_,T)=>{const P=T(y.element,_),V=zt(P)!=="td"?((U,Q)=>{const re=Pc(U,"td");vu(U,re);const be=da(U);return hl(re,be),qr(U),re})(P):P;return xs(V,y.isNew,y.isLocked)}}),Ft=()=>({transformRow:bc,transformCell:h1}),mm=()=>({transformRow:(y,_)=>bc(y,_==="thead"?"tbody":_),transformCell:h1}),pa=ha,Ww=Ft,Zw=mm,pk=()=>({transformRow:ee,transformCell:h1}),dd=(y,_,T,P)=>{T===P?io(y,_):fr(y,_,T)},Ag=(y,_,T)=>{Rn(Fc(y,_)).fold(()=>Yf(y,T),P=>vu(P,T))},fb=(y,_)=>{const T=[],P=[],V=Ie=>D(Ie,Pe=>{Pe.isNew&&T.push(Pe.element);const Je=Pe.element;return Qi(Je),yt(Pe.cells,tt=>{tt.isNew&&P.push(tt.element),dd(tt.element,"colspan",tt.colspan,1),dd(tt.element,"rowspan",tt.rowspan,1),ns(Je,tt.element)}),Je}),U=Ie=>bt(Ie,Pe=>D(Pe.cells,Je=>(dd(Je.element,"span",Je.colspan,1),Je.element))),Q=(Ie,Pe)=>{const Je=((Et,Ot)=>{const kt=lt(Et,Ot).getOrThunk(()=>{const Rt=Vt.fromTag(Ot,hu(Et).dom);return Ot==="thead"?Ag(Et,"caption,colgroup",Rt):Ot==="colgroup"?Ag(Et,"caption",Rt):ns(Et,Rt),Rt});return Qi(kt),kt})(y,Pe),tt=(Pe==="colgroup"?U:V)(Ie);hl(Je,tt)},re=(Ie,Pe)=>{Ie.length>0?Q(Ie,Pe):(Je=>{lt(y,Je).each(qr)})(Pe)},be=[],De=[],He=[],Ee=[];return yt(_,Ie=>{switch(Ie.section){case"thead":be.push(Ie);break;case"tbody":De.push(Ie);break;case"tfoot":He.push(Ie);break;case"colgroup":Ee.push(Ie)}}),re(Ee,"colgroup"),re(be,"thead"),re(De,"tbody"),re(He,"tfoot"),{newRows:T,newCells:P}},p1=(y,_)=>{if(y.length===0)return 0;const T=y[0];return sr(y,P=>!_(T.element,P.element)).getOr(y.length)},Iy=(y,_)=>{const T=D(y,P=>D(P.cells,te));return D(y,(P,V)=>{const U=bt(P.cells,(Q,re)=>{if(T[V][re]===!1){const Ie=((Pe,Je,tt,Et)=>{const Ot=((qt,rt)=>qt[rt])(Pe,Je),kt=Ot.section==="colgroup",Rt=p1(Ot.cells.slice(tt),Et),Ut=kt?1:p1(((qt,rt)=>D(qt,gn=>Os(gn,rt)))(Pe.slice(Je),tt),Et);return{colspan:Rt,rowspan:Ut}})(y,V,re,_);return((Pe,Je,tt,Et)=>{for(let Ot=Pe;Ot<Pe+tt;Ot++)for(let kt=Je;kt<Je+Et;kt++)T[Ot][kt]=!0})(V,re,Ie.rowspan,Ie.colspan),[(be=Q.element,De=Ie.rowspan,He=Ie.colspan,Ee=Q.isNew,{element:be,rowspan:De,colspan:He,isNew:Ee})]}return[];var be,De,He,Ee});return((Q,re,be,De)=>({element:Q,cells:re,section:be,isNew:De}))(P.element,U,P.section,P.isNew)})},us=(y,_,T)=>{const P=[];yt(y.colgroups,V=>{const U=[];for(let Q=0;Q<y.grid.columns;Q++){const re=cr(y,Q).map(be=>xs(be.element,T,!1)).getOrThunk(()=>xs(_.colGap(),!0,!1));U.push(re)}P.push(js(V.element,U,"colgroup",T))});for(let V=0;V<y.grid.rows;V++){const U=[];for(let be=0;be<y.grid.columns;be++){const De=ol(y,V,be).map(He=>xs(He.element,T,He.isLocked)).getOrThunk(()=>xs(_.gap(),!0,!1));U.push(De)}const Q=y.all[V],re=js(Q.element,U,Q.section,T);P.push(re)}return P},mb=y=>Iy(y,Or),ps=(y,_)=>J(y.all,T=>On(T.cells,P=>Or(_,P.element))),Vi=(y,_,T)=>{const P=D(_.selection,U=>Ch(U).bind(Q=>ps(y,Q)).filter(T)),V=Yt(P);return nn(V.length>0,V)},Bs=(y,_,T,P,V)=>(U,Q,re,be)=>{const De=bo(U),He=ne.from(be==null?void 0:be.section).getOrThunk(pk);return _(De,Q).map(Ee=>{const Ie=((tt,Et)=>us(tt,Et,!1))(De,re),Pe=y(Ie,Ee,Or,V(re),He),Je=xi(Pe.grid);return{info:Ee,grid:mb(Pe.grid),cursor:Pe.cursor,lockedColumns:Je}}).bind(Ee=>{const Ie=fb(U,Ee.grid),Pe=ne.from(be==null?void 0:be.sizing).getOrThunk(()=>Th(U)),Je=ne.from(be==null?void 0:be.resize).getOrThunk(g1);return T(U,Ee.grid,Ee.info,{sizing:Pe,resize:Je,section:He}),P(U),io(U,nm),Ee.lockedColumns.length>0&&fr(U,nm,Ee.lockedColumns.join(",")),ne.some({cursor:Ee.cursor,newRows:Ie.newRows,newCells:Ie.newCells})})},Wl=(y,_)=>Vi(y,_,Ae).map(T=>({cells:T,generators:_.generators,clipboard:_.clipboard})),fd=(y,_)=>Vi(y,_,Ae),Ta=(y,_)=>Vi(y,_,T=>!T.isLocked),gb=(y,_)=>Zt(_,T=>((P,V)=>ps(P,V).exists(U=>!U.isLocked))(y,T)),Mh=(y,_,T,P)=>{const V=Fr(y).rows;let U=!0;for(let Q=0;Q<V.length;Q++)for(let re=0;re<Sa(V[0]);re++){const be=V[Q],De=Os(be,re),He=T(De.element,_);He&&!U?xg(be,re,xs(P(),!0,De.isLocked)):He&&(U=!1)}return y},af=y=>{const _=U=>U(y),T=K(y),P=()=>V,V={tag:!0,inner:y,fold:(U,Q)=>Q(y),isValue:Ae,isError:te,map:U=>Ph.value(U(y)),mapError:P,bind:_,exists:_,forall:_,getOr:T,or:P,getOrThunk:T,orThunk:P,getOrDie:T,each:U=>{U(y)},toOptional:()=>ne.some(y)};return V},jw=y=>{const _=()=>T,T={tag:!1,inner:y,fold:(V,U)=>V(y),isValue:te,isError:Ae,map:_,mapError:V=>Ph.error(V(y)),bind:_,exists:te,forall:Ae,getOr:ee,or:ee,getOrThunk:Te,orThunk:Te,getOrDie:(P=String(y),()=>{throw new Error(P)}),each:$,toOptional:ne.none};var P;return T},Ph={value:af,error:jw,fromOption:(y,_)=>y.fold(()=>jw(_),af)},By=(y,_)=>({rowDelta:0,colDelta:Sa(y[0])-Sa(_[0])}),b1=(y,_)=>({rowDelta:y.length-_.length,colDelta:0}),hb=(y,_,T,P)=>{const V=_.section==="colgroup"?T.col:T.cell;return Ne(y,U=>xs(V(),!0,P(U)))},v1=(y,_,T,P)=>{const V=y[y.length-1];return y.concat(Ne(_,()=>{const U=V.section==="colgroup"?T.colgroup:T.row,Q=qd(V,U,ee),re=hb(Q.cells.length,Q,T,be=>Me(P,be.toString()));return yi(Q,re)}))},My=(y,_,T,P)=>D(y,V=>{const U=hb(_,V,T,te);return od(V,P,U)}),gm=(y,_,T)=>{const P=_.colDelta<0?My:ee,V=_.rowDelta<0?v1:ee,U=xi(y),Q=Sa(y[0]),re=Ce(U,He=>He===Q-1),be=P(y,Math.abs(_.colDelta),T,re?Q-1:Q),De=xi(be);return V(be,Math.abs(_.rowDelta),T,Ur(De,Ae))},bk=(y,_,T,P)=>{const V=he(P,Os(y[_],T).element),U=y[_];return y.length>1&&Sa(U)>1&&(T>0&&V(Yr(U,T-1))||T<U.cells.length-1&&V(Yr(U,T+1))||_>0&&V(Yr(y[_-1],T))||_<y.length-1&&V(Yr(y[_+1],T)))},y1=(y,_,T)=>ln(T,P=>P>=y.column&&P<=Sa(_[0])+y.column),x1=(y,_,T,P,V)=>{((De,He,Ee,Ie)=>{He>0&&He<De[0].cells.length&&yt(De,Pe=>{const Je=Pe.cells[He-1];let tt=0;const Et=Ie();for(;Pe.cells.length>He+tt&&Ee(Je.element,Pe.cells[He+tt].element);)xg(Pe,He+tt,xs(Et,!0,Pe.cells[He+tt].isLocked)),tt++})})(_,y,V,P.cell);const U=b1(T,_),Q=gm(T,U,P),re=b1(_,Q),be=gm(_,re,P);return D(be,(De,He)=>od(De,y,Q[He].cells))},Py=(y,_,T,P,V)=>{((kt,Rt,Ut,qt)=>{const rt=Fr(kt).rows;if(Rt>0&&Rt<rt.length){const gn=((Vn,co)=>Qe(Vn,(jn,$n)=>Ce(jn,lo=>co(lo.element,$n.element))?jn:jn.concat([$n]),[]))(rt[Rt-1].cells,Ut);yt(gn,Vn=>{let co=ne.none();for(let jn=Rt;jn<rt.length;jn++)for(let $n=0;$n<Sa(rt[0]);$n++){const lo=rt[jn],Mo=Os(lo,$n);Ut(Mo.element,Vn.element)&&(co.isNone()&&(co=ne.some(qt())),co.each(Us=>{xg(lo,$n,xs(Us,!0,Mo.isLocked))}))}})}})(_,y,V,P.cell);const U=xi(_),Q=By(_,T),re={...Q,colDelta:Q.colDelta-U.length},be=gm(_,re,P),{cols:De,rows:He}=Fr(be),Ee=xi(be),Ie=By(T,_),Pe={...Ie,colDelta:Ie.colDelta+Ee.length},Je=(Et=P,Ot=Ee,D(T,kt=>Qe(Ot,(Rt,Ut)=>{const qt=hb(1,kt,Et,Ae)[0];return yg(Rt,Ut,qt)},kt))),tt=gm(Je,Pe,P);var Et,Ot;return[...De,...He.slice(0,y),...tt,...He.slice(y,He.length)]},Ly=(y,_,T,P,V)=>{const{rows:U,cols:Q}=Fr(y),re=U.slice(0,_),be=U.slice(_);return[...Q,...re,((De,He,Ee,Ie)=>qd(De,Pe=>Ie(Pe,Ee),He))(U[T],(De,He)=>_>0&&_<U.length&&P(Yr(U[_-1],He),Yr(U[_],He))?Os(U[_],He):xs(V(De.element,P),!0,De.isLocked),P,V),...be]},pb=(y,_,T,P,V)=>D(y,U=>{const Q=_>0&&_<Sa(U)&&P(Yr(U,_-1),Yr(U,_)),re=((be,De,He,Ee,Ie,Pe,Je)=>{if(He!=="colgroup"&&Ee)return Os(be,De);{const tt=Os(be,Ie);return xs(Je(tt.element,Pe),!0,!1)}})(U,_,U.section,Q,T,P,V);return yg(U,_,re)}),Fy=(y,_,T,P)=>((V,U,Q,re)=>Yr(V[U],Q)!==void 0&&U>0&&re(Yr(V[U-1],Q),Yr(V[U],Q)))(y,_,T,P)||((V,U,Q)=>U>0&&Q(Yr(V,U-1),Yr(V,U)))(y[_],T,P),zy=(y,_,T,P)=>{const V=U=>(Q=>Q==="row"?(re=>td(re,"rowspan")>1)(_):Ts(_))(U)?`${U}group`:U;return y?fm(_)?V(T):null:P&&fm(_)?V(T==="row"?"col":"row"):null},bb=(y,_,T)=>xs(T(y.element,_),!0,y.isLocked),Lh=(y,_,T,P,V,U,Q)=>D(y,(re,be)=>((De,He)=>{const Ee=De.cells,Ie=D(Ee,(Pe,Je)=>{if((tt=>Ce(_,Et=>T(tt.element,Et.element)))(Pe)){const tt=Q(Pe,be,Je)?V(Pe,T,P):Pe;return U(tt,be,Je).each(Et=>{var Ot,kt;Ot=tt.element,kt={scope:ne.from(Et)},Ko(kt,(Rt,Ut)=>{Rt.fold(()=>{io(Ot,Ut)},qt=>{As(Ot.dom,Ut,qt)})})}),tt}return Pe});return js(De.element,Ie,De.section,De.isNew)})(re)),Hy=(y,_,T)=>bt(y,(P,V)=>Fy(y,V,_,T)?[]:[Os(P,_)]),vb=(y,_,T,P,V)=>{const U=Fr(y).rows,Q=bt(_,He=>Hy(U,He,P)),re=D(U,He=>Ul(He.cells)),be=((He,Ee)=>Zt(Ee,ee)&&Ul(He)?Ae:(Ie,Pe,Je)=>!(zt(Ie.element)==="th"&&Ee[Pe]))(Q,re);return Lh(y,Q,P,V,bb,((He,Ee)=>(Ie,Pe)=>ne.some(zy(He,Ie.element,"row",Ee[Pe])))(T,re),be)},yb=(y,_,T,P)=>{const V=Fr(y).rows,U=D(_,Q=>Os(V[Q.row],Q.column));return Lh(y,U,T,P,bb,ne.none,Ae)},hm=y=>{if(!x(y))throw new Error("cases must be an array");if(y.length===0)throw new Error("there must be at least one case");const _=[],T={};return yt(y,(P,V)=>{const U=ir(P);if(U.length!==1)throw new Error("one and only one name per case");const Q=U[0],re=P[Q];if(T[Q]!==void 0)throw new Error("duplicate key detected:"+Q);if(Q==="cata")throw new Error("cannot have a case named cata (sorry)");if(!x(re))throw new Error("case arguments must be an array");_.push(Q),T[Q]=(...be)=>{const De=be.length;if(De!==re.length)throw new Error("Wrong number of arguments to case "+Q+". Expected "+re.length+" ("+re+"), got "+De);return{fold:(...He)=>{if(He.length!==y.length)throw new Error("Wrong number of arguments to fold. Expected "+y.length+", got "+He.length);return He[V].apply(null,be)},match:He=>{const Ee=ir(He);if(_.length!==Ee.length)throw new Error("Wrong number of arguments to match. Expected: "+_.join(",")+`
Actual: `+Ee.join(","));if(!Zt(_,Ie=>ot(Ee,Ie)))throw new Error("Not all branches were specified when using match. Specified: "+Ee.join(", ")+`
Required: `+_.join(", "));return He[Q].apply(null,be)},log:He=>{console.log(He,{constructors:_,constructor:Q,params:be})}}}}),T},Fh={...hm([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Vy=(y,_,T)=>{const P=((V,U)=>uc(V)?((Q,re)=>{const be=cc(Q);return D(be,(De,He)=>({element:De.element,width:re[He],colspan:De.colspan}))})(V,U):((Q,re)=>{const be=Dn(Q);return D(be,De=>{const He=((Ee,Ie,Pe)=>{let Je=0;for(let tt=Ee;tt<Ie;tt++)Je+=Pe[tt]!==void 0?Pe[tt]:0;return Je})(De.column,De.column+De.colspan,re);return{element:De.element,width:He,colspan:De.colspan}})})(V,U))(y,_);yt(P,V=>{T.setElementWidth(V.element,V.width)})},md=(y,_,T,P,V)=>{const U=bo(y),Q=V.getCellDelta(_),re=V.getWidths(U,V),be=T===U.grid.columns-1,De=P.clampTableDelta(re,T,Q,V.minCellWidth(),be),He=((Ie,Pe,Je,tt,Et)=>{const Ot=Ie.slice(0),kt=((Ut,qt)=>Ut.length===0?Fh.none():Ut.length===1?Fh.only(0):qt===0?Fh.left(0,1):qt===Ut.length-1?Fh.right(qt-1,qt):qt>0&&qt<Ut.length-1?Fh.middle(qt-1,qt,qt+1):Fh.none())(Ie,Pe),Rt=K(D(Ot,K(0)));return kt.fold(Rt,Ut=>tt.singleColumnWidth(Ot[Ut],Je),(Ut,qt)=>Et.calcLeftEdgeDeltas(Ot,Ut,qt,Je,tt.minCellWidth(),tt.isRelative),(Ut,qt,rt)=>Et.calcMiddleDeltas(Ot,Ut,qt,rt,Je,tt.minCellWidth(),tt.isRelative),(Ut,qt)=>Et.calcRightEdgeDeltas(Ot,Ut,qt,Je,tt.minCellWidth(),tt.isRelative))})(re,T,De,V,P),Ee=D(He,(Ie,Pe)=>Ie+re[Pe]);Vy(U,Ee,V),P.resizeTable(V.adjustTableWidth,De,be)},Tg=(y,_,T)=>{const P=bo(y),V=((be,De)=>Ea(be,De,u1,He=>He.getOrThunk(nr)))(P,y),U=D(V,(be,De)=>T===De?Math.max(_+be,nr()):be),Q=((be,De)=>D(be.all,(He,Ee)=>({element:He.element,height:De[Ee]})))(P,U);yt(Q,be=>{Eu(be.element,be.height)}),yt(Dn(P),be=>{(De=>{el(De,"height")})(be.element)});const re=hn(U,(be,De)=>be+De,0);Eu(y,re)},Og=y=>Qe(y,(_,T)=>Ce(_,P=>P.column===T.column)?_:_.concat([T]),[]).sort((_,T)=>_.column-T.column),gd=Do("col"),lf=Do("colgroup"),xb=y=>zt(y)==="tr"||lf(y),vk=y=>({element:y,colspan:as(y,"colspan",1),rowspan:as(y,"rowspan",1)}),wb=y=>po(y,"scope").map(_=>_.substr(0,3)),vc=(y,_=vk)=>{const T=V=>{if(xb(V))return lf((U={element:V}).element)?y.colgroup(U):y.row(U);{const Q=V,re=(be=>gd(be.element)?y.col(be):y.cell(be))(_(Q));return P=ne.some({item:Q,replacement:re}),re}var U};let P=ne.none();return{getOrInit:(V,U)=>P.fold(()=>T(V),Q=>U(V,Q.item)?Q.replacement:T(V))}},Kw=y=>_=>{const T=[],P=V=>{const U=y==="td"?{scope:null}:{},Q=_.replace(V,y,U);return T.push({item:V,sub:Q}),Q};return{replaceOrInit:(V,U)=>{if(xb(V)||gd(V))return V;{const Q=V;return((re,be)=>On(T,De=>be(De.item,re)))(Q,U).fold(()=>P(Q),re=>U(V,re.item)?re.sub:P(Q))}}}},$y=y=>({unmerge:_=>{const T=wb(_);return T.each(P=>fr(_,"scope",P)),()=>{const P=y.cell({element:_,colspan:1,rowspan:1});return el(P,"width"),el(_,"width"),T.each(V=>fr(P,"scope",V)),P}},merge:_=>(el(_[0],"width"),(()=>{const T=Yt(D(_,wb));if(T.length===0)return ne.none();{const P=T[0],V=["row","col"];return Ce(T,U=>U!==P&&ot(V,U))?ne.none():ne.from(P)}})().fold(()=>io(_[0],"scope"),T=>fr(_[0],"scope",T+"group")),K(_[0]))}),Dg=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Ga=Qd(),Rg=y=>((_,T)=>{const P=_.property().name(T);return ot(Dg,P)})(Ga,y),Ng=y=>((_,T)=>{const P=_.property().name(T);return ot(["ol","ul"],P)})(Ga,y),w1=y=>{const _=Do("br"),T=V=>jc(V).bind(U=>{const Q=Al(U).map(re=>!!Rg(re)||!!((be,De)=>ot(["br","img","hr","input"],be.property().name(De)))(Ga,re)&&zt(re)!=="img").getOr(!1);return Ji(U).map(re=>{return Q===!0||zt(be=re)==="li"||Se(be,Ng).isSome()||_(U)||Rg(re)&&!Or(V,re)?[]:[Vt.fromTag("br")];var be})}).getOr([]),P=(()=>{const V=bt(y,U=>{const Q=da(U);return(re=>Zt(re,be=>_(be)||ao(be)&&im(be).trim().length===0))(Q)?[]:Q.concat(T(U))});return V.length===0?[Vt.fromTag("br")]:V})();Qi(y[0]),hl(y[0],P)},Fo=y=>Xn(y,!0),sl=y=>{ms(y).length===0&&qr(y)},Nu=(y,_)=>({grid:y,cursor:_}),ci=(y,_,T)=>{const P=((V,U,Q)=>{var re,be;const De=Fr(V).rows;return ne.from((be=(re=De[U])===null||re===void 0?void 0:re.cells[Q])===null||be===void 0?void 0:be.element).filter(Fo).orThunk(()=>(He=>J(He,Ee=>J(Ee.cells,Ie=>{const Pe=Ie.element;return nn(Fo(Pe),Pe)})))(De))})(y,_,T);return Nu(y,P)},Ir=y=>Qe(y,(_,T)=>Ce(_,P=>P.row===T.row)?_:_.concat([T]),[]).sort((_,T)=>_.row-T.row),Cb=(y,_)=>(T,P,V,U,Q)=>{const re=Ir(P),be=D(re,He=>He.row),De=((He,Ee,Ie,Pe,Je,tt,Et)=>{const{cols:Ot,rows:kt}=Fr(He),Rt=kt[Ee[0]],Ut=bt(Ee,jn=>(($n,lo,Mo)=>{const Us=$n[lo];return bt(Us.cells,(ui,Da)=>Fy($n,lo,Da,Mo)?[]:[ui])})(kt,jn,Je)),qt=D(Rt.cells,(jn,$n)=>Ul(Hy(kt,$n,Je))),rt=[...kt];yt(Ee,jn=>{rt[jn]=Et.transformRow(kt[jn],Ie)});const gn=[...Ot,...rt],Vn=((jn,$n)=>Zt($n,ee)&&Ul(jn.cells)?Ae:(lo,Mo,Us)=>!(zt(lo.element)==="th"&&$n[Us]))(Rt,qt),co=((jn,$n)=>(lo,Mo,Us)=>ne.some(zy(jn,lo.element,"col",$n[Us])))(Pe,qt);return Lh(gn,Ut,Je,tt,Et.transformCell,co,Vn)})(T,be,y,_,V,U.replaceOrInit,Q);return ci(De,P[0].row,P[0].column)},qw=Cb("thead",!0),yk=Cb("tbody",!1),Xr=Cb("tfoot",!1),C1=(y,_,T)=>{const P=((U,Q)=>yl(U,()=>Q))(y,T.section),V=Ks(P);return us(V,_,!0)},Uy=(y,_,T,P)=>((V,U,Q,re)=>{const be=Ks(U),De=re.getWidths(be,re);Vy(be,De,re)})(0,_,0,P.sizing),pm=(y,_,T,P)=>((V,U,Q,re,be)=>{const De=Ks(U),He=re.getWidths(De,re),Ee=re.pixelWidth(),{newSizes:Ie,delta:Pe}=be.calcRedestributedWidths(He,Ee,Q.pixelDelta,re.isRelative);Vy(De,Ie,re),re.adjustTableWidth(Pe)})(0,_,T,P.sizing,P.resize),yc=(y,_)=>Ce(_,T=>T.column===0&&T.isLocked),zh=(y,_)=>Ce(_,T=>T.column+T.colspan>=y.grid.columns&&T.isLocked),mn=(y,_)=>{const T=kh(y),P=Og(_);return Qe(P,(V,U)=>V+T[U.column].map(vg).getOr(0),0)},Xc=y=>(_,T)=>fd(_,T).filter(P=>!(y?yc:zh)(_,P)).map(P=>({details:P,pixelDelta:mn(_,P)})),Wy=y=>(_,T)=>Wl(_,T).filter(P=>!(y?yc:zh)(_,P.cells)),_1=Kw("th"),Hh=Kw("td"),S1=Bs((y,_,T,P)=>{const V=_[0].row,U=Ir(_),Q=hn(U,(re,be)=>({grid:Ly(re.grid,V,be.row+re.delta,T,P.getOrInit),delta:re.delta+1}),{grid:y,delta:0}).grid;return ci(Q,V,_[0].column)},fd,$,$,vc),Ig=Bs((y,_,T,P)=>{const V=Ir(_),U=V[V.length-1],Q=U.row+U.rowspan,re=hn(V,(be,De)=>Ly(be,Q,De.row,T,P.getOrInit),y);return ci(re,Q,_[0].column)},fd,$,$,vc),xc=Bs((y,_,T,P)=>{const V=_.details,U=Og(V),Q=U[0].column,re=hn(U,(be,De)=>({grid:pb(be.grid,Q,De.column+be.delta,T,P.getOrInit),delta:be.delta+1}),{grid:y,delta:0}).grid;return ci(re,V[0].row,Q)},Xc(!0),pm,$,vc),xk=Bs((y,_,T,P)=>{const V=_.details,U=V[V.length-1],Q=U.column+U.colspan,re=Og(V),be=hn(re,(De,He)=>pb(De,Q,He.column,T,P.getOrInit),y);return ci(be,V[0].row,Q)},Xc(!1),pm,$,vc),k1=Bs((y,_,T,P)=>{const V=Og(_.details),U=((re,be)=>bt(re,De=>{const He=De.cells,Ee=hn(be,(Ie,Pe)=>Pe>=0&&Pe<Ie.length?Ie.slice(0,Pe).concat(Ie.slice(Pe+1)):Ie,He);return Ee.length>0?[js(De.element,Ee,De.section,De.isNew)]:[]}))(y,D(V,re=>re.column)),Q=U.length>0?U[0].cells.length-1:0;return ci(U,V[0].row,Math.min(V[0].column,Q))},(y,_)=>Ta(y,_).map(T=>({details:T,pixelDelta:-mn(y,T)})),pm,sl,vc),Zy=Bs((y,_,T,P)=>{const V=Ir(_),U=((re,be,De)=>{const{rows:He,cols:Ee}=Fr(re);return[...Ee,...He.slice(0,be),...He.slice(De+1)]})(y,V[0].row,V[V.length-1].row),Q=Math.max(Fr(U).rows.length-1,0);return ci(U,Math.min(_[0].row,Q),_[0].column)},fd,$,sl,vc),E1=Bs((y,_,T,P)=>{const V=Og(_),U=D(V,re=>re.column),Q=vb(y,U,!0,T,P.replaceOrInit);return ci(Q,_[0].row,_[0].column)},Ta,$,$,_1),jy=Bs((y,_,T,P)=>{const V=Og(_),U=D(V,re=>re.column),Q=vb(y,U,!1,T,P.replaceOrInit);return ci(Q,_[0].row,_[0].column)},Ta,$,$,Hh),Ky=Bs(qw,Ta,$,$,_1),A1=Bs(yk,Ta,$,$,Hh),qy=Bs(Xr,Ta,$,$,Hh),Gy=Bs((y,_,T,P)=>{const V=yb(y,_,T,P.replaceOrInit);return ci(V,_[0].row,_[0].column)},Ta,$,$,_1),Gw=Bs((y,_,T,P)=>{const V=yb(y,_,T,P.replaceOrInit);return ci(V,_[0].row,_[0].column)},Ta,$,$,Hh),wk=Bs((y,_,T,P)=>{const V=_.cells;w1(V);const U=((Q,re,be,De)=>{const He=Fr(Q).rows;if(He.length===0)return Q;for(let Ee=re.startRow;Ee<=re.finishRow;Ee++)for(let Ie=re.startCol;Ie<=re.finishCol;Ie++){const Pe=He[Ee],Je=Os(Pe,Ie).isLocked;xg(Pe,Ie,xs(De(),!1,Je))}return Q})(y,_.bounds,0,P.merge(V));return Nu(U,ne.from(V[0]))},(y,_)=>((T,P)=>P.mergable)(0,_).filter(T=>gb(y,T.cells)),Uy,$,$y),_b=Bs((y,_,T,P)=>{const V=hn(_,(U,Q)=>Mh(U,Q,T,P.unmerge(Q)),y);return Nu(V,ne.from(_[0]))},(y,_)=>((T,P)=>P.unmergable)(0,_).filter(T=>gb(y,T)),Uy,$,$y),Yy=Bs((y,_,T,P)=>{const V=((re,be)=>{const De=bo(re);return us(De,be,!0)})(_.clipboard,_.generators);var U,Q;return((re,be,De,He,Ee)=>{const Ie=xi(be),Pe=((Ot,kt,Rt)=>{const Ut=Sa(kt[0]),qt=Fr(kt).cols.length+Ot.row,rt=Ne(Ut-Ot.column,gn=>gn+Ot.column);return{row:qt,column:On(rt,gn=>Zt(Rt,Vn=>Vn!==gn)).getOr(Ut-1)}})(re,be,Ie),Je=Fr(De).rows,tt=y1(Pe,Je,Ie);return((Ot,kt,Rt)=>{if(Ot.row>=kt.length||Ot.column>Sa(kt[0]))return Ph.error("invalid start address out of table bounds, row: "+Ot.row+", column: "+Ot.column);const Ut=kt.slice(Ot.row),qt=Ut[0].cells.slice(Ot.column),rt=Sa(Rt[0]),gn=Rt.length;return Ph.value({rowDelta:Ut.length-gn,colDelta:qt.length-rt})})(Pe,be,Je).map(Ot=>{const kt={...Ot,colDelta:Ot.colDelta-tt.length},Rt=gm(be,kt,He),Ut=xi(Rt),qt=y1(Pe,Je,Ut);return((rt,gn,Vn,co,jn,$n)=>{const lo=rt.row,Mo=rt.column,Us=lo+Vn.length,ui=Mo+Sa(Vn[0])+$n.length,Da=Ur($n,Ae);for(let jl=lo;jl<Us;jl++){let Om=0;for(let di=Mo;di<ui;di++){if(Da[di]){Om++;continue}bk(gn,jl,di,jn)&&Mh(gn,Yr(gn[jl],di),jn,co.cell);const Mu=di-Mo-Om,qh=Os(Vn[jl-lo],Mu),Cf=qh.element,Gh=co.replace(Cf);xg(gn[jl],di,xs(Gh,!0,qh.isLocked))}}return gn})(Pe,Rt,Je,He,Ee,qt)})})((U=_.row,Q=_.column,{row:U,column:Q}),y,V,_.generators,T).fold(()=>Nu(y,ne.some(_.element)),re=>ci(re,_.row,_.column))},(y,_)=>Ch(_.element).bind(T=>ps(y,T).map(P=>({...P,generators:_.generators,clipboard:_.clipboard}))),Uy,$,vc),Bg=Bs((y,_,T,P)=>{const V=Fr(y).rows,U=_.cells[0].column,Q=V[_.cells[0].row],re=C1(_.clipboard,_.generators,Q),be=x1(U,y,re,_.generators,T);return ci(be,_.cells[0].row,_.cells[0].column)},Wy(!0),$,$,vc),Ck=Bs((y,_,T,P)=>{const V=Fr(y).rows,U=_.cells[_.cells.length-1].column+_.cells[_.cells.length-1].colspan,Q=V[_.cells[0].row],re=C1(_.clipboard,_.generators,Q),be=x1(U,y,re,_.generators,T);return ci(be,_.cells[0].row,U)},Wy(!1),$,$,vc),_k=Bs((y,_,T,P)=>{const V=Fr(y).rows,U=_.cells[0].row,Q=V[U],re=C1(_.clipboard,_.generators,Q),be=Py(U,y,re,_.generators,T);return ci(be,_.cells[0].row,_.cells[0].column)},Wl,$,$,vc),cf=Bs((y,_,T,P)=>{const V=Fr(y).rows,U=_.cells[_.cells.length-1].row+_.cells[_.cells.length-1].rowspan,Q=V[_.cells[0].row],re=C1(_.clipboard,_.generators,Q),be=Py(U,y,re,_.generators,T);return ci(be,U,_.cells[0].column)},Wl,$,$,vc),bm=(y,_)=>{const T=bo(y);return fd(T,_).bind(P=>{const V=P[P.length-1],U=P[0].column,Q=V.column+V.colspan,re=pt(D(T.all,be=>ln(be.cells,De=>De.column>=U&&De.column<Q)));return ga(re)}).getOr("")},T1=(y,_)=>{const T=bo(y);return fd(T,_).bind(ga).getOr("")},Yw=(y,_)=>{const T=bo(y);return fd(T,_).bind(P=>{const V=P[P.length-1],U=P[0].row,Q=V.row+V.rowspan;return(re=>{const be=D(re,Ee=>db(Ee).type),De=ot(be,"header"),He=ot(be,"footer");if(De||He){const Ee=ot(be,"body");return!De||Ee||He?De||Ee||!He?ne.none():ne.some("footer"):ne.some("header")}return ne.some("body")})(T.all.slice(U,Q))}).getOr("")},Xy=(y,_)=>y.dispatch("NewRow",{node:_}),Sb=(y,_)=>y.dispatch("NewCell",{node:_}),hd=(y,_,T)=>{y.dispatch("TableModified",{...T,table:_})},O1={structure:!1,style:!0},ta={structure:!0,style:!1},Cs={structure:!0,style:!0},uf=(y,_)=>Ou(y)?Tu(_):I(y)?ls(_):Th(_),Jy=(y,_,T)=>{const P=He=>zt(Qo(He))==="table",V=cd(y),U=sb(y)?$:Bh,Q=He=>{switch(lm(y)){case"section":return pa();case"sectionCells":return Ww();case"cells":return Zw();default:return((Ee,Ie)=>{var Pe;switch((Pe=bo(Ee),J(Pe.all,Je=>{const tt=db(Je);return tt.type==="header"?ne.from(tt.subType):ne.none()})).getOr(Ie)){case"section":return ha();case"sectionCells":return Ft();case"cells":return mm()}})(He,"section")}},re=(He,Ee,Ie,Pe)=>(Je,tt,Et=!1)=>{cs(Je);const Ot=Vt.fromDom(y.getDoc()),kt=zr(Ie,Ot,V),Rt={sizing:uf(y,Je),resize:sb(y)?Ru():g1(),section:Q(Je)};return Ee(Je)?He(Je,tt,kt,Rt).bind(Ut=>{_.refresh(Je.dom),yt(Ut.newRows,rt=>{Xy(y,rt.dom)}),yt(Ut.newCells,rt=>{Sb(y,rt.dom)});const qt=((rt,gn)=>gn.cursor.fold(()=>{const Vn=ms(rt);return xn(Vn).filter(Mi).map(co=>{T.clearSelectedCells(rt.dom);const jn=y.dom.createRng();return jn.selectNode(co.dom),y.selection.setRng(jn),fr(co,"data-mce-selected","1"),jn})},Vn=>{const co=Ny(Ih,Vn),jn=y.dom.createRng();return jn.setStart(co.element.dom,co.offset),jn.setEnd(co.element.dom,co.offset),y.selection.setRng(jn),T.clearSelectedCells(rt.dom),ne.some(jn)}))(Je,Ut);return Mi(Je)&&(cs(Je),Et||hd(y,Je.dom,Pe)),qt.map(rt=>({rng:rt,effect:Pe}))}):ne.none()},be=re(Zy,He=>!P(y)||Yc(He).rows>1,$,ta),De=re(k1,He=>!P(y)||Yc(He).columns>1,$,ta);return{deleteRow:be,deleteColumn:De,insertRowsBefore:re(S1,Ae,$,ta),insertRowsAfter:re(Ig,Ae,$,ta),insertColumnsBefore:re(xc,Ae,U,ta),insertColumnsAfter:re(xk,Ae,U,ta),mergeCells:re(wk,Ae,$,ta),unmergeCells:re(_b,Ae,$,ta),pasteColsBefore:re(Bg,Ae,$,ta),pasteColsAfter:re(Ck,Ae,$,ta),pasteRowsBefore:re(_k,Ae,$,ta),pasteRowsAfter:re(cf,Ae,$,ta),pasteCells:re(Yy,Ae,$,Cs),makeCellsHeader:re(Gy,Ae,$,ta),unmakeCellsHeader:re(Gw,Ae,$,ta),makeColumnsHeader:re(E1,Ae,$,ta),unmakeColumnsHeader:re(jy,Ae,$,ta),makeRowsHeader:re(Ky,Ae,$,ta),makeRowsBody:re(A1,Ae,$,ta),makeRowsFooter:re(qy,Ae,$,ta),getTableRowType:Yw,getTableCellType:T1,getTableColType:bm}},D1=(y,_,T)=>{const P=as(y,_,1);T===1||P<=1?io(y,_):fr(y,_,Math.min(T,P))},Oa=(y,_)=>T=>{const P=T.column+T.colspan-1,V=T.column;return P>=y&&V<_},$i=hm([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Mg=(y,_,T)=>{const P=T.substring(0,T.length-y.length),V=parseFloat(P);return P===V.toString()?_(V):$i.invalid(T)},df={...$i,from:y=>Jt(y,"%")?Mg("%",$i.percent,y):Jt(y,"px")?Mg("px",$i.pixels,y):$i.invalid(y)},vm=(y,_,T)=>{const P=df.from(T),V=Zt(y,U=>U==="0px")?((U,Q)=>{const re=U.fold(()=>K(""),be=>K(be/Q+"px"),()=>K(100/Q+"%"));return Ne(Q,re)})(P,y.length):((U,Q,re)=>U.fold(()=>Q,be=>((De,He,Ee)=>{const Ie=Ee/He;return D(De,Pe=>df.from(Pe).fold(()=>Pe,Je=>Je*Ie+"px",Je=>Je/100*Ee+"px"))})(Q,re,be),be=>((De,He)=>D(De,Ee=>df.from(Ee).fold(()=>Ee,Ie=>Ie/He*100+"%",Ie=>Ie+"%")))(Q,re)))(P,y,_);return Qy(V)},R1=(y,_)=>y.length===0?_:hn(y,(T,P)=>df.from(P).fold(K(0),ee,ee)+T,0),Xw=(y,_)=>df.from(y).fold(K(y),T=>T+_+"px",T=>T+_+"%"),Qy=y=>{if(y.length===0)return y;const _=hn(y,(P,V)=>{const U=df.from(V).fold(()=>({value:V,remainder:0}),Q=>((re,be)=>{const De=Math.floor(re);return{value:De+"px",remainder:re-De}})(Q),Q=>({value:Q+"%",remainder:0}));return{output:[U.value].concat(P.output),remainder:P.remainder+U.remainder}},{output:[],remainder:0}),T=_.output;return T.slice(0,T.length-1).concat([Xw(T[T.length-1],Math.round(_.remainder))])},ym=df.from,Br=(y,_,T)=>{const P=bo(y),V=P.all,U=Dn(P),Q=cc(P);_.each(re=>{const be=ym(re).fold(K("px"),K("px"),K("%")),De=nl(y),He=((Ie,Pe)=>Qs(Ie,Pe,Ci,Ah))(P,y),Ee=vm(He,De,re);uc(P)?((Ie,Pe,Je)=>{yt(Pe,(tt,Et)=>{const Ot=R1([Ie[Et]],vl());fo(tt.element,"width",Ot+Je)})})(Ee,Q,be):((Ie,Pe,Je)=>{yt(Pe,tt=>{const Et=Ie.slice(tt.column,tt.colspan+tt.column),Ot=R1(Et,vl());fo(tt.element,"width",Ot+Je)})})(Ee,U,be),fo(y,"width",re)}),T.each(re=>{const be=id(y),De=((He,Ee)=>Ea(He,Ee,li,Ah))(P,y);((He,Ee,Ie)=>{yt(Ie,Pe=>{el(Pe.element,"height")}),yt(Ee,(Pe,Je)=>{fo(Pe.element,"height",He[Je])})})(vm(De,be,re),V,U),fo(y,"height",re)})},N1=y=>Vl(y).exists(_=>sa.test(_)),Jr=y=>Vl(y).exists(_=>Pn.test(_)),Iu=y=>Vl(y).isNone(),Jc=y=>{io(y,"width"),io(y,"height")},Pg=y=>{const _=Xd(y);Br(y,ne.some(_),ne.none()),Jc(y)},al=y=>{const _=(T=>nl(T)+"px")(y);Br(y,ne.some(_),ne.none()),Jc(y)},Ya=y=>{el(y,"width");const _=lc(y),T=_.length>0?_:ms(y);yt(T,P=>{el(P,"width"),Jc(P)}),Jc(y)},xm={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},kb=(y,_,T,P)=>Ne(y,V=>((U,Q,re,be)=>{const De=Vt.fromTag("tr");for(let He=0;He<U;He++){const Ee=Vt.fromTag(be<Q||He<re?"th":"td");He<re&&fr(Ee,"scope","row"),be<Q&&fr(Ee,"scope","col"),ns(Ee,Vt.fromTag("br")),ns(De,Ee)}return De})(_,T,P,V)),Lg=(y,_)=>{y.selection.select(_.dom,!0),y.selection.collapse(!0)},Eb=(y,_,T,P,V)=>{const U=(re=>{const be=re.options,De=be.get("table_default_styles");return be.isSet("table_default_styles")?De:((He,Ee)=>Z(He)||!Oe(He)?Ee:I(He)?{...Ee,width:Kc(He)}:{...Ee,width:Ol})(re,De)})(y),Q={styles:U,attributes:Tt(y),colGroups:Ln(y)};return y.undoManager.ignore(()=>{const re=((De,He,Ee,Ie,Pe,Je=xm)=>{const tt=Vt.fromTag("table"),Et=Pe!=="cells";bl(tt,Je.styles),vi(tt,Je.attributes),Je.colGroups&&ns(tt,(Ut=>{const qt=Vt.fromTag("colgroup");return Ne(Ut,()=>ns(qt,Vt.fromTag("col"))),qt})(He));const Ot=Math.min(De,Ee);if(Et&&Ee>0){const Ut=Vt.fromTag("thead");ns(tt,Ut);const qt=kb(Ee,He,Pe==="sectionCells"?Ot:0,Ie);hl(Ut,qt)}const kt=Vt.fromTag("tbody");ns(tt,kt);const Rt=kb(Et?De-Ot:De,He,Et?0:Ee,Ie);return hl(kt,Rt),tt})(T,_,V,P,lm(y),Q);fr(re,"data-mce-id","__mce");const be=(De=>{const He=Vt.fromTag("div"),Ee=Vt.fromDom(De.dom.cloneNode(!0));return ns(He,Ee),(Ie=>Ie.dom.innerHTML)(He)})(re);y.insertContent(be),y.addVisual()}),st(Qo(y),'table[data-mce-id="__mce"]').map(re=>(I(y)?al(re):Z(y)?Ya(re):(Ou(y)||(be=>b(be)&&be.indexOf("%")!==-1)(U.width))&&Pg(re),cs(re),io(re,"data-mce-id"),((be,De)=>{yt(yr(De,"tr"),He=>{Xy(be,He.dom),yt(yr(He,"th,td"),Ee=>{Sb(be,Ee.dom)})})})(y,re),((be,De)=>{st(De,"td,th").each(he(Lg,be))})(y,re),re.dom)).getOrNull()};var Fg=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Jw="x-tinymce/dom-table-",ex=Jw+"rows",tx=Jw+"columns",Qw=y=>{const _=Fg.FakeClipboardItem(y);Fg.write([_])},Xa=y=>{var _;const T=(_=Fg.read())!==null&&_!==void 0?_:[];return J(T,P=>ne.from(P.getType(y)))},wm=y=>{Xa(y).isSome()&&Fg.clear()},eC=y=>{y.fold(Ui,_=>Qw({[ex]:_}))},wc=()=>Xa(ex),Ui=()=>wm(ex),zg=y=>{y.fold(tC,_=>Qw({[tx]:_}))},Vh=()=>Xa(tx),tC=()=>wm(tx),bs=y=>rf(mc(y),Ns(y)).filter(f1),vs=(y,_)=>{const T=Ns(y),P=Ee=>tl(Ee,T),V=Ee=>(Ie=>os(mc(Ie),Ns(Ie)).filter(f1))(y).bind(Ie=>P(Ie).map(Pe=>Ee(Pe,Ie))),U=Ee=>{y.focus()},Q=(Ee,Ie=!1)=>V((Pe,Je)=>{const tt=go(hc(y),Pe,Je);Ee(Pe,tt,Ie).each(U)}),re=()=>V((Ee,Ie)=>((Pe,Je,tt)=>{const Et=bo(Pe);return fd(Et,Je).bind(Ot=>{const kt=us(Et,tt,!1),Rt=Fr(kt).rows.slice(Ot[0].row,Ot[Ot.length-1].row+Ot[Ot.length-1].rowspan),Ut=bt(Rt,rt=>{const gn=ln(rt.cells,Vn=>!Vn.isLocked);return gn.length>0?[{...rt,cells:gn}]:[]}),qt=mb(Ut);return nn(qt.length>0,qt)}).map(Ot=>D(Ot,kt=>{const Rt=Jf(kt.element);return yt(kt.cells,Ut=>{const qt=Mc(Ut.element);dd(qt,"colspan",Ut.colspan,1),dd(qt,"rowspan",Ut.rowspan,1),ns(Rt,qt)}),Rt}))})(Ee,go(hc(y),Ee,Ie),zr($,Vt.fromDom(y.getDoc()),ne.none()))),be=()=>V((Ee,Ie)=>((Pe,Je)=>{const tt=bo(Pe);return Ta(tt,Je).map(Et=>{const Ot=Et[Et.length-1],kt=Et[0].column,Rt=Ot.column+Ot.colspan,Ut=((rt,gn,Vn)=>{if(uc(rt)){const co=ln(cc(rt),Oa(gn,Vn)),jn=D(co,lo=>{const Mo=Mc(lo.element);return D1(Mo,"span",Vn-gn),Mo}),$n=Vt.fromTag("colgroup");return hl($n,jn),[$n]}return[]})(tt,kt,Rt),qt=((rt,gn,Vn)=>D(rt.all,co=>{const jn=ln(co.cells,Oa(gn,Vn)),$n=D(jn,Mo=>{const Us=Mc(Mo.element);return D1(Us,"colspan",Vn-gn),Us}),lo=Vt.fromTag("tr");return hl(lo,$n),lo}))(tt,kt,Rt);return[...Ut,...qt]})})(Ee,go(hc(y),Ee,Ie))),De=(Ee,Ie)=>Ie().each(Pe=>{const Je=D(Pe,tt=>Mc(tt));V((tt,Et)=>{const Ot=gr(Vt.fromDom(y.getDoc())),kt=((Rt,Ut,qt,rt)=>({selection:nf(Rt),clipboard:qt,generators:rt}))(hc(y),0,Je,Ot);Ee(tt,kt).each(U)})}),He=Ee=>(Ie,Pe)=>((Je,tt)=>Me(Je,tt)?ne.from(Je[tt]):ne.none())(Pe,"type").each(Je=>{Q(Ee(Je),Pe.no_events)});Ko({mceTableSplitCells:()=>Q(_.unmergeCells),mceTableMergeCells:()=>Q(_.mergeCells),mceTableInsertRowBefore:()=>Q(_.insertRowsBefore),mceTableInsertRowAfter:()=>Q(_.insertRowsAfter),mceTableInsertColBefore:()=>Q(_.insertColumnsBefore),mceTableInsertColAfter:()=>Q(_.insertColumnsAfter),mceTableDeleteCol:()=>Q(_.deleteColumn),mceTableDeleteRow:()=>Q(_.deleteRow),mceTableCutCol:()=>be().each(Ee=>{zg(Ee),Q(_.deleteColumn)}),mceTableCutRow:()=>re().each(Ee=>{eC(Ee),Q(_.deleteRow)}),mceTableCopyCol:()=>be().each(Ee=>zg(Ee)),mceTableCopyRow:()=>re().each(Ee=>eC(Ee)),mceTablePasteColBefore:()=>De(_.pasteColsBefore,Vh),mceTablePasteColAfter:()=>De(_.pasteColsAfter,Vh),mceTablePasteRowBefore:()=>De(_.pasteRowsBefore,wc),mceTablePasteRowAfter:()=>De(_.pasteRowsAfter,wc),mceTableDelete:()=>bs(y).each(Ee=>{tl(Ee,T).filter(Ue(T)).each(Ie=>{const Pe=Vt.fromText("");if(vu(Ie,Pe),qr(Ie),y.dom.isEmpty(y.getBody()))y.setContent(""),y.selection.setCursorLocation();else{const Je=y.dom.createRng();Je.setStart(Pe.dom,0),Je.setEnd(Pe.dom,0),y.selection.setRng(Je),y.nodeChanged()}})}),mceTableCellToggleClass:(Ee,Ie)=>{V(Pe=>{const Je=hc(y),tt=Zt(Je,Ot=>y.formatter.match("tablecellclass",{value:Ie},Ot.dom)),Et=tt?y.formatter.remove:y.formatter.apply;yt(Je,Ot=>Et("tablecellclass",{value:Ie},Ot.dom)),hd(y,Pe.dom,O1)})},mceTableToggleClass:(Ee,Ie)=>{V(Pe=>{y.formatter.toggle("tableclass",{value:Ie},Pe.dom),hd(y,Pe.dom,O1)})},mceTableToggleCaption:()=>{bs(y).each(Ee=>{tl(Ee,T).each(Ie=>{lt(Ie,"caption").fold(()=>{const Pe=Vt.fromTag("caption");ns(Pe,Vt.fromText("Caption")),((Je,tt,Et)=>{bu(Je,0).fold(()=>{ns(Je,tt)},Ot=>{Qt(Ot,tt)})})(Ie,Pe),y.selection.setCursorLocation(Pe.dom,0)},Pe=>{Do("caption")(Ee)&&El("td",Ie).each(Je=>y.selection.setCursorLocation(Je.dom,0)),qr(Pe)}),hd(y,Ie.dom,ta)})})},mceTableSizingMode:(Ee,Ie)=>(Pe=>bs(y).each(Je=>{Z(y)||I(y)||Ou(y)||tl(Je,T).each(tt=>{Pe!=="relative"||N1(tt)?Pe!=="fixed"||Jr(tt)?Pe!=="responsive"||Iu(tt)||Ya(tt):al(tt):Pg(tt),cs(tt),hd(y,tt.dom,ta)})}))(Ie),mceTableCellType:He(Ee=>Ee==="th"?_.makeCellsHeader:_.unmakeCellsHeader),mceTableColType:He(Ee=>Ee==="th"?_.makeColumnsHeader:_.unmakeColumnsHeader),mceTableRowType:He(Ee=>{switch(Ee){case"header":return _.makeRowsHeader;case"footer":return _.makeRowsFooter;default:return _.makeRowsBody}})},(Ee,Ie)=>y.addCommand(Ie,Ee)),y.addCommand("mceInsertTable",(Ee,Ie)=>{((Pe,Je,tt,Et={})=>{const Ot=kt=>W(kt)&&kt>0;if(Ot(Je)&&Ot(tt)){const kt=Et.headerRows||0,Rt=Et.headerColumns||0;return Eb(Pe,tt,Je,Rt,kt)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(y,Ie.rows,Ie.columns,Ie.options)}),y.addCommand("mceTableApplyCellStyle",(Ee,Ie)=>{const Pe=Et=>"tablecell"+Et.toLowerCase().replace("-","");if(!h(Ie))return;const Je=ln(hc(y),f1);if(Je.length===0)return;const tt=((Et,Ot)=>{const kt={};return((Rt,Ut,qt,rt)=>{Ko(Rt,(gn,Vn)=>{(Ut(gn,Vn)?qt:rt)(gn,Vn)})})(Et,Ot,(Rt=>(Ut,qt)=>{Rt[qt]=Ut})(kt),$),kt})(Ie,(Et,Ot)=>y.formatter.has(Pe(Ot))&&b(Et));(Et=>{for(const Ot in Et)if(vr.call(Et,Ot))return!1;return!0})(tt)||(Ko(tt,(Et,Ot)=>{const kt=Pe(Ot);yt(Je,Rt=>{Et===""?y.formatter.remove(kt,{value:null},Rt.dom,!0):y.formatter.apply(kt,{value:Et},Rt.dom)})}),P(Je[0]).each(Et=>hd(y,Et.dom,O1)))})},$s=hm([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),wr={before:$s.before,on:$s.on,after:$s.after,cata:(y,_,T,P)=>y.fold(_,T,P),getStart:y=>y.fold(ee,ee,ee)},ds=(y,_)=>({selection:y,kill:_}),Ms=(y,_)=>{const T=y.document.createRange();return T.selectNode(_.dom),T},I1=(y,_)=>{const T=y.document.createRange();return B1(T,_),T},B1=(y,_)=>y.selectNodeContents(_.dom),nx=(y,_,T)=>{const P=y.document.createRange();var V;return V=P,_.fold(U=>{V.setStartBefore(U.dom)},(U,Q)=>{V.setStart(U.dom,Q)},U=>{V.setStartAfter(U.dom)}),((U,Q)=>{Q.fold(re=>{U.setEndBefore(re.dom)},(re,be)=>{U.setEnd(re.dom,be)},re=>{U.setEndAfter(re.dom)})})(P,T),P},Ab=(y,_,T,P,V)=>{const U=y.document.createRange();return U.setStart(_.dom,T),U.setEnd(P.dom,V),U},ox=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom,width:y.width,height:y.height}),Hg=hm([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),M1=(y,_,T)=>_(Vt.fromDom(T.startContainer),T.startOffset,Vt.fromDom(T.endContainer),T.endOffset),P1=(y,_)=>{const T=((P,V)=>V.match({domRange:U=>({ltr:K(U),rtl:ne.none}),relative:(U,Q)=>({ltr:fa(()=>nx(P,U,Q)),rtl:fa(()=>ne.some(nx(P,Q,U)))}),exact:(U,Q,re,be)=>({ltr:fa(()=>Ab(P,U,Q,re,be)),rtl:fa(()=>ne.some(Ab(P,re,be,U,Q)))})}))(y,_);return((P,V)=>{const U=V.ltr();return U.collapsed?V.rtl().filter(Q=>Q.collapsed===!1).map(Q=>Hg.rtl(Vt.fromDom(Q.endContainer),Q.endOffset,Vt.fromDom(Q.startContainer),Q.startOffset)).getOrThunk(()=>M1(0,Hg.ltr,U)):M1(0,Hg.ltr,U)})(0,T)},rx=(y,_)=>P1(y,_).match({ltr:(T,P,V,U)=>{const Q=y.document.createRange();return Q.setStart(T.dom,P),Q.setEnd(V.dom,U),Q},rtl:(T,P,V,U)=>{const Q=y.document.createRange();return Q.setStart(V.dom,U),Q.setEnd(T.dom,P),Q}});Hg.ltr,Hg.rtl;const Tb=(y,_,T,P)=>({start:y,soffset:_,finish:T,foffset:P}),il=(y,_,T,P)=>({start:wr.on(y,_),finish:wr.on(T,P)}),sx=(y,_)=>{const T=rx(y,_);return Tb(Vt.fromDom(T.startContainer),T.startOffset,Vt.fromDom(T.endContainer),T.endOffset)},Ei=il,Ob=(y,_,T,P,V)=>Or(T,P)?ne.none():qc(T,P,_).bind(U=>{const Q=U.boxes.getOr([]);return Q.length>1?(V(y,Q,U.start,U.finish),ne.some(ds(ne.some(Ei(T,0,T,Ds(T))),!0))):ne.none()}),Vg=(y,_)=>({item:y,mode:_}),Qc=(y,_,T,P=Ps)=>y.property().parent(_).map(V=>Vg(V,P)),Ps=(y,_,T,P=Cm)=>T.sibling(y,_).map(V=>Vg(V,P)),Cm=(y,_,T,P=Cm)=>{const V=y.property().children(_);return T.first(V).map(U=>Vg(U,P))},ax=[{current:Qc,next:Ps,fallback:ne.none()},{current:Ps,next:Cm,fallback:ne.some(Qc)},{current:Cm,next:Cm,fallback:ne.some(Ps)}],ix=(y,_,T,P,V=ax)=>On(V,U=>U.current===T).bind(U=>U.current(y,_,P,U.next).orThunk(()=>U.fallback.bind(Q=>ix(y,_,Q,P)))),Db=(y,_,T,P,V,U)=>ix(y,_,P,V).bind(Q=>U(Q.item)?ne.none():T(Q.item)?ne.some(Q.item):Db(y,Q.item,T,Q.mode,V,U)),pd=y=>_=>y.property().children(_).length===0,Sk=(y,_,T,P)=>Db(y,_,T,Ps,{sibling:(V,U)=>V.query().prevSibling(U),first:V=>V.length>0?ne.some(V[V.length-1]):ne.none()},P),Rb=(y,_,T,P)=>Db(y,_,T,Ps,{sibling:(V,U)=>V.query().nextSibling(U),first:V=>V.length>0?ne.some(V[0]):ne.none()},P),_m=Qd(),nC=(y,_)=>((T,P,V)=>Sk(T,P,pd(T),V))(_m,y,_),Nb=(y,_)=>((T,P,V)=>Rb(T,P,pd(T),V))(_m,y,_),Ib=hm([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),L1=y=>je(y,"tr"),$h={...Ib,verify:(y,_,T,P,V,U,Q)=>je(P,"td,th",Q).bind(re=>je(_,"td,th",Q).map(be=>Or(re,be)?Or(P,re)&&Ds(re)===V?U(be):Ib.none("in same cell"):ef(L1,[re,be]).fold(()=>((De,He,Ee)=>{const Ie=De.getRect(He),Pe=De.getRect(Ee);return Pe.right>Ie.left&&Pe.left<Ie.right})(y,be,re)?Ib.success():U(be),De=>U(be)))).getOr(Ib.none("default")),cata:(y,_,T,P,V)=>y.fold(_,T,P,V)},F1=Do("br"),Ai=(y,_,T)=>_(y,T).bind(P=>ao(P)&&im(P).trim().length===0?Ai(P,_,T):ne.some(P)),lx=(y,_,T,P)=>((V,U)=>bu(V,U).filter(F1).orThunk(()=>bu(V,U-1).filter(F1)))(_,T).bind(V=>P.traverse(V).fold(()=>Ai(V,P.gather,y).map(P.relative),U=>(Q=>Ji(Q).bind(re=>{const be=da(re);return((De,He)=>sr(De,he(Or,He)))(be,Q).map(De=>((He,Ee,Ie,Pe)=>({parent:He,children:Ee,element:Ie,index:Pe}))(re,be,Q,De))}))(U).map(Q=>wr.on(Q.parent,Q.index)))),bd=(y,_)=>({left:y.left,top:y.top+_,right:y.right,bottom:y.bottom+_}),Bb=(y,_)=>({left:y.left,top:y.top-_,right:y.right,bottom:y.bottom-_}),Bu=(y,_,T)=>({left:y.left+_,top:y.top+T,right:y.right+_,bottom:y.bottom+T}),Mb=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom}),Pb=(y,_)=>ne.some(y.getRect(_)),Sm=(y,_,T)=>En(_)?Pb(y,_).map(Mb):ao(_)?((P,V,U)=>U>=0&&U<Ds(V)?P.getRangedRect(V,U,V,U+1):U>0?P.getRangedRect(V,U-1,V,U):ne.none())(y,_,T).map(Mb):ne.none(),$g=(y,_)=>En(_)?Pb(y,_).map(Mb):ao(_)?y.getRangedRect(_,0,_,Ds(_)).map(Mb):ne.none(),Cc=hm([{none:[]},{retry:["caret"]}]),Lb=(y,_,T)=>Ye(_,Rg).fold(te,P=>$g(y,P).exists(V=>((U,Q)=>U.left<Q.left||Math.abs(Q.right-U.left)<1||U.left>Q.right)(T,V))),kk={point:y=>y.bottom,adjuster:(y,_,T,P,V)=>{const U=bd(V,5);return Math.abs(T.bottom-P.bottom)<1||T.top>V.bottom?Cc.retry(U):T.top===V.bottom?Cc.retry(bd(V,1)):Lb(y,_,V)?Cc.retry(Bu(U,5,0)):Cc.none()},move:bd,gather:Nb},Zl=(y,_,T,P,V)=>V===0?ne.some(P):((U,Q,re)=>U.elementFromPoint(Q,re).filter(be=>zt(be)==="table").isSome())(y,P.left,_.point(P))?((U,Q,re,be,De)=>Zl(U,Q,re,Q.move(be,5),De))(y,_,T,P,V-1):y.situsFromPoint(P.left,_.point(P)).bind(U=>U.start.fold(ne.none,Q=>$g(y,Q).bind(re=>_.adjuster(y,Q,re,T,P).fold(ne.none,be=>Zl(y,_,T,be,V-1))).orThunk(()=>ne.some(P)),ne.none)),vd=(y,_,T)=>{const P=y.move(T,5),V=Zl(_,y,T,P,100).getOr(P);return((U,Q,re)=>U.point(Q)>re.getInnerHeight()?ne.some(U.point(Q)-re.getInnerHeight()):U.point(Q)<0?ne.some(-U.point(Q)):ne.none())(y,V,_).fold(()=>_.situsFromPoint(V.left,y.point(V)),U=>(_.scrollBy(0,U),_.situsFromPoint(V.left,y.point(V)-U)))},_c={tryUp:he(vd,{point:y=>y.top,adjuster:(y,_,T,P,V)=>{const U=Bb(V,5);return Math.abs(T.top-P.top)<1||T.bottom<V.top?Cc.retry(U):T.bottom===V.top?Cc.retry(Bb(V,1)):Lb(y,_,V)?Cc.retry(Bu(U,5,0)):Cc.none()},move:Bb,gather:nC}),tryDown:he(vd,kk),getJumpSize:K(5)},cx=(y,_,T)=>y.getSelection().bind(P=>((V,U,Q,re)=>(F1(U)?((De,He,Ee)=>Ee.traverse(He).orThunk(()=>Ai(He,Ee.gather,De)).map(Ee.relative))(V,U,re):lx(V,U,Q,re)).map(De=>({start:De,finish:De})))(_,P.finish,P.foffset,T).fold(()=>ne.some(to(P.finish,P.foffset)),V=>{const U=y.fromSitus(V);return Q=$h.verify(y,P.finish,P.foffset,U.finish,U.foffset,T.failure,_),$h.cata(Q,re=>ne.none(),()=>ne.none(),re=>ne.some(to(re,0)),re=>ne.some(to(re,Ds(re))));var Q})),ia=(y,_,T,P,V,U)=>U===0?ne.none():Ek(y,_,T,P,V).bind(Q=>{const re=y.fromSitus(Q),be=$h.verify(y,T,P,re.finish,re.foffset,V.failure,_);return $h.cata(be,()=>ne.none(),()=>ne.some(Q),De=>Or(T,De)&&P===0?Sc(y,T,P,Bb,V):ia(y,_,De,0,V,U-1),De=>Or(T,De)&&P===Ds(De)?Sc(y,T,P,bd,V):ia(y,_,De,Ds(De),V,U-1))}),Sc=(y,_,T,P,V)=>Sm(y,_,T).bind(U=>ll(y,V,P(U,_c.getJumpSize()))),ll=(y,_,T)=>{const P=c1().browser;return P.isChromium()||P.isSafari()||P.isFirefox()?_.retry(y,T):ne.none()},Ek=(y,_,T,P,V)=>Sm(y,T,P).bind(U=>ll(y,V,U)),ff=(y,_,T,P,V)=>je(P,"td,th",_).bind(U=>je(U,"table",_).bind(Q=>((re,be)=>Se(re,De=>Ji(De).exists(He=>Or(He,be)),void 0).isSome())(V,Q)?((re,be,De)=>cx(re,be,De).bind(He=>ia(re,be,He.element,He.offset,De,20).map(re.fromSitus)))(y,_,T).bind(re=>je(re.finish,"td,th",_).map(be=>({start:U,finish:be,range:re}))):ne.none())),yd=(y,_,T,P,V,U)=>U(P,_).orThunk(()=>ff(y,_,T,P,V).map(Q=>{const re=Q.range;return ds(ne.some(Ei(re.start,re.soffset,re.finish,re.foffset)),!0)})),Uh=(y,_)=>je(y,"tr",_).bind(T=>je(T,"table",_).bind(P=>{const V=yr(P,"tr");return Or(T,V[0])?((U,Q,re)=>Sk(_m,U,be=>jc(be).isSome(),re))(P,0,_).map(U=>{const Q=Ds(U);return ds(ne.some(Ei(U,Q,U,Q)),!0)}):ne.none()})),km=(y,_)=>je(y,"tr",_).bind(T=>je(T,"table",_).bind(P=>{const V=yr(P,"tr");return Or(T,V[V.length-1])?((U,Q,re)=>Rb(_m,U,be=>Cg(be).isSome(),re))(P,0,_).map(U=>ds(ne.some(Ei(U,0,U,0)),!0)):ne.none()})),Dl=(y,_,T,P,V,U,Q)=>ff(y,T,P,V,U).bind(re=>Ob(_,T,re.start,re.finish,Q)),z1=y=>{let _=y;return{get:()=>_,set:T=>{_=T}}},H1=()=>{const y=(_=>{const T=z1(ne.none()),P=()=>T.get().each(_);return{clear:()=>{P(),T.set(ne.none())},isSet:()=>T.get().isSome(),get:()=>T.get(),set:V=>{P(),T.set(ne.some(V))}}})($);return{...y,on:_=>y.get().each(_)}},Fb=(y,_)=>je(y,"td,th",_),V1=y=>pu(y).exists(Xn),oC={traverse:Al,gather:Nb,relative:wr.before,retry:_c.tryDown,failure:$h.failedDown},zb={traverse:Yn,gather:nC,relative:wr.before,retry:_c.tryUp,failure:$h.failedUp},xd=y=>_=>_===y,Hb=xd(38),Ug=xd(40),Wg=y=>y>=37&&y<=40,mf={isBackward:xd(37),isForward:xd(39)},gf={isBackward:xd(39),isForward:xd(37)},Vb=hm([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),hf={domRange:Vb.domRange,relative:Vb.relative,exact:Vb.exact,exactFromRange:y=>Vb.exact(y.start,y.soffset,y.finish,y.foffset),getWin:y=>{const _=(T=>T.match({domRange:P=>Vt.fromDom(P.startContainer),relative:(P,V)=>wr.getStart(P),exact:(P,V,U,Q)=>P}))(y);return Vt.fromDom(ic(_).dom.defaultView)},range:Tb},pf=(y,_)=>{const T=zt(y);return T==="input"?wr.after(y):ot(["br","img"],T)?_===0?wr.before(y):wr.after(y):wr.on(y,_)},bf=y=>ne.from(y.getSelection()),Zg=(y,_)=>{bf(y).each(T=>{T.removeAllRanges(),T.addRange(_)})},$1=(y,_,T,P,V)=>{const U=Ab(y,_,T,P,V);Zg(y,U)},Wh=(y,_)=>P1(y,_).match({ltr:(T,P,V,U)=>{$1(y,T,P,V,U)},rtl:(T,P,V,U)=>{bf(y).each(Q=>{if(Q.setBaseAndExtent)Q.setBaseAndExtent(T.dom,P,V.dom,U);else if(Q.extend)try{((re,be,De,He,Ee,Ie)=>{be.collapse(De.dom,He),be.extend(Ee.dom,Ie)})(0,Q,T,P,V,U)}catch{$1(y,V,U,T,P)}else $1(y,V,U,T,P)})}}),U1=(y,_,T,P,V)=>{const U=((Q,re,be,De)=>{const He=pf(Q,re),Ee=pf(be,De);return hf.relative(He,Ee)})(_,T,P,V);Wh(y,U)},ux=(y,_,T)=>{const P=((V,U)=>{const Q=V.fold(wr.before,pf,wr.after),re=U.fold(wr.before,pf,wr.after);return hf.relative(Q,re)})(_,T);Wh(y,P)},Zh=y=>{if(y.rangeCount>0){const _=y.getRangeAt(0),T=y.getRangeAt(y.rangeCount-1);return ne.some(Tb(Vt.fromDom(_.startContainer),_.startOffset,Vt.fromDom(T.endContainer),T.endOffset))}return ne.none()},la=y=>{if(y.anchorNode===null||y.focusNode===null)return Zh(y);{const _=Vt.fromDom(y.anchorNode),T=Vt.fromDom(y.focusNode);return((P,V,U,Q)=>{const re=((De,He,Ee,Ie)=>{const Pe=hu(De).dom.createRange();return Pe.setStart(De.dom,He),Pe.setEnd(Ee.dom,Ie),Pe})(P,V,U,Q),be=Or(P,U)&&V===Q;return re.collapsed&&!be})(_,y.anchorOffset,T,y.focusOffset)?ne.some(Tb(_,y.anchorOffset,T,y.focusOffset)):Zh(y)}},dx=(y,_,T=!0)=>{const P=(T?I1:Ms)(y,_);Zg(y,P)},rC=y=>(_=>bf(_).filter(T=>T.rangeCount>0).bind(la))(y).map(_=>hf.exact(_.start,_.soffset,_.finish,_.foffset)),fx=(y,_,T)=>((P,V,U)=>((Q,re,be)=>Q.caretPositionFromPoint?((De,He,Ee)=>{var Ie;return ne.from((Ie=De.caretPositionFromPoint)===null||Ie===void 0?void 0:Ie.call(De,He,Ee)).bind(Pe=>{if(Pe.offsetNode===null)return ne.none();const Je=De.createRange();return Je.setStart(Pe.offsetNode,Pe.offset),Je.collapse(),ne.some(Je)})})(Q,re,be):Q.caretRangeFromPoint?((De,He,Ee)=>{var Ie;return ne.from((Ie=De.caretRangeFromPoint)===null||Ie===void 0?void 0:Ie.call(De,He,Ee))})(Q,re,be):ne.none())(P.document,V,U).map(Q=>Tb(Vt.fromDom(Q.startContainer),Q.startOffset,Vt.fromDom(Q.endContainer),Q.endOffset)))(y,_,T),mx=y=>({elementFromPoint:(_,T)=>Vt.fromPoint(Vt.fromDom(y.document),_,T),getRect:_=>_.dom.getBoundingClientRect(),getRangedRect:(_,T,P,V)=>{const U=hf.exact(_,T,P,V);return((Q,re)=>(be=>{const De=be.getClientRects(),He=De.length>0?De[0]:be.getBoundingClientRect();return He.width>0||He.height>0?ne.some(He).map(ox):ne.none()})(rx(Q,re)))(y,U)},getSelection:()=>rC(y).map(_=>sx(y,_)),fromSitus:_=>{const T=hf.relative(_.start,_.finish);return sx(y,T)},situsFromPoint:(_,T)=>fx(y,_,T).map(P=>il(P.start,P.soffset,P.finish,P.foffset)),clearSelection:()=>{(_=>{bf(_).each(T=>T.removeAllRanges())})(y)},collapseSelection:(_=!1)=>{rC(y).each(T=>T.fold(P=>P.collapse(_),(P,V)=>{const U=_?P:V;ux(y,U,U)},(P,V,U,Q)=>{const re=_?P:U,be=_?V:Q;U1(y,re,be,re,be)}))},setSelection:_=>{U1(y,_.start,_.soffset,_.finish,_.foffset)},setRelativeSelection:(_,T)=>{ux(y,_,T)},selectNode:_=>{dx(y,_,!1)},selectContents:_=>{dx(y,_)},getInnerHeight:()=>y.innerHeight,getScrollY:()=>(_=>{const T=_!==void 0?_.dom:document,P=T.body.scrollLeft||T.documentElement.scrollLeft,V=T.body.scrollTop||T.documentElement.scrollTop;return Fi(P,V)})(Vt.fromDom(y.document)).top,scrollBy:(_,T)=>{((P,V,U)=>{const Q=(U!==void 0?U.dom:document).defaultView;Q&&Q.scrollBy(P,V)})(_,T,Vt.fromDom(y.document))}}),vf=(y,_)=>({rows:y,cols:_}),W1=y=>Ye(y,Cn).exists(Xn),$b=(y,_)=>W1(y)||W1(_),gx=y=>y.dom.classList!==void 0,Ak=(y,_)=>((T,P,V)=>{const U=((Q,re)=>{const be=un(Q,re);return be===void 0||be===""?[]:be.split(" ")})(T,P).concat([V]);return fr(T,P,U.join(" ")),!0})(y,"class",_),yf=(y,_)=>{gx(y)?y.dom.classList.add(_):Ak(y,_)},Ub=(y,_)=>gx(y)&&y.dom.classList.contains(_),sC=()=>({tag:"none"}),aC=y=>({tag:"multiple",elements:y}),eu=y=>({tag:"single",element:y}),hx=y=>{const _=Vt.fromDom((re=>{if(R(re.target)){const be=Vt.fromDom(re.target);if(En(be)&&R(be.dom.shadowRoot)&&re.composed&&re.composedPath){const De=re.composedPath();if(De)return xn(De)}}return ne.from(re.target)})(y).getOr(y.target)),T=()=>y.stopPropagation(),P=()=>y.preventDefault(),V=(U=P,Q=T,(...re)=>U(Q.apply(null,re)));var U,Q;return((re,be,De,He,Ee,Ie,Pe)=>({target:re,x:be,y:De,stop:He,prevent:Ee,kill:Ie,raw:Pe}))(_,y.clientX,y.clientY,T,P,V,y)},Z1=(y,_,T,P)=>{y.dom.removeEventListener(_,T,P)},iC=Ae,jg=(y,_,T)=>((P,V,U,Q)=>((re,be,De,He,Ee)=>{const Ie=((Pe,Je)=>tt=>{Pe(tt)&&Je(hx(tt))})(De,He);return re.dom.addEventListener(be,Ie,Ee),{unbind:he(Z1,re,be,Ie,Ee)}})(P,V,U,Q,!1))(y,_,iC,T),jh=hx,Wb=y=>!Ub(Vt.fromDom(y.target),"ephox-snooker-resizer-bar"),lC=(y,_)=>{const T=(V=of.selectedSelector,{get:()=>gc(Vt.fromDom(y.getBody()),V).fold(()=>os(mc(y),Ns(y)).fold(sC,eu),aC)}),P=((U,Q,re)=>{const be=Ie=>{io(Ie,U.selected),io(Ie,U.firstSelected),io(Ie,U.lastSelected)},De=Ie=>{fr(Ie,U.selected,"1")},He=Ie=>{Ee(Ie),re()},Ee=Ie=>{const Pe=yr(Ie,`${U.selectedSelector},${U.firstSelectedSelector},${U.lastSelectedSelector}`);yt(Pe,be)};return{clearBeforeUpdate:Ee,clear:He,selectRange:(Ie,Pe,Je,tt)=>{He(Ie),yt(Pe,De),fr(Je,U.firstSelected,"1"),fr(tt,U.lastSelected,"1"),Q(Pe,Je,tt)},selectedSelector:U.selectedSelector,firstSelectedSelector:U.firstSelectedSelector,lastSelectedSelector:U.lastSelectedSelector}})(of,(U,Q,re)=>{tl(Q).each(be=>{const De=D(U,Pe=>Pe.dom),He=cd(y),Ee=zr($,Vt.fromDom(y.getDoc()),He),Ie=((Pe,Je,tt)=>{const Et=bo(Pe);return fd(Et,Je).map(Ot=>{const kt=us(Et,tt,!1),{rows:Rt}=Fr(kt),Ut=((rt,gn)=>{const Vn=rt.slice(0,gn[gn.length-1].row+1),co=mb(Vn);return bt(co,jn=>{const $n=jn.cells.slice(0,gn[gn.length-1].column+1);return D($n,lo=>lo.element)})})(Rt,Ot),qt=((rt,gn)=>{const Vn=rt.slice(gn[0].row+gn[0].rowspan-1,rt.length),co=mb(Vn);return bt(co,jn=>{const $n=jn.cells.slice(gn[0].column+gn[0].colspan-1,jn.cells.length);return D($n,lo=>lo.element)})})(Rt,Ot);return{upOrLeftCells:Ut,downOrRightCells:qt}})})(be,{selection:hc(y)},Ee).map(Pe=>oi(Pe,Je=>D(Je,tt=>tt.dom))).getOrUndefined();((Pe,Je,tt,Et,Ot)=>{Pe.dispatch("TableSelectionChange",{cells:Je,start:tt,finish:Et,otherCells:Ot})})(y,De,Q.dom,re.dom,Ie)})},()=>(U=>{U.dispatch("TableSelectionClear")})(y));var V;return y.on("init",U=>{const Q=y.getWin(),re=Qo(y),be=Ns(y),De=((tt,Et,Ot,kt)=>{const Rt=((Ut,qt,rt,gn)=>{const Vn=H1(),co=Vn.clear,jn=$n=>{Vn.on(lo=>{gn.clearBeforeUpdate(qt),Fb($n.target,rt).each(Mo=>{qc(lo,Mo,rt).each(Us=>{const ui=Us.boxes.getOr([]);if(ui.length===1){const Da=ui[0],jl=_n(Da)==="false",Om=Lt(so($n.target),Da,Or);jl&&Om&&gn.selectRange(qt,ui,Da,Da)}else ui.length>1&&(gn.selectRange(qt,ui,Us.start,Us.finish),Ut.selectContents(Mo))})})})};return{clearstate:co,mousedown:$n=>{gn.clear(qt),Fb($n.target,rt).filter(V1).each(Vn.set)},mouseover:$n=>{jn($n)},mouseup:$n=>{jn($n),co()}}})(mx(tt),Et,Ot,kt);return{clearstate:Rt.clearstate,mousedown:Rt.mousedown,mouseover:Rt.mouseover,mouseup:Rt.mouseup}})(Q,re,be,P),He=((tt,Et,Ot,kt)=>{const Rt=mx(tt),Ut=()=>(kt.clear(Et),ne.none());return{keydown:(qt,rt,gn,Vn,co,jn)=>{const $n=qt.raw,lo=$n.which,Mo=$n.shiftKey===!0;return ub(Et,kt.selectedSelector).fold(()=>(Wg(lo)&&!Mo&&kt.clearBeforeUpdate(Et),Wg(lo)&&Mo&&!$b(rt,Vn)?ne.none:Ug(lo)&&Mo?he(Dl,Rt,Et,Ot,oC,Vn,rt,kt.selectRange):Hb(lo)&&Mo?he(Dl,Rt,Et,Ot,zb,Vn,rt,kt.selectRange):Ug(lo)?he(yd,Rt,Ot,oC,Vn,rt,km):Hb(lo)?he(yd,Rt,Ot,zb,Vn,rt,Uh):ne.none),ui=>{const Da=jl=>()=>J(jl,di=>((Mu,qh,Cf,Gh,J1)=>qa(Gh,Mu,qh,J1.firstSelectedSelector,J1.lastSelectedSelector).map(_f=>(J1.clearBeforeUpdate(Cf),J1.selectRange(Cf,_f.boxes,_f.start,_f.finish),_f.boxes)))(di.rows,di.cols,Et,ui,kt)).fold(()=>tf(Et,kt.firstSelectedSelector,kt.lastSelectedSelector).map(di=>{const Mu=Ug(lo)||jn.isForward(lo)?wr.after:wr.before;return Rt.setRelativeSelection(wr.on(di.first,0),Mu(di.table)),kt.clear(Et),ds(ne.none(),!0)}),di=>ne.some(ds(ne.none(),!0)));return Wg(lo)&&Mo&&!$b(rt,Vn)?ne.none:Ug(lo)&&Mo?Da([vf(1,0)]):Hb(lo)&&Mo?Da([vf(-1,0)]):jn.isBackward(lo)&&Mo?Da([vf(0,-1),vf(-1,0)]):jn.isForward(lo)&&Mo?Da([vf(0,1),vf(1,0)]):Wg(lo)&&!Mo?Ut:ne.none})()},keyup:(qt,rt,gn,Vn,co)=>ub(Et,kt.selectedSelector).fold(()=>{const jn=qt.raw,$n=jn.which;return jn.shiftKey===!0&&Wg($n)&&$b(rt,Vn)?((lo,Mo,Us,ui,Da,jl,Om)=>Or(Us,Da)&&ui===jl?ne.none():je(Us,"td,th",Mo).bind(di=>je(Da,"td,th",Mo).bind(Mu=>Ob(lo,Mo,di,Mu,Om))))(Et,Ot,rt,gn,Vn,co,kt.selectRange):ne.none()},ne.none)}})(Q,re,be,P),Ee=((tt,Et,Ot,kt)=>{const Rt=mx(tt);return(Ut,qt)=>{kt.clearBeforeUpdate(Et),qc(Ut,qt,Ot).each(rt=>{const gn=rt.boxes.getOr([]);kt.selectRange(Et,gn,rt.start,rt.finish),Rt.selectContents(qt),Rt.collapseSelection()})}})(Q,re,be,P);y.on("TableSelectorChange",tt=>Ee(tt.start,tt.finish));const Ie=(tt,Et)=>{(Ot=>Ot.raw.shiftKey===!0)(tt)&&(Et.kill&&tt.kill(),Et.selection.each(Ot=>{const kt=hf.relative(Ot.start,Ot.finish),Rt=rx(Q,kt);y.selection.setRng(Rt)}))},Pe=tt=>tt.button===0,Je=(()=>{const tt=z1(Vt.fromDom(re)),Et=z1(0);return{touchEnd:Ot=>{const kt=Vt.fromDom(Ot.target);if(Do("td")(kt)||Do("th")(kt)){const Rt=tt.get(),Ut=Et.get();Or(Rt,kt)&&Ot.timeStamp-Ut<300&&(Ot.preventDefault(),Ee(kt,kt))}tt.set(kt),Et.set(Ot.timeStamp)}}})();y.on("dragstart",tt=>{De.clearstate()}),y.on("mousedown",tt=>{Pe(tt)&&Wb(tt)&&De.mousedown(jh(tt))}),y.on("mouseover",tt=>{var Et;(Et=tt).buttons!==void 0&&!(1&Et.buttons)||!Wb(tt)||De.mouseover(jh(tt))}),y.on("mouseup",tt=>{Pe(tt)&&Wb(tt)&&De.mouseup(jh(tt))}),y.on("touchend",Je.touchEnd),y.on("keyup",tt=>{const Et=jh(tt);if(Et.raw.shiftKey&&Wg(Et.raw.which)){const Ot=y.selection.getRng(),kt=Vt.fromDom(Ot.startContainer),Rt=Vt.fromDom(Ot.endContainer);He.keyup(Et,kt,Ot.startOffset,Rt,Ot.endOffset).each(Ut=>{Ie(Et,Ut)})}}),y.on("keydown",tt=>{const Et=jh(tt);_.hide();const Ot=y.selection.getRng(),kt=Vt.fromDom(Ot.startContainer),Rt=Vt.fromDom(Ot.endContainer),Ut=So(mf,gf)(Vt.fromDom(y.selection.getStart()));He.keydown(Et,kt,Ot.startOffset,Rt,Ot.endOffset,Ut).each(qt=>{Ie(Et,qt)}),_.show()}),y.on("NodeChange",()=>{const tt=y.selection,Et=Vt.fromDom(tt.getStart()),Ot=Vt.fromDom(tt.getEnd());ef(tl,[Et,Ot]).fold(()=>P.clear(re),$)})}),y.on("PreInit",()=>{y.serializer.addTempAttr(of.firstSelected),y.serializer.addTempAttr(of.lastSelected)}),{getSelectedCells:()=>((U,Q,re,be)=>{switch(U.tag){case"none":return Q();case"single":return(De=>[De.dom])(U.element);case"multiple":return(De=>D(De,He=>He.dom))(U.elements)}})(T.get(),K([])),clearSelectedCells:U=>P.clear(Vt.fromDom(U))}},tu=y=>{let _=[];return{bind:T=>{if(T===void 0)throw new Error("Event bind error: undefined handler");_.push(T)},unbind:T=>{_=ln(_,P=>P!==T)},trigger:(...T)=>{const P={};yt(y,(V,U)=>{P[V]=T[U]}),yt(_,V=>{V(P)})}}},Em=y=>({registry:oi(y,_=>({bind:_.bind,unbind:_.unbind})),trigger:oi(y,_=>_.trigger)}),Zb=y=>y.slice(0).sort(),jb=(y,_)=>{const T=ln(_,P=>!ot(y,P));T.length>0&&(P=>{throw new Error("Unsupported keys for object: "+Zb(P).join(", "))})(T)},j1=y=>((_,T)=>((P,V,U)=>{if(V.length===0)throw new Error("You must specify at least one required field.");return((Q,re)=>{if(!x(re))throw new Error("The "+Q+" fields must be an array. Was: "+re+".");yt(re,be=>{if(!b(be))throw new Error("The value "+be+" in the "+Q+" fields was not a string.")})})("required",V),(Q=>{const re=Zb(Q);On(re,(be,De)=>De<re.length-1&&be===re[De+1]).each(be=>{throw new Error("The field: "+be+" occurs more than once in the combined fields: ["+re.join(", ")+"].")})})(V),Q=>{const re=ir(Q);Zt(V,De=>ot(re,De))||((De,He)=>{throw new Error("All required keys ("+Zb(De).join(", ")+") were not specified. Specified keys were: "+Zb(He).join(", ")+".")})(V,re),P(V,re);const be=ln(V,De=>!U.validate(Q[De],De));return be.length>0&&((De,He)=>{throw new Error("All values need to be of type: "+He+". Keys ("+Zb(De).join(", ")+") were not.")})(be,U.label),Q}})(_,T,{validate:F,label:"function"}))(jb,y),Kb=j1(["compare","extract","mutate","sink"]),Ja=j1(["element","start","stop","destroy"]),K1=j1(["forceDrop","drop","move","delayDrop"]),Am=()=>{const y=(()=>{const P=Em({move:tu(["info"])});return{onEvent:$,reset:$,events:P.registry}})(),_=(()=>{let P=ne.none();const V=Em({move:tu(["info"])});return{onEvent:(U,Q)=>{Q.extract(U).each(re=>{((De,He)=>{const Ee=P.map(Ie=>De.compare(Ie,He));return P=ne.some(He),Ee})(Q,re).each(De=>{V.trigger.move(De)})})},reset:()=>{P=ne.none()},events:V.registry}})();let T=y;return{on:()=>{T.reset(),T=_},off:()=>{T.reset(),T=y},isOn:()=>T===_,onEvent:(P,V)=>{T.onEvent(P,V)},events:_.events}},Tm=y=>{const _=y.replace(/\./g,"-");return{resolve:T=>_+"-"+T}},qb=Tm("ephox-dragster").resolve;var q1=Kb({compare:(y,_)=>Fi(_.left-y.left,_.top-y.top),extract:y=>ne.some(Fi(y.x,y.y)),sink:(y,_)=>{const T=(re=>{const be={layerClass:qb("blocker"),...re},De=Vt.fromTag("div");return fr(De,"role","presentation"),bl(De,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),yf(De,qb("blocker")),yf(De,be.layerClass),{element:K(De),destroy:()=>{qr(De)}}})(_),P=jg(T.element(),"mousedown",y.forceDrop),V=jg(T.element(),"mouseup",y.drop),U=jg(T.element(),"mousemove",y.move),Q=jg(T.element(),"mouseout",y.delayDrop);return Ja({element:T.element,start:re=>{ns(re,T.element())},stop:()=>{qr(T.element())},destroy:()=>{T.destroy(),V.unbind(),U.unbind(),Q.unbind(),P.unbind()}})},mutate:(y,_)=>{y.mutate(_.left,_.top)}});const Kg=Tm("ephox-snooker").resolve,xf=Kg("resizer-bar"),px=Kg("resizer-rows"),G1=Kg("resizer-cols"),Wi=y=>{const _=yr(y.parent(),"."+xf);yt(_,qr)},wf=(y,_,T)=>{const P=y.origin();yt(_,V=>{V.each(U=>{const Q=T(P,U);yf(Q,xf),ns(y.parent(),Q)})})},bx=(y,_,T,P,V)=>{const U=Gd(T),Q=_.isResizable,re=P.length>0?_u.positions(P,T):[],be=re.length>0?((Ee,Ie)=>bt(Ee.all,(Pe,Je)=>Ie(Pe.element)?[Je]:[]))(y,Q):[];((Ee,Ie,Pe,Je)=>{wf(Ee,Ie,(tt,Et)=>{const Ot=((kt,Rt,Ut,qt,rt)=>{const gn=Vt.fromTag("div");return bl(gn,{position:"absolute",left:Rt+"px",top:Ut-3.5+"px",height:"7px",width:qt+"px"}),vi(gn,{"data-row":kt,role:"presentation"}),gn})(Et.row,Pe.left-tt.left,Et.y-tt.top,Je);return yf(Ot,px),Ot})})(_,ln(re,(Ee,Ie)=>Ce(be,Pe=>Ie===Pe)),U,vg(T));const De=V.length>0?Yd.positions(V,T):[],He=De.length>0?((Ee,Ie)=>{const Pe=[];return Ne(Ee.grid.columns,Je=>{cr(Ee,Je).map(tt=>tt.element).forall(Ie)&&Pe.push(Je)}),ln(Pe,Je=>{const tt=ka(Ee,Et=>Et.column===Je);return Zt(tt,Et=>Ie(Et.element))})})(y,Q):[];((Ee,Ie,Pe,Je)=>{wf(Ee,Ie,(tt,Et)=>{const Ot=((kt,Rt,Ut,qt,rt)=>{const gn=Vt.fromTag("div");return bl(gn,{position:"absolute",left:Rt-3.5+"px",top:Ut+"px",height:rt+"px",width:"7px"}),vi(gn,{"data-column":kt,role:"presentation"}),gn})(Et.col,Et.x-tt.left,Pe.top-tt.top,0,Je);return yf(Ot,G1),Ot})})(_,ln(De,(Ee,Ie)=>Ce(He,Pe=>Ie===Pe)),U,tb(T))},mt=(y,_)=>{if(Wi(y),y.isResizable(_)){const T=bo(_),P=ad(T),V=kh(T);bx(T,y,_,P,V)}},Kh=(y,_)=>{const T=yr(y.parent(),"."+xf);yt(T,_)},Tk=y=>{Kh(y,_=>{fo(_,"display","none")})},cC=y=>{Kh(y,_=>{fo(_,"display","block")})},Y1=Kg("resizer-bar-dragging"),nu=y=>{const _=(()=>{const Ee=Em({drag:tu(["xDelta","yDelta","target"])});let Ie=ne.none();const Pe=(()=>{const Je=Em({drag:tu(["xDelta","yDelta"])});return{mutate:(tt,Et)=>{Je.trigger.drag(tt,Et)},events:Je.registry}})();return Pe.events.drag.bind(Je=>{Ie.each(tt=>{Ee.trigger.drag(Je.xDelta,Je.yDelta,tt)})}),{assign:Je=>{Ie=ne.some(Je)},get:()=>Ie,mutate:Pe.mutate,events:Ee.registry}})(),T=((Ee,Ie={})=>{var Pe;return((Je,tt,Et)=>{let Ot=!1;const kt=Em({start:tu([]),stop:tu([])}),Rt=Am(),Ut=()=>{gn.stop(),Rt.isOn()&&(Rt.off(),kt.trigger.stop())},qt=((Vn,co)=>{let jn=null;const $n=()=>{S(jn)||(clearTimeout(jn),jn=null)};return{cancel:$n,throttle:(...lo)=>{$n(),jn=setTimeout(()=>{jn=null,Vn.apply(null,lo)},200)}}})(Ut);Rt.events.move.bind(Vn=>{tt.mutate(Je,Vn.info)});const rt=Vn=>(...co)=>{Ot&&Vn.apply(null,co)},gn=tt.sink(K1({forceDrop:Ut,drop:rt(Ut),move:rt(Vn=>{qt.cancel(),Rt.onEvent(Vn,tt)}),delayDrop:rt(qt.throttle)}),Et);return{element:gn.element,go:Vn=>{gn.start(Vn),Rt.on(),kt.trigger.start()},on:()=>{Ot=!0},off:()=>{Ot=!1},isActive:()=>Ot,destroy:()=>{gn.destroy()},events:kt.registry}})(Ee,(Pe=Ie.mode)!==null&&Pe!==void 0?Pe:q1,Ie)})(_,{});let P=ne.none();const V=(Ee,Ie)=>ne.from(un(Ee,Ie));_.events.drag.bind(Ee=>{V(Ee.target,"data-row").each(Ie=>{const Pe=$d(Ee.target,"top");fo(Ee.target,"top",Pe+Ee.yDelta+"px")}),V(Ee.target,"data-column").each(Ie=>{const Pe=$d(Ee.target,"left");fo(Ee.target,"left",Pe+Ee.xDelta+"px")})});const U=(Ee,Ie)=>$d(Ee,Ie)-as(Ee,"data-initial-"+Ie,0);T.events.stop.bind(()=>{_.get().each(Ee=>{P.each(Ie=>{V(Ee,"data-row").each(Pe=>{const Je=U(Ee,"top");io(Ee,"data-initial-top"),He.trigger.adjustHeight(Ie,Je,parseInt(Pe,10))}),V(Ee,"data-column").each(Pe=>{const Je=U(Ee,"left");io(Ee,"data-initial-left"),He.trigger.adjustWidth(Ie,Je,parseInt(Pe,10))}),mt(y,Ie)})})});const Q=(Ee,Ie)=>{He.trigger.startAdjust(),_.assign(Ee),fr(Ee,"data-initial-"+Ie,$d(Ee,Ie)),yf(Ee,Y1),fo(Ee,"opacity","0.2"),T.go(y.parent())},re=jg(y.parent(),"mousedown",Ee=>{var Ie;Ie=Ee.target,Ub(Ie,px)&&Q(Ee.target,"top"),(Pe=>Ub(Pe,G1))(Ee.target)&&Q(Ee.target,"left")}),be=Ee=>Or(Ee,y.view()),De=jg(y.view(),"mouseover",Ee=>{var Ie;(Ie=Ee.target,je(Ie,"table",be).filter(Xn)).fold(()=>{Mi(Ee.target)&&Wi(y)},Pe=>{T.isActive()&&(P=ne.some(Pe),mt(y,Pe))})}),He=Em({adjustHeight:tu(["table","delta","row"]),adjustWidth:tu(["table","delta","column"]),startAdjust:tu([])});return{destroy:()=>{re.unbind(),De.unbind(),T.destroy(),Wi(y)},refresh:Ee=>{mt(y,Ee)},on:T.on,off:T.off,hideBars:he(Tk,y),showBars:he(cC,y),events:He.registry}},X1=y=>R(y)&&y.nodeName==="TABLE",Gb="bar-",vx=y=>un(y,"data-mce-resize")!=="false",yx=y=>{const _=H1(),T=H1(),P=H1();let V,U,Q,re;const be=Ee=>uf(y,Ee),De=()=>Sg(y)?g1():Ru(),He=(Ee,Ie,Pe,Je)=>{const tt=(kt=>{return ro(Rt=kt,"corner-")?((Ut,qt)=>Ut.substring(7))(Rt):Rt;var Rt})(Ie),Et=Jt(tt,"e"),Ot=ro(tt,"n");if(U===""&&Pg(Ee),re===""&&(kt=>{const Rt=(Ut=>id(Ut)+"px")(kt);Br(kt,ne.none(),ne.some(Rt)),Jc(kt)})(Ee),Pe!==V&&U!==""){fo(Ee,"width",U);const kt=De(),Rt=be(Ee),Ut=Sg(y)||Et?(qt=>Yc(qt).columns)(Ee)-1:0;md(Ee,Pe-V,Ut,kt,Rt)}else if((kt=>/^(\d+(\.\d+)?)%$/.test(kt))(U)){const kt=parseFloat(U.replace("%",""));fo(Ee,"width",Pe*kt/V+"%")}if((kt=>/^(\d+(\.\d+)?)px$/.test(kt))(U)&&(kt=>{const Rt=bo(kt);uc(Rt)||yt(ms(kt),Ut=>{const qt=za(Ut,"width");fo(Ut,"width",qt),io(Ut,"width")})})(Ee),Je!==Q&&re!==""){fo(Ee,"height",re);const kt=Ot?0:(Rt=>Yc(Rt).rows)(Ee)-1;Tg(Ee,Je-Q,kt)}};return y.on("init",()=>{const Ee=((Ie,Pe)=>Ie.inline?((Je,tt,Et)=>({parent:K(tt),view:K(Je),origin:K(Fi(0,0)),isResizable:Et}))(Vt.fromDom(Ie.getBody()),(()=>{const Je=Vt.fromTag("div");return bl(Je,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),ns(Lc(Vt.fromDom(document)),Je),Je})(),Pe):((Je,tt)=>{const Et=vo(Je)?(Ot=>Vt.fromDom(ic(Ot).dom.documentElement))(Je):Je;return{parent:K(Et),view:K(Je),origin:K(Fi(0,0)),isResizable:tt}})(Vt.fromDom(Ie.getDoc()),Pe))(y,vx);if(P.set(Ee),(Ie=>{const Pe=Ie.options.get("object_resizing");return ot(Pe.split(","),"table")})(y)&&oe(y)){const Ie=((Pe,Je,tt)=>{const Et=_u,Ot=Yd,kt=nu(Pe),Rt=Em({beforeResize:tu(["table","type"]),afterResize:tu(["table","type"]),startDrag:tu([])});return kt.events.adjustHeight.bind(Ut=>{const qt=Ut.table;Rt.trigger.beforeResize(qt,"row");const rt=Et.delta(Ut.delta,qt);Tg(qt,rt,Ut.row),Rt.trigger.afterResize(qt,"row")}),kt.events.startAdjust.bind(Ut=>{Rt.trigger.startDrag()}),kt.events.adjustWidth.bind(Ut=>{const qt=Ut.table;Rt.trigger.beforeResize(qt,"col");const rt=Ot.delta(Ut.delta,qt),gn=tt(qt);md(qt,rt,Ut.column,Je,gn),Rt.trigger.afterResize(qt,"col")}),{on:kt.on,off:kt.off,refreshBars:kt.refresh,hideBars:kt.hideBars,showBars:kt.showBars,destroy:kt.destroy,events:Rt.registry}})(Ee,De(),be);Ie.on(),Ie.events.startDrag.bind(Pe=>{_.set(y.selection.getRng())}),Ie.events.beforeResize.bind(Pe=>{const Je=Pe.table.dom;((tt,Et,Ot,kt,Rt)=>{tt.dispatch("ObjectResizeStart",{target:Et,width:Ot,height:kt,origin:Rt})})(y,Je,cm(Je),um(Je),Gb+Pe.type)}),Ie.events.afterResize.bind(Pe=>{const Je=Pe.table,tt=Je.dom;cs(Je),_.on(Et=>{y.selection.setRng(Et),y.focus()}),((Et,Ot,kt,Rt,Ut)=>{Et.dispatch("ObjectResized",{target:Ot,width:kt,height:Rt,origin:Ut})})(y,tt,cm(tt),um(tt),Gb+Pe.type),y.undoManager.add()}),T.set(Ie)}}),y.on("ObjectResizeStart",Ee=>{const Ie=Ee.target;if(X1(Ie)){const Pe=Vt.fromDom(Ie);yt(y.dom.select(".mce-clonedresizable"),Je=>{y.dom.addClass(Je,"mce-"+_g(y)+"-columns")}),!Jr(Pe)&&I(y)?al(Pe):!N1(Pe)&&Ou(y)&&Pg(Pe),Iu(Pe)&&ro(Ee.origin,Gb)&&Pg(Pe),V=Ee.width,U=Z(y)?"":Vw(y,Ie).getOr(""),Q=Ee.height,re=ib(y,Ie).getOr("")}}),y.on("ObjectResized",Ee=>{const Ie=Ee.target;if(X1(Ie)){const Pe=Vt.fromDom(Ie),Je=Ee.origin;(tt=>ro(tt,"corner-"))(Je)&&He(Pe,Je,Ee.width,Ee.height),cs(Pe),hd(y,Pe.dom,O1)}}),y.on("SwitchMode",()=>{T.on(Ee=>{y.mode.isReadOnly()?Ee.hideBars():Ee.showBars()})}),y.on("dragstart dragend",Ee=>{T.on(Ie=>{Ee.type==="dragstart"?(Ie.hideBars(),Ie.off()):(Ie.on(),Ie.showBars())})}),y.on("remove",()=>{T.on(Ee=>{Ee.destroy()}),P.on(Ee=>{((Ie,Pe)=>{Ie.inline&&qr(Pe.parent())})(y,Ee)})}),{refresh:Ee=>{T.on(Ie=>Ie.refreshBars(Vt.fromDom(Ee)))},hide:()=>{T.on(Ee=>Ee.hideBars())},show:()=>{T.on(Ee=>Ee.showBars())}}},Ok=y=>{(V=>{const U=V.options.register;U("table_clone_elements",{processor:"string[]"}),U("table_use_colgroups",{processor:"boolean",default:!0}),U("table_header_type",{processor:Q=>{const re=ot(["section","cells","sectionCells","auto"],Q);return re?{value:Q,valid:re}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),U("table_sizing_mode",{processor:"string",default:"auto"}),U("table_default_attributes",{processor:"object",default:{border:"1"}}),U("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),U("table_column_resizing",{processor:Q=>{const re=ot(["preservetable","resizetable"],Q);return re?{value:Q,valid:re}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),U("table_resize_bars",{processor:"boolean",default:!0}),U("table_style_by_css",{processor:"boolean",default:!0}),U("table_merge_content_on_paste",{processor:"boolean",default:!0})})(y);const _=yx(y),T=lC(y,_),P=Jy(y,_,T);return vs(y,P),((V,U)=>{const Q=Ns(V),re=be=>os(mc(V)).bind(De=>tl(De,Q).map(He=>{const Ee=go(hc(V),He,De);return be(He,Ee)})).getOr("");Ko({mceTableRowType:()=>re(U.getTableRowType),mceTableCellType:()=>re(U.getTableCellType),mceTableColType:()=>re(U.getTableColType)},(be,De)=>V.addQueryValueHandler(De,be))})(y,P),pc(y,P),{getSelectedCells:T.getSelectedCells,clearSelectedCells:T.clearSelectedCells}};r.add("dom",y=>({table:Ok(y)}))})();tinymce.Resource.add("ui/default/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(0,101,216,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255,165,0,.08);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204,0,0,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{font-size:14px;margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active{background-color:#006ce7}.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border:2px solid highlight}}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#fff;position:relative}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment{background:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 8px 16px 8px;position:relative}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #006ce7;color:#006ce7}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#006ce7;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#003c81;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #006ce7;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#00244e;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#fff;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between;overflow:hidden}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:first-child{border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-text-color__color{opacity:.6}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);tinymce.addI18n("de",{"#":"#",Accessibility:"Barrierefreiheit",Accordion:"","Accordion body...":"","Accordion summary...":"",Action:"Aktion",Activity:"Aktivitt",Address:"Adresse",Advanced:"Erweitert",Align:"Ausrichtung","Align center":"Zentrieren","Align left":"Linksbndig ausrichten","Align right":"Rechtsbndig ausrichten",Alignment:"Ausrichtung","Alignment {0}":"",All:"Alle","Alternative description":"Alternative Beschreibung","Alternative source":"Alternative Quelle","Alternative source URL":"URL der alternativen Quelle",Anchor:"Anker","Anchor...":"Textmarke",Anchors:"Anker","Animals and Nature":"Tiere und Natur",Arrows:"Pfeile",B:"B","Background color":"Hintergrundfarbe","Background color {0}":"",Black:"Schwarz",Block:"Blocksatz","Block {0}":"",Blockquote:"Blockzitat",Blocks:"Blcke",Blue:"Blau","Blue component":"Blauanteil",Body:"Inhalt",Bold:"Fett",Border:"Rahmen","Border color":"Rahmenfarbe","Border style":"Rahmenstil","Border width":"Rahmenbreite",Bottom:"Unten","Browse files":"","Browse for an image":"Bild...","Browse links":"","Bullet list":"Aufzhlung",Cancel:"Abbrechen",Caption:"Beschriftung",Cell:"Zelle","Cell padding":"Zelleninnenabstand","Cell properties":"Zelleigenschaften","Cell spacing":"Zellenabstand","Cell styles":"Zellstil","Cell type":"Zelltyp",Center:"Zentriert",Characters:"Zeichen","Characters (no spaces)":"Zeichen (ohne Leerzeichen)",Circle:"Kreis",Class:"Klasse","Clear formatting":"Formatierung entfernen",Close:"Schlieen",Code:"Code","Code sample...":"Codebeispiel...","Code view":"Code Ansicht","Color Picker":"Farbwahl","Color swatch":"Farbpalette",Cols:"Spalten",Column:"Spalte","Column clipboard actions":"Spalten-Zwischenablage-Aktionen","Column group":"Spaltengruppe","Column header":"Spaltenkopf","Constrain proportions":"Seitenverhltnis beibehalten",Copy:"Kopieren","Copy column":"Spalte kopieren","Copy row":"Zeile kopieren","Could not find the specified string.":"Die angegebene Zeichenfolge wurde nicht gefunden.","Could not load emojis":"Emojis konnten nicht geladen werden",Count:"Anzahl",Currency:"Whrung","Current window":"Aktuelles Fenster","Custom color":"Benutzerdefinierte Farbe","Custom...":"Benutzerdefiniert...",Cut:"Ausschneiden","Cut column":"Spalte ausschneiden","Cut row":"Zeile ausschneiden","Dark Blue":"Dunkelblau","Dark Gray":"Dunkelgrau","Dark Green":"Dunkelgrn","Dark Orange":"Dunkelorange","Dark Purple":"Dunkellila","Dark Red":"Dunkelrot","Dark Turquoise":"Dunkeltrkis","Dark Yellow":"Dunkelgelb",Dashed:"Gestrichelt","Date/time":"Datum/Uhrzeit","Decrease indent":"Einzug verkleinern",Default:"Standard","Delete accordion":"","Delete column":"Spalte lschen","Delete row":"Zeile lschen","Delete table":"Tabelle lschen",Dimensions:"Abmessungen",Disc:"Scheibe",Div:"Div",Document:"Dokument",Dotted:"Gepunktet",Double:"Doppelt","Drop an image here":"Bild hier ablegen","Dropped file type is not supported":"Hereingezogener Dateityp wird nicht untersttzt",Edit:"Bearbeiten",Embed:"Einbettung",Emojis:"Emojis","Emojis...":"Emojis...",Error:"Fehler","Error: Form submit field collision.":"Fehler: Kollision der Formularbesttigungsfelder.","Error: No form element found.":"Fehler: Kein Formularelement gefunden.","Extended Latin":"Erweitertes Latein","Failed to initialize plugin: {0}":"Plugin konnte nicht initialisiert werden: {0}","Failed to load plugin url: {0}":"Plugin-URL konnte nicht geladen werden: {0}","Failed to load plugin: {0} from url {1}":"Plugin konnte nicht geladen werden: {0} von URL {1}","Failed to upload image: {0}":"Bild konnte nicht hochgeladen werden: {0}",File:"Datei",Find:"Suchen","Find (if searchreplace plugin activated)":"Suchen (wenn Suchen/Ersetzen-Plugin aktiviert ist)","Find and Replace":"Suchen und Ersetzen","Find and replace...":"Suchen und ersetzen...","Find in selection":"In Auswahl suchen","Find whole words only":"Nur ganze Wrter suchen",Flags:"Flaggen","Focus to contextual toolbar":"Fokus auf kontextbezogene Symbolleiste","Focus to element path":"Fokus auf Elementpfad","Focus to menubar":"Fokus auf Menleiste","Focus to toolbar":"Fokus auf Symbolleiste",Font:"Schriftart","Font size {0}":"","Font sizes":"Schriftgren","Font {0}":"",Fonts:"Schriftarten","Food and Drink":"Essen und Trinken",Footer:"Fuzeile",Format:"Format","Format {0}":"",Formats:"Formate",Fullscreen:"Vollbild",G:"G",General:"Allgemein",Gray:"Grau",Green:"Grn","Green component":"Grnanteil",Groove:"Gekantet","Handy Shortcuts":"Praktische Tastenkombinationen",Header:"Kopfzeile","Header cell":"Kopfzelle","Heading 1":"berschrift 1","Heading 2":"berschrift 2","Heading 3":"berschrift 3","Heading 4":"berschrift 4","Heading 5":"berschrift 5","Heading 6":"berschrift 6",Headings:"berschriften",Height:"Hhe",Help:"Hilfe","Hex color code":"Hexadezimal-Farbwert",Hidden:"Unsichtbar","Horizontal align":"Horizontal ausrichten","Horizontal line":"Horizontale Linie","Horizontal space":"Horizontaler Raum",ID:"ID","ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"Die ID muss mit einem Buchstaben beginnen gefolgt von Buchstaben, Zahlen, Bindestrichen, Punkten, Doppelpunkten oder Unterstrichen.","Image is decorative":"Bild ist dekorativ","Image list":"Bildliste","Image title":"Bildtitel","Image...":"Bild...","ImageProxy HTTP error: Could not find Image Proxy":"Image Proxy HTTP Fehler: Kann Image Proxy nicht finden","ImageProxy HTTP error: Incorrect Image Proxy URL":"Image Proxy HTTP Fehler: Falsche Image Proxy URL","ImageProxy HTTP error: Rejected request":"Image Proxy HTTP Fehler: Abgewiesene Anfrage","ImageProxy HTTP error: Unknown ImageProxy error":"Image Proxy HTTP Fehler: Unbekannter Image Proxy Fehler","Increase indent":"Einzug vergrern",Inline:"Zeichenformate",Insert:"Einfgen","Insert Template":"Vorlage einfgen","Insert accordion":"","Insert column after":"Neue Spalte danach einfgen","Insert column before":"Neue Spalte davor einfgen","Insert date/time":"Datum/Uhrzeit einfgen","Insert image":"Bild einfgen","Insert link (if link plugin activated)":"Link einfgen (wenn Link-Plugin aktiviert ist)","Insert row after":"Neue Zeile danach einfgen","Insert row before":"Neue Zeile davor einfgen","Insert table":"Tabelle einfgen","Insert template...":"Vorlage einfgen...","Insert video":"Video einfgen","Insert/Edit code sample":"Codebeispiel einfgen/bearbeiten","Insert/edit image":"Bild einfgen/bearbeiten","Insert/edit link":"Link einfgen/bearbeiten","Insert/edit media":"Medien einfgen/bearbeiten","Insert/edit video":"Video einfgen/bearbeiten",Inset:"Eingelassen","Invalid hex color code: {0}":"Ungltiger Hexadezimal-Farbwert: {0}","Invalid input":"Ungltige Eingabe",Italic:"Kursiv",Justify:"Blocksatz","Keyboard Navigation":"Tastaturnavigation",Language:"Sprache","Learn more...":"Erfahren Sie mehr dazu...",Left:"Links","Left to right":"Von links nach rechts","Light Blue":"Hellblau","Light Gray":"Hellgrau","Light Green":"Hellgrn","Light Purple":"Helllila","Light Red":"Hellrot","Light Yellow":"Hellgelb","Line height":"Liniendicke","Link list":"Linkliste","Link...":"Link...","List Properties":"Liste Eigenschaften","List properties...":"Liste Eigenschaften","Loading emojis...":"Lade Emojis...","Loading...":"Wird geladen...","Lower Alpha":"Lateinisches Alphabet in Kleinbuchstaben","Lower Greek":"Griechische Kleinbuchstaben","Lower Roman":"Kleiner rmischer Buchstabe","Match case":"Gro-/Kleinschreibung beachten",Mathematical:"Mathematisch","Media poster (Image URL)":"Medienposter (Bild-URL)","Media...":"Medien...","Medium Blue":"Mittleres Blau","Medium Gray":"Mittelgrau","Medium Purple":"Mittelviolett","Merge cells":"Zellen verbinden",Middle:"Mitte","Midnight Blue":"Mitternachtsblau","More...":"Mehr...",Name:"Name","Navy Blue":"Marineblau","New document":"Neues Dokument","New window":"Neues Fenster",Next:"Nchste",No:"Nein","No alignment":"Keine Ausrichtung","No color":"Keine Farbe","Nonbreaking space":"Geschtztes Leerzeichen",None:"Keine","Numbered list":"Nummerierte Liste",OR:"ODER",Objects:"Objekte",Ok:"Ok","Open help dialog":"Hilfe-Dialog ffnen","Open link":"Link ffnen","Open link in...":"Link ffnen in...","Open popup menu for split buttons":"ffne Popup Menge um Buttons zu trennen",Orange:"Orange",Outset:"Hervorstehend","Page break":"Seitenumbruch",Paragraph:"Absatz",Paste:"Einfgen","Paste as text":"Als Text einfgen","Paste column after":"Spalte danach einfgen","Paste column before":"Spalte davor einfgen","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"Einfgen ist nun im unformatierten Textmodus. Inhalte werden ab jetzt als unformatierter Text eingefgt, bis Sie diese Einstellung wieder deaktivieren.","Paste or type a link":"Link einfgen oder eingeben","Paste row after":"Zeile danach einfgen","Paste row before":"Zeile davor einfgen","Paste your embed code below:":"Fgen Sie Ihren Einbettungscode unten ein:",People:"Menschen",Plugins:"Plugins","Plugins installed ({0}):":"Installierte Plugins ({0}):","Powered by {0}":"Betrieben von {0}",Pre:"Pre",Preferences:"Einstellungen",Preformatted:"Vorformatiert","Premium plugins:":"Premium-Plugins:","Press the Up and Down arrow keys to resize the editor.":"","Press the arrow keys to resize the editor.":"","Press {0} for help":"",Preview:"Vorschau",Previous:"Vorherige",Print:"Drucken","Print...":"Drucken...",Purple:"Violett",Quotations:"Anfhrungszeichen",R:"R","Range 0 to 255":"Spanne 0 bis 255",Red:"Rot","Red component":"Rotanteil",Redo:"Wiederholen",Remove:"Entfernen","Remove color":"Farbauswahl aufheben","Remove link":"Link entfernen",Replace:"Ersetzen","Replace all":"Alle ersetzen","Replace with":"Ersetzen durch",Resize:"Skalieren","Restore last draft":"Letzten Entwurf wiederherstellen","Reveal or hide additional toolbar items":"","Rich Text Area":"Rich-Text-Area","Rich Text Area. Press ALT-0 for help.":"Rich-Text-Bereich. Drcken Sie Alt+0 fr Hilfe.","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"Rich-Text-Bereich. Drcken Sie Alt+F9 fr das Men. Drcken Sie Alt+F10 fr die Symbolleiste. Drcken Sie Alt+0 fr Hilfe.",Ridge:"Eingeritzt",Right:"Rechts","Right to left":"Von rechts nach links",Row:"Zeile","Row clipboard actions":"Zeilen-Zwischenablage-Aktionen","Row group":"Zeilengruppe","Row header":"Zeilenkopf","Row properties":"Zeileneigenschaften","Row type":"Zeilentyp",Rows:"Zeilen",Save:"Speichern","Save (if save plugin activated)":"Speichern (wenn Save-Plugin aktiviert ist)",Scope:"Bereich",Search:"Suchen","Select all":"Alles auswhlen","Select...":"Auswahl...",Selection:"Auswahl",Shortcut:"Tastenkombination","Show blocks":"Blcke anzeigen","Show caption":"Beschriftung anzeigen","Show invisible characters":"Unsichtbare Zeichen anzeigen",Size:"Schriftgre",Solid:"Durchgezogen",Source:"Quelle","Source code":"Quellcode","Special Character":"Sonderzeichen","Special character...":"Sonderzeichen...","Split cell":"Zelle aufteilen",Square:"Rechteck","Start list at number":"Beginne Liste mit Nummer",Strikethrough:"Durchgestrichen",Style:"Formatvorlage",Subscript:"Tiefgestellt",Superscript:"Hochgestellt","Switch to or from fullscreen mode":"Vollbildmodus umschalten",Symbols:"Symbole","System Font":"Betriebssystemschriftart",Table:"Tabelle","Table caption":"Tabellenbeschriftung","Table properties":"Tabelleneigenschaften","Table styles":"Tabellenstil",Template:"Vorlage",Templates:"Vorlagen",Text:"Text","Text color":"Textfarbe","Text color {0}":"","Text to display":"Anzuzeigender Text","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"Diese URL scheint eine E-Mail-Adresse zu sein. Mchten Sie das dazu bentigte mailto: voranstellen?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"Diese URL scheint ein externer Link zu sein. Mchten Sie das dazu bentigte http:// voranstellen?","The URL you entered seems to be an external link. Do you want to add the required https:// prefix?":"Die eingegebene URL scheint ein externer Link zu sein. Soll das fehlende https:// davor ergnzt werden?",Title:"Titel","To open the popup, press Shift+Enter":"Drcken Sie Umschalt+Eingabe, um das Popup-Fenster zu ffnen.","Toggle accordion":"",Tools:"Werkzeuge",Top:"Oben","Travel and Places":"Reisen und Orte",Turquoise:"Trkis",Underline:"Unterstrichen",Undo:"Rckgngig machen",Upload:"Hochladen","Uploading image":"Bild wird hochgeladen","Upper Alpha":"Lateinisches Alphabet in Grobuchstaben","Upper Roman":"Groer rmischer Buchstabe",Url:"URL","User Defined":"Benutzerdefiniert",Valid:"Gltig",Version:"Version","Vertical align":"Vertikal ausrichten","Vertical space":"Vertikaler Raum",View:"Ansicht","Visual aids":"Visuelle Hilfen",Warn:"Warnung",White:"Wei",Width:"Breite","Word count":"Anzahl der Wrter",Words:"Wrter","Words: {0}":"Wortzahl: {0}",Yellow:"Gelb",Yes:"Ja","You are using {0}":"Sie verwenden {0}","You have unsaved changes are you sure you want to navigate away?":"Die nderungen wurden noch nicht gespeichert. Sind Sie sicher, dass Sie diese Seite verlassen wollen?","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"Ihr Browser untersttzt leider keinen direkten Zugriff auf die Zwischenablage. Bitte benutzen Sie die Tastenkombinationen Strg+X/C/V.",alignment:"Ausrichtung","austral sign":"Australzeichen","cedi sign":"Cedizeichen","colon sign":"Doppelpunkt","cruzeiro sign":"Cruzeirozeichen","currency sign":"Whrungssymbol","dollar sign":"Dollarzeichen","dong sign":"Dongzeichen","drachma sign":"Drachmezeichen","euro-currency sign":"Eurozeichen",example:"Beispiel",formatting:"Formatierung","french franc sign":"Franczeichen","german penny symbol":"Pfennigzeichen","guarani sign":"Guaranizeichen",history:"Historie","hryvnia sign":"Hrywnjazeichen",indentation:"Einrckungen","indian rupee sign":"Indisches Rupiezeichen","kip sign":"Kipzeichen","lira sign":"Lirezeichen","livre tournois sign":"Livrezeichen","manat sign":"Manatzeichen","mill sign":"Millzeichen","naira sign":"Nairazeichen","new sheqel sign":"Schekelzeichen","nordic mark sign":"Zeichen nordische Mark","peseta sign":"Pesetazeichen","peso sign":"Pesozeichen","ruble sign":"Rubelzeichen","rupee sign":"Rupiezeichen","spesmilo sign":"Spesmilozeichen",styles:"Stile","tenge sign":"Tengezeichen","tugrik sign":"Tugrikzeichen","turkish lira sign":"Trkisches Lirazeichen","won sign":"Wonzeichen","yen character":"Yenzeichen","yen/yuan character variant one":"Yen-/Yuanzeichen Variante 1","yuan character":"Yuanzeichen","yuan character, in hong kong and taiwan":"Yuanzeichen in Hongkong und Taiwan","{0} characters":"{0}Zeichen","{0} columns, {1} rows":"","{0} words":"{0} Wrter"});(function(){var r=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(I,Z,oe)=>{var Oe;return oe(I,Z.prototype)?!0:((Oe=I.constructor)===null||Oe===void 0?void 0:Oe.name)===Z.name},u=I=>{const Z=typeof I;return I===null?"null":Z==="object"&&Array.isArray(I)?"array":Z==="object"&&i(I,String,(oe,Oe)=>Oe.isPrototypeOf(oe))?"string":Z},m=I=>Z=>u(Z)===I,b=I=>Z=>typeof Z===I,h=m("string"),x=m("object"),S=m("array"),B=b("boolean"),N=I=>I==null,R=I=>!N(I),F=b("function"),W=b("number"),$=()=>{},K=(I,Z)=>oe=>I(Z(oe)),ee=I=>()=>I,ge=(I,Z)=>I===Z;function he(I,...Z){return(...oe)=>{const Oe=Z.concat(oe);return I.apply(null,Oe)}}const Ue=I=>Z=>!I(Z),Te=ee(!1);class te{constructor(Z,oe){this.tag=Z,this.value=oe}static some(Z){return new te(!0,Z)}static none(){return te.singletonNone}fold(Z,oe){return this.tag?oe(this.value):Z()}isSome(){return this.tag}isNone(){return!this.tag}map(Z){return this.tag?te.some(Z(this.value)):te.none()}bind(Z){return this.tag?Z(this.value):te.none()}exists(Z){return this.tag&&Z(this.value)}forall(Z){return!this.tag||Z(this.value)}filter(Z){return!this.tag||Z(this.value)?this:te.none()}getOr(Z){return this.tag?this.value:Z}or(Z){return this.tag?this:Z}getOrThunk(Z){return this.tag?this.value:Z()}orThunk(Z){return this.tag?this:Z()}getOrDie(Z){if(this.tag)return this.value;throw new Error(Z??"Called getOrDie on None")}static from(Z){return R(Z)?te.some(Z):te.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Z){this.tag&&Z(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}te.singletonNone=new te(!1);const Ae=Array.prototype.slice,ne=Array.prototype.indexOf,Ge=Array.prototype.push,$e=(I,Z)=>ne.call(I,Z),Ze=(I,Z)=>$e(I,Z)>-1,ot=(I,Z)=>{for(let oe=0,Oe=I.length;oe<Oe;oe++){const ze=I[oe];if(Z(ze,oe))return!0}return!1},Ce=(I,Z)=>{const oe=I.length,Oe=new Array(oe);for(let ze=0;ze<oe;ze++){const Tt=I[ze];Oe[ze]=Z(Tt,ze)}return Oe},Ne=(I,Z)=>{for(let oe=0,Oe=I.length;oe<Oe;oe++){const ze=I[oe];Z(ze,oe)}},D=(I,Z)=>{const oe=[];for(let Oe=0,ze=I.length;Oe<ze;Oe++){const Tt=I[Oe];Z(Tt,Oe)&&oe.push(Tt)}return oe},yt=(I,Z)=>{if(I.length===0)return[];{let oe=Z(I[0]);const Oe=[];let ze=[];for(let Tt=0,Ln=I.length;Tt<Ln;Tt++){const so=I[Tt],Xn=Z(so);Xn!==oe&&(Oe.push(ze),ze=[]),oe=Xn,ze.push(so)}return ze.length!==0&&Oe.push(ze),Oe}},Pt=(I,Z,oe)=>(Ne(I,(Oe,ze)=>{oe=Z(oe,Oe,ze)}),oe),ln=(I,Z,oe)=>{for(let Oe=0,ze=I.length;Oe<ze;Oe++){const Tt=I[Oe];if(Z(Tt,Oe))return te.some(Tt);if(oe(Tt,Oe))break}return te.none()},hn=(I,Z)=>ln(I,Z,Te),Qe=I=>{const Z=[];for(let oe=0,Oe=I.length;oe<Oe;++oe){if(!S(I[oe]))throw new Error("Arr.flatten item "+oe+" was not an array, input: "+I);Ge.apply(Z,I[oe])}return Z},On=(I,Z)=>Qe(Ce(I,Z)),sr=I=>{const Z=Ae.call(I,0);return Z.reverse(),Z},pt=(I,Z)=>Z>=0&&Z<I.length?te.some(I[Z]):te.none(),bt=I=>pt(I,0),Zt=I=>pt(I,I.length-1),Ur=(I,Z)=>{const oe=[],Oe=F(Z)?ze=>ot(oe,Tt=>Z(Tt,ze)):ze=>Ze(oe,ze);for(let ze=0,Tt=I.length;ze<Tt;ze++){const Ln=I[ze];Oe(Ln)||oe.push(Ln)}return oe},ho=(I,Z,oe=ge)=>I.exists(Oe=>oe(Oe,Z)),xn=(I,Z,oe=ge)=>Rn(I,Z,oe).getOr(I.isNone()&&Z.isNone()),Rn=(I,Z,oe)=>I.isSome()&&Z.isSome()?te.some(oe(I.getOrDie(),Z.getOrDie())):te.none(),J=8,ir=11,vr=1,Ko=3,oi=(I,Z)=>{const Oe=(Z||document).createElement("div");if(Oe.innerHTML=I,!Oe.hasChildNodes()||Oe.childNodes.length>1){const ze="HTML does not have a single root node";throw console.error(ze,I),new Error(ze)}return xe(Oe.childNodes[0])},Ke=(I,Z)=>{const Oe=(Z||document).createElement(I);return xe(Oe)},le=(I,Z)=>{const Oe=(Z||document).createTextNode(I);return xe(Oe)},xe=I=>{if(I==null)throw new Error("Node cannot be null or undefined");return{dom:I}},pe={fromHtml:oi,fromTag:Ke,fromText:le,fromDom:xe,fromPoint:(I,Z,oe)=>te.from(I.dom.elementFromPoint(Z,oe)).map(xe)},St=(I,Z)=>{const oe=I.dom;if(oe.nodeType!==vr)return!1;{const Oe=oe;if(Oe.matches!==void 0)return Oe.matches(Z);if(Oe.msMatchesSelector!==void 0)return Oe.msMatchesSelector(Z);if(Oe.webkitMatchesSelector!==void 0)return Oe.webkitMatchesSelector(Z);if(Oe.mozMatchesSelector!==void 0)return Oe.mozMatchesSelector(Z);throw new Error("Browser lacks native selectors")}},$t=(I,Z)=>I.dom===Z.dom,Ct=(I,Z)=>{const oe=I.dom,Oe=Z.dom;return oe===Oe?!1:oe.contains(Oe)},zt=St,It=typeof window<"u"?window:Function("return this;")(),on=(I,Z)=>{let oe=Z??It;for(let Oe=0;Oe<I.length&&oe!==void 0&&oe!==null;++Oe)oe=oe[I[Oe]];return oe},wn=(I,Z)=>{const oe=I.split(".");return on(oe,Z)},Cn=(I,Z)=>wn(I,Z),En=(I,Z)=>{const oe=Cn(I,Z);if(oe==null)throw new Error(I+" not available on this browser");return oe},ao=Object.getPrototypeOf,vo=I=>En("HTMLElement",I),To=I=>{const Z=wn("ownerDocument.defaultView",I);return x(I)&&(vo(Z).prototype.isPrototypeOf(I)||/^HTML\w*Element$/.test(ao(I).constructor.name))},Do=I=>I.dom.nodeName.toLowerCase(),As=I=>I.dom.nodeType,fr=I=>Z=>As(Z)===I,vi=I=>As(I)===J||Do(I)==="#comment",un=I=>po(I)&&To(I.dom),po=fr(vr),io=fr(Ko),Wr=fr(ir),Fa=I=>Z=>po(Z)&&Do(Z)===I,Vt=I=>te.from(I.dom.parentNode).map(pe.fromDom),Js=I=>te.from(I.dom.parentElement).map(pe.fromDom),Uo=I=>te.from(I.dom.nextSibling).map(pe.fromDom),El=I=>Ce(I.dom.childNodes,pe.fromDom),Or=(I,Z)=>{const oe=I.dom.childNodes;return te.from(oe[Z]).map(pe.fromDom)},Hs=I=>Or(I,0),Gf=I=>Or(I,I.dom.childNodes.length-1),hu=I=>Wr(I)&&R(I.dom.host),ic=I=>pe.fromDom(I.dom.getRootNode()),Ji=I=>{const Z=ic(I);return hu(Z)?te.some(Z):te.none()},pu=I=>pe.fromDom(I.dom.host),mr=I=>{const Z=io(I)?I.dom.parentNode:I.dom;if(Z==null||Z.ownerDocument===null)return!1;const oe=Z.ownerDocument;return Ji(pe.fromDom(Z)).fold(()=>oe.body.contains(Z),K(mr,pu))};var Yn=(I,Z,oe,Oe,ze)=>I(oe,Oe)?te.some(oe):F(ze)&&ze(oe)?te.none():Z(oe,Oe,ze);const Al=(I,Z,oe)=>{let Oe=I.dom;const ze=F(oe)?oe:Te;for(;Oe.parentNode;){Oe=Oe.parentNode;const Tt=pe.fromDom(Oe);if(Z(Tt))return te.some(Tt);if(ze(Tt))break}return te.none()},da=(I,Z,oe)=>Yn((ze,Tt)=>Tt(ze),Al,I,Z,oe),bu=(I,Z,oe)=>Al(I,Oe=>St(Oe,Z),oe),Qt=(I,Z,oe)=>Yn((ze,Tt)=>St(ze,Tt),bu,I,Z,oe),vu=I=>Qt(I,"[contenteditable]"),Yf=(I,Z=!1)=>mr(I)?I.dom.isContentEditable:vu(I).fold(ee(Z),oe=>ns(oe)==="true"),ns=I=>I.dom.contentEditable,Xf=(I,Z)=>{Vt(I).each(Oe=>{Oe.dom.insertBefore(Z.dom,I.dom)})},Bi=(I,Z)=>{Uo(I).fold(()=>{Vt(I).each(ze=>{Qi(ze,Z)})},Oe=>{Xf(Oe,Z)})},hl=(I,Z)=>{Hs(I).fold(()=>{Qi(I,Z)},Oe=>{I.dom.insertBefore(Z.dom,Oe.dom)})},Qi=(I,Z)=>{I.dom.appendChild(Z.dom)},qr=(I,Z)=>{Ne(Z,oe=>{Xf(I,oe)})},ri=(I,Z)=>{Ne(Z,oe=>{Qi(I,oe)})},pl=I=>{I.dom.textContent="",Ne(El(I),Z=>{Jf(Z)})},Jf=I=>{const Z=I.dom;Z.parentNode!==null&&Z.parentNode.removeChild(Z)};var Mc=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Pc=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Vd=tinymce.util.Tools.resolve("tinymce.util.VK");const ed=I=>Ce(I,pe.fromDom),Wo=Object.keys,xs=(I,Z)=>{const oe=Wo(I);for(let Oe=0,ze=oe.length;Oe<ze;Oe++){const Tt=oe[Oe],Ln=I[Tt];Z(Ln,Tt)}},js=I=>(Z,oe)=>{I[oe]=Z},Qf=(I,Z,oe,Oe)=>{xs(I,(ze,Tt)=>{(Z(ze,Tt)?oe:Oe)(ze,Tt)})},Mi=(I,Z)=>{const oe={};return Qf(I,Z,js(oe),$),oe},Lc=(I,Z,oe)=>{if(h(oe)||B(oe)||W(oe))I.setAttribute(Z,oe+"");else throw console.error("Invalid call to Attribute.set. Key ",Z,":: Value ",oe,":: Element ",I),new Error("Attribute value was not simple")},si=(I,Z)=>{const oe=I.dom;xs(Z,(Oe,ze)=>{Lc(oe,ze,Oe)})},ai=I=>Pt(I.dom.attributes,(Z,oe)=>(Z[oe.name]=oe.value,Z),{}),Fc=(I,Z)=>pe.fromDom(I.dom.cloneNode(Z)),yr=I=>Fc(I,!0),Gr=(I,Z)=>{const oe=pe.fromTag(Z),Oe=ai(I);return si(oe,Oe),oe},Se=(I,Z)=>{const oe=Gr(I,Z);Bi(I,oe);const Oe=El(I);return ri(oe,Oe),Jf(I),oe};var Ye=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Re=tinymce.util.Tools.resolve("tinymce.util.Tools");const lt=I=>Z=>R(Z)&&Z.nodeName.toLowerCase()===I,st=I=>Z=>R(Z)&&I.test(Z.nodeName),je=I=>R(I)&&I.nodeType===3,Lt=I=>R(I)&&I.nodeType===1,Yt=st(/^(OL|UL|DL)$/),nn=st(/^(OL|UL)$/),fn=lt("ol"),en=st(/^(LI|DT|DD)$/),ro=st(/^(DT|DD)$/),Jt=st(/^(TH|TD)$/),lr=lt("br"),Co=I=>{var Z;return((Z=I.parentNode)===null||Z===void 0?void 0:Z.firstChild)===I},Io=(I,Z)=>R(Z)&&Z.nodeName in I.schema.getTextBlockElements(),fs=(I,Z)=>R(I)&&I.nodeName in Z,fo=(I,Z)=>R(Z)&&Z.nodeName in I.schema.getVoidElements(),bl=(I,Z)=>lr(Z)?I.isBlock(Z.nextSibling)&&!lr(Z.previousSibling):!1,za=(I,Z,oe)=>{const Oe=I.isEmpty(Z);return oe&&I.select("span[data-mce-type=bookmark]",Z).length>0?!1:Oe},Qn=(I,Z)=>I.isChildOf(Z,I.getRoot()),Pi=I=>Z=>Z.options.get(I),el=I=>{const Z=I.options.register;Z("lists_indent_on_tab",{processor:"boolean",default:!0})},as=Pi("lists_indent_on_tab"),td=Pi("forced_root_block"),Ts=Pi("forced_root_block_attrs"),$d=(I,Z,oe={})=>{const Oe=I.dom,ze=I.schema.getBlockElements(),Tt=Oe.createFragment(),Ln=td(I),so=Ts(I);let Xn,_n,Qo=!1;for(_n=Oe.create(Ln,{...so,...oe.style?{style:oe.style}:{}}),fs(Z.firstChild,ze)||Tt.appendChild(_n);Xn=Z.firstChild;){const Ns=Xn.nodeName;!Qo&&(Ns!=="SPAN"||Xn.getAttribute("data-mce-type")!=="bookmark")&&(Qo=!0),fs(Xn,ze)?(Tt.appendChild(Xn),_n=null):(_n||(_n=Oe.create(Ln,so),Tt.appendChild(_n)),_n.appendChild(Xn))}return!Qo&&_n&&_n.appendChild(Oe.create("br",{"data-mce-bogus":"1"})),Tt},vl=Ye.DOM,nr=(I,Z,oe)=>{const Oe=_n=>{const Qo=_n.parentNode;Qo&&Re.each(ze,Ns=>{Qo.insertBefore(Ns,oe.parentNode)}),vl.remove(_n)},ze=vl.select('span[data-mce-type="bookmark"]',Z),Tt=$d(I,oe),Ln=vl.createRng();Ln.setStartAfter(oe),Ln.setEndAfter(Z);const so=Ln.extractContents();for(let _n=so.firstChild;_n;_n=_n.firstChild)if(_n.nodeName==="LI"&&I.dom.isEmpty(_n)){vl.remove(_n);break}I.dom.isEmpty(so)||vl.insertAfter(so,Z),vl.insertAfter(Tt,Z);const Xn=oe.parentElement;Xn&&za(I.dom,Xn)&&Oe(Xn),vl.remove(oe),za(I.dom,Z)&&vl.remove(Z)},yu=Fa("dd"),em=Fa("dt"),Ch=(I,Z)=>{yu(Z)?Se(Z,"dt"):em(Z)&&Js(Z).each(oe=>nr(I,oe.dom,Z.dom))},ms=I=>{em(I)&&Se(I,"dd")},lc=(I,Z,oe)=>{Z==="Indent"?Ne(oe,ms):Ne(oe,Oe=>Ch(I,Oe))},tl=(I,Z)=>{if(je(I))return{container:I,offset:Z};const oe=Mc.getNode(I,Z);return je(oe)?{container:oe,offset:Z>=I.childNodes.length?oe.data.length:0}:oe.previousSibling&&je(oe.previousSibling)?{container:oe.previousSibling,offset:oe.previousSibling.data.length}:oe.nextSibling&&je(oe.nextSibling)?{container:oe.nextSibling,offset:0}:{container:I,offset:Z}},Lr=I=>{const Z=I.cloneRange(),oe=tl(I.startContainer,I.startOffset);Z.setStart(oe.container,oe.offset);const Oe=tl(I.endContainer,I.endOffset);return Z.setEnd(Oe.container,Oe.offset),Z},tm=["OL","UL","DL"],yl=tm.join(","),Ha=(I,Z)=>{const oe=Z||I.selection.getStart(!0);return I.dom.getParent(oe,yl,nd(I,oe))},hg=(I,Z)=>R(I)&&Z.length===1&&Z[0]===I,fa=I=>D(I.querySelectorAll(yl),Yt),Li=I=>{const Z=Ha(I),oe=I.selection.getSelectedBlocks();return hg(Z,oe)?fa(Z):D(oe,Oe=>Yt(Oe)&&Z!==Oe)},Va=(I,Z)=>{const oe=Re.map(Z,Oe=>{const ze=I.dom.getParent(Oe,"li,dd,dt",nd(I,Oe));return ze||Oe});return Ur(oe)},xl=I=>{const Z=I.selection.getSelectedBlocks();return D(Va(I,Z),en)},_h=I=>D(xl(I),ro),_o=(I,Z)=>{const oe=I.dom.getParents(Z,"TD,TH");return oe.length>0?oe[0]:I.getBody()},zc=(I,Z)=>!Yt(Z)&&!en(Z)&&ot(tm,oe=>I.isValidChild(Z.nodeName,oe)),nd=(I,Z)=>{const oe=I.dom.getParents(Z,I.dom.isBlock),Oe=Tt=>Tt.nodeName.toLowerCase()!==td(I);return hn(oe,Tt=>Oe(Tt)&&zc(I.schema,Tt)).getOr(I.getBody())},xu=I=>Vt(I).exists(Z=>en(Z.dom)&&Hs(Z).exists(oe=>!Yt(oe.dom))&&Gf(Z).exists(oe=>!Yt(oe.dom))),Jp=(I,Z)=>{const oe=I.dom.getParents(Z,"ol,ul",nd(I,Z));return Zt(oe)},ky=I=>{const Z=Jp(I,I.selection.getStart()),oe=D(I.selection.getSelectedBlocks(),nn);return Z.toArray().concat(oe)},r1=I=>{const Z=I.selection.getStart();return I.dom.getParents(Z,"ol,ul",nd(I,Z))},s1=I=>{const Z=ky(I),oe=r1(I);return hn(oe,Oe=>xu(pe.fromDom(Oe))).fold(()=>Hw(I,Z),Oe=>[Oe])},Hw=(I,Z)=>{const oe=Ce(Z,Oe=>Jp(I,Oe).getOr(Oe));return Ur(oe)},Sh=I=>/\btox\-/.test(I.className),a1=(I,Z)=>ln(I,Yt,Jt).exists(oe=>oe.nodeName===Z&&!Sh(oe)),Kt=(I,Z)=>Z!==null&&!I.dom.isEditable(Z),Ud=I=>{const Z=Ha(I);return Kt(I,Z)},Wd=(I,Z)=>{const oe=I.dom.getParent(Z,"ol,ul,dl");return Kt(I,oe)},i1=(I,Z)=>{const oe=I.selection.getNode();return Z({parents:I.dom.getParents(oe),element:oe}),I.on("NodeChange",Z),()=>I.off("NodeChange",Z)},$a=(I,Z)=>{const Oe=document.createDocumentFragment();return Ne(I,ze=>{Oe.appendChild(ze.dom)}),pe.fromDom(Oe)},Zd=(I,Z,oe)=>I.dispatch("ListMutation",{action:Z,element:oe}),Ey=(I=>Z=>Z.replace(I,""))(/^\s+|\s+$/g),Ay=I=>I.length>0,Qp=I=>!Ay(I),Ty=I=>I.style!==void 0&&F(I.style.getPropertyValue),l1=(I,Z,oe)=>{if(!h(oe))throw console.error("Invalid call to CSS.set. Property ",Z,":: Value ",oe,":: Element ",I),new Error("CSS value must be a string: "+oe);Ty(I)&&I.style.setProperty(Z,oe)},Oy=(I,Z,oe)=>{const Oe=I.dom;l1(Oe,Z,oe)},bg=I=>zt(I,"OL,UL"),c1=I=>zt(I,"LI"),jd=I=>Hs(I).exists(bg),Kd=I=>Gf(I).exists(bg),Ua=I=>"listAttributes"in I,nl=I=>"isComment"in I,vg=I=>"isFragment"in I,Po=I=>I.depth>0,od=I=>I.isSelected,yg=I=>{const Z=El(I),oe=Kd(I)?Z.slice(0,-1):Z;return Ce(oe,yr)},xg=(I,Z,oe)=>Vt(I).filter(po).map(Oe=>({depth:Z,dirty:!1,isSelected:oe,content:yg(I),itemAttributes:ai(I),listAttributes:ai(Oe),listType:Do(Oe),isInPreviousLi:!1})),yi=(I,Z)=>{Qi(I.item,Z.list)},Os=I=>{for(let Z=1;Z<I.length;Z++)yi(I[Z-1],I[Z])},Yr=(I,Z)=>{Rn(Zt(I),bt(Z),yi)},Sa=(I,Z)=>{const oe={list:pe.fromTag(Z,I),item:pe.fromTag("li",I)};return Qi(oe.list,oe.item),oe},Fr=(I,Z,oe)=>{const Oe=[];for(let ze=0;ze<oe;ze++)Oe.push(Sa(I,Ua(Z)?Z.listType:Z.parentListType));return Oe},qd=(I,Z)=>{for(let oe=0;oe<I.length-1;oe++)Oy(I[oe].item,"list-style-type","none");Zt(I).each(oe=>{Ua(Z)&&(si(oe.list,Z.listAttributes),si(oe.item,Z.itemAttributes)),ri(oe.item,Z.content)})},nm=(I,Z)=>{Do(I.list)!==Z.listType&&(I.list=Se(I.list,Z.listType)),si(I.list,Z.listAttributes)},ra=(I,Z,oe)=>{const Oe=pe.fromTag("li",I);return si(Oe,Z),ri(Oe,oe),Oe},xi=(I,Z)=>{Qi(I.list,Z),I.item=Z},ii=(I,Z,oe)=>{const Oe=Z.slice(0,oe.depth);return Zt(Oe).each(ze=>{if(Ua(oe)){const Tt=ra(I,oe.itemAttributes,oe.content);xi(ze,Tt),nm(ze,oe)}else if(vg(oe))ri(ze.item,oe.content);else{const Tt=pe.fromHtml(`<!--${oe.content}-->`);Qi(ze.list,Tt)}}),Oe},Hc=(I,Z,oe)=>{const Oe=Fr(I,oe,oe.depth-Z.length);return Os(Oe),qd(Oe,oe),Yr(Z,Oe),Z.concat(Oe)},rd=(I,Z)=>{let oe=te.none();const Oe=Pt(Z,(ze,Tt,Ln)=>nl(Tt)?Ln===0?(oe=te.some(Tt),ze):ii(I,ze,Tt):Tt.depth>ze.length?Hc(I,ze,Tt):ii(I,ze,Tt),[]);return oe.each(ze=>{const Tt=pe.fromHtml(`<!--${ze.content}-->`);bt(Oe).each(Ln=>{hl(Ln.list,Tt)})}),bt(Oe).map(ze=>ze.list)},bo=(I,Z)=>{switch(I){case"Indent":Z.depth++;break;case"Outdent":Z.depth--;break;case"Flatten":Z.depth=0}Z.dirty=!0},Ks=(I,Z)=>{Ua(I)&&Ua(Z)&&(I.listType=Z.listType,I.listAttributes={...Z.listAttributes})},ol=I=>{I.listAttributes=Mi(I.listAttributes,(Z,oe)=>oe!=="start")},sd=(I,Z)=>{const oe=I[Z].depth,Oe=Tt=>Tt.depth===oe&&!Tt.dirty,ze=Tt=>Tt.depth<oe;return ln(sr(I.slice(0,Z)),Oe,ze).orThunk(()=>ln(I.slice(Z+1),Oe,ze))},ka=I=>(Ne(I,(Z,oe)=>{sd(I,oe).fold(()=>{Z.dirty&&Ua(Z)&&ol(Z)},Oe=>Ks(Z,Oe))}),I),Dn=I=>{let Z=I;return{get:()=>Z,set:ze=>{Z=ze}}},cc=(I,Z,oe,Oe)=>{var ze;if(vi(Oe))return[{depth:I+1,content:(ze=Oe.dom.nodeValue)!==null&&ze!==void 0?ze:"",dirty:!1,isSelected:!1,isComment:!0}];Z.each(so=>{$t(so.start,Oe)&&oe.set(!0)});const Tt=xg(Oe,I,oe.get());Z.each(so=>{$t(so.end,Oe)&&oe.set(!1)});const Ln=Gf(Oe).filter(bg).map(so=>cr(I,Z,oe,so)).getOr([]);return Tt.toArray().concat(Ln)},uc=(I,Z,oe,Oe)=>Hs(Oe).filter(bg).fold(()=>cc(I,Z,oe,Oe),ze=>{const Tt=Pt(El(Oe),(Ln,so,Xn)=>{if(Xn===0)return Ln;if(c1(so))return Ln.concat(cc(I,Z,oe,so));{const _n={isFragment:!0,depth:I,content:[so],isSelected:!1,dirty:!1,parentListType:Do(ze)};return Ln.concat(_n)}},[]);return cr(I,Z,oe,ze).concat(Tt)}),cr=(I,Z,oe,Oe)=>On(El(Oe),ze=>{const Tt=bg(ze)?cr:uc,Ln=I+1;return Tt(Ln,Z,oe,ze)}),kh=(I,Z)=>{const oe=Dn(!1),Oe=0;return Ce(I,ze=>({sourceList:ze,entries:cr(Oe,Z,oe,ze)}))},eb=(I,Z)=>{const oe=ka(Z);return Ce(oe,Oe=>{const ze=nl(Oe)?$a([pe.fromHtml(`<!--${Oe.content}-->`)]):$a(Oe.content),Tt=Ua(Oe)?Oe.itemAttributes:{};return pe.fromDom($d(I,ze.dom,Tt))})},ad=(I,Z)=>{const oe=ka(Z);return rd(I.contentDocument,oe).toArray()},So=(I,Z)=>On(yt(Z,Po),oe=>bt(oe).exists(Po)?ad(I,oe):eb(I,oe)),wi=(I,Z)=>{Ne(D(I,od),oe=>bo(Z,oe))},Eh=I=>{const Z=Ce(xl(I),pe.fromDom);return Rn(hn(Z,Ue(jd)),hn(sr(Z),Ue(jd)),(oe,Oe)=>({start:oe,end:Oe}))},id=(I,Z,oe)=>{const Oe=kh(Z,Eh(I));Ne(Oe,ze=>{wi(ze.entries,oe);const Tt=So(I,ze.entries);Ne(Tt,Ln=>{Zd(I,oe==="Indent"?"IndentList":"OutdentList",Ln.dom)}),qr(ze.sourceList,Tt),Jf(ze.sourceList)})},tb=(I,Z)=>{const oe=ed(s1(I)),Oe=ed(_h(I));let ze=!1;if(oe.length||Oe.length){const Tt=I.selection.getBookmark();id(I,oe,Z),lc(I,Z,Oe),I.selection.moveToBookmark(Tt),I.selection.setRng(Lr(I.selection.getRng())),I.nodeChanged(),ze=!0}return ze},Vc=(I,Z)=>!Ud(I)&&tb(I,Z),Fi=I=>Vc(I,"Indent"),$c=I=>Vc(I,"Outdent"),Gd=I=>Vc(I,"Flatten"),Be="\uFEFF",om=I=>I===Be,xr=(I,Z,oe)=>Al(I,Z,oe).isSome(),nb=(I,Z)=>xr(I,he($t,Z));var wg=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Uc=Ye.DOM,Lo=I=>{const Z={},oe=Oe=>{let ze=I[Oe?"startContainer":"endContainer"],Tt=I[Oe?"startOffset":"endOffset"];if(Lt(ze)){const Ln=Uc.create("span",{"data-mce-type":"bookmark"});ze.hasChildNodes()?(Tt=Math.min(Tt,ze.childNodes.length-1),Oe?ze.insertBefore(Ln,ze.childNodes[Tt]):Uc.insertAfter(Ln,ze.childNodes[Tt])):ze.appendChild(Ln),ze=Ln,Tt=0}Z[Oe?"startContainer":"endContainer"]=ze,Z[Oe?"startOffset":"endOffset"]=Tt};return oe(!0),I.collapsed||oe(),Z},Wa=I=>{const Z=Oe=>{const ze=so=>{var Xn;let _n=(Xn=so.parentNode)===null||Xn===void 0?void 0:Xn.firstChild,Qo=0;for(;_n;){if(_n===so)return Qo;(!Lt(_n)||_n.getAttribute("data-mce-type")!=="bookmark")&&Qo++,_n=_n.nextSibling}return-1};let Tt=I[Oe?"startContainer":"endContainer"],Ln=I[Oe?"startOffset":"endOffset"];if(Tt){if(Lt(Tt)&&Tt.parentNode){const so=Tt;Ln=ze(Tt),Tt=Tt.parentNode,Uc.remove(so),!Tt.hasChildNodes()&&Uc.isBlock(Tt)&&Tt.appendChild(Uc.create("br"))}I[Oe?"startContainer":"endContainer"]=Tt,I[Oe?"startOffset":"endOffset"]=Ln}};Z(!0),Z();const oe=Uc.createRng();return oe.setStart(I.startContainer,I.startOffset),I.endContainer&&oe.setEnd(I.endContainer,I.endOffset),Lr(oe)},wu=I=>{switch(I){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Hl=(I,Z,oe)=>{const Oe=oe["list-style-type"]?oe["list-style-type"]:null;I.setStyle(Z,"list-style-type",Oe)},Cu=(I,Z)=>{Re.each(Z,(oe,Oe)=>{I.setAttribute(Oe,oe)})},_u=(I,Z,oe)=>{Cu(Z,oe["list-attributes"]),Re.each(I.select("li",Z),Oe=>{Cu(Oe,oe["list-item-attributes"])})},Za=(I,Z,oe)=>{Hl(I,Z,oe),_u(I,Z,oe)},Yd=(I,Z,oe)=>{Re.each(oe,Oe=>I.setStyle(Z,Oe,""))},rm=(I,Z)=>R(Z)&&!fs(Z,I.schema.getBlockElements()),ob=(I,Z,oe,Oe)=>{let ze=Z[oe?"startContainer":"endContainer"];const Tt=Z[oe?"startOffset":"endOffset"];Lt(ze)&&(ze=ze.childNodes[Math.min(Tt,ze.childNodes.length-1)]||ze),!oe&&lr(ze.nextSibling)&&(ze=ze.nextSibling);const Ln=Xn=>{for(;!I.dom.isBlock(Xn)&&Xn.parentNode&&Oe!==Xn;)Xn=Xn.parentNode;return Xn},so=(Xn,_n)=>{var Qo;const Ns=new Pc(Xn,Ln(Xn)),cs=_n?"next":"prev";let mc;for(;mc=Ns[cs]();)if(!(fo(I,mc)||om(mc.textContent)||((Qo=mc.textContent)===null||Qo===void 0?void 0:Qo.length)===0))return te.some(mc);return te.none()};if(oe&&je(ze))if(om(ze.textContent))ze=so(ze,!1).getOr(ze);else for(ze.parentNode!==null&&rm(I,ze.parentNode)&&(ze=ze.parentNode);ze.previousSibling!==null&&(rm(I,ze.previousSibling)||je(ze.previousSibling));)ze=ze.previousSibling;if(!oe&&je(ze))if(om(ze.textContent))ze=so(ze,!0).getOr(ze);else for(ze.parentNode!==null&&rm(I,ze.parentNode)&&(ze=ze.parentNode);ze.nextSibling!==null&&(rm(I,ze.nextSibling)||je(ze.nextSibling));)ze=ze.nextSibling;for(;ze.parentNode!==Oe;){const Xn=ze.parentNode;if(Io(I,ze)||/^(TD|TH)$/.test(Xn.nodeName))return ze;ze=Xn}return ze},sa=(I,Z,oe)=>{const Oe=[],ze=I.dom,Tt=ob(I,Z,!0,oe),Ln=ob(I,Z,!1,oe);let so;const Xn=[];for(let _n=Tt;_n&&(Xn.push(_n),_n!==Ln);_n=_n.nextSibling);return Re.each(Xn,_n=>{var Qo;if(Io(I,_n)){Oe.push(_n),so=null;return}if(ze.isBlock(_n)||lr(_n)){lr(_n)&&ze.remove(_n),so=null;return}const Ns=_n.nextSibling;if(wg.isBookmarkNode(_n)&&(Yt(Ns)||Io(I,Ns)||!Ns&&_n.parentNode===oe)){so=null;return}so||(so=ze.create("p"),(Qo=_n.parentNode)===null||Qo===void 0||Qo.insertBefore(so,_n),Oe.push(so)),so.appendChild(_n)}),Oe},Pn=(I,Z,oe)=>{const Oe=I.getStyle(Z,"list-style-type");let ze=oe?oe["list-style-type"]:"";return ze=ze===null?"":ze,Oe===ze},Su=(I,Z)=>{const oe=I.selection.getStart(!0),Oe=ob(I,Z,!0,I.getBody());return nb(pe.fromDom(Oe),pe.fromDom(Z.commonAncestorContainer))?Z.commonAncestorContainer:oe},sm=(I,Z,oe)=>{const Oe=I.selection.getRng();let ze="LI";const Tt=nd(I,Su(I,Oe)),Ln=I.dom;if(Ln.getContentEditable(I.selection.getNode())==="false")return;Z=Z.toUpperCase(),Z==="DL"&&(ze="DT");const so=Lo(Oe),Xn=D(sa(I,Oe,Tt),I.dom.isEditable);Re.each(Xn,_n=>{let Qo;const Ns=_n.previousSibling,cs=_n.parentNode;en(cs)||(Ns&&Yt(Ns)&&Ns.nodeName===Z&&Pn(Ln,Ns,oe)?(Qo=Ns,_n=Ln.rename(_n,ze),Ns.appendChild(_n)):(Qo=Ln.create(Z),cs.insertBefore(Qo,_n),Qo.appendChild(_n),_n=Ln.rename(_n,ze)),Yd(Ln,_n,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Za(Ln,Qo,oe),ld(I.dom,Qo))}),I.selection.setRng(Wa(so))},ja=(I,Z)=>Yt(I)&&I.nodeName===(Z==null?void 0:Z.nodeName),ku=(I,Z,oe)=>{const Oe=I.getStyle(Z,"list-style-type",!0),ze=I.getStyle(oe,"list-style-type",!0);return Oe===ze},wl=(I,Z)=>I.className===Z.className,Eu=(I,Z,oe)=>ja(Z,oe)&&ku(I,Z,oe)&&wl(Z,oe),ld=(I,Z)=>{let oe,Oe=Z.nextSibling;if(Eu(I,Z,Oe)){const ze=Oe;for(;oe=ze.firstChild;)Z.appendChild(oe);I.remove(ze)}if(Oe=Z.previousSibling,Eu(I,Z,Oe)){const ze=Oe;for(;oe=ze.lastChild;)Z.insertBefore(oe,Z.firstChild);I.remove(ze)}},aa=(I,Z,oe,Oe)=>{if(Z.nodeName!==oe){const ze=I.dom.rename(Z,oe);Za(I.dom,ze,Oe),Zd(I,wu(oe),ze)}else Za(I.dom,Z,Oe),Zd(I,wu(oe),Z)},Vl=(I,Z,oe,Oe)=>{if(Z.classList.forEach((ze,Tt,Ln)=>{ze.startsWith("tox-")&&(Ln.remove(ze),Ln.length===0&&Z.removeAttribute("class"))}),Z.nodeName!==oe){const ze=I.dom.rename(Z,oe);Za(I.dom,ze,Oe),Zd(I,wu(oe),ze)}else Za(I.dom,Z,Oe),Zd(I,wu(oe),Z)},Wc=(I,Z,oe,Oe,ze)=>{const Tt=Yt(Z);if(Tt&&Z.nodeName===Oe&&!am(ze)&&!Sh(Z))Gd(I);else{sm(I,Oe,ze);const Ln=Lo(I.selection.getRng()),so=Tt?[Z,...oe]:oe,Xn=Tt&&Sh(Z)?Vl:aa;Re.each(so,_n=>{Xn(I,_n,Oe,ze)}),I.selection.setRng(Wa(Ln))}},am=I=>"list-style-type"in I,u1=(I,Z,oe,Oe)=>{if(Z!==I.getBody())if(Z)if(Z.nodeName===oe&&!am(Oe)&&!Sh(Z))Gd(I);else{const ze=Lo(I.selection.getRng());Sh(Z)&&Z.classList.forEach((Ln,so,Xn)=>{Ln.startsWith("tox-")&&(Xn.remove(Ln),Xn.length===0&&Z.removeAttribute("class"))}),Za(I.dom,Z,Oe);const Tt=I.dom.rename(Z,oe);ld(I.dom,Tt),I.selection.setRng(Wa(ze)),sm(I,oe,Oe),Zd(I,wu(oe),Tt)}else sm(I,oe,Oe),Zd(I,wu(oe),Z)},Au=(I,Z,oe)=>{const Oe=Ha(I);if(Wd(I,Oe))return;const ze=Li(I),Tt=x(oe)?oe:{};ze.length>0?Wc(I,Oe,ze,Z,Tt):u1(I,Oe,Z,Tt)},Xd=Ye.DOM,rb=(I,Z)=>{const oe=Z.parentElement;if(oe&&oe.nodeName==="LI"&&oe.firstChild===Z){const Oe=oe.previousSibling;Oe&&Oe.nodeName==="LI"?(Oe.appendChild(Z),za(I,oe)&&Xd.remove(oe)):Xd.setStyle(oe,"listStyleType","none")}if(Yt(oe)){const Oe=oe.previousSibling;Oe&&Oe.nodeName==="LI"&&Oe.appendChild(Z)}},is=(I,Z)=>{const oe=Re.grep(I.select("ol,ul",Z));Re.each(oe,Oe=>{rb(I,Oe)})},Ci=(I,Z,oe,Oe)=>{let ze=Z.startContainer;const Tt=Z.startOffset;if(je(ze)&&(oe?Tt<ze.data.length:Tt>0))return ze;const Ln=I.schema.getNonEmptyElements();Lt(ze)&&(ze=Mc.getNode(ze,Tt));const so=new Pc(ze,Oe);oe&&bl(I.dom,ze)&&so.next();const Xn=oe?so.next.bind(so):so.prev2.bind(so);for(;ze=Xn();)if(ze.nodeName==="LI"&&!ze.hasChildNodes()||Ln[ze.nodeName]||je(ze)&&ze.data.length>0)return ze;return null},li=(I,Z)=>{const oe=Z.childNodes;return oe.length===1&&!Yt(oe[0])&&I.isBlock(oe[0])},zi=I=>te.from(I).map(pe.fromDom).filter(un).exists(Z=>Yf(Z)&&!Ze(["details"],Do(Z))),Qs=(I,Z)=>{li(I,Z)&&zi(Z.firstChild)&&I.remove(Z.firstChild,!0)},Ah=(I,Z,oe)=>{let Oe;const ze=li(I,oe)?oe.firstChild:oe;if(Qs(I,Z),!za(I,Z,!0))for(;Oe=Z.firstChild;)ze.appendChild(Oe)},qs=(I,Z,oe)=>{let Oe;const ze=Z.parentNode;if(!Qn(I,Z)||!Qn(I,oe))return;Yt(oe.lastChild)&&(Oe=oe.lastChild),ze===oe.lastChild&&lr(ze.previousSibling)&&I.remove(ze.previousSibling);const Tt=oe.lastChild;Tt&&lr(Tt)&&Z.hasChildNodes()&&I.remove(Tt),za(I,oe,!0)&&pl(pe.fromDom(oe)),Ah(I,Z,oe),Oe&&oe.appendChild(Oe);const so=Ct(pe.fromDom(oe),pe.fromDom(Z))?I.getParents(Z,Yt,oe):[];I.remove(Z),Ne(so,Xn=>{za(I,Xn)&&Xn!==I.getRoot()&&I.remove(Xn)})},Ea=(I,Z,oe)=>{pl(pe.fromDom(oe)),qs(I.dom,Z,oe),I.selection.setCursorLocation(oe,0)},Zc=(I,Z,oe,Oe)=>{const ze=I.dom;if(ze.isEmpty(Oe))Ea(I,oe,Oe);else{const Tt=Lo(Z);qs(ze,oe,Oe),I.selection.setRng(Wa(Tt))}},At=(I,Z,oe,Oe)=>{const ze=Lo(Z);qs(I.dom,oe,Oe);const Tt=Wa(ze);I.selection.setRng(Tt)},Aa=(I,Z)=>{const oe=I.dom,Oe=I.selection,ze=Oe.getStart(),Tt=_o(I,ze),Ln=oe.getParent(Oe.getStart(),"LI",Tt);if(Ln){const so=Ln.parentElement;if(so===I.getBody()&&za(oe,so))return!0;const Xn=Lr(Oe.getRng()),_n=oe.getParent(Ci(I,Xn,Z,Tt),"LI",Tt),Qo=_n&&(Z?oe.isChildOf(Ln,_n):oe.isChildOf(_n,Ln));if(_n&&_n!==Ln&&!Qo)return I.undoManager.transact(()=>{Z?Zc(I,Xn,_n,Ln):Co(Ln)?$c(I):At(I,Xn,Ln,_n)}),!0;if(Qo&&!Z&&_n!==Ln)return I.undoManager.transact(()=>{if(Xn.commonAncestorContainer.parentElement){const Ns=Lo(Xn),cs=Xn.commonAncestorContainer.parentElement;Ah(oe,Xn.commonAncestorContainer.parentElement,_n),cs.remove();const mc=Wa(Ns);I.selection.setRng(mc)}}),!0;if(!_n&&!Z&&Xn.startOffset===0&&Xn.endOffset===0)return I.undoManager.transact(()=>{Gd(I)}),!0}return!1},Th=(I,Z,oe)=>{const Oe=I.getParent(Z.parentNode,I.isBlock,oe);I.remove(Z),Oe&&I.isEmpty(Oe)&&I.remove(Oe)},ls=(I,Z)=>{const oe=I.dom,Oe=I.selection.getStart(),ze=_o(I,Oe),Tt=oe.getParent(Oe,oe.isBlock,ze);if(Tt&&oe.isEmpty(Tt,void 0,{checkRootAsContent:!0})){const Ln=Lr(I.selection.getRng()),so=oe.getParent(Ci(I,Ln,Z,ze),"LI",ze);if(so){const Xn=cs=>Ze(["td","th","caption"],Do(cs)),_n=cs=>cs.dom===ze,Qo=da(pe.fromDom(so),Xn,_n),Ns=da(pe.fromDom(Ln.startContainer),Xn,_n);return xn(Qo,Ns,$t)?(I.undoManager.transact(()=>{const cs=so.parentNode;Th(oe,Tt,ze),ld(oe,cs),I.selection.select(so,!0),I.selection.collapse(Z)}),!0):!1}}return!1},Tu=(I,Z)=>Aa(I,Z)||ls(I,Z),_i=I=>{const Z=I.selection.getStart(),oe=_o(I,Z);return I.dom.getParent(Z,"LI,DT,DD",oe)||xl(I).length>0},dc=I=>_i(I)?(I.undoManager.transact(()=>{I.execCommand("Delete"),is(I.dom,I.getBody())}),!0):!1,im=(I,Z)=>{const oe=I.selection;return!Wd(I,oe.getNode())&&(oe.isCollapsed()?Tu(I,Z):dc(I))},Hi=I=>{I.on("ExecCommand",Z=>{const oe=Z.command.toLowerCase();(oe==="delete"||oe==="forwarddelete")&&_i(I)&&is(I.dom,I.getBody())}),I.on("keydown",Z=>{Z.keyCode===Vd.BACKSPACE?im(I,!1)&&Z.preventDefault():Z.keyCode===Vd.DELETE&&im(I,!0)&&Z.preventDefault()})},Bo=I=>({backspaceDelete:Z=>{im(I,Z)}}),Ds=(I,Z)=>{const oe=Ha(I);oe===null||Wd(I,oe)||I.undoManager.transact(()=>{x(Z.styles)&&I.dom.setStyles(oe,Z.styles),x(Z.attrs)&&xs(Z.attrs,(Oe,ze)=>I.dom.setAttrib(oe,ze,Oe))})},Jd=I=>{const Z=sr(Ey(I).split("")),oe=Ce(Z,(Oe,ze)=>{const Tt=Oe.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,ze)*Tt});return Pt(oe,(Oe,ze)=>Oe+ze,0)},ws=I=>{if(I--,I<0)return"";{const Z=I%26,oe=Math.floor(I/26),Oe=ws(oe),ze=String.fromCharCode(65+Z);return Oe+ze}},Cg=I=>/^[A-Z]+$/.test(I),jc=I=>/^[a-z]+$/.test(I),d1=I=>/^[0-9]+$/.test(I),gs=I=>d1(I)?2:Cg(I)?0:jc(I)?1:Qp(I)?3:4,et=I=>{switch(gs(I)){case 2:return te.some({listStyleType:te.none(),start:I});case 0:return te.some({listStyleType:te.some("upper-alpha"),start:Jd(I).toString()});case 1:return te.some({listStyleType:te.some("lower-alpha"),start:Jd(I).toString()});case 3:return te.some({listStyleType:te.none(),start:""});case 4:return te.none()}},Si=I=>{const Z=parseInt(I.start,10);return ho(I.listStyleType,"upper-alpha")?ws(Z):ho(I.listStyleType,"lower-alpha")?ws(Z).toLowerCase():I.start},Rs=I=>{const Z=Ha(I);!fn(Z)||Wd(I,Z)||I.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Si({start:I.dom.getAttrib(Z,"start","1"),listStyleType:te.from(I.dom.getStyle(Z,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:oe=>{const Oe=oe.getData();et(Oe.start).each(ze=>{I.execCommand("mceListUpdate",!1,{attrs:{start:ze.start==="1"?"":ze.start},styles:{"list-style-type":ze.listStyleType.getOr("")}})}),oe.close()}})},Tl=(I,Z)=>()=>{const oe=Ha(I);return R(oe)&&oe.nodeName===Z},fc=I=>{I.addCommand("mceListProps",()=>{Rs(I)})},Vs=I=>{I.on("BeforeExecCommand",Z=>{const oe=Z.command.toLowerCase();oe==="indent"?Fi(I):oe==="outdent"&&$c(I)}),I.addCommand("InsertUnorderedList",(Z,oe)=>{Au(I,"UL",oe)}),I.addCommand("InsertOrderedList",(Z,oe)=>{Au(I,"OL",oe)}),I.addCommand("InsertDefinitionList",(Z,oe)=>{Au(I,"DL",oe)}),I.addCommand("RemoveList",()=>{Gd(I)}),fc(I),I.addCommand("mceListUpdate",(Z,oe)=>{x(oe)&&Ds(I,oe)}),I.addQueryStateHandler("InsertUnorderedList",Tl(I,"UL")),I.addQueryStateHandler("InsertOrderedList",Tl(I,"OL")),I.addQueryStateHandler("InsertDefinitionList",Tl(I,"DL"))};var zr=tinymce.util.Tools.resolve("tinymce.html.Node");const gr=I=>I.type===3,ki=I=>I.length===0,Ol=I=>{const Z=(ze,Tt)=>{const Ln=zr.create("li");Ne(ze,so=>Ln.append(so)),Tt?I.insert(Ln,Tt,!0):I.append(Ln)},oe=(ze,Tt)=>gr(Tt)?[...ze,Tt]:!ki(ze)&&!gr(Tt)?(Z(ze,Tt),[]):ze,Oe=Pt(I.children(),oe,[]);ki(Oe)||Z(Oe)},Kc=I=>{I.on("PreInit",()=>{const{parser:Z}=I;Z.addNodeFilter("ul,ol",oe=>Ne(oe,Ol))})},cd=I=>{I.on("keydown",Z=>{Z.keyCode!==Vd.TAB||Vd.metaKeyPressed(Z)||I.undoManager.transact(()=>{(Z.shiftKey?$c(I):Fi(I))&&Z.preventDefault()})})},lm=I=>{as(I)&&cd(I),Hi(I)},_g=(I,Z)=>oe=>{const Oe=ze=>{oe.setActive(a1(ze.parents,Z)),oe.setEnabled(!Wd(I,ze.element)&&I.selection.isEditable())};return oe.setEnabled(I.selection.isEditable()),i1(I,Oe)},Sg=I=>{const Z=oe=>()=>I.execCommand(oe);I.hasPlugin("advlist")||(I.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:Z("InsertOrderedList"),onSetup:_g(I,"OL")}),I.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:Z("InsertUnorderedList"),onSetup:_g(I,"UL")}))},sb=(I,Z)=>oe=>i1(I,ze=>oe.setEnabled(a1(ze.parents,Z)&&!Wd(I,ze.element))),ab=I=>{const Z={text:"List properties...",icon:"ordered-list",onAction:()=>I.execCommand("mceListProps"),onSetup:sb(I,"OL")};I.ui.registry.addMenuItem("listprops",Z),I.ui.registry.addContextMenu("lists",{update:oe=>{const Oe=Ha(I,oe);return fn(Oe)?["listprops"]:[]}})};var Ou=()=>{r.add("lists",I=>(el(I),Kc(I),I.hasPlugin("rtc",!0)?fc(I):(lm(I),Vs(I)),Sg(I),ab(I),Bo(I)))};Ou()})();(function(){var r=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(le,xe)=>le.dispatch("insertCustomChar",{chr:xe}),u=(le,xe)=>{const Me=i(le,xe).chr;le.execCommand("mceInsertContent",!1,Me)},m=(le,xe,Me)=>{var pe;return Me(le,xe.prototype)?!0:((pe=le.constructor)===null||pe===void 0?void 0:pe.name)===xe.name},b=le=>{const xe=typeof le;return le===null?"null":xe==="object"&&Array.isArray(le)?"array":xe==="object"&&m(le,String,(Me,pe)=>pe.isPrototypeOf(Me))?"string":xe},h=le=>xe=>b(xe)===le,x=le=>xe=>typeof xe===le,S=le=>xe=>le===xe,B=h("array"),N=S(null),R=S(void 0),F=le=>le==null,W=le=>!F(le),$=x("function"),ee=(le=>()=>le)(!1);class ge{constructor(xe,Me){this.tag=xe,this.value=Me}static some(xe){return new ge(!0,xe)}static none(){return ge.singletonNone}fold(xe,Me){return this.tag?Me(this.value):xe()}isSome(){return this.tag}isNone(){return!this.tag}map(xe){return this.tag?ge.some(xe(this.value)):ge.none()}bind(xe){return this.tag?xe(this.value):ge.none()}exists(xe){return this.tag&&xe(this.value)}forall(xe){return!this.tag||xe(this.value)}filter(xe){return!this.tag||xe(this.value)?this:ge.none()}getOr(xe){return this.tag?this.value:xe}or(xe){return this.tag?this:xe}getOrThunk(xe){return this.tag?this.value:xe()}orThunk(xe){return this.tag?this:xe()}getOrDie(xe){if(this.tag)return this.value;throw new Error(xe??"Called getOrDie on None")}static from(xe){return W(xe)?ge.some(xe):ge.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(xe){this.tag&&xe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ge.singletonNone=new ge(!1);const he=Array.prototype.push,Ue=(le,xe)=>{const Me=le.length,pe=new Array(Me);for(let St=0;St<Me;St++){const $t=le[St];pe[St]=xe($t,St)}return pe},Te=(le,xe)=>{for(let Me=0,pe=le.length;Me<pe;Me++){const St=le[Me];xe(St,Me)}},te=(le,xe,Me)=>{for(let pe=0,St=le.length;pe<St;pe++){const $t=le[pe];if(xe($t,pe))return ge.some($t);if(Me($t,pe))break}return ge.none()},Ae=(le,xe)=>te(le,xe,ee),ne=le=>{const xe=[];for(let Me=0,pe=le.length;Me<pe;++Me){if(!B(le[Me]))throw new Error("Arr.flatten item "+Me+" was not an array, input: "+le);he.apply(xe,le[Me])}return xe},Ge=(le,xe)=>ne(Ue(le,xe));var $e=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ze=le=>xe=>xe.options.get(le),ot=le=>{const xe=le.options.register,Me=pe=>$(pe)||B(pe);xe("charmap",{processor:Me}),xe("charmap_append",{processor:Me})},Ce=Ze("charmap"),Ne=Ze("charmap_append"),D=$e.isArray,yt="User Defined",Pt=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],ln=le=>$e.grep(le,xe=>D(xe)&&xe.length===2),hn=le=>D(le)?ln(le):typeof le=="function"?le():[],Qe=(le,xe)=>{const Me=Ce(le);Me&&(xe=[{name:yt,characters:hn(Me)}]);const pe=Ne(le);if(pe){const St=$e.grep(xe,$t=>$t.name===yt);return St.length?(St[0].characters=[...St[0].characters,...hn(pe)],xe):xe.concat({name:yt,characters:hn(pe)})}return xe},On=le=>{const xe=Qe(le,Pt());return xe.length>1?[{name:"All",characters:Ge(xe,Me=>Me.characters)}].concat(xe):xe},sr=le=>({getCharMap:()=>On(le),insertChar:pe=>{u(le,pe)}}),pt=le=>{let xe=le;return{get:()=>xe,set:St=>{xe=St}}},bt=(le,xe)=>{let Me=null;const pe=()=>{N(Me)||(clearTimeout(Me),Me=null)};return{cancel:pe,throttle:(...$t)=>{pe(),Me=setTimeout(()=>{Me=null,le.apply(null,$t)},xe)}}},Zt=(le,xe,Me=0,pe)=>{const St=le.indexOf(xe,Me);return St!==-1?R(pe)?!0:St+xe.length<=pe:!1},Ur=String.fromCodePoint,ho=(le,xe,Me)=>Zt(Ur(le).toLowerCase(),Me)?!0:Zt(xe.toLowerCase(),Me)||Zt(xe.toLowerCase().replace(/\s+/g,""),Me),xn=(le,xe)=>{const Me=[],pe=xe.toLowerCase();return Te(le.characters,St=>{ho(St[0],St[1],pe)&&Me.push(St)}),Ue(Me,St=>({text:St[1],value:Ur(St[0]),icon:Ur(St[0])}))},Rn="pattern",J=(le,xe)=>{const Me=()=>[{label:"Search",type:"input",name:Rn},{type:"collection",name:"results"}],pe=()=>Ue(xe,vo=>({title:vo.name,name:vo.name,items:Me()})),St=()=>({type:"panel",items:Me()}),$t=()=>({type:"tabpanel",tabs:pe()}),Ct=xe.length===1?pt(yt):pt("All"),zt=(vo,To)=>{Ae(xe,Do=>Do.name===Ct.get()).each(Do=>{const As=xn(Do,To);vo.setData({results:As})})},on=bt(vo=>{const To=vo.getData().pattern;zt(vo,To)},40),wn=xe.length===1?St():$t(),Cn={pattern:"",results:xn(xe[0],"")},En={title:"Special Character",size:"normal",body:wn,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:Cn,onAction:(vo,To)=>{To.name==="results"&&(u(le,To.value),vo.close())},onTabChange:(vo,To)=>{Ct.set(To.newTabName),on.throttle(vo)},onChange:(vo,To)=>{To.name===Rn&&on.throttle(vo)}};le.windowManager.open(En).focus(Rn)},ir=(le,xe)=>{le.addCommand("mceShowCharmap",()=>{J(le,xe)})},vr=(le,xe)=>{le.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(Me,pe)=>new Promise((St,$t)=>{St(xn(xe,Me))}),onAction:(Me,pe,St)=>{le.selection.setRng(pe),le.insertContent(St),Me.hide()}})},Ko=le=>xe=>{const Me=()=>{xe.setEnabled(le.selection.isEditable())};return le.on("NodeChange",Me),Me(),()=>{le.off("NodeChange",Me)}},oi=le=>{const xe=()=>le.execCommand("mceShowCharmap");le.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:xe,onSetup:Ko(le)}),le.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:xe,onSetup:Ko(le)})};var Ke=()=>{r.add("charmap",le=>{ot(le);const xe=On(le);return ir(le,xe),oi(le),vr(le,xe[0]),sr(le)})};Ke()})();(function(){var r=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=(le=>xe=>le===xe)(null),m=le=>le,b=(le,xe)=>{const Me=le.length,pe=new Array(Me);for(let St=0;St<Me;St++){const $t=le[St];pe[St]=xe($t,St)}return pe},x={aletter:"[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]",midnumlet:"[-'\\.]",midletter:"[:]",midnum:"[+*/,;;]",numeric:"[0-9---------------------------------]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[------------------------------------------------------------------------------------------------------]",format:"[----\uFEFF-]",katakana:"[-------]",extendnumlet:"[=_--<>]",punctuation:"[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]"},S={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},B=[new RegExp(x.aletter),new RegExp(x.midnumlet),new RegExp(x.midletter),new RegExp(x.midnum),new RegExp(x.numeric),new RegExp(x.cr),new RegExp(x.lf),new RegExp(x.newline),new RegExp(x.extend),new RegExp(x.format),new RegExp(x.katakana),new RegExp(x.extendnumlet),new RegExp("@")],N="",R=new RegExp("^"+x.punctuation+"$"),F=/^\s+$/,W=B,$=S.OTHER,K=le=>{let xe=$;const Me=W.length;for(let pe=0;pe<Me;++pe){const St=W[pe];if(St&&St.test(le)){xe=pe;break}}return xe},ee=le=>{const xe={};return Me=>{if(xe[Me])return xe[Me];{const pe=le(Me);return xe[Me]=pe,pe}}},ge=le=>{const xe=ee(K);return b(le,xe)},he=(le,xe)=>{const Me=le[xe],pe=le[xe+1];if(xe<0||xe>le.length-1&&xe!==0||Me===S.ALETTER&&pe===S.ALETTER)return!1;const St=le[xe+2];if(Me===S.ALETTER&&(pe===S.MIDLETTER||pe===S.MIDNUMLET||pe===S.AT)&&St===S.ALETTER)return!1;const $t=le[xe-1];return(Me===S.MIDLETTER||Me===S.MIDNUMLET||pe===S.AT)&&pe===S.ALETTER&&$t===S.ALETTER||(Me===S.NUMERIC||Me===S.ALETTER)&&(pe===S.NUMERIC||pe===S.ALETTER)||(Me===S.MIDNUM||Me===S.MIDNUMLET)&&pe===S.NUMERIC&&$t===S.NUMERIC||Me===S.NUMERIC&&(pe===S.MIDNUM||pe===S.MIDNUMLET)&&St===S.NUMERIC||(Me===S.EXTEND||Me===S.FORMAT)&&(pe===S.ALETTER||pe===S.NUMERIC||pe===S.KATAKANA||pe===S.EXTEND||pe===S.FORMAT)||(pe===S.EXTEND||pe===S.FORMAT&&(St===S.ALETTER||St===S.NUMERIC||St===S.KATAKANA||St===S.EXTEND||St===S.FORMAT))&&(Me===S.ALETTER||Me===S.NUMERIC||Me===S.KATAKANA||Me===S.EXTEND||Me===S.FORMAT)||Me===S.CR&&pe===S.LF?!1:Me===S.NEWLINE||Me===S.CR||Me===S.LF||pe===S.NEWLINE||pe===S.CR||pe===S.LF?!0:!(Me===S.KATAKANA&&pe===S.KATAKANA||pe===S.EXTENDNUMLET&&(Me===S.ALETTER||Me===S.NUMERIC||Me===S.KATAKANA||Me===S.EXTENDNUMLET)||Me===S.EXTENDNUMLET&&(pe===S.ALETTER||pe===S.NUMERIC||pe===S.KATAKANA)||Me===S.AT)},Ue=N,Te=F,te=R,Ae=le=>le==="http"||le==="https",ne=(le,xe)=>{let Me;for(Me=xe;Me<le.length&&!Te.test(le[Me]);Me++);return Me},Ge=(le,xe)=>{const Me=ne(le,xe+1);return le.slice(xe+1,Me).join(Ue).substr(0,3)==="://"?Me:xe},$e=(le,xe,Me,pe)=>{const St=[],$t=[];let Ct=[];for(let zt=0;zt<Me.length;++zt)if(Ct.push(le[zt]),he(Me,zt)){const It=xe[zt];if((pe.includeWhitespace||!Te.test(It))&&(pe.includePunctuation||!te.test(It))){const on=zt-Ct.length+1,wn=zt+1,Cn=xe.slice(on,wn).join(Ue);if(Ae(Cn)){const En=Ge(xe,zt),ao=le.slice(wn,En);Array.prototype.push.apply(Ct,ao),zt=En}xe[zt+1]==="."&&/^([a-zA-Z]\.)+$/.test(Cn+".")?(Ct.push(le[zt+1]),$t.push({start:on,end:wn+1})):$t.push({start:on,end:wn}),St.push(Ct)}Ct=[]}return{words:St,indices:$t}},Ze=()=>({includeWhitespace:!1,includePunctuation:!1}),ot=(le,xe,Me)=>{Me={...Ze(),...Me};const pe=b(le,xe),St=ge(pe);return $e(le,pe,St,Me)},Ne=(le,xe,Me)=>ot(le,xe,Me).words,D=le=>le.replace(/\uFEFF/g,"");var yt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const Pt=(le,xe)=>{const Me=xe.getBlockElements(),pe=xe.getVoidElements(),St=on=>Me[on.nodeName]||pe[on.nodeName],$t=[];let Ct="";const zt=new yt(le,le);let It;for(;It=zt.next();)It.nodeType===3?Ct+=D(It.data):St(It)&&Ct.length&&($t.push(Ct),Ct="");return Ct.length&&$t.push(Ct),$t},ln=le=>le.replace(/\u200B/g,""),hn=le=>le.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,Qe=(le,xe)=>{const Me=ln(Pt(le,xe).join(`
`));return Ne(Me.split(""),m).length},On=(le,xe)=>{const Me=Pt(le,xe).join("");return hn(Me)},sr=(le,xe)=>{const Me=Pt(le,xe).join("").replace(/\s/g,"");return hn(Me)},pt=(le,xe)=>()=>xe(le.getBody(),le.schema),bt=(le,xe)=>()=>xe(le.selection.getRng().cloneContents(),le.schema),Zt=le=>pt(le,Qe),Ur=le=>({body:{getWordCount:Zt(le),getCharacterCount:pt(le,On),getCharacterCountWithoutSpaces:pt(le,sr)},selection:{getWordCount:bt(le,Qe),getCharacterCount:bt(le,On),getCharacterCountWithoutSpaces:bt(le,sr)},getCount:Zt(le)}),ho=(le,xe)=>{le.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(xe.body.getWordCount()),String(xe.selection.getWordCount())],["Characters (no spaces)",String(xe.body.getCharacterCountWithoutSpaces()),String(xe.selection.getCharacterCountWithoutSpaces())],["Characters",String(xe.body.getCharacterCount()),String(xe.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},xn=(le,xe)=>{le.addCommand("mceWordCount",()=>ho(le,xe))},Rn=(le,xe)=>{let Me=null;return{cancel:()=>{u(Me)||(clearTimeout(Me),Me=null)},throttle:(...$t)=>{u(Me)&&(Me=setTimeout(()=>{Me=null,le.apply(null,$t)},xe))}}};var J=tinymce.util.Tools.resolve("tinymce.util.Delay");const ir=(le,xe)=>{le.dispatch("wordCountUpdate",{wordCount:{words:xe.body.getWordCount(),characters:xe.body.getCharacterCount(),charactersWithoutSpaces:xe.body.getCharacterCountWithoutSpaces()}})},vr=(le,xe)=>{ir(le,xe)},Ko=(le,xe,Me)=>{const pe=Rn(()=>vr(le,xe),Me);le.on("init",()=>{vr(le,xe),J.setEditorTimeout(le,()=>{le.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",pe.throttle)},0),le.on("remove",pe.cancel)})},oi=le=>{const xe=()=>le.execCommand("mceWordCount");le.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:xe}),le.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:xe})};var Ke=(le=300)=>{r.add("wordcount",xe=>{const Me=Ur(xe);return xn(xe,Me),oi(xe),Ko(xe,Me,le),Me})};Ke()})();tinymce.Resource.add("ui/default/content.css",`.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe89d}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe89d;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#fed635}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly [contentEditable=true]:focus,.mce-content-body.mce-content-readonly [contentEditable=true]:hover{outline:0}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0,84,180,.7)}}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}body{font-family:sans-serif}table{border-collapse:collapse}`);tinymce.Resource.add("content/default/content.css",`body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) td,table[border]:not([border="0"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) td,table[border]:not([border="0"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) td,table[border]:not([border="0"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}`);var epe=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],tpe=function(r){return epe.map(function(i){return i.toLowerCase()}).indexOf(r.toLowerCase())!==-1},npe=function(r,i,u){Object.keys(i).filter(tpe).forEach(function(m){var b=i[m];typeof b=="function"&&(m==="onInit"?b(r,u):u.on(m.substring(2),function(h){return b(h,u)}))})},ope=function(r,i,u,m){var b=r.modelEvents?r.modelEvents:null,h=Array.isArray(b)?b.join(" "):b;Gn(m,function(x,S){u&&typeof x=="string"&&x!==S&&x!==u.getContent({format:r.outputFormat})&&u.setContent(x)}),u.on(h||"change input undo redo",function(){i.emit("update:modelValue",u.getContent({format:r.outputFormat}))})},rpe=function(r,i,u,m,b,h){m.setContent(h()),u.attrs["onUpdate:modelValue"]&&ope(i,u,m,b),npe(r,u.attrs,m)},yK=0,tX=function(r){var i=Date.now(),u=Math.floor(Math.random()*1e9);return yK++,r+"_"+u+yK+String(i)},spe=function(r){return r!==null&&r.tagName.toLowerCase()==="textarea"},xK=function(r){return typeof r>"u"||r===""?[]:Array.isArray(r)?r:r.split(" ")},ape=function(r,i){return xK(r).concat(xK(i))},ipe=function(r){return r==null},wK=function(){return{listeners:[],scriptId:tX("tiny-script"),scriptLoaded:!1}},lpe=function(){var r=wK(),i=function(b,h,x,S){var B=h.createElement("script");B.referrerPolicy="origin",B.type="application/javascript",B.id=b,B.src=x;var N=function(){B.removeEventListener("load",N),S()};B.addEventListener("load",N),h.head&&h.head.appendChild(B)},u=function(b,h,x){r.scriptLoaded?x():(r.listeners.push(x),b.getElementById(r.scriptId)||i(r.scriptId,b,h,function(){r.listeners.forEach(function(S){return S()}),r.scriptLoaded=!0}))},m=function(){r=wK()};return{load:u,reinitialize:m}},cpe=lpe(),upe=function(){return typeof window<"u"?window:global},_w=function(){var r=upe();return r&&r.tinymce?r.tinymce:null},dpe={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(r){return r==="html"||r==="text"}}},Mp=function(){return Mp=Object.assign||function(r){for(var i,u=1,m=arguments.length;u<m;u++){i=arguments[u];for(var b in i)Object.prototype.hasOwnProperty.call(i,b)&&(r[b]=i[b])}return r},Mp.apply(this,arguments)},fpe=function(r,i,u,m){return r(m||"div",{id:i,ref:u})},mpe=function(r,i,u){return r("textarea",{id:i,visibility:"hidden",ref:u})},AH={selector:void 0,target:void 0},nX=sq({props:dpe,setup:function(r,i){var u=r.init?Mp(Mp({},r.init),AH):Mp({},AH),m=aO(r),b=m.disabled,h=m.modelValue,x=m.tagName,S=wo(null),B=null,N=r.id||tX("tiny-vue"),R=r.init&&r.init.inline||r.inline,F=!!i.attrs["onUpdate:modelValue"],W=!0,$=r.initialValue?r.initialValue:"",K="",ee=function(Ue){return F?function(){return h!=null&&h.value?h.value:""}:function(){return Ue?$:K}},ge=function(){var Ue=ee(W),Te=Mp(Mp({},u),{readonly:r.disabled,target:S.value,plugins:ape(u.plugins,r.plugins),toolbar:r.toolbar||u.toolbar,inline:R,setup:function(te){B=te,te.on("init",function(Ae){return rpe(Ae,r,i,te,h,Ue)}),typeof u.setup=="function"&&u.setup(te)}});spe(S.value)&&(S.value.style.visibility=""),_w().init(Te),W=!1};Gn(b,function(Ue){var Te;B!==null&&(typeof((Te=B.mode)===null||Te===void 0?void 0:Te.set)=="function"?B.mode.set(Ue?"readonly":"design"):B.setMode(Ue?"readonly":"design"))}),Gn(x,function(Ue){var Te;F||(K=B.getContent()),(Te=_w())===null||Te===void 0||Te.remove(B),Ma(function(){return ge()})}),Ic(function(){if(_w()!==null)ge();else if(S.value&&S.value.ownerDocument){var Ue=r.cloudChannel?r.cloudChannel:"7",Te=r.apiKey?r.apiKey:"no-api-key",te=ipe(r.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(Te,"/tinymce/").concat(Ue,"/tinymce.min.js"):r.tinymceScriptSrc;cpe.load(S.value.ownerDocument,te,ge)}}),Bc(function(){_w()!==null&&_w().remove(B)}),R||(TV(function(){W||ge()}),OV(function(){var Ue;F||(K=B.getContent()),(Ue=_w())===null||Ue===void 0||Ue.remove(B)}));var he=function(Ue){var Te;K=B.getContent(),(Te=_w())===null||Te===void 0||Te.remove(B),u=Mp(Mp(Mp({},u),Ue),AH),Ma(function(){return ge()})};return i.expose({rerender:he,getEditor:function(){return B}}),function(){return R?fpe(Wp,N,S,r.tagName):mpe(Wp,N,S)}}});let Bp,D8,ey;class oX{constructor(i){Sr(this,"editor_id",null);Sr(this,"editor",null);Sr(this,"wordCount",wo(0));Sr(this,"characterCount",wo(0));this.editor_id=i,Bp=vh(),D8=d$(),ey=Y0()}getInit(){return{license_key:"gpl",language:"de",height:"100%",menubar:!1,statusbar:!1,plugins:"lists charmap wordcount",toolbar:Bp.tinyToolbar,valid_elements:Bp.tinyValidElements,formats:Bp.tinyFormats,style_formats:Bp.tinyStyles,custom_undo_redo_levels:10,text_patterns:!1,skin:"default",content_css:"default",content_style:Bp.tinyContentStyle,browser_spellcheck:Bp.allow_spellcheck,highlight_on_focus:!0,iframe_aria_text:"Editor Abgabe-Text",paste_as_text:!1,paste_block_drop:!0,paste_merge_formats:!0,paste_tab_spaces:4,smart_paste:!1,paste_data_images:!1,paste_remove_styles_if_webkit:!0,paste_webkit_styles:"none",paste_preprocess:this.handlePaste}}init(){this.editor=Qhe.get(this.editor_id),this.applyZoom(),this.applyFormat(),this.applyWordCount()}handleCopy(i){D8.setContent(i.clipboardData.getData("text/html"))}handlePaste(i,u){D8.getPasteAllowed(u.content)||(u.content="",D8.showWarning())}async applyFocus(){try{await Ma(),this.editor.focus()}catch{}}applyFormat(){for(const i of document.getElementsByClassName("tox-tinymce-aux"))i.classList.add(Bp.contentClass)}applyZoom(){try{this.editor.dom.setStyle(this.editor.dom.doc.body,"font-size",ey.editor_zoom+"rem"),this.editor.dom.setStyle(this.editor.dom.select("h1"),"font-size",ey.editor_zoom*Bp.tinyH1Size+"rem"),this.editor.dom.setStyle(this.editor.dom.select("h2"),"font-size",ey.editor_zoom*Bp.tinyH2Size+"rem"),this.editor.dom.setStyle(this.editor.dom.select("h3"),"font-size",ey.editor_zoom+"rem"),this.editor.dom.setStyle(this.editor.dom.select("h4"),"font-size",ey.editor_zoom+"rem"),this.editor.dom.setStyle(this.editor.dom.select("h5"),"font-size",ey.editor_zoom+"rem"),this.editor.dom.setStyle(this.editor.dom.select("h6"),"font-size",ey.editor_zoom+"rem")}catch{}}applyScrolling(){try{this.editor.selection.getNode().scrollIntoView(!1)}catch{}}applyWordCount(){try{const i=this.editor.plugins.wordcount;this.wordCount.value=i.body.getWordCount(),this.characterCount.value=i.body.getCharacterCount()}catch{}}}const gpe={id:"app-note-edit-wrapper"},hpe=["for"],ppe={class:"tinyWrapper"},bpe={class:"wordCountWrapper"},vpe={__name:"EditNote",props:["noteKey","noteLabel"],setup(r){const i=iy(),u=vh(),m=Y0(),b=Ll(),h=r,x=new oX("app-note-"+h.noteKey);Gn(()=>u.contentClass,x.applyFormat.bind(x)),Gn(()=>m.editor_zoom,x.applyZoom.bind(x)),Gn(()=>b.focusChange,S);async function S(){b.focusTarget=="right"&&b.isNotesSelected&&i.activeKey==h.noteKey&&x.applyFocus()}function B(){x.init()}function N(){i.updateContent(!0),x.applyZoom(),x.applyWordCount(),x.applyScrolling()}function R(){i.updateContent(!0),x.applyWordCount(),x.applyScrolling()}return(F,W)=>(Xo(),Sl("div",gpe,[nt("label",{class:"hidden",for:"app-note-"+h.noteKey},Ml("Verborgenes Feld zur "+h.noteLabel),9,hpe),nt("div",ppe,[fe(Ve(nX),{id:"app-note-"+h.noteKey,modelValue:Ve(i).editNotes[h.noteKey].note_text,"onUpdate:modelValue":W[0]||(W[0]=$=>Ve(i).editNotes[h.noteKey].note_text=$),onInit:B,onChange:N,onKeyup:R,onKeydown:Ve(b).handleKeyDown,onCopy:Ve(x).handleCopy,onCut:Ve(x).handleCopy,"api-key":"no-api-key",init:Ve(x).getInit()},null,8,["id","modelValue","onKeydown","onCopy","onCut","init"])]),qo(nt("div",bpe,[fe(Ar,{variant:"text",size:"small",onClick:W[1]||(W[1]=$=>Ve(m).toggleWordCountCharacters()),text:Ve(m).word_count_characters?Ve(x).characterCount.value+" Zeichen":Ve(x).wordCount.value+" Wrter"},null,8,["text"])],512),[[pr,Ve(m).word_count_enabled]])]))}},ype=gg(vpe,[["__scopeId","data-v-9e2cf43c"]]),xpe=r=>(vy("data-v-ae54263f"),r=r(),yy(),r),wpe={id:"app-essay-edit-wrapper"},Cpe=xpe(()=>nt("label",{for:"app-essay",class:"hidden"},"Verborgenes Feld zum Abgabe-Text",-1)),_pe={class:"tinyWrapper"},Spe={class:"wordCountWrapper"},kpe={__name:"EditEssay",setup(r){const i=Lp(),u=vh(),m=Y0(),b=Ll(),h=new oX("app-essay");Gn(()=>u.contentClass,h.applyFormat.bind(h)),Gn(()=>m.editor_zoom,h.applyZoom.bind(h)),Gn(()=>b.focusChange,x);async function x(){b.focusTarget=="right"&&b.isEssayVisible&&h.applyFocus()}function S(){h.init()}function B(){i.updateContent(!0),h.applyZoom(),h.applyWordCount(),h.applyScrolling()}function N(){i.updateContent(!0),h.applyWordCount(),h.applyScrolling()}return(R,F)=>(Xo(),Sl("div",wpe,[Cpe,nt("div",_pe,[fe(Ve(nX),{id:"app-essay",modelValue:Ve(i).currentContent,"onUpdate:modelValue":F[0]||(F[0]=W=>Ve(i).currentContent=W),onInit:S,onChange:B,onKeyup:N,onKeydown:Ve(b).handleKeyDown,onCopy:Ve(h).handleCopy,onCut:Ve(h).handleCopy,"api-key":"no-api-key",init:Ve(h).getInit()},null,8,["modelValue","onKeydown","onCopy","onCut","init"])]),qo(nt("div",Spe,[fe(Ar,{variant:"text",size:"small",onClick:F[1]||(F[1]=W=>Ve(m).toggleWordCountCharacters()),text:Ve(m).word_count_characters?Ve(h).characterCount.value+" Zeichen":Ve(h).wordCount.value+" Wrter"},null,8,["text"])],512),[[pr,Ve(m).word_count_enabled]])]))}},Epe=gg(kpe,[["__scopeId","data-v-ae54263f"]]),Ape=Jn({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...ts(),...MM({transition:{component:yY}})},"VCounter"),Tpe=rr()({name:"VCounter",functional:!0,props:Ape(),setup(r,i){let{slots:u}=i;const m=ct(()=>r.max?`${r.value} / ${r.max}`:String(r.value));return Kr(()=>fe(ly,{transition:r.transition},{default:()=>[qo(fe("div",{class:["v-counter",{"text-error":r.max&&!r.disabled&&parseFloat(r.value)>parseFloat(r.max)},r.class],style:r.style},[u.default?u.default({counter:m.value,max:r.max,value:r.value}):m.value]),[[pr,r.active]])]})),{}}}),Ope=Jn({text:String,onClick:ug(),...ts(),...zl()},"VLabel"),Dpe=rr()({name:"VLabel",props:Ope(),setup(r,i){let{slots:u}=i;return Kr(()=>{var m;return fe("label",{class:["v-label",{"v-label--clickable":!!r.onClick},r.class],style:r.style,onClick:r.onClick},[r.text,(m=u.default)==null?void 0:m.call(u)])}),{}}}),Rpe=Jn({floating:Boolean,...ts()},"VFieldLabel"),R8=rr()({name:"VFieldLabel",props:Rpe(),setup(r,i){let{slots:u}=i;return Kr(()=>fe(Dpe,{class:["v-field-label",{"v-field-label--floating":r.floating},r.class],style:r.style,"aria-hidden":r.floating||void 0},u)),{}}});function rX(r){const{t:i}=iG();function u(m){let{name:b}=m;const h={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[b],x=r[`onClick:${b}`],S=x&&h?i(`$vuetify.input.${h}`,r.label??""):void 0;return fe(tr,{icon:r[`${b}Icon`],"aria-label":S,onClick:x},null)}return{InputIcon:u}}const sX=Jn({focused:Boolean,"onUpdate:focused":ug()},"focus");function aX(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jp();const u=Pd(r,"focused"),m=ct(()=>({[`${i}--focused`]:u.value}));function b(){u.value=!0}function h(){u.value=!1}return{focusClasses:m,isFocused:u,focus:b,blur:h}}const Npe=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],iX=Jn({appendInnerIcon:gl,bgColor:String,clearable:Boolean,clearIcon:{type:gl,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:gl,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:r=>Npe.includes(r)},"onClick:clear":ug(),"onClick:appendInner":ug(),"onClick:prependInner":ug(),...ts(),...JV(),...fg(),...zl()},"VField"),lX=rr()({name:"VField",inheritAttrs:!1,props:{id:String,...sX(),...iX()},emits:{"update:focused":r=>!0,"update:modelValue":r=>!0},setup(r,i){let{attrs:u,emit:m,slots:b}=i;const{themeClasses:h}=ac(r),{loaderClasses:x}=QV(r),{focusClasses:S,isFocused:B,focus:N,blur:R}=aX(r),{InputIcon:F}=rX(r),{roundedClasses:W}=mg(r),{rtlClasses:$}=n1(),K=ct(()=>r.dirty||r.active),ee=ct(()=>!r.singleLine&&!!(r.label||b.label)),ge=xy(),he=ct(()=>r.id||`input-${ge}`),Ue=ct(()=>`${he.value}-messages`),Te=wo(),te=wo(),Ae=wo(),ne=ct(()=>["plain","underlined"].includes(r.variant)),{backgroundColorClasses:Ge,backgroundColorStyles:$e}=Vp(jr(r,"bgColor")),{textColorClasses:Ze,textColorStyles:ot}=Q0(ct(()=>r.error||r.disabled?void 0:K.value&&B.value?r.color:r.baseColor));Gn(K,yt=>{if(ee.value){const Pt=Te.value.$el,ln=te.value.$el;requestAnimationFrame(()=>{const hn=$V(Pt),Qe=ln.getBoundingClientRect(),On=Qe.x-hn.x,sr=Qe.y-hn.y-(hn.height/2-Qe.height/2),pt=Qe.width/.75,bt=Math.abs(pt-hn.width)>1?{maxWidth:dr(pt)}:void 0,Zt=getComputedStyle(Pt),Ur=getComputedStyle(ln),ho=parseFloat(Zt.transitionDuration)*1e3||150,xn=parseFloat(Ur.getPropertyValue("--v-field-label-scale")),Rn=Ur.getPropertyValue("color");Pt.style.visibility="visible",ln.style.visibility="hidden",ek(Pt,{transform:`translate(${On}px, ${sr}px) scale(${xn})`,color:Rn,...bt},{duration:ho,easing:X8,direction:yt?"normal":"reverse"}).finished.then(()=>{Pt.style.removeProperty("visibility"),ln.style.removeProperty("visibility")})})}},{flush:"post"});const Ce=ct(()=>({isActive:K,isFocused:B,controlRef:Ae,blur:R,focus:N}));function Ne(yt){yt.target!==document.activeElement&&yt.preventDefault()}function D(yt){var Pt;yt.key!=="Enter"&&yt.key!==" "||(yt.preventDefault(),yt.stopPropagation(),(Pt=r["onClick:clear"])==null||Pt.call(r,new MouseEvent("click")))}return Kr(()=>{var On,sr,pt;const yt=r.variant==="outlined",Pt=!!(b["prepend-inner"]||r.prependInnerIcon),ln=!!(r.clearable||b.clear),hn=!!(b["append-inner"]||r.appendInnerIcon||ln),Qe=()=>b.label?b.label({...Ce.value,label:r.label,props:{for:he.value}}):r.label;return fe("div",_a({class:["v-field",{"v-field--active":K.value,"v-field--appended":hn,"v-field--center-affix":r.centerAffix??!ne.value,"v-field--disabled":r.disabled,"v-field--dirty":r.dirty,"v-field--error":r.error,"v-field--flat":r.flat,"v-field--has-background":!!r.bgColor,"v-field--persistent-clear":r.persistentClear,"v-field--prepended":Pt,"v-field--reverse":r.reverse,"v-field--single-line":r.singleLine,"v-field--no-label":!Qe(),[`v-field--variant-${r.variant}`]:!0},h.value,Ge.value,S.value,x.value,W.value,$.value,r.class],style:[$e.value,r.style],onClick:Ne},u),[fe("div",{class:"v-field__overlay"},null),fe(rY,{name:"v-field",active:!!r.loading,color:r.error?"error":typeof r.loading=="string"?r.loading:r.color},{default:b.loader}),Pt&&fe("div",{key:"prepend",class:"v-field__prepend-inner"},[r.prependInnerIcon&&fe(F,{key:"prepend-icon",name:"prependInner"},null),(On=b["prepend-inner"])==null?void 0:On.call(b,Ce.value)]),fe("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(r.variant)&&ee.value&&fe(R8,{key:"floating-label",ref:te,class:[Ze.value],floating:!0,for:he.value,style:ot.value},{default:()=>[Qe()]}),fe(R8,{ref:Te,for:he.value},{default:()=>[Qe()]}),(sr=b.default)==null?void 0:sr.call(b,{...Ce.value,props:{id:he.value,class:"v-field__input","aria-describedby":Ue.value},focus:N,blur:R})]),ln&&fe(kme,{key:"clear"},{default:()=>[qo(fe("div",{class:"v-field__clearable",onMousedown:bt=>{bt.preventDefault(),bt.stopPropagation()}},[fe(sc,{defaults:{VIcon:{icon:r.clearIcon}}},{default:()=>[b.clear?b.clear({...Ce.value,props:{onKeydown:D,onFocus:N,onBlur:R,onClick:r["onClick:clear"]}}):fe(F,{name:"clear",onKeydown:D,onFocus:N,onBlur:R},null)]})]),[[pr,r.dirty]])]}),hn&&fe("div",{key:"append",class:"v-field__append-inner"},[(pt=b["append-inner"])==null?void 0:pt.call(b,Ce.value),r.appendInnerIcon&&fe(F,{key:"append-icon",name:"appendInner"},null)]),fe("div",{class:["v-field__outline",Ze.value],style:ot.value},[yt&&fe(Es,null,[fe("div",{class:"v-field__outline__start"},null),ee.value&&fe("div",{class:"v-field__outline__notch"},[fe(R8,{ref:te,floating:!0,for:he.value},{default:()=>[Qe()]})]),fe("div",{class:"v-field__outline__end"},null)]),ne.value&&ee.value&&fe(R8,{ref:te,floating:!0,for:he.value},{default:()=>[Qe()]})])])}),{controlRef:Ae}}});function Ipe(r){const i=Object.keys(lX.props).filter(u=>!HV(u)&&u!=="class"&&u!=="style");return $q(r,i)}const Bpe=Jn({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...ts(),...MM({transition:{component:yY,leaveAbsolute:!0,group:!0}})},"VMessages"),Mpe=rr()({name:"VMessages",props:Bpe(),setup(r,i){let{slots:u}=i;const m=ct(()=>Rw(r.messages)),{textColorClasses:b,textColorStyles:h}=Q0(ct(()=>r.color));return Kr(()=>fe(ly,{transition:r.transition,tag:"div",class:["v-messages",b.value,r.class],style:[h.value,r.style],role:"alert","aria-live":"polite"},{default:()=>[r.active&&m.value.map((x,S)=>fe("div",{class:"v-messages__message",key:`${S}-${m.value}`},[u.message?u.message({message:x}):x]))]})),{}}}),Ppe=Symbol.for("vuetify:form");function Lpe(){return Yi(Ppe,null)}const Fpe=Jn({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...sX()},"validation");function zpe(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jp(),u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xy();const m=Pd(r,"modelValue"),b=ct(()=>r.validationValue===void 0?m.value:r.validationValue),h=Lpe(),x=wo([]),S=Tr(!0),B=ct(()=>!!(Rw(m.value===""?null:m.value).length||Rw(b.value===""?null:b.value).length)),N=ct(()=>!!(r.disabled??(h==null?void 0:h.isDisabled.value))),R=ct(()=>!!(r.readonly??(h==null?void 0:h.isReadonly.value))),F=ct(()=>{var Ae;return(Ae=r.errorMessages)!=null&&Ae.length?Rw(r.errorMessages).concat(x.value).slice(0,Math.max(0,+r.maxErrors)):x.value}),W=ct(()=>{let Ae=(r.validateOn??(h==null?void 0:h.validateOn.value))||"input";Ae==="lazy"&&(Ae="input lazy"),Ae==="eager"&&(Ae="input eager");const ne=new Set((Ae==null?void 0:Ae.split(" "))??[]);return{input:ne.has("input"),blur:ne.has("blur")||ne.has("input")||ne.has("invalid-input"),invalidInput:ne.has("invalid-input"),lazy:ne.has("lazy"),eager:ne.has("eager")}}),$=ct(()=>{var Ae;return r.error||(Ae=r.errorMessages)!=null&&Ae.length?!1:r.rules.length?S.value?x.value.length||W.value.lazy?null:!0:!x.value.length:!0}),K=Tr(!1),ee=ct(()=>({[`${i}--error`]:$.value===!1,[`${i}--dirty`]:B.value,[`${i}--disabled`]:N.value,[`${i}--readonly`]:R.value})),ge=kl("validation"),he=ct(()=>r.name??Ve(u));DV(()=>{h==null||h.register({id:he.value,vm:ge,validate:te,reset:Ue,resetValidation:Te})}),Bc(()=>{h==null||h.unregister(he.value)}),Ic(async()=>{W.value.lazy||await te(!W.value.eager),h==null||h.update(he.value,$.value,F.value)}),yh(()=>W.value.input||W.value.invalidInput&&$.value===!1,()=>{Gn(b,()=>{if(b.value!=null)te();else if(r.focused){const Ae=Gn(()=>r.focused,ne=>{ne||te(),Ae()})}})}),yh(()=>W.value.blur,()=>{Gn(()=>r.focused,Ae=>{Ae||te()})}),Gn([$,F],()=>{h==null||h.update(he.value,$.value,F.value)});async function Ue(){m.value=null,await Ma(),await Te()}async function Te(){S.value=!0,W.value.lazy?x.value=[]:await te(!W.value.eager)}async function te(){let Ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const ne=[];K.value=!0;for(const Ge of r.rules){if(ne.length>=+(r.maxErrors??1))break;const Ze=await(typeof Ge=="function"?Ge:()=>Ge)(b.value);if(Ze!==!0){if(Ze!==!1&&typeof Ze!="string"){console.warn(`${Ze} is not a valid value. Rule functions must return boolean true or a string.`);continue}ne.push(Ze||"")}}return x.value=ne,K.value=!1,S.value=Ae,x.value}return{errorMessages:F,isDirty:B,isDisabled:N,isReadonly:R,isPristine:S,isValid:$,isValidating:K,reset:Ue,resetValidation:Te,validate:te,validationClasses:ee}}const cX=Jn({id:String,appendIcon:gl,centerAffix:{type:Boolean,default:!0},prependIcon:gl,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:r=>["horizontal","vertical"].includes(r)},"onClick:prepend":ug(),"onClick:append":ug(),...ts(),...qp(),...Ble(Gp(),["maxWidth","minWidth","width"]),...zl(),...Fpe()},"VInput"),CK=rr()({name:"VInput",props:{...cX()},emits:{"update:modelValue":r=>!0},setup(r,i){let{attrs:u,slots:m,emit:b}=i;const{densityClasses:h}=o1(r),{dimensionStyles:x}=Yp(r),{themeClasses:S}=ac(r),{rtlClasses:B}=n1(),{InputIcon:N}=rX(r),R=xy(),F=ct(()=>r.id||`input-${R}`),W=ct(()=>`${F.value}-messages`),{errorMessages:$,isDirty:K,isDisabled:ee,isReadonly:ge,isPristine:he,isValid:Ue,isValidating:Te,reset:te,resetValidation:Ae,validate:ne,validationClasses:Ge}=zpe(r,"v-input",F),$e=ct(()=>({id:F,messagesId:W,isDirty:K,isDisabled:ee,isReadonly:ge,isPristine:he,isValid:Ue,isValidating:Te,reset:te,resetValidation:Ae,validate:ne})),Ze=ct(()=>{var ot;return(ot=r.errorMessages)!=null&&ot.length||!he.value&&$.value.length?$.value:r.hint&&(r.persistentHint||r.focused)?r.hint:r.messages});return Kr(()=>{var yt,Pt,ln,hn;const ot=!!(m.prepend||r.prependIcon),Ce=!!(m.append||r.appendIcon),Ne=Ze.value.length>0,D=!r.hideDetails||r.hideDetails==="auto"&&(Ne||!!m.details);return fe("div",{class:["v-input",`v-input--${r.direction}`,{"v-input--center-affix":r.centerAffix,"v-input--hide-spin-buttons":r.hideSpinButtons},h.value,S.value,B.value,Ge.value,r.class],style:[x.value,r.style]},[ot&&fe("div",{key:"prepend",class:"v-input__prepend"},[(yt=m.prepend)==null?void 0:yt.call(m,$e.value),r.prependIcon&&fe(N,{key:"prepend-icon",name:"prepend"},null)]),m.default&&fe("div",{class:"v-input__control"},[(Pt=m.default)==null?void 0:Pt.call(m,$e.value)]),Ce&&fe("div",{key:"append",class:"v-input__append"},[r.appendIcon&&fe(N,{key:"append-icon",name:"append"},null),(ln=m.append)==null?void 0:ln.call(m,$e.value)]),D&&fe("div",{class:"v-input__details"},[fe(Mpe,{id:W.value,active:Ne,messages:Ze.value},{message:m.message}),(hn=m.details)==null?void 0:hn.call(m,$e.value)])])}),{reset:te,resetValidation:Ae,validate:ne,isValid:Ue,errorMessages:$}}}),Hpe=Jn({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:r=>!isNaN(parseFloat(r))},maxRows:{type:[Number,String],validator:r=>!isNaN(parseFloat(r))},suffix:String,modelModifiers:Object,...cX(),...iX()},"VTextarea"),Vpe=rr()({name:"VTextarea",directives:{Intersect:pY},inheritAttrs:!1,props:Hpe(),emits:{"click:control":r=>!0,"mousedown:control":r=>!0,"update:focused":r=>!0,"update:modelValue":r=>!0},setup(r,i){let{attrs:u,emit:m,slots:b}=i;const h=Pd(r,"modelValue"),{isFocused:x,focus:S,blur:B}=aX(r),N=ct(()=>typeof r.counterValue=="function"?r.counterValue(h.value):(h.value||"").toString().length),R=ct(()=>{if(u.maxlength)return u.maxlength;if(!(!r.counter||typeof r.counter!="number"&&typeof r.counter!="string"))return r.counter});function F(Ce,Ne){var D,yt;!r.autofocus||!Ce||(yt=(D=Ne[0].target)==null?void 0:D.focus)==null||yt.call(D)}const W=wo(),$=wo(),K=Tr(""),ee=wo(),ge=ct(()=>r.persistentPlaceholder||x.value||r.active);function he(){var Ce;ee.value!==document.activeElement&&((Ce=ee.value)==null||Ce.focus()),x.value||S()}function Ue(Ce){he(),m("click:control",Ce)}function Te(Ce){m("mousedown:control",Ce)}function te(Ce){Ce.stopPropagation(),he(),Ma(()=>{h.value="",zle(r["onClick:clear"],Ce)})}function Ae(Ce){var D;const Ne=Ce.target;if(h.value=Ne.value,(D=r.modelModifiers)!=null&&D.trim){const yt=[Ne.selectionStart,Ne.selectionEnd];Ma(()=>{Ne.selectionStart=yt[0],Ne.selectionEnd=yt[1]})}}const ne=wo(),Ge=wo(+r.rows),$e=ct(()=>["plain","underlined"].includes(r.variant));xh(()=>{r.autoGrow||(Ge.value=+r.rows)});function Ze(){r.autoGrow&&Ma(()=>{if(!ne.value||!$.value)return;const Ce=getComputedStyle(ne.value),Ne=getComputedStyle($.value.$el),D=parseFloat(Ce.getPropertyValue("--v-field-padding-top"))+parseFloat(Ce.getPropertyValue("--v-input-padding-top"))+parseFloat(Ce.getPropertyValue("--v-field-padding-bottom")),yt=ne.value.scrollHeight,Pt=parseFloat(Ce.lineHeight),ln=Math.max(parseFloat(r.rows)*Pt+D,parseFloat(Ne.getPropertyValue("--v-input-control-height"))),hn=parseFloat(r.maxRows)*Pt+D||1/0,Qe=Pw(yt??0,ln,hn);Ge.value=Math.floor((Qe-D)/Pt),K.value=dr(Qe)})}Ic(Ze),Gn(h,Ze),Gn(()=>r.rows,Ze),Gn(()=>r.maxRows,Ze),Gn(()=>r.density,Ze);let ot;return Gn(ne,Ce=>{Ce?(ot=new ResizeObserver(Ze),ot.observe(ne.value)):ot==null||ot.disconnect()}),Bc(()=>{ot==null||ot.disconnect()}),Kr(()=>{const Ce=!!(b.counter||r.counter||r.counterValue),Ne=!!(Ce||b.details),[D,yt]=Ple(u),{modelValue:Pt,...ln}=CK.filterProps(r),hn=Ipe(r);return fe(CK,_a({ref:W,modelValue:h.value,"onUpdate:modelValue":Qe=>h.value=Qe,class:["v-textarea v-text-field",{"v-textarea--prefixed":r.prefix,"v-textarea--suffixed":r.suffix,"v-text-field--prefixed":r.prefix,"v-text-field--suffixed":r.suffix,"v-textarea--auto-grow":r.autoGrow,"v-textarea--no-resize":r.noResize||r.autoGrow,"v-input--plain-underlined":$e.value},r.class],style:r.style},D,ln,{centerAffix:Ge.value===1&&!$e.value,focused:x.value}),{...b,default:Qe=>{let{id:On,isDisabled:sr,isDirty:pt,isReadonly:bt,isValid:Zt}=Qe;return fe(lX,_a({ref:$,style:{"--v-textarea-control-height":K.value},onClick:Ue,onMousedown:Te,"onClick:clear":te,"onClick:prependInner":r["onClick:prependInner"],"onClick:appendInner":r["onClick:appendInner"]},hn,{id:On.value,active:ge.value||pt.value,centerAffix:Ge.value===1&&!$e.value,dirty:pt.value||r.dirty,disabled:sr.value,focused:x.value,error:Zt.value===!1}),{...b,default:Ur=>{let{props:{class:ho,...xn}}=Ur;return fe(Es,null,[r.prefix&&fe("span",{class:"v-text-field__prefix"},[r.prefix]),qo(fe("textarea",_a({ref:ee,class:ho,value:h.value,onInput:Ae,autofocus:r.autofocus,readonly:bt.value,disabled:sr.value,placeholder:r.placeholder,rows:r.rows,name:r.name,onFocus:he,onBlur:B},xn,yt),null),[[iO("intersect"),{handler:F},null,{once:!0}]]),r.autoGrow&&qo(fe("textarea",{class:[ho,"v-textarea__sizer"],id:`${xn.id}-sizer`,"onUpdate:modelValue":Rn=>h.value=Rn,ref:ne,readonly:!0,"aria-hidden":"true"},null),[[_le,h.value]]),r.suffix&&fe("span",{class:"v-text-field__suffix"},[r.suffix])])}})},details:Ne?Qe=>{var On;return fe(Es,null,[(On=b.details)==null?void 0:On.call(b,Qe),Ce&&fe(Es,null,[fe("span",null,null),fe(Tpe,{active:r.persistentCounter||x.value,value:N.value,max:R.value,disabled:r.disabled},b.counter)])])}:void 0})}),OY({},W,$,ee)}}),$pe=r=>(vy("data-v-d4f402e1"),r=r(),yy(),r),Upe=$pe(()=>nt("span",{class:"sr-only"},"Anmerkung lschen",-1)),Wpe={__name:"Annotation",props:["annotation"],setup(r){bi();const i=dy(),u=Ll(),b=r.annotation;function h(B){return B.getKey()==i.selectedKey}Ic(()=>{const B=document.getElementById("appAnnotationContainer"+b.getKey());for(const N of B.getElementsByTagName("label"))N.getAttribute("for").includes("app-annotation-")&&(N.classList.add("sr-only"),N.getAttribute("aria-hidden")=="true"?N.getAttribute("for").includes("-sizer")||N.setAttribute("for",N.getAttribute("for")+"-sizer"):N.setAttribute("id","app-annotation-"+b.getKey()+"-messages"));for(const N of B.getElementsByTagName("textarea"))N.style.marginTop="-15px",N.style.fontSize="0.9rem";for(const N of B.getElementsByClassName("v-input__details"))N.style.display="none"});function x(B){return"#F5F7FB"}async function S(){if(event.altKey)switch(event.key){case"Enter":event.preventDefault(),u.showForResourceKey(),await Ma(),i.setCaretRequest();break;case"Delete":event.preventDefault(),i.deleteAnnotation(i.selectedKey);break}}return(B,N)=>(Xo(),Xs(Zge,{id:"appAnnotationContainer"+Ve(b).getKey(),key:Ve(b).getKey(),class:"annotationContainer"},{default:cn(()=>[fe(the,{dense:""},{default:cn(()=>[fe(T8,{cols:"1"},{default:cn(()=>[nt("button",{tabindex:"0",class:my("v-btn annotationLabel "+(h(Ve(b))?"selected":"")),onClick:N[0]||(N[0]=R=>Ve(i).selectAnnotation(Ve(b).getKey()))},Ml(Ve(b).label),3)]),_:1}),qo(fe(T8,{cols:"10"},{default:cn(()=>[fe(Vpe,{class:"annotationInput","bg-color":x(Ve(b)),rounded:"0",density:"compact",variant:"solo",id:"app-annotation-"+Ve(b).getKey(),label:"Anmerkung zu Markierung "+Ve(b).label,rows:"1","auto-grow":"",onClick:N[1]||(N[1]=R=>Ve(i).selectAnnotation(Ve(b).getKey())),onChange:N[2]||(N[2]=R=>Ve(i).updateAnnotation(Ve(b))),onKeyup:N[3]||(N[3]=R=>Ve(i).updateAnnotation(Ve(b))),onKeydown:N[4]||(N[4]=R=>S()),modelValue:Ve(b).comment,"onUpdate:modelValue":N[5]||(N[5]=R=>Ve(b).comment=R)},null,8,["bg-color","id","label","modelValue"])]),_:1},512),[[pr,h(Ve(b))]]),qo(fe(T8,{cols:"10"},{default:cn(()=>[qo(nt("div",{class:"annotationDisplay",style:K0("background-color: "+x(Ve(b))+";"),onClick:N[6]||(N[6]=R=>Ve(i).selectAnnotation(Ve(b).getKey()))},Ml(Ve(b).comment),5),[[pr,Ve(b).comment]])]),_:1},512),[[pr,!h(Ve(b))]]),fe(T8,{cols:"1",class:"trashColumn"},{default:cn(()=>[fe(Ar,{class:"trashButton",density:"compact",size:"small",variant:"text","prepend-icon":"mdi-delete-outline",tabindex:h(Ve(b))?0:-1,onClick:N[7]||(N[7]=R=>Ve(i).deleteAnnotation(Ve(b).getKey())),onKeydown:N[8]||(N[8]=R=>S())},{default:cn(()=>[Upe]),_:1},8,["tabindex"])]),_:1})]),_:1})]),_:1},8,["id"]))}},Zpe=gg(Wpe,[["__scopeId","data-v-d4f402e1"]]),jpe={id:"appAnnotations"},Kpe={__name:"Annotations",setup(r){const i=dy(),u=Ll();async function m(){await Ma();let h=document.getElementById("appAnnotationContainer"+i.selectedKey);if(h){let x=h.querySelector("textarea");x&&x.focus()}}Gn(()=>i.selectionChange,m),Gn(()=>u.focusChange,m);async function b(){await Ma();let h=document.getElementById("appAnnotationContainer"+i.firstVisibleKey);h&&h.scrollIntoView()}return Gn(()=>i.firstVisibleKey,b),(h,x)=>(Xo(),Sl("div",jpe,[(Xo(!0),Sl(Es,null,ik(Ve(i).activeAnnotations,S=>(Xo(),Xs(Zpe,{key:S.getKey(),annotation:S},null,8,["annotation"]))),128))]))}},qpe=gg(Kpe,[["__scopeId","data-v-0f0eb080"]]),FM=r=>(vy("data-v-d20e0a70"),r=r(),yy(),r),Gpe={id:"app-edit-select-wrapper"},Ype={class:"appEditChoices"},Xpe=FM(()=>nt("span",{class:"sr-only",id:"app-edit-select-annotations"},"Anmerkungen",-1)),Jpe=FM(()=>nt("span",{"aria-hidden":"true"},"Anmerkungen",-1)),Qpe=FM(()=>nt("span",{class:"sr-only",id:"app-edit-select-text"},"Abgabe Text bearbeiten",-1)),ebe=FM(()=>nt("span",{"aria-hidden":"true"},"Text",-1)),tbe=["id"],nbe={"aria-hidden":"true"},obe={key:1,"aria-hidden":"true"},rbe={__name:"EditSelect",setup(r){const i=Ll(),u=iy(),m=vh(),b=Y0(),h=dy(),x=Uf(),S=Md(),B=wo("essay");N();function N(){switch(i.rightContent){case"annotations":B.value="annotations";break;case"essay":B.value="essay";break;case"notes":B.value=u.activeKey;break}}Gn(()=>i.rightContent,N),Gn(()=>u.activeKey,N);function R(){switch(B.value){case void 0:N();break;case"annotations":i.showAnnotations();break;case"essay":i.showEssay();break;default:i.showNotes(),u.activeKey=B.value;break}}function F(){B.value="annotations",R()}return Gn(()=>h.selectionChange,F),(W,$)=>(Xo(),Sl("div",Gpe,[nt("div",Ype,[Ve(m).hasNotes||Ve(S).hasInstructions||Ve(x).hasAnnotatableResource?(Xo(),Xs(nY,{key:0,density:"comfortable",variant:"outlined",divided:"",modelValue:B.value,"onUpdate:modelValue":$[0]||($[0]=K=>B.value=K),onClick:$[1]||($[1]=K=>R())},{default:cn(()=>[Ve(S).hasInstructions||Ve(x).hasAnnotatableResource?(Xo(),Xs(Ar,{key:0,"aria-labelledby":"app-edit-select-annotations",size:"small",value:"annotations"},{default:cn(()=>[fe(tr,{icon:"mdi-marker"}),Xpe,Jpe]),_:1})):Pl("",!0),fe(Ar,{"aria-labelledby":"app-edit-select-text",size:"small",value:"essay"},{default:cn(()=>[fe(tr,{icon:"mdi-file-edit-outline"}),Qpe,ebe]),_:1}),(Xo(!0),Sl(Es,null,ik(Ve(u).keys,K=>(Xo(),Xs(Ar,{size:"small","aria-labelledby":"app-edit-select-note"+Ve(u).notes[K].note_no,key:K,value:K},{default:cn(()=>[fe(tr,{icon:"mdi-clipboard-outline"}),nt("span",{class:"sr-only",id:"app-edit-select-note"+Ve(u).notes[K].note_no},Ml(Ve(m).notice_boards==1?"Notizen bearbeiten":"Notiz "+(Ve(u).notes[K].note_no+1)+" bearbeiten"),9,tbe),nt("span",nbe,Ml(Ve(m).notice_boards==1?"Notizen":Ve(u).notes[K].note_no+1),1)]),_:2},1032,["aria-labelledby","value"]))),128))]),_:1},8,["modelValue"])):Pl("",!0),oc("  "),Ve(m).hasNotes?(Xo(),Sl("span",obe,"")):Pl("",!0),fe(uk,{density:"comfortable",variant:"outlined",divided:""},{default:cn(()=>[fe(Ar,{title:"Editor Text verkleinern",size:"small",icon:"mdi-magnify-minus-outline",onClick:$[2]||($[2]=K=>Ve(b).zoomEditorOut())}),fe(Ar,{title:"Editor Text vergrern",size:"small",icon:"mdi-magnify-plus-outline",onClick:$[3]||($[3]=K=>Ve(b).zoomEditorIn())}),fe(Ar,{title:Ve(b).word_count_enabled?"Zhler verbergen":"Zhler anzeigen",size:"small",icon:Ve(b).word_count_enabled?"mdi-numeric":"mdi-numeric-off",onClick:$[4]||($[4]=K=>Ve(b).toggleWordCountEnabled())},null,8,["title","icon"])]),_:1})]),qo(fe(qpe,{class:"appEditors"},null,512),[[pr,Ve(i).isAnnotationsSelected]]),qo(fe(Epe,{class:"appEditors"},null,512),[[pr,Ve(i).isEssaySelected]]),Ve(m).notice_boards>0?(Xo(!0),Sl(Es,{key:0},ik(Ve(u).keys,K=>qo((Xo(),Xs(ype,{class:"appEditors",key:K,noteKey:K,noteLabel:Ve(m).notice_boards==1?"Notizen":"Notiz "+(Ve(u).notes[K].note_no+1)},null,8,["noteKey","noteLabel"])),[[pr,Ve(i).isNotesSelected&&Ve(u).activeKey==K]])),128)):Pl("",!0)]))}},sbe=gg(rbe,[["__scopeId","data-v-d20e0a70"]]),abe=Jn({scrollable:Boolean,...ts(),...Gp(),...Ii({tag:"main"})},"VMain"),f$=rr()({name:"VMain",props:abe(),setup(r,i){let{slots:u}=i;const{dimensionStyles:m}=Yp(r),{mainStyles:b}=Due(),{ssrBootStyles:h}=LM();return Kr(()=>fe(r.tag,{class:["v-main",{"v-main--scrollable":r.scrollable},r.class],style:[b.value,h.value,m.value,r.style]},{default:()=>{var x,S;return[r.scrollable?fe("div",{class:"v-main__scroller"},[(x=u.default)==null?void 0:x.call(u)]):(S=u.default)==null?void 0:S.call(u)]}})),{}}}),gO=r=>(vy("data-v-35686870"),r=r(),yy(),r),ibe={id:"app-main-container"},lbe={class:"col-header"},cbe={class:"headline"},ube=gO(()=>nt("span",{"aria-hidden":"true"},"Erweitern",-1)),dbe=gO(()=>nt("span",{id:"app-expand-left-column",class:"sr-only"},"Linke Spalte erweitern",-1)),fbe={class:"col-content"},mbe={class:"col-header"},gbe={class:"headline"},hbe=gO(()=>nt("span",{"aria-hidden":"true"},"Erweitern",-1)),pbe=gO(()=>nt("span",{id:"app-expand-right-column",class:"sr-only"},"Rechte Spalte erweitern",-1)),bbe={class:"col-content"},vbe=gO(()=>nt("p",null,"Sie knnen nur selbst geschriebenen Text oder Teile aus der Aufgabenstellung kopieren und einfgen.",-1)),ybe={__name:"MainContent",setup(r){const i=Ll(),u=Uf(),m=d$();return document.addEventListener("keydown",i.handleKeyDown),Ic(async()=>{i.setFocusChange("header")}),(b,h)=>(Xo(),Xs(f$,{"fill-height":""},{default:cn(()=>[nt("div",ibe,[qo(nt("section",{"aria-label":"Linke Spalte",class:my(["column",{colExpanded:Ve(i).isLeftExpanded,colNormal:!Ve(i).isLeftExpanded}])},[nt("div",lbe,[nt("h1",cbe,Ml(Ve(i).isInstructionsSelected?"Aufgabenstellung":Ve(i).isInstructionsPdfSelected?"Aufgabenstellung (PDF)":Ve(i).isResourcesSelected?Ve(u).activeTitle:"Linke Spalte"),1),fe(uk,{density:"comfortable"},{default:cn(()=>[qo(fe(Ar,{size:"small",onClick:h[0]||(h[0]=x=>Ve(i).setLeftExpanded(!1))},{default:cn(()=>[fe(tr,{icon:"mdi-chevron-left"}),nt("span",null,Ml(Ve(i).isAnnotationsSelected?"Anmerkungen":Ve(i).isEssaySelected?"Abgabe-Text":Ve(i).isNotesSelected?"Notizen":"Rechte Spalte erweitern"),1)]),_:1},512),[[pr,Ve(i).isLeftExpanded]]),qo(fe(Ar,{"aria-labelledby":"app-expand-left-column",size:"small",onClick:h[1]||(h[1]=x=>Ve(i).setLeftExpanded(!0))},{default:cn(()=>[ube,dbe,fe(tr,{icon:"mdi-chevron-right"})]),_:1},512),[[pr,!Ve(i).isLeftExpanded]])]),_:1})]),nt("div",fbe,[qo(fe(Phe,null,null,512),[[pr,Ve(i).isInstructionsVisible]]),qo(fe(Xhe,null,null,512),[[pr,Ve(i).isInstructionsPdfVisible||Ve(i).isResourcesVisible]])])],2),[[pr,Ve(i).isLeftVisible]]),qo(nt("section",{"aria-label":"Rechte Spalte",class:my(["column",{colExpanded:Ve(i).isRightExpanded,colNormal:!Ve(i).isRightExpanded}])},[nt("div",mbe,[nt("h1",gbe,Ml(Ve(i).isAnnotationsSelected?"Anmerkungen":Ve(i).isEssayVisible?"Abgabe-Text":Ve(i).isNotesVisible?"Notizen (werden bei der Abgabe verworfen)":"Rechte Spalte"),1),fe(uk,{density:"comfortable"},{default:cn(()=>[qo(fe(Ar,{size:"small",onClick:h[2]||(h[2]=x=>Ve(i).setRightExpanded(!1))},{default:cn(()=>[nt("span",null,Ml(Ve(i).isInstructionsSelected?"Aufgabenstellung":Ve(i).isInstructionsPdfSelected?"Aufgabenstellung (PDF)":Ve(i).isResourcesSelected?Ve(u).activeTitle:"Linke Spalte erweitern"),1),fe(tr,{icon:"mdi-chevron-right"})]),_:1},512),[[pr,Ve(i).isRightExpanded]]),qo(fe(Ar,{"aria-labelledby":"app-expand-right-column",size:"small",onClick:h[3]||(h[3]=x=>Ve(i).setRightExpanded(!0))},{default:cn(()=>[fe(tr,{icon:"mdi-chevron-left"}),hbe,pbe]),_:1},512),[[pr,!Ve(i).isRightExpanded]])]),_:1})]),nt("div",bbe,[fe(sbe)])],2),[[pr,Ve(i).isRightVisible]])]),fe(J0,{width:"500",persistent:"",modelValue:Ve(m).show_warning,"onUpdate:modelValue":h[5]||(h[5]=x=>Ve(m).show_warning=x)},{default:cn(()=>[fe(X0,null,{default:cn(()=>[fe(Up,null,{default:cn(()=>[vbe]),_:1}),fe($p,null,{default:cn(()=>[fe(u$),fe(Ar,{onClick:h[4]||(h[4]=x=>Ve(m).hideWarning())},{default:cn(()=>[oc(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},xbe=gg(ybe,[["__scopeId","data-v-35686870"]]),wbe=nt("p",null,"Lade Daten...",-1),Cbe=nt("span",null,"Beenden ...",-1),_be=nt("p",null,"Beim Laden der Daten ist ein Fehler aufgetreten. Die Anwendung kann nicht gestartet werden.",-1),Sbe=nt("span",null,"Beenden",-1),kbe=nt("p",null,"In Ihrem Browser sind Eingaben eines anderen Benutzers oder einer anderen Aufgabe vorhanden, die noch nicht bertragen wurden. Durch das Laden werden diese Eingaben gelscht.",-1),Ebe=nt("p",null,"Mchten Sie die neue Aufgabe laden?",-1),Abe=nt("span",null,"Laden",-1),Tbe=nt("span",null,"Abbrechen",-1),Obe=nt("p",null,"In Ihrem Browser sind Eingaben vorhanden, die noch nicht bertragen wurden. Die letzte im System gespeicherte Eingabe scheint aber nicht aus diesem Browser zu stammen. Das kann z.B. passieren, wenn Ihre Netzverbindung unterbrochen wurde und Sie anschlieend in einem anderen Browser weitergearbeitet haben. Durch das Laden werden Ihre Eingaben im Browser berschrieben.",-1),Dbe=nt("p",null,"Mchten Sie die Eingabe vom System laden?",-1),Rbe=nt("span",null,"Laden",-1),Nbe=nt("span",null,"Abbrechen",-1),Ibe={__name:"StartupContent",setup(r){const i=bi();return(u,m)=>(Xo(),Xs(f$,{"fill-height":""},{default:cn(()=>[fe(UY,{elevation:"1",color:"white",density:"compact"},{default:cn(()=>[wbe,fe(u$),fe(Ar,{href:Ve(i).returnUrl},{default:cn(()=>[fe(tr,{left:"",icon:"mdi-logout-variant"}),Cbe]),_:1},8,["href"])]),_:1}),fe(J0,{persistent:"",modelValue:Ve(i).showInitFailure,"onUpdate:modelValue":m[0]||(m[0]=b=>Ve(i).showInitFailure=b)},{default:cn(()=>[fe(X0,null,{default:cn(()=>[fe(Up,null,{default:cn(()=>[_be]),_:1}),fe($p,null,{default:cn(()=>[fe(Ar,{href:Ve(i).returnUrl},{default:cn(()=>[fe(tr,{left:"",icon:"mdi-logout-variant"}),Sbe]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),fe(J0,{persistent:"",modelValue:Ve(i).showReplaceConfirmation,"onUpdate:modelValue":m[2]||(m[2]=b=>Ve(i).showReplaceConfirmation=b)},{default:cn(()=>[fe(X0,null,{default:cn(()=>[fe(Up,null,{default:cn(()=>[kbe,Ebe]),_:1}),fe($p,null,{default:cn(()=>[fe(Ar,{onClick:m[1]||(m[1]=b=>Ve(i).loadDataFromBackend())},{default:cn(()=>[fe(tr,{left:"",icon:"mdi-reload"}),Abe]),_:1}),fe(Ar,{href:Ve(i).returnUrl},{default:cn(()=>[fe(tr,{left:"",icon:"mdi-logout-variant"}),Tbe]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),fe(J0,{persistent:"",modelValue:Ve(i).showReloadConfirmation,"onUpdate:modelValue":m[4]||(m[4]=b=>Ve(i).showReloadConfirmation=b)},{default:cn(()=>[fe(X0,null,{default:cn(()=>[fe(Up,null,{default:cn(()=>[Obe,Dbe]),_:1}),fe($p,null,{default:cn(()=>[fe(Ar,{onClick:m[3]||(m[3]=b=>Ve(i).loadDataFromBackend())},{default:cn(()=>[fe(tr,{left:"",icon:"mdi-reload"}),Rbe]),_:1}),fe(Ar,{href:Ve(i).returnUrl},{default:cn(()=>[fe(tr,{left:"",icon:"mdi-logout-variant"}),Nbe]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},Hd=r=>(vy("data-v-83558a5a"),r=r(),yy(),r),Bbe={class:"column"},Mbe=Hd(()=>nt("div",{class:"col-header bg-grey-lighten-4"},[nt("h2",{class:"text-h6",style:{color:"#f00000"}},"Ihre letzten Eingaben wurden noch nicht bertragen, sind aber lokal gesichert!"),nt("p",null,"Bitte versuchen Sie die bertragung nach einer Minute erneut. Wenden Sie sich gegebenenfalls an die Aufsicht.")],-1)),Pbe={class:"col-content"},Lbe=["innerHTML"],Fbe={class:"col-footer bg-grey-lighten-4"},zbe=Hd(()=>nt("span",null,"Weiter bearbeiten",-1)),Hbe={class:"column"},Vbe={class:"col-header bg-grey-lighten-4"},$be=Hd(()=>nt("h2",{class:"text-h6"},"Sie wurden von der Bearbeitung ausgeschlossen.",-1)),Ube=Hd(()=>nt("p",null,"Es ist keine weitere Eingabe mglich.",-1)),Wbe=[$be,Ube],Zbe={class:"col-header bg-grey-lighten-4"},jbe=Hd(()=>nt("h2",{class:"text-h6"},"Ihre Bearbeitungszeit ist beendet",-1)),Kbe={key:0},qbe={class:"col-header bg-grey-lighten-4"},Gbe=Hd(()=>nt("h2",{class:"text-h6"},"Abgabe-Text",-1)),Ybe={key:0},Xbe={class:"col-content"},Jbe=["innerHTML"],Qbe={class:"col-footer bg-grey-lighten-4"},e0e=Hd(()=>nt("span",null,"Meine Bearbeitung nicht bewerten",-1)),t0e=Hd(()=>nt("span",null,"Weiter bearbeiten",-1)),n0e=Hd(()=>nt("p",null,"Bei der bertragung ihres Texts ist ein Netzwerkproblem aufgetreten. Ihre Eingaben sind lokal gesichert.",-1)),o0e=Hd(()=>nt("p",null,[nt("br"),oc(" Sie knnen die Klausur auch ohne bertragung verlassen und spter wieder aufrufen, um die bertragung nachzuholen. ")],-1)),r0e=Hd(()=>nt("br",null,null,-1)),s0e=Hd(()=>nt("br",null,null,-1)),a0e=Hd(()=>nt("span",null,"Meldung schlieen",-1)),i0e=Hd(()=>nt("span",null,"Ohne bertragung verlassen",-1)),l0e={__name:"ReviewContent",setup(r){const i=bi(),u=Lp(),m=iy(),b=Md(),h=vh(),x=Y0();return(S,B)=>(Xo(),Xs(f$,{"fill-height":""},{default:cn(()=>[qo(nt("div",Bbe,[Mbe,nt("div",Pbe,[nt("div",{class:my("long-essay-content "+Ve(h).contentClass),style:K0("font-size:"+Ve(x).editor_zoom+"rem;"),innerHTML:Ve(u).storedContent},null,14,Lbe)]),nt("div",Fbe,[fe(Ar,{class:"ma-2",color:Ve(h).primaryColorCss,onClick:B[0]||(B[0]=N=>Ve(i).retry())},{default:cn(()=>[fe(tr,{color:Ve(h).primaryTextColorCss,icon:"mdi-refresh"},null,8,["color"]),nt("span",{style:K0(Ve(h).primaryTextColorFullCss)},"Erneut versuchen",4)]),_:1},8,["color"]),qo(fe(Ar,{class:"ma-2",onClick:B[1]||(B[1]=N=>Ve(i).review=!1)},{default:cn(()=>[fe(tr,{icon:"mdi-file-edit-outline"}),zbe]),_:1},512),[[pr,!Ve(b).writingEndReached&&!Ve(b).isExcluded]])])],512),[[pr,Ve(u).openSendings>0]]),qo(nt("div",Hbe,[qo(nt("div",Vbe,Wbe,512),[[pr,Ve(b).isExcluded]]),qo(nt("div",Zbe,[jbe,nt("p",null,[oc("Es ist keine weitere Eingabe mglich. Bitte berprfen Sie, ob Sie den Text in dieser Form zur Bewertung abgeben mchten. Eventuell mssen Sie scrollen um alle Teile ihres Textes sehen zu knnen! "),Ve(m).hasWrittenNotes?(Xo(),Sl("span",Kbe,"Ihre Notizen werden verworfen.")):Pl("",!0)])],512),[[pr,Ve(b).writingEndReached&&!Ve(b).isExcluded]]),qo(nt("div",qbe,[Gbe,nt("p",null,[oc("Bitte berprfen Sie, ob Sie den Text in dieser Form zur Bewertung abgeben mchten. "),Ve(m).hasWrittenNotes?(Xo(),Sl("span",Ybe,"Ihre Notizen werden verworfen. Falls Teile davon bewertet werden sollen, kopieren Sie sie bitte in den Abgabetext.")):Pl("",!0),oc(" Nach der Abgabe ist keine weitere Bearbeitung mehr mglich. Eventuell mssen Sie scrollen um alle Teile ihres Textes sehen zu knnen!")])],512),[[pr,!Ve(b).writingEndReached&&!Ve(b).isExcluded]]),nt("div",Xbe,[nt("div",{class:my("long-essay-content "+Ve(h).contentClass),style:K0("font-size:"+Ve(x).editor_zoom*16+"px;"),innerHTML:Ve(u).storedContent},null,14,Jbe)]),nt("div",Qbe,[qo(fe(Ar,{class:"ma-2 primary",onClick:B[2]||(B[2]=N=>Ve(i).finalize(!0)),color:Ve(h).primaryColorCss},{default:cn(()=>[fe(tr,{color:Ve(h).primaryTextColorCss,icon:"mdi-file-send-outline"},null,8,["color"]),nt("span",{style:K0(Ve(h).primaryTextColorFullCss)},"Zur Bewertung abgeben",4)]),_:1},8,["color"]),[[pr,!Ve(b).isExcluded]]),qo(fe(Ar,{class:"ma-2",onClick:B[3]||(B[3]=N=>Ve(i).finalize(!1))},{default:cn(()=>[fe(tr,{icon:"mdi-logout-variant"}),e0e]),_:1},512),[[pr,Ve(b).writingEndReached||Ve(b).isExcluded]]),qo(fe(Ar,{class:"ma-2",onClick:B[4]||(B[4]=N=>Ve(i).review=!1)},{default:cn(()=>[fe(tr,{icon:"mdi-file-edit-outline"}),t0e]),_:1},512),[[pr,!Ve(b).writingEndReached&&!Ve(b).isExcluded]])])],512),[[pr,Ve(u).openSendings<=0]]),fe(J0,{persistent:"",modelValue:Ve(i).showFinalizeFailure,"onUpdate:modelValue":B[6]||(B[6]=N=>Ve(i).showFinalizeFailure=N)},{default:cn(()=>[fe(X0,null,{default:cn(()=>[fe(Up,null,{default:cn(()=>[n0e,o0e,qo(nt("p",null,[r0e,oc(" Melden Sie sich bei der Aufsicht, um Ihre Klausur zur Korrektur abzugeben. ")],512),[[pr,Ve(i).showAuthorizeFailure]]),qo(nt("p",null,[s0e,oc(" Melden Sie sich bei der Aufsicht, um Hilfe zu erhalten. ")],512),[[pr,!Ve(i).showAuthorizeFailure]])]),_:1}),fe($p,null,{default:cn(()=>[fe(Ar,{onClick:B[5]||(B[5]=N=>Ve(i).showFinalizeFailure=!1)},{default:cn(()=>[fe(tr,{left:"",icon:"mdi-close"}),a0e]),_:1}),fe(Ar,{href:Ve(i).returnUrl},{default:cn(()=>[fe(tr,{left:"",icon:"mdi-logout-variant"}),i0e]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},c0e=gg(l0e,[["__scopeId","data-v-83558a5a"]]),u0e=Jn({...ts(),...Oue({fullHeight:!0}),...zl()},"VApp"),d0e=rr()({name:"VApp",props:u0e(),setup(r,i){let{slots:u}=i;const m=ac(r),{layoutClasses:b,getLayoutItem:h,items:x,layoutRef:S}=Nue(r),{rtlClasses:B}=n1();return Kr(()=>{var N;return fe("div",{ref:S,class:["v-application",m.themeClasses.value,b.value,B.value,r.class],style:[r.style]},[fe("div",{class:"v-application__wrap"},[(N=u.default)==null?void 0:N.call(u)])])}),{getLayoutItem:h,items:x,theme:m}}}),f0e={__name:"App",setup(r){const i=bi();return i.init(),(u,m)=>(Xo(),Xs(d0e,{"fill-height":""},{default:cn(()=>[Ve(i).initialized?Pl("",!0):(Xo(),Xs(Ibe,{key:0})),Ve(i).initialized?(Xo(),Xs(rhe,{key:1})):Pl("",!0),Ve(i).initialized&&!Ve(i).review?(Xo(),Xs(Ohe,{key:2})):Pl("",!0),Ve(i).initialized&&!Ve(i).review?(Xo(),Xs(xbe,{key:3})):Pl("",!0),Ve(i).initialized&&Ve(i).review?(Xo(),Xs(c0e,{key:4})):Pl("",!0)]),_:1}))}},uX=Ele(f0e);Uue(uX);uX.mount("#app");

var qse=Object.defineProperty;var Gse=(r,i,u)=>i in r?qse(r,i,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[i]=u;var Wr=(r,i,u)=>Gse(r,typeof i!="symbol"?i+"":i,u);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))m(v);new MutationObserver(v=>{for(const p of v)if(p.type==="childList")for(const x of p.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&m(x)}).observe(document,{childList:!0,subtree:!0});function u(v){const p={};return v.integrity&&(p.integrity=v.integrity),v.referrerPolicy&&(p.referrerPolicy=v.referrerPolicy),v.crossOrigin==="use-credentials"?p.credentials="include":v.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function m(v){if(v.ep)return;v.ep=!0;const p=u(v);fetch(v.href,p)}})();/**
* @vue/shared v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function cV(r,i){const u=new Set(r.split(","));return m=>u.has(m)}const hi={},JS=[],sg=()=>{},Yse=()=>!1,tM=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&(r.charCodeAt(2)>122||r.charCodeAt(2)<97),uV=r=>r.startsWith("onUpdate:"),Bl=Object.assign,dV=(r,i)=>{const u=r.indexOf(i);u>-1&&r.splice(u,1)},Xse=Object.prototype.hasOwnProperty,Ss=(r,i)=>Xse.call(r,i),Xo=Array.isArray,QS=r=>nM(r)==="[object Map]",yK=r=>nM(r)==="[object Set]",pr=r=>typeof r=="function",Gi=r=>typeof r=="string",dy=r=>typeof r=="symbol",Ba=r=>r!==null&&typeof r=="object",xK=r=>(Ba(r)||pr(r))&&pr(r.then)&&pr(r.catch),wK=Object.prototype.toString,nM=r=>wK.call(r),Jse=r=>nM(r).slice(8,-1),CK=r=>nM(r)==="[object Object]",fV=r=>Gi(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,$T=cV(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),oM=r=>{const i=Object.create(null);return u=>i[u]||(i[u]=r(u))},Qse=/-(\w)/g,$f=oM(r=>r.replace(Qse,(i,u)=>u?u.toUpperCase():"")),eae=/\B([A-Z])/g,Iw=oM(r=>r.replace(eae,"-$1").toLowerCase()),j0=oM(r=>r.charAt(0).toUpperCase()+r.slice(1)),W9=oM(r=>r?`on${j0(r)}`:""),iy=(r,i)=>!Object.is(r,i),E8=(r,...i)=>{for(let u=0;u<r.length;u++)r[u](...i)},_K=(r,i,u,m=!1)=>{Object.defineProperty(r,i,{configurable:!0,enumerable:!1,writable:m,value:u})},SH=r=>{const i=parseFloat(r);return isNaN(i)?r:i},tae=r=>{const i=Gi(r)?Number(r):NaN;return isNaN(i)?r:i};let uZ;const SK=()=>uZ||(uZ=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function V0(r){if(Xo(r)){const i={};for(let u=0;u<r.length;u++){const m=r[u],v=Gi(m)?sae(m):V0(m);if(v)for(const p in v)i[p]=v[p]}return i}else if(Gi(r)||Ba(r))return r}const nae=/;(?![^(]*\))/g,oae=/:([^]+)/,rae=/\/\*[^]*?\*\//g;function sae(r){const i={};return r.replace(rae,"").split(nae).forEach(u=>{if(u){const m=u.split(oae);m.length>1&&(i[m[0].trim()]=m[1].trim())}}),i}function ly(r){let i="";if(Gi(r))i=r;else if(Xo(r))for(let u=0;u<r.length;u++){const m=ly(r[u]);m&&(i+=m+" ")}else if(Ba(r))for(const u in r)r[u]&&(i+=u+" ");return i.trim()}const aae="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",iae=cV(aae);function kK(r){return!!r||r===""}const EK=r=>!!(r&&r.__v_isRef===!0),Id=r=>Gi(r)?r:r==null?"":Xo(r)||Ba(r)&&(r.toString===wK||!pr(r.toString))?EK(r)?Id(r.value):JSON.stringify(r,AK,2):String(r),AK=(r,i)=>EK(i)?AK(r,i.value):QS(i)?{[`Map(${i.size})`]:[...i.entries()].reduce((u,[m,v],p)=>(u[Z9(m,p)+" =>"]=v,u),{})}:yK(i)?{[`Set(${i.size})`]:[...i.values()].map(u=>Z9(u))}:dy(i)?Z9(i):Ba(i)&&!Xo(i)&&!CK(i)?String(i):i,Z9=(r,i="")=>{var u;return dy(r)?`Symbol(${(u=r.description)!=null?u:i})`:r};/**
* @vue/reactivity v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Mf;class TK{constructor(i=!1){this.detached=i,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Mf,!i&&Mf&&(this.index=(Mf.scopes||(Mf.scopes=[])).push(this)-1)}get active(){return this._active}run(i){if(this._active){const u=Mf;try{return Mf=this,i()}finally{Mf=u}}}on(){Mf=this}off(){Mf=this.parent}stop(i){if(this._active){let u,m;for(u=0,m=this.effects.length;u<m;u++)this.effects[u].stop();for(u=0,m=this.cleanups.length;u<m;u++)this.cleanups[u]();if(this.scopes)for(u=0,m=this.scopes.length;u<m;u++)this.scopes[u].stop(!0);if(!this.detached&&this.parent&&!i){const v=this.parent.scopes.pop();v&&v!==this&&(this.parent.scopes[this.index]=v,v.index=this.index)}this.parent=void 0,this._active=!1}}}function oO(r){return new TK(r)}function lae(r,i=Mf){i&&i.active&&i.effects.push(r)}function OK(){return Mf}function Uf(r){Mf&&Mf.cleanups.push(r)}let Cw;class mV{constructor(i,u,m,v){this.fn=i,this.trigger=u,this.scheduler=m,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,lae(this,v)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,fy();for(let i=0;i<this._depsLength;i++){const u=this.deps[i];if(u.computed&&(cae(u.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),my()}return this._dirtyLevel>=4}set dirty(i){this._dirtyLevel=i?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let i=ny,u=Cw;try{return ny=!0,Cw=this,this._runnings++,dZ(this),this.fn()}finally{fZ(this),this._runnings--,Cw=u,ny=i}}stop(){this.active&&(dZ(this),fZ(this),this.onStop&&this.onStop(),this.active=!1)}}function cae(r){return r.value}function dZ(r){r._trackId++,r._depsLength=0}function fZ(r){if(r.deps.length>r._depsLength){for(let i=r._depsLength;i<r.deps.length;i++)DK(r.deps[i],r);r.deps.length=r._depsLength}}function DK(r,i){const u=r.get(i);u!==void 0&&i._trackId!==u&&(r.delete(i),r.size===0&&r.cleanup())}let ny=!0,kH=0;const RK=[];function fy(){RK.push(ny),ny=!1}function my(){const r=RK.pop();ny=r===void 0?!0:r}function gV(){kH++}function hV(){for(kH--;!kH&&EH.length;)EH.shift()()}function NK(r,i,u){if(i.get(r)!==r._trackId){i.set(r,r._trackId);const m=r.deps[r._depsLength];m!==i?(m&&DK(m,r),r.deps[r._depsLength++]=i):r._depsLength++}}const EH=[];function IK(r,i,u){gV();for(const m of r.keys()){let v;m._dirtyLevel<i&&(v??(v=r.get(m)===m._trackId))&&(m._shouldSchedule||(m._shouldSchedule=m._dirtyLevel===0),m._dirtyLevel=i),m._shouldSchedule&&(v??(v=r.get(m)===m._trackId))&&(m.trigger(),(!m._runnings||m.allowRecurse)&&m._dirtyLevel!==2&&(m._shouldSchedule=!1,m.scheduler&&EH.push(m.scheduler)))}hV()}const BK=(r,i)=>{const u=new Map;return u.cleanup=r,u.computed=i,u},P8=new WeakMap,_w=Symbol(""),AH=Symbol("");function Pd(r,i,u){if(ny&&Cw){let m=P8.get(r);m||P8.set(r,m=new Map);let v=m.get(u);v||m.set(u,v=BK(()=>m.delete(u))),NK(Cw,v)}}function U0(r,i,u,m,v,p){const x=P8.get(r);if(!x)return;let S=[];if(i==="clear")S=[...x.values()];else if(u==="length"&&Xo(r)){const P=Number(m);x.forEach((N,D)=>{(D==="length"||!dy(D)&&D>=P)&&S.push(N)})}else switch(u!==void 0&&S.push(x.get(u)),i){case"add":Xo(r)?fV(u)&&S.push(x.get("length")):(S.push(x.get(_w)),QS(r)&&S.push(x.get(AH)));break;case"delete":Xo(r)||(S.push(x.get(_w)),QS(r)&&S.push(x.get(AH)));break;case"set":QS(r)&&S.push(x.get(_w));break}gV();for(const P of S)P&&IK(P,4);hV()}function uae(r,i){const u=P8.get(r);return u&&u.get(i)}const dae=cV("__proto__,__v_isRef,__isVue"),MK=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(dy)),mZ=fae();function fae(){const r={};return["includes","indexOf","lastIndexOf"].forEach(i=>{r[i]=function(...u){const m=Eo(this);for(let p=0,x=this.length;p<x;p++)Pd(m,"get",p+"");const v=m[i](...u);return v===-1||v===!1?m[i](...u.map(Eo)):v}}),["push","pop","shift","unshift","splice"].forEach(i=>{r[i]=function(...u){fy(),gV();const m=Eo(this)[i].apply(this,u);return hV(),my(),m}}),r}function mae(r){dy(r)||(r=String(r));const i=Eo(this);return Pd(i,"has",r),i.hasOwnProperty(r)}class PK{constructor(i=!1,u=!1){this._isReadonly=i,this._isShallow=u}get(i,u,m){const v=this._isReadonly,p=this._isShallow;if(u==="__v_isReactive")return!v;if(u==="__v_isReadonly")return v;if(u==="__v_isShallow")return p;if(u==="__v_raw")return m===(v?p?Eae:HK:p?zK:FK).get(i)||Object.getPrototypeOf(i)===Object.getPrototypeOf(m)?i:void 0;const x=Xo(i);if(!v){if(x&&Ss(mZ,u))return Reflect.get(mZ,u,m);if(u==="hasOwnProperty")return mae}const S=Reflect.get(i,u,m);return(dy(u)?MK.has(u):dae(u))||(v||Pd(i,"get",u),p)?S:Ma(S)?x&&fV(u)?S:S.value:Ba(S)?v?rO(S):iu(S):S}}class LK extends PK{constructor(i=!1){super(!1,i)}set(i,u,m,v){let p=i[u];if(!this._isShallow){const P=Dw(p);if(!ok(m)&&!Dw(m)&&(p=Eo(p),m=Eo(m)),!Xo(i)&&Ma(p)&&!Ma(m))return P?!1:(p.value=m,!0)}const x=Xo(i)&&fV(u)?Number(u)<i.length:Ss(i,u),S=Reflect.set(i,u,m,v);return i===Eo(v)&&(x?iy(m,p)&&U0(i,"set",u,m):U0(i,"add",u,m)),S}deleteProperty(i,u){const m=Ss(i,u);i[u];const v=Reflect.deleteProperty(i,u);return v&&m&&U0(i,"delete",u,void 0),v}has(i,u){const m=Reflect.has(i,u);return(!dy(u)||!MK.has(u))&&Pd(i,"has",u),m}ownKeys(i){return Pd(i,"iterate",Xo(i)?"length":_w),Reflect.ownKeys(i)}}class gae extends PK{constructor(i=!1){super(!0,i)}set(i,u){return!0}deleteProperty(i,u){return!0}}const hae=new LK,pae=new gae,bae=new LK(!0);const pV=r=>r,rM=r=>Reflect.getPrototypeOf(r);function i8(r,i,u=!1,m=!1){r=r.__v_raw;const v=Eo(r),p=Eo(i);u||(iy(i,p)&&Pd(v,"get",i),Pd(v,"get",p));const{has:x}=rM(v),S=m?pV:u?xV:KT;if(x.call(v,i))return S(r.get(i));if(x.call(v,p))return S(r.get(p));r!==v&&r.get(i)}function l8(r,i=!1){const u=this.__v_raw,m=Eo(u),v=Eo(r);return i||(iy(r,v)&&Pd(m,"has",r),Pd(m,"has",v)),r===v?u.has(r):u.has(r)||u.has(v)}function c8(r,i=!1){return r=r.__v_raw,!i&&Pd(Eo(r),"iterate",_w),Reflect.get(r,"size",r)}function gZ(r,i=!1){!i&&!ok(r)&&!Dw(r)&&(r=Eo(r));const u=Eo(this);return rM(u).has.call(u,r)||(u.add(r),U0(u,"add",r,r)),this}function hZ(r,i,u=!1){!u&&!ok(i)&&!Dw(i)&&(i=Eo(i));const m=Eo(this),{has:v,get:p}=rM(m);let x=v.call(m,r);x||(r=Eo(r),x=v.call(m,r));const S=p.call(m,r);return m.set(r,i),x?iy(i,S)&&U0(m,"set",r,i):U0(m,"add",r,i),this}function pZ(r){const i=Eo(this),{has:u,get:m}=rM(i);let v=u.call(i,r);v||(r=Eo(r),v=u.call(i,r)),m&&m.call(i,r);const p=i.delete(r);return v&&U0(i,"delete",r,void 0),p}function bZ(){const r=Eo(this),i=r.size!==0,u=r.clear();return i&&U0(r,"clear",void 0,void 0),u}function u8(r,i){return function(m,v){const p=this,x=p.__v_raw,S=Eo(x),P=i?pV:r?xV:KT;return!r&&Pd(S,"iterate",_w),x.forEach((N,D)=>m.call(v,P(N),P(D),p))}}function d8(r,i,u){return function(...m){const v=this.__v_raw,p=Eo(v),x=QS(p),S=r==="entries"||r===Symbol.iterator&&x,P=r==="keys"&&x,N=v[r](...m),D=u?pV:i?xV:KT;return!i&&Pd(p,"iterate",P?AH:_w),{next(){const{value:z,done:W}=N.next();return W?{value:z,done:W}:{value:S?[D(z[0]),D(z[1])]:D(z),done:W}},[Symbol.iterator](){return this}}}}function Zv(r){return function(...i){return r==="delete"?!1:r==="clear"?void 0:this}}function vae(){const r={get(p){return i8(this,p)},get size(){return c8(this)},has:l8,add:gZ,set:hZ,delete:pZ,clear:bZ,forEach:u8(!1,!1)},i={get(p){return i8(this,p,!1,!0)},get size(){return c8(this)},has:l8,add(p){return gZ.call(this,p,!0)},set(p,x){return hZ.call(this,p,x,!0)},delete:pZ,clear:bZ,forEach:u8(!1,!0)},u={get(p){return i8(this,p,!0)},get size(){return c8(this,!0)},has(p){return l8.call(this,p,!0)},add:Zv("add"),set:Zv("set"),delete:Zv("delete"),clear:Zv("clear"),forEach:u8(!0,!1)},m={get(p){return i8(this,p,!0,!0)},get size(){return c8(this,!0)},has(p){return l8.call(this,p,!0)},add:Zv("add"),set:Zv("set"),delete:Zv("delete"),clear:Zv("clear"),forEach:u8(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(p=>{r[p]=d8(p,!1,!1),u[p]=d8(p,!0,!1),i[p]=d8(p,!1,!0),m[p]=d8(p,!0,!0)}),[r,u,i,m]}const[yae,xae,wae,Cae]=vae();function bV(r,i){const u=i?r?Cae:wae:r?xae:yae;return(m,v,p)=>v==="__v_isReactive"?!r:v==="__v_isReadonly"?r:v==="__v_raw"?m:Reflect.get(Ss(u,v)&&v in m?u:m,v,p)}const _ae={get:bV(!1,!1)},Sae={get:bV(!1,!0)},kae={get:bV(!0,!1)};const FK=new WeakMap,zK=new WeakMap,HK=new WeakMap,Eae=new WeakMap;function Aae(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Tae(r){return r.__v_skip||!Object.isExtensible(r)?0:Aae(Jse(r))}function iu(r){return Dw(r)?r:vV(r,!1,hae,_ae,FK)}function Oae(r){return vV(r,!1,bae,Sae,zK)}function rO(r){return vV(r,!0,pae,kae,HK)}function vV(r,i,u,m,v){if(!Ba(r)||r.__v_raw&&!(i&&r.__v_isReactive))return r;const p=v.get(r);if(p)return p;const x=Tae(r);if(x===0)return r;const S=new Proxy(r,x===2?m:u);return v.set(r,S),S}function Sw(r){return Dw(r)?Sw(r.__v_raw):!!(r&&r.__v_isReactive)}function Dw(r){return!!(r&&r.__v_isReadonly)}function ok(r){return!!(r&&r.__v_isShallow)}function VK(r){return r?!!r.__v_raw:!1}function Eo(r){const i=r&&r.__v_raw;return i?Eo(i):r}function yV(r){return Object.isExtensible(r)&&_K(r,"__v_skip",!0),r}const KT=r=>Ba(r)?iu(r):r,xV=r=>Ba(r)?rO(r):r;class $K{constructor(i,u,m,v){this.getter=i,this._setter=u,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new mV(()=>i(this._value),()=>A8(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!v,this.__v_isReadonly=m}get value(){const i=Eo(this);return(!i._cacheable||i.effect.dirty)&&iy(i._value,i._value=i.effect.run())&&A8(i,4),UK(i),i.effect._dirtyLevel>=2&&A8(i,2),i._value}set value(i){this._setter(i)}get _dirty(){return this.effect.dirty}set _dirty(i){this.effect.dirty=i}}function Dae(r,i,u=!1){let m,v;const p=pr(r);return p?(m=r,v=sg):(m=r.get,v=r.set),new $K(m,v,p||!v,u)}function UK(r){var i;ny&&Cw&&(r=Eo(r),NK(Cw,(i=r.dep)!=null?i:r.dep=BK(()=>r.dep=void 0,r instanceof $K?r:void 0)))}function A8(r,i=4,u,m){r=Eo(r);const v=r.dep;v&&IK(v,i)}function Ma(r){return!!(r&&r.__v_isRef===!0)}function No(r){return WK(r,!1)}function kr(r){return WK(r,!0)}function WK(r,i){return Ma(r)?r:new Rae(r,i)}class Rae{constructor(i,u){this.__v_isShallow=u,this.dep=void 0,this.__v_isRef=!0,this._rawValue=u?i:Eo(i),this._value=u?i:KT(i)}get value(){return UK(this),this._value}set value(i){const u=this.__v_isShallow||ok(i)||Dw(i);i=u?i:Eo(i),iy(i,this._rawValue)&&(this._rawValue,this._rawValue=i,this._value=u?i:KT(i),A8(this,4))}}function Ue(r){return Ma(r)?r.value:r}const Nae={get:(r,i,u)=>Ue(Reflect.get(r,i,u)),set:(r,i,u,m)=>{const v=r[i];return Ma(v)&&!Ma(u)?(v.value=u,!0):Reflect.set(r,i,u,m)}};function ZK(r){return Sw(r)?r:new Proxy(r,Nae)}function sO(r){const i=Xo(r)?new Array(r.length):{};for(const u in r)i[u]=jK(r,u);return i}class Iae{constructor(i,u,m){this._object=i,this._key=u,this._defaultValue=m,this.__v_isRef=!0}get value(){const i=this._object[this._key];return i===void 0?this._defaultValue:i}set value(i){this._object[this._key]=i}get dep(){return uae(Eo(this._object),this._key)}}class Bae{constructor(i){this._getter=i,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Qr(r,i,u){return Ma(r)?r:pr(r)?new Bae(r):Ba(r)&&arguments.length>1?jK(r,i,u):No(r)}function jK(r,i,u){const m=r[i];return Ma(m)?m:new Iae(r,i,u)}/**
* @vue/runtime-core v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function oy(r,i,u,m){try{return m?r(...m):r()}catch(v){sM(v,i,u)}}function lg(r,i,u,m){if(pr(r)){const v=oy(r,i,u,m);return v&&xK(v)&&v.catch(p=>{sM(p,i,u)}),v}if(Xo(r)){const v=[];for(let p=0;p<r.length;p++)v.push(lg(r[p],i,u,m));return v}}function sM(r,i,u,m=!0){const v=i?i.vnode:null;if(i){let p=i.parent;const x=i.proxy,S=`https://vuejs.org/error-reference/#runtime-${u}`;for(;p;){const N=p.ec;if(N){for(let D=0;D<N.length;D++)if(N[D](r,x,S)===!1)return}p=p.parent}const P=i.appContext.config.errorHandler;if(P){fy(),oy(P,null,10,[r,x,S]),my();return}}Mae(r,u,v,m)}function Mae(r,i,u,m=!0){console.error(r)}let qT=!1,TH=!1;const lu=[];let Bp=0;const ek=[];let Yv=null,yw=0;const KK=Promise.resolve();let wV=null;function wa(r){const i=wV||KK;return r?i.then(this?r.bind(this):r):i}function Pae(r){let i=Bp+1,u=lu.length;for(;i<u;){const m=i+u>>>1,v=lu[m],p=GT(v);p<r||p===r&&v.pre?i=m+1:u=m}return i}function CV(r){(!lu.length||!lu.includes(r,qT&&r.allowRecurse?Bp+1:Bp))&&(r.id==null?lu.push(r):lu.splice(Pae(r.id),0,r),qK())}function qK(){!qT&&!TH&&(TH=!0,wV=KK.then(YK))}function Lae(r){const i=lu.indexOf(r);i>Bp&&lu.splice(i,1)}function Fae(r){Xo(r)?ek.push(...r):(!Yv||!Yv.includes(r,r.allowRecurse?yw+1:yw))&&ek.push(r),qK()}function vZ(r,i,u=qT?Bp+1:0){for(;u<lu.length;u++){const m=lu[u];if(m&&m.pre){if(r&&m.id!==r.uid)continue;lu.splice(u,1),u--,m()}}}function GK(r){if(ek.length){const i=[...new Set(ek)].sort((u,m)=>GT(u)-GT(m));if(ek.length=0,Yv){Yv.push(...i);return}for(Yv=i,yw=0;yw<Yv.length;yw++){const u=Yv[yw];u.active!==!1&&u()}Yv=null,yw=0}}const GT=r=>r.id==null?1/0:r.id,zae=(r,i)=>{const u=GT(r)-GT(i);if(u===0){if(r.pre&&!i.pre)return-1;if(i.pre&&!r.pre)return 1}return u};function YK(r){TH=!1,qT=!0,lu.sort(zae);try{for(Bp=0;Bp<lu.length;Bp++){const i=lu[Bp];i&&i.active!==!1&&oy(i,i.i,i.i?15:14)}}finally{Bp=0,lu.length=0,GK(),qT=!1,wV=null,(lu.length||ek.length)&&YK()}}let Gu=null,aM=null;function L8(r){const i=Gu;return Gu=r,aM=r&&r.type.__scopeId||null,i}function gy(r){aM=r}function hy(){aM=null}function vn(r,i=Gu,u){if(!i||r._n)return r;const m=(...v)=>{m._d&&DZ(-1);const p=L8(i);let x;try{x=r(...v)}finally{L8(p),m._d&&DZ(1)}return x};return m._n=!0,m._c=!0,m._d=!0,m}function qo(r,i){if(Gu===null)return r;const u=dM(Gu),m=r.dirs||(r.dirs=[]);for(let v=0;v<i.length;v++){let[p,x,S,P=hi]=i[v];p&&(pr(p)&&(p={mounted:p,updated:p}),p.deep&&Qv(x),m.push({dir:p,instance:u,value:x,oldValue:void 0,arg:S,modifiers:P}))}return r}function fw(r,i,u,m){const v=r.dirs,p=i&&i.dirs;for(let x=0;x<v.length;x++){const S=v[x];p&&(S.oldValue=p[x].value);let P=S.dir[m];P&&(fy(),lg(P,u,8,[r.el,S,r,i]),my())}}const Xv=Symbol("_leaveCb"),f8=Symbol("_enterCb");function XK(){const r={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Yu(()=>{r.isMounted=!0}),Tc(()=>{r.isUnmounting=!0}),r}const ng=[Function,Array],JK={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ng,onEnter:ng,onAfterEnter:ng,onEnterCancelled:ng,onBeforeLeave:ng,onLeave:ng,onAfterLeave:ng,onLeaveCancelled:ng,onBeforeAppear:ng,onAppear:ng,onAfterAppear:ng,onAppearCancelled:ng},QK=r=>{const i=r.subTree;return i.component?QK(i.component):i},Hae={name:"BaseTransition",props:JK,setup(r,{slots:i}){const u=IV(),m=XK();return()=>{const v=i.default&&_V(i.default(),!0);if(!v||!v.length)return;let p=v[0];if(v.length>1){for(const W of v)if(W.type!==Pf){p=W;break}}const x=Eo(r),{mode:S}=x;if(m.isLeaving)return j9(p);const P=yZ(p);if(!P)return j9(p);let N=YT(P,x,m,u,W=>N=W);rk(P,N);const D=u.subTree,z=D&&yZ(D);if(z&&z.type!==Pf&&!xw(P,z)&&QK(u).type!==Pf){const W=YT(z,x,m,u);if(rk(z,W),S==="out-in"&&P.type!==Pf)return m.isLeaving=!0,W.afterLeave=()=>{m.isLeaving=!1,u.update.active!==!1&&(u.effect.dirty=!0,u.update())},j9(p);S==="in-out"&&P.type!==Pf&&(W.delayLeave=($,G,Q)=>{const ve=eq(m,z);ve[String(z.key)]=z,$[Xv]=()=>{G(),$[Xv]=void 0,delete N.delayedLeave},N.delayedLeave=Q})}return p}}},Vae=Hae;function eq(r,i){const{leavingVNodes:u}=r;let m=u.get(i.type);return m||(m=Object.create(null),u.set(i.type,m)),m}function YT(r,i,u,m,v){const{appear:p,mode:x,persisted:S=!1,onBeforeEnter:P,onEnter:N,onAfterEnter:D,onEnterCancelled:z,onBeforeLeave:W,onLeave:$,onAfterLeave:G,onLeaveCancelled:Q,onBeforeAppear:ve,onAppear:de,onAfterAppear:Pe,onAppearCancelled:Ie}=i,re=String(r.key),Oe=eq(u,r),oe=(Ze,rt)=>{Ze&&lg(Ze,m,9,rt)},Ge=(Ze,rt)=>{const Ce=rt[1];oe(Ze,rt),Xo(Ze)?Ze.every(Re=>Re.length<=1)&&Ce():Ze.length<=1&&Ce()},$e={mode:x,persisted:S,beforeEnter(Ze){let rt=P;if(!u.isMounted)if(p)rt=ve||P;else return;Ze[Xv]&&Ze[Xv](!0);const Ce=Oe[re];Ce&&xw(r,Ce)&&Ce.el[Xv]&&Ce.el[Xv](),oe(rt,[Ze])},enter(Ze){let rt=N,Ce=D,Re=z;if(!u.isMounted)if(p)rt=de||N,Ce=Pe||D,Re=Ie||z;else return;let R=!1;const yt=Ze[f8]=Pt=>{R||(R=!0,Pt?oe(Re,[Ze]):oe(Ce,[Ze]),$e.delayedLeave&&$e.delayedLeave(),Ze[f8]=void 0)};rt?Ge(rt,[Ze,yt]):yt()},leave(Ze,rt){const Ce=String(r.key);if(Ze[f8]&&Ze[f8](!0),u.isUnmounting)return rt();oe(W,[Ze]);let Re=!1;const R=Ze[Xv]=yt=>{Re||(Re=!0,rt(),yt?oe(Q,[Ze]):oe(G,[Ze]),Ze[Xv]=void 0,Oe[Ce]===r&&delete Oe[Ce])};Oe[Ce]=r,$?Ge($,[Ze,R]):R()},clone(Ze){const rt=YT(Ze,i,u,m,v);return v&&v(rt),rt}};return $e}function j9(r){if(iM(r))return r=cy(r),r.children=null,r}function yZ(r){if(!iM(r))return r;const{shapeFlag:i,children:u}=r;if(u){if(i&16)return u[0];if(i&32&&pr(u.default))return u.default()}}function rk(r,i){r.shapeFlag&6&&r.component?rk(r.component.subTree,i):r.shapeFlag&128?(r.ssContent.transition=i.clone(r.ssContent),r.ssFallback.transition=i.clone(r.ssFallback)):r.transition=i}function _V(r,i=!1,u){let m=[],v=0;for(let p=0;p<r.length;p++){let x=r[p];const S=u==null?x.key:String(u)+String(x.key!=null?x.key:p);x.type===ks?(x.patchFlag&128&&v++,m=m.concat(_V(x.children,i,S))):(i||x.type!==Pf)&&m.push(S!=null?cy(x,{key:S}):x)}if(v>1)for(let p=0;p<m.length;p++)m[p].patchFlag=-2;return m}/*! #__NO_SIDE_EFFECTS__ */function tq(r,i){return pr(r)?Bl({name:r.name},i,{setup:r}):r}const T8=r=>!!r.type.__asyncLoader,iM=r=>r.type.__isKeepAlive;function SV(r,i){nq(r,"a",i)}function kV(r,i){nq(r,"da",i)}function nq(r,i,u=Jl){const m=r.__wdc||(r.__wdc=()=>{let v=u;for(;v;){if(v.isDeactivated)return;v=v.parent}return r()});if(lM(i,m,u),u){let v=u.parent;for(;v&&v.parent;)iM(v.parent.vnode)&&$ae(m,i,u,v),v=v.parent}}function $ae(r,i,u,m){const v=lM(i,r,m,!0);oq(()=>{dV(m[i],v)},u)}function lM(r,i,u=Jl,m=!1){if(u){const v=u[r]||(u[r]=[]),p=i.__weh||(i.__weh=(...x)=>{fy();const S=lO(u),P=lg(i,u,r,x);return S(),my(),P});return m?v.unshift(p):v.push(p),p}}const K0=r=>(i,u=Jl)=>{(!uM||r==="sp")&&lM(r,(...m)=>i(...m),u)},EV=K0("bm"),Yu=K0("m"),Uae=K0("bu"),AV=K0("u"),Tc=K0("bum"),oq=K0("um"),Wae=K0("sp"),Zae=K0("rtg"),jae=K0("rtc");function Kae(r,i=Jl){lM("ec",r,i)}const rq="components",qae="directives",Gae=Symbol.for("v-ndc");function Yae(r){return Gi(r)&&sq(rq,r,!1)||r}function aO(r){return sq(qae,r)}function sq(r,i,u=!0,m=!1){const v=Gu||Jl;if(v){const p=v.type;if(r===rq){const S=Vie(p,!1);if(S&&(S===i||S===$f(i)||S===j0($f(i))))return p}const x=xZ(v[r]||p[r],i)||xZ(v.appContext[r],i);return!x&&m?p:x}}function xZ(r,i){return r&&(r[i]||r[$f(i)]||r[j0($f(i))])}function sk(r,i,u,m){let v;const p=u;if(Xo(r)||Gi(r)){v=new Array(r.length);for(let x=0,S=r.length;x<S;x++)v[x]=i(r[x],x,void 0,p)}else if(typeof r=="number"){v=new Array(r);for(let x=0;x<r;x++)v[x]=i(x+1,x,void 0,p)}else if(Ba(r))if(r[Symbol.iterator])v=Array.from(r,(x,S)=>i(x,S,void 0,p));else{const x=Object.keys(r);v=new Array(x.length);for(let S=0,P=x.length;S<P;S++){const N=x[S];v[S]=i(r[N],N,S,p)}}else v=[];return v}const OH=r=>r?kq(r)?dM(r):OH(r.parent):null,UT=Bl(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>OH(r.parent),$root:r=>OH(r.root),$emit:r=>r.emit,$options:r=>TV(r),$forceUpdate:r=>r.f||(r.f=()=>{r.effect.dirty=!0,CV(r.update)}),$nextTick:r=>r.n||(r.n=wa.bind(r.proxy)),$watch:r=>Cie.bind(r)}),K9=(r,i)=>r!==hi&&!r.__isScriptSetup&&Ss(r,i),Xae={get({_:r},i){if(i==="__v_skip")return!0;const{ctx:u,setupState:m,data:v,props:p,accessCache:x,type:S,appContext:P}=r;let N;if(i[0]!=="$"){const $=x[i];if($!==void 0)switch($){case 1:return m[i];case 2:return v[i];case 4:return u[i];case 3:return p[i]}else{if(K9(m,i))return x[i]=1,m[i];if(v!==hi&&Ss(v,i))return x[i]=2,v[i];if((N=r.propsOptions[0])&&Ss(N,i))return x[i]=3,p[i];if(u!==hi&&Ss(u,i))return x[i]=4,u[i];DH&&(x[i]=0)}}const D=UT[i];let z,W;if(D)return i==="$attrs"&&Pd(r.attrs,"get",""),D(r);if((z=S.__cssModules)&&(z=z[i]))return z;if(u!==hi&&Ss(u,i))return x[i]=4,u[i];if(W=P.config.globalProperties,Ss(W,i))return W[i]},set({_:r},i,u){const{data:m,setupState:v,ctx:p}=r;return K9(v,i)?(v[i]=u,!0):m!==hi&&Ss(m,i)?(m[i]=u,!0):Ss(r.props,i)||i[0]==="$"&&i.slice(1)in r?!1:(p[i]=u,!0)},has({_:{data:r,setupState:i,accessCache:u,ctx:m,appContext:v,propsOptions:p}},x){let S;return!!u[x]||r!==hi&&Ss(r,x)||K9(i,x)||(S=p[0])&&Ss(S,x)||Ss(m,x)||Ss(UT,x)||Ss(v.config.globalProperties,x)},defineProperty(r,i,u){return u.get!=null?r._.accessCache[i]=0:Ss(u,"value")&&this.set(r,i,u.value,null),Reflect.defineProperty(r,i,u)}};function wZ(r){return Xo(r)?r.reduce((i,u)=>(i[u]=null,i),{}):r}let DH=!0;function Jae(r){const i=TV(r),u=r.proxy,m=r.ctx;DH=!1,i.beforeCreate&&CZ(i.beforeCreate,r,"bc");const{data:v,computed:p,methods:x,watch:S,provide:P,inject:N,created:D,beforeMount:z,mounted:W,beforeUpdate:$,updated:G,activated:Q,deactivated:ve,beforeDestroy:de,beforeUnmount:Pe,destroyed:Ie,unmounted:re,render:Oe,renderTracked:oe,renderTriggered:Ge,errorCaptured:$e,serverPrefetch:Ze,expose:rt,inheritAttrs:Ce,components:Re,directives:R,filters:yt}=i;if(N&&Qae(N,m,null),x)for(const gn in x){const Qe=x[gn];pr(Qe)&&(m[gn]=Qe.bind(u))}if(v){const gn=v.call(u,u);Ba(gn)&&(r.data=iu(gn))}if(DH=!0,p)for(const gn in p){const Qe=p[gn],On=pr(Qe)?Qe.bind(u,u):pr(Qe.get)?Qe.get.bind(u,u):sg,nr=!pr(Qe)&&pr(Qe.set)?Qe.set.bind(u):sg,pt=ct({get:On,set:nr});Object.defineProperty(m,gn,{enumerable:!0,configurable:!0,get:()=>pt.value,set:bt=>pt.value=bt})}if(S)for(const gn in S)aq(S[gn],m,u,gn);if(P){const gn=pr(P)?P.call(u):P;Reflect.ownKeys(gn).forEach(Qe=>{Wf(Qe,gn[Qe])})}D&&CZ(D,r,"c");function ln(gn,Qe){Xo(Qe)?Qe.forEach(On=>gn(On.bind(u))):Qe&&gn(Qe.bind(u))}if(ln(EV,z),ln(Yu,W),ln(Uae,$),ln(AV,G),ln(SV,Q),ln(kV,ve),ln(Kae,$e),ln(jae,oe),ln(Zae,Ge),ln(Tc,Pe),ln(oq,re),ln(Wae,Ze),Xo(rt))if(rt.length){const gn=r.exposed||(r.exposed={});rt.forEach(Qe=>{Object.defineProperty(gn,Qe,{get:()=>u[Qe],set:On=>u[Qe]=On})})}else r.exposed||(r.exposed={});Oe&&r.render===sg&&(r.render=Oe),Ce!=null&&(r.inheritAttrs=Ce),Re&&(r.components=Re),R&&(r.directives=R)}function Qae(r,i,u=sg){Xo(r)&&(r=RH(r));for(const m in r){const v=r[m];let p;Ba(v)?"default"in v?p=qi(v.from||m,v.default,!0):p=qi(v.from||m):p=qi(v),Ma(p)?Object.defineProperty(i,m,{enumerable:!0,configurable:!0,get:()=>p.value,set:x=>p.value=x}):i[m]=p}}function CZ(r,i,u){lg(Xo(r)?r.map(m=>m.bind(i.proxy)):r.bind(i.proxy),i,u)}function aq(r,i,u,m){const v=m.includes(".")?wq(u,m):()=>u[m];if(Gi(r)){const p=i[r];pr(p)&&so(v,p)}else if(pr(r))so(v,r.bind(u));else if(Ba(r))if(Xo(r))r.forEach(p=>aq(p,i,u,m));else{const p=pr(r.handler)?r.handler.bind(u):i[r.handler];pr(p)&&so(v,p,r)}}function TV(r){const i=r.type,{mixins:u,extends:m}=i,{mixins:v,optionsCache:p,config:{optionMergeStrategies:x}}=r.appContext,S=p.get(i);let P;return S?P=S:!v.length&&!u&&!m?P=i:(P={},v.length&&v.forEach(N=>F8(P,N,x,!0)),F8(P,i,x)),Ba(i)&&p.set(i,P),P}function F8(r,i,u,m=!1){const{mixins:v,extends:p}=i;p&&F8(r,p,u,!0),v&&v.forEach(x=>F8(r,x,u,!0));for(const x in i)if(!(m&&x==="expose")){const S=eie[x]||u&&u[x];r[x]=S?S(r[x],i[x]):i[x]}return r}const eie={data:_Z,props:SZ,emits:SZ,methods:VT,computed:VT,beforeCreate:Ku,created:Ku,beforeMount:Ku,mounted:Ku,beforeUpdate:Ku,updated:Ku,beforeDestroy:Ku,beforeUnmount:Ku,destroyed:Ku,unmounted:Ku,activated:Ku,deactivated:Ku,errorCaptured:Ku,serverPrefetch:Ku,components:VT,directives:VT,watch:nie,provide:_Z,inject:tie};function _Z(r,i){return i?r?function(){return Bl(pr(r)?r.call(this,this):r,pr(i)?i.call(this,this):i)}:i:r}function tie(r,i){return VT(RH(r),RH(i))}function RH(r){if(Xo(r)){const i={};for(let u=0;u<r.length;u++)i[r[u]]=r[u];return i}return r}function Ku(r,i){return r?[...new Set([].concat(r,i))]:i}function VT(r,i){return r?Bl(Object.create(null),r,i):i}function SZ(r,i){return r?Xo(r)&&Xo(i)?[...new Set([...r,...i])]:Bl(Object.create(null),wZ(r),wZ(i??{})):i}function nie(r,i){if(!r)return i;if(!i)return r;const u=Bl(Object.create(null),r);for(const m in i)u[m]=Ku(r[m],i[m]);return u}function iq(){return{app:null,config:{isNativeTag:Yse,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let oie=0;function rie(r,i){return function(m,v=null){pr(m)||(m=Bl({},m)),v!=null&&!Ba(v)&&(v=null);const p=iq(),x=new WeakSet;let S=!1;const P=p.app={_uid:oie++,_component:m,_props:v,_container:null,_context:p,_instance:null,version:Uie,get config(){return p.config},set config(N){},use(N,...D){return x.has(N)||(N&&pr(N.install)?(x.add(N),N.install(P,...D)):pr(N)&&(x.add(N),N(P,...D))),P},mixin(N){return p.mixins.includes(N)||p.mixins.push(N),P},component(N,D){return D?(p.components[N]=D,P):p.components[N]},directive(N,D){return D?(p.directives[N]=D,P):p.directives[N]},mount(N,D,z){if(!S){const W=pe(m,v);return W.appContext=p,z===!0?z="svg":z===!1&&(z=void 0),D&&i?i(W,N):r(W,N,z),S=!0,P._container=N,N.__vue_app__=P,dM(W.component)}},unmount(){S&&(r(null,P._container),delete P._container.__vue_app__)},provide(N,D){return p.provides[N]=D,P},runWithContext(N){const D=kw;kw=P;try{return N()}finally{kw=D}}};return P}}let kw=null;function Wf(r,i){if(Jl){let u=Jl.provides;const m=Jl.parent&&Jl.parent.provides;m===u&&(u=Jl.provides=Object.create(m)),u[r]=i}}function qi(r,i,u=!1){const m=Jl||Gu;if(m||kw){const v=kw?kw._context.provides:m?m.parent==null?m.vnode.appContext&&m.vnode.appContext.provides:m.parent.provides:void 0;if(v&&r in v)return v[r];if(arguments.length>1)return u&&pr(i)?i.call(m&&m.proxy):i}}function sie(){return!!(Jl||Gu||kw)}const lq={},cq=()=>Object.create(lq),uq=r=>Object.getPrototypeOf(r)===lq;function aie(r,i,u,m=!1){const v={},p=cq();r.propsDefaults=Object.create(null),dq(r,i,v,p);for(const x in r.propsOptions[0])x in v||(v[x]=void 0);u?r.props=m?v:Oae(v):r.type.props?r.props=v:r.props=p,r.attrs=p}function iie(r,i,u,m){const{props:v,attrs:p,vnode:{patchFlag:x}}=r,S=Eo(v),[P]=r.propsOptions;let N=!1;if((m||x>0)&&!(x&16)){if(x&8){const D=r.vnode.dynamicProps;for(let z=0;z<D.length;z++){let W=D[z];if(cM(r.emitsOptions,W))continue;const $=i[W];if(P)if(Ss(p,W))$!==p[W]&&(p[W]=$,N=!0);else{const G=$f(W);v[G]=NH(P,S,G,$,r,!1)}else $!==p[W]&&(p[W]=$,N=!0)}}}else{dq(r,i,v,p)&&(N=!0);let D;for(const z in S)(!i||!Ss(i,z)&&((D=Iw(z))===z||!Ss(i,D)))&&(P?u&&(u[z]!==void 0||u[D]!==void 0)&&(v[z]=NH(P,S,z,void 0,r,!0)):delete v[z]);if(p!==S)for(const z in p)(!i||!Ss(i,z))&&(delete p[z],N=!0)}N&&U0(r.attrs,"set","")}function dq(r,i,u,m){const[v,p]=r.propsOptions;let x=!1,S;if(i)for(let P in i){if($T(P))continue;const N=i[P];let D;v&&Ss(v,D=$f(P))?!p||!p.includes(D)?u[D]=N:(S||(S={}))[D]=N:cM(r.emitsOptions,P)||(!(P in m)||N!==m[P])&&(m[P]=N,x=!0)}if(p){const P=Eo(u),N=S||hi;for(let D=0;D<p.length;D++){const z=p[D];u[z]=NH(v,P,z,N[z],r,!Ss(N,z))}}return x}function NH(r,i,u,m,v,p){const x=r[u];if(x!=null){const S=Ss(x,"default");if(S&&m===void 0){const P=x.default;if(x.type!==Function&&!x.skipFactory&&pr(P)){const{propsDefaults:N}=v;if(u in N)m=N[u];else{const D=lO(v);m=N[u]=P.call(null,i),D()}}else m=P}x[0]&&(p&&!S?m=!1:x[1]&&(m===""||m===Iw(u))&&(m=!0))}return m}const lie=new WeakMap;function fq(r,i,u=!1){const m=u?lie:i.propsCache,v=m.get(r);if(v)return v;const p=r.props,x={},S=[];let P=!1;if(!pr(r)){const D=z=>{P=!0;const[W,$]=fq(z,i,!0);Bl(x,W),$&&S.push(...$)};!u&&i.mixins.length&&i.mixins.forEach(D),r.extends&&D(r.extends),r.mixins&&r.mixins.forEach(D)}if(!p&&!P)return Ba(r)&&m.set(r,JS),JS;if(Xo(p))for(let D=0;D<p.length;D++){const z=$f(p[D]);kZ(z)&&(x[z]=hi)}else if(p)for(const D in p){const z=$f(D);if(kZ(z)){const W=p[D],$=x[z]=Xo(W)||pr(W)?{type:W}:Bl({},W),G=$.type;let Q=!1,ve=!0;if(Xo(G))for(let de=0;de<G.length;++de){const Pe=G[de],Ie=pr(Pe)&&Pe.name;if(Ie==="Boolean"){Q=!0;break}else Ie==="String"&&(ve=!1)}else Q=pr(G)&&G.name==="Boolean";$[0]=Q,$[1]=ve,(Q||Ss($,"default"))&&S.push(z)}}const N=[x,S];return Ba(r)&&m.set(r,N),N}function kZ(r){return r[0]!=="$"&&!$T(r)}const mq=r=>r[0]==="_"||r==="$stable",OV=r=>Xo(r)?r.map(Ip):[Ip(r)],cie=(r,i,u)=>{if(i._n)return i;const m=vn((...v)=>OV(i(...v)),u);return m._c=!1,m},gq=(r,i,u)=>{const m=r._ctx;for(const v in r){if(mq(v))continue;const p=r[v];if(pr(p))i[v]=cie(v,p,m);else if(p!=null){const x=OV(p);i[v]=()=>x}}},hq=(r,i)=>{const u=OV(i);r.slots.default=()=>u},pq=(r,i,u)=>{for(const m in i)(u||m!=="_")&&(r[m]=i[m])},uie=(r,i,u)=>{const m=r.slots=cq();if(r.vnode.shapeFlag&32){const v=i._;v?(pq(m,i,u),u&&_K(m,"_",v,!0)):gq(i,m)}else i&&hq(r,i)},die=(r,i,u)=>{const{vnode:m,slots:v}=r;let p=!0,x=hi;if(m.shapeFlag&32){const S=i._;S?u&&S===1?p=!1:pq(v,i,u):(p=!i.$stable,gq(i,v)),x=i}else i&&(hq(r,i),x={default:1});if(p)for(const S in v)!mq(S)&&x[S]==null&&delete v[S]};function IH(r,i,u,m,v=!1){if(Xo(r)){r.forEach((W,$)=>IH(W,i&&(Xo(i)?i[$]:i),u,m,v));return}if(T8(m)&&!v)return;const p=m.shapeFlag&4?dM(m.component):m.el,x=v?null:p,{i:S,r:P}=r,N=i&&i.r,D=S.refs===hi?S.refs={}:S.refs,z=S.setupState;if(N!=null&&N!==P&&(Gi(N)?(D[N]=null,Ss(z,N)&&(z[N]=null)):Ma(N)&&(N.value=null)),pr(P))oy(P,S,12,[x,D]);else{const W=Gi(P),$=Ma(P);if(W||$){const G=()=>{if(r.f){const Q=W?Ss(z,P)?z[P]:D[P]:P.value;v?Xo(Q)&&dV(Q,p):Xo(Q)?Q.includes(p)||Q.push(p):W?(D[P]=[p],Ss(z,P)&&(z[P]=D[P])):(P.value=[p],r.k&&(D[r.k]=P.value))}else W?(D[P]=x,Ss(z,P)&&(z[P]=x)):$&&(P.value=x,r.k&&(D[r.k]=x))};x?(G.id=-1,Dd(G,u)):G()}}}const bq=Symbol("_vte"),fie=r=>r.__isTeleport,WT=r=>r&&(r.disabled||r.disabled===""),EZ=r=>typeof SVGElement<"u"&&r instanceof SVGElement,AZ=r=>typeof MathMLElement=="function"&&r instanceof MathMLElement,BH=(r,i)=>{const u=r&&r.to;return Gi(u)?i?i(u):null:u},mie={name:"Teleport",__isTeleport:!0,process(r,i,u,m,v,p,x,S,P,N){const{mc:D,pc:z,pbc:W,o:{insert:$,querySelector:G,createText:Q,createComment:ve}}=N,de=WT(i.props);let{shapeFlag:Pe,children:Ie,dynamicChildren:re}=i;if(r==null){const Oe=i.el=Q(""),oe=i.anchor=Q("");$(Oe,u,m),$(oe,u,m);const Ge=i.target=BH(i.props,G),$e=yq(Ge,i,Q,$);Ge&&(x==="svg"||EZ(Ge)?x="svg":(x==="mathml"||AZ(Ge))&&(x="mathml"));const Ze=(rt,Ce)=>{Pe&16&&D(Ie,rt,Ce,v,p,x,S,P)};de?Ze(u,oe):Ge&&Ze(Ge,$e)}else{i.el=r.el,i.targetStart=r.targetStart;const Oe=i.anchor=r.anchor,oe=i.target=r.target,Ge=i.targetAnchor=r.targetAnchor,$e=WT(r.props),Ze=$e?u:oe,rt=$e?Oe:Ge;if(x==="svg"||EZ(oe)?x="svg":(x==="mathml"||AZ(oe))&&(x="mathml"),re?(W(r.dynamicChildren,re,Ze,v,p,x,S),DV(r,i,!0)):P||z(r,i,Ze,rt,v,p,x,S,!1),de)$e?i.props&&r.props&&i.props.to!==r.props.to&&(i.props.to=r.props.to):m8(i,u,Oe,N,1);else if((i.props&&i.props.to)!==(r.props&&r.props.to)){const Ce=i.target=BH(i.props,G);Ce&&m8(i,Ce,null,N,0)}else $e&&m8(i,oe,Ge,N,1)}vq(i)},remove(r,i,u,{um:m,o:{remove:v}},p){const{shapeFlag:x,children:S,anchor:P,targetStart:N,targetAnchor:D,target:z,props:W}=r;if(z&&(v(N),v(D)),p&&v(P),x&16){const $=p||!WT(W);for(let G=0;G<S.length;G++){const Q=S[G];m(Q,i,u,$,!!Q.dynamicChildren)}}},move:m8,hydrate:gie};function m8(r,i,u,{o:{insert:m},m:v},p=2){p===0&&m(r.targetAnchor,i,u);const{el:x,anchor:S,shapeFlag:P,children:N,props:D}=r,z=p===2;if(z&&m(x,i,u),(!z||WT(D))&&P&16)for(let W=0;W<N.length;W++)v(N[W],i,u,2);z&&m(S,i,u)}function gie(r,i,u,m,v,p,{o:{nextSibling:x,parentNode:S,querySelector:P,insert:N,createText:D}},z){const W=i.target=BH(i.props,P);if(W){const $=W._lpa||W.firstChild;if(i.shapeFlag&16)if(WT(i.props))i.anchor=z(x(r),i,S(r),u,m,v,p),i.targetStart=$,i.targetAnchor=$&&x($);else{i.anchor=x(r);let G=$;for(;G;){if(G&&G.nodeType===8){if(G.data==="teleport start anchor")i.targetStart=G;else if(G.data==="teleport anchor"){i.targetAnchor=G,W._lpa=i.targetAnchor&&x(i.targetAnchor);break}}G=x(G)}i.targetAnchor||yq(W,i,D,N),z($&&x($),i,W,u,m,v,p)}vq(i)}return i.anchor&&x(i.anchor)}const hie=mie;function vq(r){const i=r.ctx;if(i&&i.ut){let u=r.children[0].el;for(;u&&u!==r.targetAnchor;)u.nodeType===1&&u.setAttribute("data-v-owner",i.uid),u=u.nextSibling;i.ut()}}function yq(r,i,u,m){const v=i.targetStart=u(""),p=i.targetAnchor=u("");return v[bq]=p,r&&(m(v,r),m(p,r)),p}const Dd=Die;function pie(r){return bie(r)}function bie(r,i){const u=SK();u.__VUE__=!0;const{insert:m,remove:v,patchProp:p,createElement:x,createText:S,createComment:P,setText:N,setElementText:D,parentNode:z,nextSibling:W,setScopeId:$=sg,insertStaticContent:G}=r,Q=(Ke,le,xe,Me=null,ge=null,St=null,$t=void 0,Ct=null,zt=!!le.dynamicChildren)=>{if(Ke===le)return;Ke&&!xw(Ke,le)&&(Me=Rn(Ke),bt(Ke,ge,St,!0),Ke=null),le.patchFlag===-2&&(zt=!1,le.dynamicChildren=null);const{type:It,ref:on,shapeFlag:wn}=le;switch(It){case iO:ve(Ke,le,xe,Me);break;case Pf:de(Ke,le,xe,Me);break;case Y9:Ke==null&&Pe(le,xe,Me,$t);break;case ks:Re(Ke,le,xe,Me,ge,St,$t,Ct,zt);break;default:wn&1?Oe(Ke,le,xe,Me,ge,St,$t,Ct,zt):wn&6?R(Ke,le,xe,Me,ge,St,$t,Ct,zt):(wn&64||wn&128)&&It.process(Ke,le,xe,Me,ge,St,$t,Ct,zt,br)}on!=null&&ge&&IH(on,Ke&&Ke.ref,St,le||Ke,!le)},ve=(Ke,le,xe,Me)=>{if(Ke==null)m(le.el=S(le.children),xe,Me);else{const ge=le.el=Ke.el;le.children!==Ke.children&&N(ge,le.children)}},de=(Ke,le,xe,Me)=>{Ke==null?m(le.el=P(le.children||""),xe,Me):le.el=Ke.el},Pe=(Ke,le,xe,Me)=>{[Ke.el,Ke.anchor]=G(Ke.children,le,xe,Me,Ke.el,Ke.anchor)},Ie=({el:Ke,anchor:le},xe,Me)=>{let ge;for(;Ke&&Ke!==le;)ge=W(Ke),m(Ke,xe,Me),Ke=ge;m(le,xe,Me)},re=({el:Ke,anchor:le})=>{let xe;for(;Ke&&Ke!==le;)xe=W(Ke),v(Ke),Ke=xe;v(le)},Oe=(Ke,le,xe,Me,ge,St,$t,Ct,zt)=>{le.type==="svg"?$t="svg":le.type==="math"&&($t="mathml"),Ke==null?oe(le,xe,Me,ge,St,$t,Ct,zt):Ze(Ke,le,ge,St,$t,Ct,zt)},oe=(Ke,le,xe,Me,ge,St,$t,Ct)=>{let zt,It;const{props:on,shapeFlag:wn,transition:Cn,dirs:En}=Ke;if(zt=Ke.el=x(Ke.type,St,on&&on.is,on),wn&8?D(zt,Ke.children):wn&16&&$e(Ke.children,zt,null,Me,ge,q9(Ke,St),$t,Ct),En&&fw(Ke,null,Me,"created"),Ge(zt,Ke,Ke.scopeId,$t,Me),on){for(const vo in on)vo!=="value"&&!$T(vo)&&p(zt,vo,null,on[vo],St,Me);"value"in on&&p(zt,"value",null,on.value,St),(It=on.onVnodeBeforeMount)&&Dp(It,Me,Ke)}En&&fw(Ke,null,Me,"beforeMount");const ao=vie(ge,Cn);ao&&Cn.beforeEnter(zt),m(zt,le,xe),((It=on&&on.onVnodeMounted)||ao||En)&&Dd(()=>{It&&Dp(It,Me,Ke),ao&&Cn.enter(zt),En&&fw(Ke,null,Me,"mounted")},ge)},Ge=(Ke,le,xe,Me,ge)=>{if(xe&&$(Ke,xe),Me)for(let St=0;St<Me.length;St++)$(Ke,Me[St]);if(ge){let St=ge.subTree;if(le===St){const $t=ge.vnode;Ge(Ke,$t,$t.scopeId,$t.slotScopeIds,ge.parent)}}},$e=(Ke,le,xe,Me,ge,St,$t,Ct,zt=0)=>{for(let It=zt;It<Ke.length;It++){const on=Ke[It]=Ct?Jv(Ke[It]):Ip(Ke[It]);Q(null,on,le,xe,Me,ge,St,$t,Ct)}},Ze=(Ke,le,xe,Me,ge,St,$t)=>{const Ct=le.el=Ke.el;let{patchFlag:zt,dynamicChildren:It,dirs:on}=le;zt|=Ke.patchFlag&16;const wn=Ke.props||hi,Cn=le.props||hi;let En;if(xe&&mw(xe,!1),(En=Cn.onVnodeBeforeUpdate)&&Dp(En,xe,le,Ke),on&&fw(le,Ke,xe,"beforeUpdate"),xe&&mw(xe,!0),(wn.innerHTML&&Cn.innerHTML==null||wn.textContent&&Cn.textContent==null)&&D(Ct,""),It?rt(Ke.dynamicChildren,It,Ct,xe,Me,q9(le,ge),St):$t||Qe(Ke,le,Ct,null,xe,Me,q9(le,ge),St,!1),zt>0){if(zt&16)Ce(Ct,wn,Cn,xe,ge);else if(zt&2&&wn.class!==Cn.class&&p(Ct,"class",null,Cn.class,ge),zt&4&&p(Ct,"style",wn.style,Cn.style,ge),zt&8){const ao=le.dynamicProps;for(let vo=0;vo<ao.length;vo++){const Ao=ao[vo],Oo=wn[Ao],Es=Cn[Ao];(Es!==Oo||Ao==="value")&&p(Ct,Ao,Oo,Es,ge,xe)}}zt&1&&Ke.children!==le.children&&D(Ct,le.children)}else!$t&&It==null&&Ce(Ct,wn,Cn,xe,ge);((En=Cn.onVnodeUpdated)||on)&&Dd(()=>{En&&Dp(En,xe,le,Ke),on&&fw(le,Ke,xe,"updated")},Me)},rt=(Ke,le,xe,Me,ge,St,$t)=>{for(let Ct=0;Ct<le.length;Ct++){const zt=Ke[Ct],It=le[Ct],on=zt.el&&(zt.type===ks||!xw(zt,It)||zt.shapeFlag&70)?z(zt.el):xe;Q(zt,It,on,null,Me,ge,St,$t,!0)}},Ce=(Ke,le,xe,Me,ge)=>{if(le!==xe){if(le!==hi)for(const St in le)!$T(St)&&!(St in xe)&&p(Ke,St,le[St],null,ge,Me);for(const St in xe){if($T(St))continue;const $t=xe[St],Ct=le[St];$t!==Ct&&St!=="value"&&p(Ke,St,Ct,$t,ge,Me)}"value"in xe&&p(Ke,"value",le.value,xe.value,ge)}},Re=(Ke,le,xe,Me,ge,St,$t,Ct,zt)=>{const It=le.el=Ke?Ke.el:S(""),on=le.anchor=Ke?Ke.anchor:S("");let{patchFlag:wn,dynamicChildren:Cn,slotScopeIds:En}=le;En&&(Ct=Ct?Ct.concat(En):En),Ke==null?(m(It,xe,Me),m(on,xe,Me),$e(le.children||[],xe,on,ge,St,$t,Ct,zt)):wn>0&&wn&64&&Cn&&Ke.dynamicChildren?(rt(Ke.dynamicChildren,Cn,xe,ge,St,$t,Ct),(le.key!=null||ge&&le===ge.subTree)&&DV(Ke,le,!0)):Qe(Ke,le,xe,on,ge,St,$t,Ct,zt)},R=(Ke,le,xe,Me,ge,St,$t,Ct,zt)=>{le.slotScopeIds=Ct,Ke==null?le.shapeFlag&512?ge.ctx.activate(le,xe,Me,$t,zt):yt(le,xe,Me,ge,St,$t,zt):Pt(Ke,le,zt)},yt=(Ke,le,xe,Me,ge,St,$t)=>{const Ct=Ke.component=Pie(Ke,Me,ge);if(iM(Ke)&&(Ct.ctx.renderer=br),Lie(Ct,!1,$t),Ct.asyncDep){if(ge&&ge.registerDep(Ct,ln,$t),!Ke.el){const zt=Ct.subTree=pe(Pf);de(null,zt,le,xe)}}else ln(Ct,Ke,le,xe,ge,St,$t)},Pt=(Ke,le,xe)=>{const Me=le.component=Ke.component;if(Aie(Ke,le,xe))if(Me.asyncDep&&!Me.asyncResolved){gn(Me,le,xe);return}else Me.next=le,Lae(Me.update),Me.effect.dirty=!0,Me.update();else le.el=Ke.el,Me.vnode=le},ln=(Ke,le,xe,Me,ge,St,$t)=>{const Ct=()=>{if(Ke.isMounted){let{next:on,bu:wn,u:Cn,parent:En,vnode:ao}=Ke;{const ur=xq(Ke);if(ur){on&&(on.el=ao.el,gn(Ke,on,$t)),ur.asyncDep.then(()=>{Ke.isUnmounted||Ct()});return}}let vo=on,Ao;mw(Ke,!1),on?(on.el=ao.el,gn(Ke,on,$t)):on=ao,wn&&E8(wn),(Ao=on.props&&on.props.onVnodeBeforeUpdate)&&Dp(Ao,En,on,ao),mw(Ke,!0);const Oo=G9(Ke),Es=Ke.subTree;Ke.subTree=Oo,Q(Es,Oo,z(Es.el),Rn(Es),Ke,ge,St),on.el=Oo.el,vo===null&&Tie(Ke,Oo.el),Cn&&Dd(Cn,ge),(Ao=on.props&&on.props.onVnodeUpdated)&&Dd(()=>Dp(Ao,En,on,ao),ge)}else{let on;const{el:wn,props:Cn}=le,{bm:En,m:ao,parent:vo}=Ke,Ao=T8(le);if(mw(Ke,!1),En&&E8(En),!Ao&&(on=Cn&&Cn.onVnodeBeforeMount)&&Dp(on,vo,le),mw(Ke,!0),wn&&oi){const Oo=()=>{Ke.subTree=G9(Ke),oi(wn,Ke.subTree,Ke,ge,null)};Ao?le.type.__asyncLoader().then(()=>!Ke.isUnmounted&&Oo()):Oo()}else{const Oo=Ke.subTree=G9(Ke);Q(null,Oo,xe,Me,Ke,ge,St),le.el=Oo.el}if(ao&&Dd(ao,ge),!Ao&&(on=Cn&&Cn.onVnodeMounted)){const Oo=le;Dd(()=>Dp(on,vo,Oo),ge)}(le.shapeFlag&256||vo&&T8(vo.vnode)&&vo.vnode.shapeFlag&256)&&Ke.a&&Dd(Ke.a,ge),Ke.isMounted=!0,le=xe=Me=null}},zt=Ke.effect=new mV(Ct,sg,()=>CV(It),Ke.scope),It=Ke.update=()=>{zt.dirty&&zt.run()};It.i=Ke,It.id=Ke.uid,mw(Ke,!0),It()},gn=(Ke,le,xe)=>{le.component=Ke;const Me=Ke.vnode.props;Ke.vnode=le,Ke.next=null,iie(Ke,le.props,Me,xe),die(Ke,le.children,xe),fy(),vZ(Ke),my()},Qe=(Ke,le,xe,Me,ge,St,$t,Ct,zt=!1)=>{const It=Ke&&Ke.children,on=Ke?Ke.shapeFlag:0,wn=le.children,{patchFlag:Cn,shapeFlag:En}=le;if(Cn>0){if(Cn&128){nr(It,wn,xe,Me,ge,St,$t,Ct,zt);return}else if(Cn&256){On(It,wn,xe,Me,ge,St,$t,Ct,zt);return}}En&8?(on&16&&xn(It,ge,St),wn!==It&&D(xe,wn)):on&16?En&16?nr(It,wn,xe,Me,ge,St,$t,Ct,zt):xn(It,ge,St,!0):(on&8&&D(xe,""),En&16&&$e(wn,xe,Me,ge,St,$t,Ct,zt))},On=(Ke,le,xe,Me,ge,St,$t,Ct,zt)=>{Ke=Ke||JS,le=le||JS;const It=Ke.length,on=le.length,wn=Math.min(It,on);let Cn;for(Cn=0;Cn<wn;Cn++){const En=le[Cn]=zt?Jv(le[Cn]):Ip(le[Cn]);Q(Ke[Cn],En,xe,null,ge,St,$t,Ct,zt)}It>on?xn(Ke,ge,St,!0,!1,wn):$e(le,xe,Me,ge,St,$t,Ct,zt,wn)},nr=(Ke,le,xe,Me,ge,St,$t,Ct,zt)=>{let It=0;const on=le.length;let wn=Ke.length-1,Cn=on-1;for(;It<=wn&&It<=Cn;){const En=Ke[It],ao=le[It]=zt?Jv(le[It]):Ip(le[It]);if(xw(En,ao))Q(En,ao,xe,null,ge,St,$t,Ct,zt);else break;It++}for(;It<=wn&&It<=Cn;){const En=Ke[wn],ao=le[Cn]=zt?Jv(le[Cn]):Ip(le[Cn]);if(xw(En,ao))Q(En,ao,xe,null,ge,St,$t,Ct,zt);else break;wn--,Cn--}if(It>wn){if(It<=Cn){const En=Cn+1,ao=En<on?le[En].el:Me;for(;It<=Cn;)Q(null,le[It]=zt?Jv(le[It]):Ip(le[It]),xe,ao,ge,St,$t,Ct,zt),It++}}else if(It>Cn)for(;It<=wn;)bt(Ke[It],ge,St,!0),It++;else{const En=It,ao=It,vo=new Map;for(It=ao;It<=Cn;It++){const io=le[It]=zt?Jv(le[It]):Ip(le[It]);io.key!=null&&vo.set(io.key,It)}let Ao,Oo=0;const Es=Cn-ao+1;let ur=!1,bi=0;const cn=new Array(Es);for(It=0;It<Es;It++)cn[It]=0;for(It=En;It<=wn;It++){const io=Ke[It];if(Oo>=Es){bt(io,ge,St,!0);continue}let $r;if(io.key!=null)$r=vo.get(io.key);else for(Ao=ao;Ao<=Cn;Ao++)if(cn[Ao-ao]===0&&xw(io,le[Ao])){$r=Ao;break}$r===void 0?bt(io,ge,St,!0):(cn[$r-ao]=It+1,$r>=bi?bi=$r:ur=!0,Q(io,le[$r],xe,null,ge,St,$t,Ct,zt),Oo++)}const po=ur?yie(cn):JS;for(Ao=po.length-1,It=Es-1;It>=0;It--){const io=ao+It,$r=le[io],Pa=io+1<on?le[io+1].el:Me;cn[It]===0?Q(null,$r,xe,Pa,ge,St,$t,Ct,zt):ur&&(Ao<0||It!==po[Ao]?pt($r,xe,Pa,2):Ao--)}}},pt=(Ke,le,xe,Me,ge=null)=>{const{el:St,type:$t,transition:Ct,children:zt,shapeFlag:It}=Ke;if(It&6){pt(Ke.component.subTree,le,xe,Me);return}if(It&128){Ke.suspense.move(le,xe,Me);return}if(It&64){$t.move(Ke,le,xe,br);return}if($t===ks){m(St,le,xe);for(let wn=0;wn<zt.length;wn++)pt(zt[wn],le,xe,Me);m(Ke.anchor,le,xe);return}if($t===Y9){Ie(Ke,le,xe);return}if(Me!==2&&It&1&&Ct)if(Me===0)Ct.beforeEnter(St),m(St,le,xe),Dd(()=>Ct.enter(St),ge);else{const{leave:wn,delayLeave:Cn,afterLeave:En}=Ct,ao=()=>m(St,le,xe),vo=()=>{wn(St,()=>{ao(),En&&En()})};Cn?Cn(St,ao,vo):vo()}else m(St,le,xe)},bt=(Ke,le,xe,Me=!1,ge=!1)=>{const{type:St,props:$t,ref:Ct,children:zt,dynamicChildren:It,shapeFlag:on,patchFlag:wn,dirs:Cn,cacheIndex:En}=Ke;if(wn===-2&&(ge=!1),Ct!=null&&IH(Ct,null,xe,Ke,!0),En!=null&&(le.renderCache[En]=void 0),on&256){le.ctx.deactivate(Ke);return}const ao=on&1&&Cn,vo=!T8(Ke);let Ao;if(vo&&(Ao=$t&&$t.onVnodeBeforeUnmount)&&Dp(Ao,le,Ke),on&6)ho(Ke.component,xe,Me);else{if(on&128){Ke.suspense.unmount(xe,Me);return}ao&&fw(Ke,null,le,"beforeUnmount"),on&64?Ke.type.remove(Ke,le,xe,br,Me):It&&!It.hasOnce&&(St!==ks||wn>0&&wn&64)?xn(It,le,xe,!1,!0):(St===ks&&wn&384||!ge&&on&16)&&xn(zt,le,xe),Me&&Zt(Ke)}(vo&&(Ao=$t&&$t.onVnodeUnmounted)||ao)&&Dd(()=>{Ao&&Dp(Ao,le,Ke),ao&&fw(Ke,null,le,"unmounted")},xe)},Zt=Ke=>{const{type:le,el:xe,anchor:Me,transition:ge}=Ke;if(le===ks){Vr(xe,Me);return}if(le===Y9){re(Ke);return}const St=()=>{v(xe),ge&&!ge.persisted&&ge.afterLeave&&ge.afterLeave()};if(Ke.shapeFlag&1&&ge&&!ge.persisted){const{leave:$t,delayLeave:Ct}=ge,zt=()=>$t(xe,St);Ct?Ct(Ke.el,St,zt):zt()}else St()},Vr=(Ke,le)=>{let xe;for(;Ke!==le;)xe=W(Ke),v(Ke),Ke=xe;v(le)},ho=(Ke,le,xe)=>{const{bum:Me,scope:ge,update:St,subTree:$t,um:Ct,m:zt,a:It}=Ke;TZ(zt),TZ(It),Me&&E8(Me),ge.stop(),St&&(St.active=!1,bt($t,Ke,le,xe)),Ct&&Dd(Ct,le),Dd(()=>{Ke.isUnmounted=!0},le),le&&le.pendingBranch&&!le.isUnmounted&&Ke.asyncDep&&!Ke.asyncResolved&&Ke.suspenseId===le.pendingId&&(le.deps--,le.deps===0&&le.resolve())},xn=(Ke,le,xe,Me=!1,ge=!1,St=0)=>{for(let $t=St;$t<Ke.length;$t++)bt(Ke[$t],le,xe,Me,ge)},Rn=Ke=>{if(Ke.shapeFlag&6)return Rn(Ke.component.subTree);if(Ke.shapeFlag&128)return Ke.suspense.next();const le=W(Ke.anchor||Ke.el),xe=le&&le[bq];return xe?W(xe):le};let J=!1;const sr=(Ke,le,xe)=>{Ke==null?le._vnode&&bt(le._vnode,null,null,!0):Q(le._vnode||null,Ke,le,null,null,null,xe),le._vnode=Ke,J||(J=!0,vZ(),GK(),J=!1)},br={p:Q,um:bt,m:pt,r:Zt,mt:yt,mc:$e,pc:Qe,pbc:rt,n:Rn,o:r};let Ko,oi;return{render:sr,hydrate:Ko,createApp:rie(sr,Ko)}}function q9({type:r,props:i},u){return u==="svg"&&r==="foreignObject"||u==="mathml"&&r==="annotation-xml"&&i&&i.encoding&&i.encoding.includes("html")?void 0:u}function mw({effect:r,update:i},u){r.allowRecurse=i.allowRecurse=u}function vie(r,i){return(!r||r&&!r.pendingBranch)&&i&&!i.persisted}function DV(r,i,u=!1){const m=r.children,v=i.children;if(Xo(m)&&Xo(v))for(let p=0;p<m.length;p++){const x=m[p];let S=v[p];S.shapeFlag&1&&!S.dynamicChildren&&((S.patchFlag<=0||S.patchFlag===32)&&(S=v[p]=Jv(v[p]),S.el=x.el),!u&&S.patchFlag!==-2&&DV(x,S)),S.type===iO&&(S.el=x.el)}}function yie(r){const i=r.slice(),u=[0];let m,v,p,x,S;const P=r.length;for(m=0;m<P;m++){const N=r[m];if(N!==0){if(v=u[u.length-1],r[v]<N){i[m]=v,u.push(m);continue}for(p=0,x=u.length-1;p<x;)S=p+x>>1,r[u[S]]<N?p=S+1:x=S;N<r[u[p]]&&(p>0&&(i[m]=u[p-1]),u[p]=m)}}for(p=u.length,x=u[p-1];p-- >0;)u[p]=x,x=i[x];return u}function xq(r){const i=r.subTree.component;if(i)return i.asyncDep&&!i.asyncResolved?i:xq(i)}function TZ(r){if(r)for(let i=0;i<r.length;i++)r[i].active=!1}const xie=Symbol.for("v-scx"),wie=()=>qi(xie);function ph(r,i){return RV(r,null,i)}const g8={};function so(r,i,u){return RV(r,i,u)}function RV(r,i,{immediate:u,deep:m,flush:v,once:p,onTrack:x,onTrigger:S}=hi){if(i&&p){const oe=i;i=(...Ge)=>{oe(...Ge),Oe()}}const P=Jl,N=oe=>m===!0?oe:Qv(oe,m===!1?1:void 0);let D,z=!1,W=!1;if(Ma(r)?(D=()=>r.value,z=ok(r)):Sw(r)?(D=()=>N(r),z=!0):Xo(r)?(W=!0,z=r.some(oe=>Sw(oe)||ok(oe)),D=()=>r.map(oe=>{if(Ma(oe))return oe.value;if(Sw(oe))return N(oe);if(pr(oe))return oy(oe,P,2)})):pr(r)?i?D=()=>oy(r,P,2):D=()=>($&&$(),lg(r,P,3,[G])):D=sg,i&&m){const oe=D;D=()=>Qv(oe())}let $,G=oe=>{$=Ie.onStop=()=>{oy(oe,P,4),$=Ie.onStop=void 0}},Q;if(uM)if(G=sg,i?u&&lg(i,P,3,[D(),W?[]:void 0,G]):D(),v==="sync"){const oe=wie();Q=oe.__watcherHandles||(oe.__watcherHandles=[])}else return sg;let ve=W?new Array(r.length).fill(g8):g8;const de=()=>{if(!(!Ie.active||!Ie.dirty))if(i){const oe=Ie.run();(m||z||(W?oe.some((Ge,$e)=>iy(Ge,ve[$e])):iy(oe,ve)))&&($&&$(),lg(i,P,3,[oe,ve===g8?void 0:W&&ve[0]===g8?[]:ve,G]),ve=oe)}else Ie.run()};de.allowRecurse=!!i;let Pe;v==="sync"?Pe=de:v==="post"?Pe=()=>Dd(de,P&&P.suspense):(de.pre=!0,P&&(de.id=P.uid),Pe=()=>CV(de));const Ie=new mV(D,sg,Pe),re=OK(),Oe=()=>{Ie.stop(),re&&dV(re.effects,Ie)};return i?u?de():ve=Ie.run():v==="post"?Dd(Ie.run.bind(Ie),P&&P.suspense):Ie.run(),Q&&Q.push(Oe),Oe}function Cie(r,i,u){const m=this.proxy,v=Gi(r)?r.includes(".")?wq(m,r):()=>m[r]:r.bind(m,m);let p;pr(i)?p=i:(p=i.handler,u=i);const x=lO(this),S=RV(v,p.bind(m),u);return x(),S}function wq(r,i){const u=i.split(".");return()=>{let m=r;for(let v=0;v<u.length&&m;v++)m=m[u[v]];return m}}function Qv(r,i=1/0,u){if(i<=0||!Ba(r)||r.__v_skip||(u=u||new Set,u.has(r)))return r;if(u.add(r),i--,Ma(r))Qv(r.value,i,u);else if(Xo(r))for(let m=0;m<r.length;m++)Qv(r[m],i,u);else if(yK(r)||QS(r))r.forEach(m=>{Qv(m,i,u)});else if(CK(r)){for(const m in r)Qv(r[m],i,u);for(const m of Object.getOwnPropertySymbols(r))Object.prototype.propertyIsEnumerable.call(r,m)&&Qv(r[m],i,u)}return r}const _ie=(r,i)=>i==="modelValue"||i==="model-value"?r.modelModifiers:r[`${i}Modifiers`]||r[`${$f(i)}Modifiers`]||r[`${Iw(i)}Modifiers`];function Sie(r,i,...u){if(r.isUnmounted)return;const m=r.vnode.props||hi;let v=u;const p=i.startsWith("update:"),x=p&&_ie(m,i.slice(7));x&&(x.trim&&(v=u.map(D=>Gi(D)?D.trim():D)),x.number&&(v=u.map(SH)));let S,P=m[S=W9(i)]||m[S=W9($f(i))];!P&&p&&(P=m[S=W9(Iw(i))]),P&&lg(P,r,6,v);const N=m[S+"Once"];if(N){if(!r.emitted)r.emitted={};else if(r.emitted[S])return;r.emitted[S]=!0,lg(N,r,6,v)}}function Cq(r,i,u=!1){const m=i.emitsCache,v=m.get(r);if(v!==void 0)return v;const p=r.emits;let x={},S=!1;if(!pr(r)){const P=N=>{const D=Cq(N,i,!0);D&&(S=!0,Bl(x,D))};!u&&i.mixins.length&&i.mixins.forEach(P),r.extends&&P(r.extends),r.mixins&&r.mixins.forEach(P)}return!p&&!S?(Ba(r)&&m.set(r,null),null):(Xo(p)?p.forEach(P=>x[P]=null):Bl(x,p),Ba(r)&&m.set(r,x),x)}function cM(r,i){return!r||!tM(i)?!1:(i=i.slice(2).replace(/Once$/,""),Ss(r,i[0].toLowerCase()+i.slice(1))||Ss(r,Iw(i))||Ss(r,i))}function G9(r){const{type:i,vnode:u,proxy:m,withProxy:v,propsOptions:[p],slots:x,attrs:S,emit:P,render:N,renderCache:D,props:z,data:W,setupState:$,ctx:G,inheritAttrs:Q}=r,ve=L8(r);let de,Pe;try{if(u.shapeFlag&4){const re=v||m,Oe=re;de=Ip(N.call(Oe,re,D,z,$,W,G)),Pe=S}else{const re=i;de=Ip(re.length>1?re(z,{attrs:S,slots:x,emit:P}):re(z,null)),Pe=i.props?S:kie(S)}}catch(re){ZT.length=0,sM(re,r,1),de=pe(Pf)}let Ie=de;if(Pe&&Q!==!1){const re=Object.keys(Pe),{shapeFlag:Oe}=Ie;re.length&&Oe&7&&(p&&re.some(uV)&&(Pe=Eie(Pe,p)),Ie=cy(Ie,Pe,!1,!0))}return u.dirs&&(Ie=cy(Ie,null,!1,!0),Ie.dirs=Ie.dirs?Ie.dirs.concat(u.dirs):u.dirs),u.transition&&(Ie.transition=u.transition),de=Ie,L8(ve),de}const kie=r=>{let i;for(const u in r)(u==="class"||u==="style"||tM(u))&&((i||(i={}))[u]=r[u]);return i},Eie=(r,i)=>{const u={};for(const m in r)(!uV(m)||!(m.slice(9)in i))&&(u[m]=r[m]);return u};function Aie(r,i,u){const{props:m,children:v,component:p}=r,{props:x,children:S,patchFlag:P}=i,N=p.emitsOptions;if(i.dirs||i.transition)return!0;if(u&&P>=0){if(P&1024)return!0;if(P&16)return m?OZ(m,x,N):!!x;if(P&8){const D=i.dynamicProps;for(let z=0;z<D.length;z++){const W=D[z];if(x[W]!==m[W]&&!cM(N,W))return!0}}}else return(v||S)&&(!S||!S.$stable)?!0:m===x?!1:m?x?OZ(m,x,N):!0:!!x;return!1}function OZ(r,i,u){const m=Object.keys(i);if(m.length!==Object.keys(r).length)return!0;for(let v=0;v<m.length;v++){const p=m[v];if(i[p]!==r[p]&&!cM(u,p))return!0}return!1}function Tie({vnode:r,parent:i},u){for(;i;){const m=i.subTree;if(m.suspense&&m.suspense.activeBranch===r&&(m.el=r.el),m===r)(r=i.vnode).el=u,i=i.parent;else break}}const Oie=r=>r.__isSuspense;function Die(r,i){i&&i.pendingBranch?Xo(r)?i.effects.push(...r):i.effects.push(r):Fae(r)}const ks=Symbol.for("v-fgt"),iO=Symbol.for("v-txt"),Pf=Symbol.for("v-cmt"),Y9=Symbol.for("v-stc"),ZT=[];let Ff=null;function hr(r=!1){ZT.push(Ff=r?null:[])}function Rie(){ZT.pop(),Ff=ZT[ZT.length-1]||null}let XT=1;function DZ(r){XT+=r,r<0&&Ff&&(Ff.hasOnce=!0)}function _q(r){return r.dynamicChildren=XT>0?Ff||JS:null,Rie(),XT>0&&Ff&&Ff.push(r),r}function Cl(r,i,u,m,v,p){return _q(lt(r,i,u,m,v,p,!0))}function ni(r,i,u,m,v){return _q(pe(r,i,u,m,v,!0))}function MH(r){return r?r.__v_isVNode===!0:!1}function xw(r,i){return r.type===i.type&&r.key===i.key}const Sq=({key:r})=>r??null,O8=({ref:r,ref_key:i,ref_for:u})=>(typeof r=="number"&&(r=""+r),r!=null?Gi(r)||Ma(r)||pr(r)?{i:Gu,r,k:i,f:!!u}:r:null);function lt(r,i=null,u=null,m=0,v=null,p=r===ks?0:1,x=!1,S=!1){const P={__v_isVNode:!0,__v_skip:!0,type:r,props:i,key:i&&Sq(i),ref:i&&O8(i),scopeId:aM,slotScopeIds:null,children:u,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:p,patchFlag:m,dynamicProps:v,dynamicChildren:null,appContext:null,ctx:Gu};return S?(NV(P,u),p&128&&r.normalize(P)):u&&(P.shapeFlag|=Gi(u)?8:16),XT>0&&!x&&Ff&&(P.patchFlag>0||p&6)&&P.patchFlag!==32&&Ff.push(P),P}const pe=Nie;function Nie(r,i=null,u=null,m=0,v=null,p=!1){if((!r||r===Gae)&&(r=Pf),MH(r)){const S=cy(r,i,!0);return u&&NV(S,u),XT>0&&!p&&Ff&&(S.shapeFlag&6?Ff[Ff.indexOf(r)]=S:Ff.push(S)),S.patchFlag=-2,S}if($ie(r)&&(r=r.__vccOpts),i){i=Iie(i);let{class:S,style:P}=i;S&&!Gi(S)&&(i.class=ly(S)),Ba(P)&&(VK(P)&&!Xo(P)&&(P=Bl({},P)),i.style=V0(P))}const x=Gi(r)?1:Oie(r)?128:fie(r)?64:Ba(r)?4:pr(r)?2:0;return lt(r,i,u,m,v,x,p,!0)}function Iie(r){return r?VK(r)||uq(r)?Bl({},r):r:null}function cy(r,i,u=!1,m=!1){const{props:v,ref:p,patchFlag:x,children:S,transition:P}=r,N=i?Ia(v||{},i):v,D={__v_isVNode:!0,__v_skip:!0,type:r.type,props:N,key:N&&Sq(N),ref:i&&i.ref?u&&p?Xo(p)?p.concat(O8(i)):[p,O8(i)]:O8(i):p,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:S,target:r.target,targetStart:r.targetStart,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:i&&r.type!==ks?x===-1?16:x|16:x,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:P,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&cy(r.ssContent),ssFallback:r.ssFallback&&cy(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce};return P&&m&&rk(D,P.clone(D)),D}function rg(r=" ",i=0){return pe(iO,null,r,i)}function qu(r="",i=!1){return i?(hr(),ni(Pf,null,r)):pe(Pf,null,r)}function Ip(r){return r==null||typeof r=="boolean"?pe(Pf):Xo(r)?pe(ks,null,r.slice()):typeof r=="object"?Jv(r):pe(iO,null,String(r))}function Jv(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:cy(r)}function NV(r,i){let u=0;const{shapeFlag:m}=r;if(i==null)i=null;else if(Xo(i))u=16;else if(typeof i=="object")if(m&65){const v=i.default;v&&(v._c&&(v._d=!1),NV(r,v()),v._c&&(v._d=!0));return}else{u=32;const v=i._;!v&&!uq(i)?i._ctx=Gu:v===3&&Gu&&(Gu.slots._===1?i._=1:(i._=2,r.patchFlag|=1024))}else pr(i)?(i={default:i,_ctx:Gu},u=32):(i=String(i),m&64?(u=16,i=[rg(i)]):u=8);r.children=i,r.shapeFlag|=u}function Ia(...r){const i={};for(let u=0;u<r.length;u++){const m=r[u];for(const v in m)if(v==="class")i.class!==m.class&&(i.class=ly([i.class,m.class]));else if(v==="style")i.style=V0([i.style,m.style]);else if(tM(v)){const p=i[v],x=m[v];x&&p!==x&&!(Xo(p)&&p.includes(x))&&(i[v]=p?[].concat(p,x):x)}else v!==""&&(i[v]=m[v])}return i}function Dp(r,i,u,m=null){lg(r,i,7,[u,m])}const Bie=iq();let Mie=0;function Pie(r,i,u){const m=r.type,v=(i?i.appContext:r.appContext)||Bie,p={uid:Mie++,vnode:r,type:m,parent:i,appContext:v,root:null,next:null,subTree:null,effect:null,update:null,scope:new TK(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:i?i.provides:Object.create(v.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:fq(m,v),emitsOptions:Cq(m,v),emit:null,emitted:null,propsDefaults:hi,inheritAttrs:m.inheritAttrs,ctx:hi,data:hi,props:hi,attrs:hi,slots:hi,refs:hi,setupState:hi,setupContext:null,suspense:u,suspenseId:u?u.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return p.ctx={_:p},p.root=i?i.root:p,p.emit=Sie.bind(null,p),r.ce&&r.ce(p),p}let Jl=null;const IV=()=>Jl||Gu;let z8,PH;{const r=SK(),i=(u,m)=>{let v;return(v=r[u])||(v=r[u]=[]),v.push(m),p=>{v.length>1?v.forEach(x=>x(p)):v[0](p)}};z8=i("__VUE_INSTANCE_SETTERS__",u=>Jl=u),PH=i("__VUE_SSR_SETTERS__",u=>uM=u)}const lO=r=>{const i=Jl;return z8(r),r.scope.on(),()=>{r.scope.off(),z8(i)}},RZ=()=>{Jl&&Jl.scope.off(),z8(null)};function kq(r){return r.vnode.shapeFlag&4}let uM=!1;function Lie(r,i=!1,u=!1){i&&PH(i);const{props:m,children:v}=r.vnode,p=kq(r);aie(r,m,p,i),uie(r,v,u);const x=p?Fie(r,i):void 0;return i&&PH(!1),x}function Fie(r,i){const u=r.type;r.accessCache=Object.create(null),r.proxy=new Proxy(r.ctx,Xae);const{setup:m}=u;if(m){const v=r.setupContext=m.length>1?Hie(r):null,p=lO(r);fy();const x=oy(m,r,0,[r.props,v]);if(my(),p(),xK(x)){if(x.then(RZ,RZ),i)return x.then(S=>{NZ(r,S,i)}).catch(S=>{sM(S,r,0)});r.asyncDep=x}else NZ(r,x,i)}else Eq(r,i)}function NZ(r,i,u){pr(i)?r.type.__ssrInlineRender?r.ssrRender=i:r.render=i:Ba(i)&&(r.setupState=ZK(i)),Eq(r,u)}let IZ;function Eq(r,i,u){const m=r.type;if(!r.render){if(!i&&IZ&&!m.render){const v=m.template||TV(r).template;if(v){const{isCustomElement:p,compilerOptions:x}=r.appContext.config,{delimiters:S,compilerOptions:P}=m,N=Bl(Bl({isCustomElement:p,delimiters:S},x),P);m.render=IZ(v,N)}}r.render=m.render||sg}{const v=lO(r);fy();try{Jae(r)}finally{my(),v()}}}const zie={get(r,i){return Pd(r,"get",""),r[i]}};function Hie(r){const i=u=>{r.exposed=u||{}};return{attrs:new Proxy(r.attrs,zie),slots:r.slots,emit:r.emit,expose:i}}function dM(r){return r.exposed?r.exposeProxy||(r.exposeProxy=new Proxy(ZK(yV(r.exposed)),{get(i,u){if(u in i)return i[u];if(u in UT)return UT[u](r)},has(i,u){return u in i||u in UT}})):r.proxy}function Vie(r,i=!0){return pr(r)?r.displayName||r.name:r.name||i&&r.__name}function $ie(r){return pr(r)&&"__vccOpts"in r}const ct=(r,i)=>Dae(r,i,uM);function Fp(r,i,u){const m=arguments.length;return m===2?Ba(i)&&!Xo(i)?MH(i)?pe(r,null,[i]):pe(r,i):pe(r,null,i):(m>3?u=Array.prototype.slice.call(arguments,2):m===3&&MH(u)&&(u=[u]),pe(r,i,u))}const Uie="3.4.38";/**
* @vue/runtime-dom v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Wie="http://www.w3.org/2000/svg",Zie="http://www.w3.org/1998/Math/MathML",P0=typeof document<"u"?document:null,BZ=P0&&P0.createElement("template"),jie={insert:(r,i,u)=>{i.insertBefore(r,u||null)},remove:r=>{const i=r.parentNode;i&&i.removeChild(r)},createElement:(r,i,u,m)=>{const v=i==="svg"?P0.createElementNS(Wie,r):i==="mathml"?P0.createElementNS(Zie,r):u?P0.createElement(r,{is:u}):P0.createElement(r);return r==="select"&&m&&m.multiple!=null&&v.setAttribute("multiple",m.multiple),v},createText:r=>P0.createTextNode(r),createComment:r=>P0.createComment(r),setText:(r,i)=>{r.nodeValue=i},setElementText:(r,i)=>{r.textContent=i},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>P0.querySelector(r),setScopeId(r,i){r.setAttribute(i,"")},insertStaticContent(r,i,u,m,v,p){const x=u?u.previousSibling:i.lastChild;if(v&&(v===p||v.nextSibling))for(;i.insertBefore(v.cloneNode(!0),u),!(v===p||!(v=v.nextSibling)););else{BZ.innerHTML=m==="svg"?`<svg>${r}</svg>`:m==="mathml"?`<math>${r}</math>`:r;const S=BZ.content;if(m==="svg"||m==="mathml"){const P=S.firstChild;for(;P.firstChild;)S.appendChild(P.firstChild);S.removeChild(P)}i.insertBefore(S,u)}return[x?x.nextSibling:i.firstChild,u?u.previousSibling:i.lastChild]}},jv="transition",PT="animation",ak=Symbol("_vtc"),zp=(r,{slots:i})=>Fp(Vae,Tq(r),i);zp.displayName="Transition";const Aq={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Kie=zp.props=Bl({},JK,Aq),gw=(r,i=[])=>{Xo(r)?r.forEach(u=>u(...i)):r&&r(...i)},MZ=r=>r?Xo(r)?r.some(i=>i.length>1):r.length>1:!1;function Tq(r){const i={};for(const Re in r)Re in Aq||(i[Re]=r[Re]);if(r.css===!1)return i;const{name:u="v",type:m,duration:v,enterFromClass:p=`${u}-enter-from`,enterActiveClass:x=`${u}-enter-active`,enterToClass:S=`${u}-enter-to`,appearFromClass:P=p,appearActiveClass:N=x,appearToClass:D=S,leaveFromClass:z=`${u}-leave-from`,leaveActiveClass:W=`${u}-leave-active`,leaveToClass:$=`${u}-leave-to`}=r,G=qie(v),Q=G&&G[0],ve=G&&G[1],{onBeforeEnter:de,onEnter:Pe,onEnterCancelled:Ie,onLeave:re,onLeaveCancelled:Oe,onBeforeAppear:oe=de,onAppear:Ge=Pe,onAppearCancelled:$e=Ie}=i,Ze=(Re,R,yt)=>{qv(Re,R?D:S),qv(Re,R?N:x),yt&&yt()},rt=(Re,R)=>{Re._isLeaving=!1,qv(Re,z),qv(Re,$),qv(Re,W),R&&R()},Ce=Re=>(R,yt)=>{const Pt=Re?Ge:Pe,ln=()=>Ze(R,Re,yt);gw(Pt,[R,ln]),PZ(()=>{qv(R,Re?P:p),M0(R,Re?D:S),MZ(Pt)||LZ(R,m,Q,ln)})};return Bl(i,{onBeforeEnter(Re){gw(de,[Re]),M0(Re,p),M0(Re,x)},onBeforeAppear(Re){gw(oe,[Re]),M0(Re,P),M0(Re,N)},onEnter:Ce(!1),onAppear:Ce(!0),onLeave(Re,R){Re._isLeaving=!0;const yt=()=>rt(Re,R);M0(Re,z),M0(Re,W),Dq(),PZ(()=>{Re._isLeaving&&(qv(Re,z),M0(Re,$),MZ(re)||LZ(Re,m,ve,yt))}),gw(re,[Re,yt])},onEnterCancelled(Re){Ze(Re,!1),gw(Ie,[Re])},onAppearCancelled(Re){Ze(Re,!0),gw($e,[Re])},onLeaveCancelled(Re){rt(Re),gw(Oe,[Re])}})}function qie(r){if(r==null)return null;if(Ba(r))return[X9(r.enter),X9(r.leave)];{const i=X9(r);return[i,i]}}function X9(r){return tae(r)}function M0(r,i){i.split(/\s+/).forEach(u=>u&&r.classList.add(u)),(r[ak]||(r[ak]=new Set)).add(i)}function qv(r,i){i.split(/\s+/).forEach(m=>m&&r.classList.remove(m));const u=r[ak];u&&(u.delete(i),u.size||(r[ak]=void 0))}function PZ(r){requestAnimationFrame(()=>{requestAnimationFrame(r)})}let Gie=0;function LZ(r,i,u,m){const v=r._endId=++Gie,p=()=>{v===r._endId&&m()};if(u)return setTimeout(p,u);const{type:x,timeout:S,propCount:P}=Oq(r,i);if(!x)return m();const N=x+"end";let D=0;const z=()=>{r.removeEventListener(N,W),p()},W=$=>{$.target===r&&++D>=P&&z()};setTimeout(()=>{D<P&&z()},S+1),r.addEventListener(N,W)}function Oq(r,i){const u=window.getComputedStyle(r),m=G=>(u[G]||"").split(", "),v=m(`${jv}Delay`),p=m(`${jv}Duration`),x=FZ(v,p),S=m(`${PT}Delay`),P=m(`${PT}Duration`),N=FZ(S,P);let D=null,z=0,W=0;i===jv?x>0&&(D=jv,z=x,W=p.length):i===PT?N>0&&(D=PT,z=N,W=P.length):(z=Math.max(x,N),D=z>0?x>N?jv:PT:null,W=D?D===jv?p.length:P.length:0);const $=D===jv&&/\b(transform|all)(,|$)/.test(m(`${jv}Property`).toString());return{type:D,timeout:z,propCount:W,hasTransform:$}}function FZ(r,i){for(;r.length<i.length;)r=r.concat(r);return Math.max(...i.map((u,m)=>zZ(u)+zZ(r[m])))}function zZ(r){return r==="auto"?0:Number(r.slice(0,-1).replace(",","."))*1e3}function Dq(){return document.body.offsetHeight}function Yie(r,i,u){const m=r[ak];m&&(i=(i?[i,...m]:[...m]).join(" ")),i==null?r.removeAttribute("class"):u?r.setAttribute("class",i):r.className=i}const H8=Symbol("_vod"),Rq=Symbol("_vsh"),gr={beforeMount(r,{value:i},{transition:u}){r[H8]=r.style.display==="none"?"":r.style.display,u&&i?u.beforeEnter(r):LT(r,i)},mounted(r,{value:i},{transition:u}){u&&i&&u.enter(r)},updated(r,{value:i,oldValue:u},{transition:m}){!i!=!u&&(m?i?(m.beforeEnter(r),LT(r,!0),m.enter(r)):m.leave(r,()=>{LT(r,!1)}):LT(r,i))},beforeUnmount(r,{value:i}){LT(r,i)}};function LT(r,i){r.style.display=i?r[H8]:"none",r[Rq]=!i}const Xie=Symbol(""),Jie=/(^|;)\s*display\s*:/;function Qie(r,i,u){const m=r.style,v=Gi(u);let p=!1;if(u&&!v){if(i)if(Gi(i))for(const x of i.split(";")){const S=x.slice(0,x.indexOf(":")).trim();u[S]==null&&D8(m,S,"")}else for(const x in i)u[x]==null&&D8(m,x,"");for(const x in u)x==="display"&&(p=!0),D8(m,x,u[x])}else if(v){if(i!==u){const x=m[Xie];x&&(u+=";"+x),m.cssText=u,p=Jie.test(u)}}else i&&r.removeAttribute("style");H8 in r&&(r[H8]=p?m.display:"",r[Rq]&&(m.display="none"))}const HZ=/\s*!important$/;function D8(r,i,u){if(Xo(u))u.forEach(m=>D8(r,i,m));else if(u==null&&(u=""),i.startsWith("--"))r.setProperty(i,u);else{const m=ele(r,i);HZ.test(u)?r.setProperty(Iw(m),u.replace(HZ,""),"important"):r[m]=u}}const VZ=["Webkit","Moz","ms"],J9={};function ele(r,i){const u=J9[i];if(u)return u;let m=$f(i);if(m!=="filter"&&m in r)return J9[i]=m;m=j0(m);for(let v=0;v<VZ.length;v++){const p=VZ[v]+m;if(p in r)return J9[i]=p}return i}const $Z="http://www.w3.org/1999/xlink";function UZ(r,i,u,m,v,p=iae(i)){m&&i.startsWith("xlink:")?u==null?r.removeAttributeNS($Z,i.slice(6,i.length)):r.setAttributeNS($Z,i,u):u==null||p&&!kK(u)?r.removeAttribute(i):r.setAttribute(i,p?"":dy(u)?String(u):u)}function tle(r,i,u,m){if(i==="innerHTML"||i==="textContent"){if(u==null)return;r[i]=u;return}const v=r.tagName;if(i==="value"&&v!=="PROGRESS"&&!v.includes("-")){const x=v==="OPTION"?r.getAttribute("value")||"":r.value,S=u==null?"":String(u);(x!==S||!("_value"in r))&&(r.value=S),u==null&&r.removeAttribute(i),r._value=u;return}let p=!1;if(u===""||u==null){const x=typeof r[i];x==="boolean"?u=kK(u):u==null&&x==="string"?(u="",p=!0):x==="number"&&(u=0,p=!0)}try{r[i]=u}catch{}p&&r.removeAttribute(i)}function qS(r,i,u,m){r.addEventListener(i,u,m)}function nle(r,i,u,m){r.removeEventListener(i,u,m)}const WZ=Symbol("_vei");function ole(r,i,u,m,v=null){const p=r[WZ]||(r[WZ]={}),x=p[i];if(m&&x)x.value=m;else{const[S,P]=rle(i);if(m){const N=p[i]=ile(m,v);qS(r,S,N,P)}else x&&(nle(r,S,x,P),p[i]=void 0)}}const ZZ=/(?:Once|Passive|Capture)$/;function rle(r){let i;if(ZZ.test(r)){i={};let m;for(;m=r.match(ZZ);)r=r.slice(0,r.length-m[0].length),i[m[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):Iw(r.slice(2)),i]}let Q9=0;const sle=Promise.resolve(),ale=()=>Q9||(sle.then(()=>Q9=0),Q9=Date.now());function ile(r,i){const u=m=>{if(!m._vts)m._vts=Date.now();else if(m._vts<=u.attached)return;lg(lle(m,u.value),i,5,[m])};return u.value=r,u.attached=ale(),u}function lle(r,i){if(Xo(i)){const u=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{u.call(r),r._stopped=!0},i.map(m=>v=>!v._stopped&&m&&m(v))}else return i}const jZ=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)>96&&r.charCodeAt(2)<123,cle=(r,i,u,m,v,p)=>{const x=v==="svg";i==="class"?Yie(r,m,x):i==="style"?Qie(r,u,m):tM(i)?uV(i)||ole(r,i,u,m,p):(i[0]==="."?(i=i.slice(1),!0):i[0]==="^"?(i=i.slice(1),!1):ule(r,i,m,x))?(tle(r,i,m),!r.tagName.includes("-")&&(i==="value"||i==="checked"||i==="selected")&&UZ(r,i,m,x,p,i!=="value")):(i==="true-value"?r._trueValue=m:i==="false-value"&&(r._falseValue=m),UZ(r,i,m,x))};function ule(r,i,u,m){if(m)return!!(i==="innerHTML"||i==="textContent"||i in r&&jZ(i)&&pr(u));if(i==="spellcheck"||i==="draggable"||i==="translate"||i==="form"||i==="list"&&r.tagName==="INPUT"||i==="type"&&r.tagName==="TEXTAREA")return!1;if(i==="width"||i==="height"){const v=r.tagName;if(v==="IMG"||v==="VIDEO"||v==="CANVAS"||v==="SOURCE")return!1}return jZ(i)&&Gi(u)?!1:i in r}const Nq=new WeakMap,Iq=new WeakMap,V8=Symbol("_moveCb"),KZ=Symbol("_enterCb"),Bq={name:"TransitionGroup",props:Bl({},Kie,{tag:String,moveClass:String}),setup(r,{slots:i}){const u=IV(),m=XK();let v,p;return AV(()=>{if(!v.length)return;const x=r.moveClass||`${r.name||"v"}-move`;if(!hle(v[0].el,u.vnode.el,x))return;v.forEach(fle),v.forEach(mle);const S=v.filter(gle);Dq(),S.forEach(P=>{const N=P.el,D=N.style;M0(N,x),D.transform=D.webkitTransform=D.transitionDuration="";const z=N[V8]=W=>{W&&W.target!==N||(!W||/transform$/.test(W.propertyName))&&(N.removeEventListener("transitionend",z),N[V8]=null,qv(N,x))};N.addEventListener("transitionend",z)})}),()=>{const x=Eo(r),S=Tq(x);let P=x.tag||ks;if(v=[],p)for(let N=0;N<p.length;N++){const D=p[N];D.el&&D.el instanceof Element&&(v.push(D),rk(D,YT(D,S,m,u)),Nq.set(D,D.el.getBoundingClientRect()))}p=i.default?_V(i.default()):[];for(let N=0;N<p.length;N++){const D=p[N];D.key!=null&&rk(D,YT(D,S,m,u))}return pe(P,null,p)}}},dle=r=>delete r.mode;Bq.props;const BV=Bq;function fle(r){const i=r.el;i[V8]&&i[V8](),i[KZ]&&i[KZ]()}function mle(r){Iq.set(r,r.el.getBoundingClientRect())}function gle(r){const i=Nq.get(r),u=Iq.get(r),m=i.left-u.left,v=i.top-u.top;if(m||v){const p=r.el.style;return p.transform=p.webkitTransform=`translate(${m}px,${v}px)`,p.transitionDuration="0s",r}}function hle(r,i,u){const m=r.cloneNode(),v=r[ak];v&&v.forEach(S=>{S.split(/\s+/).forEach(P=>P&&m.classList.remove(P))}),u.split(/\s+/).forEach(S=>S&&m.classList.add(S)),m.style.display="none";const p=i.nodeType===1?i:i.parentNode;p.appendChild(m);const{hasTransform:x}=Oq(m);return p.removeChild(m),x}const qZ=r=>{const i=r.props["onUpdate:modelValue"]||!1;return Xo(i)?u=>E8(i,u):i};function ple(r){r.target.composing=!0}function GZ(r){const i=r.target;i.composing&&(i.composing=!1,i.dispatchEvent(new Event("input")))}const eH=Symbol("_assign"),ble={created(r,{modifiers:{lazy:i,trim:u,number:m}},v){r[eH]=qZ(v);const p=m||v.props&&v.props.type==="number";qS(r,i?"change":"input",x=>{if(x.target.composing)return;let S=r.value;u&&(S=S.trim()),p&&(S=SH(S)),r[eH](S)}),u&&qS(r,"change",()=>{r.value=r.value.trim()}),i||(qS(r,"compositionstart",ple),qS(r,"compositionend",GZ),qS(r,"change",GZ))},mounted(r,{value:i}){r.value=i??""},beforeUpdate(r,{value:i,oldValue:u,modifiers:{lazy:m,trim:v,number:p}},x){if(r[eH]=qZ(x),r.composing)return;const S=(p||r.type==="number")&&!/^0\d/.test(r.value)?SH(r.value):r.value,P=i??"";S!==P&&(document.activeElement===r&&r.type!=="range"&&(m&&i===u||v&&r.value.trim()===P)||(r.value=P))}},vle=Bl({patchProp:cle},jie);let YZ;function yle(){return YZ||(YZ=pie(vle))}const xle=(...r)=>{const i=yle().createApp(...r),{mount:u}=i;return i.mount=m=>{const v=Cle(m);if(!v)return;const p=i._component;!pr(p)&&!p.render&&!p.template&&(p.template=v.innerHTML),v.innerHTML="";const x=u(v,!1,wle(v));return v instanceof Element&&(v.removeAttribute("v-cloak"),v.setAttribute("data-v-app","")),x},i};function wle(r){if(r instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&r instanceof MathMLElement)return"mathml"}function Cle(r){return Gi(r)?document.querySelector(r):r}function hh(r,i){let u;function m(){u=oO(),u.run(()=>i.length?i(()=>{u==null||u.stop(),m()}):i())}so(r,v=>{v&&!u?m():v||(u==null||u.stop(),u=void 0)},{immediate:!0}),Uf(()=>{u==null||u.stop()})}const pi=typeof window<"u",MV=pi&&"IntersectionObserver"in window,_le=pi&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function XZ(r,i,u){Sle(r,i),i.set(r,u)}function Sle(r,i){if(i.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")}function kle(r,i,u){return r.set(Mq(r,i),u),u}function hw(r,i){return r.get(Mq(r,i))}function Mq(r,i,u){if(typeof r=="function"?r===i:r.has(i))return arguments.length<3?i:u;throw new TypeError("Private element is not present on this object")}function Pq(r,i,u){const m=i.length-1;if(m<0)return r===void 0?u:r;for(let v=0;v<m;v++){if(r==null)return u;r=r[i[v]]}return r==null||r[i[m]]===void 0?u:r[i[m]]}function fM(r,i){if(r===i)return!0;if(r instanceof Date&&i instanceof Date&&r.getTime()!==i.getTime()||r!==Object(r)||i!==Object(i))return!1;const u=Object.keys(r);return u.length!==Object.keys(i).length?!1:u.every(m=>fM(r[m],i[m]))}function LH(r,i,u){return r==null||!i||typeof i!="string"?u:r[i]!==void 0?r[i]:(i=i.replace(/\[(\w+)\]/g,".$1"),i=i.replace(/^\./,""),Pq(r,i.split("."),u))}function FT(r,i,u){if(i===!0)return r===void 0?u:r;if(i==null||typeof i=="boolean")return u;if(r!==Object(r)){if(typeof i!="function")return u;const v=i(r,u);return typeof v>"u"?u:v}if(typeof i=="string")return LH(r,i,u);if(Array.isArray(i))return Pq(r,i,u);if(typeof i!="function")return u;const m=i(r,u);return typeof m>"u"?u:m}function Lq(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:r},(u,m)=>i+m)}function cr(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(r==null||r===""))return isNaN(+r)?String(r):isFinite(+r)?`${Number(r)}${i}`:void 0}function Ele(r){return r!==null&&typeof r=="object"&&!Array.isArray(r)}function JZ(r){let i;return r!==null&&typeof r=="object"&&((i=Object.getPrototypeOf(r))===Object.prototype||i===null)}function Ale(r){if(r&&"$el"in r){const i=r.$el;return(i==null?void 0:i.nodeType)===Node.TEXT_NODE?i.nextElementSibling:i}return r}const QZ=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function tH(r,i){return i.every(u=>r.hasOwnProperty(u))}function Fq(r,i){const u={},m=new Set(Object.keys(r));for(const v of i)m.has(v)&&(u[v]=r[v]);return u}function ej(r,i,u){const m=Object.create(null),v=Object.create(null);for(const p in r)i.some(x=>x instanceof RegExp?x.test(p):x===p)&&!(u!=null&&u.some(x=>x===p))?m[p]=r[p]:v[p]=r[p];return[m,v]}function zq(r,i){const u={...r};return i.forEach(m=>delete u[m]),u}function Tle(r,i){const u={};return i.forEach(m=>u[m]=r[m]),u}const Hq=/^on[^a-z]/,PV=r=>Hq.test(r),Ole=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function Dle(r){const[i,u]=ej(r,[Hq]),m=zq(i,Ole),[v,p]=ej(u,["class","style","id",/^data-/]);return Object.assign(v,i),Object.assign(p,m),[v,p]}function Ew(r){return r==null?[]:Array.isArray(r)?r:[r]}function Rw(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(i,Math.min(u,r))}function tj(r,i){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return r+u.repeat(Math.max(0,i-r.length))}function nj(r,i){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,i-r.length))+r}function Rle(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const u=[];let m=0;for(;m<r.length;)u.push(r.substr(m,i)),m+=i;return u}function zf(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=arguments.length>2?arguments[2]:void 0;const m={};for(const v in r)m[v]=r[v];for(const v in i){const p=r[v],x=i[v];if(JZ(p)&&JZ(x)){m[v]=zf(p,x,u);continue}if(u&&Array.isArray(p)&&Array.isArray(x)){m[v]=u(p,x);continue}m[v]=x}return m}function Vq(r){return r.map(i=>i.type===ks?Vq(i.children):i).flat()}function Aw(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(Aw.cache.has(r))return Aw.cache.get(r);const i=r.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return Aw.cache.set(r,i),i}Aw.cache=new Map;function GS(r,i){if(!i||typeof i!="object")return[];if(Array.isArray(i))return i.map(u=>GS(r,u)).flat(1);if(i.suspense)return GS(r,i.ssContent);if(Array.isArray(i.children))return i.children.map(u=>GS(r,u)).flat(1);if(i.component){if(Object.getOwnPropertySymbols(i.component.provides).includes(r))return[i.component];if(i.component.subTree)return GS(r,i.component.subTree).flat(1)}return[]}var h8=new WeakMap,VS=new WeakMap;class Nle{constructor(i){XZ(this,h8,[]),XZ(this,VS,0),this.size=i}push(i){hw(h8,this)[hw(VS,this)]=i,kle(VS,this,(hw(VS,this)+1)%this.size)}values(){return hw(h8,this).slice(hw(VS,this)).concat(hw(h8,this).slice(0,hw(VS,this)))}}function LV(r){const i=iu({}),u=ct(r);return ph(()=>{for(const m in u.value)i[m]=u.value[m]},{flush:"sync"}),sO(i)}function $8(r,i){return r.includes(i)}function $q(r){return r[2].toLowerCase()+r.slice(3)}const cg=()=>[Function,Array];function oj(r,i){return i="on"+j0(i),!!(r[i]||r[`${i}Once`]||r[`${i}Capture`]||r[`${i}OnceCapture`]||r[`${i}CaptureOnce`])}function Ile(r){for(var i=arguments.length,u=new Array(i>1?i-1:0),m=1;m<i;m++)u[m-1]=arguments[m];if(Array.isArray(r))for(const v of r)v(...u);else typeof r=="function"&&r(...u)}function Uq(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const u=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(m=>`${m}${i?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...r.querySelectorAll(u)]}function Ble(r,i,u){let m,v=r.indexOf(document.activeElement);const p=i==="next"?1:-1;do v+=p,m=r[v];while((!m||m.offsetParent==null)&&v<r.length&&v>=0);return m}function Wq(r,i){var m,v,p,x;const u=Uq(r);if(!i)(r===document.activeElement||!r.contains(document.activeElement))&&((m=u[0])==null||m.focus());else if(i==="first")(v=u[0])==null||v.focus();else if(i==="last")(p=u.at(-1))==null||p.focus();else if(typeof i=="number")(x=u[i])==null||x.focus();else{const S=Ble(u,i);S?S.focus():Wq(r,i==="next"?"first":"last")}}function Mle(r,i){if(!(pi&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${i})`)))return null;try{return!!r&&r.matches(i)}catch{return null}}function Ple(r,i){if(!pi||r===0)return i(),()=>{};const u=window.setTimeout(i,r);return()=>window.clearTimeout(u)}function FH(){const r=kr(),i=u=>{r.value=u};return Object.defineProperty(i,"value",{enumerable:!0,get:()=>r.value,set:u=>r.value=u}),Object.defineProperty(i,"el",{enumerable:!0,get:()=>Ale(r.value)}),i}const Zq=["top","bottom"],Lle=["start","end","left","right"];function zH(r,i){let[u,m]=r.split(" ");return m||(m=$8(Zq,u)?"start":$8(Lle,u)?"top":"center"),{side:HH(u,i),align:HH(m,i)}}function HH(r,i){return r==="start"?i?"right":"left":r==="end"?i?"left":"right":r}function nH(r){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[r.side],align:r.align}}function oH(r){return{side:r.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[r.align]}}function rj(r){return{side:r.align,align:r.side}}function sj(r){return $8(Zq,r.side)?"y":"x"}class Tw{constructor(i){let{x:u,y:m,width:v,height:p}=i;this.x=u,this.y=m,this.width=v,this.height=p}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function aj(r,i){return{x:{before:Math.max(0,i.left-r.left),after:Math.max(0,r.right-i.right)},y:{before:Math.max(0,i.top-r.top),after:Math.max(0,r.bottom-i.bottom)}}}function jq(r){return Array.isArray(r)?new Tw({x:r[0],y:r[1],width:0,height:0}):r.getBoundingClientRect()}function FV(r){const i=r.getBoundingClientRect(),u=getComputedStyle(r),m=u.transform;if(m){let v,p,x,S,P;if(m.startsWith("matrix3d("))v=m.slice(9,-1).split(/, /),p=+v[0],x=+v[5],S=+v[12],P=+v[13];else if(m.startsWith("matrix("))v=m.slice(7,-1).split(/, /),p=+v[0],x=+v[3],S=+v[4],P=+v[5];else return new Tw(i);const N=u.transformOrigin,D=i.x-S-(1-p)*parseFloat(N),z=i.y-P-(1-x)*parseFloat(N.slice(N.indexOf(" ")+1)),W=p?i.width/p:r.offsetWidth+1,$=x?i.height/x:r.offsetHeight+1;return new Tw({x:D,y:z,width:W,height:$})}else return new Tw(i)}function YS(r,i,u){if(typeof r.animate>"u")return{finished:Promise.resolve()};let m;try{m=r.animate(i,u)}catch{return{finished:Promise.resolve()}}return typeof m.finished>"u"&&(m.finished=new Promise(v=>{m.onfinish=()=>{v(m)}})),m}const R8=new WeakMap;function Fle(r,i){Object.keys(i).forEach(u=>{if(PV(u)){const m=$q(u),v=R8.get(r);if(i[u]==null)v==null||v.forEach(p=>{const[x,S]=p;x===m&&(r.removeEventListener(m,S),v.delete(p))});else if(!v||![...v].some(p=>p[0]===m&&p[1]===i[u])){r.addEventListener(m,i[u]);const p=v||new Set;p.add([m,i[u]]),R8.has(r)||R8.set(r,p)}}else i[u]==null?r.removeAttribute(u):r.setAttribute(u,i[u])})}function zle(r,i){Object.keys(i).forEach(u=>{if(PV(u)){const m=$q(u),v=R8.get(r);v==null||v.forEach(p=>{const[x,S]=p;x===m&&(r.removeEventListener(m,S),v.delete(p))})}else r.removeAttribute(u)})}const $S=2.4,ij=.2126729,lj=.7151522,cj=.072175,Hle=.55,Vle=.58,$le=.57,Ule=.62,p8=.03,uj=1.45,Wle=5e-4,Zle=1.25,jle=1.25,dj=.078,fj=12.82051282051282,b8=.06,mj=.001;function gj(r,i){const u=(r.r/255)**$S,m=(r.g/255)**$S,v=(r.b/255)**$S,p=(i.r/255)**$S,x=(i.g/255)**$S,S=(i.b/255)**$S;let P=u*ij+m*lj+v*cj,N=p*ij+x*lj+S*cj;if(P<=p8&&(P+=(p8-P)**uj),N<=p8&&(N+=(p8-N)**uj),Math.abs(N-P)<Wle)return 0;let D;if(N>P){const z=(N**Hle-P**Vle)*Zle;D=z<mj?0:z<dj?z-z*fj*b8:z-b8}else{const z=(N**Ule-P**$le)*jle;D=z>-mj?0:z>-dj?z-z*fj*b8:z+b8}return D*100}function Kle(r,i){i=Array.isArray(i)?i.slice(0,-1).map(u=>`'${u}'`).join(", ")+` or '${i.at(-1)}'`:`'${i}'`}const U8=.20689655172413793,qle=r=>r>U8**3?Math.cbrt(r):r/(3*U8**2)+4/29,Gle=r=>r>U8?r**3:3*U8**2*(r-4/29);function Kq(r){const i=qle,u=i(r[1]);return[116*u-16,500*(i(r[0]/.95047)-u),200*(u-i(r[2]/1.08883))]}function qq(r){const i=Gle,u=(r[0]+16)/116;return[i(u+r[1]/500)*.95047,i(u),i(u-r[2]/200)*1.08883]}const Yle=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],Xle=r=>r<=.0031308?r*12.92:1.055*r**(1/2.4)-.055,Jle=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],Qle=r=>r<=.04045?r/12.92:((r+.055)/1.055)**2.4;function Gq(r){const i=Array(3),u=Xle,m=Yle;for(let v=0;v<3;++v)i[v]=Math.round(Rw(u(m[v][0]*r[0]+m[v][1]*r[1]+m[v][2]*r[2]))*255);return{r:i[0],g:i[1],b:i[2]}}function zV(r){let{r:i,g:u,b:m}=r;const v=[0,0,0],p=Qle,x=Jle;i=p(i/255),u=p(u/255),m=p(m/255);for(let S=0;S<3;++S)v[S]=x[S][0]*i+x[S][1]*u+x[S][2]*m;return v}function VH(r){return!!r&&/^(#|var\(--|(rgb|hsl)a?\()/.test(r)}function ece(r){return VH(r)&&!/^((rgb|hsl)a?\()?var\(--/.test(r)}const hj=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,tce={rgb:(r,i,u,m)=>({r,g:i,b:u,a:m}),rgba:(r,i,u,m)=>({r,g:i,b:u,a:m}),hsl:(r,i,u,m)=>pj({h:r,s:i,l:u,a:m}),hsla:(r,i,u,m)=>pj({h:r,s:i,l:u,a:m}),hsv:(r,i,u,m)=>JT({h:r,s:i,v:u,a:m}),hsva:(r,i,u,m)=>JT({h:r,s:i,v:u,a:m})};function Mp(r){if(typeof r=="number")return{r:(r&16711680)>>16,g:(r&65280)>>8,b:r&255};if(typeof r=="string"&&hj.test(r)){const{groups:i}=r.match(hj),{fn:u,values:m}=i,v=m.split(/,\s*/).map(p=>p.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(u)?parseFloat(p)/100:parseFloat(p));return tce[u](...v)}else if(typeof r=="string"){let i=r.startsWith("#")?r.slice(1):r;return[3,4].includes(i.length)?i=i.split("").map(u=>u+u).join(""):[6,8].includes(i.length),oce(i)}else if(typeof r=="object"){if(tH(r,["r","g","b"]))return r;if(tH(r,["h","s","l"]))return JT(Yq(r));if(tH(r,["h","s","v"]))return JT(r)}throw new TypeError(`Invalid color: ${r==null?r:String(r)||r.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function JT(r){const{h:i,s:u,v:m,a:v}=r,p=S=>{const P=(S+i/60)%6;return m-m*u*Math.max(Math.min(P,4-P,1),0)},x=[p(5),p(3),p(1)].map(S=>Math.round(S*255));return{r:x[0],g:x[1],b:x[2],a:v}}function pj(r){return JT(Yq(r))}function Yq(r){const{h:i,s:u,l:m,a:v}=r,p=m+u*Math.min(m,1-m),x=p===0?0:2-2*m/p;return{h:i,s:x,v:p,a:v}}function v8(r){const i=Math.round(r).toString(16);return("00".substr(0,2-i.length)+i).toUpperCase()}function nce(r){let{r:i,g:u,b:m,a:v}=r;return`#${[v8(i),v8(u),v8(m),v!==void 0?v8(Math.round(v*255)):""].join("")}`}function oce(r){r=rce(r);let[i,u,m,v]=Rle(r,2).map(p=>parseInt(p,16));return v=v===void 0?v:v/255,{r:i,g:u,b:m,a:v}}function rce(r){return r.startsWith("#")&&(r=r.slice(1)),r=r.replace(/([^0-9a-f])/gi,"F"),(r.length===3||r.length===4)&&(r=r.split("").map(i=>i+i).join("")),r.length!==6&&(r=tj(tj(r,6),8,"F")),r}function sce(r,i){const u=Kq(zV(r));return u[0]=u[0]+i*10,Gq(qq(u))}function ace(r,i){const u=Kq(zV(r));return u[0]=u[0]-i*10,Gq(qq(u))}function ice(r){const i=Mp(r);return zV(i)[1]}function Xq(r){const i=Math.abs(gj(Mp(0),Mp(r)));return Math.abs(gj(Mp(16777215),Mp(r)))>Math.min(i,50)?"#fff":"#000"}function Qn(r,i){return u=>Object.keys(r).reduce((m,v)=>{const x=typeof r[v]=="object"&&r[v]!=null&&!Array.isArray(r[v])?r[v]:{type:r[v]};return u&&v in u?m[v]={...x,default:u[v]}:m[v]=x,i&&!m[v].source&&(m[v].source=i),m},{})}const ss=Qn({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Sl(r,i){const u=IV();if(!u)throw new Error(`[Vuetify] ${r} must be called from inside a setup function`);return u}function Hp(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const i=Sl(r).type;return Aw((i==null?void 0:i.aliasName)||(i==null?void 0:i.name))}let Jq=0,N8=new WeakMap;function py(){const r=Sl("getUid");if(N8.has(r))return N8.get(r);{const i=Jq++;return N8.set(r,i),i}}py.reset=()=>{Jq=0,N8=new WeakMap};function lce(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sl("injectSelf");const{provides:u}=i;if(u&&r in u)return u[r]}const ik=Symbol.for("vuetify:defaults");function cce(r){return No(r)}function HV(){const r=qi(ik);if(!r)throw new Error("[Vuetify] Could not find defaults instance");return r}function ck(r,i){const u=HV(),m=No(r),v=ct(()=>{if(Ue(i==null?void 0:i.disabled))return u.value;const x=Ue(i==null?void 0:i.scoped),S=Ue(i==null?void 0:i.reset),P=Ue(i==null?void 0:i.root);if(m.value==null&&!(x||S||P))return u.value;let N=zf(m.value,{prev:u.value});if(x)return N;if(S||P){const D=Number(S||1/0);for(let z=0;z<=D&&!(!N||!("prev"in N));z++)N=N.prev;return N&&typeof P=="string"&&P in N&&(N=zf(zf(N,{prev:N}),N[P])),N}return N.prev?zf(N.prev,N):N});return Wf(ik,v),v}function uce(r,i){var u,m;return typeof((u=r.props)==null?void 0:u[i])<"u"||typeof((m=r.props)==null?void 0:m[Aw(i)])<"u"}function dce(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:HV();const m=Sl("useDefaults");if(i=i??m.type.name??m.type.__name,!i)throw new Error("[Vuetify] Could not determine component name");const v=ct(()=>{var P;return(P=u.value)==null?void 0:P[r._as??i]}),p=new Proxy(r,{get(P,N){var z,W,$,G,Q,ve,de;const D=Reflect.get(P,N);return N==="class"||N==="style"?[(z=v.value)==null?void 0:z[N],D].filter(Pe=>Pe!=null):typeof N=="string"&&!uce(m.vnode,N)?((W=v.value)==null?void 0:W[N])!==void 0?($=v.value)==null?void 0:$[N]:((Q=(G=u.value)==null?void 0:G.global)==null?void 0:Q[N])!==void 0?(de=(ve=u.value)==null?void 0:ve.global)==null?void 0:de[N]:D:D}}),x=kr();ph(()=>{if(v.value){const P=Object.entries(v.value).filter(N=>{let[D]=N;return D.startsWith(D[0].toUpperCase())});x.value=P.length?Object.fromEntries(P):void 0}else x.value=void 0});function S(){const P=lce(ik,m);Wf(ik,ct(()=>x.value?zf((P==null?void 0:P.value)??{},x.value):P==null?void 0:P.value))}return{props:p,provideSubDefaults:S}}function uk(r){if(r._setup=r._setup??r.setup,!r.name)return r;if(r._setup){r.props=Qn(r.props??{},r.name)();const i=Object.keys(r.props).filter(u=>u!=="class"&&u!=="style");r.filterProps=function(m){return Fq(m,i)},r.props._as=String,r.setup=function(m,v){const p=HV();if(!p.value)return r._setup(m,v);const{props:x,provideSubDefaults:S}=dce(m,m._as??r.name,p),P=r._setup(x,v);return S(),P}}return r}function rr(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return i=>(r?uk:tq)(i)}function VV(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",u=arguments.length>2?arguments[2]:void 0;return rr()({name:u??j0($f(r.replace(/__/g,"-"))),props:{tag:{type:String,default:i},...ss()},setup(m,v){let{slots:p}=v;return()=>{var x;return Fp(m.tag,{class:[r,m.class],style:m.style},(x=p.default)==null?void 0:x.call(p))}}})}function Qq(r){if(typeof r.getRootNode!="function"){for(;r.parentNode;)r=r.parentNode;return r!==document?null:document}const i=r.getRootNode();return i!==document&&i.getRootNode({composed:!0})!==document?null:i}const W8="cubic-bezier(0.4, 0, 0.2, 1)",fce="cubic-bezier(0.0, 0, 0.2, 1)",mce="cubic-bezier(0.4, 0, 1, 1)";function gce(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;r;){if(i?hce(r):$V(r))return r;r=r.parentElement}return document.scrollingElement}function Z8(r,i){const u=[];if(i&&r&&!i.contains(r))return u;for(;r&&($V(r)&&u.push(r),r!==i);)r=r.parentElement;return u}function $V(r){if(!r||r.nodeType!==Node.ELEMENT_NODE)return!1;const i=window.getComputedStyle(r);return i.overflowY==="scroll"||i.overflowY==="auto"&&r.scrollHeight>r.clientHeight}function hce(r){if(!r||r.nodeType!==Node.ELEMENT_NODE)return!1;const i=window.getComputedStyle(r);return["scroll","auto"].includes(i.overflowY)}function pce(r){for(;r;){if(window.getComputedStyle(r).position==="fixed")return!0;r=r.offsetParent}return!1}function Zr(r){const i=Sl("useRender");i.render=r}function Hf(r,i,u){let m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:z=>z,v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:z=>z;const p=Sl("useProxiedModel"),x=No(r[i]!==void 0?r[i]:u),S=Aw(i),N=ct(S!==i?()=>{var z,W,$,G;return r[i],!!(((z=p.vnode.props)!=null&&z.hasOwnProperty(i)||(W=p.vnode.props)!=null&&W.hasOwnProperty(S))&&(($=p.vnode.props)!=null&&$.hasOwnProperty(`onUpdate:${i}`)||(G=p.vnode.props)!=null&&G.hasOwnProperty(`onUpdate:${S}`)))}:()=>{var z,W;return r[i],!!((z=p.vnode.props)!=null&&z.hasOwnProperty(i)&&((W=p.vnode.props)!=null&&W.hasOwnProperty(`onUpdate:${i}`)))});hh(()=>!N.value,()=>{so(()=>r[i],z=>{x.value=z})});const D=ct({get(){const z=r[i];return m(N.value?z:x.value)},set(z){const W=v(z),$=Eo(N.value?r[i]:x.value);$===W||m($)===z||(x.value=W,p==null||p.emit(`update:${i}`,W))}});return Object.defineProperty(D,"externalValue",{get:()=>N.value?r[i]:x.value}),D}const bce={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},bj="$vuetify.",vj=(r,i)=>r.replace(/\{(\d+)\}/g,(u,m)=>String(i[+m])),eG=(r,i,u)=>function(m){for(var v=arguments.length,p=new Array(v>1?v-1:0),x=1;x<v;x++)p[x-1]=arguments[x];if(!m.startsWith(bj))return vj(m,p);const S=m.replace(bj,""),P=r.value&&u.value[r.value],N=i.value&&u.value[i.value];let D=LH(P,S,null);return D||(`${m}${r.value}`,D=LH(N,S,null)),D||(D=m),typeof D!="string"&&(D=m),vj(D,p)};function tG(r,i){return(u,m)=>new Intl.NumberFormat([r.value,i.value],m).format(u)}function rH(r,i,u){const m=Hf(r,i,r[i]??u.value);return m.value=r[i]??u.value,so(u,v=>{r[i]==null&&(m.value=u.value)}),m}function nG(r){return i=>{const u=rH(i,"locale",r.current),m=rH(i,"fallback",r.fallback),v=rH(i,"messages",r.messages);return{name:"vuetify",current:u,fallback:m,messages:v,t:eG(u,m,v),n:tG(u,m),provide:nG({current:u,fallback:m,messages:v})}}}function vce(r){const i=kr((r==null?void 0:r.locale)??"en"),u=kr((r==null?void 0:r.fallback)??"en"),m=No({en:bce,...r==null?void 0:r.messages});return{name:"vuetify",current:i,fallback:u,messages:m,t:eG(i,u,m),n:tG(i,u),provide:nG({current:i,fallback:u,messages:m})}}const j8=Symbol.for("vuetify:locale");function yce(r){return r.name!=null}function xce(r){const i=r!=null&&r.adapter&&yce(r==null?void 0:r.adapter)?r==null?void 0:r.adapter:vce(r),u=_ce(i,r);return{...i,...u}}function wce(){const r=qi(j8);if(!r)throw new Error("[Vuetify] Could not find injected locale instance");return r}function Cce(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function _ce(r,i){const u=No((i==null?void 0:i.rtl)??Cce()),m=ct(()=>u.value[r.current.value]??!1);return{isRtl:m,rtl:u,rtlClasses:ct(()=>`v-locale--is-${m.value?"rtl":"ltr"}`)}}function q0(){const r=qi(j8);if(!r)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:r.isRtl,rtlClasses:r.rtlClasses}}const mM={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function Sce(r,i,u){const m=[];let v=[];const p=oG(r),x=rG(r),S=u??mM[i.slice(-2).toUpperCase()]??0,P=(p.getDay()-S+7)%7,N=(x.getDay()-S+7)%7;for(let D=0;D<P;D++){const z=new Date(p);z.setDate(z.getDate()-(P-D)),v.push(z)}for(let D=1;D<=x.getDate();D++){const z=new Date(r.getFullYear(),r.getMonth(),D);v.push(z),v.length===7&&(m.push(v),v=[])}for(let D=1;D<7-N;D++){const z=new Date(x);z.setDate(z.getDate()+D),v.push(z)}return v.length>0&&m.push(v),m}function kce(r,i,u){const m=u??mM[i.slice(-2).toUpperCase()]??0,v=new Date(r);for(;v.getDay()!==m;)v.setDate(v.getDate()-1);return v}function Ece(r,i){const u=new Date(r),m=((mM[i.slice(-2).toUpperCase()]??0)+6)%7;for(;u.getDay()!==m;)u.setDate(u.getDate()+1);return u}function oG(r){return new Date(r.getFullYear(),r.getMonth(),1)}function rG(r){return new Date(r.getFullYear(),r.getMonth()+1,0)}function Ace(r){const i=r.split("-").map(Number);return new Date(i[0],i[1]-1,i[2])}const Tce=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function sG(r){if(r==null)return new Date;if(r instanceof Date)return r;if(typeof r=="string"){let i;if(Tce.test(r))return Ace(r);if(i=Date.parse(r),!isNaN(i))return new Date(i)}return null}const yj=new Date(2e3,0,2);function Oce(r,i){const u=i??mM[r.slice(-2).toUpperCase()]??0;return Lq(7).map(m=>{const v=new Date(yj);return v.setDate(yj.getDate()+u+m),new Intl.DateTimeFormat(r,{weekday:"narrow"}).format(v)})}function Dce(r,i,u,m){const v=sG(r)??new Date,p=m==null?void 0:m[i];if(typeof p=="function")return p(v,i,u);let x={};switch(i){case"fullDate":x={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":x={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const S=v.getDate(),P=new Intl.DateTimeFormat(u,{month:"long"}).format(v);return`${S} ${P}`;case"normalDateWithWeekday":x={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":x={month:"short",day:"numeric"};break;case"year":x={year:"numeric"};break;case"month":x={month:"long"};break;case"monthShort":x={month:"short"};break;case"monthAndYear":x={month:"long",year:"numeric"};break;case"monthAndDate":x={month:"long",day:"numeric"};break;case"weekday":x={weekday:"long"};break;case"weekdayShort":x={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(u).format(v.getDate());case"hours12h":x={hour:"numeric",hour12:!0};break;case"hours24h":x={hour:"numeric",hour12:!1};break;case"minutes":x={minute:"numeric"};break;case"seconds":x={second:"numeric"};break;case"fullTime":x={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":x={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":x={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":x={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":x={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":x={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":x={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:x=p??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(u,x).format(v)}function Rce(r,i){const u=r.toJsDate(i),m=u.getFullYear(),v=nj(String(u.getMonth()+1),2,"0"),p=nj(String(u.getDate()),2,"0");return`${m}-${v}-${p}`}function Nce(r){const[i,u,m]=r.split("-").map(Number);return new Date(i,u-1,m)}function Ice(r,i){const u=new Date(r);return u.setMinutes(u.getMinutes()+i),u}function Bce(r,i){const u=new Date(r);return u.setHours(u.getHours()+i),u}function Mce(r,i){const u=new Date(r);return u.setDate(u.getDate()+i),u}function Pce(r,i){const u=new Date(r);return u.setDate(u.getDate()+i*7),u}function Lce(r,i){const u=new Date(r);return u.setDate(1),u.setMonth(u.getMonth()+i),u}function Fce(r){return r.getFullYear()}function zce(r){return r.getMonth()}function Hce(r){return r.getDate()}function Vce(r){return new Date(r.getFullYear(),r.getMonth()+1,1)}function $ce(r){return new Date(r.getFullYear(),r.getMonth()-1,1)}function Uce(r){return r.getHours()}function Wce(r){return r.getMinutes()}function Zce(r){return new Date(r.getFullYear(),0,1)}function jce(r){return new Date(r.getFullYear(),11,31)}function Kce(r,i){return K8(r,i[0])&&Yce(r,i[1])}function qce(r){const i=new Date(r);return i instanceof Date&&!isNaN(i.getTime())}function K8(r,i){return r.getTime()>i.getTime()}function Gce(r,i){return K8($H(r),$H(i))}function Yce(r,i){return r.getTime()<i.getTime()}function xj(r,i){return r.getTime()===i.getTime()}function Xce(r,i){return r.getDate()===i.getDate()&&r.getMonth()===i.getMonth()&&r.getFullYear()===i.getFullYear()}function Jce(r,i){return r.getMonth()===i.getMonth()&&r.getFullYear()===i.getFullYear()}function Qce(r,i){return r.getFullYear()===i.getFullYear()}function eue(r,i,u){const m=new Date(r),v=new Date(i);switch(u){case"years":return m.getFullYear()-v.getFullYear();case"quarters":return Math.floor((m.getMonth()-v.getMonth()+(m.getFullYear()-v.getFullYear())*12)/4);case"months":return m.getMonth()-v.getMonth()+(m.getFullYear()-v.getFullYear())*12;case"weeks":return Math.floor((m.getTime()-v.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((m.getTime()-v.getTime())/(1e3*60*60*24));case"hours":return Math.floor((m.getTime()-v.getTime())/(1e3*60*60));case"minutes":return Math.floor((m.getTime()-v.getTime())/(1e3*60));case"seconds":return Math.floor((m.getTime()-v.getTime())/1e3);default:return m.getTime()-v.getTime()}}function tue(r,i){const u=new Date(r);return u.setHours(i),u}function nue(r,i){const u=new Date(r);return u.setMinutes(i),u}function oue(r,i){const u=new Date(r);return u.setMonth(i),u}function rue(r,i){const u=new Date(r);return u.setDate(i),u}function sue(r,i){const u=new Date(r);return u.setFullYear(i),u}function $H(r){return new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0,0)}function aue(r){return new Date(r.getFullYear(),r.getMonth(),r.getDate(),23,59,59,999)}class iue{constructor(i){this.locale=i.locale,this.formats=i.formats}date(i){return sG(i)}toJsDate(i){return i}toISO(i){return Rce(this,i)}parseISO(i){return Nce(i)}addMinutes(i,u){return Ice(i,u)}addHours(i,u){return Bce(i,u)}addDays(i,u){return Mce(i,u)}addWeeks(i,u){return Pce(i,u)}addMonths(i,u){return Lce(i,u)}getWeekArray(i,u){return Sce(i,this.locale,u?Number(u):void 0)}startOfWeek(i,u){return kce(i,this.locale,u?Number(u):void 0)}endOfWeek(i){return Ece(i,this.locale)}startOfMonth(i){return oG(i)}endOfMonth(i){return rG(i)}format(i,u){return Dce(i,u,this.locale,this.formats)}isEqual(i,u){return xj(i,u)}isValid(i){return qce(i)}isWithinRange(i,u){return Kce(i,u)}isAfter(i,u){return K8(i,u)}isAfterDay(i,u){return Gce(i,u)}isBefore(i,u){return!K8(i,u)&&!xj(i,u)}isSameDay(i,u){return Xce(i,u)}isSameMonth(i,u){return Jce(i,u)}isSameYear(i,u){return Qce(i,u)}setMinutes(i,u){return nue(i,u)}setHours(i,u){return tue(i,u)}setMonth(i,u){return oue(i,u)}setDate(i,u){return rue(i,u)}setYear(i,u){return sue(i,u)}getDiff(i,u,m){return eue(i,u,m)}getWeekdays(i){return Oce(this.locale,i?Number(i):void 0)}getYear(i){return Fce(i)}getMonth(i){return zce(i)}getDate(i){return Hce(i)}getNextMonth(i){return Vce(i)}getPreviousMonth(i){return $ce(i)}getHours(i){return Uce(i)}getMinutes(i){return Wce(i)}startOfDay(i){return $H(i)}endOfDay(i){return aue(i)}startOfYear(i){return Zce(i)}endOfYear(i){return jce(i)}}const lue=Symbol.for("vuetify:date-options"),wj=Symbol.for("vuetify:date-adapter");function cue(r,i){const u=zf({adapter:iue,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},r);return{options:u,instance:uue(u,i)}}function uue(r,i){const u=iu(typeof r.adapter=="function"?new r.adapter({locale:r.locale[i.current.value]??i.current.value,formats:r.formats}):r.adapter);return so(i.current,m=>{u.locale=r.locale[m]??m??u.locale}),u}const gM=["sm","md","lg","xl","xxl"],UH=Symbol.for("vuetify:display"),Cj={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},due=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Cj;return zf(Cj,r)};function _j(r){return pi&&!r?window.innerWidth:typeof r=="object"&&r.clientWidth||0}function Sj(r){return pi&&!r?window.innerHeight:typeof r=="object"&&r.clientHeight||0}function kj(r){const i=pi&&!r?window.navigator.userAgent:"ssr";function u(G){return!!i.match(G)}const m=u(/android/i),v=u(/iphone|ipad|ipod/i),p=u(/cordova/i),x=u(/electron/i),S=u(/chrome/i),P=u(/edge/i),N=u(/firefox/i),D=u(/opera/i),z=u(/win/i),W=u(/mac/i),$=u(/linux/i);return{android:m,ios:v,cordova:p,electron:x,chrome:S,edge:P,firefox:N,opera:D,win:z,mac:W,linux:$,touch:_le,ssr:i==="ssr"}}function fue(r,i){const{thresholds:u,mobileBreakpoint:m}=due(r),v=kr(Sj(i)),p=kr(kj(i)),x=iu({}),S=kr(_j(i));function P(){v.value=Sj(),S.value=_j()}function N(){P(),p.value=kj()}return ph(()=>{const D=S.value<u.sm,z=S.value<u.md&&!D,W=S.value<u.lg&&!(z||D),$=S.value<u.xl&&!(W||z||D),G=S.value<u.xxl&&!($||W||z||D),Q=S.value>=u.xxl,ve=D?"xs":z?"sm":W?"md":$?"lg":G?"xl":"xxl",de=typeof m=="number"?m:u[m],Pe=S.value<de;x.xs=D,x.sm=z,x.md=W,x.lg=$,x.xl=G,x.xxl=Q,x.smAndUp=!D,x.mdAndUp=!(D||z),x.lgAndUp=!(D||z||W),x.xlAndUp=!(D||z||W||$),x.smAndDown=!(W||$||G||Q),x.mdAndDown=!($||G||Q),x.lgAndDown=!(G||Q),x.xlAndDown=!Q,x.name=ve,x.height=v.value,x.width=S.value,x.mobile=Pe,x.mobileBreakpoint=m,x.platform=p.value,x.thresholds=u}),pi&&window.addEventListener("resize",P,{passive:!0}),{...sO(x),update:N,ssr:!!i}}const mue=Qn({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function aG(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hp();const u=qi(UH);if(!u)throw new Error("Could not find Vuetify display injection");const m=ct(()=>{if(r.mobile!=null)return r.mobile;if(!r.mobileBreakpoint)return u.mobile.value;const p=typeof r.mobileBreakpoint=="number"?r.mobileBreakpoint:u.thresholds.value[r.mobileBreakpoint];return u.width.value<p}),v=ct(()=>i?{[`${i}--mobile`]:m.value}:{});return{...u,displayClasses:v,mobile:m}}const gue=Symbol.for("vuetify:goto");function hue(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:r=>r,easeInQuad:r=>r**2,easeOutQuad:r=>r*(2-r),easeInOutQuad:r=>r<.5?2*r**2:-1+(4-2*r)*r,easeInCubic:r=>r**3,easeOutCubic:r=>--r**3+1,easeInOutCubic:r=>r<.5?4*r**3:(r-1)*(2*r-2)*(2*r-2)+1,easeInQuart:r=>r**4,easeOutQuart:r=>1- --r**4,easeInOutQuart:r=>r<.5?8*r**4:1-8*--r**4,easeInQuint:r=>r**5,easeOutQuint:r=>1+--r**5,easeInOutQuint:r=>r<.5?16*r**5:1+16*--r**5}}}function pue(r,i){return{rtl:i.isRtl,options:zf(hue(),r)}}const bue={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper"},vue={component:r=>Fp(lG,{...r,class:"mdi"})},_l=[String,Function,Object,Array],WH=Symbol.for("vuetify:icons"),hM=Qn({icon:{type:_l},tag:{type:String,required:!0}},"icon"),Ej=rr()({name:"VComponentIcon",props:hM(),setup(r,i){let{slots:u}=i;return()=>{const m=r.icon;return pe(r.tag,null,{default:()=>{var v;return[r.icon?pe(m,null,null):(v=u.default)==null?void 0:v.call(u)]}})}}}),iG=uk({name:"VSvgIcon",inheritAttrs:!1,props:hM(),setup(r,i){let{attrs:u}=i;return()=>pe(r.tag,Ia(u,{style:null}),{default:()=>[pe("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(r.icon)?r.icon.map(m=>Array.isArray(m)?pe("path",{d:m[0],"fill-opacity":m[1]},null):pe("path",{d:m},null)):pe("path",{d:r.icon},null)])]})}});uk({name:"VLigatureIcon",props:hM(),setup(r){return()=>pe(r.tag,null,{default:()=>[r.icon]})}});const lG=uk({name:"VClassIcon",props:hM(),setup(r){return()=>pe(r.tag,{class:r.icon},null)}});function yue(){return{svg:{component:iG},class:{component:lG}}}function xue(r){const i=yue(),u=(r==null?void 0:r.defaultSet)??"mdi";return u==="mdi"&&!i.mdi&&(i.mdi=vue),zf({defaultSet:u,sets:i,aliases:{...bue,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},r)}const wue=r=>{const i=qi(WH);if(!i)throw new Error("Missing Vuetify Icons provide!");return{iconData:ct(()=>{var P;const m=Ue(r);if(!m)return{component:Ej};let v=m;if(typeof v=="string"&&(v=v.trim(),v.startsWith("$")&&(v=(P=i.aliases)==null?void 0:P[v.slice(1)])),Array.isArray(v))return{component:iG,icon:v};if(typeof v!="string")return{component:Ej,icon:v};const p=Object.keys(i.sets).find(N=>typeof v=="string"&&v.startsWith(`${N}:`)),x=p?v.slice(p.length+1):v;return{component:i.sets[p??i.defaultSet].component,icon:x}})}},q8=Symbol.for("vuetify:theme"),Ql=Qn({theme:String},"theme");function Aj(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function Cue(){var m,v;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Aj();const i=Aj();if(!r)return{...i,isDisabled:!0};const u={};for(const[p,x]of Object.entries(r.themes??{})){const S=x.dark||p==="dark"?(m=i.themes)==null?void 0:m.dark:(v=i.themes)==null?void 0:v.light;u[p]=zf(S,x)}return zf(i,{...r,themes:u})}function _ue(r){const i=Cue(r),u=No(i.defaultTheme),m=No(i.themes),v=ct(()=>{const D={};for(const[z,W]of Object.entries(m.value)){const $=D[z]={...W,colors:{...W.colors}};if(i.variations)for(const G of i.variations.colors){const Q=$.colors[G];if(Q)for(const ve of["lighten","darken"]){const de=ve==="lighten"?sce:ace;for(const Pe of Lq(i.variations[ve],1))$.colors[`${G}-${ve}-${Pe}`]=nce(de(Mp(Q),Pe))}}for(const G of Object.keys($.colors)){if(/^on-[a-z]/.test(G)||$.colors[`on-${G}`])continue;const Q=`on-${G}`,ve=Mp($.colors[G]);$.colors[Q]=Xq(ve)}}return D}),p=ct(()=>v.value[u.value]),x=ct(()=>{var G;const D=[];(G=p.value)!=null&&G.dark&&pw(D,":root",["color-scheme: dark"]),pw(D,":root",Tj(p.value));for(const[Q,ve]of Object.entries(v.value))pw(D,`.v-theme--${Q}`,[`color-scheme: ${ve.dark?"dark":"normal"}`,...Tj(ve)]);const z=[],W=[],$=new Set(Object.values(v.value).flatMap(Q=>Object.keys(Q.colors)));for(const Q of $)/^on-[a-z]/.test(Q)?pw(W,`.${Q}`,[`color: rgb(var(--v-theme-${Q})) !important`]):(pw(z,`.bg-${Q}`,[`--v-theme-overlay-multiplier: var(--v-theme-${Q}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${Q})) !important`,`color: rgb(var(--v-theme-on-${Q})) !important`]),pw(W,`.text-${Q}`,[`color: rgb(var(--v-theme-${Q})) !important`]),pw(W,`.border-${Q}`,[`--v-border-color: var(--v-theme-${Q})`]));return D.push(...z,...W),D.map((Q,ve)=>ve===0?Q:`    ${Q}`).join("")});function S(){return{style:[{children:x.value,id:"vuetify-theme-stylesheet",nonce:i.cspNonce||!1}]}}function P(D){if(i.isDisabled)return;const z=D._context.provides.usehead;if(z)if(z.push){const $=z.push(S);pi&&so(x,()=>{$.patch(S)})}else pi?(z.addHeadObjs(ct(S)),ph(()=>z.updateDOM())):z.addHeadObjs(S());else{let G=function(){if(typeof document<"u"&&!$){const Q=document.createElement("style");Q.type="text/css",Q.id="vuetify-theme-stylesheet",i.cspNonce&&Q.setAttribute("nonce",i.cspNonce),$=Q,document.head.appendChild($)}$&&($.innerHTML=x.value)};var W=G;let $=pi?document.getElementById("vuetify-theme-stylesheet"):null;pi?so(x,G,{immediate:!0}):G()}}const N=ct(()=>i.isDisabled?void 0:`v-theme--${u.value}`);return{install:P,isDisabled:i.isDisabled,name:u,themes:m,current:p,computedThemes:v,themeClasses:N,styles:x,global:{name:u,current:p}}}function Oc(r){Sl("provideTheme");const i=qi(q8,null);if(!i)throw new Error("Could not find Vuetify theme injection");const u=ct(()=>r.theme??i.name.value),m=ct(()=>i.themes.value[u.value]),v=ct(()=>i.isDisabled?void 0:`v-theme--${u.value}`),p={...i,name:u,current:m,themeClasses:v};return Wf(q8,p),p}function pw(r,i,u){r.push(`${i} {
`,...u.map(m=>`  ${m};
`),`}
`)}function Tj(r){const i=r.dark?2:1,u=r.dark?1:2,m=[];for(const[v,p]of Object.entries(r.colors)){const x=Mp(p);m.push(`--v-theme-${v}: ${x.r},${x.g},${x.b}`),v.startsWith("on-")||m.push(`--v-theme-${v}-overlay-multiplier: ${ice(p)>.18?i:u}`)}for(const[v,p]of Object.entries(r.variables)){const x=typeof p=="string"&&p.startsWith("#")?Mp(p):void 0,S=x?`${x.r}, ${x.g}, ${x.b}`:void 0;m.push(`--v-${v}: ${S??p}`)}return m}function cG(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const u=FH(),m=No();if(pi){const v=new ResizeObserver(p=>{p.length&&(i==="content"?m.value=p[0].contentRect:m.value=p[0].target.getBoundingClientRect())});Tc(()=>{v.disconnect()}),so(()=>u.el,(p,x)=>{x&&(v.unobserve(x),m.value=void 0),p&&v.observe(p)},{flush:"post"})}return{resizeRef:u,contentRect:rO(m)}}const G8=Symbol.for("vuetify:layout"),uG=Symbol.for("vuetify:layout-item"),Oj=1e3,Sue=Qn({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),dG=Qn({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function kue(){const r=qi(G8);if(!r)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:r.getLayoutItem,mainRect:r.mainRect,mainStyles:r.mainStyles}}function fG(r){const i=qi(G8);if(!i)throw new Error("[Vuetify] Could not find injected layout");const u=r.id??`layout-item-${py()}`,m=Sl("useLayoutItem");Wf(uG,{id:u});const v=kr(!1);kV(()=>v.value=!0),SV(()=>v.value=!1);const{layoutItemStyles:p,layoutItemScrimStyles:x}=i.register(m,{...r,active:ct(()=>v.value?!1:r.active.value),id:u});return Tc(()=>i.unregister(u)),{layoutItemStyles:p,layoutRect:i.layoutRect,layoutItemScrimStyles:x}}const Eue=(r,i,u,m)=>{let v={top:0,left:0,right:0,bottom:0};const p=[{id:"",layer:{...v}}];for(const x of r){const S=i.get(x),P=u.get(x),N=m.get(x);if(!S||!P||!N)continue;const D={...v,[S.value]:parseInt(v[S.value],10)+(N.value?parseInt(P.value,10):0)};p.push({id:x,layer:D}),v=D}return p};function Aue(r){const i=qi(G8,null),u=ct(()=>i?i.rootZIndex.value-100:Oj),m=No([]),v=iu(new Map),p=iu(new Map),x=iu(new Map),S=iu(new Map),P=iu(new Map),{resizeRef:N,contentRect:D}=cG(),z=ct(()=>{const oe=new Map,Ge=r.overlaps??[];for(const $e of Ge.filter(Ze=>Ze.includes(":"))){const[Ze,rt]=$e.split(":");if(!m.value.includes(Ze)||!m.value.includes(rt))continue;const Ce=v.get(Ze),Re=v.get(rt),R=p.get(Ze),yt=p.get(rt);!Ce||!Re||!R||!yt||(oe.set(rt,{position:Ce.value,amount:parseInt(R.value,10)}),oe.set(Ze,{position:Re.value,amount:-parseInt(yt.value,10)}))}return oe}),W=ct(()=>{const oe=[...new Set([...x.values()].map($e=>$e.value))].sort(($e,Ze)=>$e-Ze),Ge=[];for(const $e of oe){const Ze=m.value.filter(rt=>{var Ce;return((Ce=x.get(rt))==null?void 0:Ce.value)===$e});Ge.push(...Ze)}return Eue(Ge,v,p,S)}),$=ct(()=>!Array.from(P.values()).some(oe=>oe.value)),G=ct(()=>W.value[W.value.length-1].layer),Q=ct(()=>({"--v-layout-left":cr(G.value.left),"--v-layout-right":cr(G.value.right),"--v-layout-top":cr(G.value.top),"--v-layout-bottom":cr(G.value.bottom),...$.value?void 0:{transition:"none"}})),ve=ct(()=>W.value.slice(1).map((oe,Ge)=>{let{id:$e}=oe;const{layer:Ze}=W.value[Ge],rt=p.get($e),Ce=v.get($e);return{id:$e,...Ze,size:Number(rt.value),position:Ce.value}})),de=oe=>ve.value.find(Ge=>Ge.id===oe),Pe=Sl("createLayout"),Ie=kr(!1);Yu(()=>{Ie.value=!0}),Wf(G8,{register:(oe,Ge)=>{let{id:$e,order:Ze,position:rt,layoutSize:Ce,elementSize:Re,active:R,disableTransitions:yt,absolute:Pt}=Ge;x.set($e,Ze),v.set($e,rt),p.set($e,Ce),S.set($e,R),yt&&P.set($e,yt);const gn=GS(uG,Pe==null?void 0:Pe.vnode).indexOf(oe);gn>-1?m.value.splice(gn,0,$e):m.value.push($e);const Qe=ct(()=>ve.value.findIndex(bt=>bt.id===$e)),On=ct(()=>u.value+W.value.length*2-Qe.value*2),nr=ct(()=>{const bt=rt.value==="left"||rt.value==="right",Zt=rt.value==="right",Vr=rt.value==="bottom",ho=Re.value??Ce.value,xn=ho===0?"%":"px",Rn={[rt.value]:0,zIndex:On.value,transform:`translate${bt?"X":"Y"}(${(R.value?0:-(ho===0?100:ho))*(Zt||Vr?-1:1)}${xn})`,position:Pt.value||u.value!==Oj?"absolute":"fixed",...$.value?void 0:{transition:"none"}};if(!Ie.value)return Rn;const J=ve.value[Qe.value];if(!J)throw new Error(`[Vuetify] Could not find layout item "${$e}"`);const sr=z.value.get($e);return sr&&(J[sr.position]+=sr.amount),{...Rn,height:bt?`calc(100% - ${J.top}px - ${J.bottom}px)`:Re.value?`${Re.value}px`:void 0,left:Zt?void 0:`${J.left}px`,right:Zt?`${J.right}px`:void 0,top:rt.value!=="bottom"?`${J.top}px`:void 0,bottom:rt.value!=="top"?`${J.bottom}px`:void 0,width:bt?Re.value?`${Re.value}px`:void 0:`calc(100% - ${J.left}px - ${J.right}px)`}}),pt=ct(()=>({zIndex:On.value-1}));return{layoutItemStyles:nr,layoutItemScrimStyles:pt,zIndex:On}},unregister:oe=>{x.delete(oe),v.delete(oe),p.delete(oe),S.delete(oe),P.delete(oe),m.value=m.value.filter(Ge=>Ge!==oe)},mainRect:G,mainStyles:Q,getLayoutItem:de,items:ve,layoutRect:D,rootZIndex:u});const re=ct(()=>["v-layout",{"v-layout--full-height":r.fullHeight}]),Oe=ct(()=>({zIndex:i?u.value:void 0,position:i?"relative":void 0,overflow:i?"hidden":void 0}));return{layoutClasses:re,layoutStyles:Oe,getLayoutItem:de,items:ve,layoutRect:D,layoutRef:N}}function mG(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:i,...u}=r,m=zf(i,u),{aliases:v={},components:p={},directives:x={}}=m,S=cce(m.defaults),P=fue(m.display,m.ssr),N=_ue(m.theme),D=xue(m.icons),z=xce(m.locale),W=cue(m.date,z),$=pue(m.goTo,z);return{install:Q=>{for(const ve in x)Q.directive(ve,x[ve]);for(const ve in p)Q.component(ve,p[ve]);for(const ve in v)Q.component(ve,uk({...v[ve],name:ve,aliasName:v[ve].name}));if(N.install(Q),Q.provide(ik,S),Q.provide(UH,P),Q.provide(q8,N),Q.provide(WH,D),Q.provide(j8,z),Q.provide(lue,W.options),Q.provide(wj,W.instance),Q.provide(gue,$),pi&&m.ssr)if(Q.$nuxt)Q.$nuxt.hook("app:suspense:resolve",()=>{P.update()});else{const{mount:ve}=Q;Q.mount=function(){const de=ve(...arguments);return wa(()=>P.update()),Q.mount=ve,de}}py.reset(),Q.mixin({computed:{$vuetify(){return iu({defaults:US.call(this,ik),display:US.call(this,UH),theme:US.call(this,q8),icons:US.call(this,WH),locale:US.call(this,j8),date:US.call(this,wj)})}}})},defaults:S,display:P,theme:N,icons:D,locale:z,date:W,goTo:$}}const Tue="3.7.1";mG.version=Tue;function US(r){var m,v;const i=this.$,u=((m=i.parent)==null?void 0:m.provides)??((v=i.vnode.appContext)==null?void 0:v.provides);if(u&&r in u)return u[r]}const Oue=mG({theme:{themes:{light:{colors:{primary:"#1867C0",secondary:"#5CBBF6"}}}}});var Due=!1;/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let gG;const pM=r=>gG=r,hG=Symbol();function ZH(r){return r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"&&typeof r.toJSON!="function"}var jT;(function(r){r.direct="direct",r.patchObject="patch object",r.patchFunction="patch function"})(jT||(jT={}));function Rue(){const r=oO(!0),i=r.run(()=>No({}));let u=[],m=[];const v=yV({install(p){pM(v),v._a=p,p.provide(hG,v),p.config.globalProperties.$pinia=v,m.forEach(x=>u.push(x)),m=[]},use(p){return!this._a&&!Due?m.push(p):u.push(p),this},_p:u,_a:null,_e:r,_s:new Map,state:i});return v}const pG=()=>{};function Dj(r,i,u,m=pG){r.push(i);const v=()=>{const p=r.indexOf(i);p>-1&&(r.splice(p,1),m())};return!u&&OK()&&Uf(v),v}function WS(r,...i){r.slice().forEach(u=>{u(...i)})}const Nue=r=>r(),Rj=Symbol(),sH=Symbol();function jH(r,i){r instanceof Map&&i instanceof Map?i.forEach((u,m)=>r.set(m,u)):r instanceof Set&&i instanceof Set&&i.forEach(r.add,r);for(const u in i){if(!i.hasOwnProperty(u))continue;const m=i[u],v=r[u];ZH(v)&&ZH(m)&&r.hasOwnProperty(u)&&!Ma(m)&&!Sw(m)?r[u]=jH(v,m):r[u]=m}return r}const Iue=Symbol();function Bue(r){return!ZH(r)||!r.hasOwnProperty(Iue)}const{assign:Gv}=Object;function Mue(r){return!!(Ma(r)&&r.effect)}function Pue(r,i,u,m){const{state:v,actions:p,getters:x}=i,S=u.state.value[r];let P;function N(){S||(u.state.value[r]=v?v():{});const D=sO(u.state.value[r]);return Gv(D,p,Object.keys(x||{}).reduce((z,W)=>(z[W]=yV(ct(()=>{pM(u);const $=u._s.get(r);return x[W].call($,$)})),z),{}))}return P=bG(r,N,i,u,m,!0),P}function bG(r,i,u={},m,v,p){let x;const S=Gv({actions:{}},u),P={deep:!0};let N,D,z=[],W=[],$;const G=m.state.value[r];!p&&!G&&(m.state.value[r]={}),No({});let Q;function ve($e){let Ze;N=D=!1,typeof $e=="function"?($e(m.state.value[r]),Ze={type:jT.patchFunction,storeId:r,events:$}):(jH(m.state.value[r],$e),Ze={type:jT.patchObject,payload:$e,storeId:r,events:$});const rt=Q=Symbol();wa().then(()=>{Q===rt&&(N=!0)}),D=!0,WS(z,Ze,m.state.value[r])}const de=p?function(){const{state:Ze}=u,rt=Ze?Ze():{};this.$patch(Ce=>{Gv(Ce,rt)})}:pG;function Pe(){x.stop(),z=[],W=[],m._s.delete(r)}const Ie=($e,Ze="")=>{if(Rj in $e)return $e[sH]=Ze,$e;const rt=function(){pM(m);const Ce=Array.from(arguments),Re=[],R=[];function yt(gn){Re.push(gn)}function Pt(gn){R.push(gn)}WS(W,{args:Ce,name:rt[sH],store:Oe,after:yt,onError:Pt});let ln;try{ln=$e.apply(this&&this.$id===r?this:Oe,Ce)}catch(gn){throw WS(R,gn),gn}return ln instanceof Promise?ln.then(gn=>(WS(Re,gn),gn)).catch(gn=>(WS(R,gn),Promise.reject(gn))):(WS(Re,ln),ln)};return rt[Rj]=!0,rt[sH]=Ze,rt},re={_p:m,$id:r,$onAction:Dj.bind(null,W),$patch:ve,$reset:de,$subscribe($e,Ze={}){const rt=Dj(z,$e,Ze.detached,()=>Ce()),Ce=x.run(()=>so(()=>m.state.value[r],Re=>{(Ze.flush==="sync"?D:N)&&$e({storeId:r,type:jT.direct,events:$},Re)},Gv({},P,Ze)));return rt},$dispose:Pe},Oe=iu(re);m._s.set(r,Oe);const Ge=(m._a&&m._a.runWithContext||Nue)(()=>m._e.run(()=>(x=oO()).run(()=>i({action:Ie}))));for(const $e in Ge){const Ze=Ge[$e];if(Ma(Ze)&&!Mue(Ze)||Sw(Ze))p||(G&&Bue(Ze)&&(Ma(Ze)?Ze.value=G[$e]:jH(Ze,G[$e])),m.state.value[r][$e]=Ze);else if(typeof Ze=="function"){const rt=Ie(Ze,$e);Ge[$e]=rt,S.actions[$e]=Ze}}return Gv(Oe,Ge),Gv(Eo(Oe),Ge),Object.defineProperty(Oe,"$state",{get:()=>m.state.value[r],set:$e=>{ve(Ze=>{Gv(Ze,$e)})}}),m._p.forEach($e=>{Gv(Oe,x.run(()=>$e({store:Oe,app:m._a,pinia:m,options:S})))}),G&&p&&u.hydrate&&u.hydrate(Oe.$state,G),N=!0,D=!0,Oe}function ug(r,i,u){let m,v;const p=typeof i=="function";typeof r=="string"?(m=r,v=p?u:i):(v=r,m=r.id);function x(S,P){const N=sie();return S=S||(N?qi(hG,null):null),S&&pM(S),S=gG,S._s.has(m)||(p?bG(m,i,v,S):Pue(m,v,S)),S._s.get(m)}return x.$id=m,x}const Lue=Rue();function Fue(r){r.use(Oue).use(Lue)}var y8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bM(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function x8(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var vG={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(r,i){(function(u){r.exports=u()})(function(){return function u(m,v,p){function x(N,D){if(!v[N]){if(!m[N]){var z=typeof x8=="function"&&x8;if(!D&&z)return z(N,!0);if(S)return S(N,!0);var W=new Error("Cannot find module '"+N+"'");throw W.code="MODULE_NOT_FOUND",W}var $=v[N]={exports:{}};m[N][0].call($.exports,function(G){var Q=m[N][1][G];return x(Q||G)},$,$.exports,u,m,v,p)}return v[N].exports}for(var S=typeof x8=="function"&&x8,P=0;P<p.length;P++)x(p[P]);return x}({1:[function(u,m,v){(function(p){var x=p.MutationObserver||p.WebKitMutationObserver,S;if(x){var P=0,N=new x(G),D=p.document.createTextNode("");N.observe(D,{characterData:!0}),S=function(){D.data=P=++P%2}}else if(!p.setImmediate&&typeof p.MessageChannel<"u"){var z=new p.MessageChannel;z.port1.onmessage=G,S=function(){z.port2.postMessage(0)}}else"document"in p&&"onreadystatechange"in p.document.createElement("script")?S=function(){var ve=p.document.createElement("script");ve.onreadystatechange=function(){G(),ve.onreadystatechange=null,ve.parentNode.removeChild(ve),ve=null},p.document.documentElement.appendChild(ve)}:S=function(){setTimeout(G,0)};var W,$=[];function G(){W=!0;for(var ve,de,Pe=$.length;Pe;){for(de=$,$=[],ve=-1;++ve<Pe;)de[ve]();Pe=$.length}W=!1}m.exports=Q;function Q(ve){$.push(ve)===1&&!W&&S()}}).call(this,typeof y8<"u"?y8:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(u,m,v){var p=u(1);function x(){}var S={},P=["REJECTED"],N=["FULFILLED"],D=["PENDING"];m.exports=z;function z(Oe){if(typeof Oe!="function")throw new TypeError("resolver must be a function");this.state=D,this.queue=[],this.outcome=void 0,Oe!==x&&Q(this,Oe)}z.prototype.catch=function(Oe){return this.then(null,Oe)},z.prototype.then=function(Oe,oe){if(typeof Oe!="function"&&this.state===N||typeof oe!="function"&&this.state===P)return this;var Ge=new this.constructor(x);if(this.state!==D){var $e=this.state===N?Oe:oe;$(Ge,$e,this.outcome)}else this.queue.push(new W(Ge,Oe,oe));return Ge};function W(Oe,oe,Ge){this.promise=Oe,typeof oe=="function"&&(this.onFulfilled=oe,this.callFulfilled=this.otherCallFulfilled),typeof Ge=="function"&&(this.onRejected=Ge,this.callRejected=this.otherCallRejected)}W.prototype.callFulfilled=function(Oe){S.resolve(this.promise,Oe)},W.prototype.otherCallFulfilled=function(Oe){$(this.promise,this.onFulfilled,Oe)},W.prototype.callRejected=function(Oe){S.reject(this.promise,Oe)},W.prototype.otherCallRejected=function(Oe){$(this.promise,this.onRejected,Oe)};function $(Oe,oe,Ge){p(function(){var $e;try{$e=oe(Ge)}catch(Ze){return S.reject(Oe,Ze)}$e===Oe?S.reject(Oe,new TypeError("Cannot resolve promise with itself")):S.resolve(Oe,$e)})}S.resolve=function(Oe,oe){var Ge=ve(G,oe);if(Ge.status==="error")return S.reject(Oe,Ge.value);var $e=Ge.value;if($e)Q(Oe,$e);else{Oe.state=N,Oe.outcome=oe;for(var Ze=-1,rt=Oe.queue.length;++Ze<rt;)Oe.queue[Ze].callFulfilled(oe)}return Oe},S.reject=function(Oe,oe){Oe.state=P,Oe.outcome=oe;for(var Ge=-1,$e=Oe.queue.length;++Ge<$e;)Oe.queue[Ge].callRejected(oe);return Oe};function G(Oe){var oe=Oe&&Oe.then;if(Oe&&(typeof Oe=="object"||typeof Oe=="function")&&typeof oe=="function")return function(){oe.apply(Oe,arguments)}}function Q(Oe,oe){var Ge=!1;function $e(Re){Ge||(Ge=!0,S.reject(Oe,Re))}function Ze(Re){Ge||(Ge=!0,S.resolve(Oe,Re))}function rt(){oe(Ze,$e)}var Ce=ve(rt);Ce.status==="error"&&$e(Ce.value)}function ve(Oe,oe){var Ge={};try{Ge.value=Oe(oe),Ge.status="success"}catch($e){Ge.status="error",Ge.value=$e}return Ge}z.resolve=de;function de(Oe){return Oe instanceof this?Oe:S.resolve(new this(x),Oe)}z.reject=Pe;function Pe(Oe){var oe=new this(x);return S.reject(oe,Oe)}z.all=Ie;function Ie(Oe){var oe=this;if(Object.prototype.toString.call(Oe)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ge=Oe.length,$e=!1;if(!Ge)return this.resolve([]);for(var Ze=new Array(Ge),rt=0,Ce=-1,Re=new this(x);++Ce<Ge;)R(Oe[Ce],Ce);return Re;function R(yt,Pt){oe.resolve(yt).then(ln,function(gn){$e||($e=!0,S.reject(Re,gn))});function ln(gn){Ze[Pt]=gn,++rt===Ge&&!$e&&($e=!0,S.resolve(Re,Ze))}}}z.race=re;function re(Oe){var oe=this;if(Object.prototype.toString.call(Oe)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ge=Oe.length,$e=!1;if(!Ge)return this.resolve([]);for(var Ze=-1,rt=new this(x);++Ze<Ge;)Ce(Oe[Ze]);return rt;function Ce(Re){oe.resolve(Re).then(function(R){$e||($e=!0,S.resolve(rt,R))},function(R){$e||($e=!0,S.reject(rt,R))})}}},{1:1}],3:[function(u,m,v){(function(p){typeof p.Promise!="function"&&(p.Promise=u(2))}).call(this,typeof y8<"u"?y8:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(u,m,v){var p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Se){return typeof Se}:function(Se){return Se&&typeof Symbol=="function"&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se};function x(Se,Ye){if(!(Se instanceof Ye))throw new TypeError("Cannot call a class as a function")}function S(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var P=S();function N(){try{if(!P||!P.open)return!1;var Se=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Ye=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Se||Ye)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function D(Se,Ye){Se=Se||[],Ye=Ye||{};try{return new Blob(Se,Ye)}catch(je){if(je.name!=="TypeError")throw je;for(var De=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,it=new De,ot=0;ot<Se.length;ot+=1)it.append(Se[ot]);return it.getBlob(Ye.type)}}typeof Promise>"u"&&u(3);var z=Promise;function W(Se,Ye){Ye&&Se.then(function(De){Ye(null,De)},function(De){Ye(De)})}function $(Se,Ye,De){typeof Ye=="function"&&Se.then(Ye),typeof De=="function"&&Se.catch(De)}function G(Se){return typeof Se!="string"&&(console.warn(Se+" used as a key, but it is not a string."),Se=String(Se)),Se}function Q(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var ve="local-forage-detect-blob-support",de=void 0,Pe={},Ie=Object.prototype.toString,re="readonly",Oe="readwrite";function oe(Se){for(var Ye=Se.length,De=new ArrayBuffer(Ye),it=new Uint8Array(De),ot=0;ot<Ye;ot++)it[ot]=Se.charCodeAt(ot);return De}function Ge(Se){return new z(function(Ye){var De=Se.transaction(ve,Oe),it=D([""]);De.objectStore(ve).put(it,"key"),De.onabort=function(ot){ot.preventDefault(),ot.stopPropagation(),Ye(!1)},De.oncomplete=function(){var ot=navigator.userAgent.match(/Chrome\/(\d+)/),je=navigator.userAgent.match(/Edge\//);Ye(je||!ot||parseInt(ot[1],10)>=43)}}).catch(function(){return!1})}function $e(Se){return typeof de=="boolean"?z.resolve(de):Ge(Se).then(function(Ye){return de=Ye,de})}function Ze(Se){var Ye=Pe[Se.name],De={};De.promise=new z(function(it,ot){De.resolve=it,De.reject=ot}),Ye.deferredOperations.push(De),Ye.dbReady?Ye.dbReady=Ye.dbReady.then(function(){return De.promise}):Ye.dbReady=De.promise}function rt(Se){var Ye=Pe[Se.name],De=Ye.deferredOperations.pop();if(De)return De.resolve(),De.promise}function Ce(Se,Ye){var De=Pe[Se.name],it=De.deferredOperations.pop();if(it)return it.reject(Ye),it.promise}function Re(Se,Ye){return new z(function(De,it){if(Pe[Se.name]=Pe[Se.name]||bt(),Se.db)if(Ye)Ze(Se),Se.db.close();else return De(Se.db);var ot=[Se.name];Ye&&ot.push(Se.version);var je=P.open.apply(P,ot);Ye&&(je.onupgradeneeded=function(Lt){var Yt=je.result;try{Yt.createObjectStore(Se.storeName),Lt.oldVersion<=1&&Yt.createObjectStore(ve)}catch(nn){if(nn.name==="ConstraintError")console.warn('The database "'+Se.name+'" has been upgraded from version '+Lt.oldVersion+" to version "+Lt.newVersion+', but the storage "'+Se.storeName+'" already exists.');else throw nn}}),je.onerror=function(Lt){Lt.preventDefault(),it(je.error)},je.onsuccess=function(){var Lt=je.result;Lt.onversionchange=function(Yt){Yt.target.close()},De(Lt),rt(Se)}})}function R(Se){return Re(Se,!1)}function yt(Se){return Re(Se,!0)}function Pt(Se,Ye){if(!Se.db)return!0;var De=!Se.db.objectStoreNames.contains(Se.storeName),it=Se.version<Se.db.version,ot=Se.version>Se.db.version;if(it&&(Se.version!==Ye&&console.warn('The database "'+Se.name+`" can't be downgraded from version `+Se.db.version+" to version "+Se.version+"."),Se.version=Se.db.version),ot||De){if(De){var je=Se.db.version+1;je>Se.version&&(Se.version=je)}return!0}return!1}function ln(Se){return new z(function(Ye,De){var it=new FileReader;it.onerror=De,it.onloadend=function(ot){var je=btoa(ot.target.result||"");Ye({__local_forage_encoded_blob:!0,data:je,type:Se.type})},it.readAsBinaryString(Se)})}function gn(Se){var Ye=oe(atob(Se.data));return D([Ye],{type:Se.type})}function Qe(Se){return Se&&Se.__local_forage_encoded_blob}function On(Se){var Ye=this,De=Ye._initReady().then(function(){var it=Pe[Ye._dbInfo.name];if(it&&it.dbReady)return it.dbReady});return $(De,Se,Se),De}function nr(Se){Ze(Se);for(var Ye=Pe[Se.name],De=Ye.forages,it=0;it<De.length;it++){var ot=De[it];ot._dbInfo.db&&(ot._dbInfo.db.close(),ot._dbInfo.db=null)}return Se.db=null,R(Se).then(function(je){return Se.db=je,Pt(Se)?yt(Se):je}).then(function(je){Se.db=Ye.db=je;for(var Lt=0;Lt<De.length;Lt++)De[Lt]._dbInfo.db=je}).catch(function(je){throw Ce(Se,je),je})}function pt(Se,Ye,De,it){it===void 0&&(it=1);try{var ot=Se.db.transaction(Se.storeName,Ye);De(null,ot)}catch(je){if(it>0&&(!Se.db||je.name==="InvalidStateError"||je.name==="NotFoundError"))return z.resolve().then(function(){if(!Se.db||je.name==="NotFoundError"&&!Se.db.objectStoreNames.contains(Se.storeName)&&Se.version<=Se.db.version)return Se.db&&(Se.version=Se.db.version+1),yt(Se)}).then(function(){return nr(Se).then(function(){pt(Se,Ye,De,it-1)})}).catch(De);De(je)}}function bt(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Zt(Se){var Ye=this,De={db:null};if(Se)for(var it in Se)De[it]=Se[it];var ot=Pe[De.name];ot||(ot=bt(),Pe[De.name]=ot),ot.forages.push(Ye),Ye._initReady||(Ye._initReady=Ye.ready,Ye.ready=On);var je=[];function Lt(){return z.resolve()}for(var Yt=0;Yt<ot.forages.length;Yt++){var nn=ot.forages[Yt];nn!==Ye&&je.push(nn._initReady().catch(Lt))}var dn=ot.forages.slice(0);return z.all(je).then(function(){return De.db=ot.db,R(De)}).then(function(en){return De.db=en,Pt(De,Ye._defaultConfig.version)?yt(De):en}).then(function(en){De.db=ot.db=en,Ye._dbInfo=De;for(var oo=0;oo<dn.length;oo++){var Jt=dn[oo];Jt!==Ye&&(Jt._dbInfo.db=De.db,Jt._dbInfo.version=De.version)}})}function Vr(Se,Ye){var De=this;Se=G(Se);var it=new z(function(ot,je){De.ready().then(function(){pt(De._dbInfo,re,function(Lt,Yt){if(Lt)return je(Lt);try{var nn=Yt.objectStore(De._dbInfo.storeName),dn=nn.get(Se);dn.onsuccess=function(){var en=dn.result;en===void 0&&(en=null),Qe(en)&&(en=gn(en)),ot(en)},dn.onerror=function(){je(dn.error)}}catch(en){je(en)}})}).catch(je)});return W(it,Ye),it}function ho(Se,Ye){var De=this,it=new z(function(ot,je){De.ready().then(function(){pt(De._dbInfo,re,function(Lt,Yt){if(Lt)return je(Lt);try{var nn=Yt.objectStore(De._dbInfo.storeName),dn=nn.openCursor(),en=1;dn.onsuccess=function(){var oo=dn.result;if(oo){var Jt=oo.value;Qe(Jt)&&(Jt=gn(Jt));var ar=Se(Jt,oo.key,en++);ar!==void 0?ot(ar):oo.continue()}else ot()},dn.onerror=function(){je(dn.error)}}catch(oo){je(oo)}})}).catch(je)});return W(it,Ye),it}function xn(Se,Ye,De){var it=this;Se=G(Se);var ot=new z(function(je,Lt){var Yt;it.ready().then(function(){return Yt=it._dbInfo,Ie.call(Ye)==="[object Blob]"?$e(Yt.db).then(function(nn){return nn?Ye:ln(Ye)}):Ye}).then(function(nn){pt(it._dbInfo,Oe,function(dn,en){if(dn)return Lt(dn);try{var oo=en.objectStore(it._dbInfo.storeName);nn===null&&(nn=void 0);var Jt=oo.put(nn,Se);en.oncomplete=function(){nn===void 0&&(nn=null),je(nn)},en.onabort=en.onerror=function(){var ar=Jt.error?Jt.error:Jt.transaction.error;Lt(ar)}}catch(ar){Lt(ar)}})}).catch(Lt)});return W(ot,De),ot}function Rn(Se,Ye){var De=this;Se=G(Se);var it=new z(function(ot,je){De.ready().then(function(){pt(De._dbInfo,Oe,function(Lt,Yt){if(Lt)return je(Lt);try{var nn=Yt.objectStore(De._dbInfo.storeName),dn=nn.delete(Se);Yt.oncomplete=function(){ot()},Yt.onerror=function(){je(dn.error)},Yt.onabort=function(){var en=dn.error?dn.error:dn.transaction.error;je(en)}}catch(en){je(en)}})}).catch(je)});return W(it,Ye),it}function J(Se){var Ye=this,De=new z(function(it,ot){Ye.ready().then(function(){pt(Ye._dbInfo,Oe,function(je,Lt){if(je)return ot(je);try{var Yt=Lt.objectStore(Ye._dbInfo.storeName),nn=Yt.clear();Lt.oncomplete=function(){it()},Lt.onabort=Lt.onerror=function(){var dn=nn.error?nn.error:nn.transaction.error;ot(dn)}}catch(dn){ot(dn)}})}).catch(ot)});return W(De,Se),De}function sr(Se){var Ye=this,De=new z(function(it,ot){Ye.ready().then(function(){pt(Ye._dbInfo,re,function(je,Lt){if(je)return ot(je);try{var Yt=Lt.objectStore(Ye._dbInfo.storeName),nn=Yt.count();nn.onsuccess=function(){it(nn.result)},nn.onerror=function(){ot(nn.error)}}catch(dn){ot(dn)}})}).catch(ot)});return W(De,Se),De}function br(Se,Ye){var De=this,it=new z(function(ot,je){if(Se<0){ot(null);return}De.ready().then(function(){pt(De._dbInfo,re,function(Lt,Yt){if(Lt)return je(Lt);try{var nn=Yt.objectStore(De._dbInfo.storeName),dn=!1,en=nn.openKeyCursor();en.onsuccess=function(){var oo=en.result;if(!oo){ot(null);return}Se===0||dn?ot(oo.key):(dn=!0,oo.advance(Se))},en.onerror=function(){je(en.error)}}catch(oo){je(oo)}})}).catch(je)});return W(it,Ye),it}function Ko(Se){var Ye=this,De=new z(function(it,ot){Ye.ready().then(function(){pt(Ye._dbInfo,re,function(je,Lt){if(je)return ot(je);try{var Yt=Lt.objectStore(Ye._dbInfo.storeName),nn=Yt.openKeyCursor(),dn=[];nn.onsuccess=function(){var en=nn.result;if(!en){it(dn);return}dn.push(en.key),en.continue()},nn.onerror=function(){ot(nn.error)}}catch(en){ot(en)}})}).catch(ot)});return W(De,Se),De}function oi(Se,Ye){Ye=Q.apply(this,arguments);var De=this.config();Se=typeof Se!="function"&&Se||{},Se.name||(Se.name=Se.name||De.name,Se.storeName=Se.storeName||De.storeName);var it=this,ot;if(!Se.name)ot=z.reject("Invalid arguments");else{var je=Se.name===De.name&&it._dbInfo.db,Lt=je?z.resolve(it._dbInfo.db):R(Se).then(function(Yt){var nn=Pe[Se.name],dn=nn.forages;nn.db=Yt;for(var en=0;en<dn.length;en++)dn[en]._dbInfo.db=Yt;return Yt});Se.storeName?ot=Lt.then(function(Yt){if(Yt.objectStoreNames.contains(Se.storeName)){var nn=Yt.version+1;Ze(Se);var dn=Pe[Se.name],en=dn.forages;Yt.close();for(var oo=0;oo<en.length;oo++){var Jt=en[oo];Jt._dbInfo.db=null,Jt._dbInfo.version=nn}var ar=new z(function(wo,Io){var fs=P.open(Se.name,nn);fs.onerror=function(fo){var hl=fs.result;hl.close(),Io(fo)},fs.onupgradeneeded=function(){var fo=fs.result;fo.deleteObjectStore(Se.storeName)},fs.onsuccess=function(){var fo=fs.result;fo.close(),wo(fo)}});return ar.then(function(wo){dn.db=wo;for(var Io=0;Io<en.length;Io++){var fs=en[Io];fs._dbInfo.db=wo,rt(fs._dbInfo)}}).catch(function(wo){throw(Ce(Se,wo)||z.resolve()).catch(function(){}),wo})}}):ot=Lt.then(function(Yt){Ze(Se);var nn=Pe[Se.name],dn=nn.forages;Yt.close();for(var en=0;en<dn.length;en++){var oo=dn[en];oo._dbInfo.db=null}var Jt=new z(function(ar,wo){var Io=P.deleteDatabase(Se.name);Io.onerror=function(){var fs=Io.result;fs&&fs.close(),wo(Io.error)},Io.onblocked=function(){console.warn('dropInstance blocked for database "'+Se.name+'" until all open connections are closed')},Io.onsuccess=function(){var fs=Io.result;fs&&fs.close(),ar(fs)}});return Jt.then(function(ar){nn.db=ar;for(var wo=0;wo<dn.length;wo++){var Io=dn[wo];rt(Io._dbInfo)}}).catch(function(ar){throw(Ce(Se,ar)||z.resolve()).catch(function(){}),ar})})}return W(ot,Ye),ot}var Ke={_driver:"asyncStorage",_initStorage:Zt,_support:N(),iterate:ho,getItem:Vr,setItem:xn,removeItem:Rn,clear:J,length:sr,key:br,keys:Ko,dropInstance:oi};function le(){return typeof openDatabase=="function"}var xe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Me="~~local_forage_type~",ge=/^~~local_forage_type~([^~]+)~/,St="__lfsc__:",$t=St.length,Ct="arbf",zt="blob",It="si08",on="ui08",wn="uic8",Cn="si16",En="si32",ao="ur16",vo="ui32",Ao="fl32",Oo="fl64",Es=$t+Ct.length,ur=Object.prototype.toString;function bi(Se){var Ye=Se.length*.75,De=Se.length,it,ot=0,je,Lt,Yt,nn;Se[Se.length-1]==="="&&(Ye--,Se[Se.length-2]==="="&&Ye--);var dn=new ArrayBuffer(Ye),en=new Uint8Array(dn);for(it=0;it<De;it+=4)je=xe.indexOf(Se[it]),Lt=xe.indexOf(Se[it+1]),Yt=xe.indexOf(Se[it+2]),nn=xe.indexOf(Se[it+3]),en[ot++]=je<<2|Lt>>4,en[ot++]=(Lt&15)<<4|Yt>>2,en[ot++]=(Yt&3)<<6|nn&63;return dn}function cn(Se){var Ye=new Uint8Array(Se),De="",it;for(it=0;it<Ye.length;it+=3)De+=xe[Ye[it]>>2],De+=xe[(Ye[it]&3)<<4|Ye[it+1]>>4],De+=xe[(Ye[it+1]&15)<<2|Ye[it+2]>>6],De+=xe[Ye[it+2]&63];return Ye.length%3===2?De=De.substring(0,De.length-1)+"=":Ye.length%3===1&&(De=De.substring(0,De.length-2)+"=="),De}function po(Se,Ye){var De="";if(Se&&(De=ur.call(Se)),Se&&(De==="[object ArrayBuffer]"||Se.buffer&&ur.call(Se.buffer)==="[object ArrayBuffer]")){var it,ot=St;Se instanceof ArrayBuffer?(it=Se,ot+=Ct):(it=Se.buffer,De==="[object Int8Array]"?ot+=It:De==="[object Uint8Array]"?ot+=on:De==="[object Uint8ClampedArray]"?ot+=wn:De==="[object Int16Array]"?ot+=Cn:De==="[object Uint16Array]"?ot+=ao:De==="[object Int32Array]"?ot+=En:De==="[object Uint32Array]"?ot+=vo:De==="[object Float32Array]"?ot+=Ao:De==="[object Float64Array]"?ot+=Oo:Ye(new Error("Failed to get type for BinaryArray"))),Ye(ot+cn(it))}else if(De==="[object Blob]"){var je=new FileReader;je.onload=function(){var Lt=Me+Se.type+"~"+cn(this.result);Ye(St+zt+Lt)},je.readAsArrayBuffer(Se)}else try{Ye(JSON.stringify(Se))}catch(Lt){console.error("Couldn't convert value into a JSON string: ",Se),Ye(null,Lt)}}function io(Se){if(Se.substring(0,$t)!==St)return JSON.parse(Se);var Ye=Se.substring(Es),De=Se.substring($t,Es),it;if(De===zt&&ge.test(Ye)){var ot=Ye.match(ge);it=ot[1],Ye=Ye.substring(ot[0].length)}var je=bi(Ye);switch(De){case Ct:return je;case zt:return D([je],{type:it});case It:return new Int8Array(je);case on:return new Uint8Array(je);case wn:return new Uint8ClampedArray(je);case Cn:return new Int16Array(je);case ao:return new Uint16Array(je);case En:return new Int32Array(je);case vo:return new Uint32Array(je);case Ao:return new Float32Array(je);case Oo:return new Float64Array(je);default:throw new Error("Unkown type: "+De)}}var $r={serialize:po,deserialize:io,stringToBuffer:bi,bufferToString:cn};function Pa(Se,Ye,De,it){Se.executeSql("CREATE TABLE IF NOT EXISTS "+Ye.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],De,it)}function Vt(Se){var Ye=this,De={db:null};if(Se)for(var it in Se)De[it]=typeof Se[it]!="string"?Se[it].toString():Se[it];var ot=new z(function(je,Lt){try{De.db=openDatabase(De.name,String(De.version),De.description,De.size)}catch(Yt){return Lt(Yt)}De.db.transaction(function(Yt){Pa(Yt,De,function(){Ye._dbInfo=De,je()},function(nn,dn){Lt(dn)})},Lt)});return De.serializer=$r,ot}function Ys(Se,Ye,De,it,ot,je){Se.executeSql(De,it,ot,function(Lt,Yt){Yt.code===Yt.SYNTAX_ERR?Lt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Ye.storeName],function(nn,dn){dn.rows.length?je(nn,Yt):Pa(nn,Ye,function(){nn.executeSql(De,it,ot,je)},je)},je):je(Lt,Yt)},je)}function Uo(Se,Ye){var De=this;Se=G(Se);var it=new z(function(ot,je){De.ready().then(function(){var Lt=De._dbInfo;Lt.db.transaction(function(Yt){Ys(Yt,Lt,"SELECT * FROM "+Lt.storeName+" WHERE key = ? LIMIT 1",[Se],function(nn,dn){var en=dn.rows.length?dn.rows.item(0).value:null;en&&(en=Lt.serializer.deserialize(en)),ot(en)},function(nn,dn){je(dn)})})}).catch(je)});return W(it,Ye),it}function kl(Se,Ye){var De=this,it=new z(function(ot,je){De.ready().then(function(){var Lt=De._dbInfo;Lt.db.transaction(function(Yt){Ys(Yt,Lt,"SELECT * FROM "+Lt.storeName,[],function(nn,dn){for(var en=dn.rows,oo=en.length,Jt=0;Jt<oo;Jt++){var ar=en.item(Jt),wo=ar.value;if(wo&&(wo=Lt.serializer.deserialize(wo)),wo=Se(wo,ar.key,Jt+1),wo!==void 0){ot(wo);return}}ot()},function(nn,dn){je(dn)})})}).catch(je)});return W(it,Ye),it}function Er(Se,Ye,De,it){var ot=this;Se=G(Se);var je=new z(function(Lt,Yt){ot.ready().then(function(){Ye===void 0&&(Ye=null);var nn=Ye,dn=ot._dbInfo;dn.serializer.serialize(Ye,function(en,oo){oo?Yt(oo):dn.db.transaction(function(Jt){Ys(Jt,dn,"INSERT OR REPLACE INTO "+dn.storeName+" (key, value) VALUES (?, ?)",[Se,en],function(){Lt(nn)},function(ar,wo){Yt(wo)})},function(Jt){if(Jt.code===Jt.QUOTA_ERR){if(it>0){Lt(Er.apply(ot,[Se,nn,De,it-1]));return}Yt(Jt)}})})}).catch(Yt)});return W(je,De),je}function zs(Se,Ye,De){return Er.apply(this,[Se,Ye,De,1])}function jf(Se,Ye){var De=this;Se=G(Se);var it=new z(function(ot,je){De.ready().then(function(){var Lt=De._dbInfo;Lt.db.transaction(function(Yt){Ys(Yt,Lt,"DELETE FROM "+Lt.storeName+" WHERE key = ?",[Se],function(){ot()},function(nn,dn){je(dn)})})}).catch(je)});return W(it,Ye),it}function uu(Se){var Ye=this,De=new z(function(it,ot){Ye.ready().then(function(){var je=Ye._dbInfo;je.db.transaction(function(Lt){Ys(Lt,je,"DELETE FROM "+je.storeName,[],function(){it()},function(Yt,nn){ot(nn)})})}).catch(ot)});return W(De,Se),De}function ec(Se){var Ye=this,De=new z(function(it,ot){Ye.ready().then(function(){var je=Ye._dbInfo;je.db.transaction(function(Lt){Ys(Lt,je,"SELECT COUNT(key) as c FROM "+je.storeName,[],function(Yt,nn){var dn=nn.rows.item(0).c;it(dn)},function(Yt,nn){ot(nn)})})}).catch(ot)});return W(De,Se),De}function Xi(Se,Ye){var De=this,it=new z(function(ot,je){De.ready().then(function(){var Lt=De._dbInfo;Lt.db.transaction(function(Yt){Ys(Yt,Lt,"SELECT key FROM "+Lt.storeName+" WHERE id = ? LIMIT 1",[Se+1],function(nn,dn){var en=dn.rows.length?dn.rows.item(0).key:null;ot(en)},function(nn,dn){je(dn)})})}).catch(je)});return W(it,Ye),it}function du(Se){var Ye=this,De=new z(function(it,ot){Ye.ready().then(function(){var je=Ye._dbInfo;je.db.transaction(function(Lt){Ys(Lt,je,"SELECT key FROM "+je.storeName,[],function(Yt,nn){for(var dn=[],en=0;en<nn.rows.length;en++)dn.push(nn.rows.item(en).key);it(dn)},function(Yt,nn){ot(nn)})})}).catch(ot)});return W(De,Se),De}function dr(Se){return new z(function(Ye,De){Se.transaction(function(it){it.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ot,je){for(var Lt=[],Yt=0;Yt<je.rows.length;Yt++)Lt.push(je.rows.item(Yt).name);Ye({db:Se,storeNames:Lt})},function(ot,je){De(je)})},function(it){De(it)})})}function Gn(Se,Ye){Ye=Q.apply(this,arguments);var De=this.config();Se=typeof Se!="function"&&Se||{},Se.name||(Se.name=Se.name||De.name,Se.storeName=Se.storeName||De.storeName);var it=this,ot;return Se.name?ot=new z(function(je){var Lt;Se.name===De.name?Lt=it._dbInfo.db:Lt=openDatabase(Se.name,"","",0),Se.storeName?je({db:Lt,storeNames:[Se.storeName]}):je(dr(Lt))}).then(function(je){return new z(function(Lt,Yt){je.db.transaction(function(nn){function dn(ar){return new z(function(wo,Io){nn.executeSql("DROP TABLE IF EXISTS "+ar,[],function(){wo()},function(fs,fo){Io(fo)})})}for(var en=[],oo=0,Jt=je.storeNames.length;oo<Jt;oo++)en.push(dn(je.storeNames[oo]));z.all(en).then(function(){Lt()}).catch(function(ar){Yt(ar)})},function(nn){Yt(nn)})})}):ot=z.reject("Invalid arguments"),W(ot,Ye),ot}var El={_driver:"webSQLStorage",_initStorage:Vt,_support:le(),iterate:kl,getItem:Uo,setItem:zs,removeItem:jf,clear:uu,length:ec,key:Xi,keys:du,dropInstance:Gn};function ca(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function fu(Se,Ye){var De=Se.name+"/";return Se.storeName!==Ye.storeName&&(De+=Se.storeName+"/"),De}function Qt(){var Se="_localforage_support_test";try{return localStorage.setItem(Se,!0),localStorage.removeItem(Se),!1}catch{return!0}}function mu(){return!Qt()||localStorage.length>0}function Kf(Se){var Ye=this,De={};if(Se)for(var it in Se)De[it]=Se[it];return De.keyPrefix=fu(Se,Ye._defaultConfig),mu()?(Ye._dbInfo=De,De.serializer=$r,z.resolve()):z.reject()}function ts(Se){var Ye=this,De=Ye.ready().then(function(){for(var it=Ye._dbInfo.keyPrefix,ot=localStorage.length-1;ot>=0;ot--){var je=localStorage.key(ot);je.indexOf(it)===0&&localStorage.removeItem(je)}});return W(De,Se),De}function qf(Se,Ye){var De=this;Se=G(Se);var it=De.ready().then(function(){var ot=De._dbInfo,je=localStorage.getItem(ot.keyPrefix+Se);return je&&(je=ot.serializer.deserialize(je)),je});return W(it,Ye),it}function Ni(Se,Ye){var De=this,it=De.ready().then(function(){for(var ot=De._dbInfo,je=ot.keyPrefix,Lt=je.length,Yt=localStorage.length,nn=1,dn=0;dn<Yt;dn++){var en=localStorage.key(dn);if(en.indexOf(je)===0){var oo=localStorage.getItem(en);if(oo&&(oo=ot.serializer.deserialize(oo)),oo=Se(oo,en.substring(Lt),nn++),oo!==void 0)return oo}}});return W(it,Ye),it}function ml(Se,Ye){var De=this,it=De.ready().then(function(){var ot=De._dbInfo,je;try{je=localStorage.key(Se)}catch{je=null}return je&&(je=je.substring(ot.keyPrefix.length)),je});return W(it,Ye),it}function Ji(Se){var Ye=this,De=Ye.ready().then(function(){for(var it=Ye._dbInfo,ot=localStorage.length,je=[],Lt=0;Lt<ot;Lt++){var Yt=localStorage.key(Lt);Yt.indexOf(it.keyPrefix)===0&&je.push(Yt.substring(it.keyPrefix.length))}return je});return W(De,Se),De}function jr(Se){var Ye=this,De=Ye.keys().then(function(it){return it.length});return W(De,Se),De}function ri(Se,Ye){var De=this;Se=G(Se);var it=De.ready().then(function(){var ot=De._dbInfo;localStorage.removeItem(ot.keyPrefix+Se)});return W(it,Ye),it}function gl(Se,Ye,De){var it=this;Se=G(Se);var ot=it.ready().then(function(){Ye===void 0&&(Ye=null);var je=Ye;return new z(function(Lt,Yt){var nn=it._dbInfo;nn.serializer.serialize(Ye,function(dn,en){if(en)Yt(en);else try{localStorage.setItem(nn.keyPrefix+Se,dn),Lt(je)}catch(oo){(oo.name==="QuotaExceededError"||oo.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Yt(oo),Yt(oo)}})})});return W(ot,De),ot}function Gf(Se,Ye){if(Ye=Q.apply(this,arguments),Se=typeof Se!="function"&&Se||{},!Se.name){var De=this.config();Se.name=Se.name||De.name,Se.storeName=Se.storeName||De.storeName}var it=this,ot;return Se.name?ot=new z(function(je){Se.storeName?je(fu(Se,it._defaultConfig)):je(Se.name+"/")}).then(function(je){for(var Lt=localStorage.length-1;Lt>=0;Lt--){var Yt=localStorage.key(Lt);Yt.indexOf(je)===0&&localStorage.removeItem(Yt)}}):ot=z.reject("Invalid arguments"),W(ot,Ye),ot}var Dc={_driver:"localStorageWrapper",_initStorage:Kf,_support:ca(),iterate:Ni,getItem:qf,setItem:gl,removeItem:ri,clear:ts,length:jr,key:ml,keys:Ji,dropInstance:Gf},Rc=function(Ye,De){return Ye===De||typeof Ye=="number"&&typeof De=="number"&&isNaN(Ye)&&isNaN(De)},Fd=function(Ye,De){for(var it=Ye.length,ot=0;ot<it;){if(Rc(Ye[ot],De))return!0;ot++}return!1},Xu=Array.isArray||function(Se){return Object.prototype.toString.call(Se)==="[object Array]"},Wo={},xs={},Zs={INDEXEDDB:Ke,WEBSQL:El,LOCALSTORAGE:Dc},Yf=[Zs.INDEXEDDB._driver,Zs.WEBSQL._driver,Zs.LOCALSTORAGE._driver],Ii=["dropInstance"],Nc=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ii),si={description:"",driver:Yf.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ai(Se,Ye){Se[Ye]=function(){var De=arguments;return Se.ready().then(function(){return Se[Ye].apply(Se,De)})}}function Ic(){for(var Se=1;Se<arguments.length;Se++){var Ye=arguments[Se];if(Ye)for(var De in Ye)Ye.hasOwnProperty(De)&&(Xu(Ye[De])?arguments[0][De]=Ye[De].slice():arguments[0][De]=Ye[De])}return arguments[0]}var vr=function(){function Se(Ye){x(this,Se);for(var De in Zs)if(Zs.hasOwnProperty(De)){var it=Zs[De],ot=it._driver;this[De]=ot,Wo[ot]||this.defineDriver(it)}this._defaultConfig=Ic({},si),this._config=Ic({},this._defaultConfig,Ye),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Se.prototype.config=function(De){if((typeof De>"u"?"undefined":p(De))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var it in De){if(it==="storeName"&&(De[it]=De[it].replace(/\W/g,"_")),it==="version"&&typeof De[it]!="number")return new Error("Database version must be a number.");this._config[it]=De[it]}return"driver"in De&&De.driver?this.setDriver(this._config.driver):!0}else return typeof De=="string"?this._config[De]:this._config},Se.prototype.defineDriver=function(De,it,ot){var je=new z(function(Lt,Yt){try{var nn=De._driver,dn=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!De._driver){Yt(dn);return}for(var en=Nc.concat("_initStorage"),oo=0,Jt=en.length;oo<Jt;oo++){var ar=en[oo],wo=!Fd(Ii,ar);if((wo||De[ar])&&typeof De[ar]!="function"){Yt(dn);return}}var Io=function(){for(var hl=function(as){return function(){var Ju=new Error("Method "+as+" is not implemented by the current driver"),As=z.reject(Ju);return W(As,arguments[arguments.length-1]),As}},La=0,Xn=Ii.length;La<Xn;La++){var Bi=Ii[La];De[Bi]||(De[Bi]=hl(Bi))}};Io();var fs=function(hl){Wo[nn]&&console.info("Redefining LocalForage driver: "+nn),Wo[nn]=De,xs[nn]=hl,Lt()};"_support"in De?De._support&&typeof De._support=="function"?De._support().then(fs,Yt):fs(!!De._support):fs(!0)}catch(fo){Yt(fo)}});return $(je,it,ot),je},Se.prototype.driver=function(){return this._driver||null},Se.prototype.getDriver=function(De,it,ot){var je=Wo[De]?z.resolve(Wo[De]):z.reject(new Error("Driver not found."));return $(je,it,ot),je},Se.prototype.getSerializer=function(De){var it=z.resolve($r);return $(it,De),it},Se.prototype.ready=function(De){var it=this,ot=it._driverSet.then(function(){return it._ready===null&&(it._ready=it._initDriver()),it._ready});return $(ot,De,De),ot},Se.prototype.setDriver=function(De,it,ot){var je=this;Xu(De)||(De=[De]);var Lt=this._getSupportedDrivers(De);function Yt(){je._config.driver=je.driver()}function nn(oo){return je._extend(oo),Yt(),je._ready=je._initStorage(je._config),je._ready}function dn(oo){return function(){var Jt=0;function ar(){for(;Jt<oo.length;){var wo=oo[Jt];return Jt++,je._dbInfo=null,je._ready=null,je.getDriver(wo).then(nn).catch(ar)}Yt();var Io=new Error("No available storage method found.");return je._driverSet=z.reject(Io),je._driverSet}return ar()}}var en=this._driverSet!==null?this._driverSet.catch(function(){return z.resolve()}):z.resolve();return this._driverSet=en.then(function(){var oo=Lt[0];return je._dbInfo=null,je._ready=null,je.getDriver(oo).then(function(Jt){je._driver=Jt._driver,Yt(),je._wrapLibraryMethodsWithReady(),je._initDriver=dn(Lt)})}).catch(function(){Yt();var oo=new Error("No available storage method found.");return je._driverSet=z.reject(oo),je._driverSet}),$(this._driverSet,it,ot),this._driverSet},Se.prototype.supports=function(De){return!!xs[De]},Se.prototype._extend=function(De){Ic(this,De)},Se.prototype._getSupportedDrivers=function(De){for(var it=[],ot=0,je=De.length;ot<je;ot++){var Lt=De[ot];this.supports(Lt)&&it.push(Lt)}return it},Se.prototype._wrapLibraryMethodsWithReady=function(){for(var De=0,it=Nc.length;De<it;De++)ai(this,Nc[De])},Se.prototype.createInstance=function(De){return new Se(De)},Se}(),Kr=new vr;m.exports=Kr},{3:3}]},{},[4])(4)})})(vG);var zue=vG.exports;const Vp=bM(zue);function yG(r,i){return function(){return r.apply(i,arguments)}}const{toString:Hue}=Object.prototype,{getPrototypeOf:UV}=Object,vM=(r=>i=>{const u=Hue.call(i);return r[u]||(r[u]=u.slice(8,-1).toLowerCase())})(Object.create(null)),bh=r=>(r=r.toLowerCase(),i=>vM(i)===r),yM=r=>i=>typeof i===r,{isArray:dk}=Array,QT=yM("undefined");function Vue(r){return r!==null&&!QT(r)&&r.constructor!==null&&!QT(r.constructor)&&Vf(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const xG=bh("ArrayBuffer");function $ue(r){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(r):i=r&&r.buffer&&xG(r.buffer),i}const Uue=yM("string"),Vf=yM("function"),wG=yM("number"),xM=r=>r!==null&&typeof r=="object",Wue=r=>r===!0||r===!1,I8=r=>{if(vM(r)!=="object")return!1;const i=UV(r);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Zue=bh("Date"),jue=bh("File"),Kue=bh("Blob"),que=bh("FileList"),Gue=r=>xM(r)&&Vf(r.pipe),Yue=r=>{let i;return r&&(typeof FormData=="function"&&r instanceof FormData||Vf(r.append)&&((i=vM(r))==="formdata"||i==="object"&&Vf(r.toString)&&r.toString()==="[object FormData]"))},Xue=bh("URLSearchParams"),[Jue,Que,ede,tde]=["ReadableStream","Request","Response","Headers"].map(bh),nde=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cO(r,i,{allOwnKeys:u=!1}={}){if(r===null||typeof r>"u")return;let m,v;if(typeof r!="object"&&(r=[r]),dk(r))for(m=0,v=r.length;m<v;m++)i.call(null,r[m],m,r);else{const p=u?Object.getOwnPropertyNames(r):Object.keys(r),x=p.length;let S;for(m=0;m<x;m++)S=p[m],i.call(null,r[S],S,r)}}function CG(r,i){i=i.toLowerCase();const u=Object.keys(r);let m=u.length,v;for(;m-- >0;)if(v=u[m],i===v.toLowerCase())return v;return null}const ww=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,_G=r=>!QT(r)&&r!==ww;function KH(){const{caseless:r}=_G(this)&&this||{},i={},u=(m,v)=>{const p=r&&CG(i,v)||v;I8(i[p])&&I8(m)?i[p]=KH(i[p],m):I8(m)?i[p]=KH({},m):dk(m)?i[p]=m.slice():i[p]=m};for(let m=0,v=arguments.length;m<v;m++)arguments[m]&&cO(arguments[m],u);return i}const ode=(r,i,u,{allOwnKeys:m}={})=>(cO(i,(v,p)=>{u&&Vf(v)?r[p]=yG(v,u):r[p]=v},{allOwnKeys:m}),r),rde=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),sde=(r,i,u,m)=>{r.prototype=Object.create(i.prototype,m),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:i.prototype}),u&&Object.assign(r.prototype,u)},ade=(r,i,u,m)=>{let v,p,x;const S={};if(i=i||{},r==null)return i;do{for(v=Object.getOwnPropertyNames(r),p=v.length;p-- >0;)x=v[p],(!m||m(x,r,i))&&!S[x]&&(i[x]=r[x],S[x]=!0);r=u!==!1&&UV(r)}while(r&&(!u||u(r,i))&&r!==Object.prototype);return i},ide=(r,i,u)=>{r=String(r),(u===void 0||u>r.length)&&(u=r.length),u-=i.length;const m=r.indexOf(i,u);return m!==-1&&m===u},lde=r=>{if(!r)return null;if(dk(r))return r;let i=r.length;if(!wG(i))return null;const u=new Array(i);for(;i-- >0;)u[i]=r[i];return u},cde=(r=>i=>r&&i instanceof r)(typeof Uint8Array<"u"&&UV(Uint8Array)),ude=(r,i)=>{const m=(r&&r[Symbol.iterator]).call(r);let v;for(;(v=m.next())&&!v.done;){const p=v.value;i.call(r,p[0],p[1])}},dde=(r,i)=>{let u;const m=[];for(;(u=r.exec(i))!==null;)m.push(u);return m},fde=bh("HTMLFormElement"),mde=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(u,m,v){return m.toUpperCase()+v}),Nj=(({hasOwnProperty:r})=>(i,u)=>r.call(i,u))(Object.prototype),gde=bh("RegExp"),SG=(r,i)=>{const u=Object.getOwnPropertyDescriptors(r),m={};cO(u,(v,p)=>{let x;(x=i(v,p,r))!==!1&&(m[p]=x||v)}),Object.defineProperties(r,m)},hde=r=>{SG(r,(i,u)=>{if(Vf(r)&&["arguments","caller","callee"].indexOf(u)!==-1)return!1;const m=r[u];if(Vf(m)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+u+"'")})}})},pde=(r,i)=>{const u={},m=v=>{v.forEach(p=>{u[p]=!0})};return dk(r)?m(r):m(String(r).split(i)),u},bde=()=>{},vde=(r,i)=>r!=null&&Number.isFinite(r=+r)?r:i,aH="abcdefghijklmnopqrstuvwxyz",Ij="0123456789",kG={DIGIT:Ij,ALPHA:aH,ALPHA_DIGIT:aH+aH.toUpperCase()+Ij},yde=(r=16,i=kG.ALPHA_DIGIT)=>{let u="";const{length:m}=i;for(;r--;)u+=i[Math.random()*m|0];return u};function xde(r){return!!(r&&Vf(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const wde=r=>{const i=new Array(10),u=(m,v)=>{if(xM(m)){if(i.indexOf(m)>=0)return;if(!("toJSON"in m)){i[v]=m;const p=dk(m)?[]:{};return cO(m,(x,S)=>{const P=u(x,v+1);!QT(P)&&(p[S]=P)}),i[v]=void 0,p}}return m};return u(r,0)},Cde=bh("AsyncFunction"),_de=r=>r&&(xM(r)||Vf(r))&&Vf(r.then)&&Vf(r.catch),EG=((r,i)=>r?setImmediate:i?((u,m)=>(ww.addEventListener("message",({source:v,data:p})=>{v===ww&&p===u&&m.length&&m.shift()()},!1),v=>{m.push(v),ww.postMessage(u,"*")}))(`axios@${Math.random()}`,[]):u=>setTimeout(u))(typeof setImmediate=="function",Vf(ww.postMessage)),Sde=typeof queueMicrotask<"u"?queueMicrotask.bind(ww):typeof process<"u"&&process.nextTick||EG,Ht={isArray:dk,isArrayBuffer:xG,isBuffer:Vue,isFormData:Yue,isArrayBufferView:$ue,isString:Uue,isNumber:wG,isBoolean:Wue,isObject:xM,isPlainObject:I8,isReadableStream:Jue,isRequest:Que,isResponse:ede,isHeaders:tde,isUndefined:QT,isDate:Zue,isFile:jue,isBlob:Kue,isRegExp:gde,isFunction:Vf,isStream:Gue,isURLSearchParams:Xue,isTypedArray:cde,isFileList:que,forEach:cO,merge:KH,extend:ode,trim:nde,stripBOM:rde,inherits:sde,toFlatObject:ade,kindOf:vM,kindOfTest:bh,endsWith:ide,toArray:lde,forEachEntry:ude,matchAll:dde,isHTMLForm:fde,hasOwnProperty:Nj,hasOwnProp:Nj,reduceDescriptors:SG,freezeMethods:hde,toObjectSet:pde,toCamelCase:mde,noop:bde,toFiniteNumber:vde,findKey:CG,global:ww,isContextDefined:_G,ALPHABET:kG,generateString:yde,isSpecCompliantForm:xde,toJSONObject:wde,isAsyncFn:Cde,isThenable:_de,setImmediate:EG,asap:Sde};function Tr(r,i,u,m,v){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",i&&(this.code=i),u&&(this.config=u),m&&(this.request=m),v&&(this.response=v,this.status=v.status?v.status:null)}Ht.inherits(Tr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ht.toJSONObject(this.config),code:this.code,status:this.status}}});const AG=Tr.prototype,TG={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{TG[r]={value:r}});Object.defineProperties(Tr,TG);Object.defineProperty(AG,"isAxiosError",{value:!0});Tr.from=(r,i,u,m,v,p)=>{const x=Object.create(AG);return Ht.toFlatObject(r,x,function(P){return P!==Error.prototype},S=>S!=="isAxiosError"),Tr.call(x,r.message,i,u,m,v),x.cause=r,x.name=r.name,p&&Object.assign(x,p),x};const kde=null;function qH(r){return Ht.isPlainObject(r)||Ht.isArray(r)}function OG(r){return Ht.endsWith(r,"[]")?r.slice(0,-2):r}function Bj(r,i,u){return r?r.concat(i).map(function(v,p){return v=OG(v),!u&&p?"["+v+"]":v}).join(u?".":""):i}function Ede(r){return Ht.isArray(r)&&!r.some(qH)}const Ade=Ht.toFlatObject(Ht,{},null,function(i){return/^is[A-Z]/.test(i)});function wM(r,i,u){if(!Ht.isObject(r))throw new TypeError("target must be an object");i=i||new FormData,u=Ht.toFlatObject(u,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Q,ve){return!Ht.isUndefined(ve[Q])});const m=u.metaTokens,v=u.visitor||D,p=u.dots,x=u.indexes,P=(u.Blob||typeof Blob<"u"&&Blob)&&Ht.isSpecCompliantForm(i);if(!Ht.isFunction(v))throw new TypeError("visitor must be a function");function N(G){if(G===null)return"";if(Ht.isDate(G))return G.toISOString();if(!P&&Ht.isBlob(G))throw new Tr("Blob is not supported. Use a Buffer instead.");return Ht.isArrayBuffer(G)||Ht.isTypedArray(G)?P&&typeof Blob=="function"?new Blob([G]):Buffer.from(G):G}function D(G,Q,ve){let de=G;if(G&&!ve&&typeof G=="object"){if(Ht.endsWith(Q,"{}"))Q=m?Q:Q.slice(0,-2),G=JSON.stringify(G);else if(Ht.isArray(G)&&Ede(G)||(Ht.isFileList(G)||Ht.endsWith(Q,"[]"))&&(de=Ht.toArray(G)))return Q=OG(Q),de.forEach(function(Ie,re){!(Ht.isUndefined(Ie)||Ie===null)&&i.append(x===!0?Bj([Q],re,p):x===null?Q:Q+"[]",N(Ie))}),!1}return qH(G)?!0:(i.append(Bj(ve,Q,p),N(G)),!1)}const z=[],W=Object.assign(Ade,{defaultVisitor:D,convertValue:N,isVisitable:qH});function $(G,Q){if(!Ht.isUndefined(G)){if(z.indexOf(G)!==-1)throw Error("Circular reference detected in "+Q.join("."));z.push(G),Ht.forEach(G,function(de,Pe){(!(Ht.isUndefined(de)||de===null)&&v.call(i,de,Ht.isString(Pe)?Pe.trim():Pe,Q,W))===!0&&$(de,Q?Q.concat(Pe):[Pe])}),z.pop()}}if(!Ht.isObject(r))throw new TypeError("data must be an object");return $(r),i}function Mj(r){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(m){return i[m]})}function WV(r,i){this._pairs=[],r&&wM(r,this,i)}const DG=WV.prototype;DG.append=function(i,u){this._pairs.push([i,u])};DG.toString=function(i){const u=i?function(m){return i.call(this,m,Mj)}:Mj;return this._pairs.map(function(v){return u(v[0])+"="+u(v[1])},"").join("&")};function Tde(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function RG(r,i,u){if(!i)return r;const m=u&&u.encode||Tde,v=u&&u.serialize;let p;if(v?p=v(i,u):p=Ht.isURLSearchParams(i)?i.toString():new WV(i,u).toString(m),p){const x=r.indexOf("#");x!==-1&&(r=r.slice(0,x)),r+=(r.indexOf("?")===-1?"?":"&")+p}return r}class Pj{constructor(){this.handlers=[]}use(i,u,m){return this.handlers.push({fulfilled:i,rejected:u,synchronous:m?m.synchronous:!1,runWhen:m?m.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){Ht.forEach(this.handlers,function(m){m!==null&&i(m)})}}const NG={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ode=typeof URLSearchParams<"u"?URLSearchParams:WV,Dde=typeof FormData<"u"?FormData:null,Rde=typeof Blob<"u"?Blob:null,Nde={isBrowser:!0,classes:{URLSearchParams:Ode,FormData:Dde,Blob:Rde},protocols:["http","https","file","blob","url","data"]},ZV=typeof window<"u"&&typeof document<"u",GH=typeof navigator=="object"&&navigator||void 0,Ide=ZV&&(!GH||["ReactNative","NativeScript","NS"].indexOf(GH.product)<0),Bde=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Mde=ZV&&window.location.href||"http://localhost",Pde=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ZV,hasStandardBrowserEnv:Ide,hasStandardBrowserWebWorkerEnv:Bde,navigator:GH,origin:Mde},Symbol.toStringTag,{value:"Module"})),Bd={...Pde,...Nde};function Lde(r,i){return wM(r,new Bd.classes.URLSearchParams,Object.assign({visitor:function(u,m,v,p){return Bd.isNode&&Ht.isBuffer(u)?(this.append(m,u.toString("base64")),!1):p.defaultVisitor.apply(this,arguments)}},i))}function Fde(r){return Ht.matchAll(/\w+|\[(\w*)]/g,r).map(i=>i[0]==="[]"?"":i[1]||i[0])}function zde(r){const i={},u=Object.keys(r);let m;const v=u.length;let p;for(m=0;m<v;m++)p=u[m],i[p]=r[p];return i}function IG(r){function i(u,m,v,p){let x=u[p++];if(x==="__proto__")return!0;const S=Number.isFinite(+x),P=p>=u.length;return x=!x&&Ht.isArray(v)?v.length:x,P?(Ht.hasOwnProp(v,x)?v[x]=[v[x],m]:v[x]=m,!S):((!v[x]||!Ht.isObject(v[x]))&&(v[x]=[]),i(u,m,v[x],p)&&Ht.isArray(v[x])&&(v[x]=zde(v[x])),!S)}if(Ht.isFormData(r)&&Ht.isFunction(r.entries)){const u={};return Ht.forEachEntry(r,(m,v)=>{i(Fde(m),v,u,0)}),u}return null}function Hde(r,i,u){if(Ht.isString(r))try{return(i||JSON.parse)(r),Ht.trim(r)}catch(m){if(m.name!=="SyntaxError")throw m}return(0,JSON.stringify)(r)}const uO={transitional:NG,adapter:["xhr","http","fetch"],transformRequest:[function(i,u){const m=u.getContentType()||"",v=m.indexOf("application/json")>-1,p=Ht.isObject(i);if(p&&Ht.isHTMLForm(i)&&(i=new FormData(i)),Ht.isFormData(i))return v?JSON.stringify(IG(i)):i;if(Ht.isArrayBuffer(i)||Ht.isBuffer(i)||Ht.isStream(i)||Ht.isFile(i)||Ht.isBlob(i)||Ht.isReadableStream(i))return i;if(Ht.isArrayBufferView(i))return i.buffer;if(Ht.isURLSearchParams(i))return u.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let S;if(p){if(m.indexOf("application/x-www-form-urlencoded")>-1)return Lde(i,this.formSerializer).toString();if((S=Ht.isFileList(i))||m.indexOf("multipart/form-data")>-1){const P=this.env&&this.env.FormData;return wM(S?{"files[]":i}:i,P&&new P,this.formSerializer)}}return p||v?(u.setContentType("application/json",!1),Hde(i)):i}],transformResponse:[function(i){const u=this.transitional||uO.transitional,m=u&&u.forcedJSONParsing,v=this.responseType==="json";if(Ht.isResponse(i)||Ht.isReadableStream(i))return i;if(i&&Ht.isString(i)&&(m&&!this.responseType||v)){const x=!(u&&u.silentJSONParsing)&&v;try{return JSON.parse(i)}catch(S){if(x)throw S.name==="SyntaxError"?Tr.from(S,Tr.ERR_BAD_RESPONSE,this,null,this.response):S}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bd.classes.FormData,Blob:Bd.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ht.forEach(["delete","get","head","post","put","patch"],r=>{uO.headers[r]={}});const Vde=Ht.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$de=r=>{const i={};let u,m,v;return r&&r.split(`
`).forEach(function(x){v=x.indexOf(":"),u=x.substring(0,v).trim().toLowerCase(),m=x.substring(v+1).trim(),!(!u||i[u]&&Vde[u])&&(u==="set-cookie"?i[u]?i[u].push(m):i[u]=[m]:i[u]=i[u]?i[u]+", "+m:m)}),i},Lj=Symbol("internals");function zT(r){return r&&String(r).trim().toLowerCase()}function B8(r){return r===!1||r==null?r:Ht.isArray(r)?r.map(B8):String(r)}function Ude(r){const i=Object.create(null),u=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let m;for(;m=u.exec(r);)i[m[1]]=m[2];return i}const Wde=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function iH(r,i,u,m,v){if(Ht.isFunction(m))return m.call(this,i,u);if(v&&(i=u),!!Ht.isString(i)){if(Ht.isString(m))return i.indexOf(m)!==-1;if(Ht.isRegExp(m))return m.test(i)}}function Zde(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,u,m)=>u.toUpperCase()+m)}function jde(r,i){const u=Ht.toCamelCase(" "+i);["get","set","has"].forEach(m=>{Object.defineProperty(r,m+u,{value:function(v,p,x){return this[m].call(this,i,v,p,x)},configurable:!0})})}class Md{constructor(i){i&&this.set(i)}set(i,u,m){const v=this;function p(S,P,N){const D=zT(P);if(!D)throw new Error("header name must be a non-empty string");const z=Ht.findKey(v,D);(!z||v[z]===void 0||N===!0||N===void 0&&v[z]!==!1)&&(v[z||P]=B8(S))}const x=(S,P)=>Ht.forEach(S,(N,D)=>p(N,D,P));if(Ht.isPlainObject(i)||i instanceof this.constructor)x(i,u);else if(Ht.isString(i)&&(i=i.trim())&&!Wde(i))x($de(i),u);else if(Ht.isHeaders(i))for(const[S,P]of i.entries())p(P,S,m);else i!=null&&p(u,i,m);return this}get(i,u){if(i=zT(i),i){const m=Ht.findKey(this,i);if(m){const v=this[m];if(!u)return v;if(u===!0)return Ude(v);if(Ht.isFunction(u))return u.call(this,v,m);if(Ht.isRegExp(u))return u.exec(v);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,u){if(i=zT(i),i){const m=Ht.findKey(this,i);return!!(m&&this[m]!==void 0&&(!u||iH(this,this[m],m,u)))}return!1}delete(i,u){const m=this;let v=!1;function p(x){if(x=zT(x),x){const S=Ht.findKey(m,x);S&&(!u||iH(m,m[S],S,u))&&(delete m[S],v=!0)}}return Ht.isArray(i)?i.forEach(p):p(i),v}clear(i){const u=Object.keys(this);let m=u.length,v=!1;for(;m--;){const p=u[m];(!i||iH(this,this[p],p,i,!0))&&(delete this[p],v=!0)}return v}normalize(i){const u=this,m={};return Ht.forEach(this,(v,p)=>{const x=Ht.findKey(m,p);if(x){u[x]=B8(v),delete u[p];return}const S=i?Zde(p):String(p).trim();S!==p&&delete u[p],u[S]=B8(v),m[S]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const u=Object.create(null);return Ht.forEach(this,(m,v)=>{m!=null&&m!==!1&&(u[v]=i&&Ht.isArray(m)?m.join(", "):m)}),u}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,u])=>i+": "+u).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...u){const m=new this(i);return u.forEach(v=>m.set(v)),m}static accessor(i){const m=(this[Lj]=this[Lj]={accessors:{}}).accessors,v=this.prototype;function p(x){const S=zT(x);m[S]||(jde(v,x),m[S]=!0)}return Ht.isArray(i)?i.forEach(p):p(i),this}}Md.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ht.reduceDescriptors(Md.prototype,({value:r},i)=>{let u=i[0].toUpperCase()+i.slice(1);return{get:()=>r,set(m){this[u]=m}}});Ht.freezeMethods(Md);function lH(r,i){const u=this||uO,m=i||u,v=Md.from(m.headers);let p=m.data;return Ht.forEach(r,function(S){p=S.call(u,p,v.normalize(),i?i.status:void 0)}),v.normalize(),p}function BG(r){return!!(r&&r.__CANCEL__)}function fk(r,i,u){Tr.call(this,r??"canceled",Tr.ERR_CANCELED,i,u),this.name="CanceledError"}Ht.inherits(fk,Tr,{__CANCEL__:!0});function MG(r,i,u){const m=u.config.validateStatus;!u.status||!m||m(u.status)?r(u):i(new Tr("Request failed with status code "+u.status,[Tr.ERR_BAD_REQUEST,Tr.ERR_BAD_RESPONSE][Math.floor(u.status/100)-4],u.config,u.request,u))}function Kde(r){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return i&&i[1]||""}function qde(r,i){r=r||10;const u=new Array(r),m=new Array(r);let v=0,p=0,x;return i=i!==void 0?i:1e3,function(P){const N=Date.now(),D=m[p];x||(x=N),u[v]=P,m[v]=N;let z=p,W=0;for(;z!==v;)W+=u[z++],z=z%r;if(v=(v+1)%r,v===p&&(p=(p+1)%r),N-x<i)return;const $=D&&N-D;return $?Math.round(W*1e3/$):void 0}}function Gde(r,i){let u=0,m=1e3/i,v,p;const x=(N,D=Date.now())=>{u=D,v=null,p&&(clearTimeout(p),p=null),r.apply(null,N)};return[(...N)=>{const D=Date.now(),z=D-u;z>=m?x(N,D):(v=N,p||(p=setTimeout(()=>{p=null,x(v)},m-z)))},()=>v&&x(v)]}const Y8=(r,i,u=3)=>{let m=0;const v=qde(50,250);return Gde(p=>{const x=p.loaded,S=p.lengthComputable?p.total:void 0,P=x-m,N=v(P),D=x<=S;m=x;const z={loaded:x,total:S,progress:S?x/S:void 0,bytes:P,rate:N||void 0,estimated:N&&S&&D?(S-x)/N:void 0,event:p,lengthComputable:S!=null,[i?"download":"upload"]:!0};r(z)},u)},Fj=(r,i)=>{const u=r!=null;return[m=>i[0]({lengthComputable:u,total:r,loaded:m}),i[1]]},zj=r=>(...i)=>Ht.asap(()=>r(...i)),Yde=Bd.hasStandardBrowserEnv?function(){const i=Bd.navigator&&/(msie|trident)/i.test(Bd.navigator.userAgent),u=document.createElement("a");let m;function v(p){let x=p;return i&&(u.setAttribute("href",x),x=u.href),u.setAttribute("href",x),{href:u.href,protocol:u.protocol?u.protocol.replace(/:$/,""):"",host:u.host,search:u.search?u.search.replace(/^\?/,""):"",hash:u.hash?u.hash.replace(/^#/,""):"",hostname:u.hostname,port:u.port,pathname:u.pathname.charAt(0)==="/"?u.pathname:"/"+u.pathname}}return m=v(window.location.href),function(x){const S=Ht.isString(x)?v(x):x;return S.protocol===m.protocol&&S.host===m.host}}():function(){return function(){return!0}}(),Xde=Bd.hasStandardBrowserEnv?{write(r,i,u,m,v,p){const x=[r+"="+encodeURIComponent(i)];Ht.isNumber(u)&&x.push("expires="+new Date(u).toGMTString()),Ht.isString(m)&&x.push("path="+m),Ht.isString(v)&&x.push("domain="+v),p===!0&&x.push("secure"),document.cookie=x.join("; ")},read(r){const i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Jde(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function Qde(r,i){return i?r.replace(/\/?\/$/,"")+"/"+i.replace(/^\/+/,""):r}function PG(r,i){return r&&!Jde(i)?Qde(r,i):i}const Hj=r=>r instanceof Md?{...r}:r;function Nw(r,i){i=i||{};const u={};function m(N,D,z){return Ht.isPlainObject(N)&&Ht.isPlainObject(D)?Ht.merge.call({caseless:z},N,D):Ht.isPlainObject(D)?Ht.merge({},D):Ht.isArray(D)?D.slice():D}function v(N,D,z){if(Ht.isUndefined(D)){if(!Ht.isUndefined(N))return m(void 0,N,z)}else return m(N,D,z)}function p(N,D){if(!Ht.isUndefined(D))return m(void 0,D)}function x(N,D){if(Ht.isUndefined(D)){if(!Ht.isUndefined(N))return m(void 0,N)}else return m(void 0,D)}function S(N,D,z){if(z in i)return m(N,D);if(z in r)return m(void 0,N)}const P={url:p,method:p,data:p,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,withXSRFToken:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:S,headers:(N,D)=>v(Hj(N),Hj(D),!0)};return Ht.forEach(Object.keys(Object.assign({},r,i)),function(D){const z=P[D]||v,W=z(r[D],i[D],D);Ht.isUndefined(W)&&z!==S||(u[D]=W)}),u}const LG=r=>{const i=Nw({},r);let{data:u,withXSRFToken:m,xsrfHeaderName:v,xsrfCookieName:p,headers:x,auth:S}=i;i.headers=x=Md.from(x),i.url=RG(PG(i.baseURL,i.url),r.params,r.paramsSerializer),S&&x.set("Authorization","Basic "+btoa((S.username||"")+":"+(S.password?unescape(encodeURIComponent(S.password)):"")));let P;if(Ht.isFormData(u)){if(Bd.hasStandardBrowserEnv||Bd.hasStandardBrowserWebWorkerEnv)x.setContentType(void 0);else if((P=x.getContentType())!==!1){const[N,...D]=P?P.split(";").map(z=>z.trim()).filter(Boolean):[];x.setContentType([N||"multipart/form-data",...D].join("; "))}}if(Bd.hasStandardBrowserEnv&&(m&&Ht.isFunction(m)&&(m=m(i)),m||m!==!1&&Yde(i.url))){const N=v&&p&&Xde.read(p);N&&x.set(v,N)}return i},efe=typeof XMLHttpRequest<"u",tfe=efe&&function(r){return new Promise(function(u,m){const v=LG(r);let p=v.data;const x=Md.from(v.headers).normalize();let{responseType:S,onUploadProgress:P,onDownloadProgress:N}=v,D,z,W,$,G;function Q(){$&&$(),G&&G(),v.cancelToken&&v.cancelToken.unsubscribe(D),v.signal&&v.signal.removeEventListener("abort",D)}let ve=new XMLHttpRequest;ve.open(v.method.toUpperCase(),v.url,!0),ve.timeout=v.timeout;function de(){if(!ve)return;const Ie=Md.from("getAllResponseHeaders"in ve&&ve.getAllResponseHeaders()),Oe={data:!S||S==="text"||S==="json"?ve.responseText:ve.response,status:ve.status,statusText:ve.statusText,headers:Ie,config:r,request:ve};MG(function(Ge){u(Ge),Q()},function(Ge){m(Ge),Q()},Oe),ve=null}"onloadend"in ve?ve.onloadend=de:ve.onreadystatechange=function(){!ve||ve.readyState!==4||ve.status===0&&!(ve.responseURL&&ve.responseURL.indexOf("file:")===0)||setTimeout(de)},ve.onabort=function(){ve&&(m(new Tr("Request aborted",Tr.ECONNABORTED,r,ve)),ve=null)},ve.onerror=function(){m(new Tr("Network Error",Tr.ERR_NETWORK,r,ve)),ve=null},ve.ontimeout=function(){let re=v.timeout?"timeout of "+v.timeout+"ms exceeded":"timeout exceeded";const Oe=v.transitional||NG;v.timeoutErrorMessage&&(re=v.timeoutErrorMessage),m(new Tr(re,Oe.clarifyTimeoutError?Tr.ETIMEDOUT:Tr.ECONNABORTED,r,ve)),ve=null},p===void 0&&x.setContentType(null),"setRequestHeader"in ve&&Ht.forEach(x.toJSON(),function(re,Oe){ve.setRequestHeader(Oe,re)}),Ht.isUndefined(v.withCredentials)||(ve.withCredentials=!!v.withCredentials),S&&S!=="json"&&(ve.responseType=v.responseType),N&&([W,G]=Y8(N,!0),ve.addEventListener("progress",W)),P&&ve.upload&&([z,$]=Y8(P),ve.upload.addEventListener("progress",z),ve.upload.addEventListener("loadend",$)),(v.cancelToken||v.signal)&&(D=Ie=>{ve&&(m(!Ie||Ie.type?new fk(null,r,ve):Ie),ve.abort(),ve=null)},v.cancelToken&&v.cancelToken.subscribe(D),v.signal&&(v.signal.aborted?D():v.signal.addEventListener("abort",D)));const Pe=Kde(v.url);if(Pe&&Bd.protocols.indexOf(Pe)===-1){m(new Tr("Unsupported protocol "+Pe+":",Tr.ERR_BAD_REQUEST,r));return}ve.send(p||null)})},nfe=(r,i)=>{const{length:u}=r=r?r.filter(Boolean):[];if(i||u){let m=new AbortController,v;const p=function(N){if(!v){v=!0,S();const D=N instanceof Error?N:this.reason;m.abort(D instanceof Tr?D:new fk(D instanceof Error?D.message:D))}};let x=i&&setTimeout(()=>{x=null,p(new Tr(`timeout ${i} of ms exceeded`,Tr.ETIMEDOUT))},i);const S=()=>{r&&(x&&clearTimeout(x),x=null,r.forEach(N=>{N.unsubscribe?N.unsubscribe(p):N.removeEventListener("abort",p)}),r=null)};r.forEach(N=>N.addEventListener("abort",p));const{signal:P}=m;return P.unsubscribe=()=>Ht.asap(S),P}},ofe=function*(r,i){let u=r.byteLength;if(u<i){yield r;return}let m=0,v;for(;m<u;)v=m+i,yield r.slice(m,v),m=v},rfe=async function*(r,i){for await(const u of sfe(r))yield*ofe(u,i)},sfe=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const i=r.getReader();try{for(;;){const{done:u,value:m}=await i.read();if(u)break;yield m}}finally{await i.cancel()}},Vj=(r,i,u,m)=>{const v=rfe(r,i);let p=0,x,S=P=>{x||(x=!0,m&&m(P))};return new ReadableStream({async pull(P){try{const{done:N,value:D}=await v.next();if(N){S(),P.close();return}let z=D.byteLength;if(u){let W=p+=z;u(W)}P.enqueue(new Uint8Array(D))}catch(N){throw S(N),N}},cancel(P){return S(P),v.return()}},{highWaterMark:2})},CM=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",FG=CM&&typeof ReadableStream=="function",afe=CM&&(typeof TextEncoder=="function"?(r=>i=>r.encode(i))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),zG=(r,...i)=>{try{return!!r(...i)}catch{return!1}},ife=FG&&zG(()=>{let r=!1;const i=new Request(Bd.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!i}),$j=64*1024,YH=FG&&zG(()=>Ht.isReadableStream(new Response("").body)),X8={stream:YH&&(r=>r.body)};CM&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(i=>{!X8[i]&&(X8[i]=Ht.isFunction(r[i])?u=>u[i]():(u,m)=>{throw new Tr(`Response type '${i}' is not supported`,Tr.ERR_NOT_SUPPORT,m)})})})(new Response);const lfe=async r=>{if(r==null)return 0;if(Ht.isBlob(r))return r.size;if(Ht.isSpecCompliantForm(r))return(await new Request(Bd.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(Ht.isArrayBufferView(r)||Ht.isArrayBuffer(r))return r.byteLength;if(Ht.isURLSearchParams(r)&&(r=r+""),Ht.isString(r))return(await afe(r)).byteLength},cfe=async(r,i)=>{const u=Ht.toFiniteNumber(r.getContentLength());return u??lfe(i)},ufe=CM&&(async r=>{let{url:i,method:u,data:m,signal:v,cancelToken:p,timeout:x,onDownloadProgress:S,onUploadProgress:P,responseType:N,headers:D,withCredentials:z="same-origin",fetchOptions:W}=LG(r);N=N?(N+"").toLowerCase():"text";let $=nfe([v,p&&p.toAbortSignal()],x),G;const Q=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let ve;try{if(P&&ife&&u!=="get"&&u!=="head"&&(ve=await cfe(D,m))!==0){let Oe=new Request(i,{method:"POST",body:m,duplex:"half"}),oe;if(Ht.isFormData(m)&&(oe=Oe.headers.get("content-type"))&&D.setContentType(oe),Oe.body){const[Ge,$e]=Fj(ve,Y8(zj(P)));m=Vj(Oe.body,$j,Ge,$e)}}Ht.isString(z)||(z=z?"include":"omit");const de="credentials"in Request.prototype;G=new Request(i,{...W,signal:$,method:u.toUpperCase(),headers:D.normalize().toJSON(),body:m,duplex:"half",credentials:de?z:void 0});let Pe=await fetch(G);const Ie=YH&&(N==="stream"||N==="response");if(YH&&(S||Ie&&Q)){const Oe={};["status","statusText","headers"].forEach(Ze=>{Oe[Ze]=Pe[Ze]});const oe=Ht.toFiniteNumber(Pe.headers.get("content-length")),[Ge,$e]=S&&Fj(oe,Y8(zj(S),!0))||[];Pe=new Response(Vj(Pe.body,$j,Ge,()=>{$e&&$e(),Q&&Q()}),Oe)}N=N||"text";let re=await X8[Ht.findKey(X8,N)||"text"](Pe,r);return!Ie&&Q&&Q(),await new Promise((Oe,oe)=>{MG(Oe,oe,{data:re,headers:Md.from(Pe.headers),status:Pe.status,statusText:Pe.statusText,config:r,request:G})})}catch(de){throw Q&&Q(),de&&de.name==="TypeError"&&/fetch/i.test(de.message)?Object.assign(new Tr("Network Error",Tr.ERR_NETWORK,r,G),{cause:de.cause||de}):Tr.from(de,de&&de.code,r,G)}}),XH={http:kde,xhr:tfe,fetch:ufe};Ht.forEach(XH,(r,i)=>{if(r){try{Object.defineProperty(r,"name",{value:i})}catch{}Object.defineProperty(r,"adapterName",{value:i})}});const Uj=r=>`- ${r}`,dfe=r=>Ht.isFunction(r)||r===null||r===!1,HG={getAdapter:r=>{r=Ht.isArray(r)?r:[r];const{length:i}=r;let u,m;const v={};for(let p=0;p<i;p++){u=r[p];let x;if(m=u,!dfe(u)&&(m=XH[(x=String(u)).toLowerCase()],m===void 0))throw new Tr(`Unknown adapter '${x}'`);if(m)break;v[x||"#"+p]=m}if(!m){const p=Object.entries(v).map(([S,P])=>`adapter ${S} `+(P===!1?"is not supported by the environment":"is not available in the build"));let x=i?p.length>1?`since :
`+p.map(Uj).join(`
`):" "+Uj(p[0]):"as no adapter specified";throw new Tr("There is no suitable adapter to dispatch the request "+x,"ERR_NOT_SUPPORT")}return m},adapters:XH};function cH(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new fk(null,r)}function Wj(r){return cH(r),r.headers=Md.from(r.headers),r.data=lH.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),HG.getAdapter(r.adapter||uO.adapter)(r).then(function(m){return cH(r),m.data=lH.call(r,r.transformResponse,m),m.headers=Md.from(m.headers),m},function(m){return BG(m)||(cH(r),m&&m.response&&(m.response.data=lH.call(r,r.transformResponse,m.response),m.response.headers=Md.from(m.response.headers))),Promise.reject(m)})}const VG="1.7.7",jV={};["object","boolean","number","function","string","symbol"].forEach((r,i)=>{jV[r]=function(m){return typeof m===r||"a"+(i<1?"n ":" ")+r}});const Zj={};jV.transitional=function(i,u,m){function v(p,x){return"[Axios v"+VG+"] Transitional option '"+p+"'"+x+(m?". "+m:"")}return(p,x,S)=>{if(i===!1)throw new Tr(v(x," has been removed"+(u?" in "+u:"")),Tr.ERR_DEPRECATED);return u&&!Zj[x]&&(Zj[x]=!0,console.warn(v(x," has been deprecated since v"+u+" and will be removed in the near future"))),i?i(p,x,S):!0}};function ffe(r,i,u){if(typeof r!="object")throw new Tr("options must be an object",Tr.ERR_BAD_OPTION_VALUE);const m=Object.keys(r);let v=m.length;for(;v-- >0;){const p=m[v],x=i[p];if(x){const S=r[p],P=S===void 0||x(S,p,r);if(P!==!0)throw new Tr("option "+p+" must be "+P,Tr.ERR_BAD_OPTION_VALUE);continue}if(u!==!0)throw new Tr("Unknown option "+p,Tr.ERR_BAD_OPTION)}}const JH={assertOptions:ffe,validators:jV},Kv=JH.validators;class Ow{constructor(i){this.defaults=i,this.interceptors={request:new Pj,response:new Pj}}async request(i,u){try{return await this._request(i,u)}catch(m){if(m instanceof Error){let v;Error.captureStackTrace?Error.captureStackTrace(v={}):v=new Error;const p=v.stack?v.stack.replace(/^.+\n/,""):"";try{m.stack?p&&!String(m.stack).endsWith(p.replace(/^.+\n.+\n/,""))&&(m.stack+=`
`+p):m.stack=p}catch{}}throw m}}_request(i,u){typeof i=="string"?(u=u||{},u.url=i):u=i||{},u=Nw(this.defaults,u);const{transitional:m,paramsSerializer:v,headers:p}=u;m!==void 0&&JH.assertOptions(m,{silentJSONParsing:Kv.transitional(Kv.boolean),forcedJSONParsing:Kv.transitional(Kv.boolean),clarifyTimeoutError:Kv.transitional(Kv.boolean)},!1),v!=null&&(Ht.isFunction(v)?u.paramsSerializer={serialize:v}:JH.assertOptions(v,{encode:Kv.function,serialize:Kv.function},!0)),u.method=(u.method||this.defaults.method||"get").toLowerCase();let x=p&&Ht.merge(p.common,p[u.method]);p&&Ht.forEach(["delete","get","head","post","put","patch","common"],G=>{delete p[G]}),u.headers=Md.concat(x,p);const S=[];let P=!0;this.interceptors.request.forEach(function(Q){typeof Q.runWhen=="function"&&Q.runWhen(u)===!1||(P=P&&Q.synchronous,S.unshift(Q.fulfilled,Q.rejected))});const N=[];this.interceptors.response.forEach(function(Q){N.push(Q.fulfilled,Q.rejected)});let D,z=0,W;if(!P){const G=[Wj.bind(this),void 0];for(G.unshift.apply(G,S),G.push.apply(G,N),W=G.length,D=Promise.resolve(u);z<W;)D=D.then(G[z++],G[z++]);return D}W=S.length;let $=u;for(z=0;z<W;){const G=S[z++],Q=S[z++];try{$=G($)}catch(ve){Q.call(this,ve);break}}try{D=Wj.call(this,$)}catch(G){return Promise.reject(G)}for(z=0,W=N.length;z<W;)D=D.then(N[z++],N[z++]);return D}getUri(i){i=Nw(this.defaults,i);const u=PG(i.baseURL,i.url);return RG(u,i.params,i.paramsSerializer)}}Ht.forEach(["delete","get","head","options"],function(i){Ow.prototype[i]=function(u,m){return this.request(Nw(m||{},{method:i,url:u,data:(m||{}).data}))}});Ht.forEach(["post","put","patch"],function(i){function u(m){return function(p,x,S){return this.request(Nw(S||{},{method:i,headers:m?{"Content-Type":"multipart/form-data"}:{},url:p,data:x}))}}Ow.prototype[i]=u(),Ow.prototype[i+"Form"]=u(!0)});class KV{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let u;this.promise=new Promise(function(p){u=p});const m=this;this.promise.then(v=>{if(!m._listeners)return;let p=m._listeners.length;for(;p-- >0;)m._listeners[p](v);m._listeners=null}),this.promise.then=v=>{let p;const x=new Promise(S=>{m.subscribe(S),p=S}).then(v);return x.cancel=function(){m.unsubscribe(p)},x},i(function(p,x,S){m.reason||(m.reason=new fk(p,x,S),u(m.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const u=this._listeners.indexOf(i);u!==-1&&this._listeners.splice(u,1)}toAbortSignal(){const i=new AbortController,u=m=>{i.abort(m)};return this.subscribe(u),i.signal.unsubscribe=()=>this.unsubscribe(u),i.signal}static source(){let i;return{token:new KV(function(v){i=v}),cancel:i}}}function mfe(r){return function(u){return r.apply(null,u)}}function gfe(r){return Ht.isObject(r)&&r.isAxiosError===!0}const QH={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(QH).forEach(([r,i])=>{QH[i]=r});function $G(r){const i=new Ow(r),u=yG(Ow.prototype.request,i);return Ht.extend(u,Ow.prototype,i,{allOwnKeys:!0}),Ht.extend(u,i,null,{allOwnKeys:!0}),u.create=function(v){return $G(Nw(r,v))},u}const Na=$G(uO);Na.Axios=Ow;Na.CanceledError=fk;Na.CancelToken=KV;Na.isCancel=BG;Na.VERSION=VG;Na.toFormData=wM;Na.AxiosError=Tr;Na.Cancel=Na.CanceledError;Na.all=function(i){return Promise.all(i)};Na.spread=mfe;Na.isAxiosError=gfe;Na.mergeConfig=Nw;Na.AxiosHeaders=Md;Na.formToJSON=r=>IG(Ht.isHTMLForm(r)?new FormData(r):r);Na.getAdapter=HG.getAdapter;Na.HttpStatusCode=QH;Na.default=Na;/*! js-cookie v3.0.5 | MIT */function w8(r){for(var i=1;i<arguments.length;i++){var u=arguments[i];for(var m in u)r[m]=u[m]}return r}var hfe={read:function(r){return r[0]==='"'&&(r=r.slice(1,-1)),r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(r){return encodeURIComponent(r).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function eV(r,i){function u(v,p,x){if(!(typeof document>"u")){x=w8({},i,x),typeof x.expires=="number"&&(x.expires=new Date(Date.now()+x.expires*864e5)),x.expires&&(x.expires=x.expires.toUTCString()),v=encodeURIComponent(v).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var S="";for(var P in x)x[P]&&(S+="; "+P,x[P]!==!0&&(S+="="+x[P].split(";")[0]));return document.cookie=v+"="+r.write(p,v)+S}}function m(v){if(!(typeof document>"u"||arguments.length&&!v)){for(var p=document.cookie?document.cookie.split("; "):[],x={},S=0;S<p.length;S++){var P=p[S].split("="),N=P.slice(1).join("=");try{var D=decodeURIComponent(P[0]);if(x[D]=r.read(N,D),v===D)break}catch{}}return v?x[v]:x}}return Object.create({set:u,get:m,remove:function(v,p){u(v,"",w8({},p,{expires:-1}))},withAttributes:function(v){return eV(this.converter,w8({},this.attributes,v))},withConverter:function(v){return eV(w8({},this.converter,v),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(r)}})}var Ki=eV(hfe,{path:"/"});const pfe=".mce-content-body,.long-essay-content{font-family:serif;font-size:1em;max-width:60em;line-height:150%}.mce-content-body h1,.long-essay-content h1,.mce-content-body h2,.long-essay-content h2,.mce-content-body h3,.long-essay-content h3,.mce-content-body h4,.long-essay-content h4,.mce-content-body h5,.long-essay-content h5,.mce-content-body h6,.long-essay-content h6{font-size:1em;font-weight:700;padding:0;margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body ol,.long-essay-content ol,.mce-content-body ul,.long-essay-content ul{margin-left:10px;margin-bottom:20px}.mce-content-body li,.long-essay-content li{margin-left:20px;margin-bottom:5px;min-height:1.5em}.mce-content-body p,.long-essay-content p,.mce-content-body pre,.long-essay-content pre{margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body,.long-essay-content,.tox-menu{counter-reset:h1 h2 h3 h4 h5 h6}.mce-content-body h1,.long-essay-content h1,.tox-menu h1{counter-increment:h1;counter-reset:h2 h3 h4 h5 h6}.mce-content-body h2,.long-essay-content h2,.tox-menu h2{counter-increment:h2;counter-reset:h3 h4 h5 h6}.mce-content-body h3,.long-essay-content h3,.tox-menu h3{counter-increment:h3;counter-reset:h4 h5 h6}.mce-content-body h4,.long-essay-content h4,.tox-menu h4{counter-increment:h4;counter-reset:h5 h6}.mce-content-body h5,.long-essay-content h5,.tox-menu h5{counter-increment:h5;counter-reset:h6}.mce-content-body h6,.long-essay-content h6,.tox-menu h6{counter-increment:h6}.tox-menu p,.tox-menu h1,.tox-menu h2,.tox-menu h3,.tox-menu h4,.tox-menu h5,.tox-menu h6,.tox-menu pre,.tox-menu li{font-size:1rem!important}",bfe="",vfe=".headlines-three h1{font-size:1.3em!important}.headlines-three h2{font-size:1.15em!important}.headlines-three h3{font-size:1em!important}",yfe='.mce-content-body h1:before,.headlines-numeric h1:before{content:counter(h1,decimal) " "}.mce-content-body h2:before,.headlines-numeric h2:before{content:counter(h1,decimal) "." counter(h2,decimal) " "}.mce-content-body h3:before,.headlines-numeric h3:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) " "}.mce-content-body h4:before,.headlines-numeric h4:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) "." counter(h4,decimal) " "}.mce-content-body h5:before,.headlines-numeric h5:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) "." counter(h4,decimal) "." counter(h5,decimal) " "}.mce-content-body h6:before,.headlines-numeric h6:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) "." counter(h4,decimal) "." counter(h5,decimal) "." counter(h6,decimal) " "}',xfe='.mce-content-body h1:before,.headlines-edutiek h1:before{content:counter(h1,upper-latin) ". "}.mce-content-body h2:before,.headlines-edutiek h2:before{content:counter(h2,upper-roman) ". "}.mce-content-body h3:before,.headlines-edutiek h3:before{content:counter(h3,decimal) ". "}.mce-content-body h4:before,.headlines-edutiek h4:before{content:counter(h4,lower-latin) ". "}.mce-content-body h5:before,.headlines-edutiek h5:before{content:counter(h5,lower-latin) counter(h5,lower-latin) ". "}.mce-content-body h6:before,.headlines-edutiek h6:before{content:"(" counter(h6,decimal) ") "}',uH=Vp.createInstance({storeName:"writer-settings",description:"Settings data"}),Pp=ug("settings",{state:()=>({headline_scheme:null,formatting_options:null,notice_boards:0,copy_allowed:!1,primary_color:null,primary_text_color:null,allow_spellcheck:!1}),getters:{hasNotes:r=>r.notice_boards>0,primaryColorCss:r=>r.primary_color?"#"+r.primary_color:"",primaryTextColorCss:r=>r.primary_text_color?"#"+r.primary_text_color:"",primaryTextColorFullCss:r=>r.primary_text_color?"color: #"+r.primary_text_color+";":"",tinyToolbar:r=>{switch(r.formatting_options){case"full":return"undo redo styles bold italic underline bullist numlist removeformat charmap wordcount";case"medium":return"undo redo bold italic underline bullist numlistremoveformat charmap wordcount";case"minimal":return"undo redo bold italic underline removeformat charmap wordcount";case"none":default:return"undo redo charmap wordcount"}},tinyValidElements:r=>{switch(r.formatting_options){case"full":return"p/div,br,strong/b,em/i,u,ol,ul,li,h1,h2,h3,h4,h5,h6,pre";case"medium":return"p/div,br,strong/b,em/i,u,ol,ul,li";case"minimal":return"p/div,p/li,br,strong/b,em/i,u";case"none":default:return"p/div,p/li,br"}},tinyH1Size:r=>r.headline_scheme=="three"?1.3:1,tinyH2Size:r=>r.headline_scheme=="three"?1.15:1,tinyStyles:r=>{switch(r.headline_scheme){case"single":return[{title:"Absatz",format:"p"},{title:"berschrift",format:"h1"},{title:"Maschinenschrift",format:"pre"},{title:"Listenelement",block:"li"}];case"three":return[{title:"Absatz",format:"p"},{title:"berschrift 1",format:"h1"},{title:"berschrift 2",format:"h2"},{title:"berschrift 3",format:"h3"},{title:"Maschinenschrift",format:"pre"},{title:"Listenelement",block:"li"}];default:return[{title:"Absatz",format:"p"},{title:"berschrift 1",format:"h1"},{title:"berschrift 2",format:"h2"},{title:"berschrift 3",format:"h3"},{title:"berschrift 4",format:"h4"},{title:"berschrift 5",format:"h5"},{title:"berschrift 6",format:"h6"},{title:"Maschinenschrift",format:"pre"},{title:"Listenelement",block:"li"}]}},tinyFormats:r=>({underline:{inline:"u",remove:"all"}}),tinyContentStyle:r=>{const i=pfe.toString();switch(r.headline_scheme){case"single":return i+`
`+bfe.toString();case"three":return i+`
`+vfe.toString();case"numeric":return i+`
`+yfe.toString();case"edutiek":return i+`
`+xfe.toString();default:return i}},contentClass:r=>{switch(r.headline_scheme){case"single":return"headlines-single";case"three":return"headlines-three";case"numeric":return"headlines-numeric";case"edutiek":return"headlines-edutiek";default:return""}}},actions:{setData(r){this.headline_scheme=r.headline_scheme,this.formatting_options=r.formatting_options,this.notice_boards=r.notice_boards,this.copy_allowed=r.copy_allowed,this.primary_color=r.primary_color,this.primary_text_color=r.primary_text_color,this.allow_spellcheck=r.allow_spellcheck},async clearStorage(){try{await uH.clear()}catch(r){console.log(r)}},async loadFromStorage(){try{const r=await uH.getItem("settings");this.setData(r)}catch(r){console.log(r)}},async loadFromData(r){try{await uH.setItem("settings",r),this.setData(r)}catch(i){console.log(i)}}}}),Xl=class Xl{constructor(i={}){Wr(this,"action",null);Wr(this,"type",null);Wr(this,"key","");Wr(this,"last_change",0);Wr(this,"payload",null);this.setData(i),this.last_change==0&&(this.last_change=Date.now())}setData(i){i.action!==void 0&&Xl.ALLOWED_ACTIONS.includes(i.action)&&(this.action=i.action.toString()),i.type!==void 0&&Xl.ALLOWED_TYPES.includes(i.type)&&(this.type=i.type.toString()),i.key!==void 0&&i.key!==null&&(this.key=i.key.toString()),i.last_change!==void 0&&i.last_change!==null&&(this.last_change=parseInt(i.last_change)),i.payload!==void 0&&i.payload!==null&&(this.payload=i.payload)}getData(){return{action:this.action,type:this.type,key:this.key,last_change:this.last_change,payload:this.payload}}isValid(){return Xl.ALLOWED_TYPES.includes(this.type)&&Xl.ALLOWED_ACTIONS.includes(this.action)&&this.key!=""}};Wr(Xl,"ACTION_SAVE","save"),Wr(Xl,"ACTION_DELETE","delete"),Wr(Xl,"ALLOWED_ACTIONS",[Xl.ACTION_SAVE,Xl.ACTION_DELETE]),Wr(Xl,"TYPE_ANNOTATIONS","annotations"),Wr(Xl,"TYPE_NOTES","notes"),Wr(Xl,"TYPE_PREFERENCES","preferences"),Wr(Xl,"ALLOWED_TYPES",[Xl.TYPE_ANNOTATIONS,Xl.TYPE_NOTES,Xl.TYPE_PREFERENCES]);let xa=Xl;const C8=Vp.createInstance({storeName:"writer-changes",description:"Writer changes data"});function jj(){const r={changes:{}};for(const i of xa.ALLOWED_TYPES)r.changes[i]={};return r}const Nd=ug("changes",{state:()=>jj(),getters:{countChanges:r=>{let i=0;for(const u in r.changes)i+=Object.keys(r.changes[u]).length;return i},getCountOfChangesFor:r=>function(u){return xa.ALLOWED_TYPES.includes(u)?Object.keys(r.changes[u]).length:(console.log("wrong type"+u),0)},getChangesFor:r=>function(u,m=0){if(!xa.ALLOWED_TYPES.includes(u))return[];const v=[];for(const p in r.changes[u]){const x=r.changes[u][p];(m==0||x.last_change<=m)&&v.push(x)}return v}},actions:{async clearStorage(){try{await C8.clear()}catch(r){console.log(r)}this.$reset()},async loadFromStorage(){const r=jj();try{for(const i in r.changes){const u=await C8.getItem(i);if(u){const m=JSON.parse(u);if(typeof m=="object"&&m!==null)for(const v in m)r.changes[i][v]=new xa(m[v])}}}catch(i){console.log(i)}this.$patch(r)},async saveChangesOfTypeToStorage(r){const i={};for(const u in this.changes[r]){const m=this.changes[r][u];i[u]=m.getData()}await C8.setItem(r,JSON.stringify(i))},async hasChangesInStorage(){for(const r in this.changes){const i=await C8.getItem(r);if(i){const u=JSON.parse(i);if(Object.keys(u).length>0)return!0}}return!1},async setChange(r){r.isValid()&&(this.changes[r.type][r.key]=r,await this.saveChangesOfTypeToStorage(r.type))},async unsetChange(r){r.isValid()&&(delete this.changes[r.type][r.key],await this.saveChangesOfTypeToStorage(r.type))},async setChangesSent(r,i,u){const m=this.changes[r];let v=!1;for(const p in i){const x=i[p],S=m[p];S&&(S.last_change<=u?(delete m[p],v=!0):(x==null||x!=p)&&(S.key=x,m[x]=S,delete m[p],v=!0))}v&&await this.saveChangesOfTypeToStorage(r)}}}),dH=Vp.createInstance({storeName:"writer-preferences",description:"Preferences data"}),ry=ug("preferences",{state:()=>({instructions_zoom:1,editor_zoom:1,word_count_enabled:!1,word_count_characters:!1}),getters:{allData:r=>({instructions_zoom:r.instructions_zoom,editor_zoom:r.editor_zoom,word_count_enabled:r.word_count_enabled,word_count_characters:r.word_count_characters})},actions:{async clearStorage(){try{await dH.clear()}catch(r){console.log(r)}this.$reset()},async loadFromStorage(){try{const r=await dH.getItem("preferences");r&&this.$patch(r)}catch(r){console.log(r)}},async saveToStorage(){try{await dH.setItem("preferences",this.allData)}catch(r){console.log(r)}},loadFromData(r){try{this.$patch(r),this.sent=!0,this.saveToStorage()}catch(i){console.log(i)}},async update(){const r=Nd();Ac(),await this.saveToStorage(),await r.setChange(new xa({type:xa.TYPE_PREFERENCES,action:xa.ACTION_SAVE,key:"preferences"}))},async getChangedData(r=0){const i=Ac(),u=Nd(),m=[];for(const v of u.getChangesFor(xa.TYPE_PREFERENCES,r))m.push(i.getChangeDataToSend(v,this.allData));return m},zoomInstructionsIn(){this.instructions_zoom=this.instructions_zoom*1.1,this.update()},zoomInstructionsOut(){this.instructions_zoom=this.instructions_zoom*.9,this.update()},zoomEditorIn(){this.editor_zoom=this.editor_zoom*1.1,this.update()},zoomEditorOut(){this.editor_zoom=this.editor_zoom*.9,this.update()},toggleWordCountEnabled(){this.word_count_enabled=!this.word_count_enabled,this.update()},toggleWordCountCharacters(){this.word_count_characters=!this.word_count_characters,this.update()}}}),gi=class gi{constructor(i={}){Wr(this,"key","");Wr(this,"title","");Wr(this,"type",null);Wr(this,"embedded",!0);Wr(this,"source","");Wr(this,"url","");Wr(this,"mimetype","");Wr(this,"size",null);this.setData(i)}setData(i){i.key!==void 0&&i.key!==null&&(this.key=i.key.toString()),i.title!==void 0&&i.title!==null&&(this.title=i.title.toString()),i.type!==void 0&&gi.ALLOWED_TYPES.includes(i.type)&&(this.type=i.type.toString()),i.embedded!==void 0&&i.embedded!==null&&(this.embedded=!!i.embedded),i.source!==void 0&&i.source!==null&&(this.source=i.source.toString(),this.type==gi.TYPE_URL&&(this.url=this.source)),i.url!==void 0&&i.url!==null&&(this.url=i.url.toString()),i.mimetype!==void 0&&i.mimetype!==null&&(this.mimetype=i.mimetype),i.size!==void 0&&i.size!==null&&(this.size=parseInt(i.size))}getData(){return{key:this.key,title:this.title,type:this.type,embedded:this.embedded,url:this.url,mimetype:this.mimetype,size:this.size}}isPdf(){return[gi.TYPE_FILE,gi.TYPE_SOLUTION,gi.TYPE_INSTRUCTION].includes(this.type)}isExternalUrl(){return this.type==gi.TYPE_URL&&!this.embedded}isEmbeddedUrl(){return this.type==gi.TYPE_URL&&this.embedded}isEmbeddedSelectable(){return this.type==gi.TYPE_FILE||this.type==gi.TYPE_URL&&this.embedded}hasFileToLoad(){return[gi.TYPE_FILE,gi.TYPE_SOLUTION,gi.TYPE_INSTRUCTION].includes(this.type)}getKey(){return this.key}getSignature(){return JSON.stringify(this.getData())}getClone(){return new gi(this.getData())}};Wr(gi,"TYPE_FILE","file"),Wr(gi,"TYPE_URL","url"),Wr(gi,"TYPE_INSTRUCTION","instruct"),Wr(gi,"TYPE_SOLUTION","solution"),Wr(gi,"ALLOWED_TYPES",[gi.TYPE_FILE,gi.TYPE_URL,gi.TYPE_INSTRUCTION,gi.TYPE_SOLUTION]);let Rd=gi;const B0=Vp.createInstance({storeName:"writer-resources",description:"Resource data"}),ag=ug("resources",{state:()=>({keys:[],resources:[],activeKey:""}),getters:{hasResources:r=>r.resources.length>0,hasInstruction(r){return!!r.resources.find(u=>u.type==Rd.TYPE_INSTRUCTION)},getInstruction(r){return r.resources.find(i=>i.type==Rd.TYPE_INSTRUCTION)},hasEmbeddedFileOrUrlResources(r){return!!r.resources.find(u=>(u.type==Rd.TYPE_FILE||u.type==Rd.TYPE_URL)&&u.embedded==!0)},getFileOrUrlResources(r){return r.resources.filter(i=>i.type==Rd.TYPE_FILE||i.type==Rd.TYPE_URL)},activeTitle(r){const i=r.resources.find(u=>u.key==r.activeKey);return i?i.title:""},getResource(r){return i=>r.resources.find(u=>u.key==i)},isActive(r){return i=>r.activeKey==i.key}},actions:{async clearStorage(){try{await B0.clear()}catch(r){console.log(r)}},async loadFromStorage(){try{const r=await B0.getItem("resourceKeys");r&&(this.keys=JSON.parse(r)),this.activeKey=await B0.getItem("activeKey")??[],this.resources=[];for(const i of this.keys){const u=await B0.getItem(i);if(u){const m=JSON.parse(u);if(typeof m=="object"&&m!==null){const v=new Rd(m);this.resources.push(v)}}}await this.loadFiles()}catch(r){console.log(r)}},async loadFromData(r){const i=Ac();try{await B0.clear(),this.$reset();for(const u of r){const m=new Rd(u);m.type!=Rd.TYPE_URL&&(m.url=i.getResourceUrl(m.key)),this.resources.push(m),this.activeKey==""&&m.isEmbeddedSelectable()&&(this.activeKey=m.key),this.keys.push(m.getKey()),await B0.setItem(m.getKey(),JSON.stringify(m.getData()))}await B0.setItem("keys",JSON.stringify(this.keys)),await B0.setItem("activeKey",this.activeKey),this.loadFiles()}catch(u){console.log(u)}},async selectResource(r){this.activeKey=r.key,await B0.setItem("activeKey",this.activeKey)},async loadFiles(){for(const r of this.keys){let i=this.getResource(r),u=null;if(i.hasFileToLoad())try{console.log("preload "+i.title+"..."),u=await Na(i.url,{responseType:"blob",timeout:6e4}),console.log("finished. ")}catch(m){console.error(m)}}}}}),fH=Vp.createInstance({storeName:"writer-layout",description:"Layout data"}),Ec=ug("layout",{state:()=>({expandedColumn:"none",leftContent:"instructions",rightContent:"essay",showTimer:!1,showHelp:!1,focusTarget:"",focusChange:0}),getters:{isLeftExpanded:r=>r.expandedColumn=="left",isRightExpanded:r=>r.expandedColumn=="right",isLeftVisible:r=>r.expandedColumn!="right",isRightVisible:r=>r.expandedColumn!="left",isInstructionsSelected:r=>r.leftContent=="instructions",isInstructionsPdfSelected:r=>r.leftContent=="instructionsPdf",isResourcesSelected:r=>r.leftContent=="resources",isAnnotationsSelected:r=>r.rightContent=="annotations",isEssaySelected:r=>r.rightContent=="essay",isNotesSelected:r=>r.rightContent=="notes",isInstructionsVisible:r=>r.expandedColumn!="right"&&r.leftContent=="instructions",isInstructionsPdfVisible:r=>r.isInstructionsPdfSelected&&r.isLeftVisible,isResourcesVisible:r=>r.expandedColumn!="right"&&r.leftContent=="resources",isAnnotationsVisible:r=>r.expandedColumn!="left"&&r.rightContent=="annotations",isEssayVisible:r=>r.expandedColumn!="left"&&r.rightContent=="essay",isNotesVisible:r=>r.expandedColumn!="left"&&r.rightContent=="notes",isResourceShown:r=>{const i=ag();return function(m){return r.isInstructionsPdfVisible&&m.type==Rd.TYPE_INSTRUCTION||r.isResourcesVisible&&i.isActive(m)}},shownResourceKey:r=>{const i=ag();if(r.isInstructionsPdfVisible){const u=i.getInstruction;if(u)return u.key}else if(r.isResourcesVisible)return i.activeKey;return null}},actions:{async initialize(){await this.clearStorage();const r=ag(),i=ig();this.leftContent=i.hasInstructions?"instructions":r.hasInstruction?"instructionsPdf":r.hasEmbeddedFileOrUrlResources?"resources":"",this.leftContent||(this.expandedColumn="right")},async clearStorage(){try{await fH.clear()}catch(r){console.log(r)}},async loadFromStorage(){try{const r=await fH.getItem("layout");r&&(this.expandedColumn=r.expandedColumn,this.showTimer=r.showTimer)}catch(r){console.log(r)}},async saveToStorage(){try{await fH.setItem("layout",{expandedColumn:this.expandedColumn,showTimer:this.showTimer})}catch(r){console.log(r)}},showInstructions(){this.leftContent="instructions",this.setLeftVisible(),this.saveToStorage()},showInstructionsPdf(){this.leftContent="instructionsPdf",this.setLeftVisible(),this.saveToStorage()},showResources(){this.leftContent="resources",this.setLeftVisible(),this.saveToStorage()},showForResourceKey(r){const i=ag(),u=i.getResource(r);u&&(u.type==Rd.TYPE_INSTRUCTION?this.showInstructionsPdf():(i.selectResource(u),this.showResources()))},showAnnotations(){this.rightContent="annotations",this.setRightVisible(),this.saveToStorage()},showEssay(){this.rightContent="essay",this.setRightVisible(),this.saveToStorage()},showNotes(){this.rightContent="notes",this.setRightVisible(),this.saveToStorage()},setLeftVisible(){this.isLeftVisible||(this.expandedColumn="left",this.saveToStorage()),this.setFocusChange("left")},setRightVisible(){this.isRightVisible||(this.expandedColumn="right",this.saveToStorage()),this.setFocusChange("right")},setLeftExpanded(r){this.expandedColumn=r?"left":"none",this.saveToStorage()},setRightExpanded(r){this.expandedColumn=r?"right":"none",this.saveToStorage()},setFocusChange(r){this.focusTarget=r,this.focusChange=Date.now()},toggleTimer(){this.showTimer=!this.showTimer,this.saveToStorage()},handleKeyDown(r){if(r.altKey)switch(r.key){case"0":this.setFocusChange("header");break;case"1":this.setLeftVisible();break;case"2":this.setRightVisible();break;case"#":this.setFocusChange("navigation");break}}}});var UG={exports:{}};(function(r){var i=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},u=-1,m=1,v=0;i.Diff=function(p,x){return[p,x]},i.prototype.diff_main=function(p,x,S,P){typeof P>"u"&&(this.Diff_Timeout<=0?P=Number.MAX_VALUE:P=new Date().getTime()+this.Diff_Timeout*1e3);var N=P;if(p==null||x==null)throw new Error("Null input. (diff_main)");if(p==x)return p?[new i.Diff(v,p)]:[];typeof S>"u"&&(S=!0);var D=S,z=this.diff_commonPrefix(p,x),W=p.substring(0,z);p=p.substring(z),x=x.substring(z),z=this.diff_commonSuffix(p,x);var $=p.substring(p.length-z);p=p.substring(0,p.length-z),x=x.substring(0,x.length-z);var G=this.diff_compute_(p,x,D,N);return W&&G.unshift(new i.Diff(v,W)),$&&G.push(new i.Diff(v,$)),this.diff_cleanupMerge(G),G},i.prototype.diff_compute_=function(p,x,S,P){var N;if(!p)return[new i.Diff(m,x)];if(!x)return[new i.Diff(u,p)];var D=p.length>x.length?p:x,z=p.length>x.length?x:p,W=D.indexOf(z);if(W!=-1)return N=[new i.Diff(m,D.substring(0,W)),new i.Diff(v,z),new i.Diff(m,D.substring(W+z.length))],p.length>x.length&&(N[0][0]=N[2][0]=u),N;if(z.length==1)return[new i.Diff(u,p),new i.Diff(m,x)];var $=this.diff_halfMatch_(p,x);if($){var G=$[0],Q=$[1],ve=$[2],de=$[3],Pe=$[4],Ie=this.diff_main(G,ve,S,P),re=this.diff_main(Q,de,S,P);return Ie.concat([new i.Diff(v,Pe)],re)}return S&&p.length>100&&x.length>100?this.diff_lineMode_(p,x,P):this.diff_bisect_(p,x,P)},i.prototype.diff_lineMode_=function(p,x,S){var P=this.diff_linesToChars_(p,x);p=P.chars1,x=P.chars2;var N=P.lineArray,D=this.diff_main(p,x,!1,S);this.diff_charsToLines_(D,N),this.diff_cleanupSemantic(D),D.push(new i.Diff(v,""));for(var z=0,W=0,$=0,G="",Q="";z<D.length;){switch(D[z][0]){case m:$++,Q+=D[z][1];break;case u:W++,G+=D[z][1];break;case v:if(W>=1&&$>=1){D.splice(z-W-$,W+$),z=z-W-$;for(var ve=this.diff_main(G,Q,!1,S),de=ve.length-1;de>=0;de--)D.splice(z,0,ve[de]);z=z+ve.length}$=0,W=0,G="",Q="";break}z++}return D.pop(),D},i.prototype.diff_bisect_=function(p,x,S){for(var P=p.length,N=x.length,D=Math.ceil((P+N)/2),z=D,W=2*D,$=new Array(W),G=new Array(W),Q=0;Q<W;Q++)$[Q]=-1,G[Q]=-1;$[z+1]=0,G[z+1]=0;for(var ve=P-N,de=ve%2!=0,Pe=0,Ie=0,re=0,Oe=0,oe=0;oe<D&&!(new Date().getTime()>S);oe++){for(var Ge=-oe+Pe;Ge<=oe-Ie;Ge+=2){var $e=z+Ge,Ze;Ge==-oe||Ge!=oe&&$[$e-1]<$[$e+1]?Ze=$[$e+1]:Ze=$[$e-1]+1;for(var rt=Ze-Ge;Ze<P&&rt<N&&p.charAt(Ze)==x.charAt(rt);)Ze++,rt++;if($[$e]=Ze,Ze>P)Ie+=2;else if(rt>N)Pe+=2;else if(de){var Ce=z+ve-Ge;if(Ce>=0&&Ce<W&&G[Ce]!=-1){var Re=P-G[Ce];if(Ze>=Re)return this.diff_bisectSplit_(p,x,Ze,rt,S)}}}for(var R=-oe+re;R<=oe-Oe;R+=2){var Ce=z+R,Re;R==-oe||R!=oe&&G[Ce-1]<G[Ce+1]?Re=G[Ce+1]:Re=G[Ce-1]+1;for(var yt=Re-R;Re<P&&yt<N&&p.charAt(P-Re-1)==x.charAt(N-yt-1);)Re++,yt++;if(G[Ce]=Re,Re>P)Oe+=2;else if(yt>N)re+=2;else if(!de){var $e=z+ve-R;if($e>=0&&$e<W&&$[$e]!=-1){var Ze=$[$e],rt=z+Ze-$e;if(Re=P-Re,Ze>=Re)return this.diff_bisectSplit_(p,x,Ze,rt,S)}}}}return[new i.Diff(u,p),new i.Diff(m,x)]},i.prototype.diff_bisectSplit_=function(p,x,S,P,N){var D=p.substring(0,S),z=x.substring(0,P),W=p.substring(S),$=x.substring(P),G=this.diff_main(D,z,!1,N),Q=this.diff_main(W,$,!1,N);return G.concat(Q)},i.prototype.diff_linesToChars_=function(p,x){var S=[],P={};S[0]="";function N($){for(var G="",Q=0,ve=-1,de=S.length;ve<$.length-1;){ve=$.indexOf(`
`,Q),ve==-1&&(ve=$.length-1);var Pe=$.substring(Q,ve+1);(P.hasOwnProperty?P.hasOwnProperty(Pe):P[Pe]!==void 0)?G+=String.fromCharCode(P[Pe]):(de==D&&(Pe=$.substring(Q),ve=$.length),G+=String.fromCharCode(de),P[Pe]=de,S[de++]=Pe),Q=ve+1}return G}var D=4e4,z=N(p);D=65535;var W=N(x);return{chars1:z,chars2:W,lineArray:S}},i.prototype.diff_charsToLines_=function(p,x){for(var S=0;S<p.length;S++){for(var P=p[S][1],N=[],D=0;D<P.length;D++)N[D]=x[P.charCodeAt(D)];p[S][1]=N.join("")}},i.prototype.diff_commonPrefix=function(p,x){if(!p||!x||p.charAt(0)!=x.charAt(0))return 0;for(var S=0,P=Math.min(p.length,x.length),N=P,D=0;S<N;)p.substring(D,N)==x.substring(D,N)?(S=N,D=S):P=N,N=Math.floor((P-S)/2+S);return N},i.prototype.diff_commonSuffix=function(p,x){if(!p||!x||p.charAt(p.length-1)!=x.charAt(x.length-1))return 0;for(var S=0,P=Math.min(p.length,x.length),N=P,D=0;S<N;)p.substring(p.length-N,p.length-D)==x.substring(x.length-N,x.length-D)?(S=N,D=S):P=N,N=Math.floor((P-S)/2+S);return N},i.prototype.diff_commonOverlap_=function(p,x){var S=p.length,P=x.length;if(S==0||P==0)return 0;S>P?p=p.substring(S-P):S<P&&(x=x.substring(0,S));var N=Math.min(S,P);if(p==x)return N;for(var D=0,z=1;;){var W=p.substring(N-z),$=x.indexOf(W);if($==-1)return D;z+=$,($==0||p.substring(N-z)==x.substring(0,z))&&(D=z,z++)}},i.prototype.diff_halfMatch_=function(p,x){if(this.Diff_Timeout<=0)return null;var S=p.length>x.length?p:x,P=p.length>x.length?x:p;if(S.length<4||P.length*2<S.length)return null;var N=this;function D(Ie,re,Oe){for(var oe=Ie.substring(Oe,Oe+Math.floor(Ie.length/4)),Ge=-1,$e="",Ze,rt,Ce,Re;(Ge=re.indexOf(oe,Ge+1))!=-1;){var R=N.diff_commonPrefix(Ie.substring(Oe),re.substring(Ge)),yt=N.diff_commonSuffix(Ie.substring(0,Oe),re.substring(0,Ge));$e.length<yt+R&&($e=re.substring(Ge-yt,Ge)+re.substring(Ge,Ge+R),Ze=Ie.substring(0,Oe-yt),rt=Ie.substring(Oe+R),Ce=re.substring(0,Ge-yt),Re=re.substring(Ge+R))}return $e.length*2>=Ie.length?[Ze,rt,Ce,Re,$e]:null}var z=D(S,P,Math.ceil(S.length/4)),W=D(S,P,Math.ceil(S.length/2)),$;if(!z&&!W)return null;W?z?$=z[4].length>W[4].length?z:W:$=W:$=z;var G,Q,ve,de;p.length>x.length?(G=$[0],Q=$[1],ve=$[2],de=$[3]):(ve=$[0],de=$[1],G=$[2],Q=$[3]);var Pe=$[4];return[G,Q,ve,de,Pe]},i.prototype.diff_cleanupSemantic=function(p){for(var x=!1,S=[],P=0,N=null,D=0,z=0,W=0,$=0,G=0;D<p.length;)p[D][0]==v?(S[P++]=D,z=$,W=G,$=0,G=0,N=p[D][1]):(p[D][0]==m?$+=p[D][1].length:G+=p[D][1].length,N&&N.length<=Math.max(z,W)&&N.length<=Math.max($,G)&&(p.splice(S[P-1],0,new i.Diff(u,N)),p[S[P-1]+1][0]=m,P--,P--,D=P>0?S[P-1]:-1,z=0,W=0,$=0,G=0,N=null,x=!0)),D++;for(x&&this.diff_cleanupMerge(p),this.diff_cleanupSemanticLossless(p),D=1;D<p.length;){if(p[D-1][0]==u&&p[D][0]==m){var Q=p[D-1][1],ve=p[D][1],de=this.diff_commonOverlap_(Q,ve),Pe=this.diff_commonOverlap_(ve,Q);de>=Pe?(de>=Q.length/2||de>=ve.length/2)&&(p.splice(D,0,new i.Diff(v,ve.substring(0,de))),p[D-1][1]=Q.substring(0,Q.length-de),p[D+1][1]=ve.substring(de),D++):(Pe>=Q.length/2||Pe>=ve.length/2)&&(p.splice(D,0,new i.Diff(v,Q.substring(0,Pe))),p[D-1][0]=m,p[D-1][1]=ve.substring(0,ve.length-Pe),p[D+1][0]=u,p[D+1][1]=Q.substring(Pe),D++),D++}D++}},i.prototype.diff_cleanupSemanticLossless=function(p){function x(Pe,Ie){if(!Pe||!Ie)return 6;var re=Pe.charAt(Pe.length-1),Oe=Ie.charAt(0),oe=re.match(i.nonAlphaNumericRegex_),Ge=Oe.match(i.nonAlphaNumericRegex_),$e=oe&&re.match(i.whitespaceRegex_),Ze=Ge&&Oe.match(i.whitespaceRegex_),rt=$e&&re.match(i.linebreakRegex_),Ce=Ze&&Oe.match(i.linebreakRegex_),Re=rt&&Pe.match(i.blanklineEndRegex_),R=Ce&&Ie.match(i.blanklineStartRegex_);return Re||R?5:rt||Ce?4:oe&&!$e&&Ze?3:$e||Ze?2:oe||Ge?1:0}for(var S=1;S<p.length-1;){if(p[S-1][0]==v&&p[S+1][0]==v){var P=p[S-1][1],N=p[S][1],D=p[S+1][1],z=this.diff_commonSuffix(P,N);if(z){var W=N.substring(N.length-z);P=P.substring(0,P.length-z),N=W+N.substring(0,N.length-z),D=W+D}for(var $=P,G=N,Q=D,ve=x(P,N)+x(N,D);N.charAt(0)===D.charAt(0);){P+=N.charAt(0),N=N.substring(1)+D.charAt(0),D=D.substring(1);var de=x(P,N)+x(N,D);de>=ve&&(ve=de,$=P,G=N,Q=D)}p[S-1][1]!=$&&($?p[S-1][1]=$:(p.splice(S-1,1),S--),p[S][1]=G,Q?p[S+1][1]=Q:(p.splice(S+1,1),S--))}S++}},i.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,i.whitespaceRegex_=/\s/,i.linebreakRegex_=/[\r\n]/,i.blanklineEndRegex_=/\n\r?\n$/,i.blanklineStartRegex_=/^\r?\n\r?\n/,i.prototype.diff_cleanupEfficiency=function(p){for(var x=!1,S=[],P=0,N=null,D=0,z=!1,W=!1,$=!1,G=!1;D<p.length;)p[D][0]==v?(p[D][1].length<this.Diff_EditCost&&($||G)?(S[P++]=D,z=$,W=G,N=p[D][1]):(P=0,N=null),$=G=!1):(p[D][0]==u?G=!0:$=!0,N&&(z&&W&&$&&G||N.length<this.Diff_EditCost/2&&z+W+$+G==3)&&(p.splice(S[P-1],0,new i.Diff(u,N)),p[S[P-1]+1][0]=m,P--,N=null,z&&W?($=G=!0,P=0):(P--,D=P>0?S[P-1]:-1,$=G=!1),x=!0)),D++;x&&this.diff_cleanupMerge(p)},i.prototype.diff_cleanupMerge=function(p){p.push(new i.Diff(v,""));for(var x=0,S=0,P=0,N="",D="",z;x<p.length;)switch(p[x][0]){case m:P++,D+=p[x][1],x++;break;case u:S++,N+=p[x][1],x++;break;case v:S+P>1?(S!==0&&P!==0&&(z=this.diff_commonPrefix(D,N),z!==0&&(x-S-P>0&&p[x-S-P-1][0]==v?p[x-S-P-1][1]+=D.substring(0,z):(p.splice(0,0,new i.Diff(v,D.substring(0,z))),x++),D=D.substring(z),N=N.substring(z)),z=this.diff_commonSuffix(D,N),z!==0&&(p[x][1]=D.substring(D.length-z)+p[x][1],D=D.substring(0,D.length-z),N=N.substring(0,N.length-z))),x-=S+P,p.splice(x,S+P),N.length&&(p.splice(x,0,new i.Diff(u,N)),x++),D.length&&(p.splice(x,0,new i.Diff(m,D)),x++),x++):x!==0&&p[x-1][0]==v?(p[x-1][1]+=p[x][1],p.splice(x,1)):x++,P=0,S=0,N="",D="";break}p[p.length-1][1]===""&&p.pop();var W=!1;for(x=1;x<p.length-1;)p[x-1][0]==v&&p[x+1][0]==v&&(p[x][1].substring(p[x][1].length-p[x-1][1].length)==p[x-1][1]?(p[x][1]=p[x-1][1]+p[x][1].substring(0,p[x][1].length-p[x-1][1].length),p[x+1][1]=p[x-1][1]+p[x+1][1],p.splice(x-1,1),W=!0):p[x][1].substring(0,p[x+1][1].length)==p[x+1][1]&&(p[x-1][1]+=p[x+1][1],p[x][1]=p[x][1].substring(p[x+1][1].length)+p[x+1][1],p.splice(x+1,1),W=!0)),x++;W&&this.diff_cleanupMerge(p)},i.prototype.diff_xIndex=function(p,x){var S=0,P=0,N=0,D=0,z;for(z=0;z<p.length&&(p[z][0]!==m&&(S+=p[z][1].length),p[z][0]!==u&&(P+=p[z][1].length),!(S>x));z++)N=S,D=P;return p.length!=z&&p[z][0]===u?D:D+(x-N)},i.prototype.diff_prettyHtml=function(p){for(var x=[],S=/&/g,P=/</g,N=/>/g,D=/\n/g,z=0;z<p.length;z++){var W=p[z][0],$=p[z][1],G=$.replace(S,"&amp;").replace(P,"&lt;").replace(N,"&gt;").replace(D,"&para;<br>");switch(W){case m:x[z]='<ins style="background:#e6ffe6;">'+G+"</ins>";break;case u:x[z]='<del style="background:#ffe6e6;">'+G+"</del>";break;case v:x[z]="<span>"+G+"</span>";break}}return x.join("")},i.prototype.diff_text1=function(p){for(var x=[],S=0;S<p.length;S++)p[S][0]!==m&&(x[S]=p[S][1]);return x.join("")},i.prototype.diff_text2=function(p){for(var x=[],S=0;S<p.length;S++)p[S][0]!==u&&(x[S]=p[S][1]);return x.join("")},i.prototype.diff_levenshtein=function(p){for(var x=0,S=0,P=0,N=0;N<p.length;N++){var D=p[N][0],z=p[N][1];switch(D){case m:S+=z.length;break;case u:P+=z.length;break;case v:x+=Math.max(S,P),S=0,P=0;break}}return x+=Math.max(S,P),x},i.prototype.diff_toDelta=function(p){for(var x=[],S=0;S<p.length;S++)switch(p[S][0]){case m:x[S]="+"+encodeURI(p[S][1]);break;case u:x[S]="-"+p[S][1].length;break;case v:x[S]="="+p[S][1].length;break}return x.join("	").replace(/%20/g," ")},i.prototype.diff_fromDelta=function(p,x){for(var S=[],P=0,N=0,D=x.split(/\t/g),z=0;z<D.length;z++){var W=D[z].substring(1);switch(D[z].charAt(0)){case"+":try{S[P++]=new i.Diff(m,decodeURI(W))}catch{throw new Error("Illegal escape in diff_fromDelta: "+W)}break;case"-":case"=":var $=parseInt(W,10);if(isNaN($)||$<0)throw new Error("Invalid number in diff_fromDelta: "+W);var G=p.substring(N,N+=$);D[z].charAt(0)=="="?S[P++]=new i.Diff(v,G):S[P++]=new i.Diff(u,G);break;default:if(D[z])throw new Error("Invalid diff operation in diff_fromDelta: "+D[z])}}if(N!=p.length)throw new Error("Delta length ("+N+") does not equal source text length ("+p.length+").");return S},i.prototype.match_main=function(p,x,S){if(p==null||x==null||S==null)throw new Error("Null input. (match_main)");return S=Math.max(0,Math.min(S,p.length)),p==x?0:p.length?p.substring(S,S+x.length)==x?S:this.match_bitap_(p,x,S):-1},i.prototype.match_bitap_=function(p,x,S){if(x.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var P=this.match_alphabet_(x),N=this;function D(Ze,rt){var Ce=Ze/x.length,Re=Math.abs(S-rt);return N.Match_Distance?Ce+Re/N.Match_Distance:Re?1:Ce}var z=this.Match_Threshold,W=p.indexOf(x,S);W!=-1&&(z=Math.min(D(0,W),z),W=p.lastIndexOf(x,S+x.length),W!=-1&&(z=Math.min(D(0,W),z)));var $=1<<x.length-1;W=-1;for(var G,Q,ve=x.length+p.length,de,Pe=0;Pe<x.length;Pe++){for(G=0,Q=ve;G<Q;)D(Pe,S+Q)<=z?G=Q:ve=Q,Q=Math.floor((ve-G)/2+G);ve=Q;var Ie=Math.max(1,S-Q+1),re=Math.min(S+Q,p.length)+x.length,Oe=Array(re+2);Oe[re+1]=(1<<Pe)-1;for(var oe=re;oe>=Ie;oe--){var Ge=P[p.charAt(oe-1)];if(Pe===0?Oe[oe]=(Oe[oe+1]<<1|1)&Ge:Oe[oe]=(Oe[oe+1]<<1|1)&Ge|((de[oe+1]|de[oe])<<1|1)|de[oe+1],Oe[oe]&$){var $e=D(Pe,oe-1);if($e<=z)if(z=$e,W=oe-1,W>S)Ie=Math.max(1,2*S-W);else break}}if(D(Pe+1,S)>z)break;de=Oe}return W},i.prototype.match_alphabet_=function(p){for(var x={},S=0;S<p.length;S++)x[p.charAt(S)]=0;for(var S=0;S<p.length;S++)x[p.charAt(S)]|=1<<p.length-S-1;return x},i.prototype.patch_addContext_=function(p,x){if(x.length!=0){if(p.start2===null)throw Error("patch not initialized");for(var S=x.substring(p.start2,p.start2+p.length1),P=0;x.indexOf(S)!=x.lastIndexOf(S)&&S.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)P+=this.Patch_Margin,S=x.substring(p.start2-P,p.start2+p.length1+P);P+=this.Patch_Margin;var N=x.substring(p.start2-P,p.start2);N&&p.diffs.unshift(new i.Diff(v,N));var D=x.substring(p.start2+p.length1,p.start2+p.length1+P);D&&p.diffs.push(new i.Diff(v,D)),p.start1-=N.length,p.start2-=N.length,p.length1+=N.length+D.length,p.length2+=N.length+D.length}},i.prototype.patch_make=function(p,x,S){var P,N;if(typeof p=="string"&&typeof x=="string"&&typeof S>"u")P=p,N=this.diff_main(P,x,!0),N.length>2&&(this.diff_cleanupSemantic(N),this.diff_cleanupEfficiency(N));else if(p&&typeof p=="object"&&typeof x>"u"&&typeof S>"u")N=p,P=this.diff_text1(N);else if(typeof p=="string"&&x&&typeof x=="object"&&typeof S>"u")P=p,N=x;else if(typeof p=="string"&&typeof x=="string"&&S&&typeof S=="object")P=p,N=S;else throw new Error("Unknown call format to patch_make.");if(N.length===0)return[];for(var D=[],z=new i.patch_obj,W=0,$=0,G=0,Q=P,ve=P,de=0;de<N.length;de++){var Pe=N[de][0],Ie=N[de][1];switch(!W&&Pe!==v&&(z.start1=$,z.start2=G),Pe){case m:z.diffs[W++]=N[de],z.length2+=Ie.length,ve=ve.substring(0,G)+Ie+ve.substring(G);break;case u:z.length1+=Ie.length,z.diffs[W++]=N[de],ve=ve.substring(0,G)+ve.substring(G+Ie.length);break;case v:Ie.length<=2*this.Patch_Margin&&W&&N.length!=de+1?(z.diffs[W++]=N[de],z.length1+=Ie.length,z.length2+=Ie.length):Ie.length>=2*this.Patch_Margin&&W&&(this.patch_addContext_(z,Q),D.push(z),z=new i.patch_obj,W=0,Q=ve,$=G);break}Pe!==m&&($+=Ie.length),Pe!==u&&(G+=Ie.length)}return W&&(this.patch_addContext_(z,Q),D.push(z)),D},i.prototype.patch_deepCopy=function(p){for(var x=[],S=0;S<p.length;S++){var P=p[S],N=new i.patch_obj;N.diffs=[];for(var D=0;D<P.diffs.length;D++)N.diffs[D]=new i.Diff(P.diffs[D][0],P.diffs[D][1]);N.start1=P.start1,N.start2=P.start2,N.length1=P.length1,N.length2=P.length2,x[S]=N}return x},i.prototype.patch_apply=function(p,x){if(p.length==0)return[x,[]];p=this.patch_deepCopy(p);var S=this.patch_addPadding(p);x=S+x+S,this.patch_splitMax(p);for(var P=0,N=[],D=0;D<p.length;D++){var z=p[D].start2+P,W=this.diff_text1(p[D].diffs),$,G=-1;if(W.length>this.Match_MaxBits?($=this.match_main(x,W.substring(0,this.Match_MaxBits),z),$!=-1&&(G=this.match_main(x,W.substring(W.length-this.Match_MaxBits),z+W.length-this.Match_MaxBits),(G==-1||$>=G)&&($=-1))):$=this.match_main(x,W,z),$==-1)N[D]=!1,P-=p[D].length2-p[D].length1;else{N[D]=!0,P=$-z;var Q;if(G==-1?Q=x.substring($,$+W.length):Q=x.substring($,G+this.Match_MaxBits),W==Q)x=x.substring(0,$)+this.diff_text2(p[D].diffs)+x.substring($+W.length);else{var ve=this.diff_main(W,Q,!1);if(W.length>this.Match_MaxBits&&this.diff_levenshtein(ve)/W.length>this.Patch_DeleteThreshold)N[D]=!1;else{this.diff_cleanupSemanticLossless(ve);for(var de=0,Pe,Ie=0;Ie<p[D].diffs.length;Ie++){var re=p[D].diffs[Ie];re[0]!==v&&(Pe=this.diff_xIndex(ve,de)),re[0]===m?x=x.substring(0,$+Pe)+re[1]+x.substring($+Pe):re[0]===u&&(x=x.substring(0,$+Pe)+x.substring($+this.diff_xIndex(ve,de+re[1].length))),re[0]!==u&&(de+=re[1].length)}}}}}return x=x.substring(S.length,x.length-S.length),[x,N]},i.prototype.patch_addPadding=function(p){for(var x=this.Patch_Margin,S="",P=1;P<=x;P++)S+=String.fromCharCode(P);for(var P=0;P<p.length;P++)p[P].start1+=x,p[P].start2+=x;var N=p[0],D=N.diffs;if(D.length==0||D[0][0]!=v)D.unshift(new i.Diff(v,S)),N.start1-=x,N.start2-=x,N.length1+=x,N.length2+=x;else if(x>D[0][1].length){var z=x-D[0][1].length;D[0][1]=S.substring(D[0][1].length)+D[0][1],N.start1-=z,N.start2-=z,N.length1+=z,N.length2+=z}if(N=p[p.length-1],D=N.diffs,D.length==0||D[D.length-1][0]!=v)D.push(new i.Diff(v,S)),N.length1+=x,N.length2+=x;else if(x>D[D.length-1][1].length){var z=x-D[D.length-1][1].length;D[D.length-1][1]+=S.substring(0,z),N.length1+=z,N.length2+=z}return S},i.prototype.patch_splitMax=function(p){for(var x=this.Match_MaxBits,S=0;S<p.length;S++)if(!(p[S].length1<=x)){var P=p[S];p.splice(S--,1);for(var N=P.start1,D=P.start2,z="";P.diffs.length!==0;){var W=new i.patch_obj,$=!0;for(W.start1=N-z.length,W.start2=D-z.length,z!==""&&(W.length1=W.length2=z.length,W.diffs.push(new i.Diff(v,z)));P.diffs.length!==0&&W.length1<x-this.Patch_Margin;){var G=P.diffs[0][0],Q=P.diffs[0][1];G===m?(W.length2+=Q.length,D+=Q.length,W.diffs.push(P.diffs.shift()),$=!1):G===u&&W.diffs.length==1&&W.diffs[0][0]==v&&Q.length>2*x?(W.length1+=Q.length,N+=Q.length,$=!1,W.diffs.push(new i.Diff(G,Q)),P.diffs.shift()):(Q=Q.substring(0,x-W.length1-this.Patch_Margin),W.length1+=Q.length,N+=Q.length,G===v?(W.length2+=Q.length,D+=Q.length):$=!1,W.diffs.push(new i.Diff(G,Q)),Q==P.diffs[0][1]?P.diffs.shift():P.diffs[0][1]=P.diffs[0][1].substring(Q.length))}z=this.diff_text2(W.diffs),z=z.substring(z.length-this.Patch_Margin);var ve=this.diff_text1(P.diffs).substring(0,this.Patch_Margin);ve!==""&&(W.length1+=ve.length,W.length2+=ve.length,W.diffs.length!==0&&W.diffs[W.diffs.length-1][0]===v?W.diffs[W.diffs.length-1][1]+=ve:W.diffs.push(new i.Diff(v,ve))),$||p.splice(++S,0,W)}}},i.prototype.patch_toText=function(p){for(var x=[],S=0;S<p.length;S++)x[S]=p[S];return x.join("")},i.prototype.patch_fromText=function(p){var x=[];if(!p)return x;for(var S=p.split(`
`),P=0,N=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;P<S.length;){var D=S[P].match(N);if(!D)throw new Error("Invalid patch string: "+S[P]);var z=new i.patch_obj;for(x.push(z),z.start1=parseInt(D[1],10),D[2]===""?(z.start1--,z.length1=1):D[2]=="0"?z.length1=0:(z.start1--,z.length1=parseInt(D[2],10)),z.start2=parseInt(D[3],10),D[4]===""?(z.start2--,z.length2=1):D[4]=="0"?z.length2=0:(z.start2--,z.length2=parseInt(D[4],10)),P++;P<S.length;){var W=S[P].charAt(0);try{var $=decodeURI(S[P].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+$)}if(W=="-")z.diffs.push(new i.Diff(u,$));else if(W=="+")z.diffs.push(new i.Diff(m,$));else if(W==" ")z.diffs.push(new i.Diff(v,$));else{if(W=="@")break;if(W!=="")throw new Error('Invalid patch mode "'+W+'" in: '+$)}P++}}return x},i.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},i.patch_obj.prototype.toString=function(){var p,x;this.length1===0?p=this.start1+",0":this.length1==1?p=this.start1+1:p=this.start1+1+","+this.length1,this.length2===0?x=this.start2+",0":this.length2==1?x=this.start2+1:x=this.start2+1+","+this.length2;for(var S=["@@ -"+p+" +"+x+` @@
`],P,N=0;N<this.diffs.length;N++){switch(this.diffs[N][0]){case m:P="+";break;case u:P="-";break;case v:P=" ";break}S[N+1]=P+encodeURI(this.diffs[N][1])+`
`}return S.join("").replace(/%20/g," ")},r.exports=i,r.exports.diff_match_patch=i,r.exports.DIFF_DELETE=u,r.exports.DIFF_INSERT=m,r.exports.DIFF_EQUAL=v})(UG);var wfe=UG.exports;const Cfe=bM(wfe);var WG={exports:{}},ZG={exports:{}};(function(){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={rotl:function(u,m){return u<<m|u>>>32-m},rotr:function(u,m){return u<<32-m|u>>>m},endian:function(u){if(u.constructor==Number)return i.rotl(u,8)&16711935|i.rotl(u,24)&4278255360;for(var m=0;m<u.length;m++)u[m]=i.endian(u[m]);return u},randomBytes:function(u){for(var m=[];u>0;u--)m.push(Math.floor(Math.random()*256));return m},bytesToWords:function(u){for(var m=[],v=0,p=0;v<u.length;v++,p+=8)m[p>>>5]|=u[v]<<24-p%32;return m},wordsToBytes:function(u){for(var m=[],v=0;v<u.length*32;v+=8)m.push(u[v>>>5]>>>24-v%32&255);return m},bytesToHex:function(u){for(var m=[],v=0;v<u.length;v++)m.push((u[v]>>>4).toString(16)),m.push((u[v]&15).toString(16));return m.join("")},hexToBytes:function(u){for(var m=[],v=0;v<u.length;v+=2)m.push(parseInt(u.substr(v,2),16));return m},bytesToBase64:function(u){for(var m=[],v=0;v<u.length;v+=3)for(var p=u[v]<<16|u[v+1]<<8|u[v+2],x=0;x<4;x++)v*8+x*6<=u.length*8?m.push(r.charAt(p>>>6*(3-x)&63)):m.push("=");return m.join("")},base64ToBytes:function(u){u=u.replace(/[^A-Z0-9+\/]/ig,"");for(var m=[],v=0,p=0;v<u.length;p=++v%4)p!=0&&m.push((r.indexOf(u.charAt(v-1))&Math.pow(2,-2*p+8)-1)<<p*2|r.indexOf(u.charAt(v))>>>6-p*2);return m}};ZG.exports=i})();var _fe=ZG.exports,tV={utf8:{stringToBytes:function(r){return tV.bin.stringToBytes(unescape(encodeURIComponent(r)))},bytesToString:function(r){return decodeURIComponent(escape(tV.bin.bytesToString(r)))}},bin:{stringToBytes:function(r){for(var i=[],u=0;u<r.length;u++)i.push(r.charCodeAt(u)&255);return i},bytesToString:function(r){for(var i=[],u=0;u<r.length;u++)i.push(String.fromCharCode(r[u]));return i.join("")}}},Kj=tV;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Sfe=function(r){return r!=null&&(jG(r)||kfe(r)||!!r._isBuffer)};function jG(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function kfe(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&jG(r.slice(0,0))}(function(){var r=_fe,i=Kj.utf8,u=Sfe,m=Kj.bin,v=function(p,x){p.constructor==String?x&&x.encoding==="binary"?p=m.stringToBytes(p):p=i.stringToBytes(p):u(p)?p=Array.prototype.slice.call(p,0):!Array.isArray(p)&&p.constructor!==Uint8Array&&(p=p.toString());for(var S=r.bytesToWords(p),P=p.length*8,N=1732584193,D=-271733879,z=-1732584194,W=271733878,$=0;$<S.length;$++)S[$]=(S[$]<<8|S[$]>>>24)&16711935|(S[$]<<24|S[$]>>>8)&4278255360;S[P>>>5]|=128<<P%32,S[(P+64>>>9<<4)+14]=P;for(var G=v._ff,Q=v._gg,ve=v._hh,de=v._ii,$=0;$<S.length;$+=16){var Pe=N,Ie=D,re=z,Oe=W;N=G(N,D,z,W,S[$+0],7,-680876936),W=G(W,N,D,z,S[$+1],12,-389564586),z=G(z,W,N,D,S[$+2],17,606105819),D=G(D,z,W,N,S[$+3],22,-1044525330),N=G(N,D,z,W,S[$+4],7,-176418897),W=G(W,N,D,z,S[$+5],12,1200080426),z=G(z,W,N,D,S[$+6],17,-1473231341),D=G(D,z,W,N,S[$+7],22,-45705983),N=G(N,D,z,W,S[$+8],7,1770035416),W=G(W,N,D,z,S[$+9],12,-1958414417),z=G(z,W,N,D,S[$+10],17,-42063),D=G(D,z,W,N,S[$+11],22,-1990404162),N=G(N,D,z,W,S[$+12],7,1804603682),W=G(W,N,D,z,S[$+13],12,-40341101),z=G(z,W,N,D,S[$+14],17,-1502002290),D=G(D,z,W,N,S[$+15],22,1236535329),N=Q(N,D,z,W,S[$+1],5,-165796510),W=Q(W,N,D,z,S[$+6],9,-1069501632),z=Q(z,W,N,D,S[$+11],14,643717713),D=Q(D,z,W,N,S[$+0],20,-373897302),N=Q(N,D,z,W,S[$+5],5,-701558691),W=Q(W,N,D,z,S[$+10],9,38016083),z=Q(z,W,N,D,S[$+15],14,-660478335),D=Q(D,z,W,N,S[$+4],20,-405537848),N=Q(N,D,z,W,S[$+9],5,568446438),W=Q(W,N,D,z,S[$+14],9,-1019803690),z=Q(z,W,N,D,S[$+3],14,-187363961),D=Q(D,z,W,N,S[$+8],20,1163531501),N=Q(N,D,z,W,S[$+13],5,-1444681467),W=Q(W,N,D,z,S[$+2],9,-51403784),z=Q(z,W,N,D,S[$+7],14,1735328473),D=Q(D,z,W,N,S[$+12],20,-1926607734),N=ve(N,D,z,W,S[$+5],4,-378558),W=ve(W,N,D,z,S[$+8],11,-2022574463),z=ve(z,W,N,D,S[$+11],16,1839030562),D=ve(D,z,W,N,S[$+14],23,-35309556),N=ve(N,D,z,W,S[$+1],4,-1530992060),W=ve(W,N,D,z,S[$+4],11,1272893353),z=ve(z,W,N,D,S[$+7],16,-155497632),D=ve(D,z,W,N,S[$+10],23,-1094730640),N=ve(N,D,z,W,S[$+13],4,681279174),W=ve(W,N,D,z,S[$+0],11,-358537222),z=ve(z,W,N,D,S[$+3],16,-722521979),D=ve(D,z,W,N,S[$+6],23,76029189),N=ve(N,D,z,W,S[$+9],4,-640364487),W=ve(W,N,D,z,S[$+12],11,-421815835),z=ve(z,W,N,D,S[$+15],16,530742520),D=ve(D,z,W,N,S[$+2],23,-995338651),N=de(N,D,z,W,S[$+0],6,-198630844),W=de(W,N,D,z,S[$+7],10,1126891415),z=de(z,W,N,D,S[$+14],15,-1416354905),D=de(D,z,W,N,S[$+5],21,-57434055),N=de(N,D,z,W,S[$+12],6,1700485571),W=de(W,N,D,z,S[$+3],10,-1894986606),z=de(z,W,N,D,S[$+10],15,-1051523),D=de(D,z,W,N,S[$+1],21,-2054922799),N=de(N,D,z,W,S[$+8],6,1873313359),W=de(W,N,D,z,S[$+15],10,-30611744),z=de(z,W,N,D,S[$+6],15,-1560198380),D=de(D,z,W,N,S[$+13],21,1309151649),N=de(N,D,z,W,S[$+4],6,-145523070),W=de(W,N,D,z,S[$+11],10,-1120210379),z=de(z,W,N,D,S[$+2],15,718787259),D=de(D,z,W,N,S[$+9],21,-343485551),N=N+Pe>>>0,D=D+Ie>>>0,z=z+re>>>0,W=W+Oe>>>0}return r.endian([N,D,z,W])};v._ff=function(p,x,S,P,N,D,z){var W=p+(x&S|~x&P)+(N>>>0)+z;return(W<<D|W>>>32-D)+x},v._gg=function(p,x,S,P,N,D,z){var W=p+(x&P|S&~P)+(N>>>0)+z;return(W<<D|W>>>32-D)+x},v._hh=function(p,x,S,P,N,D,z){var W=p+(x^S^P)+(N>>>0)+z;return(W<<D|W>>>32-D)+x},v._ii=function(p,x,S,P,N,D,z){var W=p+(S^(x|~P))+(N>>>0)+z;return(W<<D|W>>>32-D)+x},v._blocksize=16,v._digestsize=16,WG.exports=function(p,x){if(p==null)throw new Error("Illegal argument "+p);var S=r.wordsToBytes(v(p,x));return x&&x.asBytes?S:x&&x.asString?m.bytesToString(S):r.bytesToHex(S)}})();var Efe=WG.exports;const KG=bM(Efe),ti=Vp.createInstance({storeName:"writer-essay",description:"Essay data"}),bw=new Cfe,mH=1e3,Afe=5e3,Tfe=5e3,Ofe=10,Dfe=1e3,gH={storedContent:"",storedHash:"",history:[],lastStoredIndex:-1,lastSentIndex:-1,lastSentHash:"",currentContent:"",sumOfDistances:0,lastCheck:0,lastSave:0,lastSending:0};let ZS=0,qj=0;const L0=ug("essay",{state:()=>gH,getters:{hasHistory:r=>r.history.length>0,historyLength:r=>r.history.length,openSendings:r=>r.lastStoredIndex-r.lastSentIndex,unsentHistory(r){let i=[],u=r.lastSentIndex+1;for(;u<r.history.length;)i.push(r.history[u]),u++;return i},formatTimestamp(){return r=>new Date(r).toISOString().slice(0,19).replace("T"," ")},formatIndex(){return r=>r.toString().padStart(9,"0")},makeHash(){return(r,i)=>KG(r+i)}},actions:{async clearStorage(){try{await ti.clear()}catch(r){console.log(r)}},addToHistory(r,i=0){let u=this.history.push(r)-1;return r.is_delta?this.sumOfDistances+=i:this.sumOfDistances=0,u},async loadFromData(r){ZS=1;try{this.$state=gH,this.currentContent=r.content??"",this.storedContent=r.content??"",this.storedHash=r.hash??"",await ti.clear(),await ti.setItem("storedContent",this.storedContent),await ti.setItem("storedHash",this.storedHash);let i=0;for(;i<r.steps.length;){let u=r.steps[i],m={is_delta:u.is_delta,timestamp:u.timestamp,content:u.content,hash_before:u.hash_before,hash_after:u.hash_after};this.addToHistory(m),await ti.setItem(this.formatIndex(i),m),i++}this.lastStoredIndex=this.history.length-1,this.lastSentIndex=this.history.length-1,this.lastSentHash=this.storedHash,await ti.setItem("lastStoredIndex",this.lastStoredIndex),await ti.setItem("lastSentIndex",this.lastSentIndex),await ti.setItem("lastSentHash",this.lastSentHash)}catch(i){console.log(i)}ZS=0,setInterval(this.updateContent,mH)},async loadFromStorage(){ZS=1;try{this.$state=gH,this.lastStoredIndex=await ti.getItem("lastStoredIndex")??-1,this.lastSentIndex=await ti.getItem("lastSentIndex")??-1,this.lastSentHash=await ti.getItem("lastSentHash")??"",this.storedContent=await ti.getItem("storedContent")??"",this.storedHash=await ti.getItem("storedHash")??"",this.currentContent=this.storedContent;let r=0;for(;r<=this.lastStoredIndex;){let i=await ti.getItem(this.formatIndex(r));if(i==null)break;this.addToHistory(i),r++}}catch(r){console.log(r)}ZS=0,setInterval(this.updateContent,mH)},async updateContent(r=!1,i=!1){const u=Ac(),m=Date.now();if(!(!i&&m-this.lastCheck<mH||ZS++||ig().writingEndReached)){try{const p=this.currentContent+"";let x=null;if(p!=this.storedContent){const S=this.makeHash(p,u.getServerTime(m));let P=bw.diff_main(this.storedContent,p);bw.diff_cleanupEfficiency(P);const N=bw.diff_levenshtein(P),D=bw.patch_toText(bw.patch_make(this.storedContent,P)),z=bw.patch_apply(bw.patch_fromText(D),this.storedContent);this.history.length==0||i||D.length>p.length||this.sumOfDistances+N>Dfe||z[0]!=p?x={is_delta:0,timestamp:u.getServerTime(m),content:p,hash_before:this.storedHash,hash_after:S}:(N>=Ofe||m-this.lastSave>Afe)&&(x={is_delta:1,timestamp:u.getServerTime(m),content:D,hash_before:this.storedHash,hash_after:S}),x!==null&&(this.lastStoredIndex=this.addToHistory(x,N),this.lastSave=m,this.storedContent=p,this.storedHash=S,await ti.setItem("storedContent",this.storedContent),await ti.setItem("storedHash",this.storedHash),await ti.setItem(this.formatIndex(this.lastStoredIndex),x),await ti.setItem("lastStoredIndex",this.lastStoredIndex),console.log("Delta:",x.is_delta,"| Distance (sum): ",N,"(",this.sumOfDistances,")","| Editor: ",r,"| Duration:",Date.now()-m,"ms"))}this.lastCheck=m,this.sendUpdate(i)}catch(p){console.error(p)}ZS=0}},async sendUpdate(r=!1){if(!r&&Date.now()-this.lastSending<Tfe||qj++)return;let i=[],u=this.lastSentIndex,m=this.lastSentHash,v=this.lastSentIndex+1;for(;v<this.history.length;)i.push(this.history[v]),m=this.history[v].hash_after,u=v++;i.length>0&&(await Ac().saveWritingStepsToBackend(i)&&(this.lastSentIndex=u,this.lastSentHash=m,await ti.setItem("lastSentIndex",u),await ti.setItem("lastSentHash",m)),this.lastSending=Date.now()),qj=!1},async setAllSavingsSent(){this.lastSentIndex=this.lastStoredIndex,this.lastSentHash=this.storedHash,await ti.setItem("lastSentIndex",this.lastSentIndex),await ti.setItem("lastSentHash",this.lastSentHash),this.lastSending=Date.now()},async hasUnsentSavingsInStorage(){return this.lastStoredIndex=await ti.getItem("lastStoredIndex")??-1,this.lastSentIndex=await ti.getItem("lastSentIndex")??-1,this.lastStoredIndex>this.lastSentIndex},async hasHashInStorage(r){return this.lastSentHash=await ti.getItem("lastSentHash")??"",r==this.lastSentHash}}});class F0{constructor(i={}){Wr(this,"note_no",0);Wr(this,"note_text","");Wr(this,"last_change",null);this.setData(i)}static getKeyForNo(i){return"NOTE_"+i}setData(i){i.note_no!==void 0&&i.note_no!==null&&(this.note_no=parseInt(i.note_no)),i.note_text!==void 0&&i.note_text!==null&&(this.note_text=i.note_text.toString()),i.last_change!==void 0&&i.last_change!==null&&(this.last_change=parseInt(i.last_change))}getData(){return{note_no:this.note_no,note_text:this.note_text,last_change:this.last_change}}getKey(){return F0.getKeyForNo(this.note_no)}getClone(){return new F0(this.getData())}isEqual(i){for(const u in this)if(this[u]!==i[u])return!1;return!0}}const Rp=Vp.createInstance({storeName:"writer-notes",description:"Writer notes data"}),Gj=200;function Rfe(){return{keys:[],notes:{},editNotes:{},lastCheck:0,activeKey:null}}let hH=0;const ey=ug("notes",{state:()=>Rfe(),getters:{hasWrittenNotes:r=>{for(const i in r.notes)if(r.notes[i].note_text.length>0)return!0;return!1}},actions:{async clearStorage(){try{await Rp.clear()}catch(r){console.log(r)}this.$reset()},async loadFromStorage(){try{this.$reset();const r=await Rp.getItem("keys");r&&(this.keys=JSON.parse(r));for(const i of this.keys){const u=await Rp.getItem(i);if(u){const m=JSON.parse(u);if(typeof m=="object"&&m!==null){const v=new F0(m);this.notes[i]=v,this.editNotes[i]=v.getClone()}}}}catch(r){console.log(r)}},async loadFromData(r){try{await Rp.clear(),this.$reset();for(const i of r){const u=new F0(i);this.notes[u.getKey()]=u,this.editNotes[u.getKey()]=u.getClone(),this.keys.push(u.getKey()),await Rp.setItem(u.getKey(),JSON.stringify(u.getData()))}await Rp.setItem("keys",JSON.stringify(this.keys))}catch(i){console.log(i)}hH=0,setInterval(this.updateContent,Gj)},async prepareNotes(r){const i=[];let u=!1;for(let m=0;m<r;m++){const v=F0.getKeyForNo(m);if(i.push(v),this.activeKey==v&&(u=!0),!(v in this.notes)){const p=new F0({note_no:m});this.notes[v]=p,this.editNotes[v]=p.getClone(),await Rp.setItem(v,JSON.stringify(p.getData()))}}this.keys=i,await Rp.setItem("keys",JSON.stringify(this.keys)),r>0&&!u&&(this.activeKey=F0.getKeyForNo(0))},async updateContent(r=!1,i=!1){const u=Date.now();if(!(u-this.lastCheck<Gj&&!i||hH++&&!i||ig().writingEndReached)){for(const v in this.editNotes)try{const p=this.editNotes[v].getClone(),x=this.notes[v]??new F0;if(!p.isEqual(x)){const S=Ac(),P=Nd();p.last_change=S.getServerTime(Date.now()),this.editNotes[v].setData(p.getData()),this.notes[v]=p,await Rp.setItem(v,JSON.stringify(p.getData())),await P.setChange(new xa({type:xa.TYPE_NOTES,action:xa.ACTION_SAVE,key:v})),console.log("Save Change ","| Editor: ",r,"| Duration:",Date.now()-u,"ms")}this.lastCheck=u}catch(p){console.error(p)}hH=0}},async getChangedData(r=0){const i=Ac(),u=Nd(),m=[];for(const v of u.getChangesFor(xa.TYPE_NOTES,r)){const p=await Rp.getItem(v.key);p?m.push(i.getChangeDataToSend(v,JSON.parse(p))):m.push(i.getChangeDataToSend(v))}return m}}}),jS=Vp.createInstance({storeName:"writer-alerts",description:"Alert Messages"}),XS=ug("alerts",{state:()=>({keys:[],alerts:[],activeKey:"",showAllAlerts:!1}),getters:{countAlerts:r=>r.alerts.length,hasAlerts:r=>r.alerts.length>0,hasActiveAlert:r=>r.activeKey!="",activeMessage(r){const i=r.alerts.find(u=>u.key==r.activeKey);return i?i.message:""},getAlert(r){return i=>r.alerts.find(u=>u.key==i)},formatTimestamp(){return r=>new Date(r*1e3).toLocaleString()}},actions:{showAlerts(){this.showAllAlerts=!0},hideAlert(){this.activeKey="",this.showAllAlerts=!1},async clearStorage(){try{await jS.clear()}catch(r){console.log(r)}},async loadFromStorage(){try{const r=await jS.getItem("alertKeys");r&&(this.keys=JSON.parse(r)),this.alerts=[];for(const i of this.keys){let u=await jS.getItem(i);this.alerts.unshift(u)}}catch(r){console.log(r)}},async loadFromData(r,i=!1){try{await jS.clear();let u=[],m=[];for(const v of r)i&&!this.keys.includes(v.key)&&(this.activeKey=v.key),m.unshift(v),u.push(v.key),await jS.setItem(v.key,v);this.keys=u,this.alerts=m,await jS.setItem("alertKeys",JSON.stringify(this.keys))}catch(u){console.log(u)}}}});var $0;let H0=($0=class{constructor(i={}){Wr(this,"resource_key","");Wr(this,"mark_key","");Wr(this,"mark_value",{});Wr(this,"parent_number",0);Wr(this,"start_position",0);Wr(this,"end_position",0);Wr(this,"comment",null);Wr(this,"label","");this.setData(i)}static buildKey(i,u){return"ANNO-"+i+"-"+u}static getFromKey(i){const u=i.split("-");return new $0({resource_key:u[1],mark_key:u[2]+"-"+u[3]})}static compare(i,u){return i.resource_key<u.resource_key?-1:i.resource_key>u.resource_key?1:i.parent_number<u.parent_number?-1:i.parent_number>u.parent_number?1:i.start_position<u.start_position?-1:i.start_position>u.start_position?1:0}setData(i){i.resource_key!==void 0&&i.resource_key!==null&&(this.resource_key=i.resource_key.toString()),i.mark_key!==void 0&&i.mark_key!==null&&(this.mark_key=i.mark_key),i.mark_value!==void 0&&i.mark_value!==null&&(this.mark_value=i.mark_value),i.parent_number!==void 0&&i.parent_number!==null&&(this.parent_number=i.parent_number),i.start_position!==void 0&&i.start_position!==null&&(this.start_position=i.start_position),i.end_position!==void 0&&i.end_position!==null&&(this.end_position=i.end_position),i.comment!==void 0&&i.comment!==null&&(this.comment=i.comment)}getData(){return{resource_key:this.resource_key,mark_key:this.mark_key,mark_value:this.mark_value,parent_number:this.parent_number,start_position:this.start_position,end_position:this.end_position,comment:this.comment}}getKey(){return $0.buildKey(this.resource_key,this.mark_key)}getSignature(){return JSON.stringify(this.getData())}getClone(){return new $0(this.getData())}},Wr($0,"KEY_INSTRUCTIONS","instructions"),$0);const og=Vp.createInstance({storeName:"writer-annotations",description:"Writer annotations data"});function Nfe(){return{keys:[],annotations:[],markerChange:0,selectionChange:0,caretRequest:0,selectedKey:"",deletedKey:"",firstVisibleKey:""}}const tk=ug("annotations",{state:()=>Nfe(),getters:{activeAnnotations:r=>{const u=Ec().shownResourceKey;return u?r.annotations.filter(m=>m.resource_key==u):[]},getAnnotation:r=>function(u){return r.annotations.find(m=>m.getKey()===u)},getAnnotationsForResource:r=>function(u){return r.annotations.filter(m=>m.resource_key===u)}},actions:{setFirstVisibleAnnotation(r){this.firstVisibleKey=r},setMarkerChange(){this.markerChange=Date.now()},setCaretRequest(){this.caretRequest=Date.now()},selectAnnotation(r){this.selectedKey=r,this.selectionChange=Date.now()},async createAnnotation(r){Ac();const i=Nd();this.keys.push(r.getKey()),this.annotations.push(r),await this.sortAndLabelAnnotations(),this.setMarkerChange(),this.selectAnnotation(r),await og.setItem(r.getKey(),JSON.stringify(r.getData())),await og.setItem("keys",JSON.stringify(this.keys)),await i.setChange(new xa({type:xa.TYPE_ANNOTATIONS,action:xa.ACTION_SAVE,key:r.getKey()}))},async updateAnnotation(r,i=!1){Ac();const u=Nd();this.keys.includes(r.getKey())&&(await og.setItem(r.getKey(),JSON.stringify(r.getData())),await u.setChange(new xa({type:xa.TYPE_ANNOTATIONS,action:xa.ACTION_SAVE,key:r.getKey()})),i&&(await this.sortAndLabelAnnotations(),this.setMarkerChange()))},async deleteAnnotation(r){this.selectedKey==r&&this.selectAnnotation("");const i=this.annotations.find(v=>v.getKey()==r);this.annotations=this.annotations.filter(v=>v.getKey()!=r),this.keys.includes(r)&&(this.keys=this.keys.filter(v=>v!=r),await og.setItem("keys",JSON.stringify(this.keys)),await og.removeItem(r)),this.deletedKey=r;const u=Nd(),m=new xa({type:xa.TYPE_ANNOTATIONS,action:xa.ACTION_DELETE,key:i.getKey()});await u.setChange(m),await this.sortAndLabelAnnotations(),this.setMarkerChange()},async sortAndLabelAnnotations(){this.annotations=this.annotations.sort(H0.compare);let r="",i=0,u=0;for(const m of this.annotations)m.resource_key!==r?(r=m.resource_key,i=0,u=1):m.parent_number>i?(i=m.parent_number,u=1):u++,m.label=(i+1).toString()+"."+u.toString()},async clearStorage(){try{await og.clear()}catch(r){console.log(r)}this.$reset()},async loadFromStorage(){try{this.$reset();const r=await og.getItem("keys");r&&(this.keys=JSON.parse(r));for(const i of this.keys){const u=await og.getItem(i);if(u){const m=JSON.parse(u);if(typeof m=="object"&&m!==null){const v=new H0(m);this.annotations.push(v)}}}await this.sortAndLabelAnnotations()}catch(r){console.log(r)}},async loadFromData(r){try{await og.clear(),this.$reset();for(const i of r){const u=new H0(i);this.annotations.push(u),this.keys.push(u.getKey()),await og.setItem(u.getKey(),JSON.stringify(u.getData()))}await og.setItem("keys",JSON.stringify(this.keys)),await this.sortAndLabelAnnotations()}catch(i){console.log(i)}},async getChangedData(r=0){const i=Ac(),u=Nd(),m=[];for(const v of u.getChangesFor(xa.TYPE_ANNOTATIONS,r)){const p=await og.getItem(v.key);p?m.push(i.getChangeDataToSend(v,JSON.parse(p))):m.push(i.getChangeDataToSend(v,H0.getFromKey(v.key)))}return m}}}),Ife=5e3,Ac=ug("api",{state:()=>({backendUrl:"",returnUrl:"",userKey:"",environmentKey:"",dataToken:"",fileToken:"",timeOffset:0,initialized:!1,review:!1,showInitFailure:!1,showReplaceConfirmation:!1,showReloadConfirmation:!1,showFinalizeFailure:!1,showAuthorizeFailure:!1,lastStepsTry:0,lastSendingTry:0}),getters:{isAllSent:r=>{const i=L0(),u=Nd();return!r.isSending&&i.openSendings+u.countChanges==0},isSending:r=>{r.lastSendingTry>0||r.lastStepsTry>0},getRequestConfig:r=>function(u){let m=r.backendUrl,v=new URLSearchParams,p=m.search(/\?+/);return p!=-1&&(v=new URLSearchParams(m.substr(p)),m=m.substr(0,p)),v.append("LongEssayUser",r.userKey),v.append("LongEssayEnvironment",r.environmentKey),v.append("LongEssaySignature",KG(r.userKey+r.environmentKey+u)),{baseURL:m,params:v,timeout:3e4,responseType:"json",responseEncoding:"utf8"}},getResourceUrl:r=>function(u){const m=this.getRequestConfig(this.fileToken);return m.baseURL+"/file/"+u+"?"+m.params.toString()},getServerTime:r=>function(u){return u==0?0:Math.floor((u-r.timeOffset)/1e3)},getChangeDataToSend:r=>function(u,m=null){const v=u.getData();return m&&(v.payload=m),v.server_time=r.getServerTime(u.last_change),v}},actions:{async init(){let r=!1,i=Ki.get("LongEssayHash");if(this.backendUrl=localStorage.getItem("writerBackendUrl"),this.returnUrl=localStorage.getItem("writerReturnUrl"),this.userKey=localStorage.getItem("writerUserKey"),this.environmentKey=localStorage.getItem("writerEnvironmentKey"),this.dataToken=localStorage.getItem("writerDataToken"),this.fileToken=localStorage.getItem("writerFileToken"),this.timeOffset=Math.floor(localStorage.getItem("writerTimeOffset")??0),Ki.get("LongEssayUser")&&Ki.get("LongEssayUser")!==this.userKey&&(this.userKey=Ki.get("LongEssayUser"),r=!0),Ki.get("LongEssayEnvironment")&&Ki.get("LongEssayEnvironment")!==this.environmentKey&&(this.environmentKey=Ki.get("LongEssayEnvironment"),r=!0),Ki.get("LongEssayBackend")&&Ki.get("LongEssayBackend")!==this.backendUrl&&(this.backendUrl=Ki.get("LongEssayBackend")),Ki.get("LongEssayReturn")&&Ki.get("LongEssayReturn")!==this.returnUrl&&(this.returnUrl=Ki.get("LongEssayReturn")),Ki.get("LongEssayToken")&&Ki.get("LongEssayToken")!==this.dataToken&&(this.dataToken=Ki.get("LongEssayToken")),!this.backendUrl||!this.returnUrl||!this.userKey||!this.environmentKey||!this.dataToken){this.showInitFailure=!0;return}const u=L0(),m=Nd();r?await u.hasUnsentSavingsInStorage()||m.countChanges>0?(console.log("init: new context, open savings"),this.showReplaceConfirmation=!0):(console.log("init: new context, no open savings"),await this.loadDataFromBackend()):i?await u.hasHashInStorage(i)?(console.log("init: same context, same hash"),await this.loadDataFromStorage()):await u.hasUnsentSavingsInStorage()||m.countChanges>0?(console.log("init: same context, hashes differ, open savings"),this.showReloadConfirmation=!0):(console.log("init: same context, hashes differ, no open savings"),await this.loadDataFromBackend()):await u.hasUnsentSavingsInStorage()||m.countChanges>0?(console.log("init: same context, no server hash, open savings"),await this.loadDataFromStorage()):(console.log("init: same context, no server hash, no open savings"),await this.loadDataFromBackend()),setInterval(this.timedSync,Ife)},async timedSync(){await this.saveChangesToBackend(),await this.loadUpdateFromBackend()},async loadDataFromStorage(){console.log("loadDataFromStorage..."),this.updateConfig();const r=Pp(),i=ry(),u=ig(),m=XS(),v=ag(),p=L0(),x=ey(),S=Ec(),P=Nd(),N=tk();await r.loadFromStorage(),await i.loadFromStorage(),await u.loadFromStorage(),await m.loadFromStorage(),await v.loadFromStorage(),await p.loadFromStorage(),await x.loadFromStorage(),await x.prepareNotes(r.notice_boards),await S.loadFromStorage(),await P.loadFromStorage(),await N.loadFromStorage(),await this.loadUpdateFromBackend(),this.initialized=!0},async loadDataFromBackend(){console.log("loadDataFromBackend..."),this.updateConfig();let r={};try{r=await Na.get("/data",this.getRequestConfig(this.dataToken)),this.setTimeOffset(r),this.refreshToken(r)}catch(z){console.error(z),this.showInitFailure=!0;return}const i=Pp(),u=ry(),m=ig(),v=XS(),p=ag(),x=L0(),S=ey(),P=Nd(),N=Ec(),D=tk();await i.loadFromData(r.data.settings),await u.loadFromData(r.data.preferences),await m.loadFromData(r.data.task),await v.loadFromData(r.data.alerts,!1),await p.loadFromData(r.data.resources),await x.loadFromData(r.data.essay),await S.loadFromData(r.data.notes),await S.prepareNotes(i.notice_boards),await D.loadFromData(r.data.annotations),await P.clearStorage(),await N.initialize(),r.data.essay.started||await this.sendStart(),this.initialized=!0},async loadUpdateFromBackend(){if(this.lastSendingTry>0)return!1;this.lastSendingTry=Date.now();try{const r=await Na.get("/update",this.getRequestConfig(this.dataToken));this.setTimeOffset(r),this.refreshToken(r);const i=ig(),u=XS(),m=Pp(),v=ey();return await i.loadFromData(r.data.task),await u.loadFromData(r.data.alerts,!0),await m.loadFromData(r.data.settings),await v.prepareNotes(m.notice_boards),this.lastSendingTry=0,!0}catch(r){return console.error(r),this.lastSendingTry=0,!1}},async sendStart(){let r={},i={started:this.getServerTime(Date.now())};try{return r=await Na.put("/start",i,this.getRequestConfig(this.dataToken)),this.setTimeOffset(r),this.refreshToken(r),!0}catch(u){return console.error(u),this.showInitFailure=!0,!1}},async saveWritingStepsToBackend(r){let i={},u={steps:r};this.lastStepsTry=Date.now();try{return i=await Na.put("/steps",u,this.getRequestConfig(this.dataToken)),this.setTimeOffset(i),this.refreshToken(i),this.lastStepsTry=0,!0}catch(m){return console.error(m),this.lastStepsTry=0,!1}},async saveChangesToBackend(r=!1){const i=tk(),u=Nd(),m=ey(),v=ry();if(r){let p=0;for(;p<5&&this.lastSendingTry>0;)p++,await new Promise(x=>setTimeout(x,1e3))}if(this.lastSendingTry>0)return!1;if(u.countChanges>0){this.lastSendingTry=Date.now();try{const p={annotations:await i.getChangedData(this.lastSendingTry),notes:await m.getChangedData(this.lastSendingTry),preferences:await v.getChangedData(this.lastSendingTry)},x=await Na.put("/changes",p,this.getRequestConfig(this.dataToken));this.setTimeOffset(x),this.refreshToken(x),await u.setChangesSent(xa.TYPE_ANNOTATIONS,x.data.annotations,this.lastSendingTry),await u.setChangesSent(xa.TYPE_NOTES,x.data.notes,this.lastSendingTry),await u.setChangesSent(xa.TYPE_PREFERENCES,x.data.preferences,this.lastSendingTry)}catch(p){return console.error(p),this.lastSendingTry=0,!1}this.lastSendingTry=0}return!0},async saveFinalContentToBackend(r,i,u,m){let v={},p={steps:r,content:i,hash:u,authorized:m};try{return v=await Na.put("/final",p,this.getRequestConfig(this.dataToken)),this.refreshToken(v),!0}catch(x){return console.error(x),!1}},updateConfig(){Ki.remove("LongEssayBackend"),Ki.remove("LongEssayReturn"),Ki.remove("LongEssayUser"),Ki.remove("LongEssayEnvironment"),Ki.remove("LongEssayToken"),Ki.remove("LongEssayHash"),localStorage.setItem("writerBackendUrl",this.backendUrl),localStorage.setItem("writerReturnUrl",this.returnUrl),localStorage.setItem("writerUserKey",this.userKey),localStorage.setItem("writerEnvironmentKey",this.environmentKey),localStorage.setItem("writerDataToken",this.dataToken),localStorage.setItem("writerFileToken",this.fileToken)},setTimeOffset(r){if(r.headers.longessaytime){const i=r.headers.longessaytime*1e3,u=Date.now();this.timeOffset=u-i,localStorage.setItem("writerTimeOffset",this.timeOffset)}},refreshToken(r){r.headers.longessaydatatoken&&(this.dataToken=r.headers.longessaydatatoken,localStorage.setItem("writerDataToken",this.dataToken)),r.headers.longessayfiletoken&&(this.fileToken=r.headers.longessayfiletoken,localStorage.setItem("writerFileToken",this.fileToken))},async finalize(r){const i=Pp(),u=ig(),m=ag(),v=L0(),p=ey(),x=Ec(),S=XS(),P=Nd();if((r||v.openSendings>0)&&!await this.saveFinalContentToBackend(v.unsentHistory,v.storedContent,v.storedHash,r)){this.review=!0,this.showFinalizeFailure=!0,this.showAuthorizeFailure=r;return}await i.clearStorage(),await u.clearStorage(),await m.clearStorage(),await v.clearStorage(),await p.clearStorage(),await x.clearStorage(),await S.clearStorage(),await P.clearStorage(),localStorage.clear(),window.location=this.returnUrl},async retry(){const r=L0();await this.saveFinalContentToBackend(r.unsentHistory,r.storedContent,r.storedHash,!1)?await r.setAllSavingsSent():this.showFinalizeFailure=!0,this.review=!0}}}),pH=Vp.createInstance({storeName:"writer-task",description:"Task data"}),ig=ug("task",{state:()=>({title:null,writer_name:null,instructions:null,writing_end:null,writing_excluded:null,remaining_time:null}),getters:{hasInstructions:r=>!!r.instructions,hasWritingEnd:r=>!!r.writing_end,writingEndReached:r=>r.remaining_time===0,isExcluded:r=>r.writing_excluded>0},actions:{setData(r){this.title=r.title,this.instructions=r.instructions,this.writer_name=r.writer_name,this.writing_end=r.writing_end,this.writing_excluded=r.writing_excluded},async clearStorage(){try{await pH.clear()}catch(r){console.log(r)}},async loadFromStorage(){try{const r=await pH.getItem("task");this.setData(r)}catch(r){console.log(r)}this.updateRemainingTime(),setInterval(this.updateRemainingTime,1e3)},async loadFromData(r){try{await pH.setItem("task",r),this.setData(r)}catch(i){console.log(i)}this.updateRemainingTime(),setInterval(this.updateRemainingTime,1e3)},updateRemainingTime(){const r=Ac();this.writing_end?this.remaining_time=Math.max(0,this.writing_end-r.getServerTime(Date.now())):this.remaining_time=null,(this.writingEndReached||this.isExcluded)&&(r.review=!0)}}}),by=Qn({border:[Boolean,Number,String]},"border");function vy(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hp();return{borderClasses:ct(()=>{const m=Ma(r)?r.value:r.border,v=[];if(m===!0||m==="")v.push(`${i}--border`);else if(typeof m=="string"||m===0)for(const p of String(m).split(" "))v.push(`border-${p}`);return v})}}const Bfe=[null,"default","comfortable","compact"],G0=Qn({density:{type:String,default:"default",validator:r=>Bfe.includes(r)}},"density");function yy(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hp();return{densityClasses:ct(()=>`${i}--density-${r.density}`)}}const Bw=Qn({elevation:{type:[Number,String],validator(r){const i=parseInt(r);return!isNaN(i)&&i>=0&&i<=24}}},"elevation");function Mw(r){return{elevationClasses:ct(()=>{const u=Ma(r)?r.value:r.elevation,m=[];return u==null||m.push(`elevation-${u}`),m})}}const vh=Qn({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function yh(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hp();return{roundedClasses:ct(()=>{const m=Ma(r)?r.value:r.rounded,v=Ma(r)?r.value:r.tile,p=[];if(m===!0||m==="")p.push(`${i}--rounded`);else if(typeof m=="string"||m===0)for(const x of String(m).split(" "))p.push(`rounded-${x}`);else(v||m===!1)&&p.push("rounded-0");return p})}}const Yi=Qn({tag:{type:String,default:"div"}},"tag");function qV(r){return LV(()=>{const i=[],u={};if(r.value.background)if(VH(r.value.background)){if(u.backgroundColor=r.value.background,!r.value.text&&ece(r.value.background)){const m=Mp(r.value.background);if(m.a==null||m.a===1){const v=Xq(m);u.color=v,u.caretColor=v}}}else i.push(`bg-${r.value.background}`);return r.value.text&&(VH(r.value.text)?(u.color=r.value.text,u.caretColor=r.value.text):i.push(`text-${r.value.text}`)),{colorClasses:i,colorStyles:u}})}function uy(r,i){const u=ct(()=>({text:Ma(r)?r.value:i?r[i]:null})),{colorClasses:m,colorStyles:v}=qV(u);return{textColorClasses:m,textColorStyles:v}}function Lp(r,i){const u=ct(()=>({background:Ma(r)?r.value:i?r[i]:null})),{colorClasses:m,colorStyles:v}=qV(u);return{backgroundColorClasses:m,backgroundColorStyles:v}}const Mfe=["elevated","flat","tonal","outlined","text","plain"];function _M(r,i){return pe(ks,null,[r&&pe("span",{key:"overlay",class:`${i}__overlay`},null),pe("span",{key:"underlay",class:`${i}__underlay`},null)])}const mk=Qn({color:String,variant:{type:String,default:"elevated",validator:r=>Mfe.includes(r)}},"variant");function SM(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hp();const u=ct(()=>{const{variant:p}=Ue(r);return`${i}--variant-${p}`}),{colorClasses:m,colorStyles:v}=qV(ct(()=>{const{variant:p,color:x}=Ue(r);return{[["elevated","flat"].includes(p)?"background":"text"]:x}}));return{colorClasses:m,colorStyles:v,variantClasses:u}}const qG=Qn({baseColor:String,divided:Boolean,...by(),...ss(),...G0(),...Bw(),...vh(),...Yi(),...Ql(),...mk()},"VBtnGroup"),lk=rr()({name:"VBtnGroup",props:qG(),setup(r,i){let{slots:u}=i;const{themeClasses:m}=Oc(r),{densityClasses:v}=yy(r),{borderClasses:p}=vy(r),{elevationClasses:x}=Mw(r),{roundedClasses:S}=yh(r);ck({VBtn:{height:"auto",baseColor:Qr(r,"baseColor"),color:Qr(r,"color"),density:Qr(r,"density"),flat:!0,variant:Qr(r,"variant")}}),Zr(()=>pe(r.tag,{class:["v-btn-group",{"v-btn-group--divided":r.divided},m.value,p.value,v.value,x.value,S.value,r.class],style:r.style},u))}}),Pfe=Qn({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Lfe=Qn({value:null,disabled:Boolean,selectedClass:String},"group-item");function Ffe(r,i){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const m=Sl("useGroupItem");if(!m)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const v=py();Wf(Symbol.for(`${i.description}:id`),v);const p=qi(i,null);if(!p){if(!u)return p;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${i.description}`)}const x=Qr(r,"value"),S=ct(()=>!!(p.disabled.value||r.disabled));p.register({id:v,value:x,disabled:S},m),Tc(()=>{p.unregister(v)});const P=ct(()=>p.isSelected(v)),N=ct(()=>p.items.value[0].id===v),D=ct(()=>p.items.value[p.items.value.length-1].id===v),z=ct(()=>P.value&&[p.selectedClass.value,r.selectedClass]);return so(P,W=>{m.emit("group:selected",{value:W})},{flush:"sync"}),{id:v,isSelected:P,isFirst:N,isLast:D,toggle:()=>p.select(v,!P.value),select:W=>p.select(v,W),selectedClass:z,value:x,disabled:S,group:p}}function zfe(r,i){let u=!1;const m=iu([]),v=Hf(r,"modelValue",[],W=>W==null?[]:GG(m,Ew(W)),W=>{const $=Vfe(m,W);return r.multiple?$:$[0]}),p=Sl("useGroup");function x(W,$){const G=W,Q=Symbol.for(`${i.description}:id`),de=GS(Q,p==null?void 0:p.vnode).indexOf($);Ue(G.value)==null&&(G.value=de,G.useIndexAsValue=!0),de>-1?m.splice(de,0,G):m.push(G)}function S(W){if(u)return;P();const $=m.findIndex(G=>G.id===W);m.splice($,1)}function P(){const W=m.find($=>!$.disabled);W&&r.mandatory==="force"&&!v.value.length&&(v.value=[W.id])}Yu(()=>{P()}),Tc(()=>{u=!0}),AV(()=>{for(let W=0;W<m.length;W++)m[W].useIndexAsValue&&(m[W].value=W)});function N(W,$){const G=m.find(Q=>Q.id===W);if(!($&&(G!=null&&G.disabled)))if(r.multiple){const Q=v.value.slice(),ve=Q.findIndex(Pe=>Pe===W),de=~ve;if($=$??!de,de&&r.mandatory&&Q.length<=1||!de&&r.max!=null&&Q.length+1>r.max)return;ve<0&&$?Q.push(W):ve>=0&&!$&&Q.splice(ve,1),v.value=Q}else{const Q=v.value.includes(W);if(r.mandatory&&Q)return;v.value=$??!Q?[W]:[]}}function D(W){if(r.multiple,v.value.length){const $=v.value[0],G=m.findIndex(de=>de.id===$);let Q=(G+W)%m.length,ve=m[Q];for(;ve.disabled&&Q!==G;)Q=(Q+W)%m.length,ve=m[Q];if(ve.disabled)return;v.value=[m[Q].id]}else{const $=m.find(G=>!G.disabled);$&&(v.value=[$.id])}}const z={register:x,unregister:S,selected:v,select:N,disabled:Qr(r,"disabled"),prev:()=>D(m.length-1),next:()=>D(1),isSelected:W=>v.value.includes(W),selectedClass:ct(()=>r.selectedClass),items:ct(()=>m),getItemIndex:W=>Hfe(m,W)};return Wf(i,z),z}function Hfe(r,i){const u=GG(r,[i]);return u.length?r.findIndex(m=>m.id===u[0]):-1}function GG(r,i){const u=[];return i.forEach(m=>{const v=r.find(x=>fM(m,x.value)),p=r[m];(v==null?void 0:v.value)!=null?u.push(v.id):p!=null&&u.push(p.id)}),u}function Vfe(r,i){const u=[];return i.forEach(m=>{const v=r.findIndex(p=>p.id===m);if(~v){const p=r[v];u.push(p.value!=null?p.value:v)}}),u}const YG=Symbol.for("vuetify:v-btn-toggle"),$fe=Qn({...qG(),...Pfe()},"VBtnToggle"),Ufe=rr()({name:"VBtnToggle",props:$fe(),emits:{"update:modelValue":r=>!0},setup(r,i){let{slots:u}=i;const{isSelected:m,next:v,prev:p,select:x,selected:S}=zfe(r,YG);return Zr(()=>{const P=lk.filterProps(r);return pe(lk,Ia({class:["v-btn-toggle",r.class]},P,{style:r.style}),{default:()=>{var N;return[(N=u.default)==null?void 0:N.call(u,{isSelected:m,next:v,prev:p,select:x,selected:S})]}})}),{next:v,prev:p,select:x}}}),Wfe=Qn({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),cu=rr(!1)({name:"VDefaultsProvider",props:Wfe(),setup(r,i){let{slots:u}=i;const{defaults:m,disabled:v,reset:p,root:x,scoped:S}=sO(r);return ck(m,{reset:p,root:x,scoped:S,disabled:v}),()=>{var P;return(P=u.default)==null?void 0:P.call(u)}}}),Zfe=["x-small","small","default","large","x-large"],kM=Qn({size:{type:[String,Number],default:"default"}},"size");function EM(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hp();return LV(()=>{let u,m;return $8(Zfe,r.size)?u=`${i}--size-${r.size}`:r.size&&(m={width:cr(r.size),height:cr(r.size)}),{sizeClasses:u,sizeStyles:m}})}const jfe=Qn({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:_l,...ss(),...kM(),...Yi({tag:"i"}),...Ql()},"VIcon"),Or=rr()({name:"VIcon",props:jfe(),setup(r,i){let{attrs:u,slots:m}=i;const v=No(),{themeClasses:p}=Oc(r),{iconData:x}=wue(ct(()=>v.value||r.icon)),{sizeClasses:S}=EM(r),{textColorClasses:P,textColorStyles:N}=uy(Qr(r,"color"));return Zr(()=>{var W,$;const D=(W=m.default)==null?void 0:W.call(m);D&&(v.value=($=Vq(D).filter(G=>G.type===iO&&G.children&&typeof G.children=="string")[0])==null?void 0:$.children);const z=!!(u.onClick||u.onClickOnce);return pe(x.value.component,{tag:r.tag,icon:x.value.icon,class:["v-icon","notranslate",p.value,S.value,P.value,{"v-icon--clickable":z,"v-icon--disabled":r.disabled,"v-icon--start":r.start,"v-icon--end":r.end},r.class],style:[S.value?void 0:{fontSize:cr(r.size),height:cr(r.size),width:cr(r.size)},N.value,r.style],role:z?"button":void 0,"aria-hidden":!z,tabindex:z?r.disabled?-1:0:void 0},{default:()=>[D]})}),{}}});function XG(r,i){const u=No(),m=kr(!1);if(MV){const v=new IntersectionObserver(p=>{m.value=!!p.find(x=>x.isIntersecting)},i);Tc(()=>{v.disconnect()}),so(u,(p,x)=>{x&&(v.unobserve(x),m.value=!1),p&&v.observe(p)},{flush:"post"})}return{intersectionRef:u,isIntersecting:m}}const Kfe=Qn({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...ss(),...kM(),...Yi({tag:"div"}),...Ql()},"VProgressCircular"),qfe=rr()({name:"VProgressCircular",props:Kfe(),setup(r,i){let{slots:u}=i;const m=20,v=2*Math.PI*m,p=No(),{themeClasses:x}=Oc(r),{sizeClasses:S,sizeStyles:P}=EM(r),{textColorClasses:N,textColorStyles:D}=uy(Qr(r,"color")),{textColorClasses:z,textColorStyles:W}=uy(Qr(r,"bgColor")),{intersectionRef:$,isIntersecting:G}=XG(),{resizeRef:Q,contentRect:ve}=cG(),de=ct(()=>Math.max(0,Math.min(100,parseFloat(r.modelValue)))),Pe=ct(()=>Number(r.width)),Ie=ct(()=>P.value?Number(r.size):ve.value?ve.value.width:Math.max(Pe.value,32)),re=ct(()=>m/(1-Pe.value/Ie.value)*2),Oe=ct(()=>Pe.value/Ie.value*re.value),oe=ct(()=>cr((100-de.value)/100*v));return ph(()=>{$.value=p.value,Q.value=p.value}),Zr(()=>pe(r.tag,{ref:p,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!r.indeterminate,"v-progress-circular--visible":G.value,"v-progress-circular--disable-shrink":r.indeterminate==="disable-shrink"},x.value,S.value,N.value,r.class],style:[P.value,D.value,r.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":r.indeterminate?void 0:de.value},{default:()=>[pe("svg",{style:{transform:`rotate(calc(-90deg + ${Number(r.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${re.value} ${re.value}`},[pe("circle",{class:["v-progress-circular__underlay",z.value],style:W.value,fill:"transparent",cx:"50%",cy:"50%",r:m,"stroke-width":Oe.value,"stroke-dasharray":v,"stroke-dashoffset":0},null),pe("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:m,"stroke-width":Oe.value,"stroke-dasharray":v,"stroke-dashoffset":oe.value},null)]),u.default&&pe("div",{class:"v-progress-circular__content"},[u.default({value:de.value})])]})),{}}}),Y0=Qn({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function X0(r){return{dimensionStyles:ct(()=>{const u={},m=cr(r.height),v=cr(r.maxHeight),p=cr(r.maxWidth),x=cr(r.minHeight),S=cr(r.minWidth),P=cr(r.width);return m!=null&&(u.height=m),v!=null&&(u.maxHeight=v),p!=null&&(u.maxWidth=p),x!=null&&(u.minHeight=x),S!=null&&(u.minWidth=S),P!=null&&(u.width=P),u})}}const Yj={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},GV=Qn({location:String},"location");function YV(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=arguments.length>2?arguments[2]:void 0;const{isRtl:m}=q0();return{locationStyles:ct(()=>{if(!r.location)return{};const{side:p,align:x}=zH(r.location.split(" ").length>1?r.location:`${r.location} center`,m.value);function S(N){return u?u(N):0}const P={};return p!=="center"&&(i?P[Yj[p]]=`calc(100% - ${S(p)}px)`:P[p]=0),x!=="center"?i?P[Yj[x]]=`calc(100% - ${S(x)}px)`:P[x]=0:(p==="center"?P.top=P.left="50%":P[{top:"left",bottom:"left",left:"top",right:"top"}[p]]="50%",P.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[p]),P})}}const Gfe=Qn({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...ss(),...GV({location:"top"}),...vh(),...Yi(),...Ql()},"VProgressLinear"),Yfe=rr()({name:"VProgressLinear",props:Gfe(),emits:{"update:modelValue":r=>!0},setup(r,i){var Ce;let{slots:u}=i;const m=Hf(r,"modelValue"),{isRtl:v,rtlClasses:p}=q0(),{themeClasses:x}=Oc(r),{locationStyles:S}=YV(r),{textColorClasses:P,textColorStyles:N}=uy(r,"color"),{backgroundColorClasses:D,backgroundColorStyles:z}=Lp(ct(()=>r.bgColor||r.color)),{backgroundColorClasses:W,backgroundColorStyles:$}=Lp(ct(()=>r.bufferColor||r.bgColor||r.color)),{backgroundColorClasses:G,backgroundColorStyles:Q}=Lp(r,"color"),{roundedClasses:ve}=yh(r),{intersectionRef:de,isIntersecting:Pe}=XG(),Ie=ct(()=>parseFloat(r.max)),re=ct(()=>parseFloat(r.height)),Oe=ct(()=>Rw(parseFloat(r.bufferValue)/Ie.value*100,0,100)),oe=ct(()=>Rw(parseFloat(m.value)/Ie.value*100,0,100)),Ge=ct(()=>v.value!==r.reverse),$e=ct(()=>r.indeterminate?"fade-transition":"slide-x-transition"),Ze=pi&&((Ce=window.matchMedia)==null?void 0:Ce.call(window,"(forced-colors: active)").matches);function rt(Re){if(!de.value)return;const{left:R,right:yt,width:Pt}=de.value.getBoundingClientRect(),ln=Ge.value?Pt-Re.clientX+(yt-Pt):Re.clientX-R;m.value=Math.round(ln/Pt*Ie.value)}return Zr(()=>pe(r.tag,{ref:de,class:["v-progress-linear",{"v-progress-linear--absolute":r.absolute,"v-progress-linear--active":r.active&&Pe.value,"v-progress-linear--reverse":Ge.value,"v-progress-linear--rounded":r.rounded,"v-progress-linear--rounded-bar":r.roundedBar,"v-progress-linear--striped":r.striped},ve.value,x.value,p.value,r.class],style:[{bottom:r.location==="bottom"?0:void 0,top:r.location==="top"?0:void 0,height:r.active?cr(re.value):0,"--v-progress-linear-height":cr(re.value),...r.absolute?S.value:{}},r.style],role:"progressbar","aria-hidden":r.active?"false":"true","aria-valuemin":"0","aria-valuemax":r.max,"aria-valuenow":r.indeterminate?void 0:oe.value,onClick:r.clickable&&rt},{default:()=>[r.stream&&pe("div",{key:"stream",class:["v-progress-linear__stream",P.value],style:{...N.value,[Ge.value?"left":"right"]:cr(-re.value),borderTop:`${cr(re.value/2)} dotted`,opacity:parseFloat(r.bufferOpacity),top:`calc(50% - ${cr(re.value/4)})`,width:cr(100-Oe.value,"%"),"--v-progress-linear-stream-to":cr(re.value*(Ge.value?1:-1))}},null),pe("div",{class:["v-progress-linear__background",Ze?void 0:D.value],style:[z.value,{opacity:parseFloat(r.bgOpacity),width:r.stream?0:void 0}]},null),pe("div",{class:["v-progress-linear__buffer",Ze?void 0:W.value],style:[$.value,{opacity:parseFloat(r.bufferOpacity),width:cr(Oe.value,"%")}]},null),pe(zp,{name:$e.value},{default:()=>[r.indeterminate?pe("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(Re=>pe("div",{key:Re,class:["v-progress-linear__indeterminate",Re,Ze?void 0:G.value],style:Q.value},null))]):pe("div",{class:["v-progress-linear__determinate",Ze?void 0:G.value],style:[Q.value,{width:cr(oe.value,"%")}]},null)]}),u.default&&pe("div",{class:"v-progress-linear__content"},[u.default({value:oe.value,buffer:Oe.value})])]})),{}}}),XV=Qn({loading:[Boolean,String]},"loader");function JV(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hp();return{loaderClasses:ct(()=>({[`${i}--loading`]:r.loading}))}}function JG(r,i){var m;let{slots:u}=i;return pe("div",{class:`${r.name}__loader`},[((m=u.default)==null?void 0:m.call(u,{color:r.color,isActive:r.active}))||pe(Yfe,{absolute:r.absolute,active:r.active,color:r.color,height:"2",indeterminate:!0},null)])}const Xfe=["static","relative","fixed","absolute","sticky"],QG=Qn({position:{type:String,validator:r=>Xfe.includes(r)}},"position");function eY(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hp();return{positionClasses:ct(()=>r.position?`${i}--${r.position}`:void 0)}}function Jfe(){const r=Sl("useRoute");return ct(()=>{var i;return(i=r==null?void 0:r.proxy)==null?void 0:i.$route})}function tY(){var r,i;return(i=(r=Sl("useRouter"))==null?void 0:r.proxy)==null?void 0:i.$router}function QV(r,i){var N,D;const u=Yae("RouterLink"),m=ct(()=>!!(r.href||r.to)),v=ct(()=>(m==null?void 0:m.value)||oj(i,"click")||oj(r,"click"));if(typeof u=="string"||!("useLink"in u))return{isLink:m,isClickable:v,href:Qr(r,"href")};const p=ct(()=>({...r,to:Qr(()=>r.to||"")})),x=u.useLink(p.value),S=ct(()=>r.to?x:void 0),P=Jfe();return{isLink:m,isClickable:v,route:(N=S.value)==null?void 0:N.route,navigate:(D=S.value)==null?void 0:D.navigate,isActive:ct(()=>{var z,W,$;return S.value?r.exact?P.value?(($=S.value.isExactActive)==null?void 0:$.value)&&fM(S.value.route.value.query,P.value.query):((W=S.value.isExactActive)==null?void 0:W.value)??!1:((z=S.value.isActive)==null?void 0:z.value)??!1:!1}),href:ct(()=>{var z;return r.to?(z=S.value)==null?void 0:z.route.value.href:r.href})}}const e$=Qn({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let bH=!1;function Qfe(r,i){let u=!1,m,v;pi&&(wa(()=>{window.addEventListener("popstate",p),m=r==null?void 0:r.beforeEach((x,S,P)=>{bH?u?i(P):P():setTimeout(()=>u?i(P):P()),bH=!0}),v=r==null?void 0:r.afterEach(()=>{bH=!1})}),Uf(()=>{window.removeEventListener("popstate",p),m==null||m(),v==null||v()}));function p(x){var S;(S=x.state)!=null&&S.replaced||(u=!0,setTimeout(()=>u=!1))}}function eme(r,i){so(()=>{var u;return(u=r.isActive)==null?void 0:u.value},u=>{r.isLink.value&&u&&i&&wa(()=>{i(!0)})},{immediate:!0})}const nV=Symbol("rippleStop"),tme=80;function Xj(r,i){r.style.transform=i,r.style.webkitTransform=i}function oV(r){return r.constructor.name==="TouchEvent"}function nY(r){return r.constructor.name==="KeyboardEvent"}const nme=function(r,i){var z;let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=0,v=0;if(!nY(r)){const W=i.getBoundingClientRect(),$=oV(r)?r.touches[r.touches.length-1]:r;m=$.clientX-W.left,v=$.clientY-W.top}let p=0,x=.3;(z=i._ripple)!=null&&z.circle?(x=.15,p=i.clientWidth/2,p=u.center?p:p+Math.sqrt((m-p)**2+(v-p)**2)/4):p=Math.sqrt(i.clientWidth**2+i.clientHeight**2)/2;const S=`${(i.clientWidth-p*2)/2}px`,P=`${(i.clientHeight-p*2)/2}px`,N=u.center?S:`${m-p}px`,D=u.center?P:`${v-p}px`;return{radius:p,scale:x,x:N,y:D,centerX:S,centerY:P}},J8={show(r,i){var $;let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(($=i==null?void 0:i._ripple)!=null&&$.enabled))return;const m=document.createElement("span"),v=document.createElement("span");m.appendChild(v),m.className="v-ripple__container",u.class&&(m.className+=` ${u.class}`);const{radius:p,scale:x,x:S,y:P,centerX:N,centerY:D}=nme(r,i,u),z=`${p*2}px`;v.className="v-ripple__animation",v.style.width=z,v.style.height=z,i.appendChild(m);const W=window.getComputedStyle(i);W&&W.position==="static"&&(i.style.position="relative",i.dataset.previousPosition="static"),v.classList.add("v-ripple__animation--enter"),v.classList.add("v-ripple__animation--visible"),Xj(v,`translate(${S}, ${P}) scale3d(${x},${x},${x})`),v.dataset.activated=String(performance.now()),setTimeout(()=>{v.classList.remove("v-ripple__animation--enter"),v.classList.add("v-ripple__animation--in"),Xj(v,`translate(${N}, ${D}) scale3d(1,1,1)`)},0)},hide(r){var p;if(!((p=r==null?void 0:r._ripple)!=null&&p.enabled))return;const i=r.getElementsByClassName("v-ripple__animation");if(i.length===0)return;const u=i[i.length-1];if(u.dataset.isHiding)return;u.dataset.isHiding="true";const m=performance.now()-Number(u.dataset.activated),v=Math.max(250-m,0);setTimeout(()=>{u.classList.remove("v-ripple__animation--in"),u.classList.add("v-ripple__animation--out"),setTimeout(()=>{var S;r.getElementsByClassName("v-ripple__animation").length===1&&r.dataset.previousPosition&&(r.style.position=r.dataset.previousPosition,delete r.dataset.previousPosition),((S=u.parentNode)==null?void 0:S.parentNode)===r&&r.removeChild(u.parentNode)},300)},v)}};function oY(r){return typeof r>"u"||!!r}function eO(r){const i={},u=r.currentTarget;if(!(!(u!=null&&u._ripple)||u._ripple.touched||r[nV])){if(r[nV]=!0,oV(r))u._ripple.touched=!0,u._ripple.isTouch=!0;else if(u._ripple.isTouch)return;if(i.center=u._ripple.centered||nY(r),u._ripple.class&&(i.class=u._ripple.class),oV(r)){if(u._ripple.showTimerCommit)return;u._ripple.showTimerCommit=()=>{J8.show(r,u,i)},u._ripple.showTimer=window.setTimeout(()=>{var m;(m=u==null?void 0:u._ripple)!=null&&m.showTimerCommit&&(u._ripple.showTimerCommit(),u._ripple.showTimerCommit=null)},tme)}else J8.show(r,u,i)}}function Jj(r){r[nV]=!0}function Lf(r){const i=r.currentTarget;if(i!=null&&i._ripple){if(window.clearTimeout(i._ripple.showTimer),r.type==="touchend"&&i._ripple.showTimerCommit){i._ripple.showTimerCommit(),i._ripple.showTimerCommit=null,i._ripple.showTimer=window.setTimeout(()=>{Lf(r)});return}window.setTimeout(()=>{i._ripple&&(i._ripple.touched=!1)}),J8.hide(i)}}function rY(r){const i=r.currentTarget;i!=null&&i._ripple&&(i._ripple.showTimerCommit&&(i._ripple.showTimerCommit=null),window.clearTimeout(i._ripple.showTimer))}let tO=!1;function sY(r){!tO&&(r.keyCode===QZ.enter||r.keyCode===QZ.space)&&(tO=!0,eO(r))}function aY(r){tO=!1,Lf(r)}function iY(r){tO&&(tO=!1,Lf(r))}function lY(r,i,u){const{value:m,modifiers:v}=i,p=oY(m);if(p||J8.hide(r),r._ripple=r._ripple??{},r._ripple.enabled=p,r._ripple.centered=v.center,r._ripple.circle=v.circle,Ele(m)&&m.class&&(r._ripple.class=m.class),p&&!u){if(v.stop){r.addEventListener("touchstart",Jj,{passive:!0}),r.addEventListener("mousedown",Jj);return}r.addEventListener("touchstart",eO,{passive:!0}),r.addEventListener("touchend",Lf,{passive:!0}),r.addEventListener("touchmove",rY,{passive:!0}),r.addEventListener("touchcancel",Lf),r.addEventListener("mousedown",eO),r.addEventListener("mouseup",Lf),r.addEventListener("mouseleave",Lf),r.addEventListener("keydown",sY),r.addEventListener("keyup",aY),r.addEventListener("blur",iY),r.addEventListener("dragstart",Lf,{passive:!0})}else!p&&u&&cY(r)}function cY(r){r.removeEventListener("mousedown",eO),r.removeEventListener("touchstart",eO),r.removeEventListener("touchend",Lf),r.removeEventListener("touchmove",rY),r.removeEventListener("touchcancel",Lf),r.removeEventListener("mouseup",Lf),r.removeEventListener("mouseleave",Lf),r.removeEventListener("keydown",sY),r.removeEventListener("keyup",aY),r.removeEventListener("dragstart",Lf),r.removeEventListener("blur",iY)}function ome(r,i){lY(r,i,!1)}function rme(r){delete r._ripple,cY(r)}function sme(r,i){if(i.value===i.oldValue)return;const u=oY(i.oldValue);lY(r,i,u)}const t$={mounted:ome,unmounted:rme,updated:sme},ame=Qn({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:YG},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:_l,appendIcon:_l,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...by(),...ss(),...G0(),...Y0(),...Bw(),...Lfe(),...XV(),...GV(),...QG(),...vh(),...e$(),...kM(),...Yi({tag:"button"}),...Ql(),...mk({variant:"elevated"})},"VBtn"),es=rr()({name:"VBtn",props:ame(),emits:{"group:selected":r=>!0},setup(r,i){let{attrs:u,slots:m}=i;const{themeClasses:v}=Oc(r),{borderClasses:p}=vy(r),{densityClasses:x}=yy(r),{dimensionStyles:S}=X0(r),{elevationClasses:P}=Mw(r),{loaderClasses:N}=JV(r),{locationStyles:D}=YV(r),{positionClasses:z}=eY(r),{roundedClasses:W}=yh(r),{sizeClasses:$,sizeStyles:G}=EM(r),Q=Ffe(r,r.symbol,!1),ve=QV(r,u),de=ct(()=>{var Ce;return r.active!==void 0?r.active:ve.isLink.value?(Ce=ve.isActive)==null?void 0:Ce.value:Q==null?void 0:Q.isSelected.value}),Pe=ct(()=>de.value?r.activeColor??r.color:r.color),Ie=ct(()=>{var Re,R;return{color:(Q==null?void 0:Q.isSelected.value)&&(!ve.isLink.value||((Re=ve.isActive)==null?void 0:Re.value))||!Q||((R=ve.isActive)==null?void 0:R.value)?Pe.value??r.baseColor:r.baseColor,variant:r.variant}}),{colorClasses:re,colorStyles:Oe,variantClasses:oe}=SM(Ie),Ge=ct(()=>(Q==null?void 0:Q.disabled.value)||r.disabled),$e=ct(()=>r.variant==="elevated"&&!(r.disabled||r.flat||r.border)),Ze=ct(()=>{if(!(r.value===void 0||typeof r.value=="symbol"))return Object(r.value)===r.value?JSON.stringify(r.value,null,0):r.value});function rt(Ce){var Re;Ge.value||ve.isLink.value&&(Ce.metaKey||Ce.ctrlKey||Ce.shiftKey||Ce.button!==0||u.target==="_blank")||((Re=ve.navigate)==null||Re.call(ve,Ce),Q==null||Q.toggle())}return eme(ve,Q==null?void 0:Q.select),Zr(()=>{const Ce=ve.isLink.value?"a":r.tag,Re=!!(r.prependIcon||m.prepend),R=!!(r.appendIcon||m.append),yt=!!(r.icon&&r.icon!==!0);return qo(pe(Ce,{type:Ce==="a"?void 0:"button",class:["v-btn",Q==null?void 0:Q.selectedClass.value,{"v-btn--active":de.value,"v-btn--block":r.block,"v-btn--disabled":Ge.value,"v-btn--elevated":$e.value,"v-btn--flat":r.flat,"v-btn--icon":!!r.icon,"v-btn--loading":r.loading,"v-btn--readonly":r.readonly,"v-btn--slim":r.slim,"v-btn--stacked":r.stacked},v.value,p.value,re.value,x.value,P.value,N.value,z.value,W.value,$.value,oe.value,r.class],style:[Oe.value,S.value,D.value,G.value,r.style],"aria-busy":r.loading?!0:void 0,disabled:Ge.value||void 0,href:ve.href.value,tabindex:r.loading||r.readonly?-1:void 0,onClick:rt,value:Ze.value},{default:()=>{var Pt;return[_M(!0,"v-btn"),!r.icon&&Re&&pe("span",{key:"prepend",class:"v-btn__prepend"},[m.prepend?pe(cu,{key:"prepend-defaults",disabled:!r.prependIcon,defaults:{VIcon:{icon:r.prependIcon}}},m.prepend):pe(Or,{key:"prepend-icon",icon:r.prependIcon},null)]),pe("span",{class:"v-btn__content","data-no-activator":""},[!m.default&&yt?pe(Or,{key:"content-icon",icon:r.icon},null):pe(cu,{key:"content-defaults",disabled:!yt,defaults:{VIcon:{icon:r.icon}}},{default:()=>{var ln;return[((ln=m.default)==null?void 0:ln.call(m))??r.text]}})]),!r.icon&&R&&pe("span",{key:"append",class:"v-btn__append"},[m.append?pe(cu,{key:"append-defaults",disabled:!r.appendIcon,defaults:{VIcon:{icon:r.appendIcon}}},m.append):pe(Or,{key:"append-icon",icon:r.appendIcon},null)]),!!r.loading&&pe("span",{key:"loader",class:"v-btn__loader"},[((Pt=m.loader)==null?void 0:Pt.call(m))??pe(qfe,{color:typeof r.loading=="boolean"?void 0:r.loading,indeterminate:!0,width:"2"},null)])]}}),[[t$,!Ge.value&&r.ripple,"",{center:!!r.icon}]])}),{group:Q}}}),ime={__name:"Timer",setup(r){const i=ig(),u=Ec();function m(v){const p=("00"+Math.floor(v)%60).slice(-2),x=("00"+Math.floor(v/60)%60).slice(-2),S=("00"+Math.floor(v/3600)%24).slice(-2),P=Math.floor(v/86400);return P>1?P+" Tage "+S+" Stunden":P>0?P+" Tag "+S+" Stunden":S!="00"?S+":"+x+":"+p+" Stunden":x!="00"?x+":"+p+" Minuten":p+" Sekunden"}return(v,p)=>qo((hr(),ni(es,{class:"app-header-item",onClick:p[0]||(p[0]=x=>Ue(u).toggleTimer())},{default:vn(()=>[pe(Or,{left:"",icon:"mdi-clock-outline"}),qo(lt("span",null,Id(m(Ue(i).remaining_time)),513),[[gr,Ue(u).showTimer]]),qo(lt("span",null,"Restzeit",512),[[gr,!Ue(u).showTimer]])]),_:1},512)),[[gr,!Ue(i).writingEndReached]])}},W0=rr()({name:"VCardActions",props:ss(),setup(r,i){let{slots:u}=i;return ck({VBtn:{slim:!0,variant:"text"}}),Zr(()=>{var m;return pe("div",{class:["v-card-actions",r.class],style:r.style},[(m=u.default)==null?void 0:m.call(u)])}),{}}}),lme=Qn({opacity:[Number,String],...ss(),...Yi()},"VCardSubtitle"),cme=rr()({name:"VCardSubtitle",props:lme(),setup(r,i){let{slots:u}=i;return Zr(()=>pe(r.tag,{class:["v-card-subtitle",r.class],style:[{"--v-card-subtitle-opacity":r.opacity},r.style]},u)),{}}}),rV=VV("v-card-title");function ume(r){return{aspectStyles:ct(()=>{const i=Number(r.aspectRatio);return i?{paddingBottom:String(1/i*100)+"%"}:void 0})}}const uY=Qn({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...ss(),...Y0()},"VResponsive"),Qj=rr()({name:"VResponsive",props:uY(),setup(r,i){let{slots:u}=i;const{aspectStyles:m}=ume(r),{dimensionStyles:v}=X0(r);return Zr(()=>{var p;return pe("div",{class:["v-responsive",{"v-responsive--inline":r.inline},r.class],style:[v.value,r.style]},[pe("div",{class:"v-responsive__sizer",style:m.value},null),(p=u.additional)==null?void 0:p.call(u),u.default&&pe("div",{class:["v-responsive__content",r.contentClass]},[u.default()])])}),{}}}),AM=Qn({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:r=>r!==!0}},"transition"),ty=(r,i)=>{let{slots:u}=i;const{transition:m,disabled:v,group:p,...x}=r,{component:S=p?BV:zp,...P}=typeof m=="object"?m:{};return Fp(S,Ia(typeof m=="string"?{name:v?"":m}:P,typeof m=="string"?{}:Object.fromEntries(Object.entries({disabled:v,group:p}).filter(N=>{let[D,z]=N;return z!==void 0})),x),u)};function dme(r,i){if(!MV)return;const u=i.modifiers||{},m=i.value,{handler:v,options:p}=typeof m=="object"?m:{handler:m,options:{}},x=new IntersectionObserver(function(){var z;let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],P=arguments.length>1?arguments[1]:void 0;const N=(z=r._observe)==null?void 0:z[i.instance.$.uid];if(!N)return;const D=S.some(W=>W.isIntersecting);v&&(!u.quiet||N.init)&&(!u.once||D||N.init)&&v(D,S,P),D&&u.once?dY(r,i):N.init=!0},p);r._observe=Object(r._observe),r._observe[i.instance.$.uid]={init:!1,observer:x},x.observe(r)}function dY(r,i){var m;const u=(m=r._observe)==null?void 0:m[i.instance.$.uid];u&&(u.observer.unobserve(r),delete r._observe[i.instance.$.uid])}const fY={mounted:dme,unmounted:dY},fme=Qn({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...uY(),...ss(),...vh(),...AM()},"VImg"),TM=rr()({name:"VImg",directives:{intersect:fY},props:fme(),emits:{loadstart:r=>!0,load:r=>!0,error:r=>!0},setup(r,i){let{emit:u,slots:m}=i;const{backgroundColorClasses:v,backgroundColorStyles:p}=Lp(Qr(r,"color")),{roundedClasses:x}=yh(r),S=Sl("VImg"),P=kr(""),N=No(),D=kr(r.eager?"loading":"idle"),z=kr(),W=kr(),$=ct(()=>r.src&&typeof r.src=="object"?{src:r.src.src,srcset:r.srcset||r.src.srcset,lazySrc:r.lazySrc||r.src.lazySrc,aspect:Number(r.aspectRatio||r.src.aspect||0)}:{src:r.src,srcset:r.srcset,lazySrc:r.lazySrc,aspect:Number(r.aspectRatio||0)}),G=ct(()=>$.value.aspect||z.value/W.value||0);so(()=>r.src,()=>{Q(D.value!=="idle")}),so(G,(Re,R)=>{!Re&&R&&N.value&&re(N.value)}),EV(()=>Q());function Q(Re){if(!(r.eager&&Re)&&!(MV&&!Re&&!r.eager)){if(D.value="loading",$.value.lazySrc){const R=new Image;R.src=$.value.lazySrc,re(R,null)}$.value.src&&wa(()=>{var R;u("loadstart",((R=N.value)==null?void 0:R.currentSrc)||$.value.src),setTimeout(()=>{var yt;if(!S.isUnmounted)if((yt=N.value)!=null&&yt.complete){if(N.value.naturalWidth||de(),D.value==="error")return;G.value||re(N.value,null),D.value==="loading"&&ve()}else G.value||re(N.value),Pe()})})}}function ve(){var Re;S.isUnmounted||(Pe(),re(N.value),D.value="loaded",u("load",((Re=N.value)==null?void 0:Re.currentSrc)||$.value.src))}function de(){var Re;S.isUnmounted||(D.value="error",u("error",((Re=N.value)==null?void 0:Re.currentSrc)||$.value.src))}function Pe(){const Re=N.value;Re&&(P.value=Re.currentSrc||Re.src)}let Ie=-1;Tc(()=>{clearTimeout(Ie)});function re(Re){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const yt=()=>{if(clearTimeout(Ie),S.isUnmounted)return;const{naturalHeight:Pt,naturalWidth:ln}=Re;Pt||ln?(z.value=ln,W.value=Pt):!Re.complete&&D.value==="loading"&&R!=null?Ie=window.setTimeout(yt,R):(Re.currentSrc.endsWith(".svg")||Re.currentSrc.startsWith("data:image/svg+xml"))&&(z.value=1,W.value=1)};yt()}const Oe=ct(()=>({"v-img__img--cover":r.cover,"v-img__img--contain":!r.cover})),oe=()=>{var yt;if(!$.value.src||D.value==="idle")return null;const Re=pe("img",{class:["v-img__img",Oe.value],style:{objectPosition:r.position},src:$.value.src,srcset:$.value.srcset,alt:r.alt,crossorigin:r.crossorigin,referrerpolicy:r.referrerpolicy,draggable:r.draggable,sizes:r.sizes,ref:N,onLoad:ve,onError:de},null),R=(yt=m.sources)==null?void 0:yt.call(m);return pe(ty,{transition:r.transition,appear:!0},{default:()=>[qo(R?pe("picture",{class:"v-img__picture"},[R,Re]):Re,[[gr,D.value==="loaded"]])]})},Ge=()=>pe(ty,{transition:r.transition},{default:()=>[$.value.lazySrc&&D.value!=="loaded"&&pe("img",{class:["v-img__img","v-img__img--preload",Oe.value],style:{objectPosition:r.position},src:$.value.lazySrc,alt:r.alt,crossorigin:r.crossorigin,referrerpolicy:r.referrerpolicy,draggable:r.draggable},null)]}),$e=()=>m.placeholder?pe(ty,{transition:r.transition,appear:!0},{default:()=>[(D.value==="loading"||D.value==="error"&&!m.error)&&pe("div",{class:"v-img__placeholder"},[m.placeholder()])]}):null,Ze=()=>m.error?pe(ty,{transition:r.transition,appear:!0},{default:()=>[D.value==="error"&&pe("div",{class:"v-img__error"},[m.error()])]}):null,rt=()=>r.gradient?pe("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${r.gradient})`}},null):null,Ce=kr(!1);{const Re=so(G,R=>{R&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{Ce.value=!0})}),Re())})}return Zr(()=>{const Re=Qj.filterProps(r);return qo(pe(Qj,Ia({class:["v-img",{"v-img--absolute":r.absolute,"v-img--booting":!Ce.value},v.value,x.value,r.class],style:[{width:cr(r.width==="auto"?z.value:r.width)},p.value,r.style]},Re,{aspectRatio:G.value,"aria-label":r.alt,role:r.alt?"img":void 0}),{additional:()=>pe(ks,null,[pe(oe,null,null),pe(Ge,null,null),pe(rt,null,null),pe($e,null,null),pe(Ze,null,null)]),default:m.default}),[[aO("intersect"),{handler:Q,options:r.options},null,{once:!0}]])}),{currentSrc:P,image:N,state:D,naturalWidth:z,naturalHeight:W}}}),mme=Qn({start:Boolean,end:Boolean,icon:_l,image:String,text:String,...by(),...ss(),...G0(),...vh(),...kM(),...Yi(),...Ql(),...mk({variant:"flat"})},"VAvatar"),Q8=rr()({name:"VAvatar",props:mme(),setup(r,i){let{slots:u}=i;const{themeClasses:m}=Oc(r),{borderClasses:v}=vy(r),{colorClasses:p,colorStyles:x,variantClasses:S}=SM(r),{densityClasses:P}=yy(r),{roundedClasses:N}=yh(r),{sizeClasses:D,sizeStyles:z}=EM(r);return Zr(()=>pe(r.tag,{class:["v-avatar",{"v-avatar--start":r.start,"v-avatar--end":r.end},m.value,v.value,p.value,P.value,N.value,D.value,S.value,r.class],style:[x.value,z.value,r.style]},{default:()=>[u.default?pe(cu,{key:"content-defaults",defaults:{VImg:{cover:!0,src:r.image},VIcon:{icon:r.icon}}},{default:()=>[u.default()]}):r.image?pe(TM,{key:"image",src:r.image,alt:"",cover:!0},null):r.icon?pe(Or,{key:"icon",icon:r.icon},null):r.text,_M(!1,"v-avatar")]})),{}}}),gme=Qn({appendAvatar:String,appendIcon:_l,prependAvatar:String,prependIcon:_l,subtitle:[String,Number],title:[String,Number],...ss(),...G0()},"VCardItem"),hme=rr()({name:"VCardItem",props:gme(),setup(r,i){let{slots:u}=i;return Zr(()=>{var N;const m=!!(r.prependAvatar||r.prependIcon),v=!!(m||u.prepend),p=!!(r.appendAvatar||r.appendIcon),x=!!(p||u.append),S=!!(r.title!=null||u.title),P=!!(r.subtitle!=null||u.subtitle);return pe("div",{class:["v-card-item",r.class],style:r.style},[v&&pe("div",{key:"prepend",class:"v-card-item__prepend"},[u.prepend?pe(cu,{key:"prepend-defaults",disabled:!m,defaults:{VAvatar:{density:r.density,image:r.prependAvatar},VIcon:{density:r.density,icon:r.prependIcon}}},u.prepend):pe(ks,null,[r.prependAvatar&&pe(Q8,{key:"prepend-avatar",density:r.density,image:r.prependAvatar},null),r.prependIcon&&pe(Or,{key:"prepend-icon",density:r.density,icon:r.prependIcon},null)])]),pe("div",{class:"v-card-item__content"},[S&&pe(rV,{key:"title"},{default:()=>{var D;return[((D=u.title)==null?void 0:D.call(u))??r.title]}}),P&&pe(cme,{key:"subtitle"},{default:()=>{var D;return[((D=u.subtitle)==null?void 0:D.call(u))??r.subtitle]}}),(N=u.default)==null?void 0:N.call(u)]),x&&pe("div",{key:"append",class:"v-card-item__append"},[u.append?pe(cu,{key:"append-defaults",disabled:!p,defaults:{VAvatar:{density:r.density,image:r.appendAvatar},VIcon:{density:r.density,icon:r.appendIcon}}},u.append):pe(ks,null,[r.appendIcon&&pe(Or,{key:"append-icon",density:r.density,icon:r.appendIcon},null),r.appendAvatar&&pe(Q8,{key:"append-avatar",density:r.density,image:r.appendAvatar},null)])])])}),{}}}),pme=Qn({opacity:[Number,String],...ss(),...Yi()},"VCardText"),Z0=rr()({name:"VCardText",props:pme(),setup(r,i){let{slots:u}=i;return Zr(()=>pe(r.tag,{class:["v-card-text",r.class],style:[{"--v-card-text-opacity":r.opacity},r.style]},u)),{}}}),bme=Qn({appendAvatar:String,appendIcon:_l,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:_l,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...by(),...ss(),...G0(),...Y0(),...Bw(),...XV(),...GV(),...QG(),...vh(),...e$(),...Yi(),...Ql(),...mk({variant:"elevated"})},"VCard"),sy=rr()({name:"VCard",directives:{Ripple:t$},props:bme(),setup(r,i){let{attrs:u,slots:m}=i;const{themeClasses:v}=Oc(r),{borderClasses:p}=vy(r),{colorClasses:x,colorStyles:S,variantClasses:P}=SM(r),{densityClasses:N}=yy(r),{dimensionStyles:D}=X0(r),{elevationClasses:z}=Mw(r),{loaderClasses:W}=JV(r),{locationStyles:$}=YV(r),{positionClasses:G}=eY(r),{roundedClasses:Q}=yh(r),ve=QV(r,u),de=ct(()=>r.link!==!1&&ve.isLink.value),Pe=ct(()=>!r.disabled&&r.link!==!1&&(r.link||ve.isClickable.value));return Zr(()=>{const Ie=de.value?"a":r.tag,re=!!(m.title||r.title!=null),Oe=!!(m.subtitle||r.subtitle!=null),oe=re||Oe,Ge=!!(m.append||r.appendAvatar||r.appendIcon),$e=!!(m.prepend||r.prependAvatar||r.prependIcon),Ze=!!(m.image||r.image),rt=oe||$e||Ge,Ce=!!(m.text||r.text!=null);return qo(pe(Ie,{class:["v-card",{"v-card--disabled":r.disabled,"v-card--flat":r.flat,"v-card--hover":r.hover&&!(r.disabled||r.flat),"v-card--link":Pe.value},v.value,p.value,x.value,N.value,z.value,W.value,G.value,Q.value,P.value,r.class],style:[S.value,D.value,$.value,r.style],href:ve.href.value,onClick:Pe.value&&ve.navigate,tabindex:r.disabled?-1:void 0},{default:()=>{var Re;return[Ze&&pe("div",{key:"image",class:"v-card__image"},[m.image?pe(cu,{key:"image-defaults",disabled:!r.image,defaults:{VImg:{cover:!0,src:r.image}}},m.image):pe(TM,{key:"image-img",cover:!0,src:r.image},null)]),pe(JG,{name:"v-card",active:!!r.loading,color:typeof r.loading=="boolean"?void 0:r.loading},{default:m.loader}),rt&&pe(hme,{key:"item",prependAvatar:r.prependAvatar,prependIcon:r.prependIcon,title:r.title,subtitle:r.subtitle,appendAvatar:r.appendAvatar,appendIcon:r.appendIcon},{default:m.item,prepend:m.prepend,title:m.title,subtitle:m.subtitle,append:m.append}),Ce&&pe(Z0,{key:"text"},{default:()=>{var R;return[((R=m.text)==null?void 0:R.call(m))??r.text]}}),(Re=m.default)==null?void 0:Re.call(m),m.actions&&pe(W0,null,{default:m.actions}),_M(Pe.value,"v-card")]}}),[[aO("ripple"),Pe.value&&r.ripple]])}),{}}}),vme=Qn({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function Zf(r,i,u){return rr()({name:r,props:vme({mode:u,origin:i}),setup(m,v){let{slots:p}=v;const x={onBeforeEnter(S){m.origin&&(S.style.transformOrigin=m.origin)},onLeave(S){if(m.leaveAbsolute){const{offsetTop:P,offsetLeft:N,offsetWidth:D,offsetHeight:z}=S;S._transitionInitialStyles={position:S.style.position,top:S.style.top,left:S.style.left,width:S.style.width,height:S.style.height},S.style.position="absolute",S.style.top=`${P}px`,S.style.left=`${N}px`,S.style.width=`${D}px`,S.style.height=`${z}px`}m.hideOnLeave&&S.style.setProperty("display","none","important")},onAfterLeave(S){if(m.leaveAbsolute&&(S!=null&&S._transitionInitialStyles)){const{position:P,top:N,left:D,width:z,height:W}=S._transitionInitialStyles;delete S._transitionInitialStyles,S.style.position=P||"",S.style.top=N||"",S.style.left=D||"",S.style.width=z||"",S.style.height=W||""}}};return()=>{const S=m.group?BV:zp;return Fp(S,{name:m.disabled?"":r,css:!m.disabled,...m.group?void 0:{mode:m.mode},...m.disabled?{}:x},p.default)}}})}function mY(r,i){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return rr()({name:r,props:{mode:{type:String,default:u},disabled:Boolean,group:Boolean},setup(m,v){let{slots:p}=v;const x=m.group?BV:zp;return()=>Fp(x,{name:m.disabled?"":r,css:!m.disabled,...m.disabled?{}:i},p.default)}})}function gY(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const u=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",m=$f(`offset-${u}`);return{onBeforeEnter(x){x._parent=x.parentNode,x._initialStyle={transition:x.style.transition,overflow:x.style.overflow,[u]:x.style[u]}},onEnter(x){const S=x._initialStyle;x.style.setProperty("transition","none","important"),x.style.overflow="hidden";const P=`${x[m]}px`;x.style[u]="0",x.offsetHeight,x.style.transition=S.transition,r&&x._parent&&x._parent.classList.add(r),requestAnimationFrame(()=>{x.style[u]=P})},onAfterEnter:p,onEnterCancelled:p,onLeave(x){x._initialStyle={transition:"",overflow:x.style.overflow,[u]:x.style[u]},x.style.overflow="hidden",x.style[u]=`${x[m]}px`,x.offsetHeight,requestAnimationFrame(()=>x.style[u]="0")},onAfterLeave:v,onLeaveCancelled:v};function v(x){r&&x._parent&&x._parent.classList.remove(r),p(x)}function p(x){const S=x._initialStyle[u];x.style.overflow=x._initialStyle.overflow,S!=null&&(x.style[u]=S),delete x._initialStyle}}const yme=Qn({target:[Object,Array]},"v-dialog-transition"),xme=rr()({name:"VDialogTransition",props:yme(),setup(r,i){let{slots:u}=i;const m={onBeforeEnter(v){v.style.pointerEvents="none",v.style.visibility="hidden"},async onEnter(v,p){var W;await new Promise($=>requestAnimationFrame($)),await new Promise($=>requestAnimationFrame($)),v.style.visibility="";const{x,y:S,sx:P,sy:N,speed:D}=tK(r.target,v),z=YS(v,[{transform:`translate(${x}px, ${S}px) scale(${P}, ${N})`,opacity:0},{}],{duration:225*D,easing:fce});(W=eK(v))==null||W.forEach($=>{YS($,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*D,easing:W8})}),z.finished.then(()=>p())},onAfterEnter(v){v.style.removeProperty("pointer-events")},onBeforeLeave(v){v.style.pointerEvents="none"},async onLeave(v,p){var W;await new Promise($=>requestAnimationFrame($));const{x,y:S,sx:P,sy:N,speed:D}=tK(r.target,v);YS(v,[{},{transform:`translate(${x}px, ${S}px) scale(${P}, ${N})`,opacity:0}],{duration:125*D,easing:mce}).finished.then(()=>p()),(W=eK(v))==null||W.forEach($=>{YS($,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*D,easing:W8})})},onAfterLeave(v){v.style.removeProperty("pointer-events")}};return()=>r.target?pe(zp,Ia({name:"dialog-transition"},m,{css:!1}),u):pe(zp,{name:"dialog-transition"},u)}});function eK(r){var u;const i=(u=r.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:u.children;return i&&[...i]}function tK(r,i){const u=jq(r),m=FV(i),[v,p]=getComputedStyle(i).transformOrigin.split(" ").map(de=>parseFloat(de)),[x,S]=getComputedStyle(i).getPropertyValue("--v-overlay-anchor-origin").split(" ");let P=u.left+u.width/2;x==="left"||S==="left"?P-=u.width/2:(x==="right"||S==="right")&&(P+=u.width/2);let N=u.top+u.height/2;x==="top"||S==="top"?N-=u.height/2:(x==="bottom"||S==="bottom")&&(N+=u.height/2);const D=u.width/m.width,z=u.height/m.height,W=Math.max(1,D,z),$=D/W||0,G=z/W||0,Q=m.width*m.height/(window.innerWidth*window.innerHeight),ve=Q>.12?Math.min(1.5,(Q-.12)*10+1):1;return{x:P-(v+m.left),y:N-(p+m.top),sx:$,sy:G,speed:ve}}Zf("fab-transition","center center","out-in");Zf("dialog-bottom-transition");Zf("dialog-top-transition");Zf("fade-transition");Zf("scale-transition");Zf("scroll-x-transition");Zf("scroll-x-reverse-transition");Zf("scroll-y-transition");Zf("scroll-y-reverse-transition");Zf("slide-x-transition");Zf("slide-x-reverse-transition");const hY=Zf("slide-y-transition");Zf("slide-y-reverse-transition");const pY=mY("expand-transition",gY()),wme=mY("expand-x-transition",gY("",!0));function vH(r,i){return{x:r.x+i.x,y:r.y+i.y}}function Cme(r,i){return{x:r.x-i.x,y:r.y-i.y}}function nK(r,i){if(r.side==="top"||r.side==="bottom"){const{side:u,align:m}=r,v=m==="left"?0:m==="center"?i.width/2:m==="right"?i.width:m,p=u==="top"?0:u==="bottom"?i.height:u;return vH({x:v,y:p},i)}else if(r.side==="left"||r.side==="right"){const{side:u,align:m}=r,v=u==="left"?0:u==="right"?i.width:u,p=m==="top"?0:m==="center"?i.height/2:m==="bottom"?i.height:m;return vH({x:v,y:p},i)}return vH({x:i.width/2,y:i.height/2},i)}const bY={static:kme,connected:Ame},_me=Qn({locationStrategy:{type:[String,Function],default:"static",validator:r=>typeof r=="function"||r in bY},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function Sme(r,i){const u=No({}),m=No();pi&&hh(()=>!!(i.isActive.value&&r.locationStrategy),p=>{var x,S;so(()=>r.locationStrategy,p),Uf(()=>{window.removeEventListener("resize",v),m.value=void 0}),window.addEventListener("resize",v,{passive:!0}),typeof r.locationStrategy=="function"?m.value=(x=r.locationStrategy(i,r,u))==null?void 0:x.updateLocation:m.value=(S=bY[r.locationStrategy](i,r,u))==null?void 0:S.updateLocation});function v(p){var x;(x=m.value)==null||x.call(m,p)}return{contentStyles:u,updateLocation:m}}function kme(){}function Eme(r,i){const u=FV(r);return i?u.x+=parseFloat(r.style.right||0):u.x-=parseFloat(r.style.left||0),u.y-=parseFloat(r.style.top||0),u}function Ame(r,i,u){(Array.isArray(r.target.value)||pce(r.target.value))&&Object.assign(u.value,{position:"fixed",top:0,[r.isRtl.value?"right":"left"]:0});const{preferredAnchor:v,preferredOrigin:p}=LV(()=>{const G=zH(i.location,r.isRtl.value),Q=i.origin==="overlap"?G:i.origin==="auto"?nH(G):zH(i.origin,r.isRtl.value);return G.side===Q.side&&G.align===oH(Q).align?{preferredAnchor:rj(G),preferredOrigin:rj(Q)}:{preferredAnchor:G,preferredOrigin:Q}}),[x,S,P,N]=["minWidth","minHeight","maxWidth","maxHeight"].map(G=>ct(()=>{const Q=parseFloat(i[G]);return isNaN(Q)?1/0:Q})),D=ct(()=>{if(Array.isArray(i.offset))return i.offset;if(typeof i.offset=="string"){const G=i.offset.split(" ").map(parseFloat);return G.length<2&&G.push(0),G}return typeof i.offset=="number"?[i.offset,0]:[0,0]});let z=!1;const W=new ResizeObserver(()=>{z&&$()});so([r.target,r.contentEl],(G,Q)=>{let[ve,de]=G,[Pe,Ie]=Q;Pe&&!Array.isArray(Pe)&&W.unobserve(Pe),ve&&!Array.isArray(ve)&&W.observe(ve),Ie&&W.unobserve(Ie),de&&W.observe(de)},{immediate:!0}),Uf(()=>{W.disconnect()});function $(){if(z=!1,requestAnimationFrame(()=>z=!0),!r.target.value||!r.contentEl.value)return;const G=jq(r.target.value),Q=Eme(r.contentEl.value,r.isRtl.value),ve=Z8(r.contentEl.value),de=12;ve.length||(ve.push(document.documentElement),r.contentEl.value.style.top&&r.contentEl.value.style.left||(Q.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),Q.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const Pe=ve.reduce((Ce,Re)=>{const R=Re.getBoundingClientRect(),yt=new Tw({x:Re===document.documentElement?0:R.x,y:Re===document.documentElement?0:R.y,width:Re.clientWidth,height:Re.clientHeight});return Ce?new Tw({x:Math.max(Ce.left,yt.left),y:Math.max(Ce.top,yt.top),width:Math.min(Ce.right,yt.right)-Math.max(Ce.left,yt.left),height:Math.min(Ce.bottom,yt.bottom)-Math.max(Ce.top,yt.top)}):yt},void 0);Pe.x+=de,Pe.y+=de,Pe.width-=de*2,Pe.height-=de*2;let Ie={anchor:v.value,origin:p.value};function re(Ce){const Re=new Tw(Q),R=nK(Ce.anchor,G),yt=nK(Ce.origin,Re);let{x:Pt,y:ln}=Cme(R,yt);switch(Ce.anchor.side){case"top":ln-=D.value[0];break;case"bottom":ln+=D.value[0];break;case"left":Pt-=D.value[0];break;case"right":Pt+=D.value[0];break}switch(Ce.anchor.align){case"top":ln-=D.value[1];break;case"bottom":ln+=D.value[1];break;case"left":Pt-=D.value[1];break;case"right":Pt+=D.value[1];break}return Re.x+=Pt,Re.y+=ln,Re.width=Math.min(Re.width,P.value),Re.height=Math.min(Re.height,N.value),{overflows:aj(Re,Pe),x:Pt,y:ln}}let Oe=0,oe=0;const Ge={x:0,y:0},$e={x:!1,y:!1};let Ze=-1;for(;!(Ze++>10);){const{x:Ce,y:Re,overflows:R}=re(Ie);Oe+=Ce,oe+=Re,Q.x+=Ce,Q.y+=Re;{const yt=sj(Ie.anchor),Pt=R.x.before||R.x.after,ln=R.y.before||R.y.after;let gn=!1;if(["x","y"].forEach(Qe=>{if(Qe==="x"&&Pt&&!$e.x||Qe==="y"&&ln&&!$e.y){const On={anchor:{...Ie.anchor},origin:{...Ie.origin}},nr=Qe==="x"?yt==="y"?oH:nH:yt==="y"?nH:oH;On.anchor=nr(On.anchor),On.origin=nr(On.origin);const{overflows:pt}=re(On);(pt[Qe].before<=R[Qe].before&&pt[Qe].after<=R[Qe].after||pt[Qe].before+pt[Qe].after<(R[Qe].before+R[Qe].after)/2)&&(Ie=On,gn=$e[Qe]=!0)}}),gn)continue}R.x.before&&(Oe+=R.x.before,Q.x+=R.x.before),R.x.after&&(Oe-=R.x.after,Q.x-=R.x.after),R.y.before&&(oe+=R.y.before,Q.y+=R.y.before),R.y.after&&(oe-=R.y.after,Q.y-=R.y.after);{const yt=aj(Q,Pe);Ge.x=Pe.width-yt.x.before-yt.x.after,Ge.y=Pe.height-yt.y.before-yt.y.after,Oe+=yt.x.before,Q.x+=yt.x.before,oe+=yt.y.before,Q.y+=yt.y.before}break}const rt=sj(Ie.anchor);return Object.assign(u.value,{"--v-overlay-anchor-origin":`${Ie.anchor.side} ${Ie.anchor.align}`,transformOrigin:`${Ie.origin.side} ${Ie.origin.align}`,top:cr(yH(oe)),left:r.isRtl.value?void 0:cr(yH(Oe)),right:r.isRtl.value?cr(yH(-Oe)):void 0,minWidth:cr(rt==="y"?Math.min(x.value,G.width):x.value),maxWidth:cr(oK(Rw(Ge.x,x.value===1/0?0:x.value,P.value))),maxHeight:cr(oK(Rw(Ge.y,S.value===1/0?0:S.value,N.value)))}),{available:Ge,contentBox:Q}}return so(()=>[v.value,p.value,i.offset,i.minWidth,i.minHeight,i.maxWidth,i.maxHeight],()=>$()),wa(()=>{const G=$();if(!G)return;const{available:Q,contentBox:ve}=G;ve.height>Q.y&&requestAnimationFrame(()=>{$(),requestAnimationFrame(()=>{$()})})}),{updateLocation:$}}function yH(r){return Math.round(r*devicePixelRatio)/devicePixelRatio}function oK(r){return Math.ceil(r*devicePixelRatio)/devicePixelRatio}let sV=!0;const eM=[];function Tme(r){!sV||eM.length?(eM.push(r),aV()):(sV=!1,r(),aV())}let rK=-1;function aV(){cancelAnimationFrame(rK),rK=requestAnimationFrame(()=>{const r=eM.shift();r&&r(),eM.length?aV():sV=!0})}const M8={none:null,close:Rme,block:Nme,reposition:Ime},Ome=Qn({scrollStrategy:{type:[String,Function],default:"block",validator:r=>typeof r=="function"||r in M8}},"VOverlay-scroll-strategies");function Dme(r,i){if(!pi)return;let u;ph(async()=>{u==null||u.stop(),i.isActive.value&&r.scrollStrategy&&(u=oO(),await new Promise(m=>setTimeout(m)),u.active&&u.run(()=>{var m;typeof r.scrollStrategy=="function"?r.scrollStrategy(i,r,u):(m=M8[r.scrollStrategy])==null||m.call(M8,i,r,u)}))}),Uf(()=>{u==null||u.stop()})}function Rme(r){function i(u){r.isActive.value=!1}vY(r.targetEl.value??r.contentEl.value,i)}function Nme(r,i){var x;const u=(x=r.root.value)==null?void 0:x.offsetParent,m=[...new Set([...Z8(r.targetEl.value,i.contained?u:void 0),...Z8(r.contentEl.value,i.contained?u:void 0)])].filter(S=>!S.classList.contains("v-overlay-scroll-blocked")),v=window.innerWidth-document.documentElement.offsetWidth,p=(S=>$V(S)&&S)(u||document.documentElement);p&&r.root.value.classList.add("v-overlay--scroll-blocked"),m.forEach((S,P)=>{S.style.setProperty("--v-body-scroll-x",cr(-S.scrollLeft)),S.style.setProperty("--v-body-scroll-y",cr(-S.scrollTop)),S!==document.documentElement&&S.style.setProperty("--v-scrollbar-offset",cr(v)),S.classList.add("v-overlay-scroll-blocked")}),Uf(()=>{m.forEach((S,P)=>{const N=parseFloat(S.style.getPropertyValue("--v-body-scroll-x")),D=parseFloat(S.style.getPropertyValue("--v-body-scroll-y")),z=S.style.scrollBehavior;S.style.scrollBehavior="auto",S.style.removeProperty("--v-body-scroll-x"),S.style.removeProperty("--v-body-scroll-y"),S.style.removeProperty("--v-scrollbar-offset"),S.classList.remove("v-overlay-scroll-blocked"),S.scrollLeft=-N,S.scrollTop=-D,S.style.scrollBehavior=z}),p&&r.root.value.classList.remove("v-overlay--scroll-blocked")})}function Ime(r,i,u){let m=!1,v=-1,p=-1;function x(S){Tme(()=>{var D,z;const P=performance.now();(z=(D=r.updateLocation).value)==null||z.call(D,S),m=(performance.now()-P)/(1e3/60)>2})}p=(typeof requestIdleCallback>"u"?S=>S():requestIdleCallback)(()=>{u.run(()=>{vY(r.targetEl.value??r.contentEl.value,S=>{m?(cancelAnimationFrame(v),v=requestAnimationFrame(()=>{v=requestAnimationFrame(()=>{x(S)})})):x(S)})})}),Uf(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(p),cancelAnimationFrame(v)})}function vY(r,i){const u=[document,...Z8(r)];u.forEach(m=>{m.addEventListener("scroll",i,{passive:!0})}),Uf(()=>{u.forEach(m=>{m.removeEventListener("scroll",i)})})}const Bme=Symbol.for("vuetify:v-menu"),yY=Qn({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function xY(r,i){let u=()=>{};function m(x){u==null||u();const S=Number(x?r.openDelay:r.closeDelay);return new Promise(P=>{u=Ple(S,()=>{i==null||i(x),P(x)})})}function v(){return m(!0)}function p(){return m(!1)}return{clearDelay:u,runOpenDelay:v,runCloseDelay:p}}const Mme=Qn({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...yY()},"VOverlay-activator");function Pme(r,i){let{isActive:u,isTop:m,contentEl:v}=i;const p=Sl("useActivator"),x=No();let S=!1,P=!1,N=!0;const D=ct(()=>r.openOnFocus||r.openOnFocus==null&&r.openOnHover),z=ct(()=>r.openOnClick||r.openOnClick==null&&!r.openOnHover&&!D.value),{runOpenDelay:W,runCloseDelay:$}=xY(r,$e=>{$e===(r.openOnHover&&S||D.value&&P)&&!(r.openOnHover&&u.value&&!m.value)&&(u.value!==$e&&(N=!0),u.value=$e)}),G=No(),Q={onClick:$e=>{$e.stopPropagation(),x.value=$e.currentTarget||$e.target,u.value||(G.value=[$e.clientX,$e.clientY]),u.value=!u.value},onMouseenter:$e=>{var Ze;(Ze=$e.sourceCapabilities)!=null&&Ze.firesTouchEvents||(S=!0,x.value=$e.currentTarget||$e.target,W())},onMouseleave:$e=>{S=!1,$()},onFocus:$e=>{Mle($e.target,":focus-visible")!==!1&&(P=!0,$e.stopPropagation(),x.value=$e.currentTarget||$e.target,W())},onBlur:$e=>{P=!1,$e.stopPropagation(),$()}},ve=ct(()=>{const $e={};return z.value&&($e.onClick=Q.onClick),r.openOnHover&&($e.onMouseenter=Q.onMouseenter,$e.onMouseleave=Q.onMouseleave),D.value&&($e.onFocus=Q.onFocus,$e.onBlur=Q.onBlur),$e}),de=ct(()=>{const $e={};if(r.openOnHover&&($e.onMouseenter=()=>{S=!0,W()},$e.onMouseleave=()=>{S=!1,$()}),D.value&&($e.onFocusin=()=>{P=!0,W()},$e.onFocusout=()=>{P=!1,$()}),r.closeOnContentClick){const Ze=qi(Bme,null);$e.onClick=()=>{u.value=!1,Ze==null||Ze.closeParents()}}return $e}),Pe=ct(()=>{const $e={};return r.openOnHover&&($e.onMouseenter=()=>{N&&(S=!0,N=!1,W())},$e.onMouseleave=()=>{S=!1,$()}),$e});so(m,$e=>{var Ze;$e&&(r.openOnHover&&!S&&(!D.value||!P)||D.value&&!P&&(!r.openOnHover||!S))&&!((Ze=v.value)!=null&&Ze.contains(document.activeElement))&&(u.value=!1)}),so(u,$e=>{$e||setTimeout(()=>{G.value=void 0})},{flush:"post"});const Ie=FH();ph(()=>{Ie.value&&wa(()=>{x.value=Ie.el})});const re=FH(),Oe=ct(()=>r.target==="cursor"&&G.value?G.value:re.value?re.el:wY(r.target,p)||x.value),oe=ct(()=>Array.isArray(Oe.value)?void 0:Oe.value);let Ge;return so(()=>!!r.activator,$e=>{$e&&pi?(Ge=oO(),Ge.run(()=>{Lme(r,p,{activatorEl:x,activatorEvents:ve})})):Ge&&Ge.stop()},{flush:"post",immediate:!0}),Uf(()=>{Ge==null||Ge.stop()}),{activatorEl:x,activatorRef:Ie,target:Oe,targetEl:oe,targetRef:re,activatorEvents:ve,contentEvents:de,scrimEvents:Pe}}function Lme(r,i,u){let{activatorEl:m,activatorEvents:v}=u;so(()=>r.activator,(P,N)=>{if(N&&P!==N){const D=S(N);D&&x(D)}P&&wa(()=>p())},{immediate:!0}),so(()=>r.activatorProps,()=>{p()}),Uf(()=>{x()});function p(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S(),N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.activatorProps;P&&Fle(P,Ia(v.value,N))}function x(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S(),N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.activatorProps;P&&zle(P,Ia(v.value,N))}function S(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.activator;const N=wY(P,i);return m.value=(N==null?void 0:N.nodeType)===Node.ELEMENT_NODE?N:void 0,m.value}}function wY(r,i){var m,v;if(!r)return;let u;if(r==="parent"){let p=(v=(m=i==null?void 0:i.proxy)==null?void 0:m.$el)==null?void 0:v.parentNode;for(;p!=null&&p.hasAttribute("data-no-activator");)p=p.parentNode;u=p}else typeof r=="string"?u=document.querySelector(r):"$el"in r?u=r.$el:u=r;return u}function Fme(){if(!pi)return kr(!1);const{ssr:r}=aG();if(r){const i=kr(!1);return Yu(()=>{i.value=!0}),i}else return kr(!0)}const zme=Qn({eager:Boolean},"lazy");function Hme(r,i){const u=kr(!1),m=ct(()=>u.value||r.eager||i.value);so(i,()=>u.value=!0);function v(){r.eager||(u.value=!1)}return{isBooted:u,hasContent:m,onAfterLeave:v}}function n$(){const i=Sl("useScopeId").vnode.scopeId;return{scopeId:i?{[i]:""}:void 0}}const sK=Symbol.for("vuetify:stack"),HT=iu([]);function Vme(r,i,u){const m=Sl("useStack"),v=!u,p=qi(sK,void 0),x=iu({activeChildren:new Set});Wf(sK,x);const S=kr(+i.value);hh(r,()=>{var z;const D=(z=HT.at(-1))==null?void 0:z[1];S.value=D?D+10:+i.value,v&&HT.push([m.uid,S.value]),p==null||p.activeChildren.add(m.uid),Uf(()=>{if(v){const W=Eo(HT).findIndex($=>$[0]===m.uid);HT.splice(W,1)}p==null||p.activeChildren.delete(m.uid)})});const P=kr(!0);v&&ph(()=>{var z;const D=((z=HT.at(-1))==null?void 0:z[0])===m.uid;setTimeout(()=>P.value=D)});const N=ct(()=>!x.activeChildren.size);return{globalTop:rO(P),localTop:N,stackStyles:ct(()=>({zIndex:S.value}))}}function $me(r){return{teleportTarget:ct(()=>{const u=r();if(u===!0||!pi)return;const m=u===!1?document.body:typeof u=="string"?document.querySelector(u):u;if(m==null)return;let v=[...m.children].find(p=>p.matches(".v-overlay-container"));return v||(v=document.createElement("div"),v.className="v-overlay-container",m.appendChild(v)),v})}}function Ume(){return!0}function CY(r,i,u){if(!r||_Y(r,u)===!1)return!1;const m=Qq(i);if(typeof ShadowRoot<"u"&&m instanceof ShadowRoot&&m.host===r.target)return!1;const v=(typeof u.value=="object"&&u.value.include||(()=>[]))();return v.push(i),!v.some(p=>p==null?void 0:p.contains(r.target))}function _Y(r,i){return(typeof i.value=="object"&&i.value.closeConditional||Ume)(r)}function Wme(r,i,u){const m=typeof u.value=="function"?u.value:u.value.handler;r.shadowTarget=r.target,i._clickOutside.lastMousedownWasOutside&&CY(r,i,u)&&setTimeout(()=>{_Y(r,u)&&m&&m(r)},0)}function aK(r,i){const u=Qq(r);i(document),typeof ShadowRoot<"u"&&u instanceof ShadowRoot&&i(u)}const Zme={mounted(r,i){const u=v=>Wme(v,r,i),m=v=>{r._clickOutside.lastMousedownWasOutside=CY(v,r,i)};aK(r,v=>{v.addEventListener("click",u,!0),v.addEventListener("mousedown",m,!0)}),r._clickOutside||(r._clickOutside={lastMousedownWasOutside:!1}),r._clickOutside[i.instance.$.uid]={onClick:u,onMousedown:m}},beforeUnmount(r,i){r._clickOutside&&(aK(r,u=>{var p;if(!u||!((p=r._clickOutside)!=null&&p[i.instance.$.uid]))return;const{onClick:m,onMousedown:v}=r._clickOutside[i.instance.$.uid];u.removeEventListener("click",m,!0),u.removeEventListener("mousedown",v,!0)}),delete r._clickOutside[i.instance.$.uid])}};function jme(r){const{modelValue:i,color:u,...m}=r;return pe(zp,{name:"fade-transition",appear:!0},{default:()=>[r.modelValue&&pe("div",Ia({class:["v-overlay__scrim",r.color.backgroundColorClasses.value],style:r.color.backgroundColorStyles.value},m),null)]})}const SY=Qn({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...Mme(),...ss(),...Y0(),...zme(),..._me(),...Ome(),...Ql(),...AM()},"VOverlay"),iK=rr()({name:"VOverlay",directives:{ClickOutside:Zme},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...SY()},emits:{"click:outside":r=>!0,"update:modelValue":r=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(r,i){let{slots:u,attrs:m,emit:v}=i;const p=Sl("VOverlay"),x=No(),S=No(),P=No(),N=Hf(r,"modelValue"),D=ct({get:()=>N.value,set:xn=>{xn&&r.disabled||(N.value=xn)}}),{themeClasses:z}=Oc(r),{rtlClasses:W,isRtl:$}=q0(),{hasContent:G,onAfterLeave:Q}=Hme(r,D),ve=Lp(ct(()=>typeof r.scrim=="string"?r.scrim:null)),{globalTop:de,localTop:Pe,stackStyles:Ie}=Vme(D,Qr(r,"zIndex"),r._disableGlobalStack),{activatorEl:re,activatorRef:Oe,target:oe,targetEl:Ge,targetRef:$e,activatorEvents:Ze,contentEvents:rt,scrimEvents:Ce}=Pme(r,{isActive:D,isTop:Pe,contentEl:P}),{teleportTarget:Re}=$me(()=>{var J,sr,br;const xn=r.attach||r.contained;if(xn)return xn;const Rn=((J=re==null?void 0:re.value)==null?void 0:J.getRootNode())||((br=(sr=p.proxy)==null?void 0:sr.$el)==null?void 0:br.getRootNode());return Rn instanceof ShadowRoot?Rn:!1}),{dimensionStyles:R}=X0(r),yt=Fme(),{scopeId:Pt}=n$();so(()=>r.disabled,xn=>{xn&&(D.value=!1)});const{contentStyles:ln,updateLocation:gn}=Sme(r,{isRtl:$,contentEl:P,target:oe,isActive:D});Dme(r,{root:x,contentEl:P,targetEl:Ge,isActive:D,updateLocation:gn});function Qe(xn){v("click:outside",xn),r.persistent?Zt():D.value=!1}function On(xn){return D.value&&de.value&&(!r.scrim||xn.target===S.value||xn instanceof MouseEvent&&xn.shadowTarget===S.value)}pi&&so(D,xn=>{xn?window.addEventListener("keydown",nr):window.removeEventListener("keydown",nr)},{immediate:!0}),Tc(()=>{pi&&window.removeEventListener("keydown",nr)});function nr(xn){var Rn,J;xn.key==="Escape"&&de.value&&(r.persistent?Zt():(D.value=!1,(Rn=P.value)!=null&&Rn.contains(document.activeElement)&&((J=re.value)==null||J.focus())))}const pt=tY();hh(()=>r.closeOnBack,()=>{Qfe(pt,xn=>{de.value&&D.value?(xn(!1),r.persistent?Zt():D.value=!1):xn()})});const bt=No();so(()=>D.value&&(r.absolute||r.contained)&&Re.value==null,xn=>{if(xn){const Rn=gce(x.value);Rn&&Rn!==document.scrollingElement&&(bt.value=Rn.scrollTop)}});function Zt(){r.noClickAnimation||P.value&&YS(P.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:W8})}function Vr(){v("afterEnter")}function ho(){Q(),v("afterLeave")}return Zr(()=>{var xn;return pe(ks,null,[(xn=u.activator)==null?void 0:xn.call(u,{isActive:D.value,targetRef:$e,props:Ia({ref:Oe},Ze.value,r.activatorProps)}),yt.value&&G.value&&pe(hie,{disabled:!Re.value,to:Re.value},{default:()=>[pe("div",Ia({class:["v-overlay",{"v-overlay--absolute":r.absolute||r.contained,"v-overlay--active":D.value,"v-overlay--contained":r.contained},z.value,W.value,r.class],style:[Ie.value,{"--v-overlay-opacity":r.opacity,top:cr(bt.value)},r.style],ref:x},Pt,m),[pe(jme,Ia({color:ve,modelValue:D.value&&!!r.scrim,ref:S},Ce.value),null),pe(ty,{appear:!0,persisted:!0,transition:r.transition,target:oe.value,onAfterEnter:Vr,onAfterLeave:ho},{default:()=>{var Rn;return[qo(pe("div",Ia({ref:P,class:["v-overlay__content",r.contentClass],style:[R.value,ln.value]},rt.value,r.contentProps),[(Rn=u.default)==null?void 0:Rn.call(u,{isActive:D})]),[[gr,D.value],[aO("click-outside"),{handler:Qe,closeConditional:On,include:()=>[re.value]}]])]}})])]})])}),{activatorEl:re,scrimEl:S,target:oe,animateClick:Zt,contentEl:P,globalTop:de,localTop:Pe,updateLocation:gn}}}),xH=Symbol("Forwarded refs");function wH(r,i){let u=r;for(;u;){const m=Reflect.getOwnPropertyDescriptor(u,i);if(m)return m;u=Object.getPrototypeOf(u)}}function kY(r){for(var i=arguments.length,u=new Array(i>1?i-1:0),m=1;m<i;m++)u[m-1]=arguments[m];return r[xH]=u,new Proxy(r,{get(v,p){if(Reflect.has(v,p))return Reflect.get(v,p);if(!(typeof p=="symbol"||p.startsWith("$")||p.startsWith("__"))){for(const x of u)if(x.value&&Reflect.has(x.value,p)){const S=Reflect.get(x.value,p);return typeof S=="function"?S.bind(x.value):S}}},has(v,p){if(Reflect.has(v,p))return!0;if(typeof p=="symbol"||p.startsWith("$")||p.startsWith("__"))return!1;for(const x of u)if(x.value&&Reflect.has(x.value,p))return!0;return!1},set(v,p,x){if(Reflect.has(v,p))return Reflect.set(v,p,x);if(typeof p=="symbol"||p.startsWith("$")||p.startsWith("__"))return!1;for(const S of u)if(S.value&&Reflect.has(S.value,p))return Reflect.set(S.value,p,x);return!1},getOwnPropertyDescriptor(v,p){var S;const x=Reflect.getOwnPropertyDescriptor(v,p);if(x)return x;if(!(typeof p=="symbol"||p.startsWith("$")||p.startsWith("__"))){for(const P of u){if(!P.value)continue;const N=wH(P.value,p)??("_"in P.value?wH((S=P.value._)==null?void 0:S.setupState,p):void 0);if(N)return N}for(const P of u){const N=P.value&&P.value[xH];if(!N)continue;const D=N.slice();for(;D.length;){const z=D.shift(),W=wH(z.value,p);if(W)return W;const $=z.value&&z.value[xH];$&&D.push(...$)}}}}})}const Kme=Qn({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...SY({origin:"center center",scrollStrategy:"block",transition:{component:xme},zIndex:2400})},"VDialog"),ay=rr()({name:"VDialog",props:Kme(),emits:{"update:modelValue":r=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(r,i){let{emit:u,slots:m}=i;const v=Hf(r,"modelValue"),{scopeId:p}=n$(),x=No();function S(D){var $,G;const z=D.relatedTarget,W=D.target;if(z!==W&&(($=x.value)!=null&&$.contentEl)&&((G=x.value)!=null&&G.globalTop)&&![document,x.value.contentEl].includes(W)&&!x.value.contentEl.contains(W)){const Q=Uq(x.value.contentEl);if(!Q.length)return;const ve=Q[0],de=Q[Q.length-1];z===ve?de.focus():ve.focus()}}pi&&so(()=>v.value&&r.retainFocus,D=>{D?document.addEventListener("focusin",S):document.removeEventListener("focusin",S)},{immediate:!0});function P(){var D;u("afterEnter"),(D=x.value)!=null&&D.contentEl&&!x.value.contentEl.contains(document.activeElement)&&x.value.contentEl.focus({preventScroll:!0})}function N(){u("afterLeave")}return so(v,async D=>{var z;D||(await wa(),(z=x.value.activatorEl)==null||z.focus({preventScroll:!0}))}),Zr(()=>{const D=iK.filterProps(r),z=Ia({"aria-haspopup":"dialog","aria-expanded":String(v.value)},r.activatorProps),W=Ia({tabindex:-1},r.contentProps);return pe(iK,Ia({ref:x,class:["v-dialog",{"v-dialog--fullscreen":r.fullscreen,"v-dialog--scrollable":r.scrollable},r.class],style:r.style},D,{modelValue:v.value,"onUpdate:modelValue":$=>v.value=$,"aria-modal":"true",activatorProps:z,contentProps:W,role:"dialog",onAfterEnter:P,onAfterLeave:N},p),{activator:m.activator,default:function(){for(var $=arguments.length,G=new Array($),Q=0;Q<$;Q++)G[Q]=arguments[Q];return pe(cu,{root:"VDialog"},{default:()=>{var ve;return[(ve=m.default)==null?void 0:ve.call(m,...G)]}})}})}),kY({},x)}}),iV=Symbol.for("vuetify:list");function EY(){const r=qi(iV,{hasPrepend:kr(!1),updateHasPrepend:()=>null}),i={hasPrepend:kr(!1),updateHasPrepend:u=>{u&&(i.hasPrepend.value=u)}};return Wf(iV,i),r}function AY(){return qi(iV,null)}const o$=r=>{const i={activate:u=>{let{id:m,value:v,activated:p}=u;return m=Eo(m),r&&!v&&p.size===1&&p.has(m)||(v?p.add(m):p.delete(m)),p},in:(u,m,v)=>{let p=new Set;if(u!=null)for(const x of Ew(u))p=i.activate({id:x,value:!0,activated:new Set(p),children:m,parents:v});return p},out:u=>Array.from(u)};return i},TY=r=>{const i=o$(r);return{activate:m=>{let{activated:v,id:p,...x}=m;p=Eo(p);const S=v.has(p)?new Set([p]):new Set;return i.activate({...x,id:p,activated:S})},in:(m,v,p)=>{let x=new Set;if(m!=null){const S=Ew(m);S.length&&(x=i.in(S.slice(0,1),v,p))}return x},out:(m,v,p)=>i.out(m,v,p)}},qme=r=>{const i=o$(r);return{activate:m=>{let{id:v,activated:p,children:x,...S}=m;return v=Eo(v),x.has(v)?p:i.activate({id:v,activated:p,children:x,...S})},in:i.in,out:i.out}},Gme=r=>{const i=TY(r);return{activate:m=>{let{id:v,activated:p,children:x,...S}=m;return v=Eo(v),x.has(v)?p:i.activate({id:v,activated:p,children:x,...S})},in:i.in,out:i.out}},Yme={open:r=>{let{id:i,value:u,opened:m,parents:v}=r;if(u){const p=new Set;p.add(i);let x=v.get(i);for(;x!=null;)p.add(x),x=v.get(x);return p}else return m.delete(i),m},select:()=>null},OY={open:r=>{let{id:i,value:u,opened:m,parents:v}=r;if(u){let p=Eo(v.get(i));for(m.add(i);p!=null&&p!==i;)m.add(p),p=Eo(v.get(p));return m}else m.delete(i);return m},select:()=>null},Xme={open:OY.open,select:r=>{let{id:i,value:u,opened:m,parents:v}=r;if(!u)return m;const p=[];let x=v.get(i);for(;x!=null;)p.push(x),x=v.get(x);return new Set(p)}},r$=r=>{const i={select:u=>{let{id:m,value:v,selected:p}=u;if(m=Eo(m),r&&!v){const x=Array.from(p.entries()).reduce((S,P)=>{let[N,D]=P;return D==="on"&&S.push(N),S},[]);if(x.length===1&&x[0]===m)return p}return p.set(m,v?"on":"off"),p},in:(u,m,v)=>{let p=new Map;for(const x of u||[])p=i.select({id:x,value:!0,selected:new Map(p),children:m,parents:v});return p},out:u=>{const m=[];for(const[v,p]of u.entries())p==="on"&&m.push(v);return m}};return i},DY=r=>{const i=r$(r);return{select:m=>{let{selected:v,id:p,...x}=m;p=Eo(p);const S=v.has(p)?new Map([[p,v.get(p)]]):new Map;return i.select({...x,id:p,selected:S})},in:(m,v,p)=>{let x=new Map;return m!=null&&m.length&&(x=i.in(m.slice(0,1),v,p)),x},out:(m,v,p)=>i.out(m,v,p)}},Jme=r=>{const i=r$(r);return{select:m=>{let{id:v,selected:p,children:x,...S}=m;return v=Eo(v),x.has(v)?p:i.select({id:v,selected:p,children:x,...S})},in:i.in,out:i.out}},Qme=r=>{const i=DY(r);return{select:m=>{let{id:v,selected:p,children:x,...S}=m;return v=Eo(v),x.has(v)?p:i.select({id:v,selected:p,children:x,...S})},in:i.in,out:i.out}},ege=r=>{const i={select:u=>{let{id:m,value:v,selected:p,children:x,parents:S}=u;m=Eo(m);const P=new Map(p),N=[m];for(;N.length;){const z=N.shift();p.set(Eo(z),v?"on":"off"),x.has(z)&&N.push(...x.get(z))}let D=Eo(S.get(m));for(;D;){const z=x.get(D),W=z.every(G=>p.get(Eo(G))==="on"),$=z.every(G=>!p.has(Eo(G))||p.get(Eo(G))==="off");p.set(D,W?"on":$?"off":"indeterminate"),D=Eo(S.get(D))}return r&&!v&&Array.from(p.entries()).reduce((W,$)=>{let[G,Q]=$;return Q==="on"&&W.push(G),W},[]).length===0?P:p},in:(u,m,v)=>{let p=new Map;for(const x of u||[])p=i.select({id:x,value:!0,selected:new Map(p),children:m,parents:v});return p},out:(u,m)=>{const v=[];for(const[p,x]of u.entries())x==="on"&&!m.has(p)&&v.push(p);return v}};return i},nO=Symbol.for("vuetify:nested"),RY={id:kr(),root:{register:()=>null,unregister:()=>null,parents:No(new Map),children:No(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:No(!1),selectable:No(!1),opened:No(new Set),activated:No(new Set),selected:No(new Map),selectedValues:No([])}},tge=Qn({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),nge=r=>{let i=!1;const u=No(new Map),m=No(new Map),v=Hf(r,"opened",r.opened,$=>new Set(Eo($)),$=>[...$.values()]),p=ct(()=>{if(typeof r.activeStrategy=="object")return r.activeStrategy;if(typeof r.activeStrategy=="function")return r.activeStrategy(r.mandatory);switch(r.activeStrategy){case"leaf":return qme(r.mandatory);case"single-leaf":return Gme(r.mandatory);case"independent":return o$(r.mandatory);case"single-independent":default:return TY(r.mandatory)}}),x=ct(()=>{if(typeof r.selectStrategy=="object")return r.selectStrategy;if(typeof r.selectStrategy=="function")return r.selectStrategy(r.mandatory);switch(r.selectStrategy){case"single-leaf":return Qme(r.mandatory);case"leaf":return Jme(r.mandatory);case"independent":return r$(r.mandatory);case"single-independent":return DY(r.mandatory);case"classic":default:return ege(r.mandatory)}}),S=ct(()=>{if(typeof r.openStrategy=="object")return r.openStrategy;switch(r.openStrategy){case"list":return Xme;case"single":return Yme;case"multiple":default:return OY}}),P=Hf(r,"activated",r.activated,$=>p.value.in($,u.value,m.value),$=>p.value.out($,u.value,m.value)),N=Hf(r,"selected",r.selected,$=>x.value.in($,u.value,m.value),$=>x.value.out($,u.value,m.value));Tc(()=>{i=!0});function D($){const G=[];let Q=$;for(;Q!=null;)G.unshift(Q),Q=m.value.get(Q);return G}const z=Sl("nested"),W={id:kr(),root:{opened:v,activatable:Qr(r,"activatable"),selectable:Qr(r,"selectable"),activated:P,selected:N,selectedValues:ct(()=>{const $=[];for(const[G,Q]of N.value.entries())Q==="on"&&$.push(G);return $}),register:($,G,Q)=>{G&&$!==G&&m.value.set($,G),Q&&u.value.set($,[]),G!=null&&u.value.set(G,[...u.value.get(G)||[],$])},unregister:$=>{if(i)return;u.value.delete($);const G=m.value.get($);if(G){const Q=u.value.get(G)??[];u.value.set(G,Q.filter(ve=>ve!==$))}m.value.delete($)},open:($,G,Q)=>{z.emit("click:open",{id:$,value:G,path:D($),event:Q});const ve=S.value.open({id:$,value:G,opened:new Set(v.value),children:u.value,parents:m.value,event:Q});ve&&(v.value=ve)},openOnSelect:($,G,Q)=>{const ve=S.value.select({id:$,value:G,selected:new Map(N.value),opened:new Set(v.value),children:u.value,parents:m.value,event:Q});ve&&(v.value=ve)},select:($,G,Q)=>{z.emit("click:select",{id:$,value:G,path:D($),event:Q});const ve=x.value.select({id:$,value:G,selected:new Map(N.value),children:u.value,parents:m.value,event:Q});ve&&(N.value=ve),W.root.openOnSelect($,G,Q)},activate:($,G,Q)=>{if(!r.activatable)return W.root.select($,!0,Q);z.emit("click:activate",{id:$,value:G,path:D($),event:Q});const ve=p.value.activate({id:$,value:G,activated:new Set(P.value),children:u.value,parents:m.value,event:Q});ve&&(P.value=ve)},children:u,parents:m}};return Wf(nO,W),W.root},NY=(r,i)=>{const u=qi(nO,RY),m=Symbol(py()),v=ct(()=>r.value!==void 0?r.value:m),p={...u,id:v,open:(x,S)=>u.root.open(Eo(v.value),x,S),openOnSelect:(x,S)=>u.root.openOnSelect(v.value,x,S),isOpen:ct(()=>u.root.opened.value.has(Eo(v.value))),parent:ct(()=>u.root.parents.value.get(v.value)),activate:(x,S)=>u.root.activate(v.value,x,S),isActivated:ct(()=>u.root.activated.value.has(Eo(v.value))),select:(x,S)=>u.root.select(v.value,x,S),isSelected:ct(()=>u.root.selected.value.get(Eo(v.value))==="on"),isIndeterminate:ct(()=>u.root.selected.value.get(v.value)==="indeterminate"),isLeaf:ct(()=>!u.root.children.value.get(v.value)),isGroupActivator:u.isGroupActivator};return!u.isGroupActivator&&u.root.register(v.value,u.id.value,i),Tc(()=>{!u.isGroupActivator&&u.root.unregister(v.value)}),i&&Wf(nO,p),p},oge=()=>{const r=qi(nO,RY);Wf(nO,{...r,isGroupActivator:!0})};function OM(){const r=kr(!1);return Yu(()=>{window.requestAnimationFrame(()=>{r.value=!0})}),{ssrBootStyles:ct(()=>r.value?void 0:{transition:"none !important"}),isBooted:rO(r)}}const rge=uk({name:"VListGroupActivator",setup(r,i){let{slots:u}=i;return oge(),()=>{var m;return(m=u.default)==null?void 0:m.call(u)}}}),sge=Qn({activeColor:String,baseColor:String,color:String,collapseIcon:{type:_l,default:"$collapse"},expandIcon:{type:_l,default:"$expand"},prependIcon:_l,appendIcon:_l,fluid:Boolean,subgroup:Boolean,title:String,value:null,...ss(),...Yi()},"VListGroup"),lK=rr()({name:"VListGroup",props:sge(),setup(r,i){let{slots:u}=i;const{isOpen:m,open:v,id:p}=NY(Qr(r,"value"),!0),x=ct(()=>`v-list-group--id-${String(p.value)}`),S=AY(),{isBooted:P}=OM();function N($){$.stopPropagation(),v(!m.value,$)}const D=ct(()=>({onClick:N,class:"v-list-group__header",id:x.value})),z=ct(()=>m.value?r.collapseIcon:r.expandIcon),W=ct(()=>({VListItem:{active:m.value,activeColor:r.activeColor,baseColor:r.baseColor,color:r.color,prependIcon:r.prependIcon||r.subgroup&&z.value,appendIcon:r.appendIcon||!r.subgroup&&z.value,title:r.title,value:r.value}}));return Zr(()=>pe(r.tag,{class:["v-list-group",{"v-list-group--prepend":S==null?void 0:S.hasPrepend.value,"v-list-group--fluid":r.fluid,"v-list-group--subgroup":r.subgroup,"v-list-group--open":m.value},r.class],style:r.style},{default:()=>[u.activator&&pe(cu,{defaults:W.value},{default:()=>[pe(rge,null,{default:()=>[u.activator({props:D.value,isOpen:m.value})]})]}),pe(ty,{transition:{component:pY},disabled:!P.value},{default:()=>{var $;return[qo(pe("div",{class:"v-list-group__items",role:"group","aria-labelledby":x.value},[($=u.default)==null?void 0:$.call(u)]),[[gr,m.value]])]}})]})),{isOpen:m}}}),age=Qn({opacity:[Number,String],...ss(),...Yi()},"VListItemSubtitle"),ige=rr()({name:"VListItemSubtitle",props:age(),setup(r,i){let{slots:u}=i;return Zr(()=>pe(r.tag,{class:["v-list-item-subtitle",r.class],style:[{"--v-list-item-subtitle-opacity":r.opacity},r.style]},u)),{}}}),lge=VV("v-list-item-title"),cge=Qn({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:_l,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:_l,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:cg(),onClickOnce:cg(),...by(),...ss(),...G0(),...Y0(),...Bw(),...vh(),...e$(),...Yi(),...Ql(),...mk({variant:"text"})},"VListItem"),z0=rr()({name:"VListItem",directives:{Ripple:t$},props:cge(),emits:{click:r=>!0},setup(r,i){let{attrs:u,slots:m,emit:v}=i;const p=QV(r,u),x=ct(()=>r.value===void 0?p.href.value:r.value),{activate:S,isActivated:P,select:N,isOpen:D,isSelected:z,isIndeterminate:W,isGroupActivator:$,root:G,parent:Q,openOnSelect:ve}=NY(x,!1),de=AY(),Pe=ct(()=>{var pt;return r.active!==!1&&(r.active||((pt=p.isActive)==null?void 0:pt.value)||(G.activatable.value?P.value:z.value))}),Ie=ct(()=>r.link!==!1&&p.isLink.value),re=ct(()=>!r.disabled&&r.link!==!1&&(r.link||p.isClickable.value||!!de&&(G.selectable.value||G.activatable.value||r.value!=null))),Oe=ct(()=>r.rounded||r.nav),oe=ct(()=>r.color??r.activeColor),Ge=ct(()=>({color:Pe.value?oe.value??r.baseColor:r.baseColor,variant:r.variant}));so(()=>{var pt;return(pt=p.isActive)==null?void 0:pt.value},pt=>{pt&&Q.value!=null&&G.open(Q.value,!0),pt&&ve(pt)},{immediate:!0});const{themeClasses:$e}=Oc(r),{borderClasses:Ze}=vy(r),{colorClasses:rt,colorStyles:Ce,variantClasses:Re}=SM(Ge),{densityClasses:R}=yy(r),{dimensionStyles:yt}=X0(r),{elevationClasses:Pt}=Mw(r),{roundedClasses:ln}=yh(Oe),gn=ct(()=>r.lines?`v-list-item--${r.lines}-line`:void 0),Qe=ct(()=>({isActive:Pe.value,select:N,isOpen:D.value,isSelected:z.value,isIndeterminate:W.value}));function On(pt){var bt;v("click",pt),re.value&&((bt=p.navigate)==null||bt.call(p,pt),!$&&(G.activatable.value?S(!P.value,pt):(G.selectable.value||r.value!=null)&&N(!z.value,pt)))}function nr(pt){(pt.key==="Enter"||pt.key===" ")&&(pt.preventDefault(),pt.target.dispatchEvent(new MouseEvent("click",pt)))}return Zr(()=>{const pt=Ie.value?"a":r.tag,bt=m.title||r.title!=null,Zt=m.subtitle||r.subtitle!=null,Vr=!!(r.appendAvatar||r.appendIcon),ho=!!(Vr||m.append),xn=!!(r.prependAvatar||r.prependIcon),Rn=!!(xn||m.prepend);return de==null||de.updateHasPrepend(Rn),r.activeColor&&Kle("active-color",["color","base-color"]),qo(pe(pt,{class:["v-list-item",{"v-list-item--active":Pe.value,"v-list-item--disabled":r.disabled,"v-list-item--link":re.value,"v-list-item--nav":r.nav,"v-list-item--prepend":!Rn&&(de==null?void 0:de.hasPrepend.value),"v-list-item--slim":r.slim,[`${r.activeClass}`]:r.activeClass&&Pe.value},$e.value,Ze.value,rt.value,R.value,Pt.value,gn.value,ln.value,Re.value,r.class],style:[Ce.value,yt.value,r.style],href:p.href.value,tabindex:re.value?de?-2:0:void 0,onClick:On,onKeydown:re.value&&!Ie.value&&nr},{default:()=>{var J;return[_M(re.value||Pe.value,"v-list-item"),Rn&&pe("div",{key:"prepend",class:"v-list-item__prepend"},[m.prepend?pe(cu,{key:"prepend-defaults",disabled:!xn,defaults:{VAvatar:{density:r.density,image:r.prependAvatar},VIcon:{density:r.density,icon:r.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var sr;return[(sr=m.prepend)==null?void 0:sr.call(m,Qe.value)]}}):pe(ks,null,[r.prependAvatar&&pe(Q8,{key:"prepend-avatar",density:r.density,image:r.prependAvatar},null),r.prependIcon&&pe(Or,{key:"prepend-icon",density:r.density,icon:r.prependIcon},null)]),pe("div",{class:"v-list-item__spacer"},null)]),pe("div",{class:"v-list-item__content","data-no-activator":""},[bt&&pe(lge,{key:"title"},{default:()=>{var sr;return[((sr=m.title)==null?void 0:sr.call(m,{title:r.title}))??r.title]}}),Zt&&pe(ige,{key:"subtitle"},{default:()=>{var sr;return[((sr=m.subtitle)==null?void 0:sr.call(m,{subtitle:r.subtitle}))??r.subtitle]}}),(J=m.default)==null?void 0:J.call(m,Qe.value)]),ho&&pe("div",{key:"append",class:"v-list-item__append"},[m.append?pe(cu,{key:"append-defaults",disabled:!Vr,defaults:{VAvatar:{density:r.density,image:r.appendAvatar},VIcon:{density:r.density,icon:r.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var sr;return[(sr=m.append)==null?void 0:sr.call(m,Qe.value)]}}):pe(ks,null,[r.appendIcon&&pe(Or,{key:"append-icon",density:r.density,icon:r.appendIcon},null),r.appendAvatar&&pe(Q8,{key:"append-avatar",density:r.density,image:r.appendAvatar},null)]),pe("div",{class:"v-list-item__spacer"},null)])]}}),[[aO("ripple"),re.value&&r.ripple]])}),{activate:S,isActivated:P,isGroupActivator:$,isSelected:z,list:de,select:N}}}),uge=Qn({color:String,inset:Boolean,sticky:Boolean,title:String,...ss(),...Yi()},"VListSubheader"),dge=rr()({name:"VListSubheader",props:uge(),setup(r,i){let{slots:u}=i;const{textColorClasses:m,textColorStyles:v}=uy(Qr(r,"color"));return Zr(()=>{const p=!!(u.default||r.title);return pe(r.tag,{class:["v-list-subheader",{"v-list-subheader--inset":r.inset,"v-list-subheader--sticky":r.sticky},m.value,r.class],style:[{textColorStyles:v},r.style]},{default:()=>{var x;return[p&&pe("div",{class:"v-list-subheader__text"},[((x=u.default)==null?void 0:x.call(u))??r.title])]}})}),{}}}),fge=Qn({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...ss(),...Ql()},"VDivider"),lV=rr()({name:"VDivider",props:fge(),setup(r,i){let{attrs:u,slots:m}=i;const{themeClasses:v}=Oc(r),{textColorClasses:p,textColorStyles:x}=uy(Qr(r,"color")),S=ct(()=>{const P={};return r.length&&(P[r.vertical?"height":"width"]=cr(r.length)),r.thickness&&(P[r.vertical?"borderRightWidth":"borderTopWidth"]=cr(r.thickness)),P});return Zr(()=>{const P=pe("hr",{class:[{"v-divider":!0,"v-divider--inset":r.inset,"v-divider--vertical":r.vertical},v.value,p.value,r.class],style:[S.value,x.value,{"--v-border-opacity":r.opacity},r.style],"aria-orientation":!u.role||u.role==="separator"?r.vertical?"vertical":"horizontal":void 0,role:`${u.role||"separator"}`},null);return m.default?pe("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":r.vertical,"v-divider__wrapper--inset":r.inset}]},[P,pe("div",{class:"v-divider__content"},[m.default()]),P]):P}),{}}}),mge=Qn({items:Array,returnObject:Boolean},"VListChildren"),IY=rr()({name:"VListChildren",props:mge(),setup(r,i){let{slots:u}=i;return EY(),()=>{var m,v;return((m=u.default)==null?void 0:m.call(u))??((v=r.items)==null?void 0:v.map(p=>{var W,$;let{children:x,props:S,type:P,raw:N}=p;if(P==="divider")return((W=u.divider)==null?void 0:W.call(u,{props:S}))??pe(lV,S,null);if(P==="subheader")return(($=u.subheader)==null?void 0:$.call(u,{props:S}))??pe(dge,S,null);const D={subtitle:u.subtitle?G=>{var Q;return(Q=u.subtitle)==null?void 0:Q.call(u,{...G,item:N})}:void 0,prepend:u.prepend?G=>{var Q;return(Q=u.prepend)==null?void 0:Q.call(u,{...G,item:N})}:void 0,append:u.append?G=>{var Q;return(Q=u.append)==null?void 0:Q.call(u,{...G,item:N})}:void 0,title:u.title?G=>{var Q;return(Q=u.title)==null?void 0:Q.call(u,{...G,item:N})}:void 0},z=lK.filterProps(S);return x?pe(lK,Ia({value:S==null?void 0:S.value},z),{activator:G=>{let{props:Q}=G;const ve={...S,...Q,value:r.returnObject?N:S.value};return u.header?u.header({props:ve}):pe(z0,ve,D)},default:()=>pe(IY,{items:x,returnObject:r.returnObject},u)}):u.item?u.item({props:S}):pe(z0,Ia(S,{value:r.returnObject?N:S.value}),D)}))}}}),gge=Qn({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:fM}},"list-items");function hge(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"}function pge(r,i){const u=FT(i,r.itemType,"item"),m=hge(i)?i:FT(i,r.itemTitle),v=FT(i,r.itemValue,void 0),p=FT(i,r.itemChildren),x=r.itemProps===!0?zq(i,["children"]):FT(i,r.itemProps),S={title:m,value:v,...x};return{type:u,title:S.title,value:S.value,props:S,children:u==="item"&&p?BY(r,p):void 0,raw:i}}function BY(r,i){const u=[];for(const m of i)u.push(pge(r,m));return u}function bge(r){return{items:ct(()=>BY(r,r.items))}}const vge=Qn({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":cg(),"onClick:select":cg(),"onUpdate:opened":cg(),...tge({selectStrategy:"single-leaf",openStrategy:"list"}),...by(),...ss(),...G0(),...Y0(),...Bw(),itemType:{type:String,default:"type"},...gge(),...vh(),...Yi(),...Ql(),...mk({variant:"text"})},"VList"),cK=rr()({name:"VList",props:vge(),emits:{"update:selected":r=>!0,"update:activated":r=>!0,"update:opened":r=>!0,"click:open":r=>!0,"click:activate":r=>!0,"click:select":r=>!0},setup(r,i){let{slots:u}=i;const{items:m}=bge(r),{themeClasses:v}=Oc(r),{backgroundColorClasses:p,backgroundColorStyles:x}=Lp(Qr(r,"bgColor")),{borderClasses:S}=vy(r),{densityClasses:P}=yy(r),{dimensionStyles:N}=X0(r),{elevationClasses:D}=Mw(r),{roundedClasses:z}=yh(r),{children:W,open:$,parents:G,select:Q}=nge(r),ve=ct(()=>r.lines?`v-list--${r.lines}-line`:void 0),de=Qr(r,"activeColor"),Pe=Qr(r,"baseColor"),Ie=Qr(r,"color");EY(),ck({VListGroup:{activeColor:de,baseColor:Pe,color:Ie,expandIcon:Qr(r,"expandIcon"),collapseIcon:Qr(r,"collapseIcon")},VListItem:{activeClass:Qr(r,"activeClass"),activeColor:de,baseColor:Pe,color:Ie,density:Qr(r,"density"),disabled:Qr(r,"disabled"),lines:Qr(r,"lines"),nav:Qr(r,"nav"),slim:Qr(r,"slim"),variant:Qr(r,"variant")}});const re=kr(!1),Oe=No();function oe(Re){re.value=!0}function Ge(Re){re.value=!1}function $e(Re){var R;!re.value&&!(Re.relatedTarget&&((R=Oe.value)!=null&&R.contains(Re.relatedTarget)))&&Ce()}function Ze(Re){const R=Re.target;if(!(!Oe.value||["INPUT","TEXTAREA"].includes(R.tagName))){if(Re.key==="ArrowDown")Ce("next");else if(Re.key==="ArrowUp")Ce("prev");else if(Re.key==="Home")Ce("first");else if(Re.key==="End")Ce("last");else return;Re.preventDefault()}}function rt(Re){re.value=!0}function Ce(Re){if(Oe.value)return Wq(Oe.value,Re)}return Zr(()=>pe(r.tag,{ref:Oe,class:["v-list",{"v-list--disabled":r.disabled,"v-list--nav":r.nav,"v-list--slim":r.slim},v.value,p.value,S.value,P.value,D.value,ve.value,z.value,r.class],style:[x.value,N.value,r.style],tabindex:r.disabled||re.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:oe,onFocusout:Ge,onFocus:$e,onKeydown:Ze,onMousedown:rt},{default:()=>[pe(IY,{items:m.value,returnObject:r.returnObject},u)]})),{open:$,select:Q,focus:Ce,children:W,parents:G}}}),yge=lt("span",null,"OK",-1),xge=lt("span",null,"OK",-1),wge={__name:"Alerts",setup(r){const i=XS();return(u,m)=>(hr(),Cl(ks,null,[qo(pe(es,{onClick:m[0]||(m[0]=v=>Ue(i).showAlerts())},{default:vn(()=>[pe(Or,{left:"",icon:"mdi-bell-outline"}),qo(lt("span",null,"1 Nachricht",512),[[gr,Ue(i).countAlerts==1]]),qo(lt("span",null,Id(Ue(i).countAlerts)+" Nachrichten",513),[[gr,Ue(i).countAlerts>1]])]),_:1},512),[[gr,Ue(i).hasAlerts]]),pe(ay,{persistent:"",modelValue:Ue(i).hasActiveAlert,"onUpdate:modelValue":m[2]||(m[2]=v=>Ue(i).hasActiveAlert=v),"max-width":"1000"},{default:vn(()=>[pe(sy,null,{default:vn(()=>[pe(rV,null,{default:vn(()=>[rg(" Nachricht der Aufsicht ")]),_:1}),pe(Z0,null,{default:vn(()=>[lt("p",null,Id(Ue(i).activeMessage),1)]),_:1}),pe(W0,null,{default:vn(()=>[pe(es,{onClick:m[1]||(m[1]=v=>Ue(i).hideAlert())},{default:vn(()=>[pe(Or,{left:"",icon:"mdi-check"}),yge]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),pe(ay,{modelValue:Ue(i).showAllAlerts,"onUpdate:modelValue":m[4]||(m[4]=v=>Ue(i).showAllAlerts=v),"max-width":"1000"},{default:vn(()=>[pe(sy,null,{default:vn(()=>[pe(rV,null,{default:vn(()=>[rg(" Nachrichten der Aufsicht ")]),_:1}),pe(Z0,null,{default:vn(()=>[(hr(!0),Cl(ks,null,sk(Ue(i).alerts,v=>(hr(),ni(z0,{key:v.key,title:Ue(i).formatTimestamp(v.time),subtitle:v.message},null,8,["title","subtitle"]))),128))]),_:1}),pe(W0,null,{default:vn(()=>[pe(es,{onClick:m[3]||(m[3]=v=>Ue(i).hideAlert())},{default:vn(()=>[pe(Or,{left:"",icon:"mdi-check"}),xge]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},dg=(r,i)=>{const u=r.__vccOpts||r;for(const[m,v]of i)u[m]=v;return u},Cge=Qn({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...ss(),...G0(),...Yi(),...Ql()},"VTable"),CH=rr()({name:"VTable",props:Cge(),setup(r,i){let{slots:u,emit:m}=i;const{themeClasses:v}=Oc(r),{densityClasses:p}=yy(r);return Zr(()=>pe(r.tag,{class:["v-table",{"v-table--fixed-height":!!r.height,"v-table--fixed-header":r.fixedHeader,"v-table--fixed-footer":r.fixedFooter,"v-table--has-top":!!u.top,"v-table--has-bottom":!!u.bottom,"v-table--hover":r.hover},v.value,p.value,r.class],style:r.style},{default:()=>{var x,S,P;return[(x=u.top)==null?void 0:x.call(u),u.default?pe("div",{class:"v-table__wrapper",style:{height:cr(r.height)}},[pe("table",null,[u.default()])]):(S=u.wrapper)==null?void 0:S.call(u),(P=u.bottom)==null?void 0:P.call(u)]}})),{}}}),$p=r=>(gy("data-v-1a660a2d"),r=r(),hy(),r),_ge=$p(()=>lt("h1",null,"Allgemeine Navigation",-1)),Sge=$p(()=>lt("thead",null,[lt("tr",null,[lt("th",{width:"50%"},"Aktion"),lt("th",{width:"50%"},"Tastenkombination")])],-1)),kge=$p(()=>lt("tbody",null,[lt("tr",null,[lt("td",null,"Nchstes Element"),lt("td",null,"Tab")]),lt("tr",null,[lt("td",null,"Vorheriges Element"),lt("td",null,"Shift + Tab")]),lt("tr",null,[lt("td",null,"Header Schaltflchen"),lt("td",null,"Alt + 0")]),lt("tr",null,[lt("td",null,"Navigationsleiste Schaltflchen"),lt("td",null,"Alt + #")]),lt("tr",null,[lt("td",null,"Inhalt linke Spalte"),lt("td",null,"Alt + 1")]),lt("tr",null,[lt("td",null,"Inhalt rechte Spalte"),lt("td",null,"Alt + 2")])],-1)),Ege=$p(()=>lt("h1",null,"Navigation im Editor",-1)),Age=$p(()=>lt("thead",null,[lt("tr",null,[lt("th",{width:"50%"},"Aktion"),lt("th",{width:"50%"},"Tastenkombination")])],-1)),Tge=$p(()=>lt("tbody",null,[lt("tr",null,[lt("td",null,"In Symbolleiste wechseln"),lt("td",null,"Alt + F10")]),lt("tr",null,[lt("td",null,"Symbolleiste verlassen"),lt("td",null,"Esc")]),lt("tr",null,[lt("td",null,"In Symbolleiste zwischen Schaltflchen wechseln"),lt("td",null,"Pfeil links und rechts")]),lt("tr",null,[lt("td",null,"Popup der Absatzformate aufklappen"),lt("td",null,"Eingabetaste")]),lt("tr",null,[lt("td",null,"Im Popup zwischen Absatzformaten wechseln"),lt("td",null,"Pfeil abwrts und aufwrts")]),lt("tr",null,[lt("td",null,"Im Popup ein Absatzformat whlen"),lt("td",null,"Eingabetaste")]),lt("tr",null,[lt("td",null,"Popup der Absatzformate schlieen"),lt("td",null,"Esc")])],-1)),Oge=$p(()=>lt("h1",null,"Tastenbefehle im Editor",-1)),Dge=$p(()=>lt("thead",null,[lt("tr",null,[lt("th",{width:"50%"},"Aktion"),lt("th",{width:"50%"},"Tastenkombination")])],-1)),Rge=$p(()=>lt("tbody",null,[lt("tr",null,[lt("td",null,"Fett"),lt("td",null,"Ctrl + B")]),lt("tr",null,[lt("td",null,"Kursiv"),lt("td",null,"Ctrl + I")]),lt("tr",null,[lt("td",null,"Unterstrichen"),lt("td",null,"Ctrl + U")]),lt("tr",null,[lt("td",null,"Alles auswhlen"),lt("td",null,"Ctrl + A")]),lt("tr",null,[lt("td",null,"Wiederholen"),lt("td",null,"Ctrl + Y oder Ctrl + Shift + Z")]),lt("tr",null,[lt("td",null,"Rckgngig machen"),lt("td",null,"Ctrl + Z")]),lt("tr",null,[lt("td",null,"berschrift 1"),lt("td",null,"Shift + Alt + 1")]),lt("tr",null,[lt("td",null,"berschrift 2"),lt("td",null,"Shift + Alt + 2")]),lt("tr",null,[lt("td",null,"berschrift 3"),lt("td",null,"Shift + Alt + 3")]),lt("tr",null,[lt("td",null,"berschrift 4"),lt("td",null,"Shift + Alt + 4")]),lt("tr",null,[lt("td",null,"berschrift 5"),lt("td",null,"Shift + Alt + 5")]),lt("tr",null,[lt("td",null,"berschrift 6"),lt("td",null,"Shift + Alt + 6")]),lt("tr",null,[lt("td",null,"Absatz"),lt("td",null,"Shift + Alt + 7")])],-1)),Nge=$p(()=>lt("span",null,"Hilfe schlieen",-1)),Ige={__name:"Help",setup(r){const i=Ec();return(u,m)=>(hr(),Cl(ks,null,[pe(es,{class:"app-header-item",onClick:m[0]||(m[0]=v=>Ue(i).showHelp=!0)},{default:vn(()=>[pe(Or,{left:"",icon:"mdi-help"}),rg(" Hilfe ")]),_:1}),pe(ay,{modelValue:Ue(i).showHelp,"onUpdate:modelValue":m[2]||(m[2]=v=>Ue(i).showHelp=v),"max-width":"1000"},{default:vn(()=>[pe(sy,null,{default:vn(()=>[pe(Z0,null,{default:vn(()=>[_ge,pe(CH,null,{default:vn(()=>[Sge,kge]),_:1}),Ege,pe(CH,null,{default:vn(()=>[Age,Tge]),_:1}),Oge,pe(CH,{title:"Tastenbefehle im Editor"},{default:vn(()=>[Dge,Rge]),_:1})]),_:1}),pe(W0,null,{default:vn(()=>[pe(es,{onClick:m[1]||(m[1]=v=>Ue(i).showHelp=!1)},{default:vn(()=>[Nge]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Bge=dg(Ige,[["__scopeId","data-v-1a660a2d"]]),MY=Qn({text:String,...ss(),...Yi()},"VToolbarTitle"),PY=rr()({name:"VToolbarTitle",props:MY(),setup(r,i){let{slots:u}=i;return Zr(()=>{const m=!!(u.default||u.text||r.text);return pe(r.tag,{class:["v-toolbar-title",r.class],style:r.style},{default:()=>{var v;return[m&&pe("div",{class:"v-toolbar-title__placeholder"},[u.text?u.text():r.text,(v=u.default)==null?void 0:v.call(u)])]}})}),{}}}),Mge=[null,"prominent","default","comfortable","compact"],LY=Qn({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:r=>Mge.includes(r)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...by(),...ss(),...Bw(),...vh(),...Yi({tag:"header"}),...Ql()},"VToolbar"),uK=rr()({name:"VToolbar",props:LY(),setup(r,i){var $;let{slots:u}=i;const{backgroundColorClasses:m,backgroundColorStyles:v}=Lp(Qr(r,"color")),{borderClasses:p}=vy(r),{elevationClasses:x}=Mw(r),{roundedClasses:S}=yh(r),{themeClasses:P}=Oc(r),{rtlClasses:N}=q0(),D=kr(!!(r.extended||($=u.extension)!=null&&$.call(u))),z=ct(()=>parseInt(Number(r.height)+(r.density==="prominent"?Number(r.height):0)-(r.density==="comfortable"?8:0)-(r.density==="compact"?16:0),10)),W=ct(()=>D.value?parseInt(Number(r.extensionHeight)+(r.density==="prominent"?Number(r.extensionHeight):0)-(r.density==="comfortable"?4:0)-(r.density==="compact"?8:0),10):0);return ck({VBtn:{variant:"text"}}),Zr(()=>{var de;const G=!!(r.title||u.title),Q=!!(u.image||r.image),ve=(de=u.extension)==null?void 0:de.call(u);return D.value=!!(r.extended||ve),pe(r.tag,{class:["v-toolbar",{"v-toolbar--absolute":r.absolute,"v-toolbar--collapse":r.collapse,"v-toolbar--flat":r.flat,"v-toolbar--floating":r.floating,[`v-toolbar--density-${r.density}`]:!0},m.value,p.value,x.value,S.value,P.value,N.value,r.class],style:[v.value,r.style]},{default:()=>[Q&&pe("div",{key:"image",class:"v-toolbar__image"},[u.image?pe(cu,{key:"image-defaults",disabled:!r.image,defaults:{VImg:{cover:!0,src:r.image}}},u.image):pe(TM,{key:"image-img",cover:!0,src:r.image},null)]),pe(cu,{defaults:{VTabs:{height:cr(z.value)}}},{default:()=>{var Pe,Ie,re;return[pe("div",{class:"v-toolbar__content",style:{height:cr(z.value)}},[u.prepend&&pe("div",{class:"v-toolbar__prepend"},[(Pe=u.prepend)==null?void 0:Pe.call(u)]),G&&pe(PY,{key:"title",text:r.title},{text:u.title}),(Ie=u.default)==null?void 0:Ie.call(u),u.append&&pe("div",{class:"v-toolbar__append"},[(re=u.append)==null?void 0:re.call(u)])])]}}),pe(cu,{defaults:{VTabs:{height:cr(W.value)}}},{default:()=>[pe(pY,null,{default:()=>[D.value&&pe("div",{class:"v-toolbar__extension",style:{height:cr(W.value)}},[ve])]})]})]})}),{contentHeight:z,extensionHeight:W}}}),Pge=Qn({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Lge(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:u}=i;let m=0,v=0;const p=No(null),x=kr(0),S=kr(0),P=kr(0),N=kr(!1),D=kr(!1),z=ct(()=>Number(r.scrollThreshold)),W=ct(()=>Rw((z.value-x.value)/z.value||0)),$=()=>{const G=p.value;if(!G||u&&!u.value)return;m=x.value,x.value="window"in G?G.pageYOffset:G.scrollTop;const Q=G instanceof Window?document.documentElement.scrollHeight:G.scrollHeight;if(v!==Q){v=Q;return}D.value=x.value<m,P.value=Math.abs(x.value-z.value)};return so(D,()=>{S.value=S.value||x.value}),so(N,()=>{S.value=0}),Yu(()=>{so(()=>r.scrollTarget,G=>{var ve;const Q=G?document.querySelector(G):window;Q&&Q!==p.value&&((ve=p.value)==null||ve.removeEventListener("scroll",$),p.value=Q,p.value.addEventListener("scroll",$,{passive:!0}))},{immediate:!0})}),Tc(()=>{var G;(G=p.value)==null||G.removeEventListener("scroll",$)}),u&&so(u,$,{immediate:!0}),{scrollThreshold:z,currentScroll:x,currentThreshold:P,isScrollActive:N,scrollRatio:W,isScrollingUp:D,savedScroll:S}}const Fge=Qn({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:r=>["top","bottom"].includes(r)},...LY(),...dG(),...Pge(),height:{type:[Number,String],default:64}},"VAppBar"),FY=rr()({name:"VAppBar",props:Fge(),emits:{"update:modelValue":r=>!0},setup(r,i){let{slots:u}=i;const m=No(),v=Hf(r,"modelValue"),p=ct(()=>{var Ie;const Pe=new Set(((Ie=r.scrollBehavior)==null?void 0:Ie.split(" "))??[]);return{hide:Pe.has("hide"),fullyHide:Pe.has("fully-hide"),inverted:Pe.has("inverted"),collapse:Pe.has("collapse"),elevate:Pe.has("elevate"),fadeImage:Pe.has("fade-image")}}),x=ct(()=>{const Pe=p.value;return Pe.hide||Pe.fullyHide||Pe.inverted||Pe.collapse||Pe.elevate||Pe.fadeImage||!v.value}),{currentScroll:S,scrollThreshold:P,isScrollingUp:N,scrollRatio:D}=Lge(r,{canScroll:x}),z=ct(()=>p.value.hide||p.value.fullyHide),W=ct(()=>r.collapse||p.value.collapse&&(p.value.inverted?D.value>0:D.value===0)),$=ct(()=>r.flat||p.value.fullyHide&&!v.value||p.value.elevate&&(p.value.inverted?S.value>0:S.value===0)),G=ct(()=>p.value.fadeImage?p.value.inverted?1-D.value:D.value:void 0),Q=ct(()=>{var re,Oe;if(p.value.hide&&p.value.inverted)return 0;const Pe=((re=m.value)==null?void 0:re.contentHeight)??0,Ie=((Oe=m.value)==null?void 0:Oe.extensionHeight)??0;return z.value?S.value<P.value||p.value.fullyHide?Pe+Ie:Pe:Pe+Ie});hh(ct(()=>!!r.scrollBehavior),()=>{ph(()=>{z.value?p.value.inverted?v.value=S.value>P.value:v.value=N.value||S.value<P.value:v.value=!0})});const{ssrBootStyles:ve}=OM(),{layoutItemStyles:de}=fG({id:r.name,order:ct(()=>parseInt(r.order,10)),position:Qr(r,"location"),layoutSize:Q,elementSize:kr(void 0),active:v,absolute:Qr(r,"absolute")});return Zr(()=>{const Pe=uK.filterProps(r);return pe(uK,Ia({ref:m,class:["v-app-bar",{"v-app-bar--bottom":r.location==="bottom"},r.class],style:[{...de.value,"--v-toolbar-image-opacity":G.value,height:void 0,...ve.value},r.style]},Pe,{collapse:W.value,flat:$.value}),u)}),{}}}),zge=rr()({name:"VAppBarTitle",props:MY(),setup(r,i){let{slots:u}=i;return Zr(()=>pe(PY,Ia(r,{class:"v-app-bar-title"}),u)),{}}}),Hge=Qn({fluid:{type:Boolean,default:!1},...ss(),...Y0(),...Yi()},"VContainer"),Vge=rr()({name:"VContainer",props:Hge(),setup(r,i){let{slots:u}=i;const{rtlClasses:m}=q0(),{dimensionStyles:v}=X0(r);return Zr(()=>pe(r.tag,{class:["v-container",{"v-container--fluid":r.fluid},m.value,r.class],style:[v.value,r.style]},u)),{}}}),zY=gM.reduce((r,i)=>(r[i]={type:[Boolean,String,Number],default:!1},r),{}),HY=gM.reduce((r,i)=>{const u="offset"+j0(i);return r[u]={type:[String,Number],default:null},r},{}),VY=gM.reduce((r,i)=>{const u="order"+j0(i);return r[u]={type:[String,Number],default:null},r},{}),dK={col:Object.keys(zY),offset:Object.keys(HY),order:Object.keys(VY)};function $ge(r,i,u){let m=r;if(!(u==null||u===!1)){if(i){const v=i.replace(r,"");m+=`-${v}`}return r==="col"&&(m="v-"+m),r==="col"&&(u===""||u===!0)||(m+=`-${u}`),m.toLowerCase()}}const Uge=["auto","start","end","center","baseline","stretch"],Wge=Qn({cols:{type:[Boolean,String,Number],default:!1},...zY,offset:{type:[String,Number],default:null},...HY,order:{type:[String,Number],default:null},...VY,alignSelf:{type:String,default:null,validator:r=>Uge.includes(r)},...ss(),...Yi()},"VCol"),_8=rr()({name:"VCol",props:Wge(),setup(r,i){let{slots:u}=i;const m=ct(()=>{const v=[];let p;for(p in dK)dK[p].forEach(S=>{const P=r[S],N=$ge(p,S,P);N&&v.push(N)});const x=v.some(S=>S.startsWith("v-col-"));return v.push({"v-col":!x||!r.cols,[`v-col-${r.cols}`]:r.cols,[`offset-${r.offset}`]:r.offset,[`order-${r.order}`]:r.order,[`align-self-${r.alignSelf}`]:r.alignSelf}),v});return()=>{var v;return Fp(r.tag,{class:[m.value,r.class],style:r.style},(v=u.default)==null?void 0:v.call(u))}}}),s$=["start","end","center"],$Y=["space-between","space-around","space-evenly"];function a$(r,i){return gM.reduce((u,m)=>{const v=r+j0(m);return u[v]=i(),u},{})}const Zge=[...s$,"baseline","stretch"],UY=r=>Zge.includes(r),WY=a$("align",()=>({type:String,default:null,validator:UY})),jge=[...s$,...$Y],ZY=r=>jge.includes(r),jY=a$("justify",()=>({type:String,default:null,validator:ZY})),Kge=[...s$,...$Y,"stretch"],KY=r=>Kge.includes(r),qY=a$("alignContent",()=>({type:String,default:null,validator:KY})),fK={align:Object.keys(WY),justify:Object.keys(jY),alignContent:Object.keys(qY)},qge={align:"align",justify:"justify",alignContent:"align-content"};function Gge(r,i,u){let m=qge[r];if(u!=null){if(i){const v=i.replace(r,"");m+=`-${v}`}return m+=`-${u}`,m.toLowerCase()}}const Yge=Qn({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:UY},...WY,justify:{type:String,default:null,validator:ZY},...jY,alignContent:{type:String,default:null,validator:KY},...qY,...ss(),...Yi()},"VRow"),Xge=rr()({name:"VRow",props:Yge(),setup(r,i){let{slots:u}=i;const m=ct(()=>{const v=[];let p;for(p in fK)fK[p].forEach(x=>{const S=r[x],P=Gge(p,x,S);P&&v.push(P)});return v.push({"v-row--no-gutters":r.noGutters,"v-row--dense":r.dense,[`align-${r.align}`]:r.align,[`justify-${r.justify}`]:r.justify,[`align-content-${r.alignContent}`]:r.alignContent}),v});return()=>{var v;return Fp(r.tag,{class:["v-row",m.value,r.class],style:r.style},(v=u.default)==null?void 0:v.call(u))}}}),i$=VV("v-spacer","div","VSpacer"),Jge=lt("span",null,"Unterbrechen",-1),Qge=lt("span",null,"Vorschau zur Abgabe ",-1),ehe={__name:"AppBar",setup(r){const i=Ac(),u=ig(),m=XS(),v=L0(),p=Ec();async function x(){if(p.focusTarget=="header"){await wa();for(const z of document.getElementsByClassName("app-header-item")){z.focus();break}}}so(()=>p.focusChange,x);function S(){return(u.writer_name==null?"":u.writer_name+", ")+(u.title??"")}function P(z){return new Promise(W=>setTimeout(W,z))}async function N(){await v.updateContent(!1,!0),await P(500),v.openSendings>0?i.review=!0:window.location=i.returnUrl}async function D(){await v.updateContent(!1,!0),await P(500),i.review=!0}return(z,W)=>(hr(),ni(FY,{elevation:"1",color:"white",density:"compact"},{default:vn(()=>[pe(zge,null,{default:vn(()=>[rg(Id(S()),1)]),_:1}),pe(i$),pe(Bge),Ue(m).hasAlerts?(hr(),ni(wge,{key:0})):qu("",!0),Ue(u).hasWritingEnd?(hr(),ni(ime,{key:1})):qu("",!0),qo(pe(es,{class:"app-header-item",onClick:W[0]||(W[0]=$=>N())},{default:vn(()=>[pe(Or,{left:"",icon:"mdi-pause"}),Jge]),_:1},512),[[gr,!Ue(i).review]]),qo(pe(es,{class:"app-header-item",onClick:D},{default:vn(()=>[pe(Or,{left:"",icon:"mdi-eye"}),Qge]),_:1},512),[[gr,!Ue(i).review]])]),_:1}))}};function the(r){let{rootEl:i,isSticky:u,layoutItemStyles:m}=r;const v=kr(!1),p=kr(0),x=ct(()=>{const N=typeof v.value=="boolean"?"top":v.value;return[u.value?{top:"auto",bottom:"auto",height:void 0}:void 0,v.value?{[N]:cr(p.value)}:{top:m.value.top}]});Yu(()=>{so(u,N=>{N?window.addEventListener("scroll",P,{passive:!0}):window.removeEventListener("scroll",P)},{immediate:!0})}),Tc(()=>{window.removeEventListener("scroll",P)});let S=0;function P(){const N=S>window.scrollY?"up":"down",D=i.value.getBoundingClientRect(),z=parseFloat(m.value.top??0),W=window.scrollY-Math.max(0,p.value-z),$=D.height+Math.max(p.value,z)-window.scrollY-window.innerHeight,G=parseFloat(getComputedStyle(i.value).getPropertyValue("--v-body-scroll-y"))||0;D.height<window.innerHeight-z?(v.value="top",p.value=z):N==="up"&&v.value==="bottom"||N==="down"&&v.value==="top"?(p.value=window.scrollY+D.top-G,v.value=!0):N==="down"&&$<=0?(p.value=0,v.value="bottom"):N==="up"&&W<=0&&(G?v.value!=="top"&&(p.value=-W+G+z,v.value="top"):(p.value=D.top+W,v.value="top")),S=window.scrollY}return{isStuck:v,stickyStyles:x}}const nhe=100,ohe=20;function mK(r){return(r<0?-1:1)*Math.sqrt(Math.abs(r))*1.41421356237}function gK(r){if(r.length<2)return 0;if(r.length===2)return r[1].t===r[0].t?0:(r[1].d-r[0].d)/(r[1].t-r[0].t);let i=0;for(let u=r.length-1;u>0;u--){if(r[u].t===r[u-1].t)continue;const m=mK(i),v=(r[u].d-r[u-1].d)/(r[u].t-r[u-1].t);i+=(v-m)*Math.abs(v),u===r.length-1&&(i*=.5)}return mK(i)*1e3}function rhe(){const r={};function i(v){Array.from(v.changedTouches).forEach(p=>{(r[p.identifier]??(r[p.identifier]=new Nle(ohe))).push([v.timeStamp,p])})}function u(v){Array.from(v.changedTouches).forEach(p=>{delete r[p.identifier]})}function m(v){var N;const p=(N=r[v])==null?void 0:N.values().reverse();if(!p)throw new Error(`No samples for touch id ${v}`);const x=p[0],S=[],P=[];for(const D of p){if(x[0]-D[0]>nhe)break;S.push({t:D[0],d:D[1].clientX}),P.push({t:D[0],d:D[1].clientY})}return{x:gK(S),y:gK(P),get direction(){const{x:D,y:z}=this,[W,$]=[Math.abs(D),Math.abs(z)];return W>$&&D>=0?"right":W>$&&D<=0?"left":$>W&&z>=0?"down":$>W&&z<=0?"up":she()}}}return{addMovement:i,endTouch:u,getVelocity:m}}function she(){throw new Error}function ahe(r){let{el:i,isActive:u,isTemporary:m,width:v,touchless:p,position:x}=r;Yu(()=>{window.addEventListener("touchstart",Pe,{passive:!0}),window.addEventListener("touchmove",Ie,{passive:!1}),window.addEventListener("touchend",re,{passive:!0})}),Tc(()=>{window.removeEventListener("touchstart",Pe),window.removeEventListener("touchmove",Ie),window.removeEventListener("touchend",re)});const S=ct(()=>["left","right"].includes(x.value)),{addMovement:P,endTouch:N,getVelocity:D}=rhe();let z=!1;const W=kr(!1),$=kr(0),G=kr(0);let Q;function ve(oe,Ge){return(x.value==="left"?oe:x.value==="right"?document.documentElement.clientWidth-oe:x.value==="top"?oe:x.value==="bottom"?document.documentElement.clientHeight-oe:KS())-(Ge?v.value:0)}function de(oe){let Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const $e=x.value==="left"?(oe-G.value)/v.value:x.value==="right"?(document.documentElement.clientWidth-oe-G.value)/v.value:x.value==="top"?(oe-G.value)/v.value:x.value==="bottom"?(document.documentElement.clientHeight-oe-G.value)/v.value:KS();return Ge?Math.max(0,Math.min(1,$e)):$e}function Pe(oe){if(p.value)return;const Ge=oe.changedTouches[0].clientX,$e=oe.changedTouches[0].clientY,Ze=25,rt=x.value==="left"?Ge<Ze:x.value==="right"?Ge>document.documentElement.clientWidth-Ze:x.value==="top"?$e<Ze:x.value==="bottom"?$e>document.documentElement.clientHeight-Ze:KS(),Ce=u.value&&(x.value==="left"?Ge<v.value:x.value==="right"?Ge>document.documentElement.clientWidth-v.value:x.value==="top"?$e<v.value:x.value==="bottom"?$e>document.documentElement.clientHeight-v.value:KS());(rt||Ce||u.value&&m.value)&&(Q=[Ge,$e],G.value=ve(S.value?Ge:$e,u.value),$.value=de(S.value?Ge:$e),z=G.value>-20&&G.value<80,N(oe),P(oe))}function Ie(oe){const Ge=oe.changedTouches[0].clientX,$e=oe.changedTouches[0].clientY;if(z){if(!oe.cancelable){z=!1;return}const rt=Math.abs(Ge-Q[0]),Ce=Math.abs($e-Q[1]);(S.value?rt>Ce&&rt>3:Ce>rt&&Ce>3)?(W.value=!0,z=!1):(S.value?Ce:rt)>3&&(z=!1)}if(!W.value)return;oe.preventDefault(),P(oe);const Ze=de(S.value?Ge:$e,!1);$.value=Math.max(0,Math.min(1,Ze)),Ze>1?G.value=ve(S.value?Ge:$e,!0):Ze<0&&(G.value=ve(S.value?Ge:$e,!1))}function re(oe){if(z=!1,!W.value)return;P(oe),W.value=!1;const Ge=D(oe.changedTouches[0].identifier),$e=Math.abs(Ge.x),Ze=Math.abs(Ge.y);(S.value?$e>Ze&&$e>400:Ze>$e&&Ze>3)?u.value=Ge.direction===({left:"right",right:"left",top:"down",bottom:"up"}[x.value]||KS()):u.value=$.value>.5}const Oe=ct(()=>W.value?{transform:x.value==="left"?`translateX(calc(-100% + ${$.value*v.value}px))`:x.value==="right"?`translateX(calc(100% - ${$.value*v.value}px))`:x.value==="top"?`translateY(calc(-100% + ${$.value*v.value}px))`:x.value==="bottom"?`translateY(calc(100% - ${$.value*v.value}px))`:KS(),transition:"none"}:void 0);return hh(W,()=>{var $e,Ze;const oe=(($e=i.value)==null?void 0:$e.style.transform)??null,Ge=((Ze=i.value)==null?void 0:Ze.style.transition)??null;ph(()=>{var rt,Ce,Re,R;(Ce=i.value)==null||Ce.style.setProperty("transform",((rt=Oe.value)==null?void 0:rt.transform)||"none"),(R=i.value)==null||R.style.setProperty("transition",((Re=Oe.value)==null?void 0:Re.transition)||null)}),Uf(()=>{var rt,Ce;(rt=i.value)==null||rt.style.setProperty("transform",oe),(Ce=i.value)==null||Ce.style.setProperty("transition",Ge)})}),{isDragging:W,dragProgress:$,dragStyles:Oe}}function KS(){throw new Error}const ihe=["start","end","left","right","top","bottom"],lhe=Qn({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:r=>ihe.includes(r)},sticky:Boolean,...by(),...ss(),...yY(),...mue({mobile:null}),...Bw(),...dG(),...vh(),...Yi({tag:"nav"}),...Ql()},"VNavigationDrawer"),che=rr()({name:"VNavigationDrawer",props:lhe(),emits:{"update:modelValue":r=>!0,"update:rail":r=>!0},setup(r,i){let{attrs:u,emit:m,slots:v}=i;const{isRtl:p}=q0(),{themeClasses:x}=Oc(r),{borderClasses:S}=vy(r),{backgroundColorClasses:P,backgroundColorStyles:N}=Lp(Qr(r,"color")),{elevationClasses:D}=Mw(r),{displayClasses:z,mobile:W}=aG(r),{roundedClasses:$}=yh(r),G=tY(),Q=Hf(r,"modelValue",null,pt=>!!pt),{ssrBootStyles:ve}=OM(),{scopeId:de}=n$(),Pe=No(),Ie=kr(!1),{runOpenDelay:re,runCloseDelay:Oe}=xY(r,pt=>{Ie.value=pt}),oe=ct(()=>r.rail&&r.expandOnHover&&Ie.value?Number(r.width):Number(r.rail?r.railWidth:r.width)),Ge=ct(()=>HH(r.location,p.value)),$e=ct(()=>r.persistent),Ze=ct(()=>!r.permanent&&(W.value||r.temporary)),rt=ct(()=>r.sticky&&!Ze.value&&Ge.value!=="bottom");hh(()=>r.expandOnHover&&r.rail!=null,()=>{so(Ie,pt=>m("update:rail",!pt))}),hh(()=>!r.disableResizeWatcher,()=>{so(Ze,pt=>!r.permanent&&wa(()=>Q.value=!pt))}),hh(()=>!r.disableRouteWatcher&&!!G,()=>{so(G.currentRoute,()=>Ze.value&&(Q.value=!1))}),so(()=>r.permanent,pt=>{pt&&(Q.value=!0)}),r.modelValue==null&&!Ze.value&&(Q.value=r.permanent||!W.value);const{isDragging:Ce,dragProgress:Re}=ahe({el:Pe,isActive:Q,isTemporary:Ze,width:oe,touchless:Qr(r,"touchless"),position:Ge}),R=ct(()=>{const pt=Ze.value?0:r.rail&&r.expandOnHover?Number(r.railWidth):oe.value;return Ce.value?pt*Re.value:pt}),yt=ct(()=>["top","bottom"].includes(r.location)?0:oe.value),{layoutItemStyles:Pt,layoutItemScrimStyles:ln}=fG({id:r.name,order:ct(()=>parseInt(r.order,10)),position:Ge,layoutSize:R,elementSize:yt,active:ct(()=>Q.value||Ce.value),disableTransitions:ct(()=>Ce.value),absolute:ct(()=>r.absolute||rt.value&&typeof gn.value!="string")}),{isStuck:gn,stickyStyles:Qe}=the({rootEl:Pe,isSticky:rt,layoutItemStyles:Pt}),On=Lp(ct(()=>typeof r.scrim=="string"?r.scrim:null)),nr=ct(()=>({...Ce.value?{opacity:Re.value*.2,transition:"none"}:void 0,...ln.value}));return ck({VList:{bgColor:"transparent"}}),Zr(()=>{const pt=v.image||r.image;return pe(ks,null,[pe(r.tag,Ia({ref:Pe,onMouseenter:re,onMouseleave:Oe,class:["v-navigation-drawer",`v-navigation-drawer--${Ge.value}`,{"v-navigation-drawer--expand-on-hover":r.expandOnHover,"v-navigation-drawer--floating":r.floating,"v-navigation-drawer--is-hovering":Ie.value,"v-navigation-drawer--rail":r.rail,"v-navigation-drawer--temporary":Ze.value,"v-navigation-drawer--persistent":$e.value,"v-navigation-drawer--active":Q.value,"v-navigation-drawer--sticky":rt.value},x.value,P.value,S.value,z.value,D.value,$.value,r.class],style:[N.value,Pt.value,ve.value,Qe.value,r.style,["top","bottom"].includes(Ge.value)?{height:"auto"}:{}]},de,u),{default:()=>{var bt,Zt,Vr;return[pt&&pe("div",{key:"image",class:"v-navigation-drawer__img"},[v.image?pe(cu,{key:"image-defaults",disabled:!r.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:r.image}}},v.image):pe(TM,{key:"image-img",alt:"",cover:!0,height:"inherit",src:r.image},null)]),v.prepend&&pe("div",{class:"v-navigation-drawer__prepend"},[(bt=v.prepend)==null?void 0:bt.call(v)]),pe("div",{class:"v-navigation-drawer__content"},[(Zt=v.default)==null?void 0:Zt.call(v)]),v.append&&pe("div",{class:"v-navigation-drawer__append"},[(Vr=v.append)==null?void 0:Vr.call(v)])]}}),pe(zp,{name:"fade-transition"},{default:()=>[Ze.value&&(Ce.value||Q.value)&&!!r.scrim&&pe("div",Ia({class:["v-navigation-drawer__scrim",On.backgroundColorClasses.value],style:[nr.value,On.backgroundColorStyles.value],onClick:()=>{$e.value||(Q.value=!1)}},de),null)]})])}),{isStuck:gn}}}),uhe={__name:"NavBar",setup(r){const i=Ec(),u=ag(),m=ig(),v=Pp(),p=Ac();async function x(){if(i.focusTarget=="navigation"){await wa();for(const W of document.getElementsByClassName("app-navigation-item")){W.focus();break}}}so(()=>i.focusChange,x);function S(W){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseenter"))}function P(W){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseleave"))}function N(W){W.type==Rd.TYPE_URL&&!W.embedded?window.open(W.source,"long-essay-writer-resource-"+W.key):(u.selectResource(W),i.showResources())}function D(W){W.keyCode==27?P():i.handleKeyDown(W)}function z(W){return W.isExternalUrl()?"mdi-link":W.isEmbeddedUrl()?u.isActive(W)&&i.isResourcesVisible?"mdi-link-box":"mdi-link-box-outline":u.isActive(W)&&i.isResourcesVisible?"mdi-file":"mdi-file-outline"}return(W,$)=>(hr(),ni(che,{id:"app-navigation-drawer",elevation:"2",width:"500",permanent:"",rail:"","expand-on-hover":"",onFocusin:S,onFocusout:P,onKeydown:D},{append:vn(()=>[pe(cK,{tabindex:"-1"},{default:vn(()=>[pe(z0,{tabindex:"-1",disabled:"","aria-label":Ue(p).isSending?"nderungen werden gesendet":Ue(p).isAllSent?"Alles gesendet":"Noch nderungen zu senden",title:Ue(p).isSending?"nderungen werden gesendet":Ue(p).isAllSent?"Alles gesendet":"Noch nderungen zu senden"},{prepend:vn(()=>[pe(Or,{"aria-role":"hidden",icon:Ue(p).isSending?"mdi-cloud-upload":Ue(p).isAllSent?"mdi-cloud-check-outline":"mdi-cloud-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"])]),_:1})]),default:vn(()=>[pe(cK,{tabindex:"-1"},{default:vn(()=>[qo(pe(z0,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:$[0]||($[0]=G=>{Ue(i).showInstructions()}),"aria-label":"Aufgabenstellung"+(Ue(i).isInstructionsVisible?", ist ausgewhlt":""),title:"Aufgabenstellung"+(Ue(i).isInstructionsVisible?" (ausgewhlt)":""),ripple:!1},{prepend:vn(()=>[pe(Or,{"aria-role":"hidden",icon:Ue(i).isInstructionsVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[gr,Ue(m).hasInstructions]]),qo(pe(z0,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:$[1]||($[1]=G=>{Ue(i).showInstructionsPdf()}),"aria-label":"Aufgabenstellung als PDF"+(Ue(i).isInstructionsPdfVisible?", ist ausgewhlt":""),title:"Aufgabenstellung als PDF"+(Ue(i).isInstructionsPdfVisible?" (ausgewhlt)":""),ripple:!1},{prepend:vn(()=>[pe(Or,{"aria-role":"hidden",icon:Ue(i).isInstructionsPdfVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[gr,Ue(u).hasInstruction]]),qo(pe(lV,{class:"border-opacity-75"},null,512),[[gr,Ue(m).hasInstructions||Ue(u).hasInstruction]]),pe(z0,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:$[2]||($[2]=G=>{Ue(i).showEssay()}),"aria-label":"Abgabe-Text"+(Ue(i).isEssayVisible?", ist ausgewhlt":""),title:"Abgabe-Text"+(Ue(i).isEssayVisible?" (ausgewhlt)":""),ripple:!1},{prepend:vn(()=>[pe(Or,{"aria-role":"hidden",icon:Ue(i).isEssayVisible?"mdi-file-edit":"mdi-file-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),Ue(v).hasNotes?(hr(),ni(z0,{key:0,"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:$[3]||($[3]=G=>{Ue(i).showNotes()}),"aria-label":"Notizen, werden bei der Abgabe verworfen"+(Ue(i).isNotesVisible?", ist ausgewhlt":""),title:"Notizen, werden bei der Abgabe verworfen"+(Ue(i).isNotesVisible?" (ausgewhlt)":""),ripple:!1},{prepend:vn(()=>[pe(Or,{"aria-role":"hidden",icon:Ue(i).isNotesVisible?"mdi-file-edit":"mdi-file-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"])):qu("",!0),pe(lV,{class:"border-opacity-75"}),(hr(!0),Cl(ks,null,sk(Ue(u).getFileOrUrlResources,G=>(hr(),ni(z0,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:Q=>{N(G)},"aria-label":G.title+(Ue(u).isActive(G)&&Ue(i).isResourcesVisible?", ist ausgewhlt":""),title:G.title+(Ue(u).isActive(G)&&Ue(i).isResourcesVisible?" (ausgewhlt)":""),key:G.key,ripple:!1},{prepend:vn(()=>[pe(Or,{"aria-role":"hidden",icon:z(G)},null,8,["icon"])]),_:2},1032,["onClick","aria-label","title"]))),128))]),_:1})]),_:1}))}},dhe=dg(uhe,[["__scopeId","data-v-9a1be660"]]);function S8(r){const i=document.createElement("div");return i.innerHTML=r,(i.innerText||i.textContent).replace(/[\s\n\r]+/g,"")}const DM=ug("clipboard",{state:()=>({content:"",show_warning:!1}),getters:{getPasteAllowed:r=>function(u){return!!(Pp().copy_allowed||(console.log("content:",u),console.log("normalized content:",S8(u)),console.log("state.content:",r.content),console.log("normalized state.content:",S8(r.content)),S8(u)==S8(r.content)))}},actions:{setContent(r){this.content=r},showWarning(){this.show_warning=!0},hideWarning(){this.show_warning=!1}}}),fhe={id:"app-instructions-wrapper"},mhe={class:"appTextButtons"},ghe=["innerHTML"],hhe={__name:"Instructions",setup(r){const i=ig(),u=Ec(),m=ry(),v=DM();async function p(){u.focusTarget=="left"&&u.isInstructionsVisible&&(await wa(),document.getElementById("app-instructions").focus())}so(()=>u.focusChange,p);function x(N){const D=P();console.log(D),v.setContent(D),N.clipboardData.setData("text/html",D),N.preventDefault()}function S(N){return N.preventDefault(),!1}function P(){var N;if(document.selection&&document.selection.createRange)return N=document.selection.createRange(),N.htmlText;if(window.getSelection){var D=window.getSelection();if(D.rangeCount>0){N=D.getRangeAt(0);var z=N.cloneContents(),W=document.createElement("div");return W.appendChild(z),W.innerHTML}else return""}else return""}return(N,D)=>(hr(),Cl("div",fhe,[lt("div",mhe,[pe(lk,{density:"comfortable",variant:"outlined",divided:""},{default:vn(()=>[pe(es,{title:"Aufgabenstellung Text verkleinern",size:"small",icon:"mdi-magnify-minus-outline",onClick:D[0]||(D[0]=z=>Ue(m).zoomInstructionsOut())}),pe(es,{title:"Aufgabenstellung Text vergrern",size:"small",icon:"mdi-magnify-plus-outline",onClick:D[1]||(D[1]=z=>Ue(m).zoomInstructionsIn())})]),_:1})]),lt("div",{id:"app-instructions",class:"app-instructions-scroll long-essay-content",contenteditable:"true",style:V0("font-size:"+Ue(m).instructions_zoom+"rem;"),innerHTML:Ue(i).instructions,onBeforeinput:S,onCopy:x,onCut:x},null,44,ghe)]))}},phe=dg(hhe,[["__scopeId","data-v-9aaf319c"]]),bhe=(r,i,u)=>{let m=Promise.resolve();const v=new EventTarget,p=(G,Q=null)=>v.dispatchEvent(new CustomEvent(G,{detail:Q})),x=((G=0)=>()=>++G)(),S={},P=document.createElement("iframe"),N=Promise.withResolvers();return P.src=i+"?file="+encodeURIComponent(u),P.style.width="100%",P.style.height="100%",r.appendChild(P),window.addEventListener("message",$),{on:v.addEventListener.bind(v),off:v.removeEventListener.bind(v),getAll:()=>z("getAll"),get:G=>z("get",G),update:G=>D("update",G),setAll:G=>D("setAll",G),add:G=>D("add",G),delete:G=>D("delete",G),selected:()=>z("selected"),select:G=>z("select",G),currentPage:()=>z("currentPage"),destroy:()=>{window.removeEventListener("message",$),iframe.remove()},rebuild:()=>{window.addEventListener("message",$),r.appendChild(P)}};function D(G,...Q){return m=m.then(()=>z(G,...Q))}function z(G,...Q){return new Promise(ve=>{const de=x();return S[de]=ve,N.promise.then(()=>P.contentWindow.postMessage({id:de,name:G,args:Q}))})}function W(G){if(!S[G.id])return;const Q=S[G.id];delete S[G.id],Q(G.value)}function $(G){if(G.source===P.contentWindow){if(G.data.emit){G.data.emit.name==="ready"&&N.resolve(),p(G.data.emit.name,G.data.emit.detail);return}if(G.data.response){W(G.data.response);return}}}},vhe=r=>(gy("data-v-e6adbb2e"),r=r(),hy(),r),yhe={class:"appResourceWrapper"},xhe=vhe(()=>lt("div",{class:"appTextButtons"},null,-1)),whe={__name:"ResourcePdf",props:["resource"],setup(r){const i=Ec();ag();const u=tk(),v=r.resource,p=No();let x;Yu(()=>{x=bhe(p.value,"./annotate-pdf/pdfjs-dist/web/viewer.html",v.url),P(),x.on("create",N),x.on("update",D),x.on("delete",z),x.on("select",W),S()});async function S(){i.isResourceShown(v)&&(await wa(),p.value.focus())}so(()=>i.focusChange,S);function P(){const Q=[];for(const ve of u.getAnnotationsForResource(v.key))Q.push({id:ve.mark_key,page:ve.parent_number,intern:JSON.parse(ve.mark_value)});x.setAll(Q)}function N(Q){const ve=new H0({resource_key:v.key,mark_key:Q.detail.id,mark_value:JSON.stringify(Q.detail.intern),parent_number:Q.detail.page,start_position:Math.round(-Q.detail.intern.rect[1])});u.createAnnotation(ve)}function D(Q){const ve=u.getAnnotation(H0.buildKey(v.key,Q.detail.id));ve&&(ve.mark_value=JSON.stringify(Q.detail.intern),u.updateAnnotation(ve))}function z(Q){Q.detail&&u.deleteAnnotation(H0.buildKey(v.key,Q.detail.id))}function W(Q){Q.detail&&u.selectAnnotation(H0.buildKey(v.key,Q.detail.id))}function $(){const Q=u.getAnnotation(u.selectedKey);Q&&Q.resource_key==v.key&&x.select(Q.mark_key)}so(()=>u.selectionChange,$);function G(){const Q=H0.getFromKey(u.deletedKey);Q.resource_key==v.key&&x.delete(Q.mark_key)}return so(()=>u.deletedKey,G),(Q,ve)=>(hr(),Cl("div",yhe,[xhe,lt("div",{class:"appResourceNode",tabindex:"0",ref_key:"ResourceNode",ref:p},null,512)]))}},Che=dg(whe,[["__scopeId","data-v-e6adbb2e"]]),_he=r=>(gy("data-v-4491b7ee"),r=r(),hy(),r),She={id:"app-resource-url-wrapper"},khe=_he(()=>lt("div",{class:"appTextButtons"},null,-1)),Ehe=["src"],Ahe={__name:"ResourceUrl",props:["resource"],setup(r){const i=Ec();ag();const m=r.resource,v=No();async function p(){i.isResourceShown(m)&&(await wa(),v.value.focus())}return Yu(()=>p),so(()=>i.focusChange,p),(x,S)=>(hr(),Cl("div",She,[khe,lt("div",{tabindex:"0",class:"appResourceNode",ref_key:"ResourceNode",ref:v},[lt("iframe",{src:Ue(m).url,width:"100%",height:"100%",frameborder:"0",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""},null,8,Ehe)],512)]))}},The=dg(Ahe,[["__scopeId","data-v-4491b7ee"]]),Ohe={id:"app-resources",tabindex:"0",class:"resources"},Dhe={__name:"Resources",setup(r){const i=Ec(),u=ag();return(m,v)=>(hr(),Cl("div",Ohe,[(hr(!0),Cl(ks,null,sk(Ue(u).resources,p=>(hr(),Cl(ks,{key:p.key},[p.isPdf()?qo((hr(),ni(Che,{key:p.key,resource:p},null,8,["resource"])),[[gr,Ue(i).isResourceShown(p)]]):qu("",!0),p.isEmbeddedUrl()?qo((hr(),ni(The,{key:p.key,resource:p},null,8,["resource"])),[[gr,Ue(i).isResourceShown(p)]]):qu("",!0)],64))),128))]))}},Rhe=dg(Dhe,[["__scopeId","data-v-1c7878fa"]]);var GY={exports:{}};(function(r){(function(){var i=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},u=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},m=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},v=function(e,t){return p(function(n,s){return e.eq(t(n),t(s))})},p=function(e){return{eq:e}},x=p(function(e,t){return e===t}),S=x,P=function(e){return p(function(t,n){if(t.length!==n.length)return!1;for(var s=t.length,l=0;l<s;l++)if(!e.eq(t[l],n[l]))return!1;return!0})},N=function(e,t){return v(P(e),function(n){return m(n,t)})},D=function(e){return p(function(t,n){var s=Object.keys(t),l=Object.keys(n);if(!N(S).eq(s,l))return!1;for(var f=s.length,g=0;g<f;g++){var C=s[g];if(!e.eq(t[C],n[C]))return!1}return!0})},z=p(function(e,t){if(e===t)return!0;var n=i(e),s=i(t);return n!==s?!1:u(n)?e===t:n==="array"?P(z).eq(e,t):n==="object"?D(z).eq(e,t):!1});const W=Object.getPrototypeOf,$=(e,t,n)=>{var s;return n(e,t.prototype)?!0:((s=e.constructor)===null||s===void 0?void 0:s.name)===t.name},G=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&$(e,String,(n,s)=>s.isPrototypeOf(n))?"string":t},Q=e=>t=>G(t)===e,ve=e=>t=>typeof t===e,de=e=>t=>e===t,Pe=(e,t)=>re(e)&&$(e,t,(n,s)=>W(n)===s),Ie=Q("string"),re=Q("object"),Oe=e=>Pe(e,Object),oe=Q("array"),Ge=de(null),$e=ve("boolean"),Ze=de(void 0),rt=e=>e==null,Ce=e=>!rt(e),Re=ve("function"),R=ve("number"),yt=(e,t)=>{if(oe(e)){for(let n=0,s=e.length;n<s;++n)if(!t(e[n]))return!1;return!0}return!1},Pt=()=>{},ln=(e,t)=>(...n)=>e(t.apply(null,n)),gn=(e,t)=>n=>e(t(n)),Qe=e=>()=>e,On=e=>e,nr=(e,t)=>e===t;function pt(e,...t){return(...n)=>{const s=t.concat(n);return e.apply(null,s)}}const bt=e=>t=>!e(t),Zt=e=>()=>{throw new Error(e)},Vr=e=>e(),ho=e=>{e()},xn=Qe(!1),Rn=Qe(!0);class J{constructor(t,n){this.tag=t,this.value=n}static some(t){return new J(!0,t)}static none(){return J.singletonNone}fold(t,n){return this.tag?n(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?J.some(t(this.value)):J.none()}bind(t){return this.tag?t(this.value):J.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:J.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return Ce(t)?J.some(t):J.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}J.singletonNone=new J(!1);const sr=Array.prototype.slice,br=Array.prototype.indexOf,Ko=Array.prototype.push,oi=(e,t)=>br.call(e,t),Ke=(e,t)=>{const n=oi(e,t);return n===-1?J.none():J.some(n)},le=(e,t)=>oi(e,t)>-1,xe=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const l=e[n];if(t(l,n))return!0}return!1},Me=(e,t)=>{const n=e.length,s=new Array(n);for(let l=0;l<n;l++){const f=e[l];s[l]=t(f,l)}return s},ge=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const l=e[n];t(l,n)}},St=(e,t)=>{for(let n=e.length-1;n>=0;n--){const s=e[n];t(s,n)}},$t=(e,t)=>{const n=[],s=[];for(let l=0,f=e.length;l<f;l++){const g=e[l];(t(g,l)?n:s).push(g)}return{pass:n,fail:s}},Ct=(e,t)=>{const n=[];for(let s=0,l=e.length;s<l;s++){const f=e[s];t(f,s)&&n.push(f)}return n},zt=(e,t,n)=>(St(e,(s,l)=>{n=t(n,s,l)}),n),It=(e,t,n)=>(ge(e,(s,l)=>{n=t(n,s,l)}),n),on=(e,t,n)=>{for(let s=0,l=e.length;s<l;s++){const f=e[s];if(t(f,s))return J.some(f);if(n(f,s))break}return J.none()},wn=(e,t)=>on(e,t,xn),Cn=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const l=e[n];if(t(l,n))return J.some(n)}return J.none()},En=e=>{const t=[];for(let n=0,s=e.length;n<s;++n){if(!oe(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Ko.apply(t,e[n])}return t},ao=(e,t)=>En(Me(e,t)),vo=(e,t)=>{for(let n=0,s=e.length;n<s;++n){const l=e[n];if(t(l,n)!==!0)return!1}return!0},Ao=e=>{const t=sr.call(e,0);return t.reverse(),t},Oo=(e,t)=>Ct(e,n=>!le(t,n)),Es=(e,t)=>{const n={};for(let s=0,l=e.length;s<l;s++){const f=e[s];n[String(f)]=t(f,s)}return n},ur=(e,t)=>{const n=sr.call(e,0);return n.sort(t),n},bi=(e,t)=>t>=0&&t<e.length?J.some(e[t]):J.none(),cn=e=>bi(e,0),po=e=>bi(e,e.length-1),io=Re(Array.from)?Array.from:e=>sr.call(e),$r=(e,t)=>{for(let n=0;n<e.length;n++){const s=t(e[n],n);if(s.isSome())return s}return J.none()},Pa=(e,t)=>{const n=[],s=Re(t)?l=>xe(n,f=>t(f,l)):l=>le(n,l);for(let l=0,f=e.length;l<f;l++){const g=e[l];s(g)||n.push(g)}return n},Vt=Object.keys,Ys=Object.hasOwnProperty,Uo=(e,t)=>{const n=Vt(e);for(let s=0,l=n.length;s<l;s++){const f=n[s],g=e[f];t(g,f)}},kl=(e,t)=>Er(e,(n,s)=>({k:s,v:t(n,s)})),Er=(e,t)=>{const n={};return Uo(e,(s,l)=>{const f=t(s,l);n[f.k]=f.v}),n},zs=e=>(t,n)=>{e[n]=t},jf=(e,t,n,s)=>{Uo(e,(l,f)=>{(t(l,f)?n:s)(l,f)})},uu=(e,t)=>{const n={},s={};return jf(e,t,zs(n),zs(s)),{t:n,f:s}},ec=(e,t)=>{const n={};return jf(e,t,zs(n),Pt),n},Xi=(e,t)=>{const n=[];return Uo(e,(s,l)=>{n.push(t(s,l))}),n},du=e=>Xi(e,On),dr=(e,t)=>Gn(e,t)?J.from(e[t]):J.none(),Gn=(e,t)=>Ys.call(e,t),El=(e,t)=>Gn(e,t)&&e[t]!==void 0&&e[t]!==null,ca=(e,t,n=z)=>D(n).eq(e,t),fu=e=>{const t={};return ge(e,n=>{t[n]={}}),Vt(t)},Qt=e=>e.length!==void 0,mu=Array.isArray,Kf=e=>{if(mu(e))return e;{const t=[];for(let n=0,s=e.length;n<s;n++)t[n]=e[n];return t}},ts=(e,t,n)=>{if(!e)return!1;if(n=n||e,Qt(e)){for(let s=0,l=e.length;s<l;s++)if(t.call(n,e[s],s,e)===!1)return!1}else for(const s in e)if(Gn(e,s)&&t.call(n,e[s],s,e)===!1)return!1;return!0},qf=(e,t)=>{const n=[];return ts(e,(s,l)=>{n.push(t(s,l,e))}),n},Ni=(e,t)=>{const n=[];return ts(e,(s,l)=>{(!t||t(s,l,e))&&n.push(s)}),n},ml=(e,t)=>{if(e){for(let n=0,s=e.length;n<s;n++)if(e[n]===t)return n}return-1},Ji=(e,t,n,s)=>{let l=Ze(n)?e[0]:n;for(let f=0;f<e.length;f++)l=t.call(s,l,e[f],f);return l},jr=(e,t,n)=>{for(let s=0,l=e.length;s<l;s++)if(t.call(n,e[s],s,e))return s;return-1},ri=e=>e[e.length-1],gl=e=>{let t=!1,n;return(...s)=>(t||(t=!0,n=e.apply(null,s)),n)},Gf=(e,t,n,s)=>{const l=e.isiOS()&&/ipad/i.test(n)===!0,f=e.isiOS()&&!l,g=e.isiOS()||e.isAndroid(),C=g||s("(pointer:coarse)"),A=l||!f&&g&&s("(min-device-width:768px)"),F=f||g&&!A,j=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,q=!F&&!A&&!j;return{isiPad:Qe(l),isiPhone:Qe(f),isTablet:Qe(A),isPhone:Qe(F),isTouch:Qe(C),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:Qe(j),isDesktop:Qe(q)}},Dc=(e,t)=>{for(let n=0;n<e.length;n++){const s=e[n];if(s.test(t))return s}},Rc=(e,t)=>{const n=Dc(e,t);if(!n)return{major:0,minor:0};const s=l=>Number(t.replace(n,"$"+l));return Wo(s(1),s(2))},Fd=(e,t)=>{const n=String(t).toLowerCase();return e.length===0?Xu():Rc(e,n)},Xu=()=>Wo(0,0),Wo=(e,t)=>({major:e,minor:t}),xs={nu:Wo,detect:Fd,unknown:Xu},Zs=(e,t)=>$r(t.brands,n=>{const s=n.brand.toLowerCase();return wn(e,l=>{var f;return s===((f=l.brand)===null||f===void 0?void 0:f.toLowerCase())}).map(l=>({current:l.name,version:xs.nu(parseInt(n.version,10),0)}))}),Yf=(e,t)=>{const n=String(t).toLowerCase();return wn(e,s=>s.search(n))},Ii=(e,t)=>Yf(e,t).map(n=>{const s=xs.detect(n.versionRegexes,t);return{current:n.name,version:s}}),Nc=(e,t)=>Yf(e,t).map(n=>{const s=xs.detect(n.versionRegexes,t);return{current:n.name,version:s}}),si=(e,t)=>e.substring(t),ai=(e,t,n)=>t===""||e.length>=t.length&&e.substr(n,n+t.length)===t,Ic=(e,t)=>Kr(e,t)?si(e,t.length):e,vr=(e,t,n=0,s)=>{const l=e.indexOf(t,n);return l!==-1?Ze(s)?!0:l+t.length<=s:!1},Kr=(e,t)=>ai(e,t,0),Se=(e,t)=>ai(e,t,e.length-t.length),Ye=e=>t=>t.replace(e,""),De=Ye(/^\s+|\s+$/g),it=Ye(/^\s+/g),ot=Ye(/\s+$/g),je=e=>e.length>0,Lt=e=>!je(e),Yt=(e,t)=>t<=0?"":new Array(t+1).join(e),nn=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?J.none():J.some(n)},dn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,en=e=>t=>vr(t,e),oo=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>vr(e,"edge/")&&vr(e,"chrome")&&vr(e,"safari")&&vr(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,dn],search:e=>vr(e,"chrome")&&!vr(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>vr(e,"msie")||vr(e,"trident")},{name:"Opera",versionRegexes:[dn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:en("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:en("firefox")},{name:"Safari",versionRegexes:[dn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(vr(e,"safari")||vr(e,"mobile/"))&&vr(e,"applewebkit")}],Jt=[{name:"Windows",search:en("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>vr(e,"iphone")||vr(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:en("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:en("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:en("linux"),versionRegexes:[]},{name:"Solaris",search:en("sunos"),versionRegexes:[]},{name:"FreeBSD",search:en("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:en("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ar={browsers:Qe(oo),oses:Qe(Jt)},wo="Edge",Io="Chromium",fs="IE",fo="Opera",hl="Firefox",La="Safari",Xn=()=>Bi({current:void 0,version:xs.unknown()}),Bi=e=>{const t=e.current,n=e.version,s=l=>()=>t===l;return{current:t,version:n,isEdge:s(wo),isChromium:s(Io),isIE:s(fs),isOpera:s(fo),isFirefox:s(hl),isSafari:s(La)}},Qi={unknown:Xn,nu:Bi,edge:Qe(wo),chromium:Qe(Io),ie:Qe(fs),opera:Qe(fo),firefox:Qe(hl),safari:Qe(La)},as="Windows",Ju="iOS",As="Android",zd="Linux",pl="macOS",er="Solaris",gu="FreeBSD",Xf="ChromeOS",xh=()=>ms({current:void 0,version:xs.unknown()}),ms=e=>{const t=e.current,n=e.version,s=l=>()=>t===l;return{current:t,version:n,isWindows:s(as),isiOS:s(Ju),isAndroid:s(As),isMacOS:s(pl),isLinux:s(zd),isSolaris:s(er),isFreeBSD:s(gu),isChromeOS:s(Xf)}},tc={unknown:xh,nu:ms,windows:Qe(as),ios:Qe(Ju),android:Qe(As),linux:Qe(zd),macos:Qe(pl),solaris:Qe(er),freebsd:Qe(gu),chromeos:Qe(Xf)},Mr={detect:(e,t,n)=>{const s=ar.browsers(),l=ar.oses(),f=t.bind(A=>Zs(s,A)).orThunk(()=>Ii(s,e)).fold(Qi.unknown,Qi.nu),g=Nc(l,e).fold(tc.unknown,tc.nu),C=Gf(g,f,e,n);return{browser:f,os:g,deviceType:C}}},Jf=e=>window.matchMedia(e).matches;let bl=gl(()=>Mr.detect(window.navigator.userAgent,J.from(window.navigator.userAgentData),Jf));const Fa=()=>bl(),fg=window.navigator.userAgent,ua=Fa(),Mi=ua.browser,za=ua.os,vl=ua.deviceType,wh=fg.indexOf("Windows Phone")!==-1,Co={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Mi.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Mi.isIE(),windowsPhone:wh,browser:{current:Mi.current,version:Mi.version,isChromium:Mi.isChromium,isEdge:Mi.isEdge,isFirefox:Mi.isFirefox,isIE:Mi.isIE,isOpera:Mi.isOpera,isSafari:Mi.isSafari},os:{current:za.current,version:za.version,isAndroid:za.isAndroid,isChromeOS:za.isChromeOS,isFreeBSD:za.isFreeBSD,isiOS:za.isiOS,isLinux:za.isLinux,isMacOS:za.isMacOS,isSolaris:za.isSolaris,isWindows:za.isWindows},deviceType:{isDesktop:vl.isDesktop,isiPad:vl.isiPad,isiPhone:vl.isiPhone,isPhone:vl.isPhone,isTablet:vl.isTablet,isTouch:vl.isTouch,isWebView:vl.isWebView}},Bc=/^\s*|\s*$/g,Qu=e=>rt(e)?"":(""+e).replace(Bc,""),hu=(e,t)=>t?t==="array"&&mu(e)?!0:typeof e===t:e!==void 0,Up=(e,t,n={})=>{const s=Ie(e)?e.split(t||","):e||[];let l=s.length;for(;l--;)n[s[l]]={};return n},xy=Gn,J0=(e,...t)=>{for(let n=0;n<t.length;n++){const s=t[n];for(const l in s)if(Gn(s,l)){const f=s[l];f!==void 0&&(e[l]=f)}}return e},Q0=function(e,t,n,s){s=s||this,e&&(n&&(e=e[n]),ts(e,(l,f)=>t.call(s,l,f,n)===!1?!1:(Q0(l,t,n,s),!0)))},Kt={trim:Qu,isArray:mu,is:hu,toArray:Kf,makeMap:Up,each:ts,map:qf,grep:Ni,inArray:ml,hasOwn:xy,extend:J0,walk:Q0,resolve:(e,t=window)=>{const n=e.split(".");for(let s=0,l=n.length;s<l&&(t=t[n[s]],!!t);s++);return t},explode:(e,t)=>oe(e)?e:e===""?[]:qf(e.split(t||","),Qu),_addCacheSuffix:e=>{const t=Co.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},Hd=(e,t,n=nr)=>e.exists(s=>n(s,t)),Vd=(e,t,n=nr)=>Ha(e,t,n).getOr(e.isNone()&&t.isNone()),t1=e=>{const t=[],n=s=>{t.push(s)};for(let s=0;s<e.length;s++)e[s].each(n);return t},Ha=(e,t,n)=>e.isSome()&&t.isSome()?J.some(n(e.getOrDie(),t.getOrDie())):J.none(),$d=(e,t,n,s)=>e.isSome()&&t.isSome()&&n.isSome()?J.some(s(e.getOrDie(),t.getOrDie(),n.getOrDie())):J.none(),mg=(e,t)=>e?J.some(t):J.none(),wy=typeof window<"u"?window:Function("return this;")(),Cy=(e,t)=>{let n=t??wy;for(let s=0;s<e.length&&n!==void 0&&n!==null;++s)n=n[e[s]];return n},Wp=(e,t)=>{const n=e.split(".");return Cy(n,t)},_y=(e,t)=>Wp(e,t),n1=(e,t)=>{const n=_y(e,t);if(n==null)throw new Error(e+" not available on this browser");return n},Sy=Object.getPrototypeOf,gg=e=>n1("HTMLElement",e),o1=e=>{const t=Wp("ownerDocument.defaultView",e);return re(e)&&(gg(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Sy(e).constructor.name))},Ud=8,Wd=9,Va=11,tl=1,hg=3,Po=e=>e.dom.nodeName.toLowerCase(),ed=e=>e.dom.nodeType,pg=e=>t=>ed(t)===e,bg=e=>ed(e)===Ud||Po(e)==="#comment",vi=e=>Ts(e)&&o1(e.dom),Ts=pg(tl),qr=pg(hg),Ca=pg(Wd),Pr=pg(Va),Zd=e=>t=>Ts(t)&&Po(t)===e,Qf=(e,t,n)=>{if(Ie(n)||$e(n)||R(n))e.setAttribute(t,n+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple")},na=(e,t,n)=>{Qf(e.dom,t,n)},yi=(e,t)=>{const n=e.dom;Uo(t,(s,l)=>{Qf(n,l,s)})},ii=(e,t)=>{const n=e.dom.getAttribute(t);return n===null?void 0:n},Mc=(e,t)=>J.from(ii(e,t)),td=(e,t)=>{const n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},bo=(e,t)=>{e.dom.removeAttribute(t)},js=e=>{const t=e.dom.attributes;return t==null||t.length===0},nl=e=>It(e.dom.attributes,(t,n)=>(t[n.name]=n.value,t),{}),nd=(e,t)=>{const n=ii(e,t);return n===void 0||n===""?[]:n.split(" ")},_a=(e,t,n)=>{const l=nd(e,t).concat([n]);return na(e,t,l.join(" ")),!0},Dn=(e,t,n)=>{const s=Ct(nd(e,t),l=>l!==n);return s.length>0?na(e,t,s.join(" ")):bo(e,t),!1},nc=e=>e.dom.classList!==void 0,oc=e=>nd(e,"class"),ir=(e,t)=>_a(e,"class",t),_h=(e,t)=>Dn(e,"class",t),Zp=(e,t)=>le(oc(e),t)?_h(e,t):ir(e,t),od=(e,t)=>{nc(e)?e.dom.classList.add(t):ir(e,t)},_o=e=>{(nc(e)?e.dom.classList:oc(e)).length===0&&bo(e,"class")},xi=(e,t)=>{nc(e)?e.dom.classList.remove(t):_h(e,t),_o(e)},Sh=(e,t)=>{const n=nc(e)?e.dom.classList.toggle(t):Zp(e,t);return _o(e),n},rd=(e,t)=>nc(e)&&e.dom.classList.contains(t),jp=(e,t)=>{const s=(t||document).createElement("div");if(s.innerHTML=e,!s.hasChildNodes()||s.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,e),new Error(l)}return Lc(s.childNodes[0])},Pc=(e,t)=>{const s=(t||document).createElement(e);return Lc(s)},Pi=(e,t)=>{const s=(t||document).createTextNode(e);return Lc(s)},Lc=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Be={fromHtml:jp,fromTag:Pc,fromText:Pi,fromDom:Lc,fromPoint:(e,t,n)=>J.from(e.dom.elementFromPoint(t,n)).map(Lc)},em=(e,t)=>{const n=[],s=f=>(n.push(f),t(f));let l=t(e);do l=l.bind(s);while(l.isSome());return n},yr=(e,t)=>{const n=e.dom;if(n.nodeType!==tl)return!1;{const s=n;if(s.matches!==void 0)return s.matches(t);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(t);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(t);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Kp=e=>e.nodeType!==tl&&e.nodeType!==Wd&&e.nodeType!==Va||e.childElementCount===0,vg=(e,t)=>{const n=t===void 0?document:t.dom;return Kp(n)?[]:Me(n.querySelectorAll(e),Be.fromDom)},Fc=(e,t)=>{const n=t===void 0?document:t.dom;return Kp(n)?J.none():J.from(n.querySelector(e)).map(Be.fromDom)},Lo=(e,t)=>e.dom===t.dom,$a=(e,t)=>{const n=e.dom,s=t.dom;return n===s?!1:n.contains(s)},pu=e=>Be.fromDom(e.dom.ownerDocument),Ml=e=>Ca(e)?e:pu(e),bu=e=>Be.fromDom(Ml(e).dom.documentElement),vu=e=>Be.fromDom(Ml(e).dom.defaultView),Ua=e=>J.from(e.dom.parentNode).map(Be.fromDom),Kd=e=>J.from(e.dom.parentElement).map(Be.fromDom),tm=(e,t)=>{const n=Re(t)?t:xn;let s=e.dom;const l=[];for(;s.parentNode!==null&&s.parentNode!==void 0;){const f=s.parentNode,g=Be.fromDom(f);if(l.push(g),n(g)===!0)break;s=f}return l},qp=e=>{const t=n=>Ct(n,s=>!Lo(e,s));return Ua(e).map(Wa).map(t).getOr([])},oa=e=>J.from(e.dom.previousSibling).map(Be.fromDom),Pn=e=>J.from(e.dom.nextSibling).map(Be.fromDom),yu=e=>Ao(em(e,oa)),nm=e=>em(e,Pn),Wa=e=>Me(e.dom.childNodes,Be.fromDom),xu=(e,t)=>{const n=e.dom.childNodes;return J.from(n[t]).map(Be.fromDom)},yl=e=>xu(e,0),wu=e=>xu(e,e.dom.childNodes.length-1),sd=e=>e.dom.childNodes.length,ra=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return Be.fromDom(t)},Pl=e=>Pr(e)&&Ce(e.dom.host),zc=e=>Be.fromDom(e.dom.getRootNode()),om=e=>Pl(e)?e:ra(Ml(e)),r1=e=>Pl(e)?e:Be.fromDom(Ml(e).dom.body),Cu=e=>{const t=zc(e);return Pl(t)?J.some(t):J.none()},qd=e=>Be.fromDom(e.dom.host),Gp=e=>{if(Ce(e.target)){const t=Be.fromDom(e.target);if(Ts(t)&&is(t)&&e.composed&&e.composedPath){const n=e.composedPath();if(n)return cn(n)}}return J.from(e.target)},is=e=>Ce(e.dom.shadowRoot),wi=e=>{const t=qr(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const n=t.ownerDocument;return Cu(Be.fromDom(t)).fold(()=>n.body.contains(t),gn(wi,qd))};var li=(e,t,n,s,l)=>e(n,s)?J.some(n):Re(l)&&l(n)?J.none():t(n,s,l);const Li=(e,t,n)=>{let s=e.dom;const l=Re(n)?n:xn;for(;s.parentNode;){s=s.parentNode;const f=Be.fromDom(s);if(t(f))return J.some(f);if(l(f))break}return J.none()},Xs=(e,t,n)=>li((l,f)=>f(l),Li,e,t,n),kh=(e,t)=>{const n=e.dom;return n.parentNode?Ks(Be.fromDom(n.parentNode),s=>!Lo(e,s)&&t(s)):J.none()},Ks=(e,t)=>{const n=l=>t(Be.fromDom(l));return wn(e.dom.childNodes,n).map(Be.fromDom)},Sa=(e,t)=>{const n=s=>{for(let l=0;l<s.childNodes.length;l++){const f=Be.fromDom(s.childNodes[l]);if(t(f))return J.some(f);const g=n(s.childNodes[l]);if(g.isSome())return g}return J.none()};return n(e.dom)},Hc=(e,t,n)=>Li(e,s=>yr(s,t),n),At=(e,t)=>Fc(t,e),ka=(e,t,n)=>li((l,f)=>yr(l,f),Hc,e,t,n),Eh=e=>ka(e,"[contenteditable]"),ls=(e,t=!1)=>wi(e)?e.dom.isContentEditable:Eh(e).fold(Qe(t),n=>_u(n)==="true"),_u=e=>e.dom.contentEditable,Ci=e=>e.style!==void 0&&Re(e.style.getPropertyValue),rc=(e,t,n)=>{if(!Ie(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Ci(e)&&e.style.setProperty(t,n)},rm=(e,t)=>{Ci(e)&&e.style.removeProperty(t)},Fi=(e,t,n)=>{const s=e.dom;rc(s,t,n)},Bo=(e,t)=>{const n=e.dom;Uo(t,(s,l)=>{rc(n,l,s)})},Os=(e,t)=>{const n=e.dom,l=window.getComputedStyle(n).getPropertyValue(t);return l===""&&!wi(e)?Gd(n,t):l},Gd=(e,t)=>Ci(e)?e.style.getPropertyValue(t):"",ws=(e,t)=>{const n=e.dom,s=Gd(n,t);return J.from(s).filter(l=>l.length>0)},yg=e=>{const t={},n=e.dom;if(Ci(n))for(let s=0;s<n.style.length;s++){const l=n.style.item(s);t[l]=n.style[l]}return t},Vc=(e,t)=>{const n=e.dom;rm(n,t),Hd(Mc(e,"style").map(De),"")&&bo(e,"style")},s1=e=>e.dom.offsetWidth,gs=(e,t)=>{Ua(e).each(s=>{s.dom.insertBefore(t.dom,e.dom)})},et=(e,t)=>{Pn(e).fold(()=>{Ua(e).each(l=>{Ds(l,t)})},s=>{gs(s,t)})},_i=(e,t)=>{yl(e).fold(()=>{Ds(e,t)},s=>{e.dom.insertBefore(t.dom,s.dom)})},Ds=(e,t)=>{e.dom.appendChild(t.dom)},Al=(e,t)=>{gs(e,t),Ds(t,e)},sc=(e,t)=>{ge(t,(n,s)=>{const l=s===0?e:t[s-1];et(l,n)})},Hs=(e,t)=>{ge(t,n=>{Ds(e,n)})},Lr=e=>{e.dom.textContent="",ge(Wa(e),t=>{fr(t)})},fr=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Si=e=>{const t=Wa(e);t.length>0&&sc(e,t),fr(e)},Tl=(e,t)=>{const s=(t||document).createElement("div");return s.innerHTML=e,Wa(Be.fromDom(s))},$c=e=>Me(e,Be.fromDom),ad=e=>e.dom.innerHTML,sm=(e,t)=>{const s=pu(e).dom,l=Be.fromDom(s.createDocumentFragment()),f=Tl(t,s);Hs(l,f),Lr(e),Ds(e,l)},xg=e=>{const t=Be.fromTag("div"),n=Be.fromDom(e.dom.cloneNode(!0));return Ds(t,n),ad(t)},wg=(e,t,n,s,l,f,g)=>({target:e,x:t,y:n,stop:s,prevent:l,kill:f,raw:g}),Yp=e=>{const t=Be.fromDom(Gp(e).getOr(e.target)),n=()=>e.stopPropagation(),s=()=>e.preventDefault(),l=ln(s,n);return wg(t,e.clientX,e.clientY,n,s,l,e)},Xp=(e,t)=>n=>{e(n)&&t(Yp(n))},Su=(e,t,n,s,l)=>{const f=Xp(n,s);return e.dom.addEventListener(t,f,l),{unbind:pt(Z,e,t,f,l)}},I=(e,t,n,s)=>Su(e,t,n,s,!1),Z=(e,t,n,s)=>{e.dom.removeEventListener(t,n,s)},te=(e,t)=>({left:e,top:t,translate:(s,l)=>te(e+s,t+l)}),Ae=te,He=e=>{const t=e.getBoundingClientRect();return Ae(t.left,t.top)},Tt=(e,t)=>e!==void 0?e:t!==void 0?t:0,Ln=e=>{const t=e.dom.ownerDocument,n=t.body,s=t.defaultView,l=t.documentElement;if(n===e.dom)return Ae(n.offsetLeft,n.offsetTop);const f=Tt(s==null?void 0:s.pageYOffset,l.scrollTop),g=Tt(s==null?void 0:s.pageXOffset,l.scrollLeft),C=Tt(l.clientTop,n.clientTop),A=Tt(l.clientLeft,n.clientLeft);return ro(e).translate(g-A,f-C)},ro=e=>{const t=e.dom,s=t.ownerDocument.body;return s===t?Ae(s.offsetLeft,s.offsetTop):wi(e)?He(t):Ae(0,0)},Yn=e=>{const t=e!==void 0?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,s=t.body.scrollTop||t.documentElement.scrollTop;return Ae(n,s)},_n=(e,t,n)=>{const l=(n!==void 0?n.dom:document).defaultView;l&&l.scrollTo(e,t)},Jo=(e,t)=>{Fa().browser.isSafari()&&Re(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Rs=e=>{const t=e===void 0?window:e;return Fa().browser.isFirefox()?J.none():J.from(t.visualViewport)},cs=(e,t,n,s)=>({x:e,y:t,width:n,height:s,right:e+n,bottom:t+s}),ac=e=>{const t=e===void 0?window:e,n=t.document,s=Yn(Be.fromDom(n));return Rs(t).fold(()=>{const l=t.document.documentElement,f=l.clientWidth,g=l.clientHeight;return cs(s.left,s.top,f,g)},l=>cs(Math.max(l.pageLeft,s.left),Math.max(l.pageTop,s.top),l.width,l.height))},am=(e,t)=>Ct(Wa(e),t),im=(e,t)=>{let n=[];return ge(Wa(e),s=>{t(s)&&(n=n.concat([s])),n=n.concat(im(s,t))}),n},Js=(e,t)=>vg(t,e),Lw=(e,t,n)=>Li(e,t,n).isSome(),Jp=(e,t)=>kh(e,t).isSome(),a1=(e,t)=>Sa(e,t).isSome();class Za{constructor(t,n){this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,n,s,l){if(t){if(!l&&t[n])return t[n];if(t!==this.rootNode){let f=t[s];if(f)return f;for(let g=t.parentNode;g&&g!==this.rootNode;g=g.parentNode)if(f=g[s],f)return f}}}findPreviousNode(t,n){if(t){const s=t.previousSibling;if(this.rootNode&&s===this.rootNode)return;if(s){if(!n){for(let f=s.lastChild;f;f=f.lastChild)if(!f.lastChild)return f}return s}const l=t.parentNode;if(l&&l!==this.rootNode)return l}}}const hs="\uFEFF",da="",ku=e=>e===hs,Ah=e=>e.replace(/\uFEFF/g,""),ky=/^[ \t\r\n]*$/,Ll=e=>ky.test(e),ol=e=>{for(const t of e)if(!ku(t))return!1;return!0},Qp=e=>" \f	\v".indexOf(e)!==-1,Yd=e=>e===`
`||e==="\r",gk=(e,t)=>t<e.length&&t>=0?Yd(e[t]):!1,eb=(e,t=4,n=!0,s=!0)=>{const l=Yt(" ",t),f=e.replace(/\t/g,l);return It(f,(C,A)=>Qp(A)||A===da?C.pcIsSpace||C.str===""&&n||C.str.length===f.length-1&&s||gk(f,C.str.length+1)?{pcIsSpace:!1,str:C.str+da}:{pcIsSpace:!0,str:C.str+" "}:{pcIsSpace:Yd(A),str:C.str+A},{pcIsSpace:!1,str:""}).str},id=e=>t=>!!t&&t.nodeType===e,Xd=e=>!!e&&!Object.getPrototypeOf(e),yn=id(1),Uc=e=>yn(e)&&vi(Be.fromDom(e)),tb=e=>yn(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",Jd=e=>{const t=e.toLowerCase();return n=>Ce(n)&&n.nodeName.toLowerCase()===t},ja=e=>{const t=e.map(n=>n.toLowerCase());return n=>{if(n&&n.nodeName){const s=n.nodeName.toLowerCase();return le(t,s)}return!1}},ic=(e,t)=>{const n=t.toLowerCase().split(" ");return s=>{if(yn(s)){const l=s.ownerDocument.defaultView;if(l)for(let f=0;f<n.length;f++){const g=l.getComputedStyle(s,null);if((g?g.getPropertyValue(e):null)===n[f])return!0}}return!1}},Cg=e=>t=>yn(t)&&t.hasAttribute(e),Qd=e=>yn(e)&&e.hasAttribute("data-mce-bogus"),i1=e=>yn(e)&&e.getAttribute("data-mce-bogus")==="all",Wc=e=>yn(e)&&e.tagName==="TABLE",Th=e=>t=>!!(Uc(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),Oh=ja(["textarea","input"]),Mt=id(3),Ey=id(4),ef=id(7),go=id(8),Sn=id(9),tf=id(11),ns=Jd("br"),lc=Jd("img"),cc=Th("true"),eo=Th("false"),Dh=ja(["td","th"]),Fw=ja(["td","th","caption"]),xt=ja(["video","audio","object","embed"]),Ay=Jd("li"),Rh=Jd("details"),Nh=Jd("summary"),_g={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},lm=(e,t,n)=>{const s=Be.fromDom(t),l=Be.fromDom(e),f=n.getWhitespaceElements();return Lw(l,C=>Gn(f,Po(C)),pt(Lo,s))},zw=e=>yn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),nf=(e,t)=>yn(e)&&Gn(t.getNonEmptyElements(),e.nodeName),Ur=Cg("data-mce-bookmark"),Eu=e=>Kd(Be.fromDom(e)).exists(t=>!ls(t)),l1=(e,t,n)=>Ll(e.data)&&!lm(e,t,n),Zc=(e,t,n,s)=>Mt(e)&&!l1(e,t,n)&&(!s.includeZwsp||!ol(e.data)),cm=(e,t,n,s)=>Re(s.isContent)&&s.isContent(t)||nf(t,e)||Ur(t)||zw(t)||Zc(t,n,e,s)||eo(t)||cc(t)&&Eu(t),Fl=(e,t,n)=>{const s={..._g,...n};if(s.checkRootAsContent&&cm(e,t,t,s))return!1;let l=t.firstChild,f=0;if(!l)return!0;const g=new Za(l,t);do{if(s.skipBogus&&yn(l)){const C=l.getAttribute("data-mce-bogus");if(C){l=g.next(C==="all");continue}}if(go(l)){l=g.next(!0);continue}if(ns(l)){f++,l=g.next();continue}if(cm(e,l,t,s))return!1;l=g.next()}while(l);return f<=1},Ns=(e,t,n)=>Fl(e,t.dom,{checkRootAsContent:!0,...n}),nb=(e,t,n)=>cm(e,t,t,{includeZwsp:_g.includeZwsp,...n}),fa=e=>{let t=e;return{get:()=>t,set:l=>{t=l}}},c1=e=>{const t=fa(J.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(J.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:C=>{n(),t.set(J.some(C))}}},uc=e=>{const t=fa(J.none()),n=()=>t.get().each(C=>clearInterval(C));return{clear:()=>{n(),t.set(J.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:C=>{n(),t.set(J.some(setInterval(C,e)))}}},ma=()=>{const e=c1(Pt);return{...e,on:n=>e.get().each(n)}},Ft=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},um=e=>Ft(e)!=="html",ga=e=>um(e.nodeName),Hw=e=>Ft(e.nodeName),Vw=["svg","math"],hk=()=>{const e=ma(),t=()=>e.get().map(Hw).getOr("html");return{track:l=>(ga(l)?e.set(l):e.get().exists(f=>!f.contains(l))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},ld="data-mce-block",Sg=e=>Ct(Vt(e),t=>!/[A-Z]/.test(t)),ob=e=>Me(Sg(e),t=>{const n=CSS.escape(t);return`${n}:`+Me(Vw,s=>`not(${s} ${n})`).join(":")}).join(","),u1=(e,t)=>Ce(t.querySelector(e))?(t.setAttribute(ld,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(ld),!1),Ty=(e,t)=>{const n=ob(e.getTransparentElements()),s=ob(e.getBlockElements());return Ct(t.querySelectorAll(n),l=>u1(s,l))},us=(e,t,n)=>{var s;const l=n?"lastChild":"firstChild";for(let f=t[l];f;f=f[l])if(Fl(e,f,{checkRootAsContent:!0})){(s=f.parentNode)===null||s===void 0||s.removeChild(f);return}},rb=(e,t,n)=>{const s=document.createRange(),l=t.parentNode;if(l){s.setStartBefore(t),s.setEndBefore(n);const f=s.extractContents();us(e,f,!0),s.setStartAfter(n),s.setEndAfter(t);const g=s.extractContents();us(e,g,!1),Fl(e,f,{checkRootAsContent:!0})||l.insertBefore(f,t),Fl(e,n,{checkRootAsContent:!0})||l.insertBefore(n,t),Fl(e,g,{checkRootAsContent:!0})||l.insertBefore(g,t),l.removeChild(t)}},ps=(e,t,n)=>{const s=e.getBlockElements(),l=Be.fromDom(t),f=C=>Po(C)in s,g=C=>Lo(C,l);ge($c(n),C=>{Li(C,f,g).each(A=>{const F=am(C,j=>f(j)&&!e.isValidChild(Po(A),Po(j)));if(F.length>0){const j=Kd(A);ge(F,q=>{Li(q,f,g).each(X=>{rb(e,X.dom,q.dom)})}),j.each(q=>Ty(e,q.dom))}})})},zi=(e,t,n)=>{ge([...n,...of(e,t)?[t]:[]],s=>ge(Js(Be.fromDom(s),s.nodeName.toLowerCase()),l=>{$w(e,l.dom)&&Si(l)}))},Is=(e,t)=>{const n=Ty(e,t);ps(e,t,n),zi(e,t,n)},zl=(e,t)=>{if(Ih(e,t)){const n=ob(e.getBlockElements());u1(n,t)}},cd=(e,t,n)=>{const s=f=>Lo(f,Be.fromDom(t)),l=tm(Be.fromDom(n),s);bi(l,l.length-2).filter(Ts).fold(()=>Is(e,t),f=>Is(e,f.dom))},Ea=e=>e.hasAttribute(ld),sb=(e,t)=>Gn(e.getTransparentElements(),t),Ih=(e,t)=>yn(t)&&sb(e,t.nodeName),of=(e,t)=>Ih(e,t)&&Ea(t),$w=(e,t)=>Ih(e,t)&&!Ea(t),Bh=(e,t)=>t.type===1&&sb(e,t.name)&&Ie(t.attr(ld)),Oy=Fa().browser,d1=e=>wn(e,Ts),ab=e=>Oy.isFirefox()&&Po(e)==="table"?d1(Wa(e)).filter(t=>Po(t)==="caption").bind(t=>d1(nm(t)).map(n=>{const s=n.dom.offsetTop,l=t.dom.offsetTop,f=t.dom.offsetHeight;return s<=l?-f:0})).getOr(0):0,f1=(e,t)=>e.children&&le(e.children,t),Dy=(e,t,n)=>{let s=0,l=0;const f=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&Os(Be.fromDom(e),"position")==="static"){const C=t.getBoundingClientRect();return s=C.left+(f.documentElement.scrollLeft||e.scrollLeft)-f.documentElement.clientLeft,l=C.top+(f.documentElement.scrollTop||e.scrollTop)-f.documentElement.clientTop,{x:s,y:l}}let g=t;for(;g&&g!==n&&g.nodeType&&!f1(g,n);){const C=g;s+=C.offsetLeft||0,l+=C.offsetTop||0,g=C.offsetParent}for(g=t.parentNode;g&&g!==n&&g.nodeType&&!f1(g,n);)s-=g.scrollLeft||0,l-=g.scrollTop||0,g=g.parentNode;l+=ab(Be.fromDom(t))}return{x:s,y:l}},dm=(e,t={})=>{let n=0;const s={},l=Be.fromDom(e),f=Ml(l),g=ze=>{t.referrerPolicy=ze},C=ze=>{t.contentCssCors=ze},A=ze=>{Ds(om(l),ze)},F=ze=>{const qe=om(l);At(qe,"#"+ze).each(fr)},j=ze=>dr(s,ze).getOrThunk(()=>({id:"mce-u"+n++,passed:[],failed:[],count:0})),q=ze=>new Promise((qe,We)=>{let st;const Nt=Kt._addCacheSuffix(ze),jt=j(Nt);s[Nt]=jt,jt.count++;const un=(pn,Nn)=>{ge(pn,ho),jt.status=Nn,jt.passed=[],jt.failed=[],st&&(st.onload=null,st.onerror=null,st=null)},wt=()=>un(jt.passed,2),dt=()=>un(jt.failed,3);if(qe&&jt.passed.push(qe),We&&jt.failed.push(We),jt.status===1)return;if(jt.status===2){wt();return}if(jt.status===3){dt();return}jt.status=1;const Dt=Be.fromTag("link",f.dom);yi(Dt,{rel:"stylesheet",type:"text/css",id:jt.id}),t.contentCssCors&&na(Dt,"crossOrigin","anonymous"),t.referrerPolicy&&na(Dt,"referrerpolicy",t.referrerPolicy),st=Dt.dom,st.onload=wt,st.onerror=dt,A(Dt),na(Dt,"href",Nt)}),X=(ze,qe)=>{const We=j(ze);s[ze]=We,We.count++;const st=Be.fromTag("style",f.dom);yi(st,{rel:"stylesheet",type:"text/css",id:We.id}),st.dom.innerHTML=qe,A(st)},ue=ze=>Promise.allSettled(Me(ze,We=>q(We).then(Qe(We)))).then(We=>{const st=$t(We,Nt=>Nt.status==="fulfilled");return st.fail.length>0?Promise.reject(Me(st.fail,Nt=>Nt.reason)):Me(st.pass,Nt=>Nt.value)}),we=ze=>{const qe=Kt._addCacheSuffix(ze);dr(s,qe).each(We=>{--We.count===0&&(delete s[qe],F(We.id))})};return{load:q,loadRawCss:X,loadAll:ue,unload:we,unloadRawCss:ze=>{dr(s,ze).each(qe=>{--qe.count===0&&(delete s[ze],F(qe.id))})},unloadAll:ze=>{ge(ze,qe=>{we(qe)})},_setReferrerPolicy:g,_setContentCssCors:C}},m1=(()=>{const e=new WeakMap;return{forElement:(n,s)=>{const f=zc(n).dom;return J.from(e.get(f)).getOrThunk(()=>{const g=dm(f,s);return e.set(f,g),g})}}})(),g1=e=>e.nodeName.toLowerCase()==="span",Ry=(e,t)=>Ce(e)&&(nb(t,e)||t.isInline(e.nodeName.toLowerCase())),Ny=(e,t,n)=>{const s=new Za(e,t).prev(!1),l=new Za(e,t).next(!1),f=Ze(s)||Ry(s,n),g=Ze(l)||Ry(l,n);return f&&g},ib=e=>g1(e)&&e.getAttribute("data-mce-type")==="bookmark",Iy=(e,t,n)=>Mt(e)&&e.data.length>0&&Ny(e,t,n),By=e=>yn(e)?e.childNodes.length>0:!1,lb=e=>tf(e)||Sn(e),Mh=(e,t,n,s)=>{var l;const f=s||t;if(yn(t)&&ib(t))return t;const g=t.childNodes;for(let C=g.length-1;C>=0;C--)Mh(e,g[C],n,f);if(yn(t)){const C=t.childNodes;C.length===1&&ib(C[0])&&((l=t.parentNode)===null||l===void 0||l.insertBefore(C[0],t))}return!lb(t)&&!nb(n,t)&&!By(t)&&!Iy(t,f,n)&&e.remove(t),t},My=Kt.makeMap,cb=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ub=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fm=/[<>&\"\']/g,Ph=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Py={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},ud={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},kg={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Eg=e=>{const t=Be.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},dd=(e,t)=>{const n={};if(e){const s=e.split(",");t=t||10;for(let l=0;l<s.length;l+=2){const f=String.fromCharCode(parseInt(s[l],t));if(!ud[f]){const g="&"+s[l+1]+";";n[f]=g,n[g]=f}}return n}else return},rf=dd("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),db=(e,t)=>e.replace(t?cb:ub,n=>ud[n]||n),bk=e=>(""+e).replace(fm,t=>ud[t]||t),fb=(e,t)=>e.replace(t?cb:ub,n=>n.length>1?"&#"+((n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320)+65536)+";":ud[n]||"&#"+n.charCodeAt(0)+";"),dc=(e,t,n)=>{const s=n||rf;return e.replace(t?cb:ub,l=>ud[l]||s[l]||l)},Ag={encodeRaw:db,encodeAllRaw:bk,encodeNumeric:fb,encodeNamed:dc,getEncodeFunc:(e,t)=>{const n=dd(t)||rf,s=(g,C)=>g.replace(C?cb:ub,A=>ud[A]!==void 0?ud[A]:n[A]!==void 0?n[A]:A.length>1?"&#"+((A.charCodeAt(0)-55296)*1024+(A.charCodeAt(1)-56320)+65536)+";":"&#"+A.charCodeAt(0)+";"),l=(g,C)=>dc(g,C,n),f=My(e.replace(/\+/g,","));return f.named&&f.numeric?s:f.named?t?l:dc:f.numeric?fb:db},decode:e=>e.replace(Ph,(t,n)=>n?(n.charAt(0).toLowerCase()==="x"?n=parseInt(n.substr(1),16):n=parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(n&1023))):Py[n]||String.fromCharCode(n)):kg[t]||rf[t]||Eg(t))},Ka=(e,t)=>(e=Kt.trim(e),e?e.split(t||" "):[]),Tg=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Og=e=>re(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",h1=e=>{const t=n=>oe(n)?Me(n,t):Og(n)?new RegExp(n.source,n.flags):re(n)?kl(n,t):n;return t(e)},Fo=e=>{const t=/^(~)?(.+)$/;return ao(Ka(e,","),n=>{const s=t.exec(n);if(s){const f=s[1]==="~"?"span":"div",g=s[2];return[{cloneName:f,name:g}]}else return[]})},rl=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),Au=e=>{let t,n;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",n="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",n+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(n=[n,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const s=[t,n].join(" ");return{blockContent:t,phrasingContent:n,flowContent:s}},ci=e=>{const{blockContent:t,phrasingContent:n,flowContent:s}=Au(e),l=f=>Object.freeze(f.split(" "));return Object.freeze({blockContent:l(t),phrasingContent:l(n),flowContent:l(s)})},Rr={html4:gl(()=>ci("html4")),html5:gl(()=>ci("html5")),"html5-strict":gl(()=>ci("html5-strict"))},mb=(e,t)=>{const{blockContent:n,phrasingContent:s,flowContent:l}=Rr[e]();return t==="blocks"?J.some(n):t==="phrasing"?J.some(s):t==="flow"?J.some(l):J.none()},Ww=e=>{const t=rl(e),{phrasingContent:n,flowContent:s}=Au(e),l={},f=(A,F,j)=>{l[A]={attributes:Es(F,Qe({})),attributesOrder:F,children:Es(j,Qe({}))}},g=(A,F="",j="")=>{const q=Ka(j),X=Ka(A);let ue=X.length;const we=[...t,...Ka(F)];for(;ue--;)f(X[ue],we.slice(),q)},C=(A,F)=>{const j=Ka(A),q=Ka(F);let X=j.length;for(;X--;){const ue=l[j[X]];for(let we=0,fe=q.length;we<fe;we++)ue.attributes[q[we]]={},ue.attributesOrder.push(q[we])}};return e!=="html5-strict"&&(ge(Ka("acronym applet basefont big font strike tt"),j=>{g(j,"",n)}),ge(Ka("center dir isindex noframes"),j=>{g(j,"",s)})),g("html","manifest","head body"),g("head","","base command link meta noscript script style title"),g("title hr noscript br"),g("base","href target"),g("link","href rel media hreflang type sizes hreflang"),g("meta","name http-equiv content charset"),g("style","media type scoped"),g("script","src async defer type charset"),g("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",s),g("dd div","",s),g("address dt caption","",e==="html4"?n:s),g("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",n),g("blockquote","cite",s),g("ol","reversed start type","li"),g("ul","","li"),g("li","value",s),g("dl","","dt dd"),g("a","href target rel media hreflang type",e==="html4"?n:s),g("q","cite",n),g("ins del","cite datetime",s),g("img","src sizes srcset alt usemap ismap width height"),g("iframe","src name width height",s),g("embed","src type width height"),g("object","data type typemustmatch name usemap form width height",[s,"param"].join(" ")),g("param","name value"),g("map","name",[s,"area"].join(" ")),g("area","alt coords shape href target rel media hreflang type"),g("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),g("colgroup","span","col"),g("col","span"),g("tbody thead tfoot","","tr"),g("tr","","td th"),g("td","colspan rowspan headers",s),g("th","colspan rowspan headers scope abbr",s),g("form","accept-charset action autocomplete enctype method name novalidate target",s),g("fieldset","disabled form name",[s,"legend"].join(" ")),g("label","form for",n),g("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),g("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?s:n),g("select","disabled form multiple name required size","option optgroup"),g("optgroup","disabled label","option"),g("option","disabled label selected value"),g("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),g("menu","type label",[s,"li"].join(" ")),g("noscript","",s),e!=="html4"&&(g("wbr"),g("ruby","",[n,"rt rp"].join(" ")),g("figcaption","",s),g("mark rt rp bdi","",n),g("summary","",[n,"h1 h2 h3 h4 h5 h6"].join(" ")),g("canvas","width height",s),g("data","value",n),g("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[s,"track source"].join(" ")),g("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[s,"track source"].join(" ")),g("picture","","img source"),g("source","src srcset type media sizes"),g("track","kind src srclang label default"),g("datalist","",[n,"option"].join(" ")),g("article section nav aside main header footer","",s),g("hgroup","","h1 h2 h3 h4 h5 h6"),g("figure","",[s,"figcaption"].join(" ")),g("time","datetime",n),g("dialog","open",s),g("command","type label icon disabled checked radiogroup command"),g("output","for form name",n),g("progress","value max",n),g("meter","value min max low high optimum",n),g("details","open",[s,"summary"].join(" ")),g("keygen","autofocus challenge disabled form keytype name"),f("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(C("script","language xml:space"),C("style","xml:space"),C("object","declare classid code codebase codetype archive standby align border hspace vspace"),C("embed","align name hspace vspace"),C("param","valuetype type"),C("a","charset name rev shape coords"),C("br","clear"),C("applet","codebase archive code object alt name width height align hspace vspace"),C("img","name longdesc align border hspace vspace"),C("iframe","longdesc frameborder marginwidth marginheight scrolling align"),C("font basefont","size color face"),C("input","usemap align"),C("select"),C("textarea"),C("h1 h2 h3 h4 h5 h6 div p legend caption","align"),C("ul","type compact"),C("li","type"),C("ol dl menu dir","compact"),C("pre","width xml:space"),C("hr","align noshade size width"),C("isindex","prompt"),C("table","summary width frame rules cellspacing cellpadding align bgcolor"),C("col","width align char charoff valign"),C("colgroup","width align char charoff valign"),C("thead","align char charoff valign"),C("tr","align char charoff valign bgcolor"),C("th","axis align char charoff valign nowrap bgcolor width height"),C("form","accept"),C("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),C("tfoot","align char charoff valign"),C("tbody","align char charoff valign"),C("area","nohref"),C("body","background bgcolor text link vlink alink")),e!=="html4"&&(C("input button select textarea","autofocus"),C("input textarea","placeholder"),C("a","download"),C("link script img","crossorigin"),C("img","loading"),C("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&ge([l.video,l.audio],A=>{delete A.children.audio,delete A.children.video}),ge(Ka("a form meter progress dfn"),A=>{l[A]&&delete l[A].children[A]}),delete l.caption.children.table,delete l.script,l},vk=e=>e==="-"?"remove":"add",Gr=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return J.from(t.exec(e)).map(n=>({preset:n[1]==="@",name:n[2]}))},p1=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return ao(Ka(e,","),n=>{const s=t.exec(n);if(s){const l=s[1],f=l?vk(l):"replace",g=s[2],C=ao(Ka(s[3],"|"),A=>Gr(A).toArray());return[{operation:f,name:g,validChildren:C}]}else return[]})},Fy=(e,t)=>{const n=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,s=/[*?+]/,{attributes:l,attributesOrder:f}=t;return ge(Ka(e,"|"),g=>{const C=n.exec(g);if(C){const A={},F=C[1],j=C[2].replace(/[\\:]:/g,":"),q=C[3],X=C[4];if(F==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(j),A.required=!0),F==="-"){delete l[j],f.splice(Kt.inArray(f,j),1);return}if(q&&(q==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:j,value:X}),A.defaultValue=X):q==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:j,value:X}),A.forcedValue=X):q==="<"&&(A.validValues=Kt.makeMap(X,"?"))),s.test(j)){const ue=A;t.attributePatterns=t.attributePatterns||[],ue.pattern=Tg(j),t.attributePatterns.push(ue)}else l[j]||f.push(j),l[j]=A}})},mm=(e,t)=>{Uo(e.attributes,(n,s)=>{t.attributes[s]=n}),t.attributesOrder.push(...e.attributesOrder)},fc=(e,t)=>{const n=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return ao(Ka(t,","),s=>{const l=n.exec(s);if(l){const f=l[1],g=l[2],C=l[3],A=l[4],F=l[5],j={attributes:{},attributesOrder:[]};if(e.each(q=>mm(q,j)),f==="#"?j.paddEmpty=!0:f==="-"&&(j.removeEmpty=!0),A==="!"&&(j.removeEmptyAttrs=!0),F&&Fy(F,j),C&&(j.outputName=g),g==="@")if(e.isNone())e=J.some(j);else return[];return[C?{name:g,element:j,aliasName:C}:{name:g,element:j}]}else return[]})},Lh={},fn=Kt.makeMap,jc=Kt.each,zy=Kt.extend,b1=Kt.explode,Fh=(e,t={})=>{const n=fn(e," ",fn(e.toUpperCase()," "));return zy(n,t)},v1=e=>Fh("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Dg=(e,t)=>{if(e){const n={};return Ie(e)&&(e={"*":e}),jc(e,(s,l)=>{n[l]=n[l.toUpperCase()]=t==="map"?fn(s,/[, ]/):b1(s,/[, ]/)}),n}else return},mc=(e={})=>{var t;const n={},s={};let l=[];const f={},g={},C=(Mn,jo,Ls)=>{const ta=e[Mn];if(ta)return fn(ta,/[, ]/,fn(ta.toUpperCase(),/[, ]/));{let Ra=Lh[Mn];return Ra||(Ra=Fh(jo,Ls),Lh[Mn]=Ra),Ra}},A=(t=e.schema)!==null&&t!==void 0?t:"html5",F=Ww(A);e.verify_html===!1&&(e.valid_elements="*[*]");const j=Dg(e.valid_styles),q=Dg(e.invalid_styles,"map"),X=Dg(e.valid_classes,"map"),ue=C("whitespace_elements","pre script noscript style textarea video audio iframe object code"),we=C("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),fe=C("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ke=C("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),ze="td th iframe video audio object script code",qe=C("non_empty_elements",ze+" pre svg textarea summary",fe),We=C("move_caret_before_on_enter_elements",ze+" table",fe),st="h1 h2 h3 h4 h5 h6",Nt=C("text_block_elements",st+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),jt=C("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",Nt),un=C("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),wt=C("transparent_elements","a ins del canvas map"),dt=C("wrap_block_elements","pre "+st);jc("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Mn=>{g[Mn]=new RegExp("</"+Mn+"[^>]*>","gi")});const Dt=Mn=>{const jo=J.from(n["@"]),Ls=/[*?+]/;ge(fc(jo,Mn??""),({name:ta,element:Ra,aliasName:ji})=>{if(ji&&(n[ji]=Ra),Ls.test(ta)){const va=Ra;va.pattern=Tg(ta),l.push(va)}else n[ta]=Ra})},pn=Mn=>{l=[],ge(Vt(n),jo=>{delete n[jo]}),Dt(Mn)},Nn=(Mn,jo)=>{var Ls,ta;delete Lh.text_block_elements,delete Lh.block_elements;const Ra=jo.extends?!Zu(jo.extends):!1,ji=jo.extends;if(s[Mn]=ji?s[ji]:{},f[Mn]=ji??Mn,qe[Mn.toUpperCase()]={},qe[Mn]={},Ra||(jt[Mn.toUpperCase()]={},jt[Mn]={}),ji&&!n[Mn]&&n[ji]){const va=h1(n[ji]);delete va.removeEmptyAttrs,delete va.removeEmpty,n[Mn]=va}else n[Mn]={attributesOrder:[],attributes:{}};if(oe(jo.attributes)){const va=Gl=>{ya.attributesOrder.push(Gl),ya.attributes[Gl]={}},ya=(Ls=n[Mn])!==null&&Ls!==void 0?Ls:{};delete ya.attributesDefault,delete ya.attributesForced,delete ya.attributePatterns,delete ya.attributesRequired,ya.attributesOrder=[],ya.attributes={},ge(jo.attributes,Gl=>{const Ym=rl(A);Gr(Gl).each(({preset:Xm,name:Jm})=>{Xm?Jm==="global"&&ge(Ym,va):va(Jm)})}),n[Mn]=ya}if($e(jo.padEmpty)){const va=(ta=n[Mn])!==null&&ta!==void 0?ta:{};va.paddEmpty=jo.padEmpty,n[Mn]=va}if(oe(jo.children)){const va={},ya=Ym=>{va[Ym]={}},Gl=Ym=>{mb(A,Ym).each(Xm=>{ge(Xm,ya)})};ge(jo.children,Ym=>{Gr(Ym).each(({preset:Xm,name:Jm})=>{Xm?Gl(Jm):ya(Jm)})}),s[Mn]=va}ji&&Uo(s,(va,ya)=>{va[ji]&&(s[ya]=va=zy({},s[ya]),va[Mn]=va[ji])})},yo=Mn=>{ge(Fo(Mn??""),({name:jo,cloneName:Ls})=>{Nn(jo,{extends:Ls})})},To=Mn=>{re(Mn)?Uo(Mn,(jo,Ls)=>Nn(Ls,jo)):Ie(Mn)&&yo(Mn)},mr=Mn=>{ge(p1(Mn??""),({operation:jo,name:Ls,validChildren:ta})=>{const Ra=jo==="replace"?{"#comment":{}}:s[Ls],ji=ya=>{jo==="remove"?delete Ra[ya]:Ra[ya]={}},va=ya=>{mb(A,ya).each(Gl=>{ge(Gl,ji)})};ge(ta,({preset:ya,name:Gl})=>{ya?va(Gl):ji(Gl)}),s[Ls]=Ra})},Ar=Mn=>{const jo=n[Mn];if(jo)return jo;let Ls=l.length;for(;Ls--;){const ta=l[Ls];if(ta.pattern.test(Mn))return ta}},Gs=()=>{e.valid_elements?(pn(e.valid_elements),jc(F,(Mn,jo)=>{s[jo]=Mn.children})):(jc(F,(Mn,jo)=>{n[jo]={attributes:Mn.attributes,attributesOrder:Mn.attributesOrder},s[jo]=Mn.children}),jc(Ka("strong/b em/i"),Mn=>{const jo=Ka(Mn,"/");n[jo[1]].outputName=jo[0]}),jc(un,(Mn,jo)=>{n[jo]&&(e.padd_empty_block_inline_children&&(n[jo].paddInEmptyBlock=!0),n[jo].removeEmpty=!0)}),jc(Ka("ol ul blockquote a table tbody"),Mn=>{n[Mn]&&(n[Mn].removeEmpty=!0)}),jc(Ka("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Mn=>{n[Mn]&&(n[Mn].paddEmpty=!0)}),jc(Ka("span"),Mn=>{n[Mn].removeEmptyAttrs=!0})),delete n.svg,To(e.custom_elements),mr(e.valid_children),Dt(e.extended_valid_elements),mr("+ol[ul|ol],+ul[ul|ol]"),jc({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Mn,jo)=>{n[jo]&&(n[jo].parentsRequired=Ka(Mn))}),e.invalid_elements&&jc(b1(e.invalid_elements),Mn=>{n[Mn]&&delete n[Mn]}),Ar("span")||Dt("span[!data-mce-type|*]")},fl=Qe(j),Br=Qe(q),Xt=Qe(X),Tn=Qe(ke),Qo=Qe(jt),tn=Qe(Nt),Hn=Qe(un),ko=Qe(Object.seal(fe)),an=Qe(we),xo=Qe(qe),Do=Qe(We),mi=Qe(ue),Sr=Qe(wt),ei=Qe(dt),Rf=Qe(Object.seal(g)),gh=(Mn,jo)=>{const Ls=s[Mn.toLowerCase()];return!!(Ls&&Ls[jo.toLowerCase()])},ql=(Mn,jo)=>{const Ls=Ar(Mn);if(Ls)if(jo){if(Ls.attributes[jo])return!0;const ta=Ls.attributePatterns;if(ta){let Ra=ta.length;for(;Ra--;)if(ta[Ra].pattern.test(jo))return!0}}else return!0;return!1},Zu=Mn=>Gn(Qo(),Mn),Nf=Mn=>!Kr(Mn,"#")&&ql(Mn)&&!Zu(Mn),ju=Mn=>Gn(ei(),Mn)||Nf(Mn),If=Qe(f);return Gs(),{type:A,children:s,elements:n,getValidStyles:fl,getValidClasses:Xt,getBlockElements:Qo,getInvalidStyles:Br,getVoidElements:ko,getTextBlockElements:tn,getTextInlineElements:Hn,getBoolAttrs:Tn,getElementRule:Ar,getSelfClosingElements:an,getNonEmptyElements:xo,getMoveCaretBeforeOnEnterElements:Do,getWhitespaceElements:mi,getTransparentElements:Sr,getSpecialElements:Rf,isValidChild:gh,isValid:ql,isBlock:Zu,isInline:Nf,isWrapper:ju,getCustomElements:If,addValidElements:Dt,setValidElements:pn,addCustomElements:To,addValidChildren:mr}},yk=e=>({value:y1(e)}),y1=e=>Ic(e,"#").toUpperCase(),Hy=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},x1=e=>{const t=Hy(e.red)+Hy(e.green)+Hy(e.blue);return yk(t)},Vy=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,$y=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,w1=(e,t,n,s)=>({red:e,green:t,blue:n,alpha:s}),Uy=(e,t,n,s)=>{const l=parseInt(e,10),f=parseInt(t,10),g=parseInt(n,10),C=parseFloat(s);return w1(l,f,g,C)},Wy=e=>Vy.test(e)?"rgb":$y.test(e)?"rgba":"other",Zw=e=>{const t=Vy.exec(e);if(t!==null)return J.some(Uy(t[1],t[2],t[3],"1"));const n=$y.exec(e);return n!==null?J.some(Uy(n[1],n[2],n[3],n[4])):J.none()},xk=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,gb=e=>Zw(e).map(x1).map(t=>"#"+t.value).getOr(e),Zy=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,l=/\s+$/,f={};let g,C;const A=hs;t&&(g=t.getValidStyles(),C=t.getInvalidStyles());const F=(`\\" \\' \\; \\: ; : `+A).split(" ");for(let q=0;q<F.length;q++)f[F[q]]=A+q,f[A+q]=F[q];const j={parse:q=>{const X={};let ue=!1;const we=e.url_converter,fe=e.url_converter_scope||j,ke=(wt,dt,Dt)=>{const pn=X[wt+"-top"+dt];if(!pn)return;const Nn=X[wt+"-right"+dt];if(!Nn)return;const yo=X[wt+"-bottom"+dt];if(!yo)return;const To=X[wt+"-left"+dt];if(!To)return;const mr=[pn,Nn,yo,To];let Ar=mr.length-1;for(;Ar--&&mr[Ar]===mr[Ar+1];);Ar>-1&&Dt||(X[wt+dt]=Ar===-1?mr[0]:mr.join(" "),delete X[wt+"-top"+dt],delete X[wt+"-right"+dt],delete X[wt+"-bottom"+dt],delete X[wt+"-left"+dt])},ze=wt=>{const dt=X[wt];if(!dt)return;const Dt=dt.indexOf(",")>-1?[dt]:dt.split(" ");let pn=Dt.length;for(;pn--;)if(Dt[pn]!==Dt[0])return!1;return X[wt]=Dt[0],!0},qe=(wt,dt,Dt,pn)=>{ze(dt)&&ze(Dt)&&ze(pn)&&(X[wt]=X[dt]+" "+X[Dt]+" "+X[pn],delete X[dt],delete X[Dt],delete X[pn])},We=wt=>(ue=!0,f[wt]),st=(wt,dt)=>(ue&&(wt=wt.replace(/\uFEFF[0-9]/g,Dt=>f[Dt])),dt||(wt=wt.replace(/\\([\'\";:])/g,"$1")),wt),Nt=wt=>String.fromCharCode(parseInt(wt.slice(1),16)),jt=wt=>wt.replace(/\\[0-9a-f]+/gi,Nt),un=(wt,dt,Dt,pn,Nn,yo)=>{if(Nn=Nn||yo,Nn)return Nn=st(Nn),"'"+Nn.replace(/\'/g,"\\'")+"'";if(dt=st(dt||Dt||pn||""),!e.allow_script_urls){const To=dt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(To)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(To))return""}return we&&(dt=we.call(fe,dt,"style")),"url('"+dt.replace(/\'/g,"\\'")+"')"};if(q){q=q.replace(/[\u0000-\u001F]/g,""),q=q.replace(/\\[\"\';:\uFEFF]/g,We).replace(/\"[^\"]+\"|\'[^\']+\'/g,dt=>dt.replace(/[;:]/g,We));let wt;for(;wt=s.exec(q);){s.lastIndex=wt.index+wt[0].length;let dt=wt[1].replace(l,"").toLowerCase(),Dt=wt[2].replace(l,"");if(dt&&Dt){if(dt=jt(dt),Dt=jt(Dt),dt.indexOf(A)!==-1||dt.indexOf('"')!==-1||!e.allow_script_urls&&(dt==="behavior"||/expression\s*\(|\/\*|\*\//.test(Dt)))continue;dt==="font-weight"&&Dt==="700"?Dt="bold":(dt==="color"||dt==="background-color")&&(Dt=Dt.toLowerCase()),Wy(Dt)==="rgb"&&Zw(Dt).each(pn=>{Dt=gb(xk(pn)).toLowerCase()}),Dt=Dt.replace(n,un),X[dt]=ue?st(Dt,!0):Dt}}ke("border","",!0),ke("border","-width"),ke("border","-color"),ke("border","-style"),ke("padding",""),ke("margin",""),qe("border","border-width","border-style","border-color"),X.border==="medium none"&&delete X.border,X["border-image"]==="none"&&delete X["border-image"]}return X},serialize:(q,X)=>{let ue="";const we=(ke,ze)=>{const qe=ze[ke];if(qe)for(let We=0,st=qe.length;We<st;We++){const Nt=qe[We],jt=q[Nt];jt&&(ue+=(ue.length>0?" ":"")+Nt+": "+jt+";")}},fe=(ke,ze)=>{if(!C||!ze)return!0;let qe=C["*"];return qe&&qe[ke]?!1:(qe=C[ze],!(qe&&qe[ke]))};return X&&g?(we("*",g),we(X,g)):Uo(q,(ke,ze)=>{ke&&fe(ze,X)&&(ue+=(ue.length>0?" ":"")+ze+": "+ke+";")}),ue}};return j},Rg={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},wk=e=>e instanceof Event||Re(e.initEvent),Ck=e=>e.isDefaultPrevented===Rn||e.isDefaultPrevented===xn,sf=e=>rt(e.preventDefault)||wk(e),gm=(e,t)=>{const n=t??{};for(const s in e)Gn(Rg,s)||(n[s]=e[s]);return Ce(e.composedPath)&&(n.composedPath=()=>e.composedPath()),Ce(e.getModifierState)&&(n.getModifierState=s=>e.getModifierState(s)),Ce(e.getTargetRanges)&&(n.getTargetRanges=()=>e.getTargetRanges()),n},C1=(e,t,n,s)=>{var l;const f=gm(t,s);return f.type=e,rt(f.target)&&(f.target=(l=f.srcElement)!==null&&l!==void 0?l:n),sf(t)&&(f.preventDefault=()=>{f.defaultPrevented=!0,f.isDefaultPrevented=Rn,Re(t.preventDefault)&&t.preventDefault()},f.stopPropagation=()=>{f.cancelBubble=!0,f.isPropagationStopped=Rn,Re(t.stopPropagation)&&t.stopPropagation()},f.stopImmediatePropagation=()=>{f.isImmediatePropagationStopped=Rn,f.stopPropagation()},Ck(f)||(f.isDefaultPrevented=f.defaultPrevented===!0?Rn:xn,f.isPropagationStopped=f.cancelBubble===!0?Rn:xn,f.isImmediatePropagationStopped=xn)),f},jw="mce-data-",jy=/^(?:mouse|contextmenu)|click/,hb=(e,t,n,s)=>{e.addEventListener(t,n,s||!1)},fd=(e,t,n,s)=>{e.removeEventListener(t,n,s||!1)},_1=e=>Ce(e)&&jy.test(e.type),Qs=(e,t)=>{const n=C1(e.type,e,document,t);if(_1(e)&&Ze(e.pageX)&&!Ze(e.clientX)){const s=n.target.ownerDocument||document,l=s.documentElement,f=s.body,g=n;g.pageX=e.clientX+(l&&l.scrollLeft||f&&f.scrollLeft||0)-(l&&l.clientLeft||f&&f.clientLeft||0),g.pageY=e.clientY+(l&&l.scrollTop||f&&f.scrollTop||0)-(l&&l.clientTop||f&&f.clientTop||0)}return n},Cs=(e,t,n)=>{const s=e.document,l={type:"ready"};if(n.domLoaded){t(l);return}const f=()=>s.readyState==="complete"||s.readyState==="interactive"&&s.body,g=()=>{fd(e,"DOMContentLoaded",g),fd(e,"load",g),n.domLoaded||(n.domLoaded=!0,t(l)),e=null};f()?g():hb(e,"DOMContentLoaded",g),n.domLoaded||hb(e,"load",g)};class af{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=jw+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,n,s,l){const f=this;let g;const C=window,A=X=>{f.executeHandlers(Qs(X||C.event),F)};if(!t||Mt(t)||go(t))return s;let F;t[f.expando]?F=t[f.expando]:(F=f.count++,t[f.expando]=F,f.events[F]={}),l=l||t;const j=n.split(" ");let q=j.length;for(;q--;){let X=j[q],ue=A,we=!1,fe=!1;if(X==="DOMContentLoaded"&&(X="ready"),f.domLoaded&&X==="ready"&&t.readyState==="complete"){s.call(l,Qs({type:X}));continue}!f.hasFocusIn&&(X==="focusin"||X==="focusout")&&(we=!0,fe=X==="focusin"?"focus":"blur",ue=ke=>{const ze=Qs(ke||C.event);ze.type=ze.type==="focus"?"focusin":"focusout",f.executeHandlers(ze,F)}),g=f.events[F][X],g?X==="ready"&&f.domLoaded?s(Qs({type:X})):g.push({func:s,scope:l}):(f.events[F][X]=g=[{func:s,scope:l}],g.fakeName=fe,g.capture=we,g.nativeHandler=ue,X==="ready"?Cs(t,ue,f):hb(t,fe||X,ue,we))}return t=g=null,s}unbind(t,n,s){if(!t||Mt(t)||go(t))return this;const l=t[this.expando];if(l){let f=this.events[l];if(n){const g=n.split(" ");let C=g.length;for(;C--;){const A=g[C],F=f[A];if(F){if(s){let j=F.length;for(;j--;)if(F[j].func===s){const q=F.nativeHandler,X=F.fakeName,ue=F.capture,we=F.slice(0,j).concat(F.slice(j+1));we.nativeHandler=q,we.fakeName=X,we.capture=ue,f[A]=we}}(!s||F.length===0)&&(delete f[A],fd(t,F.fakeName||A,F.nativeHandler,F.capture))}}}else Uo(f,(g,C)=>{fd(t,g.fakeName||C,g.nativeHandler,g.capture)}),f={};for(const g in f)if(Gn(f,g))return this;delete this.events[l];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,n,s){return this.dispatch(t,n,s)}dispatch(t,n,s){if(!t||Mt(t)||go(t))return this;const l=Qs({type:n,target:t},s);do{const f=t[this.expando];f&&this.executeHandlers(l,f),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!l.isPropagationStopped());return this}clean(t){if(!t||Mt(t)||go(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const n=t.getElementsByTagName("*");let s=n.length;for(;s--;)t=n[s],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,n){const s=this.events[n],l=s&&s[t.type];if(l)for(let f=0,g=l.length;f<g;f++){const C=l[f];if(C&&C.func.call(C.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}af.Event=new af;const Ky=Kt.each,S1=Kt.grep,Aa="data-mce-style",Hi=Kt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Ng=(e,t,n)=>{rt(n)||n===""?bo(e,t):na(e,t,n)},lf=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),hm=(e,t)=>{let n=0;if(e)for(let s=e.nodeType,l=e.previousSibling;l;l=l.previousSibling){const f=l.nodeType;t&&Mt(l)&&(f===s||!l.data.length)||(n++,s=f)}return n},k1=(e,t)=>{const n=ii(t,"style"),s=e.serialize(e.parse(n),Po(t));Ng(t,Aa,s)},Kw=(e,t)=>R(e)?Gn(Hi,t)?e+"":e+"px":e,qy=(e,t,n)=>{const s=lf(t);rt(n)||n===""?Vc(e,s):Fi(e,s,Kw(n,s))},pm=(e,t,n)=>{const s=t.keep_values,l={set:(g,C,A)=>{const F=Be.fromDom(g);Re(t.url_converter)&&Ce(C)&&(C=t.url_converter.call(t.url_converter_scope||n(),String(C),A,g));const j="data-mce-"+A;Ng(F,j,C),Ng(F,A,C)},get:(g,C)=>{const A=Be.fromDom(g);return ii(A,"data-mce-"+C)||ii(A,C)}},f={style:{set:(g,C)=>{const A=Be.fromDom(g);s&&Ng(A,Aa,C),bo(A,"style"),Ie(C)&&Bo(A,e.parse(C))},get:g=>{const C=Be.fromDom(g),A=ii(C,Aa)||ii(C,"style");return e.serialize(e.parse(A),Po(C))}}};return s&&(f.href=f.src=l),f},Nr=(e,t={})=>{const n={},s=window,l={};let f=0;const g=!0,C=!0,A=m1.forElement(Be.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),F=[],j=t.schema?t.schema:mc({}),q=Zy({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),X=t.ownEvents?new af:af.Event,ue=j.getBlockElements(),we=ut=>Ie(ut)?Gn(ue,ut):yn(ut)&&(Gn(ue,ut.nodeName)||of(j,ut)),fe=ut=>ut&&e&&Ie(ut)?e.getElementById(ut):ut,ke=ut=>{const ft=fe(ut);return Ce(ft)?Be.fromDom(ft):null},ze=(ut,ft,Gt="")=>{let Wt;const Wn=ke(ut);if(Ce(Wn)&&Ts(Wn)){const Ho=MT[ft];Ho&&Ho.get?Wt=Ho.get(Wn.dom,ft):Wt=ii(Wn,ft)}return Ce(Wt)?Wt:Gt},qe=ut=>{const ft=fe(ut);return rt(ft)?[]:ft.attributes},We=(ut,ft,Gt)=>{Tn(ut,Wt=>{if(yn(Wt)){const Wn=Be.fromDom(Wt),Ho=Gt===""?null:Gt,Fs=ii(Wn,ft),Qm=MT[ft];Qm&&Qm.set?Qm.set(Wn.dom,Ho,ft):Ng(Wn,ft,Ho),Fs!==Ho&&t.onSetAttrib&&t.onSetAttrib({attrElm:Wn.dom,attrName:ft,attrValue:Ho})}})},st=(ut,ft)=>ut.cloneNode(ft),Nt=()=>t.root_element||e.body,jt=ut=>{const ft=ac(ut);return{x:ft.x,y:ft.y,w:ft.width,h:ft.height}},un=(ut,ft)=>Dy(e.body,fe(ut),ft),wt=(ut,ft,Gt)=>{Tn(ut,Wt=>{const Wn=Be.fromDom(Wt);qy(Wn,ft,Gt),t.update_styles&&k1(q,Wn)})},dt=(ut,ft)=>{Tn(ut,Gt=>{const Wt=Be.fromDom(Gt);Uo(ft,(Wn,Ho)=>{qy(Wt,Ho,Wn)}),t.update_styles&&k1(q,Wt)})},Dt=(ut,ft,Gt)=>{const Wt=fe(ut);if(!(rt(Wt)||!Uc(Wt)&&!tb(Wt)))return Gt?Os(Be.fromDom(Wt),lf(ft)):(ft=ft.replace(/-(\D)/g,(Wn,Ho)=>Ho.toUpperCase()),ft==="float"&&(ft="cssFloat"),Wt.style?Wt.style[ft]:void 0)},pn=ut=>{const ft=fe(ut);if(!ft)return{w:0,h:0};let Gt=Dt(ft,"width"),Wt=Dt(ft,"height");return(!Gt||Gt.indexOf("px")===-1)&&(Gt="0"),(!Wt||Wt.indexOf("px")===-1)&&(Wt="0"),{w:parseInt(Gt,10)||ft.offsetWidth||ft.clientWidth,h:parseInt(Wt,10)||ft.offsetHeight||ft.clientHeight}},Nn=ut=>{const ft=fe(ut),Gt=un(ft),Wt=pn(ft);return{x:Gt.x,y:Gt.y,w:Wt.w,h:Wt.h}},yo=(ut,ft)=>{if(!ut)return!1;const Gt=oe(ut)?ut:[ut];return xe(Gt,Wt=>yr(Be.fromDom(Wt),ft))},To=(ut,ft,Gt,Wt)=>{const Wn=[];let Ho=fe(ut);Wt=Wt===void 0;const Fs=Gt||(Nt().nodeName!=="BODY"?Nt().parentNode:null);if(Ie(ft))if(ft==="*")ft=yn;else{const Qm=ft;ft=s8=>yo(s8,Qm)}for(;Ho&&!(Ho===Fs||rt(Ho.nodeType)||Sn(Ho)||tf(Ho));){if(!ft||ft(Ho))if(Wt)Wn.push(Ho);else return[Ho];Ho=Ho.parentNode}return Wt?Wn:null},mr=(ut,ft,Gt)=>{const Wt=To(ut,ft,Gt,!1);return Wt&&Wt.length>0?Wt[0]:null},Ar=(ut,ft,Gt)=>{let Wt=ft;if(ut){Ie(ft)&&(Wt=Wn=>yo(Wn,ft));for(let Wn=ut[Gt];Wn;Wn=Wn[Gt])if(Re(Wt)&&Wt(Wn))return Wn}return null},Gs=(ut,ft)=>Ar(ut,ft,"nextSibling"),fl=(ut,ft)=>Ar(ut,ft,"previousSibling"),Br=ut=>Re(ut.querySelectorAll),Xt=(ut,ft)=>{var Gt,Wt;const Wn=(Wt=(Gt=fe(ft))!==null&&Gt!==void 0?Gt:t.root_element)!==null&&Wt!==void 0?Wt:e;return Br(Wn)?io(Wn.querySelectorAll(ut)):[]},Tn=function(ut,ft,Gt){const Wt=Gt??this;if(oe(ut)){const Wn=[];return Ky(ut,(Ho,Fs)=>{const Qm=fe(Ho);Qm&&Wn.push(ft.call(Wt,Qm,Fs))}),Wn}else{const Wn=fe(ut);return Wn?ft.call(Wt,Wn):!1}},Qo=(ut,ft)=>{Tn(ut,Gt=>{Uo(ft,(Wt,Wn)=>{We(Gt,Wn,Wt)})})},tn=(ut,ft)=>{Tn(ut,Gt=>{const Wt=Be.fromDom(Gt);sm(Wt,ft)})},Hn=(ut,ft,Gt,Wt,Wn)=>Tn(ut,Ho=>{const Fs=Ie(ft)?e.createElement(ft):ft;return Ce(Gt)&&Qo(Fs,Gt),Wt&&(!Ie(Wt)&&Wt.nodeType?Fs.appendChild(Wt):Ie(Wt)&&tn(Fs,Wt)),Wn?Fs:Ho.appendChild(Fs)}),ko=(ut,ft,Gt)=>Hn(e.createElement(ut),ut,ft,Gt,!0),an=Ag.decode,xo=Ag.encodeAllRaw,Do=(ut,ft,Gt="")=>{let Wt="<"+ut;for(const Wn in ft)El(ft,Wn)&&(Wt+=" "+Wn+'="'+xo(ft[Wn])+'"');return Lt(Gt)&&Gn(j.getVoidElements(),ut)?Wt+" />":Wt+">"+Gt+"</"+ut+">"},mi=ut=>{const ft=e.createElement("div"),Gt=e.createDocumentFragment();Gt.appendChild(ft),ut&&(ft.innerHTML=ut);let Wt;for(;Wt=ft.firstChild;)Gt.appendChild(Wt);return Gt.removeChild(ft),Gt},Sr=(ut,ft)=>Tn(ut,Gt=>{const Wt=Be.fromDom(Gt);return ft&&ge(Wa(Wt),Wn=>{qr(Wn)&&Wn.dom.length===0?fr(Wn):gs(Wt,Wn)}),fr(Wt),Wt.dom}),ei=ut=>Tn(ut,ft=>{const Gt=ft.attributes;for(let Wt=Gt.length-1;Wt>=0;Wt--)ft.removeAttributeNode(Gt.item(Wt))}),Rf=ut=>q.parse(ut),gh=(ut,ft)=>q.serialize(ut,ft),ql=ut=>{if(Op!==Nr.DOM&&e===document){if(n[ut])return;n[ut]=!0}let ft=e.getElementById("mceDefaultStyles");if(!ft){ft=e.createElement("style"),ft.id="mceDefaultStyles",ft.type="text/css";const Gt=e.head;Gt.firstChild?Gt.insertBefore(ft,Gt.firstChild):Gt.appendChild(ft)}ft.styleSheet?ft.styleSheet.cssText+=ut:ft.appendChild(e.createTextNode(ut))},Zu=ut=>{ut||(ut=""),ge(ut.split(","),ft=>{l[ft]=!0,A.load(ft).catch(Pt)})},Nf=(ut,ft,Gt)=>{Tn(ut,Wt=>{if(yn(Wt)){const Wn=Be.fromDom(Wt),Ho=ft.split(" ");ge(Ho,Fs=>{Ce(Gt)?(Gt?od:xi)(Wn,Fs):Sh(Wn,Fs)})}})},ju=(ut,ft)=>{Nf(ut,ft,!0)},If=(ut,ft)=>{Nf(ut,ft,!1)},Mn=(ut,ft)=>{const Gt=ke(ut),Wt=ft.split(" ");return Ce(Gt)&&vo(Wt,Wn=>rd(Gt,Wn))},jo=ut=>{Tn(ut,ft=>Vc(Be.fromDom(ft),"display"))},Ls=ut=>{Tn(ut,ft=>Fi(Be.fromDom(ft),"display","none"))},ta=ut=>{const ft=ke(ut);return Ce(ft)&&Hd(ws(ft,"display"),"none")},Ra=ut=>(ut||"mce_")+f++,ji=ut=>{const ft=ke(ut);return Ce(ft)?yn(ft.dom)?ft.dom.outerHTML:xg(ft):""},va=(ut,ft)=>{Tn(ut,Gt=>{yn(Gt)&&(Gt.outerHTML=ft)})},ya=(ut,ft)=>{const Gt=fe(ft);return Tn(ut,Wt=>{const Wn=Gt==null?void 0:Gt.parentNode,Ho=Gt==null?void 0:Gt.nextSibling;return Wn&&(Ho?Wn.insertBefore(Wt,Ho):Wn.appendChild(Wt)),Wt})},Gl=(ut,ft,Gt)=>Tn(ft,Wt=>{var Wn;const Ho=oe(ft)?ut.cloneNode(!0):ut;return Gt&&Ky(S1(Wt.childNodes),Fs=>{Ho.appendChild(Fs)}),(Wn=Wt.parentNode)===null||Wn===void 0||Wn.replaceChild(Ho,Wt),Wt}),Ym=(ut,ft)=>{if(ut.nodeName!==ft.toUpperCase()){const Gt=ko(ft);return Ky(qe(ut),Wt=>{We(Gt,Wt.nodeName,ze(ut,Wt.nodeName))}),Gl(Gt,ut,!0),Gt}else return ut},Xm=(ut,ft)=>{let Gt=ut;for(;Gt;){let Wt=ft;for(;Wt&&Gt!==Wt;)Wt=Wt.parentNode;if(Gt===Wt)break;Gt=Gt.parentNode}return!Gt&&ut.ownerDocument?ut.ownerDocument.documentElement:Gt},Jm=(ut,ft,Gt)=>Oe(ft)?Fl(j,ut,{...Gt,isContent:Wn=>{const Ho=Wn.nodeName.toLowerCase();return!!ft[Ho]}}):Fl(j,ut,Gt),Bf=()=>e.createRange(),Wv=(ut,ft,Gt)=>{let Wt=Bf(),Wn,Ho;if(ut&&ft&&ut.parentNode&&ft.parentNode){const Fs=ut.parentNode;return Wt.setStart(Fs,hm(ut)),Wt.setEnd(ft.parentNode,hm(ft)),Wn=Wt.extractContents(),Wt=Bf(),Wt.setStart(ft.parentNode,hm(ft)+1),Wt.setEnd(Fs,hm(ut)+1),Ho=Wt.extractContents(),Fs.insertBefore(Mh(Op,Wn,j),ut),Gt?Fs.insertBefore(Gt,ut):Fs.insertBefore(ft,ut),Fs.insertBefore(Mh(Op,Ho,j),ut),Sr(ut),Gt||ft}else return},zS=(ut,ft,Gt,Wt)=>{if(oe(ut)){let Wn=ut.length;const Ho=[];for(;Wn--;)Ho[Wn]=zS(ut[Wn],ft,Gt,Wt);return Ho}else return t.collect&&(ut===e||ut===s)&&F.push([ut,ft,Gt,Wt]),X.bind(ut,ft,Gt,Wt||Op)},HS=(ut,ft,Gt)=>{if(oe(ut)){let Wt=ut.length;const Wn=[];for(;Wt--;)Wn[Wt]=HS(ut[Wt],ft,Gt);return Wn}else{if(F.length>0&&(ut===e||ut===s)){let Wt=F.length;for(;Wt--;){const[Wn,Ho,Fs]=F[Wt];ut===Wn&&(!ft||ft===Ho)&&(!Gt||Gt===Fs)&&X.unbind(Wn,Ho,Fs)}}return X.unbind(ut,ft,Gt)}},V9=(ut,ft,Gt)=>X.dispatch(ut,ft,Gt),N0=(ut,ft,Gt)=>X.dispatch(ut,ft,Gt),r8=ut=>{if(ut&&Uc(ut)){const ft=ut.getAttribute("data-mce-contenteditable");return ft&&ft!=="inherit"?ft:ut.contentEditable!=="inherit"?ut.contentEditable:null}else return null},Op={doc:e,settings:t,win:s,files:l,stdMode:g,boxModel:C,styleSheetLoader:A,boundEvents:F,styles:q,schema:j,events:X,isBlock:we,root:null,clone:st,getRoot:Nt,getViewPort:jt,getRect:Nn,getSize:pn,getParent:mr,getParents:To,get:fe,getNext:Gs,getPrev:fl,select:Xt,is:yo,add:Hn,create:ko,createHTML:Do,createFragment:mi,remove:Sr,setStyle:wt,getStyle:Dt,setStyles:dt,removeAllAttribs:ei,setAttrib:We,setAttribs:Qo,getAttrib:ze,getPos:un,parseStyle:Rf,serializeStyle:gh,addStyle:ql,loadCSS:Zu,addClass:ju,removeClass:If,hasClass:Mn,toggleClass:Nf,show:jo,hide:Ls,isHidden:ta,uniqueId:Ra,setHTML:tn,getOuterHTML:ji,setOuterHTML:va,decode:an,encode:xo,insertAfter:ya,replace:Gl,rename:Ym,findCommonAncestor:Xm,run:Tn,getAttribs:qe,isEmpty:Jm,createRng:Bf,nodeIndex:hm,split:Wv,bind:zS,unbind:HS,fire:N0,dispatch:V9,getContentEditable:r8,getContentEditableParent:ut=>{const ft=Nt();let Gt=null;for(let Wt=ut;Wt&&Wt!==ft&&(Gt=r8(Wt),Gt===null);Wt=Wt.parentNode);return Gt},isEditable:ut=>{if(Ce(ut)){const ft=yn(ut)?ut:ut.parentElement;return Ce(ft)&&Uc(ft)&&ls(Be.fromDom(ft))}else return!1},destroy:()=>{if(F.length>0){let ut=F.length;for(;ut--;){const[ft,Gt,Wt]=F[ut];X.unbind(ft,Gt,Wt)}}Uo(l,(ut,ft)=>{A.unload(ft),delete l[ft]})},isChildOf:(ut,ft)=>ut===ft||ft.contains(ut),dumpRng:ut=>"startContainer: "+ut.startContainer.nodeName+", startOffset: "+ut.startOffset+", endContainer: "+ut.endContainer.nodeName+", endOffset: "+ut.endOffset},MT=pm(q,t,Qe(Op));return Op};Nr.DOM=Nr(document),Nr.nodeIndex=hm;const E1=Nr.DOM,Yr=0,Tu=1,Kc=2,Ig=3;class sl{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((n,s)=>{const l=E1;let f;const g=()=>{l.remove(F),f&&(f.onerror=f.onload=f=null)},C=()=>{g(),n()},A=()=>{g(),s("Failed to load script: "+t)},F=l.uniqueId();f=document.createElement("script"),f.id=F,f.type="text/javascript",f.src=Kt._addCacheSuffix(t),this.settings.referrerPolicy&&l.setAttrib(f,"referrerpolicy",this.settings.referrerPolicy),f.onload=C,f.onerror=A,(document.getElementsByTagName("head")[0]||document.body).appendChild(f)})}isDone(t){return this.states[t]===Kc}markDone(t){this.states[t]=Kc}add(t){const n=this;return n.queue.push(t),n.states[t]===void 0&&(n.states[t]=Yr),new Promise((l,f)=>{n.scriptLoadedCallbacks[t]||(n.scriptLoadedCallbacks[t]=[]),n.scriptLoadedCallbacks[t].push({resolve:l,reject:f})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const n=this,s=(A,F)=>{dr(n.scriptLoadedCallbacks,F).each(j=>{ge(j,q=>q[A](F))}),delete n.scriptLoadedCallbacks[F]},l=A=>{const F=Ct(A,j=>j.status==="rejected");return F.length>0?Promise.reject(ao(F,({reason:j})=>oe(j)?j:[j])):Promise.resolve()},f=A=>Promise.allSettled(Me(A,F=>n.states[F]===Kc?(s("resolve",F),Promise.resolve()):n.states[F]===Ig?(s("reject",F),Promise.reject(F)):(n.states[F]=Tu,n.loadScript(F).then(()=>{n.states[F]=Kc,s("resolve",F);const j=n.queue;return j.length>0?(n.queue=[],f(j).then(l)):Promise.resolve()},()=>(n.states[F]=Ig,s("reject",F),Promise.reject(F)))))),g=A=>(n.loading=!0,f(A).then(F=>{n.loading=!1;const j=n.queueLoadedCallbacks.shift();return J.from(j).each(ho),l(F)})),C=fu(t);return n.loading?new Promise((A,F)=>{n.queueLoadedCallbacks.push(()=>{g(C).then(A,F)})}):g(C)}}sl.ScriptLoader=new sl;const qa=(e,t)=>{const n=e.indexOf(t);return n!==-1&&e.indexOf(t,n+1)>n},bm=e=>re(e)&&Gn(e,"raw"),pb=e=>oe(e)&&e.length>1,Bg={},bb=fa("en"),Mg=()=>dr(Bg,bb.get()),gc={getData:()=>kl(Bg,e=>({...e})),setCode:e=>{e&&bb.set(e)},getCode:()=>bb.get(),add:(e,t)=>{let n=Bg[e];n||(Bg[e]=n={});const s=Me(Vt(t),l=>l.toLowerCase());Uo(t,(l,f)=>{const g=f.toLowerCase();g!==f&&qa(s,g)?(Gn(t,g)||(n[g]=l),n[f]=l):n[g]=l})},translate:e=>{const t=Mg().getOr({}),n=g=>Re(g)?Object.prototype.toString.call(g):s(g)?"":""+g,s=g=>g===""||g===null||g===void 0,l=g=>{const C=n(g);return Gn(t,C)?n(t[C]):dr(t,C.toLowerCase()).map(n).getOr(C)},f=g=>g.replace(/{context:\w+}$/,"");if(s(e))return"";if(bm(e))return n(e.raw);if(pb(e)){const g=e.slice(1),C=l(e[0]).replace(/\{([0-9]+)\}/g,(A,F)=>Gn(g,F)?n(g[F]):A);return f(C)}return f(l(e))},isRtl:()=>Mg().bind(e=>dr(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>Gn(Bg,e)},Vi=()=>{const e=[],t={},n={},s=[],l=(fe,ke)=>{const ze=Ct(s,qe=>qe.name===fe&&qe.state===ke);ge(ze,qe=>qe.resolve())},f=fe=>Gn(t,fe),g=fe=>Gn(n,fe),C=fe=>{if(n[fe])return n[fe].instance},A=(fe,ke)=>{const ze=gc.getCode(),qe=","+(ke||"")+",";!ze||ke&&qe.indexOf(","+ze+",")===-1||sl.ScriptLoader.add(t[fe]+"/langs/"+ze+".js")},F=(fe,ke)=>{Vi.languageLoad!==!1&&(f(fe)?A(fe,ke):we(fe,"loaded").then(()=>A(fe,ke)))},j=(fe,ke)=>(e.push(ke),n[fe]={instance:ke},l(fe,"added"),ke),q=fe=>{delete t[fe],delete n[fe]},X=(fe,ke)=>Ie(ke)?Ie(fe)?{prefix:"",resource:ke,suffix:""}:{prefix:fe.prefix,resource:ke,suffix:fe.suffix}:ke,ue=(fe,ke)=>{if(t[fe])return Promise.resolve();let ze=Ie(ke)?ke:ke.prefix+ke.resource+ke.suffix;ze.indexOf("/")!==0&&ze.indexOf("://")===-1&&(ze=Vi.baseURL+"/"+ze),t[fe]=ze.substring(0,ze.lastIndexOf("/"));const qe=()=>(l(fe,"loaded"),Promise.resolve());return n[fe]?qe():sl.ScriptLoader.add(ze).then(qe)},we=(fe,ke="added")=>ke==="added"&&g(fe)||ke==="loaded"&&f(fe)?Promise.resolve():new Promise(ze=>{s.push({name:fe,state:ke,resolve:ze})});return{items:e,urls:t,lookup:n,get:C,requireLangPack:F,add:j,remove:q,createUrl:X,load:ue,waitFor:we}};Vi.languageLoad=!0,Vi.baseURL="",Vi.PluginManager=Vi(),Vi.ThemeManager=Vi(),Vi.ModelManager=Vi();const Pg=(e,t)=>{let n=null;return{cancel:()=>{Ge(n)||(clearTimeout(n),n=null)},throttle:(...f)=>{Ge(n)&&(n=setTimeout(()=>{n=null,e.apply(null,f)},t))}}},zh=(e,t)=>{let n=null;const s=()=>{Ge(n)||(clearTimeout(n),n=null)};return{cancel:s,throttle:(...f)=>{s(),n=setTimeout(()=>{n=null,e.apply(null,f)},t)}}},Xw=(e,t,n)=>Hc(e,t,n).isSome(),bs=Qe("mce-annotation"),vs=Qe("data-mce-annotation"),Vs=Qe("data-mce-annotation-uid"),xr=Qe("data-mce-annotation-active"),ds=Qe("data-mce-annotation-classes"),Bs=Qe("data-mce-annotation-attrs"),A1=e=>t=>Lo(t,e),T1=(e,t)=>{const n=e.selection.getRng(),s=Be.fromDom(n.startContainer),l=Be.fromDom(e.getBody()),f=t.fold(()=>"."+bs(),A=>`[${vs()}="${A}"]`),g=xu(s,n.startOffset).getOr(s);return ka(g,f,A1(l)).bind(A=>Mc(A,`${Vs()}`).bind(F=>Mc(A,`${vs()}`).map(j=>{const q=Jy(e,F);return{uid:F,name:j,elements:q}})))},Xy=e=>Ts(e)&&rd(e,bs()),vb=(e,t)=>td(e,"data-mce-bogus")||Xw(e,'[data-mce-bogus="all"]',A1(t)),Jy=(e,t)=>{const n=Be.fromDom(e.getBody()),s=Js(n,`[${Vs()}="${t}"]`);return Ct(s,l=>!vb(l,n))},Lg=(e,t)=>{const n=Be.fromDom(e.getBody()),s=Js(n,`[${vs()}="${t}"]`),l={};return ge(s,f=>{if(!vb(f,n)){const g=ii(f,Vs()),C=dr(l,g).getOr([]);l[g]=C.concat([f])}}),l},O1=(e,t)=>{const n=fa({}),s=()=>({listeners:[],previous:ma()}),l=(q,X)=>{f(q,ue=>(X(ue),ue))},f=(q,X)=>{const ue=n.get(),we=dr(ue,q).getOrThunk(s),fe=X(we);ue[q]=fe,n.set(ue)},g=(q,X,ue)=>{l(q,we=>{ge(we.listeners,fe=>fe(!0,q,{uid:X,nodes:Me(ue,ke=>ke.dom)}))})},C=q=>{l(q,X=>{ge(X.listeners,ue=>ue(!1,q))})},A=(q,X)=>{ge(Jy(e,q),ue=>{X?na(ue,xr(),"true"):bo(ue,xr())})},F=zh(()=>{const q=ur(t.getNames());ge(q,X=>{f(X,ue=>{const we=ue.previous.get();return T1(e,J.some(X)).fold(()=>{we.each(fe=>{C(X),ue.previous.clear(),A(fe,!1)})},({uid:fe,name:ke,elements:ze})=>{Hd(we,fe)||(we.each(qe=>A(qe,!1)),g(ke,fe,ze),ue.previous.set(fe),A(fe,!0))}),{previous:ue.previous,listeners:ue.listeners}})})},30);return e.on("remove",()=>{F.cancel()}),e.on("NodeChange",()=>{F.throttle()}),{addListener:(q,X)=>{f(q,ue=>({previous:ue.previous,listeners:ue.listeners.concat([X])}))}}},D1=(e,t)=>{const n=vs(),s=f=>J.from(f.attr(n)).bind(t.lookup),l=f=>{var g,C;f.attr(Vs(),null),f.attr(vs(),null),f.attr(xr(),null);const A=J.from(f.attr(Bs())).map(X=>X.split(",")).getOr([]),F=J.from(f.attr(ds())).map(X=>X.split(",")).getOr([]);ge(A,X=>f.attr(X,null));const j=(C=(g=f.attr("class"))===null||g===void 0?void 0:g.split(" "))!==null&&C!==void 0?C:[],q=Oo(j,[bs()].concat(F));f.attr("class",q.length>0?q.join(" "):null),f.attr(ds(),null),f.attr(Bs(),null)};e.serializer.addTempAttr(xr()),e.serializer.addAttributeFilter(n,f=>{for(const g of f)s(g).each(C=>{C.persistent===!1&&(g.name==="span"?g.unwrap():l(g))})})},Qy=()=>{const e={};return{register:(l,f)=>{e[l]={name:l,settings:f}},lookup:l=>dr(e,l).map(f=>f.settings),getNames:()=>Vt(e)}},yb=(e,t,n)=>Math.min(Math.max(e,t),n),al=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let ex=0;const ki=e=>{const n=new Date().getTime(),s=Math.floor(al()*1e9);return ex++,e+"_"+s+ex+String(n)},xb=(e,t)=>{ge(t,n=>{od(e,n)})},Fg=(e,t)=>{ge(t,n=>{xi(e,n)})},qc=(e,t)=>Be.fromDom(e.dom.cloneNode(t)),Ms=e=>qc(e,!1),ym=e=>qc(e,!0),tx=(e,t)=>{const n=Be.fromTag(t),s=nl(e);return yi(n,s),n},nx=(e,t)=>{const n=tx(e,t);et(e,n);const s=Wa(e);return Hs(n,s),fr(e),n},wb=(e,t,n=xn)=>{const s=new Za(e,t),l=f=>{let g;do g=s[f]();while(g&&!Mt(g)&&!n(g));return J.from(g).filter(Mt)};return{current:()=>J.from(s.current()).filter(Mt),next:()=>l("next"),prev:()=>l("prev"),prev2:()=>l("prev2")}},md=(e,t)=>{const n=t||(g=>e.isBlock(g)||ns(g)||eo(g)),s=(g,C,A,F)=>{if(Mt(g)){const j=F(g,C,g.data);if(j!==-1)return J.some({container:g,offset:j})}return A().bind(j=>s(j.container,j.offset,A,F))};return{backwards:(g,C,A,F)=>{const j=wb(g,F??e.getRoot(),n);return s(g,C,()=>j.prev().map(q=>({container:q,offset:q.length})),A).getOrNull()},forwards:(g,C,A,F)=>{const j=wb(g,F??e.getRoot(),n);return s(g,C,()=>j.next().map(q=>({container:q,offset:0})),A).getOrNull()}}},Cb=((e,t)=>{const n=f=>{if(!e(f))throw new Error("Can only get "+t+" value of a "+t+" node");return s(f).getOr("")},s=f=>e(f)?J.from(f.dom.nodeValue):J.none();return{get:n,getOption:s,set:(f,g)=>{if(!e(f))throw new Error("Can only set raw "+t+" value of a "+t+" node");f.dom.nodeValue=g}}})(qr,"text"),xm=e=>Cb.get(e),Jw=e=>Cb.getOption(e),_b=(e,t)=>Cb.set(e,t),Sb=["td","th"],R1=["thead","tbody","tfoot"],Hh=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],N1=["li","dd","dt"],Ei=["ul","ol","dl"],ox=["pre","script","textarea","style"],gd=e=>{let t;return n=>(t=t||Es(e,Rn),Gn(t,Po(n)))},kb=e=>Po(e)==="table",Ou=e=>Ts(e)&&Po(e)==="br",Eb=gd(Hh),Ab=gd(Ei),wm=gd(N1),zg=gd(R1),hc=gd(Sb),Tb=gd(ox),Sk=e=>{const t=[];let n=e.dom;for(;n;)t.push(Be.fromDom(n)),n=n.lastChild;return t},Hl=e=>{const t=Js(e,"br"),n=Ct(Sk(e).slice(-1),Ou);t.length===n.length&&ge(n,fr)},hd=()=>{const e=Be.fromTag("br");return na(e,"data-mce-bogus","1"),e},pc=e=>{Lr(e),Ds(e,hd())},rx=(e,t)=>{wu(e).each(n=>{oa(n).each(s=>{t.isBlock(Po(e))&&Ou(n)&&t.isBlock(Po(s))&&fr(n)})})},sa=hs,bc=ku,il=Ah,kk=e=>e.insertContent(sa,{preserve_zwsp:!0}),cf=yn,pd=Mt,Vh=e=>(pd(e)&&(e=e.parentNode),cf(e)&&e.hasAttribute("data-mce-caret")),Cm=e=>pd(e)&&bc(e.data),Ol=e=>Vh(e)||Cm(e),I1=e=>e.firstChild!==e.lastChild||!ns(e.firstChild),B1=(e,t)=>{var n;const l=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(sa),f=e.parentNode;if(t){const g=e.previousSibling;if(pd(g)){if(Ol(g))return g;if(bd(g))return g.splitText(g.data.length-1)}f==null||f.insertBefore(l,e)}else{const g=e.nextSibling;if(pd(g)){if(Ol(g))return g;if(Db(g))return g.splitText(1),g}e.nextSibling?f==null||f.insertBefore(l,e.nextSibling):f==null||f.appendChild(l)}return l},Ob=e=>{const t=e.container();return Mt(t)?t.data.charAt(e.offset())===sa||e.isAtStart()&&Cm(t.previousSibling):!1},M1=e=>{const t=e.container();return Mt(t)?t.data.charAt(e.offset()-1)===sa||e.isAtEnd()&&Cm(t.nextSibling):!1},Qw=(e,t,n)=>{var s;const f=((s=t.ownerDocument)!==null&&s!==void 0?s:document).createElement(e);f.setAttribute("data-mce-caret",n?"before":"after"),f.setAttribute("data-mce-bogus","all"),f.appendChild(hd().dom);const g=t.parentNode;return n?g==null||g.insertBefore(f,t):t.nextSibling?g==null||g.insertBefore(f,t.nextSibling):g==null||g.appendChild(f),f},Db=e=>pd(e)&&e.data[0]===sa,bd=e=>pd(e)&&e.data[e.data.length-1]===sa,Rb=e=>{var t;const n=e.getElementsByTagName("br"),s=n[n.length-1];Qd(s)&&((t=s.parentNode)===null||t===void 0||t.removeChild(s))},Hg=e=>e&&e.hasAttribute("data-mce-caret")?(Rb(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Vg=e=>Vh(e.startContainer),uf=Math.round,df=e=>e?{left:uf(e.left),top:uf(e.top),bottom:uf(e.bottom),right:uf(e.right),width:uf(e.width),height:uf(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Nb=(e,t)=>(e=df(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),ff=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,mf=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,gf=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top?!0:e.top>t.bottom?!1:mf(t.top-e.bottom,e,t)},$g=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:mf(t.bottom-e.top,e,t),P1=(e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom,$h=e=>It(e,(t,n)=>t.fold(()=>J.some(n),s=>{const l=Math.min(n.left,s.left),f=Math.min(n.top,s.top),g=Math.max(n.right,s.right),C=Math.max(n.bottom,s.bottom);return J.some({top:f,right:g,bottom:C,left:l,width:g-l,height:C-f})}),J.none()),L1=(e,t,n)=>{const s=Math.max(Math.min(t,e.left+e.width),e.left),l=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-s)*(t-s)+(n-l)*(n-l))},sx=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),Uh=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},aa=(e,t)=>{if(yn(e)&&e.hasChildNodes()){const n=e.childNodes,s=yb(t,0,n.length-1);return n[s]}else return e},ax=(e,t)=>{if(!(t<0&&yn(e)&&e.hasChildNodes()))return aa(e,t)},eC=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),ix=e=>Ie(e)&&e.charCodeAt(0)>=768&&eC.test(e),lx=(...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1},hf=(...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0},F1=cc,Ib=eo,cx=ns,Ek=Mt,pf=ja(["script","style","textarea"]),Bb=ja(["img","input","textarea","hr","iframe","video","audio","object","embed"]),tC=ja(["table"]),nC=Ol,Gc=e=>nC(e)?!1:Ek(e)?!pf(e.parentNode):Bb(e)||cx(e)||tC(e)||z1(e),ux=e=>yn(e)&&e.getAttribute("unselectable")==="true",z1=e=>!ux(e)&&Ib(e),oC=(e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(z1(n))return!1;if(F1(n))return!0}return!0},Ug=e=>z1(e)?!It(io(e.getElementsByTagName("*")),(t,n)=>t||F1(n),!1):!1,Wh=e=>Bb(e)||Ug(e),Mb=(e,t)=>Gc(e)&&oC(e,t),rC=yn,Yc=Gc,_m=ic("display","block table"),Pb=ic("float","left right"),Lb=hf(rC,Yc,bt(Pb)),H1=bt(ic("white-space","pre pre-line pre-wrap")),Fb=Mt,Ya=ns,V1=Nr.nodeIndex,Sm=ax,km=e=>e?e.createRange():Nr.DOM.createRng(),zb=e=>Ie(e)&&/[\r\n\t ]/.test(e),$1=e=>!!e.setStart&&!!e.setEnd,Wg=e=>{const t=e.startContainer,n=e.startOffset;if(zb(e.toString())&&H1(t.parentNode)&&Mt(t)){const s=t.data;if(zb(s[n-1])||zb(s[n+1]))return!0}return!1},bf=e=>{const t=e.ownerDocument,n=km(t),s=t.createTextNode(da),l=e.parentNode;l.insertBefore(s,e),n.setStart(s,0),n.setEnd(s,1);const f=df(n.getBoundingClientRect());return l.removeChild(s),f},dx=e=>{const t=e.startContainer,n=e.endContainer,s=e.startOffset,l=e.endOffset;if(t===n&&Mt(n)&&s===0&&l===1){const f=e.cloneRange();return f.setEndAfter(n),$i(f)}else return null},U1=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,$i=e=>{var t;let n;const s=e.getClientRects();return s.length>0?n=df(s[0]):n=df(e.getBoundingClientRect()),!$1(e)&&Ya(e)&&U1(n)?bf(e):U1(n)&&$1(e)&&(t=dx(e))!==null&&t!==void 0?t:n},vf=(e,t)=>{const n=Nb(e,t);return n.width=1,n.right=n.left+1,n},fx=e=>{const t=[],n=g=>{g.height!==0&&(t.length>0&&ff(g,t[t.length-1])||t.push(g))},s=(g,C)=>{const A=km(g.ownerDocument);if(C<g.data.length){if(ix(g.data[C]))return;if(ix(g.data[C-1])&&(A.setStart(g,C),A.setEnd(g,C+1),!Wg(A))){n(vf($i(A),!1));return}}C>0&&(A.setStart(g,C-1),A.setEnd(g,C),Wg(A)||n(vf($i(A),!1))),C<g.data.length&&(A.setStart(g,C),A.setEnd(g,C+1),Wg(A)||n(vf($i(A),!0)))},l=e.container(),f=e.offset();if(Fb(l))return s(l,f),t;if(rC(l))if(e.isAtEnd()){const g=Sm(l,f);Fb(g)&&s(g,g.data.length),Lb(g)&&!Ya(g)&&n(vf($i(g),!1))}else{const g=Sm(l,f);if(Fb(g)&&s(g,0),Lb(g)&&e.isAtEnd())return n(vf($i(g),!1)),t;const C=Sm(e.container(),e.offset()-1);Lb(C)&&!Ya(C)&&(_m(C)||_m(g)||!Lb(g))&&n(vf($i(C),!1)),Lb(g)&&n(vf($i(g),!0))}return t},mt=(e,t,n)=>{const s=()=>(Fb(e),t===0),l=()=>Fb(e)?t>=e.data.length:t>=e.childNodes.length,f=()=>{const j=km(e.ownerDocument);return j.setStart(e,t),j.setEnd(e,t),j},g=()=>(n||(n=fx(mt(e,t))),n),C=()=>g().length>0,A=j=>j&&e===j.container()&&t===j.offset(),F=j=>Sm(e,j?t-1:t);return{container:Qe(e),offset:Qe(t),toRange:f,getClientRects:g,isVisible:C,isAtStart:s,isAtEnd:l,isEqual:A,getNode:F}};mt.fromRangeStart=e=>mt(e.startContainer,e.startOffset),mt.fromRangeEnd=e=>mt(e.endContainer,e.endOffset),mt.after=e=>mt(e.parentNode,V1(e)+1),mt.before=e=>mt(e.parentNode,V1(e)),mt.isAbove=(e,t)=>Ha(cn(t.getClientRects()),po(e.getClientRects()),gf).getOr(!1),mt.isBelow=(e,t)=>Ha(po(t.getClientRects()),cn(e.getClientRects()),$g).getOr(!1),mt.isAtStart=e=>e?e.isAtStart():!1,mt.isAtEnd=e=>e?e.isAtEnd():!1,mt.isTextPosition=e=>e?Mt(e.container()):!1,mt.isElementPosition=e=>!mt.isTextPosition(e);const Zh=(e,t)=>{Mt(t)&&t.data.length===0&&e.remove(t)},Ak=(e,t,n)=>{t.insertNode(n),Zh(e,n.previousSibling),Zh(e,n.nextSibling)},sC=(e,t,n)=>{const s=J.from(n.firstChild),l=J.from(n.lastChild);t.insertNode(n),s.each(f=>Zh(e,f.previousSibling)),l.each(f=>Zh(e,f.nextSibling))},W1=(e,t,n)=>{tf(n)?sC(e,t,n):Ak(e,t,n)},Xc=Mt,Z1=Qd,Hb=Nr.nodeIndex,mx=e=>{const t=e.parentNode;return Z1(t)?mx(t):t},gx=e=>e?Ji(e.childNodes,(t,n)=>(Z1(n)&&n.nodeName!=="BR"?t=t.concat(gx(n)):t.push(n),t),[]):[],Tk=(e,t)=>{let n=e;for(;(n=n.previousSibling)&&Xc(n);)t+=n.data.length;return t},y=e=>t=>e===t,_=e=>{let t,n;t=gx(mx(e)),n=jr(t,y(e),e),t=t.slice(0,n+1);const s=Ji(t,(l,f,g)=>(Xc(f)&&Xc(t[g-1])&&l++,l),0);return t=Ni(t,ja([e.nodeName])),n=jr(t,y(e),e),n-s},T=e=>(Xc(e)?"text()":e.nodeName.toLowerCase())+"["+_(e)+"]",M=(e,t,n)=>{const s=[];for(let l=t.parentNode;l&&l!==e;l=l.parentNode)s.push(l);return s},V=(e,t)=>{let n=[],s=t.container(),l=t.offset(),f;if(Xc(s))f=Tk(s,l);else{const C=s.childNodes;l>=C.length?(f="after",l=C.length-1):f="before",s=C[l]}n.push(T(s));let g=M(e,s);return g=Ni(g,bt(Qd)),n=n.concat(qf(g,C=>T(C))),n.reverse().join("/")+","+f},U=(e,t,n)=>{let s=gx(e);return s=Ni(s,(l,f)=>!Xc(l)||!Xc(s[f-1])),s=Ni(s,ja([t])),s[n]},ee=(e,t)=>{let n=e,s=0;for(;Xc(n);){const l=n.data.length;if(t>=s&&t<=s+l){e=n,t=t-s;break}if(!Xc(n.nextSibling)){e=n,t=l;break}s+=l,n=n.nextSibling}return Xc(e)&&t>e.data.length&&(t=e.data.length),mt(e,t)},ne=(e,t)=>{if(!t)return null;const n=t.split(","),s=n[0].split("/"),l=n.length>1?n[1]:"before",f=Ji(s,(g,C)=>{const A=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(C);return A?(A[1]==="text()"&&(A[1]="#text"),U(g,A[1],parseInt(A[2],10))):null},e);if(!f)return null;if(!Xc(f)&&f.parentNode){let g;return l==="after"?g=Hb(f)+1:g=Hb(f),mt(f.parentNode,g)}return ee(f,parseInt(l,10))},he=eo,Te=(e,t,n)=>{let s=e(t.data.slice(0,n)).length;for(let l=t.previousSibling;l&&Mt(l);l=l.previousSibling)s+=e(l.data).length;return s},Ve=(e,t,n,s,l)=>{const f=l?s.startContainer:s.endContainer;let g=l?s.startOffset:s.endOffset;const C=[],A=e.getRoot();if(Mt(f))C.push(n?Te(t,f,g):g);else{let F=0;const j=f.childNodes;g>=j.length&&j.length&&(F=1,g=Math.max(0,j.length-1)),C.push(e.nodeIndex(j[g],n)+F)}for(let F=f;F&&F!==A;F=F.parentNode)C.push(e.nodeIndex(F,n));return C},Ee=(e,t,n,s)=>{const l=t.dom,f=Ve(l,e,n,s,!0),g=t.isForward(),C=Vg(s)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:f,forward:g,...C};{const A=Ve(l,e,n,s,!1);return{start:f,end:A,forward:g,...C}}},Ne=(e,t,n)=>{let s=0;return Kt.each(e.select(t),l=>{if(l.getAttribute("data-mce-bogus")!=="all"){if(l===n)return!1;s++;return}}),s},Le=(e,t)=>{let n=t?e.startContainer:e.endContainer,s=t?e.startOffset:e.endOffset;if(yn(n)&&n.nodeName==="TR"){const l=n.childNodes;n=l[Math.min(t?s:s-1,l.length-1)],n&&(s=t?0:n.childNodes.length,t?e.setStart(n,s):e.setEnd(n,s))}},Je=e=>(Le(e,!0),Le(e,!1),e),tt=(e,t)=>{if(yn(e)&&(e=aa(e,t),he(e)))return e;if(Ol(e)){Mt(e)&&Vh(e)&&(e=e.parentNode);let n=e.previousSibling;if(he(n)||(n=e.nextSibling,he(n)))return n}},Et=e=>tt(e.startContainer,e.startOffset)||tt(e.endContainer,e.endOffset),Ot=(e,t,n)=>{const s=n.getNode(),l=n.getRng();if(s.nodeName==="IMG"||he(s)){const g=s.nodeName;return{name:g,index:Ne(n.dom,g,s)}}const f=Et(l);if(f){const g=f.tagName;return{name:g,index:Ne(n.dom,g,f)}}return Ee(e,n,t,l)},kt=e=>{const t=e.getRng();return{start:V(e.dom.getRoot(),mt.fromRangeStart(t)),end:V(e.dom.getRoot(),mt.fromRangeEnd(t)),forward:e.isForward()}},Rt=e=>({rng:e.getRng(),forward:e.isForward()}),Ut=(e,t,n)=>{const s={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",s,"&#xFEFF;"):e.create("span",s)},qt=(e,t)=>{const n=e.dom;let s=e.getRng();const l=n.uniqueId(),f=e.isCollapsed(),g=e.getNode(),C=g.nodeName,A=e.isForward();if(C==="IMG")return{name:C,index:Ne(n,C,g)};const F=Je(s.cloneRange());if(!f){F.collapse(!1);const q=Ut(n,l+"_end",t);W1(n,F,q)}s=Je(s),s.collapse(!0);const j=Ut(n,l+"_start",t);return W1(n,s,j),e.moveToBookmark({id:l,keep:!0,forward:A}),{id:l,forward:A}},nt=(e,t,n=!1)=>t===2?Ot(il,n,e):t===3?kt(e):t?Rt(e):qt(e,!1),mn=pt(Ot,On,!0),Vn=e=>{const t=f=>f(e),n=Qe(e),s=()=>l,l={tag:!0,inner:e,fold:(f,g)=>g(e),isValue:Rn,isError:xn,map:f=>$n.value(f(e)),mapError:s,bind:t,exists:t,forall:t,getOr:n,or:s,getOrThunk:n,orThunk:s,getOrDie:n,each:f=>{f(e)},toOptional:()=>J.some(e)};return l},co=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(s,l)=>s(e),isValue:xn,isError:Rn,map:t,mapError:s=>$n.error(s(e)),bind:t,exists:xn,forall:Rn,getOr:On,or:On,getOrThunk:Vr,orThunk:Vr,getOrDie:Zt(String(e)),each:Pt,toOptional:J.none};return n},$n={value:Vn,error:co,fromOption:(e,t)=>e.fold(()=>co(t),Vn)},Mo={generate:e=>{if(!oe(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],n={};return ge(e,(s,l)=>{const f=Vt(s);if(f.length!==1)throw new Error("one and only one name per case");const g=f[0],C=s[g];if(n[g]!==void 0)throw new Error("duplicate key detected:"+g);if(g==="cata")throw new Error("cannot have a case named cata (sorry)");if(!oe(C))throw new Error("case arguments must be an array");t.push(g),n[g]=(...A)=>{const F=A.length;if(F!==C.length)throw new Error("Wrong number of arguments to case "+g+". Expected "+C.length+" ("+C+"), got "+F);return{fold:(...q)=>{if(q.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+q.length);return q[l].apply(null,A)},match:q=>{const X=Vt(q);if(t.length!==X.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+X.join(","));if(!vo(t,we=>le(X,we)))throw new Error("Not all branches were specified when using match. Specified: "+X.join(", ")+`
Required: `+t.join(", "));return q[g].apply(null,A)},log:q=>{console.log(q,{constructors:t,constructor:g,params:A})}}}}),n}};Mo.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const $s=e=>{const t=[],n=[];return ge(e,s=>{s.fold(l=>{t.push(l)},l=>{n.push(l)})}),{errors:t,values:n}},ui=e=>e.type==="inline-command"||e.type==="inline-format",Ta=e=>e.type==="block-command"||e.type==="block-format",Vl=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,Em=e=>{var t;const n=l=>$n.error({message:l,pattern:e}),s=(l,f,g)=>{if(e.format!==void 0){let C;if(oe(e.format)){if(!vo(e.format,Ie))return n(l+" pattern has non-string items in the `format` array");C=e.format}else if(Ie(e.format))C=[e.format];else return n(l+" pattern has non-string `format` parameter");return $n.value(f(C))}else return e.cmd!==void 0?Ie(e.cmd)?$n.value(g(e.cmd,e.value)):n(l+" pattern has non-string `cmd` parameter"):n(l+" pattern is missing both `format` and `cmd` parameters")};if(!re(e))return n("Raw pattern is not an object");if(!Ie(e.start))return n("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!Ie(e.end))return n("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let l=e.start,f=e.end;return f.length===0&&(f=l,l=""),s("Inline",g=>({type:"inline-format",start:l,end:f,format:g}),(g,C)=>({type:"inline-command",start:l,end:f,cmd:g,value:C}))}else{if(e.replacement!==void 0)return Ie(e.replacement)?e.start.length===0?n("Replacement pattern has empty `start` parameter"):$n.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter");{const l=(t=e.trigger)!==null&&t!==void 0?t:"space";return e.start.length===0?n("Block pattern has empty `start` parameter"):s("Block",f=>({type:"block-format",start:e.start,format:f[0],trigger:l}),(f,g)=>({type:"block-command",start:e.start,cmd:f,value:g,trigger:l}))}}},di=e=>Ct(e,Ta),Du=e=>Ct(e,ui),jh=(e,t)=>({inlinePatterns:Du(e),blockPatterns:di(e),dynamicPatternsLookup:t}),yf=(e,t)=>({...e,blockPatterns:Ct(e.blockPatterns,n=>Vl(n,t))}),Kh=e=>{const t=$s(Me(e,Em));return ge(t.errors,n=>console.error(n.message,n.pattern)),t.values},j1=e=>t=>{const n=e(t);return Kh(n)},xf=Fa().deviceType,aC=xf.isTouch(),NM=Nr.DOM,IM=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return It(t,(n,s)=>{const l=s.split("="),f=l[0],g=l.length>1?l[1]:f;return n[De(f)]=De(g),n},{})},fO=e=>Pe(e,RegExp),hn=e=>t=>t.options.get(e),hx=e=>Ie(e)||re(e),Ok=(e,t="")=>n=>{const s=Ie(n);if(s)if(n.indexOf("=")!==-1){const l=IM(n);return{value:dr(l,e.id).getOr(t),valid:s}}else return{value:n,valid:s};else return{valid:!1,message:"Must be a string."}},iC=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:Ok(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:Ok(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:n=>{const s=Ie(n)&&je(n);return s?{value:n,valid:s}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:n=>{const s=le(["block","linebreak","invert","default"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:n=>$e(n)?{valid:!0,value:n}:Ie(n)?{valid:!0,value:n}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:n=>{const s=n===!1||Ie(n)||yt(n,Ie);return s?Ie(n)?{value:Me(n.split(","),De),valid:s}:oe(n)?{value:n,valid:s}:n===!1?{value:[],valid:s}:{value:n,valid:s}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Vb(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:n=>{const s=Ie(n)||yt(n,Ie);return s?{value:oe(n)?n:Me(n.split(","),De),valid:s}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:n=>{const s=$e(n)||Ie(n);return s?n===!1||xf.isiPhone()||xf.isiPad()?{value:"",valid:s}:{value:n===!0?"table,img,figure.image,div,video,iframe":n,valid:s}:{valid:!1,message:"Must be boolean or a string"}},default:!aC}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("theme",{processor:n=>n===!1||Ie(n)||Re(n),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:n=>{const s=n===!1||Ie(n);return s?{value:n===!1?"":n,valid:s}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:hx}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:hx}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:hx}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:hx}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:n=>Ie(n)||n===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:n=>yt(n,re)||n===!1?{value:Kh(n===!1?[]:n),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:n=>Re(n)?{value:j1(n),valid:!0}:{valid:!1,message:"Must be a single function"},default:n=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:n=>yt(n,fO)?{value:n,valid:!0}:fO(n)?{value:[n],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:n=>{const s=le(["inherited","collapsed","expanded"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:n=>{const s=le(["inherited","collapsed","expanded"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:gc.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:NM.getAttrib(e.getElement(),"placeholder")})})},ll=hn("iframe_attrs"),vd=hn("doctype"),Jc=hn("document_base_url"),lC=hn("body_id"),Dk=hn("body_class"),mO=hn("content_security_policy"),Rk=hn("br_in_pre"),Ui=hn("forced_root_block"),px=hn("forced_root_block_attrs"),Nk=hn("newline_behavior"),gO=hn("br_newline_selector"),hO=hn("no_newline_selector"),Ik=hn("keep_styles"),Bk=hn("end_container_on_empty_block"),Ir=hn("automatic_uploads"),Zg=hn("images_reuse_filename"),pO=hn("images_replace_blob_uris"),Mk=hn("icons"),bO=hn("icons_url"),Pk=hn("images_upload_url"),vO=hn("images_upload_base_path"),Lk=hn("images_upload_credentials"),BM=hn("images_upload_handler"),yO=hn("content_css_cors"),bx=hn("referrer_policy"),Fk=hn("language"),MM=hn("language_url"),xO=hn("indent_use_margin"),Qc=hn("indentation"),xl=hn("content_css"),K1=hn("content_style"),wO=hn("font_css"),PM=hn("directionality"),Vo=hn("inline_boundaries_selector"),CO=hn("object_resizing"),_O=hn("resize_img_proportional"),zk=hn("placeholder"),SO=hn("event_root"),LM=hn("service_message"),q1=hn("theme"),FM=hn("theme_url"),vx=hn("model"),Hk=hn("model_url"),G1=hn("inline_boundaries"),zM=hn("formats"),HM=hn("preview_styles"),VM=hn("format_empty_lines"),Kn=hn("format_noneditable_selector"),kO=hn("custom_ui_selector"),Vb=hn("inline"),Vk=hn("hidden_input"),EO=hn("submit_patch"),AO=hn("add_form_submit_trigger"),TO=hn("add_unload_trigger"),OO=hn("custom_undo_redo_levels"),$M=hn("disable_nodechange"),DO=hn("readonly"),or=hn("editable_root"),RO=hn("content_css_cors"),yd=hn("plugins"),Am=hn("external_plugins"),cC=hn("block_unsupported_drop"),vc=hn("visual"),uC=hn("visual_table_class"),Y1=hn("visual_anchor_class"),yx=hn("iframe_aria_text"),X1=hn("setup"),UM=hn("init_instance_callback"),WM=hn("urlconverter_callback"),ZM=hn("auto_focus"),jM=hn("browser_spellcheck"),Zo=hn("protect"),wf=hn("paste_block_drop"),Tm=hn("paste_data_images"),KM=hn("paste_preprocess"),xx=hn("paste_postprocess"),Go=hn("newdocument_content"),NO=hn("paste_webkit_styles"),$k=hn("paste_remove_styles_if_webkit"),qM=hn("paste_merge_formats"),$b=hn("smart_paste"),Ub=hn("paste_as_text"),IO=hn("paste_tab_spaces"),GM=hn("allow_html_data_urls"),YM=hn("text_patterns"),wx=hn("text_patterns_lookup"),Wb=hn("noneditable_class"),XM=hn("editable_class"),BO=hn("noneditable_regexp"),JM=hn("preserve_cdata"),MO=hn("highlight_on_focus"),PO=hn("xss_sanitization"),LO=hn("init_content_sync"),Uk=e=>e.options.isSet("text_patterns_lookup"),Wk=e=>Kt.explode(e.options.get("font_size_style_values")),Zk=e=>Kt.explode(e.options.get("font_size_classes")),FO=e=>e.options.get("encoding")==="xml",jk=e=>Kt.explode(e.options.get("images_file_types")),zO=hn("table_tab_navigation"),dC=hn("details_initial_state"),HO=hn("details_serialized_state"),Kk=hn("sandbox_iframes"),fC=e=>e.options.get("sandbox_iframes_exclusions"),VO=hn("convert_unsafe_embeds"),$O=hn("license_key"),UO=hn("api_key"),QM=yn,WO=Mt,Cx=e=>{const t=e.parentNode;t&&t.removeChild(e)},qk=e=>{const t=il(e);return{count:e.length-t.length,text:t}},Gk=e=>{let t;for(;(t=e.data.lastIndexOf(sa))!==-1;)e.deleteData(t,1)},Yk=(e,t)=>(qh(e),t),eP=(e,t)=>{const n=qk(e.data.substr(0,t.offset())),s=qk(e.data.substr(t.offset()));return(n.text+s.text).length>0?(Gk(e),mt(e,t.offset()-n.count)):t},tP=(e,t)=>{const n=t.container(),s=Ke(io(n.childNodes),e).map(l=>l<t.offset()?mt(n,t.offset()-1):t).getOr(t);return qh(e),s},nP=(e,t)=>WO(e)&&t.container()===e?eP(e,t):Yk(e,t),oP=(e,t)=>t.container()===e.parentNode?tP(e,t):Yk(e,t),rP=(e,t)=>mt.isTextPosition(t)?nP(e,t):oP(e,t),qh=e=>{QM(e)&&Ol(e)&&(I1(e)?e.removeAttribute("data-mce-caret"):Cx(e)),WO(e)&&(Gk(e),e.data.length===0&&Cx(e))},ZO=eo,mC=xt,sP=Dh,Xk="*[contentEditable=false],video,audio,embed,object",jO=(e,t,n)=>{const s=Nb(t.getBoundingClientRect(),n);let l,f;if(e.tagName==="BODY"){const C=e.ownerDocument.documentElement;l=e.scrollLeft||C.scrollLeft,f=e.scrollTop||C.scrollTop}else{const C=e.getBoundingClientRect();l=e.scrollLeft-C.left,f=e.scrollTop-C.top}s.left+=l,s.right+=l,s.top+=f,s.bottom+=f,s.width=1;let g=t.offsetWidth-t.clientWidth;return g>0&&(n&&(g*=-1),s.left+=g,s.right+=g),s},KO=e=>{var t,n;const s=Js(Be.fromDom(e),Xk);for(let l=0;l<s.length;l++){const f=s[l].dom;let g=f.previousSibling;if(bd(g)){const C=g.data;C.length===1?(t=g.parentNode)===null||t===void 0||t.removeChild(g):g.deleteData(C.length-1,1)}g=f.nextSibling,Db(g)&&(g.data.length===1?(n=g.parentNode)===null||n===void 0||n.removeChild(g):g.deleteData(0,1))}},qO=(e,t,n,s)=>{const l=ma();let f,g;const C=Ui(e),A=e.dom,F=(fe,ke)=>{let ze;if(j(),sP(ke))return null;if(n(ke)){const qe=Qw(C,ke,fe),We=jO(t,ke,fe);A.setStyle(qe,"top",We.top),A.setStyle(qe,"caret-color","transparent"),g=qe;const st=A.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});A.setStyles(st,{...We}),A.add(t,st),l.set({caret:st,element:ke,before:fe}),fe&&A.addClass(st,"mce-visual-caret-before"),q(),ze=ke.ownerDocument.createRange(),ze.setStart(qe,0),ze.setEnd(qe,0)}else return g=B1(ke,fe),ze=ke.ownerDocument.createRange(),_x(g.nextSibling)?(ze.setStart(g,0),ze.setEnd(g,0)):(ze.setStart(g,1),ze.setEnd(g,1)),ze;return ze},j=()=>{KO(t),g&&(qh(g),g=null),l.on(fe=>{A.remove(fe.caret),l.clear()}),f&&(clearInterval(f),f=void 0)},q=()=>{f=setInterval(()=>{l.on(fe=>{s()?A.toggleClass(fe.caret,"mce-visual-caret-hidden"):A.addClass(fe.caret,"mce-visual-caret-hidden")})},500)};return{show:F,hide:j,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{l.on(fe=>{const ke=jO(t,fe.element,fe.before);A.setStyles(fe.caret,{...ke})})},destroy:()=>clearInterval(f)}},Jk=()=>Co.browser.isFirefox(),_x=e=>ZO(e)||mC(e),Sx=e=>(_x(e)||Wc(e)&&Jk())&&Kd(Be.fromDom(e)).exists(ls),gC=cc,hC=eo,GO=xt,Qk=ic("display","block table table-cell table-caption list-item"),eE=Ol,YO=Vh,aP=yn,pC=Mt,XO=Gc,Zb=e=>e>0,jb=e=>e<0,bC=(e,t)=>{let n;for(;n=e(t);)if(!YO(n))return n;return null},kx=(e,t,n,s,l)=>{const f=new Za(e,s),g=hC(e)||YO(e);let C;if(jb(t)){if(g&&(C=bC(f.prev.bind(f),!0),n(C)))return C;for(;C=bC(f.prev.bind(f),l);)if(n(C))return C}if(Zb(t)){if(g&&(C=bC(f.next.bind(f),!0),n(C)))return C;for(;C=bC(f.next.bind(f),l);)if(n(C))return C}return null},iP=(e,t)=>{const n=l=>gC(l.dom),s=l=>l.dom===t;return Li(Be.fromDom(e),n,s).map(l=>l.dom).getOr(t)},Gh=(e,t)=>{for(;e&&e!==t;){if(Qk(e))return e;e=e.parentNode}return null},Om=(e,t,n)=>Gh(e.container(),n)===Gh(t.container(),n),vC=(e,t)=>{if(!t)return J.none();const n=t.container(),s=t.offset();return aP(n)?J.from(n.childNodes[s+e]):J.none()},JO=(e,t)=>{var n;const l=((n=t.ownerDocument)!==null&&n!==void 0?n:document).createRange();return e?(l.setStartBefore(t),l.setEndBefore(t)):(l.setStartAfter(t),l.setEndAfter(t)),l},QO=(e,t,n)=>Gh(t,e)===Gh(n,e),tE=(e,t,n)=>{const s=e?"previousSibling":"nextSibling";let l=n;for(;l&&l!==t;){let f=l[s];if(f&&eE(f)&&(f=f[s]),hC(f)||GO(f)){if(QO(t,f,l))return f;break}if(XO(f))break;l=l.parentNode}return null},Ex=pt(JO,!0),Ax=pt(JO,!1),nE=(e,t,n)=>{let s;const l=pt(tE,!0,t),f=pt(tE,!1,t),g=n.startContainer,C=n.startOffset;if(Vh(g)){const A=pC(g)?g.parentNode:g,F=A.getAttribute("data-mce-caret");if(F==="before"&&(s=A.nextSibling,Sx(s)))return Ex(s);if(F==="after"&&(s=A.previousSibling,Sx(s)))return Ax(s)}if(!n.collapsed)return n;if(Mt(g)){if(eE(g)){if(e===1){if(s=f(g),s)return Ex(s);if(s=l(g),s)return Ax(s)}if(e===-1){if(s=l(g),s)return Ax(s);if(s=f(g),s)return Ex(s)}return n}if(bd(g)&&C>=g.data.length-1)return e===1&&(s=f(g),s)?Ex(s):n;if(Db(g)&&C<=1)return e===-1&&(s=l(g),s)?Ax(s):n;if(C===g.data.length)return s=f(g),s?Ex(s):n;if(C===0)return s=l(g),s?Ax(s):n}return n},e5=(e,t)=>vC(e?0:-1,t).filter(hC),Tx=(e,t,n)=>{const s=nE(e,t,n);return e===-1?mt.fromRangeStart(s):mt.fromRangeEnd(s)},yC=e=>J.from(e.getNode()).map(Be.fromDom),lP=e=>J.from(e.getNode(!0)).map(Be.fromDom),oE=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},xC=(e,t)=>{const n=Om(e,t);return!n&&ns(e.getNode())?!0:n};var Ai;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Ai||(Ai={}));const cP=eo,Dm=Mt,t5=yn,An=ns,Kb=Gc,rE=Wh,wC=Mb,sE=(e,t)=>{const n=[];let s=e;for(;s&&s!==t;)n.push(s),s=s.parentNode;return n},n5=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,Ox=(e,t)=>{if(Zb(e)){if(Kb(t.previousSibling)&&!Dm(t.previousSibling))return mt.before(t);if(Dm(t))return mt(t,0)}if(jb(e)){if(Kb(t.nextSibling)&&!Dm(t.nextSibling))return mt.after(t);if(Dm(t))return mt(t,t.data.length)}return jb(e)?An(t)?mt.before(t):mt.after(t):mt.before(t)},o5=(e,t)=>{const n=t.nextSibling;return n&&Kb(n)?Dm(n)?mt(n,0):mt.before(n):aE(Ai.Forwards,mt.after(t),e)},aE=(e,t,n)=>{let s,l,f,g;if(!t5(n)||!t)return null;if(t.isEqual(mt.after(n))&&n.lastChild){if(g=mt.after(n.lastChild),jb(e)&&Kb(n.lastChild)&&t5(n.lastChild))return An(n.lastChild)?mt.before(n.lastChild):g}else g=t;const C=g.container();let A=g.offset();if(Dm(C)){if(jb(e)&&A>0)return mt(C,--A);if(Zb(e)&&A<C.length)return mt(C,++A);s=C}else{if(jb(e)&&A>0&&(l=n5(C,A-1),Kb(l)))return!rE(l)&&(f=kx(l,e,wC,l),f)?Dm(f)?mt(f,f.data.length):mt.after(f):Dm(l)?mt(l,l.data.length):mt.before(l);if(Zb(e)&&A<C.childNodes.length&&(l=n5(C,A),Kb(l)))return An(l)?o5(n,l):!rE(l)&&(f=kx(l,e,wC,l),f)?Dm(f)?mt(f,0):mt.before(f):Dm(l)?mt(l,0):mt.after(l);s=l||g.getNode()}if(s&&(Zb(e)&&g.isAtEnd()||jb(e)&&g.isAtStart())&&(s=kx(s,e,Rn,n,!0),wC(s,n)))return Ox(e,s);l=s&&kx(s,e,wC,n);const F=ri(Ct(sE(C,n),cP));return F&&(!l||!F.contains(l))?(Zb(e)?g=mt.after(F):g=mt.before(F),g):l?Ox(e,l):null},zn=e=>({next:t=>aE(Ai.Forwards,t,e),prev:t=>aE(Ai.Backwards,t,e)}),uo=(e,t,n)=>{const s=e?mt.before(n):mt.after(n);return eu(e,t,s)},r5=e=>ns(e)?mt.before(e):mt.after(e),s5=e=>mt.isTextPosition(e)?e.offset()===0:Gc(e.getNode()),a5=e=>{if(mt.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return Gc(e.getNode(!0))},i5=(e,t)=>!mt.isTextPosition(e)&&!mt.isTextPosition(t)&&e.getNode()===t.getNode(!0),Zn=e=>!mt.isTextPosition(e)&&ns(e.getNode()),Dx=(e,t,n)=>e?!i5(t,n)&&!Zn(t)&&a5(t)&&s5(n):!i5(n,t)&&s5(t)&&a5(n),eu=(e,t,n)=>{const s=zn(t);return J.from(e?s.next(n):s.prev(n))},qb=(e,t,n)=>eu(e,t,n).bind(s=>Om(n,s,t)&&Dx(e,n,s)?eu(e,t,s):J.some(s)),l5=(e,t,n,s)=>qb(e,t,n).bind(l=>s(l)?l5(e,t,l,s):J.some(l)),J1=(e,t)=>{const n=e?t.firstChild:t.lastChild;return Mt(n)?J.some(mt(n,e?0:n.data.length)):n?Gc(n)?J.some(e?mt.before(n):r5(n)):uo(e,t,n):J.none()},Dl=pt(eu,!0),yc=pt(eu,!1),Un=pt(J1,!0),Ru=pt(J1,!1),Q1="_mce_caret",tu=e=>yn(e)&&e.id===Q1,Yh=(e,t)=>{let n=t;for(;n&&n!==e;){if(tu(n))return n;n=n.parentNode}return null},c5=e=>Ie(e.start),u5=e=>Gn(e,"rng"),d5=e=>Gn(e,"id"),iE=e=>Gn(e,"name"),f5=e=>Kt.isArray(e.start),CC=e=>!iE(e)&&$e(e.forward)?e.forward:!0,m5=(e,t)=>(yn(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),uP=(e,t)=>{const n=J.from(ne(e.getRoot(),t.start)),s=J.from(ne(e.getRoot(),t.end));return Ha(n,s,(l,f)=>{const g=e.createRng();return g.setStart(l.container(),l.offset()),g.setEnd(f.container(),f.offset()),{range:g,forward:CC(t)}})},dP=(e,t)=>{var n;const l=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(sa);e.appendChild(l),t.setStart(l,0),t.setEnd(l,0)},lE=e=>!e.hasChildNodes(),cE=(e,t)=>Ru(e).fold(xn,n=>(t.setStart(n.container(),n.offset()),t.setEnd(n.container(),n.offset()),!0)),g5=(e,t,n)=>lE(t)&&Yh(e,t)?(dP(t,n),!0):!1,h5=(e,t,n,s)=>{const l=n[t?"start":"end"],f=e.getRoot();if(l){let g=f,C=l[0];for(let A=l.length-1;g&&A>=1;A--){const F=g.childNodes;if(g5(f,g,s))return!0;if(l[A]>F.length-1)return g5(f,g,s)?!0:cE(g,s);g=F[l[A]]}Mt(g)&&(C=Math.min(l[0],g.data.length)),yn(g)&&(C=Math.min(l[0],g.childNodes.length)),t?s.setStart(g,C):s.setEnd(g,C)}return!0},uE=e=>Mt(e)&&e.data.length>0,p5=(e,t,n)=>{const s=e.get(n.id+"_"+t),l=s==null?void 0:s.parentNode,f=n.keep;if(s&&l){let g,C;if(t==="start"?f?s.hasChildNodes()?(g=s.firstChild,C=1):uE(s.nextSibling)?(g=s.nextSibling,C=0):uE(s.previousSibling)?(g=s.previousSibling,C=s.previousSibling.data.length):(g=l,C=e.nodeIndex(s)+1):(g=l,C=e.nodeIndex(s)):f?s.hasChildNodes()?(g=s.firstChild,C=1):uE(s.previousSibling)?(g=s.previousSibling,C=s.previousSibling.data.length):(g=l,C=e.nodeIndex(s)):(g=l,C=e.nodeIndex(s)),!f){const A=s.previousSibling,F=s.nextSibling;Kt.each(Kt.grep(s.childNodes),q=>{Mt(q)&&(q.data=q.data.replace(/\uFEFF/g,""))});let j;for(;j=e.get(n.id+"_"+t);)e.remove(j,!0);if(Mt(F)&&Mt(A)&&!Co.browser.isOpera()){const q=A.data.length;A.appendData(F.data),e.remove(F),g=A,C=q}}return J.some(mt(g,C))}else return J.none()},b5=(e,t)=>{const n=e.createRng();return h5(e,!0,t,n)&&h5(e,!1,t,n)?J.some({range:n,forward:CC(t)}):J.none()},Gb=(e,t)=>{const n=p5(e,"start",t),s=p5(e,"end",t);return Ha(n,s.or(n),(l,f)=>{const g=e.createRng();return g.setStart(m5(e,l.container()),l.offset()),g.setEnd(m5(e,f.container()),f.offset()),{range:g,forward:CC(t)}})},v5=(e,t)=>J.from(e.select(t.name)[t.index]).map(n=>{const s=e.createRng();return s.selectNode(n),{range:s,forward:!0}}),y5=(e,t)=>{const n=e.dom;if(t){if(f5(t))return b5(n,t);if(c5(t))return uP(n,t);if(d5(t))return Gb(n,t);if(iE(t))return v5(n,t);if(u5(t))return J.some({range:t.rng,forward:CC(t)})}return J.none()},fP=(e,t,n)=>nt(e,t,n),mP=(e,t)=>{y5(e,t).each(({range:n,forward:s})=>{e.setRng(n,s)})},nu=e=>yn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",Wi=(e=>t=>e===t)(da),Yb=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,jg=e=>!Yb(e)&&!Wi(e)&&!ku(e),os=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},Nu=e=>ao(e,t=>{const n=Uh(t);return n?[Be.fromDom(n)]:[]}),Rx=e=>os(e).length>1,_C=e=>Ct(Nu(e),hc),ev=e=>Js(e,"td[data-mce-selected],th[data-mce-selected]"),x5=(e,t)=>{const n=ev(t);return n.length>0?n:_C(e)},Cf=e=>x5(os(e.selection.getSel()),Be.fromDom(e.getBody())),wr=(e,t)=>Hc(e,"table",t),Nx=e=>{const t=e.startContainer,n=e.startOffset;return Mt(t)?n===0?J.some(Be.fromDom(t)):J.none():J.from(t.childNodes[n]).map(Be.fromDom)},w5=e=>{const t=e.endContainer,n=e.endOffset;return Mt(t)?n===t.data.length?J.some(Be.fromDom(t)):J.none():J.from(t.childNodes[n-1]).map(Be.fromDom)},dE=e=>yl(e).fold(Qe([e]),t=>[e].concat(dE(t))),Ix=e=>wu(e).fold(Qe([e]),t=>Po(t)==="br"?oa(t).map(n=>[e].concat(Ix(n))).getOr([]):[e].concat(Ix(t))),Bx=(e,t)=>Ha(Nx(t),w5(t),(n,s)=>{const l=wn(dE(e),pt(Lo,n)),f=wn(Ix(e),pt(Lo,s));return l.isSome()&&f.isSome()}).getOr(!1),Mx=(e,t,n,s)=>{const l=n,f=new Za(n,l),g=ec(e.schema.getMoveCaretBeforeOnEnterElements(),(A,F)=>!le(["td","th","table"],F.toLowerCase()));let C=n;do{if(Mt(C)&&Kt.trim(C.data).length!==0){s?t.setStart(C,0):t.setEnd(C,C.data.length);return}if(g[C.nodeName]){s?t.setStartBefore(C):C.nodeName==="BR"?t.setEndBefore(C):t.setEndAfter(C);return}}while(C=s?f.next():f.prev());l.nodeName==="BODY"&&(s?t.setStart(l,0):t.setEnd(l,l.childNodes.length))},tv=e=>{const t=e.selection.getSel();return Ce(t)&&t.rangeCount>0},nv=(e,t)=>{const n=Cf(e);n.length>0?ge(n,s=>{const l=s.dom,f=e.dom.createRng();f.setStartBefore(l),f.setEndAfter(l),t(f,!0)}):t(e.selection.getRng(),!1)},SC=(e,t,n)=>{const s=qt(e,t);n(s),e.moveToBookmark(s)},ov=e=>R(e==null?void 0:e.nodeType),kC=e=>yn(e)&&!nu(e)&&!tu(e)&&!Qd(e),C5=(e,t)=>{if(kC(t)&&!/^(TD|TH)$/.test(t.nodeName)){const n=e.getAttrib(t,"data-mce-selected"),s=parseInt(n,10);return!isNaN(s)&&s>0}else return!1},fE=(e,t,n)=>{const{selection:s,dom:l}=e,f=s.getNode(),g=eo(f);SC(s,!0,()=>{t()}),g&&eo(f)&&l.isChildOf(f,e.getBody())?e.selection.select(f):n(s.getStart())&&_5(l,s)},_5=(e,t)=>{var n,s;const l=t.getRng(),{startContainer:f,startOffset:g}=l,C=t.getNode();if(!C5(e,C)&&yn(f)){const A=f.childNodes,F=e.getRoot();let j;if(g<A.length){const q=A[g];j=new Za(q,(n=e.getParent(q,e.isBlock))!==null&&n!==void 0?n:F)}else{const q=A[A.length-1];j=new Za(q,(s=e.getParent(q,e.isBlock))!==null&&s!==void 0?s:F),j.next(!0)}for(let q=j.current();q;q=j.next()){if(e.getContentEditable(q)==="false")return;if(Mt(q)&&!mE(q)){l.setStart(q,0),t.setRng(l);return}}}},Xb=(e,t,n)=>{if(e){const s=t?"nextSibling":"previousSibling";for(e=e[s];e;e=e[s])if(yn(e)||!mE(e))return e}},EC=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||of(e,t),Xh=(e,t,n)=>e.schema.isValidChild(t,n),mE=(e,t=!1)=>{if(Ce(e)&&Mt(e)){const n=t?e.data.replace(/ /g,""):e.data;return Ll(n)}else return!1},hP=e=>Ce(e)&&Mt(e)&&e.length===0,S5=(e,t)=>{const n="[data-mce-cef-wrappable]",s=Kn(e),l=Lt(s)?n:`${n},${s}`;return yr(Be.fromDom(t),l)},gE=(e,t)=>{const n=e.dom;return kC(t)&&n.getContentEditable(t)==="false"&&S5(e,t)&&n.select('[contenteditable="true"]',t).length===0},Kg=(e,t)=>Re(e)?e(t):(Ce(t)&&(e=e.replace(/%(\w+)/g,(n,s)=>t[s]||n)),e),rv=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),AC=(e,t)=>{if(rt(e))return null;{let n=String(e);return(t==="color"||t==="backgroundColor")&&(n=gb(n)),t==="fontWeight"&&e===700&&(n="bold"),t==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},Px=(e,t,n)=>{const s=e.getStyle(t,n);return AC(s,n)},hE=(e,t)=>{let n;return e.getParent(t,s=>yn(s)?(n=e.getStyle(s,"text-decoration"),!!n&&n!=="none"):!1),n},Lx=(e,t,n)=>e.getParents(t,n,e.getRoot()),TC=(e,t,n)=>{const s=e.formatter.get(t);return Ce(s)&&xe(s,n)},k5=(e,t)=>TC(e,t,s=>{const l=f=>Re(f)||f.length>1&&f.charAt(0)==="%";return xe(["styles","attributes"],f=>dr(s,f).exists(g=>{const C=oe(g)?g:du(g);return xe(C,l)}))}),E5=(e,t,n)=>{const s=["inline","block","selector","attributes","styles","classes"],l=f=>ec(f,(g,C)=>xe(s,A=>A===C));return TC(e,t,f=>{const g=l(f);return TC(e,n,C=>{const A=l(C);return ca(g,A)})})},_f=e=>El(e,"block"),A5=e=>_f(e)&&e.wrapper===!0,T5=e=>_f(e)&&e.wrapper!==!0,xc=e=>El(e,"selector"),Xa=e=>El(e,"inline"),O5=e=>xc(e)&&Xa(e)&&Hd(dr(e,"mixed"),!0),OC=e=>xc(e)&&e.expand!==!1&&!Xa(e),D5=e=>{const t=[];let n=e;for(;n;){if(Mt(n)&&n.data!==sa||n.childNodes.length>1)return[];yn(n)&&t.push(n),n=n.firstChild}return t},pE=e=>D5(e).length>0,DC=e=>tu(e.dom)&&pE(e.dom),Jh=nu,Fx=Lx,RC=mE,NC=EC,R5=e=>ns(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,zx=(e,t)=>{let n=t;for(;n;){if(yn(n)&&e.getContentEditable(n))return e.getContentEditable(n)==="false"?n:t;n=n.parentNode}return t},IC=(e,t,n,s)=>{const l=t.data;if(e){for(let f=n;f>0;f--)if(s(l.charAt(f-1)))return f}else for(let f=n;f<l.length;f++)if(s(l.charAt(f)))return f;return-1},Hx=(e,t,n)=>IC(e,t,n,s=>Wi(s)||Yb(s)),bE=(e,t,n)=>IC(e,t,n,jg),vE=(e,t,n,s,l,f)=>{let g;const C=e.getParent(n,e.isBlock)||t,A=(j,q,X)=>{const ue=md(e),we=l?ue.backwards:ue.forwards;return J.from(we(j,q,(fe,ke)=>Jh(fe.parentNode)?-1:(g=fe,X(l,fe,ke)),C))};return A(n,s,Hx).bind(j=>f?A(j.container,j.offset+(l?-1:0),bE):J.some(j)).orThunk(()=>g?J.some({container:g,offset:l?0:g.length}):J.none())},Jb=(e,t,n,s,l)=>{const f=s[l];Mt(s)&&Lt(s.data)&&f&&(s=f);const g=Fx(e,s);for(let C=0;C<g.length;C++)for(let A=0;A<t.length;A++){const F=t[A];if(!(Ce(F.collapsed)&&F.collapsed!==n.collapsed)&&xc(F)&&e.is(g[C],F.selector))return g[C]}return s},BC=(e,t,n,s)=>{var l;let f=n;const g=e.getRoot(),C=t[0];if(_f(C)&&(f=C.wrapper?null:e.getParent(n,C.block,g)),!f){const A=(l=e.getParent(n,"LI,TD,TH,SUMMARY"))!==null&&l!==void 0?l:g;f=e.getParent(Mt(n)?n.parentNode:n,F=>F!==g&&NC(e.schema,F),A)}if(f&&_f(C)&&C.wrapper&&(f=Fx(e,f,"ul,ol").reverse()[0]||f),!f)for(f=n;f&&f[s]&&!e.isBlock(f[s])&&(f=f[s],!rv(f,"br")););return f||n},MC=(e,t,n,s)=>{const l=n.parentNode;return Ce(n[s])?!1:l===t||rt(l)||e.isBlock(l)?!0:MC(e,t,l,s)},qg=(e,t,n,s,l)=>{let f=n;const g=l?"previousSibling":"nextSibling",C=e.getRoot();if(Mt(n)&&!RC(n)&&(l?s>0:s<n.data.length))return n;for(;f;){if(!t[0].block_expand&&e.isBlock(f))return f;for(let A=f[g];A;A=A[g]){const F=Mt(A)&&!MC(e,C,A,g);if(!Jh(A)&&!R5(A)&&!RC(A,F))return f}if(f===C||f.parentNode===C){n=f;break}f=f.parentNode}return n},Gg=e=>Jh(e.parentNode)||Jh(e),Qh=(e,t,n,s=!1)=>{let{startContainer:l,startOffset:f,endContainer:g,endOffset:C}=t;const A=n[0];return yn(l)&&l.hasChildNodes()&&(l=aa(l,f),Mt(l)&&(f=0)),yn(g)&&g.hasChildNodes()&&(g=aa(g,t.collapsed?C:C-1),Mt(g)&&(C=g.data.length)),l=zx(e,l),g=zx(e,g),Gg(l)&&(l=Jh(l)?l:l.parentNode,t.collapsed?l=l.previousSibling||l:l=l.nextSibling||l,Mt(l)&&(f=t.collapsed?l.length:0)),Gg(g)&&(g=Jh(g)?g:g.parentNode,t.collapsed?g=g.nextSibling||g:g=g.previousSibling||g,Mt(g)&&(C=t.collapsed?0:g.length)),t.collapsed&&(vE(e,e.getRoot(),l,f,!0,s).each(({container:q,offset:X})=>{l=q,f=X}),vE(e,e.getRoot(),g,C,!1,s).each(({container:q,offset:X})=>{g=q,C=X})),(Xa(A)||A.block_expand)&&((!Xa(A)||!Mt(l)||f===0)&&(l=qg(e,n,l,f,!0)),(!Xa(A)||!Mt(g)||C===g.data.length)&&(g=qg(e,n,g,C,!1))),OC(A)&&(l=Jb(e,n,t,l,"previousSibling"),g=Jb(e,n,t,g,"nextSibling")),(_f(A)||xc(A))&&(l=BC(e,n,l,"previousSibling"),g=BC(e,n,g,"nextSibling"),_f(A)&&(e.isBlock(l)||(l=qg(e,n,l,f,!0),Mt(l)&&(f=0)),e.isBlock(g)||(g=qg(e,n,g,C,!1),Mt(g)&&(C=g.data.length)))),yn(l)&&l.parentNode&&(f=e.nodeIndex(l),l=l.parentNode),yn(g)&&g.parentNode&&(C=e.nodeIndex(g)+1,g=g.parentNode),{startContainer:l,startOffset:f,endContainer:g,endOffset:C}},Vx=(e,t,n)=>{var s;const l=t.startOffset,f=aa(t.startContainer,l),g=t.endOffset,C=aa(t.endContainer,g-1),A=ke=>{const ze=ke[0];Mt(ze)&&ze===f&&l>=ze.data.length&&ke.splice(0,1);const qe=ke[ke.length-1];return g===0&&ke.length>0&&qe===C&&Mt(qe)&&ke.splice(ke.length-1,1),ke},F=(ke,ze,qe)=>{const We=[];for(;ke&&ke!==qe;ke=ke[ze])We.push(ke);return We},j=(ke,ze)=>e.getParent(ke,qe=>qe.parentNode===ze,ze),q=(ke,ze,qe)=>{const We=qe?"nextSibling":"previousSibling";for(let st=ke,Nt=st.parentNode;st&&st!==ze;st=Nt){Nt=st.parentNode;const jt=F(st===ke?st:st[We],We);jt.length&&(qe||jt.reverse(),n(A(jt)))}};if(f===C)return n(A([f]));const X=(s=e.findCommonAncestor(f,C))!==null&&s!==void 0?s:e.getRoot();if(e.isChildOf(f,C))return q(f,X,!0);if(e.isChildOf(C,f))return q(C,X);const ue=j(f,X)||f,we=j(C,X)||C;q(f,ue,!0);const fe=F(ue===f?ue:ue.nextSibling,"nextSibling",we===C?we.nextSibling:we);fe.length&&n(A(fe)),q(C,we)},pP=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],N5=e=>qr(e)&&xm(e)===sa,I5=(e,t,n,s)=>Ua(t).fold(()=>"skipping",l=>s==="br"||N5(t)?"valid":Xy(t)?"existing":tu(t.dom)?"caret":xe(pP,f=>yr(t,f))?"valid-block":!Xh(e,n,s)||!Xh(e,Po(l),n)?"invalid-child":"valid"),ep=(e,t)=>{const n=Qh(e.dom,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},tp=(e,t,n,s,l,f)=>{const{uid:g=t,...C}=n;od(e,bs()),na(e,`${Vs()}`,g),na(e,`${vs()}`,s);const{attributes:A={},classes:F=[]}=l(g,C);if(yi(e,A),xb(e,F),f){F.length>0&&na(e,`${ds()}`,F.join(","));const j=Vt(A);j.length>0&&na(e,`${Bs()}`,j.join(","))}},Ti=e=>{xi(e,bs()),bo(e,`${Vs()}`),bo(e,`${vs()}`),bo(e,`${xr()}`);const t=Mc(e,`${Bs()}`).map(s=>s.split(",")).getOr([]),n=Mc(e,`${ds()}`).map(s=>s.split(",")).getOr([]);ge(t,s=>bo(e,s)),Fg(e,n),bo(e,`${ds()}`),bo(e,`${Bs()}`)},Rm=(e,t,n,s,l)=>{const f=Be.fromTag("span",e);return tp(f,t,n,s,l,!1),f},tr=(e,t,n,s,l,f)=>{const g=[],C=Rm(e.getDoc(),n,f,s,l),A=ma(),F=()=>{A.clear()},j=()=>A.get().getOrThunk(()=>{const we=Ms(C);return g.push(we),A.set(we),we}),q=we=>{ge(we,X)},X=we=>{switch(I5(e,we,"span",Po(we))){case"invalid-child":{F();const ke=Wa(we);q(ke),F();break}case"valid-block":{F(),tp(we,n,f,s,l,!0);break}case"valid":{const ke=j();Al(we,ke);break}}},ue=we=>{const fe=Me(we,Be.fromDom);q(fe)};return Vx(e.dom,t,we=>{F(),ue(we)}),g},bP=(e,t,n,s)=>{e.undoManager.transact(()=>{const l=e.selection,f=l.getRng(),g=Cf(e).length>0,C=ki("mce-annotation");if(f.collapsed&&!g&&ep(e,f),l.getRng().collapsed&&!g){const A=Rm(e.getDoc(),C,s,t,n.decorate);sm(A,da),l.getRng().insertNode(A.dom),l.select(A.dom)}else SC(l,!1,()=>{nv(e,A=>{tr(e,A,C,t,n.decorate,s)})})})},B5=e=>{const t=Qy();D1(e,t);const n=O1(e,t),s=Zd("span"),l=f=>{ge(f,g=>{s(g)?Si(g):Ti(g)})};return{register:(f,g)=>{t.register(f,g)},annotate:(f,g)=>{t.lookup(f).each(C=>{bP(e,f,C,g)})},annotationChanged:(f,g)=>{n.addListener(f,g)},remove:f=>{T1(e,J.some(f)).each(({elements:g})=>{const C=e.selection.getBookmark();l(g),e.selection.moveToBookmark(C)})},removeAll:f=>{const g=e.selection.getBookmark();Uo(Lg(e,f),(C,A)=>{l(C)}),e.selection.moveToBookmark(g)},getAll:f=>{const g=Lg(e,f);return kl(g,C=>Me(C,A=>A.dom))}}},Dr=e=>({getBookmark:pt(fP,e),moveToBookmark:pt(mP,e)});Dr.isBookmarkNode=nu;const yE=(e,t,n)=>n.collapsed?!1:xe(n.getClientRects(),s=>P1(s,e,t)),$x=(e,t)=>e.dispatch("PreProcess",t),Ux=(e,t)=>e.dispatch("PostProcess",t),Wx=e=>{e.dispatch("remove")},Zx=e=>{e.dispatch("detach")},M5=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},vP=(e,t,n,s,l)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:s,origin:l})},yP=(e,t,n,s,l)=>{e.dispatch("ObjectResized",{target:t,width:n,height:s,origin:l})},xP=e=>{e.dispatch("PreInit")},wP=e=>{e.dispatch("PostRender")},Us=e=>{e.dispatch("Init")},P5=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},xE=(e,t,n)=>{e.dispatch(t,n)},L5=(e,t,n,s)=>{e.dispatch("FormatApply",{format:t,node:n,vars:s})},F5=(e,t,n,s)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:s})},CP=(e,t)=>e.dispatch("BeforeSetContent",t),$l=(e,t)=>e.dispatch("SetContent",t),Sf=(e,t)=>e.dispatch("BeforeGetContent",t),z5=(e,t)=>e.dispatch("GetContent",t),wE=(e,t)=>{e.dispatch("AutocompleterStart",t)},CE=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},_E=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},_P=e=>{e.dispatch("AutocompleterEnd")},jx=(e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}),PC=(e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}),LC=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),SP=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),rn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||rn.metaKeyPressed(e),metaKeyPressed:e=>Co.os.isMacOS()||Co.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Qb="data-mce-selected",kP="table,img,figure.image,hr,video,span.mce-preview-object,details",ou=Math.abs,np=Math.round,FC={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},xd=e=>e.type==="longpress"||e.type.indexOf("touch")===0,_r=(e,t)=>{const n=t.dom,s=t.getDoc(),l=document,f=t.getBody();let g,C,A,F,j,q,X,ue,we,fe,ke,ze,qe,We,st,Nt,jt;const un=an=>Ce(an)&&(lc(an)||n.is(an,"figure.image")),wt=an=>xt(an)||n.hasClass(an,"mce-preview-object"),dt=(an,xo)=>{if(xd(an)){const Do=an.touches[0];return un(an.target)&&!yE(Do.clientX,Do.clientY,xo)}else return un(an.target)&&!yE(an.clientX,an.clientY,xo)},Dt=an=>{const xo=an.target;dt(an,t.selection.getRng())&&!an.isDefaultPrevented()&&t.selection.select(xo)},pn=an=>n.hasClass(an,"mce-preview-object")&&Ce(an.firstElementChild)?[an,an.firstElementChild]:n.is(an,"figure.image")?[an.querySelector("img")]:[an],Nn=an=>{const xo=CO(t);return!xo||an.getAttribute("data-mce-resize")==="false"||an===t.getBody()?!1:n.hasClass(an,"mce-preview-object")&&Ce(an.firstElementChild)?yr(Be.fromDom(an.firstElementChild),xo):yr(Be.fromDom(an),xo)},yo=(an,xo)=>{if(wt(xo))return an.create("img",{src:Co.transparentSrc});if(Wc(xo)){const mi=Kr(F.name,"n")?cn:po,Sr=xo.cloneNode(!0);return mi(an.select("tr",Sr)).each(ei=>{const Rf=an.select("td,th",ei);an.setStyle(ei,"height",null),ge(Rf,gh=>an.setStyle(gh,"height",null))}),Sr}else return xo.cloneNode(!0)},To=(an,xo,Do)=>{if(Ce(Do)){const mi=pn(an);ge(mi,Sr=>{Sr.style[xo]||!t.schema.isValid(Sr.nodeName.toLowerCase(),xo)?n.setStyle(Sr,xo,Do):n.setAttrib(Sr,xo,""+Do)})}},mr=(an,xo,Do)=>{To(an,"width",xo),To(an,"height",Do)},Ar=an=>{let xo,Do,mi,Sr,ei;xo=an.screenX-q,Do=an.screenY-X,We=xo*F[2]+fe,st=Do*F[3]+ke,We=We<5?5:We,st=st<5?5:st,(un(g)||wt(g))&&_O(t)!==!1?mi=!rn.modifierPressed(an):mi=rn.modifierPressed(an),mi&&(ou(xo)>ou(Do)?(st=np(We*ze),We=np(st/ze)):(We=np(st/ze),st=np(We*ze))),mr(C,We,st),Sr=F.startPos.x+xo,ei=F.startPos.y+Do,Sr=Sr>0?Sr:0,ei=ei>0?ei:0,n.setStyles(A,{left:Sr,top:ei,display:"block"}),A.innerHTML=We+" &times; "+st,F[2]<0&&C.clientWidth<=We&&n.setStyle(C,"left",ue+(fe-We)),F[3]<0&&C.clientHeight<=st&&n.setStyle(C,"top",we+(ke-st)),xo=f.scrollWidth-Nt,Do=f.scrollHeight-jt,xo+Do!==0&&n.setStyles(A,{left:Sr-xo,top:ei-Do}),qe||(vP(t,g,fe,ke,"corner-"+F.name),qe=!0)},Gs=()=>{const an=qe;qe=!1,an&&(To(g,"width",We),To(g,"height",st)),n.unbind(s,"mousemove",Ar),n.unbind(s,"mouseup",Gs),l!==s&&(n.unbind(l,"mousemove",Ar),n.unbind(l,"mouseup",Gs)),n.remove(C),n.remove(A),n.remove(j),fl(g),an&&(yP(t,g,We,st,"corner-"+F.name),n.setAttrib(g,"style",n.getAttrib(g,"style"))),t.nodeChanged()},fl=an=>{tn();const xo=n.getPos(an,f),Do=xo.x,mi=xo.y,Sr=an.getBoundingClientRect(),ei=Sr.width||Sr.right-Sr.left,Rf=Sr.height||Sr.bottom-Sr.top;g!==an&&(Xt(),g=an,We=st=0);const gh=t.dispatch("ObjectSelected",{target:an});Nn(an)&&!gh.isDefaultPrevented()?Uo(FC,(ql,Zu)=>{const Nf=If=>{const Mn=pn(g)[0];q=If.screenX,X=If.screenY,fe=Mn.clientWidth,ke=Mn.clientHeight,ze=ke/fe,F=ql,F.name=Zu,F.startPos={x:ei*ql[0]+Do,y:Rf*ql[1]+mi},Nt=f.scrollWidth,jt=f.scrollHeight,j=n.add(f,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(j,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),C=yo(n,g),n.addClass(C,"mce-clonedresizable"),n.setAttrib(C,"data-mce-bogus","all"),C.contentEditable="false",n.setStyles(C,{left:Do,top:mi,margin:0}),mr(C,ei,Rf),C.removeAttribute(Qb),f.appendChild(C),n.bind(s,"mousemove",Ar),n.bind(s,"mouseup",Gs),l!==s&&(n.bind(l,"mousemove",Ar),n.bind(l,"mouseup",Gs)),A=n.add(f,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},fe+" &times; "+ke)};let ju=n.get("mceResizeHandle"+Zu);ju&&n.remove(ju),ju=n.add(f,"div",{id:"mceResizeHandle"+Zu,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Zu+"-resize; margin:0; padding:0"}),n.bind(ju,"mousedown",If=>{If.stopImmediatePropagation(),If.preventDefault(),Nf(If)}),ql.elm=ju,n.setStyles(ju,{left:ei*ql[0]+Do-ju.offsetWidth/2,top:Rf*ql[1]+mi-ju.offsetHeight/2})}):Xt(!1)},Br=Pg(fl,0),Xt=(an=!0)=>{Br.cancel(),tn(),g&&an&&g.removeAttribute(Qb),Uo(FC,(xo,Do)=>{const mi=n.get("mceResizeHandle"+Do);mi&&(n.unbind(mi),n.remove(mi))})},Tn=(an,xo)=>n.isChildOf(an,xo),Qo=an=>{if(qe||t.removed||t.composing)return;const xo=an.type==="mousedown"?an.target:e.getNode(),Do=ka(Be.fromDom(xo),kP).map(Sr=>Sr.dom).filter(Sr=>n.isEditable(Sr.parentElement)||Sr.nodeName==="IMG"&&n.isEditable(Sr)).getOrUndefined(),mi=Ce(Do)?n.getAttrib(Do,Qb,"1"):"1";if(ge(n.select(`img[${Qb}],hr[${Qb}]`),Sr=>{Sr.removeAttribute(Qb)}),Ce(Do)&&Tn(Do,f)&&t.hasFocus()){Hn();const Sr=e.getStart(!0);if(Tn(Sr,Do)&&Tn(e.getEnd(!0),Do)){n.setAttrib(Do,Qb,mi),Br.throttle(Do);return}}Xt()},tn=()=>{Uo(FC,an=>{an.elm&&(n.unbind(an.elm),delete an.elm)})},Hn=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{Hn(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Qo),t.on("keyup compositionend",an=>{g&&g.nodeName==="TABLE"&&Qo(an)}),t.on("hide blur",Xt),t.on("contextmenu longpress",Dt,!0)}),t.on("remove",tn),{isResizable:Nn,showResizeRect:fl,hideResizeRect:Xt,updateResizeRect:Qo,destroy:()=>{Br.cancel(),g=C=j=null}}},sv=(e,t)=>{t.fold(n=>{e.setStartBefore(n.dom)},(n,s)=>{e.setStart(n.dom,s)},n=>{e.setStartAfter(n.dom)})},zC=(e,t)=>{t.fold(n=>{e.setEndBefore(n.dom)},(n,s)=>{e.setEnd(n.dom,s)},n=>{e.setEndAfter(n.dom)})},SE=(e,t,n)=>{const s=e.document.createRange();return sv(s,t),zC(s,n),s},Kx=(e,t,n,s,l)=>{const f=e.document.createRange();return f.setStart(t.dom,n),f.setEnd(s.dom,l),f},e0=Mo.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),H5=(e,t,n)=>t(Be.fromDom(n.startContainer),n.startOffset,Be.fromDom(n.endContainer),n.endOffset),kE=(e,t)=>t.match({domRange:n=>({ltr:Qe(n),rtl:J.none}),relative:(n,s)=>({ltr:gl(()=>SE(e,n,s)),rtl:gl(()=>J.some(SE(e,s,n)))}),exact:(n,s,l,f)=>({ltr:gl(()=>Kx(e,n,s,l,f)),rtl:gl(()=>J.some(Kx(e,l,f,n,s)))})}),EP=(e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter(l=>l.collapsed===!1).map(l=>e0.rtl(Be.fromDom(l.endContainer),l.endOffset,Be.fromDom(l.startContainer),l.startOffset)).getOrThunk(()=>H5(e,e0.ltr,n)):H5(e,e0.ltr,n)},V5=(e,t)=>{const n=kE(e,t);return EP(e,n)};e0.ltr,e0.rtl;const HC={create:(e,t,n,s)=>({start:e,soffset:t,finish:n,foffset:s})},$5=(e,t,n)=>{var s;return J.from((s=e.caretPositionFromPoint)===null||s===void 0?void 0:s.call(e,t,n)).bind(l=>{if(l.offsetNode===null)return J.none();const f=e.createRange();return f.setStart(l.offsetNode,l.offset),f.collapse(),J.some(f)})},VC=(e,t,n)=>{var s;return J.from((s=e.caretRangeFromPoint)===null||s===void 0?void 0:s.call(e,t,n))},TP=(e,t,n)=>e.caretPositionFromPoint?$5(e,t,n):e.caretRangeFromPoint?VC(e,t,n):J.none(),OP=(e,t,n)=>{const s=e.document;return TP(s,t,n).map(l=>HC.create(Be.fromDom(l.startContainer),l.startOffset,Be.fromDom(l.endContainer),l.endOffset))},EE=Mo.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),DP=(e,t,n,s)=>e.fold(t,n,s),RP=e=>e.fold(On,On,On),U5=EE.before,NP=EE.on,IP=EE.after,Nm={before:U5,on:NP,after:IP,cata:DP,getStart:RP},qx=Mo.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),BP=e=>qx.exact(e.start,e.soffset,e.finish,e.foffset),MP=e=>e.match({domRange:t=>Be.fromDom(t.startContainer),relative:(t,n)=>Nm.getStart(t),exact:(t,n,s,l)=>t}),W5=qx.domRange,Iu=qx.relative,PP=qx.exact,Z5=e=>{const t=MP(e);return vu(t)},AE=HC.create,op={domRange:W5,relative:Iu,exact:PP,exactFromRange:BP,getWin:Z5,range:AE},Gx=(e,t)=>{const n=Po(e);return n==="input"?Nm.after(e):le(["br","img"],n)?t===0?Nm.before(e):Nm.after(e):Nm.on(e,t)},j5=(e,t)=>{const n=e.fold(Nm.before,Gx,Nm.after),s=t.fold(Nm.before,Gx,Nm.after);return op.relative(n,s)},$C=(e,t,n,s)=>{const l=Gx(e,t),f=Gx(n,s);return op.relative(l,f)},K5=e=>e.match({domRange:t=>{const n=Be.fromDom(t.startContainer),s=Be.fromDom(t.endContainer);return $C(n,t.startOffset,s,t.endOffset)},relative:j5,exact:$C}),wc=(e,t)=>{const s=document.createDocumentFragment();return ge(e,l=>{s.appendChild(l.dom)}),Be.fromDom(s)},LP=e=>{const t=op.getWin(e).dom,n=(l,f,g,C)=>Kx(t,l,f,g,C),s=K5(e);return V5(t,s).match({ltr:n,rtl:n})},TE=(e,t,n)=>OP(e,t,n),q5=(e,t,n)=>{const s=vu(Be.fromDom(n));return TE(s.dom,e,t).map(l=>{const f=n.createRange();return f.setStart(l.start.dom,l.soffset),f.setEnd(l.finish.dom,l.foffset),f}).getOrUndefined()},Yx=(e,t)=>Ce(e)&&Ce(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,kf=(e,t,n)=>{let s=e;for(;s&&s!==t;){if(n(s))return s;s=s.parentNode}return null},UC=(e,t,n)=>kf(e,t,n)!==null,WC=(e,t,n)=>UC(e,t,s=>s.nodeName===n),G5=(e,t)=>Ol(e)&&!UC(e,t,tu),Y5=(e,t,n)=>{const s=t.parentNode;if(s){const l=new Za(t,e.getParent(s,e.isBlock)||e.getRoot());let f;for(;f=l[n?"prev":"next"]();)if(ns(f))return!0}return!1},X5=(e,t)=>{var n;return((n=e.previousSibling)===null||n===void 0?void 0:n.nodeName)===t},J5=(e,t)=>{let n=t;for(;n&&n!==e;){if(eo(n))return!0;n=n.parentNode}return!1},Xx=(e,t,n,s,l)=>{const f=e.getRoot(),g=e.schema.getNonEmptyElements(),C=l.parentNode;let A,F;if(!C)return J.none();const j=e.getParent(C,e.isBlock)||f;if(s&&ns(l)&&t&&e.isEmpty(j))return J.some(mt(C,e.nodeIndex(l)));const q=new Za(l,j);for(;F=q[s?"prev":"next"]();){if(e.getContentEditableParent(F)==="false"||G5(F,f))return J.none();if(Mt(F)&&F.data.length>0)return WC(F,f,"A")?J.none():J.some(mt(F,s?F.data.length:0));if(e.isBlock(F)||g[F.nodeName.toLowerCase()])return J.none();A=F}return go(A)?J.none():n&&A?J.some(mt(A,0)):J.none()},OE=(e,t,n,s)=>{const l=e.getRoot();let f,g=!1,C=n?s.startContainer:s.endContainer,A=n?s.startOffset:s.endOffset;const F=yn(C)&&A===C.childNodes.length,j=e.schema.getNonEmptyElements();let q=n;if(Ol(C))return J.none();if(yn(C)&&A>C.childNodes.length-1&&(q=!1),Sn(C)&&(C=l,A=0),C===l){if(q&&(f=C.childNodes[A>0?A-1:0],f&&(Ol(f)||j[f.nodeName]||Wc(f))))return J.none();if(C.hasChildNodes()){if(A=Math.min(!q&&A>0?A-1:A,C.childNodes.length-1),C=C.childNodes[A],A=Mt(C)&&F?C.data.length:0,!t&&C===l.lastChild&&Wc(C)||J5(l,C)||Ol(C)||Rh(C))return J.none();if(C.hasChildNodes()&&!Wc(C)){f=C;const X=new Za(C,l);do{if(eo(f)||Ol(f)){g=!1;break}if(Mt(f)&&f.data.length>0){A=q?0:f.data.length,C=f,g=!0;break}if(j[f.nodeName.toLowerCase()]&&!Fw(f)){A=e.nodeIndex(f),C=f.parentNode,q||A++,g=!0;break}}while(f=q?X.next():X.prev())}}}return t&&(Mt(C)&&A===0&&Xx(e,F,t,!0,C).each(X=>{C=X.container(),A=X.offset(),g=!0}),yn(C)&&(f=C.childNodes[A],f||(f=C.childNodes[A-1]),f&&ns(f)&&!X5(f,"A")&&!Y5(e,f,!1)&&!Y5(e,f,!0)&&Xx(e,F,t,!0,f).each(X=>{C=X.container(),A=X.offset(),g=!0}))),q&&!t&&Mt(C)&&A===C.data.length&&Xx(e,F,t,!1,C).each(X=>{C=X.container(),A=X.offset(),g=!0}),g&&C?J.some(mt(C,A)):J.none()},Im=(e,t)=>{const n=t.collapsed,s=t.cloneRange(),l=mt.fromRangeStart(t);return OE(e,n,!0,s).each(f=>{(!n||!mt.isAbove(l,f))&&s.setStart(f.container(),f.offset())}),n||OE(e,n,!1,s).each(f=>{s.setEnd(f.container(),f.offset())}),n&&s.collapse(!0),Yx(t,s)?J.none():J.some(s)},Jx=(e,t)=>e.splitText(t),Qx=e=>{let t=e.startContainer,n=e.startOffset,s=e.endContainer,l=e.endOffset;if(t===s&&Mt(t)){if(n>0&&n<t.data.length)if(s=Jx(t,n),t=s.previousSibling,l>n){l=l-n;const f=Jx(s,l).previousSibling;t=s=f,l=f.data.length,n=0}else l=0}else if(Mt(t)&&n>0&&n<t.data.length&&(t=Jx(t,n),n=0),Mt(s)&&l>0&&l<s.data.length){const f=Jx(s,l).previousSibling;s=f,l=f.data.length}return{startContainer:t,startOffset:n,endContainer:s,endOffset:l}},rp=e=>({walk:(f,g)=>Vx(e,f,g),split:Qx,expand:(f,g={type:"word"})=>{if(g.type==="word"){const C=Qh(e,f,[{inline:"span"}]),A=e.createRng();return A.setStart(C.startContainer,C.startOffset),A.setEnd(C.endContainer,C.endOffset),A}return f},normalize:f=>Im(e,f).fold(xn,g=>(f.setStart(g.startContainer,g.startOffset),f.setEnd(g.endContainer,g.endOffset),!0))});rp.compareRanges=Yx,rp.getCaretRangeFromPoint=q5,rp.getSelectedNode=Uh,rp.getNode=aa;const DE=((e,t)=>{const n=(C,A)=>{if(!R(A)&&!A.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+A);const F=C.dom;Ci(F)&&(F.style[e]=A+"px")},s=C=>{const A=t(C);if(A<=0||A===null){const F=Os(C,e);return parseFloat(F)||0}return A},l=s,f=(C,A)=>It(A,(F,j)=>{const q=Os(C,j),X=q===void 0?0:parseInt(q,10);return isNaN(X)?F:F+X},0);return{set:n,get:s,getOuter:l,aggregate:f,max:(C,A,F)=>{const j=f(C,F);return A>j?A-j:0}}})("height",e=>{const t=e.dom;return wi(e)?t.getBoundingClientRect().height:t.offsetHeight}),t0=e=>DE.get(e),Q5=()=>Be.fromDom(document),eD=(e,t)=>e.view(t).fold(Qe([]),s=>{const l=e.owner(s),f=eD(e,l);return[s].concat(f)}),ZC=(e,t)=>{const n=t.owner(e);return eD(t,n)};var HP=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?J.none():J.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(Be.fromDom)},owner:e=>Ml(e)});const tD=e=>{const t=Q5(),n=Yn(t),s=ZC(e,HP),l=ro(e),f=zt(s,(g,C)=>{const A=ro(C);return{left:g.left+A.left,top:g.top+A.top}},{left:0,top:0});return Ae(f.left+l.left+n.left,f.top+l.top+n.top)},Yg=e=>Po(e)==="textarea",nD=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),oD=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},rD=(e,t)=>{const n=Wa(e);if(n.length===0||Yg(e))return{element:e,offset:t};if(t<n.length&&!Yg(n[t]))return{element:n[t],offset:0};{const s=n[n.length-1];return Yg(s)?{element:e,offset:t}:Po(s)==="img"?{element:s,offset:1}:qr(s)?{element:s,offset:xm(s).length}:{element:s,offset:Wa(s).length}}},e2=(e,t)=>{const n=Ln(e),s=t0(e);return{element:e,bottom:n.top+s,height:s,pos:n,cleanup:t}},sD=(e,t)=>{const n=rD(e,t),s=Be.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+sa+"</span>");return gs(n.element,s),e2(s,()=>fr(s))},aD=e=>e2(Be.fromDom(e),Pt),iD=(e,t,n,s)=>{cD(e,(l,f)=>lD(e,t,n,s),n)},t2=(e,t,n,s,l)=>{const f={elm:s.element.dom,alignToTop:l};if(nD(e,f))return;const g=Yn(t).top;n(e,t,g,s,l),oD(e,f)},lD=(e,t,n,s)=>{const l=Be.fromDom(e.getBody()),f=Be.fromDom(e.getDoc());s1(l);const g=sD(Be.fromDom(n.startContainer),n.startOffset);t2(e,f,t,g,s),g.cleanup()},jC=(e,t,n,s)=>{const l=Be.fromDom(e.getDoc());t2(e,l,n,aD(t),s)},cD=(e,t,n)=>{const s=n.startContainer,l=n.startOffset,f=n.endContainer,g=n.endOffset;t(Be.fromDom(s),Be.fromDom(f));const C=e.dom.createRng();C.setStart(s,l),C.setEnd(f,g),e.selection.setRng(n)},n2=(e,t,n,s,l)=>{const f=t.pos;if(s)_n(f.left,f.top,l);else{const g=f.top-n+t.height;_n(-e.getBody().getBoundingClientRect().left,g,l)}},RE=(e,t,n,s,l,f)=>{const g=s+n,C=l.pos.top,A=l.bottom,F=A-C>=s;C<n?n2(e,l,s,f!==!1,t):C>g?n2(e,l,s,F?f!==!1:f===!0,t):A>g&&!F&&n2(e,l,s,f===!0,t)},o2=(e,t,n,s,l)=>{const f=vu(t).dom.innerHeight;RE(e,t,n,f,s,l)},Bm=(e,t,n,s,l)=>{const f=vu(t).dom.innerHeight;RE(e,t,n,f,s,l);const g=tD(s.element),C=ac(window);g.top<C.y?Jo(s.element,l!==!1):g.top>C.bottom&&Jo(s.element,l===!0)},VP=(e,t,n)=>iD(e,o2,t,n),NE=(e,t,n)=>jC(e,t,o2,n),ea=(e,t,n)=>iD(e,Bm,t,n),IE=(e,t,n)=>jC(e,t,Bm,n),BE=(e,t,n)=>{(e.inline?NE:IE)(e,t,n)},Bu=(e,t,n)=>{(e.inline?VP:ea)(e,t,n)},ME=(e,t=!1)=>e.dom.focus({preventScroll:t}),PE=e=>{const t=zc(e).dom;return e.dom===t.activeElement},n0=(e=Q5())=>J.from(e.dom.activeElement).map(Be.fromDom),$P=e=>n0(zc(e)).filter(t=>e.dom.contains(t.dom)),uD=(e,t)=>{const n=qr(t)?xm(t).length:Wa(t).length+1;return e>n?n:e<0?0:e},av=e=>op.range(e.start,uD(e.soffset,e.start),e.finish,uD(e.foffset,e.finish)),dD=(e,t)=>!Xd(t.dom)&&($a(e,t)||Lo(e,t)),sp=e=>t=>dD(e,t.start)&&dD(e,t.finish),UP=e=>e.inline||Co.browser.isFirefox(),ap=e=>op.range(Be.fromDom(e.startContainer),e.startOffset,Be.fromDom(e.endContainer),e.endOffset),WP=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?J.none():J.from(t.getRangeAt(0))).map(ap)},Mu=e=>{const t=vu(e);return WP(t.dom).filter(sp(e))},r2=(e,t)=>J.from(t).filter(sp(e)).map(av),LE=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),J.some(t)}catch{return J.none()}},iv=e=>{const t=UP(e)?Mu(Be.fromDom(e.getBody())):J.none();e.bookmark=t.isSome()?t:e.bookmark},FE=e=>(e.bookmark?e.bookmark:J.none()).bind(n=>r2(Be.fromDom(e.getBody()),n)).bind(LE),KC=e=>{FE(e).each(t=>e.selection.setRng(t))},Pu={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},qC=(e,t)=>(R(t)||(t=0),setTimeout(e,t)),fD=(e,t)=>(R(t)||(t=0),setInterval(e,t)),Cc={setEditorTimeout:(e,t,n)=>qC(()=>{e.removed||t()},n),setEditorInterval:(e,t,n)=>{const s=fD(()=>{e.removed?clearInterval(s):t()},n);return s}},zE=e=>e.type==="nodechange"&&e.selectionChange,o0=(e,t)=>{const n=()=>{t.throttle()};Nr.DOM.bind(document,"mouseup",n),e.on("remove",()=>{Nr.DOM.unbind(document,"mouseup",n)})},HE=(e,t)=>{e.on("mouseup touchend",n=>{t.throttle()})},mD=(e,t)=>{HE(e,t),e.on("keyup NodeChange AfterSetSelectionRange",n=>{zE(n)||iv(e)})},ZP=e=>{const t=Pg(()=>{iv(e)},0);e.on("init",()=>{e.inline&&o0(e,t),mD(e,t)}),e.on("remove",()=>{t.cancel()})};let Mm;const VE=Nr.DOM,gD=e=>yn(e)&&Pu.isEditorUIElement(e),s2=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},GC=(e,t)=>{const n=kO(e);return VE.getParent(t,l=>gD(l)||(n?e.dom.is(l,n):!1))!==null},YC=e=>{try{const t=zc(Be.fromDom(e.getElement()));return n0(t).fold(()=>document.body,n=>n.dom)}catch{return document.body}},hD=(e,t)=>{const n=t.editor;ZP(n);const s=(l,f)=>{if(MO(l)&&l.inline!==!0){const g=Be.fromDom(l.getContainer());f(g,"tox-edit-focus")}};n.on("focusin",()=>{const l=e.focusedEditor;s2(YC(n))&&s(n,od),l!==n&&(l&&l.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:l}),n.focus(!0))}),n.on("focusout",()=>{Cc.setEditorTimeout(n,()=>{const l=e.focusedEditor;(!s2(YC(n))||l!==n)&&s(n,xi),!GC(n,YC(n))&&l===n&&(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Mm||(Mm=l=>{const f=e.activeEditor;f&&Gp(l).each(g=>{const C=g;C.ownerDocument===document&&C!==document.body&&!GC(f,C)&&e.focusedEditor===f&&(f.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},VE.bind(document,"focusin",Mm))},jP=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Mm&&(VE.unbind(document,"focusin",Mm),Mm=null)},KP=e=>{e.on("AddEditor",pt(hD,e)),e.on("RemoveEditor",pt(jP,e))},qP=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="true"),GP=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="false")!==null,YP=e=>e.collapsed?J.from(aa(e.startContainer,e.startOffset)).map(Be.fromDom):J.none(),XP=(e,t)=>YP(t).bind(n=>zg(n)?J.some(n):$a(e,n)?J.none():J.some(e)),pD=(e,t)=>{XP(Be.fromDom(e.getBody()),t).bind(n=>Un(n.dom)).fold(()=>{e.selection.normalize()},n=>e.selection.setRng(n.toRange()))},XC=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},JP=e=>PE(e)||$P(e).isSome(),QP=e=>Ce(e.iframeElement)&&PE(Be.fromDom(e.iframeElement)),e7=e=>{const t=e.getBody();return t&&JP(Be.fromDom(t))},bD=e=>{const t=zc(Be.fromDom(e.getElement()));return n0(t).filter(n=>!s2(n.dom)&&GC(e,n.dom)).isSome()},lv=e=>e.inline?e7(e):QP(e),r0=e=>lv(e)||bD(e),t7=e=>{const t=e.selection,n=e.getBody();let s=t.getRng();e.quirks.refreshContentEditable();const l=g=>{FE(g).each(C=>{g.selection.setRng(C),s=C})};!lv(e)&&e.hasEditableRoot()&&l(e);const f=qP(e,t.getNode());if(f&&e.dom.isChildOf(f,n)){GP(e,f)||XC(n),XC(f),e.hasEditableRoot()||l(e),pD(e,s),$E(e);return}e.inline||(Co.browser.isOpera()||XC(n),e.getWin().focus()),(Co.browser.isFirefox()||e.inline)&&(XC(n),pD(e,s)),$E(e)},$E=e=>e.editorManager.setActive(e),vD=(e,t)=>{e.removed||(t?$E(e):t7(e))},yD=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),xD=(e,t,n,s,l)=>{const f=n?t.startContainer:t.endContainer,g=n?t.startOffset:t.endOffset;return J.from(f).map(Be.fromDom).map(C=>!s||!t.collapsed?xu(C,l(C,g)).getOr(C):C).bind(C=>Ts(C)?J.some(C):Ua(C).filter(Ts)).map(C=>C.dom).getOr(e)},wD=(e,t,n=!1)=>xD(e,t,!0,n,(s,l)=>Math.min(sd(s),l)),CD=(e,t,n=!1)=>xD(e,t,!1,n,(s,l)=>l>0?l-1:l),_D=(e,t)=>{const n=e;for(;e&&Mt(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||n},n7=(e,t)=>{if(!t)return e;let n=t.startContainer,s=t.endContainer;const l=t.startOffset,f=t.endOffset;let g=t.commonAncestorContainer;t.collapsed||(n===s&&f-l<2&&n.hasChildNodes()&&(g=n.childNodes[l]),Mt(n)&&Mt(s)&&(n.length===l?n=_D(n.nextSibling,!0):n=n.parentNode,f===0?s=_D(s.previousSibling,!1):s=s.parentNode,n&&n===s&&(g=n)));const C=Mt(g)?g.parentNode:g;return Uc(C)?C:e},UE=(e,t,n,s)=>{const l=[],f=e.getRoot(),g=e.getParent(n||wD(f,t,t.collapsed),e.isBlock),C=e.getParent(s||CD(f,t,t.collapsed),e.isBlock);if(g&&g!==f&&l.push(g),g&&C&&g!==C){let A;const F=new Za(g,f);for(;(A=F.next())&&A!==C;)e.isBlock(A)&&l.push(A)}return C&&g!==C&&C!==f&&l.push(C),l},a2=(e,t,n)=>J.from(t).bind(s=>J.from(s.parentNode).map(l=>{const f=e.nodeIndex(s),g=e.createRng();return g.setStart(l,f),g.setEnd(l,f+1),n&&(Mx(e,g,s,!0),Mx(e,g,s,!1)),g})),JC=(e,t)=>Me(t,n=>{const s=e.dispatch("GetSelectionRange",{range:n});return s.range!==n?s.range:n}),o7={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},s0=(e,t,n)=>{const s=n?"lastChild":"firstChild",l=n?"prev":"next";if(e[s])return e[s];if(e!==t){let f=e[l];if(f)return f;for(let g=e.parent;g&&g!==t;g=g.parent)if(f=g[l],f)return f}},SD=e=>{var t;const n=(t=e.value)!==null&&t!==void 0?t:"";if(!Ll(n))return!1;const s=e.parent;return!(s&&(s.name!=="span"||s.attr("style"))&&/^[ ]+$/.test(n))},ha=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class fi{static create(t,n){const s=new fi(t,o7[t]||1);return n&&Uo(n,(l,f)=>{s.attr(f,l)}),s}constructor(t,n){this.name=t,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}replace(t){const n=this;return t.parent&&t.remove(),n.insert(t,n),n.remove(),n}attr(t,n){const s=this;if(!Ie(t))return Ce(t)&&Uo(t,(f,g)=>{s.attr(g,f)}),s;const l=s.attributes;if(l){if(n!==void 0){if(n===null){if(t in l.map){delete l.map[t];let f=l.length;for(;f--;)if(l[f].name===t)return l.splice(f,1),s}return s}if(t in l.map){let f=l.length;for(;f--;)if(l[f].name===t){l[f].value=n;break}}else l.push({name:t,value:n});return l.map[t]=n,s}return l.map[t]}}clone(){const t=this,n=new fi(t.name,t.type),s=t.attributes;if(s){const l=[];l.map={};for(let f=0,g=s.length;f<g;f++){const C=s[f];C.name!=="id"&&(l[l.length]={name:C.name,value:C.value},l.map[C.name]=C.value)}n.attributes=l}return n.value=t.value,n}wrap(t){const n=this;return n.parent&&(n.parent.insert(t,n),t.append(n)),n}unwrap(){const t=this;for(let n=t.firstChild;n;){const s=n.next;t.insert(n,t,!0),n=s}t.remove()}remove(){const t=this,n=t.parent,s=t.next,l=t.prev;return n&&(n.firstChild===t?(n.firstChild=s,s&&(s.prev=null)):l&&(l.next=s),n.lastChild===t?(n.lastChild=l,l&&(l.next=null)):s&&(s.prev=l),t.parent=t.next=t.prev=null),t}append(t){const n=this;t.parent&&t.remove();const s=n.lastChild;return s?(s.next=t,t.prev=s,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t}insert(t,n,s){t.parent&&t.remove();const l=n.parent||this;return s?(n===l.firstChild?l.firstChild=t:n.prev&&(n.prev.next=t),t.prev=n.prev,t.next=n,n.prev=t):(n===l.lastChild?l.lastChild=t:n.next&&(n.next.prev=t),t.next=n.next,t.prev=n,n.next=t),t.parent=l,t}getAll(t){const n=this,s=[];for(let l=n.firstChild;l;l=s0(l,n))l.name===t&&s.push(l);return s}children(){const t=this,n=[];for(let s=t.firstChild;s;s=s.next)n.push(s);return n}empty(){const t=this;if(t.firstChild){const n=[];for(let l=t.firstChild;l;l=s0(l,t))n.push(l);let s=n.length;for(;s--;){const l=n[s];l.parent=l.firstChild=l.lastChild=l.next=l.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,n={},s){var l;const f=this;let g=f.firstChild;if(ha(f))return!1;if(g)do{if(g.type===1){if(g.attr("data-mce-bogus"))continue;if(t[g.name]||ha(g))return!1}if(g.type===8||g.type===3&&!SD(g)||g.type===3&&g.parent&&n[g.parent.name]&&Ll((l=g.value)!==null&&l!==void 0?l:"")||s&&s(g))return!1}while(g=s0(g,f));return!0}walk(t){return s0(this,null,t)}}const kD=Kt.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),QC=e=>Ie(e.nodeValue)&&e.nodeValue.includes(sa),i2=e=>`${e.length===0?"":`${Me(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,ip=(e,t)=>t.querySelectorAll(i2(e)),Xg=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>QC(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),ED=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(QC(t)){const n=t.parentNode;return n&&Gn(kD,n.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),r7=e=>Xg(e).nextNode()!==null,cv=e=>ED(e).nextNode()!==null,uv=(e,t)=>t.querySelector(i2(e))!==null,dv=(e,t)=>{ge(ip(e,t),n=>{const s=Be.fromDom(n);ii(s,"data-mce-bogus")==="all"?fr(s):ge(e,l=>{td(s,l)&&bo(s,l)})})},e_=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},WE=ln(e_,Xg),AD=ln(e_,ED),ZE=(e,t)=>{const n=[{condition:pt(uv,t),action:pt(dv,t)},{condition:r7,action:WE},{condition:cv,action:AD}];let s=e,l=!1;return ge(n,({condition:f,action:g})=>{f(s)&&(l||(s=e.cloneNode(!0),l=!0),g(s))}),s},TD=e=>{const t=Js(e,"[data-mce-bogus]");ge(t,n=>{ii(n,"data-mce-bogus")==="all"?fr(n):Ou(n)?(gs(n,Be.fromText(hs)),fr(n)):Si(n)})},OD=e=>{const t=Js(e,"input");ge(t,n=>{bo(n,"name")})},DD=(e,t)=>{const n=Ui(e),s=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${n}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(s,"")},RD=(e,t)=>{const n=e.getDoc(),s=zc(Be.fromDom(e.getBody())),l=Be.fromTag("div",n);na(l,"data-mce-bogus","all"),Bo(l,{position:"fixed",left:"-9999999px",top:"0"}),sm(l,t.innerHTML),TD(l),OD(l);const f=r1(s);Ds(f,l);const g=il(l.dom.innerText);return fr(l),g},l2=(e,t,n)=>{let s;return t.format==="raw"?s=Kt.trim(il(ZE(n,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?s=RD(e,n):t.format==="tree"?s=e.serializer.serialize(n,t):s=DD(e,e.serializer.serialize(n,t)),t.format!=="text"&&!Tb(Be.fromDom(n))&&Ie(s)?Kt.trim(s):s},ND=(e,t)=>J.from(e.getBody()).fold(Qe(t.format==="tree"?new fi("body",11):""),n=>l2(e,t,n)),jE=Kt.makeMap,KE=e=>{const t=[];e=e||{};const n=e.indent,s=jE(e.indent_before||""),l=jE(e.indent_after||""),f=Ag.getEncodeFunc(e.entity_encoding||"raw",e.entities),g=e.element_format!=="xhtml";return{start:(C,A,F)=>{if(n&&s[C]&&t.length>0){const j=t[t.length-1];j.length>0&&j!==`
`&&t.push(`
`)}if(t.push("<",C),A)for(let j=0,q=A.length;j<q;j++){const X=A[j];t.push(" ",X.name,'="',f(X.value,!0),'"')}if(!F||g?t[t.length]=">":t[t.length]=" />",F&&n&&l[C]&&t.length>0){const j=t[t.length-1];j.length>0&&j!==`
`&&t.push(`
`)}},end:C=>{let A;t.push("</",C,">"),n&&l[C]&&t.length>0&&(A=t[t.length-1],A.length>0&&A!==`
`&&t.push(`
`))},text:(C,A)=>{C.length>0&&(t[t.length]=A?C:f(C))},cdata:C=>{t.push("<![CDATA[",C,"]]>")},comment:C=>{t.push("<!--",C,"-->")},pi:(C,A)=>{A?t.push("<?",C," ",f(A),"?>"):t.push("<?",C,"?>"),n&&t.push(`
`)},doctype:C=>{t.push("<!DOCTYPE",C,">",n?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},Jg=(e={},t=mc())=>{const n=KE(e);return e.validate="validate"in e?e.validate:!0,{serialize:l=>{const f=e.validate,g={3:A=>{var F;n.text((F=A.value)!==null&&F!==void 0?F:"",A.raw)},8:A=>{var F;n.comment((F=A.value)!==null&&F!==void 0?F:"")},7:A=>{n.pi(A.name,A.value)},10:A=>{var F;n.doctype((F=A.value)!==null&&F!==void 0?F:"")},4:A=>{var F;n.cdata((F=A.value)!==null&&F!==void 0?F:"")},11:A=>{let F=A;if(F=F.firstChild)do C(F);while(F=F.next)}};n.reset();const C=A=>{var F;const j=g[A.type];if(j)j(A);else{const q=A.name,X=q in t.getVoidElements();let ue=A.attributes;if(f&&ue&&ue.length>1){const we=[];we.map={};const fe=t.getElementRule(A.name);if(fe){for(let ke=0,ze=fe.attributesOrder.length;ke<ze;ke++){const qe=fe.attributesOrder[ke];if(qe in ue.map){const We=ue.map[qe];we.map[qe]=We,we.push({name:qe,value:We})}}for(let ke=0,ze=ue.length;ke<ze;ke++){const qe=ue[ke].name;if(!(qe in we.map)){const We=ue.map[qe];we.map[qe]=We,we.push({name:qe,value:We})}}ue=we}}if(n.start(q,ue,X),um(q))Ie(A.value)&&n.text(A.value,!0),n.end(q);else if(!X){let we=A.firstChild;if(we){(q==="pre"||q==="textarea")&&we.type===3&&((F=we.value)===null||F===void 0?void 0:F[0])===`
`&&n.text(`
`,!0);do C(we);while(we=we.next)}n.end(q)}}};return l.type===1&&!e.inner?C(l):l.type===3?g[3](l):g[11](l),n.getContent()}}},qE=new Set;ge(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{qE.add(t)});const GE=new Set;ge(["background-color"],t=>{GE.add(t)});const YE=["font","text-decoration","text-emphasis"],ID=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),a0=(e,t)=>Vt(ID(e,t)),XE=e=>qE.has(e),c2=e=>GE.has(e),JE=(e,t)=>xe(a0(e,t),n=>XE(n)),BD=(e,t)=>JE(e,t)&&xe(a0(e,t),n=>c2(n)),t_=e=>Ct(e,t=>xe(YE,n=>Kr(t,n))),s7=(e,t,n)=>{const s=a0(e,t),l=a0(e,n),f=g=>{var C,A;const F=(C=e.getStyle(t,g))!==null&&C!==void 0?C:"",j=(A=e.getStyle(n,g))!==null&&A!==void 0?A:"";return je(F)&&je(j)&&F!==j};return xe(s,g=>{const C=A=>xe(A,F=>F===g);if(!C(l)&&C(YE)){const A=t_(l);return xe(A,f)}else return f(g)})},MD=(e,t,n)=>J.from(n.container()).filter(Mt).exists(s=>{const l=e?0:-1;return t(s.data.charAt(n.offset()+l))}),Qg=pt(MD,!0,Yb),u2=pt(MD,!1,Yb),PD=e=>{const t=e.container();return Mt(t)&&(t.data.length===0||bc(t.data)&&Dr.isBookmarkNode(t.parentNode))},wd=(e,t)=>n=>vC(e?0:-1,n).filter(t).isSome(),QE=e=>lc(e)&&Os(Be.fromDom(e),"display")==="block",n_=e=>eo(e)&&!i1(e),LD=wd(!0,QE),FD=wd(!1,QE),i0=wd(!0,xt),fv=wd(!1,xt),zD=wd(!0,Wc),mv=wd(!1,Wc),pa=wd(!0,n_),Ef=wd(!1,n_),l0=e=>e.slice(0,-1),HD=(e,t,n)=>$a(t,e)?l0(tm(e,s=>n(s)||Lo(s,t))):[],Ul=(e,t)=>HD(e,t,xn),_c=(e,t)=>[e].concat(Ul(e,t)),o_=(e,t,n)=>l5(e,t,n,PD),VD=e=>t=>e.isBlock(Po(t)),e3=(e,t,n)=>wn(_c(Be.fromDom(t.container()),e),VD(n)),gv=(e,t,n,s)=>o_(e,t.dom,n).forall(l=>e3(t,n,s).fold(()=>!Om(l,n,t.dom),f=>!Om(l,n,t.dom)&&$a(f,Be.fromDom(l.container())))),r_=(e,t,n,s)=>e3(t,n,s).fold(()=>o_(e,t.dom,n).forall(l=>!Om(l,n,t.dom)),l=>o_(e,l.dom,n).isNone()),s_=pt(r_,!1),$D=pt(r_,!0),t3=pt(gv,!1),n3=pt(gv,!0),a7=e=>yC(e).exists(Ou),Lu=(e,t,n,s)=>{const l=Ct(_c(Be.fromDom(n.container()),t),g=>s.isBlock(Po(g))),f=cn(l).getOr(t);return eu(e,f.dom,n).filter(a7)},d2=(e,t,n)=>yC(t).exists(Ou)||Lu(!0,e,t,n).isSome(),c0=(e,t,n)=>lP(t).exists(Ou)||Lu(!1,e,t,n).isSome(),a_=pt(Lu,!1),UD=pt(Lu,!0),o3=e=>mt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),r3=(e,t,n)=>{const s=Ct(_c(Be.fromDom(t.container()),e),l=>n.isBlock(Po(l)));return cn(s).getOr(e)},WD=(e,t,n)=>o3(t)?u2(t):u2(t)||yc(r3(e,t,n).dom,t).exists(u2),ZD=(e,t,n)=>o3(t)?Qg(t):Qg(t)||Dl(r3(e,t,n).dom,t).exists(Qg),jD=e=>le(["pre","pre-wrap"],e),i_=e=>yC(e).bind(t=>Xs(t,Ts)).exists(t=>jD(Os(t,"white-space"))),s3=(e,t)=>yc(e.dom,t).isNone(),a3=(e,t)=>Dl(e.dom,t).isNone(),KD=(e,t,n)=>s3(e,t)||a3(e,t)||s_(e,t,n)||$D(e,t,n)||c0(e,t,n)||d2(e,t,n),i3=e=>Ce(e)&&eo(e)&&Qk(e),l3=(e,t)=>n=>i3(new Za(n,e)[t]()),qD=(e,t)=>{const n=Dl(e.dom,t).getOr(t),s=l3(e.dom,"next");return t.isAtEnd()&&(s(t.container())||s(n.container()))},c3=(e,t)=>{const n=yc(e.dom,t).getOr(t),s=l3(e.dom,"prev");return t.isAtStart()&&(s(t.container())||s(n.container()))},u3=(e,t,n)=>i_(t)?!1:KD(e,t,n)||WD(e,t,n)||ZD(e,t,n),hv=(e,t,n)=>i_(t)?!1:s_(e,t,n)||t3(e,t,n)||c0(e,t,n)||WD(e,t,n)||c3(e,t),GD=e=>{const t=e.container(),n=e.offset();return Mt(t)&&n<t.data.length?mt(t,n+1):e},u0=(e,t,n)=>i_(t)?!1:$D(e,t,n)||n3(e,t,n)||d2(e,t,n)||ZD(e,t,n)||qD(e,t),d3=(e,t,n)=>hv(e,t,n)||u0(e,GD(t),n),f2=(e,t)=>Wi(e.charAt(t)),f3=(e,t)=>Yb(e.charAt(t)),YD=e=>{const t=e.container();return Mt(t)&&vr(t.data,da)},i7=e=>{const t=e.split("");return Me(t,(n,s)=>Wi(n)&&s>0&&s<t.length-1&&jg(t[s-1])&&jg(t[s+1])?" ":n).join("")},XD=(e,t,n,s)=>{const l=t.data,f=mt(t,0);return!n&&f2(l,0)&&!d3(e,f,s)?(t.data=" "+l.slice(1),!0):n&&f3(l,0)&&hv(e,f,s)?(t.data=da+l.slice(1),!0):!1},JD=e=>{const t=e.data,n=i7(t);return n!==t?(e.data=n,!0):!1},QD=(e,t,n,s)=>{const l=t.data,f=mt(t,l.length-1);return!n&&f2(l,l.length-1)&&!d3(e,f,s)?(t.data=l.slice(0,-1)+" ",!0):n&&f3(l,l.length-1)&&u0(e,f,s)?(t.data=l.slice(0,-1)+da,!0):!1},eR=(e,t,n)=>{const s=t.container();if(!Mt(s))return J.none();if(YD(t)){const l=XD(e,s,!1,n)||JD(s)||QD(e,s,!1,n);return mg(l,t)}else if(d3(e,t,n)){const l=XD(e,s,!0,n)||QD(e,s,!0,n);return mg(l,t)}else return J.none()},l7=e=>{const t=Be.fromDom(e.getBody());e.selection.isCollapsed()&&eR(t,mt.fromRangeStart(e.selection.getRng()),e.schema).each(n=>{e.selection.setRng(n.toRange())})},tR=(e,t,n,s)=>{if(n===0)return;const l=Be.fromDom(e),f=Li(l,F=>s.isBlock(Po(F))).getOr(l),g=e.data.slice(t,t+n),C=t+n>=e.data.length&&u0(f,mt(e,e.data.length),s),A=t===0&&hv(f,mt(e,0),s);e.replaceData(t,n,eb(g,4,A,C))},l_=(e,t,n)=>{const s=e.data.slice(t),l=s.length-it(s).length;tR(e,t,l,n)},_s=(e,t,n)=>{const s=e.data.slice(0,t),l=s.length-ot(s).length;tR(e,t-l,l,n)},m2=(e,t,n,s,l=!0)=>{const f=ot(e.data).length,g=l?e:t,C=l?t:e;return l?g.appendData(C.data):g.insertData(0,C.data),fr(Be.fromDom(C)),s&&l_(g,f,n),g},c7=(e,t)=>{const n=e.container(),s=e.offset();return!mt.isTextPosition(e)&&n===t.parentNode&&s>mt.before(t).offset()},u7=(e,t)=>c7(t,e)?mt(t.container(),t.offset()-1):t,pv=e=>Mt(e)?mt(e,0):mt.before(e),lp=e=>Mt(e)?mt(e,e.data.length):mt.after(e),Pm=e=>Gc(e.previousSibling)?J.some(lp(e.previousSibling)):e.previousSibling?Ru(e.previousSibling):J.none(),m3=e=>Gc(e.nextSibling)?J.some(pv(e.nextSibling)):e.nextSibling?Un(e.nextSibling):J.none(),nR=(e,t)=>J.from(t.previousSibling?t.previousSibling:t.parentNode).bind(n=>yc(e,mt.before(n))).orThunk(()=>Dl(e,mt.after(t))),oR=(e,t)=>Dl(e,mt.after(t)).orThunk(()=>yc(e,mt.before(t))),c_=(e,t)=>Pm(t).orThunk(()=>m3(t)).orThunk(()=>nR(e,t)),d7=(e,t)=>m3(t).orThunk(()=>Pm(t)).orThunk(()=>oR(e,t)),g3=(e,t,n)=>e?d7(t,n):c_(t,n),rR=(e,t,n)=>g3(e,t,n).map(pt(u7,n)),h3=(e,t,n)=>{n.fold(()=>{e.focus()},s=>{e.selection.setRng(s.toRange(),t)})},p3=e=>t=>t.dom===e,sR=(e,t)=>t&&Gn(e.schema.getBlockElements(),Po(t)),b3=(e,t,n)=>{if(Ns(e,t)){const s=Be.fromHtml('<br data-mce-bogus="1">');return n?ge(Wa(t),l=>{DC(l)||fr(l)}):Lr(t),Ds(t,s),J.some(mt.before(s.dom))}else return J.none()},f7=(e,t,n,s)=>{const l=oa(e).filter(qr),f=Pn(e).filter(qr);return fr(e),$d(l,f,t,(g,C,A)=>{const F=g.dom,j=C.dom,q=F.data.length;return m2(F,j,n,s),A.container()===j?mt(F,q):A}).orThunk(()=>(s&&(l.each(g=>_s(g.dom,g.dom.length,n)),f.each(g=>l_(g.dom,0,n))),t))},m7=(e,t)=>Gn(e.schema.getTextInlineElements(),Po(t)),cl=(e,t,n,s=!0,l=!1)=>{const f=rR(t,e.getBody(),n.dom),g=Li(n,pt(sR,e),p3(e.getBody())),C=f7(n,f,e.schema,m7(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):g.bind(A=>b3(e.schema,A,l)).fold(()=>{s&&h3(e,t,C)},A=>{s&&h3(e,t,J.some(A))})},aR=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,g7=e=>aR.test(e),d0=(e,t)=>yr(Be.fromDom(t),Vo(e))&&!of(e.schema,t)&&e.dom.isEditable(t),g2=e=>{var t;return Nr.DOM.getStyle(e,"direction",!0)==="rtl"||g7((t=e.textContent)!==null&&t!==void 0?t:"")},h7=(e,t,n)=>Ct(Nr.DOM.getParents(n.container(),"*",t),e),cp=(e,t,n)=>{const s=h7(e,t,n);return J.from(s[s.length-1])},iR=(e,t,n)=>{const s=Gh(t,e),l=Gh(n,e);return Ce(s)&&s===l},v3=e=>Ob(e)||M1(e),Fu=(e,t)=>{const n=t.container(),s=t.offset();return e?Cm(n)?Mt(n.nextSibling)?mt(n.nextSibling,0):mt.after(n):Ob(t)?mt(n,s+1):t:Cm(n)?Mt(n.previousSibling)?mt(n.previousSibling,n.previousSibling.data.length):mt.before(n):M1(t)?mt(n,s-1):t},lR=pt(Fu,!0),bv=pt(Fu,!1),y3=(e,t)=>{const n=s=>s.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},cR=e=>{e.execCommand("delete")},u_=e=>y3(e,"Delete"),x3=e=>y3(e,"ForwardDelete"),h2=e=>t=>Hd(Ua(t),e,Lo),uR=e=>Eb(e)||wm(e),p2=(e,t)=>$a(e,t)?Xs(t,uR,h2(e)):J.none(),d_=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},dR=(e,t,n)=>Ha(Un(n),Ru(n),(s,l)=>{const f=Fu(!0,s),g=Fu(!1,l),C=Fu(!1,t);return e?Dl(n,C).exists(A=>A.isEqual(g)&&t.isEqual(f)):yc(n,C).exists(A=>A.isEqual(f)&&t.isEqual(g))}).getOr(!0),Cd=e=>(bg(e)?oa(e):wu(e)).bind(Cd).orThunk(()=>J.some(e)),f_=(e,t,n,s=!0)=>{var l;t.deleteContents();const f=Cd(n).getOr(n),g=Be.fromDom((l=e.dom.getParent(f.dom,e.dom.isBlock))!==null&&l!==void 0?l:n.dom);if(g.dom===e.getBody()?d_(e,s):Ns(e.schema,g,{checkRootAsContent:!1})&&(pc(g),s&&e.selection.setCursorLocation(g.dom,0)),!Lo(n,g)){const C=Hd(Ua(g),n)?[]:qp(g);ge(C.concat(Wa(n)),A=>{!Lo(A,g)&&!$a(A,g)&&Ns(e.schema,A)&&fr(A)})}},p7=e=>t=>Lo(e,t),w3=e=>Js(e,"td,th"),lr=(e,t)=>wr(Be.fromDom(e),t),b7=e=>Ha(e.startTable,e.endTable,(t,n)=>{const s=a1(t,f=>Lo(f,n)),l=a1(n,f=>Lo(f,t));return!s&&!l?e:{...e,startTable:s?J.none():e.startTable,endTable:l?J.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),b2=e=>b7(e),v7=(e,t)=>{const n=lr(e.startContainer,t),s=lr(e.endContainer,t),l=n.isSome(),f=s.isSome(),g=Ha(n,s,Lo).getOr(!1);return b2({startTable:n,endTable:s,isStartInTable:l,isEndInTable:f,isSameTable:g,isMultiTable:!g&&l&&f})},m_=(e,t)=>({start:e,end:t}),up=(e,t,n)=>({rng:e,table:t,cells:n}),Zi=Mo.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),dp=(e,t)=>ka(Be.fromDom(e),"td,th",t),eh=e=>!Lo(e.start,e.end),Af=(e,t)=>wr(e.start,t).bind(n=>wr(e.end,t).bind(s=>mg(Lo(n,s),n))),v2=(e,t)=>!eh(e)&&Af(e,t).exists(n=>{const s=n.dom.rows;return s.length===1&&s[0].cells.length===1}),C3=(e,t)=>{const n=dp(e.startContainer,t),s=dp(e.endContainer,t);return Ha(n,s,m_)},_3=e=>t=>wr(t,e).bind(n=>po(w3(n)).map(s=>m_(t,s))),fR=e=>t=>wr(t,e).bind(n=>cn(w3(n)).map(s=>m_(s,t))),g_=e=>t=>Af(t,e).map(n=>up(t,n,w3(n))),mR=(e,t,n,s)=>{if(n.collapsed||!e.forall(eh))return J.none();if(t.isSameTable){const l=e.bind(g_(s));return J.some({start:l,end:l})}else{const l=dp(n.startContainer,s),f=dp(n.endContainer,s),g=l.bind(_3(s)).bind(g_(s)),C=f.bind(fR(s)).bind(g_(s));return J.some({start:g,end:C})}},gR=(e,t)=>Cn(e,n=>Lo(n,t)),h_=e=>Ha(gR(e.cells,e.rng.start),gR(e.cells,e.rng.end),(t,n)=>e.cells.slice(t,n+1)),hR=(e,t,n)=>e.exists(s=>v2(s,n)&&Bx(s.start,t)),S3=(e,t)=>{const{startTable:n,endTable:s}=t,l=e.cloneRange();return n.each(f=>l.setStartAfter(f.dom)),s.each(f=>l.setEndBefore(f.dom)),l},pR=(e,t,n,s)=>mR(e,t,n,s).bind(({start:l,end:f})=>l.or(f)).bind(l=>{const{isSameTable:f}=t,g=h_(l).getOr([]);if(f&&l.cells.length===g.length)return J.some(Zi.fullTable(l.table));if(g.length>0){if(f)return J.some(Zi.partialTable(g,J.none()));{const C=S3(n,t);return J.some(Zi.partialTable(g,J.some({...t,rng:C})))}}else return J.none()}),k3=(e,t,n,s)=>mR(e,t,n,s).bind(({start:l,end:f})=>{const g=l.bind(h_).getOr([]),C=f.bind(h_).getOr([]);if(g.length>0&&C.length>0){const A=S3(n,t);return J.some(Zi.multiTable(g,C,A))}else return J.none()}),y7=(e,t)=>{const n=p7(e),s=C3(t,n),l=v7(t,n);return hR(s,t,n)?s.map(f=>Zi.singleCellTable(t,f.start)):l.isMultiTable?k3(s,l,t,n):pR(s,l,t,n)},bR=e=>ge(e,t=>{bo(t,"contenteditable"),pc(t)}),x7=(e,t)=>J.from(e.dom.getParent(t,e.dom.isBlock)).map(Be.fromDom),Lm=(e,t,n)=>{n.each(s=>{t?fr(s):(pc(s),e.selection.setCursorLocation(s.dom,0))})},f0=(e,t,n,s)=>{const l=n.cloneRange();s?(l.setStart(n.startContainer,n.startOffset),l.setEndAfter(t.dom.lastChild)):(l.setStartBefore(t.dom.firstChild),l.setEnd(n.endContainer,n.endOffset)),T3(e,l,t,!1).each(f=>f())},E3=e=>{const t=Cf(e),n=Be.fromDom(e.selection.getNode());Dh(n.dom)&&Ns(e.schema,n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&xe(t,s=>Lo(s,n))&&na(n,"data-mce-selected","1")},A3=(e,t,n)=>J.some(()=>{const s=e.selection.getRng(),l=n.bind(({rng:f,isStartInTable:g})=>{const C=x7(e,g?f.endContainer:f.startContainer);f.deleteContents(),Lm(e,g,C.filter(pt(Ns,e.schema)));const A=g?t[0]:t[t.length-1];return f0(e,A,s,g),Ns(e.schema,A)?J.none():J.some(g?t.slice(1):t.slice(0,-1))}).getOr(t);bR(l),E3(e)}),vR=(e,t,n,s)=>J.some(()=>{const l=e.selection.getRng(),f=t[0],g=n[n.length-1];f0(e,f,l,!0),f0(e,g,l,!1);const C=Ns(e.schema,f)?t:t.slice(1),A=Ns(e.schema,g)?n:n.slice(0,-1);bR(C.concat(A)),s.deleteContents(),E3(e)}),T3=(e,t,n,s=!0)=>J.some(()=>{f_(e,t,n,s)}),fp=(e,t)=>J.some(()=>cl(e,!1,t)),w7=(e,t,n)=>y7(t,n).bind(s=>s.fold(pt(T3,e),pt(fp,e),pt(A3,e),pt(vR,e))),C7=(e,t)=>p_(e,t),_7=(e,t,n,s)=>O3(t,s).fold(()=>w7(e,t,n),l=>C7(e,l)),S7=(e,t,n)=>{const s=Be.fromDom(e.getBody()),l=e.selection.getRng();return n.length!==0?A3(e,n,J.none()):_7(e,s,l,t)},yR=(e,t)=>wn(_c(t,e),hc),O3=(e,t)=>wn(_c(t,e),Zd("caption")),k7=(e,t,n,s,l)=>qb(n,e.getBody(),l).bind(f=>yR(t,Be.fromDom(f.getNode())).bind(g=>Lo(g,s)?J.none():J.some(Pt))),p_=(e,t)=>J.some(()=>{pc(t),e.selection.setCursorLocation(t.dom,0)}),E7=(e,t,n,s)=>Un(e.dom).bind(l=>Ru(e.dom).map(f=>t?n.isEqual(l)&&s.isEqual(f):n.isEqual(f)&&s.isEqual(l))).getOr(!0),b_=(e,t)=>p_(e,t),A7=(e,t,n)=>O3(e,Be.fromDom(n.getNode())).fold(()=>J.some(Pt),s=>mg(!Lo(s,t),Pt)),y2=(e,t,n,s,l)=>qb(n,e.getBody(),l).fold(()=>J.some(Pt),f=>E7(s,n,l,f)?b_(e,s):A7(t,s,f)),D3=(e,t,n,s)=>{const l=mt.fromRangeStart(e.selection.getRng());return yR(n,s).bind(f=>Ns(e.schema,f,{checkRootAsContent:!1})?p_(e,f):k7(e,n,t,f,l))},m0=(e,t,n,s)=>{const l=mt.fromRangeStart(e.selection.getRng());return Ns(e.schema,s)?p_(e,s):y2(e,n,t,s,l)},mp=(e,t)=>e?zD(t):mv(t),v_=(e,t)=>{const n=mt.fromRangeStart(e.selection.getRng());return mp(t,n)||eu(t,e.getBody(),n).exists(s=>mp(t,s))},y_=(e,t,n)=>{const s=Be.fromDom(e.getBody());return O3(s,n).fold(()=>D3(e,t,s,n).orThunk(()=>mg(v_(e,t),Pt)),l=>m0(e,t,s,l))},th=(e,t)=>{const n=Be.fromDom(e.selection.getStart(!0)),s=Cf(e);return e.selection.isCollapsed()&&s.length===0?y_(e,t,n):S7(e,n,s)},zu=(e,t)=>{let n=t;for(;n&&n!==e;){if(cc(n)||eo(n))return n;n=n.parentNode}return null},x_=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],w_=Kt.each,C_=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),s=(f,g)=>{if(f.nodeName!==g.nodeName||f.nodeType!==g.nodeType)return!1;const C=F=>{const j={};return w_(t.getAttribs(F),q=>{const X=q.nodeName.toLowerCase();X!=="style"&&!l(X)&&(j[X]=t.getAttrib(F,X))}),j},A=(F,j)=>{for(const q in F)if(Gn(F,q)){const X=j[q];if(Ze(X)||F[q]!==X)return!1;delete j[q]}for(const q in j)if(Gn(j,q))return!1;return!0};return yn(f)&&yn(g)&&(!A(C(f),C(g))||!A(t.parseStyle(t.getAttrib(f,"style")),t.parseStyle(t.getAttrib(g,"style"))))?!1:!nu(f)&&!nu(g)},l=f=>xe(x_,g=>Kr(f,g))||n.has(f);return{compare:s,isAttributeInternal:l}},__=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),R3=e=>e.name==="summary",xR=(e,t)=>{let n=e;for(;n=n.walk();)t(n)},N3=(e,t,n,s)=>{const l=n.name;for(let f=0,g=e.length;f<g;f++){const C=e[f];if(C.name===l){const A=s.nodes[l];A?A.nodes.push(n):s.nodes[l]={filter:C,nodes:[n]}}}if(n.attributes)for(let f=0,g=t.length;f<g;f++){const C=t[f],A=C.name;if(A in n.attributes.map){const F=s.attributes[A];F?F.nodes.push(n):s.attributes[A]={filter:C,nodes:[n]}}}},vv=(e,t,n)=>{const s={nodes:{},attributes:{}};return n.firstChild&&xR(n,l=>{N3(e,t,l,s)}),s},I3=(e,t)=>{const n=(s,l)=>{Uo(s,f=>{const g=io(f.nodes);ge(f.filter.callbacks,C=>{for(let A=g.length-1;A>=0;A--){const F=g[A];(!(l?F.attr(f.filter.name)!==void 0:F.name===f.filter.name)||rt(F.parent))&&g.splice(A,1)}g.length>0&&C(g,f.filter.name,t)})})};n(e.nodes,!1),n(e.attributes,!0)},B3=(e,t,n,s={})=>{const l=vv(e,t,n);I3(l,s)},S_=(e,t,n,s)=>{if((e.pad_empty_with_br||t.insert)&&n(s)){const f=new fi("br",1);t.insert&&f.attr("data-mce-bogus","1"),s.empty().append(f)}else s.empty().append(new fi("#text",3)).value=da},k_=e=>{var t;return M3(e,"#text")&&((t=e==null?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===da},M3=(e,t)=>{const n=e==null?void 0:e.firstChild;return Ce(n)&&n===e.lastChild&&n.name===t},wR=(e,t)=>{const n=e.getElementRule(t.name);return(n==null?void 0:n.paddEmpty)===!0},yv=(e,t,n,s)=>s.isEmpty(t,n,l=>wR(e,l)),CR=(e,t)=>Ce(e)&&(t(e)||e.name==="br"),nh=e=>{let t;for(let n=e;n;n=n.parent){const s=n.attr("contenteditable");if(s==="false")break;s==="true"&&(t=n)}return J.from(t)},Fm=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const s=e.children();for(const l of s)n&&!t.isValidChild(n.name,l.name)&&Fm(l,t,n);e.unwrap()}},ru=(e,t,n,s=Pt)=>{const l=t.getTextBlockElements(),f=t.getNonEmptyElements(),g=t.getWhitespaceElements(),C=Kt.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),A=new Set,F=j=>j!==n&&!C[j.name];for(let j=0;j<e.length;j++){const q=e[j];let X,ue,we;if(!q.parent||A.has(q))continue;if(l[q.name]&&q.parent.name==="li"){let ke=q.next;for(;ke&&l[ke.name];){ke.name="li",A.add(ke),q.parent.insert(ke,q.parent);ke=ke.next}q.unwrap();continue}const fe=[q];for(X=q.parent;X&&!t.isValidChild(X.name,q.name)&&F(X);X=X.parent)fe.push(X);if(X&&fe.length>1)if(x2(t,q,X))Fm(q,t);else{fe.reverse(),ue=fe[0].clone(),s(ue);let ke=ue;for(let ze=0;ze<fe.length-1;ze++){t.isValidChild(ke.name,fe[ze].name)&&ze>0?(we=fe[ze].clone(),s(we),ke.append(we)):we=ke;for(let qe=fe[ze].firstChild;qe&&qe!==fe[ze+1];){const We=qe.next;we.append(qe),qe=We}ke=we}yv(t,f,g,ue)?X.insert(q,fe[0],!0):(X.insert(ue,fe[0],!0),X.insert(q,ue)),X=fe[0],(yv(t,f,g,X)||M3(X,"br"))&&X.empty().remove()}else if(q.parent){if(q.name==="li"){let ke=q.prev;if(ke&&(ke.name==="ul"||ke.name==="ol")){ke.append(q);continue}if(ke=q.next,ke&&(ke.name==="ul"||ke.name==="ol")&&ke.firstChild){ke.insert(q,ke.firstChild,!0);continue}const ze=new fi("ul",1);s(ze),q.wrap(ze);continue}if(t.isValidChild(q.parent.name,"div")&&t.isValidChild("div",q.name)){const ke=new fi("div",1);s(ke),q.wrap(ke)}else Fm(q,t)}}},P3=(e,t)=>{let n=e;for(;n;){if(n.name===t)return!0;n=n.parent}return!1},x2=(e,t,n=t.parent)=>n?e.children[t.name]&&!e.isValidChild(n.name,t.name)||t.name==="a"&&P3(n,"a")?!0:R3(n)&&__(t)?!((n==null?void 0:n.firstChild)===t&&(n==null?void 0:n.lastChild)===t):!1:!1,_R=(e,t,n,s)=>{const l=document.createRange();return l.setStart(e,t),l.setEnd(n,s),l},SR=e=>{const t=mt.fromRangeStart(e),n=mt.fromRangeEnd(e),s=e.commonAncestorContainer;return eu(!1,s,n).map(l=>!Om(t,n,s)&&Om(t,l,s)?_R(t.container(),t.offset(),l.container(),l.offset()):e).getOr(e)},E_=e=>e.collapsed?e:SR(e),L3=e=>Ce(e.firstChild)&&e.firstChild===e.lastChild,kR=e=>e.name==="br"||e.value===da,ER=(e,t)=>e.getBlockElements()[t.name]&&L3(t)&&kR(t.firstChild),F3=(e,t)=>{const n=e.getNonEmptyElements();return Ce(t)&&(t.isEmpty(n)||ER(e,t))},zm=(e,t)=>{let n=t.firstChild,s=t.lastChild;return n&&n.name==="meta"&&(n=n.next),s&&s.attr("id")==="mce_marker"&&(s=s.prev),F3(e,s)&&(s=s==null?void 0:s.prev),!n||n!==s?!1:n.name==="ul"||n.name==="ol"},_d=e=>{var t,n;const s=e.firstChild,l=e.lastChild;return s&&s.nodeName==="META"&&((t=s.parentNode)===null||t===void 0||t.removeChild(s)),l&&l.id==="mce_marker"&&((n=l.parentNode)===null||n===void 0||n.removeChild(l)),e},A_=(e,t,n)=>{const s=t.serialize(n),l=e.createFragment(s);return _d(l)},AR=e=>{var t;return Ct((t=e==null?void 0:e.childNodes)!==null&&t!==void 0?t:[],n=>n.nodeName==="LI")},T_=e=>e.data===da||ns(e),TR=e=>Ce(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&T_(e.firstChild),OR=e=>!e.firstChild||TR(e),DR=e=>e.length>0&&OR(e[e.length-1])?e.slice(0,-1):e,O_=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&n.nodeName==="LI"?n:null},RR=(e,t)=>!!O_(e,t),NR=(e,t)=>{const n=t.cloneRange(),s=t.cloneRange();return n.setStartBefore(e),s.setEndAfter(e),[n.cloneContents(),s.cloneContents()]},D_=(e,t)=>{const n=mt.before(e),l=zn(t).next(n);return l?l.toRange():null},R_=(e,t)=>{const n=mt.after(e),l=zn(t).prev(n);return l?l.toRange():null},IR=(e,t,n,s)=>{const l=NR(e,s),f=e.parentNode;return f&&(f.insertBefore(l[0],e),Kt.each(t,g=>{f.insertBefore(g,e)}),f.insertBefore(l[1],e),f.removeChild(e)),R_(t[t.length-1],n)},z3=(e,t,n)=>{const s=e.parentNode;return s&&Kt.each(t,l=>{s.insertBefore(l,e)}),D_(e,n)},T7=(e,t,n,s)=>(s.insertAfter(t.reverse(),e),R_(t[0],n)),O7=(e,t,n,s)=>{const l=A_(t,e,s),f=O_(t,n.startContainer),g=DR(AR(l.firstChild)),C=1,A=2,F=t.getRoot(),j=q=>{const X=mt.fromRangeStart(n),ue=zn(t.getRoot()),we=q===C?ue.prev(X):ue.next(X),fe=we==null?void 0:we.getNode();return fe?O_(t,fe)!==f:!0};return f?j(C)?z3(f,g,F):j(A)?T7(f,g,F,t):IR(f,g,F,n):null},D7=["pre"],R7=(e,t,n,s)=>{var l;const f=t.firstChild,g=t.lastChild,C=g.attr("data-mce-type")==="bookmark"?g.prev:g,A=f===C,F=le(D7,f.name);if(A&&F){const j=f.attr("contenteditable")!=="false",q=((l=e.getParent(n,e.isBlock))===null||l===void 0?void 0:l.nodeName.toLowerCase())===f.name,X=J.from(zu(s,n)).forall(cc);return j&&q&&X}else return!1},H3=Dh,N7=(e,t,n)=>{if(Ce(n)){const s=e.getParent(t.endContainer,H3);return n===s&&Bx(Be.fromDom(n),t)}else return!1},N_=(e,t,n)=>{var s;if(n.getAttribute("data-mce-bogus")==="all")(s=n.parentNode)===null||s===void 0||s.insertBefore(e.dom.createFragment(t),n);else{const l=n.firstChild,f=n.lastChild;!l||l===f&&l.nodeName==="BR"?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})}},V3=(e,t,n)=>{J.from(e.getParent(t,"td,th")).map(Be.fromDom).each(s=>rx(s,n))},BR=(e,t)=>{const n=e.schema.getTextInlineElements(),s=e.dom;if(t){const l=e.getBody(),f=C_(e),g="*[data-mce-fragment]",C=s.select(g);Kt.each(C,A=>{const F=X=>Ce(n[X.nodeName.toLowerCase()]),j=X=>X.childNodes.length===1;if((X=>!(JE(s,X)||BD(s,X)))(A)&&F(A)&&j(A)){const X=a0(s,A),ue=(ze,qe)=>vo(ze,We=>le(qe,We)),we=ze=>j(A)&&s.is(ze,g)&&F(ze)&&(ze.nodeName===A.nodeName&&ue(X,a0(s,ze))||we(ze.children[0])),fe=ze=>Ce(ze)&&ze!==l&&(f.compare(A,ze)||fe(ze.parentElement)),ke=ze=>Ce(ze)&&ze!==l&&s.is(ze,g)&&(s7(s,A,ze)||ke(ze.parentElement));(we(A.children[0])||fe(A.parentElement)&&!ke(A.parentElement))&&s.remove(A,!0)}})}},$3=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},I7=e=>{Kt.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},B7=e=>!!e.getAttribute("data-mce-fragment"),M7=(e,t)=>Ce(t)&&!e.schema.getVoidElements()[t.nodeName],P7=(e,t)=>{var n,s,l;let f;const g=e.dom,C=e.selection;if(!t)return;C.scrollIntoView(t);const A=zu(e.getBody(),t);if(A&&g.getContentEditable(A)==="false"){g.remove(t),C.select(A);return}let F=g.createRng();const j=t.previousSibling;if(Mt(j)){F.setStart(j,(s=(n=j.nodeValue)===null||n===void 0?void 0:n.length)!==null&&s!==void 0?s:0);const ue=t.nextSibling;Mt(ue)&&(j.appendData(ue.data),(l=ue.parentNode)===null||l===void 0||l.removeChild(ue))}else F.setStartBefore(t),F.setEndBefore(t);const q=ue=>{let we=mt.fromRangeStart(ue);return we=zn(e.getBody()).next(we),we==null?void 0:we.toRange()},X=g.getParent(t,g.isBlock);if(g.remove(t),X&&g.isEmpty(X)){const ue=H3(X);Lr(Be.fromDom(X)),F.setStart(X,0),F.setEnd(X,0),!ue&&!B7(X)&&(f=q(F))?(F=f,g.remove(X)):g.add(X,g.create("br",ue?{}:{"data-mce-bogus":"1"}))}C.setRng(F)},L7=e=>{const t=e.dom,n=E_(e.selection.getRng());e.selection.setRng(n);const s=t.getParent(n.startContainer,H3);N7(t,n,s)?T3(e,n,Be.fromDom(s)):n.startContainer===n.endContainer&&n.endOffset-n.startOffset===1&&Mt(n.startContainer.childNodes[n.startOffset])?n.deleteContents():e.getDoc().execCommand("Delete",!1)},F7=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return J.some(t);return J.none()},I_=(e,t,n)=>{var s;return xe(n.children(),__)&&((s=e.getParent(t,e.isBlock))===null||s===void 0?void 0:s.nodeName)==="SUMMARY"},B_=(e,t,n)=>{var s,l;const f=e.selection,g=e.dom,C=e.parser,A=n.merge,F=Jg({validate:!0},e.schema),j='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.preserve_zwsp||(t=il(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,j);let q=f.getRng();const X=q.startContainer,ue=e.getBody();X===ue&&f.isCollapsed()&&g.isBlock(ue.firstChild)&&M7(e,ue.firstChild)&&g.isEmpty(ue.firstChild)&&(q=g.createRng(),q.setStart(ue.firstChild,0),q.setEnd(ue.firstChild,0),f.setRng(q)),f.isCollapsed()||L7(e);const we=f.getNode(),fe={context:we.nodeName.toLowerCase(),data:n.data,insert:!0},ke=C.parse(t,fe);if(n.paste===!0&&zm(e.schema,ke)&&RR(g,we))return q=O7(F,g,f.getRng(),ke),q&&f.setRng(q),t;n.paste===!0&&R7(g,ke,we,e.getBody())&&((s=ke.firstChild)===null||s===void 0||s.unwrap()),$3(ke);let ze=ke.lastChild;if(ze&&ze.attr("id")==="mce_marker"){const qe=ze;for(ze=ze.prev;ze;ze=ze.walk(!0))if(ze.type===3||!g.isBlock(ze.name)){ze.parent&&e.schema.isValidChild(ze.parent.name,"span")&&ze.parent.insert(qe,ze,ze.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(we),!fe.invalid&&!I_(g,we,ke))t=F.serialize(ke),N_(e,t,we);else{e.selection.setContent(j);let qe=f.getNode(),We;const st=e.getBody();for(Sn(qe)?qe=We=st:We=qe;We&&We!==st;)qe=We,We=We.parentNode;t=qe===st?st.innerHTML:g.getOuterHTML(qe);const Nt=C.parse(t),jt=F7(Nt),un=jt.bind(nh).getOr(Nt);jt.each(pn=>pn.replace(ke));const wt=ke.children(),dt=(l=ke.parent)!==null&&l!==void 0?l:Nt;ke.unwrap();const Dt=Ct(wt,pn=>x2(e.schema,pn,dt));ru(Dt,e.schema,un),B3(C.getNodeFilters(),C.getAttributeFilters(),Nt),t=F.serialize(Nt),qe===st?g.setHTML(st,t):g.setOuterHTML(qe,t)}return BR(e,A),P7(e,g.get("mce_marker")),I7(e.getBody()),V3(g,f.getStart(),e.schema),cd(e.schema,e.getBody(),f.getStart()),t},g0=e=>e instanceof fi,z7=e=>{lv(e)&&Un(e.getBody()).each(t=>{const n=t.getNode(),s=Wc(n)?Un(n).getOr(t):t;e.selection.setRng(s.toRange())})},U3=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),n!==!0&&z7(e)},H7=(e,t,n,s)=>{if(n=il(n),n.length===0||/^\s+$/.test(n)){const l='<br data-mce-bogus="1">';t.nodeName==="TABLE"?n="<tr><td>"+l+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+l+"</li>");const f=Ui(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),f.toLowerCase())?(n=l,n=e.dom.createHTML(f,px(e),n)):n||(n=l),U3(e,n,s.no_selection),{content:n,html:n}}else{s.format!=="raw"&&(n=Jg({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const l=Tb(Be.fromDom(t))?n:Kt.trim(n);return U3(e,l,s.no_selection),{content:l,html:l}}},V7=(e,t,n,s)=>{B3(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const l=Jg({validate:!1},e.schema).serialize(n),f=il(Tb(Be.fromDom(t))?l:Kt.trim(l));return U3(e,f,s.no_selection),{content:n,html:f}},$7=(e,t,n)=>J.from(e.getBody()).map(s=>g0(t)?V7(e,s,t,n):H7(e,s,t,n)).getOr({content:t,html:g0(n.content)?"":n.content}),MR=e=>Re(e)?e:xn,Sd=(e,t,n)=>{let s=e.dom;const l=MR(n);for(;s.parentNode;){s=s.parentNode;const f=Be.fromDom(s),g=t(f);if(g.isSome())return g;if(l(f))break}return J.none()},w2=(e,t,n)=>{const s=t(e),l=MR(n);return s.orThunk(()=>l(e)?J.none():Sd(e,t,l))},M_=rv,W3=(e,t,n)=>{const s=e.formatter.get(n);if(s)for(let l=0;l<s.length;l++){const f=s[l];if(xc(f)&&f.inherit===!1&&e.dom.is(t,f.selector))return!0}return!1},P_=(e,t,n,s,l)=>{const f=e.dom.getRoot();if(t===f)return!1;const g=e.dom.getParent(t,C=>W3(e,C,n)?!0:C.parentNode===f||!!Hm(e,C,n,s,!0));return!!Hm(e,g,n,s,l)},L_=(e,t,n)=>Xa(n)&&M_(t,n.inline)||_f(n)&&M_(t,n.block)?!0:xc(n)?yn(t)&&e.is(t,n.selector):!1,Z3=(e,t,n,s,l,f)=>{const g=n[s],C=s==="attributes";if(Re(n.onmatch))return n.onmatch(t,n,s);if(g){if(Qt(g)){for(let A=0;A<g.length;A++)if(C?e.getAttrib(t,g[A]):Px(e,t,g[A]))return!0}else for(const A in g)if(Gn(g,A)){const F=C?e.getAttrib(t,A):Px(e,t,A),j=Kg(g[A],f),q=rt(F)||Lt(F);if(q&&rt(j))continue;if(l&&q&&!n.exact||(!l||n.exact)&&!M_(F,AC(j,A)))return!1}}return!0},Hm=(e,t,n,s,l)=>{const f=e.formatter.get(n),g=e.dom;if(f&&yn(t))for(let C=0;C<f.length;C++){const A=f[C];if(L_(e.dom,t,A)&&Z3(g,t,A,"attributes",l,s)&&Z3(g,t,A,"styles",l,s)){const F=A.classes;if(F){for(let j=0;j<F.length;j++)if(!e.dom.hasClass(t,Kg(F[j],s)))return}return A}}},gp=(e,t,n,s,l)=>{if(s)return P_(e,s,t,n,l);if(s=e.selection.getNode(),P_(e,s,t,n,l))return!0;const f=e.selection.getStart();return!!(f!==s&&P_(e,f,t,n,l))},PR=(e,t,n)=>{const s=[],l={},f=e.selection.getStart();return e.dom.getParent(f,g=>{for(let C=0;C<t.length;C++){const A=t[C];!l[A]&&Hm(e,g,A,n)&&(l[A]=!0,s.push(A))}},e.dom.getRoot()),s},LR=(e,t)=>{const n=l=>Lo(l,Be.fromDom(e.getBody())),s=(l,f)=>Hm(e,l.dom,f)?J.some(f):J.none();return J.from(e.selection.getStart(!0)).bind(l=>w2(Be.fromDom(l),f=>$r(t,g=>s(f,g)),n)).getOrNull()},FR=(e,t)=>{const n=e.formatter.get(t),s=e.dom;if(n&&e.selection.isEditable()){const l=e.selection.getStart(),f=Lx(s,l);for(let g=n.length-1;g>=0;g--){const C=n[g];if(!xc(C))return!0;for(let A=f.length-1;A>=0;A--)if(s.is(f[A],C.selector))return!0}}return!1},j3=(e,t,n)=>It(n,(s,l)=>{const f=k5(e,l);return e.formatter.matchNode(t,l,{},f)?s.concat([l]):s},[]),C2=sa,U7=(e,t)=>e.importNode(t,!0),zR=e=>{if(e){const t=new Za(e,e);for(let n=t.current();n;n=t.next())if(Mt(n))return n}return null},Vm=e=>{const t=Be.fromTag("span");return yi(t,{id:Q1,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Ds(t,Be.fromText(C2)),t},K3=e=>{const t=zR(e);return t&&t.data.charAt(0)===C2&&t.deleteData(0,1),t},q3=(e,t,n)=>{const s=e.dom,l=e.selection;if(pE(t))cl(e,!1,Be.fromDom(t),n,!0);else{const f=l.getRng(),g=s.getParent(t,s.isBlock),C=f.startContainer,A=f.startOffset,F=f.endContainer,j=f.endOffset,q=K3(t);s.remove(t,!0),C===q&&A>0&&f.setStart(q,A-1),F===q&&j>0&&f.setEnd(q,j-1),g&&s.isEmpty(g)&&pc(Be.fromDom(g)),l.setRng(f)}},G3=(e,t,n)=>{const s=e.dom,l=e.selection;if(t)q3(e,t,n);else if(t=Yh(e.getBody(),l.getStart()),!t)for(;t=s.get(Q1);)q3(e,t,n)},h0=(e,t,n)=>{var s,l;const f=e.dom,g=f.getParent(n,pt(EC,e.schema));g&&f.isEmpty(g)?(s=n.parentNode)===null||s===void 0||s.replaceChild(t,n):(Hl(Be.fromDom(n)),f.isEmpty(n)?(l=n.parentNode)===null||l===void 0||l.replaceChild(t,n):f.insertAfter(t,n))},Y3=(e,t)=>(e.appendChild(t),t),_2=(e,t)=>{var n;const s=zt(e,(f,g)=>Y3(f,g.cloneNode(!1)),t),l=(n=s.ownerDocument)!==null&&n!==void 0?n:document;return Y3(s,l.createTextNode(C2))},W7=(e,t,n,s,l,f)=>{const g=e.formatter,C=e.dom,A=Ct(Vt(g.get()),q=>q!==s&&!vr(q,"removeformat")),F=j3(e,n,A);if(Ct(F,q=>!E5(e,q,s)).length>0){const q=n.cloneNode(!1);return C.add(t,q),g.remove(s,l,q,f),C.remove(q),J.some(q)}else return J.none()},HR=e=>_b(e,xm(e).replace(new RegExp(`${da}$`)," ")),X3=(e,t)=>{const n=()=>{t!==null&&!e.dom.isEmpty(t)&&oa(Be.fromDom(t)).each(s=>{qr(s)?HR(s):Sa(s,l=>qr(l)).each(l=>{qr(l)&&HR(l)})})};e.once("input",s=>{s.data&&!Yb(s.data)&&(s.isComposing?e.once("compositionend",()=>{n()}):n())})},oh=(e,t,n)=>{let s;const l=e.selection,f=e.formatter.get(t);if(!f)return;const g=l.getRng();let C=g.startOffset;const F=g.startContainer.nodeValue;s=Yh(e.getBody(),l.getStart());const j=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(F&&C>0&&C<F.length&&j.test(F.charAt(C))&&j.test(F.charAt(C-1))){const q=l.getBookmark();g.collapse(!0);let X=Qh(e.dom,g,f);X=Qx(X),e.formatter.apply(t,n,X),l.moveToBookmark(q)}else{let q=s?zR(s):null;(!s||(q==null?void 0:q.data)!==C2)&&(s=U7(e.getDoc(),Vm(!0).dom),q=s.firstChild,g.insertNode(s),C=1,X3(e,s)),e.formatter.apply(t,n,s),l.setCursorLocation(q,C)}},J3=(e,t,n,s)=>{const l=e.dom,f=e.selection;let g=!1;const C=e.formatter.get(t);if(!C)return;const A=f.getRng(),F=A.startContainer,j=A.startOffset;let q=F;Mt(F)&&(j!==F.data.length&&(g=!0),q=q.parentNode);const X=[];let ue;for(;q;){if(Hm(e,q,t,n,s)){ue=q;break}q.nextSibling&&(g=!0),X.push(q),q=q.parentNode}if(ue)if(g){const we=f.getBookmark();A.collapse(!0);let fe=Qh(l,A,C,!0);fe=Qx(fe),e.formatter.remove(t,n,fe,s),f.moveToBookmark(we)}else{const we=Yh(e.getBody(),ue),fe=Ce(we)?l.getParents(ue.parentNode,Rn,we):[],ke=Vm(!1).dom;h0(e,ke,we??ue);const ze=W7(e,ke,ue,t,n,s),qe=_2([...X,...ze.toArray(),...fe],ke);we&&q3(e,we,Ce(we)),f.setCursorLocation(qe,1),X3(e,ke),l.isEmpty(ue)&&l.remove(ue)}},Q3=(e,t,n)=>{const s=e.selection,l=e.getBody();G3(e,null,n),(t===8||t===46)&&s.isCollapsed()&&s.getStart().innerHTML===C2&&G3(e,Yh(l,s.getStart()),!0),(t===37||t===39)&&G3(e,Yh(l,s.getStart()),!0)},eA=e=>Mt(e)&&Se(e.data,da),VR=e=>{e.on("mouseup keydown",t=>{Q3(e,t.keyCode,eA(e.selection.getRng().endContainer))})},tA=e=>{const t=Vm(!1),n=_2(e,t.dom);return{caretContainer:t,caretPosition:mt(n,0)}},nA=(e,t)=>{const{caretContainer:n,caretPosition:s}=tA(t);return gs(Be.fromDom(e),n),fr(Be.fromDom(e)),s},Z7=(e,t)=>{const{caretContainer:n,caretPosition:s}=tA(t);return e.insertNode(n.dom),s},xv=(e,t)=>{if(tu(t.dom))return!1;const n=e.schema.getTextInlineElements();return Gn(n,Po(t))&&!tu(t.dom)&&!Qd(t.dom)},hp={},oA=ja(["pre"]),$R=(e,t)=>{hp[e]||(hp[e]=[]),hp[e].push(t)},UR=(e,t)=>{Gn(hp,e)&&ge(hp[e],n=>{n(t)})};$R("pre",e=>{const t=e.selection.getRng(),n=l=>f=>{const g=f.previousSibling;return oA(g)&&le(l,g)},s=(l,f)=>{const g=Be.fromDom(f),C=Ml(g).dom;fr(g),Hs(Be.fromDom(l),[Be.fromTag("br",C),Be.fromTag("br",C),...Wa(g)])};if(!t.collapsed){const l=e.selection.getSelectedBlocks(),f=Ct(Ct(l,oA),n(l));ge(f,g=>{s(g.previousSibling,g)})}});const rA=["fontWeight","fontStyle","color","fontSize","fontFamily"],F_=e=>re(e.styles)&&xe(Vt(e.styles),t=>le(rA,t)),sA=e=>wn(e,t=>Xa(t)&&t.inline==="span"&&F_(t)),wv=(e,t)=>{const n=e.get(t);return oe(n)?sA(n):J.none()},WR=(e,t)=>yc(t,mt.fromRangeStart(e)).isNone(),aA=(e,t)=>Dl(t,mt.fromRangeEnd(e)).exists(n=>!ns(n.getNode())||Dl(t,n).isSome())===!1,ZR=e=>t=>Ay(t)&&e.isEditable(t),j7=e=>{const t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return WR(n,t[0])&&aA(n,t[0])?t:[];{const s=cn(t).filter(g=>WR(n,g)).toArray(),l=po(t).filter(g=>aA(n,g)).toArray(),f=t.slice(1,-1);return s.concat(f).concat(l)}},jR=e=>Ct(j7(e),ZR(e.dom)),iA=e=>Ct(e.getSelectedBlocks(),ZR(e.dom)),lA=Kt.each,z_=e=>yn(e)&&!nu(e)&&!tu(e)&&!Qd(e),pp=(e,t)=>{for(let n=e;n;n=n[t]){if(Mt(n)&&je(n.data))return e;if(yn(n)&&!nu(n))return n}return e},cA=(e,t,n)=>{const s=C_(e),l=Uc(t)&&e.dom.isEditable(t),f=Uc(n)&&e.dom.isEditable(n);if(l&&f){const g=pp(t,"previousSibling"),C=pp(n,"nextSibling");if(s.compare(g,C)){for(let A=g.nextSibling;A&&A!==C;){const F=A;A=A.nextSibling,g.appendChild(F)}return e.dom.remove(C),Kt.each(Kt.grep(C.childNodes),A=>{g.appendChild(A)}),g}}return n},H_=(e,t,n,s)=>{var l;if(s&&t.merge_siblings!==!1){const f=(l=cA(e,Xb(s),s))!==null&&l!==void 0?l:s;cA(e,f,Xb(f,!0))}},KR=(e,t,n)=>{if(t.clear_child_styles){const s=t.links?"*:not(a)":"*";lA(e.select(s,n),l=>{z_(l)&&e.isEditable(l)&&lA(t.styles,(f,g)=>{e.setStyle(l,g,"")})})}},S2=(e,t,n)=>{lA(e.childNodes,s=>{z_(s)&&(t(s)&&n(s),s.hasChildNodes()&&S2(s,t,n))})},bp=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},uA=(e,t)=>n=>!!(n&&Px(e,n,t)),su=(e,t,n)=>s=>{e.setStyle(s,t,n),s.getAttribute("style")===""&&s.removeAttribute("style"),bp(e,s)},Hu=Mo.generate([{keep:[]},{rename:["name"]},{removed:[]}]),dA=/^(src|href|style)$/,V_=Kt.each,$_=rv,qR=e=>/^(TR|TH|TD)$/.test(e.nodeName),p0=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),k2=(e,t,n)=>{let s=t[n?"startContainer":"endContainer"],l=t[n?"startOffset":"endOffset"];if(yn(s)){const f=s.childNodes.length-1;!n&&l&&l--,s=s.childNodes[l>f?f:l]}return Mt(s)&&n&&l>=s.data.length&&(s=new Za(s,e.getBody()).next()||s),Mt(s)&&!n&&l===0&&(s=new Za(s,e.getBody()).prev()||s),s},fA=(e,t)=>{const n=t?"firstChild":"lastChild",s=e[n];return qR(e)&&s?e.nodeName==="TR"&&s[n]||s:e},U_=(e,t,n,s)=>{var l;const f=e.create(n,s);return(l=t.parentNode)===null||l===void 0||l.insertBefore(f,t),f.appendChild(t),f},W_=(e,t,n,s,l)=>{const f=Be.fromDom(t),g=Be.fromDom(e.create(s,l)),C=n?nm(f):yu(f);return Hs(g,C),n?(gs(f,g),_i(g,f)):(et(f,g),Ds(g,f)),g.dom},K7=(e,t)=>t.links&&e.nodeName==="A",GR=(e,t,n)=>{const s=t.parentNode;let l;const f=e.dom,g=Ui(e);_f(n)&&s===f.getRoot()&&(!n.list_block||!$_(t,n.list_block))&&ge(io(t.childNodes),C=>{Xh(e,g,C.nodeName.toLowerCase())?l?l.appendChild(C):(l=U_(f,C,g),f.setAttribs(l,px(e))):l=null}),!(O5(n)&&!$_(n.inline,t))&&f.remove(t,!0)},mA=(e,t,n)=>R(e)?{name:t,value:null}:{name:e,value:Kg(t,n)},YR=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},Sc=(e,t,n,s,l)=>{let f=!1;V_(n.styles,(g,C)=>{const{name:A,value:F}=mA(C,g,s),j=AC(F,A);(n.remove_similar||Ge(F)||!yn(l)||$_(Px(e,l,A),j))&&e.setStyle(t,A,""),f=!0}),f&&YR(e,t)},gA=(e,t,n)=>{t==="removeformat"?ge(iA(e.selection),s=>{ge(rA,l=>e.dom.setStyle(s,l,"")),YR(e.dom,s)}):wv(e.formatter,t).each(s=>{ge(iA(e.selection),l=>Sc(e.dom,l,s,n,null))})},hA=(e,t,n,s,l)=>{const f=e.dom,g=C_(e),C=e.schema;if(Xa(t)&&sb(C,t.inline)&&of(C,s)&&s.parentElement===e.getBody())return GR(e,s,t),Hu.removed();if(!t.ceFalseOverride&&s&&f.getContentEditableParent(s)==="false"||s&&!L_(f,s,t)&&!K7(s,t))return Hu.keep();const A=s,F=t.preserve_attributes;if(Xa(t)&&t.remove==="all"&&oe(F)){const j=Ct(f.getAttribs(A),q=>le(F,q.name.toLowerCase()));if(f.removeAllAttribs(A),ge(j,q=>f.setAttrib(A,q.name,q.value)),j.length>0)return Hu.rename("span")}if(t.remove!=="all"){Sc(f,A,t,n,l),V_(t.attributes,(q,X)=>{const{name:ue,value:we}=mA(X,q,n);if(t.remove_similar||Ge(we)||!yn(l)||$_(f.getAttrib(l,ue),we)){if(ue==="class"){const fe=f.getAttrib(A,ue);if(fe){let ke="";if(ge(fe.split(/\s+/),ze=>{/mce\-\w+/.test(ze)&&(ke+=(ke?" ":"")+ze)}),ke){f.setAttrib(A,ue,ke);return}}}if(dA.test(ue)&&A.removeAttribute("data-mce-"+ue),ue==="style"&&ja(["li"])(A)&&f.getStyle(A,"list-style-type")==="none"){A.removeAttribute(ue),f.setStyle(A,"list-style-type","none");return}ue==="class"&&A.removeAttribute("className"),A.removeAttribute(ue)}}),V_(t.classes,q=>{q=Kg(q,n),(!yn(l)||f.hasClass(l,q))&&f.removeClass(A,q)});const j=f.getAttribs(A);for(let q=0;q<j.length;q++){const X=j[q].nodeName;if(!g.isAttributeInternal(X))return Hu.keep()}}return t.remove!=="none"?(GR(e,A,t),Hu.removed()):Hu.keep()},pA=(e,t,n,s,l)=>{let f;return t.parentNode&&ge(Lx(e.dom,t.parentNode).reverse(),g=>{if(!f&&yn(g)&&g.id!=="_start"&&g.id!=="_end"){const C=Hm(e,g,n,s,l);C&&C.split!==!1&&(f=g)}}),f},XR=(e,t,n,s)=>hA(e,t,n,s,s).fold(Qe(s),l=>(e.dom.createFragment().appendChild(s),e.dom.rename(s,l)),Qe(null)),E2=(e,t,n,s,l,f,g,C)=>{var A,F;let j,q;const X=e.dom;if(n){const ue=n.parentNode;for(let we=s.parentNode;we&&we!==ue;we=we.parentNode){let fe=X.clone(we,!1);for(let ke=0;ke<t.length&&(fe=XR(e,t[ke],C,fe),fe!==null);ke++);fe&&(j&&fe.appendChild(j),q||(q=fe),j=fe)}(!g.mixed||!X.isBlock(n))&&(s=(A=X.split(n,s))!==null&&A!==void 0?A:s),j&&q&&((F=l.parentNode)===null||F===void 0||F.insertBefore(j,l),q.appendChild(l),Xa(g)&&H_(e,g,C,j))}return s},rh=(e,t,n,s,l)=>{const f=e.formatter.get(t),g=f[0],C=e.dom,A=e.selection,F=fe=>{const ke=pA(e,fe,t,n,l);return E2(e,f,ke,fe,fe,!0,g,n)},j=fe=>nu(fe)&&yn(fe)&&(fe.id==="_start"||fe.id==="_end"),q=fe=>xe(f,ke=>yp(e,ke,n,fe,fe)),X=fe=>{const ke=io(fe.childNodes),qe=q(fe)||xe(f,Nt=>L_(C,fe,Nt)),We=fe.parentNode;if(!qe&&Ce(We)&&OC(g)&&q(We),g.deep&&ke.length)for(let Nt=0;Nt<ke.length;Nt++)X(ke[Nt]);ge(["underline","line-through","overline"],Nt=>{yn(fe)&&e.dom.getStyle(fe,"text-decoration")===Nt&&fe.parentNode&&hE(C,fe.parentNode)===Nt&&yp(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Nt}},void 0,fe)})},ue=fe=>{const ke=C.get(fe?"_start":"_end");if(ke){let ze=ke[fe?"firstChild":"lastChild"];return j(ze)&&(ze=ze[fe?"firstChild":"lastChild"]),Mt(ze)&&ze.data.length===0&&(ze=fe?ke.previousSibling||ke.nextSibling:ke.nextSibling||ke.previousSibling),C.remove(ke,!0),ze}else return null},we=fe=>{let ke,ze,qe=Qh(C,fe,f,fe.collapsed);if(g.split){if(qe=Qx(qe),ke=k2(e,qe,!0),ze=k2(e,qe),ke!==ze){if(ke=fA(ke,!0),ze=fA(ze,!1),p0(C,ke,ze)){const st=J.from(ke.firstChild).getOr(ke);F(W_(C,st,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ue(!0);return}if(p0(C,ze,ke)){const st=J.from(ze.lastChild).getOr(ze);F(W_(C,st,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ue(!1);return}ke=U_(C,ke,"span",{id:"_start","data-mce-type":"bookmark"}),ze=U_(C,ze,"span",{id:"_end","data-mce-type":"bookmark"});const We=C.createRng();We.setStartAfter(ke),We.setEndBefore(ze),Vx(C,We,st=>{ge(st,Nt=>{!nu(Nt)&&!nu(Nt.parentNode)&&F(Nt)})}),F(ke),F(ze),ke=ue(!0),ze=ue()}else ke=ze=F(ke);qe.startContainer=ke.parentNode?ke.parentNode:ke,qe.startOffset=C.nodeIndex(ke),qe.endContainer=ze.parentNode?ze.parentNode:ze,qe.endOffset=C.nodeIndex(ze)+1}Vx(C,qe,We=>{ge(We,X)})};if(s){if(ov(s)){const fe=C.createRng();fe.setStartBefore(s),fe.setEndAfter(s),we(fe)}else we(s);F5(e,t,s,n);return}!A.isCollapsed()||!Xa(g)||Cf(e).length?(fE(e,()=>nv(e,we),fe=>Xa(g)&&gp(e,t,n,fe)),e.nodeChanged()):J3(e,t,n,l),gA(e,t,n),F5(e,t,s,n)},vp=(e,t,n,s,l)=>{(s||e.selection.isEditable())&&rh(e,t,n,s,l)},yp=(e,t,n,s,l)=>hA(e,t,n,s,l).fold(xn,f=>(e.dom.rename(s,f),!0),Rn),Z_=Kt.each,bA=(e,t,n,s)=>{const l=f=>{if(Uc(f)&&yn(f.parentNode)&&e.isEditable(f)){const g=hE(e,f.parentNode);e.getStyle(f,"color")&&g?e.setStyle(f,"text-decoration",g):e.getStyle(f,"text-decoration")===g&&e.setStyle(f,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(Kt.walk(s,l,"childNodes"),l(s))},JR=(e,t,n,s)=>{if(t.styles&&t.styles.backgroundColor){const l=uA(e,"fontSize");S2(s,f=>l(f)&&e.isEditable(f),su(e,"backgroundColor",Kg(t.styles.backgroundColor,n)))}},q7=(e,t,n,s)=>{if(Xa(t)&&(t.inline==="sub"||t.inline==="sup")){const l=uA(e,"fontSize");S2(s,g=>l(g)&&e.isEditable(g),su(e,"fontSize",""));const f=Ct(e.select(t.inline==="sup"?"sub":"sup",s),e.isEditable);e.remove(f,!0)}},QR=(e,t,n,s)=>{Z_(t,l=>{Xa(l)&&Z_(e.dom.select(l.inline,s),f=>{z_(f)&&yp(e,l,n,f,l.exact?f:null)}),KR(e.dom,l,s)})},eN=(e,t,n,s,l)=>{const f=l.parentNode;Hm(e,f,n,s)&&yp(e,t,s,l)||t.merge_with_parents&&f&&e.dom.getParent(f,g=>Hm(e,g,n,s)?(yp(e,t,s,l),!0):!1)},A2=Kt.each,tN=(e,t,n,s)=>{if(VM(e)&&Xa(t)&&n.parentNode){const l=v1(e.schema),f=Jp(Be.fromDom(n),g=>tu(g.dom));return El(l,s)&&Fl(e.schema,n.parentNode,{skipBogus:!1,includeZwsp:!0})&&!f}else return!1},nN=(e,t,n,s)=>{if(A2(n.styles,(l,f)=>{e.setStyle(t,f,Kg(l,s))}),n.styles){const l=e.getAttrib(t,"style");l&&e.setAttrib(t,"data-mce-style",l)}},G7=(e,t,n,s)=>{const l=e.formatter.get(t),f=l[0],g=!s&&e.selection.isCollapsed(),C=e.dom,A=e.selection,F=(we,fe=f)=>{Re(fe.onformat)&&fe.onformat(we,fe,n,s),nN(C,we,fe,n),A2(fe.attributes,(ke,ze)=>{C.setAttrib(we,ze,Kg(ke,n))}),A2(fe.classes,ke=>{const ze=Kg(ke,n);C.hasClass(we,ze)||C.addClass(we,ze)})},j=(we,fe)=>{let ke=!1;return A2(we,ze=>xc(ze)?C.getContentEditable(fe)==="false"&&!ze.ceFalseOverride||Ce(ze.collapsed)&&ze.collapsed!==g?!0:C.is(fe,ze.selector)&&!tu(fe)?(F(fe,ze),ke=!0,!1):!0:!1),ke},q=we=>{if(Ie(we)){const fe=C.create(we);return F(fe),fe}else return null},X=(we,fe,ke)=>{const ze=[];let qe=!0;const We=f.inline||f.block,st=q(We),Nt=wt=>A5(f)&&Hm(e,wt,t,n),jt=(wt,dt,Dt)=>{const pn=T5(f)&&EC(e.schema,wt)&&Xh(e,dt,We);return Dt&&pn},un=(wt,dt,Dt,pn)=>{const Nn=wt.nodeName.toLowerCase(),yo=Xh(e,We,Nn)&&Xh(e,dt,We),To=!ke&&Mt(wt)&&bc(wt.data),mr=tu(wt),Ar=!Xa(f)||!we.isBlock(wt);return(Dt||pn)&&yo&&!To&&!mr&&Ar};Vx(we,fe,wt=>{let dt;const Dt=pn=>{let Nn=!1,yo=qe,To=!1;const mr=pn.parentNode,Ar=mr.nodeName.toLowerCase(),Gs=we.getContentEditable(pn);Ce(Gs)&&(yo=qe,qe=Gs==="true",Nn=!0,To=gE(e,pn));const fl=qe&&!Nn;if(ns(pn)&&!tN(e,f,pn,Ar)){dt=null,_f(f)&&we.remove(pn);return}if(Nt(pn)){dt=null;return}if(jt(pn,Ar,fl)){const Br=we.rename(pn,We);F(Br),ze.push(Br),dt=null;return}if(xc(f)){let Br=j(l,pn);if(!Br&&Ce(mr)&&OC(f)&&(Br=j(l,mr)),!Xa(f)||Br){dt=null;return}}Ce(st)&&un(pn,Ar,fl,To)?(dt||(dt=we.clone(st,!1),mr.insertBefore(dt,pn),ze.push(dt)),To&&Nn&&(qe=yo),dt.appendChild(pn)):(dt=null,ge(io(pn.childNodes),Dt),Nn&&(qe=yo),dt=null)};ge(wt,Dt)}),f.links===!0&&ge(ze,wt=>{const dt=Dt=>{Dt.nodeName==="A"&&F(Dt,f),ge(io(Dt.childNodes),dt)};dt(wt)}),ge(ze,wt=>{const dt=Nn=>{let yo=0;return ge(Nn.childNodes,To=>{!hP(To)&&!nu(To)&&yo++}),yo},Dt=Nn=>wn(Nn.childNodes,kC).filter(To=>we.getContentEditable(To)!=="false"&&L_(we,To,f)).map(To=>{const mr=we.clone(To,!1);return F(mr),we.replace(mr,Nn,!0),we.remove(To,!0),mr}).getOr(Nn),pn=dt(wt);if((ze.length>1||!we.isBlock(wt))&&pn===0){we.remove(wt,!0);return}(Xa(f)||_f(f)&&f.wrapper)&&(!f.exact&&pn===1&&(wt=Dt(wt)),QR(e,l,n,wt),eN(e,f,t,n,wt),JR(we,f,n,wt),bA(we,f,n,wt),q7(we,f,n,wt),H_(e,f,n,wt))})},ue=ov(s)?s:A.getNode();if(C.getContentEditable(ue)==="false"&&!gE(e,ue)){s=ue,j(l,s),L5(e,t,s,n);return}if(f){if(s)if(ov(s)){if(!j(l,s)){const we=C.createRng();we.setStartBefore(s),we.setEndAfter(s),X(C,Qh(C,we,l),!0)}}else X(C,s,!0);else!g||!Xa(f)||Cf(e).length?(A.setRng(E_(A.getRng())),fE(e,()=>{nv(e,(we,fe)=>{const ke=fe?we:Qh(C,we,l);X(C,ke,!1)})},Rn),e.nodeChanged()):oh(e,t,n),wv(e.formatter,t).each(we=>{ge(jR(e.selection),fe=>nN(C,fe,we,n))});UR(t,e)}L5(e,t,s,n)},oN=(e,t,n,s)=>{(s||e.selection.isEditable())&&G7(e,t,n,s)},Rl=e=>Gn(e,"vars"),rN=(e,t)=>{e.set({}),t.on("NodeChange",n=>{yA(t,n.element,e.get())}),t.on("FormatApply FormatRemove",n=>{const s=J.from(n.node).map(l=>ov(l)?l:l.startContainer).bind(l=>yn(l)?J.some(l):J.from(l.parentElement)).getOrThunk(()=>Cv(t));yA(t,s,e.get())})},Cv=e=>e.selection.getStart(),sN=(e,t,n,s,l)=>on(t,C=>{const A=e.formatter.matchNode(C,n,l??{},s);return!Ze(A)},C=>W3(e,C,n)?!0:s?!1:Ce(e.formatter.matchNode(C,n,l,!0))),vA=(e,t)=>{const n=t??Cv(e);return Ct(Lx(e.dom,n),s=>yn(s)&&!Qd(s))},yA=(e,t,n)=>{const s=vA(e,t);Uo(n,(l,f)=>{const g=C=>{const A=sN(e,s,f,C.similar,Rl(C)?C.vars:void 0),F=A.isSome();if(C.state.get()!==F){C.state.set(F);const j=A.getOr(t);Rl(C)?C.callback(F,{node:j,format:f,parents:s}):ge(C.callbacks,q=>q(F,{node:j,format:f,parents:s}))}};ge([l.withSimilar,l.withoutSimilar],g),ge(l.withVars,g)})},xA=(e,t,n,s,l,f)=>{const g=t.get();ge(n.split(","),C=>{const A=dr(g,C).getOrThunk(()=>{const j={withSimilar:{state:fa(!1),similar:!0,callbacks:[]},withoutSimilar:{state:fa(!1),similar:!1,callbacks:[]},withVars:[]};return g[C]=j,j}),F=()=>{const j=vA(e);return sN(e,j,C,l,f).isSome()};if(Ze(f)){const j=l?A.withSimilar:A.withoutSimilar;j.callbacks.push(s),j.callbacks.length===1&&j.state.set(F())}else A.withVars.push({state:fa(F()),similar:l,vars:f,callback:s})}),t.set(g)},aN=(e,t,n)=>{const s=e.get();ge(t.split(","),l=>dr(s,l).each(f=>{s[l]={withSimilar:{...f.withSimilar,callbacks:Ct(f.withSimilar.callbacks,g=>g!==n)},withoutSimilar:{...f.withoutSimilar,callbacks:Ct(f.withoutSimilar.callbacks,g=>g!==n)},withVars:Ct(f.withVars,g=>g.callback!==n)}})),e.set(s)},Y7=(e,t,n,s,l,f)=>(xA(e,t,n,s,l,f),{unbind:()=>aN(t,n,s)}),X7=(e,t,n,s)=>{const l=e.formatter.get(t);l&&(gp(e,t,n,s)&&(!("toggle"in l[0])||l[0].toggle)?vp(e,t,n,s):oN(e,t,n,s))},iN=Kt.explode,j_=()=>{const e={};return{addFilter:(l,f)=>{ge(iN(l),g=>{Gn(e,g)||(e[g]={name:g,callbacks:[]}),e[g].callbacks.push(f)})},getFilters:()=>du(e),removeFilter:(l,f)=>{ge(iN(l),g=>{if(Gn(e,g))if(Ce(f)){const C=e[g],A=Ct(C.callbacks,F=>F!==f);A.length>0?C.callbacks=A:delete e[g]}else delete e[g]})}}},J7=(e,t)=>{ge(t,n=>{e.attr(n,null)})},Q7=(e,t,n)=>{e.addNodeFilter("font",s=>{ge(s,l=>{const f=t.parse(l.attr("style")),g=l.attr("color"),C=l.attr("face"),A=l.attr("size");g&&(f.color=g),C&&(f["font-family"]=C),A&&nn(A).each(F=>{f["font-size"]=n[F-1]}),l.name="span",l.attr("style",t.serialize(f)),J7(l,["color","face","size"])})})},lN=(e,t,n)=>{e.addNodeFilter("strike",s=>{const l=t.type!=="html4";ge(s,f=>{if(l)f.name="s";else{const g=n.parse(f.attr("style"));g["text-decoration"]="line-through",f.name="span",f.attr("style",n.serialize(g))}})})},eL=(e,t,n)=>{var s;const l=Zy();t.convert_fonts_to_spans&&Q7(e,l,Kt.explode((s=t.font_size_legacy_values)!==null&&s!==void 0?s:"")),lN(e,n,l)},tL=(e,t,n)=>{t.inline_styles&&eL(e,t,n)},wA=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),K_=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},q_=e=>{const[t,...n]=e.split(","),s=n.join(","),l=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(l){const f=l[2]===";base64",g=f?K_(s):decodeURIComponent(s);return J.some({type:l[1],data:g,base64Encoded:f})}else return J.none()},CA=(e,t,n=!0)=>{let s=t;if(n)try{s=atob(t)}catch{return J.none()}const l=new Uint8Array(s.length);for(let f=0;f<l.length;f++)l[f]=s.charCodeAt(f);return J.some(new Blob([l],{type:e}))},_A=e=>new Promise((t,n)=>{q_(e).bind(({type:s,data:l,base64Encoded:f})=>CA(s,l,f)).fold(()=>n("Invalid data URI"),t)}),nL=e=>Kr(e,"blob:")?wA(e):Kr(e,"data:")?_A(e):Promise.reject("Unknown URI format"),cN=e=>new Promise((t,n)=>{const s=new FileReader;s.onloadend=()=>{t(s.result)},s.onerror=()=>{var l;n((l=s.error)===null||l===void 0?void 0:l.message)},s.readAsDataURL(e)});let oL=0;const b0=e=>"blobid"+oL++,uN=(e,t,n)=>q_(e).bind(({data:s,type:l,base64Encoded:f})=>{if(t&&!f)return J.none();{const g=f?s:btoa(s);return n(g,l)}}),T2=(e,t,n)=>{const s=e.create(b0(),t,n);return e.add(s),s},dN=(e,t,n=!1)=>uN(t,n,(s,l)=>J.from(e.getByData(s,l)).orThunk(()=>CA(l,s).map(f=>T2(e,f,s)))),SA=(e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(Kr(t,"blob:")){const s=e.getByUri(t);return Ce(s)?Promise.resolve(s):nL(t).then(l=>cN(l).then(f=>uN(f,!1,g=>J.some(T2(e,l,g))).getOrThunk(n)))}else return Kr(t,"data:")?dN(e,t).fold(n,s=>Promise.resolve(s)):Promise.reject("Unknown image data format")},fN=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,mN=e=>J.from(e.match(fN)).bind(t=>bi(t,1)).map(t=>Kr(t,"www.")?t.substring(4):t),kA=(e,t)=>{J.from(e.attr("src")).bind(mN).forall(n=>!le(t,n))&&e.attr("sandbox","")},_v=(e,t)=>Kr(e,`${t}/`),rL=e=>Ze(e)?"iframe":_v(e,"image")?"img":_v(e,"video")?"video":_v(e,"audio")?"audio":"iframe",sL=({type:e,src:t,width:n,height:s}={},l,f)=>{const g=rL(e),C=new fi(g,1);return C.attr(g==="audio"?{src:t}:{src:t,width:n,height:s}),(g==="audio"||g==="video")&&C.attr("controls",""),g==="iframe"&&l&&kA(C,f),C},EA=e=>Ce(e.attr("data-mce-bogus")),gN=e=>e.attr("src")===Co.transparentSrc||Ce(e.attr("data-mce-placeholder")),aL=(e,t)=>{const{blob_cache:n}=t;if(n){const s=l=>{const f=l.attr("src");gN(l)||EA(l)||rt(f)||dN(n,f,!0).each(g=>{l.attr("src",g.blobUri())})};e.addAttributeFilter("src",l=>ge(l,s))}},iL=(e,t)=>{var n,s;const l=e.schema;e.addAttributeFilter("href",A=>{let F=A.length;const j=X=>X.split(" ").filter(we=>we.length>0).concat(["noopener"]).sort().join(" "),q=X=>{const ue=X?Kt.trim(X):"";return/\b(noopener)\b/g.test(ue)?ue:j(ue)};if(!t.allow_unsafe_link_target)for(;F--;){const X=A[F];X.name==="a"&&X.attr("target")==="_blank"&&X.attr("rel",q(X.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",A=>{let F=A.length,j,q,X,ue;for(;F--;)if(ue=A[F],ue.name==="a"&&ue.firstChild&&!ue.attr("href"))for(X=ue.parent,j=ue.lastChild;j&&X;)q=j.prev,X.insert(j,ue),j=q}),t.fix_list_elements&&e.addNodeFilter("ul,ol",A=>{let F=A.length,j,q;for(;F--;)if(j=A[F],q=j.parent,q&&(q.name==="ul"||q.name==="ol"))if(j.prev&&j.prev.name==="li")j.prev.append(j);else{const X=new fi("li",1);X.attr("style","list-style-type: none"),j.wrap(X)}});const f=l.getValidClasses();t.validate&&f&&e.addAttributeFilter("class",A=>{var F;let j=A.length;for(;j--;){const q=A[j],X=(F=q.attr("class"))!==null&&F!==void 0?F:"",ue=Kt.explode(X," ");let we="";for(let fe=0;fe<ue.length;fe++){const ke=ue[fe];let ze=!1,qe=f["*"];qe&&qe[ke]&&(ze=!0),qe=f[q.name],!ze&&qe&&qe[ke]&&(ze=!0),ze&&(we&&(we+=" "),we+=ke)}we.length||(we=null),q.attr("class",we)}}),aL(e,t);const g=(n=t.sandbox_iframes)!==null&&n!==void 0?n:!1,C=Pa((s=t.sandbox_iframes_exclusions)!==null&&s!==void 0?s:[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",A=>ge(A,F=>{F.replace(sL({type:F.attr("type"),src:F.name==="object"?F.attr("data"):F.attr("src"),width:F.attr("width"),height:F.attr("height")},g,C))})),g&&e.addNodeFilter("iframe",A=>ge(A,F=>kA(F,C)))},{entries:hN,setPrototypeOf:pN,isFrozen:AA,getPrototypeOf:bN,getOwnPropertyDescriptor:lL}=Object;let{freeze:kc,seal:rs,create:cL}=Object,{apply:TA,construct:G_}=typeof Reflect<"u"&&Reflect;TA||(TA=function(t,n,s){return t.apply(n,s)}),kc||(kc=function(t){return t}),rs||(rs=function(t){return t}),G_||(G_=function(t,n){return new t(...n)});const OA=Zl(Array.prototype.forEach),vN=Zl(Array.prototype.pop),kd=Zl(Array.prototype.push),Sv=Zl(String.prototype.toLowerCase),Y_=Zl(String.prototype.toString),DA=Zl(String.prototype.match),Vu=Zl(String.prototype.replace),RA=Zl(String.prototype.indexOf),yN=Zl(String.prototype.trim),Wl=Zl(RegExp.prototype.test),xp=O2(TypeError);function Zl(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),l=1;l<n;l++)s[l-1]=arguments[l];return TA(e,t,s)}}function O2(e){return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return G_(e,n)}}function $o(e,t,n){var s;n=(s=n)!==null&&s!==void 0?s:Sv,pN&&pN(e,null);let l=t.length;for(;l--;){let f=t[l];if(typeof f=="string"){const g=n(f);g!==f&&(AA(t)||(t[l]=g),f=g)}e[f]=!0}return e}function $m(e){const t=cL(null);for(const[n,s]of hN(e))t[n]=s;return t}function D2(e,t){for(;e!==null;){const s=lL(e,t);if(s){if(s.get)return Zl(s.get);if(typeof s.value=="function")return Zl(s.value)}e=bN(e)}function n(s){return console.warn("fallback value for",s),null}return n}const NA=kc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),IA=kc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),X_=kc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),uL=kc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),BA=kc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),R2=kc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),xN=kc(["#text"]),wN=kc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),MA=kc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),CN=kc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),J_=kc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),dL=rs(/\{\{[\w\W]*|[\w\W]*\}\}/gm),fL=rs(/<%[\w\W]*|[\w\W]*%>/gm),mL=rs(/\${[\w\W]*}/gm),gL=rs(/^data-[\-\w.\u00B7-\uFFFF]/),hL=rs(/^aria-[\-\w]+$/),_N=rs(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),SN=rs(/^(?:\w+script|data):/i),kN=rs(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),PA=rs(/^html$/i);var LA=Object.freeze({__proto__:null,MUSTACHE_EXPR:dL,ERB_EXPR:fL,TMPLIT_EXPR:mL,DATA_ATTR:gL,ARIA_ATTR:hL,IS_ALLOWED_URI:_N,IS_SCRIPT_OR_DATA:SN,ATTR_WHITESPACE:kN,DOCTYPE_NAME:PA});const EN=()=>typeof window>"u"?null:window,AN=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let s=null;const l="data-tt-policy-suffix";n&&n.hasAttribute(l)&&(s=n.getAttribute(l));const f="dompurify"+(s?"#"+s:"");try{return t.createPolicy(f,{createHTML(g){return g},createScriptURL(g){return g}})}catch{return console.warn("TrustedTypes policy "+f+" could not be created."),null}};function FA(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:EN();const t=Ro=>FA(Ro);if(t.version="3.0.5",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;const n=e.document,s=n.currentScript;let{document:l}=e;const{DocumentFragment:f,HTMLTemplateElement:g,Node:C,Element:A,NodeFilter:F,NamedNodeMap:j=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:q,DOMParser:X,trustedTypes:ue}=e,we=A.prototype,fe=D2(we,"cloneNode"),ke=D2(we,"nextSibling"),ze=D2(we,"childNodes"),qe=D2(we,"parentNode");if(typeof g=="function"){const Ro=l.createElement("template");Ro.content&&Ro.content.ownerDocument&&(l=Ro.content.ownerDocument)}let We,st="";const{implementation:Nt,createNodeIterator:jt,createDocumentFragment:un,getElementsByTagName:wt}=l,{importNode:dt}=n;let Dt={};t.isSupported=typeof hN=="function"&&typeof qe=="function"&&Nt&&Nt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:pn,ERB_EXPR:Nn,TMPLIT_EXPR:yo,DATA_ATTR:To,ARIA_ATTR:mr,IS_SCRIPT_OR_DATA:Ar,ATTR_WHITESPACE:Gs}=LA;let{IS_ALLOWED_URI:fl}=LA,Br=null;const Xt=$o({},[...NA,...IA,...X_,...BA,...xN]);let Tn=null;const Qo=$o({},[...wN,...MA,...CN,...J_]);let tn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Hn=null,ko=null,an=!0,xo=!0,Do=!1,mi=!0,Sr=!1,ei=!1,Rf=!1,gh=!1,ql=!1,Zu=!1,Nf=!1,ju=!0,If=!1;const Mn="user-content-";let jo=!0,Ls=!1,ta={},Ra=null;const ji=$o({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let va=null;const ya=$o({},["audio","video","img","source","image","track"]);let Gl=null;const Ym=$o({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Xm="http://www.w3.org/1998/Math/MathML",Jm="http://www.w3.org/2000/svg",Bf="http://www.w3.org/1999/xhtml";let Wv=Bf,zS=!1,HS=null;const V9=$o({},[Xm,Jm,Bf],Y_);let N0;const r8=["application/xhtml+xml","text/html"],oZ="text/html";let Il,dw=null;const rZ=l.createElement("form"),$9=function(ht){return ht instanceof RegExp||ht instanceof Function},Op=function(ht){if(!(dw&&dw===ht)){if((!ht||typeof ht!="object")&&(ht={}),ht=$m(ht),N0=r8.indexOf(ht.PARSER_MEDIA_TYPE)===-1?N0=oZ:N0=ht.PARSER_MEDIA_TYPE,Il=N0==="application/xhtml+xml"?Y_:Sv,Br="ALLOWED_TAGS"in ht?$o({},ht.ALLOWED_TAGS,Il):Xt,Tn="ALLOWED_ATTR"in ht?$o({},ht.ALLOWED_ATTR,Il):Qo,HS="ALLOWED_NAMESPACES"in ht?$o({},ht.ALLOWED_NAMESPACES,Y_):V9,Gl="ADD_URI_SAFE_ATTR"in ht?$o($m(Ym),ht.ADD_URI_SAFE_ATTR,Il):Ym,va="ADD_DATA_URI_TAGS"in ht?$o($m(ya),ht.ADD_DATA_URI_TAGS,Il):ya,Ra="FORBID_CONTENTS"in ht?$o({},ht.FORBID_CONTENTS,Il):ji,Hn="FORBID_TAGS"in ht?$o({},ht.FORBID_TAGS,Il):{},ko="FORBID_ATTR"in ht?$o({},ht.FORBID_ATTR,Il):{},ta="USE_PROFILES"in ht?ht.USE_PROFILES:!1,an=ht.ALLOW_ARIA_ATTR!==!1,xo=ht.ALLOW_DATA_ATTR!==!1,Do=ht.ALLOW_UNKNOWN_PROTOCOLS||!1,mi=ht.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Sr=ht.SAFE_FOR_TEMPLATES||!1,ei=ht.WHOLE_DOCUMENT||!1,ql=ht.RETURN_DOM||!1,Zu=ht.RETURN_DOM_FRAGMENT||!1,Nf=ht.RETURN_TRUSTED_TYPE||!1,gh=ht.FORCE_BODY||!1,ju=ht.SANITIZE_DOM!==!1,If=ht.SANITIZE_NAMED_PROPS||!1,jo=ht.KEEP_CONTENT!==!1,Ls=ht.IN_PLACE||!1,fl=ht.ALLOWED_URI_REGEXP||_N,Wv=ht.NAMESPACE||Bf,tn=ht.CUSTOM_ELEMENT_HANDLING||{},ht.CUSTOM_ELEMENT_HANDLING&&$9(ht.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(tn.tagNameCheck=ht.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ht.CUSTOM_ELEMENT_HANDLING&&$9(ht.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(tn.attributeNameCheck=ht.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ht.CUSTOM_ELEMENT_HANDLING&&typeof ht.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(tn.allowCustomizedBuiltInElements=ht.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Sr&&(xo=!1),Zu&&(ql=!0),ta&&(Br=$o({},[...xN]),Tn=[],ta.html===!0&&($o(Br,NA),$o(Tn,wN)),ta.svg===!0&&($o(Br,IA),$o(Tn,MA),$o(Tn,J_)),ta.svgFilters===!0&&($o(Br,X_),$o(Tn,MA),$o(Tn,J_)),ta.mathMl===!0&&($o(Br,BA),$o(Tn,CN),$o(Tn,J_))),ht.ADD_TAGS&&(Br===Xt&&(Br=$m(Br)),$o(Br,ht.ADD_TAGS,Il)),ht.ADD_ATTR&&(Tn===Qo&&(Tn=$m(Tn)),$o(Tn,ht.ADD_ATTR,Il)),ht.ADD_URI_SAFE_ATTR&&$o(Gl,ht.ADD_URI_SAFE_ATTR,Il),ht.FORBID_CONTENTS&&(Ra===ji&&(Ra=$m(Ra)),$o(Ra,ht.FORBID_CONTENTS,Il)),jo&&(Br["#text"]=!0),ei&&$o(Br,["html","head","body"]),Br.table&&($o(Br,["tbody"]),delete Hn.tbody),ht.TRUSTED_TYPES_POLICY){if(typeof ht.TRUSTED_TYPES_POLICY.createHTML!="function")throw xp('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ht.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw xp('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');We=ht.TRUSTED_TYPES_POLICY,st=We.createHTML("")}else We===void 0&&(We=AN(ue,s)),We!==null&&typeof st=="string"&&(st=We.createHTML(""));kc&&kc(ht),dw=ht}},MT=$o({},["mi","mo","mn","ms","mtext"]),ut=$o({},["foreignobject","desc","title","annotation-xml"]),ft=$o({},["title","style","font","a","script"]),Gt=$o({},IA);$o(Gt,X_),$o(Gt,uL);const Wt=$o({},BA);$o(Wt,R2);const Wn=function(ht){let kn=qe(ht);(!kn||!kn.tagName)&&(kn={namespaceURI:Wv,tagName:"template"});const no=Sv(ht.tagName),la=Sv(kn.tagName);return HS[ht.namespaceURI]?ht.namespaceURI===Jm?kn.namespaceURI===Bf?no==="svg":kn.namespaceURI===Xm?no==="svg"&&(la==="annotation-xml"||MT[la]):!!Gt[no]:ht.namespaceURI===Xm?kn.namespaceURI===Bf?no==="math":kn.namespaceURI===Jm?no==="math"&&ut[la]:!!Wt[no]:ht.namespaceURI===Bf?kn.namespaceURI===Jm&&!ut[la]||kn.namespaceURI===Xm&&!MT[la]?!1:!Wt[no]&&(ft[no]||!Gt[no]):!!(N0==="application/xhtml+xml"&&HS[ht.namespaceURI]):!1},Ho=function(ht){kd(t.removed,{element:ht});try{ht.parentNode.removeChild(ht)}catch{ht.remove()}},Fs=function(ht,kn){try{kd(t.removed,{attribute:kn.getAttributeNode(ht),from:kn})}catch{kd(t.removed,{attribute:null,from:kn})}if(kn.removeAttribute(ht),ht==="is"&&!Tn[ht])if(ql||Zu)try{Ho(kn)}catch{}else try{kn.setAttribute(ht,"")}catch{}},Qm=function(ht){let kn,no;if(gh)ht="<remove></remove>"+ht;else{const eg=DA(ht,/^[\r\n\t ]+/);no=eg&&eg[0]}N0==="application/xhtml+xml"&&Wv===Bf&&(ht='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ht+"</body></html>");const la=We?We.createHTML(ht):ht;if(Wv===Bf)try{kn=new X().parseFromString(la,N0)}catch{}if(!kn||!kn.documentElement){kn=Nt.createDocument(Wv,"template",null);try{kn.documentElement.innerHTML=zS?st:la}catch{}}const Yl=kn.body||kn.documentElement;return ht&&no&&Yl.insertBefore(l.createTextNode(no),Yl.childNodes[0]||null),Wv===Bf?wt.call(kn,ei?"html":"body")[0]:ei?kn.documentElement:Yl},s8=function(ht){return jt.call(ht.ownerDocument||ht,ht,F.SHOW_ELEMENT|F.SHOW_COMMENT|F.SHOW_TEXT,null,!1)},Zse=function(ht){return ht instanceof q&&(typeof ht.nodeName!="string"||typeof ht.textContent!="string"||typeof ht.removeChild!="function"||!(ht.attributes instanceof j)||typeof ht.removeAttribute!="function"||typeof ht.setAttribute!="function"||typeof ht.namespaceURI!="string"||typeof ht.insertBefore!="function"||typeof ht.hasChildNodes!="function")},a8=function(ht){return typeof C=="object"?ht instanceof C:ht&&typeof ht=="object"&&typeof ht.nodeType=="number"&&typeof ht.nodeName=="string"},I0=function(ht,kn,no){Dt[ht]&&OA(Dt[ht],la=>{la.call(t,kn,no,dw)})},sZ=function(ht){let kn;if(I0("beforeSanitizeElements",ht,null),Zse(ht))return Ho(ht),!0;const no=Il(ht.nodeName);if(I0("uponSanitizeElement",ht,{tagName:no,allowedTags:Br}),ht.hasChildNodes()&&!a8(ht.firstElementChild)&&(!a8(ht.content)||!a8(ht.content.firstElementChild))&&Wl(/<[/\w]/g,ht.innerHTML)&&Wl(/<[/\w]/g,ht.textContent))return Ho(ht),!0;if(!Br[no]||Hn[no]){if(!Hn[no]&&iZ(no)&&(tn.tagNameCheck instanceof RegExp&&Wl(tn.tagNameCheck,no)||tn.tagNameCheck instanceof Function&&tn.tagNameCheck(no)))return!1;if(jo&&!Ra[no]){const la=qe(ht)||ht.parentNode,Yl=ze(ht)||ht.childNodes;if(Yl&&la){const eg=Yl.length;for(let Ri=eg-1;Ri>=0;--Ri)la.insertBefore(fe(Yl[Ri],!0),ke(ht))}}return Ho(ht),!0}return ht instanceof A&&!Wn(ht)||(no==="noscript"||no==="noembed"||no==="noframes")&&Wl(/<\/no(script|embed|frames)/i,ht.innerHTML)?(Ho(ht),!0):(Sr&&ht.nodeType===3&&(kn=ht.textContent,kn=Vu(kn,pn," "),kn=Vu(kn,Nn," "),kn=Vu(kn,yo," "),ht.textContent!==kn&&(kd(t.removed,{element:ht.cloneNode()}),ht.textContent=kn)),I0("afterSanitizeElements",ht,null),!1)},aZ=function(ht,kn,no){if(ju&&(kn==="id"||kn==="name")&&(no in l||no in rZ))return!1;if(!(xo&&!ko[kn]&&Wl(To,kn))){if(!(an&&Wl(mr,kn))){if(!Tn[kn]||ko[kn]){if(!(iZ(ht)&&(tn.tagNameCheck instanceof RegExp&&Wl(tn.tagNameCheck,ht)||tn.tagNameCheck instanceof Function&&tn.tagNameCheck(ht))&&(tn.attributeNameCheck instanceof RegExp&&Wl(tn.attributeNameCheck,kn)||tn.attributeNameCheck instanceof Function&&tn.attributeNameCheck(kn))||kn==="is"&&tn.allowCustomizedBuiltInElements&&(tn.tagNameCheck instanceof RegExp&&Wl(tn.tagNameCheck,no)||tn.tagNameCheck instanceof Function&&tn.tagNameCheck(no))))return!1}else if(!Gl[kn]){if(!Wl(fl,Vu(no,Gs,""))){if(!((kn==="src"||kn==="xlink:href"||kn==="href")&&ht!=="script"&&RA(no,"data:")===0&&va[ht])){if(!(Do&&!Wl(Ar,Vu(no,Gs,"")))){if(no)return!1}}}}}}return!0},iZ=function(ht){return ht.indexOf("-")>0},lZ=function(ht){let kn,no,la,Yl;I0("beforeSanitizeAttributes",ht,null);const{attributes:eg}=ht;if(!eg)return;const Ri={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Tn};for(Yl=eg.length;Yl--;){kn=eg[Yl];const{name:tg,namespaceURI:U9}=kn;no=tg==="value"?kn.value:yN(kn.value);const Kse=no;if(la=Il(tg),Ri.attrName=la,Ri.attrValue=no,Ri.keepAttr=!0,Ri.forceKeepAttr=void 0,I0("uponSanitizeAttribute",ht,Ri),no=Ri.attrValue,Ri.forceKeepAttr)continue;if(!Ri.keepAttr){Fs(tg,ht);continue}if(!mi&&Wl(/\/>/i,no)){Fs(tg,ht);continue}Sr&&(no=Vu(no,pn," "),no=Vu(no,Nn," "),no=Vu(no,yo," "));const cZ=Il(ht.nodeName);if(!aZ(cZ,la,no)){Fs(tg,ht);continue}if(If&&(la==="id"||la==="name")&&(Fs(tg,ht),no=Mn+no),We&&typeof ue=="object"&&typeof ue.getAttributeType=="function"&&!U9)switch(ue.getAttributeType(cZ,la)){case"TrustedHTML":{no=We.createHTML(no);break}case"TrustedScriptURL":{no=We.createScriptURL(no);break}}if(no!==Kse)try{U9?ht.setAttributeNS(U9,tg,no):ht.setAttribute(tg,no)}catch{Fs(tg,ht)}}I0("afterSanitizeAttributes",ht,null)},jse=function Ro(ht){let kn;const no=s8(ht);for(I0("beforeSanitizeShadowDOM",ht,null);kn=no.nextNode();)I0("uponSanitizeShadowNode",kn,null),!sZ(kn)&&(kn.content instanceof f&&Ro(kn.content),lZ(kn));I0("afterSanitizeShadowDOM",ht,null)};return t.sanitize=function(Ro){let ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},kn,no,la,Yl;if(zS=!Ro,zS&&(Ro="<!-->"),typeof Ro!="string"&&!a8(Ro))if(typeof Ro.toString=="function"){if(Ro=Ro.toString(),typeof Ro!="string")throw xp("dirty is not a string, aborting")}else throw xp("toString is not a function");if(!t.isSupported)return Ro;if(Rf||Op(ht),t.removed=[],typeof Ro=="string"&&(Ls=!1),Ls){if(Ro.nodeName){const tg=Il(Ro.nodeName);if(!Br[tg]||Hn[tg])throw xp("root node is forbidden and cannot be sanitized in-place")}}else if(Ro instanceof C)kn=Qm("<!---->"),no=kn.ownerDocument.importNode(Ro,!0),no.nodeType===1&&no.nodeName==="BODY"||no.nodeName==="HTML"?kn=no:kn.appendChild(no);else{if(!ql&&!Sr&&!ei&&Ro.indexOf("<")===-1)return We&&Nf?We.createHTML(Ro):Ro;if(kn=Qm(Ro),!kn)return ql?null:Nf?st:""}kn&&gh&&Ho(kn.firstChild);const eg=s8(Ls?Ro:kn);for(;la=eg.nextNode();)sZ(la)||(la.content instanceof f&&jse(la.content),lZ(la));if(Ls)return Ro;if(ql){if(Zu)for(Yl=un.call(kn.ownerDocument);kn.firstChild;)Yl.appendChild(kn.firstChild);else Yl=kn;return(Tn.shadowroot||Tn.shadowrootmode)&&(Yl=dt.call(n,Yl,!0)),Yl}let Ri=ei?kn.outerHTML:kn.innerHTML;return ei&&Br["!doctype"]&&kn.ownerDocument&&kn.ownerDocument.doctype&&kn.ownerDocument.doctype.name&&Wl(PA,kn.ownerDocument.doctype.name)&&(Ri="<!DOCTYPE "+kn.ownerDocument.doctype.name+`>
`+Ri),Sr&&(Ri=Vu(Ri,pn," "),Ri=Vu(Ri,Nn," "),Ri=Vu(Ri,yo," ")),We&&Nf?We.createHTML(Ri):Ri},t.setConfig=function(Ro){Op(Ro),Rf=!0},t.clearConfig=function(){dw=null,Rf=!1},t.isValidAttribute=function(Ro,ht,kn){dw||Op({});const no=Il(Ro),la=Il(ht);return aZ(no,la,kn)},t.addHook=function(Ro,ht){typeof ht=="function"&&(Dt[Ro]=Dt[Ro]||[],kd(Dt[Ro],ht))},t.removeHook=function(Ro){if(Dt[Ro])return vN(Dt[Ro])},t.removeHooks=function(Ro){Dt[Ro]&&(Dt[Ro]=[])},t.removeAllHooks=function(){Dt={}},t}var zA=FA();const TN=Kt.each,ON=Kt.trim,pL=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],bL={ftp:21,http:80,https:443,mailto:25},DN=["img","video"],RN=(e,t)=>Ce(e)?!e:Ce(t)?!le(DN,t):!0,vL=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},HA=(e,t,n)=>{const s=vL(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(s)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(s)?RN(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(s):/^data:/i.test(s)};class $u{static parseDataUri(t){let n;const s=decodeURIComponent(t).split(","),l=/data:([^;]+)/.exec(s[0]);return l&&(n=l[1]),{type:n,data:s[1]}}static isDomSafe(t,n,s={}){if(s.allow_script_urls)return!0;{const l=Ag.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!HA(s,l,n)}}static getDocumentBaseUrl(t){var n;let s;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?s=(n=t.href)!==null&&n!==void 0?n:"":s=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/")),s}constructor(t,n={}){this.path="",this.directory="",t=ON(t),this.settings=n;const s=n.base_uri,l=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){l.source=t;return}const f=t.indexOf("//")===0;if(t.indexOf("/")===0&&!f&&(t=(s&&s.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const C=s?s.path:new $u(document.location.href).directory;if((s==null?void 0:s.protocol)==="")t="//mce_host"+l.toAbsPath(C,t);else{const A=/([^#?]*)([#?]?.*)/.exec(t);A&&(t=(s&&s.protocol||"http")+"://mce_host"+l.toAbsPath(C,A[1])+A[2])}}t=t.replace(/@@/g,"(mce_at)");const g=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);g&&TN(pL,(C,A)=>{let F=g[A];F&&(F=F.replace(/\(mce_at\)/g,"@@")),l[C]=F}),s&&(l.protocol||(l.protocol=s.protocol),l.userInfo||(l.userInfo=s.userInfo),!l.port&&l.host==="mce_host"&&(l.port=s.port),(!l.host||l.host==="mce_host")&&(l.host=s.host),l.source=""),f&&(l.protocol="")}setPath(t){const n=/^(.*?)\/?(\w+)?$/.exec(t);n&&(this.path=n[0],this.directory=n[1],this.file=n[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const n=new $u(t,{base_uri:this});if(n.host!=="mce_host"&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&n.protocol!=="")return n.getURI();const s=this.getURI(),l=n.getURI();if(s===l||s.charAt(s.length-1)==="/"&&s.substr(0,s.length-1)===l)return s;let f=this.toRelPath(this.path,n.path);return n.query&&(f+="?"+n.query),n.anchor&&(f+="#"+n.anchor),f}toAbsolute(t,n){const s=new $u(t,{base_uri:this});return s.getURI(n&&this.isSameOrigin(s))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const n=this.protocol?bL[this.protocol]:null;if(n&&(this.port||n)==(t.port||n))return!0}return!1}toRelPath(t,n){let s=0,l="",f,g;const C=t.substring(0,t.lastIndexOf("/")).split("/"),A=n.split("/");if(C.length>=A.length){for(f=0,g=C.length;f<g;f++)if(f>=A.length||C[f]!==A[f]){s=f+1;break}}if(C.length<A.length){for(f=0,g=A.length;f<g;f++)if(f>=C.length||C[f]!==A[f]){s=f+1;break}}if(s===1)return n;for(f=0,g=C.length-(s-1);f<g;f++)l+="../";for(f=s-1,g=A.length;f<g;f++)f!==s-1?l+="/"+A[f]:l+=A[f];return l}toAbsPath(t,n){let s=0;const l=/\/$/.test(n)?"/":"",f=t.split("/"),g=n.split("/"),C=[];TN(f,q=>{q&&C.push(q)});const A=[];for(let q=g.length-1;q>=0;q--)if(!(g[q].length===0||g[q]===".")){if(g[q]===".."){s++;continue}if(s>0){s--;continue}A.push(g[q])}const F=C.length-s;let j;return F<=0?j=Ao(A).join("/"):j=C.slice(0,F).join("/")+"/"+Ao(A).join("/"),j.indexOf("/")!==0&&(j="/"+j),l&&j.lastIndexOf("/")!==j.length-1&&(j+=l),j}getURI(t=!1){let n;return(!this.source||t)&&(n="",t||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source}}const yL=Kt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),VA="data-mce-type";let NN=0;const IN=(e,t,n,s,l)=>{var f,g,C,A;const F=t.validate,j=n.getSpecialElements();e.nodeType===Ud&&!t.allow_conditional_comments&&/^\[if/i.test((f=e.nodeValue)!==null&&f!==void 0?f:"")&&(e.nodeValue=" "+e.nodeValue);const q=(g=l==null?void 0:l.tagName)!==null&&g!==void 0?g:e.nodeName.toLowerCase();if(s!=="html"&&n.isValid(s)){Ce(l)&&(l.allowedTags[q]=!0);return}if(e.nodeType!==tl||q==="body")return;const X=Be.fromDom(e),ue=td(X,VA),we=ii(X,"data-mce-bogus");if(!ue&&Ie(we)){we==="all"?fr(X):Si(X);return}const fe=n.getElementRule(q);if(F&&!fe){Gn(j,q)?fr(X):Si(X);return}else Ce(l)&&(l.allowedTags[q]=!0);if(F&&fe&&!ue){if(ge((C=fe.attributesForced)!==null&&C!==void 0?C:[],ke=>{na(X,ke.name,ke.value==="{$uid}"?`mce_${NN++}`:ke.value)}),ge((A=fe.attributesDefault)!==null&&A!==void 0?A:[],ke=>{td(X,ke.name)||na(X,ke.name,ke.value==="{$uid}"?`mce_${NN++}`:ke.value)}),fe.attributesRequired&&!xe(fe.attributesRequired,ke=>td(X,ke))){Si(X);return}if(fe.removeEmptyAttrs&&js(X)){Si(X);return}fe.outputName&&fe.outputName!==q&&nx(X,fe.outputName)}},xL=(e,t,n,s,l)=>{const f=e.tagName.toLowerCase(),{attrName:g,attrValue:C}=l;l.keepAttr=N2(t,n,s,f,g,C),l.keepAttr?(l.allowedAttributes[g]=!0,UA(g,n)&&(l.attrValue=g),t.allow_svg_data_urls&&Kr(C,"data:image/svg+xml")&&(l.forceKeepAttr=!0)):$A(e,g)&&(l.forceKeepAttr=!0)},N2=(e,t,n,s,l,f)=>n!=="html"&&!um(s)?!0:!(l in yL&&HA(e,f,s))&&(!e.validate||t.isValid(s,l)||Kr(l,"data-")||Kr(l,"aria-")),$A=(e,t)=>e.hasAttribute(VA)&&(t==="id"||t==="class"||t==="style"),UA=(e,t)=>e in t.getBoolAttrs(),BN=(e,t,n,s)=>{const{attributes:l}=e;for(let f=l.length-1;f>=0;f--){const g=l[f],C=g.name,A=g.value;!N2(t,n,s,e.tagName.toLowerCase(),C,A)&&!$A(e,C)?e.removeAttribute(C):UA(C,n)&&e.setAttribute(C,C)}},wL=(e,t,n)=>{const s=zA();return s.addHook("uponSanitizeElement",(l,f)=>{IN(l,e,t,n.track(l),f)}),s.addHook("uponSanitizeAttribute",(l,f)=>{xL(l,e,t,n.current(),f)}),s},CL=(e,t)=>{const s={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return s.PARSER_MEDIA_TYPE=t,e.allow_script_urls?s.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(s.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),s},MN=e=>{const t=Hw(e);if(t==="svg"){const n=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(l=>`xlink:${l}`),s={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:n};zA().sanitize(e,s)}else if(t==="math"){const n={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}};zA().sanitize(e,n)}else throw new Error("Not a namespace element")},_L=(e,t)=>{const n=hk();if(e.sanitize){const s=wL(e,t,n);return{sanitizeHtmlElement:(f,g)=>{s.sanitize(f,CL(e,g)),s.removed=[],n.reset()},sanitizeNamespaceElement:MN}}else return{sanitizeHtmlElement:(f,g)=>{const C=document.createNodeIterator(f,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let A;for(;A=C.nextNode();){const F=n.track(A);IN(A,e,t,F),yn(A)&&BN(A,e,t,F)}n.reset()},sanitizeNamespaceElement:Pt}},Q_=Kt.makeMap,WA=Kt.extend,PN=(e,t,n,s)=>{const l=e.name,f=l in n&&l!=="title"&&l!=="textarea"&&l!=="noscript",g=t.childNodes;for(let C=0,A=g.length;C<A;C++){const F=g[C],j=new fi(F.nodeName.toLowerCase(),F.nodeType);if(yn(F)){const q=F.attributes;for(let X=0,ue=q.length;X<ue;X++){const we=q[X];j.attr(we.name,we.value)}um(j.name)&&(s(F),j.value=F.innerHTML)}else Mt(F)?(j.value=F.data,f&&(j.raw=!0)):(go(F)||Ey(F)||ef(F))&&(j.value=F.data);um(j.name)||PN(j,F,n,s),e.append(j)}},Ja=(e,t,n)=>{const s=[];for(let l=e,f=l;l;f=l,l=l.walk()){const g=l;ge(t,C=>C(g)),rt(g.parent)&&g!==e?l=f:s.push(g)}for(let l=s.length-1;l>=0;l--){const f=s[l];ge(n,g=>g(f))}},Um=(e,t,n,s)=>{const l=n.validate,f=t.getNonEmptyElements(),g=t.getWhitespaceElements(),C=WA(Q_("script,style,head,html,body,title,meta,param"),t.getBlockElements()),A=v1(t),F=/[ \t\r\n]+/g,j=/^[ \t\r\n]+/,q=/[ \t\r\n]+$/,X=qe=>{let We=qe.parent;for(;Ce(We);){if(We.name in g)return!0;We=We.parent}return!1},ue=qe=>{let We=qe;for(;Ce(We);){if(We.name in A)return yv(t,f,g,We);We=We.parent}return!1},we=qe=>qe.name in C||Bh(t,qe)||um(qe.name)&&qe.parent===e,fe=(qe,We)=>{const st=We?qe.prev:qe.next;return Ce(st)||rt(qe.parent)?!1:we(qe.parent)&&(qe.parent!==e||s.isRootContent===!0)};return[qe=>{var We;if(qe.type===3&&!X(qe)){let st=(We=qe.value)!==null&&We!==void 0?We:"";st=st.replace(F," "),(CR(qe.prev,we)||fe(qe,!0))&&(st=st.replace(j,"")),st.length===0||st===" "&&qe.prev&&qe.prev.type===Ud&&qe.next&&qe.next.type===Ud?qe.remove():qe.value=st}},qe=>{var We;if(qe.type===1){const st=t.getElementRule(qe.name);if(l&&st){const Nt=yv(t,f,g,qe);st.paddInEmptyBlock&&Nt&&ue(qe)?S_(n,s,we,qe):st.removeEmpty&&Nt?we(qe)?qe.remove():qe.unwrap():st.paddEmpty&&(Nt||k_(qe))&&S_(n,s,we,qe)}}else if(qe.type===3&&!X(qe)){let st=(We=qe.value)!==null&&We!==void 0?We:"";(qe.next&&we(qe.next)||fe(qe,!1))&&(st=st.replace(q,"")),st.length===0?qe.remove():qe.value=st}}]},SL=(e,t)=>{var n;const s=(n=t.forced_root_block)!==null&&n!==void 0?n:e.forced_root_block;return s===!1?"":s===!0?"p":s},kv=(e={},t=mc())=>{const n=j_(),s=j_(),l={validate:!0,root_name:"body",sanitize:!0,...e},f=new DOMParser,g=_L(l,t),C=(We,st,Nt="html")=>{const jt=Nt==="xhtml"?"application/xhtml+xml":"text/html",un=Gn(t.getSpecialElements(),st.toLowerCase()),wt=un?`<${st}>${We}</${st}>`:We,dt=()=>Nt==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${wt}</body></html>`:/^[\s]*<head/i.test(We)||/^[\s]*<html/i.test(We)||/^[\s]*<!DOCTYPE/i.test(We)?`<html>${wt}</html>`:`<body>${wt}</body>`,Dt=f.parseFromString(dt(),jt).body;return g.sanitizeHtmlElement(Dt,jt),un?Dt.firstChild:Dt},A=n.addFilter,F=n.getFilters,j=n.removeFilter,q=s.addFilter,X=s.getFilters,ue=s.removeFilter,we=(We,st)=>{x2(t,We)&&st.push(We)},fe=(We,st)=>{const Nt=Ie(st.attr(VA)),jt=st.type===1&&!Gn(We,st.name)&&!Bh(t,st)&&!um(st.name);return st.type===3||jt&&!Nt},ke=(We,st)=>{const Nt=WA(Q_("script,style,head,html,body,title,meta,param"),t.getBlockElements()),jt=/^[ \t\r\n]+/,un=/[ \t\r\n]+$/;let wt=We.firstChild,dt=null;const Dt=pn=>{var Nn,yo;pn&&(wt=pn.firstChild,wt&&wt.type===3&&(wt.value=(Nn=wt.value)===null||Nn===void 0?void 0:Nn.replace(jt,"")),wt=pn.lastChild,wt&&wt.type===3&&(wt.value=(yo=wt.value)===null||yo===void 0?void 0:yo.replace(un,"")))};if(t.isValidChild(We.name,st.toLowerCase())){for(;wt;){const pn=wt.next;fe(Nt,wt)?(dt||(dt=new fi(st,1),dt.attr(l.forced_root_block_attrs),We.insert(dt,wt)),dt.append(wt)):(Dt(dt),dt=null),wt=pn}Dt(dt)}},qe={schema:t,addAttributeFilter:q,getAttributeFilters:X,removeAttributeFilter:ue,addNodeFilter:A,getNodeFilters:F,removeNodeFilter:j,parse:(We,st={})=>{var Nt;const jt=l.validate,un=(Nt=st.context)!==null&&Nt!==void 0?Nt:l.root_name,wt=C(We,un,st.format);Is(t,wt);const dt=new fi(un,11);PN(dt,wt,t.getSpecialElements(),g.sanitizeNamespaceElement),wt.innerHTML="";const[Dt,pn]=Um(dt,t,l,st),Nn=[],yo=jt?Gs=>we(Gs,Nn):Pt,To={nodes:{},attributes:{}},mr=Gs=>N3(F(),X(),Gs,To);if(Ja(dt,[Dt,mr],[pn,yo]),Nn.reverse(),jt&&Nn.length>0)if(st.context){const{pass:Gs,fail:fl}=$t(Nn,Br=>Br.parent===dt);ru(fl,t,dt,mr),st.invalid=Gs.length>0}else ru(Nn,t,dt,mr);const Ar=SL(l,st);return Ar&&(dt.name==="body"||st.isRootContent)&&ke(dt,Ar),st.invalid||I3(To,st),dt}};return iL(qe,l),tL(qe,l,t),qe},kL=e=>g0(e)?Jg({validate:!1}).serialize(e):e,ZA=(e,t,n)=>{const s=kL(e),l=t(s);if(l.isDefaultPrevented())return l;if(g0(e))if(l.content!==s){const f=kv({validate:!1,forced_root_block:!1,...n}).parse(l.content,{context:e.name});return{...l,content:f}}else return{...l,content:e};else return l},v0=e=>({sanitize:PO(e),sandbox_iframes:Kk(e),sandbox_iframes_exclusions:fC(e)}),LN=(e,t)=>{if(t.no_events)return $n.value(t);{const n=Sf(e,t);return n.isDefaultPrevented()?$n.error(z5(e,{content:"",...n}).content):$n.value(n)}},Ed=(e,t,n)=>n.no_events?t:ZA(t,l=>z5(e,{...n,content:l}),v0(e)).content,jA=(e,t)=>{if(t.no_events)return $n.value(t);{const n=ZA(t.content,s=>CP(e,{...t,content:s}),v0(e));return n.isDefaultPrevented()?($l(e,n),$n.error(void 0)):$n.value(n)}},KA=(e,t,n)=>{n.no_events||$l(e,{...n,content:t})},eS=(e,t,n)=>({element:e,width:t,rows:n}),qA=(e,t)=>({element:e,cells:t}),EL=(e,t)=>({x:e,y:t}),tS=(e,t)=>Mc(e,t).bind(nn).getOr(1),Wm=(e,t,n,s,l)=>{const f=tS(l,"rowspan"),g=tS(l,"colspan"),C=e.rows;for(let A=n;A<n+f;A++){C[A]||(C[A]=qA(ym(s),[]));for(let F=t;F<t+g;F++){const j=C[A].cells;j[F]=A===n&&F===t?l:Ms(l)}}},FN=(e,t,n)=>{const s=e.rows;return!!(s[n]?s[n].cells:[])[t]},zN=(e,t,n)=>{for(;FN(e,t,n);)t++;return t},I2=e=>It(e,(t,n)=>n.cells.length>t?n.cells.length:t,0),nS=(e,t)=>{const n=e.rows;for(let s=0;s<n.length;s++){const l=n[s].cells;for(let f=0;f<l.length;f++)if(Lo(l[f],t))return J.some(EL(f,s))}return J.none()},GA=(e,t,n,s,l)=>{const f=[],g=e.rows;for(let C=n;C<=l;C++){const A=g[C].cells,F=t<s?A.slice(t,s+1):A.slice(s,t+1);f.push(qA(g[C].element,F))}return f},HN=(e,t,n)=>{const s=t.x,l=t.y,f=n.x,g=n.y,C=l<g?GA(e,s,l,f,g):GA(e,s,g,f,l);return eS(e.element,I2(C),C)},VN=(e,t)=>{const n=Ms(e.element),s=Be.fromTag("tbody");return Hs(s,t),Ds(n,s),n},AL=e=>Me(e.rows,t=>{const n=Me(t.cells,l=>{const f=ym(l);return bo(f,"colspan"),bo(f,"rowspan"),f}),s=Ms(t.element);return Hs(s,n),s}),TL=e=>{const t=eS(Ms(e),0,[]);return ge(Js(e,"tr"),(n,s)=>{ge(Js(n,"td,th"),(l,f)=>{Wm(t,zN(t,f,s),s,n,l)})}),eS(t.element,I2(t.rows),t.rows)},OL=e=>VN(e,AL(e)),$N=(e,t,n)=>nS(e,t).bind(s=>nS(e,n).map(l=>HN(e,s,l))),UN=e=>wn(e,t=>Po(t)==="ul"||Po(t)==="ol"),DL=(e,t)=>wn(e,n=>Po(n)==="li"&&Bx(n,t)).fold(Qe([]),n=>UN(e).map(s=>{const l=Be.fromTag(Po(s)),f=ec(yg(s),(g,C)=>Kr(C,"list-style"));return Bo(l,f),[Be.fromTag("li"),l]}).getOr([])),YA=(e,t)=>{const n=It(t,(s,l)=>(Ds(l,s),l),e);return t.length>0?wc([n]):n},WN=e=>wm(e)?Ua(e).filter(Ab).fold(Qe([]),t=>[e,t]):Ab(e)?[e]:[],RL=(e,t,n)=>{const s=Be.fromDom(t.commonAncestorContainer),l=_c(s,e),f=Ct(l,A=>n.isWrapper(Po(A))),g=DL(l,t),C=f.concat(g.length?g:WN(s));return Me(C,Ms)},XA=()=>wc([]),NL=(e,t,n)=>YA(Be.fromDom(t.cloneContents()),RL(e,t,n)),IL=(e,t)=>Hc(t,"table",pt(Lo,e)),ul=(e,t)=>IL(e,t[0]).bind(n=>{const s=t[0],l=t[t.length-1],f=TL(n);return $N(f,s,l).map(g=>wc([OL(g)]))}).getOrThunk(XA),BL=(e,t,n)=>t.length>0&&t[0].collapsed?XA():NL(e,t[0],n),ML=(e,t,n)=>{const s=x5(t,e);return s.length>0?ul(e,s):BL(e,t,n)},oS=(e,t)=>t>=0&&t<e.length&&Yb(e.charAt(t)),ZN=e=>il(e.innerText),rS=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),PL=e=>J.from(e.selection.getRng()).map(t=>{var n;const s=J.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),l=e.getBody(),f=rS(s),g=Be.fromDom(t.cloneContents());TD(g),OD(g);const C=e.dom.add(l,f,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},g.dom),A=ZN(C),F=il((n=C.textContent)!==null&&n!==void 0?n:"");if(e.dom.remove(C),oS(F,0)||oS(F,F.length-1)){const j=s.getOr(l),q=ZN(j),X=q.indexOf(A);if(X===-1)return A;{const ue=oS(q,X-1),we=oS(q,X+A.length);return(ue?" ":"")+A+(we?" ":"")}}else return A}).getOr(""),JA=(e,t)=>{const n=e.selection.getRng(),s=e.dom.create("body"),l=e.selection.getSel(),f=JC(e,os(l)),g=t.contextual?ML(Be.fromDom(e.getBody()),f,e.schema).dom:n.cloneContents();return g&&s.appendChild(g),e.selection.serializer.serialize(s,t)},QA=(e,t)=>{if(t.format==="text")return PL(e);{const n=JA(e,t);return t.format==="tree"?n:e.selection.isCollapsed()?"":n}},LL=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),FL=(e,t,n={})=>{const s=LL(n,t);return LN(e,s).fold(On,l=>{const f=QA(e,l);return Ed(e,f,l)})},Uu=0,e4=1,jN=2,t4=(e,t)=>{const n=e.length+t.length+2,s=new Array(n),l=new Array(n),f=(j,q,X)=>({start:j,end:q,diag:X}),g=(j,q,X,ue,we)=>{const fe=A(j,q,X,ue);if(fe===null||fe.start===q&&fe.diag===q-ue||fe.end===j&&fe.diag===j-X){let ke=j,ze=X;for(;ke<q||ze<ue;)ke<q&&ze<ue&&e[ke]===t[ze]?(we.push([Uu,e[ke]]),++ke,++ze):q-j>ue-X?(we.push([jN,e[ke]]),++ke):(we.push([e4,t[ze]]),++ze)}else{g(j,fe.start,X,fe.start-fe.diag,we);for(let ke=fe.start;ke<fe.end;++ke)we.push([Uu,e[ke]]);g(fe.end,q,fe.end-fe.diag,ue,we)}},C=(j,q,X,ue)=>{let we=j;for(;we-q<ue&&we<X&&e[we]===t[we-q];)++we;return f(j,we,q)},A=(j,q,X,ue)=>{const we=q-j,fe=ue-X;if(we===0||fe===0)return null;const ke=we-fe,ze=fe+we,qe=(ze%2===0?ze:ze+1)/2;s[1+qe]=j,l[1+qe]=q+1;let We,st,Nt,jt,un;for(We=0;We<=qe;++We){for(st=-We;st<=We;st+=2){for(Nt=st+qe,st===-We||st!==We&&s[Nt-1]<s[Nt+1]?s[Nt]=s[Nt+1]:s[Nt]=s[Nt-1]+1,jt=s[Nt],un=jt-j+X-st;jt<q&&un<ue&&e[jt]===t[un];)s[Nt]=++jt,++un;if(ke%2!==0&&ke-We<=st&&st<=ke+We&&l[Nt-ke]<=s[Nt])return C(l[Nt-ke],st+j-X,q,ue)}for(st=ke-We;st<=ke+We;st+=2){for(Nt=st+qe-ke,st===ke-We||st!==ke+We&&l[Nt+1]<=l[Nt-1]?l[Nt]=l[Nt+1]-1:l[Nt]=l[Nt-1],jt=l[Nt]-1,un=jt-j+X-st;jt>=j&&un>=X&&e[jt]===t[un];)l[Nt]=jt--,un--;if(ke%2===0&&-We<=st&&st<=We&&l[Nt]<=s[Nt+ke])return C(l[Nt],st+j-X,q,ue)}}return null},F=[];return g(0,e.length,0,t.length,F),F},n4=e=>yn(e)?e.outerHTML:Mt(e)?Ag.encodeRaw(e.data,!1):go(e)?"<!--"+e.data+"-->":"",sS=e=>{let t;const n=document.createElement("div"),s=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)s.appendChild(t);return s},KN=(e,t,n)=>{const s=sS(t);if(e.hasChildNodes()&&n<e.childNodes.length){const l=e.childNodes[n];e.insertBefore(s,l)}else e.appendChild(s)},qN=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];e.removeChild(n)}},GN=(e,t)=>{let n=0;ge(e,s=>{s[0]===Uu?n++:s[0]===e4?(KN(t,s[1],n),n++):s[0]===jN&&qN(t,n)})},zL=(e,t)=>Ct(Me(io(e.childNodes),ln(il,n4)),n=>n.length>0),HL=(e,t)=>{const n=Me(io(t.childNodes),n4);return GN(t4(n,e),t),t},o4=gl(()=>document.implementation.createHTMLDocument("undo")),VL=e=>e.querySelector("iframe")!==null,$L=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),aS=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),Ev=e=>{const t=e.serializer.getTempAttrs(),n=ZE(e.getBody(),t);return VL(n)?$L(zL(n)):aS(il(n.innerHTML))},B2=(e,t,n)=>{const s=n?t.beforeBookmark:t.bookmark;t.type==="fragmented"?HL(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:Ce(s)&&f5(s)?!s.isFakeCaret:!0}),s&&(e.selection.moveToBookmark(s),e.selection.scrollIntoView())},iS=e=>e.type==="fragmented"?e.fragments.join(""):e.content,sh=e=>{const t=Be.fromTag("body",o4());return sm(t,iS(e)),ge(Js(t,"*[data-mce-bogus]"),Si),ad(t)},UL=(e,t)=>iS(e)===iS(t),WL=(e,t)=>sh(e)===sh(t),Av=(e,t)=>!e||!t?!1:UL(e,t)?!0:WL(e,t),lS=e=>e.get()===0,M2=(e,t,n)=>{lS(n)&&(e.typing=t)},r4=(e,t)=>{e.typing&&(M2(e,!1,t),e.add())},ZL=e=>{e.typing&&(e.typing=!1,e.add())},jL=(e,t,n)=>{lS(t)&&n.set(mn(e.selection))},s4=(e,t,n,s,l,f,g)=>{const C=Ev(e),A=Kt.extend(f||{},C);if(!lS(s)||e.removed)return null;const F=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:A,lastLevel:F,originalEvent:g}).isDefaultPrevented()||F&&Av(F,A))return null;t.data[n.get()]&&l.get().each(X=>{t.data[n.get()].beforeBookmark=X});const j=OO(e);if(j&&t.data.length>j){for(let X=0;X<t.data.length-1;X++)t.data[X]=t.data[X+1];t.data.length--,n.set(t.data.length)}A.bookmark=mn(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(A),n.set(t.data.length-1);const q={level:A,lastLevel:F,originalEvent:g};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",q),e.dispatch("change",q)):e.dispatch("AddUndo",q),A},a4=(e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")},i4=(e,t,n,s,l)=>{if(t.transact(s)){const f=t.data[n.get()].bookmark,g=t.data[n.get()-1];B2(e,g,!0),t.transact(l)&&(t.data[n.get()-1].beforeBookmark=f)}},YN=(e,t,n)=>{let s;return t.get()<n.length-1&&(t.set(t.get()+1),s=n[t.get()],B2(e,s,!1),e.setDirty(!0),e.dispatch("Redo",{level:s})),s},cS=(e,t,n,s)=>{let l;return t.typing&&(t.add(),t.typing=!1,M2(t,!1,n)),s.get()>0&&(s.set(s.get()-1),l=t.data[s.get()],B2(e,l,!0),e.setDirty(!0),e.dispatch("Undo",{level:l})),l},XN=e=>{e.clear(),e.add()},JN=(e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!Av(Ev(e),t.data[0]),KL=(e,t)=>t.get()<e.data.length-1&&!e.typing,qL=(e,t,n)=>(r4(e,t),e.beforeChange(),e.ignore(n),e.add()),l4=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},QN=(e,t)=>{const n=e.dom,s=Ce(t)?t:e.getBody();ge(n.select("table,a",s),l=>{switch(l.nodeName){case"TABLE":const f=uC(e),g=n.getAttrib(l,"border");(!g||g==="0")&&e.hasVisual?n.addClass(l,f):n.removeClass(l,f);break;case"A":if(!n.getAttrib(l,"href")){const C=n.getAttrib(l,"name")||l.id,A=Y1(e);C&&e.hasVisual?n.addClass(l,A):n.removeClass(l,A)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},c4=e=>({init:{bindEvents:Pt},undoManager:{beforeChange:(t,n)=>jL(e,t,n),add:(t,n,s,l,f,g)=>s4(e,t,n,s,l,f,g),undo:(t,n,s)=>cS(e,t,n,s),redo:(t,n)=>YN(e,t,n),clear:(t,n)=>a4(e,t,n),reset:t=>XN(t),hasUndo:(t,n)=>JN(e,t,n),hasRedo:(t,n)=>KL(t,n),transact:(t,n,s)=>qL(t,n,s),ignore:(t,n)=>l4(t,n),extra:(t,n,s,l)=>i4(e,t,n,s,l)},formatter:{match:(t,n,s,l)=>gp(e,t,n,s,l),matchAll:(t,n)=>PR(e,t,n),matchNode:(t,n,s,l)=>Hm(e,t,n,s,l),canApply:t=>FR(e,t),closest:t=>LR(e,t),apply:(t,n,s)=>oN(e,t,n,s),remove:(t,n,s,l)=>vp(e,t,n,s,l),toggle:(t,n,s)=>X7(e,t,n,s),formatChanged:(t,n,s,l,f)=>Y7(e,t,n,s,l,f)},editor:{getContent:t=>ND(e,t),setContent:(t,n)=>$7(e,t,n),insertContent:(t,n)=>B_(e,t,n),addVisual:t=>QN(e,t)},selection:{getContent:(t,n)=>FL(e,t,n)},autocompleter:{addDecoration:Pt,removeDecoration:Pt},raw:{getModel:()=>J.none()}}),GL=e=>{const t=F=>re(F)?F:{},{init:n,undoManager:s,formatter:l,editor:f,selection:g,autocompleter:C,raw:A}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:s.beforeChange,add:s.add,undo:s.undo,redo:s.redo,clear:s.clear,reset:s.reset,hasUndo:s.hasUndo,hasRedo:s.hasRedo,transact:(F,j,q)=>s.transact(q),ignore:(F,j)=>s.ignore(j),extra:(F,j,q,X)=>s.extra(q,X)},formatter:{match:(F,j,q,X)=>l.match(F,t(j),X),matchAll:l.matchAll,matchNode:l.matchNode,canApply:F=>l.canApply(F),closest:F=>l.closest(F),apply:(F,j,q)=>l.apply(F,t(j)),remove:(F,j,q,X)=>l.remove(F,t(j)),toggle:(F,j,q)=>l.toggle(F,t(j)),formatChanged:(F,j,q,X,ue)=>l.formatChanged(j,q,X,ue)},editor:{getContent:F=>f.getContent(F),setContent:(F,j)=>({content:f.setContent(F,j),html:""}),insertContent:(F,j)=>(f.insertContent(F),""),addVisual:f.addVisual},selection:{getContent:(F,j)=>g.getContent(j)},autocompleter:{addDecoration:C.addDecoration,removeDecoration:C.removeDecoration},raw:{getModel:()=>J.some(A.getRawModel())}}},YL=()=>{const e=Qe(null),t=Qe("");return{init:{bindEvents:Pt},undoManager:{beforeChange:Pt,add:e,undo:e,redo:e,clear:Pt,reset:Pt,hasUndo:xn,hasRedo:xn,transact:e,ignore:Pt,extra:Pt},formatter:{match:xn,matchAll:Qe([]),matchNode:Qe(void 0),canApply:xn,closest:t,apply:Pt,remove:Pt,toggle:Pt,formatChanged:Qe({unbind:Pt})},editor:{getContent:t,setContent:Qe({content:"",html:""}),insertContent:Qe(""),addVisual:Pt},selection:{getContent:t},autocompleter:{addDecoration:Pt,removeDecoration:Pt},raw:{getModel:Qe(J.none())}}},Zm=e=>Gn(e.plugins,"rtc"),e6=e=>dr(e.plugins,"rtc").bind(t=>J.from(t.setup)),t6=e=>{const t=e;return e6(e).fold(()=>(t.rtcInstance=c4(e),J.none()),n=>(t.rtcInstance=YL(),J.some(()=>n().then(s=>(t.rtcInstance=GL(s),s.rtc.isRemote)))))},u4=e=>e.rtcInstance?e.rtcInstance:c4(e),Qa=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},Tv=(e,t,n)=>{Qa(e).undoManager.beforeChange(t,n)},XL=(e,t,n,s,l,f,g)=>Qa(e).undoManager.add(t,n,s,l,f,g),JL=(e,t,n,s)=>Qa(e).undoManager.undo(t,n,s),n6=(e,t,n)=>Qa(e).undoManager.redo(t,n),o6=(e,t,n)=>{Qa(e).undoManager.clear(t,n)},uS=(e,t)=>{Qa(e).undoManager.reset(t)},QL=(e,t,n)=>Qa(e).undoManager.hasUndo(t,n),eF=(e,t,n)=>Qa(e).undoManager.hasRedo(t,n),tF=(e,t,n,s)=>Qa(e).undoManager.transact(t,n,s),nF=(e,t,n)=>{Qa(e).undoManager.ignore(t,n)},oF=(e,t,n,s,l)=>{Qa(e).undoManager.extra(t,n,s,l)},rF=(e,t,n,s,l)=>Qa(e).formatter.match(t,n,s,l),sF=(e,t,n)=>Qa(e).formatter.matchAll(t,n),aF=(e,t,n,s,l)=>Qa(e).formatter.matchNode(t,n,s,l),iF=(e,t)=>Qa(e).formatter.canApply(t),lF=(e,t)=>Qa(e).formatter.closest(t),Fr=(e,t,n,s)=>{Qa(e).formatter.apply(t,n,s)},r6=(e,t,n,s,l)=>{Qa(e).formatter.remove(t,n,s,l)},d4=(e,t,n,s)=>{Qa(e).formatter.toggle(t,n,s)},s6=(e,t,n,s,l,f)=>Qa(e).formatter.formatChanged(t,n,s,l,f),a6=(e,t)=>u4(e).editor.getContent(t),f4=(e,t,n)=>u4(e).editor.setContent(t,n),cF=(e,t,n)=>u4(e).editor.insertContent(t,n),uF=(e,t,n)=>Qa(e).selection.getContent(t,n),i6=(e,t)=>Qa(e).editor.addVisual(t),l6=e=>Qa(e).init.bindEvents(),dF=(e,t={})=>{const n=t.format?t.format:"html";return uF(e,n,t)},y0=e=>e.dom.length===0?(fr(e),J.none()):J.some(e),fF=(e,t)=>e.filter(n=>Dr.isBookmarkNode(n.dom)).bind(t?Pn:oa),Ov=(e,t,n,s,l)=>{const f=e.dom,g=t.dom,C=s?f.length:g.length;s?(m2(f,g,l,!1,!s),n.setStart(g,C)):(m2(g,f,l,!1,!s),n.setEnd(g,C))},P2=(e,t,n)=>{Ua(e).each(s=>{const l=e.dom;t&&hv(s,mt(l,0),n)?l_(l,0,n):!t&&u0(s,mt(l,l.length),n)&&_s(l,l.length,n)})},x0=(e,t,n,s,l)=>{e.bind(f=>((s?_s:l_)(f.dom,s?f.dom.length:0,l),t.filter(qr).map(C=>Ov(f,C,n,s,l)))).orThunk(()=>fF(t,s).or(t).filter(qr).map(g=>P2(g,s,l)))},m4=(e,t,n)=>{const s=J.from(t.firstChild).map(Be.fromDom),l=J.from(t.lastChild).map(Be.fromDom);e.deleteContents(),e.insertNode(t);const f=s.bind(oa).filter(qr).bind(y0),g=l.bind(Pn).filter(qr).bind(y0);x0(f,s,e,!0,n),x0(g,l,e,!1,n),e.collapse(!1)},c6=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),u6=(e,t)=>{if(t.format!=="raw"){const n=e.selection.getRng(),s=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),l=s?{context:s.nodeName.toLowerCase()}:{},f=e.parser.parse(t.content,{forced_root_block:!1,...l,...t});return Jg({validate:!1},e.schema).serialize(f)}else return t.content},g4=(e,t,n={})=>{const s=c6(n,t);jA(e,s).each(l=>{const f=u6(e,l),g=e.selection.getRng();m4(g,g.createContextualFragment(f),e.schema),e.selection.setRng(g),Bu(e,g),KA(e,f,l)})},h4=(e,t,n)=>{if(Gn(e,t)){const s=Ct(e[t],l=>l!==n);s.length===0?delete e[t]:e[t]=s}};var d6=(e,t)=>{let n,s;const l=(C,A)=>wn(A,F=>e.is(F,C)),f=C=>e.getParents(C,void 0,e.getRoot()),g=()=>{n={},s={},t.on("NodeChange",C=>{const A=C.element,F=f(A),j={};Uo(n,(q,X)=>{l(X,F).each(ue=>{s[X]||(ge(q,we=>{we(!0,{node:ue,selector:X,parents:F})}),s[X]=q),j[X]=q})}),Uo(s,(q,X)=>{j[X]||(delete s[X],ge(q,ue=>{ue(!1,{node:A,selector:X,parents:F})}))})})};return{selectorChangedWithUnbind:(C,A)=>(n||g(),n[C]||(n[C]=[]),n[C].push(A),l(C,f(t.selection.getStart())).each(()=>{s[C]=n[C]}),{unbind:()=>{h4(n,C,A),h4(s,C,A)}})}};const p4=e=>!!(e&&e.ownerDocument)&&$a(Be.fromDom(e.ownerDocument),Be.fromDom(e)),b4=e=>e?p4(e.startContainer)&&p4(e.endContainer):!1,v4=(e,t,n,s)=>{let l,f;const{selectorChangedWithUnbind:g}=d6(e,s),C=(Xt,Tn)=>{const Qo=e.createRng();Ce(Xt)&&Ce(Tn)?(Qo.setStart(Xt,Tn),Qo.setEnd(Xt,Tn),st(Qo),ze(!1)):(Mx(e,Qo,s.getBody(),!0),st(Qo))},A=Xt=>dF(s,Xt),F=(Xt,Tn)=>g4(s,Xt,Tn),j=Xt=>wD(s.getBody(),We(),Xt),q=Xt=>CD(s.getBody(),We(),Xt),X=(Xt,Tn)=>fl.getBookmark(Xt,Tn),ue=Xt=>fl.moveToBookmark(Xt),we=(Xt,Tn)=>(a2(e,Xt,Tn).each(st),Xt),fe=()=>{const Xt=We(),Tn=qe();return!Xt||Xt.item?!1:Xt.compareEndPoints?Xt.compareEndPoints("StartToEnd",Xt)===0:!Tn||Xt.collapsed},ke=()=>{const Xt=We(),Tn=s.getBody().querySelectorAll('[data-mce-selected="1"]');return Tn.length>0?vo(Tn,Qo=>e.isEditable(Qo.parentElement)):yD(e,Xt)},ze=Xt=>{const Tn=We();Tn.collapse(!!Xt),st(Tn)},qe=()=>t.getSelection?t.getSelection():t.document.selection,We=()=>{let Xt;const Tn=(tn,Hn,ko)=>{try{return Hn.compareBoundaryPoints(tn,ko)}catch{return-1}},Qo=t.document;if(Ce(s.bookmark)&&!lv(s)){const tn=FE(s);if(tn.isSome())return tn.map(Hn=>JC(s,[Hn])[0]).getOr(Qo.createRange())}try{const tn=qe();tn&&!Xd(tn.anchorNode)&&(tn.rangeCount>0?Xt=tn.getRangeAt(0):Xt=Qo.createRange(),Xt=JC(s,[Xt])[0])}catch{}if(Xt||(Xt=Qo.createRange()),Sn(Xt.startContainer)&&Xt.collapsed){const tn=e.getRoot();Xt.setStart(tn,0),Xt.setEnd(tn,0)}return l&&f&&(Tn(Xt.START_TO_START,Xt,l)===0&&Tn(Xt.END_TO_END,Xt,l)===0?Xt=f:(l=null,f=null)),Xt},st=(Xt,Tn)=>{if(!b4(Xt))return;const Qo=qe();if(Xt=s.dispatch("SetSelectionRange",{range:Xt,forward:Tn}).range,Qo){f=Xt;try{Qo.removeAllRanges(),Qo.addRange(Xt)}catch{}Tn===!1&&Qo.extend&&(Qo.collapse(Xt.endContainer,Xt.endOffset),Qo.extend(Xt.startContainer,Xt.startOffset)),l=Qo.rangeCount>0?Qo.getRangeAt(0):null}if(!Xt.collapsed&&Xt.startContainer===Xt.endContainer&&(Qo!=null&&Qo.setBaseAndExtent)&&Xt.endOffset-Xt.startOffset<2&&Xt.startContainer.hasChildNodes()){const Hn=Xt.startContainer.childNodes[Xt.startOffset];Hn&&Hn.nodeName==="IMG"&&(Qo.setBaseAndExtent(Xt.startContainer,Xt.startOffset,Xt.endContainer,Xt.endOffset),(Qo.anchorNode!==Xt.startContainer||Qo.focusNode!==Xt.endContainer)&&Qo.setBaseAndExtent(Hn,0,Hn,1))}s.dispatch("AfterSetSelectionRange",{range:Xt,forward:Tn})},Nt=Xt=>(F(e.getOuterHTML(Xt)),Xt),jt=()=>n7(s.getBody(),We()),un=(Xt,Tn)=>UE(e,We(),Xt,Tn),wt=()=>{const Xt=qe(),Tn=Xt==null?void 0:Xt.anchorNode,Qo=Xt==null?void 0:Xt.focusNode;if(!Xt||!Tn||!Qo||Xd(Tn)||Xd(Qo))return!0;const tn=e.createRng(),Hn=e.createRng();try{tn.setStart(Tn,Xt.anchorOffset),tn.collapse(!0),Hn.setStart(Qo,Xt.focusOffset),Hn.collapse(!0)}catch{return!0}return tn.compareBoundaryPoints(tn.START_TO_START,Hn)<=0},Gs={dom:e,win:t,serializer:n,editor:s,expand:(Xt={type:"word"})=>st(rp(e).expand(We(),Xt)),collapse:ze,setCursorLocation:C,getContent:A,setContent:F,getBookmark:X,moveToBookmark:ue,select:we,isCollapsed:fe,isEditable:ke,isForward:wt,setNode:Nt,getNode:jt,getSel:qe,setRng:st,getRng:We,getStart:j,getEnd:q,getSelectedBlocks:un,normalize:()=>{const Xt=We(),Tn=qe();if(!Rx(Tn)&&tv(s)){const Qo=Im(e,Xt);return Qo.each(tn=>{st(tn,wt())}),Qo.getOr(Xt)}return Xt},selectorChanged:(Xt,Tn)=>(g(Xt,Tn),Gs),selectorChangedWithUnbind:g,getScrollContainer:()=>{let Xt,Tn=e.getRoot();for(;Tn&&Tn.nodeName!=="BODY";){if(Tn.scrollHeight>Tn.clientHeight){Xt=Tn;break}Tn=Tn.parentNode}return Xt},scrollIntoView:(Xt,Tn)=>{Ce(Xt)?BE(s,Xt,Tn):Bu(s,We(),Tn)},placeCaretAt:(Xt,Tn)=>st(q5(Xt,Tn,s.getDoc())),getBoundingClientRect:()=>{const Xt=We();return Xt.collapsed?mt.fromRangeStart(Xt).getClientRects()[0]:Xt.getBoundingClientRect()},destroy:()=>{t=l=f=null,Br.destroy()}},fl=Dr(Gs),Br=_r(Gs,s);return Gs.bookmarkManager=fl,Gs.controlSelection=Br,Gs},f6=(e,t,n)=>{t.addNodeFilter("br",(s,l,f)=>{const g=Kt.extend({},n.getBlockElements()),C=n.getNonEmptyElements(),A=n.getWhitespaceElements();g.body=1;const F=j=>j.name in g||Bh(n,j);for(let j=0,q=s.length;j<q;j++){let X=s[j],ue=X.parent;if(ue&&F(ue)&&X===ue.lastChild){let we=X.prev;for(;we;){const fe=we.name;if(fe!=="span"||we.attr("data-mce-type")!=="bookmark"){fe==="br"&&(X=null);break}we=we.prev}if(X&&(X.remove(),yv(n,C,A,ue))){const fe=n.getElementRule(ue.name);fe&&(fe.removeEmpty?ue.remove():fe.paddEmpty&&S_(e,f,F,ue))}}else{let we=X;for(;ue&&ue.firstChild===we&&ue.lastChild===we&&(we=ue,!g[ue.name]);)ue=ue.parent;if(we===ue){const fe=new fi("#text",3);fe.value=da,X.replace(fe)}}}})},y4=(e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",(s,l)=>{let f=s.length;for(;f--;){const g=s[f];g.attr("tabindex",g.attr("data-mce-tabindex")),g.attr(l,null)}}),e.addAttributeFilter("src,href,style",(s,l)=>{const f="data-mce-"+l,g=t.url_converter,C=t.url_converter_scope;let A=s.length;for(;A--;){const F=s[A];let j=F.attr(f);j!==void 0?(F.attr(l,j.length>0?j:null),F.attr(f,null)):(j=F.attr(l),l==="style"?j=n.serializeStyle(n.parseStyle(j),F.name):g&&(j=g.call(C,j,l,F.name)),F.attr(l,j.length>0?j:null))}}),e.addAttributeFilter("class",s=>{let l=s.length;for(;l--;){const f=s[l];let g=f.attr("class");g&&(g=g.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),f.attr("class",g.length>0?g:null))}}),e.addAttributeFilter("data-mce-type",(s,l,f)=>{let g=s.length;for(;g--;){const C=s[g];C.attr("data-mce-type")==="bookmark"&&!f.cleanup&&(J.from(C.firstChild).exists(F=>{var j;return!bc((j=F.value)!==null&&j!==void 0?j:"")})?C.unwrap():C.remove())}}),e.addNodeFilter("script,style",(s,l)=>{var f;const g=A=>A.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let C=s.length;for(;C--;){const A=s[C],F=A.firstChild,j=(f=F==null?void 0:F.value)!==null&&f!==void 0?f:"";if(l==="script"){const q=A.attr("type");q&&A.attr("type",q==="mce-no/type"?null:q.replace(/^mce\-/,"")),t.element_format==="xhtml"&&F&&j.length>0&&(F.value=`// <![CDATA[
`+g(j)+`
// ]]>`)}else t.element_format==="xhtml"&&F&&j.length>0&&(F.value=`<!--
`+g(j)+`
-->`)}}),e.addNodeFilter("#comment",s=>{let l=s.length;for(;l--;){const f=s[l],g=f.value;t.preserve_cdata&&(g==null?void 0:g.indexOf("[CDATA["))===0?(f.name="#cdata",f.type=4,f.value=n.decode(g.replace(/^\[CDATA\[|\]\]$/g,""))):(g==null?void 0:g.indexOf("mce:protected "))===0&&(f.name="#text",f.type=3,f.raw=!0,f.value=unescape(g).substr(14))}}),e.addNodeFilter("xml:namespace,input",(s,l)=>{let f=s.length;for(;f--;){const g=s[f];g.type===7?g.remove():g.type===1&&l==="input"&&!g.attr("type")&&g.attr("type","text")}}),e.addAttributeFilter("data-mce-type",s=>{ge(s,l=>{l.attr("data-mce-type")==="format-caret"&&(l.isEmpty(e.schema.getNonEmptyElements())?l.remove():l.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(s,l)=>{let f=s.length;for(;f--;)s[f].attr(l,null)}),t.remove_trailing_brs&&f6(t,e,e.schema)},mF=e=>{const t=s=>(s==null?void 0:s.name)==="br",n=e.lastChild;if(t(n)){const s=n.prev;t(s)&&(n.remove(),s.remove())}},m6=(e,t,n)=>{let s;const l=e.dom;let f=t.cloneNode(!0);const g=document.implementation;if(g.createHTMLDocument){const C=g.createHTMLDocument("");Kt.each(f.nodeName==="BODY"?f.childNodes:[f],A=>{C.body.appendChild(C.importNode(A,!0))}),f.nodeName!=="BODY"?f=C.body.firstChild:f=C.body,s=l.doc,l.doc=C}return $x(e,{...n,node:f}),s&&(l.doc=s),f},g6=(e,t)=>Ce(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,h6=(e,t,n)=>g6(e,n)?m6(e,t,n):t,gF=(e,t,n)=>{Kt.inArray(t,n)===-1&&(e.addAttributeFilter(n,(s,l)=>{let f=s.length;for(;f--;)s[f].attr(l,null)}),t.push(n))},hF=(e,t,n)=>!t.no_events&&e?Ux(e,{...t,content:n}).content:n,dS=(e,t,n)=>{const s=il(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||Tb(Be.fromDom(t))?s:Kt.trim(s)},p6=(e,t,n)=>{const s=n.selection?{forced_root_block:!1,...n}:n,l=e.parse(t,s);return mF(l),l},b6=(e,t,n)=>Jg(e,t).serialize(n),v6=(e,t,n,s,l)=>{const f=b6(t,n,s);return hF(e,l,f)},pF=(e,t)=>{const n=["data-mce-selected"],s={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},l=t&&t.dom?t.dom:Nr.DOM,f=t&&t.schema?t.schema:mc(s),g=kv(s,f);y4(g,s,l);const C=(A,F={})=>{const j={format:"html",...F},q=h6(t,A,j),X=dS(l,q,j),ue=p6(g,X,j);return j.format==="tree"?ue:v6(t,s,f,ue,j)};return{schema:f,addNodeFilter:g.addNodeFilter,addAttributeFilter:g.addAttributeFilter,serialize:C,addRules:f.addValidElements,setRules:f.setValidElements,addTempAttr:pt(gF,g,n),getTempAttrs:Qe(n),getNodeFilters:g.getNodeFilters,getAttributeFilters:g.getAttributeFilters,removeNodeFilter:g.removeNodeFilter,removeAttributeFilter:g.removeAttributeFilter}},y6=(e,t)=>{const n=pF(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},bF="html",vF=(e,t)=>({...e,format:t,get:!0,getInner:!0}),x6=(e,t={})=>{const n=t.format?t.format:bF,s=vF(t,n);return LN(e,s).fold(On,l=>{const f=a6(e,l);return Ed(e,f,l)})},w6="html",C6=(e,t)=>({format:w6,...e,set:!0,content:t}),x4=(e,t,n={})=>{const s=C6(n,t);return jA(e,s).map(l=>{const f=f4(e,l.content,l);return KA(e,f.html,l),f.content}).getOr(t)},yF="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),xF=[],wF="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),L2=[],w4=(e,t)=>{const n=Ct(t,s=>Gn(e,s));return ur(n)},CF=e=>{const t=w4(e,yF),n=e.forced_root_block;return(n===!1||n==="")&&t.push("forced_root_block (false only)"),ur(t)},_6=e=>w4(e,xF),C4=(e,t)=>{const n=Kt.makeMap(e.plugins," "),l=Ct(t,f=>Gn(n,f));return ur(l)},_4=e=>C4(e,wF),S6=e=>C4(e,L2.map(t=>t.name)),k6=(e,t)=>{const n=CF(e),s=_4(t),l=s.length>0,f=n.length>0,g=t.theme==="mobile";if(l||f||g){const C=`
- `,A=g?`

Themes:${C}mobile`:"",F=l?`

Plugins:${C}${s.join(C)}`:"",j=f?`

Options:${C}${n.join(C)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+A+F+j)}},E6=e=>wn(L2,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),_F=(e,t)=>{const n=_6(e),s=S6(t),l=s.length>0,f=n.length>0;if(l||f){const g=`
- `,C=l?`

Plugins:${g}${s.map(E6).join(g)}`:"",A=f?`

Options:${g}${n.join(g)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+C+A)}},SF=(e,t)=>{k6(e,t),_F(e,t)},wp=Nr.DOM,kF=e=>{wp.setStyle(e.id,"display",e.orgDisplay)},F2=e=>J.from(e).each(t=>t.destroy()),fS=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const n=e.selection;if(n){const s=n.dom;t.selection=n.win=n.dom=s.doc=null}},A6=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),wp.unbind(t,"submit reset",e.formEventDelegate))},T6=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,s=e.getBody(),l=e.getElement();s&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Ce(l==null?void 0:l.nextSibling)&&wp.remove(l.nextSibling),Wx(e),e.editorManager.remove(e),!e.inline&&s&&kF(e),Zx(e),wp.remove(e.getContainer()),F2(t),F2(n),e.destroy()}},EF=(e,t)=>{const{selection:n,dom:s}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),F2(n),F2(s)),A6(e),fS(e),e.destroyed=!0}},z2=(()=>{const e={};return{add:(l,f)=>{e[l]=f},get:l=>e[l]?e[l]:{icons:{}},has:l=>Gn(e,l)}})(),Cp=Vi.ModelManager,H2=(e,t)=>t.dom[e],S4=(e,t)=>parseInt(Os(t,e),10),k4=pt(H2,"clientWidth"),O6=pt(H2,"clientHeight"),AF=pt(S4,"margin-top"),D6=pt(S4,"margin-left"),TF=e=>e.dom.getBoundingClientRect(),R6=(e,t,n)=>{const s=k4(e),l=O6(e);return t>=0&&n>=0&&t<=s&&n<=l},N6=(e,t,n,s)=>{const l=TF(t),f=e?l.left+t.dom.clientLeft+D6(t):0,g=e?l.top+t.dom.clientTop+AF(t):0,C=n-f,A=s-g;return{x:C,y:A}},OF=(e,t,n)=>{const s=Be.fromDom(e.getBody()),l=e.inline?s:bu(s),f=N6(e.inline,l,t,n);return R6(l,f.x,f.y)},I6=e=>J.from(e).map(Be.fromDom),E4=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return I6(t).map(wi).getOr(!1)};var B6=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const A4=e=>{const t=[],n=()=>{const X=e.theme;return X&&X.getNotificationManagerImpl?X.getNotificationManagerImpl():B6()},s=()=>J.from(t[0]),l=(X,ue)=>X.type===ue.type&&X.text===ue.text&&!X.progressBar&&!X.timeout&&!ue.progressBar&&!ue.timeout,f=()=>{s().each(X=>{X.reposition()})},g=X=>{t.push(X)},C=X=>{Cn(t,ue=>ue===X).each(ue=>{t.splice(ue,1)})},A=(X,ue=!0)=>e.removed||!E4(e)?{}:(ue&&e.dispatch("BeforeOpenNotification",{notification:X}),wn(t,we=>l(n().getArgs(we),X)).getOrThunk(()=>{e.editorManager.setActive(e);const we=n().open(X,()=>{C(we)},()=>r0(e));return g(we),f(),e.dispatch("OpenNotification",{notification:{...we}}),we})),F=()=>{s().each(X=>{n().close(X),C(X),f()})},j=Qe(t);return(X=>{X.on("SkinLoaded",()=>{const ue=LM(X);ue&&A({text:ue,type:"warning",timeout:0},!1),f()}),X.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(f)}),X.on("remove",()=>{ge(t.slice(),ue=>{n().close(ue)})}),X.addShortcut("alt+F12","Focus to notification",()=>s().map(ue=>Be.fromDom(ue.getEl())).each(ue=>ME(ue)))})(e),{open:A,close:F,getNotifications:j}},w0=Vi.PluginManager,_p=Vi.ThemeManager;var DF=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const M6=e=>{let t=[];const n=()=>{const fe=e.theme;return fe&&fe.getWindowManagerImpl?fe.getWindowManagerImpl():DF()},s=(fe,ke)=>(...ze)=>ke?ke.apply(fe,ze):void 0,l=fe=>{e.dispatch("OpenWindow",{dialog:fe})},f=fe=>{e.dispatch("CloseWindow",{dialog:fe})},g=fe=>{t.push(fe),l(fe)},C=fe=>{f(fe),t=Ct(t,ke=>ke!==fe),t.length===0&&e.focus()},A=()=>J.from(t[t.length-1]),F=fe=>{e.editorManager.setActive(e),iv(e),e.ui.show();const ke=fe();return g(ke),ke},j=(fe,ke)=>F(()=>n().open(fe,ke,C)),q=fe=>F(()=>n().openUrl(fe,C)),X=(fe,ke,ze)=>{const qe=n();qe.alert(fe,s(ze||qe,ke))},ue=(fe,ke,ze)=>{const qe=n();qe.confirm(fe,s(ze||qe,ke))},we=()=>{A().each(fe=>{n().close(fe),C(fe)})};return e.on("remove",()=>{ge(t,fe=>{n().close(fe)})}),{open:j,openUrl:q,alert:X,confirm:ue,close:we}},mS=(e,t)=>{e.notificationManager.open({type:"error",text:t})},gS=(e,t)=>{e._skinLoaded?mS(e,t):e.on("SkinLoaded",()=>{mS(e,t)})},P6=(e,t)=>{gS(e,gc.translate(["Failed to upload image: {0}",t]))},Dv=(e,t,n)=>{xE(e,t,{message:n}),console.error(n)},C0=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,T4=(e,t,n)=>{Dv(e,"PluginLoadError",C0("plugin",t,n))},O4=(e,t,n)=>{Dv(e,"IconsLoadError",C0("icons",t,n))},RF=(e,t,n)=>{Dv(e,"LanguageLoadError",C0("language",t,n))},L6=(e,t,n)=>{Dv(e,"ThemeLoadError",C0("theme",t,n))},NF=(e,t,n)=>{Dv(e,"ModelLoadError",C0("model",t,n))},IF=(e,t,n)=>{const s=gc.translate(["Failed to initialize plugin: {0}",t]);xE(e,"PluginLoadError",{message:s}),V2(s,n),gS(e,s)},V2=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},D4=e=>/^[a-z0-9\-]+$/i.test(e),R4=e=>"content/"+e+"/content.css",hS=e=>tinymce.Resource.has(R4(e)),BF=e=>F6(e,xl(e)),MF=e=>F6(e,wO(e)),F6=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",l=`content${e.editorManager.suffix}.css`;return Me(t,f=>hS(f)?f:D4(f)&&!e.inline?`${n}/${f}/${l}`:e.documentBaseURI.toAbsolute(f))},z6=e=>{e.contentCSS=e.contentCSS.concat(BF(e),MF(e))},H6=e=>e?io(e.getElementsByTagName("img")):[],PF=(e,t)=>{const n={};return{findAll:(l,f=Rn)=>{const g=Ct(H6(l),A=>{const F=A.src;return A.hasAttribute("data-mce-bogus")||A.hasAttribute("data-mce-placeholder")||!F||F===Co.transparentSrc?!1:Kr(F,"blob:")?!e.isUploaded(F)&&f(A):Kr(F,"data:")?f(A):!1}),C=Me(g,A=>{const F=A.src;if(Gn(n,F))return n[F].then(j=>Ie(j)?j:{image:A,blobInfo:j.blobInfo});{const j=SA(t,F).then(q=>(delete n[F],{image:A,blobInfo:q})).catch(q=>(delete n[F],q));return n[F]=j,j}});return Promise.all(C)}}},N4=()=>{let n={};const s=(X,ue)=>({status:X,resultUri:ue}),l=X=>X in n;return{hasBlobUri:l,getResultUri:X=>{const ue=n[X];return ue?ue.resultUri:null},isPending:X=>l(X)?n[X].status===1:!1,isUploaded:X=>l(X)?n[X].status===2:!1,markPending:X=>{n[X]=s(1,null)},markUploaded:(X,ue)=>{n[X]=s(2,ue)},removeFailed:X=>{delete n[X]},destroy:()=>{n={}}}};let $2=0;const V6=()=>{const e=()=>Math.round(al()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},LF=e=>e+$2+++V6(),$6=()=>{let e=[];const t=q=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[q.toLowerCase()]||"dat",n=(q,X,ue,we,fe)=>{if(Ie(q))return s({id:q,name:we,filename:fe,blob:X,base64:ue});if(re(q))return s(q);throw new Error("Unknown input type")},s=q=>{if(!q.blob||!q.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const X=q.id||LF("blobid"),ue=q.name||X,we=q.blob;return{id:Qe(X),name:Qe(ue),filename:Qe(q.filename||ue+"."+t(we.type)),blob:Qe(we),base64:Qe(q.base64),blobUri:Qe(q.blobUri||URL.createObjectURL(we)),uri:Qe(q.uri)}},l=q=>{g(q.id())||e.push(q)},f=q=>wn(e,q).getOrUndefined(),g=q=>f(X=>X.id()===q);return{create:n,add:l,get:g,getByUri:q=>f(X=>X.blobUri()===q),getByData:(q,X)=>f(ue=>ue.base64()===q&&ue.blob().type===X),findFirst:f,removeByUri:q=>{e=Ct(e,X=>X.blobUri()===q?(URL.revokeObjectURL(X.blobUri()),!1):!0)},destroy:()=>{ge(e,q=>{URL.revokeObjectURL(q.blobUri())}),e=[]}}},U6=(e,t)=>{const n={},s=(fe,ke)=>fe?fe.replace(/\/$/,"")+"/"+ke.replace(/^\//,""):ke,l=(fe,ke)=>new Promise((ze,qe)=>{const We=new XMLHttpRequest;We.open("POST",t.url),We.withCredentials=t.credentials,We.upload.onprogress=Nt=>{ke(Nt.loaded/Nt.total*100)},We.onerror=()=>{qe("Image upload failed due to a XHR Transport error. Code: "+We.status)},We.onload=()=>{if(We.status<200||We.status>=300){qe("HTTP Error: "+We.status);return}const Nt=JSON.parse(We.responseText);if(!Nt||!Ie(Nt.location)){qe("Invalid JSON: "+We.responseText);return}ze(s(t.basePath,Nt.location))};const st=new FormData;st.append("file",fe.blob(),fe.filename()),We.send(st)}),f=Re(t.handler)?t.handler:l,g=()=>new Promise(fe=>{fe([])}),C=(fe,ke)=>({url:ke,blobInfo:fe,status:!0}),A=(fe,ke)=>({url:"",blobInfo:fe,status:!1,error:ke}),F=(fe,ke)=>{Kt.each(n[fe],ze=>{ze(ke)}),delete n[fe]},j=(fe,ke,ze)=>(e.markPending(fe.blobUri()),new Promise(qe=>{let We,st;try{const Nt=()=>{We&&(We.close(),st=Pt)},jt=wt=>{Nt(),e.markUploaded(fe.blobUri(),wt),F(fe.blobUri(),C(fe,wt)),qe(C(fe,wt))},un=wt=>{Nt(),e.removeFailed(fe.blobUri()),F(fe.blobUri(),A(fe,wt)),qe(A(fe,wt))};st=wt=>{wt<0||wt>100||J.from(We).orThunk(()=>J.from(ze).map(Vr)).each(dt=>{We=dt,dt.progressBar.value(wt)})},ke(fe,st).then(jt,wt=>{un(Ie(wt)?{message:wt}:wt)})}catch(Nt){qe(A(fe,Nt))}})),q=fe=>fe===l,X=fe=>{const ke=fe.blobUri();return new Promise(ze=>{n[ke]=n[ke]||[],n[ke].push(ze)})},ue=(fe,ke)=>(fe=Kt.grep(fe,ze=>!e.isUploaded(ze.blobUri())),Promise.all(Kt.map(fe,ze=>e.isPending(ze.blobUri())?X(ze):j(ze,f,ke))));return{upload:(fe,ke)=>!t.url&&q(f)?g():ue(fe,ke)}},W6=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),Z6=(e,t)=>U6(t,{url:Pk(e),basePath:vO(e),credentials:Lk(e),handler:BM(e)}),FF=e=>{const t=N4(),n=Z6(e,t);return{upload:(s,l=!0)=>n.upload(s,l?W6(e):void 0)}},zF=(e,t)=>e.dom.isEmpty(t.dom)&&Ce(e.schema.getTextBlockElements()[Po(t)]),j6=e=>t=>{zF(e,t)&&Ds(t,Be.fromHtml('<br data-mce-bogus="1" />'))},I4=e=>{const t=$6();let n,s;const l=N4(),f=[],g=We=>st=>e.selection?We(st):[],C=We=>We+(We.indexOf("?")===-1?"?":"&")+new Date().getTime(),A=(We,st,Nt)=>{let jt=0;do jt=We.indexOf(st,jt),jt!==-1&&(We=We.substring(0,jt)+Nt+We.substr(jt+st.length),jt+=Nt.length-st.length+1);while(jt!==-1);return We},F=(We,st,Nt)=>{const jt=`src="${Nt}"${Nt===Co.transparentSrc?' data-mce-placeholder="1"':""}`;return We=A(We,`src="${st}"`,jt),We=A(We,'data-mce-src="'+st+'"','data-mce-src="'+Nt+'"'),We},j=(We,st)=>{ge(e.undoManager.data,Nt=>{Nt.type==="fragmented"?Nt.fragments=Me(Nt.fragments,jt=>F(jt,We,st)):Nt.content=F(Nt.content,We,st)})},q=(We,st)=>{const Nt=e.convertURL(st,"src");j(We.src,st),yi(Be.fromDom(We),{src:Zg(e)?C(st):st,"data-mce-src":Nt})},X=()=>(n||(n=Z6(e,l)),ke().then(g(We=>{const st=Me(We,Nt=>Nt.blobInfo);return n.upload(st,W6(e)).then(g(Nt=>{const jt=[];let un=!1;const wt=Me(Nt,(dt,Dt)=>{const{blobInfo:pn,image:Nn}=We[Dt];let yo=!1;return dt.status&&pO(e)?(dt.url&&!vr(Nn.src,dt.url)&&(un=!0),t.removeByUri(Nn.src),Zm(e)||q(Nn,dt.url)):dt.error&&(dt.error.remove&&(j(Nn.src,Co.transparentSrc),jt.push(Nn),yo=!0),P6(e,dt.error.message)),{element:Nn,status:dt.status,uploadUri:dt.url,blobInfo:pn,removed:yo}});return jt.length>0&&!Zm(e)?e.undoManager.transact(()=>{ge($c(jt),dt=>{const Dt=Ua(dt);fr(dt),Dt.each(j6(e)),t.removeByUri(dt.dom.src)})}):un&&e.undoManager.dispatchChange(),wt}))}))),ue=()=>Ir(e)?X():Promise.resolve([]),we=We=>vo(f,st=>st(We)),fe=We=>{f.push(We)},ke=()=>(s||(s=PF(l,t)),s.findAll(e.getBody(),we).then(g(We=>{const st=Ct(We,Nt=>Ie(Nt)?(gS(e,Nt),!1):Nt.uriType!=="blob");return Zm(e)||ge(st,Nt=>{j(Nt.image.src,Nt.blobInfo.blobUri()),Nt.image.src=Nt.blobInfo.blobUri(),Nt.image.removeAttribute("data-mce-src")}),st}))),ze=()=>{t.destroy(),l.destroy(),s=n=null},qe=We=>We.replace(/src="(blob:[^"]+)"/g,(st,Nt)=>{const jt=l.getResultUri(Nt);if(jt)return'src="'+jt+'"';let un=t.getByUri(Nt);return un||(un=It(e.editorManager.get(),(wt,dt)=>wt||dt.editorUpload&&dt.editorUpload.blobCache.getByUri(Nt),void 0)),un?'src="data:'+un.blob().type+";base64,"+un.base64()+'"':st});return e.on("SetContent",()=>{Ir(e)?ue():ke()}),e.on("RawSaveContent",We=>{We.content=qe(We.content)}),e.on("GetContent",We=>{We.source_view||We.format==="raw"||We.format==="tree"||(We.content=qe(We.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",We=>{ge(We,st=>{const Nt=st.attr("src");if(!Nt||t.getByUri(Nt))return;const jt=l.getResultUri(Nt);jt&&st.attr("src",jt)})})}),{blobCache:t,addFilter:fe,uploadImages:X,uploadImagesAuto:ue,scanForImages:ke,destroy:ze}},K6=e=>{const t=e.dom,n=e.schema.type,s={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:l=>{t.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:l=>{t.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const l={inline:"span",styles:{textDecoration:"line-through"},exact:!0},f={inline:"strike",remove:"all",preserve_attributes:["class","style"]},g={inline:"s",remove:"all",preserve_attributes:["class","style"]};return n!=="html4"?[g,l,f]:[l,g,f]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(l,f,g)=>yn(l)&&l.hasAttribute("href"),onformat:(l,f,g)=>{Kt.each(g,(C,A)=>{t.setAttrib(l,A,C)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":l=>{var f;return(f=l==null?void 0:l.customValue)!==null&&f!==void 0?f:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Kt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),l=>{s[l]={block:l,remove:"all"}}),s},B4={remove_similar:!0,inherit:!1},_0={selector:"td,th",...B4},q6={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},..._0},tablecellverticalalign:{styles:{"vertical-align":"%value"},..._0},tablecellbordercolor:{styles:{borderColor:"%value"},..._0},tablecellclass:{classes:["%value"],..._0},tableclass:{selector:"table",classes:["%value"],...B4},tablecellborderstyle:{styles:{borderStyle:"%value"},..._0},tablecellborderwidth:{styles:{borderWidth:"%value"},..._0}},HF=Qe(q6),M4=e=>{const t={},n=g=>Ce(g)?t[g]:t,s=g=>Gn(t,g),l=(g,C)=>{g&&(Ie(g)?(oe(C)||(C=[C]),ge(C,A=>{Ze(A.deep)&&(A.deep=!xc(A)),Ze(A.split)&&(A.split=!xc(A)||Xa(A)),Ze(A.remove)&&xc(A)&&!Xa(A)&&(A.remove="none"),xc(A)&&Xa(A)&&(A.mixed=!0,A.block_expand=!0),Ie(A.classes)&&(A.classes=A.classes.split(/\s+/))}),t[g]=C):Uo(g,(A,F)=>{l(F,A)}))},f=g=>(g&&t[g]&&delete t[g],t);return l(K6(e)),l(HF()),l(zM(e)),{get:n,has:s,register:l,unregister:f}},S0=Kt.each,jl=Nr.DOM,Tf=e=>Ce(e)&&re(e),U2=(e,t)=>{const n=t&&t.schema||mc({}),s=(A,F)=>{F.classes.length>0&&jl.addClass(A,F.classes.join(" ")),jl.setAttribs(A,F.attrs)},l=A=>{const F=Ie(A)?{name:A,classes:[],attrs:{}}:A,j=jl.create(F.name);return s(j,F),j},f=(A,F)=>{const j=n.getElementRule(A.nodeName.toLowerCase()),q=j==null?void 0:j.parentsRequired;return q&&q.length?F&&le(q,F)?F:q[0]:!1},g=(A,F,j)=>{let q;const X=F[0],ue=Tf(X)?X.name:void 0,we=f(A,ue);if(we)ue===we?(q=X,F=F.slice(1)):q=we;else if(X)q=X,F=F.slice(1);else if(!j)return A;const fe=q?l(q):jl.create("div");fe.appendChild(A),j&&Kt.each(j,ze=>{const qe=l(ze);fe.insertBefore(qe,A)});const ke=Tf(q)?q.siblings:void 0;return g(fe,F,ke)},C=jl.create("div");if(e.length>0){const A=e[0],F=l(A),j=Tf(A)?A.siblings:void 0;C.appendChild(g(F,e.slice(1),j))}return C},Rv=e=>{e=Kt.trim(e);let t="div";const n={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(s,l,f,g,C)=>{switch(l){case"#":n.attrs.id=f;break;case".":n.classes.push(f);break;case":":Kt.inArray("checked disabled enabled read-only required".split(" "),f)!==-1&&(n.attrs[f]=f);break}if(g==="["){const A=C.match(/([\w\-]+)(?:\=\"([^\"]+))?/);A&&(n.attrs[A[1]]=A[2])}return""})),n.name=t||"div",n},G6=e=>Ie(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Kt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const n=Kt.map(t.split(/(?:~\+|~|\+)/),Rv),s=n.pop();return n.length&&(s.siblings=n),s}).reverse()):[],Y6=(e,t)=>{let n="",s=HM(e);if(s==="")return"";const l=X=>Ie(X)?X.replace(/%(\w+)/g,""):"",f=(X,ue)=>jl.getStyle(ue??e.getBody(),X,!0);if(Ie(t)){const X=e.formatter.get(t);if(!X)return"";t=X[0]}if("preview"in t){const X=t.preview;if(X===!1)return"";s=X||s}let g=t.block||t.inline||"span",C;const A=G6(t.selector);A.length>0?(A[0].name||(A[0].name=g),g=t.selector,C=U2(A,e)):C=U2([g],e);const F=jl.select(g,C)[0]||C.firstChild;S0(t.styles,(X,ue)=>{const we=l(X);we&&jl.setStyle(F,ue,we)}),S0(t.attributes,(X,ue)=>{const we=l(X);we&&jl.setAttrib(F,ue,we)}),S0(t.classes,X=>{const ue=l(X);jl.hasClass(F,ue)||jl.addClass(F,ue)}),e.dispatch("PreviewFormats"),jl.setStyles(C,{position:"absolute",left:-65535}),e.getBody().appendChild(C);const j=f("fontSize"),q=/px$/.test(j)?parseInt(j,10):0;return S0(s.split(" "),X=>{let ue=f(X,F);if(!(X==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ue)&&(ue=f(X),gb(ue).toLowerCase()==="#ffffff"))&&!(X==="color"&&gb(ue).toLowerCase()==="#000000")){if(X==="font-size"&&/em|%$/.test(ue)){if(q===0)return;ue=parseFloat(ue)/(/%$/.test(ue)?100:1)*q+"px"}X==="border"&&ue&&(n+="padding:0 2px;"),n+=X+":"+ue+";"}}),e.dispatch("AfterPreviewFormats"),jl.remove(C),n},P4=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},W2=e=>{const t=M4(e),n=fa({});return P4(e),VR(e),Zm(e)||rN(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(s,l,f)=>{Fr(e,s,l,f)},remove:(s,l,f,g)=>{r6(e,s,l,f,g)},toggle:(s,l,f)=>{d4(e,s,l,f)},match:(s,l,f,g)=>rF(e,s,l,f,g),closest:s=>lF(e,s),matchAll:(s,l)=>sF(e,s,l),matchNode:(s,l,f,g)=>aF(e,s,l,f,g),canApply:s=>iF(e,s),formatChanged:(s,l,f,g)=>s6(e,n,s,l,f,g),getCssText:pt(Y6,e)}},ah=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},k0=(e,t,n)=>{const s=fa(!1),l=A=>{M2(t,!1,n),t.add({},A)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",A=>{const F=A.command;ah(F)||(r4(t,n),t.beforeChange())}),e.on("ExecCommand",A=>{const F=A.command;ah(F)||l(A)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("dragend",l),e.on("keyup",A=>{const F=A.keyCode;if(A.isDefaultPrevented())return;const j=Co.os.isMacOS()&&A.key==="Meta";(F>=33&&F<=36||F>=37&&F<=40||F===45||A.ctrlKey||j)&&(l(),e.nodeChanged()),(F===46||F===8)&&e.nodeChanged(),s.get()&&t.typing&&!Av(Ev(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),s.set(!1),e.nodeChanged())}),e.on("keydown",A=>{const F=A.keyCode;if(A.isDefaultPrevented())return;if(F>=33&&F<=36||F>=37&&F<=40||F===45){t.typing&&l(A);return}const j=A.ctrlKey&&!A.altKey||A.metaKey;if((F<16||F>20)&&F!==224&&F!==91&&!t.typing&&!j){t.beforeChange(),M2(t,!0,n),t.add({},A),s.set(!0);return}(Co.os.isMacOS()?A.metaKey:A.ctrlKey&&!A.altKey)&&t.beforeChange()}),e.on("mousedown",A=>{t.typing&&l(A)});const f=A=>A.inputType==="insertReplacementText",g=A=>A.inputType==="insertText"&&A.data===null,C=A=>A.inputType==="insertFromPaste"||A.inputType==="insertFromDrop";e.on("input",A=>{A.inputType&&(f(A)||g(A)||C(A))&&l(A)}),e.on("AddUndo Undo Redo ClearUndos",A=>{A.isDefaultPrevented()||e.nodeChanged()})},X6=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},J6=e=>{const t=ma(),n=fa(0),s=fa(0),l={data:[],typing:!1,beforeChange:()=>{Tv(e,n,t)},add:(f,g)=>XL(e,l,s,n,t,f,g),dispatchChange:()=>{e.setDirty(!0);const f=Ev(e);f.bookmark=mn(e.selection),e.dispatch("change",{level:f,lastLevel:bi(l.data,s.get()).getOrUndefined()})},undo:()=>JL(e,l,n,s),redo:()=>n6(e,s,l.data),clear:()=>{o6(e,l,s)},reset:()=>{uS(e,l)},hasUndo:()=>QL(e,l,s),hasRedo:()=>eF(e,l,s),transact:f=>tF(e,l,n,f),ignore:f=>{nF(e,n,f)},extra:(f,g)=>{oF(e,l,s,f,g)}};return Zm(e)||k0(e,l,n),X6(e),l},Q6=[9,27,rn.HOME,rn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,rn.DOWN,rn.UP,rn.LEFT,rn.RIGHT].concat(Co.browser.isFirefox()?[224]:[]),eI="data-mce-placeholder",tI=e=>e.type==="keydown"||e.type==="keyup",nI=e=>{const t=e.keyCode;return t===rn.BACKSPACE||t===rn.DELETE},L4=e=>{if(tI(e)){const t=e.keyCode;return!nI(e)&&(rn.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||le(Q6,t))}else return!1},oI=e=>tI(e)&&!(nI(e)||e.type==="keyup"&&e.keyCode===229),VF=(e,t,n)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const s=t.firstElementChild;return s?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:n===s.nodeName.toLowerCase():!0}else return!1},rI=e=>{var t;const n=e.dom,s=Ui(e),l=(t=zk(e))!==null&&t!==void 0?t:"",f=(g,C)=>{if(L4(g))return;const A=e.getBody(),F=oI(g)?!1:VF(n,A,s);(n.getAttrib(A,eI)!==""!==F||C)&&(n.setAttrib(A,eI,F?l:null),P5(e,F),e.on(F?"keydown":"keyup",f),e.off(F?"keyup":"keydown",f))};je(l)&&e.on("init",g=>{f(g,!0),e.on("change SetContent ExecCommand",f),e.on("paste",C=>Cc.setEditorTimeout(e,()=>f(C)))})},$F=(e,t)=>({block:e,position:t}),F4=(e,t)=>({from:e,to:t}),z4=(e,t)=>{const n=Be.fromDom(e),s=Be.fromDom(t.container());return p2(n,s).map(l=>$F(l,t))},sI=e=>!($a(e.to.block,e.from.block)||$a(e.from.block,e.to.block)),H4=e=>!Lo(e.from.block,e.to.block),V4=(e,t)=>Xs(t,l=>hc(l)||cc(l.dom),l=>Lo(l,e)).filter(Ts).getOr(e),$4=(e,t)=>{const n=Be.fromDom(e);return Lo(V4(n,t.from.block),V4(n,t.to.block))},UF=e=>eo(e.from.block.dom)===!1&&eo(e.to.block.dom)===!1,aI=e=>{const t=n=>Eb(n)||Ea(n.dom)||wm(n);return t(e.from.block)&&t(e.to.block)},WF=(e,t,n,s)=>ns(s.position.getNode())&&!Ns(e,s.block)?J1(!1,s.block.dom).bind(l=>l.isEqual(s.position)?eu(n,t,l).bind(f=>z4(t,f)):J.some(s)).getOr(s):s,iI=(e,t,n,s)=>{const l=z4(t,mt.fromRangeStart(s)),f=l.bind(g=>eu(n,t,g.position).bind(C=>z4(t,C).map(A=>WF(e,t,n,A))));return Ha(l,f,F4).filter(g=>H4(g)&&$4(t,g)&&UF(g)&&aI(g)&&sI(g))},lI=(e,t,n,s)=>s.collapsed?iI(e,t,n,s):J.none(),ZF=(e,t)=>{const n=Wa(e);return Cn(n,s=>t.isBlock(Po(s))).fold(Qe(n),s=>n.slice(0,s))},cI=(e,t)=>{const n=ZF(e,t);return ge(n,fr),n},uI=(e,t,n)=>{const s=_c(n,t);return wn(s.reverse(),l=>Ns(e,l)).each(fr)},jF=(e,t)=>Ct(yu(t),n=>!Ns(e,n)).length===0,KF=(e,t,n,s,l)=>{if(Ns(s,n))return pc(n),Un(n.dom);jF(s,l)&&Ns(s,t)&&gs(l,Be.fromTag("br"));const f=yc(n.dom,mt.before(l.dom));return ge(cI(t,s),g=>{gs(l,g)}),uI(s,e,t),f},E0=(e,t)=>e.isInline(Po(t)),dI=(e,t,n,s)=>{if(Ns(s,n)){if(Ns(s,t)){const g=zt((C=>{const A=(F,j)=>yl(F).fold(()=>j,q=>E0(s,q)?A(q,j.concat(Ms(q))):j);return A(C,[])})(n),(C,A)=>(Al(C,A),A),hd());Lr(t),Ds(t,g)}return fr(n),Un(t.dom)}const l=Ru(n.dom);return ge(cI(t,s),f=>{Ds(n,f)}),uI(s,e,t),l},fI=(e,t)=>{const n=_c(t,e);return J.from(n[n.length-1])},mI=(e,t)=>$a(t,e)?fI(t,e):J.none(),gI=(e,t)=>{J1(e,t.dom).bind(n=>J.from(n.getNode())).map(Be.fromDom).filter(Ou).each(fr)},hI=(e,t,n,s)=>(gI(!0,t),gI(!1,n),mI(t,n).fold(pt(dI,e,t,n,s),pt(KF,e,t,n,s))),ih=(e,t,n,s,l)=>t?hI(e,s,n,l):hI(e,n,s,l),pS=(e,t)=>{const n=Be.fromDom(e.getBody());return lI(e.schema,n.dom,t,e.selection.getRng()).map(l=>()=>{ih(n,t,l.from.block,l.to.block,e.schema).each(f=>{e.selection.setRng(f.toRange())})})},bS=(e,t,n)=>{const s=t.getRng();return Ha(p2(e,Be.fromDom(s.startContainer)),p2(e,Be.fromDom(s.endContainer)),(l,f)=>Lo(l,f)?J.none():J.some(()=>{s.deleteContents(),ih(e,!0,l,f,n).each(g=>{t.setRng(g.toRange())})})).getOr(J.none())},pI=(e,t)=>{const n=Be.fromDom(t),s=pt(Lo,e);return Li(n,hc,s).isSome()},bI=(e,t)=>pI(e,t.startContainer)||pI(e,t.endContainer),qF=(e,t)=>{const n=yc(e.dom,mt.fromRangeStart(t)).isNone(),s=Dl(e.dom,mt.fromRangeEnd(t)).isNone();return!bI(e,t)&&n&&s},GF=e=>J.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),U4=e=>{const t=Be.fromDom(e.getBody()),n=e.selection.getRng();return qF(t,n)?GF(e):bS(t,e.selection,e.schema)},W4=(e,t)=>e.selection.isCollapsed()?J.none():U4(e),ys=(e,t,n,s,l)=>J.from(t._selectionOverrides.showCaret(e,n,s,l)),YF=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},Z2=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?J.none():J.some(YF(t)),Z4=(e,t,n)=>{const s=nE(1,e.getBody(),t),l=mt.fromRangeStart(s),f=l.getNode();if(_x(f))return ys(1,e,f,!l.isAtEnd(),!1);const g=l.getNode(!0);if(_x(g))return ys(1,e,g,!1,!1);const C=zu(e.dom.getRoot(),l.getNode());return _x(C)?ys(1,e,C,!1,n):J.none()},vS=(e,t,n)=>t.collapsed?Z4(e,t,n).getOr(t):t,j4=e=>pa(e)||i0(e),XF=e=>Ef(e)||fv(e),JF=(e,t)=>{Mt(t)&&t.data.length===0&&e.remove(t)},vI=(e,t,n,s,l,f)=>{ys(s,e,f.getNode(!l),l,!0).each(g=>{if(t.collapsed){const C=t.cloneRange();l?C.setEnd(g.startContainer,g.startOffset):C.setStart(g.endContainer,g.endOffset),C.deleteContents()}else t.deleteContents();e.selection.setRng(g)}),JF(e.dom,n)},QF=(e,t)=>{const n=e.selection.getRng();if(!Mt(n.commonAncestorContainer))return J.none();const s=t?Ai.Forwards:Ai.Backwards,l=zn(e.getBody()),f=pt(oE,t?l.next:l.prev),g=t?j4:XF,C=Tx(s,e.getBody(),n),A=f(C),F=A&&Fu(t,A);if(!F||!xC(C,F))return J.none();if(g(F))return J.some(()=>vI(e,n,C.getNode(),s,t,F));const j=f(F);return j&&g(j)&&xC(F,j)?J.some(()=>vI(e,n,C.getNode(),s,t,j)):J.none()},K4=(e,t)=>QF(e,t),q4=(e,t)=>{const n=e.getBody();return t?Un(n).filter(pa):Ru(n).filter(Ef)},G4=e=>{const t=e.selection.getRng();return!t.collapsed&&(q4(e,!0).exists(n=>n.isEqual(mt.fromRangeStart(t)))||q4(e,!1).exists(n=>n.isEqual(mt.fromRangeEnd(t))))},Nv=e=>Ce(e)&&(hc(Be.fromDom(e))||wm(Be.fromDom(e))),Oa=Mo.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),ez=(e,t)=>{const n=t.getNode(!e),s=e?"after":"before";return yn(n)&&n.getAttribute("data-mce-caret")===s},tz=(e,t,n,s,l)=>{const f=g=>l.isInline(g.nodeName.toLowerCase())&&!Om(n,s,e);return e5(!t,n).fold(()=>e5(t,s).fold(xn,f),f)},yI=(e,t,n,s,l)=>{const f=l.getNode(!n);return p2(Be.fromDom(t),Be.fromDom(s.getNode())).map(g=>Ns(e,g)?Oa.remove(g.dom):Oa.moveToElement(f)).orThunk(()=>J.some(Oa.moveToElement(f)))},xI=(e,t,n,s)=>eu(t,e,n).bind(l=>Nv(l.getNode())||tz(e,t,n,l,s)?J.none():t&&eo(l.getNode())||!t&&eo(l.getNode(!0))?yI(s,e,t,n,l):t&&Ef(n)||!t&&pa(n)?J.some(Oa.moveToPosition(l)):J.none()),nz=(e,t)=>rt(t)?J.none():e&&eo(t.nextSibling)?J.some(Oa.moveToElement(t.nextSibling)):!e&&eo(t.previousSibling)?J.some(Oa.moveToElement(t.previousSibling)):J.none(),oz=(e,t,n)=>n.fold(s=>J.some(Oa.remove(s)),s=>J.some(Oa.moveToElement(s)),s=>Om(t,s,e)?J.none():J.some(Oa.moveToPosition(s))),rz=(e,t,n,s)=>ez(t,n)?nz(t,n.getNode(!t)).orThunk(()=>xI(e,t,n,s)):xI(e,t,n,s).bind(l=>oz(e,n,l)),sz=(e,t,n,s)=>{const l=nE(t?1:-1,e,n),f=mt.fromRangeStart(l),g=Be.fromDom(e);return!t&&Ef(f)?J.some(Oa.remove(f.getNode(!0))):t&&pa(f)?J.some(Oa.remove(f.getNode())):!t&&pa(f)&&c0(g,f,s)?a_(g,f,s).map(C=>Oa.remove(C.getNode())):t&&Ef(f)&&d2(g,f,s)?UD(g,f,s).map(C=>Oa.remove(C.getNode())):rz(e,t,f,s)},az=(e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),cl(e,t,Be.fromDom(n)),!0),iz=(e,t)=>n=>{const s=t?mt.before(n):mt.after(n);return e.selection.setRng(s.toRange()),!0},lz=e=>t=>(e.selection.setRng(t.toRange()),!0),wI=(e,t)=>J.from(zu(e.getBody(),t)),cz=(e,t)=>{const n=e.selection.getNode();return wI(e,n).filter(eo).fold(()=>sz(e.getBody(),t,e.selection.getRng(),e.schema).map(s=>()=>s.fold(az(e,t),iz(e,t),lz(e))),()=>J.some(Pt))},uz=e=>{ge(Js(e,".mce-offscreen-selection"),fr)},dz=(e,t)=>{const n=e.selection.getNode();return eo(n)&&!Dh(n)?wI(e,n.parentNode).filter(eo).fold(()=>J.some(()=>{uz(Be.fromDom(e.getBody())),cl(e,t,Be.fromDom(e.selection.getNode())),d_(e)}),()=>J.some(Pt)):G4(e)?J.some(()=>{f_(e,e.selection.getRng(),Be.fromDom(e.getBody()))}):J.none()},CI=e=>{const t=e.dom,n=e.selection,s=zu(e.getBody(),n.getNode());if(cc(s)&&t.isBlock(s)&&t.isEmpty(s)){const l=t.create("br",{"data-mce-bogus":"1"});t.setHTML(s,""),s.appendChild(l),n.setRng(mt.before(l).toRange())}return!0},Y4=(e,t)=>e.selection.isCollapsed()?cz(e,t):dz(e,t),_I=e=>e.hasOwnProperty("text"),SI=e=>e.hasOwnProperty("marker"),kI=(e,t)=>{const n=(f,g)=>{if(Mt(f))return{text:f,offset:g};{const C=t(),A=f.childNodes;return g<A.length?(f.insertBefore(C,A[g]),{marker:C,before:!0}):(f.appendChild(C),{marker:C,before:!1})}},s=n(e.endContainer,e.endOffset);return{start:n(e.startContainer,e.startOffset),end:s}},EI=e=>{var t,n;const{start:s,end:l}=e,f=new window.Range;return _I(s)?f.setStart(s.text,s.offset):SI(s)&&(s.before?f.setStartBefore(s.marker):f.setStartAfter(s.marker),(t=s.marker.parentNode)===null||t===void 0||t.removeChild(s.marker)),_I(l)?f.setEnd(l.text,l.offset):SI(l)&&(l.before?f.setEndBefore(l.marker):f.setEndAfter(l.marker),(n=l.marker.parentNode)===null||n===void 0||n.removeChild(l.marker)),f},X4=(e,t)=>{var n;const s=e.dom,l=s.getParent(e.selection.getStart(),s.isBlock),f=s.getParent(e.selection.getEnd(),s.isBlock),g=e.getBody();if(((n=l==null?void 0:l.nodeName)===null||n===void 0?void 0:n.toLowerCase())==="div"&&l&&f&&l===g.firstChild&&f===g.lastChild&&!s.isEmpty(g)){const A=l.cloneNode(!1),F=()=>{if(t?x3(e):u_(e),g.firstChild!==l){const j=kI(e.selection.getRng(),()=>document.createElement("span"));Array.from(g.childNodes).forEach(q=>A.appendChild(q)),g.appendChild(A),e.selection.setRng(EI(j))}};return J.some(F)}return J.none()},fz=(e,t)=>{const n=mt.fromRangeStart(e.selection.getRng());return eu(t,e.getBody(),n).filter(s=>t?LD(s):FD(s)).bind(s=>vC(t?0:-1,s)).map(s=>()=>e.selection.select(s))},J4=(e,t)=>e.selection.isCollapsed()?fz(e,t):J.none(),Iv=Mt,AI=e=>Iv(e)&&e.data[0]===sa,TI=e=>Iv(e)&&e.data[e.data.length-1]===sa,OI=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(sa)},mz=e=>{var t;if(Iv(e.previousSibling))return TI(e.previousSibling)||e.previousSibling.appendData(sa),e.previousSibling;if(Iv(e))return AI(e)||e.insertData(0,sa),e;{const n=OI(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(n,e),n}},gz=e=>{var t,n;if(Iv(e.nextSibling))return AI(e.nextSibling)||e.nextSibling.insertData(0,sa),e.nextSibling;if(Iv(e))return TI(e)||e.appendData(sa),e;{const s=OI(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(s,e.nextSibling):(n=e.parentNode)===null||n===void 0||n.appendChild(s),s}},yS=(e,t)=>e?mz(t):gz(t),DI=pt(yS,!0),hz=pt(yS,!1),RI=(e,t)=>Mt(e.container())?yS(t,e.container()):yS(t,e.getNode()),NI=(e,t)=>{const n=t.get();return n&&e.container()===n&&Cm(n)},Q4=(e,t)=>t.fold(n=>{qh(e.get());const s=DI(n);return e.set(s),J.some(mt(s,s.length-1))},n=>Un(n).map(s=>{if(NI(s,e)){const l=e.get();return mt(l,1)}else{qh(e.get());const l=RI(s,!0);return e.set(l),mt(l,1)}}),n=>Ru(n).map(s=>{if(NI(s,e)){const l=e.get();return mt(l,l.length-1)}else{qh(e.get());const l=RI(s,!1);return e.set(l),mt(l,l.length-1)}}),n=>{qh(e.get());const s=hz(n);return e.set(s),J.some(mt(s,1))}),II=(e,t)=>{for(let n=0;n<e.length;n++){const s=e[n].apply(null,t);if(s.isSome())return s}return J.none()},Nl=Mo.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),BI=(e,t)=>{const n=Gh(t,e);return n||e},pz=(e,t,n)=>{const s=lR(n),l=BI(t,s.container());return cp(e,l,s).fold(()=>Dl(l,s).bind(pt(cp,e,l)).map(f=>Nl.before(f)),J.none)},MI=(e,t)=>Yh(e,t)===null,PI=(e,t,n)=>cp(e,t,n).filter(pt(MI,t)),bz=(e,t,n)=>{const s=bv(n);return PI(e,t,s).bind(l=>yc(l,s).isNone()?J.some(Nl.start(l)):J.none())},vz=(e,t,n)=>{const s=lR(n);return PI(e,t,s).bind(l=>Dl(l,s).isNone()?J.some(Nl.end(l)):J.none())},yz=(e,t,n)=>{const s=bv(n),l=BI(t,s.container());return cp(e,l,s).fold(()=>yc(l,s).bind(pt(cp,e,l)).map(f=>Nl.after(f)),J.none)},LI=e=>!g2(eT(e)),jm=(e,t,n)=>II([pz,bz,vz,yz],[e,t,n]).filter(LI),eT=e=>e.fold(On,On,On,On),FI=e=>e.fold(Qe("before"),Qe("start"),Qe("end"),Qe("after")),j2=e=>e.fold(Nl.before,Nl.before,Nl.after,Nl.after),xS=e=>e.fold(Nl.start,Nl.start,Nl.end,Nl.end),xz=(e,t)=>FI(e)===FI(t)&&eT(e)===eT(t),zI=(e,t,n,s,l,f)=>Ha(cp(t,n,s),cp(t,n,l),(g,C)=>g!==C&&iR(n,g,C)?Nl.after(e?g:C):f).getOr(f),wz=(e,t)=>e.fold(Rn,n=>!xz(n,t)),Cz=(e,t,n,s,l)=>{const f=Fu(e,l);return eu(e,n,f).map(pt(Fu,e)).fold(()=>s.map(j2),A=>jm(t,n,A).map(pt(zI,e,t,n,f,A)).filter(pt(wz,s))).filter(LI)},_z=(e,t)=>e?t.fold(ln(J.some,Nl.start),J.none,ln(J.some,Nl.after),J.none):t.fold(J.none,ln(J.some,Nl.before),J.none,ln(J.some,Nl.end)),Sz=(e,t,n,s)=>{const l=Fu(e,s),f=jm(t,n,l);return jm(t,n,l).bind(pt(_z,e)).orThunk(()=>Cz(e,t,n,f,s))},kz=e=>Re(e.selection.getSel().modify),HI=(e,t,n)=>{const s=e?1:-1;return t.setRng(mt(n.container(),n.offset()+s).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},tT=(e,t)=>{const n=t.selection.getRng(),s=e?mt.fromRangeEnd(n):mt.fromRangeStart(n);return kz(t)?e&&Ob(s)?HI(!0,t.selection,s):!e&&M1(s)?HI(!1,t.selection,s):!1:!1};var Ad;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Ad||(Ad={}));const wS=(e,t)=>e===Ai.Backwards?Ao(t):t,VI=(e,t,n)=>e===Ai.Forwards?t.next(n):t.prev(n),Ez=(e,t,n,s)=>ns(s.getNode(t===Ai.Forwards))?Ad.Br:Om(n,s)===!1?Ad.Block:Ad.Wrap,$I=(e,t,n,s)=>{const l=zn(n);let f=s;const g=[];for(;f;){const C=VI(t,l,f);if(!C)break;if(ns(C.getNode(!1)))return t===Ai.Forwards?{positions:wS(t,g).concat([C]),breakType:Ad.Br,breakAt:J.some(C)}:{positions:wS(t,g),breakType:Ad.Br,breakAt:J.some(C)};if(!C.isVisible()){f=C;continue}if(e(f,C)){const A=Ez(n,t,f,C);return{positions:wS(t,g),breakType:A,breakAt:J.some(C)}}g.push(C),f=C}return{positions:wS(t,g),breakType:Ad.Eol,breakAt:J.none()}},UI=(e,t,n,s)=>t(n,s).breakAt.map(l=>{const f=t(n,l).positions;return e===Ai.Backwards?f.concat(l):[l].concat(f)}).getOr([]),nT=(e,t)=>It(e,(n,s)=>n.fold(()=>J.some(s),l=>Ha(cn(l.getClientRects()),cn(s.getClientRects()),(f,g)=>{const C=Math.abs(t-f.left);return Math.abs(t-g.left)<=C?s:l}).or(n)),J.none()),CS=(e,t)=>cn(t.getClientRects()).bind(n=>nT(e,n.left)),K2=pt($I,mt.isAbove,-1),q2=pt($I,mt.isBelow,1),WI=pt(UI,-1,K2),_S=pt(UI,1,q2),ZI=(e,t)=>K2(e,t).breakAt.isNone(),jI=(e,t)=>q2(e,t).breakAt.isNone(),Az=e=>Un(e).map(t=>[t].concat(q2(e,t).positions)).getOr([]),KI=e=>Ru(e).map(t=>K2(e,t).positions.concat(t)).getOr([]),A0=(e,t)=>CS(WI(e,t),t),Tz=(e,t)=>CS(_S(e,t),t),Oz=eo,qI=(e,t)=>Math.abs(e.left-t),Kl=(e,t)=>Math.abs(e.right-t),GI=e=>El(e,"node"),YI=(e,t)=>Ji(e,(n,s)=>{const l=Math.min(qI(n,t),Kl(n,t)),f=Math.min(qI(s,t),Kl(s,t));return f===l&&GI(s)&&Oz(s.node)||f<l?s:n}),Dz=e=>{const t=n=>Me(n,s=>{const l=df(s);return l.node=e,l});if(yn(e))return t(e.getClientRects());if(Mt(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}else return[]},XI=e=>ao(e,Dz);var G2;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(G2||(G2={}));const Rz=(e,t,n,s)=>{let l=s;for(;l=kx(l,e,Mb,t);)if(n(l))return},oT=(e,t,n,s,l,f)=>{let g=0;const C=[],A=q=>{let X=XI([q]);e===-1&&(X=X.reverse());for(let ue=0;ue<X.length;ue++){const we=X[ue];if(!n(we,F)){if(C.length>0&&t(we,ri(C))&&g++,we.line=g,l(we))return!0;C.push(we)}}return!1},F=ri(f.getClientRects());if(!F)return C;const j=f.getNode();return j&&(A(j),Rz(e,s,A,j)),C},Nz=(e,t)=>t.line>e,Iz=(e,t)=>t.line===e,Bz=pt(oT,G2.Up,gf,$g),Mz=pt(oT,G2.Down,$g,gf),JI=e=>ri(e.getClientRects()),Bv=(e,t,n,s)=>{const l=zn(t);let f,g,C,A;const F=[];let j=0;e===1?(f=l.next,g=$g,C=gf,A=mt.after(s)):(f=l.prev,g=gf,C=$g,A=mt.before(s));const q=JI(A);do{if(!A.isVisible())continue;const X=JI(A);if(C(X,q))continue;F.length>0&&g(X,ri(F))&&j++;const ue=df(X);if(ue.position=A,ue.line=j,n(ue))return F;F.push(ue)}while(A=f(A));return F},rT=e=>t=>Nz(e,t),Mv=e=>t=>Iz(e,t),Of=(e,t)=>{e.selection.setRng(t),Bu(e,e.selection.getRng())},SS=(e,t,n)=>J.some(vS(e,t,n)),sT=(e,t,n,s,l,f)=>{const g=t===Ai.Forwards,C=zn(e.getBody()),A=pt(oE,g?C.next:C.prev),F=g?s:l;if(!n.collapsed){const we=Uh(n);if(f(we))return ys(t,e,we,t===Ai.Backwards,!1);if(G4(e)){const fe=n.cloneRange();return fe.collapse(t===Ai.Backwards),J.from(fe)}}const j=Tx(t,e.getBody(),n);if(F(j))return Z2(e,j.getNode(!g));let q=A(j);const X=Vg(n);if(q)q=Fu(g,q);else return X?J.some(n):J.none();if(F(q))return ys(t,e,q.getNode(!g),g,!1);const ue=A(q);return ue&&F(ue)&&xC(q,ue)?ys(t,e,ue.getNode(!g),g,!1):X?SS(e,q.toRange(),!1):J.none()},QI=(e,t,n,s,l,f)=>{const g=Tx(t,e.getBody(),n),C=ri(g.getClientRects()),A=t===G2.Down,F=e.getBody();if(!C)return J.none();if(G4(e)){const ke=A?mt.fromRangeEnd(n):mt.fromRangeStart(n);return(A?Tz:A0)(F,ke).orThunk(()=>J.from(ke)).map(qe=>qe.toRange())}const q=(A?Mz:Bz)(F,rT(1),g),X=Ct(q,Mv(1)),ue=C.left,we=YI(X,ue);if(we&&f(we.node)){const ke=Math.abs(ue-we.left),ze=Math.abs(ue-we.right);return ys(t,e,we.node,ke<ze,!1)}let fe;if(s(g)?fe=g.getNode():l(g)?fe=g.getNode(!0):fe=Uh(n),fe){const ke=Bv(t,F,rT(1),fe);let ze=YI(Ct(ke,Mv(1)),ue);if(ze||(ze=ri(Ct(ke,Mv(0))),ze))return SS(e,ze.position.toRange(),!1)}return X.length===0?kS(e,A).filter(A?l:s).map(ke=>vS(e,ke.toRange(),!1)):J.none()},kS=(e,t)=>{const n=e.selection.getRng(),s=t?mt.fromRangeEnd(n):mt.fromRangeStart(n),l=iP(s.container(),e.getBody());if(t){const f=q2(l,s);return po(f.positions)}else{const f=K2(l,s);return cn(f.positions)}},eB=(e,t,n)=>kS(e,t).filter(n).exists(s=>(e.selection.setRng(s.toRange()),!0)),Y2=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},aT=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},iT=(e,t,n)=>Q4(t,n).map(s=>(Y2(e,s),n)),tB=(e,t,n)=>{const s=mt.fromRangeStart(e);if(e.collapsed)return s;{const l=mt.fromRangeEnd(e);return n?yc(t,l).getOr(l):Dl(t,s).getOr(s)}},nB=(e,t,n)=>{const s=e.getBody(),l=tB(e.selection.getRng(),s,n),f=pt(d0,e);return Sz(n,f,s,l).bind(C=>iT(e,t,C))},oB=(e,t,n)=>{const s=Me(Js(Be.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),g=>g.dom),l=Ct(s,e),f=Ct(n,e);ge(Oo(l,f),pt(aT,!1)),ge(Oo(f,l),pt(aT,!0))},lT=(e,t)=>{const n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){const s=mt.fromRangeStart(e.selection.getRng());mt.isTextPosition(s)&&!v3(s)&&(Y2(e,rP(n,s)),t.set(null))}},rB=(e,t,n,s)=>{if(t.selection.isCollapsed()){const l=Ct(s,e);ge(l,f=>{const g=mt.fromRangeStart(t.selection.getRng());jm(e,t.getBody(),g).bind(C=>iT(t,n,C))})}},cT=(e,t,n)=>G1(e)?nB(e,t,n).isSome():!1,uT=(e,t,n)=>G1(t)?tT(e,t):!1,sB=e=>{const t=fa(null),n=pt(d0,e);return e.on("NodeChange",s=>{G1(e)&&(oB(n,e.dom,s.parents),lT(e,t),rB(n,e,t,s.parents))}),t},aB=pt(uT,!0),iB=pt(uT,!1),X2=(e,t,n)=>{if(G1(e)){const s=kS(e,t).getOrThunk(()=>{const l=e.selection.getRng();return t?mt.fromRangeEnd(l):mt.fromRangeStart(l)});return jm(pt(d0,e),e.getBody(),s).exists(l=>{const f=j2(l);return Q4(n,f).exists(g=>(Y2(e,g),!0))})}else return!1},dT=(e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},fT=e=>Ha(Un(e),Ru(e),(t,n)=>{const s=Fu(!0,t),l=Fu(!1,n);return Dl(e,s).forall(f=>f.isEqual(l))}).getOr(!0),J2=(e,t)=>n=>Q4(t,n).map(s=>()=>Y2(e,s)),mT=(e,t,n,s)=>{const l=e.getBody(),f=pt(d0,e);e.undoManager.ignore(()=>{e.selection.setRng(dT(n,s)),u_(e),jm(f,l,mt.fromRangeStart(e.selection.getRng())).map(xS).bind(J2(e,t)).each(ho)}),e.nodeChanged()},lB=(e,t)=>{const n=Gh(t,e);return n||e},cB=(e,t,n,s)=>{const l=lB(e.getBody(),s.container()),f=pt(d0,e),g=jm(f,l,s);return g.bind(A=>n?A.fold(Qe(J.some(xS(A))),J.none,Qe(J.some(j2(A))),J.none):A.fold(J.none,Qe(J.some(j2(A))),J.none,Qe(J.some(xS(A))))).map(J2(e,t)).getOrThunk(()=>{const A=qb(n,l,s),F=A.bind(j=>jm(f,l,j));return Ha(g,F,()=>cp(f,l,s).bind(j=>fT(j)?J.some(()=>{cl(e,n,Be.fromDom(j))}):J.none())).getOrThunk(()=>F.bind(()=>A.map(j=>()=>{n?mT(e,t,s,j):mT(e,t,j,s)})))})},Q2=(e,t,n)=>{if(e.selection.isCollapsed()&&G1(e)){const s=mt.fromRangeStart(e.selection.getRng());return cB(e,t,n,s)}return J.none()},uB=e=>sd(e)>1,gT=(e,t)=>{const n=Be.fromDom(e.getBody()),s=Be.fromDom(e.selection.getStart()),l=_c(s,n);return Cn(l,t).fold(Qe(l),f=>l.slice(0,f))},dB=e=>sd(e)===1,Pz=e=>gT(e,t=>e.schema.isBlock(Po(t))||uB(t)),fB=e=>gT(e,t=>e.schema.isBlock(Po(t))),hT=(e,t)=>{const n=pt(xv,e);return ao(t,s=>n(s)?[s.dom]:[])},ew=e=>{const t=fB(e);return hT(e,t)},mB=(e,t,n,s)=>{const l=hT(t,s);if(l.length===0)cl(t,e,n);else{const f=nA(n.dom,l);t.selection.setRng(f.toRange())}},gB=(e,t)=>{const n=Ct(Pz(e),dB);return po(n).bind(s=>{const l=mt.fromRangeStart(e.selection.getRng());return dR(t,l,s.dom)&&!DC(s)?J.some(()=>mB(t,e,s,n)):J.none()})},pT=(e,t)=>{const n=t.parentElement;return ns(t)&&!Ge(n)&&e.dom.isEmpty(n)},Lz=e=>DC(Be.fromDom(e)),bT=(e,t)=>{const n=e.selection.getStart(),s=pT(e,n)||Lz(n)?nA(n,t):Z7(e.selection.getRng(),t);e.selection.setRng(s.toRange())},Fz=(e,t)=>{const n=Oo(t,ew(e));n.length>0&&bT(e,n)},vT=e=>Mt(e.startContainer),hB=e=>e.startOffset===0&&vT(e),zz=(e,t)=>{const n=t.startContainer.parentElement;return!Ge(n)&&xv(e,Be.fromDom(n))},Hz=e=>{const t=e.startContainer.parentNode,n=e.endContainer.parentNode;return!Ge(t)&&!Ge(n)&&t.isEqualNode(n)},o=e=>{const t=e.endContainer;return e.endOffset===(Mt(t)?t.length:t.childNodes.length)},a=e=>Hz(e)&&o(e),c=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),d=e=>a(e)||c(e),h=e=>{const t=e.selection.getRng();return hB(t)&&zz(e,t)&&d(t)},b=e=>{if(h(e)){const t=ew(e);return J.some(()=>{u_(e),Fz(e,t)})}else return J.none()},w=(e,t)=>e.selection.isCollapsed()?gB(e,t):b(e),k=(e,t)=>Lw(e,n=>tu(n.dom),n=>t.isBlock(Po(n))),E=e=>k(Be.fromDom(e.selection.getStart()),e.schema),O=e=>{const t=e.selection.getRng();return t.collapsed&&(vT(t)||e.dom.isEmpty(t.startContainer))&&!E(e)},L=e=>(O(e)&&bT(e,[]),!0),B=(e,t,n)=>Ce(n)?J.some(()=>{e._selectionOverrides.hideFakeCaret(),cl(e,t,Be.fromDom(n))}):J.none(),H=(e,t)=>{const n=t?i0:fv,s=t?Ai.Forwards:Ai.Backwards,l=Tx(s,e.getBody(),e.selection.getRng());return n(l)?B(e,t,l.getNode(!t)):J.from(Fu(t,l)).filter(f=>n(f)&&xC(l,f)).bind(f=>B(e,t,f.getNode(!t)))},K=(e,t)=>{const n=e.selection.getNode();return xt(n)?B(e,t,n):J.none()},Y=(e,t)=>e.selection.isCollapsed()?H(e,t):K(e,t),se=e=>Xs(e,t=>cc(t.dom)||eo(t.dom)).exists(t=>cc(t.dom)),ce=e=>nn(e??"").getOr(0),be=(e,t)=>{const n=e||kb(t)?"margin":"padding",s=Os(t,"direction")==="rtl"?"-right":"-left";return n+s},ie=(e,t,n,s,l,f)=>{const g=be(n,Be.fromDom(f)),C=ce(e.getStyle(f,g));if(t==="outdent"){const A=Math.max(0,C-s);e.setStyle(f,g,A?A+l:"")}else{const A=C+s+l;e.setStyle(f,g,A)}},ae=(e,t)=>vo(t,n=>{const s=be(xO(e),n),l=ws(n,s).map(ce).getOr(0);return e.dom.getContentEditable(n.dom)!=="false"&&l>0}),me=e=>{const t=Fe(e);return!e.mode.isReadOnly()&&(t.length>1||ae(e,t))},ye=e=>Ab(e)||wm(e),_e=e=>Ua(e).exists(ye),Fe=e=>Ct($c(e.selection.getSelectedBlocks()),t=>!ye(t)&&!_e(t)&&se(t)),Xe=(e,t)=>{var n,s;const{dom:l}=e,f=Qc(e),g=(s=(n=/[a-z%]+$/i.exec(f))===null||n===void 0?void 0:n[0])!==null&&s!==void 0?s:"px",C=ce(f),A=xO(e);ge(Fe(e),F=>{ie(l,t,A,C,g,F.dom)})},_t=e=>Xe(e,"indent"),vt=e=>Xe(e,"outdent"),gt=e=>{if(e.selection.isCollapsed()&&me(e)){const t=e.dom,n=e.selection.getRng(),s=mt.fromRangeStart(n),l=t.getParent(n.startContainer,t.isBlock);if(l!==null&&s_(Be.fromDom(l),s,e.schema))return J.some(()=>vt(e))}return J.none()},Bt=(e,t,n)=>$r([gt,Y4,K4,(s,l)=>Q2(s,t,l),pS,th,J4,Y,W4,w,X4],s=>s(e,n)).filter(s=>e.selection.isEditable()),sn=(e,t)=>{Bt(e,t,!1).fold(()=>{e.selection.isEditable()&&(u_(e),d_(e))},ho)},bn=(e,t)=>{Bt(e,t,!0).fold(()=>{e.selection.isEditable()&&x3(e)},ho)},In=(e,t)=>{e.addCommand("delete",()=>{sn(e,t)}),e.addCommand("forwardDelete",()=>{bn(e,t)})},qn=5,So=400,zr=e=>e.touches===void 0||e.touches.length!==1?J.none():J.some(e.touches[0]),Xr=(e,t)=>{const n=Math.abs(e.clientX-t.x),s=Math.abs(e.clientY-t.y);return n>qn||s>qn},mo=e=>{const t=ma(),n=fa(!1),s=zh(l=>{e.dispatch("longpress",{...l,type:"longpress"}),n.set(!0)},So);e.on("touchstart",l=>{zr(l).each(f=>{s.cancel();const g={x:f.clientX,y:f.clientY,target:l.target};s.throttle(l),n.set(!1),t.set(g)})},!0),e.on("touchmove",l=>{s.cancel(),zr(l).each(f=>{t.on(g=>{Xr(f,g)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",l=>{s.cancel(),l.type!=="touchcancel"&&t.get().filter(f=>f.target.isEqualNode(l.target)).each(()=>{n.get()?l.preventDefault():e.dispatch("tap",{...l,type:"tap"})})},!0)},zo=(e,t)=>Gn(e,t.nodeName),Fn=(e,t)=>Mt(t)?!0:yn(t)?!zo(e.getBlockElements(),t)&&!nu(t)&&!of(e,t)&&!ga(t):!1,Jr=(e,t,n)=>xe(Ul(Be.fromDom(n),Be.fromDom(t)),s=>zo(e,s.dom)),Cr=(e,t)=>{if(Mt(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||zo(e,t.nextSibling)||ga(t.nextSibling)}return!1},Oi=e=>e.dom.create(Ui(e),px(e)),Di=e=>{const t=e.dom,n=e.selection,s=e.schema,l=s.getBlockElements(),f=n.getStart(),g=e.getBody();let C,A,F=null;const j=Ui(e);if(!f||!yn(f))return;const q=g.nodeName.toLowerCase();if(!s.isValidChild(q,j.toLowerCase())||Jr(l,g,f))return;if(g.firstChild===g.lastChild&&ns(g.firstChild)){C=Oi(e),C.appendChild(hd().dom),g.replaceChild(C,g.firstChild),e.selection.setCursorLocation(C,0),e.nodeChanged();return}let X=g.firstChild;for(;X;)if(yn(X)&&zl(s,X),Fn(s,X)){if(Cr(l,X)){A=X,X=X.nextSibling,t.remove(A);continue}if(!C){if(!F&&e.hasFocus()&&(F=kI(e.selection.getRng(),()=>document.createElement("span"))),!X.parentNode){X=null;break}C=Oi(e),g.insertBefore(C,X)}A=X,X=X.nextSibling,C.appendChild(A)}else C=null,X=X.nextSibling;F&&(e.selection.setRng(EI(F)),e.nodeChanged())},Da=(e,t,n)=>{const s=Be.fromDom(Oi(e)),l=hd();Ds(s,l),n(t,s);const f=document.createRange();return f.setStartBefore(l.dom),f.setEndBefore(l.dom),f},ba=e=>{e.on("NodeChange",()=>Di(e))},lh=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,Pv=(e,t,n)=>function(s){const l=arguments,f=l[l.length-2],g=f>0?t.charAt(f-1):"";if(g==='"')return s;if(g===">"){const C=t.lastIndexOf("<",f);if(C!==-1&&t.substring(C,f).indexOf('contenteditable="false"')!==-1)return s}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(l[0])+'">'+e.dom.encode(typeof l[1]=="string"?l[1]:l[0])+"</span>"},Sp=(e,t,n)=>{let s=t.length,l=n.content;if(n.format!=="raw"){for(;s--;)l=l.replace(t[s],Pv(e,l,Wb(e)));n.content=l}},ch=(e,t)=>vo(e,n=>{const s=t.match(n);return s!==null&&s[0].length===t.length}),tw=e=>{const t="contenteditable",n=" "+Kt.trim(XM(e))+" ",s=" "+Kt.trim(Wb(e))+" ",l=lh(n),f=lh(s),g=BO(e);g.length>0&&e.on("BeforeSetContent",C=>{Sp(e,g,C)}),e.parser.addAttributeFilter("class",C=>{let A=C.length;for(;A--;){const F=C[A];l(F)?F.attr(t,"true"):f(F)&&F.attr(t,"false")}}),e.serializer.addAttributeFilter(t,C=>{let A=C.length;for(;A--;){const F=C[A];if(!l(F)&&!f(F))continue;const j=F.attr("data-mce-content");g.length>0&&j?ch(g,j)?(F.name="#text",F.type=3,F.raw=!0,F.value=j):F.remove():F.attr(t,null)}})},kp=e=>At(Be.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),Km=(e,t)=>{t.hasAttribute("data-mce-caret")&&(Hg(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},T0=(e,t)=>{const n=kp(e);if(n){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),Km(e,n);return}I1(n)&&(Km(e,n),e.undoManager.add())}},O0=e=>{e.on("keyup compositionstart",pt(T0,e))},Lv=eo,ES=(e,t,n)=>sT(t,e,n,pa,Ef,Lv),nw=(e,t,n)=>QI(t,e,n,f=>pa(f)||zD(f),f=>Ef(f)||mv(f),Lv),Ep=e=>{const t=e.dom.create(Ui(e));return t.innerHTML='<br data-mce-bogus="1">',t},qm=(e,t,n)=>{const s=zn(e.getBody()),l=pt(oE,t===1?s.next:s.prev);if(n.collapsed){const f=e.dom.getParent(n.startContainer,"PRE");if(!f)return;if(!l(mt.fromRangeStart(n))){const C=Be.fromDom(Ep(e));t===1?et(Be.fromDom(f),C):gs(Be.fromDom(f),C),e.selection.select(C.dom,!0),e.selection.collapse()}}},uh=(e,t)=>{const n=t?Ai.Forwards:Ai.Backwards,s=e.selection.getRng();return ES(n,e,s).orThunk(()=>(qm(e,n,s),J.none()))},ow=(e,t)=>{const n=t?1:-1,s=e.selection.getRng();return nw(n,e,s).orThunk(()=>(qm(e,n,s),J.none()))},rw=(e,t)=>{const n=t?e.getEnd(!0):e.getStart(!0);return g2(n)?!t:t},Yo=(e,t)=>uh(e,rw(e.selection,t)).exists(n=>(Of(e,n),!0)),Gm=(e,t)=>ow(e,t).exists(n=>(Of(e,n),!0)),Td=(e,t)=>eB(e,t,t?Ef:pa),D0=(e,t)=>q4(e,!t).map(n=>{const s=n.toRange(),l=e.selection.getRng();return t?s.setStart(l.startContainer,l.startOffset):s.setEnd(l.endContainer,l.endOffset),s}).exists(n=>(Of(e,n),!0)),AS=e=>le(["figcaption"],Po(e)),dh=(e,t,n)=>{const s=pt(Lo,t);return Xs(Be.fromDom(e.container()),l=>n.isBlock(Po(l)),s).filter(AS)},Fv=(e,t,n)=>t?jI(e.dom,n):ZI(e.dom,n),yT=(e,t)=>{const n=Be.fromDom(e.getBody()),s=mt.fromRangeStart(e.selection.getRng());return dh(s,n,e.schema).exists(()=>{if(Fv(n,t,s)){const f=Da(e,n,t?Ds:_i);return e.selection.setRng(f),!0}else return!1})},TS=(e,t)=>e.selection.isCollapsed()?yT(e,t):!1,Vz=(e,t,n)=>{const s=e.selection.getRng(),l=mt.fromRangeStart(s);return e.getBody().firstChild===t&&ZI(n,l)?(e.execCommand("InsertNewBlockBefore"),!0):!1},zv=(e,t)=>{const n=e.selection.getRng(),s=mt.fromRangeStart(n);return e.getBody().lastChild===t&&jI(t,s)?(e.execCommand("InsertNewBlockAfter"),!0):!1},$z=(e,t)=>t?J.from(e.dom.getParent(e.selection.getNode(),"details")).map(n=>zv(e,n)).getOr(!1):J.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(n=>J.from(e.dom.getParent(n,"details")).map(s=>Vz(e,s,n))).getOr(!1),dl=(e,t)=>$z(e,t),R0={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},Uz=e=>Me(e,t=>({...R0,...t})),pB=e=>Me(e,t=>({...R0,...t})),OS=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,bB=(e,t)=>ao(Uz(e),n=>OS(n,t)?[n]:[]),vB=(e,t)=>ao(pB(e),n=>OS(n,t)?[n]:[]),Jn=(e,...t)=>()=>e.apply(null,t),Ap=(e,t)=>wn(bB(e,t),n=>n.action()),DS=(e,t)=>$r(vB(e,t),n=>n.action()),Tp=(e,t)=>{const n=t?Ai.Forwards:Ai.Backwards,s=e.selection.getRng();return sT(e,n,s,i0,fv,xt).exists(l=>(Of(e,l),!0))},Hv=(e,t)=>{const n=t?1:-1,s=e.selection.getRng();return QI(e,n,s,i0,fv,xt).exists(l=>(Of(e,l),!0))},xT=(e,t)=>eB(e,t,t?fv:i0),wT=Mo.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Wu={...wT,none:e=>wT.none(e)},yB=(e,t)=>_T(e,t,Rn),_T=(e,t,n)=>ao(Wa(e),s=>yr(s,t)?n(s)?[s]:[]:_T(s,t,n)),xB=(e,t,n=xn)=>{if(n(t))return J.none();if(le(e,Po(t)))return J.some(t);const s=l=>yr(l,"table")||n(l);return Hc(t,e.join(","),s)},wB=(e,t)=>xB(["td","th"],e,t),Wz=e=>yB(e,"th,td"),at=(e,t)=>ka(e,"table",t),Bn=(e,t,n,s,l=Rn)=>{const f=s===1;if(!f&&n<=0)return Wu.first(e[0]);if(f&&n>=e.length-1)return Wu.last(e[e.length-1]);{const g=n+s,C=e[g];return l(C)?Wu.middle(t,C):Bn(e,t,g,s,l)}},to=(e,t)=>at(e,t).bind(n=>{const s=Wz(n);return Cn(s,f=>Lo(e,f)).map(f=>({index:f,all:s}))}),Hr=(e,t,n)=>to(e,n).fold(()=>Wu.none(e),l=>Bn(l.all,e,l.index,1,t)),Ps=(e,t,n)=>to(e,n).fold(()=>Wu.none(),l=>Bn(l.all,e,l.index,-1,t)),qs=e=>Jw(e).filter(t=>t.trim().length!==0||t.indexOf(da)>-1).isSome(),Ws=e=>vi(e)&&ii(e,"contenteditable")==="false",ia=["img","br"],Vv=e=>qs(e)||le(ia,Po(e))||Ws(e),Zz=e=>Sa(e,Vv),CB=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),f$=(e,t)=>ao(t,n=>{const s=CB(df(n.getBoundingClientRect()),-1);return[{x:s.left,y:e(s),cell:n},{x:s.right,y:e(s),cell:n}]}),sX=(e,t,n)=>It(e,(s,l)=>s.fold(()=>J.some(l),f=>{const g=Math.sqrt(Math.abs(f.x-t)+Math.abs(f.y-n)),C=Math.sqrt(Math.abs(l.x-t)+Math.abs(l.y-n));return J.some(C<g?l:f)}),J.none()),m$=(e,t,n,s,l)=>{const f=Js(Be.fromDom(n),"td,th,caption").map(C=>C.dom),g=Ct(f$(e,f),C=>t(C,l));return sX(g,s,l).map(C=>C.cell)},aX=e=>e.bottom,iX=e=>e.top,lX=(e,t)=>e.y<t,cX=(e,t)=>e.y>t,uX=pt(m$,aX,lX),dX=pt(m$,iX,cX),fX=(e,t)=>cn(t.getClientRects()).bind(n=>uX(e,n.left,n.top)).bind(n=>CS(KI(n),t)),mX=(e,t)=>po(t.getClientRects()).bind(n=>dX(e,n.left,n.top)).bind(n=>CS(Az(n),t)),gX=(e,t,n)=>n.breakAt.exists(s=>e(t,s).breakAt.isSome()),hX=e=>e.breakType===Ad.Wrap&&e.positions.length===0,pX=e=>e.breakType===Ad.Br&&e.positions.length===1,g$=(e,t,n)=>{const s=e(t,n);return hX(s)||!ns(n.getNode())&&pX(s)?!gX(e,t,s):s.breakAt.isNone()},bX=pt(g$,K2),vX=pt(g$,q2),yX=(e,t,n)=>{const s=mt.fromRangeStart(t);return J1(!e,n).exists(l=>l.isEqual(s))},xX=(e,t,n,s)=>{const l=e.selection.getRng(),f=t?1:-1;return Jk()&&yX(t,l,n)?(ys(f,e,n,!t,!1).each(g=>{Of(e,g)}),!0):!1},wX=(e,t,n)=>fX(t,n).orThunk(()=>cn(n.getClientRects()).bind(s=>nT(WI(e,mt.before(t)),s.left))).getOr(mt.before(t)),CX=(e,t,n)=>mX(t,n).orThunk(()=>cn(n.getClientRects()).bind(s=>nT(_S(e,mt.after(t)),s.left))).getOr(mt.after(t)),h$=(e,t)=>{const n=t.getNode(e);return Wc(n)?J.some(n):J.none()},_X=(e,t,n)=>{t.undoManager.transact(()=>{const s=e?et:gs,l=Da(t,Be.fromDom(n),s);Of(t,l)})},p$=(e,t,n)=>{const s=h$(!!t,n),l=t===!1;s.fold(()=>Of(e,n.toRange()),f=>J1(l,e.getBody()).filter(g=>g.isEqual(n)).fold(()=>Of(e,n.toRange()),g=>_X(t,e,f)))},SX=(e,t,n,s)=>{const l=e.selection.getRng(),f=mt.fromRangeStart(l),g=e.getBody();if(!t&&bX(s,f)){const C=wX(g,n,f);return p$(e,t,C),!0}else if(t&&vX(s,f)){const C=CX(g,n,f);return p$(e,t,C),!0}else return!1},b$=(e,t,n)=>J.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(s=>J.from(e.dom.getParent(s,"table")).map(l=>n(e,t,l,s))).getOr(!1),v$=(e,t)=>b$(e,t,xX),jz=(e,t)=>b$(e,t,SX),kX=e=>{const t=op.exact(e,0,e,0);return LP(t)},y$=(e,t,n)=>n.fold(J.none,J.none,(s,l)=>Zz(l).map(f=>kX(f)),s=>(e.execCommand("mceTableInsertRowAfter"),x$(e,t,s))),x$=(e,t,n)=>y$(e,t,Hr(n,ls)),EX=(e,t,n)=>y$(e,t,Ps(n,ls)),w$=(e,t)=>{const n=["table","li","dl"],s=Be.fromDom(e.getBody()),l=C=>{const A=Po(C);return Lo(C,s)||le(n,A)},f=e.selection.getRng(),g=Be.fromDom(t?f.endContainer:f.startContainer);return wB(g,l).map(C=>(at(C,l).each(j=>{e.model.table.clearSelectedCells(j.dom)}),e.selection.collapse(!t),(t?x$:EX)(e,l,C).each(j=>{e.selection.setRng(j)}),!0)).getOr(!1)},AX=(e,t,n)=>{const s=Co.os.isMacOS()||Co.os.isiOS();Ap([{keyCode:rn.RIGHT,action:Jn(Yo,e,!0)},{keyCode:rn.LEFT,action:Jn(Yo,e,!1)},{keyCode:rn.UP,action:Jn(Gm,e,!1)},{keyCode:rn.DOWN,action:Jn(Gm,e,!0)},...s?[{keyCode:rn.UP,action:Jn(D0,e,!1),metaKey:!0,shiftKey:!0},{keyCode:rn.DOWN,action:Jn(D0,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:rn.RIGHT,action:Jn(v$,e,!0)},{keyCode:rn.LEFT,action:Jn(v$,e,!1)},{keyCode:rn.UP,action:Jn(jz,e,!1)},{keyCode:rn.DOWN,action:Jn(jz,e,!0)},{keyCode:rn.UP,action:Jn(jz,e,!1)},{keyCode:rn.UP,action:Jn(dl,e,!1)},{keyCode:rn.DOWN,action:Jn(dl,e,!0)},{keyCode:rn.RIGHT,action:Jn(Tp,e,!0)},{keyCode:rn.LEFT,action:Jn(Tp,e,!1)},{keyCode:rn.UP,action:Jn(Hv,e,!1)},{keyCode:rn.DOWN,action:Jn(Hv,e,!0)},{keyCode:rn.RIGHT,action:Jn(cT,e,t,!0)},{keyCode:rn.LEFT,action:Jn(cT,e,t,!1)},{keyCode:rn.RIGHT,ctrlKey:!s,altKey:s,action:Jn(aB,e,t)},{keyCode:rn.LEFT,ctrlKey:!s,altKey:s,action:Jn(iB,e,t)},{keyCode:rn.UP,action:Jn(TS,e,!1)},{keyCode:rn.DOWN,action:Jn(TS,e,!0)}],n).each(l=>{n.preventDefault()})},TX=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||AX(e,t,n)})},fh=(e,t)=>({container:e,offset:t}),_B=Nr.DOM,SB=e=>t=>e===t?-1:0,OX=e=>t=>e.isBlock(t)||le(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",Kz=(e,t,n)=>{if(Mt(e)&&t>=0)return J.some(fh(e,t));{const s=md(_B);return J.from(s.backwards(e,t,SB(e),n)).map(l=>fh(l.container,l.container.data.length))}},DX=(e,t,n)=>{if(Mt(e)&&t>=e.length)return J.some(fh(e,t));{const s=md(_B);return J.from(s.forwards(e,t,SB(e),n)).map(l=>fh(l.container,0))}},qz=(e,t,n)=>{if(!Mt(e))return J.none();const s=e.data;if(t>=0&&t<=s.length)return J.some(fh(e,t));{const l=md(_B);return J.from(l.backwards(e,t,SB(e),n)).bind(f=>{const g=f.container.data;return qz(f.container,t+g.length,n)})}},C$=(e,t,n)=>{if(!Mt(e))return J.none();const s=e.data;if(t<=s.length)return J.some(fh(e,t));{const l=md(_B);return J.from(l.forwards(e,t,SB(e),n)).bind(f=>C$(f.container,t-s.length,n))}},Gz=(e,t,n,s,l)=>{const f=md(e,OX(e));return J.from(f.backwards(t,n,s,l))},RX=e=>e.collapsed&&Mt(e.startContainer),NX=e=>il(e.toString().replace(/\u00A0/g," ")),_$=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,IX=(e,t)=>e.substring(t.length),BX=(e,t,n,s=!1)=>{let l;const f=n.charAt(0);for(l=t-1;l>=0;l--){const g=e.charAt(l);if(!s&&_$(g))return J.none();if(f===g&&vr(e,n,l,t))break}return J.some(l)},Yz=(e,t,n,s=!1)=>{if(!RX(t))return J.none();const l={text:"",offset:0},f=(C,A,F)=>(l.text=F+l.text,l.offset+=A,BX(l.text,l.offset,n,s).getOr(A)),g=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return Gz(e,t.startContainer,t.startOffset,f,g).bind(C=>{const A=t.cloneRange();if(A.setStart(C.container,C.offset),A.setEnd(t.endContainer,t.endOffset),A.collapsed)return J.none();const F=NX(A);return F.lastIndexOf(n)!==0?J.none():J.some({text:IX(F,n),range:A,trigger:n})})},MX=e=>e.nodeType===hg,PX=e=>e.nodeType===tl,S$=e=>{if(MX(e))return fh(e,e.data.length);{const t=e.childNodes;return t.length>0?S$(t[t.length-1]):fh(e,t.length)}},k$=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?k$(n[t],0):n.length>0&&PX(e)&&n.length===t?S$(n[n.length-1]):fh(e,t)},LX=(e,t)=>{var n;const s=(n=e.getParent(t.container,e.isBlock))!==null&&n!==void 0?n:e.getRoot();return Gz(e,t.container,t.offset,(l,f)=>f===0?-1:f,s).filter(l=>{const f=l.container.data.charAt(l.offset-1);return!_$(f)}).isSome()},FX=e=>t=>{const n=k$(t.startContainer,t.startOffset);return!LX(e,n)},zX=(e,t,n)=>$r(n.triggers,s=>Yz(e,t,s)),HX=(e,t)=>{const n=t(),s=e.selection.getRng();return zX(e.dom,s,n).bind(l=>E$(e,t,l))},E$=(e,t,n,s={})=>{var l;const f=t(),C=(l=e.selection.getRng().startContainer.nodeValue)!==null&&l!==void 0?l:"",A=Ct(f.lookupByTrigger(n.trigger),j=>n.text.length>=j.minChars&&j.matches.getOrThunk(()=>FX(e.dom))(n.range,C,n.text));if(A.length===0)return J.none();const F=Promise.all(Me(A,j=>j.fetch(n.text,j.maxResults,s).then(X=>({matchText:n.text,items:X,columns:j.columns,onAction:j.onAction,highlightOn:j.highlightOn}))));return J.some({lookupData:F,context:n})};var mh;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(mh||(mh={}));const Xz=(e,t,n)=>e.stype===mh.Error?t(e.serror):n(e.svalue),VX=e=>{const t=[],n=[];return ge(e,s=>{Xz(s,l=>n.push(l),l=>t.push(l))}),{values:t,errors:n}},$X=(e,t)=>e.stype===mh.Error?{stype:mh.Error,serror:t(e.serror)}:e,UX=(e,t)=>e.stype===mh.Value?{stype:mh.Value,svalue:t(e.svalue)}:e,WX=(e,t)=>e.stype===mh.Value?t(e.svalue):e,ZX=(e,t)=>e.stype===mh.Error?t(e.serror):e,A$=e=>({stype:mh.Value,svalue:e}),T$=e=>({stype:mh.Error,serror:e}),wl={fromResult:e=>e.fold(T$,A$),toResult:e=>Xz(e,$n.error,$n.value),svalue:A$,partition:VX,serror:T$,bind:WX,bindError:ZX,map:UX,mapError:$X,fold:Xz},Jz=e=>re(e)&&Vt(e).length>100?" removed due to size":JSON.stringify(e,null,2),jX=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:Qe("... (only showing first ten failures)")}]):e;return Me(t,n=>"Failed path: ("+n.path.join(" > ")+`)
`+n.getErrorInfo())},kB=(e,t)=>wl.serror([{path:e,getErrorInfo:t}]),KX=(e,t,n)=>kB(e,()=>'Could not find valid *required* value for "'+t+'" in '+Jz(n)),qX=(e,t)=>kB(e,()=>'Choice schema did not contain choice key: "'+t+'"'),GX=(e,t,n)=>kB(e,()=>'The chosen schema: "'+n+'" did not exist in branches: '+Jz(t)),YX=(e,t)=>kB(e,Qe(t)),XX=(e,t,n,s)=>dr(n,s).fold(()=>GX(e,n,s),f=>f.extract(e.concat(["branch: "+s]),t)),JX=(e,t)=>({extract:(l,f)=>dr(f,e).fold(()=>qX(l,e),C=>XX(l,f,t,C)),toString:()=>"chooseOn("+e+"). Possible values: "+Vt(t)}),QX=(e,t)=>t,eJ=(e,t)=>Oe(e)&&Oe(t)?EB(e,t):t,O$=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const n={};for(let s=0;s<t.length;s++){const l=t[s];for(const f in l)Gn(l,f)&&(n[f]=e(n[f],l[f]))}return n},EB=O$(eJ),D$=O$(QX),R$=()=>({tag:"required",process:{}}),tJ=e=>({tag:"defaultedThunk",process:e}),N$=e=>tJ(Qe(e)),nJ=()=>({tag:"option",process:{}}),oJ=(e,t)=>e.length>0?wl.svalue(EB(t,D$.apply(void 0,e))):wl.svalue(t),I$=e=>ln(wl.serror,En)(e),rJ={consolidateObj:(e,t)=>{const n=wl.partition(e);return n.errors.length>0?I$(n.errors):oJ(n.values,t)},consolidateArr:e=>{const t=wl.partition(e);return t.errors.length>0?I$(t.errors):wl.svalue(t.values)}},sJ=(e,t,n,s)=>({tag:"field",key:e,newKey:t,presence:n,prop:s}),aJ=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),B$=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},Qz=e=>{const t=(s,l)=>wl.bindError(e(l),f=>YX(s,f)),n=Qe("val");return{extract:t,toString:n}},iJ=Qz(wl.svalue),lJ=(e,t,n,s)=>dr(t,n).fold(()=>KX(e,n,t),s),M$=(e,t,n,s)=>{const l=dr(e,t).getOrThunk(()=>n(e));return s(l)},cJ=(e,t,n)=>n(dr(e,t)),uJ=(e,t,n,s)=>{const l=dr(e,t).map(f=>f===!0?n(e):f);return s(l)},dJ=(e,t,n,s,l)=>{const f=C=>l.extract(t.concat([s]),C),g=C=>C.fold(()=>wl.svalue(J.none()),A=>{const F=l.extract(t.concat([s]),A);return wl.map(F,J.some)});switch(e.tag){case"required":return lJ(t,n,s,f);case"defaultedThunk":return M$(n,s,e.process,f);case"option":return cJ(n,s,g);case"defaultedOptionThunk":return uJ(n,s,e.process,g);case"mergeWithThunk":return M$(n,s,Qe({}),C=>{const A=EB(e.process(n),C);return f(A)})}},fJ=(e,t,n)=>{const s={},l=[];for(const f of n)B$(f,(g,C,A,F)=>{const j=dJ(A,e,t,g,F);wl.fold(j,q=>{l.push(...q)},q=>{s[C]=q})},(g,C)=>{s[g]=C(t)});return l.length>0?wl.serror(l):wl.svalue(s)},e9=e=>({extract:(s,l)=>fJ(s,l,e),toString:()=>`obj{
`+Me(e,l=>B$(l,(f,g,C,A)=>f+" -> "+A.toString(),(f,g)=>"state("+f+")")).join(`
`)+"}"}),P$=e=>({extract:(s,l)=>{const f=Me(l,(g,C)=>e.extract(s.concat(["["+C+"]"]),g));return rJ.consolidateArr(f)},toString:()=>"array("+e.toString()+")"}),mJ=e=>Qz(t=>e(t).fold(wl.serror,wl.svalue)),gJ=(e,t,n)=>{const s=t.extract([e],n);return wl.mapError(s,l=>({input:n,errors:l}))},hJ=(e,t,n)=>wl.toResult(gJ(e,t,n)),pJ=e=>`Errors: 
`+jX(e.errors).join(`
`)+`

Input object: `+Jz(e.input),L$=(e,t)=>JX(e,kl(t,e9)),bJ=Qe(iJ),AB=(e,t)=>Qz(n=>{const s=typeof n;return e(n)?wl.svalue(n):wl.serror(`Expected type: ${t} but got: ${s}`)}),vJ=AB(R,"number"),TB=AB(Ie,"string"),yJ=AB($e,"boolean"),t9=AB(Re,"function"),ST=sJ,F$=aJ,xJ=e=>mJ(t=>le(e,t)?$n.value(t):$n.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),z$=(e,t)=>ST(e,e,R$(),t),H$=e=>z$(e,TB),V$=e=>z$(e,t9),wJ=(e,t)=>ST(e,e,R$(),P$(t)),n9=(e,t)=>ST(e,e,nJ(),t),OB=e=>n9(e,TB),CJ=e=>n9(e,t9),_J=(e,t)=>ST(e,e,N$(t),bJ()),RS=(e,t,n)=>ST(e,e,N$(t),n),$$=(e,t)=>RS(e,t,vJ),SJ=(e,t)=>RS(e,t,TB),U$=(e,t,n)=>RS(e,t,xJ(n)),o9=(e,t)=>RS(e,t,yJ),r9=(e,t)=>RS(e,t,t9),kJ=(e,t,n)=>RS(e,t,P$(n)),EJ=H$("type"),AJ=V$("fetch"),s9=V$("onAction"),TJ=r9("onSetup",()=>Pt),OJ=OB("text"),DJ=OB("icon"),RJ=OB("tooltip"),NJ=OB("label"),IJ=o9("active",!1),BJ=o9("enabled",!0),W$=o9("primary",!1),MJ=e=>_J("columns",e),kT=e=>SJ("type",e),PJ=e9([EJ,H$("trigger"),$$("minChars",1),MJ(1),$$("maxResults",10),CJ("matches"),AJ,s9,kJ("highlightOn",[],TB)]),LJ=e=>hJ("Autocompleter",PJ,e),a9=[BJ,RJ,DJ,OJ,TJ],Z$=[IJ].concat(a9),FJ=[r9("predicate",xn),U$("scope","node",["node","editor"]),U$("position","selection",["node","selection","line"])],zJ=a9.concat([kT("contextformbutton"),W$,s9,F$("original",On)]),HJ=Z$.concat([kT("contextformbutton"),W$,s9,F$("original",On)]),VJ=a9.concat([kT("contextformbutton")]),$J=Z$.concat([kT("contextformtogglebutton")]),UJ=L$("type",{contextformbutton:zJ,contextformtogglebutton:HJ});e9([kT("contextform"),r9("initValue",Qe("")),NJ,wJ("commands",UJ),n9("launch",L$("type",{contextformbutton:VJ,contextformtogglebutton:$J}))].concat(FJ));const WJ=e=>{const t=e.ui.registry.getAll().popups,n=kl(t,g=>LJ(g).fold(C=>{throw new Error(pJ(C))},On)),s=fu(Xi(n,g=>g.trigger)),l=du(n);return{dataset:n,triggers:s,lookupByTrigger:g=>Ct(l,C=>C.trigger===g)}},ZJ=(e,t)=>{const n=zh(t.load,50);e.on("input",s=>{s.inputType==="insertCompositionText"&&!e.composing||n.throttle()}),e.on("keydown",s=>{const l=s.which;l===8?n.throttle():l===27?(n.cancel(),t.cancelIfNecessary()):(l===38||l===40)&&n.cancel()},!0),e.on("remove",n.cancel)},jJ=e=>{const t=ma(),n=fa(!1),s=t.isSet,l=()=>{s()&&(_P(e),n.set(!1),t.clear())},f=q=>{s()||t.set({trigger:q.trigger,matchLength:q.text.length})},g=gl(()=>WJ(e)),C=q=>t.get().map(X=>Yz(e.dom,e.selection.getRng(),X.trigger,!0).bind(ue=>E$(e,g,ue,q))).getOrThunk(()=>HX(e,g)),A=q=>{C(q).fold(l,X=>{f(X.context),X.lookupData.then(ue=>{t.get().map(we=>{const fe=X.context;we.trigger===fe.trigger&&(t.set({...we,matchLength:fe.text.length}),n.get()?(_E(e,{range:fe.range}),CE(e,{lookupData:ue})):(n.set(!0),_E(e,{range:fe.range}),wE(e,{lookupData:ue})))})})})},F=(q,X)=>{const ue=q.compareBoundaryPoints(window.Range.START_TO_START,X),we=q.compareBoundaryPoints(window.Range.END_TO_END,X);return ue>=0&&we<=0},j=()=>t.get().bind(({trigger:q})=>{const X=e.selection.getRng();return Yz(e.dom,X,q,n.get()).filter(({range:ue})=>F(X,ue)).map(({range:ue})=>ue)});e.addCommand("mceAutocompleterReload",(q,X)=>{const ue=re(X)?X.fetchOptions:{};A(ue)}),e.addCommand("mceAutocompleterClose",l),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{j().each(q=>{_E(e,{range:q})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>j().isSome()),ZJ(e,{cancelIfNecessary:l,load:A})},KJ=Fa().browser.isSafari(),j$=e=>pc(Be.fromDom(e)),K$=(e,t)=>{var n;return e.startOffset===0&&e.endOffset===((n=t.textContent)===null||n===void 0?void 0:n.length)},DB=(e,t)=>J.from(e.getParent(t.container(),"details")),q$=(e,t)=>DB(e,t).isSome(),qJ=(e,t)=>{const n=J.from(e.getParent(t.startContainer,"details")),s=J.from(e.getParent(t.endContainer,"details"));if(n.isSome()||s.isSome()){const l=n.bind(f=>J.from(e.select("summary",f)[0]));return J.some({startSummary:l,startDetails:n,endDetails:s})}else return J.none()},GJ=(e,t)=>Un(t).exists(n=>n.isEqual(e)),YJ=(e,t)=>Ru(t).exists(n=>ns(n.getNode())&&yc(t,n).exists(s=>s.isEqual(e))||n.isEqual(e)),XJ=(e,t)=>t.startSummary.exists(n=>GJ(e,n)),JJ=(e,t)=>t.startSummary.exists(n=>YJ(e,n)),QJ=(e,t)=>t.startDetails.exists(n=>yc(n,e).forall(s=>t.startSummary.exists(l=>!l.contains(e.container())&&l.contains(s.container())))),eQ=(e,t,n)=>n.startDetails.exists(s=>Dl(e,t).forall(l=>!s.contains(l.container()))),G$=(e,t)=>{const n=t.getNode();Ze(n)||e.selection.setCursorLocation(n,t.offset())},Y$=(e,t,n)=>{const s=e.dom.getParent(t.container(),"details");if(s&&!s.open){const l=e.dom.select("summary",s)[0];l&&(n?Un(l):Ru(l)).each(g=>G$(e,g))}else G$(e,t)},tQ=(e,t)=>{const n=A=>A.contains(e.startContainer),s=A=>A.contains(e.endContainer),l=t.startSummary.exists(n),f=t.startSummary.exists(s),g=t.startDetails.forall(A=>t.endDetails.forall(F=>A!==F));return(l||f)&&!(l&&f)||g},X$=(e,t,n)=>{const{dom:s,selection:l}=e,f=e.getBody();if(n==="character"){const g=mt.fromRangeStart(l.getRng()),C=s.getParent(g.container(),s.isBlock),A=DB(s,g),F=C&&s.isEmpty(C),j=Ge(C==null?void 0:C.previousSibling),q=Ge(C==null?void 0:C.nextSibling);return F&&(t?q:j)&&qb(!t,f,g).exists(we=>q$(s,we)&&!Vd(A,DB(s,we)))?!0:qb(t,f,g).fold(xn,X=>{const ue=DB(s,X);if(q$(s,X)&&!Vd(A,ue)){if(t||Y$(e,X,!1),C&&F){if(t&&j)return!0;if(!t&&q)return!0;Y$(e,X,t),e.dom.remove(C)}return!0}else return!1})}else return!1},nQ=(e,t,n,s)=>{const f=e.selection.getRng(),g=mt.fromRangeStart(f),C=e.getBody();return s==="selection"?tQ(f,t):n?JJ(g,t)||eQ(C,g,t):XJ(g,t)||QJ(g,t)},oQ=(e,t,n)=>qJ(e.dom,e.selection.getRng()).fold(()=>X$(e,t,n),s=>nQ(e,s,t,n)||X$(e,t,n)),rQ=(e,t,n)=>{const s=e.selection,l=s.getNode(),f=s.getRng(),g=mt.fromRangeStart(f);return Nh(l)?(n==="selection"&&K$(f,l)||dR(t,g,l)?j$(l):e.undoManager.transact(()=>{const C=s.getSel();let{anchorNode:A,anchorOffset:F,focusNode:j,focusOffset:q}=C??{};const X=()=>{Ce(A)&&Ce(F)&&Ce(j)&&Ce(q)&&(C==null||C.setBaseAndExtent(A,F,j,q))},ue=()=>{A=C==null?void 0:C.anchorNode,F=C==null?void 0:C.anchorOffset,j=C==null?void 0:C.focusNode,q=C==null?void 0:C.focusOffset},we=(ke,ze)=>{ge(ke.childNodes,qe=>{ov(qe)&&ze.appendChild(qe)})},fe=e.dom.create("span",{"data-mce-bogus":"1"});we(l,fe),l.appendChild(fe),X(),(n==="word"||n==="line")&&(C==null||C.modify("extend",t?"right":"left",n)),!s.isCollapsed()&&K$(s.getRng(),fe)?j$(l):(e.execCommand(t?"ForwardDelete":"Delete"),ue(),we(fe,l),X()),e.dom.remove(fe)}),!0):!1},sw=(e,t,n)=>oQ(e,t,n)||KJ&&rQ(e,t,n)?J.some(Pt):J.none(),J$=e=>(t,n,s={})=>{const l=t.getBody(),f={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:l,currentTarget:l,eventPhase:Event.AT_TARGET,originalTarget:l,explicitOriginalTarget:l,isTrusted:!1,srcElement:l,cancelable:!1,preventDefault:Pt,inputType:n},g=gm(new InputEvent(e));return t.dispatch(e,{...g,...f,...s})},ET=J$("input"),RB=J$("beforeinput"),Q$=Fa(),eU=Q$.os,tU=eU.isMacOS()||eU.isiOS(),sQ=Q$.browser.isFirefox(),aQ=(e,t,n)=>{const s=n.keyCode===rn.BACKSPACE?"deleteContentBackward":"deleteContentForward",l=e.selection.isCollapsed(),f=l?"character":"selection",g=C=>l?C?"word":"line":"selection";DS([{keyCode:rn.BACKSPACE,action:Jn(gt,e)},{keyCode:rn.BACKSPACE,action:Jn(Y4,e,!1)},{keyCode:rn.DELETE,action:Jn(Y4,e,!0)},{keyCode:rn.BACKSPACE,action:Jn(K4,e,!1)},{keyCode:rn.DELETE,action:Jn(K4,e,!0)},{keyCode:rn.BACKSPACE,action:Jn(Q2,e,t,!1)},{keyCode:rn.DELETE,action:Jn(Q2,e,t,!0)},{keyCode:rn.BACKSPACE,action:Jn(th,e,!1)},{keyCode:rn.DELETE,action:Jn(th,e,!0)},{keyCode:rn.BACKSPACE,action:Jn(sw,e,!1,f)},{keyCode:rn.DELETE,action:Jn(sw,e,!0,f)},...tU?[{keyCode:rn.BACKSPACE,altKey:!0,action:Jn(sw,e,!1,g(!0))},{keyCode:rn.DELETE,altKey:!0,action:Jn(sw,e,!0,g(!0))},{keyCode:rn.BACKSPACE,metaKey:!0,action:Jn(sw,e,!1,g(!1))}]:[{keyCode:rn.BACKSPACE,ctrlKey:!0,action:Jn(sw,e,!1,g(!0))},{keyCode:rn.DELETE,ctrlKey:!0,action:Jn(sw,e,!0,g(!0))}],{keyCode:rn.BACKSPACE,action:Jn(J4,e,!1)},{keyCode:rn.DELETE,action:Jn(J4,e,!0)},{keyCode:rn.BACKSPACE,action:Jn(Y,e,!1)},{keyCode:rn.DELETE,action:Jn(Y,e,!0)},{keyCode:rn.BACKSPACE,action:Jn(W4,e,!1)},{keyCode:rn.DELETE,action:Jn(W4,e,!0)},{keyCode:rn.BACKSPACE,action:Jn(pS,e,!1)},{keyCode:rn.DELETE,action:Jn(pS,e,!0)},{keyCode:rn.BACKSPACE,action:Jn(w,e,!1)},{keyCode:rn.DELETE,action:Jn(w,e,!0)},{keyCode:rn.BACKSPACE,action:Jn(X4,e,!1)},{keyCode:rn.DELETE,action:Jn(X4,e,!0)}],n).filter(C=>e.selection.isEditable()).each(C=>{n.preventDefault(),RB(e,s).isDefaultPrevented()||(C(),ET(e,s))})},iQ=(e,t,n)=>Ap([{keyCode:rn.BACKSPACE,action:Jn(CI,e)},{keyCode:rn.DELETE,action:Jn(CI,e)},...tU?[{keyCode:rn.BACKSPACE,altKey:!0,action:Jn(L,e)},{keyCode:rn.DELETE,altKey:!0,action:Jn(L,e)},...n?[{keyCode:sQ?224:91,action:Jn(L,e)}]:[]]:[{keyCode:rn.BACKSPACE,ctrlKey:!0,action:Jn(L,e)},{keyCode:rn.DELETE,ctrlKey:!0,action:Jn(L,e)}]],t),lQ=(e,t)=>{let n=!1;e.on("keydown",s=>{n=s.keyCode===rn.BACKSPACE,s.isDefaultPrevented()||aQ(e,t,s)}),e.on("keyup",s=>{s.isDefaultPrevented()||iQ(e,s,n),n=!1})},cQ=e=>{for(;e;){if(yn(e)||Mt(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},NS=(e,t)=>{const n=e.dom,s=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const f=cQ(t.firstChild);f&&/^(UL|OL|DL)$/.test(f.nodeName)&&t.insertBefore(n.doc.createTextNode(da),t.firstChild)}const l=n.createRng();if(t.normalize(),t.hasChildNodes()){const f=new Za(t,t);let g=t,C;for(;C=f.current();){if(Mt(C)){l.setStart(C,0),l.setEnd(C,0);break}if(s[C.nodeName.toLowerCase()]){l.setStartBefore(C),l.setEndBefore(C);break}g=C,C=f.next()}C||(l.setStart(g,0),l.setEnd(g,0))}else ns(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(l.setStartBefore(t),l.setEndBefore(t)):(l.setStartAfter(t),l.setEndAfter(t)):(l.setStart(t,0),l.setEnd(t,0));e.selection.setRng(l),Bu(e,l)},AT=(e,t)=>{const n=e.getRoot();let s,l=t;for(;l!==n&&l&&e.getContentEditable(l)!=="false";){if(e.getContentEditable(l)==="true"){s=l;break}l=l.parentNode}return l!==n?s:n},i9=e=>J.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),uQ=e=>i9(e).fold(Qe(""),t=>t.nodeName.toUpperCase()),dQ=e=>i9(e).filter(t=>wm(Be.fromDom(t))).isSome(),l9=e=>{e.innerHTML='<br data-mce-bogus="1">'},fQ=(e,t,n)=>{const s=e.dom;J.from(n.style).map(s.parseStyle).each(A=>{const j={...yg(Be.fromDom(t)),...A};s.setStyles(t,j)});const l=J.from(n.class).map(A=>A.split(/\s+/)),f=J.from(t.className).map(A=>Ct(A.split(/\s+/),F=>F!==""));Ha(l,f,(A,F)=>{const j=Ct(F,X=>!le(A,X)),q=[...A,...j];s.setAttrib(t,"class",q.join(" "))});const g=["style","class"],C=ec(n,(A,F)=>!le(g,F));s.setAttribs(t,C)},TT=(e,t)=>{if(Ui(e).toLowerCase()===t.tagName.toLowerCase()){const s=px(e);fQ(e,t,s)}},nU=(e,t,n,s,l=!0,f,g)=>{const C=e.dom,A=e.schema,F=Ui(e),j=n?n.nodeName.toUpperCase():"";let q=t;const X=A.getTextInlineElements();let ue;f||j==="TABLE"||j==="HR"?ue=C.create(f||F,g||{}):ue=n.cloneNode(!1);let we=ue;if(!l)C.setAttrib(ue,"style",null),C.setAttrib(ue,"class",null);else do if(X[q.nodeName]){if(tu(q)||nu(q))continue;const fe=q.cloneNode(!1);C.setAttrib(fe,"id",""),ue.hasChildNodes()?(fe.appendChild(ue.firstChild),ue.appendChild(fe)):(we=fe,ue.appendChild(fe))}while((q=q.parentNode)&&q!==s);return TT(e,ue),l9(we),ue},mQ=(e,t)=>e.dom.getParent(t,Rh),gQ=(e,t,n)=>{let s=t;for(;s&&s!==e&&Ge(s.nextSibling);){const l=s.parentElement;if(!l||!n(l))return Rh(l);s=l}return!1},hQ=(e,t,n)=>!t&&n.nodeName.toLowerCase()===Ui(e)&&e.dom.isEmpty(n)&&gQ(e.getBody(),n,s=>Gn(e.schema.getTextBlockElements(),s.nodeName.toLowerCase())),pQ=(e,t,n)=>{var s,l,f;const g=t(Ui(e)),C=mQ(e,n);C&&(e.dom.insertAfter(g,C),NS(e,g),((f=(l=(s=n.parentElement)===null||s===void 0?void 0:s.childNodes)===null||l===void 0?void 0:l.length)!==null&&f!==void 0?f:0)>1&&e.dom.remove(n))},bQ=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,vQ=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},oU=(e,t)=>{const n=e==null?void 0:e.parentNode;return Ce(n)&&n.nodeName===t},rU=e=>Ce(e)&&/^(OL|UL|LI)$/.test(e.nodeName),c9=e=>Ce(e)&&/^(LI|DT|DD)$/.test(e.nodeName),yQ=e=>rU(e)&&rU(e.parentNode),NB=e=>{const t=e.parentNode;return c9(t)?t:e},IB=(e,t,n)=>{let s=e[n?"firstChild":"lastChild"];for(;s&&!yn(s);)s=s[n?"nextSibling":"previousSibling"];return s===t},sU=e=>It(Xi(yg(Be.fromDom(e)),(t,n)=>`${n}: ${t};`),(t,n)=>t+n,""),xQ=(e,t,n,s,l)=>{const f=e.dom,g=e.selection.getRng(),C=n.parentNode;if(n===e.getBody()||!C)return;yQ(n)&&(l="LI");const A=c9(s)?sU(s):void 0;let F=c9(s)&&A?t(l,{style:sU(s)}):t(l);if(IB(n,s,!0)&&IB(n,s,!1))if(oU(n,"LI")){const j=NB(n);f.insertAfter(F,j),vQ(n)?f.remove(j):f.remove(n)}else f.replace(F,n);else if(IB(n,s,!0))oU(n,"LI")?(f.insertAfter(F,NB(n)),F.appendChild(f.doc.createTextNode(" ")),F.appendChild(n)):C.insertBefore(F,n),f.remove(s);else if(IB(n,s,!1))f.insertAfter(F,NB(n)),f.remove(s);else{n=NB(n);const j=g.cloneRange();j.setStartAfter(s),j.setEndAfter(n);const q=j.extractContents();if(l==="LI"&&bQ(q,"LI")){const X=Ct(Me(F.children,Be.fromDom),bt(Zd("br")));F=q.firstChild,f.insertAfter(q,n),ge(X,ue=>_i(Be.fromDom(F),ue)),A&&F.setAttribute("style",A)}else f.insertAfter(q,n),f.insertAfter(F,n);f.remove(s)}NS(e,F)},wQ=e=>{ge(im(Be.fromDom(e),qr),t=>{const n=t.dom;n.nodeValue=il(n.data)})},CQ=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return n!==null&&e.dom.getContentEditableParent(n)==="false"},_Q=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),u9=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,d9=(e,t)=>Ce(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",SQ=(e,t,n)=>{var s;const l=[];if(!n)return;let f=n;for(;f=f.firstChild;){if(e.isBlock(f))return;yn(f)&&!t[f.nodeName.toLowerCase()]&&l.push(f)}let g=l.length;for(;g--;)f=l[g],(!f.hasChildNodes()||f.firstChild===f.lastChild&&((s=f.firstChild)===null||s===void 0?void 0:s.nodeValue)===""||_Q(e,f))&&e.remove(f)},f9=(e,t,n)=>Mt(t)?e?n===1&&t.data.charAt(n-1)===sa?0:n:n===t.data.length-1&&t.data.charAt(n)===sa?t.data.length:n:n,kQ=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,f9(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,f9(!1,e.endContainer,e.endOffset)),t},EQ=e=>{let t=e;do Mt(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},AQ=(e,t,n,s,l)=>{var f,g;const C=e.dom,A=(f=AT(C,s))!==null&&f!==void 0?f:C.getRoot();let F=C.getParent(s,C.isBlock);if(!F||!d9(C,F)){if(F=F||A,!F.hasChildNodes()){const ue=C.create(t);return TT(e,ue),F.appendChild(ue),n.setStart(ue,0),n.setEnd(ue,0),ue}let j=s;for(;j&&j.parentNode!==F;)j=j.parentNode;let q;for(;j&&!C.isBlock(j);)q=j,j=j.previousSibling;const X=(g=q==null?void 0:q.parentElement)===null||g===void 0?void 0:g.nodeName;if(q&&X&&e.schema.isValidChild(X,t.toLowerCase())){const ue=q.parentNode,we=C.create(t);for(TT(e,we),ue.insertBefore(we,q),j=q;j&&!C.isBlock(j);){const fe=j.nextSibling;we.appendChild(j),j=fe}n.setStart(s,l),n.setEnd(s,l)}}return s},TQ=(e,t)=>{t.normalize();const n=t.lastChild;(!n||yn(n)&&/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")},OQ=(e,t)=>{const n=Bk(e);return rt(t)?!1:Ie(n)?le(Kt.explode(n),t.nodeName.toLowerCase()):n},aU={insert:(e,t)=>{let n,s,l,f,g=!1;const C=e.dom,A=e.schema,F=A.getNonEmptyElements(),j=e.selection.getRng(),q=Ui(e),X=Be.fromDom(j.startContainer),ue=xu(X,j.startOffset),we=ue.exists(Dt=>vi(Dt)&&!ls(Dt)),fe=j.collapsed&&we,ke=(Dt,pn)=>nU(e,n,jt,Nt,Ik(e),Dt,pn),ze=Dt=>{const pn=f9(Dt,n,s);if(Mt(n)&&(Dt?pn>0:pn<n.data.length))return!1;if((n.parentNode===jt||n===jt)&&g&&!Dt||Dt&&yn(n)&&n===jt.firstChild)return!0;if(u9(n,"TABLE")||u9(n,"HR"))return g&&!Dt||!g&&Dt;const Nn=new Za(n,jt);Mt(n)&&(Dt&&pn===0?Nn.prev():!Dt&&pn===n.data.length&&Nn.next());let yo;for(;yo=Nn.current();){if(yn(yo)){if(!yo.getAttribute("data-mce-bogus")){const To=yo.nodeName.toLowerCase();if(F[To]&&To!=="br")return!1}}else if(Mt(yo)&&!Ll(yo.data))return!1;Dt?Nn.prev():Nn.next()}return!0},qe=()=>{let Dt;return/^(H[1-6]|PRE|FIGURE)$/.test(l)&&un!=="HGROUP"?Dt=ke(q):Dt=ke(),OQ(e,f)&&d9(C,f)&&C.isEmpty(jt,void 0,{includeZwsp:!0})?Dt=C.split(f,jt):C.insertAfter(Dt,jt),NS(e,Dt),Dt};Im(C,j).each(Dt=>{j.setStart(Dt.startContainer,Dt.startOffset),j.setEnd(Dt.endContainer,Dt.endOffset)}),n=j.startContainer,s=j.startOffset;const We=!!(t&&t.shiftKey),st=!!(t&&t.ctrlKey);yn(n)&&n.hasChildNodes()&&!fe&&(g=s>n.childNodes.length-1,n=n.childNodes[Math.min(s,n.childNodes.length-1)]||n,g&&Mt(n)?s=n.data.length:s=0);const Nt=AT(C,n);if(!Nt||CQ(e,n))return;We||(n=AQ(e,q,j,n,s));let jt=C.getParent(n,C.isBlock)||C.getRoot();f=Ce(jt==null?void 0:jt.parentNode)?C.getParent(jt.parentNode,C.isBlock):null,l=jt?jt.nodeName.toUpperCase():"";const un=f?f.nodeName.toUpperCase():"";if(un==="LI"&&!st){const Dt=f;jt=Dt,f=Dt.parentNode,l=un}if(yn(f)&&hQ(e,We,jt))return pQ(e,ke,jt);if(/^(LI|DT|DD)$/.test(l)&&yn(f)&&C.isEmpty(jt)){xQ(e,ke,f,jt,q);return}if(!fe&&(jt===e.getBody()||!d9(C,jt)))return;const wt=jt.parentNode;let dt;if(fe)dt=ke(q),ue.fold(()=>{Ds(X,Be.fromDom(dt))},Dt=>{gs(Dt,Be.fromDom(dt))}),e.selection.setCursorLocation(dt,0);else if(Vh(jt))dt=Hg(jt),C.isEmpty(jt)&&l9(jt),TT(e,dt),NS(e,dt);else if(ze(!1))dt=qe();else if(ze(!0)&&wt){const Dt=mt.fromRangeStart(j),pn=mv(Dt),Nn=Be.fromDom(jt),To=c0(Nn,Dt,e.schema)?a_(Nn,Dt,e.schema).bind(Ar=>J.from(Ar.getNode())):J.none();dt=wt.insertBefore(ke(),jt);const mr=u9(jt,"HR")||pn?dt:To.getOr(jt);NS(e,mr)}else{const Dt=kQ(j).cloneRange();Dt.setEndAfter(jt);const pn=Dt.extractContents();wQ(pn),EQ(pn),dt=pn.firstChild,C.insertAfter(pn,jt),SQ(C,F,dt),TQ(C,jt),C.isEmpty(jt)&&l9(jt),dt.normalize(),C.isEmpty(dt)?(C.remove(dt),qe()):(TT(e,dt),NS(e,dt))}C.setAttrib(dt,"id",""),e.dispatch("NewBlock",{newBlock:dt})},fakeEventName:"insertParagraph"},DQ=(e,t,n)=>{const s=new Za(t,n);let l;const f=e.getNonEmptyElements();for(;l=s.next();)if(f[l.nodeName.toLowerCase()]||Mt(l)&&l.length>0)return!0;return!1},iU=(e,t,n)=>{const s=e.dom.createRng();n?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)),e.selection.setRng(s),Bu(e,s)},RQ=(e,t)=>{const n=e.selection,s=e.dom,l=n.getRng();let f,g=!1;Im(s,l).each(ue=>{l.setStart(ue.startContainer,ue.startOffset),l.setEnd(ue.endContainer,ue.endOffset)});let C=l.startOffset,A=l.startContainer;if(yn(A)&&A.hasChildNodes()){const ue=C>A.childNodes.length-1;A=A.childNodes[Math.min(C,A.childNodes.length-1)]||A,ue&&Mt(A)?C=A.data.length:C=0}let F=s.getParent(A,s.isBlock);const j=F&&F.parentNode?s.getParent(F.parentNode,s.isBlock):null,q=j?j.nodeName.toUpperCase():"",X=!!(t&&t.ctrlKey);q==="LI"&&!X&&(F=j),Mt(A)&&C>=A.data.length&&(DQ(e.schema,A,F||s.getRoot())||(f=s.create("br"),l.insertNode(f),l.setStartAfter(f),l.setEndAfter(f),g=!0)),f=s.create("br"),W1(s,l,f),iU(e,f,g),e.undoManager.add()},NQ=(e,t)=>{const n=Be.fromTag("br");gs(Be.fromDom(t),n),e.undoManager.add()},IQ=(e,t)=>{MQ(e.getBody(),t)||et(Be.fromDom(t),Be.fromTag("br"));const n=Be.fromTag("br");et(Be.fromDom(t),n),iU(e,n.dom,!1),e.undoManager.add()},BQ=e=>ns(e.getNode()),MQ=(e,t)=>BQ(mt.after(t))?!0:Dl(e,mt.after(t)).map(n=>ns(n.getNode())).getOr(!1),lU=e=>e&&e.nodeName==="A"&&"href"in e,PQ=e=>e.fold(xn,lU,lU,xn),LQ=e=>{const t=pt(d0,e),n=mt.fromRangeStart(e.selection.getRng());return jm(t,e.getBody(),n).filter(PQ)},FQ=(e,t)=>{t.fold(Pt,pt(NQ,e),pt(IQ,e),Pt)},cU={insert:(e,t)=>{const n=LQ(e);n.isSome()?n.each(pt(FQ,e)):RQ(e,t)},fakeEventName:"insertLineBreak"},uU=(e,t)=>i9(e).filter(n=>t.length>0&&yr(Be.fromDom(n),t)).isSome(),zQ=e=>uU(e,gO(e)),HQ=e=>uU(e,hO(e)),Od=Mo.generate([{br:[]},{block:[]},{none:[]}]),VQ=(e,t)=>HQ(e),dU=e=>(t,n)=>dQ(t)===e,fU=(e,t)=>(n,s)=>uQ(n)===e.toUpperCase()===t,$Q=e=>{const t=AT(e.dom,e.selection.getStart());return rt(t)},OT=e=>fU("pre",e),UQ=()=>fU("summary",!0),BB=e=>(t,n)=>Rk(t)===e,WQ=(e,t)=>zQ(e),MB=(e,t)=>t,ZQ=e=>{const t=Ui(e),n=AT(e.dom,e.selection.getStart());return Ce(n)&&e.schema.isValidChild(n.nodeName,t)},jQ=e=>{const t=e.selection.getRng(),n=Be.fromDom(t.startContainer),l=xu(n,t.startOffset).map(f=>vi(f)&&!ls(f));return t.collapsed&&l.getOr(!0)},Df=(e,t)=>(n,s)=>It(e,(f,g)=>f&&g(n,s),!0)?J.some(t):J.none(),KQ=(e,t)=>II([Df([VQ],Od.none()),Df([OT(!0),$Q],Od.none()),Df([UQ()],Od.br()),Df([OT(!0),BB(!1),MB],Od.br()),Df([OT(!0),BB(!1)],Od.block()),Df([OT(!0),BB(!0),MB],Od.block()),Df([OT(!0),BB(!0)],Od.br()),Df([dU(!0),MB],Od.br()),Df([dU(!0)],Od.block()),Df([WQ],Od.br()),Df([MB],Od.br()),Df([ZQ],Od.block()),Df([jQ],Od.block())],[e,!!(t&&t.shiftKey)]).getOr(Od.none()),PB=(e,t,n)=>{t.selection.isCollapsed()||cR(t),!(Ce(n)&&RB(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,n),Ce(n)&&ET(t,e.fakeEventName))},mU=(e,t)=>{const n=()=>PB(cU,e,t),s=()=>PB(aU,e,t),l=KQ(e,t);switch(Nk(e)){case"linebreak":l.fold(n,n,Pt);break;case"block":l.fold(s,s,Pt);break;case"invert":l.fold(s,n,Pt);break;default:l.fold(n,s,Pt);break}},gU=Fa(),qQ=gU.os.isiOS()&&gU.browser.isSafari(),hU=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),ZL(e.undoManager),e.undoManager.transact(()=>{mU(e,t)}))},GQ=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(Mt(t)){const n=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,s=t.data.charAt(e.startOffset-1);return n.test(s)}else return!1},YQ=e=>{let t=J.none();const n=l=>{t=J.some(l.selection.getBookmark()),l.undoManager.add()},s=(l,f)=>{l.undoManager.undo(),t.fold(Pt,g=>l.selection.moveToBookmark(g)),hU(l,f),t=J.none()};e.on("keydown",l=>{l.keyCode===rn.ENTER&&(qQ&&GQ(e.selection.getRng())?n(e):hU(e,l))}),e.on("keyup",l=>{l.keyCode===rn.ENTER&&t.each(()=>s(e,l))})},XQ=(e,t,n)=>{const s=Co.os.isMacOS()||Co.os.isiOS();Ap([{keyCode:rn.END,action:Jn(Td,e,!0)},{keyCode:rn.HOME,action:Jn(Td,e,!1)},...s?[]:[{keyCode:rn.HOME,action:Jn(D0,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:rn.END,action:Jn(D0,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:rn.END,action:Jn(xT,e,!0)},{keyCode:rn.HOME,action:Jn(xT,e,!1)},{keyCode:rn.END,action:Jn(X2,e,!0,t)},{keyCode:rn.HOME,action:Jn(X2,e,!1,t)}],n).each(l=>{n.preventDefault()})},JQ=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||XQ(e,t,n)})},QQ=e=>{e.on("input",t=>{t.isComposing||l7(e)})},eee=Fa(),tee=(e,t,n)=>{Ap([{keyCode:rn.PAGE_UP,action:Jn(X2,e,!1,t)},{keyCode:rn.PAGE_DOWN,action:Jn(X2,e,!0,t)}],n)},pU=e=>e.stopImmediatePropagation(),bU=e=>e.keyCode===rn.PAGE_UP||e.keyCode===rn.PAGE_DOWN,vU=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",pU,!0):!n&&e.get()&&t.off("NodeChange",pU),e.set(n)},nee=(e,t)=>{if(eee.os.isMacOS())return;const n=fa(!1);e.on("keydown",s=>{bU(s)&&vU(n,e,!0)}),e.on("keyup",s=>{s.isDefaultPrevented()||tee(e,t,s),bU(s)&&n.get()&&(vU(n,e,!1),e.nodeChanged())})},oee=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||xe(t.getTargetRanges(),n=>!yD(e.dom,n)))&&t.preventDefault()})},yU=(e,t)=>{const n=t.container(),s=t.offset();return Mt(n)?(n.insertData(s,e),J.some(mt(n,s+e.length))):yC(t).map(l=>{const f=Be.fromText(e);return t.isAtEnd()?et(l,f):gs(l,f),mt(f.dom,e.length)})},xU=pt(yU,da),wU=pt(yU," "),ree=(e,t,n)=>u3(e,t,n)?xU(t):wU(t),see=e=>t=>t.fold(n=>yc(e.dom,mt.before(n)),n=>Un(n),n=>Ru(n),n=>Dl(e.dom,mt.after(n))),aee=(e,t,n)=>s=>u3(e,s,n)?xU(t):wU(t),CU=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},iee=(e,t)=>e.isEditable(e.getParent(t,"summary")),lee=e=>{const t=mt.fromRangeStart(e.selection.getRng()),n=Be.fromDom(e.getBody());if(e.selection.isCollapsed()){const s=pt(d0,e),l=mt.fromRangeStart(e.selection.getRng());return jm(s,e.getBody(),l).bind(see(n)).map(f=>()=>aee(n,t,e.schema)(f).each(CU(e)))}else return J.none()},cee=e=>{const t=()=>{const n=Be.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const s=mt.fromRangeStart(e.selection.getRng());ree(n,s,e.schema).each(CU(e))};return mg(Co.browser.isFirefox()&&e.selection.isEditable()&&iee(e.dom,e.selection.getRng().startContainer),t)},uee=(e,t)=>{DS([{keyCode:rn.SPACEBAR,action:Jn(lee,e)},{keyCode:rn.SPACEBAR,action:Jn(cee,e)}],t).each(n=>{t.preventDefault(),RB(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),ET(e,"insertText",{data:" "}))})},dee=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||uee(e,t)})},fee=e=>zO(e)?[{keyCode:rn.TAB,action:Jn(w$,e,!0)},{keyCode:rn.TAB,shiftKey:!0,action:Jn(w$,e,!1)}]:[],mee=(e,t)=>{Ap([...fee(e)],t).each(n=>{t.preventDefault()})},gee=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||mee(e,t)})},hee=e=>{if(e.addShortcut("Meta+P","","mcePrint"),jJ(e),Zm(e))return fa(null);{const t=sB(e);return oee(e),O0(e),TX(e,t),lQ(e,t),YQ(e),dee(e),QQ(e),gee(e),JQ(e,t),nee(e,t),t}};class pee{constructor(t){this.lastPath=[],this.editor=t;let n;const s=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",l=>{const f=t.selection.getRng(),g={startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset};(l.type==="nodechange"||!Yx(g,n))&&t.dispatch("SelectionChange"),n=g}),t.on("contextmenu",()=>{iv(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const l=t.selection.getStart(!0);l&&tv(t)&&!s.isSameElementPath(l)&&t.dom.isChildOf(l,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",l=>{!l.isDefaultPrevented()&&tv(t)&&(t.selection.getNode().nodeName==="IMG"?Cc.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const n=this.editor.selection;let s;if(this.editor.initialized&&n&&!$M(this.editor)&&!this.editor.mode.isReadOnly()){const l=this.editor.getBody();s=n.getStart(!0)||l,(s.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(s,l))&&(s=l);const f=[];this.editor.dom.getParent(s,g=>g===l?!0:(f.push(g),!1)),this.editor.dispatch("NodeChange",{...t,element:s,parents:f})}}isSameElementPath(t){let n;const s=this.editor,l=Ao(s.dom.getParents(t,Rn,s.getBody()));if(l.length===this.lastPath.length){for(n=l.length;n>=0&&l[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=l,!0}return this.lastPath=l,!1}}const _U=ki("image"),bee=e=>{const t=e;return J.from(t[_U])},vee=(e,t)=>{const n=e;n[_U]=t},m9=ki("event"),yee=e=>{const t=e;return J.from(t[m9])},LB=e=>t=>{const n=t;n[m9]=e},xee=(e,t)=>LB(t)(e),SU=LB(0),wee=LB(2),Cee=LB(1),_ee=(e=>t=>{const n=t;return J.from(n[m9]).exists(s=>s===e)})(0),See=()=>Object.freeze({length:0,item:e=>null}),g9=ki("mode"),kee=e=>{const t=e;return J.from(t[g9])},FB=e=>t=>{const n=t;n[g9]=e},kU=(e,t)=>FB(t)(e),EU=FB(0),h9=FB(2),Eee=FB(1),AU=e=>t=>{const n=t;return J.from(n[g9]).exists(s=>s===e)},IS=AU(0),TU=AU(1),Aee=(e,t)=>({...t,get length(){return t.length},add:(n,s)=>{if(IS(e))if(Ie(n)){if(!Ze(s))return t.add(n,s)}else return t.add(n);return null},remove:n=>{IS(e)&&t.remove(n)},clear:()=>{IS(e)&&t.clear()}}),Tee=["none","copy","link","move"],Oee=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],p9=()=>{const e=new window.DataTransfer;let t="move",n="all";const s={get dropEffect(){return t},set dropEffect(l){le(Tee,l)&&(t=l)},get effectAllowed(){return n},set effectAllowed(l){_ee(s)&&le(Oee,l)&&(n=l)},get items(){return Aee(s,e.items)},get files(){return TU(s)?See():e.files},get types(){return e.types},setDragImage:(l,f,g)=>{IS(s)&&(vee(s,{image:l,x:f,y:g}),e.setDragImage(l,f,g))},getData:l=>TU(s)?"":e.getData(l),setData:(l,f)=>{IS(s)&&e.setData(l,f)},clearData:l=>{IS(s)&&e.clearData(l)}};return EU(s),s},Dee=e=>{const t=p9(),n=kee(e);return h9(e),SU(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,bee(e).each(s=>t.setDragImage(s.image,s.x,s.y)),ge(e.types,s=>{s!=="Files"&&t.setData(s,e.getData(s))}),ge(e.files,s=>t.items.add(s)),yee(e).each(s=>{xee(t,s)}),n.each(s=>{kU(e,s),kU(t,s)}),t},Ree=e=>{const t=e.getData("text/html");return t===""?J.none():J.some(t)},OU=(e,t)=>e.setData("text/html",t),DU="x-tinymce/html",zB=Qe(DU),b9="<!-- "+DU+" -->",Nee=e=>b9+e,Iee=e=>e.replace(b9,""),RU=e=>e.indexOf(b9)!==-1,Bee=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),Mee=(e,t)=>{let n="<"+e;const s=Xi(t,(l,f)=>f+'="'+Ag.encodeAllRaw(l)+'"');return s.length&&(n+=" "+s.join(" ")),n+">"},Pee=(e,t,n)=>{const s=e.split(/\n\n/),l=Mee(t,n),f="</"+t+">",g=Me(s,A=>A.split(/\n/).join("<br />")),C=A=>l+A+f;return g.length===1?g[0]:Me(g,C).join("")},NU="%MCEPASTEBIN%",Lee=(e,t)=>{const{dom:n,selection:s}=e,l=e.getBody();t.set(s.getRng());const f=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},NU);Co.browser.isFirefox()&&n.setStyle(f,"left",n.getStyle(l,"direction",!0)==="rtl"?65535:-65535),n.bind(f,"beforedeactivate focusin focusout",g=>{g.stopPropagation()}),f.focus(),s.select(f,!0)},Fee=(e,t)=>{const n=e.dom;if(v9(e)){let s;const l=t.get();for(;s=v9(e);)n.remove(s),n.unbind(s);l&&e.selection.setRng(l)}t.set(null)},v9=e=>e.dom.get("mcepastebin"),zee=e=>Ce(e)&&e.id==="mcepastebin",Hee=e=>{const t=e.dom,n=(g,C)=>{g.appendChild(C),t.remove(C,!0)},[s,...l]=Ct(e.getBody().childNodes,zee);ge(l,g=>{n(s,g)});const f=t.select("div[id=mcepastebin]",s);for(let g=f.length-1;g>=0;g--){const C=t.create("div");s.insertBefore(C,f[g]),n(C,f[g])}return s?s.innerHTML:""},IU=e=>e===NU,Vee=e=>{const t=fa(null);return{create:()=>Lee(e,t),remove:()=>Fee(e,t),getEl:()=>v9(e),getHtml:()=>Hee(e),getLastRng:t.get}},BU=(e,t)=>(Kt.each(t,n=>{Pe(n,RegExp)?e=e.replace(n,""):e=e.replace(n[0],n[1])}),e),$ee=e=>{const t=mc(),n=kv({},t);let s="";const l=t.getVoidElements(),f=Kt.makeMap("script noscript style textarea video audio iframe object"," "),g=t.getBlockElements(),C=A=>{const F=A.name,j=A;if(F==="br"){s+=`
`;return}if(F!=="wbr"){if(l[F]&&(s+=" "),f[F]){s+=" ";return}if(A.type===3&&(s+=A.value),!(A.name in t.getVoidElements())){let q=A.firstChild;if(q)do C(q);while(q=q.next)}g[F]&&j.next&&(s+=`
`,F==="p"&&(s+=`
`))}};return e=BU(e,[/<!\[[^\]]+\]>/g]),C(n.parse(e)),s},MU=e=>(e=BU(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(n,s,l)=>!s&&!l?" ":da],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),Uee=e=>{let t=0;return()=>e+t++},Wee=e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Kt.hasOwn(n,t)?"image/"+n[t]:"image/"+t},Zee=(e,t)=>{const n=kv({sanitize:PO(e),sandbox_iframes:Kk(e),sandbox_iframes_exclusions:fC(e),convert_unsafe_embeds:VO(e)},e.schema);n.addNodeFilter("meta",l=>{Kt.each(l,f=>{f.remove()})});const s=n.parse(t,{forced_root_block:!1,isRootContent:!0});return Jg({validate:!0},e.schema).serialize(s)},PU=(e,t)=>({content:e,cancelled:t}),jee=(e,t,n)=>{const s=e.dom.create("div",{style:"display:none"},t),l=PC(e,s,n);return PU(l.node.innerHTML,l.isDefaultPrevented())},Kee=(e,t,n)=>{const s=jx(e,t,n),l=Zee(e,s.content);return e.hasEventListeners("PastePostProcess")&&!s.isDefaultPrevented()?jee(e,l,n):PU(l,s.isDefaultPrevented())},qee=(e,t,n)=>Kee(e,t,n),y9=(e,t)=>(e.insertContent(t,{merge:qM(e),paste:!0}),!0),x9=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),Gee=(e,t)=>x9(t)&&xe(jk(e),n=>Se(t.toLowerCase(),`.${n.toLowerCase()}`)),Yee=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),Xee=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),Jee=(e,t,n)=>!e.selection.isCollapsed()&&x9(t)?Xee(e,t,n):!1,Qee=(e,t,n)=>Gee(e,t)?Yee(e,t,n):!1,ete=(e,t)=>{Kt.each([Jee,Qee,y9],n=>!n(e,t,y9))},tte=(e,t,n)=>{n||!$b(e)?y9(e,t):ete(e,t)},nte=Uee("mceclip"),ote=e=>{const t=p9();return OU(t,e),h9(t),t},LU=(e,t,n,s,l)=>{const f=qee(e,t,n);if(!f.cancelled){const g=f.content,C=()=>tte(e,g,s);l?RB(e,"insertFromPaste",{dataTransfer:ote(g)}).isDefaultPrevented()||(C(),ET(e,"insertFromPaste")):C()}},HB=(e,t,n,s)=>{const l=n||RU(t);LU(e,Iee(t),l,!1,s)},w9=(e,t,n)=>{const s=e.dom.encode(t).replace(/\r\n/g,`
`),l=eb(s,IO(e)),f=Pee(l,Ui(e),px(e));LU(e,f,!1,!0,n)},FU=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const s=e.types[n];try{t[s]=e.getData(s)}catch{t[s]=""}}return t},$v=(e,t)=>t in e&&e[t].length>0,zU=e=>$v(e,"text/html")||$v(e,"text/plain"),rte=(e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Ce(n)?e.dom.encode(n[1]):void 0},ste=(e,t,n,s)=>{const l=nte(),f=Zg(e)&&Ce(n.name),g=f?rte(e,n.name):l,C=f?n.name:void 0,A=t.create(l,n,s,g,C);return t.add(A),A},ate=(e,t)=>{q_(t.uri).each(({data:n,type:s,base64Encoded:l})=>{const f=l?n:btoa(n),g=t.file,C=e.editorUpload.blobCache,A=C.getByData(f,s),F=A??ste(e,C,g,f);HB(e,`<img src="${F.blobUri()}">`,!1,!0)})},ite=e=>e.type==="paste",lte=e=>Promise.all(Me(e,t=>cN(t).then(n=>({file:t,uri:n})))),cte=e=>{const t=jk(e);return n=>Kr(n.type,"image/")&&xe(t,s=>Wee(s)===n.type)},ute=(e,t)=>{const n=t.items?ao(io(t.items),l=>l.kind==="file"?[l.getAsFile()]:[]):[],s=t.files?io(t.files):[];return Ct(n.length>0?n:s,cte(e))},HU=(e,t,n)=>{const s=ite(t)?t.clipboardData:t.dataTransfer;if(Tm(e)&&s){const l=ute(e,s);if(l.length>0)return t.preventDefault(),lte(l).then(f=>{n&&e.selection.setRng(n),ge(f,g=>{ate(e,g)})}),!0}return!1},dte=e=>{var t,n;return Co.os.isAndroid()&&((n=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||n===void 0?void 0:n.length)===0},fte=e=>rn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,C9=(e,t,n,s,l)=>{let f=MU(n);const g=$v(t,zB())||RU(n),C=!g&&Bee(f),A=x9(f);(IU(f)||!f.length||C&&!A)&&(s=!0),(s||A)&&($v(t,"text/plain")&&C?f=t["text/plain"]:f=$ee(f)),!IU(f)&&(s?w9(e,f,l):HB(e,f,g,l))},mte=(e,t,n)=>{let s;const l=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",f=>{fte(f)&&!f.isDefaultPrevented()&&(s=f.shiftKey&&f.keyCode===86)}),e.on("paste",f=>{if(f.isDefaultPrevented()||dte(f))return;const g=n.get()==="text"||s;s=!1;const C=FU(f.clipboardData);!zU(C)&&HU(e,f,l())||($v(C,"text/html")?(f.preventDefault(),C9(e,C,C["text/html"],g,!0)):$v(C,"text/plain")&&$v(C,"text/uri-list")?(f.preventDefault(),C9(e,C,C["text/plain"],g,!0)):(t.create(),Cc.setEditorTimeout(e,()=>{const A=t.getHtml();t.remove(),C9(e,C,A,g,!1)},0)))})},gte=e=>{const t=l=>Kr(l,"webkit-fake-url"),n=l=>Kr(l,"data:"),s=l=>{var f;return((f=l.data)===null||f===void 0?void 0:f.paste)===!0};e.parser.addNodeFilter("img",(l,f,g)=>{if(!Tm(e)&&s(g))for(const C of l){const A=C.attr("src");Ie(A)&&!C.attr("data-mce-object")&&A!==Co.transparentSrc&&(t(A)||!GM(e)&&n(A))&&C.remove()}})},hte=(e,t,n)=>{mte(e,t,n),gte(e)},pte=(e,t)=>{t.get()==="text"?(t.set("html"),LC(e,!1)):(t.set("text"),LC(e,!0)),e.focus()},bte=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{pte(e,t)}),e.addCommand("mceInsertClipboardContent",(n,s)=>{s.html&&HB(e,s.html,s.internal,!1),s.text&&w9(e,s.text,!1)})},vte=(e,t,n)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(zB(),t),!0}catch{return!1}else return!1},VU=(e,t,n,s)=>{vte(e.clipboardData,t.html,t.text)?(e.preventDefault(),s()):n(t.html,s)},$U=e=>(t,n)=>{const{dom:s,selection:l}=e,f=s.create("div",{contenteditable:"false","data-mce-bogus":"all"}),g=s.create("div",{contenteditable:"true"},t);s.setStyles(f,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),f.appendChild(g),s.add(e.getBody(),f);const C=l.getRng();g.focus();const A=s.createRng();A.selectNodeContents(g),l.setRng(A),Cc.setEditorTimeout(e,()=>{l.setRng(C),s.remove(f),n()},0)},UU=e=>({html:Nee(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),yte=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),WU=e=>!e.selection.isCollapsed()||yte(e),xte=e=>t=>{!t.isDefaultPrevented()&&WU(e)&&e.selection.isEditable()&&VU(t,UU(e),$U(e),()=>{if(Co.browser.isChromium()||Co.browser.isFirefox()){const n=e.selection.getRng();Cc.setEditorTimeout(e,()=>{e.selection.setRng(n),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},wte=e=>t=>{!t.isDefaultPrevented()&&WU(e)&&VU(t,UU(e),$U(e),Pt)},Cte=e=>{e.on("cut",xte(e)),e.on("copy",wte(e))},ZU=(e,t)=>{var n,s;return rp.getCaretRangeFromPoint((n=t.clientX)!==null&&n!==void 0?n:0,(s=t.clientY)!==null&&s!==void 0?s:0,e.getDoc())},_te=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},jU=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},Ste=e=>xe(e.files,t=>/^image\//.test(t.type)),kte=(e,t,n,s)=>{const l=e.getParent(n,g=>of(t,g));if(!Ge(e.getParent(n,"summary")))return!0;if(l&&Gn(s,"text/html")){const g=new DOMParser().parseFromString(s["text/html"],"text/html").body;return!Ge(g.querySelector(l.nodeName.toLowerCase()))}else return!1},Ete=e=>{e.on("input",t=>{const n=s=>Ge(s.querySelector("summary"));if(t.inputType==="deleteByDrag"){const s=Ct(e.dom.select("details"),n);ge(s,l=>{ns(l.firstChild)&&l.firstChild.remove();const f=e.dom.create("summary");f.appendChild(hd().dom),l.prepend(f)})}})},Ate=(e,t)=>{wf(e)&&e.on("dragend dragover draggesture dragdrop drop drag",n=>{n.preventDefault(),n.stopPropagation()}),Tm(e)||e.on("drop",n=>{const s=n.dataTransfer;s&&Ste(s)&&n.preventDefault()}),e.on("drop",n=>{if(n.isDefaultPrevented())return;const s=ZU(e,n);if(rt(s))return;const l=FU(n.dataTransfer),f=$v(l,zB());if((!zU(l)||_te(l))&&HU(e,n,s))return;const g=l[zB()],C=g||l["text/html"]||l["text/plain"],A=kte(e.dom,e.schema,s.startContainer,l),F=t.get();F&&!A||C&&(n.preventDefault(),Cc.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(g||F&&A)&&e.execCommand("Delete"),jU(e,s);const j=MU(C);l["text/html"]?HB(e,j,f,!0):w9(e,j,!0)})}))}),e.on("dragstart",n=>{t.set(!0)}),e.on("dragover dragend",n=>{Tm(e)&&!t.get()&&(n.preventDefault(),jU(e,ZU(e,n))),n.type==="dragend"&&t.set(!1)}),Ete(e)},Tte=e=>{const t=l=>f=>{l(e,f)},n=KM(e);Re(n)&&e.on("PastePreProcess",t(n));const s=xx(e);Re(s)&&e.on("PastePostProcess",t(s))},Ote=(e,t)=>{e.on("PastePreProcess",n=>{n.content=t(e,n.content,n.internal)})},Dte=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,KU=e=>Kt.trim(e).replace(Dte,gb).toLowerCase(),Rte=(e,t,n)=>{const s=NO(e);if(n||s==="all"||!$k(e))return t;const l=s?s.split(/[, ]/):[];if(l&&s!=="none"){const f=e.dom,g=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(C,A,F,j)=>{const q=f.parseStyle(f.decode(F)),X={};for(let we=0;we<l.length;we++){const fe=q[l[we]];let ke=fe,ze=f.getStyle(g,l[we],!0);/color/.test(l[we])&&(ke=KU(ke),ze=KU(ze)),ze!==ke&&(X[l[we]]=fe)}const ue=f.serializeStyle(X,"span");return ue?A+' style="'+ue+'"'+j:A+j})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(f,g,C,A)=>g+' style="'+C+'"'+A),t},Nte=e=>{(Co.browser.isChromium()||Co.browser.isSafari())&&Ote(e,Rte)},Ite=e=>{const t=fa(!1),n=fa(Ub(e)?"text":"html"),s=Vee(e);Nte(e),bte(e,n),Tte(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>n.get()==="text"),e.on("PreInit",()=>{Cte(e),Ate(e,t),hte(e,s,n)})},Bte=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},Mte=e=>{e.parser.addNodeFilter("details",t=>{const n=dC(e);ge(t,s=>{n==="expanded"?s.attr("open","open"):n==="collapsed"&&s.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const n=HO(e);ge(t,s=>{n==="expanded"?s.attr("open","open"):n==="collapsed"&&s.attr("open",null)})})},Pte=e=>{Bte(e),Mte(e)},Lte=ns,qU=Mt,Fte=e=>eo(e.dom),zte=e=>cc(e.dom),GU=e=>t=>Lo(Be.fromDom(e),t),Hte=(e,t,n)=>Xs(Be.fromDom(e),s=>zte(s)||n.isBlock(Po(s)),GU(t)).getOr(Be.fromDom(t)).dom,YU=(e,t)=>Xs(Be.fromDom(e),Fte,GU(t)),XU=(e,t,n)=>{const s=new Za(e,t),l=n?s.next.bind(s):s.prev.bind(s);let f=e;for(let g=n?e:l();g&&!Lte(g);g=l())Gc(g)&&(f=g);return f},Vte=(e,t,n)=>{const l=mt.fromRangeStart(e).getNode(),f=Hte(l,t,n),g=XU(l,f,!1),C=XU(l,f,!0),A=document.createRange();return YU(g,f).fold(()=>{qU(g)?A.setStart(g,0):A.setStartBefore(g)},F=>A.setStartBefore(F.dom)),YU(C,f).fold(()=>{qU(C)?A.setEnd(C,C.data.length):A.setEndAfter(C)},F=>A.setEndAfter(F.dom)),A},$te=e=>{const t=Vte(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(E_(t))},Ute=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),$te(e))})};var BS;(function(e){e.Before="before",e.After="after"})(BS||(BS={}));const Wte=(e,t)=>Math.abs(e.left-t),Zte=(e,t)=>Math.abs(e.right-t),jte=(e,t)=>e>=t.top&&e<=t.bottom,Kte=(e,t)=>e.top<t.bottom&&e.bottom>t.top,qte=(e,t)=>{const n=sx(e,t)/Math.min(e.height,t.height);return Kte(e,t)&&n>.5},Gte=(e,t)=>{const n=Ct(e,s=>jte(t,s));return $h(n).fold(()=>[[],e],s=>{const{pass:l,fail:f}=$t(e,g=>qte(g,s));return[l,f]})},Yte=(e,t)=>({node:e.node,position:Wte(e,t)<Zte(e,t)?BS.Before:BS.After}),Xte=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),_9=(e,t,n,s)=>{const l=q=>Gc(q.node)?J.some(q):yn(q.node)?_9(io(q.node.childNodes),t,n,!1):J.none(),f=(q,X,ue)=>l(X).filter(we=>Math.abs(ue(q,t,n)-ue(we,t,n))<2&&Mt(we.node)),g=(q,X)=>{const ue=ur(q,(we,fe)=>X(we,t,n)-X(fe,t,n));return $r(ue,l).map(we=>s&&!Mt(we.node)&&ue.length>1?f(we,ue[1],X).getOr(we):we)},[C,A]=Gte(XI(e),n),{pass:F,fail:j}=$t(A,q=>q.top<n);return g(C,Xte).orThunk(()=>g(j,L1)).orThunk(()=>g(F,L1))},Jte=(e,t,n,s)=>{const l=(f,g)=>{const C=F=>yn(F)&&F.classList.contains("mce-drag-container"),A=Ct(f.dom.childNodes,bt(C));return g.fold(()=>_9(A,n,s,!0),F=>{const j=Ct(A,q=>q!==F.dom);return _9(j,n,s,!0)}).orThunk(()=>(Lo(f,e)?J.none():Kd(f)).bind(j=>l(j,J.some(f))))};return l(t,J.none())},Qte=(e,t,n)=>{const s=Be.fromDom(e),l=Ml(s),g=Be.fromPoint(l,t,n).filter(C=>$a(s,C)).getOr(s);return Jte(s,g,t,n)},JU=(e,t,n)=>Qte(e,t,n).filter(s=>Sx(s.node)).map(s=>Yte(s,t)),QU=e=>{var t,n;const s=e.getBoundingClientRect(),l=e.ownerDocument,f=l.documentElement,g=l.defaultView;return{top:s.top+((t=g==null?void 0:g.scrollY)!==null&&t!==void 0?t:0)-f.clientTop,left:s.left+((n=g==null?void 0:g.scrollX)!==null&&n!==void 0?n:0)-f.clientLeft}},ene=e=>e.inline?QU(e.getBody()):{left:0,top:0},tne=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},nne=e=>{const t=e.getBody(),n=e.getDoc().documentElement,s={left:t.scrollLeft,top:t.scrollTop},l={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?s:l},one=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=QU(e.getContentAreaContainer()),s=nne(e);return{left:t.pageX-n.left+s.left,top:t.pageY-n.top+s.top}}return{left:t.pageX,top:t.pageY}},rne=(e,t,n)=>({pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}),sne=(e,t)=>rne(ene(e),tne(e),one(e,t)),eW=e=>({target:e,srcElement:e}),ane=(e,t,n,s)=>({...t,dataTransfer:s,type:e,...eW(n)}),ine=(e,t,n)=>{const s=Zt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:s,initEvent:s,preventDefault:Pt,stopImmediatePropagation:Pt,stopPropagation:Pt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:s,initMouseEvent:s,getModifierState:s,dataTransfer:n,...eW(t)}},lne=(e,t)=>{const n=Dee(e);return t==="dragstart"?(SU(n),EU(n)):t==="drop"?(wee(n),h9(n)):(Cee(n),Eee(n)),n},cne=(e,t,n,s)=>{const l=lne(n,e);return Ze(s)?ine(e,t,l):ane(e,s,t,l)},VB=32,une=100,$B=8,UB=16,tW=eo,dne=lx(tW,cc),fne=(e,t,n)=>tW(n)&&n!==t&&e.isEditable(n.parentElement),mne=(e,t,n)=>rt(t)||t===n||e.dom.isChildOf(t,n)?!1:e.dom.isEditable(t),gne=(e,t,n,s)=>{const l=e.dom,f=t.cloneNode(!0);l.setStyles(f,{width:n,height:s}),l.setAttrib(f,"data-mce-selected",null);const g=l.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return l.setStyles(g,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:s}),l.setStyles(f,{margin:0,boxSizing:"border-box"}),g.appendChild(f),g},hne=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},WB=(e,t)=>n=>()=>{const s=e==="left"?n.scrollX:n.scrollY;n.scroll({[e]:s+t,behavior:"smooth"})},nW=WB("left",-VB),oW=WB("left",VB),rW=WB("top",-VB),sW=WB("top",VB),pne=(e,t,n,s,l,f,g,C,A,F,j,q)=>{let X=0,ue=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>l&&(X=t.pageX+n-l),t.pageY+s>f&&(ue=t.pageY+s-f),e.style.width=n-X+"px",e.style.height=s-ue+"px";const we=A.clientHeight,fe=A.clientWidth,ke=g+A.getBoundingClientRect().top,ze=C+A.getBoundingClientRect().left;j.on(qe=>{qe.intervalId.clear(),qe.dragging&&q&&(g+$B>=we?qe.intervalId.set(sW(F)):g-$B<=0?qe.intervalId.set(rW(F)):C+$B>=fe?qe.intervalId.set(oW(F)):C-$B<=0?qe.intervalId.set(nW(F)):ke+UB>=window.innerHeight?qe.intervalId.set(sW(window)):ke-UB<=0?qe.intervalId.set(rW(window)):ze+UB>=window.innerWidth?qe.intervalId.set(oW(window)):ze-UB<=0&&qe.intervalId.set(nW(window)))})},aW=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},bne=(e,t)=>{const n=e.getParent(t.parentNode,e.isBlock);aW(t),n&&n!==e.getRoot()&&e.isEmpty(n)&&pc(Be.fromDom(n))},vne=e=>e.button===0,yne=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),xne=(e,t)=>n=>{if(vne(n)){const s=wn(t.dom.getParents(n.target),dne).getOr(null);if(Ce(s)&&fne(t.dom,t.getBody(),s)){const l=t.dom.getPos(s),f=t.getBody(),g=t.getDoc().documentElement;e.set({element:s,dataTransfer:p9(),dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?f.scrollWidth:g.offsetWidth)-2,maxY:(t.inline?f.scrollHeight:g.offsetHeight)-2,relX:n.pageX-l.x,relY:n.pageY-l.y,width:s.offsetWidth,height:s.offsetHeight,ghost:gne(t,s,s.offsetWidth,s.offsetHeight),intervalId:uc(une)})}}},wne=(e,t,n)=>{e._selectionOverrides.hideFakeCaret(),JU(e.getBody(),t,n).fold(()=>e.selection.placeCaretAt(t,n),s=>{const l=e._selectionOverrides.showCaret(1,s.node,s.position===BS.Before,!1);l?e.selection.setRng(l):e.selection.placeCaretAt(t,n)})},DT=(e,t,n,s,l)=>{t==="dragstart"&&OU(s,e.dom.getOuterHTML(n));const f=cne(t,n,s,l);return e.dispatch(t,f)},Cne=(e,t)=>{const n=Pg((l,f)=>wne(t,l,f),0);t.on("remove",n.cancel);const s=e;return l=>e.on(f=>{const g=Math.max(Math.abs(l.screenX-f.screenX),Math.abs(l.screenY-f.screenY));if(!f.dragging&&g>10){const C=DT(t,"dragstart",f.element,f.dataTransfer,l);if(Ce(C.dataTransfer)&&(f.dataTransfer=C.dataTransfer),C.isDefaultPrevented())return;f.dragging=!0,t.focus()}if(f.dragging){const C=l.currentTarget===t.getDoc().documentElement,A=yne(f,sne(t,l));hne(f.ghost,t.getBody()),pne(f.ghost,A,f.width,f.height,f.maxX,f.maxY,l.clientY,l.clientX,t.getContentAreaContainer(),t.getWin(),s,C),n.throttle(l.clientX,l.clientY)}})},_ne=e=>{const t=e.getSel();if(Ce(t)){const s=t.getRangeAt(0).startContainer;return Mt(s)?s.parentNode:s}else return null},Sne=(e,t)=>n=>{e.on(s=>{var l;if(s.intervalId.clear(),s.dragging){if(mne(t,_ne(t.selection),s.element)){const f=(l=t.getDoc().elementFromPoint(n.clientX,n.clientY))!==null&&l!==void 0?l:t.getBody();DT(t,"drop",f,s.dataTransfer,n).isDefaultPrevented()||t.undoManager.transact(()=>{bne(t.dom,s.element),Ree(s.dataTransfer).each(C=>t.insertContent(C)),t._selectionOverrides.hideFakeCaret()})}DT(t,"dragend",t.getBody(),s.dataTransfer,n)}}),lW(e)},iW=(e,t,n)=>{e.on(s=>{s.intervalId.clear(),s.dragging&&n.fold(()=>DT(t,"dragend",s.element,s.dataTransfer),l=>DT(t,"dragend",s.element,s.dataTransfer,l))}),lW(e)},kne=(e,t)=>n=>iW(e,t,J.some(n)),lW=e=>{e.on(t=>{t.intervalId.clear(),aW(t.ghost)}),e.clear()},Ene=e=>{const t=ma(),n=Nr.DOM,s=document,l=xne(t,e),f=Cne(t,e),g=Sne(t,e),C=kne(t,e);e.on("mousedown",l),e.on("mousemove",f),e.on("mouseup",g),n.bind(s,"mousemove",f),n.bind(s,"mouseup",C),e.on("remove",()=>{n.unbind(s,"mousemove",f),n.unbind(s,"mouseup",C)}),e.on("keydown",A=>{A.keyCode===rn.ESC&&iW(t,e,J.none())})},Ane=e=>{const t=l=>{if(!l.isDefaultPrevented()){const f=l.dataTransfer;f&&(le(f.types,"Files")||f.files.length>0)&&(l.preventDefault(),l.type==="drop"&&gS(e,"Dropped file type is not supported"))}},n=l=>{GC(e,l.target)&&t(l)},s=()=>{const l=Nr.DOM,f=e.dom,g=document,C=e.inline?e.getBody():e.getDoc(),A=["drop","dragover"];ge(A,F=>{l.bind(g,F,n),f.bind(C,F,t)}),e.on("remove",()=>{ge(A,F=>{l.unbind(g,F,n),f.unbind(C,F,t)})})};e.on("init",()=>{Cc.setEditorTimeout(e,s,0)})},Tne=e=>{Ene(e),cC(e)&&Ane(e)},One=e=>{const t=Pg(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const n=e.selection.getRng();if(n.collapsed){const s=vS(e,n,!1);e.selection.setRng(s)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},Dne=e=>{e.on("init",()=>{e.on("focusin",t=>{const n=t.target;if(xt(n)){const s=zu(e.getBody(),n),l=eo(s)?s:n;e.selection.getNode()!==l&&Z2(e,l).each(f=>e.selection.setRng(f))}})})},RT=eo,cW=(e,t)=>zu(e.getBody(),t),Rne=e=>{const t=e.selection,n=e.dom,s=e.getBody(),l=qO(e,s,n.isBlock,()=>lv(e)),f="sel-"+n.uniqueId(),g="data-mce-selected";let C;const A=un=>Ce(un)&&n.hasClass(un,"mce-offscreen-selection"),F=un=>un!==s&&(RT(un)||xt(un))&&n.isChildOf(un,s)&&n.isEditable(un.parentNode),j=un=>{un&&t.setRng(un)},q=(un,wt,dt,Dt=!0)=>e.dispatch("ShowCaret",{target:wt,direction:un,before:dt}).isDefaultPrevented()?null:(Dt&&t.scrollIntoView(wt,un===-1),l.show(dt,wt)),X=un=>{un.hasAttribute("data-mce-caret")&&(Hg(un),t.scrollIntoView(un))},ue=()=>{e.on("click",wt=>{n.isEditable(wt.target)||(wt.preventDefault(),e.focus())}),e.on("blur NewBlock",st),e.on("ResizeWindow FullscreenStateChanged",l.reposition),e.on("tap",wt=>{const dt=wt.target,Dt=cW(e,dt);RT(Dt)?(wt.preventDefault(),Z2(e,Dt).each(We)):F(dt)&&Z2(e,dt).each(We)},!0),e.on("mousedown",wt=>{const dt=wt.target;if(dt!==s&&dt.nodeName!=="HTML"&&!n.isChildOf(dt,s)||!OF(e,wt.clientX,wt.clientY))return;st(),jt();const Dt=cW(e,dt);RT(Dt)?(wt.preventDefault(),Z2(e,Dt).each(We)):JU(s,wt.clientX,wt.clientY).each(pn=>{wt.preventDefault();const Nn=q(1,pn.node,pn.position===BS.Before,!1);j(Nn),Uc(Dt)?Dt.focus():e.getBody().focus()})}),e.on("keypress",wt=>{rn.modifierPressed(wt)||RT(t.getNode())&&wt.preventDefault()}),e.on("GetSelectionRange",wt=>{let dt=wt.range;if(C){if(!C.parentNode){C=null;return}dt=dt.cloneRange(),dt.selectNode(C),wt.range=dt}}),e.on("SetSelectionRange",wt=>{wt.range=ke(wt.range);const dt=We(wt.range,wt.forward);dt&&(wt.range=dt)});const un=wt=>yn(wt)&&wt.id==="mcepastebin";e.on("AfterSetSelectionRange",wt=>{const dt=wt.range,Dt=dt.startContainer.parentElement;!fe(dt)&&!un(Dt)&&jt(),A(Dt)||st()}),Tne(e),One(e),Dne(e)},we=un=>Ol(un)||Db(un)||bd(un),fe=un=>we(un.startContainer)||we(un.endContainer),ke=un=>{const wt=e.schema.getVoidElements(),dt=n.createRng(),Dt=un.startContainer,pn=un.startOffset,Nn=un.endContainer,yo=un.endOffset;return Gn(wt,Dt.nodeName.toLowerCase())?pn===0?dt.setStartBefore(Dt):dt.setStartAfter(Dt):dt.setStart(Dt,pn),Gn(wt,Nn.nodeName.toLowerCase())?yo===0?dt.setEndBefore(Nn):dt.setEndAfter(Nn):dt.setEnd(Nn,yo),dt},ze=(un,wt)=>{const dt=Be.fromDom(e.getBody()),Dt=e.getDoc(),pn=At(dt,"#"+f).getOrThunk(()=>{const To=Be.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Dt);return na(To,"id",f),Ds(dt,To),To}),Nn=n.createRng();Lr(pn),Hs(pn,[Be.fromText(da,Dt),Be.fromDom(wt),Be.fromText(da,Dt)]),Nn.setStart(pn.dom.firstChild,1),Nn.setEnd(pn.dom.lastChild,0),Bo(pn,{top:n.getPos(un,e.getBody()).y+"px"}),ME(pn);const yo=t.getSel();return yo&&(yo.removeAllRanges(),yo.addRange(Nn)),Nn},qe=un=>{const wt=un.cloneNode(!0),dt=e.dispatch("ObjectSelected",{target:un,targetClone:wt});if(dt.isDefaultPrevented())return null;const Dt=ze(un,dt.targetClone),pn=Be.fromDom(un);return ge(Js(Be.fromDom(e.getBody()),`*[${g}]`),Nn=>{Lo(pn,Nn)||bo(Nn,g)}),n.getAttrib(un,g)||un.setAttribute(g,"1"),C=un,jt(),Dt},We=(un,wt)=>{if(!un)return null;if(un.collapsed){if(!fe(un)){const Nn=wt?1:-1,yo=Tx(Nn,s,un),To=yo.getNode(!wt);if(Ce(To)){if(Sx(To))return q(Nn,To,wt?!yo.isAtEnd():!1,!1);if(Cm(To)&&eo(To.nextSibling)){const Ar=n.createRng();return Ar.setStart(To,0),Ar.setEnd(To,0),Ar}}const mr=yo.getNode(wt);if(Ce(mr)){if(Sx(mr))return q(Nn,mr,wt?!1:!yo.isAtEnd(),!1);if(Cm(mr)&&eo(mr.previousSibling)){const Ar=n.createRng();return Ar.setStart(mr,1),Ar.setEnd(mr,1),Ar}}}return null}let dt=un.startContainer,Dt=un.startOffset;const pn=un.endOffset;if(Mt(dt)&&Dt===0&&RT(dt.parentNode)&&(dt=dt.parentNode,Dt=n.nodeIndex(dt),dt=dt.parentNode),!yn(dt))return null;if(pn===Dt+1&&dt===un.endContainer){const Nn=dt.childNodes[Dt];if(F(Nn))return qe(Nn)}return null},st=()=>{C&&C.removeAttribute(g),At(Be.fromDom(e.getBody()),"#"+f).each(fr),C=null},Nt=()=>{l.destroy(),C=null},jt=()=>{l.hide()};return Zm(e)||ue(),{showCaret:q,showBlockCaretContainer:X,hideFakeCaret:jt,destroy:Nt}},Nne=(e,t)=>{let n=t;for(let s=e.previousSibling;Mt(s);s=s.previousSibling)n+=s.data.length;return n},uW=(e,t,n,s,l)=>{if(Mt(n)&&(s<0||s>n.data.length))return[];const f=l&&Mt(n)?[Nne(n,s)]:[s];let g=n;for(;g!==t&&g.parentNode;)f.push(e.nodeIndex(g,l)),g=g.parentNode;return g===t?f.reverse():[]},S9=(e,t,n,s,l,f,g=!1)=>{const C=uW(e,t,n,s,g),A=uW(e,t,l,f,g);return{start:C,end:A}},dW=(e,t)=>{const n=t.slice(),s=n.pop();return R(s)?It(n,(f,g)=>f.bind(C=>J.from(C.childNodes[g])),J.some(e)).bind(f=>Mt(f)&&(s<0||s>f.data.length)?J.none():J.some({node:f,offset:s})):J.none()},fW=(e,t)=>dW(e,t.start).bind(({node:n,offset:s})=>dW(e,t.end).map(({node:l,offset:f})=>{const g=document.createRange();return g.setStart(n,s),g.setEnd(l,f),g})),Ine=(e,t,n,s=!1)=>S9(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,s),MS=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const s=t.parentNode;e.remove(t,Mt(t.firstChild)&&Ll(t.firstChild.data)),MS(e,s,n)}},ZB=(e,t,n,s=!0)=>{const l=t.startContainer.parentNode,f=t.endContainer.parentNode;t.deleteContents(),s&&!n(t.startContainer)&&(Mt(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),Mt(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),MS(e,l,n),l!==f&&MS(e,f,n))},jB=(e,t)=>J.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),k9=(e,t,n)=>{const s=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:di(s).concat(e.blockPatterns),inlinePatterns:Du(s).concat(e.inlinePatterns)}},E9=(e,t,n,s)=>{const l=e.createRng();return l.setStart(t,0),l.setEnd(n,s),l.toString()},mW=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),KB=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},gW=(e,t,n)=>{const s=fW(e.getRoot(),n).getOrDie("Unable to resolve path range"),l=s.startContainer,f=s.endContainer,g=s.endOffset===0?f:f.splitText(s.endOffset),C=s.startOffset===0?l:l.splitText(s.startOffset),A=C.parentNode,F=g.parentNode;return{prefix:t,end:F.insertBefore(mW(e,t+"-end"),g),start:A.insertBefore(mW(e,t+"-start"),C)}},hW=(e,t,n)=>{MS(e,e.get(t.prefix+"-end"),n),MS(e,e.get(t.prefix+"-start"),n)},A9=e=>e.start.length===0,Bne=e=>(t,n)=>{const l=t.data.substring(0,n),f=l.lastIndexOf(e.charAt(e.length-1)),g=l.lastIndexOf(e);return g!==-1?g+e.length:f!==-1?f+1:-1},pW=(e,t,n,s)=>{const l=t.start;return Gz(e,s.container,s.offset,Bne(l),n).bind(g=>{var C,A;const F=(A=(C=n.textContent)===null||C===void 0?void 0:C.indexOf(l))!==null&&A!==void 0?A:-1;if(F!==-1&&g.offset>=F+l.length){const q=e.createRng();return q.setStart(g.container,g.offset-l.length),q.setEnd(g.container,g.offset),J.some(q)}else{const q=g.offset-l.length;return qz(g.container,q,n).map(X=>{const ue=e.createRng();return ue.setStart(X.container,X.offset),ue.setEnd(g.container,g.offset),ue}).filter(X=>X.toString()===l).orThunk(()=>pW(e,t,n,fh(g.container,0)))}})},Mne=(e,t,n,s,l,f=!1)=>{if(t.start.length===0&&!f){const g=e.createRng();return g.setStart(n,s),g.setEnd(n,s),J.some(g)}return Kz(n,s,l).bind(g=>pW(e,t,l,g).bind(A=>{var F;if(f){if(A.endContainer===g.container&&A.endOffset===g.offset)return J.none();if(g.offset===0&&((F=A.endContainer.textContent)===null||F===void 0?void 0:F.length)===A.endOffset)return J.none()}return J.some(A)}))},Pne=(e,t,n,s)=>{const l=e.dom,f=l.getRoot(),g=n.pattern,C=n.position.container,A=n.position.offset;return qz(C,A-n.pattern.end.length,t).bind(F=>{const j=S9(l,f,F.container,F.offset,C,A,s);if(A9(g))return J.some({matches:[{pattern:g,startRng:j,endRng:j}],position:F});{const q=qB(e,n.remainingPatterns,F.container,F.offset,t,s),X=q.getOr({matches:[],position:F}),ue=X.position;return Mne(l,g,ue.container,ue.offset,t,q.isNone()).map(fe=>{const ke=Ine(l,f,fe,s);return{matches:X.matches.concat([{pattern:g,startRng:ke,endRng:j}]),position:fh(fe.startContainer,fe.startOffset)}})}})},qB=(e,t,n,s,l,f)=>{const g=e.dom;return Kz(n,s,g.getRoot()).bind(C=>{const A=E9(g,l,n,s);for(let F=0;F<t.length;F++){const j=t[F];if(!Se(A,j.end))continue;const q=t.slice();q.splice(F,1);const X=Pne(e,l,{pattern:j,remainingPatterns:q,position:C},f);if(X.isNone()&&s>0)return qB(e,t,n,s-1,l,f);if(X.isSome())return X}return J.none()})},bW=(e,t,n)=>{e.selection.setRng(n),t.type==="inline-format"?ge(t.format,s=>{e.formatter.apply(s)}):e.execCommand(t.cmd,!1,t.value)},Lne=(e,t,n,s)=>{const l=KB(e.dom,n);ZB(e.dom,l,s),bW(e,t,l)},Fne=(e,t,n,s,l)=>{const f=e.dom,g=KB(f,s),C=KB(f,n);ZB(f,C,l),ZB(f,g,l);const A={prefix:n.prefix,start:n.end,end:s.start},F=KB(f,A);bW(e,t,F)},zne=(e,t)=>{const n=ki("mce_textpattern"),s=zt(t,(l,f)=>{const g=gW(e,n+`_end${l.length}`,f.endRng);return l.concat([{...f,endMarker:g}])},[]);return zt(s,(l,f)=>{const g=s.length-l.length-1,C=A9(f.pattern)?f.endMarker:gW(e,n+`_start${g}`,f.startRng);return l.concat([{...f,startMarker:C}])},[])},Hne=e=>ur(e,(t,n)=>n.end.length-t.end.length),Vne=(e,t)=>{const n=vo(e,s=>xe(t,l=>s.pattern.start===l.pattern.start&&s.pattern.end===l.pattern.end));return e.length===t.length?n?e:t:e.length>t.length?e:t},vW=(e,t,n,s,l,f)=>{const g=qB(e,l.inlinePatterns,n,s,t,f).fold(()=>[],A=>A.matches),C=qB(e,Hne(l.inlinePatterns),n,s,t,f).fold(()=>[],A=>A.matches);return Vne(g,C)},yW=(e,t)=>{if(t.length===0)return;const n=e.dom,s=e.selection.getBookmark(),l=zne(n,t);ge(l,f=>{const g=n.getParent(f.startMarker.start,n.isBlock),C=A=>A===g;A9(f.pattern)?Lne(e,f.pattern,f.endMarker,C):Fne(e,f.pattern,f.startMarker,f.endMarker,C),hW(n,f.endMarker,C),hW(n,f.startMarker,C)}),e.selection.moveToBookmark(s)},xW=(e,t,n)=>DX(t,0,t).map(s=>{const l=s.container;return C$(l,n.start.length,t).each(f=>{const g=e.createRng();g.setStart(l,0),g.setEnd(f.container,f.offset),ZB(e,g,C=>C===t)}),l}),wW=e=>(t,n)=>{const s=t.dom,l=n.pattern,f=fW(s.getRoot(),n.range).getOrDie("Unable to resolve path range"),g=(C,A)=>{const F=A.get(C);return oe(F)&&cn(F).exists(j=>Gn(j,"block"))};return jB(t,f).each(C=>{l.type==="block-format"?g(l.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,C,l),t.formatter.apply(l.format)}):l.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,C,l),t.execCommand(l.cmd,!1,l.value)})}),!0},$ne=e=>ur(e,(t,n)=>n.start.length-t.start.length),CW=e=>(t,n)=>{const s=$ne(t),l=n.replace(da," ");return wn(s,f=>e(f,n,l))},_W=(e,t)=>(n,s,l,f,g)=>{var C;g===void 0&&(g=(C=s.textContent)!==null&&C!==void 0?C:"");const A=n.dom,F=Ui(n);return A.is(s,F)?e(l.blockPatterns,g).map(j=>t&&Kt.trim(g).length===j.start.length?[]:[{pattern:j,range:S9(A,A.getRoot(),s,0,s,0,f)}]).getOr([]):[]},Une=e=>/^\s[^\s]/.test(e),Wne=wW((e,t,n)=>{xW(e,t,n).each(s=>{const l=Be.fromDom(s),f=xm(l);Une(f)&&_b(l,f.slice(1))})}),Zne=CW((e,t,n)=>t.indexOf(e.start)===0||n.indexOf(e.start)===0),jne=_W(Zne,!0),Kne=(e,t)=>{const n=e.selection.getRng();return jB(e,n).map(s=>{var l;const f=Math.max(0,n.startOffset),g=k9(t,s,(l=s.textContent)!==null&&l!==void 0?l:""),C=vW(e,s,n.startContainer,f,g,!0),A=jne(e,s,g,!0);return{inlineMatches:C,blockMatches:A}}).filter(({inlineMatches:s,blockMatches:l})=>l.length>0||s.length>0)},qne=(e,t)=>{if(t.length===0)return;const n=e.selection.getBookmark();ge(t,s=>Wne(e,s)),e.selection.moveToBookmark(n)},Gne=wW(xW),Yne=CW((e,t,n)=>t===e.start||n===e.start),Xne=_W(Yne,!1),Jne=(e,t)=>{const n=e.selection.getRng();return jB(e,n).map(s=>{const l=Math.max(0,n.startOffset),f=E9(e.dom,s,n.startContainer,l),g=k9(t,s,f);return Xne(e,s,g,!1,f)}).filter(s=>s.length>0)},Qne=(e,t)=>{ge(t,n=>Gne(e,n))},eoe=(e,t)=>Kne(e,t).fold(xn,({inlineMatches:n,blockMatches:s})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{kk(e),yW(e,n),qne(e,s);const l=e.selection.getRng(),f=Kz(l.startContainer,l.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),f.each(g=>{const C=g.container;C.data.charAt(g.offset-1)===hs&&(C.deleteData(g.offset-1,1),MS(e.dom,C.parentNode,A=>A===e.dom.getRoot()))})}),!0)),toe=(e,t)=>{const n=e.selection.getRng();jB(e,n).map(s=>{const l=Math.max(0,n.startOffset-1),f=E9(e.dom,s,n.startContainer,l),g=k9(t,s,f),C=vW(e,s,n.startContainer,l,g,!1);C.length>0&&e.undoManager.transact(()=>{yW(e,C)})})},noe=(e,t)=>Jne(e,t).fold(xn,n=>(e.undoManager.transact(()=>{Qne(e,n)}),!0)),SW=(e,t,n)=>{for(let s=0;s<e.length;s++)if(n(e[s],t))return!0;return!1},ooe=(e,t)=>SW(e,t,(n,s)=>n===s.keyCode&&!rn.modifierPressed(s)),roe=(e,t)=>SW(e,t,(n,s)=>n.charCodeAt(0)===s.charCode),soe=e=>{const t=[",",".",";",":","!","?"],n=[32],s=()=>jh(YM(e).filter(g=>g.type==="inline-command"||g.type==="block-command"?e.queryCommandSupported(g.cmd):!0),wx(e)),l=()=>Uk(e);e.on("keydown",g=>{if(g.keyCode===13&&!rn.modifierPressed(g)&&e.selection.isCollapsed()){const C=yf(s(),"enter");(C.inlinePatterns.length>0||C.blockPatterns.length>0||l())&&eoe(e,C)&&g.preventDefault()}},!0),e.on("keydown",g=>{if(g.keyCode===32&&e.selection.isCollapsed()){const C=yf(s(),"space");(C.blockPatterns.length>0||l())&&noe(e,C)&&g.preventDefault()}},!0);const f=()=>{if(e.selection.isCollapsed()){const g=yf(s(),"space");(g.inlinePatterns.length>0||l())&&toe(e,g)}};e.on("keyup",g=>{ooe(n,g)&&f()}),e.on("keypress",g=>{roe(t,g)&&Cc.setEditorTimeout(e,f)})},aoe=e=>{soe(e)},ioe=e=>{const t=Kt.each,n=rn.BACKSPACE,s=rn.DELETE,l=e.dom,f=e.selection,g=e.parser,C=Co.browser,A=C.isFirefox(),F=C.isChromium()||C.isSafari(),j=Co.deviceType.isiPhone()||Co.deviceType.isiPad(),q=Co.os.isMacOS()||Co.os.isiOS(),X=(tn,Hn)=>{try{e.getDoc().execCommand(tn,!1,String(Hn))}catch{}},ue=tn=>tn.isDefaultPrevented(),we=()=>{const tn=ko=>{const an=l.create("body"),xo=ko.cloneContents();return an.appendChild(xo),f.serializer.serialize(an,{format:"html"})},Hn=ko=>{const an=tn(ko),xo=l.createRng();xo.selectNode(e.getBody());const Do=tn(xo);return an===Do};e.on("keydown",ko=>{const an=ko.keyCode;if(!ue(ko)&&(an===s||an===n)&&e.selection.isEditable()){const xo=e.selection.isCollapsed(),Do=e.getBody();if(xo&&!Fl(e.schema,Do)||!xo&&!Hn(e.selection.getRng()))return;ko.preventDefault(),e.setContent(""),Do.firstChild&&l.isBlock(Do.firstChild)?e.selection.setCursorLocation(Do.firstChild,0):e.selection.setCursorLocation(Do,0),e.nodeChanged()}})},fe=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},ke=()=>{e.inline||l.bind(e.getDoc(),"mousedown mouseup",tn=>{let Hn;if(tn.target===e.getDoc().documentElement)if(Hn=f.getRng(),e.getBody().focus(),tn.type==="mousedown"){if(Ol(Hn.startContainer))return;f.placeCaretAt(tn.clientX,tn.clientY)}else f.setRng(Hn)})},ze=()=>{e.on("keydown",tn=>{if(!ue(tn)&&tn.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&f.getRng().startOffset===0){const Hn=f.getNode(),ko=Hn.previousSibling;if(Hn.nodeName==="HR"){l.remove(Hn),tn.preventDefault();return}ko&&ko.nodeName&&ko.nodeName.toLowerCase()==="hr"&&(l.remove(ko),tn.preventDefault())}}})},qe=()=>{Range.prototype.getClientRects||e.on("mousedown",tn=>{if(!ue(tn)&&tn.target.nodeName==="HTML"){const Hn=e.getBody();Hn.blur(),Cc.setEditorTimeout(e,()=>{Hn.focus()})}})},We=()=>{const tn=Y1(e);e.on("click",Hn=>{const ko=Hn.target;/^(IMG|HR)$/.test(ko.nodeName)&&l.isEditable(ko)&&(Hn.preventDefault(),e.selection.select(ko),e.nodeChanged()),ko.nodeName==="A"&&l.hasClass(ko,tn)&&ko.childNodes.length===0&&l.isEditable(ko.parentNode)&&(Hn.preventDefault(),f.select(ko))})},st=()=>{const tn=()=>{const ko=l.getAttribs(f.getStart().cloneNode(!1));return()=>{const an=f.getStart();an!==e.getBody()&&(l.setAttrib(an,"style",null),t(ko,xo=>{an.setAttributeNode(xo.cloneNode(!0))}))}},Hn=()=>!f.isCollapsed()&&l.getParent(f.getStart(),l.isBlock)!==l.getParent(f.getEnd(),l.isBlock);e.on("keypress",ko=>{let an;return!ue(ko)&&(ko.keyCode===8||ko.keyCode===46)&&Hn()?(an=tn(),e.getDoc().execCommand("delete",!1),an(),ko.preventDefault(),!1):!0}),l.bind(e.getDoc(),"cut",ko=>{if(!ue(ko)&&Hn()){const an=tn();Cc.setEditorTimeout(e,()=>{an()})}})},Nt=()=>{e.on("keydown",tn=>{if(!ue(tn)&&tn.keyCode===n&&f.isCollapsed()&&f.getRng().startOffset===0){const Hn=f.getNode().previousSibling;if(Hn&&Hn.nodeName&&Hn.nodeName.toLowerCase()==="table")return tn.preventDefault(),!1}return!0})},jt=()=>{e.on("keydown",tn=>{if(ue(tn)||tn.keyCode!==rn.BACKSPACE)return;let Hn=f.getRng();const ko=Hn.startContainer,an=Hn.startOffset,xo=l.getRoot();let Do=ko;if(!(!Hn.collapsed||an!==0)){for(;Do.parentNode&&Do.parentNode.firstChild===Do&&Do.parentNode!==xo;)Do=Do.parentNode;Do.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Do),Hn=l.createRng(),Hn.setStart(ko,0),Hn.setEnd(ko,0),f.setRng(Hn))}})},un=()=>{const tn=()=>{X("StyleWithCSS",!1),X("enableInlineTableEditing",!1),CO(e)||X("enableObjectResizing",!1)};DO(e)||e.on("BeforeExecCommand mousedown",tn)},wt=()=>{const tn=()=>{t(l.select("a:not([data-mce-block])"),Hn=>{var ko;let an=Hn.parentNode;const xo=l.getRoot();if((an==null?void 0:an.lastChild)===Hn){for(;an&&!l.isBlock(an);){if(((ko=an.parentNode)===null||ko===void 0?void 0:ko.lastChild)!==an||an===xo)return;an=an.parentNode}l.add(an,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Hn=>{(Hn.type==="setcontent"||Hn.command==="mceInsertLink")&&tn()})},dt=()=>{e.on("init",()=>{X("DefaultParagraphSeparator",Ui(e))})},Dt=tn=>{const Hn=tn.getBody(),ko=tn.selection.getRng();return ko.startContainer===ko.endContainer&&ko.startContainer===Hn&&ko.startOffset===0&&ko.endOffset===Hn.childNodes.length},pn=()=>{e.on("keyup focusin mouseup",tn=>{!rn.modifierPressed(tn)&&!Dt(e)&&f.normalize()},!0)},Nn=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},yo=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},To=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",tn=>{let Hn;tn.target.nodeName==="HTML"&&(Hn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Hn),e.selection.normalize(),e.nodeChanged())}))},mr=()=>{q&&e.on("keydown",tn=>{rn.metaKeyPressed(tn)&&!tn.shiftKey&&(tn.keyCode===37||tn.keyCode===39)&&(tn.preventDefault(),e.selection.getSel().modify("move",tn.keyCode===37?"backward":"forward","lineboundary"))})},Ar=()=>{e.on("click",tn=>{let Hn=tn.target;do if(Hn.tagName==="A"){tn.preventDefault();return}while(Hn=Hn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Gs=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",tn=>{tn.preventDefault()})})},fl=()=>{g.addNodeFilter("br",tn=>{let Hn=tn.length;for(;Hn--;)tn[Hn].attr("class")==="Apple-interchange-newline"&&tn[Hn].remove()})},Br=Pt,Xt=()=>{if(!A||e.removed)return!1;const tn=e.selection.getSel();return!tn||!tn.rangeCount||tn.rangeCount===0},Tn=()=>{F&&(ke(),We(),Gs(),fe(),j&&(yo(),To(),Ar())),A&&(qe(),un(),Nn(),mr())},Qo=()=>{jt(),we(),Co.windowsPhone||pn(),F&&(ke(),We(),dt(),Gs(),Nt(),fl(),j?(yo(),To(),Ar()):fe()),A&&(ze(),qe(),st(),un(),wt(),Nn(),mr(),Nt())};return Zm(e)?Tn():Qo(),{refreshContentEditable:Br,isHidden:Xt}},loe=e=>e.toLowerCase()==="gpl",coe=e=>e.length>=64&&e.length<=255,uoe=e=>loe(e)||coe(e)?"VALID":"INVALID",doe=e=>{const t=$O(e);!Ie(UO(e))&&(Ze(t)||uoe(t)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},T9=Nr.DOM,foe=(e,t)=>{const n=Be.fromDom(e.getBody()),s=om(zc(n)),l=Be.fromTag("style");na(l,"type","text/css"),Ds(l,Be.fromText(t)),Ds(s,l),e.on("remove",()=>{fr(l)})},moe=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,O9=e=>ec(e,t=>Ze(t)===!1),kW=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return O9({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:moe(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:fC(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},EW=e=>{const t=e.options.get;return O9({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},goe=e=>{const t=e.options.get;return{...kW(e),...EW(e),...O9({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},hoe=e=>{const t=kv(kW(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(n,s)=>{const l=e.dom,f="data-mce-"+s;let g=n.length;for(;g--;){const C=n[g];let A=C.attr(s);if(A&&!C.attr(f)){if(A.indexOf("data:")===0||A.indexOf("blob:")===0)continue;s==="style"?(A=l.serializeStyle(l.parseStyle(A),C.name),A.length||(A=null),C.attr(f,A),C.attr(s,A)):s==="tabindex"?(C.attr(f,A),C.attr(s,null)):C.attr(f,e.convertURL(A,s,C.name))}}}),t.addNodeFilter("script",n=>{let s=n.length;for(;s--;){const l=n[s],f=l.attr("type")||"no/type";f.indexOf("mce-")!==0&&l.attr("type","mce-"+f)}}),JM(e)&&t.addNodeFilter("#cdata",n=>{var s;let l=n.length;for(;l--;){const f=n[l];f.type=8,f.name="#comment",f.value="[CDATA["+e.dom.encode((s=f.value)!==null&&s!==void 0?s:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",n=>{let s=n.length;const l=e.schema.getNonEmptyElements();for(;s--;){const f=n[s];f.isEmpty(l)&&f.getAll("br").length===0&&f.append(new fi("br",1))}}),t},poe=e=>{const t=ZM(e);t&&Cc.setEditorTimeout(e,()=>{let n;t===!0?n=e:n=e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())},100)},boe=e=>{const t=e.dom.getRoot();!e.inline&&(!tv(e)||e.selection.getStart(!0)===t)&&Un(t).each(n=>{const s=n.getNode(),l=Wc(s)?Un(s).getOr(n):n;e.selection.setRng(l.toRange())})},voe=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Us(e),e.focus(!0),boe(e),e.nodeChanged({initial:!0});const t=UM(e);Re(t)&&t.call(e,e),poe(e)},D9=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,yoe=(e,t,n)=>{const{pass:s,fail:l}=$t(t,C=>tinymce.Resource.has(R4(C))),g=[...s.map(C=>{const A=tinymce.Resource.get(R4(C));return Ie(A)?Promise.resolve(D9(e).loadRawCss(C,A)):Promise.resolve()}),D9(e).loadAll(l)];return e.inline?g:g.concat([e.ui.styleSheetLoader.loadAll(n)])},AW=e=>{const t=D9(e),n=wO(e),s=e.contentCSS,l=()=>{t.unloadAll(s),e.inline||e.ui.styleSheetLoader.unloadAll(n)},f=()=>{e.removed?l():e.on("remove",l)};if(e.contentStyles.length>0){let A="";Kt.each(e.contentStyles,F=>{A+=F+`\r
`}),e.dom.addStyle(A)}const g=Promise.all(yoe(e,s,n)).then(f).catch(f),C=K1(e);return C&&foe(e,C),g},xoe=e=>{const t=e.getDoc(),n=e.getBody();xP(e),jM(e)||(t.body.spellcheck=!1,T9.setAttrib(n,"spellcheck","false")),e.quirks=ioe(e),wP(e);const s=PM(e);s!==void 0&&(n.dir=s);const l=Zo(e);l&&e.on("BeforeSetContent",f=>{Kt.each(l,g=>{f.content=f.content.replace(g,C=>"<!--mce:protected "+escape(C)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",f=>{e.composing=f.type==="compositionstart"})},woe=e=>{Zm(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},R9=e=>{e.removed!==!0&&(woe(e),voe(e))},Coe=e=>{let t=!1;const n=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(n),t=!0,e.setProgressState(!1)}},TW=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(T9.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const s=e.getBody();s.disabled=!0,e.readonly=DO(e),e._editableRoot=or(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&T9.getStyle(s,"position",!0)==="static"&&(s.style.position="relative"),s.contentEditable="true"),s.disabled=!1,e.editorUpload=I4(e),e.schema=mc(EW(e)),e.dom=Nr(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:yO(e),referrerPolicy:bx(e),onSetAttrib:g=>{e.dispatch("SetAttrib",g)}}),e.parser=hoe(e),e.serializer=y6(goe(e),e),e.selection=v4(e.dom,e.getWin(),e.serializer,e),e.annotator=B5(e),e.formatter=W2(e),e.undoManager=J6(e),e._nodeChangeDispatcher=new pee(e),e._selectionOverrides=Rne(e),mo(e),Pte(e),tw(e),Zm(e)||(Ute(e),aoe(e));const l=hee(e);In(e,l),ba(e),rI(e),Ite(e);const f=t6(e);xoe(e),doe(e),f.fold(()=>{const g=Coe(e);AW(e).then(()=>{R9(e),g()})},g=>{e.setProgressState(!0),AW(e).then(()=>{g().then(C=>{e.setProgressState(!1),R9(e),l6(e)},C=>{e.notificationManager.open({type:"error",text:String(C)}),R9(e),l6(e)})})})},_oe=Rn,Soe=(e,t,n)=>I(e,t,_oe,n),N9=Nr.DOM,koe=(e,t,n,s)=>{const l=Be.fromTag("iframe");return s.each(f=>na(l,"tabindex",f)),yi(l,n),yi(l,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),od(l,"tox-edit-area__iframe"),l},Eoe=e=>{let t=vd(e)+"<html><head>";Jc(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=lC(e),s=Dk(e),l=e.translate(yx(e));return mO(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+mO(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${s}" data-id="${e.id}" aria-label="${l}"><br></body></html>`,t},Aoe=(e,t)=>{const n=Co.browser.isFirefox()?yx(e):"Rich Text Area",s=e.translate(n),l=Mc(Be.fromDom(e.getElement()),"tabindex").bind(nn),f=koe(e.id,s,ll(e),l).dom;f.onload=()=>{f.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=f,e.iframeHTML=Eoe(e),N9.add(t.iframeContainer,f)},Toe=e=>{const t=e.iframeElement,n=()=>{e.contentDocument=t.contentDocument,TW(e)};if(LO(e)||Co.browser.isFirefox()){const s=e.getDoc();s.open(),s.write(e.iframeHTML),s.close(),n()}else{const s=Soe(Be.fromDom(t),"load",()=>{s.unbind(),n()});t.srcdoc=e.iframeHTML}},Ooe=(e,t)=>{Aoe(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=N9.isHidden(t.editorContainer)),e.getElement().style.display="none",N9.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,Toe(e)},OW=Nr.DOM,Doe=(e,t,n)=>{const s=w0.get(n),l=w0.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=Kt.trim(n),s&&Kt.inArray(t,n)===-1){if(e.plugins[n])return;try{const f=s(e,l)||{};e.plugins[n]=f,Re(f.init)&&(f.init(e,l),t.push(n))}catch(f){IF(e,n,f)}}},Roe=e=>e.replace(/^\-/,""),Noe=e=>{const t=[];ge(yd(e),n=>{Doe(e,t,Roe(n))})},Ioe=e=>{const t=Kt.trim(Mk(e)),n=e.ui.registry.getAll().icons,s={...z2.get("default").icons,...z2.get(t).icons};Uo(s,(l,f)=>{Gn(n,f)||e.ui.registry.addIcon(f,l)})},Boe=e=>{const t=q1(e);if(Ie(t)){const n=_p.get(t);e.theme=n(e,_p.urls[t])||{},Re(e.theme.init)&&e.theme.init(e,_p.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},Moe=e=>{const t=vx(e),n=Cp.get(t);e.model=n(e,Cp.urls[t])},Poe=e=>{const t=e.theme.renderUI;return t?t():RW(e)},Loe=e=>{const t=e.getElement(),s=q1(e)(e,t);return s.editorContainer.nodeType&&(s.editorContainer.id=s.editorContainer.id||e.id+"_parent"),s.iframeContainer&&s.iframeContainer.nodeType&&(s.iframeContainer.id=s.iframeContainer.id||e.id+"_iframecontainer"),s.height=s.iframeHeight?s.iframeHeight:t.offsetHeight,s},DW=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),Foe=e=>{const t=OW.create("div");return OW.insertAfter(t,e),DW(t,t)},RW=e=>{const t=e.getElement();return e.inline?DW(null):Foe(t)},zoe=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,Ie(q1(e))?Poe(e):Re(q1(e))?Loe(e):RW(e)},Hoe=(e,t)=>{const n={show:J.from(t.show).getOr(Pt),hide:J.from(t.hide).getOr(Pt),isEnabled:J.from(t.isEnabled).getOr(Rn),setEnabled:s=>{e.mode.isReadOnly()||J.from(t.setEnabled).each(l=>l(s))}};e.ui={...e.ui,...n}},Voe=async e=>{e.dispatch("ScriptsLoaded"),Ioe(e),Boe(e),Moe(e),Noe(e);const t=await zoe(e);Hoe(e,J.from(t.api).getOr({})),e.editorContainer=t.editorContainer,z6(e),e.inline?TW(e):Ooe(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},aw=Nr.DOM,NW=e=>e.charAt(0)==="-",$oe=(e,t)=>{const n=Fk(t),s=MM(t);if(!gc.hasCode(n)&&n!=="en"){const l=je(s)?s:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(l).catch(()=>{RF(t,l,n)})}},Uoe=(e,t)=>{const n=q1(e);if(Ie(n)&&!NW(n)&&!Gn(_p.urls,n)){const s=FM(e),l=s?e.documentBaseURI.toAbsolute(s):`themes/${n}/theme${t}.js`;_p.load(n,l).catch(()=>{L6(e,l,n)})}},Woe=(e,t)=>{const n=vx(e);if(n!=="plugin"&&!Gn(Cp.urls,n)){const s=Hk(e),l=Ie(s)?e.documentBaseURI.toAbsolute(s):`models/${n}/model${t}.js`;Cp.load(n,l).catch(()=>{NF(e,l,n)})}},Zoe=e=>J.from(bO(e)).filter(je).map(t=>({url:t,name:J.none()})),IW=(e,t,n)=>J.from(t).filter(s=>je(s)&&!z2.has(s)).map(s=>({url:`${e.editorManager.baseURL}/icons/${s}/icons${n}.js`,name:J.some(s)})),joe=(e,t,n)=>{const s=IW(t,"default",n),l=Zoe(t).orThunk(()=>IW(t,Mk(t),""));ge(t1([s,l]),f=>{e.add(f.url).catch(()=>{O4(t,f.url,f.name.getOrUndefined())})})},Koe=(e,t)=>{const n=(s,l)=>{w0.load(s,l).catch(()=>{T4(e,l,s)})};Uo(Am(e),(s,l)=>{n(l,s),e.options.set("plugins",yd(e).concat(l))}),ge(yd(e),s=>{s=Kt.trim(s),s&&!w0.urls[s]&&!NW(s)&&n(s,`plugins/${s}/plugin${t}.js`)})},qoe=e=>{const t=q1(e);return!Ie(t)||Ce(_p.get(t))},Goe=e=>{const t=vx(e);return Ce(Cp.get(t))},Yoe=(e,t)=>{const n=sl.ScriptLoader,s=()=>{!e.removed&&qoe(e)&&Goe(e)&&Voe(e)};Uoe(e,t),Woe(e,t),$oe(n,e),joe(n,e,t),Koe(e,t),n.loadQueue().then(s,s)},Xoe=(e,t)=>m1.forElement(e,{contentCssCors:RO(t),referrerPolicy:bx(t)}),Joe=e=>{const t=e.id;gc.setCode(Fk(e));const n=()=>{aw.unbind(window,"ready",n),e.render()};if(!af.Event.domLoaded){aw.bind(window,"ready",n);return}if(!e.getElement())return;const s=Be.fromDom(e.getElement()),l=nl(s);e.on("remove",()=>{St(s.dom.attributes,g=>bo(s,g.name)),yi(s,l)}),e.ui.styleSheetLoader=Xoe(s,e),Vb(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const f=e.getElement().form||aw.getParent(t,"form");f&&(e.formElement=f,Vk(e)&&!Oh(e.getElement())&&(aw.insertAfter(aw.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=g=>{e.dispatch(g.type,g)},aw.bind(f,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),EO(e)&&!f.submit.nodeType&&!f.submit.length&&!f._mceOldSubmit&&(f._mceOldSubmit=f.submit,f.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),f._mceOldSubmit(f)))),e.windowManager=M6(e),e.notificationManager=A4(e),FO(e)&&e.on("GetContent",g=>{g.save&&(g.content=aw.encode(g.content))}),AO(e)&&e.on("submit",()=>{e.initialized&&e.save()}),TO(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),Yoe(e,e.suffix)},Qoe=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),SP(e,t))},ere=e=>e._editableRoot,tre=(e,t)=>({sections:Qe(e),options:Qe(t)}),BW=Fa().deviceType,MW=BW.isPhone(),nre=BW.isTablet(),NT=e=>{if(rt(e))return[];{const t=oe(e)?e:e.split(/[ ,]/),n=Me(t,De);return Ct(n,je)}},ore=(e,t)=>{const n=uu(t,(s,l)=>le(e,l));return tre(n.t,n.f)},rre=(e,t,n={})=>{const s=e.sections(),l=dr(s,t).getOr({});return Kt.extend({},n,l)},I9=(e,t)=>Gn(e.sections(),t),sre=(e,t)=>I9(e,t)?e.sections()[t]:{},are=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:dr(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),ire=(e,t)=>{var n;const s=(n=t.external_plugins)!==null&&n!==void 0?n:{};return e&&e.external_plugins?Kt.extend({},e.external_plugins,s):s},lre=(e,t)=>[...NT(e),...NT(t)],cre=(e,t,n,s)=>e&&I9(t,"mobile")?s:n,ure=(e,t,n,s)=>{const l=NT(n.forced_plugins),f=NT(s.plugins),g=sre(t,"mobile"),C=g.plugins?NT(g.plugins):f,A=cre(e,t,f,C),F=lre(l,A);return Kt.extend(s,{forced_plugins:l,plugins:F})},dre=(e,t)=>e&&I9(t,"mobile"),fre=(e,t,n,s,l)=>{var f;const g=e?{mobile:are((f=l.mobile)!==null&&f!==void 0?f:{},t)}:{},C=ore(["mobile"],EB(g,l)),A=Kt.extend(n,s,C.options(),dre(e,C)?rre(C,"mobile"):{},{external_plugins:ire(s,C.options())});return ure(e,C,s,A)},mre=(e,t)=>{const n=D$(t);return fre(MW||nre,MW,n,e,n)},gre=(e,t)=>i6(e,t),hre=e=>{const t=(s,l)=>{e.formatter.toggle(s,l),e.nodeChanged()},n=s=>()=>{ge("left,center,right,justify".split(","),l=>{s!==l&&e.formatter.remove("align"+l)}),s!=="none"&&t("align"+s)};e.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})},pre=e=>{const t=n=>()=>{const s=e.selection,l=s.isCollapsed()?[e.dom.getParent(s.getNode(),e.dom.isBlock)]:s.getSelectedBlocks();return xe(l,f=>Ce(e.formatter.matchNode(f,n)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},bre=e=>{hre(e),pre(e)},vre=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let s;try{n.execCommand(t)}catch{s=!0}if(t==="paste"&&!n.queryCommandEnabled(t)&&(s=!0),s||!n.queryCommandSupported(t)){let l=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Co.os.isMacOS()||Co.os.isiOS())&&(l=l.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:l,type:"error"})}}})},yre=(e,t,n,s)=>{const l=Be.fromDom(e.getRoot());return hv(l,mt.fromRangeStart(t),s)?n=n.replace(/^ /,"&nbsp;"):n=n.replace(/^&nbsp;/," "),u0(l,mt.fromRangeEnd(t),s)?n=n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n=n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},xre=e=>{if(typeof e!="string"){const t=Kt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},wre=(e,t)=>{const n=e.selection,s=e.dom;return/^ | $/.test(t)?yre(s,n.getRng(),t,e.schema):t},GB=(e,t)=>{if(e.selection.isEditable()){const{content:n,details:s}=xre(t);jA(e,{...s,content:wre(e,n),format:"html",set:!1,selection:!0}).each(l=>{const f=cF(e,l.content,s);KA(e,f,l),e.addVisual()})}},Cre=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,s)=>{GB(e,e.dom.createHTML("img",{src:s}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,s)=>{GB(e,e.dom.encode(s))},insertHTML:(t,n,s)=>{GB(e,s)},mceInsertContent:(t,n,s)=>{GB(e,s)},mceSetContent:(t,n,s)=>{e.setContent(s)},mceReplaceContent:(t,n,s)=>{e.execCommand("mceInsertContent",!1,s.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(Go(e))}})},_re={"font-size":"size","font-family":"face"},Sre=Zd("font"),kre=(e,t,n)=>{const s=f=>ws(f,e).orThunk(()=>Sre(f)?dr(_re,e).bind(g=>Mc(f,g)):J.none()),l=f=>Lo(Be.fromDom(t),f);return w2(Be.fromDom(n),f=>s(f),l)},Ere=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),Are=(e,t)=>J.from(Nr.DOM.getStyle(t,e,!0)),PW=e=>(t,n)=>J.from(n).map(Be.fromDom).filter(Ts).bind(s=>kre(e,t,s.dom).or(Are(e,s.dom))).getOr(""),Tre=PW("font-size"),Ore=ln(Ere,PW("font-family")),Dre=e=>Un(e.getBody()).bind(t=>{const n=t.container();return J.from(Mt(n)?n.parentNode:n)}),Rre=e=>J.from(e.selection.getRng()).bind(t=>{const n=e.getBody();return t.startContainer===n&&t.startOffset===0?J.none():J.from(e.selection.getStart(!0))}),Nre=(e,t)=>Rre(e).orThunk(pt(Dre,e)).map(Be.fromDom).filter(Ts).bind(t),B9=(e,t)=>Nre(e,gn(J.some,t)),LW=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const s=Wk(e),l=Zk(e);return l.length>0?l[n-1]||t:s[n-1]||t}else return t}else return t},Ire=e=>{const t=e.split(/\s*,\s*/);return Me(t,n=>n.indexOf(" ")!==-1&&!(Kr(n,'"')||Kr(n,"'"))?`'${n}'`:n).join(",")},Bre=(e,t)=>{const n=LW(e,t);e.formatter.toggle("fontname",{value:Ire(n)}),e.nodeChanged()},Mre=e=>B9(e,t=>Ore(e.getBody(),t.dom)).getOr(""),Pre=(e,t)=>{e.formatter.toggle("fontsize",{value:LW(e,t)}),e.nodeChanged()},Lre=e=>B9(e,t=>Tre(e.getBody(),t.dom)).getOr(""),Fre=e=>B9(e,t=>{const n=Be.fromDom(e.getBody()),s=w2(t,f=>ws(f,"line-height"),pt(Lo,n)),l=()=>{const f=parseFloat(Os(t,"line-height")),g=parseFloat(Os(t,"font-size"));return String(f/g)};return s.getOrThunk(l)}).getOr(""),zre=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},Hre=e=>{const t=(n,s)=>{e.formatter.toggle(n,s),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>{t(n)},"ForeColor,HiliteColor":(n,s,l)=>{t(n,{value:l})},BackColor:(n,s,l)=>{t("hilitecolor",{value:l})},FontName:(n,s,l)=>{Bre(e,l)},FontSize:(n,s,l)=>{Pre(e,l)},LineHeight:(n,s,l)=>{zre(e,l)},Lang:(n,s,l)=>{var f;t(n,{value:l.code,customValue:(f=l.customCode)!==null&&f!==void 0?f:null})},RemoveFormat:n=>{e.formatter.remove(n)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(n,s,l)=>{t(Ie(l)?l:"p")},mceToggleFormat:(n,s,l)=>{t(l)}})},Vre=e=>{const t=n=>e.formatter.match(n);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>t(n),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>Mre(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>Lre(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>Fre(e))},$re=e=>{Hre(e),Vre(e)},Ure=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},Wre=e=>{e.editorCommands.addCommands({Indent:()=>{_t(e)},Outdent:()=>{vt(e)}}),e.editorCommands.addCommands({Outdent:()=>me(e)},"state")},Zre=e=>{const t=(n,s,l)=>{const f=Ie(l)?{href:l}:l,g=e.dom.getParent(e.selection.getNode(),"a");re(f)&&Ie(f.href)&&(f.href=f.href.replace(/ /g,"%20"),(!g||!f.href)&&e.formatter.remove("link"),f.href&&e.formatter.apply("link",f,g))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const n=e.dom.getParent(e.selection.getStart(),"a");n&&e.dom.remove(n,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},jre=(e,t,n,s)=>{const l=e.dom,f=C=>l.isBlock(C)&&C.parentElement===n,g=f(t)?t:l.getParent(s,f,n);return J.from(g).map(Be.fromDom)},FW=(e,t)=>{const n=e.dom,s=e.selection.getRng(),l=t?e.selection.getStart():e.selection.getEnd(),f=t?s.startContainer:s.endContainer,g=AT(n,f);if(!g||!g.isContentEditable)return;const C=t?gs:et,A=Ui(e);jre(e,l,g,f).each(F=>{const j=nU(e,f,F.dom,g,!1,A);C(F,Be.fromDom(j)),e.selection.setCursorLocation(j,0),e.dispatch("NewBlock",{newBlock:j}),ET(e,"insertParagraph")})},Kre=e=>FW(e,!0),qre=e=>FW(e,!1),Gre=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{Kre(e)},InsertNewBlockAfter:()=>{qre(e)}})},Yre=e=>{e.editorCommands.addCommands({insertParagraph:()=>{PB(aU,e)},mceInsertNewLine:(t,n,s)=>{mU(e,s)},InsertLineBreak:(t,n,s)=>{PB(cU,e)}})},Xre=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,s)=>{let l=0;e.dom.getParent(e.selection.getNode(),f=>yn(f)&&l++===s?(e.selection.select(f),!1):!0,e.getBody())},mceSelectNode:(t,n,s)=>{e.selection.select(s)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),cc);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})},Jre=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,s)=>{const l=s??e.selection.getNode();if(l!==e.getBody()){const f=e.selection.getBookmark();e.dom.remove(l,!0),e.selection.moveToBookmark(f)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,s)=>{vD(e,s===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},Qre=e=>{bre(e),vre(e),Ure(e),Xre(e),Cre(e),Zre(e),Wre(e),Gre(e),Yre(e),$re(e),Jre(e)},ese=["toggleview"],zW=e=>le(ese,e.toLowerCase());class HW{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,n=!1,s,l){const f=this.editor,g=t.toLowerCase(),C=l==null?void 0:l.skip_focus;if(f.removed||(g!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(g)&&!C?f.focus():KC(f)),f.dispatch("BeforeExecCommand",{command:t,ui:n,value:s}).isDefaultPrevented()))return!1;const F=this.commands.exec[g];return Re(F)?(F(g,n,s),f.dispatch("ExecCommand",{command:t,ui:n,value:s}),!0):!1}queryCommandState(t){if(!zW(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const n=t.toLowerCase(),s=this.commands.state[n];return Re(s)?s(n):!1}queryCommandValue(t){if(!zW(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const n=t.toLowerCase(),s=this.commands.value[n];return Re(s)?s(n):""}addCommands(t,n="exec"){const s=this.commands;Uo(t,(l,f)=>{ge(f.toLowerCase().split(","),g=>{s[n][g]=l})})}addCommand(t,n,s){const l=t.toLowerCase();this.commands.exec[l]=(f,g,C)=>n.call(s??this.editor,g,C)}queryCommandSupported(t){const n=t.toLowerCase();return!!this.commands.exec[n]}addQueryStateHandler(t,n,s){this.commands.state[t.toLowerCase()]=()=>n.call(s??this.editor)}addQueryValueHandler(t,n,s){this.commands.value[t.toLowerCase()]=()=>n.call(s??this.editor)}}const iw="data-mce-contenteditable",tse=(e,t,n)=>{rd(e,t)&&!n?xi(e,t):n&&od(e,t)},M9=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch{}},YB=(e,t)=>{e.dom.contentEditable=t?"true":"false"},nse=e=>{ge(Js(e,'*[contenteditable="true"]'),t=>{na(t,iw,"true"),YB(t,!1)})},ose=e=>{ge(Js(e,`*[${iw}="true"]`),t=>{bo(t,iw),YB(t,!0)})},rse=e=>{J.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},sse=e=>{e.selection.setRng(e.selection.getRng())},ase=(e,t)=>{const n=Be.fromDom(e.getBody());tse(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),rse(e),e.readonly=!0,YB(n,!1),nse(n)):(e.readonly=!1,e.hasEditableRoot()&&YB(n,!0),ose(n),M9(e,"StyleWithCSS",!1),M9(e,"enableInlineTableEditing",!1),M9(e,"enableObjectResizing",!1),r0(e)&&e.focus(),sse(e),e.nodeChanged())},lw=e=>e.readonly,VW=e=>{e.parser.addAttributeFilter("contenteditable",t=>{lw(e)&&ge(t,n=>{n.attr(iw,n.attr("contenteditable")),n.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(iw,t=>{lw(e)&&ge(t,n=>{n.attr("contenteditable",n.attr(iw))})}),e.serializer.addTempAttr(iw)},ise=e=>{e.serializer?VW(e):e.on("PreInit",()=>{VW(e)})},lse=e=>e.type==="click",cse=["copy"],use=e=>le(cse,e.type),dse=(e,t)=>ka(t,"a",s=>Lo(s,Be.fromDom(e.getBody()))).bind(s=>Mc(s,"href")),fse=(e,t)=>{if(lse(t)&&!rn.metaKeyPressed(t)){const n=Be.fromDom(t.target);dse(e,n).each(s=>{if(t.preventDefault(),/^#/.test(s)){const l=e.dom.select(`${s},[name="${Ic(s,"#")}"]`);l.length&&e.selection.scrollIntoView(l[0],!0)}else window.open(s,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else use(t)&&e.dispatch(t.type,t)},mse=e=>{e.on("ShowCaret",t=>{lw(e)&&t.preventDefault()}),e.on("ObjectSelected",t=>{lw(e)&&t.preventDefault()})},gse=Kt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class P9{static isNative(t){return!!gse[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||xn}fire(t,n){return this.dispatch(t,n)}dispatch(t,n){const s=t.toLowerCase(),l=C1(s,n??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(l);const f=this.bindings[s];if(f)for(let g=0,C=f.length;g<C;g++){const A=f[g];if(!A.removed){if(A.once&&this.off(s,A.func),l.isImmediatePropagationStopped())return l;if(A.func.call(this.scope,l)===!1)return l.preventDefault(),l}}return l}on(t,n,s,l){if(n===!1&&(n=xn),n){const f={func:n,removed:!1};l&&Kt.extend(f,l);const g=t.toLowerCase().split(" ");let C=g.length;for(;C--;){const A=g[C];let F=this.bindings[A];F||(F=[],this.toggleEvent(A,!0)),s?F=[f,...F]:F=[...F,f],this.bindings[A]=F}}return this}off(t,n){if(t){const s=t.toLowerCase().split(" ");let l=s.length;for(;l--;){const f=s[l];let g=this.bindings[f];if(!f)return Uo(this.bindings,(C,A)=>{this.toggleEvent(A,!1),delete this.bindings[A]}),this;if(g){if(!n)g.length=0;else{const C=$t(g,A=>A.func===n);g=C.fail,this.bindings[f]=g,ge(C.pass,A=>{A.removed=!0})}g.length||(this.toggleEvent(t,!1),delete this.bindings[f])}}}else Uo(this.bindings,(s,l)=>{this.toggleEvent(l,!1)}),this.bindings={};return this}once(t,n,s){return this.on(t,n,s,{once:!0})}has(t){t=t.toLowerCase();const n=this.bindings[t];return!(!n||n.length===0)}}const IT=e=>(e._eventDispatcher||(e._eventDispatcher=new P9({scope:e,toggleEvent:(t,n)=>{P9.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),L9={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const s=this;if(s.removed&&e!=="remove"&&e!=="detach")return C1(e.toLowerCase(),t??{},s);const l=IT(s).dispatch(e,t);if(n!==!1&&s.parent){let f=s.parent();for(;f&&!l.isPropagationStopped();)f.dispatch(e,l,!1),f=f.parent?f.parent():void 0}return l},on(e,t,n){return IT(this).on(e,t,n)},off(e,t){return IT(this).off(e,t)},once(e,t){return IT(this).once(e,t)},hasEventListeners(e){return IT(this).has(e)}},XB=Nr.DOM;let cw;const JB=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const n=SO(e);return n?(e.eventRoot||(e.eventRoot=XB.select(n)[0]),e.eventRoot):e.getBody()},hse=e=>!e.hidden&&!lw(e),$W=(e,t,n)=>{hse(e)?e.dispatch(t,n):lw(e)&&fse(e,n)},UW=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=JB(e,t);if(SO(e)){if(cw||(cw={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||cw&&(Uo(cw,(l,f)=>{e.dom.unbind(JB(e,f))}),cw=null)})),cw[t])return;const s=l=>{const f=l.target,g=e.editorManager.get();let C=g.length;for(;C--;){const A=g[C].getBody();(A===f||XB.isChildOf(f,A))&&$W(g[C],t,l)}};cw[t]=s,XB.bind(n,t,s)}else{const s=l=>{$W(e,t,l)};XB.bind(n,t,s),e.delegates[t]=s}},WW={...L9,bindPendingEventDelegates(){const e=this;Kt.each(e._pendingNativeEvents,t=>{UW(e,t)})},toggleNativeEvent(e,t){const n=this;e==="focus"||e==="blur"||n.removed||(t?n.initialized?UW(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(JB(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(Uo(e.delegates,(s,l)=>{e.dom.unbind(JB(e,l),l,s)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},pse=e=>Ie(e)?{value:e.split(/[ ,]/),valid:!0}:yt(e,Ie)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},bse=e=>{const t=(()=>{switch(e){case"array":return oe;case"boolean":return $e;case"function":return Re;case"number":return R;case"object":return re;case"string":return Ie;case"string[]":return pse;case"object[]":return n=>yt(n,re);case"regexp":return n=>Pe(n,RegExp);default:return Rn}})();return n=>F9(n,t,`The value must be a ${e}.`)},vse=e=>Ie(e.processor),ZW=(e,t)=>{const n=Lt(t.message)?"":`. ${t.message}`;return e+n},jW=e=>e.valid,F9=(e,t,n="")=>{const s=t(e);return $e(s)?s?{value:e,valid:!0}:{valid:!1,message:n}:s},yse=(e,t,n)=>{if(!Ze(t)){const s=F9(t,n);if(jW(s))return s.value;console.error(ZW(`Invalid default value passed for the "${e}" option`,s))}},xse=(e,t,n=t)=>{const s={},l={},f=(ue,we,fe)=>{const ke=F9(we,fe);return jW(ke)?(l[ue]=ke.value,!0):(console.warn(ZW(`Invalid value passed for the ${ue} option`,ke)),!1)},g=(ue,we)=>{const fe=vse(we)?bse(we.processor):we.processor,ke=yse(ue,we.default,fe);s[ue]={...we,default:ke,processor:fe},dr(l,ue).orThunk(()=>dr(t,ue)).each(qe=>f(ue,qe,fe))},C=ue=>Gn(s,ue);return{register:g,isRegistered:C,get:ue=>dr(l,ue).orThunk(()=>dr(s,ue).map(we=>we.default)).getOrUndefined(),set:(ue,we)=>{if(C(ue)){const fe=s[ue];return fe.immutable?(console.error(`"${ue}" is an immutable option and cannot be updated`),!1):f(ue,we,fe.processor)}else return console.warn(`"${ue}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:ue=>{const we=C(ue);return we&&delete l[ue],we},isSet:ue=>Gn(l,ue),debug:()=>{try{console.log(JSON.parse(JSON.stringify(n,(ue,we)=>$e(we)||R(we)||Ie(we)||Ge(we)||oe(we)||Oe(we)?we:Object.prototype.toString.call(we))))}catch(ue){console.error(ue)}}}},wse=["design","readonly"],KW=(e,t,n,s)=>{const l=n[t.get()],f=n[s];try{f.activate()}catch(g){console.error(`problem while activating editor mode ${s}:`,g);return}l.deactivate(),l.editorReadOnly!==f.editorReadOnly&&ase(e,f.editorReadOnly),t.set(s),M5(e,s)},Cse=(e,t,n,s)=>{if(s!==n.get()){if(!Gn(t,s))throw new Error(`Editor mode '${s}' is invalid`);e.initialized?KW(e,n,t,s):e.on("init",()=>KW(e,n,t,s))}},_se=(e,t,n)=>{if(le(wse,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(s){console.error(`problem while deactivating editor mode ${t}:`,s)}}}}},Sse=e=>{const t=fa("design"),n=fa({design:{activate:Pt,deactivate:Pt,editorReadOnly:!1},readonly:{activate:Pt,deactivate:Pt,editorReadOnly:!0}});return ise(e),mse(e),{isReadOnly:()=>lw(e),set:s=>Cse(e,n.get(),t,s),get:()=>t.get(),register:(s,l)=>{n.set(_se(n.get(),s,l))}}},z9=Kt.each,H9=Kt.explode,kse={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},qW=Kt.makeMap("alt,ctrl,shift,meta,access"),Ese=e=>e in qW,Ase=e=>{const t={},n=Co.os.isMacOS()||Co.os.isiOS();z9(H9(e.toLowerCase(),"+"),f=>{Ese(f)?t[f]=!0:/^[0-9]{2,}$/.test(f)?t.keyCode=parseInt(f,10):(t.charCode=f.charCodeAt(0),t.keyCode=kse[f]||f.toUpperCase().charCodeAt(0))});const s=[t.keyCode];let l;for(l in qW)t[l]?s.push(l):t[l]=!1;return t.id=s.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class GW{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const n=this;t.on("keyup keypress keydown",s=>{(n.hasModifier(s)||n.isFunctionKey(s))&&!s.isDefaultPrevented()&&(z9(n.shortcuts,l=>{n.matchShortcut(s,l)&&(n.pendingPatterns=l.subpatterns.slice(0),s.type==="keydown"&&n.executeShortcutAction(l))}),n.matchShortcut(s,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&s.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}add(t,n,s,l){const f=this,g=f.normalizeCommandFunc(s);return z9(H9(Kt.trim(t)),C=>{const A=f.createShortcut(C,n,g,l);f.shortcuts[A.id]=A}),!0}remove(t){const n=this.createShortcut(t);return this.shortcuts[n.id]?(delete this.shortcuts[n.id],!0):!1}normalizeCommandFunc(t){const n=this,s=t;return typeof s=="string"?()=>{n.editor.execCommand(s,!1,null)}:Kt.isArray(s)?()=>{n.editor.execCommand(s[0],s[1],s[2])}:s}createShortcut(t,n,s,l){const f=Kt.map(H9(t,">"),Ase);return f[f.length-1]=Kt.extend(f[f.length-1],{func:s,scope:l||this.editor}),Kt.extend(f[0],{desc:this.editor.translate(n),subpatterns:f.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,n){return!n||n.ctrl!==t.ctrlKey||n.meta!==t.metaKey||n.alt!==t.altKey||n.shift!==t.shiftKey?!1:t.keyCode===n.keyCode||t.charCode&&t.charCode===n.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const Tse=()=>{const e={},t={},n={},s={},l={},f={},g={},C={},A=(j,q)=>(X,ue)=>{j[X.toLowerCase()]={...ue,type:q}},F=(j,q)=>s[j.toLowerCase()]=q;return{addButton:A(e,"button"),addGroupToolbarButton:A(e,"grouptoolbarbutton"),addToggleButton:A(e,"togglebutton"),addMenuButton:A(e,"menubutton"),addSplitButton:A(e,"splitbutton"),addMenuItem:A(t,"menuitem"),addNestedMenuItem:A(t,"nestedmenuitem"),addToggleMenuItem:A(t,"togglemenuitem"),addAutocompleter:A(n,"autocompleter"),addContextMenu:A(l,"contextmenu"),addContextToolbar:A(f,"contexttoolbar"),addContextForm:A(f,"contextform"),addSidebar:A(g,"sidebar"),addView:A(C,"views"),addIcon:F,getAll:()=>({buttons:e,menuItems:t,icons:s,popups:n,contextMenus:l,contextToolbars:f,sidebars:g,views:C})}},Ose=()=>{const e=Tse();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},uw=Nr.DOM,YW=Kt.extend,Dse=Kt.each;class QB{constructor(t,n,s){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=s,this.documentBaseUrl=s.documentBaseURL,YW(this,WW);const l=this;this.id=t,this.hidden=!1;const f=mre(s.defaultOptions,n);this.options=xse(l,f,n),iC(l);const g=this.options.get;g("deprecation_warnings")&&SF(n,f);const C=g("suffix");C&&(s.suffix=C),this.suffix=s.suffix;const A=g("base_url");A&&s._setBaseUrl(A),this.baseUri=s.baseURI;const F=bx(l);F&&(sl.ScriptLoader._setReferrerPolicy(F),Nr.DOM.styleSheetLoader._setReferrerPolicy(F));const j=RO(l);Ce(j)&&Nr.DOM.styleSheetLoader._setContentCssCors(j),Vi.languageLoad=g("language_load"),Vi.baseURL=s.baseURL,this.setDirty(!1),this.documentBaseURI=new $u(Jc(l),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Vb(l),this.hasVisual=vc(l),this.shortcuts=new GW(this),this.editorCommands=new HW(this),Qre(this);const q=g("cache_suffix");q&&(Co.cacheSuffix=q.replace(/^[\?\&]+/,"")),this.ui={registry:Ose(),styleSheetLoader:void 0,show:Pt,hide:Pt,setEnabled:Pt,isEnabled:Rn},this.mode=Sse(l),s.dispatch("SetupEditor",{editor:this});const X=X1(l);Re(X)&&X.call(l,l)}render(){Joe(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return lv(this)}translate(t){return gc.translate(t)}getParam(t,n,s){const l=this.options;return l.isRegistered(t)||(Ce(s)?l.register(t,{processor:s,default:n}):l.register(t,{processor:Rn,default:n})),!l.isSet(t)&&!Ze(n)?n:l.get(t)}hasPlugin(t,n){return le(yd(this),t)?n?w0.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,n,s){this.editorCommands.addCommand(t,n,s)}addQueryStateHandler(t,n,s){this.editorCommands.addQueryStateHandler(t,n,s)}addQueryValueHandler(t,n,s){this.editorCommands.addQueryValueHandler(t,n,s)}addShortcut(t,n,s,l){this.shortcuts.add(t,n,s,l)}execCommand(t,n,s,l){return this.editorCommands.execCommand(t,n,s,l)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(uw.show(t.getContainer()),uw.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(uw.hide(t.getContainer()),uw.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,n){this.dispatch("ProgressState",{state:t,time:n})}load(t={}){const n=this,s=n.getElement();if(n.removed)return"";if(s){const l={...t,load:!0},f=Oh(s)?s.value:s.innerHTML,g=n.setContent(f,l);return l.no_events||n.dispatch("LoadContent",{...l,element:s}),g}else return""}save(t={}){const n=this;let s=n.getElement();if(!s||!n.initialized||n.removed)return"";const l={...t,save:!0,element:s};let f=n.getContent(l);const g={...l,content:f};if(g.no_events||n.dispatch("SaveContent",g),g.format==="raw"&&n.dispatch("RawSaveContent",g),f=g.content,Oh(s))s.value=f;else{(t.is_removing||!n.inline)&&(s.innerHTML=f);const C=uw.getParent(n.id,"form");C&&Dse(C.elements,A=>A.name===n.id?(A.value=f,!1):!0)}return g.element=l.element=s=null,g.set_dirty!==!1&&n.setDirty(!1),f}setContent(t,n){return x4(this,t,n)}getContent(t){return x6(this,t)}insertContent(t,n){n&&(t=YW({content:t},n)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?x4(this,this.startContent,{format:"raw"}):x4(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const n=!this.isNotDirty;this.isNotDirty=!t,t&&t!==n&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||uw.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=uw.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const n=t.iframeElement;n&&(t.contentWindow=n.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const n=t.getWin();n&&(t.contentDocument=n.document)}return t.contentDocument}getBody(){var t,n;const s=this.getDoc();return(n=(t=this.bodyElement)!==null&&t!==void 0?t:s==null?void 0:s.body)!==null&&n!==void 0?n:null}convertURL(t,n,s){const l=this,f=l.options.get,g=WM(l);if(Re(g))return g.call(l,t,s,!0,n);if(!f("convert_urls")||s==="link"||re(s)&&s.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const C=new $u(t);return C.protocol!=="http"&&C.protocol!=="https"&&C.protocol!==""?t:f("relative_urls")?l.documentBaseURI.toRelative(t):(t=l.documentBaseURI.toAbsolute(t,f("remove_script_host")),t)}addVisual(t){gre(this,t)}setEditableRoot(t){Qoe(this,t)}hasEditableRoot(){return ere(this)}remove(){T6(this)}destroy(t){EF(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const PS=Nr.DOM,e8=Kt.each;let XW=!1,t8,au=[];const n8=e=>{const t=e.type;e8(Uv.get(),n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e);break}})},JW=e=>{if(e!==XW){const t=Nr.DOM;e?(t.bind(window,"resize",n8),t.bind(window,"scroll",n8)):(t.unbind(window,"resize",n8),t.unbind(window,"scroll",n8)),XW=e}},QW=e=>{const t=au;return au=Ct(au,n=>e!==n),Uv.activeEditor===e&&(Uv.activeEditor=au.length>0?au[0]:null),Uv.focusedEditor===e&&(Uv.focusedEditor=null),t.length!==au.length},Rse=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(QW(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},Nse=document.compatMode!=="CSS1Compat",Uv={...L9,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"3.0",releaseDate:"2024-08-07",i18n:gc,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",s=$u.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/"));const l=window.tinymce||window.tinyMCEPreInit;if(l)t=l.base||l.baseURL,n=l.suffix;else{const f=document.getElementsByTagName("script");for(let g=0;g<f.length;g++){const C=f[g].src||"";if(C==="")continue;const A=C.substring(C.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(C)){A.indexOf(".min")!==-1&&(n=".min"),t=C.substring(0,C.lastIndexOf("/"));break}}if(!t&&document.currentScript){const g=document.currentScript.src;g.indexOf(".min")!==-1&&(n=".min"),t=g.substring(0,g.lastIndexOf("/"))}}e.baseURL=new $u(s).toAbsolute(t),e.documentBaseURL=s,e.baseURI=new $u(e.baseURL),e.suffix=n,KP(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const s=e.plugin_base_urls;s!==void 0&&Uo(s,(l,f)=>{Vi.PluginManager.urls[f]=l})},init(e){const t=this;let n;const s=Kt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),l=(j,q)=>j.inline&&q.tagName.toLowerCase()in s,f=j=>{let q=j.id;return q||(q=dr(j,"name").filter(X=>!PS.get(X)).getOrThunk(PS.uniqueId),j.setAttribute("id",q)),q},g=j=>{const q=e[j];if(q)return q.apply(t,[])},C=j=>Co.browser.isIE()||Co.browser.isEdge()?(V2("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):Nse?(V2("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):Ie(j.selector)?PS.select(j.selector):Ce(j.target)?[j.target]:[];let A=j=>{n=j};const F=()=>{let j=0;const q=[];let X;const ue=(we,fe,ke)=>{const ze=new QB(we,fe,t);q.push(ze),ze.on("init",()=>{++j===X.length&&A(q)}),ze.targetElm=ze.targetElm||ke,ze.render()};PS.unbind(window,"ready",F),g("onpageload"),X=Pa(C(e)),Kt.each(X,we=>{Rse(t.get(we.id))}),X=Kt.grep(X,we=>!t.get(we.id)),X.length===0?A([]):e8(X,we=>{l(e,we)?V2("Could not initialize inline editor on invalid inline target element",we):ue(f(we),e,we)})};return PS.bind(window,"ready",F),new Promise(j=>{n?j(n):A=q=>{j(q)}})},get(e){return arguments.length===0?au.slice(0):Ie(e)?wn(au,t=>t.id===e).getOr(null):R(e)&&au[e]?au[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(n===null&&au.push(e),JW(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),t8||(t8=s=>{const l=t.dispatch("BeforeUnload");if(l.returnValue)return s.preventDefault(),s.returnValue=l.returnValue,l.returnValue},window.addEventListener("beforeunload",t8))),e},createEditor(e,t){return this.add(new QB(e,t,this))},remove(e){const t=this;let n;if(!e){for(let s=au.length-1;s>=0;s--)t.remove(au[s]);return}if(Ie(e)){e8(PS.select(e),s=>{n=t.get(s.id),n&&t.remove(n)});return}return n=e,Ge(t.get(n.id))?null:(QW(n)&&t.dispatch("RemoveEditor",{editor:n}),au.length===0&&window.removeEventListener("beforeunload",t8),n.remove(),JW(au.length>0),n)},execCommand(e,t,n){var s;const l=this,f=re(n)?(s=n.id)!==null&&s!==void 0?s:n.index:n;switch(e){case"mceAddEditor":{if(!l.get(f)){const g=n.options;new QB(f,g,l).render()}return!0}case"mceRemoveEditor":{const g=l.get(f);return g&&g.remove(),!0}case"mceToggleEditor":{const g=l.get(f);return g?(g.isHidden()?g.show():g.hide(),!0):(l.execCommand("mceAddEditor",!1,n),!0)}}return l.activeEditor?l.activeEditor.execCommand(e,t,n):!1},triggerSave:()=>{e8(au,e=>{e.save()})},addI18n:(e,t)=>{gc.add(e,t)},translate:e=>gc.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new $u(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new $u(this.baseURL)}};Uv.setup();const Ise=(()=>{const e=ma(),t=f=>({items:f,types:Vt(f),getType:g=>dr(f,g).getOrUndefined()}),n=f=>{e.set(f)},s=()=>e.get().getOrUndefined(),l=e.clear;return{FakeClipboardItem:t,write:n,read:s,clear:l}})(),eZ=Math.min,LS=Math.max,o8=Math.round,tZ=(e,t,n)=>{let s=t.x,l=t.y;const f=e.w,g=e.h,C=t.w,A=t.h,F=(n||"").split("");return F[0]==="b"&&(l+=A),F[1]==="r"&&(s+=C),F[0]==="c"&&(l+=o8(A/2)),F[1]==="c"&&(s+=o8(C/2)),F[3]==="b"&&(l-=g),F[4]==="r"&&(s-=f),F[3]==="c"&&(l-=o8(g/2)),F[4]==="c"&&(s-=o8(f/2)),FS(s,l,f,g)},Bse=(e,t,n,s)=>{for(let l=0;l<s.length;l++){const f=tZ(e,t,s[l]);if(f.x>=n.x&&f.x+f.w<=n.w+n.x&&f.y>=n.y&&f.y+f.h<=n.h+n.y)return s[l]}return null},Mse=(e,t,n)=>FS(e.x-t,e.y-n,e.w+t*2,e.h+n*2),Pse=(e,t)=>{const n=LS(e.x,t.x),s=LS(e.y,t.y),l=eZ(e.x+e.w,t.x+t.w),f=eZ(e.y+e.h,t.y+t.h);return l-n<0||f-s<0?null:FS(n,s,l-n,f-s)},Lse=(e,t,n)=>{let s=e.x,l=e.y,f=e.x+e.w,g=e.y+e.h;const C=t.x+t.w,A=t.y+t.h,F=LS(0,t.x-s),j=LS(0,t.y-l),q=LS(0,f-C),X=LS(0,g-A);return s+=F,l+=j,n&&(f+=F,g+=j,s-=q,l-=X),f-=q,g-=X,FS(s,l,f-s,g-l)},FS=(e,t,n,s)=>({x:e,y:t,w:n,h:s}),Fse={inflate:Mse,relativePosition:tZ,findBestRelativePosition:Bse,intersect:Pse,clamp:Lse,create:FS,fromClientRect:e=>FS(e.left,e.top,e.width,e.height)},zse=(e,t,n=1e3)=>{let s=!1,l=null;const f=F=>(...j)=>{s||(s=!0,l!==null&&(clearTimeout(l),l=null),F.apply(null,j))},g=f(e),C=f(t);return{start:(...F)=>{!s&&l===null&&(l=setTimeout(()=>C.apply(null,F),n))},resolve:g,reject:C}},Hse=(()=>{const e={},t={},n={};return{load:(A,F)=>{const j=`Script at URL "${F}" failed to load`,q=`Script at URL "${F}" did not call \`tinymce.Resource.add('${A}', data)\` within 1 second`;if(e[A]!==void 0)return e[A];{const X=new Promise((ue,we)=>{const fe=zse(ue,we);t[A]=fe.resolve,sl.ScriptLoader.loadScript(F).then(()=>fe.start(q),()=>fe.reject(j))});return e[A]=X,X}},add:(A,F)=>{t[A]!==void 0&&(t[A](F),delete t[A]),e[A]=Promise.resolve(F),n[A]=F},has:A=>A in n,get:A=>n[A],unload:A=>{delete e[A],delete n[A]}}})(),Vse=()=>(()=>{let e={},t=[];const n={getItem:s=>{const l=e[s];return l||null},setItem:(s,l)=>{t.push(s),e[s]=String(l)},key:s=>t[s],removeItem:s=>{t=t.filter(l=>l===s),delete e[s]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})();let BT;try{const e="__storage_test__";BT=window.localStorage,BT.setItem(e,e),BT.removeItem(e)}catch{BT=Vse()}var $se=BT;const Use={geom:{Rect:Fse},util:{Delay:Cc,Tools:Kt,VK:rn,URI:$u,EventDispatcher:P9,Observable:L9,I18n:gc,LocalStorage:$se,ImageUploader:FF},dom:{EventUtils:af,TreeWalker:Za,TextSeeker:md,DOMUtils:Nr,ScriptLoader:sl,RangeUtils:rp,Serializer:y6,StyleSheetLoader:dm,ControlSelection:_r,BookmarkManager:Dr,Selection:v4,Event:af.Event},html:{Styles:Zy,Entities:Ag,Node:fi,Schema:mc,DomParser:kv,Writer:KE,Serializer:Jg},Env:Co,AddOnManager:Vi,Annotator:B5,Formatter:W2,UndoManager:J6,EditorCommands:HW,WindowManager:M6,NotificationManager:A4,EditorObservable:WW,Shortcuts:GW,Editor:QB,FocusManager:Pu,EditorManager:Uv,DOM:Nr.DOM,ScriptLoader:sl.ScriptLoader,PluginManager:w0,ThemeManager:_p,ModelManager:Cp,IconManager:z2,Resource:Hse,FakeClipboard:Ise,trim:Kt.trim,isArray:Kt.isArray,is:Kt.is,toArray:Kt.toArray,makeMap:Kt.makeMap,each:Kt.each,map:Kt.map,grep:Kt.grep,inArray:Kt.inArray,extend:Kt.extend,walk:Kt.walk,resolve:Kt.resolve,explode:Kt.explode,_addCacheSuffix:Kt._addCacheSuffix},nZ=Kt.extend(Uv,Use),Wse=e=>{try{r.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(nZ),Wse(nZ)})()})(GY);var Nhe=GY.exports;const nk=bM(Nhe);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const r=Object.getPrototypeOf,i=(o,a,c)=>{var d;return!!c(o,a.prototype)||((d=o.constructor)===null||d===void 0?void 0:d.name)===a.name},u=o=>a=>(c=>{const d=typeof c;return c===null?"null":d==="object"&&Array.isArray(c)?"array":d==="object"&&i(c,String,(h,b)=>b.isPrototypeOf(h))?"string":d})(a)===o,m=o=>a=>typeof a===o,v=o=>a=>o===a,p=u("string"),x=u("object"),S=o=>((a,c)=>x(a)&&i(a,c,(d,h)=>r(d)===h))(o,Object),P=u("array"),N=v(null),D=m("boolean"),z=v(void 0),W=o=>o==null,$=o=>!W(o),G=m("function"),Q=m("number"),ve=(o,a)=>{if(P(o)){for(let c=0,d=o.length;c<d;++c)if(!a(o[c]))return!1;return!0}return!1},de=()=>{},Pe=o=>()=>o(),Ie=(o,a)=>(...c)=>o(a.apply(null,c)),re=o=>()=>o,Oe=o=>o,oe=(o,a)=>o===a;function Ge(o,...a){return(...c)=>{const d=a.concat(c);return o.apply(null,d)}}const $e=o=>a=>!o(a),Ze=o=>()=>{throw new Error(o)},rt=o=>o(),Ce=re(!1),Re=re(!0);class R{constructor(a,c){this.tag=a,this.value=c}static some(a){return new R(!0,a)}static none(){return R.singletonNone}fold(a,c){return this.tag?c(this.value):a()}isSome(){return this.tag}isNone(){return!this.tag}map(a){return this.tag?R.some(a(this.value)):R.none()}bind(a){return this.tag?a(this.value):R.none()}exists(a){return this.tag&&a(this.value)}forall(a){return!this.tag||a(this.value)}filter(a){return!this.tag||a(this.value)?this:R.none()}getOr(a){return this.tag?this.value:a}or(a){return this.tag?this:a}getOrThunk(a){return this.tag?this.value:a()}orThunk(a){return this.tag?this:a()}getOrDie(a){if(this.tag)return this.value;throw new Error(a??"Called getOrDie on None")}static from(a){return $(a)?R.some(a):R.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(a){this.tag&&a(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}R.singletonNone=new R(!1);const yt=Array.prototype.slice,Pt=Array.prototype.indexOf,ln=Array.prototype.push,gn=(o,a)=>Pt.call(o,a),Qe=(o,a)=>gn(o,a)>-1,On=(o,a)=>{for(let c=0,d=o.length;c<d;c++)if(a(o[c],c))return!0;return!1},nr=(o,a)=>{const c=[];for(let d=0;d<o;d++)c.push(a(d));return c},pt=(o,a)=>{const c=[];for(let d=0;d<o.length;d+=a){const h=yt.call(o,d,d+a);c.push(h)}return c},bt=(o,a)=>{const c=o.length,d=new Array(c);for(let h=0;h<c;h++){const b=o[h];d[h]=a(b,h)}return d},Zt=(o,a)=>{for(let c=0,d=o.length;c<d;c++)a(o[c],c)},Vr=(o,a)=>{const c=[],d=[];for(let h=0,b=o.length;h<b;h++){const w=o[h];(a(w,h)?c:d).push(w)}return{pass:c,fail:d}},ho=(o,a)=>{const c=[];for(let d=0,h=o.length;d<h;d++){const b=o[d];a(b,d)&&c.push(b)}return c},xn=(o,a,c)=>(((d,h)=>{for(let b=d.length-1;b>=0;b--)h(d[b],b)})(o,(d,h)=>{c=a(c,d,h)}),c),Rn=(o,a,c)=>(Zt(o,(d,h)=>{c=a(c,d,h)}),c),J=(o,a)=>((c,d,h)=>{for(let b=0,w=c.length;b<w;b++){const k=c[b];if(d(k,b))return R.some(k);if(h(k,b))break}return R.none()})(o,a,Ce),sr=(o,a)=>{for(let c=0,d=o.length;c<d;c++)if(a(o[c],c))return R.some(c);return R.none()},br=o=>{const a=[];for(let c=0,d=o.length;c<d;++c){if(!P(o[c]))throw new Error("Arr.flatten item "+c+" was not an array, input: "+o);ln.apply(a,o[c])}return a},Ko=(o,a)=>br(bt(o,a)),oi=(o,a)=>{for(let c=0,d=o.length;c<d;++c)if(a(o[c],c)!==!0)return!1;return!0},Ke=o=>{const a=yt.call(o,0);return a.reverse(),a},le=(o,a)=>ho(o,c=>!Qe(a,c)),xe=(o,a)=>{const c={};for(let d=0,h=o.length;d<h;d++){const b=o[d];c[String(b)]=a(b,d)}return c},Me=o=>[o],ge=(o,a)=>{const c=yt.call(o,0);return c.sort(a),c},St=(o,a)=>a>=0&&a<o.length?R.some(o[a]):R.none(),$t=o=>St(o,0),Ct=o=>St(o,o.length-1),zt=G(Array.from)?Array.from:o=>yt.call(o),It=(o,a)=>{for(let c=0;c<o.length;c++){const d=a(o[c],c);if(d.isSome())return d}return R.none()},on=Object.keys,wn=Object.hasOwnProperty,Cn=(o,a)=>{const c=on(o);for(let d=0,h=c.length;d<h;d++){const b=c[d];a(o[b],b)}},En=(o,a)=>ao(o,(c,d)=>({k:d,v:a(c,d)})),ao=(o,a)=>{const c={};return Cn(o,(d,h)=>{const b=a(d,h);c[b.k]=b.v}),c},vo=o=>(a,c)=>{o[c]=a},Ao=(o,a,c,d)=>{Cn(o,(h,b)=>{(a(h,b)?c:d)(h,b)})},Oo=(o,a)=>{const c={};return Ao(o,a,vo(c),de),c},Es=(o,a)=>{const c=[];return Cn(o,(d,h)=>{c.push(a(d,h))}),c},ur=(o,a)=>{const c=on(o);for(let d=0,h=c.length;d<h;d++){const b=c[d],w=o[b];if(a(w,b,o))return R.some(w)}return R.none()},bi=o=>Es(o,Oe),cn=(o,a)=>po(o,a)?R.from(o[a]):R.none(),po=(o,a)=>wn.call(o,a),io=(o,a)=>po(o,a)&&o[a]!==void 0&&o[a]!==null,$r=(o,a,c=oe)=>o.exists(d=>c(d,a)),Pa=o=>{const a=[],c=d=>{a.push(d)};for(let d=0;d<o.length;d++)o[d].each(c);return a},Vt=(o,a,c)=>o.isSome()&&a.isSome()?R.some(c(o.getOrDie(),a.getOrDie())):R.none(),Ys=(o,a)=>o!=null?R.some(a(o)):R.none(),Uo=(o,a)=>o?R.some(a):R.none(),kl=(o,a,c)=>a===""||o.length>=a.length&&o.substr(c,c+a.length)===a,Er=(o,a)=>jf(o,a)?((c,d)=>c.substring(d))(o,a.length):o,zs=(o,a,c=0,d)=>{const h=o.indexOf(a,c);return h!==-1&&(!!z(d)||h+a.length<=d)},jf=(o,a)=>kl(o,a,0),uu=(o,a)=>kl(o,a,o.length-a.length),ec=(Ud=/^\s+|\s+$/g,o=>o.replace(Ud,"")),Xi=o=>o.length>0,du=o=>!Xi(o),dr=o=>o.style!==void 0&&G(o.style.getPropertyValue),Gn=o=>{if(o==null)throw new Error("Node cannot be null or undefined");return{dom:o}},El=(o,a)=>{const c=document.createElement("div");if(c.innerHTML=o,!c.hasChildNodes()||c.childNodes.length>1){const d="HTML does not have a single root node";throw console.error(d,o),new Error(d)}return Gn(c.childNodes[0])},ca=(o,a)=>{const c=document.createElement(o);return Gn(c)},fu=(o,a)=>{const c=document.createTextNode(o);return Gn(c)},Qt=Gn,mu=typeof window<"u"?window:Function("return this;")(),Kf=(o,a)=>((c,d)=>{let h=d??mu;for(let b=0;b<c.length&&h!=null;++b)h=h[c[b]];return h})(o.split("."),a),ts=Object.getPrototypeOf,qf=o=>{const a=Kf("ownerDocument.defaultView",o);return x(o)&&((c=>((d,h)=>{const b=((w,k)=>Kf(w,k))(d,h);if(b==null)throw new Error(d+" not available on this browser");return b})("HTMLElement",c))(a).prototype.isPrototypeOf(o)||/^HTML\w*Element$/.test(ts(o).constructor.name))},Ni=o=>o.dom.nodeName.toLowerCase(),ml=o=>a=>(c=>c.dom.nodeType)(a)===o,Ji=o=>jr(o)&&qf(o.dom),jr=ml(1),ri=ml(3),gl=ml(9),Gf=ml(11),Dc=o=>a=>jr(a)&&Ni(a)===o,Rc=(o,a)=>{const c=o.dom;if(c.nodeType!==1)return!1;{const d=c;if(d.matches!==void 0)return d.matches(a);if(d.msMatchesSelector!==void 0)return d.msMatchesSelector(a);if(d.webkitMatchesSelector!==void 0)return d.webkitMatchesSelector(a);if(d.mozMatchesSelector!==void 0)return d.mozMatchesSelector(a);throw new Error("Browser lacks native selectors")}},Fd=o=>o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11||o.childElementCount===0,Xu=(o,a)=>{const c=a===void 0?document:a.dom;return Fd(c)?R.none():R.from(c.querySelector(o)).map(Qt)},Wo=(o,a)=>o.dom===a.dom,xs=(o,a)=>{const c=o.dom,d=a.dom;return c!==d&&c.contains(d)},Zs=o=>Qt(o.dom.ownerDocument),Yf=o=>gl(o)?o:Zs(o),Ii=o=>Qt(Yf(o).dom.documentElement),Nc=o=>Qt(Yf(o).dom.defaultView),si=o=>R.from(o.dom.parentNode).map(Qt),ai=o=>R.from(o.dom.parentElement).map(Qt),Ic=o=>R.from(o.dom.offsetParent).map(Qt),vr=o=>bt(o.dom.childNodes,Qt),Kr=(o,a)=>{const c=o.dom.childNodes;return R.from(c[a]).map(Qt)},Se=o=>Kr(o,0),Ye=(o,a)=>({element:o,offset:a}),De=(o,a)=>{const c=vr(o);return c.length>0&&a<c.length?Ye(c[a],0):Ye(o,a)},it=o=>Gf(o)&&$(o.dom.host),ot=o=>Qt(o.dom.getRootNode()),je=o=>it(o)?o:Qt(Yf(o).dom.body),Lt=o=>{const a=ot(o);return it(a)?R.some(a):R.none()},Yt=o=>Qt(o.dom.host),nn=o=>{const a=ri(o)?o.dom.parentNode:o.dom;if(a==null||a.ownerDocument===null)return!1;const c=a.ownerDocument;return Lt(Qt(a)).fold(()=>c.body.contains(a),(d=nn,h=Yt,b=>d(h(b))));var d,h},dn=()=>en(Qt(document)),en=o=>{const a=o.dom.body;if(a==null)throw new Error("Body is not available yet");return Qt(a)},oo=(o,a,c)=>{if(!(p(c)||D(c)||Q(c)))throw console.error("Invalid call to Attribute.set. Key ",a,":: Value ",c,":: Element ",o),new Error("Attribute value was not simple");o.setAttribute(a,c+"")},Jt=(o,a,c)=>{oo(o.dom,a,c)},ar=(o,a)=>{const c=o.dom;Cn(a,(d,h)=>{oo(c,h,d)})},wo=(o,a)=>{const c=o.dom.getAttribute(a);return c===null?void 0:c},Io=(o,a)=>R.from(wo(o,a)),fs=(o,a)=>{const c=o.dom;return!(!c||!c.hasAttribute)&&c.hasAttribute(a)},fo=(o,a)=>{o.dom.removeAttribute(a)},hl=(o,a,c)=>{if(!p(c))throw console.error("Invalid call to CSS.set. Property ",a,":: Value ",c,":: Element ",o),new Error("CSS value must be a string: "+c);dr(o)&&o.style.setProperty(a,c)},La=(o,a)=>{dr(o)&&o.style.removeProperty(a)},Xn=(o,a,c)=>{const d=o.dom;hl(d,a,c)},Bi=(o,a)=>{const c=o.dom;Cn(a,(d,h)=>{hl(c,h,d)})},Qi=(o,a)=>{const c=o.dom;Cn(a,(d,h)=>{d.fold(()=>{La(c,h)},b=>{hl(c,h,b)})})},as=(o,a)=>{const c=o.dom,d=window.getComputedStyle(c).getPropertyValue(a);return d!==""||nn(o)?d:Ju(c,a)},Ju=(o,a)=>dr(o)?o.style.getPropertyValue(a):"",As=(o,a)=>{const c=o.dom,d=Ju(c,a);return R.from(d).filter(h=>h.length>0)},zd=o=>{const a={},c=o.dom;if(dr(c))for(let d=0;d<c.style.length;d++){const h=c.style.item(d);a[h]=c.style[h]}return a},pl=(o,a,c)=>{const d=ca(o);return Xn(d,a,c),As(d,a).isSome()},er=(o,a)=>{const c=o.dom;La(c,a),$r(Io(o,"style").map(ec),"")&&fo(o,"style")},gu=o=>o.dom.offsetWidth,Xf=(o,a)=>{const c=h=>{const b=a(h);if(b<=0||b===null){const w=as(h,o);return parseFloat(w)||0}return b},d=(h,b)=>Rn(b,(w,k)=>{const E=as(h,k),O=E===void 0?0:parseInt(E,10);return isNaN(O)?w:w+O},0);return{set:(h,b)=>{if(!Q(b)&&!b.match(/^[0-9]+$/))throw new Error(o+".set accepts only positive integer values. Value was "+b);const w=h.dom;dr(w)&&(w.style[o]=b+"px")},get:c,getOuter:c,aggregate:d,max:(h,b,w)=>{const k=d(h,w);return b>k?b-k:0}}},xh=Xf("height",o=>{const a=o.dom;return nn(o)?a.getBoundingClientRect().height:a.offsetHeight}),ms=o=>xh.get(o),tc=o=>xh.getOuter(o),el=(o,a)=>({left:o,top:a,translate:(c,d)=>el(o+c,a+d)}),Mr=el,Jf=(o,a)=>o!==void 0?o:a!==void 0?a:0,bl=o=>{const a=o.dom.ownerDocument,c=a.body,d=a.defaultView,h=a.documentElement;if(c===o.dom)return Mr(c.offsetLeft,c.offsetTop);const b=Jf(d==null?void 0:d.pageYOffset,h.scrollTop),w=Jf(d==null?void 0:d.pageXOffset,h.scrollLeft),k=Jf(h.clientTop,c.clientTop),E=Jf(h.clientLeft,c.clientLeft);return Fa(o).translate(w-E,b-k)},Fa=o=>{const a=o.dom,c=a.ownerDocument.body;return c===a?Mr(c.offsetLeft,c.offsetTop):nn(o)?(d=>{const h=d.getBoundingClientRect();return Mr(h.left,h.top)})(a):Mr(0,0)},fg=Xf("width",o=>o.dom.offsetWidth),ua=o=>fg.get(o),Mi=o=>fg.getOuter(o),za=o=>{let a,c=!1;return(...d)=>(c||(c=!0,a=o.apply(null,d)),a)},vl=()=>wh(0,0),wh=(o,a)=>({major:o,minor:a}),Co={nu:wh,detect:(o,a)=>{const c=String(a).toLowerCase();return o.length===0?vl():((d,h)=>{const b=((k,E)=>{for(let O=0;O<k.length;O++){const L=k[O];if(L.test(E))return L}})(d,h);if(!b)return{major:0,minor:0};const w=k=>Number(h.replace(b,"$"+k));return wh(w(1),w(2))})(o,c)},unknown:vl},Bc=(o,a)=>{const c=String(a).toLowerCase();return J(o,d=>d.search(c))},Qu=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,hu=o=>a=>zs(a,o),Up=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:o=>zs(o,"edge/")&&zs(o,"chrome")&&zs(o,"safari")&&zs(o,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Qu],search:o=>zs(o,"chrome")&&!zs(o,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:o=>zs(o,"msie")||zs(o,"trident")},{name:"Opera",versionRegexes:[Qu,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:hu("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:hu("firefox")},{name:"Safari",versionRegexes:[Qu,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:o=>(zs(o,"safari")||zs(o,"mobile/"))&&zs(o,"applewebkit")}],xy=[{name:"Windows",search:hu("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:o=>zs(o,"iphone")||zs(o,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:hu("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:hu("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:hu("linux"),versionRegexes:[]},{name:"Solaris",search:hu("sunos"),versionRegexes:[]},{name:"FreeBSD",search:hu("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:hu("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],J0={browsers:re(Up),oses:re(xy)},Q0="Edge",Pw="Chromium",Ch="Opera",e1="Firefox",Kt="Safari",Hd=o=>{const a=o.current,c=o.version,d=h=>()=>a===h;return{current:a,version:c,isEdge:d(Q0),isChromium:d(Pw),isIE:d("IE"),isOpera:d(Ch),isFirefox:d(e1),isSafari:d(Kt)}},Vd=()=>Hd({current:void 0,version:Co.unknown()}),t1=Hd,Ha="Windows",$d="Android",mg="Linux",wy="macOS",Cy="Solaris",Wp="FreeBSD",_y="ChromeOS",n1=o=>{const a=o.current,c=o.version,d=h=>()=>a===h;return{current:a,version:c,isWindows:d(Ha),isiOS:d("iOS"),isAndroid:d($d),isMacOS:d(wy),isLinux:d(mg),isSolaris:d(Cy),isFreeBSD:d(Wp),isChromeOS:d(_y)}},Sy=()=>n1({current:void 0,version:Co.unknown()}),gg=n1,o1=o=>window.matchMedia(o).matches;var Ud;let Wd=za(()=>((o,a,c)=>{const d=J0.browsers(),h=J0.oses(),b=a.bind(E=>((O,L)=>It(L.brands,B=>{const H=B.brand.toLowerCase();return J(O,K=>{var Y;return H===((Y=K.brand)===null||Y===void 0?void 0:Y.toLowerCase())}).map(K=>({current:K.name,version:Co.nu(parseInt(B.version,10),0)}))}))(d,E)).orThunk(()=>((E,O)=>Bc(E,O).map(L=>{const B=Co.detect(L.versionRegexes,O);return{current:L.name,version:B}}))(d,o)).fold(Vd,t1),w=((E,O)=>Bc(E,O).map(L=>{const B=Co.detect(L.versionRegexes,O);return{current:L.name,version:B}}))(h,o).fold(Sy,gg),k=((E,O,L,B)=>{const H=E.isiOS()&&/ipad/i.test(L)===!0,K=E.isiOS()&&!H,Y=E.isiOS()||E.isAndroid(),se=Y||B("(pointer:coarse)"),ce=H||!K&&Y&&B("(min-device-width:768px)"),be=K||Y&&!ce,ie=O.isSafari()&&E.isiOS()&&/safari/i.test(L)===!1,ae=!be&&!ce&&!ie;return{isiPad:re(H),isiPhone:re(K),isTablet:re(ce),isPhone:re(be),isTouch:re(se),isAndroid:E.isAndroid,isiOS:E.isiOS,isWebView:re(ie),isDesktop:re(ae)}})(w,b,o,c);return{browser:b,os:w,deviceType:k}})(window.navigator.userAgent,R.from(window.navigator.userAgentData),o1));const Va=()=>Wd(),tl=o=>{const a=Qt((b=>{if($(b.target)){const w=Qt(b.target);if(jr(w)&&(k=>$(k.dom.shadowRoot))(w)&&b.composed&&b.composedPath){const k=b.composedPath();if(k)return $t(k)}}return R.from(b.target)})(o).getOr(o.target)),c=()=>o.stopPropagation(),d=()=>o.preventDefault(),h=Ie(d,c);return((b,w,k,E,O,L,B)=>({target:b,x:w,y:k,stop:E,prevent:O,kill:L,raw:B}))(a,o.clientX,o.clientY,c,d,h,o)},hg=(o,a,c,d,h)=>{const b=((w,k)=>E=>{w(E)&&k(tl(E))})(c,d);return o.dom.addEventListener(a,b,h),{unbind:Ge(Po,o,a,b,h)}},Po=(o,a,c,d)=>{o.dom.removeEventListener(a,c,d)},ed=(o,a)=>{si(o).each(c=>{c.dom.insertBefore(a.dom,o.dom)})},pg=(o,a)=>{(d=>R.from(d.dom.nextSibling).map(Qt))(o).fold(()=>{si(o).each(d=>{vi(d,a)})},d=>{ed(d,a)})},bg=(o,a)=>{Se(o).fold(()=>{vi(o,a)},c=>{o.dom.insertBefore(a.dom,c.dom)})},vi=(o,a)=>{o.dom.appendChild(a.dom)},Ts=(o,a)=>{Zt(a,c=>{vi(o,c)})},qr=o=>{o.dom.textContent="",Zt(vr(o),a=>{Ca(a)})},Ca=o=>{const a=o.dom;a.parentNode!==null&&a.parentNode.removeChild(a)},Pr=o=>{const a=o!==void 0?o.dom:document,c=a.body.scrollLeft||a.documentElement.scrollLeft,d=a.body.scrollTop||a.documentElement.scrollTop;return Mr(c,d)},Zd=(o,a,c)=>{const d=(c!==void 0?c.dom:document).defaultView;d&&d.scrollTo(o,a)},Qf=(o,a,c,d)=>({x:o,y:a,width:c,height:d,right:o+c,bottom:a+d}),na=o=>{const a=o===void 0?window:o,c=a.document,d=Pr(Qt(c));return(h=>{const b=h===void 0?window:h;return Va().browser.isFirefox()?R.none():R.from(b.visualViewport)})(a).fold(()=>{const h=a.document.documentElement,b=h.clientWidth,w=h.clientHeight;return Qf(d.left,d.top,b,w)},h=>Qf(Math.max(h.pageLeft,d.left),Math.max(h.pageTop,d.top),h.width,h.height))},yi=()=>Qt(document),ii=(o,a)=>o.view(a).fold(re([]),c=>{const d=o.owner(c),h=ii(o,d);return[c].concat(h)});var Mc=Object.freeze({__proto__:null,view:o=>{var a;return(o.dom===document?R.none():R.from((a=o.dom.defaultView)===null||a===void 0?void 0:a.frameElement)).map(Qt)},owner:o=>Zs(o)});const td=o=>{const a=yi(),c=Pr(a);return((h,b)=>{const w=b.owner(h),k=ii(b,w);return R.some(k)})(o,Mc).fold(Ge(bl,o),h=>{const b=Fa(o),w=xn(h,(k,E)=>{const O=Fa(E);return{left:k.left+O.left,top:k.top+O.top}},{left:0,top:0});return Mr(w.left+b.left+c.left,w.top+b.top+c.top)})},bo=(o,a,c,d)=>({x:o,y:a,width:c,height:d,right:o+c,bottom:a+d}),js=o=>{const a=bl(o),c=Mi(o),d=tc(o);return bo(a.left,a.top,c,d)},nl=o=>{const a=td(o),c=Mi(o),d=tc(o);return bo(a.left,a.top,c,d)},nd=(o,a)=>{const c=Math.max(o.x,a.x),d=Math.max(o.y,a.y),h=Math.min(o.right,a.right),b=Math.min(o.bottom,a.bottom);return bo(c,d,h-c,b-d)},_a=()=>na(window),Dn=o=>{let a=o;return{get:()=>a,set:c=>{a=c}}},nc=o=>{const a=Dn(R.none()),c=()=>a.get().each(o);return{clear:()=>{c(),a.set(R.none())},isSet:()=>a.get().isSome(),get:()=>a.get(),set:d=>{c(),a.set(R.some(d))}}},oc=()=>nc(o=>o.unbind()),ir=()=>{const o=nc(de);return{...o,on:a=>o.get().each(a)}};var _h=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Zp=o=>{const a=b=>b(o),c=re(o),d=()=>h,h={tag:!0,inner:o,fold:(b,w)=>w(o),isValue:Re,isError:Ce,map:b=>_o.value(b(o)),mapError:d,bind:a,exists:a,forall:a,getOr:c,or:d,getOrThunk:c,orThunk:d,getOrDie:c,each:b=>{b(o)},toOptional:()=>R.some(o)};return h},od=o=>{const a=()=>c,c={tag:!1,inner:o,fold:(d,h)=>d(o),isValue:Ce,isError:Re,map:a,mapError:d=>_o.error(d(o)),bind:a,exists:Ce,forall:Re,getOr:Oe,or:Oe,getOrThunk:rt,orThunk:rt,getOrDie:Ze(String(o)),each:de,toOptional:R.none};return c},_o={value:Zp,error:od,fromOption:(o,a)=>o.fold(()=>od(a),Zp)};var xi;(function(o){o[o.Error=0]="Error",o[o.Value=1]="Value"})(xi||(xi={}));const Sh=(o,a,c)=>o.stype===xi.Error?a(o.serror):c(o.svalue),rd=o=>({stype:xi.Value,svalue:o}),jp=o=>({stype:xi.Error,serror:o}),Pc=rd,Pi=jp,Lc=Sh,jd=(o,a,c,d)=>({tag:"field",key:o,newKey:a,presence:c,prop:d}),Be=(o,a,c)=>{switch(o.tag){case"field":return a(o.key,o.newKey,o.presence,o.prop);case"custom":return c(o.newKey,o.instantiator)}},em=o=>(...a)=>{if(a.length===0)throw new Error("Can't merge zero objects");const c={};for(let d=0;d<a.length;d++){const h=a[d];for(const b in h)po(h,b)&&(c[b]=o(c[b],h[b]))}return c},yr=em((o,a)=>S(o)&&S(a)?yr(o,a):a),Kp=em((o,a)=>a),vg=o=>({tag:"defaultedThunk",process:o}),Fc=o=>vg(re(o)),Lo=o=>({tag:"mergeWithThunk",process:o}),$a=o=>{const a=(d=>{const h=[],b=[];return Zt(d,w=>{Sh(w,k=>b.push(k),k=>h.push(k))}),{values:h,errors:b}})(o);return a.errors.length>0?(c=a.errors,Ie(Pi,br)(c)):Pc(a.values);var c},pu=o=>x(o)&&on(o).length>100?" removed due to size":JSON.stringify(o,null,2),Ml=(o,a)=>Pi([{path:o,getErrorInfo:a}]),bu=o=>({extract:(a,c)=>((d,h)=>d.stype===xi.Error?h(d.serror):d)(o(c),d=>((h,b)=>Ml(h,re(b)))(a,d)),toString:re("val")}),vu=bu(Pc),Ua=(o,a,c,d)=>d(cn(o,a).getOrThunk(()=>c(o))),Kd=(o,a,c,d,h)=>{const b=k=>h.extract(a.concat([d]),k),w=k=>k.fold(()=>Pc(R.none()),E=>((O,L)=>O.stype===xi.Value?{stype:xi.Value,svalue:L(O.svalue)}:O)(h.extract(a.concat([d]),E),R.some));switch(o.tag){case"required":return((k,E,O,L)=>cn(E,O).fold(()=>((B,H,K)=>Ml(B,()=>'Could not find valid *required* value for "'+H+'" in '+pu(K)))(k,O,E),L))(a,c,d,b);case"defaultedThunk":return Ua(c,d,o.process,b);case"option":return((k,E,O)=>O(cn(k,E)))(c,d,w);case"defaultedOptionThunk":return((k,E,O,L)=>L(cn(k,E).map(B=>B===!0?O(k):B)))(c,d,o.process,w);case"mergeWithThunk":return Ua(c,d,re({}),k=>{const E=yr(o.process(c),k);return b(E)})}},tm=o=>({extract:(a,c)=>o().extract(a,c),toString:()=>o().toString()}),qp=o=>on(Oo(o,$)),oa=o=>{const a=Pn(o),c=xn(o,(d,h)=>Be(h,b=>yr(d,{[b]:!0}),re(d)),{});return{extract:(d,h)=>{const b=D(h)?[]:qp(h),w=ho(b,k=>!io(c,k));return w.length===0?a.extract(d,h):((k,E)=>Ml(k,()=>"There are unsupported fields: ["+E.join(", ")+"] specified"))(d,w)},toString:a.toString}},Pn=o=>({extract:(a,c)=>((d,h,b)=>{const w={},k=[];for(const E of b)Be(E,(O,L,B,H)=>{const K=Kd(B,d,h,O,H);Lc(K,Y=>{k.push(...Y)},Y=>{w[L]=Y})},(O,L)=>{w[O]=L(h)});return k.length>0?Pi(k):Pc(w)})(a,c,o),toString:()=>`obj{
`+bt(o,c=>Be(c,(d,h,b,w)=>d+" -> "+w.toString(),(d,h)=>"state("+d+")")).join(`
`)+"}"}),yu=o=>({extract:(a,c)=>{const d=bt(c,(h,b)=>o.extract(a.concat(["["+b+"]"]),h));return $a(d)},toString:()=>"array("+o.toString()+")"}),nm=(o,a)=>{const c=a!==void 0?a:Oe;return{extract:(d,h)=>{const b=[];for(const w of o){const k=w.extract(d,h);if(k.stype===xi.Value)return{stype:xi.Value,svalue:c(k.svalue)};b.push(k)}return $a(b)},toString:()=>"oneOf("+bt(o,d=>d.toString()).join(", ")+")"}},Wa=(o,a)=>({extract:(c,d)=>{const h=on(d),b=((w,k)=>yu(bu(o)).extract(w,k))(c,h);return((w,k)=>w.stype===xi.Value?k(w.svalue):w)(b,w=>{const k=bt(w,E=>jd(E,E,{tag:"required",process:{}},a));return Pn(k).extract(c,d)})},toString:()=>"setOf("+a.toString()+")"}),xu=Ie(yu,Pn),yl=re(vu),wu=(o,a)=>bu(c=>{const d=typeof c;return o(c)?Pc(c):Pi(`Expected type: ${a} but got: ${d}`)}),sd=wu(Q,"number"),ra=wu(p,"string"),Pl=wu(D,"boolean"),zc=wu(G,"function"),om=o=>{if(Object(o)!==o)return!0;switch({}.toString.call(o).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(o).every(a=>om(o[a]));default:return!1}},r1=bu(o=>om(o)?Pc(o):Pi("Expected value to be acceptable for sending via postMessage")),Cu=(o,a)=>({extract:(c,d)=>cn(d,o).fold(()=>((h,b)=>Ml(h,()=>'Choice schema did not contain choice key: "'+b+'"'))(c,o),h=>((b,w,k,E)=>cn(k,E).fold(()=>((O,L,B)=>Ml(O,()=>'The chosen schema: "'+B+'" did not exist in branches: '+pu(L)))(b,k,E),O=>O.extract(b.concat(["branch: "+E]),w)))(c,d,a,h)),toString:()=>"chooseOn("+o+"). Possible values: "+on(a)}),qd=o=>bu(a=>o(a).fold(Pi,Pc)),Gp=(o,a)=>Wa(c=>o(c).fold(jp,rd),a),is=(o,a,c)=>{return d=((h,b,w)=>((k,E)=>k.stype===xi.Error?{stype:xi.Error,serror:E(k.serror)}:k)(b.extract([h],w),k=>({input:w,errors:k})))(o,a,c),Sh(d,_o.error,_o.value);var d},wi=o=>o.fold(a=>{throw new Error(Li(a))},Oe),li=(o,a,c)=>wi(is(o,a,c)),Li=o=>`Errors: 
`+(a=>{const c=a.length>10?a.slice(0,10).concat([{path:[],getErrorInfo:re("... (only showing first ten failures)")}]):a;return bt(c,d=>"Failed path: ("+d.path.join(" > ")+`)
`+d.getErrorInfo())})(o.errors).join(`
`)+`

Input object: `+pu(o.input),Xs=(o,a)=>Cu(o,En(a,Pn)),kh=(o,a)=>((c,d)=>{const h=za(d);return{extract:(b,w)=>h().extract(b,w),toString:()=>h().toString()}})(0,a),Ks=jd,Sa=(o,a)=>({tag:"custom",newKey:o,instantiator:a}),Hc=o=>qd(a=>Qe(o,a)?_o.value(a):_o.error(`Unsupported value: "${a}", choose one of "${o.join(", ")}".`)),At=o=>Ks(o,o,{tag:"required",process:{}},yl()),ka=(o,a)=>Ks(o,o,{tag:"required",process:{}},a),Eh=o=>ka(o,sd),ls=o=>ka(o,ra),_u=(o,a)=>Ks(o,o,{tag:"required",process:{}},Hc(a)),Ci=o=>ka(o,zc),rc=(o,a)=>Ks(o,o,{tag:"required",process:{}},Pn(a)),rm=(o,a)=>Ks(o,o,{tag:"required",process:{}},xu(a)),Fi=(o,a)=>Ks(o,o,{tag:"required",process:{}},yu(a)),Bo=o=>Ks(o,o,{tag:"option",process:{}},yl()),Os=(o,a)=>Ks(o,o,{tag:"option",process:{}},a),Gd=o=>Os(o,sd),ws=o=>Os(o,ra),yg=(o,a)=>Os(o,Hc(a)),Vc=o=>Os(o,zc),s1=(o,a)=>Os(o,yu(a)),gs=(o,a)=>Os(o,Pn(a)),et=(o,a)=>Ks(o,o,Fc(a),yl()),_i=(o,a,c)=>Ks(o,o,Fc(a),c),Ds=(o,a)=>_i(o,a,sd),Al=(o,a)=>_i(o,a,ra),sc=(o,a,c)=>_i(o,a,Hc(c)),Hs=(o,a)=>_i(o,a,Pl),Lr=(o,a)=>_i(o,a,zc),fr=(o,a,c)=>_i(o,a,yu(c)),Si=(o,a,c)=>_i(o,a,Pn(c)),Tl=o=>{if(!P(o))throw new Error("cases must be an array");if(o.length===0)throw new Error("there must be at least one case");const a=[],c={};return Zt(o,(d,h)=>{const b=on(d);if(b.length!==1)throw new Error("one and only one name per case");const w=b[0],k=d[w];if(c[w]!==void 0)throw new Error("duplicate key detected:"+w);if(w==="cata")throw new Error("cannot have a case named cata (sorry)");if(!P(k))throw new Error("case arguments must be an array");a.push(w),c[w]=(...E)=>{const O=E.length;if(O!==k.length)throw new Error("Wrong number of arguments to case "+w+". Expected "+k.length+" ("+k+"), got "+O);return{fold:(...L)=>{if(L.length!==o.length)throw new Error("Wrong number of arguments to fold. Expected "+o.length+", got "+L.length);return L[h].apply(null,E)},match:L=>{const B=on(L);if(a.length!==B.length)throw new Error("Wrong number of arguments to match. Expected: "+a.join(",")+`
Actual: `+B.join(","));if(!oi(a,H=>Qe(B,H)))throw new Error("Not all branches were specified when using match. Specified: "+B.join(", ")+`
Required: `+a.join(", "));return L[w].apply(null,E)},log:L=>{console.log(L,{constructors:a,constructor:w,params:E})}}}}),c};Tl([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const $c=(o,a)=>((c,d)=>({[c]:d}))(o,a),ad=o=>(a=>{const c={};return Zt(a,d=>{c[d.key]=d.value}),c})(o),sm=o=>G(o)?o:Ce,xg=(o,a,c)=>{let d=o.dom;const h=sm(c);for(;d.parentNode;){d=d.parentNode;const b=Qt(d),w=a(b);if(w.isSome())return w;if(h(b))break}return R.none()},wg=(o,a,c)=>{const d=a(o),h=sm(c);return d.orThunk(()=>h(o)?R.none():xg(o,a,h))},Yp=(o,a)=>Wo(o.element,a.event.target),Xp={can:Re,abort:Ce,run:de},Su=o=>{if(!io(o,"can")&&!io(o,"abort")&&!io(o,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(o,null,2)+" does not have can, abort, or run!");return{...Xp,...o}},I=re,Z=I("touchstart"),te=I("touchmove"),Ae=I("touchend"),He=I("touchcancel"),Tt=I("mousedown"),Ln=I("mousemove"),ro=I("mouseout"),Yn=I("mouseup"),_n=I("mouseover"),Jo=I("focusin"),Rs=I("focusout"),cs=I("keydown"),ac=I("keyup"),am=I("input"),im=I("change"),Js=I("click"),Lw=I("transitioncancel"),Jp=I("transitionend"),a1=I("transitionstart"),Za=I("selectstart"),hs=o=>re("alloy."+o),da={tap:hs("tap")},ku=hs("focus"),Ah=hs("blur.post"),ky=hs("paste.post"),Ll=hs("receive"),ol=hs("execute"),Qp=hs("focus.item"),Yd=da.tap,gk=hs("longpress"),eb=hs("sandbox.close"),id=hs("typeahead.cancel"),Xd=hs("system.init"),yn=hs("system.touchmove"),Uc=hs("system.touchend"),tb=hs("system.scroll"),Jd=hs("system.resize"),ja=hs("system.attached"),ic=hs("system.detached"),Cg=hs("system.dismissRequested"),Qd=hs("system.repositionRequested"),i1=hs("focusmanager.shifted"),Wc=hs("slotcontainer.visibility"),Th=hs("system.external.element.scroll"),Oh=hs("change.tab"),Mt=hs("dismiss.tab"),Ey=hs("highlight"),ef=hs("dehighlight"),go=(o,a)=>{lc(o,o.element,a,{})},Sn=(o,a,c)=>{lc(o,o.element,a,c)},tf=o=>{go(o,ol())},ns=(o,a,c)=>{lc(o,a,c,{})},lc=(o,a,c,d)=>{const h={target:a,...d};o.getSystem().triggerEvent(c,a,h)},cc=(o,a,c,d)=>{o.getSystem().triggerEvent(c,a,d.event)},eo=o=>ad(o),Dh=(o,a)=>({key:o,value:Su({abort:a})}),Fw=o=>({key:o,value:Su({run:(a,c)=>{c.event.prevent()}})}),xt=(o,a)=>({key:o,value:Su({run:a})}),Ay=(o,a,c)=>({key:o,value:Su({run:(d,h)=>{a.apply(void 0,[d,h].concat(c))}})}),Rh=o=>a=>({key:o,value:Su({run:(c,d)=>{Yp(c,d)&&a(c,d)}})}),Nh=(o,a,c)=>((d,h)=>xt(d,(b,w)=>{b.getSystem().getByUid(h).each(k=>{cc(k,k.element,d,w)})}))(o,a.partUids[c]),_g=(o,a)=>xt(o,(c,d)=>{const h=d.event,b=c.getSystem().getByDom(h.target).getOrThunk(()=>wg(h.target,w=>c.getSystem().getByDom(w).toOptional(),Ce).getOr(c));a(c,b,d)}),lm=o=>xt(o,(a,c)=>{c.cut()}),zw=o=>xt(o,(a,c)=>{c.stop()}),nf=(o,a)=>Rh(o)(a),Ur=Rh(ja()),Eu=Rh(ic()),l1=Rh(Xd()),Zc=(fm=ol(),o=>xt(fm,o)),cm=o=>bt(o,a=>uu(a,"/*")?a.substring(0,a.length-2):a),Fl=(o,a)=>{const c=o.toString(),d=c.indexOf(")")+1,h=c.indexOf("("),b=c.substring(h+1,d-1).split(/,\s*/);return o.toFunctionAnnotation=()=>({name:a,parameters:cm(b)}),o},Ns=o=>({classes:z(o.classes)?[]:o.classes,attributes:z(o.attributes)?{}:o.attributes,styles:z(o.styles)?{}:o.styles}),nb=(o,a,c)=>l1((d,h)=>{c(d,o,a)}),fa=o=>({key:o,value:void 0}),c1=(o,a,c,d,h,b,w)=>{const k=L=>io(L,c)?L[c]():R.none(),E=En(h,(L,B)=>((H,K,Y)=>((se,ce,be)=>{const ie=be.toString(),ae=ie.indexOf(")")+1,me=ie.indexOf("("),ye=ie.substring(me+1,ae-1).split(/,\s*/);return se.toFunctionAnnotation=()=>({name:ce,parameters:cm(ye.slice(0,1).concat(ye.slice(3)))}),se})((se,...ce)=>{const be=[se].concat(ce);return se.config({name:re(H)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+H+". Using API: "+Y)},ie=>{const ae=Array.prototype.slice.call(be,1);return K.apply(void 0,[se,ie.config,ie.state].concat(ae))})},Y,K))(c,L,B)),O={...En(b,(L,B)=>Fl(L,B)),...E,revoke:Ge(fa,c),config:L=>{const B=li(c+"-config",o,L);return{key:c,value:{config:B,me:O,configAsRaw:za(()=>li(c+"-config",o,L)),initialConfig:L,state:w}}},schema:re(a),exhibit:(L,B)=>Vt(k(L),cn(d,"exhibit"),(H,K)=>K(B,H.config,H.state)).getOrThunk(()=>Ns({})),name:re(c),handlers:L=>k(L).map(B=>cn(d,"events").getOr(()=>({}))(B.config,B.state)).getOr({})};return O},uc={init:()=>ma({readState:re("No State required")})},ma=o=>o,Ft=o=>ad(o),um=oa([At("fields"),At("name"),et("active",{}),et("apis",{}),et("state",uc),et("extra",{})]),ga=o=>{const a=li("Creating behaviour: "+o.name,um,o);return((c,d,h,b,w,k)=>{const E=oa(c),O=gs(d,[(L=c,Os("config",oa(L)))]);var L;return c1(E,O,d,h,b,w,k)})(a.fields,a.name,a.active,a.apis,a.extra,a.state)},Hw=oa([At("branchKey"),At("branches"),At("name"),et("active",{}),et("apis",{}),et("state",uc),et("extra",{})]),Vw=o=>{const a=li("Creating behaviour: "+o.name,Hw,o);return((c,d,h,b,w,k)=>{const E=c,O=gs(d,[Os("config",c)]);return c1(E,O,d,h,b,w,k)})(Xs(a.branchKey,a.branches),a.name,a.active,a.apis,a.extra,a.state)},hk=re(void 0),ld=(o,a)=>{const c=wo(o,a);return c===void 0||c===""?[]:c.split(" ")},Sg=o=>o.dom.classList!==void 0,ob=o=>ld(o,"class"),u1=(o,a)=>((c,d,h)=>{const b=ld(c,d).concat([h]);return Jt(c,d,b.join(" ")),!0})(o,"class",a),Ty=(o,a)=>((c,d,h)=>{const b=ho(ld(c,d),w=>w!==h);return b.length>0?Jt(c,d,b.join(" ")):fo(c,d),!1})(o,"class",a),us=(o,a)=>{Sg(o)?o.dom.classList.add(a):u1(o,a)},rb=o=>{(Sg(o)?o.dom.classList:ob(o)).length===0&&fo(o,"class")},ps=(o,a)=>{Sg(o)?o.dom.classList.remove(a):Ty(o,a),rb(o)},zi=(o,a)=>Sg(o)&&o.dom.classList.contains(a),Is=(o,a)=>{Zt(a,c=>{us(o,c)})},zl=(o,a)=>{Zt(a,c=>{ps(o,c)})},cd=o=>Sg(o)?(a=>{const c=a.dom.classList,d=new Array(c.length);for(let h=0;h<c.length;h++){const b=c.item(h);b!==null&&(d[h]=b)}return d})(o):ob(o),Ea=(o,a,c,d,h)=>{const b=w=>w+"px";return{position:o,left:a.map(b),top:c.map(b),right:d.map(b),bottom:h.map(b)}},sb=(o,a)=>{Qi(o,(c=>({...c,position:R.some(c.position)}))(a))},Ih=o=>($r(As(o,"position"),"fixed")?R.none():Ic(o)).orThunk(()=>{const a=ca("span");return si(o).bind(c=>{vi(c,a);const d=Ic(a);return Ca(a),d})}),of=o=>Ih(o).map(bl).getOrThunk(()=>Mr(0,0)),$w=(o,a)=>{const c=o.element;us(c,a.transitionClass),ps(c,a.fadeOutClass),us(c,a.fadeInClass),a.onShow(o)},Bh=(o,a)=>{const c=o.element;us(c,a.transitionClass),ps(c,a.fadeInClass),us(c,a.fadeOutClass),a.onHide(o)},Oy=(o,a)=>o.y>=a.y,d1=(o,a)=>o.bottom<=a.bottom,ab=(o,a,c)=>({location:"top",leftX:a,topY:c.bounds.y-o.y}),f1=(o,a,c)=>({location:"bottom",leftX:a,bottomY:o.bottom-c.bounds.bottom}),Dy=o=>o.box.x-o.win.x,dm=(o,a,c)=>c.getInitialPos().map(d=>{const h=((b,w)=>{const k=w.optScrollEnv.fold(re(b.bounds.y),E=>E.scrollElmTop+(b.bounds.y-E.currentScrollTop));return Mr(b.bounds.x,k)})(d,a);return{box:bo(h.left,h.top,ua(o),ms(o)),location:d.location}}),pk=(o,a,c,d,h)=>{const b=((k,E)=>{const O=E.optScrollEnv.fold(re(k.y),L=>k.y+L.currentScrollTop-L.scrollElmTop);return Mr(k.x,O)})(a,c),w=bo(b.left,b.top,a.width,a.height);d.setInitialPos({style:zd(o),position:as(o,"position")||"static",bounds:w,location:h.location})},m1=(o,a,c)=>c.getInitialPos().bind(d=>{var h;switch(c.clearInitialPos(),d.position){case"static":return R.some({morph:"static"});case"absolute":const b=Ih(o).getOr(dn()),w=js(b),k=(h=b.dom.scrollTop)!==null&&h!==void 0?h:0;return R.some({morph:"absolute",positionCss:Ea("absolute",cn(d.style,"left").map(E=>a.x-w.x),cn(d.style,"top").map(E=>a.y-w.y+k),cn(d.style,"right").map(E=>w.right-a.right),cn(d.style,"bottom").map(E=>w.bottom-a.bottom))});default:return R.none()}}),g1=o=>{switch(o.location){case"top":return R.some({morph:"fixed",positionCss:Ea("fixed",R.some(o.leftX),R.some(o.topY),R.none(),R.none())});case"bottom":return R.some({morph:"fixed",positionCss:Ea("fixed",R.some(o.leftX),R.none(),R.none(),R.some(o.bottomY))});default:return R.none()}},Ry=(o,a,c)=>{const d=o.element;return $r(As(d,"position"),"fixed")?((h,b,w)=>((k,E,O)=>dm(k,E,O).filter(({box:L})=>((B,H,K)=>oi(B,Y=>{switch(Y){case"bottom":return d1(H,K.bounds);case"top":return Oy(H,K.bounds)}}))(O.getModes(),L,E)).bind(({box:L})=>m1(k,L,O)))(h,b,w).orThunk(()=>b.optScrollEnv.bind(k=>dm(h,b,w)).bind(({box:k,location:E})=>{const O=_a(),L=Dy({win:O,box:k}),B=E==="top"?ab(O,L,b):f1(O,L,b);return g1(B)})))(d,a,c):((h,b,w)=>{const k=js(h),E=_a(),O=((L,B,H)=>{const K=B.win,Y=B.box,se=Dy(B);return It(L,ce=>{switch(ce){case"bottom":return d1(Y,H.bounds)?R.none():R.some(f1(K,se,H));case"top":return Oy(Y,H.bounds)?R.none():R.some(ab(K,se,H));default:return R.none()}}).getOr({location:"no-dock"})})(w.getModes(),{win:E,box:k},b);return O.location==="top"||O.location==="bottom"?(pk(h,k,b,w,O),g1(O)):R.none()})(d,a,c)},Ny=(o,a,c)=>{c.setDocked(!1),Zt(["left","right","top","bottom","position"],d=>er(o.element,d)),a.onUndocked(o)},ib=(o,a,c,d)=>{const h=d.position==="fixed";c.setDocked(h),sb(o.element,d),(h?a.onDocked:a.onUndocked)(o)},Iy=(o,a,c,d,h=!1)=>{a.contextual.each(b=>{b.lazyContext(o).each(w=>{const k=((E,O)=>E.y<O.bottom&&E.bottom>O.y)(w,d.bounds);k!==c.isVisible()&&(c.setVisible(k),h&&!k?(Is(o.element,[b.fadeOutClass]),b.onHide(o)):(k?$w:Bh)(o,b))})})},By=(o,a,c,d,h)=>{Iy(o,a,c,d,!0),ib(o,a,c,h.positionCss)},lb=(o,a,c)=>{o.getSystem().isConnected()&&((d,h,b)=>{const w=h.lazyViewport(d);Iy(d,h,b,w),Ry(d,w,b).each(k=>{((E,O,L,B,H)=>{switch(H.morph){case"static":return Ny(E,O,L);case"absolute":return ib(E,O,L,H.positionCss);case"fixed":By(E,O,L,B,H)}})(d,h,b,w,k)})})(o,a,c)},Mh=(o,a,c)=>{c.isDocked()&&((d,h,b)=>{const w=d.element;b.setDocked(!1);const k=h.lazyViewport(d);((E,O,L)=>{const B=E.element;return dm(B,O,L).bind(({box:H})=>m1(B,H,L))})(d,k,b).each(E=>{switch(E.morph){case"static":Ny(d,h,b);break;case"absolute":ib(d,h,b,E.positionCss)}}),b.setVisible(!0),h.contextual.each(E=>{zl(w,[E.fadeInClass,E.fadeOutClass,E.transitionClass]),E.onShow(d)}),lb(d,h,b)})(o,a,c)},My=o=>(a,c,d)=>{const h=c.lazyViewport(a);((b,w,k,E)=>{const O=js(b),L=_a(),B=E(L,Dy({win:L,box:O}),w);return B.location==="bottom"||B.location==="top"?(((H,K,Y,se,ce)=>{se.getInitialPos().fold(()=>pk(H,K,Y,se,ce),()=>de)})(b,O,w,k,B),g1(B)):R.none()})(a.element,h,d,o).each(b=>{By(a,c,d,h,b)})},cb=My(ab),ub=My(f1);var fm,Ph=Object.freeze({__proto__:null,refresh:lb,reset:Mh,isDocked:(o,a,c)=>c.isDocked(),getModes:(o,a,c)=>c.getModes(),setModes:(o,a,c,d)=>c.setModes(d),forceDockToTop:cb,forceDockToBottom:ub}),Py=Object.freeze({__proto__:null,events:(o,a)=>eo([nf(Jp(),(c,d)=>{o.contextual.each(h=>{zi(c.element,h.transitionClass)&&(zl(c.element,[h.transitionClass,h.fadeInClass]),(a.isVisible()?h.onShown:h.onHidden)(c)),d.stop()})}),xt(tb(),(c,d)=>{lb(c,o,a)}),xt(Th(),(c,d)=>{lb(c,o,a)}),xt(Jd(),(c,d)=>{Mh(c,o,a)})])});const ud=o=>o.dom.innerHTML,kg=(o,a)=>{const c=Zs(o).dom,d=Qt(c.createDocumentFragment()),h=((b,w)=>{const k=(w||document).createElement("div");return k.innerHTML=b,vr(Qt(k))})(a,c);Ts(d,h),qr(o),vi(o,d)},Eg=(o,a)=>Qt(o.dom.cloneNode(a)),dd=o=>(a=>{if(it(a))return"#shadow-root";{const c=(d=>Eg(d,!1))(a);return(d=>{const h=ca("div"),b=Qt(d.dom.cloneNode(!0));return vi(h,b),ud(h)})(c)}})(o);var rf;(function(o){o[o.STOP=0]="STOP",o[o.NORMAL=1]="NORMAL",o[o.LOGGING=2]="LOGGING"})(rf||(rf={}));const db=Dn({}),bk=["alloy/data/Fields","alloy/debugging/Debugging"],fb=(o,a,c)=>((d,h,b)=>{switch(cn(db.get(),d).orThunk(()=>{const w=on(db.get());return It(w,k=>d.indexOf(k)>-1?R.some(db.get()[k]):R.none())}).getOr(rf.NORMAL)){case rf.NORMAL:return b(dc());case rf.LOGGING:{const w=((E,O)=>{const L=[],B=new Date().getTime();return{logEventCut:(H,K,Y)=>{L.push({outcome:"cut",target:K,purpose:Y})},logEventStopped:(H,K,Y)=>{L.push({outcome:"stopped",target:K,purpose:Y})},logNoParent:(H,K,Y)=>{L.push({outcome:"no-parent",target:K,purpose:Y})},logEventNoHandlers:(H,K)=>{L.push({outcome:"no-handlers-left",target:K})},logEventResponse:(H,K,Y)=>{L.push({outcome:"response",purpose:Y,target:K})},write:()=>{const H=new Date().getTime();Qe(["mousemove","mouseover","mouseout",Xd()],E)||console.log(E,{event:E,time:H-B,target:O.dom,sequence:bt(L,K=>Qe(["cut","stopped","response"],K.outcome)?"{"+K.purpose+"} "+K.outcome+" at ("+dd(K.target)+")":K.outcome)})}}})(d,h),k=b(w);return w.write(),k}case rf.STOP:return!0}})(o,a,c),dc=re({logEventCut:de,logEventStopped:de,logNoParent:de,logEventNoHandlers:de,logEventResponse:de,write:de}),Uw=re([At("menu"),At("selectedMenu")]),Ly=re([At("item"),At("selectedItem")]);re(Pn(Ly().concat(Uw())));const Ag=re(Pn(Ly())),Ka=rc("initSize",[At("numColumns"),At("numRows")]),Tg=()=>rc("markers",[At("backgroundMenu")].concat(Uw()).concat(Ly())),Og=o=>rc("markers",bt(o,At)),h1=(o,a,c)=>((()=>{const d=new Error;if(d.stack!==void 0){const h=d.stack.split(`
`);J(h,b=>b.indexOf("alloy")>0&&!On(bk,w=>b.indexOf(w)>-1)).getOr("unknown")}})(),Ks(a,a,c,qd(d=>_o.value((...h)=>d.apply(void 0,h))))),Fo=o=>h1(0,o,Fc(de)),rl=o=>h1(0,o,Fc(R.none)),Au=o=>h1(0,o,{tag:"required",process:{}}),ci=o=>h1(0,o,{tag:"required",process:{}}),Rr=(o,a)=>Sa(o,re(a)),mb=o=>Sa(o,Oe),Ww=re(Ka);var vk=[gs("contextual",[ls("fadeInClass"),ls("fadeOutClass"),ls("transitionClass"),Ci("lazyContext"),Fo("onShow"),Fo("onShown"),Fo("onHide"),Fo("onHidden")]),Lr("lazyViewport",()=>({bounds:_a(),optScrollEnv:R.none()})),fr("modes",["top","bottom"],ra),Fo("onDocked"),Fo("onUndocked")];const Gr=ga({fields:vk,name:"docking",active:Py,apis:Ph,state:Object.freeze({__proto__:null,init:o=>{const a=Dn(!1),c=Dn(!0),d=ir(),h=Dn(o.modes);return ma({isDocked:a.get,setDocked:a.set,getInitialPos:d.get,setInitialPos:d.set,clearInitialPos:d.clear,isVisible:c.get,setVisible:c.set,getModes:h.get,setModes:h.set,readState:()=>`docked:  ${a.get()}, visible: ${c.get()}, modes: ${h.get().join(",")}`})}})}),p1=eo([((o,a)=>({key:o,value:Su({can:(c,d)=>{const h=d.event,b=h.originator,w=h.target;return!((k,E,O)=>Wo(E,k.element)&&!Wo(E,O))(c,b,w)||(console.warn(ku()+` did not get interpreted by the desired target. 
Originator: `+dd(b)+`
Target: `+dd(w)+`
Check the `+ku()+" event handlers"),!1)}})}))(ku())]);var Fy=Object.freeze({__proto__:null,events:p1});const mm=(o,a,c,d)=>{const h=o+a;return h>d?c:h<c?d:h},fc=(o,a,c)=>Math.min(Math.max(o,a),c);let Lh=0;const fn=o=>{const a=new Date().getTime(),c=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return Lh++,o+"_"+c+Lh+String(a)},jc=re("alloy-id-"),zy=re("data-alloy-id"),b1=jc(),Fh=zy(),v1=(o,a)=>{Object.defineProperty(o.dom,Fh,{value:a,writable:!0})},Dg=o=>{const a=jr(o)?o.dom[Fh]:null;return R.from(a)},mc=o=>fn(o),yk=Oe,y1=o=>{const a=h=>`The component must be in a context to execute: ${h}`+(o?`
`+dd(o().element)+" is not in context.":""),c=h=>()=>{throw new Error(a(h))},d=h=>()=>{console.warn(a(h))};return{debugInfo:re("fake"),triggerEvent:d("triggerEvent"),triggerFocus:d("triggerFocus"),triggerEscape:d("triggerEscape"),broadcast:d("broadcast"),broadcastOn:d("broadcastOn"),broadcastEvent:d("broadcastEvent"),build:c("build"),buildOrPatch:c("buildOrPatch"),addToWorld:c("addToWorld"),removeFromWorld:c("removeFromWorld"),addToGui:c("addToGui"),removeFromGui:c("removeFromGui"),getByUid:c("getByUid"),getByDom:c("getByDom"),isConnected:Ce}},Hy=y1(),x1=fn("alloy-premade"),Vy=o=>(Object.defineProperty(o.element.dom,x1,{value:o.uid,writable:!0}),$c(x1,o)),$y=o=>cn(o,x1),w1=o=>((a,c)=>{const d=c.toString(),h=d.indexOf(")")+1,b=d.indexOf("("),w=d.substring(b+1,h-1).split(/,\s*/);return a.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:cm(w.slice(1))}),a})((a,...c)=>o(a.getApis(),a,...c),o),Uy=(o,a)=>{const c={};return Cn(o,(d,h)=>{Cn(d,(b,w)=>{const k=cn(c,w).getOr([]);c[w]=k.concat([a(h,b)])})}),c},Wy=o=>o.cHandler,Zw=(o,a)=>({name:o,handler:a}),xk=(o,a)=>{const c={};return Zt(o,d=>{c[d.name()]=d.handlers(a)}),c},gb=(o,a,c)=>{const d=a[c];return d?((h,b,w,k)=>{try{const E=ge(w,(O,L)=>{const B=O[b],H=L[b],K=k.indexOf(B),Y=k.indexOf(H);if(K===-1)throw new Error("The ordering for "+h+" does not have an entry for "+B+`.
Order specified: `+JSON.stringify(k,null,2));if(Y===-1)throw new Error("The ordering for "+h+" does not have an entry for "+H+`.
Order specified: `+JSON.stringify(k,null,2));return K<Y?-1:Y<K?1:0});return _o.value(E)}catch(E){return _o.error([E])}})("Event: "+c,"name",o,d).map(h=>(b=>({can:((E,O)=>(...L)=>Rn(E,(B,H)=>B&&(K=>K.can)(H).apply(void 0,L),!0))(b),abort:((E,O)=>(...L)=>Rn(E,(B,H)=>B||(K=>K.abort)(H).apply(void 0,L),!1))(b),run:(...E)=>{Zt(b,O=>{O.run.apply(void 0,E)})}}))(bt(h,b=>b.handler))):((h,b)=>_o.error(["The event ("+h+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(bt(b,w=>w.name),null,2)]))(c,o)},Zy=(o,a)=>((c,d)=>{const h=(w=>{const k=[],E=[];return Zt(w,O=>{O.fold(L=>{k.push(L)},L=>{E.push(L)})}),{errors:k,values:E}})(c);return h.errors.length>0?(b=h.errors,_o.error(br(b))):((w,k)=>w.length===0?_o.value(k):_o.value(yr(k,Kp.apply(void 0,w))))(h.values,d);var b})(Es(o,(c,d)=>(c.length===1?_o.value(c[0].handler):gb(c,a,d)).map(h=>{const b=(k=>{const E=(O=>G(O)?{can:Re,abort:Ce,run:O}:O)(k);return(O,L,...B)=>{const H=[O,L].concat(B);E.abort.apply(void 0,H)?L.stop():E.can.apply(void 0,H)&&E.run.apply(void 0,H)}})(h),w=c.length>1?ho(a[d],k=>On(c,E=>E.name===k)).join(" > "):c[0].name;return $c(d,((k,E)=>({handler:k,purpose:E}))(b,w))})),{}),Rg="alloy.base.behaviour",wk=Pn([Ks("dom","dom",{tag:"required",process:{}},Pn([At("tag"),et("styles",{}),et("classes",[]),et("attributes",{}),Bo("value"),Bo("innerHtml")])),At("components"),At("uid"),et("events",{}),et("apis",{}),Ks("eventOrder","eventOrder",(Ng={[ol()]:["disabling",Rg,"toggling","typeaheadevents"],[ku()]:[Rg,"focusing","keying"],[Xd()]:[Rg,"disabling","toggling","representing","tooltipping"],[am()]:[Rg,"representing","streaming","invalidating"],[ic()]:[Rg,"representing","item-events","toolbar-button-events","tooltipping"],[Tt()]:["focusing",Rg,"item-type-events"],[Z()]:["focusing",Rg,"item-type-events"],[_n()]:["item-type-events","tooltipping"],[Ll()]:["receiving","reflecting","tooltipping"]},Lo(re(Ng))),yl()),Bo("domModification")]),Ck=o=>o.events,sf=o=>o.dom.value,gm=(o,a)=>{if(a===void 0)throw new Error("Value.set was undefined");o.dom.value=a},C1=(o,a,c)=>{c.fold(()=>vi(o,a),d=>{Wo(d,a)||(ed(d,a),Ca(d))})},jw=(o,a,c)=>{const d=bt(a,c),h=vr(o);return Zt(h.slice(d.length),Ca),d},jy=(o,a,c,d)=>{const h=Kr(o,a),b=d(c,h),w=((k,E,O)=>Kr(k,E).map(L=>{if(O.exists(B=>!Wo(B,L))){const B=O.map(Ni).getOr("span"),H=ca(B);return ed(L,H),H}return L}))(o,a,h);return C1(o,b.element,w),b},hb=(o,a)=>{const c=on(o),d=on(a),h=le(d,c),b=((w,k)=>{const E={},O={};return Ao(w,(L,B)=>!po(a,B)||L!==a[B],vo(E),vo(O)),{t:E,f:O}})(o).t;return{toRemove:h,toSet:b}},fd=(o,a)=>{const c=a.filter(d=>Ni(d)===o.tag&&!(h=>h.innerHtml.isSome()&&h.domChildren.length>0)(o)&&!(h=>po(h.dom,x1))(d)).bind(d=>((h,b)=>{try{const w=((k,E)=>{const{class:O,style:L,...B}=(me=>Rn(me.dom.attributes,(ye,_e)=>(ye[_e.name]=_e.value,ye),{}))(E),{toSet:H,toRemove:K}=hb(k.attributes,B),Y=zd(E),{toSet:se,toRemove:ce}=hb(k.styles,Y),be=cd(E),ie=le(be,k.classes),ae=le(k.classes,be);return Zt(K,me=>fo(E,me)),ar(E,H),Is(E,ae),zl(E,ie),Zt(ce,me=>er(E,me)),Bi(E,se),k.innerHtml.fold(()=>{const me=k.domChildren;((ye,_e)=>{jw(ye,_e,(Fe,Xe)=>{const _t=Kr(ye,Xe);return C1(ye,Fe,_t),Fe})})(E,me)},me=>{kg(E,me)}),(()=>{const me=E,ye=k.value.getOrUndefined();ye!==sf(me)&&gm(me,ye??"")})(),E})(h,b);return R.some(w)}catch{return R.none()}})(o,d)).getOrThunk(()=>(d=>{const h=ca(d.tag);ar(h,d.attributes),Is(h,d.classes),Bi(h,d.styles),d.innerHtml.each(w=>kg(h,w));const b=d.domChildren;return Ts(h,b),d.value.each(w=>{gm(h,w)}),h})(o));return v1(c,o.uid),c},_1=o=>{const a=(c=>{const d=cn(c,"behaviours").getOr({});return Ko(on(d),h=>{const b=d[h];return $(b)?[b.me]:[]})})(o);return((c,d)=>((h,b)=>{const w=bt(b,E=>gs(E.name(),[At("config"),et("state",uc)])),k=is("component.behaviours",Pn(w),h.behaviours).fold(E=>{throw new Error(Li(E)+`
Complete spec:
`+JSON.stringify(h,null,2))},Oe);return{list:b,data:En(k,E=>{const O=E.map(L=>({config:L.config,state:L.state.init(L.config)}));return re(O)})}})(c,d))(o,a)},Qs=(o,a)=>{const c=()=>H,d=Dn(Hy),h=wi((K=>is("custom.definition",wk,K))(o)),b=_1(o),w=(K=>K.list)(b),k=(K=>K.data)(b),E=((K,Y,se)=>{const ce={...(be=K).dom,uid:be.uid,domChildren:bt(be.components,Fe=>Fe.element)};var be;const ie=(Fe=>Fe.domModification.fold(()=>Ns({}),Ns))(K),ae={"alloy.base.modification":ie},me=Y.length>0?((Fe,Xe,_t,vt)=>{const gt={...Xe};Zt(_t,So=>{gt[So.name()]=So.exhibit(Fe,vt)});const Bt=Uy(gt,(So,zr)=>({name:So,modification:zr})),sn=So=>xn(So,(zr,Xr)=>({...Xr.modification,...zr}),{}),bn=xn(Bt.classes,(So,zr)=>zr.modification.concat(So),[]),In=sn(Bt.attributes),qn=sn(Bt.styles);return Ns({classes:bn,attributes:In,styles:qn})})(se,ae,Y,ce):ie;return ye=ce,_e=me,{...ye,attributes:{...ye.attributes,..._e.attributes},styles:{...ye.styles,..._e.styles},classes:ye.classes.concat(_e.classes)};var ye,_e})(h,w,k),O=fd(E,a),L=((K,Y,se)=>{const ce={"alloy.base.behaviour":Ck(K)};return((be,ie,ae,me)=>{const ye=((_e,Fe,Xe)=>{const _t={...Xe,...xk(Fe,_e)};return Uy(_t,Zw)})(be,ae,me);return Zy(ye,ie)})(se,K.eventOrder,Y,ce).getOrDie()})(h,w,k),B=Dn(h.components),H={uid:o.uid,getSystem:d.get,config:K=>{const Y=k;return(G(Y[K.name()])?Y[K.name()]:()=>{throw new Error("Could not find "+K.name()+" in "+JSON.stringify(o,null,2))})()},hasConfigured:K=>G(k[K.name()]),spec:o,readState:K=>k[K]().map(Y=>Y.state.readState()).getOr("not enabled"),getApis:()=>h.apis,connect:K=>{d.set(K)},disconnect:()=>{d.set(y1(c))},element:O,syncComponents:()=>{const K=vr(O),Y=Ko(K,se=>d.get().getByDom(se).fold(()=>[],Me));B.set(Y)},components:B.get,events:L};return H},Cs=o=>{const a=fu(o);return af({element:a})},af=o=>{const a=li("external.component",oa([At("element"),Bo("uid")]),o),c=Dn(y1()),d=a.uid.getOrThunk(()=>mc("external"));v1(a.element,d);const h={uid:d,getSystem:c.get,config:R.none,hasConfigured:Ce,connect:b=>{c.set(b)},disconnect:()=>{c.set(y1(()=>h))},getApis:()=>({}),element:a.element,spec:o,readState:re("No state"),syncComponents:de,components:re([]),events:{}};return Vy(h)},Ky=mc,S1=(o,a)=>$y(o).getOrThunk(()=>((c,d)=>{const{events:h,...b}=yk(c),w=((E,O)=>{const L=cn(E,"components").getOr([]);return O.fold(()=>bt(L,Aa),B=>bt(L,(H,K)=>S1(H,Kr(B,K))))})(b,d),k={...b,events:{...Fy,...h},components:w};return _o.value(Qs(k,d))})((c=>po(c,"uid"))(o)?o:{uid:Ky(""),...o},a).getOrDie()),Aa=o=>S1(o,R.none()),Hi=Vy;var Ng,lf=(o,a,c,d,h)=>o(c,d)?R.some(c):G(h)&&h(c)?R.none():a(c,d,h);const hm=(o,a,c)=>{let d=o.dom;const h=G(c)?c:Ce;for(;d.parentNode;){d=d.parentNode;const b=Qt(d);if(a(b))return R.some(b);if(h(b))break}return R.none()},k1=(o,a,c)=>lf((d,h)=>h(d),hm,o,a,c),Kw=(o,a)=>J(o.dom.childNodes,c=>a(Qt(c))).map(Qt),qy=(o,a,c)=>k1(o,a,c).isSome(),pm=(o,a,c)=>hm(o,d=>Rc(d,a),c),Nr=(o,a)=>((c,d)=>{const h=c.dom;return h.parentNode?Kw(Qt(h.parentNode),b=>!Wo(c,b)&&Rc(b,a)):R.none()})(o),E1=(o,a)=>Kw(o,c=>Rc(c,a)),Yr=(o,a)=>Xu(a,o),Tu=(o,a,c)=>lf((d,h)=>Rc(d,h),pm,o,a,c),Kc="aria-controls",Ig=()=>{const o=fn(Kc);return{id:o,link:a=>{Jt(a,Kc,o)},unlink:a=>{fo(a,Kc)}}},sl=(o,a)=>qy(a,c=>Wo(c,o.element),Ce)||((c,d)=>(h=>k1(h,b=>{if(!jr(b))return!1;const w=wo(b,"id");return w!==void 0&&w.indexOf(Kc)>-1}).bind(b=>{const w=wo(b,"id"),k=ot(b);return Yr(k,`[${Kc}="${w}"]`)}))(d).exists(h=>sl(c,h)))(o,a),qa=(o,a,c,d,h,b,w,k=!1)=>({x:o,y:a,bubble:c,direction:d,placement:h,restriction:b,label:`${w}-${h}`,alwaysFit:k}),bm=Tl([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),pb=bm.southeast,Bg=bm.southwest,bb=bm.northeast,Mg=bm.northwest,qw=bm.south,Gy=bm.north,Yy=bm.east,Gw=bm.west,Ga=(o,a)=>xe(["left","right","top","bottom"],c=>cn(a,c).map(d=>((h,b)=>{switch(b){case 1:return h.x;case 0:return h.x+h.width;case 2:return h.y;case 3:return h.y+h.height}})(o,d))),vm="layout",Yw=o=>o.x,gc=(o,a)=>o.x+o.width/2-a.width/2,Vi=(o,a)=>o.x+o.width-a.width,Pg=(o,a)=>o.y-a.height,zh=o=>o.y+o.height,Xw=(o,a)=>o.y+o.height/2-a.height/2,bs=(o,a,c)=>qa(Yw(o),zh(o),c.southeast(),pb(),"southeast",Ga(o,{left:1,top:3}),vm),vs=(o,a,c)=>qa(Vi(o,a),zh(o),c.southwest(),Bg(),"southwest",Ga(o,{right:0,top:3}),vm),Vs=(o,a,c)=>qa(Yw(o),Pg(o,a),c.northeast(),bb(),"northeast",Ga(o,{left:1,bottom:2}),vm),xr=(o,a,c)=>qa(Vi(o,a),Pg(o,a),c.northwest(),Mg(),"northwest",Ga(o,{right:0,bottom:2}),vm),ds=(o,a,c)=>qa(gc(o,a),Pg(o,a),c.north(),Gy(),"north",Ga(o,{bottom:2}),vm),Bs=(o,a,c)=>qa(gc(o,a),zh(o),c.south(),qw(),"south",Ga(o,{top:3}),vm),A1=(o,a,c)=>qa((d=>d.x+d.width)(o),Xw(o,a),c.east(),Yy(),"east",Ga(o,{left:0}),vm),T1=(o,a,c)=>qa(((d,h)=>d.x-h.width)(o,a),Xw(o,a),c.west(),Gw(),"west",Ga(o,{right:1}),vm),Xy=()=>[bs,vs,Vs,xr,Bs,ds,A1,T1],vb=()=>[vs,bs,xr,Vs,Bs,ds,A1,T1],Jy=()=>[Vs,xr,bs,vs,ds,Bs],Lg=()=>[xr,Vs,vs,bs,ds,Bs],O1=()=>[bs,vs,Vs,xr,Bs,ds],D1=()=>[vs,bs,xr,Vs,Bs,ds];var Qy=Object.freeze({__proto__:null,events:o=>eo([xt(Ll(),(a,c)=>{const d=o.channels,h=on(d),b=c,w=((k,E)=>E.universal?k:ho(k,O=>Qe(E.channels,O)))(h,b);Zt(w,k=>{const E=d[k],O=E.schema,L=li("channel["+k+`] data
Receiver: `+dd(a.element),O,b.data);E.onReceive(a,L)})})])}),yb=[ka("channels",Gp(_o.value,oa([Au("onReceive"),et("schema",yl())])))];const al=ga({fields:yb,name:"receiving",active:Qy});var ex=Object.freeze({__proto__:null,exhibit:(o,a)=>Ns({classes:[],styles:a.useFixed()?{}:{position:"relative"}})});const ki=(o,a=!1)=>o.dom.focus({preventScroll:a}),xb=o=>o.dom.blur(),Fg=o=>{const a=ot(o).dom;return o.dom===a.activeElement},qc=(o=yi())=>R.from(o.dom.activeElement).map(Qt),Ms=o=>qc(ot(o)).filter(a=>o.dom.contains(a.dom)),ym=(o,a)=>{const c=ot(a),d=qc(c).bind(b=>{const w=k=>Wo(b,k);return w(a)?R.some(a):((k,E)=>{const O=L=>{for(let B=0;B<L.childNodes.length;B++){const H=Qt(L.childNodes[B]);if(E(H))return R.some(H);const K=O(L.childNodes[B]);if(K.isSome())return K}return R.none()};return O(k.dom)})(a,w)}),h=o(a);return d.each(b=>{qc(c).filter(w=>Wo(w,b)).fold(()=>{ki(b)},de)}),h},tx=Tl([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),nx=(o,a,c,d,h,b)=>{const w=a.rect,k=w.x-c,E=w.y-d,O=h-(k+w.width),L=b-(E+w.height),B=R.some(k),H=R.some(E),K=R.some(O),Y=R.some(L),se=R.none();return a.direction.fold(()=>Ea(o,B,H,se,se),()=>Ea(o,se,H,K,se),()=>Ea(o,B,se,se,Y),()=>Ea(o,se,se,K,Y),()=>Ea(o,B,H,se,se),()=>Ea(o,B,se,se,Y),()=>Ea(o,B,H,se,se),()=>Ea(o,se,H,K,se))},wb=(o,a)=>o.fold(()=>{const c=a.rect;return Ea("absolute",R.some(c.x),R.some(c.y),R.none(),R.none())},(c,d,h,b)=>nx("absolute",a,c,d,h,b),(c,d,h,b)=>nx("fixed",a,c,d,h,b)),md=(o,a)=>{const c=Ge(td,a),d=o.fold(c,c,()=>{const w=Pr();return td(a).translate(-w.left,-w.top)}),h=Mi(a),b=tc(a);return bo(d.left,d.top,h,b)},_k=(o,a)=>a.fold(()=>o.fold(_a,_a,bo),c=>o.fold(re(c),re(c),()=>{const d=Cb(o,c.x,c.y);return bo(d.left,d.top,c.width,c.height)})),Cb=(o,a,c)=>{const d=Mr(a,c);return o.fold(re(d),re(d),()=>{const h=Pr();return d.translate(-h.left,-h.top)})};tx.none;const xm=tx.relative,Jw=tx.fixed,_b="data-alloy-placement",Sb=o=>Io(o,_b),R1=Tl([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Hh=(o,a,c,d)=>{const h=o.bubble,b=h.offset,w=((me,ye,_e)=>{const Fe=(Bt,sn)=>ye[Bt].map(bn=>{const In=Bt==="top"||Bt==="bottom",qn=In?_e.top:_e.left,So=(Bt==="left"||Bt==="top"?Math.max:Math.min)(bn,sn)+qn;return In?fc(So,me.y,me.bottom):fc(So,me.x,me.right)}).getOr(sn),Xe=Fe("left",me.x),_t=Fe("top",me.y),vt=Fe("right",me.right),gt=Fe("bottom",me.bottom);return bo(Xe,_t,vt-Xe,gt-_t)})(d,o.restriction,b),k=o.x+b.left,E=o.y+b.top,O=bo(k,E,a,c),{originInBounds:L,sizeInBounds:B,visibleW:H,visibleH:K}=((me,ye)=>{const{x:_e,y:Fe,right:Xe,bottom:_t}=ye,{x:vt,y:gt,right:Bt,bottom:sn,width:bn,height:In}=me;return{originInBounds:vt>=_e&&vt<=Xe&&gt>=Fe&&gt<=_t,sizeInBounds:Bt<=Xe&&Bt>=_e&&sn<=_t&&sn>=Fe,visibleW:Math.min(bn,vt>=_e?Xe-vt:Bt-_e),visibleH:Math.min(In,gt>=Fe?_t-gt:sn-Fe)}})(O,w),Y=L&&B,se=Y?O:((me,ye)=>{const{x:_e,y:Fe,right:Xe,bottom:_t}=ye,{x:vt,y:gt,width:Bt,height:sn}=me,bn=Math.max(_e,Xe-Bt),In=Math.max(Fe,_t-sn),qn=fc(vt,_e,bn),So=fc(gt,Fe,In),zr=Math.min(qn+Bt,Xe)-qn,Xr=Math.min(So+sn,_t)-So;return bo(qn,So,zr,Xr)})(O,w),ce=se.width>0&&se.height>0,{maxWidth:be,maxHeight:ie}=((me,ye,_e)=>{const Fe=re(ye.bottom-_e.y),Xe=re(_e.bottom-ye.y),_t=((sn,bn,In,qn)=>sn.fold(bn,bn,qn,qn,bn,qn,In,In))(me,Xe,Xe,Fe),vt=re(ye.right-_e.x),gt=re(_e.right-ye.x);return{maxWidth:((sn,bn,In,qn)=>sn.fold(bn,qn,bn,qn,In,In,bn,qn))(me,gt,gt,vt),maxHeight:_t}})(o.direction,se,d),ae={rect:se,maxHeight:ie,maxWidth:be,direction:o.direction,placement:o.placement,classes:{on:h.classesOn,off:h.classesOff},layout:o.label,testY:E};return Y||o.alwaysFit?R1.fit(ae):R1.nofit(ae,H,K,ce)},N1=Re,Ei=(o,a,c)=>((d,h,b,w)=>hg(d,h,b,w,!1))(o,a,N1,c),ox=(o,a,c)=>((d,h,b,w)=>hg(d,h,b,w,!0))(o,a,N1,c),gd=tl,kb=["top","bottom","right","left"],Ou="data-alloy-transition-timer",Eb=(o,a,c,d,h,b)=>{const w=((k,E,O)=>O.exists(L=>{const B=k.mode;return B==="all"||L[B]!==E[B]}))(d,h,b);if(w||((k,E)=>((O,L)=>oi(L,B=>zi(O,B)))(k,E.classes))(o,d)){Xn(o,"position",c.position);const k=md(a,o),E=wb(a,{...h,rect:k}),O=xe(kb,L=>E[L]);((L,B)=>{const H=K=>parseFloat(K).toFixed(3);return ur(B,(K,Y)=>!((se,ce,be=oe)=>Vt(se,ce,be).getOr(se.isNone()&&ce.isNone()))(L[Y].map(H),K.map(H))).isSome()})(c,O)&&(Qi(o,O),w&&((L,B)=>{Is(L,B.classes),Io(L,Ou).each(H=>{clearTimeout(parseInt(H,10)),fo(L,Ou)}),((H,K)=>{const Y=oc(),se=oc();let ce;const be=ye=>{var _e;const Fe=(_e=ye.raw.pseudoElement)!==null&&_e!==void 0?_e:"";return Wo(ye.target,H)&&du(Fe)&&Qe(kb,ye.raw.propertyName)},ie=ye=>{if(W(ye)||be(ye)){Y.clear(),se.clear();const _e=ye==null?void 0:ye.raw.type;(W(_e)||_e===Jp())&&(clearTimeout(ce),fo(H,Ou),zl(H,K.classes))}},ae=Ei(H,a1(),ye=>{be(ye)&&(ae.unbind(),Y.set(Ei(H,Jp(),ie)),se.set(Ei(H,Lw(),ie)))}),me=(ye=>{const _e=vt=>{const gt=as(ye,vt).split(/\s*,\s*/);return ho(gt,Xi)},Fe=vt=>{if(p(vt)&&/^[\d.]+/.test(vt)){const gt=parseFloat(vt);return uu(vt,"ms")?gt:1e3*gt}return 0},Xe=_e("transition-delay"),_t=_e("transition-duration");return Rn(_t,(vt,gt,Bt)=>{const sn=Fe(Xe[Bt])+Fe(gt);return Math.max(vt,sn)},0)})(H);requestAnimationFrame(()=>{ce=setTimeout(ie,me+17),Jt(H,Ou,ce)})})(L,B)})(o,d),gu(o))}else zl(o,d.classes)},Ab=(o,a)=>{((c,d)=>{const h=xh.max(c,d,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);Xn(c,"max-height",h+"px")})(o,Math.floor(a))},wm=re((o,a)=>{Ab(o,a),Bi(o,{"overflow-x":"hidden","overflow-y":"auto"})}),zg=re((o,a)=>{Ab(o,a)}),hc=(o,a,c)=>o[a]===void 0?c:o[a],Tb=(o,a,c,d)=>{const h=((b,w,k,E)=>{er(w,"max-height"),er(w,"max-width");const O={width:Mi(L=w),height:tc(L)};var L;return((B,H,K,Y,se,ce)=>{const be=Y.width,ie=Y.height,ae=(me,ye,_e,Fe,Xe)=>{const _t=me(K,Y,se,B,ce),vt=Hh(_t,be,ie,ce);return vt.fold(re(vt),(gt,Bt,sn,bn)=>(Xe===bn?sn>Fe||Bt>_e:!Xe&&bn)?vt:R1.nofit(ye,_e,Fe,Xe))};return Rn(H,(me,ye)=>{const _e=Ge(ae,ye);return me.fold(re(me),_e)},R1.nofit({rect:K,maxHeight:Y.height,maxWidth:Y.width,direction:pb(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:K.y},-1,-1,!1)).fold(Oe,Oe)})(w,E.preference,b,O,k,E.bounds)})(o,a,c,d);return((b,w,k)=>{const E=wb(k.origin,w);k.transition.each(O=>{Eb(b,k.origin,E,O,w,k.lastPlacement)}),sb(b,E)})(a,h,d),((b,w)=>{((k,E)=>{Jt(k,_b,E)})(b,w.placement)})(a,h),((b,w)=>{const k=w.classes;zl(b,k.off),Is(b,k.on)})(a,h),((b,w,k)=>{(0,k.maxHeightFunction)(b,w.maxHeight)})(a,h,d),((b,w,k)=>{(0,k.maxWidthFunction)(b,w.maxWidth)})(a,h,d),{layout:h.layout,placement:h.placement}},Sk=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Hl=(o,a,c,d=1)=>{const h=o*d,b=a*d,w=E=>cn(c,E).getOr([]),k=(E,O,L)=>{const B=le(Sk,L);return{offset:Mr(E,O),classesOn:Ko(L,w),classesOff:Ko(B,w)}};return{southeast:()=>k(-o,a,["top","alignLeft"]),southwest:()=>k(o,a,["top","alignRight"]),south:()=>k(-o/2,a,["top","alignCentre"]),northeast:()=>k(-o,-a,["bottom","alignLeft"]),northwest:()=>k(o,-a,["bottom","alignRight"]),north:()=>k(-o/2,-a,["bottom","alignCentre"]),east:()=>k(o,-a/2,["valignCentre","left"]),west:()=>k(-o,-a/2,["valignCentre","right"]),insetNortheast:()=>k(h,b,["top","alignLeft","inset"]),insetNorthwest:()=>k(-h,b,["top","alignRight","inset"]),insetNorth:()=>k(-h/2,b,["top","alignCentre","inset"]),insetSoutheast:()=>k(h,-b,["bottom","alignLeft","inset"]),insetSouthwest:()=>k(-h,-b,["bottom","alignRight","inset"]),insetSouth:()=>k(-h/2,-b,["bottom","alignCentre","inset"]),insetEast:()=>k(-h,-b/2,["valignCentre","right","inset"]),insetWest:()=>k(h,-b/2,["valignCentre","left","inset"])}},hd=()=>Hl(0,0,{}),pc=Oe,rx=(o,a)=>c=>sa(c)==="rtl"?a:o,sa=o=>as(o,"direction")==="rtl"?"rtl":"ltr";var bc;(function(o){o.TopToBottom="toptobottom",o.BottomToTop="bottomtotop"})(bc||(bc={}));const il="data-alloy-vertical-dir",kk=o=>qy(o,a=>jr(a)&&wo(a,"data-alloy-vertical-dir")===bc.BottomToTop),cf=()=>gs("layouts",[At("onLtr"),At("onRtl"),Bo("onBottomLtr"),Bo("onBottomRtl")]),pd=(o,a,c,d,h,b,w)=>{const k=w.map(kk).getOr(!1),E=a.layouts.map(H=>H.onLtr(o)),O=a.layouts.map(H=>H.onRtl(o)),L=k?a.layouts.bind(H=>H.onBottomLtr.map(K=>K(o))).or(E).getOr(h):E.getOr(c),B=k?a.layouts.bind(H=>H.onBottomRtl.map(K=>K(o))).or(O).getOr(b):O.getOr(d);return rx(L,B)(o)};var Vh=[At("hotspot"),Bo("bubble"),et("overrides",{}),cf(),Rr("placement",(o,a,c)=>{const d=a.hotspot,h=md(c,d.element),b=pd(o.element,a,O1(),D1(),Jy(),Lg(),R.some(a.hotspot.element));return R.some(pc({anchorBox:h,bubble:a.bubble.getOr(hd()),overrides:a.overrides,layouts:b}))})],Cm=[At("x"),At("y"),et("height",0),et("width",0),et("bubble",hd()),et("overrides",{}),cf(),Rr("placement",(o,a,c)=>{const d=Cb(c,a.x,a.y),h=bo(d.left,d.top,a.width,a.height),b=pd(o.element,a,Xy(),vb(),Xy(),vb(),R.none());return R.some(pc({anchorBox:h,bubble:a.bubble,overrides:a.overrides,layouts:b}))})];const Ol=Tl([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),I1=o=>o.fold(Oe,(a,c,d)=>a.translate(-c,-d)),B1=o=>o.fold(Oe,Oe),Ob=o=>Rn(o,(a,c)=>a.translate(c.left,c.top),Mr(0,0)),M1=o=>{const a=bt(o,B1);return Ob(a)},Qw=Ol.screen,Db=Ol.absolute,bd=(o,a,c)=>{const d=Zs(o.element),h=Pr(d),b=((w,k,E)=>{const O=Nc(E.root).dom;return R.from(O.frameElement).map(Qt).filter(L=>{const B=Zs(L),H=Zs(w.element);return Wo(B,H)}).map(bl)})(o,0,c).getOr(h);return Db(b,h.left,h.top)},Rb=(o,a,c,d)=>{const h=Qw(Mr(o,a));return R.some(((b,w,k)=>({point:b,width:w,height:k}))(h,c,d))},Hg=(o,a,c,d,h)=>o.map(b=>{const w=[a,b.point],k=(E=()=>M1(w),O=()=>M1(w),L=()=>(ae=>{const me=bt(ae,I1);return Ob(me)})(w),d.fold(E,O,L));var E,O,L;const B=(se=k.left,ce=k.top,be=b.width,ie=b.height,{x:se,y:ce,width:be,height:ie}),H=c.showAbove?Jy():O1(),K=c.showAbove?Lg():D1(),Y=pd(h,c,H,K,H,K,R.none());var se,ce,be,ie;return pc({anchorBox:B,bubble:c.bubble.getOr(hd()),overrides:c.overrides,layouts:Y})});var Vg=[At("node"),At("root"),Bo("bubble"),cf(),et("overrides",{}),et("showAbove",!1),Rr("placement",(o,a,c)=>{const d=bd(o,0,a);return a.node.filter(nn).bind(h=>{const b=h.dom.getBoundingClientRect(),w=Rb(b.left,b.top,b.width,b.height),k=a.node.getOr(o.element);return Hg(w,d,a,c,k)})})];const uf=(o,a,c,d)=>({start:o,soffset:a,finish:c,foffset:d}),df=Tl([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Nb=(df.before,df.on,df.after,o=>o.fold(Oe,Oe,Oe)),ff=Tl([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),mf={domRange:ff.domRange,relative:ff.relative,exact:ff.exact,exactFromRange:o=>ff.exact(o.start,o.soffset,o.finish,o.foffset),getWin:o=>{const a=(c=>c.match({domRange:d=>Qt(d.startContainer),relative:(d,h)=>Nb(d),exact:(d,h,b,w)=>d}))(o);return Nc(a)},range:uf},gf=(o,a,c)=>{const d=o.document.createRange();var h;return h=d,a.fold(b=>{h.setStartBefore(b.dom)},(b,w)=>{h.setStart(b.dom,w)},b=>{h.setStartAfter(b.dom)}),((b,w)=>{w.fold(k=>{b.setEndBefore(k.dom)},(k,E)=>{b.setEnd(k.dom,E)},k=>{b.setEndAfter(k.dom)})})(d,c),d},$g=(o,a,c,d,h)=>{const b=o.document.createRange();return b.setStart(a.dom,c),b.setEnd(d.dom,h),b},P1=o=>({left:o.left,top:o.top,right:o.right,bottom:o.bottom,width:o.width,height:o.height}),$h=Tl([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),L1=(o,a,c)=>a(Qt(c.startContainer),c.startOffset,Qt(c.endContainer),c.endOffset),sx=(o,a)=>((c,d)=>{const h=((b,w)=>w.match({domRange:k=>({ltr:re(k),rtl:R.none}),relative:(k,E)=>({ltr:za(()=>gf(b,k,E)),rtl:za(()=>R.some(gf(b,E,k)))}),exact:(k,E,O,L)=>({ltr:za(()=>$g(b,k,E,O,L)),rtl:za(()=>R.some($g(b,O,L,k,E)))})}))(c,d);return((b,w)=>{const k=w.ltr();return k.collapsed?w.rtl().filter(E=>E.collapsed===!1).map(E=>$h.rtl(Qt(E.endContainer),E.endOffset,Qt(E.startContainer),E.startOffset)).getOrThunk(()=>L1(0,$h.ltr,k)):L1(0,$h.ltr,k)})(0,h)})(o,a).match({ltr:(c,d,h,b)=>{const w=o.document.createRange();return w.setStart(c.dom,d),w.setEnd(h.dom,b),w},rtl:(c,d,h,b)=>{const w=o.document.createRange();return w.setStart(h.dom,b),w.setEnd(c.dom,d),w}});$h.ltr,$h.rtl;const Uh=(o,a,c)=>ho(((d,h)=>{const b=G(h)?h:Ce;let w=d.dom;const k=[];for(;w.parentNode!==null&&w.parentNode!==void 0;){const E=w.parentNode,O=Qt(E);if(k.push(O),b(O)===!0)break;w=E}return k})(o,c),a),aa=(o,a)=>((c,d)=>{const h=d===void 0?document:d.dom;return Fd(h)?[]:bt(h.querySelectorAll(c),Qt)})(a,o),ax=o=>{if(o.rangeCount>0){const a=o.getRangeAt(0),c=o.getRangeAt(o.rangeCount-1);return R.some(uf(Qt(a.startContainer),a.startOffset,Qt(c.endContainer),c.endOffset))}return R.none()},eC=o=>{if(o.anchorNode===null||o.focusNode===null)return ax(o);{const a=Qt(o.anchorNode),c=Qt(o.focusNode);return((d,h,b,w)=>{const k=((O,L,B,H)=>{const K=Zs(O).dom.createRange();return K.setStart(O.dom,L),K.setEnd(B.dom,H),K})(d,h,b,w),E=Wo(d,b)&&h===w;return k.collapsed&&!E})(a,o.anchorOffset,c,o.focusOffset)?R.some(uf(a,o.anchorOffset,c,o.focusOffset)):ax(o)}},ix=(o,a)=>(c=>{const d=c.getClientRects(),h=d.length>0?d[0]:c.getBoundingClientRect();return h.width>0||h.height>0?R.some(h).map(P1):R.none()})(sx(o,a)),lx=((o,a)=>{const c=d=>o(d)?R.from(d.dom.nodeValue):R.none();return{get:d=>{if(!o(d))throw new Error("Can only get text value of a text node");return c(d).getOr("")},getOption:c,set:(d,h)=>{if(!o(d))throw new Error("Can only set raw text value of a text node");d.dom.nodeValue=h}}})(ri),hf=(o,a)=>({element:o,offset:a}),F1=(o,a)=>ri(o)?hf(o,a):((c,d)=>{const h=vr(c);if(h.length===0)return hf(c,d);if(d<h.length)return hf(h[d],0);{const b=h[h.length-1],w=ri(b)?(k=>lx.get(k))(b).length:vr(b).length;return hf(b,w)}})(o,a),Ib=o=>o.foffset!==void 0,cx=(o,a)=>a.getSelection.getOrThunk(()=>()=>(c=>(d=>R.from(d.getSelection()))(c).filter(d=>d.rangeCount>0).bind(eC))(o))().map(c=>{if(Ib(c)){const d=F1(c.start,c.soffset),h=F1(c.finish,c.foffset);return mf.range(d.element,d.offset,h.element,h.offset)}return c});var Ek=[Bo("getSelection"),At("root"),Bo("bubble"),cf(),et("overrides",{}),et("showAbove",!1),Rr("placement",(o,a,c)=>{const d=Nc(a.root).dom,h=bd(o,0,a),b=cx(d,a).bind(k=>{if(Ib(k))return((O,L)=>(B=>{const H=B.getBoundingClientRect();return H.width>0||H.height>0?R.some(H).map(P1):R.none()})(sx(O,L)))(d,mf.exactFromRange(k)).orThunk(()=>{const O=fu("\uFEFF");ed(k.start,O);const L=ix(d,mf.exact(O,0,O,1));return Ca(O),L}).bind(O=>Rb(O.left,O.top,O.width,O.height));{const E=En(k,L=>L.dom.getBoundingClientRect()),O={left:Math.min(E.firstCell.left,E.lastCell.left),right:Math.max(E.firstCell.right,E.lastCell.right),top:Math.min(E.firstCell.top,E.lastCell.top),bottom:Math.max(E.firstCell.bottom,E.lastCell.bottom)};return Rb(O.left,O.top,O.right-O.left,O.bottom-O.top)}}),w=cx(d,a).bind(k=>Ib(k)?jr(k.start)?R.some(k.start):ai(k.start):R.some(k.firstCell)).getOr(o.element);return Hg(b,h,a,c,w)})];const pf="link-layout",Bb=o=>o.x+o.width,tC=(o,a)=>o.x-a.width,nC=(o,a)=>o.y-a.height+o.height,Gc=o=>o.y,ux=(o,a,c)=>qa(Bb(o),Gc(o),c.southeast(),pb(),"southeast",Ga(o,{left:0,top:2}),pf),z1=(o,a,c)=>qa(tC(o,a),Gc(o),c.southwest(),Bg(),"southwest",Ga(o,{right:1,top:2}),pf),oC=(o,a,c)=>qa(Bb(o),nC(o,a),c.northeast(),bb(),"northeast",Ga(o,{left:0,bottom:3}),pf),Ug=(o,a,c)=>qa(tC(o,a),nC(o,a),c.northwest(),Mg(),"northwest",Ga(o,{right:1,bottom:3}),pf),Wh=()=>[ux,z1,oC,Ug],Mb=()=>[z1,ux,Ug,oC];var rC=[At("item"),cf(),et("overrides",{}),Rr("placement",(o,a,c)=>{const d=md(c,a.item.element),h=pd(o.element,a,Wh(),Mb(),Wh(),Mb(),R.none());return R.some(pc({anchorBox:d,bubble:hd(),overrides:a.overrides,layouts:h}))})],Yc=Xs("type",{selection:Ek,node:Vg,hotspot:Vh,submenu:rC,makeshift:Cm});const _m=[Fi("classes",ra),sc("mode","all",["all","layout","placement"])],Pb=[et("useFixed",Ce),Bo("getBounds")],Lb=[ka("anchor",Yc),gs("transition",_m)],H1=(o,a,c,d,h,b)=>{const w=li("placement.info",Pn(Lb),h),k=w.anchor,E=d.element,O=c.get(d.uid);ym(()=>{Xn(E,"position","fixed");const L=As(E,"visibility");Xn(E,"visibility","hidden");const B=a.useFixed()?(()=>{const H=document.documentElement;return Jw(0,0,H.clientWidth,H.clientHeight)})():(H=>{const K=bl(H.element),Y=H.element.dom.getBoundingClientRect();return xm(K.left,K.top,Y.width,Y.height)})(o);k.placement(o,k,B).each(H=>{const K=b.orThunk(()=>a.getBounds.map(rt)),Y=((se,ce,be,ie,ae,me)=>((ye,_e,Fe,Xe,_t,vt,gt,Bt)=>{const sn=hc(gt,"maxHeightFunction",wm()),bn=hc(gt,"maxWidthFunction",de),In=ye.anchorBox,qn=ye.origin,So={bounds:_k(qn,vt),origin:qn,preference:Xe,maxHeightFunction:sn,maxWidthFunction:bn,lastPlacement:_t,transition:Bt};return Tb(In,_e,Fe,So)})(((ye,_e)=>((Fe,Xe)=>({anchorBox:Fe,origin:Xe}))(ye,_e))(ce.anchorBox,se),ie.element,ce.bubble,ce.layouts,ae,be,ce.overrides,me))(B,H,K,d,O,w.transition);c.set(d.uid,Y)}),L.fold(()=>{er(E,"visibility")},H=>{Xn(E,"visibility",H)}),As(E,"left").isNone()&&As(E,"top").isNone()&&As(E,"right").isNone()&&As(E,"bottom").isNone()&&$r(As(E,"position"),"fixed")&&er(E,"position")},E)};var Fb=Object.freeze({__proto__:null,position:(o,a,c,d,h)=>{const b=R.none();H1(o,a,c,d,h,b)},positionWithinBounds:H1,getMode:(o,a,c)=>a.useFixed()?"fixed":"absolute",reset:(o,a,c,d)=>{const h=d.element;Zt(["position","left","right","top","bottom"],b=>er(h,b)),(b=>{fo(b,_b)})(h),c.clear(d.uid)}});const Ya=ga({fields:Pb,name:"positioning",active:ex,apis:Fb,state:Object.freeze({__proto__:null,init:()=>{let o={};return ma({readState:()=>o,clear:a=>{$(a)?delete o[a]:o={}},set:(a,c)=>{o[a]=c},get:a=>cn(o,a)})}})}),V1=o=>o.getSystem().isConnected(),Sm=o=>{go(o,ic());const a=o.components();Zt(a,Sm)},km=o=>{const a=o.components();Zt(a,km),go(o,ja())},zb=(o,a)=>{o.getSystem().addToWorld(a),nn(o.element)&&km(a)},$1=o=>{Sm(o),o.getSystem().removeFromWorld(o)},Wg=(o,a)=>{vi(o.element,a.element)},bf=(o,a)=>{dx(o,a,vi)},dx=(o,a,c)=>{o.getSystem().addToWorld(a),c(o.element,a.element),nn(o.element)&&km(a),o.syncComponents()},U1=o=>{Sm(o),Ca(o.element),o.getSystem().removeFromWorld(o)},$i=o=>{const a=si(o.element).bind(c=>o.getSystem().getByDom(c).toOptional());U1(o),a.each(c=>{c.syncComponents()})},vf=o=>{const a=o.components();Zt(a,U1),qr(o.element),o.syncComponents()},fx=(o,a)=>{Zh(o,a,vi)},mt=(o,a)=>{Zh(o,a,pg)},Zh=(o,a,c)=>{c(o,a.element);const d=vr(a.element);Zt(d,h=>{a.getByDom(h).each(km)})},Ak=o=>{const a=vr(o.element);Zt(a,c=>{o.getByDom(c).each(Sm)}),Ca(o.element)},sC=(o,a,c,d)=>{c.get().each(w=>{vf(o)});const h=a.getAttachPoint(o);bf(h,o);const b=o.getSystem().build(d);return bf(o,b),c.set(b),b},W1=(o,a,c,d)=>{const h=sC(o,a,c,d);return a.onOpen(o,h),h},Xc=(o,a,c)=>{c.get().each(d=>{vf(o),$i(o),a.onClose(o,d),c.clear()})},Z1=(o,a,c)=>c.isOpen(),Hb=(o,a,c)=>{const d=a.getAttachPoint(o);Xn(o.element,"position",Ya.getMode(d)),((h,b,w,k)=>{As(h.element,b).fold(()=>{fo(h.element,w)},E=>{Jt(h.element,w,E)}),Xn(h.element,b,"hidden")})(o,"visibility",a.cloakVisibilityAttr)},mx=(o,a,c)=>{(d=>On(["top","left","right","bottom"],h=>As(d,h).isSome()))(o.element)||er(o.element,"position"),((d,h,b)=>{Io(d.element,b).fold(()=>er(d.element,h),w=>Xn(d.element,h,w))})(o,"visibility",a.cloakVisibilityAttr)};var gx=Object.freeze({__proto__:null,cloak:Hb,decloak:mx,open:W1,openWhileCloaked:(o,a,c,d,h)=>{Hb(o,a),W1(o,a,c,d),h(),mx(o,a)},close:Xc,isOpen:Z1,isPartOf:(o,a,c,d)=>Z1(0,0,c)&&c.get().exists(h=>a.isPartOf(o,h,d)),getState:(o,a,c)=>c.get(),setContent:(o,a,c,d)=>c.get().map(()=>sC(o,a,c,d))}),Tk=Object.freeze({__proto__:null,events:(o,a)=>eo([xt(eb(),(c,d)=>{Xc(c,o,a)})])}),y=[Fo("onOpen"),Fo("onClose"),At("isPartOf"),At("getAttachPoint"),et("cloakVisibilityAttr","data-precloak-visibility")],_=Object.freeze({__proto__:null,init:()=>{const o=ir(),a=re("not-implemented");return ma({readState:a,isOpen:o.isSet,clear:o.clear,set:o.set,get:o.get})}});const T=ga({fields:y,name:"sandboxing",active:Tk,apis:gx,state:_}),M=re("dismiss.popups"),V=re("reposition.popups"),U=re("mouse.released"),ee=oa([et("isExtraPart",Ce),gs("fireEventInstead",[et("event",Cg())])]),ne=o=>{const a=li("Dismissal",ee,o);return{[M()]:{schema:oa([At("target")]),onReceive:(c,d)=>{T.isOpen(c)&&(T.isPartOf(c,d.target)||a.isExtraPart(c,d.target)||a.fireEventInstead.fold(()=>T.close(c),h=>go(c,h.event)))}}}},he=oa([gs("fireEventInstead",[et("event",Qd())]),Ci("doReposition")]),Te=o=>{const a=li("Reposition",he,o);return{[V()]:{onReceive:c=>{T.isOpen(c)&&a.fireEventInstead.fold(()=>a.doReposition(c),d=>go(c,d.event))}}}},Ve=(o,a,c)=>{a.store.manager.onLoad(o,a,c)},Ee=(o,a,c)=>{a.store.manager.onUnload(o,a,c)};var Ne=Object.freeze({__proto__:null,onLoad:Ve,onUnload:Ee,setValue:(o,a,c,d)=>{a.store.manager.setValue(o,a,c,d)},getValue:(o,a,c)=>a.store.manager.getValue(o,a,c),getState:(o,a,c)=>c}),Le=Object.freeze({__proto__:null,events:(o,a)=>{const c=o.resetOnDom?[Ur((d,h)=>{Ve(d,o,a)}),Eu((d,h)=>{Ee(d,o,a)})]:[nb(o,a,Ve)];return eo(c)}});const Je=()=>{const o=Dn(null);return ma({set:o.set,get:o.get,isNotSet:()=>o.get()===null,clear:()=>{o.set(null)},readState:()=>({mode:"memory",value:o.get()})})},tt=()=>{const o=Dn({}),a=Dn({});return ma({readState:()=>({mode:"dataset",dataByValue:o.get(),dataByText:a.get()}),lookup:c=>cn(o.get(),c).orThunk(()=>cn(a.get(),c)),update:c=>{const d=o.get(),h=a.get(),b={},w={};Zt(c,k=>{b[k.value]=k,cn(k,"meta").each(E=>{cn(E,"text").each(O=>{w[O]=k})})}),o.set({...d,...b}),a.set({...h,...w})},clear:()=>{o.set({}),a.set({})}})};var Et=Object.freeze({__proto__:null,memory:Je,dataset:tt,manual:()=>ma({readState:de}),init:o=>o.store.manager.state(o)});const Ot=(o,a,c,d)=>{const h=a.store;c.update([d]),h.setValue(o,d),a.onSetValue(o,d)};var kt=[Bo("initialValue"),At("getFallbackEntry"),At("getDataKey"),At("setValue"),Rr("manager",{setValue:Ot,getValue:(o,a,c)=>{const d=a.store,h=d.getDataKey(o);return c.lookup(h).getOrThunk(()=>d.getFallbackEntry(h))},onLoad:(o,a,c)=>{a.store.initialValue.each(d=>{Ot(o,a,c,d)})},onUnload:(o,a,c)=>{c.clear()},state:tt})],Rt=[At("getValue"),et("setValue",de),Bo("initialValue"),Rr("manager",{setValue:(o,a,c,d)=>{a.store.setValue(o,d),a.onSetValue(o,d)},getValue:(o,a,c)=>a.store.getValue(o),onLoad:(o,a,c)=>{a.store.initialValue.each(d=>{a.store.setValue(o,d)})},onUnload:de,state:uc.init})],Ut=[Bo("initialValue"),Rr("manager",{setValue:(o,a,c,d)=>{c.set(d),a.onSetValue(o,d)},getValue:(o,a,c)=>c.get(),onLoad:(o,a,c)=>{a.store.initialValue.each(d=>{c.isNotSet()&&c.set(d)})},onUnload:(o,a,c)=>{c.clear()},state:Je})],qt=[_i("store",{mode:"memory"},Xs("mode",{memory:Ut,manual:Rt,dataset:kt})),Fo("onSetValue"),et("resetOnDom",!1)];const nt=ga({fields:qt,name:"representing",active:Le,apis:Ne,extra:{setValueFrom:(o,a)=>{const c=nt.getValue(a);nt.setValue(o,c)}},state:Et}),mn=(o,a)=>Si(o,{},bt(a,c=>{return d=c.name(),h="Cannot configure "+c.name()+" for "+o,Ks(d,d,{tag:"option",process:{}},bu(b=>Pi("The field: "+d+" is forbidden. "+h)));var d,h}).concat([Sa("dump",Oe)])),Vn=o=>o.dump,co=(o,a)=>({...Ft(a),...o.dump}),jn=mn,$n=co,lo="placeholder",Mo=Tl([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),$s=o=>po(o,"uiType"),ui=(o,a,c,d)=>((h,b,w,k)=>$s(w)&&w.uiType===lo?((E,O,L,B)=>E.exists(H=>H!==L.owner)?Mo.single(!0,re(L)):cn(B,L.name).fold(()=>{throw new Error("Unknown placeholder component: "+L.name+`
Known: [`+on(B)+`]
Namespace: `+E.getOr("none")+`
Spec: `+JSON.stringify(L,null,2))},H=>H.replace()))(h,0,w,k):Mo.single(!1,re(w)))(o,0,c,d).fold((h,b)=>{const w=$s(c)?b(a,c.config,c.validated):b(a),k=cn(w,"components").getOr([]),E=Ko(k,O=>ui(o,a,O,d));return[{...w,components:E}]},(h,b)=>{if($s(c)){const w=b(a,c.config,c.validated);return c.validated.preprocess.getOr(Oe)(w)}return b(a)}),Ta=Mo.single,Vl=Mo.multiple,Em=re(lo),di=Tl([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Du=et("factory",{sketch:Oe}),jh=et("schema",[]),yf=At("name"),Kh=Ks("pname","pname",vg(o=>"<alloy."+fn(o.name)+">"),yl()),j1=Sa("schema",()=>[Bo("preprocess")]),xf=et("defaults",re({})),aC=et("overrides",re({})),NM=Pn([Du,jh,yf,Kh,xf,aC]),IM=Pn([Du,jh,yf,xf,aC]),fO=Pn([Du,jh,yf,Kh,xf,aC]),hn=Pn([Du,j1,yf,At("unit"),Kh,xf,aC]),hx=o=>o.fold(R.some,R.none,R.some,R.some),Ok=o=>{const a=c=>c.name;return o.fold(a,a,a,a)},iC=(o,a)=>c=>{const d=li("Converting part type",a,c);return o(d)},ll=iC(di.required,NM),vd=iC(di.external,IM),Jc=iC(di.optional,fO),lC=iC(di.group,hn),Dk=re("entirety");var mO=Object.freeze({__proto__:null,required:ll,external:vd,optional:Jc,group:lC,asNamedPart:hx,name:Ok,asCommon:o=>o.fold(Oe,Oe,Oe,Oe),original:Dk});const Rk=(o,a,c,d)=>yr(a.defaults(o,c,d),c,{uid:o.partUids[a.name]},a.overrides(o,c,d)),Ui=(o,a)=>{const c={};return Zt(a,d=>{hx(d).each(h=>{const b=px(o,h.pname);c[h.name]=w=>{const k=li("Part: "+h.name+" in "+o,Pn(h.schema),w);return{...b,config:w,validated:k}}})}),c},px=(o,a)=>({uiType:Em(),owner:o,name:a}),Nk=(o,a,c)=>({uiType:Em(),owner:o,name:a,config:c,validated:{}}),gO=o=>Ko(o,a=>a.fold(R.none,R.some,R.none,R.none).map(c=>rc(c.name,c.schema.concat([mb(Dk())]))).toArray()),hO=o=>bt(o,Ok),Ik=(o,a,c)=>((d,h,b)=>{const w={},k={};return Zt(b,E=>{E.fold(O=>{w[O.pname]=Ta(!0,(L,B,H)=>O.factory.sketch(Rk(L,O,B,H)))},O=>{const L=h.parts[O.name];k[O.name]=re(O.factory.sketch(Rk(h,O,L[Dk()]),L))},O=>{w[O.pname]=Ta(!1,(L,B,H)=>O.factory.sketch(Rk(L,O,B,H)))},O=>{w[O.pname]=Vl(!0,(L,B,H)=>{const K=L[O.name];return bt(K,Y=>O.factory.sketch(yr(O.defaults(L,Y,H),Y,O.overrides(L,Y))))})})}),{internals:re(w),externals:re(k)}})(0,a,c),Bk=(o,a,c)=>((d,h,b,w)=>{const k=En(w,(O,L)=>((B,H)=>{let K=!1;return{name:re(B),required:()=>H.fold((Y,se)=>Y,(Y,se)=>Y),used:()=>K,replace:()=>{if(K)throw new Error("Trying to use the same placeholder more than once: "+B);return K=!0,H}}})(L,O)),E=((O,L,B,H)=>Ko(B,K=>ui(O,L,K,H)))(d,h,b,k);return Cn(k,O=>{if(O.used()===!1&&O.required())throw new Error("Placeholder: "+O.name()+` was not found in components list
Namespace: `+d.getOr("none")+`
Components: `+JSON.stringify(h.components,null,2))}),E})(R.some(o),a,a.components,c),Ir=(o,a,c)=>{const d=a.partUids[c];return o.getSystem().getByUid(d).toOptional()},Zg=(o,a,c)=>Ir(o,a,c).getOrDie("Could not find part: "+c),pO=(o,a,c)=>{const d={},h=a.partUids,b=o.getSystem();return Zt(c,w=>{d[w]=re(b.getByUid(h[w]))}),d},Mk=(o,a)=>{const c=o.getSystem();return En(a.partUids,(d,h)=>re(c.getByUid(d)))},bO=o=>on(o.partUids),Pk=(o,a,c)=>{const d={},h=a.partUids,b=o.getSystem();return Zt(c,w=>{d[w]=re(b.getByUid(h[w]).getOrDie())}),d},vO=(o,a)=>{const c=hO(a);return ad(bt(c,d=>({key:d,value:o+"-"+d})))},Lk=o=>Ks("partUids","partUids",Lo(a=>vO(a.uid,o)),yl());var BM=Object.freeze({__proto__:null,generate:Ui,generateOne:Nk,schemas:gO,names:hO,substitutes:Ik,components:Bk,defaultUids:vO,defaultUidsSchema:Lk,getAllParts:Mk,getAllPartNames:bO,getPart:Ir,getPartOrDie:Zg,getParts:pO,getPartsOrDie:Pk});const yO=(o,a,c,d,h)=>{const b=((w,k)=>(w.length>0?[rc("parts",w)]:[]).concat([At("uid"),et("dom",{}),et("components",[]),mb("originalSpec"),et("debug.sketcher",{})]).concat(k))(d,h);return li(o+" [SpecSchema]",oa(b.concat(a)),c)},bx=(o,a,c,d,h)=>{const b=Fk(h),w=gO(c),k=Lk(c),E=yO(o,a,b,w,[k]),O=Ik(0,E,c);return d(E,Bk(o,E,O.internals()),b,O.externals())},Fk=o=>(a=>po(a,"uid"))(o)?o:{...o,uid:mc("uid")},MM=oa([At("name"),At("factory"),At("configFields"),et("apis",{}),et("extraApis",{})]),xO=oa([At("name"),At("factory"),At("configFields"),At("partFields"),et("apis",{}),et("extraApis",{})]),Qc=o=>{const a=li("Sketcher for "+o.name,MM,o),c=En(a.apis,w1),d=En(a.extraApis,(h,b)=>Fl(h,b));return{name:a.name,configFields:a.configFields,sketch:h=>((b,w,k,E)=>{const O=Fk(E);return k(yO(b,w,O,[],[]),O)})(a.name,a.configFields,a.factory,h),...c,...d}},xl=o=>{const a=li("Sketcher for "+o.name,xO,o),c=Ui(a.name,a.partFields),d=En(a.apis,w1),h=En(a.extraApis,(b,w)=>Fl(b,w));return{name:a.name,partFields:a.partFields,configFields:a.configFields,sketch:b=>bx(a.name,a.configFields,a.partFields,a.factory,b),parts:c,...d,...h}},K1=o=>Dc("input")(o)&&wo(o,"type")!=="radio"||Dc("textarea")(o);var wO=Object.freeze({__proto__:null,getCurrent:(o,a,c)=>a.find(o)});const PM=[At("find")],Vo=ga({fields:PM,name:"composing",apis:wO}),CO=["input","button","textarea","select"],_O=(o,a,c)=>{(a.disabled()?vx:Hk)(o,a)},zk=(o,a)=>a.useNative===!0&&Qe(CO,Ni(o.element)),SO=o=>{Jt(o.element,"disabled","disabled")},LM=o=>{fo(o.element,"disabled")},q1=o=>{Jt(o.element,"aria-disabled","true")},FM=o=>{Jt(o.element,"aria-disabled","false")},vx=(o,a,c)=>{a.disableClass.each(d=>{us(o.element,d)}),(zk(o,a)?SO:q1)(o),a.onDisabled(o)},Hk=(o,a,c)=>{a.disableClass.each(d=>{ps(o.element,d)}),(zk(o,a)?LM:FM)(o),a.onEnabled(o)},G1=(o,a)=>zk(o,a)?(c=>fs(c.element,"disabled"))(o):(c=>wo(c.element,"aria-disabled")==="true")(o);var zM=Object.freeze({__proto__:null,enable:Hk,disable:vx,isDisabled:G1,onLoad:_O,set:(o,a,c,d)=>{(d?vx:Hk)(o,a)}}),HM=Object.freeze({__proto__:null,exhibit:(o,a)=>Ns({classes:a.disabled()?a.disableClass.toArray():[]}),events:(o,a)=>eo([Dh(ol(),(c,d)=>G1(c,o)),nb(o,a,_O)])}),VM=[Lr("disabled",Ce),et("useNative",!0),Bo("disableClass"),Fo("onDisabled"),Fo("onEnabled")];const Kn=ga({fields:VM,name:"disabling",active:HM,apis:zM}),kO=(o,a,c,d)=>{const h=aa(o.element,"."+a.highlightClass);Zt(h,b=>{On(d,w=>Wo(w.element,b))||(ps(b,a.highlightClass),o.getSystem().getByDom(b).each(w=>{a.onDehighlight(o,w),go(w,ef())}))})},Vb=(o,a,c,d)=>{kO(o,a,0,[d]),Vk(o,a,c,d)||(us(d.element,a.highlightClass),a.onHighlight(o,d),go(d,Ey()))},Vk=(o,a,c,d)=>zi(d.element,a.highlightClass),EO=(o,a,c)=>Yr(o.element,"."+a.itemClass).bind(d=>o.getSystem().getByDom(d).toOptional()),AO=(o,a,c)=>{const d=aa(o.element,"."+a.itemClass);return(d.length>0?R.some(d[d.length-1]):R.none()).bind(h=>o.getSystem().getByDom(h).toOptional())},TO=(o,a,c,d)=>{const h=aa(o.element,"."+a.itemClass);return sr(h,b=>zi(b,a.highlightClass)).bind(b=>{const w=mm(b,d,0,h.length-1);return o.getSystem().getByDom(h[w]).toOptional()})},OO=(o,a,c)=>{const d=aa(o.element,"."+a.itemClass);return Pa(bt(d,h=>o.getSystem().getByDom(h).toOptional()))};var $M=Object.freeze({__proto__:null,dehighlightAll:(o,a,c)=>kO(o,a,0,[]),dehighlight:(o,a,c,d)=>{Vk(o,a,c,d)&&(ps(d.element,a.highlightClass),a.onDehighlight(o,d),go(d,ef()))},highlight:Vb,highlightFirst:(o,a,c)=>{EO(o,a).each(d=>{Vb(o,a,c,d)})},highlightLast:(o,a,c)=>{AO(o,a).each(d=>{Vb(o,a,c,d)})},highlightAt:(o,a,c,d)=>{((h,b,w,k)=>{const E=aa(h.element,"."+b.itemClass);return R.from(E[k]).fold(()=>_o.error(new Error("No element found with index "+k)),h.getSystem().getByDom)})(o,a,0,d).fold(h=>{throw h},h=>{Vb(o,a,c,h)})},highlightBy:(o,a,c,d)=>{const h=OO(o,a);J(h,d).each(b=>{Vb(o,a,c,b)})},isHighlighted:Vk,getHighlighted:(o,a,c)=>Yr(o.element,"."+a.highlightClass).bind(d=>o.getSystem().getByDom(d).toOptional()),getFirst:EO,getLast:AO,getPrevious:(o,a,c)=>TO(o,a,0,-1),getNext:(o,a,c)=>TO(o,a,0,1),getCandidates:OO}),DO=[At("highlightClass"),At("itemClass"),Fo("onHighlight"),Fo("onDehighlight")];const or=ga({fields:DO,name:"highlighting",apis:$M}),RO=[8],yd=[9],Am=[13],cC=[27],vc=[32],uC=[37],Y1=[38],yx=[39],X1=[40],UM=(o,a,c)=>{const d=Ke(o.slice(0,a)),h=Ke(o.slice(a+1));return J(d.concat(h),c)},WM=(o,a,c)=>{const d=Ke(o.slice(0,a));return J(d,c)},ZM=(o,a,c)=>{const d=o.slice(0,a),h=o.slice(a+1);return J(h.concat(d),c)},jM=(o,a,c)=>{const d=o.slice(a+1);return J(d,c)},Zo=o=>a=>{const c=a.raw;return Qe(o,c.which)},wf=o=>a=>oi(o,c=>c(a)),Tm=o=>o.raw.shiftKey===!0,KM=o=>o.raw.ctrlKey===!0,xx=$e(Tm),Go=(o,a)=>({matches:o,classification:a}),NO=(o,a,c)=>{a.exists(d=>c.exists(h=>Wo(h,d)))||Sn(o,i1(),{prevFocus:a,newFocus:c})},$k=()=>{const o=a=>Ms(a.element);return{get:o,set:(a,c)=>{const d=o(a);a.getSystem().triggerFocus(c,a.element);const h=o(a);NO(a,d,h)}}},qM=()=>{const o=a=>or.getHighlighted(a).map(c=>c.element);return{get:o,set:(a,c)=>{const d=o(a);a.getSystem().getByDom(c).fold(de,b=>{or.highlight(a,b)});const h=o(a);NO(a,d,h)}}};var $b;(function(o){o.OnFocusMode="onFocus",o.OnEnterOrSpaceMode="onEnterOrSpace",o.OnApiMode="onApi"})($b||($b={}));const Ub=(o,a,c,d,h)=>{const b=(k,E,O,L,B)=>{return(H=O(k,E,L,B),K=E.event,J(H,Y=>Y.matches(K)).map(Y=>Y.classification)).bind(Y=>Y(k,E,L,B));var H,K},w={schema:()=>o.concat([et("focusManager",$k()),_i("focusInside","onFocus",qd(k=>Qe(["onFocus","onEnterOrSpace","onApi"],k)?_o.value(k):_o.error("Invalid value for focusInside"))),Rr("handler",w),Rr("state",a),Rr("sendFocusIn",h)]),processKey:b,toEvents:(k,E)=>{const O=k.focusInside!==$b.OnFocusMode?R.none():h(k).map(B=>xt(ku(),(H,K)=>{B(H,k,E),K.stop()})),L=[xt(cs(),(B,H)=>{b(B,H,c,k,E).fold(()=>{((K,Y)=>{const se=Zo(vc.concat(Am))(Y.event);k.focusInside===$b.OnEnterOrSpaceMode&&se&&Yp(K,Y)&&h(k).each(ce=>{ce(K,k,E),Y.stop()})})(B,H)},K=>{H.stop()})}),xt(ac(),(B,H)=>{b(B,H,d,k,E).each(K=>{H.stop()})})];return eo(O.toArray().concat(L))}};return w},IO=o=>{const a=[Bo("onEscape"),Bo("onEnter"),et("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),et("firstTabstop",0),et("useTabstopAt",Re),Bo("visibilitySelector")].concat([o]),c=(L,B)=>{const H=L.visibilitySelector.bind(K=>Tu(B,K)).getOr(B);return ms(H)>0},d=(L,B)=>B.focusManager.get(L).bind(H=>Tu(H,B.selector)),h=(L,B,H)=>{((K,Y)=>{const se=aa(K.element,Y.selector),ce=ho(se,be=>c(Y,be));return R.from(ce[Y.firstTabstop])})(L,B).each(K=>{B.focusManager.set(L,K)})},b=(L,B,H,K)=>{const Y=aa(L.element,H.selector);return d(L,H).bind(se=>sr(Y,Ge(Wo,se)).bind(ce=>((be,ie,ae,me,ye)=>ye(ie,ae,_e=>((Fe,Xe)=>c(Fe,Xe)&&Fe.useTabstopAt(Xe))(me,_e)).fold(()=>me.cyclic?R.some(!0):R.none(),_e=>(me.focusManager.set(be,_e),R.some(!0))))(L,Y,ce,H,K)))},w=(L,B,H)=>{const K=H.cyclic?UM:WM;return b(L,0,H,K)},k=(L,B,H)=>{const K=H.cyclic?ZM:jM;return b(L,0,H,K)},E=re([Go(wf([Tm,Zo(yd)]),w),Go(Zo(yd),k),Go(wf([xx,Zo(Am)]),(L,B,H)=>H.onEnter.bind(K=>K(L,B)))]),O=re([Go(Zo(cC),(L,B,H)=>H.onEscape.bind(K=>K(L,B))),Go(Zo(yd),(L,B,H)=>d(L,H).filter(K=>!H.useTabstopAt(K)).bind(K=>((Y=>(se=>si(se))(Y).bind(Se).exists(se=>Wo(se,Y)))(K)?w:k)(L,B,H)))]);return Ub(a,uc.init,E,O,()=>R.some(h))};var GM=IO(Sa("cyclic",Ce)),YM=IO(Sa("cyclic",Re));const wx=(o,a,c)=>K1(c)&&Zo(vc)(a.event)?R.none():((d,h,b)=>(ns(d,b,ol()),R.some(!0)))(o,0,c),Wb=(o,a)=>R.some(!0),XM=[et("execute",wx),et("useSpace",!1),et("useEnter",!0),et("useControlEnter",!1),et("useDown",!1)],BO=(o,a,c)=>c.execute(o,a,o.element);var JM=Ub(XM,uc.init,(o,a,c,d)=>{const h=c.useSpace&&!K1(o.element)?vc:[],b=c.useEnter?Am:[],w=c.useDown?X1:[],k=h.concat(b).concat(w);return[Go(Zo(k),BO)].concat(c.useControlEnter?[Go(wf([KM,Zo(Am)]),BO)]:[])},(o,a,c,d)=>c.useSpace&&!K1(o.element)?[Go(Zo(vc),Wb)]:[],()=>R.none());const MO=()=>{const o=ir();return ma({readState:()=>o.get().map(a=>({numRows:String(a.numRows),numColumns:String(a.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(a,c)=>{o.set({numRows:a,numColumns:c})},getNumRows:()=>o.get().map(a=>a.numRows),getNumColumns:()=>o.get().map(a=>a.numColumns)})};var PO=Object.freeze({__proto__:null,flatgrid:MO,init:o=>o.state(o)});const LO=o=>(a,c,d,h)=>{const b=o(a.element);return FO(b,a,c,d,h)},Uk=(o,a)=>{const c=rx(o,a);return LO(c)},Wk=(o,a)=>{const c=rx(a,o);return LO(c)},Zk=o=>(a,c,d,h)=>FO(o,a,c,d,h),FO=(o,a,c,d,h)=>d.focusManager.get(a).bind(b=>o(a.element,b,d,h)).map(b=>(d.focusManager.set(a,b),!0)),jk=Zk,zO=Zk,dC=Zk,HO=o=>!(a=>a.offsetWidth<=0&&a.offsetHeight<=0)(o.dom),Kk=(o,a,c)=>{const d=aa(o,c);return((h,b)=>sr(h,w=>Wo(w,a)).map(w=>({index:w,candidates:h})))(ho(d,HO))},fC=(o,a)=>sr(o,c=>Wo(a,c)),VO=(o,a,c,d)=>d(Math.floor(a/c),a%c).bind(h=>{const b=h.row*c+h.column;return b>=0&&b<o.length?R.some(o[b]):R.none()}),$O=(o,a,c,d,h)=>VO(o,a,d,(b,w)=>{const k=b===c-1?o.length-b*d:d,E=mm(w,h,0,k-1);return R.some({row:b,column:E})}),UO=(o,a,c,d,h)=>VO(o,a,d,(b,w)=>{const k=mm(b,h,0,c-1),E=k===c-1?o.length-k*d:d,O=fc(w,0,E-1);return R.some({row:k,column:O})}),QM=[At("selector"),et("execute",wx),rl("onEscape"),et("captureTab",!1),Ww()],WO=(o,a,c)=>{Yr(o.element,a.selector).each(d=>{a.focusManager.set(o,d)})},Cx=o=>(a,c,d,h)=>Kk(a,c,d.selector).bind(b=>o(b.candidates,b.index,h.getNumRows().getOr(d.initSize.numRows),h.getNumColumns().getOr(d.initSize.numColumns))),qk=(o,a,c)=>c.captureTab?R.some(!0):R.none(),Gk=Cx((o,a,c,d)=>$O(o,a,c,d,-1)),Yk=Cx((o,a,c,d)=>$O(o,a,c,d,1)),eP=Cx((o,a,c,d)=>UO(o,a,c,d,-1)),tP=Cx((o,a,c,d)=>UO(o,a,c,d,1)),nP=re([Go(Zo(uC),Uk(Gk,Yk)),Go(Zo(yx),Wk(Gk,Yk)),Go(Zo(Y1),jk(eP)),Go(Zo(X1),zO(tP)),Go(wf([Tm,Zo(yd)]),qk),Go(wf([xx,Zo(yd)]),qk),Go(Zo(vc.concat(Am)),(o,a,c,d)=>((h,b)=>b.focusManager.get(h).bind(w=>Tu(w,b.selector)))(o,c).bind(h=>c.execute(o,a,h)))]),oP=re([Go(Zo(cC),(o,a,c)=>c.onEscape(o,a)),Go(Zo(vc),Wb)]);var rP=Ub(QM,MO,nP,oP,()=>R.some(WO));const qh=(o,a,c,d,h)=>{const b=(w,k,E)=>h(w,k,d,0,E.length-1,E[k],O=>{return L=E[O],Ni(L)==="button"&&wo(L,"disabled")==="disabled"?b(w,O,E):R.from(E[O]);var L});return Kk(o,c,a).bind(w=>{const k=w.index,E=w.candidates;return b(k,k,E)})},ZO=(o,a,c,d)=>qh(o,a,c,d,(h,b,w,k,E,O,L)=>{const B=fc(b+w,k,E);return B===h?R.from(O):L(B)}),mC=(o,a,c,d)=>qh(o,a,c,d,(h,b,w,k,E,O,L)=>{const B=mm(b,w,k,E);return B===h?R.none():L(B)}),sP=[At("selector"),et("getInitial",R.none),et("execute",wx),rl("onEscape"),et("executeOnMove",!1),et("allowVertical",!0),et("allowHorizontal",!0),et("cycles",!0)],Xk=(o,a,c)=>((d,h)=>h.focusManager.get(d).bind(b=>Tu(b,h.selector)))(o,c).bind(d=>c.execute(o,a,d)),jO=(o,a,c)=>{a.getInitial(o).orThunk(()=>Yr(o.element,a.selector)).each(d=>{a.focusManager.set(o,d)})},KO=(o,a,c)=>(c.cycles?mC:ZO)(o,c.selector,a,-1),qO=(o,a,c)=>(c.cycles?mC:ZO)(o,c.selector,a,1),Jk=o=>(a,c,d,h)=>o(a,c,d,h).bind(()=>d.executeOnMove?Xk(a,c,d):R.some(!0)),_x=re([Go(Zo(vc),Wb),Go(Zo(cC),(o,a,c)=>c.onEscape(o,a))]);var Sx=Ub(sP,uc.init,(o,a,c,d)=>{const h=[...c.allowHorizontal?uC:[]].concat(c.allowVertical?Y1:[]),b=[...c.allowHorizontal?yx:[]].concat(c.allowVertical?X1:[]);return[Go(Zo(h),Jk(Uk(KO,qO))),Go(Zo(b),Jk(Wk(KO,qO))),Go(Zo(Am),Xk),Go(Zo(vc),Xk)]},_x,()=>R.some(jO));const gC=(o,a,c)=>R.from(o[a]).bind(d=>R.from(d[c]).map(h=>({rowIndex:a,columnIndex:c,cell:h}))),hC=(o,a,c,d)=>{const h=o[a].length,b=mm(c,d,0,h-1);return gC(o,a,b)},GO=(o,a,c,d)=>{const h=mm(c,d,0,o.length-1),b=o[h].length,w=fc(a,0,b-1);return gC(o,h,w)},Qk=(o,a,c,d)=>{const h=o[a].length,b=fc(c+d,0,h-1);return gC(o,a,b)},eE=(o,a,c,d)=>{const h=fc(c+d,0,o.length-1),b=o[h].length,w=fc(a,0,b-1);return gC(o,h,w)},YO=[rc("selectors",[At("row"),At("cell")]),et("cycles",!0),et("previousSelector",R.none),et("execute",wx)],aP=(o,a,c)=>{a.previousSelector(o).orThunk(()=>{const d=a.selectors;return Yr(o.element,d.cell)}).each(d=>{a.focusManager.set(o,d)})},pC=(o,a)=>(c,d,h)=>{const b=h.cycles?o:a;return Tu(d,h.selectors.row).bind(w=>{const k=aa(w,h.selectors.cell);return fC(k,d).bind(E=>{const O=aa(c,h.selectors.row);return fC(O,w).bind(L=>{const B=((H,K)=>bt(H,Y=>aa(Y,K.selectors.cell)))(O,h);return b(B,L,E).map(H=>H.cell)})})})},XO=pC((o,a,c)=>hC(o,a,c,-1),(o,a,c)=>Qk(o,a,c,-1)),Zb=pC((o,a,c)=>hC(o,a,c,1),(o,a,c)=>Qk(o,a,c,1)),jb=pC((o,a,c)=>GO(o,c,a,-1),(o,a,c)=>eE(o,c,a,-1)),bC=pC((o,a,c)=>GO(o,c,a,1),(o,a,c)=>eE(o,c,a,1)),kx=re([Go(Zo(uC),Uk(XO,Zb)),Go(Zo(yx),Wk(XO,Zb)),Go(Zo(Y1),jk(jb)),Go(Zo(X1),zO(bC)),Go(Zo(vc.concat(Am)),(o,a,c)=>Ms(o.element).bind(d=>c.execute(o,a,d)))]),iP=re([Go(Zo(vc),Wb)]);var Gh=Ub(YO,uc.init,kx,iP,()=>R.some(aP));const Om=[At("selector"),et("execute",wx),et("moveOnTab",!1)],vC=(o,a,c)=>c.focusManager.get(o).bind(d=>c.execute(o,a,d)),JO=(o,a,c)=>{Yr(o.element,a.selector).each(d=>{a.focusManager.set(o,d)})},QO=(o,a,c)=>mC(o,c.selector,a,-1),tE=(o,a,c)=>mC(o,c.selector,a,1),Ex=re([Go(Zo(Y1),dC(QO)),Go(Zo(X1),dC(tE)),Go(wf([Tm,Zo(yd)]),(o,a,c,d)=>c.moveOnTab?dC(QO)(o,a,c,d):R.none()),Go(wf([xx,Zo(yd)]),(o,a,c,d)=>c.moveOnTab?dC(tE)(o,a,c,d):R.none()),Go(Zo(Am),vC),Go(Zo(vc),vC)]),Ax=re([Go(Zo(vc),Wb)]);var nE=Ub(Om,uc.init,Ex,Ax,()=>R.some(JO));const e5=[rl("onSpace"),rl("onEnter"),rl("onShiftEnter"),rl("onLeft"),rl("onRight"),rl("onTab"),rl("onShiftTab"),rl("onUp"),rl("onDown"),rl("onEscape"),et("stopSpaceKeyup",!1),Bo("focusIn")];var Tx=Ub(e5,uc.init,(o,a,c)=>[Go(Zo(vc),c.onSpace),Go(wf([xx,Zo(Am)]),c.onEnter),Go(wf([Tm,Zo(Am)]),c.onShiftEnter),Go(wf([Tm,Zo(yd)]),c.onShiftTab),Go(wf([xx,Zo(yd)]),c.onTab),Go(Zo(Y1),c.onUp),Go(Zo(X1),c.onDown),Go(Zo(uC),c.onLeft),Go(Zo(yx),c.onRight),Go(Zo(vc),c.onSpace)],(o,a,c)=>[...c.stopSpaceKeyup?[Go(Zo(vc),Wb)]:[],Go(Zo(cC),c.onEscape)],o=>o.focusIn);const yC=GM.schema(),lP=YM.schema(),oE=Sx.schema(),xC=rP.schema(),Ai=Gh.schema(),cP=JM.schema(),Dm=nE.schema(),t5=Tx.schema(),An=Vw({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:yC,cyclic:lP,flow:oE,flatgrid:xC,matrix:Ai,execution:cP,menu:Dm,special:t5}),name:"keying",active:{events:(o,a)=>o.handler.toEvents(o,a)},apis:{focusIn:(o,a,c)=>{a.sendFocusIn(a).fold(()=>{o.getSystem().triggerFocus(o.element,o.element)},d=>{d(o,a,c)})},setGridSize:(o,a,c,d,h)=>{(b=>io(b,"setGridSize"))(c)?c.setGridSize(d,h):console.error("Layout does not support setGridSize")}},state:PO}),Kb=(o,a)=>{ym(()=>{((c,d,h)=>{const b=c.components();(E=>{Zt(E.components(),O=>Ca(O.element)),qr(E.element),E.syncComponents()})(c);const w=h(d),k=le(b,w);Zt(k,E=>{Sm(E),c.getSystem().removeFromWorld(E)}),Zt(w,E=>{V1(E)?Wg(c,E):(c.getSystem().addToWorld(E),Wg(c,E),nn(c.element)&&km(E))}),c.syncComponents()})(o,a,()=>bt(a,o.getSystem().build))},o.element)},rE=(o,a)=>{ym(()=>{((c,d,h)=>{const b=c.components(),w=Ko(d,O=>$y(O).toArray());Zt(b,O=>{Qe(w,O)||$1(O)});const k=((O,L,B)=>jw(O,L,(H,K)=>jy(O,K,H,B)))(o.element,a,o.getSystem().buildOrPatch),E=le(b,k);Zt(E,O=>{V1(O)&&$1(O)}),Zt(k,O=>{V1(O)||zb(c,O)}),c.syncComponents()})(o,a)},o.element)},wC=(o,a,c,d)=>{$1(a);const h=jy(o.element,c,d,o.getSystem().buildOrPatch);zb(o,h),o.syncComponents()},sE=(o,a,c)=>{const d=o.getSystem().build(c);dx(o,d,a)},n5=(o,a,c,d)=>{$i(a),sE(o,(h,b)=>((w,k,E)=>{Kr(w,E).fold(()=>{vi(w,k)},O=>{ed(O,k)})})(h,b,c),d)},Ox=(o,a)=>o.components(),o5=(o,a,c,d,h)=>{const b=Ox(o);return R.from(b[d]).map(w=>(h.fold(()=>$i(w),k=>{(a.reuseDom?wC:n5)(o,w,d,k)}),w))};var aE=Object.freeze({__proto__:null,append:(o,a,c,d)=>{sE(o,vi,d)},prepend:(o,a,c,d)=>{sE(o,bg,d)},remove:(o,a,c,d)=>{const h=Ox(o);J(h,w=>Wo(d.element,w.element)).each($i)},replaceAt:o5,replaceBy:(o,a,c,d,h)=>{const b=Ox(o);return sr(b,d).bind(w=>o5(o,a,0,w,h))},set:(o,a,c,d)=>(a.reuseDom?rE:Kb)(o,d),contents:Ox});const zn=ga({fields:[Hs("reuseDom",!0)],name:"replacing",apis:aE}),uo=(o,a)=>{const c=((d,h)=>{const b=eo(h);return ga({fields:[At("enabled")],name:d,active:{events:re(b)}})})(o,a);return{key:o,value:{config:{},me:c,configAsRaw:re({}),initialConfig:{},state:uc}}},r5=(o,a)=>{a.ignore||(ki(o.element),a.onFocus(o))};var s5=Object.freeze({__proto__:null,focus:r5,blur:(o,a)=>{a.ignore||xb(o.element)},isFocused:o=>Fg(o.element)}),a5=Object.freeze({__proto__:null,exhibit:(o,a)=>{const c=a.ignore?{}:{attributes:{tabindex:"-1"}};return Ns(c)},events:o=>eo([xt(ku(),(a,c)=>{r5(a,o),c.stop()})].concat(o.stopMousedown?[xt(Tt(),(a,c)=>{c.event.prevent()})]:[]))}),i5=[Fo("onFocus"),et("stopMousedown",!1),et("ignore",!1)];const Zn=ga({fields:i5,name:"focusing",active:a5,apis:s5}),Dx=(o,a,c,d)=>{const h=c.get();c.set(d),((b,w,k)=>{w.toggleClass.each(E=>{k.get()?us(b.element,E):ps(b.element,E)})})(o,a,c),((b,w,k)=>{const E=w.aria;E.update(b,E,k.get())})(o,a,c),h!==d&&a.onToggled(o,d)},eu=(o,a,c)=>{Dx(o,a,c,!c.get())},qb=(o,a,c)=>{Dx(o,a,c,a.selected)};var l5=Object.freeze({__proto__:null,onLoad:qb,toggle:eu,isOn:(o,a,c)=>c.get(),on:(o,a,c)=>{Dx(o,a,c,!0)},off:(o,a,c)=>{Dx(o,a,c,!1)},set:Dx}),J1=Object.freeze({__proto__:null,exhibit:()=>Ns({}),events:(o,a)=>{const c=(d=o,h=a,b=eu,Zc(k=>{b(k,d,h)}));var d,h,b;const w=nb(o,a,qb);return eo(br([o.toggleOnExecute?[c]:[],[w]]))}});const Dl=(o,a,c)=>{Jt(o.element,"aria-expanded",c)};var yc=[et("selected",!1),Bo("toggleClass"),et("toggleOnExecute",!0),Fo("onToggled"),_i("aria",{mode:"none"},Xs("mode",{pressed:[et("syncWithExpanded",!1),Rr("update",(o,a,c)=>{Jt(o.element,"aria-pressed",c),a.syncWithExpanded&&Dl(o,0,c)})],checked:[Rr("update",(o,a,c)=>{Jt(o.element,"aria-checked",c)})],expanded:[Rr("update",Dl)],selected:[Rr("update",(o,a,c)=>{Jt(o.element,"aria-selected",c)})],none:[Rr("update",de)]}))];const Un=ga({fields:yc,name:"toggling",active:J1,apis:l5,state:{init:()=>{const o=Dn(!1);return{get:()=>o.get(),set:a=>o.set(a),clear:()=>o.set(!1),readState:()=>o.get()}}}}),Ru=()=>{const o=(a,c)=>{c.stop(),tf(a)};return[xt(Js(),o),xt(Yd(),o),lm(Z()),lm(Tt())]},Q1=o=>eo(br([o.map(a=>Zc((c,d)=>{a(c),d.stop()})).toArray(),Ru()])),tu="alloy.item-hover",Yh="alloy.item-focus",c5="alloy.item-toggled",u5=o=>{(Ms(o.element).isNone()||Zn.isFocused(o))&&(Zn.isFocused(o)||Zn.focus(o),Sn(o,tu,{item:o}))},d5=o=>{Sn(o,Yh,{item:o})},iE=re(tu),f5=re(Yh),CC=re(c5),m5=o=>o.role.fold(()=>o.toggling.map(a=>a.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),Oe),uP=[At("data"),At("components"),At("dom"),et("hasSubmenu",!1),Bo("toggling"),Bo("role"),jn("itemBehaviours",[Un,Zn,An,nt]),et("ignoreFocus",!1),et("domModification",{}),Rr("builder",o=>({dom:o.dom,domModification:{...o.domModification,attributes:{role:m5(o),...o.domModification.attributes,"aria-haspopup":o.hasSubmenu,...o.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:$n(o.itemBehaviours,[o.toggling.fold(Un.revoke,a=>Un.config(((c,d)=>({aria:{mode:d?"selected":"checked"},...Oo(c,(h,b)=>b!=="exclusive"),onToggled:(h,b)=>{G(c.onToggled)&&c.onToggled(h,b),((w,k)=>{Sn(w,c5,{item:w,state:k})})(h,b)}}))(a,o.role.exists(c=>c==="option")))),Zn.config({ignore:o.ignoreFocus,stopMousedown:o.ignoreFocus,onFocus:a=>{d5(a)}}),An.config({mode:"execution"}),nt.config({store:{mode:"memory",initialValue:o.data}}),uo("item-type-events",[...Ru(),xt(_n(),u5),xt(Qp(),Zn.focus)])]),components:o.components,eventOrder:o.eventOrder})),et("eventOrder",{})],dP=[At("dom"),At("components"),Rr("builder",o=>({dom:o.dom,components:o.components,events:eo([zw(Qp())])}))],lE=re("item-widget"),cE=re([ll({name:"widget",overrides:o=>({behaviours:Ft([nt.config({store:{mode:"manual",getValue:a=>o.data,setValue:de}})])})})]),g5=[At("uid"),At("data"),At("components"),At("dom"),et("autofocus",!1),et("ignoreFocus",!1),jn("widgetBehaviours",[nt,Zn,An]),et("domModification",{}),Lk(cE()),Rr("builder",o=>{const a=Ik(lE(),o,cE()),c=Bk(lE(),o,a.internals()),d=b=>Ir(b,o,"widget").map(w=>(An.focusIn(w),w)),h=(b,w)=>(K1(w.event.target)||o.autofocus&&w.setSource(b.element),R.none());return{dom:o.dom,components:c,domModification:o.domModification,events:eo([Zc((b,w)=>{d(b).each(k=>{w.stop()})}),xt(_n(),u5),xt(Qp(),(b,w)=>{o.autofocus?d(b):Zn.focus(b)})]),behaviours:$n(o.widgetBehaviours,[nt.config({store:{mode:"memory",initialValue:o.data}}),Zn.config({ignore:o.ignoreFocus,onFocus:b=>{d5(b)}}),An.config({mode:"special",focusIn:o.autofocus?b=>{d(b)}:hk(),onLeft:h,onRight:h,onEscape:(b,w)=>Zn.isFocused(b)||o.autofocus?(o.autofocus&&w.setSource(b.element),R.none()):(Zn.focus(b),R.some(!0))})])}})],h5=Xs("type",{widget:g5,item:uP,separator:dP}),uE=re([lC({factory:{sketch:o=>{const a=li("menu.spec item",h5,o);return a.builder(a)}},name:"items",unit:"item",defaults:(o,a)=>po(a,"uid")?a:{...a,uid:mc("item")},overrides:(o,a)=>({type:a.type,ignoreFocus:o.fakeFocus,domModification:{classes:[o.markers.item]}})})]),p5=re([ws("role"),At("value"),At("items"),At("dom"),At("components"),et("eventOrder",{}),mn("menuBehaviours",[or,nt,Vo,An]),_i("movement",{mode:"menu",moveOnTab:!0},Xs("mode",{grid:[Ww(),Rr("config",(o,a)=>({mode:"flatgrid",selector:"."+o.markers.item,initSize:{numColumns:a.initSize.numColumns,numRows:a.initSize.numRows},focusManager:o.focusManager}))],matrix:[Rr("config",(o,a)=>({mode:"matrix",selectors:{row:a.rowSelector,cell:"."+o.markers.item},previousSelector:a.previousSelector,focusManager:o.focusManager})),At("rowSelector"),et("previousSelector",R.none)],menu:[et("moveOnTab",!0),Rr("config",(o,a)=>({mode:"menu",selector:"."+o.markers.item,moveOnTab:a.moveOnTab,focusManager:o.focusManager}))]})),ka("markers",Ag()),et("fakeFocus",!1),et("focusManager",$k()),Fo("onHighlight"),Fo("onDehighlight"),et("showMenuRole",!0)]),b5=re("alloy.menu-focus"),Gb=xl({name:"Menu",configFields:p5(),partFields:uE(),factory:(o,a,c,d)=>({uid:o.uid,dom:o.dom,markers:o.markers,behaviours:co(o.menuBehaviours,[or.config({highlightClass:o.markers.selectedItem,itemClass:o.markers.item,onHighlight:o.onHighlight,onDehighlight:o.onDehighlight}),nt.config({store:{mode:"memory",initialValue:o.value}}),Vo.config({find:R.some}),An.config(o.movement.config(o,o.movement))]),events:eo([xt(f5(),(h,b)=>{const w=b.event;h.getSystem().getByDom(w.target).each(k=>{or.highlight(h,k),b.stop(),Sn(h,b5(),{menu:h,item:k})})}),xt(iE(),(h,b)=>{const w=b.event.item;or.highlight(h,w)}),xt(CC(),(h,b)=>{const{item:w,state:k}=b.event;k&&wo(w.element,"role")==="menuitemradio"&&((E,O)=>{const L=aa(E.element,'[role="menuitemradio"][aria-checked="true"]');Zt(L,B=>{Wo(B,O.element)||E.getSystem().getByDom(B).each(H=>{Un.off(H)})})})(h,w)})]),components:a,eventOrder:o.eventOrder,...o.showMenuRole?{domModification:{attributes:{role:o.role.getOr("menu")}}}:{}})}),v5=(o,a,c,d)=>cn(c,d).bind(h=>cn(o,h).bind(b=>{const w=v5(o,a,c,b);return R.some([b].concat(w))})).getOr([]),y5=o=>o.type==="prepared"?R.some(o.menu):R.none(),fP=()=>{const o=Dn({}),a=Dn({}),c=Dn({}),d=ir(),h=Dn({}),b=E=>w(E).bind(y5),w=E=>cn(a.get(),E),k=E=>cn(o.get(),E);return{setMenuBuilt:(E,O)=>{a.set({...a.get(),[E]:{type:"prepared",menu:O}})},setContents:(E,O,L,B)=>{d.set(E),o.set(L),a.set(O),h.set(B);const H=((K,Y)=>{const se={};Cn(K,(ae,me)=>{Zt(ae,ye=>{se[ye]=me})});const ce=Y,be=ao(Y,(ae,me)=>({k:ae,v:me})),ie=En(be,(ae,me)=>[me].concat(v5(se,ce,be,me)));return En(se,ae=>cn(ie,ae).getOr([ae]))})(B,L);c.set(H)},expand:E=>cn(o.get(),E).map(O=>{const L=cn(c.get(),E).getOr([]);return[O].concat(L)}),refresh:E=>cn(c.get(),E),collapse:E=>cn(c.get(),E).bind(O=>O.length>1?R.some(O.slice(1)):R.none()),lookupMenu:w,lookupItem:k,otherMenus:E=>{const O=h.get();return le(on(O),E)},getPrimary:()=>d.get().bind(b),getMenus:()=>a.get(),clear:()=>{o.set({}),a.set({}),c.set({}),d.clear()},isClear:()=>d.get().isNone(),getTriggeringPath:(E,O)=>{const L=ho(k(E).toArray(),B=>b(B).isSome());return cn(c.get(),E).bind(B=>{const H=Ke(L.concat(B));return(K=>{const Y=[];for(let se=0;se<K.length;se++){const ce=K[se];if(!ce.isSome())return R.none();Y.push(ce.getOrDie())}return R.some(Y)})(Ko(H,(K,Y)=>((se,ce,be)=>b(se).bind(ie=>(ae=>ur(o.get(),(me,ye)=>me===ae))(se).bind(ae=>ce(ae).map(me=>({triggeredMenu:ie,triggeringItem:me,triggeringPath:be})))))(K,O,H.slice(0,Y+1)).fold(()=>$r(d.get(),K)?[]:[R.none()],se=>[R.some(se)])))})}}},mP=y5,nu=fn("tiered-menu-item-highlight"),gP=fn("tiered-menu-item-dehighlight");var Wi;(function(o){o[o.HighlightMenuAndItem=0]="HighlightMenuAndItem",o[o.HighlightJustMenu=1]="HighlightJustMenu",o[o.HighlightNone=2]="HighlightNone"})(Wi||(Wi={}));const Yb=re("collapse-item"),jg=Qc({name:"TieredMenu",configFields:[ci("onExecute"),ci("onEscape"),Au("onOpenMenu"),Au("onOpenSubmenu"),Fo("onRepositionMenu"),Fo("onCollapseMenu"),et("highlightOnOpen",Wi.HighlightMenuAndItem),rc("data",[At("primary"),At("menus"),At("expansions")]),et("fakeFocus",!1),Fo("onHighlightItem"),Fo("onDehighlightItem"),Fo("onHover"),Tg(),At("dom"),et("navigateOnHover",!0),et("stayInDom",!1),mn("tmenuBehaviours",[An,or,Vo,zn]),et("eventOrder",{})],apis:{collapseMenu:(o,a)=>{o.collapseMenu(a)},highlightPrimary:(o,a)=>{o.highlightPrimary(a)},repositionMenus:(o,a)=>{o.repositionMenus(a)}},factory:(o,a)=>{const c=ir(),d=fP(),h=ae=>nt.getValue(ae).value,b=ae=>En(o.data.menus,(me,ye)=>Ko(me.items,_e=>_e.type==="separator"?[]:[_e.data.value])),w=or.highlight,k=(ae,me)=>{w(ae,me),or.getHighlighted(me).orThunk(()=>or.getFirst(me)).each(ye=>{o.fakeFocus?or.highlight(me,ye):ns(ae,ye.element,Qp())})},E=(ae,me)=>Pa(bt(me,ye=>ae.lookupMenu(ye).bind(_e=>_e.type==="prepared"?R.some(_e.menu):R.none()))),O=(ae,me,ye)=>{const _e=E(me,me.otherMenus(ye));Zt(_e,Fe=>{zl(Fe.element,[o.markers.backgroundMenu]),o.stayInDom||zn.remove(ae,Fe)})},L=(ae,me)=>{const ye=(_e=>c.get().getOrThunk(()=>{const Fe={},Xe=aa(_e.element,`.${o.markers.item}`),_t=ho(Xe,vt=>wo(vt,"aria-haspopup")==="true");return Zt(_t,vt=>{_e.getSystem().getByDom(vt).each(gt=>{const Bt=h(gt);Fe[Bt]=gt})}),c.set(Fe),Fe}))(ae);Cn(ye,(_e,Fe)=>{const Xe=Qe(me,Fe);Jt(_e.element,"aria-expanded",Xe)})},B=(ae,me,ye)=>R.from(ye[0]).bind(_e=>me.lookupMenu(_e).bind(Fe=>{if(Fe.type==="notbuilt")return R.none();{const Xe=Fe.menu,_t=E(me,ye.slice(1));return Zt(_t,vt=>{us(vt.element,o.markers.backgroundMenu)}),nn(Xe.element)||zn.append(ae,Hi(Xe)),zl(Xe.element,[o.markers.backgroundMenu]),k(ae,Xe),O(ae,me,ye),R.some(Xe)}}));let H;(function(ae){ae[ae.HighlightSubmenu=0]="HighlightSubmenu",ae[ae.HighlightParent=1]="HighlightParent"})(H||(H={}));const K=(ae,me,ye=H.HighlightSubmenu)=>{if(me.hasConfigured(Kn)&&Kn.isDisabled(me))return R.some(me);{const _e=h(me);return d.expand(_e).bind(Fe=>(L(ae,Fe),R.from(Fe[0]).bind(Xe=>d.lookupMenu(Xe).bind(_t=>{const vt=((gt,Bt,sn)=>{if(sn.type==="notbuilt"){const bn=gt.getSystem().build(sn.nbMenu());return d.setMenuBuilt(Bt,bn),bn}return sn.menu})(ae,Xe,_t);return nn(vt.element)||zn.append(ae,Hi(vt)),o.onOpenSubmenu(ae,me,vt,Ke(Fe)),ye===H.HighlightSubmenu?(or.highlightFirst(vt),B(ae,d,Fe)):(or.dehighlightAll(vt),R.some(me))}))))}},Y=(ae,me)=>{const ye=h(me);return d.collapse(ye).bind(_e=>(L(ae,_e),B(ae,d,_e).map(Fe=>(o.onCollapseMenu(ae,me,Fe),Fe))))},se=ae=>(me,ye)=>Tu(ye.getSource(),`.${o.markers.item}`).bind(_e=>me.getSystem().getByDom(_e).toOptional().bind(Fe=>ae(me,Fe).map(Re))),ce=eo([xt(b5(),(ae,me)=>{const ye=me.event.item;d.lookupItem(h(ye)).each(()=>{const _e=me.event.menu;or.highlight(ae,_e);const Fe=h(me.event.item);d.refresh(Fe).each(Xe=>O(ae,d,Xe))})}),Zc((ae,me)=>{const ye=me.event.target;ae.getSystem().getByDom(ye).each(_e=>{h(_e).indexOf("collapse-item")===0&&Y(ae,_e),K(ae,_e,H.HighlightSubmenu).fold(()=>{o.onExecute(ae,_e)},de)})}),Ur((ae,me)=>{(ye=>{const _e=((Xe,_t,vt)=>En(vt,(gt,Bt)=>{const sn=()=>Gb.sketch({...gt,value:Bt,markers:o.markers,fakeFocus:o.fakeFocus,onHighlight:(bn,In)=>{Sn(bn,nu,{menuComp:bn,itemComp:In})},onDehighlight:(bn,In)=>{Sn(bn,gP,{menuComp:bn,itemComp:In})},focusManager:o.fakeFocus?qM():$k()});return Bt===_t?{type:"prepared",menu:Xe.getSystem().build(sn())}:{type:"notbuilt",nbMenu:sn}}))(ye,o.data.primary,o.data.menus),Fe=b();return d.setContents(o.data.primary,_e,o.data.expansions,Fe),d.getPrimary()})(ae).each(ye=>{zn.append(ae,Hi(ye)),o.onOpenMenu(ae,ye),o.highlightOnOpen===Wi.HighlightMenuAndItem?k(ae,ye):o.highlightOnOpen===Wi.HighlightJustMenu&&w(ae,ye)})}),xt(nu,(ae,me)=>{o.onHighlightItem(ae,me.event.menuComp,me.event.itemComp)}),xt(gP,(ae,me)=>{o.onDehighlightItem(ae,me.event.menuComp,me.event.itemComp)}),...o.navigateOnHover?[xt(iE(),(ae,me)=>{const ye=me.event.item;((_e,Fe)=>{const Xe=h(Fe);d.refresh(Xe).bind(_t=>(L(_e,_t),B(_e,d,_t)))})(ae,ye),K(ae,ye,H.HighlightParent),o.onHover(ae,ye)})]:[]]),be=ae=>or.getHighlighted(ae).bind(or.getHighlighted),ie={collapseMenu:ae=>{be(ae).each(me=>{Y(ae,me)})},highlightPrimary:ae=>{d.getPrimary().each(me=>{k(ae,me)})},repositionMenus:ae=>{d.getPrimary().bind(ye=>be(ae).bind(_e=>{const Fe=h(_e),Xe=bi(d.getMenus()),_t=Pa(bt(Xe,mP));return d.getTriggeringPath(Fe,vt=>((gt,Bt,sn)=>It(Bt,bn=>{if(!bn.getSystem().isConnected())return R.none();const In=or.getCandidates(bn);return J(In,qn=>h(qn)===sn)}))(0,_t,vt))}).map(_e=>({primary:ye,triggeringPath:_e}))).fold(()=>{(ye=>R.from(ye.components()[0]).filter(_e=>wo(_e.element,"role")==="menu"))(ae).each(ye=>{o.onRepositionMenu(ae,ye,[])})},({primary:ye,triggeringPath:_e})=>{o.onRepositionMenu(ae,ye,_e)})}};return{uid:o.uid,dom:o.dom,markers:o.markers,behaviours:co(o.tmenuBehaviours,[An.config({mode:"special",onRight:se((ae,me)=>K1(me.element)?R.none():K(ae,me,H.HighlightSubmenu)),onLeft:se((ae,me)=>K1(me.element)?R.none():Y(ae,me)),onEscape:se((ae,me)=>Y(ae,me).orThunk(()=>o.onEscape(ae,me).map(()=>ae))),focusIn:(ae,me)=>{d.getPrimary().each(ye=>{ns(ae,ye.element,Qp())})}}),or.config({highlightClass:o.markers.selectedMenu,itemClass:o.markers.menu}),Vo.config({find:ae=>or.getHighlighted(ae)}),zn.config({})]),eventOrder:o.eventOrder,apis:ie,events:ce}},extraApis:{tieredData:(o,a,c)=>({primary:o,menus:a,expansions:c}),singleData:(o,a)=>({primary:o,menus:$c(o,a),expansions:{}}),collapseItem:o=>({value:fn(Yb()),meta:{text:o}})}}),os=Qc({name:"InlineView",configFields:[At("lazySink"),Fo("onShow"),Fo("onHide"),Vc("onEscape"),mn("inlineBehaviours",[T,nt,al]),gs("fireDismissalEventInstead",[et("event",Cg())]),gs("fireRepositionEventInstead",[et("event",Qd())]),et("getRelated",R.none),et("isExtraPart",Ce),et("eventOrder",R.none)],factory:(o,a)=>{const c=(w,k,E,O)=>{const L=o.lazySink(w).getOrDie();T.openWhileCloaked(w,k,()=>Ya.positionWithinBounds(L,w,E,O())),nt.setValue(w,R.some({mode:"position",config:E,getBounds:O}))},d=(w,k,E,O)=>{const L=((B,H,K,Y,se)=>{const ce=()=>B.lazySink(H),be=Y.type==="horizontal"?{layouts:{onLtr:()=>O1(),onRtl:()=>D1()}}:{},ie=ae=>(me=>me.length===2)(ae)?be:{};return jg.sketch({dom:{tag:"div"},data:Y.data,markers:Y.menu.markers,highlightOnOpen:Y.menu.highlightOnOpen,fakeFocus:Y.menu.fakeFocus,onEscape:()=>(T.close(H),B.onEscape.map(ae=>ae(H)),R.some(!0)),onExecute:()=>R.some(!0),onOpenMenu:(ae,me)=>{Ya.positionWithinBounds(ce().getOrDie(),me,K,se())},onOpenSubmenu:(ae,me,ye,_e)=>{const Fe=ce().getOrDie();Ya.position(Fe,ye,{anchor:{type:"submenu",item:me,...ie(_e)}})},onRepositionMenu:(ae,me,ye)=>{const _e=ce().getOrDie();Ya.positionWithinBounds(_e,me,K,se()),Zt(ye,Fe=>{const Xe=ie(Fe.triggeringPath);Ya.position(_e,Fe.triggeredMenu,{anchor:{type:"submenu",item:Fe.triggeringItem,...Xe}})})}})})(o,w,k,E,O);T.open(w,L),nt.setValue(w,R.some({mode:"menu",menu:L}))},h=w=>{T.isOpen(w)&&nt.getValue(w).each(k=>{switch(k.mode){case"menu":T.getState(w).each(jg.repositionMenus);break;case"position":const E=o.lazySink(w).getOrDie();Ya.positionWithinBounds(E,w,k.config,k.getBounds())}})},b={setContent:(w,k)=>{T.setContent(w,k)},showAt:(w,k,E)=>{const O=R.none;c(w,k,E,O)},showWithinBounds:c,showMenuAt:(w,k,E)=>{d(w,k,E,R.none)},showMenuWithinBounds:d,hide:w=>{T.isOpen(w)&&(nt.setValue(w,R.none()),T.close(w))},getContent:w=>T.getState(w),reposition:h,isOpen:T.isOpen};return{uid:o.uid,dom:o.dom,behaviours:co(o.inlineBehaviours,[T.config({isPartOf:(w,k,E)=>sl(k,E)||((O,L)=>o.getRelated(O).exists(B=>sl(B,L)))(w,E),getAttachPoint:w=>o.lazySink(w).getOrDie(),onOpen:w=>{o.onShow(w)},onClose:w=>{o.onHide(w)}}),nt.config({store:{mode:"memory",initialValue:R.none()}}),al.config({channels:{...ne({isExtraPart:a.isExtraPart,...o.fireDismissalEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({})}),...Te({...o.fireRepositionEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({}),doReposition:h})}})]),eventOrder:o.eventOrder,apis:b}},apis:{showAt:(o,a,c,d)=>{o.showAt(a,c,d)},showWithinBounds:(o,a,c,d,h)=>{o.showWithinBounds(a,c,d,h)},showMenuAt:(o,a,c,d)=>{o.showMenuAt(a,c,d)},showMenuWithinBounds:(o,a,c,d,h)=>{o.showMenuWithinBounds(a,c,d,h)},hide:(o,a)=>{o.hide(a)},isOpen:(o,a)=>o.isOpen(a),getContent:(o,a)=>o.getContent(a),setContent:(o,a,c)=>{o.setContent(a,c)},reposition:(o,a)=>{o.reposition(a)}}});var Nu,Rx,_C=tinymce.util.Tools.resolve("tinymce.util.Delay"),ev=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),x5=tinymce.util.Tools.resolve("tinymce.EditorManager"),Cf=tinymce.util.Tools.resolve("tinymce.Env");(function(o){o.default="wrap",o.floating="floating",o.sliding="sliding",o.scrolling="scrolling"})(Nu||(Nu={})),function(o){o.auto="auto",o.top="top",o.bottom="bottom"}(Rx||(Rx={}));const wr=o=>a=>a.options.get(o),Nx=o=>a=>R.from(o(a)),w5=o=>{const a=Cf.deviceType.isPhone(),c=Cf.deviceType.isTablet()||a,d=o.options.register,h=w=>p(w)||w===!1,b=w=>p(w)||Q(w);d("skin",{processor:w=>p(w)||w===!1,default:"oxide"}),d("skin_url",{processor:"string"}),d("height",{processor:b,default:Math.max(o.getElement().offsetHeight,400)}),d("width",{processor:b,default:ev.DOM.getStyle(o.getElement(),"width")}),d("min_height",{processor:"number",default:100}),d("min_width",{processor:"number"}),d("max_height",{processor:"number"}),d("max_width",{processor:"number"}),d("style_formats",{processor:"object[]"}),d("style_formats_merge",{processor:"boolean",default:!1}),d("style_formats_autohide",{processor:"boolean",default:!1}),d("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),d("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),d("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),d("font_size_input_default_unit",{processor:"string",default:"pt"}),d("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),d("content_langs",{processor:"object[]"}),d("removed_menuitems",{processor:"string",default:""}),d("menubar",{processor:w=>p(w)||D(w),default:!a}),d("menu",{processor:"object",default:{}}),d("toolbar",{processor:w=>D(w)||p(w)||P(w)?{value:w,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),nr(9,w=>{d("toolbar"+(w+1),{processor:"string"})}),d("toolbar_mode",{processor:"string",default:c?"scrolling":"floating"}),d("toolbar_groups",{processor:"object",default:{}}),d("toolbar_location",{processor:"string",default:Rx.auto}),d("toolbar_persist",{processor:"boolean",default:!1}),d("toolbar_sticky",{processor:"boolean",default:o.inline}),d("toolbar_sticky_offset",{processor:"number",default:0}),d("fixed_toolbar_container",{processor:"string",default:""}),d("fixed_toolbar_container_target",{processor:"object"}),d("ui_mode",{processor:"string",default:"combined"}),d("file_picker_callback",{processor:"function"}),d("file_picker_validator_handler",{processor:"function"}),d("file_picker_types",{processor:"string"}),d("typeahead_urls",{processor:"boolean",default:!0}),d("anchor_top",{processor:h,default:"#top"}),d("anchor_bottom",{processor:h,default:"#bottom"}),d("draggable_modal",{processor:"boolean",default:!1}),d("statusbar",{processor:"boolean",default:!0}),d("elementpath",{processor:"boolean",default:!0}),d("branding",{processor:"boolean",default:!0}),d("promotion",{processor:"boolean",default:!0}),d("resize",{processor:w=>w==="both"||D(w),default:!Cf.deviceType.isTouch()}),d("sidebar_show",{processor:"string"}),d("help_accessibility",{processor:"boolean",default:o.hasPlugin("help")}),d("default_font_stack",{processor:"string[]",default:[]})},dE=wr("readonly"),Ix=wr("height"),Bx=wr("width"),Mx=Nx(wr("min_width")),tv=Nx(wr("min_height")),nv=Nx(wr("max_width")),SC=Nx(wr("max_height")),ov=Nx(wr("style_formats")),kC=wr("style_formats_merge"),C5=wr("style_formats_autohide"),fE=wr("content_langs"),_5=wr("removed_menuitems"),Xb=wr("toolbar_mode"),EC=wr("toolbar_groups"),Xh=wr("toolbar_location"),mE=wr("fixed_toolbar_container"),hP=wr("fixed_toolbar_container_target"),S5=wr("toolbar_persist"),gE=wr("toolbar_sticky_offset"),Kg=wr("menubar"),rv=wr("toolbar"),AC=wr("file_picker_callback"),Px=wr("file_picker_validator_handler"),hE=wr("font_size_input_default_unit"),Lx=wr("file_picker_types"),TC=wr("typeahead_urls"),k5=wr("anchor_top"),E5=wr("anchor_bottom"),_f=wr("draggable_modal"),A5=wr("statusbar"),T5=wr("elementpath"),xc=wr("branding"),Xa=wr("resize"),O5=wr("paste_as_text"),OC=wr("sidebar_show"),D5=wr("promotion"),pE=wr("help_accessibility"),DC=wr("default_font_stack"),Jh=o=>o.options.get("skin")===!1,Fx=o=>o.options.get("menubar")!==!1,RC=o=>{const a=o.options.get("skin_url");if(Jh(o))return a;if(a)return o.documentBaseURI.toAbsolute(a);{const c=o.options.get("skin");return x5.baseURL+"/skins/ui/"+c}},NC=o=>R.from(o.options.get("skin_url")),R5=o=>o.options.get("line_height_formats").split(" "),zx=o=>{const a=rv(o),c=p(a),d=P(a)&&a.length>0;return!Hx(o)&&(d||c||a===!0)},IC=o=>{const a=nr(9,d=>o.options.get("toolbar"+(d+1))),c=ho(a,p);return Uo(c.length>0,c)},Hx=o=>IC(o).fold(()=>{const a=rv(o);return ve(a,p)&&a.length>0},Re),bE=o=>Xh(o)===Rx.bottom,vE=o=>{var a;if(!o.inline)return R.none();const c=(a=mE(o))!==null&&a!==void 0?a:"";if(c.length>0)return Yr(dn(),c);const d=hP(o);return $(d)?R.some(Qt(d)):R.none()},Jb=o=>o.inline&&vE(o).isSome(),BC=o=>vE(o).getOrThunk(()=>je(ot(Qt(o.getElement())))),MC=o=>o.inline&&!Fx(o)&&!zx(o)&&!Hx(o),qg=o=>(o.options.get("toolbar_sticky")||o.inline)&&!Jb(o)&&!MC(o),Gg=o=>!Jb(o)&&o.options.get("ui_mode")==="split",Qh=o=>{const a=o.options.get("menu");return En(a,c=>({...c,items:c.items}))};var Vx=Object.freeze({__proto__:null,get ToolbarMode(){return Nu},get ToolbarLocation(){return Rx},register:w5,getSkinUrl:RC,getSkinUrlOption:NC,isReadOnly:dE,isSkinDisabled:Jh,getHeightOption:Ix,getWidthOption:Bx,getMinWidthOption:Mx,getMinHeightOption:tv,getMaxWidthOption:nv,getMaxHeightOption:SC,getUserStyleFormats:ov,shouldMergeStyleFormats:kC,shouldAutoHideStyleFormats:C5,getLineHeightFormats:R5,getContentLanguages:fE,getRemovedMenuItems:_5,isMenubarEnabled:Fx,isMultipleToolbars:Hx,isToolbarEnabled:zx,isToolbarPersist:S5,getMultipleToolbarsOption:IC,getUiContainer:BC,useFixedContainer:Jb,isSplitUiMode:Gg,getToolbarMode:Xb,isDraggableModal:_f,isDistractionFree:MC,isStickyToolbar:qg,getStickyToolbarOffset:gE,getToolbarLocation:Xh,isToolbarLocationBottom:bE,getToolbarGroups:EC,getMenus:Qh,getMenubar:Kg,getToolbar:rv,getFilePickerCallback:AC,getFilePickerTypes:Lx,useTypeaheadUrls:TC,getAnchorTop:k5,getAnchorBottom:E5,getFilePickerValidatorHandler:Px,getFontSizeInputDefaultUnit:hE,useStatusBar:A5,useElementPath:T5,promotionEnabled:D5,useBranding:xc,getResize:Xa,getPasteAsText:O5,getSidebarShow:OC,useHelpAccessibility:pE,getDefaultFontStack:DC});const pP=["visible","hidden","clip"],N5=o=>ec(o).length>0&&!Qe(pP,o),I5=o=>{if(Ji(o)){const a=as(o,"overflow-x"),c=as(o,"overflow-y");return N5(a)||N5(c)}return!1},ep=(o,a)=>Gg(o)?((c,d)=>{const h=Uh(d,I5),b=h.length===0?Lt(d).map(Yt).map(w=>Uh(w,I5)).getOr([]):h;return $t(b).map(w=>({element:w,others:b.slice(1),isFullscreen:()=>(k=>k.plugins.fullscreen&&k.plugins.fullscreen.isFullscreen())(c)}))})(o,a):R.none(),tp=o=>{const a=[...bt(o.others,js),_a()];return o.isFullscreen()?_a():((c,d)=>Rn(d,(h,b)=>nd(h,b),c))(js(o.element),a)},Ti=Qc({name:"Button",factory:o=>{const a=Q1(o.action),c=o.dom.tag,d=h=>cn(o.dom,"attributes").bind(b=>cn(b,h));return{uid:o.uid,dom:o.dom,components:o.components,events:a,behaviours:$n(o.buttonBehaviours,[Zn.config({}),An.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:c==="button"?{type:d("type").getOr("button"),...d("role").map(h=>({role:h})).getOr({})}:{role:o.role.getOr(d("role").getOr("button"))}},eventOrder:o.eventOrder}},configFields:[et("uid",void 0),At("dom"),et("components",[]),jn("buttonBehaviours",[Zn,An]),Bo("action"),Bo("role"),et("eventOrder",{})]}),Rm=o=>{const a=El(o),c=vr(a),d=(w=>{const k=w.dom.attributes!==void 0?w.dom.attributes:[];return Rn(k,(E,O)=>O.name==="class"?E:{...E,[O.name]:O.value},{})})(a),h=(w=>Array.prototype.slice.call(w.dom.classList,0))(a),b=c.length===0?{}:{innerHtml:ud(a)};return{tag:Ni(a),classes:h,attributes:d,...b}},tr=o=>{const a=(c=>c.uid!==void 0)(o)&&io(o,"uid")?o.uid:mc("memento");return{get:c=>c.getSystem().getByUid(a).getOrDie(),getOpt:c=>c.getSystem().getByUid(a).toOptional(),asSpec:()=>({...o,uid:a})}};var bP=Object.freeze({__proto__:null,exhibit:(o,a)=>Ns({attributes:ad([{key:a.tabAttr,value:"true"}])})}),B5=[et("tabAttr","data-alloy-tabstop")];const Dr=ga({fields:B5,name:"tabstopping",active:bP}),yE=fn("tooltip.exclusive"),$x=fn("tooltip.show"),Ux=fn("tooltip.hide"),Wx=fn("tooltip.immediateHide"),Zx=fn("tooltip.immediateShow"),M5=(o,a,c)=>{o.getSystem().broadcastOn([yE],{})};var vP=Object.freeze({__proto__:null,hideAllExclusive:M5,immediateOpenClose:(o,a,c,d)=>go(o,d?Zx:Wx),isEnabled:(o,a,c)=>c.isEnabled(),setComponents:(o,a,c,d)=>{c.getTooltip().each(h=>{h.getSystem().isConnected()&&zn.set(h,d)})},setEnabled:(o,a,c,d)=>c.setEnabled(d)}),yP=Object.freeze({__proto__:null,events:(o,a)=>{const c=b=>{a.getTooltip().each(w=>{w.getSystem().isConnected()&&($i(w),o.onHide(b,w),a.clearTooltip())}),a.clearTimer()},d=b=>{if(!a.isShowing()&&a.isEnabled()){M5(b);const w=o.lazySink(b).getOrDie(),k=b.getSystem().build({dom:o.tooltipDom,components:o.tooltipComponents,events:eo(o.mode==="normal"?[xt(_n(),E=>{go(b,$x)}),xt(ro(),E=>{go(b,Ux)})]:[]),behaviours:Ft([zn.config({})])});a.setTooltip(k),bf(w,k),o.onShow(b,k),Ya.position(w,k,{anchor:o.anchor(b)})}},h=b=>{a.getTooltip().each(w=>{const k=o.lazySink(b).getOrDie();Ya.position(k,w,{anchor:o.anchor(b)})})};return eo(br([[l1(b=>{o.onSetup(b)}),xt($x,b=>{a.resetTimer(()=>{d(b)},o.delayForShow())}),xt(Ux,b=>{a.resetTimer(()=>{c(b)},o.delayForHide())}),xt(Zx,b=>{a.resetTimer(()=>{d(b)},0)}),xt(Wx,b=>{a.resetTimer(()=>{c(b)},0)}),xt(Ll(),(b,w)=>{const k=w;k.universal||Qe(k.channels,yE)&&c(b)}),Eu(b=>{c(b)})],(()=>{switch(o.mode){case"normal":return[xt(Jo(),b=>{go(b,Zx)}),xt(Ah(),b=>{go(b,Wx)}),xt(_n(),b=>{go(b,$x)}),xt(ro(),b=>{go(b,Ux)})];case"follow-highlight":return[xt(Ey(),(b,w)=>{go(b,$x)}),xt(ef(),b=>{go(b,Ux)})];case"children-normal":return[xt(Jo(),(b,w)=>{Ms(b.element).each(k=>{Rc(w.event.target,"[data-mce-tooltip]")&&a.getTooltip().fold(()=>{go(b,Zx)},E=>{a.isShowing()&&(o.onShow(b,E),h(b))})})}),xt(Ah(),b=>{Ms(b.element).fold(()=>{go(b,Wx)},de)}),xt(_n(),b=>{Yr(b.element,"[data-mce-tooltip]:hover").each(w=>{a.getTooltip().fold(()=>{go(b,$x)},k=>{a.isShowing()&&(o.onShow(b,k),h(b))})})}),xt(ro(),b=>{Yr(b.element,"[data-mce-tooltip]:hover").fold(()=>{go(b,Ux)},de)})];default:return[xt(Jo(),(b,w)=>{Ms(b.element).each(k=>{Rc(w.event.target,"[data-mce-tooltip]")&&a.getTooltip().fold(()=>{go(b,Zx)},E=>{a.isShowing()&&(o.onShow(b,E),h(b))})})}),xt(Ah(),b=>{Ms(b.element).fold(()=>{go(b,Wx)},de)})]}})()]))}}),xP=[At("lazySink"),At("tooltipDom"),et("exclusive",!0),et("tooltipComponents",[]),Lr("delayForShow",re(300)),Lr("delayForHide",re(300)),Lr("onSetup",de),sc("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),et("anchor",o=>({type:"hotspot",hotspot:o,layouts:{onLtr:re([Bs,ds,bs,Vs,vs,xr]),onRtl:re([Bs,ds,bs,Vs,vs,xr])},bubble:Hl(0,-2,{})})),Fo("onHide"),Fo("onShow")],wP=Object.freeze({__proto__:null,init:()=>{const o=Dn(!0),a=ir(),c=ir(),d=()=>{a.on(clearTimeout)},h=re("not-implemented");return ma({getTooltip:c.get,isShowing:c.isSet,setTooltip:c.set,clearTooltip:c.clear,clearTimer:d,resetTimer:(b,w)=>{d(),a.set(setTimeout(b,w))},readState:h,isEnabled:()=>o.get(),setEnabled:b=>o.set(b)})}});const Us=ga({fields:xP,name:"tooltipping",active:yP,state:wP,apis:vP}),{entries:P5,setPrototypeOf:xE,isFrozen:L5,getPrototypeOf:F5,getOwnPropertyDescriptor:CP}=Object;let{freeze:$l,seal:Sf,create:z5}=Object,{apply:wE,construct:CE}=typeof Reflect<"u"&&Reflect;wE||(wE=function(o,a,c){return o.apply(a,c)}),$l||($l=function(o){return o}),Sf||(Sf=function(o){return o}),CE||(CE=function(o,a){return new o(...a)});const _E=xd(Array.prototype.forEach),_P=xd(Array.prototype.pop),jx=xd(Array.prototype.push),PC=xd(String.prototype.toLowerCase),LC=xd(String.prototype.toString),SP=xd(String.prototype.match),rn=xd(String.prototype.replace),Qb=xd(String.prototype.indexOf),kP=xd(String.prototype.trim),ou=xd(RegExp.prototype.test),np=(FC=TypeError,function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return CE(FC,a)});var FC;function xd(o){return function(a){for(var c=arguments.length,d=new Array(c>1?c-1:0),h=1;h<c;h++)d[h-1]=arguments[h];return wE(o,a,d)}}function _r(o,a,c){var d;c=(d=c)!==null&&d!==void 0?d:PC,xE&&xE(o,null);let h=a.length;for(;h--;){let b=a[h];if(typeof b=="string"){const w=c(b);w!==b&&(L5(a)||(a[h]=w),b=w)}o[b]=!0}return o}function sv(o){const a=z5(null);for(const[c,d]of P5(o))a[c]=d;return a}function zC(o,a){for(;o!==null;){const c=CP(o,a);if(c){if(c.get)return xd(c.get);if(typeof c.value=="function")return xd(c.value)}o=F5(o)}return function(c){return console.warn("fallback value for",c),null}}const SE=$l(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Kx=$l(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),e0=$l(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),H5=$l(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),kE=$l(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),EP=$l(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),V5=$l(["#text"]),AP=$l(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),HC=$l(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),$5=$l(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),VC=$l(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),TP=Sf(/\{\{[\w\W]*|[\w\W]*\}\}/gm),OP=Sf(/<%[\w\W]*|[\w\W]*%>/gm),EE=Sf(/\${[\w\W]*}/gm),DP=Sf(/^data-[\-\w.\u00B7-\uFFFF]/),RP=Sf(/^aria-[\-\w]+$/),U5=Sf(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),NP=Sf(/^(?:\w+script|data):/i),IP=Sf(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Nm=Sf(/^html$/i);var qx=Object.freeze({__proto__:null,MUSTACHE_EXPR:TP,ERB_EXPR:OP,TMPLIT_EXPR:EE,DATA_ATTR:DP,ARIA_ATTR:RP,IS_ALLOWED_URI:U5,IS_SCRIPT_OR_DATA:NP,ATTR_WHITESPACE:IP,DOCTYPE_NAME:Nm});const BP=()=>typeof window>"u"?null:window;var MP=function o(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:BP();const c=at=>o(at);if(c.version="3.0.5",c.removed=[],!a||!a.document||a.document.nodeType!==9)return c.isSupported=!1,c;const d=a.document,h=d.currentScript;let{document:b}=a;const{DocumentFragment:w,HTMLTemplateElement:k,Node:E,Element:O,NodeFilter:L,NamedNodeMap:B=a.NamedNodeMap||a.MozNamedAttrMap,HTMLFormElement:H,DOMParser:K,trustedTypes:Y}=a,se=O.prototype,ce=zC(se,"cloneNode"),be=zC(se,"nextSibling"),ie=zC(se,"childNodes"),ae=zC(se,"parentNode");if(typeof k=="function"){const at=b.createElement("template");at.content&&at.content.ownerDocument&&(b=at.content.ownerDocument)}let me,ye="";const{implementation:_e,createNodeIterator:Fe,createDocumentFragment:Xe,getElementsByTagName:_t}=b,{importNode:vt}=d;let gt={};c.isSupported=typeof P5=="function"&&typeof ae=="function"&&_e&&_e.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Bt,ERB_EXPR:sn,TMPLIT_EXPR:bn,DATA_ATTR:In,ARIA_ATTR:qn,IS_SCRIPT_OR_DATA:So,ATTR_WHITESPACE:zr}=qx;let{IS_ALLOWED_URI:Xr}=qx,mo=null;const zo=_r({},[...SE,...Kx,...e0,...kE,...V5]);let Fn=null;const Jr=_r({},[...AP,...HC,...$5,...VC]);let Cr=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Oi=null,Di=null,Da=!0,ba=!0,lh=!1,Pv=!0,Sp=!1,ch=!1,tw=!1,kp=!1,Km=!1,T0=!1,O0=!1,Lv=!0,ES=!1,nw=!0,Ep=!1,qm={},uh=null;const ow=_r({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let rw=null;const Yo=_r({},["audio","video","img","source","image","track"]);let Gm=null;const Td=_r({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),D0="http://www.w3.org/1998/Math/MathML",AS="http://www.w3.org/2000/svg",dh="http://www.w3.org/1999/xhtml";let Fv=dh,yT=!1,TS=null;const Vz=_r({},[D0,AS,dh],LC);let zv;const $z=["application/xhtml+xml","text/html"];let dl,R0=null;const Uz=b.createElement("form"),pB=function(at){return at instanceof RegExp||at instanceof Function},OS=function(at){if(!R0||R0!==at){if(at&&typeof at=="object"||(at={}),at=sv(at),zv=zv=$z.indexOf(at.PARSER_MEDIA_TYPE)===-1?"text/html":at.PARSER_MEDIA_TYPE,dl=zv==="application/xhtml+xml"?LC:PC,mo="ALLOWED_TAGS"in at?_r({},at.ALLOWED_TAGS,dl):zo,Fn="ALLOWED_ATTR"in at?_r({},at.ALLOWED_ATTR,dl):Jr,TS="ALLOWED_NAMESPACES"in at?_r({},at.ALLOWED_NAMESPACES,LC):Vz,Gm="ADD_URI_SAFE_ATTR"in at?_r(sv(Td),at.ADD_URI_SAFE_ATTR,dl):Td,rw="ADD_DATA_URI_TAGS"in at?_r(sv(Yo),at.ADD_DATA_URI_TAGS,dl):Yo,uh="FORBID_CONTENTS"in at?_r({},at.FORBID_CONTENTS,dl):ow,Oi="FORBID_TAGS"in at?_r({},at.FORBID_TAGS,dl):{},Di="FORBID_ATTR"in at?_r({},at.FORBID_ATTR,dl):{},qm="USE_PROFILES"in at&&at.USE_PROFILES,Da=at.ALLOW_ARIA_ATTR!==!1,ba=at.ALLOW_DATA_ATTR!==!1,lh=at.ALLOW_UNKNOWN_PROTOCOLS||!1,Pv=at.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Sp=at.SAFE_FOR_TEMPLATES||!1,ch=at.WHOLE_DOCUMENT||!1,Km=at.RETURN_DOM||!1,T0=at.RETURN_DOM_FRAGMENT||!1,O0=at.RETURN_TRUSTED_TYPE||!1,kp=at.FORCE_BODY||!1,Lv=at.SANITIZE_DOM!==!1,ES=at.SANITIZE_NAMED_PROPS||!1,nw=at.KEEP_CONTENT!==!1,Ep=at.IN_PLACE||!1,Xr=at.ALLOWED_URI_REGEXP||U5,Fv=at.NAMESPACE||dh,Cr=at.CUSTOM_ELEMENT_HANDLING||{},at.CUSTOM_ELEMENT_HANDLING&&pB(at.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Cr.tagNameCheck=at.CUSTOM_ELEMENT_HANDLING.tagNameCheck),at.CUSTOM_ELEMENT_HANDLING&&pB(at.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Cr.attributeNameCheck=at.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),at.CUSTOM_ELEMENT_HANDLING&&typeof at.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Cr.allowCustomizedBuiltInElements=at.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Sp&&(ba=!1),T0&&(Km=!0),qm&&(mo=_r({},[...V5]),Fn=[],qm.html===!0&&(_r(mo,SE),_r(Fn,AP)),qm.svg===!0&&(_r(mo,Kx),_r(Fn,HC),_r(Fn,VC)),qm.svgFilters===!0&&(_r(mo,e0),_r(Fn,HC),_r(Fn,VC)),qm.mathMl===!0&&(_r(mo,kE),_r(Fn,$5),_r(Fn,VC))),at.ADD_TAGS&&(mo===zo&&(mo=sv(mo)),_r(mo,at.ADD_TAGS,dl)),at.ADD_ATTR&&(Fn===Jr&&(Fn=sv(Fn)),_r(Fn,at.ADD_ATTR,dl)),at.ADD_URI_SAFE_ATTR&&_r(Gm,at.ADD_URI_SAFE_ATTR,dl),at.FORBID_CONTENTS&&(uh===ow&&(uh=sv(uh)),_r(uh,at.FORBID_CONTENTS,dl)),nw&&(mo["#text"]=!0),ch&&_r(mo,["html","head","body"]),mo.table&&(_r(mo,["tbody"]),delete Oi.tbody),at.TRUSTED_TYPES_POLICY){if(typeof at.TRUSTED_TYPES_POLICY.createHTML!="function")throw np('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof at.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw np('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');me=at.TRUSTED_TYPES_POLICY,ye=me.createHTML("")}else me===void 0&&(me=function(Bn,to){if(typeof Bn!="object"||typeof Bn.createPolicy!="function")return null;let Hr=null;const Ps="data-tt-policy-suffix";to&&to.hasAttribute(Ps)&&(Hr=to.getAttribute(Ps));const qs="dompurify"+(Hr?"#"+Hr:"");try{return Bn.createPolicy(qs,{createHTML:Ws=>Ws,createScriptURL:Ws=>Ws})}catch{return console.warn("TrustedTypes policy "+qs+" could not be created."),null}}(Y,h)),me!==null&&typeof ye=="string"&&(ye=me.createHTML(""));$l&&$l(at),R0=at}},bB=_r({},["mi","mo","mn","ms","mtext"]),vB=_r({},["foreignobject","desc","title","annotation-xml"]),Jn=_r({},["title","style","font","a","script"]),Ap=_r({},Kx);_r(Ap,e0),_r(Ap,H5);const DS=_r({},kE);_r(DS,EP);const Tp=function(at){jx(c.removed,{element:at});try{at.parentNode.removeChild(at)}catch{at.remove()}},Hv=function(at,Bn){try{jx(c.removed,{attribute:Bn.getAttributeNode(at),from:Bn})}catch{jx(c.removed,{attribute:null,from:Bn})}if(Bn.removeAttribute(at),at==="is"&&!Fn[at])if(Km||T0)try{Tp(Bn)}catch{}else try{Bn.setAttribute(at,"")}catch{}},xT=function(at){let Bn,to;if(kp)at="<remove></remove>"+at;else{const qs=SP(at,/^[\r\n\t ]+/);to=qs&&qs[0]}zv==="application/xhtml+xml"&&Fv===dh&&(at='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+at+"</body></html>");const Hr=me?me.createHTML(at):at;if(Fv===dh)try{Bn=new K().parseFromString(Hr,zv)}catch{}if(!Bn||!Bn.documentElement){Bn=_e.createDocument(Fv,"template",null);try{Bn.documentElement.innerHTML=yT?ye:Hr}catch{}}const Ps=Bn.body||Bn.documentElement;return at&&to&&Ps.insertBefore(b.createTextNode(to),Ps.childNodes[0]||null),Fv===dh?_t.call(Bn,ch?"html":"body")[0]:ch?Bn.documentElement:Ps},wT=function(at){return Fe.call(at.ownerDocument||at,at,L.SHOW_ELEMENT|L.SHOW_COMMENT|L.SHOW_TEXT,null,!1)},CT=function(at){return typeof E=="object"?at instanceof E:at&&typeof at=="object"&&typeof at.nodeType=="number"&&typeof at.nodeName=="string"},Wu=function(at,Bn,to){gt[at]&&_E(gt[at],Hr=>{Hr.call(c,Bn,to,R0)})},yB=function(at){let Bn;if(Wu("beforeSanitizeElements",at,null),(to=at)instanceof H&&(typeof to.nodeName!="string"||typeof to.textContent!="string"||typeof to.removeChild!="function"||!(to.attributes instanceof B)||typeof to.removeAttribute!="function"||typeof to.setAttribute!="function"||typeof to.namespaceURI!="string"||typeof to.insertBefore!="function"||typeof to.hasChildNodes!="function"))return Tp(at),!0;var to;const Hr=dl(at.nodeName);if(Wu("uponSanitizeElement",at,{tagName:Hr,allowedTags:mo}),at.hasChildNodes()&&!CT(at.firstElementChild)&&(!CT(at.content)||!CT(at.content.firstElementChild))&&ou(/<[/\w]/g,at.innerHTML)&&ou(/<[/\w]/g,at.textContent))return Tp(at),!0;if(!mo[Hr]||Oi[Hr]){if(!Oi[Hr]&&xB(Hr)&&(Cr.tagNameCheck instanceof RegExp&&ou(Cr.tagNameCheck,Hr)||Cr.tagNameCheck instanceof Function&&Cr.tagNameCheck(Hr)))return!1;if(nw&&!uh[Hr]){const Ps=ae(at)||at.parentNode,qs=ie(at)||at.childNodes;if(qs&&Ps)for(let Ws=qs.length-1;Ws>=0;--Ws)Ps.insertBefore(ce(qs[Ws],!0),be(at))}return Tp(at),!0}return at instanceof O&&!function(Ps){let qs=ae(Ps);qs&&qs.tagName||(qs={namespaceURI:Fv,tagName:"template"});const Ws=PC(Ps.tagName),ia=PC(qs.tagName);return!!TS[Ps.namespaceURI]&&(Ps.namespaceURI===AS?qs.namespaceURI===dh?Ws==="svg":qs.namespaceURI===D0?Ws==="svg"&&(ia==="annotation-xml"||bB[ia]):!!Ap[Ws]:Ps.namespaceURI===D0?qs.namespaceURI===dh?Ws==="math":qs.namespaceURI===AS?Ws==="math"&&vB[ia]:!!DS[Ws]:Ps.namespaceURI===dh?!(qs.namespaceURI===AS&&!vB[ia])&&!(qs.namespaceURI===D0&&!bB[ia])&&!DS[Ws]&&(Jn[Ws]||!Ap[Ws]):!(zv!=="application/xhtml+xml"||!TS[Ps.namespaceURI]))}(at)?(Tp(at),!0):Hr!=="noscript"&&Hr!=="noembed"&&Hr!=="noframes"||!ou(/<\/no(script|embed|frames)/i,at.innerHTML)?(Sp&&at.nodeType===3&&(Bn=at.textContent,Bn=rn(Bn,Bt," "),Bn=rn(Bn,sn," "),Bn=rn(Bn,bn," "),at.textContent!==Bn&&(jx(c.removed,{element:at.cloneNode()}),at.textContent=Bn)),Wu("afterSanitizeElements",at,null),!1):(Tp(at),!0)},_T=function(at,Bn,to){if(Lv&&(Bn==="id"||Bn==="name")&&(to in b||to in Uz))return!1;if(!(ba&&!Di[Bn]&&ou(In,Bn))){if(!(Da&&ou(qn,Bn))){if(!Fn[Bn]||Di[Bn]){if(!(xB(at)&&(Cr.tagNameCheck instanceof RegExp&&ou(Cr.tagNameCheck,at)||Cr.tagNameCheck instanceof Function&&Cr.tagNameCheck(at))&&(Cr.attributeNameCheck instanceof RegExp&&ou(Cr.attributeNameCheck,Bn)||Cr.attributeNameCheck instanceof Function&&Cr.attributeNameCheck(Bn))||Bn==="is"&&Cr.allowCustomizedBuiltInElements&&(Cr.tagNameCheck instanceof RegExp&&ou(Cr.tagNameCheck,to)||Cr.tagNameCheck instanceof Function&&Cr.tagNameCheck(to))))return!1}else if(!Gm[Bn]){if(!ou(Xr,rn(to,zr,""))){if((Bn!=="src"&&Bn!=="xlink:href"&&Bn!=="href"||at==="script"||Qb(to,"data:")!==0||!rw[at])&&!(lh&&!ou(So,rn(to,zr,"")))){if(to)return!1}}}}}return!0},xB=function(at){return at.indexOf("-")>0},wB=function(at){let Bn,to,Hr,Ps;Wu("beforeSanitizeAttributes",at,null);const{attributes:qs}=at;if(!qs)return;const Ws={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Fn};for(Ps=qs.length;Ps--;){Bn=qs[Ps];const{name:ia,namespaceURI:Vv}=Bn;to=ia==="value"?Bn.value:kP(Bn.value);const Zz=to;if(Hr=dl(ia),Ws.attrName=Hr,Ws.attrValue=to,Ws.keepAttr=!0,Ws.forceKeepAttr=void 0,Wu("uponSanitizeAttribute",at,Ws),to=Ws.attrValue,Ws.forceKeepAttr)continue;if(!Ws.keepAttr){Hv(ia,at);continue}if(!Pv&&ou(/\/>/i,to)){Hv(ia,at);continue}Sp&&(to=rn(to,Bt," "),to=rn(to,sn," "),to=rn(to,bn," "));const CB=dl(at.nodeName);if(_T(CB,Hr,to)){if(!ES||Hr!=="id"&&Hr!=="name"||(Hv(ia,at),to="user-content-"+to),me&&typeof Y=="object"&&typeof Y.getAttributeType=="function"&&!Vv)switch(Y.getAttributeType(CB,Hr)){case"TrustedHTML":to=me.createHTML(to);break;case"TrustedScriptURL":to=me.createScriptURL(to)}if(to!==Zz)try{Vv?at.setAttributeNS(Vv,ia,to):at.setAttribute(ia,to)}catch{Hv(ia,at)}}else Hv(ia,at)}Wu("afterSanitizeAttributes",at,null)},Wz=function at(Bn){let to;const Hr=wT(Bn);for(Wu("beforeSanitizeShadowDOM",Bn,null);to=Hr.nextNode();)Wu("uponSanitizeShadowNode",to,null),yB(to)||(to.content instanceof w&&at(to.content),wB(to));Wu("afterSanitizeShadowDOM",Bn,null)};return c.sanitize=function(at){let Bn,to,Hr,Ps,qs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(yT=!at,yT&&(at="<!-->"),typeof at!="string"&&!CT(at)){if(typeof at.toString!="function")throw np("toString is not a function");if(typeof(at=at.toString())!="string")throw np("dirty is not a string, aborting")}if(!c.isSupported)return at;if(tw||OS(qs),c.removed=[],typeof at=="string"&&(Ep=!1),Ep){if(at.nodeName){const Vv=dl(at.nodeName);if(!mo[Vv]||Oi[Vv])throw np("root node is forbidden and cannot be sanitized in-place")}}else if(at instanceof E)Bn=xT("<!---->"),to=Bn.ownerDocument.importNode(at,!0),to.nodeType===1&&to.nodeName==="BODY"||to.nodeName==="HTML"?Bn=to:Bn.appendChild(to);else{if(!Km&&!Sp&&!ch&&at.indexOf("<")===-1)return me&&O0?me.createHTML(at):at;if(Bn=xT(at),!Bn)return Km?null:O0?ye:""}Bn&&kp&&Tp(Bn.firstChild);const Ws=wT(Ep?at:Bn);for(;Hr=Ws.nextNode();)yB(Hr)||(Hr.content instanceof w&&Wz(Hr.content),wB(Hr));if(Ep)return at;if(Km){if(T0)for(Ps=Xe.call(Bn.ownerDocument);Bn.firstChild;)Ps.appendChild(Bn.firstChild);else Ps=Bn;return(Fn.shadowroot||Fn.shadowrootmode)&&(Ps=vt.call(d,Ps,!0)),Ps}let ia=ch?Bn.outerHTML:Bn.innerHTML;return ch&&mo["!doctype"]&&Bn.ownerDocument&&Bn.ownerDocument.doctype&&Bn.ownerDocument.doctype.name&&ou(Nm,Bn.ownerDocument.doctype.name)&&(ia="<!DOCTYPE "+Bn.ownerDocument.doctype.name+`>
`+ia),Sp&&(ia=rn(ia,Bt," "),ia=rn(ia,sn," "),ia=rn(ia,bn," ")),me&&O0?me.createHTML(ia):ia},c.setConfig=function(at){OS(at),tw=!0},c.clearConfig=function(){R0=null,tw=!1},c.isValidAttribute=function(at,Bn,to){R0||OS({});const Hr=dl(at),Ps=dl(Bn);return _T(Hr,Ps,to)},c.addHook=function(at,Bn){typeof Bn=="function"&&(gt[at]=gt[at]||[],jx(gt[at],Bn))},c.removeHook=function(at){if(gt[at])return _P(gt[at])},c.removeHooks=function(at){gt[at]&&(gt[at]=[])},c.removeAllHooks=function(){gt={}},c}();const W5=o=>MP().sanitize(o);var Iu=tinymce.util.Tools.resolve("tinymce.util.I18n");const PP={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},Z5="temporary-placeholder",AE=o=>()=>cn(o,Z5).getOr("!not found!"),op=(o,a)=>{const c=o.toLowerCase();if(Iu.isRtl()){const d=((h,b)=>uu(h,b)?h:((w,k)=>w+k)(h,b))(c,"-rtl");return po(a,d)?d:c}return c},Gx=(o,a)=>cn(a,op(o,a)),j5=(o,a)=>{const c=a();return Gx(o,c).getOrThunk(AE(c))},$C=()=>uo("add-focusable",[Ur(o=>{E1(o.element,"svg").each(a=>Jt(a,"focusable","false"))})]),K5=(o,a,c,d)=>{var h,b;const w=(E=>!!Iu.isRtl()&&po(PP,E))(a)?["tox-icon--flip"]:[],k=cn(c,op(a,c)).or(d).getOrThunk(AE(c));return{dom:{tag:o.tag,attributes:(h=o.attributes)!==null&&h!==void 0?h:{},classes:o.classes.concat(w),innerHtml:k},behaviours:Ft([...(b=o.behaviours)!==null&&b!==void 0?b:[],$C()])}},wc=(o,a,c,d=R.none())=>K5(a,o,c(),d),LP={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},TE=Qc({name:"Notification",factory:o=>{const a=fn("notification-text"),c=tr({dom:Rm(`<p id=${a}>${W5(o.backstageProvider.translate(o.text))}</p>`),behaviours:Ft([zn.config({})])}),d=B=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${B}%`}}}),h=B=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${B}%`}}),b=tr({dom:{tag:"div",classes:o.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[d(0)]},h(0)],behaviours:Ft([zn.config({})])}),w={updateProgress:(B,H)=>{B.getSystem().isConnected()&&b.getOpt(B).each(K=>{zn.set(K,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[d(H)]},h(H)])})},updateText:(B,H)=>{if(B.getSystem().isConnected()){const K=c.get(B);zn.set(K,[Cs(H)])}}},k=br([o.icon.toArray(),o.level.toArray(),o.level.bind(B=>R.from(LP[B])).toArray()]),E=tr(Ti.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":o.backstageProvider.translate("Close")}},components:[wc("close",{tag:"span",classes:["tox-icon"]},o.iconProvider)],buttonBehaviours:Ft([Dr.config({}),Us.config({...o.backstageProvider.tooltips.getConfig({tooltipText:o.backstageProvider.translate("Close")})})]),action:B=>{o.onAction(B)}})),O=((B,H,K)=>{const Y=K(),se=J(B,ce=>po(Y,op(ce,Y)));return K5({tag:"div",classes:["tox-notification__icon"]},se.getOr(Z5),Y,R.none())})(k,0,o.iconProvider),L=[O,{dom:{tag:"div",classes:["tox-notification__body"]},components:[c.asSpec()],behaviours:Ft([zn.config({})])}];return{uid:o.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":a},classes:o.level.map(B=>["tox-notification","tox-notification--in",`tox-notification--${B}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:Ft([Dr.config({}),Zn.config({}),An.config({mode:"special",onEscape:B=>(o.onAction(B),R.some(!0))})]),components:L.concat(o.progress?[b.asSpec()]:[]).concat([E.asSpec()]),apis:w}},configFields:[Bo("level"),At("progress"),Bo("icon"),At("onAction"),At("text"),At("iconProvider"),At("backstageProvider")],apis:{updateProgress:(o,a,c)=>{o.updateProgress(a,c)},updateText:(o,a,c)=>{o.updateText(a,c)}}});var q5=(o,a,c,d)=>{const h=a.backstage.shared,b=()=>Qt(o.queryCommandValue("ToggleView")===""?o.getContentAreaContainer():o.getContainer()),w=()=>{const E=js(b());return R.some(E)},k=E=>{w().each(O=>{Zt(E,L=>{er(L.element,"width"),ua(L.element)>O.width&&Xn(L.element,"width",O.width+"px")})})};return{open:(E,O,L)=>{const B=()=>{d.on(Y=>{O();const se=L();(ce=>{zn.remove(ce,H),K()})(Y),((ce,be)=>{vr(ce.element).length===0?((ie,ae)=>{os.hide(ie),d.clear(),ae&&o.focus()})(ce,be):((ie,ae)=>{ae&&An.focusIn(ie)})(ce,be)})(Y,se)})},H=Aa(TE.sketch({text:E.text,level:Qe(["success","error","warning","warn","info"],E.type)?E.type:void 0,progress:E.progressBar===!0,icon:E.icon,onAction:B,iconProvider:h.providers.icons,backstageProvider:h.providers}));if(d.isSet()){const Y=Hi(H);d.on(se=>{zn.append(se,Y),os.reposition(se),Gr.refresh(se),k(se.components())})}else{const Y=Aa(os.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:h.getSink,fireDismissalEventInstead:{},...h.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Ft([An.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),zn.config({}),...qg(o)&&!h.header.isPositionedAtTop()?[]:[Gr.config({contextual:{lazyContext:()=>R.some(js(b())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:ie=>ep(o,ie.element).map(ae=>({bounds:tp(ae),optScrollEnv:R.some({currentScrollTop:ae.element.dom.scrollTop,scrollElmTop:bl(ae.element).top})})).getOrThunk(()=>({bounds:_a(),optScrollEnv:R.none()}))})]])})),se=Hi(H),ce={maxHeightFunction:zg()},be={...h.anchors.banner(),overrides:ce};d.set(Y),c.add(Y),os.showWithinBounds(Y,se,{anchor:be},w)}Q(E.timeout)&&E.timeout>0&&_C.setEditorTimeout(o,()=>{B()},E.timeout);const K=()=>{d.on(Y=>{os.reposition(Y),Gr.refresh(Y),k(Y.components())})};return{close:B,reposition:K,text:Y=>{TE.updateText(H,Y)},settings:E,getEl:()=>H.element.dom,progressBar:{value:Y=>{TE.updateProgress(H,Y)}}}},close:E=>{E.close()},getArgs:E=>E.settings}},Yx;(function(o){o[o.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",o[o.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(Yx||(Yx={}));var kf=Yx;const UC="tox-menu-nav__js",WC="tox-collection__item",G5="tox-swatch",Y5={normal:UC,color:G5},X5="tox-collection__item--enabled",J5="tox-collection__item-icon",Xx="tox-collection__item-label",OE="tox-collection__item-caret",Im="tox-collection__item--active",Jx="tox-collection__item-container",Qx="tox-collection__item-container--row",rp=o=>cn(Y5,o).getOr(UC),c$=o=>o==="color"?"tox-swatches":"tox-menu",DE=o=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:c$(o),tieredMenu:"tox-tiered-menu"}),t0=o=>{const a=DE(o);return{backgroundMenu:a.backgroundMenu,selectedMenu:a.selectedMenu,menu:a.menu,selectedItem:a.selectedItem,item:rp(o)}},Q5=(o,a,c)=>{const d=DE(c);return{tag:"div",classes:br([[d.menu,`tox-menu-${a}-column`],o?[d.hasIcons]:[]])}},eD=[Gb.parts.items({})],ZC=(o,a,c)=>{const d=DE(c);return{dom:{tag:"div",classes:br([[d.tieredMenu]])},markers:t0(c)}},FP=re([Bo("data"),et("inputAttributes",{}),et("inputStyles",{}),et("tag","input"),et("inputClasses",[]),Fo("onSetValue"),et("styles",{}),et("eventOrder",{}),mn("inputBehaviours",[nt,Zn]),et("selectOnFocus",!0)]),zP=o=>Ft([Zn.config({onFocus:o.selectOnFocus?a=>{const c=a.element,d=sf(c);c.dom.setSelectionRange(0,d.length)}:de})]),HP=o=>({...zP(o),...co(o.inputBehaviours,[nt.config({store:{mode:"manual",...o.data.map(a=>({initialValue:a})).getOr({}),getValue:a=>sf(a.element),setValue:(a,c)=>{sf(a.element)!==c&&gm(a.element,c)}},onSetValue:o.onSetValue})])}),tD=o=>({tag:o.tag,attributes:{type:"text",...o.inputAttributes},styles:o.inputStyles,classes:o.inputClasses}),Yg=Qc({name:"Input",configFields:FP(),factory:(o,a)=>({uid:o.uid,dom:tD(o),components:[],behaviours:HP(o),eventOrder:o.eventOrder})}),nD=fn("refetch-trigger-event"),oD=fn("redirect-menu-item-interaction"),rD="tox-menu__searcher",e2=o=>Yr(o.element,`.${rD}`).bind(a=>o.getSystem().getByDom(a).toOptional()),sD=e2,aD=o=>({fetchPattern:nt.getValue(o),selectionStart:o.element.dom.selectionStart,selectionEnd:o.element.dom.selectionEnd}),iD=o=>{const a=(h,b)=>(b.cut(),R.none()),c=(h,b)=>{const w={interactionEvent:b.event,eventType:b.event.raw.type};return Sn(h,oD,w),R.some(!0)},d="searcher-events";return{dom:{tag:"div",classes:[WC]},components:[Yg.sketch({inputClasses:[rD,"tox-textfield"],inputAttributes:{...o.placeholder.map(h=>({placeholder:o.i18n(h)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Ft([uo(d,[xt(am(),h=>{go(h,nD)}),xt(cs(),(h,b)=>{b.event.raw.key==="Escape"&&b.stop()})]),An.config({mode:"special",onLeft:a,onRight:a,onSpace:a,onEnter:c,onEscape:c,onUp:c,onDown:c})]),eventOrder:{keydown:[d,An.name()]}})]}},t2="tox-collection--results__js",lD=o=>{var a;return o.dom?{...o,dom:{...o.dom,attributes:{...(a=o.dom.attributes)!==null&&a!==void 0?a:{},id:fn("aria-item-search-result-id"),"aria-selected":"false"}}}:o},jC=(o,a)=>c=>{const d=pt(c,a);return bt(d,h=>({dom:o,components:h}))},cD=(o,a)=>{const c=[];let d=[];return Zt(o,(h,b)=>{a(h,b)?(d.length>0&&c.push(d),d=[],(po(h.dom,"innerHtml")||h.components&&h.components.length>0)&&d.push(h)):d.push(h)}),d.length>0&&c.push(d),bt(c,h=>({dom:{tag:"div",classes:["tox-collection__group"]},components:h}))},n2=(o,a,c)=>Gb.parts.items({preprocess:d=>{const h=bt(d,c);return o!=="auto"&&o>1?jC({tag:"div",classes:["tox-collection__group"]},o)(h):cD(h,(b,w)=>a[w].type==="separator")}}),RE=(o,a,c=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(o===1?["tox-collection--list"]:["tox-collection--grid"])},components:[n2(o,a,Oe)]}),o2=o=>On(o,a=>"icon"in a&&a.icon!==void 0),Bm=o=>(console.error(Li(o)),console.log(o),R.none()),VP=(o,a,c,d,h)=>{const b=(w=c,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Gb.parts.items({preprocess:k=>cD(k,(E,O)=>w[O].type==="separator")})]});var w;return{value:o,dom:b.dom,components:b.components,items:c}},NE=(o,a,c,d,h)=>{if(h.menuType==="color"){const b=(w=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Gb.parts.items({preprocess:w!=="auto"?jC({tag:"div",classes:["tox-swatches__row"]},w):Oe})]}]}))(d);return{value:o,dom:b.dom,components:b.components,items:c}}if(h.menuType==="normal"&&d==="auto"){const b=RE(d,c);return{value:o,dom:b.dom,components:b.components,items:c}}if(h.menuType==="normal"||h.menuType==="searchable"){const b=h.menuType!=="searchable"?RE(d,c):h.searchMode.searchMode==="search-with-field"?((w,k,E)=>{const O=fn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(w===1?["tox-collection--list"]:["tox-collection--grid"])},components:[iD({i18n:Iu.translate,placeholder:E.placeholder}),{dom:{tag:"div",classes:[...w===1?["tox-collection--list"]:["tox-collection--grid"],t2],attributes:{id:O}},components:[n2(w,k,lD)]}]}})(d,c,h.searchMode):((w,k,E=!0)=>{const O=fn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",t2].concat(w===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:O}},components:[n2(w,k,lD)]}})(d,c);return{value:o,dom:b.dom,components:b.components,items:c}}if(h.menuType==="listpreview"&&d!=="auto"){const b=(w=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Gb.parts.items({preprocess:jC({tag:"div",classes:["tox-collection__group"]},w)})]}))(d);return{value:o,dom:b.dom,components:b.components,items:c}}return{value:o,dom:Q5(a,d,h.menuType),components:eD,items:c}},ea=ls("type"),IE=ls("name"),BE=ls("label"),Bu=ls("text"),ME=ls("title"),PE=ls("icon"),n0=ls("value"),$P=Ci("fetch"),uD=Ci("getSubmenuItems"),av=Ci("onAction"),dD=Ci("onItemAction"),sp=Lr("onSetup",()=>de),UP=ws("name"),ap=ws("text"),WP=ws("role"),Mu=ws("icon"),r2=ws("tooltip"),LE=ws("label"),iv=ws("shortcut"),FE=Vc("select"),KC=Hs("active",!1),u$=Hs("borderless",!1),Pu=Hs("enabled",!0),qC=Hs("primary",!1),fD=o=>et("columns",o),Cc=et("meta",{}),zE=Lr("onAction",de),o0=o=>Al("type",o),HE=o=>Ks("name","name",vg(()=>fn(`${o}-name`)),ra),mD=Pn([ea,ap]),ZP=Pn([o0("autocompleteitem"),KC,Pu,Cc,n0,ap,Mu]),Mm=[Pu,r2,Mu,ap,sp],VE=Pn([ea,av,iv].concat(Mm)),gD=o=>is("toolbarbutton",VE,o),s2=[KC].concat(Mm),GC=Pn(s2.concat([ea,av,iv])),YC=o=>is("ToggleButton",GC,o),hD=[Lr("predicate",Ce),sc("scope","node",["node","editor"]),sc("position","selection",["node","selection","line"])],jP=Mm.concat([o0("contextformbutton"),qC,av,Sa("original",Oe)]),KP=s2.concat([o0("contextformbutton"),qC,av,Sa("original",Oe)]),qP=Mm.concat([o0("contextformbutton")]),GP=s2.concat([o0("contextformtogglebutton")]),YP=Xs("type",{contextformbutton:jP,contextformtogglebutton:KP}),XP=Pn([o0("contextform"),Lr("initValue",re("")),LE,Fi("commands",YP),Os("launch",Xs("type",{contextformbutton:qP,contextformtogglebutton:GP}))].concat(hD)),pD=Pn([o0("contexttoolbar"),ls("items")].concat(hD)),XC=[ea,ls("src"),ws("alt"),fr("classes",[],ra)],JP=Pn(XC),QP=[ea,Bu,UP,fr("classes",["tox-collection__item-label"],ra)],e7=Pn(QP),bD=tm(()=>Cu("type",{cardimage:JP,cardtext:e7,cardcontainer:lv})),lv=Pn([ea,Al("direction","horizontal"),Al("align","left"),Al("valign","middle"),Fi("items",bD)]),r0=[Pu,ap,WP,iv,Ks("value","value",vg(()=>fn("menuitem-value")),yl()),Cc],t7=Pn([ea,LE,Fi("items",bD),sp,zE].concat(r0)),$E=Pn([ea,KC,Mu].concat(r0)),vD=[ea,ls("fancytype"),zE],yD=[et("initData",{})].concat(vD),xD=[Vc("select"),Si("initData",{},[Hs("allowCustomColors",!0),Al("storageKey","default"),s1("colors",yl())])].concat(vD),wD=Xs("fancytype",{inserttable:yD,colorswatch:xD}),CD=Pn([ea,sp,zE,Mu].concat(r0)),_D=Pn([ea,uD,sp,Mu].concat(r0)),n7=Pn([ea,Mu,KC,sp,av].concat(r0)),UE=(o,a,c)=>{const d=aa(o.element,"."+c);if(d.length>0){const h=sr(d,b=>{const w=b.dom.getBoundingClientRect().top,k=d[0].dom.getBoundingClientRect().top;return Math.abs(w-k)>a}).getOr(d.length);return R.some({numColumns:h,numRows:Math.ceil(d.length/h)})}return R.none()},a2=o=>((a,c)=>Ft([uo(a,c)]))(fn("unnamed-events"),o),JC="silver.readonly",o7=Pn([ka("readonly",Pl)]),s0=(o,a)=>{const c=o.mainUi.outerContainer.element,d=[o.mainUi.mothership,...o.uiMotherships];a&&Zt(d,h=>{h.broadcastOn([M()],{target:c})}),Zt(d,h=>{h.broadcastOn([JC],{readonly:a})})},SD=(o,a)=>{o.on("init",()=>{o.mode.isReadOnly()&&s0(a,!0)}),o.on("SwitchMode",()=>s0(a,o.mode.isReadOnly())),dE(o)&&o.mode.set("readonly")},ha=()=>al.config({channels:{[JC]:{schema:o7,onReceive:(o,a)=>{Kn.set(o,a.readonly)}}}}),fi=o=>Kn.config({disabled:o}),kD=o=>Kn.config({disabled:o,disableClass:"tox-tbtn--disabled"}),QC=o=>Kn.config({disabled:o,disableClass:"tox-tbtn--disabled",useNative:!1}),i2=(o,a)=>{const c=o.getApi(a);return d=>{d(c)}},ip=(o,a)=>Ur(c=>{i2(o,c)(d=>{const h=o.onSetup(d);G(h)&&a.set(h)})}),Xg=(o,a)=>Eu(c=>i2(o,c)(a.get())),ED=(o,a)=>Zc((c,d)=>{i2(o,c)(o.onAction),o.triggersSubmenu||a!==kf.CLOSE_ON_EXECUTE||(c.getSystem().isConnected()&&go(c,eb()),d.stop())}),r7={[ol()]:["disabling","alloy.base.behaviour","toggling","item-events"]},cv=Pa,uv=(o,a,c,d)=>{const h=Dn(de);return{type:"item",dom:a.dom,components:cv(a.optComponents),data:o.data,eventOrder:r7,hasSubmenu:o.triggersSubmenu,itemBehaviours:Ft([uo("item-events",[ED(o,c),ip(o,h),Xg(o,h)]),(b=()=>!o.enabled||d.isDisabled(),Kn.config({disabled:b,disableClass:"tox-collection__item--state-disabled"})),ha(),zn.config({})].concat(o.itemBehaviours))};var b},dv=o=>({value:o.value,meta:{text:o.text.getOr(""),...o.meta}}),e_=o=>{const a=Cf.os.isMacOS()||Cf.os.isiOS(),c=a?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},d=o.split("+"),h=bt(d,b=>{const w=b.toLowerCase().trim();return po(c,w)?c[w]:b});return a?h.join(""):h.join("+")},WE=(o,a,c=[J5])=>wc(o,{tag:"div",classes:c},a),AD=o=>({dom:{tag:"div",classes:[Xx]},components:[Cs(Iu.translate(o))]}),ZE=(o,a)=>({dom:{tag:"div",classes:a,innerHtml:o}}),TD=(o,a)=>({dom:{tag:"div",classes:[Xx]},components:[{dom:{tag:o.tag,styles:o.styles},components:[Cs(Iu.translate(a))]}]}),OD=o=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[Cs(e_(o))]}),DD=o=>WE("checkmark",o,["tox-collection__item-checkmark"]),RD=o=>{const a=o.map(c=>({attributes:{id:fn("menu-item"),"aria-label":Iu.translate(c)}})).getOr({});return{tag:"div",classes:[UC,WC],...a}},l2=(o,a,c,d=R.none())=>o.presets==="color"?((h,b,w)=>{const k=h.value,E=h.iconContent.map(L=>((B,H,K)=>{const Y=H();return Gx(B,Y).or(K).getOrThunk(AE(Y))})(L,b.icons,w)),O=h.ariaLabel.map(L=>({"aria-label":b.translate(L),"data-mce-name":L})).getOr({});return{dom:(()=>{const L=G5,B=E.getOr(""),H={tag:"div",attributes:O,classes:[L]};return k==="custom"?{...H,tag:"button",classes:[...H.classes,"tox-swatches__picker-btn"],innerHtml:B}:k==="remove"?{...H,classes:[...H.classes,"tox-swatch--remove"],innerHtml:B}:$(k)?{...H,attributes:{...H.attributes,"data-mce-color":k},styles:{"background-color":k},innerHtml:B}:H})(),optComponents:[]}})(o,a,d):((h,b,w,k)=>{const E={tag:"div",classes:[J5]},O=w?h.iconContent.map(K=>wc(K,E,b.icons,k)).orThunk(()=>R.some({dom:E})):R.none(),L=h.checkMark,B=R.from(h.meta).fold(()=>AD,K=>po(K,"style")?Ge(TD,K.style):AD),H=h.htmlContent.fold(()=>h.textContent.map(B),K=>R.some(ZE(K,[Xx])));return{dom:RD(h.ariaLabel),optComponents:[O,H,h.shortcutContent.map(OD),L,h.caret]}})(o,a,c,d),ND=(o,a,c)=>cn(o,"tooltipWorker").map(d=>[Us.config({lazySink:a.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:h=>({type:"submenu",item:h,overrides:{maxHeightFunction:zg}}),mode:"follow-highlight",onShow:(h,b)=>{d(w=>{Us.setComponents(h,[af({element:Qt(w)})])})}})]).getOrThunk(()=>c.map(d=>[Us.config({...a.providers.tooltips.getConfig({tooltipText:d}),mode:"follow-highlight"})]).getOr([])),jE=(o,a)=>{const c=(d=>ev.DOM.encode(d))(Iu.translate(o));if(a.length>0){const d=new RegExp((h=>h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(a),"gi");return c.replace(d,h=>`<span class="tox-autocompleter-highlight">${h}</span>`)}return c},KE=(o,a)=>bt(o,c=>{switch(c.type){case"cardcontainer":return((b,w)=>{const k=b.direction==="vertical"?"tox-collection__item-container--column":Qx,E=b.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[Jx,k,E,(()=>{switch(b.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:w}})(c,KE(c.items,a));case"cardimage":return((b,w,k)=>({dom:{tag:"img",classes:w,attributes:{src:b,alt:k.getOr("")}}}))(c.src,c.classes,c.alt);case"cardtext":const d=c.name.exists(b=>Qe(a.cardText.highlightOn,b)),h=d?R.from(a.cardText.matchText).getOr(""):"";return ZE(jE(c.text,h),c.classes)}}),Jg=Ui(lE(),cE()),qE=o=>({value:a0(o)}),GE=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,YE=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,ID=o=>GE.test(o)||YE.test(o),a0=o=>Er(o,"#").toUpperCase(),XE=o=>{const a=o.toString(16);return(a.length===1?"0"+a:a).toUpperCase()},c2=o=>{const a=XE(o.red)+XE(o.green)+XE(o.blue);return qE(a)},JE=Math.min,BD=Math.max,t_=Math.round,s7=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,MD=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Qg=(o,a,c,d)=>({red:o,green:a,blue:c,alpha:d}),u2=o=>{const a=parseInt(o,10);return a.toString()===o&&a>=0&&a<=255},PD=o=>{let a,c,d;const h=(o.hue||0)%360;let b=o.saturation/100,w=o.value/100;if(b=BD(0,JE(b,1)),w=BD(0,JE(w,1)),b===0)return a=c=d=t_(255*w),Qg(a,c,d,1);const k=h/60,E=w*b,O=E*(1-Math.abs(k%2-1)),L=w-E;switch(Math.floor(k)){case 0:a=E,c=O,d=0;break;case 1:a=O,c=E,d=0;break;case 2:a=0,c=E,d=O;break;case 3:a=0,c=O,d=E;break;case 4:a=O,c=0,d=E;break;case 5:a=E,c=0,d=O;break;default:a=c=d=0}return a=t_(255*(a+L)),c=t_(255*(c+L)),d=t_(255*(d+L)),Qg(a,c,d,1)},wd=o=>{const a=(b=>{const w=(E=>({value:E.value.replace(GE,(L,B,H,K)=>B+B+H+H+K+K)}))(b),k=YE.exec(w.value);return k===null?["FFFFFF","FF","FF","FF"]:k})(o),c=parseInt(a[1],16),d=parseInt(a[2],16),h=parseInt(a[3],16);return Qg(c,d,h,1)},QE=(o,a,c,d)=>{const h=parseInt(o,10),b=parseInt(a,10),w=parseInt(c,10),k=parseFloat(d);return Qg(h,b,w,k)},n_=o=>{const a=s7.exec(o);if(a!==null)return R.some(QE(a[1],a[2],a[3],"1"));const c=MD.exec(o);return c!==null?R.some(QE(c[1],c[2],c[3],c[4])):R.none()},LD=o=>`rgba(${o.red},${o.green},${o.blue},${o.alpha})`,FD=Qg(255,0,0,1),i0=(o,a)=>{o.dispatch("ResizeContent",a)},fv=(o,a)=>{o.dispatch("TextColorChange",a)},zD=(o,a)=>o.dispatch("ResolveName",{name:a.nodeName.toLowerCase(),target:a}),mv=(o,a)=>()=>{o(),a()},pa=o=>l0(o,"NodeChange",a=>{a.setEnabled(o.selection.isEditable())}),Ef=(o,a)=>c=>{const d=pa(o)(c),h=((b,w)=>k=>{const E=oc(),O=()=>{k.setActive(b.formatter.match(w));const L=b.formatter.formatChanged(w,k.setActive);E.set(L)};return b.initialized?O():b.once("init",O),()=>{b.off("init",O),E.clear()}})(o,a)(c);return()=>{d(),h()}},l0=(o,a,c)=>d=>{const h=()=>c(d),b=()=>{c(d),o.on(a,h)};return o.initialized?b():o.once("init",b),()=>{o.off("init",b),o.off(a,h)}},HD=o=>a=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("mceToggleFormat",!1,a.format)})},Ul=(o,a)=>()=>o.execCommand(a);var _c=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const o_={},VD=o=>cn(o_,o).getOrThunk(()=>{const a=`tinymce-custom-colors-${o}`,c=_c.getItem(a);if(W(c)){const h=_c.getItem("tinymce-custom-colors");_c.setItem(a,$(h)?h:"[]")}const d=((h,b=10)=>{const w=_c.getItem(h),k=p(w)?JSON.parse(w):[],E=b-(O=k).length<0?O.slice(0,b):O;var O;const L=B=>{E.splice(B,1)};return{add:B=>{((H,K)=>{const Y=gn(H,K);return Y===-1?R.none():R.some(Y)})(E,B).each(L),E.unshift(B),E.length>b&&E.pop(),_c.setItem(h,JSON.stringify(E))},state:()=>E.slice(0)}})(a,10);return o_[o]=d,d}),e3=(o,a)=>{VD(o).add(a)},gv=(o,a,c)=>({hue:o,saturation:a,value:c}),r_=o=>{let a=0,c=0,d=0;const h=o.red/255,b=o.green/255,w=o.blue/255,k=Math.min(h,Math.min(b,w)),E=Math.max(h,Math.max(b,w));return k===E?(d=k,gv(0,0,100*d)):(a=h===k?3:w===k?1:5,a=60*(a-(h===k?b-w:w===k?h-b:w-h)/(E-k)),c=(E-k)/E,d=E,gv(Math.round(a),Math.round(100*c),Math.round(100*d)))},s_=o=>c2(PD(o)),$D=o=>{return(a=o,ID(a)?R.some({value:a0(a)}):R.none()).orThunk(()=>n_(o).map(c2)).getOrThunk(()=>{const c=document.createElement("canvas");c.height=1,c.width=1;const d=c.getContext("2d");d.clearRect(0,0,c.width,c.height),d.fillStyle="#FFFFFF",d.fillStyle=o,d.fillRect(0,0,1,1);const h=d.getImageData(0,0,1,1).data,b=h[0],w=h[1],k=h[2],E=h[3];return c2(Qg(b,w,k,E))});var a},t3="forecolor",n3="hilitecolor",a7=o=>{const a=[];for(let c=0;c<o.length;c+=2)a.push({text:o[c+1],value:"#"+$D(o[c]).value,icon:"checkmark",type:"choiceitem"});return a},Lu=o=>a=>a.options.get(o),d2="#000000",c0=(o,a)=>a===t3&&o.options.isSet("color_map_foreground")?Lu("color_map_foreground")(o):a===n3&&o.options.isSet("color_map_background")?Lu("color_map_background")(o):Lu("color_map")(o),a_=(o,a="default")=>Math.max(5,Math.ceil(Math.sqrt(c0(o,a).length))),UD=(o,a)=>{const c=Lu("color_cols")(o),d=a_(o,a);return c===a_(o)?d:c},o3=(o,a="default")=>Math.round(a===t3?Lu("color_cols_foreground")(o):a===n3?Lu("color_cols_background")(o):Lu("color_cols")(o)),r3=Lu("custom_colors"),WD=Lu("color_default_foreground"),ZD=Lu("color_default_background"),jD=(o,a)=>{const c=Qt(o.selection.getStart()),d=a==="hilitecolor"?wg(c,h=>{if(jr(h)){const b=as(h,"background-color");return Uo(n_(b).exists(w=>w.alpha!==0),b)}return R.none()}).getOr("rgba(0, 0, 0, 0)"):as(c,"color");return n_(d).map(h=>"#"+c2(h).value)},i_=o=>{const a="choiceitem",c={type:a,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return o?[c,{type:a,text:"Custom color",icon:"color-picker",value:"custom"}]:[c]},s3=(o,a,c,d)=>{c==="custom"?GD(o)(h=>{h.each(b=>{e3(a,b),o.execCommand("mceApplyTextcolor",a,b),d(b)})},jD(o,a).getOr(d2)):c==="remove"?(d(""),o.execCommand("mceRemoveTextcolor",a)):(d(c),o.execCommand("mceApplyTextcolor",a,c))},a3=(o,a,c)=>o.concat((d=>bt(VD(d).state(),h=>({type:"choiceitem",text:h,icon:"checkmark",value:h})))(a).concat(i_(c))),KD=(o,a,c)=>d=>{d(a3(o,a,c))},i3=(o,a,c)=>{const d=a==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";o.setIconFill(d,c)},l3=(o,a)=>{o.setTooltip(a)},qD=(o,a)=>c=>{const d=jD(o,a);return $r(d,c.toUpperCase())},c3=(o,a,c)=>{if(du(c))return a==="forecolor"?"Text color":"Background color";const d=a==="forecolor"?"Text color {0}":"Background color {0}",h=a3(c0(o,a),a,!1),b=J(h,w=>w.value===c).getOr({text:""}).text;return o.translate([d,o.translate(b)])},u3=(o,a,c,d)=>{o.ui.registry.addSplitButton(a,{tooltip:c3(o,c,d.get()),presets:"color",icon:a==="forecolor"?"text-color":"highlight-bg-color",select:qD(o,c),columns:o3(o,c),fetch:KD(c0(o,c),c,r3(o)),onAction:h=>{s3(o,c,d.get(),de)},onItemAction:(h,b)=>{s3(o,c,b,w=>{d.set(w),fv(o,{name:a,color:w})})},onSetup:h=>{i3(h,a,d.get());const b=w=>{w.name===a&&(i3(h,w.name,w.color),l3(h,c3(o,c,w.color)))};return o.on("TextColorChange",b),mv(pa(o)(h),()=>{o.off("TextColorChange",b)})}})},hv=(o,a,c,d,h)=>{o.ui.registry.addNestedMenuItem(a,{text:d,icon:a==="forecolor"?"text-color":"highlight-bg-color",onSetup:b=>(l3(b,c3(o,c,h.get())),i3(b,a,h.get()),pa(o)(b)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:qD(o,c),initData:{storageKey:c},onAction:b=>{s3(o,c,b.value,w=>{h.set(w),fv(o,{name:a,color:w})})}}]})},GD=o=>(a,c)=>{let d=!1;const h={colorpicker:c};o.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:h,onAction:(b,w)=>{w.name==="hex-valid"&&(d=w.value)},onSubmit:b=>{const w=b.getData().colorpicker;d?(a(R.from(w)),b.close()):o.windowManager.alert(o.translate(["Invalid hex color code: {0}",w]))},onClose:de,onCancel:()=>{a(R.none())}})},u0=(o,a,c,d,h,b,w,k)=>{const E=o2(a),O=d3(a,c,d,h!=="color"?"normal":"color",b,w,k);return NE(o,E,O,d,{menuType:h})},d3=(o,a,c,d,h,b,w)=>Pa(bt(o,k=>{return k.type==="choiceitem"?(E=k,is("choicemenuitem",$E,E)).fold(Bm,O=>R.some(((L,B,H,K,Y,se,ce,be=!0)=>{const ie=l2({presets:H,textContent:B?L.text:R.none(),htmlContent:R.none(),ariaLabel:L.text,iconContent:L.icon,shortcutContent:B?L.shortcut:R.none(),checkMark:B?R.some(DD(ce.icons)):R.none(),caret:R.none(),value:L.value},ce,be),ae=L.text.filter(re(!B)).map(me=>Us.config(ce.tooltips.getConfig({tooltipText:ce.translate(me)})));return yr(uv({data:dv(L),enabled:L.enabled,getApi:me=>({setActive:ye=>{Un.set(me,ye)},isActive:()=>Un.isOn(me),isEnabled:()=>!Kn.isDisabled(me),setEnabled:ye=>Kn.set(me,!ye)}),onAction:me=>K(L.value),onSetup:me=>(me.setActive(Y),de),triggersSubmenu:!1,itemBehaviours:[...ae.toArray()]},ie,se,ce),{toggling:{toggleClass:X5,toggleOnExecute:!1,selected:L.active,exclusive:!0}})})(O,c===1,d,a,b(O.value),h,w,o2(o)))):R.none();var E})),f2=(o,a)=>{const c=t0(a);return o===1?{mode:"menu",moveOnTab:!0}:o==="auto"?{mode:"grid",selector:"."+c.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(a==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:d=>a==="color"?Yr(d.element,"[aria-checked=true]"):R.none()}},f3=fn("cell-over"),YD=fn("cell-execute"),i7=(o,a,c)=>{const d=b=>Sn(b,YD,{row:o,col:a}),h=(b,w)=>{w.stop(),d(b)};return Aa({dom:{tag:"div",attributes:{role:"button","aria-label":c}},behaviours:Ft([uo("insert-table-picker-cell",[xt(_n(),Zn.focus),xt(ol(),d),xt(Js(),h),xt(Yd(),h)]),Un.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Zn.config({onFocus:b=>Sn(b,f3,{row:o,col:a})})])})},XD=o=>Ko(o,a=>bt(a,Hi)),JD=(o,a)=>Cs(`${a}x${o}`),QD={inserttable:(o,a)=>{const c=(w=>(k,E)=>w.shared.providers.translate(["{0} columns, {1} rows",E,k]))(a),d=((w,k,E)=>{const O=[];for(let L=0;L<10;L++){const B=[];for(let H=0;H<10;H++){const K=w(L+1,H+1);B.push(i7(L,H,K))}O.push(B)}return O})(c),h=JD(0,0),b=tr({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[h],behaviours:Ft([zn.config({})])});return{type:"widget",data:{value:fn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Jg.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:XD(d).concat(b.asSpec()),behaviours:Ft([uo("insert-table-picker",[Ur(w=>{zn.set(b.get(w),[h])}),_g(f3,(w,k,E)=>{const{row:O,col:L}=E.event;((B,H,K,Y,se)=>{for(let ce=0;ce<10;ce++)for(let be=0;be<10;be++)Un.set(B[ce][be],ce<=H&&be<=K)})(d,O,L),zn.set(b.get(w),[JD(O+1,L+1)])}),_g(YD,(w,k,E)=>{const{row:O,col:L}=E.event;go(w,eb()),o.onAction({numRows:O+1,numColumns:L+1})})]),An.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(o,a)=>{const c=((w,k)=>{const E=w.initData.allowCustomColors&&k.colorinput.hasCustomColors();return w.initData.colors.fold(()=>a3(k.colorinput.getColors(w.initData.storageKey),w.initData.storageKey,E),O=>O.concat(i_(E)))})(o,a),d=a.colorinput.getColorCols(o.initData.storageKey),h="color",b={...u0(fn("menu-value"),c,w=>{o.onAction({value:w})},d,h,kf.CLOSE_ON_EXECUTE,o.select.getOr(Ce),a.shared.providers),markers:t0(h),movement:f2(d,h),showMenuRole:!1};return{type:"widget",data:{value:fn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Jg.widget(Gb.sketch(b))]}}},eR=o=>({type:"separator",dom:{tag:"div",classes:[WC,"tox-collection__group-heading"]},components:o.text.map(Cs).toArray()});var l7=Object.freeze({__proto__:null,getCoupled:(o,a,c,d)=>c.getOrCreate(o,a,d),getExistingCoupled:(o,a,c,d)=>c.getExisting(o,a,d)}),tR=[ka("others",Gp(_o.value,yl()))],l_=Object.freeze({__proto__:null,init:()=>{const o={},a=(d,h)=>{if(on(d.others).length===0)throw new Error("Cannot find any known coupled components");return cn(o,h)},c=re({});return ma({readState:c,getExisting:(d,h,b)=>a(h,b).orThunk(()=>(cn(h.others,b).getOrDie("No information found for coupled component: "+b),R.none())),getOrCreate:(d,h,b)=>a(h,b).getOrThunk(()=>{const w=cn(h.others,b).getOrDie("No information found for coupled component: "+b)(d),k=d.getSystem().build(w);return o[b]=k,k})})}});const _s=ga({fields:tR,name:"coupling",apis:l7,state:l_}),m2=o=>{let a=R.none(),c=[];const d=w=>{h()?b(w):c.push(w)},h=()=>a.isSome(),b=w=>{a.each(k=>{setTimeout(()=>{w(k)},0)})};return o(w=>{h()||(a=R.some(w),Zt(c,b),c=[])}),{get:d,map:w=>m2(k=>{d(E=>{k(w(E))})}),isReady:h}},c7={nu:m2,pure:o=>m2(a=>{a(o)})},u7=o=>{setTimeout(()=>{throw o},0)},pv=o=>{const a=c=>{o().then(c,u7)};return{map:c=>pv(()=>o().then(c)),bind:c=>pv(()=>o().then(d=>c(d).toPromise())),anonBind:c=>pv(()=>o().then(()=>c.toPromise())),toLazy:()=>c7.nu(a),toCached:()=>{let c=null;return pv(()=>(c===null&&(c=o()),c))},toPromise:o,get:a}},lp=o=>pv(()=>new Promise(o)),Pm=o=>pv(()=>Promise.resolve(o)),m3=re("sink"),nR=re(Jc({name:m3(),overrides:re({dom:{tag:"div"},behaviours:Ft([Ya.config({useFixed:Re})]),events:eo([lm(cs()),lm(Tt()),lm(Js())])})})),oR=(o,a)=>{const c=o.getHotspot(a).getOr(a),d="hotspot",h=o.getAnchorOverrides();return o.layouts.fold(()=>({type:d,hotspot:c,overrides:h}),b=>({type:d,hotspot:c,overrides:h,layouts:b}))},c_=(o,a,c,d,h,b,w)=>((E,O,L,B,H,K,Y)=>{const se=((be,ie,ae)=>(0,be.fetch)(ae).map(ie))(E,O,B),ce=rR(B,E);return se.map(be=>be.bind(ie=>{const ae=ie.menus[ie.primary];return R.from(ae).each(me=>{E.listRole.each(ye=>{me.role=ye})}),R.from(jg.sketch({...K.menu(),uid:mc(""),data:ie,highlightOnOpen:Y,onOpenMenu:(me,ye)=>{const _e=ce().getOrDie();Ya.position(_e,ye,{anchor:L}),T.decloak(H)},onOpenSubmenu:(me,ye,_e)=>{const Fe=ce().getOrDie();Ya.position(Fe,_e,{anchor:{type:"submenu",item:ye}}),T.decloak(H)},onRepositionMenu:(me,ye,_e)=>{const Fe=ce().getOrDie();Ya.position(Fe,ye,{anchor:L}),Zt(_e,Xe=>{Ya.position(Fe,Xe.triggeredMenu,{anchor:{type:"submenu",item:Xe.triggeringItem}})})},onEscape:()=>(Zn.focus(B),T.close(H),R.some(!0))}))}))})(o,a,oR(o,c),c,d,h,w).map(E=>(E.fold(()=>{T.isOpen(d)&&T.close(d)},O=>{T.cloak(d),T.open(d,O),b(d)}),d)),d7=(o,a,c,d,h,b,w)=>(T.close(d),Pm(d)),g3=(o,a,c,d,h,b)=>{const w=_s.getCoupled(c,"sandbox");return(T.isOpen(w)?d7:c_)(o,a,c,w,d,h,b)},rR=(o,a)=>o.getSystem().getByUid(a.uid+"-"+m3()).map(c=>()=>_o.value(c)).getOrThunk(()=>a.lazySink.fold(()=>()=>_o.error(new Error("No internal sink is specified, nor could an external sink be found")),c=>()=>c(o))),h3=o=>{T.getState(o).each(a=>{jg.repositionMenus(a)})},p3=(o,a,c)=>{const d=Ig(),h=rR(a,o);return{dom:{tag:"div",classes:o.sandboxClasses,attributes:{id:d.id}},behaviours:$n(o.sandboxBehaviours,[nt.config({store:{mode:"memory",initialValue:a}}),T.config({onOpen:(b,w)=>{const k=oR(o,a);d.link(a.element),o.matchWidth&&((E,O,L)=>{const B=Vo.getCurrent(O).getOr(O),H=ua(E.element);L?Xn(B.element,"min-width",H+"px"):((K,Y)=>{fg.set(K,Y)})(B.element,H)})(k.hotspot,w,o.useMinWidth),o.onOpen(k,b,w),c!==void 0&&c.onOpen!==void 0&&c.onOpen(b,w)},onClose:(b,w)=>{d.unlink(a.element),h().getOr(w).element.dom.dispatchEvent(new window.FocusEvent("focusout")),c!==void 0&&c.onClose!==void 0&&c.onClose(b,w)},isPartOf:(b,w,k)=>sl(w,k)||sl(a,k),getAttachPoint:()=>h().getOrDie()}),Vo.config({find:b=>T.getState(b).bind(w=>Vo.getCurrent(w))}),al.config({channels:{...ne({isExtraPart:Ce}),...Te({doReposition:h3})}})])}},sR=o=>{const a=_s.getCoupled(o,"sandbox");h3(a)},b3=()=>[et("sandboxClasses",[]),jn("sandboxBehaviours",[Vo,al,T,nt])],f7=re([At("dom"),At("fetch"),Fo("onOpen"),rl("onExecute"),et("getHotspot",R.some),et("getAnchorOverrides",re({})),cf(),mn("dropdownBehaviours",[Un,_s,An,Zn]),At("toggleClass"),et("eventOrder",{}),Bo("lazySink"),et("matchWidth",!1),et("useMinWidth",!1),Bo("role"),Bo("listRole")].concat(b3())),m7=re([vd({schema:[Tg(),et("fakeFocus",!1)],name:"menu",defaults:o=>({onExecute:o.onExecute})}),nR()]),cl=xl({name:"Dropdown",configFields:f7(),partFields:m7(),factory:(o,a,c,d)=>{const h=E=>{T.getState(E).each(O=>{jg.highlightPrimary(O)})},b=(E,O,L)=>g3(o,Oe,E,d,O,L),w={expand:E=>{Un.isOn(E)||b(E,de,Wi.HighlightNone).get(de)},open:E=>{Un.isOn(E)||b(E,de,Wi.HighlightMenuAndItem).get(de)},refetch:E=>_s.getExistingCoupled(E,"sandbox").fold(()=>b(E,de,Wi.HighlightMenuAndItem).map(de),O=>c_(o,Oe,E,O,d,de,Wi.HighlightMenuAndItem).map(de)),isOpen:Un.isOn,close:E=>{Un.isOn(E)&&b(E,de,Wi.HighlightMenuAndItem).get(de)},repositionMenus:E=>{Un.isOn(E)&&sR(E)}},k=(E,O)=>(tf(E),R.some(!0));return{uid:o.uid,dom:o.dom,components:a,behaviours:co(o.dropdownBehaviours,[Un.config({toggleClass:o.toggleClass,aria:{mode:"expanded"}}),_s.config({others:{sandbox:E=>p3(o,E,{onOpen:()=>Un.on(E),onClose:()=>Un.off(E)})}}),An.config({mode:"special",onSpace:k,onEnter:k,onDown:(E,O)=>{if(cl.isOpen(E)){const L=_s.getCoupled(E,"sandbox");h(L)}else cl.open(E);return R.some(!0)},onEscape:(E,O)=>cl.isOpen(E)?(cl.close(E),R.some(!0)):R.none()}),Zn.config({})]),events:Q1(R.some(E=>{b(E,h,Wi.HighlightMenuAndItem).get(de)})),eventOrder:{...o.eventOrder,[ol()]:["disabling","toggling","alloy.base.behaviour"]},apis:w,domModification:{attributes:{"aria-haspopup":o.listRole.getOr("true"),...o.role.fold(()=>({}),E=>({role:E})),...o.dom.tag==="button"?{type:cn(o.dom,"attributes").bind(E=>cn(E,"type")).getOr("button")}:{}}}}},apis:{open:(o,a)=>o.open(a),refetch:(o,a)=>o.refetch(a),expand:(o,a)=>o.expand(a),close:(o,a)=>o.close(a),isOpen:(o,a)=>o.isOpen(a),repositionMenus:(o,a)=>o.repositionMenus(a)}}),aR=(o,a,c)=>{sD(o).each(d=>{var h;((b,w)=>{Io(w.element,"id").each(k=>Jt(b.element,"aria-activedescendant",k))})(d,c),(zi((h=a).element,t2)?R.some(h.element):Yr(h.element,"."+t2)).each(b=>{Io(b,"id").each(w=>Jt(d.element,"aria-controls",w))})}),Jt(c.element,"aria-selected","true")},g7=(o,a,c)=>{Jt(c.element,"aria-selected","false")},d0=o=>_s.getExistingCoupled(o,"sandbox").bind(e2).map(aD).map(a=>a.fetchPattern).getOr("");var g2;(function(o){o[o.ContentFocus=0]="ContentFocus",o[o.UiFocus=1]="UiFocus"})(g2||(g2={}));const h7=(o,a,c,d,h)=>{const b=c.shared.providers,w=E=>h?{...E,shortcut:R.none(),icon:E.text.isSome()?R.none():E.icon}:E;switch(o.type){case"menuitem":return(k=o,is("menuitem",CD,k)).fold(Bm,E=>R.some(((O,L,B,H=!0)=>{const K=l2({presets:"normal",iconContent:O.icon,textContent:O.text,htmlContent:R.none(),ariaLabel:O.text,caret:R.none(),checkMark:R.none(),shortcutContent:O.shortcut},B,H);return uv({data:dv(O),getApi:Y=>({isEnabled:()=>!Kn.isDisabled(Y),setEnabled:se=>Kn.set(Y,!se)}),enabled:O.enabled,onAction:O.onAction,onSetup:O.onSetup,triggersSubmenu:!1,itemBehaviours:[]},K,L,B)})(w(E),a,b,d)));case"nestedmenuitem":return(E=>is("nestedmenuitem",_D,E))(o).fold(Bm,E=>R.some(((O,L,B,H=!0,K=!1)=>{const Y=K?(se=B.icons,WE("chevron-down",se,[OE])):(be=>WE("chevron-right",be,[OE]))(B.icons);var se;const ce=l2({presets:"normal",iconContent:O.icon,textContent:O.text,htmlContent:R.none(),ariaLabel:O.text,caret:R.some(Y),checkMark:R.none(),shortcutContent:O.shortcut},B,H);return uv({data:dv(O),getApi:be=>({isEnabled:()=>!Kn.isDisabled(be),setEnabled:ie=>Kn.set(be,!ie),setIconFill:(ie,ae)=>{Yr(be.element,`svg path[class="${ie}"], rect[class="${ie}"]`).each(me=>{Jt(me,"fill",ae)})},setTooltip:ie=>{const ae=B.translate(ie);Jt(be.element,"aria-label",ae)}}),enabled:O.enabled,onAction:de,onSetup:O.onSetup,triggersSubmenu:!0,itemBehaviours:[]},ce,L,B)})(w(E),a,b,d,h)));case"togglemenuitem":return(E=>is("togglemenuitem",n7,E))(o).fold(Bm,E=>R.some(((O,L,B,H=!0)=>{const K=l2({iconContent:O.icon,textContent:O.text,htmlContent:R.none(),ariaLabel:O.text,checkMark:R.some(DD(B.icons)),caret:R.none(),shortcutContent:O.shortcut,presets:"normal",meta:O.meta},B,H);return yr(uv({data:dv(O),enabled:O.enabled,getApi:Y=>({setActive:se=>{Un.set(Y,se)},isActive:()=>Un.isOn(Y),isEnabled:()=>!Kn.isDisabled(Y),setEnabled:se=>Kn.set(Y,!se)}),onAction:O.onAction,onSetup:O.onSetup,triggersSubmenu:!1,itemBehaviours:[]},K,L,B),{toggling:{toggleClass:X5,toggleOnExecute:!1,selected:O.active},role:O.role.getOrUndefined()})})(w(E),a,b,d)));case"separator":return(E=>is("separatormenuitem",mD,E))(o).fold(Bm,E=>R.some(eR(E)));case"fancymenuitem":return(E=>is("fancymenuitem",wD,E))(o).fold(Bm,E=>((O,L)=>cn(QD,O.fancytype).map(B=>B(O,L)))(E,c));default:return console.error("Unknown item in general menu",o),R.none()}var k},cp=(o,a,c,d,h,b,w)=>{const k=d===1,E=!k||o2(o);return Pa(bt(o,O=>{switch(O.type){case"separator":return(L=O,is("Autocompleter.Separator",mD,L)).fold(Bm,B=>R.some(eR(B)));case"cardmenuitem":return(B=>is("cardmenuitem",t7,B))(O).fold(Bm,B=>R.some(((H,K,Y,se)=>{const ce={dom:RD(H.label),optComponents:[R.some({dom:{tag:"div",classes:[Jx,Qx]},components:KE(H.items,se)})]};return uv({data:dv({text:R.none(),...H}),enabled:H.enabled,getApi:be=>({isEnabled:()=>!Kn.isDisabled(be),setEnabled:ie=>{Kn.set(be,!ie),Zt(aa(be.element,"*"),ae=>{be.getSystem().getByDom(ae).each(me=>{me.hasConfigured(Kn)&&Kn.set(me,!ie)})})}}),onAction:H.onAction,onSetup:H.onSetup,triggersSubmenu:!1,itemBehaviours:R.from(se.itemBehaviours).getOr([])},ce,K,Y.providers)})({...B,onAction:H=>{B.onAction(H),c(B.value,B.meta)}},h,b,{itemBehaviours:ND(B.meta,b,R.none()),cardText:{matchText:a,highlightOn:w}})));default:return(B=>is("Autocompleter.Item",ZP,B))(O).fold(Bm,B=>R.some(((H,K,Y,se,ce,be,ie,ae=!0)=>{const me=l2({presets:se,textContent:R.none(),htmlContent:Y?H.text.map(_e=>jE(_e,K)):R.none(),ariaLabel:H.text,iconContent:H.icon,shortcutContent:R.none(),checkMark:R.none(),caret:R.none(),value:H.value},ie.providers,ae,H.icon),ye=H.text.filter(_e=>!Y&&_e!=="");return uv({data:dv(H),enabled:H.enabled,getApi:re({}),onAction:_e=>ce(H.value,H.meta),onSetup:re(de),triggersSubmenu:!1,itemBehaviours:ND(H,ie,ye)},me,be,ie.providers)})(B,a,k,"normal",c,h,b,E)))}var L}))},iR=(o,a,c,d,h,b)=>{const w=o2(a),k=Pa(bt(a,O=>{const L=B=>h7(B,c,d,(H=>h?!po(H,"text"):w)(B),h);return O.type==="nestedmenuitem"&&O.getSubmenuItems().length<=0?L({...O,enabled:!1}):L(O)})),E=(O=>O.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:O})(b);return(h?VP:NE)(o,w,k,1,E)},v3=o=>jg.singleData(o.value,o),Fu=o=>uf(Qt(o.startContainer),o.startOffset,Qt(o.endContainer),o.endOffset),lR=(o,a)=>{const c=fn("autocompleter"),d=Dn(!1),h=Dn(!1),b=ir(),w=Aa(os.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:c}},components:[],fireDismissalEventInstead:{},inlineBehaviours:Ft([uo("dismissAutocompleter",[xt(Cg(),()=>B()),xt(Ey(),(Y,se)=>{Io(se.event.target,"id").each(ce=>Jt(Qt(o.getBody()),"aria-activedescendant",ce))})])]),lazySink:a.getSink})),k=()=>os.isOpen(w),E=h.get,O=()=>{if(k()){os.hide(w),o.dom.remove(c,!1);const Y=Qt(o.getBody());Io(Y,"aria-owns").filter(se=>se===c).each(()=>{fo(Y,"aria-owns"),fo(Y,"aria-activedescendant")})}},L=()=>os.getContent(w).bind(Y=>St(Y.components(),0)),B=()=>o.execCommand("mceAutocompleterClose"),H=Y=>{const se=(ce=>{const be=It(ce,ie=>R.from(ie.columns)).getOr(1);return Ko(ce,ie=>{const ae=ie.items;return cp(ae,ie.matchText,(me,ye)=>{const _e={hide:()=>B(),reload:Fe=>{O(),o.execCommand("mceAutocompleterReload",!1,{fetchOptions:Fe})}};o.execCommand("mceAutocompleterRefreshActiveRange"),b.get().each(Fe=>{d.set(!0),ie.onAction(_e,Fe,me,ye),d.set(!1)})},be,kf.BUBBLE_TO_SANDBOX,a,ie.highlightOn)})})(Y);se.length>0?(((ce,be)=>{const ie=It(ce,ae=>R.from(ae.columns)).getOr(1);os.showMenuAt(w,{anchor:{type:"selection",getSelection:()=>b.get().map(Fu),root:Qt(o.getBody())}},((ae,me,ye,_e)=>{const Fe=f2(me,_e),Xe=t0(_e);return{data:v3({...ae,movement:Fe,menuBehaviours:a2(me!=="auto"?[]:[Ur((_t,vt)=>{UE(_t,4,Xe.item).each(({numColumns:gt,numRows:Bt})=>{An.setGridSize(_t,Bt,gt)})})])}),menu:{markers:t0(_e),fakeFocus:ye===g2.ContentFocus}}})(NE("autocompleter-value",!0,be,ie,{menuType:"normal"}),ie,g2.ContentFocus,"normal")),L().each(or.highlightFirst)})(Y,se),Jt(Qt(o.getBody()),"aria-owns",c),o.inline||K()):O()},K=()=>{o.dom.get(c)&&o.dom.remove(c,!1);const Y=o.getDoc().documentElement,se=o.selection.getNode(),ce=(be=>Eg(be,!0))(w.element);Bi(ce,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${se.offsetTop}px`,left:`${se.offsetLeft}px`}),o.dom.add(Y,ce.dom),Yr(ce,'[role="menu"]').each(be=>{er(be,"position"),er(be,"max-height")})};o.on("AutocompleterStart",({lookupData:Y})=>{h.set(!0),d.set(!1),H(Y)}),o.on("AutocompleterUpdate",({lookupData:Y})=>H(Y)),o.on("AutocompleterUpdateActiveRange",({range:Y})=>b.set(Y)),o.on("AutocompleterEnd",()=>{O(),h.set(!1),d.set(!1),b.clear()}),((Y,se)=>{const ce=(ie,ae)=>{Sn(ie,cs(),{raw:ae})},be=()=>Y.getMenu().bind(or.getHighlighted);se.on("keydown",ie=>{const ae=ie.which;Y.isActive()&&(Y.isMenuOpen()?ae===13?(be().each(tf),ie.preventDefault()):ae===40?(be().fold(()=>{Y.getMenu().each(or.highlightFirst)},me=>{ce(me,ie)}),ie.preventDefault(),ie.stopImmediatePropagation()):ae!==37&&ae!==38&&ae!==39||be().each(me=>{ce(me,ie),ie.preventDefault(),ie.stopImmediatePropagation()}):ae!==13&&ae!==38&&ae!==40||Y.cancelIfNecessary())}),se.on("NodeChange",()=>{!Y.isActive()||Y.isProcessingAction()||se.queryCommandState("mceAutoCompleterInRange")||Y.cancelIfNecessary()})})({cancelIfNecessary:B,isMenuOpen:k,isActive:E,isProcessingAction:d.get,getMenu:L},o)},bv=(o,a,c)=>Tu(o,a,c).isSome(),y3=(o,a)=>{let c=null;return{cancel:()=>{c!==null&&(clearTimeout(c),c=null)},schedule:(...d)=>{c=setTimeout(()=>{o.apply(null,d),c=null},a)}}},cR=o=>{const a=o.raw;return a.touches===void 0||a.touches.length!==1?R.none():R.some(a.touches[0])},u_=(o,a)=>{const c={stopBackspace:!0,...a},d=(B=>{const H=ir(),K=Dn(!1),Y=y3(ce=>{B.triggerEvent(gk(),ce),K.set(!0)},400),se=ad([{key:Z(),value:ce=>(cR(ce).each(be=>{Y.cancel();const ie={x:be.clientX,y:be.clientY,target:ce.target};Y.schedule(ce),K.set(!1),H.set(ie)}),R.none())},{key:te(),value:ce=>(Y.cancel(),cR(ce).each(be=>{H.on(ie=>{((ae,me)=>{const ye=Math.abs(ae.clientX-me.x),_e=Math.abs(ae.clientY-me.y);return ye>5||_e>5})(be,ie)&&H.clear()})}),R.none())},{key:Ae(),value:ce=>(Y.cancel(),H.get().filter(be=>Wo(be.target,ce.target)).map(be=>K.get()?(ce.prevent(),!1):B.triggerEvent(Yd(),ce)))}]);return{fireIfReady:(ce,be)=>cn(se,be).bind(ie=>ie(ce))}})(c),h=bt(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),B=>Ei(o,B,H=>{d.fireIfReady(H,B).each(K=>{K&&H.kill()}),c.triggerEvent(B,H)&&H.kill()})),b=ir(),w=Ei(o,"paste",B=>{d.fireIfReady(B,"paste").each(H=>{H&&B.kill()}),c.triggerEvent("paste",B)&&B.kill(),b.set(setTimeout(()=>{c.triggerEvent(ky(),B)},0))}),k=Ei(o,"keydown",B=>{c.triggerEvent("keydown",B)?B.kill():c.stopBackspace&&(H=>H.raw.which===RO[0]&&!Qe(["input","textarea"],Ni(H.target))&&!bv(H.target,'[contenteditable="true"]'))(B)&&B.prevent()}),E=Ei(o,"focusin",B=>{c.triggerEvent("focusin",B)&&B.kill()}),O=ir(),L=Ei(o,"focusout",B=>{c.triggerEvent("focusout",B)&&B.kill(),O.set(setTimeout(()=>{c.triggerEvent(Ah(),B)},0))});return{unbind:()=>{Zt(h,B=>{B.unbind()}),k.unbind(),E.unbind(),L.unbind(),w.unbind(),b.on(clearTimeout),O.on(clearTimeout)}}},x3=(o,a)=>{const c=cn(o,"target").getOr(a);return Dn(c)},h2=Tl([{stopped:[]},{resume:["element"]},{complete:[]}]),uR=(o,a,c,d,h,b)=>{const w=o(a,d),k=((E,O)=>{const L=Dn(!1),B=Dn(!1);return{stop:()=>{L.set(!0)},cut:()=>{B.set(!0)},isStopped:L.get,isCut:B.get,event:E,setSource:O.set,getSource:O.get}})(c,h);return w.fold(()=>(b.logEventNoHandlers(a,d),h2.complete()),E=>{const O=E.descHandler;return Wy(O)(k),k.isStopped()?(b.logEventStopped(a,E.element,O.purpose),h2.stopped()):k.isCut()?(b.logEventCut(a,E.element,O.purpose),h2.complete()):si(E.element).fold(()=>(b.logNoParent(a,E.element,O.purpose),h2.complete()),L=>(b.logEventResponse(a,E.element,O.purpose),h2.resume(L)))})},p2=(o,a,c,d,h,b)=>uR(o,a,c,d,h,b).fold(Re,w=>p2(o,a,c,w,h,b),Ce),d_=(o,a,c,d,h)=>{const b=x3(c,d);return p2(o,a,c,d,b,h)},dR=()=>{const o=(()=>{const d={};return{registerId:(h,b,w)=>{Cn(w,(k,E)=>{const O=d[E]!==void 0?d[E]:{};O[b]=((L,B)=>({cHandler:Ge.apply(void 0,[L.handler].concat(B)),purpose:L.purpose}))(k,h),d[E]=O})},unregisterId:h=>{Cn(d,(b,w)=>{po(b,h)&&delete b[h]})},filterByType:h=>cn(d,h).map(b=>Es(b,(w,k)=>((E,O)=>({id:E,descHandler:O}))(k,w))).getOr([]),find:(h,b,w)=>cn(d,b).bind(k=>wg(w,E=>((O,L)=>Dg(L).bind(B=>cn(O,B)).map(B=>((H,K)=>({element:H,descHandler:K}))(L,B)))(k,E),h))}})(),a={},c=d=>{Dg(d.element).each(h=>{delete a[h],o.unregisterId(h)})};return{find:(d,h,b)=>o.find(d,h,b),filter:d=>o.filterByType(d),register:d=>{const h=(w=>{const k=w.element;return Dg(k).getOrThunk(()=>((E,O)=>{const L=fn(b1+"uid-");return v1(O,L),L})(0,w.element))})(d);io(a,h)&&((w,k)=>{const E=a[k];if(E!==w)throw new Error('The tagId "'+k+'" is already used by: '+dd(E.element)+`
Cannot use it for: `+dd(w.element)+`
The conflicting element is`+(nn(E.element)?" ":" not ")+"already in the DOM");c(w)})(d,h);const b=[d];o.registerId(b,h,d.events),a[h]=d},unregister:c,getById:d=>cn(a,d)}},Cd=Qc({name:"Container",factory:o=>{const{attributes:a,...c}=o.dom;return{uid:o.uid,dom:{tag:"div",attributes:{role:"presentation",...a},...c},components:o.components,behaviours:Vn(o.containerBehaviours),events:o.events,domModification:o.domModification,eventOrder:o.eventOrder}},configFields:[et("components",[]),mn("containerBehaviours",[]),et("events",{}),et("domModification",{}),et("eventOrder",{})]}),f_=o=>{const a=ce=>si(o.element).fold(Re,be=>Wo(ce,be)),c=dR(),d=(ce,be)=>c.find(a,ce,be),h=u_(o.element,{triggerEvent:(ce,be)=>fb(ce,be.target,ie=>((ae,me,ye,_e)=>d_(ae,me,ye,ye.target,_e))(d,ce,be,ie))}),b={debugInfo:re("real"),triggerEvent:(ce,be,ie)=>{fb(ce,be,ae=>d_(d,ce,ie,be,ae))},triggerFocus:(ce,be)=>{Dg(ce).fold(()=>{ki(ce)},ie=>{fb(ku(),ce,ae=>(((me,ye,_e,Fe,Xe)=>{const _t=x3(_e,Fe);uR(me,ye,_e,Fe,_t,Xe)})(d,ku(),{originator:be,kill:de,prevent:de,target:ce},ce,ae),!1))})},triggerEscape:(ce,be)=>{b.triggerEvent("keydown",ce.element,be.event)},getByUid:ce=>Y(ce),getByDom:ce=>se(ce),build:Aa,buildOrPatch:S1,addToGui:ce=>{E(ce)},removeFromGui:ce=>{O(ce)},addToWorld:ce=>{w(ce)},removeFromWorld:ce=>{k(ce)},broadcast:ce=>{B(ce)},broadcastOn:(ce,be)=>{H(ce,be)},broadcastEvent:(ce,be)=>{K(ce,be)},isConnected:Re},w=ce=>{ce.connect(b),ri(ce.element)||(c.register(ce),Zt(ce.components(),w),b.triggerEvent(Xd(),ce.element,{target:ce.element}))},k=ce=>{ri(ce.element)||(Zt(ce.components(),k),c.unregister(ce)),ce.disconnect()},E=ce=>{bf(o,ce)},O=ce=>{$i(ce)},L=ce=>{const be=c.filter(Ll());Zt(be,ie=>{const ae=ie.descHandler;Wy(ae)(ce)})},B=ce=>{L({universal:!0,data:ce})},H=(ce,be)=>{L({universal:!1,channels:ce,data:be})},K=(ce,be)=>((ie,ae,me)=>{const ye=(_e=>{const Fe=Dn(!1);return{stop:()=>{Fe.set(!0)},cut:de,isStopped:Fe.get,isCut:Ce,event:_e,setSource:Ze("Cannot set source of a broadcasted event"),getSource:Ze("Cannot get source of a broadcasted event")}})(ae);return Zt(ie,_e=>{const Fe=_e.descHandler;Wy(Fe)(ye)}),ye.isStopped()})(c.filter(ce),be),Y=ce=>c.getById(ce).fold(()=>_o.error(new Error('Could not find component with uid: "'+ce+'" in system.')),_o.value),se=ce=>{const be=Dg(ce).getOr("not found");return Y(be)};return w(o),{root:o,element:o.element,destroy:()=>{h.unbind(),Ca(o.element)},add:E,remove:O,getByUid:Y,getByDom:se,addToWorld:w,removeFromWorld:k,broadcast:B,broadcastOn:H,broadcastEvent:K}},p7=re([et("prefix","form-field"),mn("fieldBehaviours",[Vo,nt])]),w3=re([Jc({schema:[At("dom")],name:"label"}),Jc({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[At("text")],name:"aria-descriptor"}),ll({factory:{sketch:o=>{const a=((c,d)=>{const h={};return Cn(c,(b,w)=>{Qe(d,w)||(h[w]=b)}),h})(o,["factory"]);return o.factory.sketch(a)}},schema:[At("factory")],name:"field"})]),lr=xl({name:"FormField",configFields:p7(),partFields:w3(),factory:(o,a,c,d)=>{const h=co(o.fieldBehaviours,[Vo.config({find:k=>Ir(k,o,"field")}),nt.config({store:{mode:"manual",getValue:k=>Vo.getCurrent(k).bind(nt.getValue),setValue:(k,E)=>{Vo.getCurrent(k).each(O=>{nt.setValue(O,E)})}}})]),b=eo([Ur((k,E)=>{const O=pO(k,o,["label","field","aria-descriptor"]);O.field().each(L=>{const B=fn(o.prefix);O.label().each(H=>{Jt(H.element,"for",B),Jt(L.element,"id",B)}),O["aria-descriptor"]().each(H=>{const K=fn(o.prefix);Jt(H.element,"id",K),Jt(L.element,"aria-describedby",K)})})})]),w={getField:k=>Ir(k,o,"field"),getLabel:k=>Ir(k,o,"label")};return{uid:o.uid,dom:o.dom,components:a,behaviours:h,events:b,apis:w}},apis:{getField:(o,a)=>o.getField(a),getLabel:(o,a)=>o.getLabel(a)}});var b7=tinymce.util.Tools.resolve("tinymce.html.Entities");const b2=(o,a,c,d)=>{const h=v7(o,a,c,d);return lr.sketch(h)},v7=(o,a,c,d)=>({dom:m_(c),components:o.toArray().concat([a]),fieldBehaviours:Ft(d)}),m_=o=>({tag:"div",classes:["tox-form__group"].concat(o)}),up=(o,a)=>lr.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Cs(a.translate(o))]}),Zi=fn("form-component-change"),dp=fn("form-close"),eh=fn("form-cancel"),Af=fn("form-action"),v2=fn("form-submit"),C3=fn("form-block"),_3=fn("form-unblock"),fR=fn("form-tabchange"),g_=fn("form-resize"),mR=(o,a,c)=>{const d=o.label.map(B=>up(B,a)),h=a.icons(),b=B=>(H,K)=>{Tu(K.event.target,"[data-collection-item-value]").each(Y=>{B(H,K,Y,wo(Y,"data-collection-item-value"))})},w=b((B,H,K,Y)=>{H.stop(),a.isDisabled()||Sn(B,Af,{name:o.name,value:Y})}),k=[xt(_n(),b((B,H,K)=>{ki(K)})),xt(Js(),w),xt(Yd(),w),xt(Jo(),b((B,H,K)=>{Yr(B.element,"."+Im).each(Y=>{ps(Y,Im)}),us(K,Im)})),xt(Rs(),b(B=>{Yr(B.element,"."+Im).each(H=>{ps(H,Im),xb(H)})})),Zc(b((B,H,K,Y)=>{Sn(B,Af,{name:o.name,value:Y})}))],E=(B,H)=>bt(aa(B.element,".tox-collection__item"),H),O=lr.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(o.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Oe},behaviours:Ft([Kn.config({disabled:a.isDisabled,onDisabled:B=>{E(B,H=>{us(H,"tox-collection__item--state-disabled"),Jt(H,"aria-disabled",!0)})},onEnabled:B=>{E(B,H=>{ps(H,"tox-collection__item--state-disabled"),fo(H,"aria-disabled")})}}),ha(),zn.config({}),Us.config({...a.tooltips.getConfig({tooltipText:"",onShow:B=>{Yr(B.element,"."+Im+"[data-mce-tooltip]").each(H=>{Io(H,"data-mce-tooltip").each(K=>{Us.setComponents(B,a.tooltips.getComponents({tooltipText:K}))})})}}),mode:"children-keyboard-focus",anchor:B=>({type:"node",node:Yr(B.element,"."+Im).orThunk(()=>Xu(".tox-collection__item")),root:B.element,layouts:{onLtr:re([Bs,ds,bs,Vs,vs,xr]),onRtl:re([Bs,ds,bs,Vs,vs,xr])},bubble:Hl(0,-2,{})})}),nt.config({store:{mode:"memory",initialValue:c.getOr([])},onSetValue:(B,H)=>{((K,Y)=>{const se=bt(Y,ie=>{const ae=Iu.translate(ie.text),me=o.columns===1?`<div class="tox-collection__item-label">${ae}</div>`:"",ye=`<div class="tox-collection__item-icon">${(Xe=>{var _t;return(_t=h[Xe])!==null&&_t!==void 0?_t:Xe})(ie.icon)}</div>`,_e={_:" "," - ":" ","-":" "},Fe=ae.replace(/\_| \- |\-/g,Xe=>_e[Xe]);return`<div data-mce-tooltip="${Fe}" class="tox-collection__item${a.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${b7.encodeAllRaw(ie.value)}" aria-label="${Fe}">${ye}${me}</div>`}),ce=o.columns!=="auto"&&o.columns>1?pt(se,o.columns):[se],be=bt(ce,ie=>`<div class="tox-collection__group">${ie.join("")}</div>`);kg(K.element,be.join(""))})(B,H),o.columns==="auto"&&UE(B,5,"tox-collection__item").each(({numRows:K,numColumns:Y})=>{An.setGridSize(B,K,Y)}),go(B,g_)}}),Dr.config({}),An.config((L=o.columns,L===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:L==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${WC}`}})),uo("collection-events",k)]),eventOrder:{[ol()]:["disabling","alloy.base.behaviour","collection-events"],[Jo()]:["collection-events","tooltipping"]}});var L;return b2(d,O,["tox-form__group--collection"],[])},gR=["input","textarea"],h_=o=>{const a=Ni(o);return Qe(gR,a)},hR=(o,a)=>{const c=a.getRoot(o).getOr(o.element);ps(c,a.invalidClass),a.notify.each(d=>{h_(o.element)&&Jt(o.element,"aria-invalid",!1),d.getContainer(o).each(h=>{kg(h,d.validHtml)}),d.onValid(o)})},S3=(o,a,c,d)=>{const h=a.getRoot(o).getOr(o.element);us(h,a.invalidClass),a.notify.each(b=>{h_(o.element)&&Jt(o.element,"aria-invalid",!0),b.getContainer(o).each(w=>{kg(w,d)}),b.onInvalid(o,d)})},pR=(o,a,c)=>a.validator.fold(()=>Pm(_o.value(!0)),d=>d.validate(o)),k3=(o,a,c)=>(a.notify.each(d=>{d.onValidate(o)}),pR(o,a).map(d=>o.getSystem().isConnected()?d.fold(h=>(S3(o,a,0,h),_o.error(h)),h=>(hR(o,a),_o.value(h))):_o.error("No longer in system")));var y7=Object.freeze({__proto__:null,markValid:hR,markInvalid:S3,query:pR,run:k3,isInvalid:(o,a)=>{const c=a.getRoot(o).getOr(o.element);return zi(c,a.invalidClass)}}),bR=Object.freeze({__proto__:null,events:(o,a)=>o.validator.map(c=>eo([xt(c.onEvent,d=>{k3(d,o).get(Oe)})].concat(c.validateOnLoad?[Ur(d=>{k3(d,o).get(de)})]:[]))).getOr({})}),x7=[At("invalidClass"),et("getRoot",R.none),gs("notify",[et("aria","alert"),et("getContainer",R.none),et("validHtml",""),Fo("onValid"),Fo("onInvalid"),Fo("onValidate")]),gs("validator",[At("validate"),et("onEvent","input"),et("validateOnLoad",!0)])];const Lm=ga({fields:x7,name:"invalidating",active:bR,apis:y7,extra:{validation:o=>a=>{const c=nt.getValue(a);return Pm(o(c))}}}),f0=ga({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>eo([Dh(Za(),Re)]),exhibit:()=>Ns({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),E3=fn("color-input-change"),A3=fn("color-swatch-change"),vR=fn("color-picker-cancel"),T3=Jc({schema:[At("dom")],name:"label"}),fp=o=>Jc({name:o+"-edge",overrides:a=>a.model.manager.edgeActions[o].fold(()=>({}),c=>({events:eo([Ay(Z(),(d,h,b)=>c(d,b),[a]),Ay(Tt(),(d,h,b)=>c(d,b),[a]),Ay(Ln(),(d,h,b)=>{b.mouseIsDown.get()&&c(d,b)},[a])])}))}),w7=fp("top-left"),C7=fp("top"),_7=fp("top-right"),S7=fp("right"),yR=fp("bottom-right"),O3=fp("bottom"),k7=fp("bottom-left"),p_=fp("left"),E7=ll({name:"thumb",defaults:re({dom:{styles:{position:"absolute"}}}),overrides:o=>({events:eo([Nh(Z(),o,"spectrum"),Nh(te(),o,"spectrum"),Nh(Ae(),o,"spectrum"),Nh(Tt(),o,"spectrum"),Nh(Ln(),o,"spectrum"),Nh(Yn(),o,"spectrum")])})}),b_=o=>Tm(o.event);var A7=[T3,p_,S7,C7,O3,w7,_7,k7,yR,E7,ll({schema:[Sa("mouseIsDown",()=>Dn(!1))],name:"spectrum",overrides:o=>{const a=o.model.manager,c=(d,h)=>a.getValueFromEvent(h).map(b=>a.setValueFrom(d,o,b));return{behaviours:Ft([An.config({mode:"special",onLeft:(d,h)=>a.onLeft(d,o,b_(h)),onRight:(d,h)=>a.onRight(d,o,b_(h)),onUp:(d,h)=>a.onUp(d,o,b_(h)),onDown:(d,h)=>a.onDown(d,o,b_(h))}),Dr.config({}),Zn.config({})]),events:eo([xt(Z(),c),xt(te(),c),xt(Tt(),c),xt(Ln(),(d,h)=>{o.mouseIsDown.get()&&c(d,h)})])}}})];const y2=re("slider.change.value"),D3=o=>{const a=o.event.raw;if((c=>c.type.indexOf("touch")!==-1)(a)){const c=a;return c.touches!==void 0&&c.touches.length===1?R.some(c.touches[0]).map(d=>Mr(d.clientX,d.clientY)):R.none()}{const c=a;return c.clientX!==void 0?R.some(c).map(d=>Mr(d.clientX,d.clientY)):R.none()}},m0=o=>o.model.minX,mp=o=>o.model.minY,v_=o=>o.model.minX-1,y_=o=>o.model.minY-1,th=o=>o.model.maxX,zu=o=>o.model.maxY,x_=o=>o.model.maxX+1,w_=o=>o.model.maxY+1,C_=(o,a,c)=>a(o)-c(o),__=o=>C_(o,th,m0),R3=o=>C_(o,zu,mp),xR=o=>__(o)/2,N3=o=>R3(o)/2,vv=(o,a)=>a?o.stepSize*o.speedMultiplier:o.stepSize,I3=o=>o.snapToGrid,B3=o=>o.snapStart,S_=o=>o.rounded,k_=(o,a)=>o[a+"-edge"]!==void 0,M3=o=>k_(o,"left"),wR=o=>k_(o,"right"),yv=o=>k_(o,"top"),CR=o=>k_(o,"bottom"),nh=o=>o.model.value.get(),Fm=(o,a)=>({x:o,y:a}),ru=(o,a)=>{Sn(o,y2(),{value:a})},P3=(o,a,c,d)=>o<a?o:o>c?c:o===a?a-1:Math.max(a,o-d),x2=(o,a,c,d)=>o>c?o:o<a?a:o===c?c+1:Math.min(c,o+d),_R=(o,a,c)=>Math.max(a,Math.min(c,o)),SR=o=>{const{min:a,max:c,range:d,value:h,step:b,snap:w,snapStart:k,rounded:E,hasMinEdge:O,hasMaxEdge:L,minBound:B,maxBound:H,screenRange:K}=o,Y=O?a-1:a,se=L?c+1:c;if(h<B)return Y;if(h>H)return se;{const ce=((ie,ae,me)=>Math.min(me,Math.max(ie,ae))-ae)(h,B,H),be=_R(ce/K*d+a,Y,se);return w&&be>=a&&be<=c?((ie,ae,me,ye,_e)=>_e.fold(()=>{const Fe=ie-ae,Xe=Math.round(Fe/ye)*ye;return _R(ae+Xe,ae-1,me+1)},Fe=>{const Xe=(ie-Fe)%ye,_t=Math.round(Xe/ye),vt=Math.floor((ie-Fe)/ye),gt=Math.floor((me-Fe)/ye),Bt=Fe+Math.min(gt,vt+_t)*ye;return Math.max(Fe,Bt)}))(be,a,c,b,k):E?Math.round(be):be}},E_=o=>{const{min:a,max:c,range:d,value:h,hasMinEdge:b,hasMaxEdge:w,maxBound:k,maxOffset:E,centerMinEdge:O,centerMaxEdge:L}=o;return h<a?b?0:O:h>c?w?k:L:(h-a)/d*E},L3="top",kR="right",ER="bottom",F3="left",zm=o=>o.element.dom.getBoundingClientRect(),_d=(o,a)=>o[a],A_=o=>{const a=zm(o);return _d(a,F3)},AR=o=>{const a=zm(o);return _d(a,kR)},T_=o=>{const a=zm(o);return _d(a,L3)},TR=o=>{const a=zm(o);return _d(a,ER)},OR=o=>{const a=zm(o);return _d(a,"width")},DR=o=>{const a=zm(o);return _d(a,"height")},O_=(o,a,c)=>(o+a)/2-c,RR=(o,a)=>{const c=zm(o),d=zm(a),h=_d(c,F3),b=_d(c,kR),w=_d(d,F3);return O_(h,b,w)},NR=(o,a)=>{const c=zm(o),d=zm(a),h=_d(c,L3),b=_d(c,ER),w=_d(d,L3);return O_(h,b,w)},D_=(o,a)=>{Sn(o,y2(),{value:a})},R_=(o,a,c)=>{const d={min:m0(a),max:th(a),range:__(a),value:c,step:vv(a),snap:I3(a),snapStart:B3(a),rounded:S_(a),hasMinEdge:M3(a),hasMaxEdge:wR(a),minBound:A_(o),maxBound:AR(o),screenRange:OR(o)};return SR(d)},IR=o=>(a,c,d)=>((h,b,w,k)=>{const E=(h>0?x2:P3)(nh(w),m0(w),th(w),vv(w,k));return D_(b,E),R.some(E)})(o,a,c,d).map(Re),z3=(o,a,c,d,h,b)=>{const w=((k,E,O,L,B)=>{const H=OR(k),K=L.bind(ce=>R.some(RR(ce,k))).getOr(0),Y=B.bind(ce=>R.some(RR(ce,k))).getOr(H),se={min:m0(E),max:th(E),range:__(E),value:O,hasMinEdge:M3(E),hasMaxEdge:wR(E),minBound:A_(k),minOffset:0,maxBound:AR(k),maxOffset:H,centerMinEdge:K,centerMaxEdge:Y};return E_(se)})(a,b,c,d,h);return A_(a)-A_(o)+w},T7=IR(-1),O7=IR(1),D7=R.none,R7=R.none,H3={"top-left":R.none(),top:R.none(),"top-right":R.none(),right:R.some((o,a)=>{ru(o,x_(a))}),"bottom-right":R.none(),bottom:R.none(),"bottom-left":R.none(),left:R.some((o,a)=>{ru(o,v_(a))})};var N7=Object.freeze({__proto__:null,setValueFrom:(o,a,c)=>{const d=R_(o,a,c);return D_(o,d),d},setToMin:(o,a)=>{const c=m0(a);D_(o,c)},setToMax:(o,a)=>{const c=th(a);D_(o,c)},findValueOfOffset:R_,getValueFromEvent:o=>D3(o).map(a=>a.left),findPositionOfValue:z3,setPositionFromValue:(o,a,c,d)=>{const h=nh(c),b=z3(o,d.getSpectrum(o),h,d.getLeftEdge(o),d.getRightEdge(o),c),w=ua(a.element)/2;Xn(a.element,"left",b-w+"px")},onLeft:T7,onRight:O7,onUp:D7,onDown:R7,edgeActions:H3});const N_=(o,a)=>{Sn(o,y2(),{value:a})},V3=(o,a,c)=>{const d={min:mp(a),max:zu(a),range:R3(a),value:c,step:vv(a),snap:I3(a),snapStart:B3(a),rounded:S_(a),hasMinEdge:yv(a),hasMaxEdge:CR(a),minBound:T_(o),maxBound:TR(o),screenRange:DR(o)};return SR(d)},BR=o=>(a,c,d)=>((h,b,w,k)=>{const E=(h>0?x2:P3)(nh(w),mp(w),zu(w),vv(w,k));return N_(b,E),R.some(E)})(o,a,c,d).map(Re),$3=(o,a,c,d,h,b)=>{const w=((k,E,O,L,B)=>{const H=DR(k),K=L.bind(ce=>R.some(NR(ce,k))).getOr(0),Y=B.bind(ce=>R.some(NR(ce,k))).getOr(H),se={min:mp(E),max:zu(E),range:R3(E),value:O,hasMinEdge:yv(E),hasMaxEdge:CR(E),minBound:T_(k),minOffset:0,maxBound:TR(k),maxOffset:H,centerMinEdge:K,centerMaxEdge:Y};return E_(se)})(a,b,c,d,h);return T_(a)-T_(o)+w},I7=R.none,B7=R.none,M7=BR(-1),P7=BR(1),L7={"top-left":R.none(),top:R.some((o,a)=>{ru(o,y_(a))}),"top-right":R.none(),right:R.none(),"bottom-right":R.none(),bottom:R.some((o,a)=>{ru(o,w_(a))}),"bottom-left":R.none(),left:R.none()};var F7=Object.freeze({__proto__:null,setValueFrom:(o,a,c)=>{const d=V3(o,a,c);return N_(o,d),d},setToMin:(o,a)=>{const c=mp(a);N_(o,c)},setToMax:(o,a)=>{const c=zu(a);N_(o,c)},findValueOfOffset:V3,getValueFromEvent:o=>D3(o).map(a=>a.top),findPositionOfValue:$3,setPositionFromValue:(o,a,c,d)=>{const h=nh(c),b=$3(o,d.getSpectrum(o),h,d.getTopEdge(o),d.getBottomEdge(o),c),w=ms(a.element)/2;Xn(a.element,"top",b-w+"px")},onLeft:I7,onRight:B7,onUp:M7,onDown:P7,edgeActions:L7});const I_=(o,a)=>{Sn(o,y2(),{value:a})},B_=(o,a)=>({x:o,y:a}),g0=(o,a)=>(c,d,h)=>((b,w,k,E,O)=>{const L=b>0?x2:P3,B=w?nh(E).x:L(nh(E).x,m0(E),th(E),vv(E,O)),H=w?L(nh(E).y,mp(E),zu(E),vv(E,O)):nh(E).y;return I_(k,B_(B,H)),R.some(B)})(o,a,c,d,h).map(Re),z7=g0(-1,!1),U3=g0(1,!1),H7=g0(-1,!0),V7=g0(1,!0),$7={"top-left":R.some((o,a)=>{ru(o,Fm(v_(a),y_(a)))}),top:R.some((o,a)=>{ru(o,Fm(xR(a),y_(a)))}),"top-right":R.some((o,a)=>{ru(o,Fm(x_(a),y_(a)))}),right:R.some((o,a)=>{ru(o,Fm(x_(a),N3(a)))}),"bottom-right":R.some((o,a)=>{ru(o,Fm(x_(a),w_(a)))}),bottom:R.some((o,a)=>{ru(o,Fm(xR(a),w_(a)))}),"bottom-left":R.some((o,a)=>{ru(o,Fm(v_(a),w_(a)))}),left:R.some((o,a)=>{ru(o,Fm(v_(a),N3(a)))})};var MR=Object.freeze({__proto__:null,setValueFrom:(o,a,c)=>{const d=R_(o,a,c.left),h=V3(o,a,c.top),b=B_(d,h);return I_(o,b),b},setToMin:(o,a)=>{const c=m0(a),d=mp(a);I_(o,B_(c,d))},setToMax:(o,a)=>{const c=th(a),d=zu(a);I_(o,B_(c,d))},getValueFromEvent:o=>D3(o),setPositionFromValue:(o,a,c,d)=>{const h=nh(c),b=z3(o,d.getSpectrum(o),h.x,d.getLeftEdge(o),d.getRightEdge(o),c),w=$3(o,d.getSpectrum(o),h.y,d.getTopEdge(o),d.getBottomEdge(o),c),k=ua(a.element)/2,E=ms(a.element)/2;Xn(a.element,"left",b-k+"px"),Xn(a.element,"top",w-E+"px")},onLeft:z7,onRight:U3,onUp:H7,onDown:V7,edgeActions:$7});const Sd=xl({name:"Slider",configFields:[et("stepSize",1),et("speedMultiplier",10),et("onChange",de),et("onChoose",de),et("onInit",de),et("onDragStart",de),et("onDragEnd",de),et("snapToGrid",!1),et("rounded",!0),Bo("snapStart"),ka("model",Xs("mode",{x:[et("minX",0),et("maxX",100),Sa("value",o=>Dn(o.mode.minX)),At("getInitialValue"),Rr("manager",N7)],y:[et("minY",0),et("maxY",100),Sa("value",o=>Dn(o.mode.minY)),At("getInitialValue"),Rr("manager",F7)],xy:[et("minX",0),et("maxX",100),et("minY",0),et("maxY",100),Sa("value",o=>Dn({x:o.mode.minX,y:o.mode.minY})),At("getInitialValue"),Rr("manager",MR)]})),mn("sliderBehaviours",[An,nt]),Sa("mouseIsDown",()=>Dn(!1))],partFields:A7,factory:(o,a,c,d)=>{const h=ie=>Zg(ie,o,"thumb"),b=ie=>Zg(ie,o,"spectrum"),w=ie=>Ir(ie,o,"left-edge"),k=ie=>Ir(ie,o,"right-edge"),E=ie=>Ir(ie,o,"top-edge"),O=ie=>Ir(ie,o,"bottom-edge"),L=o.model,B=L.manager,H=(ie,ae)=>{B.setPositionFromValue(ie,ae,o,{getLeftEdge:w,getRightEdge:k,getTopEdge:E,getBottomEdge:O,getSpectrum:b})},K=(ie,ae)=>{L.value.set(ae);const me=h(ie);H(ie,me)},Y=ie=>{const ae=o.mouseIsDown.get();o.mouseIsDown.set(!1),ae&&Ir(ie,o,"thumb").each(me=>{const ye=L.value.get();o.onChoose(ie,me,ye)})},se=(ie,ae)=>{ae.stop(),o.mouseIsDown.set(!0),o.onDragStart(ie,h(ie))},ce=(ie,ae)=>{ae.stop(),o.onDragEnd(ie,h(ie)),Y(ie)},be=ie=>{Ir(ie,o,"spectrum").map(An.focusIn)};return{uid:o.uid,dom:o.dom,components:a,behaviours:co(o.sliderBehaviours,[An.config({mode:"special",focusIn:be}),nt.config({store:{mode:"manual",getValue:ie=>L.value.get(),setValue:K}}),al.config({channels:{[U()]:{onReceive:Y}}})]),events:eo([xt(y2(),(ie,ae)=>{((me,ye)=>{K(me,ye);const _e=h(me);o.onChange(me,_e,ye)})(ie,ae.event.value)}),Ur((ie,ae)=>{const me=L.getInitialValue();L.value.set(me);const ye=h(ie);H(ie,ye);const _e=b(ie);o.onInit(ie,ye,_e,L.value.get())}),xt(Z(),se),xt(Ae(),ce),xt(Tt(),(ie,ae)=>{be(ie),se(ie,ae)}),xt(Yn(),ce)]),apis:{resetToMin:ie=>{B.setToMin(ie,o)},resetToMax:ie=>{B.setToMax(ie,o)},setValue:K,refresh:H},domModification:{styles:{position:"relative"}}}},apis:{setValue:(o,a,c)=>{o.setValue(a,c)},resetToMin:(o,a)=>{o.resetToMin(a)},resetToMax:(o,a)=>{o.resetToMax(a)},refresh:(o,a)=>{o.refresh(a)}}}),w2=fn("rgb-hex-update"),M_=fn("slider-update"),W3=fn("palette-update"),P_="form",L_=[mn("formBehaviours",[nt])],Z3=o=>"<alloy.field."+o+">",Hm=(o,a)=>({uid:o.uid,dom:o.dom,components:a,behaviours:co(o.formBehaviours,[nt.config({store:{mode:"manual",getValue:c=>{const d=Mk(c,o);return En(d,(h,b)=>h().bind(w=>{return k=Vo.getCurrent(w),E=new Error(`Cannot find a current component to extract the value from for form part '${b}': `+dd(w.element)),k.fold(()=>_o.error(E),_o.value);var k,E}).map(nt.getValue))},setValue:(c,d)=>{Cn(d,(h,b)=>{Ir(c,o,b).each(w=>{Vo.getCurrent(w).each(k=>{nt.setValue(k,h)})})})}}})]),apis:{getField:(c,d)=>Ir(c,o,d).bind(Vo.getCurrent)}}),gp={getField:w1((o,a,c)=>o.getField(a,c)),sketch:o=>{const a=(()=>{const b=[];return{field:(w,k)=>(b.push(w),Nk(P_,Z3(w),k)),record:re(b)}})(),c=o(a),d=a.record(),h=bt(d,b=>ll({name:b,pname:Z3(b)}));return bx(P_,L_,h,Hm,c)}},PR=fn("valid-input"),LR=fn("invalid-input"),FR=fn("validating-input"),j3="colorcustom.rgb.",C2={isEnabled:Re,setEnabled:de,immediatelyShow:de,immediatelyHide:de},U7=(o,a,c,d,h,b)=>{const w=(K,Y)=>{const se=Y.get();K!==se.isEnabled()&&(se.setEnabled(K),K?se.immediatelyShow():se.immediatelyHide())},k=(K,Y,se)=>Lm.config({invalidClass:a("invalid"),notify:{onValidate:ce=>{Sn(ce,FR,{type:K})},onValid:ce=>{w(!1,se),Sn(ce,PR,{type:K,value:nt.getValue(ce)})},onInvalid:ce=>{w(!0,se),Sn(ce,LR,{type:K,value:nt.getValue(ce)})}},validator:{validate:ce=>{const be=nt.getValue(ce),ie=Y(be)?_o.value(!0):_o.error(o("aria.input.invalid"));return Pm(ie)},validateOnLoad:!1}}),E=(K,Y,se,ce,be)=>{const ie=Dn(C2),ae=o(j3+"range"),me=lr.parts.label({dom:{tag:"label",attributes:{"aria-label":ce}},components:[Cs(se)]}),ye=lr.parts.field({data:be,factory:Yg,inputAttributes:{type:"text",...Y==="hex"?{"aria-live":"polite"}:{}},inputClasses:[a("textfield")],inputBehaviours:Ft([k(Y,K,ie),Dr.config({}),Us.config({...h({tooltipText:"",onSetup:gt=>{ie.set({isEnabled:()=>Us.isEnabled(gt),setEnabled:Bt=>Us.setEnabled(gt,Bt),immediatelyShow:()=>Us.immediateOpenClose(gt,!0),immediatelyHide:()=>Us.immediateOpenClose(gt,!1)}),Us.setEnabled(gt,!1)},onShow:(gt,Bt)=>{Us.setComponents(gt,[{dom:{tag:"p",classes:[a("rgb-warning-note")]},components:[Cs(o(Y==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:gt=>{Lm.isInvalid(gt)&&Lm.run(gt).get(de)}}),_e=fn("aria-invalid"),Fe=tr(b("invalid",R.some(_e),"warning")),Xe=[me,ye,tr({dom:{tag:"div",classes:[a("invalid-icon")]},components:[Fe.asSpec()]}).asSpec()],_t=Y!=="hex"?[lr.parts["aria-descriptor"]({text:ae})]:[],vt=Xe.concat(_t);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[a("rgb-container")]},components:vt}},O=(K,Y)=>{const se=Y.red,ce=Y.green,be=Y.blue;nt.setValue(K,{red:se,green:ce,blue:be})},L=tr({dom:{tag:"div",classes:[a("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),B=(K,Y)=>{L.getOpt(K).each(se=>{Xn(se.element,"background-color","#"+Y.value)})};return Qc({factory:()=>{const K={red:Dn(R.some(255)),green:Dn(R.some(255)),blue:Dn(R.some(255)),hex:Dn(R.some("ffffff"))},Y=Xe=>K[Xe].get(),se=(Xe,_t)=>{K[Xe].set(_t)},ce=Xe=>{const _t=Xe.red,vt=Xe.green,gt=Xe.blue;se("red",R.some(_t)),se("green",R.some(vt)),se("blue",R.some(gt))},be=(Xe,_t)=>{const vt=_t.event;vt.type!=="hex"?se(vt.type,R.none()):d(Xe)},ie=(Xe,_t)=>{const vt=_t.event;(gt=>gt.type==="hex")(vt)?((gt,Bt)=>{c(gt);const sn=qE(Bt);se("hex",R.some(sn.value));const bn=wd(sn);O(gt,bn),ce(bn),Sn(gt,w2,{hex:sn}),B(gt,sn)})(Xe,vt.value):((gt,Bt,sn)=>{const bn=parseInt(sn,10);se(Bt,R.some(bn)),Y("red").bind(In=>Y("green").bind(qn=>Y("blue").map(So=>Qg(In,qn,So,1)))).each(In=>{const qn=((So,zr)=>{const Xr=c2(zr);return gp.getField(So,"hex").each(mo=>{Zn.isFocused(mo)||nt.setValue(So,{hex:Xr.value})}),Xr})(gt,In);Sn(gt,w2,{hex:qn}),B(gt,qn)})})(Xe,vt.type,vt.value)},ae=Xe=>({label:o(j3+Xe+".label"),description:o(j3+Xe+".description")}),me=ae("red"),ye=ae("green"),_e=ae("blue"),Fe=ae("hex");return yr(gp.sketch(Xe=>({dom:{tag:"form",classes:[a("rgb-form")],attributes:{"aria-label":o("aria.color.picker")}},components:[Xe.field("red",lr.sketch(E(u2,"red",me.label,me.description,255))),Xe.field("green",lr.sketch(E(u2,"green",ye.label,ye.description,255))),Xe.field("blue",lr.sketch(E(u2,"blue",_e.label,_e.description,255))),Xe.field("hex",lr.sketch(E(ID,"hex",Fe.label,Fe.description,"ffffff"))),L.asSpec()],formBehaviours:Ft([Lm.config({invalidClass:a("form-invalid")}),uo("rgb-form-events",[xt(PR,ie),xt(LR,be),xt(FR,be)])])})),{apis:{updateHex:(Xe,_t)=>{nt.setValue(Xe,{hex:_t.value}),((vt,gt)=>{const Bt=wd(gt);O(vt,Bt),ce(Bt)})(Xe,_t),B(Xe,_t)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(K,Y,se)=>{K.updateHex(Y,se)}},extraApis:{}})},zR=(o,a,c,d)=>Qc({name:"ColourPicker",configFields:[At("dom"),et("onValidHex",de),et("onInvalidHex",de)],factory:b=>{const w=U7(o,a,b.onValidHex,b.onInvalidHex,c,d),k=((be,ie)=>{const ae=Sd.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[ie("sv-palette-spectrum")]}}),me=Sd.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[ie("sv-palette-thumb")],innerHtml:`<div class=${ie("sv-palette-inner-thumb")} role="presentation"></div>`}}),ye=(_e,Fe)=>{const{width:Xe,height:_t}=_e,vt=_e.getContext("2d");if(vt===null)return;vt.fillStyle=Fe,vt.fillRect(0,0,Xe,_t);const gt=vt.createLinearGradient(0,0,Xe,0);gt.addColorStop(0,"rgba(255,255,255,1)"),gt.addColorStop(1,"rgba(255,255,255,0)"),vt.fillStyle=gt,vt.fillRect(0,0,Xe,_t);const Bt=vt.createLinearGradient(0,0,0,_t);Bt.addColorStop(0,"rgba(0,0,0,0)"),Bt.addColorStop(1,"rgba(0,0,0,1)"),vt.fillStyle=Bt,vt.fillRect(0,0,Xe,_t)};return Qc({factory:_e=>{const Fe=re({x:0,y:0}),Xe=Ft([Vo.config({find:R.some}),Zn.config({})]);return Sd.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":be(["Saturation {0}%, Brightness {1}%",0,0])},classes:[ie("sv-palette")]},model:{mode:"xy",getInitialValue:Fe},rounded:!1,components:[ae,me],onChange:(_t,vt,gt)=>{Q(gt)||Jt(_t.element,"aria-valuetext",be(["Saturation {0}%, Brightness {1}%",Math.floor(gt.x),Math.floor(100-gt.y)])),Sn(_t,W3,{value:gt})},onInit:(_t,vt,gt,Bt)=>{ye(gt.element.dom,LD(FD))},sliderBehaviours:Xe})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(_e,Fe,Xe)=>{((_t,vt)=>{const gt=_t.components()[0].element.dom,Bt=gv(vt,100,100),sn=PD(Bt);ye(gt,LD(sn))})(Fe,Xe)},setThumb:(_e,Fe,Xe)=>{((_t,vt)=>{const gt=r_(wd(vt));Sd.setValue(_t,{x:gt.saturation,y:100-gt.value}),Jt(_t.element,"aria-valuetext",be(["Saturation {0}%, Brightness {1}%",gt.saturation,gt.value]))})(Fe,Xe)}},extraApis:{}})})(o,a),E={paletteRgba:Dn(FD),paletteHue:Dn(0)},O=tr(((be,ie)=>{const ae=Sd.parts.spectrum({dom:{tag:"div",classes:[ie("hue-slider-spectrum")],attributes:{role:"presentation"}}}),me=Sd.parts.thumb({dom:{tag:"div",classes:[ie("hue-slider-thumb")],attributes:{role:"presentation"}}});return Sd.sketch({dom:{tag:"div",classes:[ie("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:re(0)},components:[ae,me],sliderBehaviours:Ft([Zn.config({})]),onChange:(ye,_e,Fe)=>{Jt(ye.element,"aria-valuenow",Math.floor(360-3.6*Fe)),Sn(ye,M_,{value:Fe})}})})(0,a)),L=tr(k.sketch({})),B=tr(w.sketch({})),H=(be,ie,ae)=>{L.getOpt(be).each(me=>{k.setHue(me,ae)})},K=(be,ie)=>{B.getOpt(be).each(ae=>{w.updateHex(ae,ie)})},Y=(be,ie,ae)=>{O.getOpt(be).each(me=>{Sd.setValue(me,(ye=>100-ye/360*100)(ae))})},se=(be,ie)=>{L.getOpt(be).each(ae=>{k.setThumb(ae,ie)})},ce=(be,ie,ae,me)=>{((ye,_e)=>{const Fe=wd(ye);E.paletteRgba.set(Fe),E.paletteHue.set(_e)})(ie,ae),Zt(me,ye=>{ye(be,ie,ae)})};return{uid:b.uid,dom:b.dom,components:[L.asSpec(),O.asSpec(),B.asSpec()],behaviours:Ft([uo("colour-picker-events",[xt(w2,(()=>{const be=[H,Y,se];return(ie,ae)=>{const me=ae.event.hex,ye=(_e=>r_(wd(_e)))(me);ce(ie,me,ye.hue,be)}})()),xt(W3,(()=>{const be=[K];return(ie,ae)=>{const me=ae.event.value,ye=E.paletteHue.get(),_e=gv(ye,me.x,100-me.y),Fe=s_(_e);ce(ie,Fe,ye,be)}})()),xt(M_,(()=>{const be=[H,K];return(ie,ae)=>{const me=(_t=>(100-_t)/100*360)(ae.event.value),ye=E.paletteRgba.get(),_e=r_(ye),Fe=gv(me,_e.saturation,_e.value),Xe=s_(Fe);ce(ie,Xe,me,be)}})())]),Vo.config({find:be=>B.getOpt(be)}),An.config({mode:"acyclic"})])}}}),Vm=()=>Vo.config({find:R.some}),K3=o=>Vo.config({find:a=>Kr(a.element,o).bind(c=>a.getSystem().getByDom(c).toOptional())}),q3=Pn([et("preprocess",Oe),et("postprocess",Oe)]),G3=(o,a)=>{const c=li("RepresentingConfigs.memento processors",q3,a);return nt.config({store:{mode:"manual",getValue:d=>{const h=o.get(d),b=nt.getValue(h);return c.postprocess(b)},setValue:(d,h)=>{const b=c.preprocess(h),w=o.get(d);nt.setValue(w,b)}}})},h0=(o,a,c)=>nt.config({store:{mode:"manual",...o.map(d=>({initialValue:d})).getOr({}),getValue:a,setValue:c}}),Y3=(o,a,c)=>h0(o,d=>a(d.element),(d,h)=>c(d.element,h)),_2=o=>nt.config({store:{mode:"memory",initialValue:o}}),W7={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var HR=tinymce.util.Tools.resolve("tinymce.Resource");const X3=o=>po(o,"init");var oh=tinymce.util.Tools.resolve("tinymce.util.Tools");const J3=(o,a)=>{let c=null;const d=()=>{N(c)||(clearTimeout(c),c=null)};return{cancel:d,throttle:(...h)=>{d(),c=setTimeout(()=>{c=null,o.apply(null,h)},a)}}},Q3=fn("alloy-fake-before-tabstop"),eA=fn("alloy-fake-after-tabstop"),VR=o=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:o},behaviours:Ft([Zn.config({ignore:!0}),Dr.config({})])}),tA=(o,a)=>({dom:{tag:"div",classes:["tox-navobj",...o.getOr([])]},components:[VR([Q3]),a,VR([eA])],behaviours:Ft([K3(1)])}),nA=(o,a)=>{Sn(o,cs(),{raw:{which:9,shiftKey:a}})},Z7=(o,a)=>{const c=a.element;zi(c,Q3)?nA(o,!0):zi(c,eA)&&nA(o,!1)},xv=o=>bv(o,["."+Q3,"."+eA].join(","),Ce),hp=fn("update-dialog"),oA=fn("update-title"),$R=fn("update-body"),UR=fn("update-footer"),rA=fn("body-send-message"),F_=fn("dialog-focus-shifted"),sA=Va().browser,wv=sA.isSafari(),WR=sA.isFirefox(),aA=wv||WR,ZR=sA.isChromium(),j7=({scrollTop:o,scrollHeight:a,clientHeight:c})=>Math.ceil(o)+c>=a,jR=(o,a)=>o.scrollTo(0,a==="bottom"?99999999:a),iA=(o,a,c)=>{const d=o.dom;R.from(d.contentDocument).fold(c,h=>{let b=0;const w=((E,O)=>{const L=E.body;return R.from(!/^<!DOCTYPE (html|HTML)/.test(O)&&(!ZR&&!wv||$(L)&&(L.scrollTop!==0||Math.abs(L.scrollHeight-L.clientHeight)>1))?L:E.documentElement)})(h,a).map(E=>(b=E.scrollTop,E)).forall(j7),k=()=>{const E=d.contentWindow;$(E)&&(w?jR(E,"bottom"):!w&&aA&&b!==0&&jR(E,b))};wv&&d.addEventListener("load",k,{once:!0}),h.open(),h.write(a),h.close(),wv||k()})},lA=Uo(aA,wv?500:200).map(o=>((a,c)=>{let d=null,h=null;return{cancel:()=>{N(d)||(clearTimeout(d),d=null,h=null)},throttle:(...b)=>{h=b,N(d)&&(d=setTimeout(()=>{const w=h;d=null,h=null,a.apply(null,w)},c))}}})(iA,o)),z_=fn("toolbar.button.execute"),pp=fn("common-button-display-events"),cA={[ol()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[ja()]:["toolbar-button-events",pp],[ic()]:["toolbar-button-events","dropdown-events","tooltipping"],[Tt()]:["focusing","alloy.base.behaviour",pp]},H_=o=>Xn(o.element,"width",as(o.element,"width")),KR=(o,a,c)=>wc(o,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:c},a),S2=(o,a)=>KR(o,a,[]),bp=(o,a)=>KR(o,a,[zn.config({})]),uA=(o,a,c)=>({dom:{tag:"span",classes:[`${a}__select-label`]},components:[Cs(c.translate(o))],behaviours:Ft([zn.config({})])}),su=fn("update-menu-text"),Hu=fn("update-menu-icon"),dA=(o,a,c,d)=>{const h=Dn(de),b=o.text.map(se=>tr(uA(se,a,c.providers))),w=o.icon.map(se=>tr(bp(se,c.providers.icons))),k=(se,ce)=>{const be=nt.getValue(se);return Zn.focus(be),Sn(be,"keydown",{raw:ce.event.raw}),cl.close(be),R.some(!0)},E=o.role.fold(()=>({}),se=>({role:se})),O=R.from(o.listRole).map(se=>({listRole:se})).getOr({}),L=o.ariaLabel.fold(()=>({}),se=>({"aria-label":c.providers.translate(se)})),B=wc("chevron-down",{tag:"div",classes:[`${a}__select-chevron`]},c.providers.icons),H=fn("common-button-display-events"),K="dropdown-events";return tr(cl.sketch({...o.uid?{uid:o.uid}:{},...E,...O,dom:{tag:"button",classes:[a,`${a}--select`].concat(bt(o.classes,se=>`${a}--${se}`)),attributes:{...L,...$(d)?{"data-mce-name":d}:{}}},components:cv([w.map(se=>se.asSpec()),b.map(se=>se.asSpec()),R.some(B)]),matchWidth:!0,useMinWidth:!0,onOpen:(se,ce,be)=>{o.searchable&&(ie=>{sD(ie).each(ae=>Zn.focus(ae))})(be)},dropdownBehaviours:Ft([...o.dropdownBehaviours,fi(()=>o.disabled||c.providers.isDisabled()),ha(),f0.config({}),zn.config({}),...o.tooltip.map(se=>Us.config(c.providers.tooltips.getConfig({tooltipText:c.providers.translate(se)}))).toArray(),uo(K,[ip(o,h),Xg(o,h)]),uo(H,[Ur((se,ce)=>o.listRole==="listbox"?de:H_(se))]),uo("menubutton-update-display-text",[xt(su,(se,ce)=>{b.bind(be=>be.getOpt(se)).each(be=>{zn.set(be,[Cs(c.providers.translate(ce.event.text))])})}),xt(Hu,(se,ce)=>{w.bind(be=>be.getOpt(se)).each(be=>{zn.set(be,[bp(ce.event.icon,c.providers.icons)])})})])]),eventOrder:yr(cA,{[Tt()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[ja()]:["toolbar-button-events",Us.name(),K,H]}),sandboxBehaviours:Ft([An.config({mode:"special",onLeft:k,onRight:k}),uo("dropdown-sandbox-events",[xt(nD,(se,ce)=>{(be=>{const ie=nt.getValue(be),ae=e2(be).map(aD);cl.refetch(ie).get(()=>{const me=_s.getCoupled(ie,"sandbox");ae.each(ye=>e2(me).each(_e=>((Fe,Xe)=>{nt.setValue(Fe,Xe.fetchPattern),Fe.element.dom.selectionStart=Xe.selectionStart,Fe.element.dom.selectionEnd=Xe.selectionEnd})(_e,ye)))})})(se),ce.stop()}),xt(oD,(se,ce)=>{((be,ie)=>{(ae=>T.getState(ae).bind(or.getHighlighted).bind(or.getHighlighted))(be).each(ae=>{((me,ye,_e,Fe)=>{const Xe={...Fe,target:ye};me.getSystem().triggerEvent(_e,ye,Xe)})(be,ae.element,ie.event.eventType,ie.event.interactionEvent)})})(se,ce),ce.stop()})])]),lazySink:c.getSink,toggleClass:`${a}--active`,parts:{menu:{...ZC(0,o.columns,o.presets),fakeFocus:o.searchable,...o.listRole==="listbox"?{}:{onHighlightItem:aR,onCollapseMenu:(se,ce,be)=>{or.getHighlighted(be).each(ie=>{aR(se,be,ie)})},onDehighlightItem:g7}}},getAnchorOverrides:()=>({maxHeightFunction:(se,ce)=>{wm()(se,ce-10)}}),fetch:se=>lp(Ge(o.fetch,se))})).asSpec()},V_=o=>o.type==="separator",$_={type:"separator"},qR=(o,a)=>{const c=((d,h)=>{const b=Rn(d,(w,k)=>(E=>p(E))(k)?k===""?w:k==="|"?w.length>0&&!V_(w[w.length-1])?w.concat([$_]):w:po(h,k.toLowerCase())?w.concat([h[k.toLowerCase()]]):w:w.concat([k]),[]);return b.length>0&&V_(b[b.length-1])&&b.pop(),b})(p(o)?o.split(" "):o,a);return xn(c,(d,h)=>{if((b=>po(b,"getSubmenuItems"))(h)){const b=(k=>{const E=cn(k,"value").getOrThunk(()=>fn("generated-menu-item"));return yr({value:E},k)})(h),w=((k,E)=>{const O=k.getSubmenuItems(),L=qR(O,E);return{item:k,menus:yr(L.menus,{[k.value]:L.items}),expansions:yr(L.expansions,{[k.value]:k.value})}})(b,a);return{menus:yr(d.menus,w.menus),items:[w.item,...d.items],expansions:yr(d.expansions,w.expansions)}}return{...d,items:[h,...d.items]}},{menus:{},expansions:{},items:[]})},p0=(o,a,c,d)=>{const h=fn("primary-menu"),b=qR(o,c.shared.providers.menuItems());if(b.items.length===0)return R.none();const w=(B=>B.search.fold(()=>({searchMode:"no-search"}),H=>({searchMode:"search-with-field",placeholder:H.placeholder})))(d),k=iR(h,b.items,a,c,d.isHorizontalMenu,w),E=(B=>B.search.fold(()=>({searchMode:"no-search"}),H=>({searchMode:"search-with-results"})))(d),O=En(b.menus,(B,H)=>iR(H,B,a,c,!1,E)),L=yr(O,$c(h,k));return R.from(jg.tieredData(h,L,b.expansions))},k2=o=>!po(o,"items"),fA="data-value",U_=(o,a,c,d,h)=>bt(c,b=>k2(b)?{type:"togglemenuitem",...h?{}:{role:"option"},text:b.text,value:b.value,active:b.value===d,onAction:()=>{nt.setValue(o,b.value),Sn(o,Zi,{name:a}),Zn.focus(o)}}:{type:"nestedmenuitem",text:b.text,getSubmenuItems:()=>U_(o,a,b.items,d,h)}),W_=(o,a)=>It(o,c=>k2(c)?Uo(c.value===a,c):W_(c.items,a)),K7=Qc({name:"HtmlSelect",configFields:[At("options"),mn("selectBehaviours",[Zn,nt]),et("selectClasses",[]),et("selectAttributes",{}),Bo("data")],factory:(o,a)=>{const c=bt(o.options,h=>({dom:{tag:"option",value:h.value,innerHtml:h.text}})),d=o.data.map(h=>$c("initialValue",h)).getOr({});return{uid:o.uid,dom:{tag:"select",classes:o.selectClasses,attributes:o.selectAttributes},components:c,behaviours:co(o.selectBehaviours,[Zn.config({}),nt.config({store:{mode:"manual",getValue:h=>sf(h.element),setValue:(h,b)=>{const w=$t(o.options);J(o.options,k=>k.value===b).isSome()?gm(h.element,b):h.element.dom.selectedIndex===-1&&b===""&&w.each(k=>gm(h.element,k.value))},...d}})])}}}),GR=re([et("field1Name","field1"),et("field2Name","field2"),Au("onLockedChange"),Og(["lockClass"]),et("locked",!1),jn("coupledFieldBehaviours",[Vo,nt])]),mA=(o,a)=>ll({factory:lr,name:o,overrides:c=>({fieldBehaviours:Ft([uo("coupled-input-behaviour",[xt(am(),d=>{((h,b,w)=>Ir(h,b,w).bind(Vo.getCurrent))(d,c,a).each(h=>{Ir(d,c,"lock").each(b=>{Un.isOn(b)&&c.onLockedChange(d,h,b)})})})])])})}),YR=re([mA("field1","field2"),mA("field2","field1"),ll({factory:Ti,schema:[At("dom")],name:"lock",overrides:o=>({buttonBehaviours:Ft([Un.config({selected:o.locked,toggleClass:o.markers.lockClass,aria:{mode:"pressed"}})])})})]),Sc=xl({name:"FormCoupledInputs",configFields:GR(),partFields:YR(),factory:(o,a,c,d)=>({uid:o.uid,dom:o.dom,components:a,behaviours:$n(o.coupledFieldBehaviours,[Vo.config({find:R.some}),nt.config({store:{mode:"manual",getValue:h=>{const b=Pk(h,o,["field1","field2"]);return{[o.field1Name]:nt.getValue(b.field1()),[o.field2Name]:nt.getValue(b.field2())}},setValue:(h,b)=>{const w=Pk(h,o,["field1","field2"]);io(b,o.field1Name)&&nt.setValue(w.field1(),b[o.field1Name]),io(b,o.field2Name)&&nt.setValue(w.field2(),b[o.field2Name])}}})]),apis:{getField1:h=>Ir(h,o,"field1"),getField2:h=>Ir(h,o,"field2"),getLock:h=>Ir(h,o,"lock")}}),apis:{getField1:(o,a)=>o.getField1(a),getField2:(o,a)=>o.getField2(a),getLock:(o,a)=>o.getLock(a)}}),gA=o=>{const a=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(o);if(a!==null){const c=parseFloat(a[1]),d=a[2];return _o.value({value:c,unit:d})}return _o.error(o)},hA=(o,a)=>{const c={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},d=h=>po(c,h);return o.unit===a?R.some(o.value):d(o.unit)&&d(a)?c[o.unit]===c[a]?R.some(o.value):R.some(o.value/c[o.unit]*c[a]):R.none()},pA=o=>R.none(),XR=(o,a)=>{const c=o.label.map(L=>up(L,a)),d=[Kn.config({disabled:()=>o.disabled||a.isDisabled()}),ha(),An.config({mode:"execution",useEnter:o.multiline!==!0,useControlEnter:o.multiline===!0,execute:L=>(go(L,v2),R.some(!0))}),uo("textfield-change",[xt(am(),(L,B)=>{Sn(L,Zi,{name:o.name})}),xt(ky(),(L,B)=>{Sn(L,Zi,{name:o.name})})]),Dr.config({})],h=o.validation.map(L=>Lm.config({getRoot:B=>ai(B.element),invalidClass:"tox-invalid",validator:{validate:B=>{const H=nt.getValue(B),K=L.validator(H);return Pm(K===!0?_o.value(H):_o.error(K))},validateOnLoad:L.validateOnLoad}})).toArray(),b={...o.placeholder.fold(re({}),L=>({placeholder:a.translate(L)})),...o.inputMode.fold(re({}),L=>({inputmode:L})),"data-mce-name":o.name},w=lr.parts.field({tag:o.multiline===!0?"textarea":"input",...o.data.map(L=>({data:L})).getOr({}),inputAttributes:b,inputClasses:[o.classname],inputBehaviours:Ft(br([d,h])),selectOnFocus:!1,factory:Yg}),k=o.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[w]}:w,E=(o.flex?["tox-form__group--stretched"]:[]).concat(o.maximized?["tox-form-group--maximize"]:[]),O=[Kn.config({disabled:()=>o.disabled||a.isDisabled(),onDisabled:L=>{lr.getField(L).each(Kn.disable)},onEnabled:L=>{lr.getField(L).each(Kn.enable)}}),ha()];return b2(c,k,E,O)},E2=(o,a)=>a.getAnimationRoot.fold(()=>o.element,c=>c(o)),rh=o=>o.dimension.property,vp=(o,a)=>o.dimension.getDimension(a),yp=(o,a)=>{const c=E2(o,a);zl(c,[a.shrinkingClass,a.growingClass])},Z_=(o,a)=>{ps(o.element,a.openClass),us(o.element,a.closedClass),Xn(o.element,rh(a),"0px"),gu(o.element)},bA=(o,a)=>{ps(o.element,a.closedClass),us(o.element,a.openClass),er(o.element,rh(a))},JR=(o,a,c,d)=>{c.setCollapsed(),Xn(o.element,rh(a),vp(a,o.element)),yp(o,a),Z_(o,a),a.onStartShrink(o),a.onShrunk(o)},q7=(o,a,c,d)=>{const h=d.getOrThunk(()=>vp(a,o.element));c.setCollapsed(),Xn(o.element,rh(a),h),gu(o.element);const b=E2(o,a);ps(b,a.growingClass),us(b,a.shrinkingClass),Z_(o,a),a.onStartShrink(o)},QR=(o,a,c)=>{const d=vp(a,o.element);(d==="0px"?JR:q7)(o,a,c,R.some(d))},eN=(o,a,c)=>{const d=E2(o,a),h=zi(d,a.shrinkingClass),b=vp(a,o.element);bA(o,a);const w=vp(a,o.element);(h?()=>{Xn(o.element,rh(a),b),gu(o.element)}:()=>{Z_(o,a)})(),ps(d,a.shrinkingClass),us(d,a.growingClass),bA(o,a),Xn(o.element,rh(a),w),c.setExpanded(),a.onStartGrow(o)},A2=(o,a,c)=>{const d=E2(o,a);return zi(d,a.growingClass)===!0},tN=(o,a,c)=>{const d=E2(o,a);return zi(d,a.shrinkingClass)===!0};var nN=Object.freeze({__proto__:null,refresh:(o,a,c)=>{if(c.isExpanded()){er(o.element,rh(a));const d=vp(a,o.element);Xn(o.element,rh(a),d)}},grow:(o,a,c)=>{c.isExpanded()||eN(o,a,c)},shrink:(o,a,c)=>{c.isExpanded()&&QR(o,a,c)},immediateShrink:(o,a,c)=>{c.isExpanded()&&JR(o,a,c)},hasGrown:(o,a,c)=>c.isExpanded(),hasShrunk:(o,a,c)=>c.isCollapsed(),isGrowing:A2,isShrinking:tN,isTransitioning:(o,a,c)=>A2(o,a)||tN(o,a),toggleGrow:(o,a,c)=>{(c.isExpanded()?QR:eN)(o,a,c)},disableTransitions:yp,immediateGrow:(o,a,c)=>{c.isExpanded()||(bA(o,a),Xn(o.element,rh(a),vp(a,o.element)),yp(o,a),c.setExpanded(),a.onStartGrow(o),a.onGrown(o))}}),G7=Object.freeze({__proto__:null,exhibit:(o,a,c)=>{const d=a.expanded;return Ns(d?{classes:[a.openClass],styles:{}}:{classes:[a.closedClass],styles:$c(a.dimension.property,"0px")})},events:(o,a)=>eo([nf(Jp(),(c,d)=>{d.event.raw.propertyName===o.dimension.property&&(yp(c,o),a.isExpanded()&&er(c.element,o.dimension.property),(a.isExpanded()?o.onGrown:o.onShrunk)(c))})])}),oN=[At("closedClass"),At("openClass"),At("shrinkingClass"),At("growingClass"),Bo("getAnimationRoot"),Fo("onShrunk"),Fo("onStartShrink"),Fo("onGrown"),Fo("onStartGrow"),et("expanded",!1),ka("dimension",Xs("property",{width:[Rr("property","width"),Rr("getDimension",o=>ua(o)+"px")],height:[Rr("property","height"),Rr("getDimension",o=>ms(o)+"px")]}))];const Rl=ga({fields:oN,name:"sliding",active:G7,apis:nN,state:Object.freeze({__proto__:null,init:o=>{const a=Dn(o.expanded);return ma({isExpanded:()=>a.get()===!0,isCollapsed:()=>a.get()===!1,setCollapsed:Ge(a.set,!1),setExpanded:Ge(a.set,!0),readState:()=>"expanded: "+a.get()})}})}),rN=o=>({isEnabled:()=>!Kn.isDisabled(o),setEnabled:a=>Kn.set(o,!a),setActive:a=>{const c=o.element;a?(us(c,"tox-tbtn--enabled"),Jt(c,"aria-pressed",!0)):(ps(c,"tox-tbtn--enabled"),fo(c,"aria-pressed"))},isActive:()=>zi(o.element,"tox-tbtn--enabled"),setText:a=>{Sn(o,su,{text:a})},setIcon:a=>Sn(o,Hu,{icon:a})}),Cv=(o,a,c,d,h=!0,b)=>dA({text:o.text,icon:o.icon,tooltip:o.tooltip,ariaLabel:o.tooltip,searchable:o.search.isSome(),role:d,fetch:(w,k)=>{const E={pattern:o.search.isSome()?d0(w):""};o.fetch(O=>{k(p0(O,kf.CLOSE_ON_EXECUTE,c,{isHorizontalMenu:!1,search:o.search}))},E,rN(w))},onSetup:o.onSetup,getApi:rN,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...h?[Dr.config({})]:[]]},a,c.shared,b),sN=(o,a,c)=>{const d=b=>w=>{const k=!w.isActive();w.setActive(k),b.storage.set(k),c.shared.getSink().each(E=>{a().getOpt(E).each(O=>{ki(O.element),Sn(O,Af,{name:b.name,value:b.storage.get()})})})},h=b=>w=>{w.setActive(b.storage.get())};return b=>{b(bt(o,w=>{const k=w.text.fold(()=>({}),E=>({text:E}));return{type:w.type,active:!1,...k,onAction:d(w),onSetup:h(w)}}))}},vA=o=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":o}},components:[Cs(o)]}),yA=fn("leaf-label-event-id"),xA=({leaf:o,onLeafAction:a,visible:c,treeId:d,selectedId:h,backstage:b})=>{const w=o.menu.map(E=>Cv(E,"tox-mbtn",b,R.none(),c)),k=[vA(o.title)];return w.each(E=>k.push(E)),Ti.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(c?["tox-tree--leaf__label--visible"]:[])},components:k,role:"treeitem",action:E=>{a(o.id),E.getSystem().broadcastOn([`update-active-item-${d}`],{value:o.id})},eventOrder:{[cs()]:[yA,"keying"]},buttonBehaviours:Ft([...c?[Dr.config({})]:[],Un.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),al.config({channels:{[`update-active-item-${d}`]:{onReceive:(E,O)=>{(O.value===o.id?Un.on:Un.off)(E)}}}}),uo(yA,[Ur((E,O)=>{h.each(L=>{(L===o.id?Un.on:Un.off)(E)})}),xt(cs(),(E,O)=>{const L=O.event.raw.code==="ArrowLeft",B=O.event.raw.code==="ArrowRight";L?(pm(E.element,".tox-tree--directory").each(H=>{E.getSystem().getByDom(H).each(K=>{E1(H,".tox-tree--directory__label").each(Y=>{K.getSystem().getByDom(Y).each(Zn.focus)})})}),O.stop()):B&&O.stop()})])])})},aN=fn("directory-label-event-id"),Y7=({directory:o,visible:a,noChildren:c,backstage:d})=>{const h=o.menu.map(O=>Cv(O,"tox-mbtn",d,R.none())),b=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(w="chevron-right",k=d.shared.providers.icons,((O,L,B)=>wc(O,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},L))(w,k))]},vA(o.title)];var w,k;h.each(O=>{b.push(O)});const E=O=>{pm(O.element,".tox-tree--directory").each(L=>{O.getSystem().getByDom(L).each(B=>{const H=!Un.isOn(B);Un.toggle(B),Sn(O,"expand-tree-node",{expanded:H,node:o.id})})})};return Ti.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(a?["tox-tree--directory__label--visible"]:[])},components:b,action:E,eventOrder:{[cs()]:[aN,"keying"]},buttonBehaviours:Ft([...a?[Dr.config({})]:[],uo(aN,[xt(cs(),(O,L)=>{const B=L.event.raw.code==="ArrowRight",H=L.event.raw.code==="ArrowLeft";B&&c&&L.stop(),(B||H)&&pm(O.element,".tox-tree--directory").each(K=>{O.getSystem().getByDom(K).each(Y=>{!Un.isOn(Y)&&B||Un.isOn(Y)&&H?(E(O),L.stop()):H&&!Un.isOn(Y)&&(pm(Y.element,".tox-tree--directory").each(se=>{E1(se,".tox-tree--directory__label").each(ce=>{Y.getSystem().getByDom(ce).each(Zn.focus)})}),L.stop())})})})])])})},X7=({children:o,onLeafAction:a,visible:c,treeId:d,expandedIds:h,selectedId:b,backstage:w})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:o.map(k=>k.type==="leaf"?xA({leaf:k,selectedId:b,onLeafAction:a,visible:c,treeId:d,backstage:w}):j_({directory:k,expandedIds:h,selectedId:b,onLeafAction:a,labelTabstopping:c,treeId:d,backstage:w})),behaviours:Ft([Rl.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:c}),zn.config({})])}),iN=fn("directory-event-id"),j_=({directory:o,onLeafAction:a,labelTabstopping:c,treeId:d,backstage:h,expandedIds:b,selectedId:w})=>{const{children:k}=o,E=Dn(b),O=b.includes(o.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[Y7({directory:o,visible:c,noChildren:o.children.length===0,backstage:h}),X7({children:k,expandedIds:b,selectedId:w,onLeafAction:a,visible:O,treeId:d,backstage:h})],behaviours:Ft([uo(iN,[Ur((L,B)=>{Un.set(L,O)}),xt("expand-tree-node",(L,B)=>{const{expanded:H,node:K}=B.event;E.set(H?[...E.get(),K]:E.get().filter(Y=>Y!==K))})]),Un.config({...o.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(L,B)=>{const H=L.components()[1],K=(Y=B,k.map(se=>se.type==="leaf"?xA({leaf:se,selectedId:w,onLeafAction:a,visible:Y,treeId:d,backstage:h}):j_({directory:se,expandedIds:E.get(),selectedId:w,onLeafAction:a,labelTabstopping:Y,treeId:d,backstage:h})));var Y;B?Rl.grow(H):Rl.shrink(H),zn.set(H,K)}})])}},J7=fn("tree-event-id");var Q7=Object.freeze({__proto__:null,events:(o,a)=>{const c=o.stream.streams.setup(o,a);return eo([xt(o.event,c),Eu(()=>a.cancel())].concat(o.cancelEvent.map(d=>[xt(d,()=>a.cancel())]).getOr([])))}});const lN=o=>{const a=Dn(null);return ma({readState:()=>({timer:a.get()!==null?"set":"unset"}),setTimer:c=>{a.set(c)},cancel:()=>{const c=a.get();c!==null&&c.cancel()}})};var eL=Object.freeze({__proto__:null,throttle:lN,init:o=>o.stream.streams.state(o)}),tL=[ka("stream",Xs("mode",{throttle:[At("delay"),et("stopEvent",!0),Rr("streams",{setup:(o,a)=>{const c=o.stream,d=J3(o.onStream,c.delay);return a.setTimer(d),(h,b)=>{d.throttle(h,b),c.stopEvent&&b.stop()}},state:lN})]})),et("event","input"),Bo("cancelEvent"),Au("onStream")];const wA=ga({fields:tL,name:"streaming",active:Q7,state:eL}),K_=(o,a,c)=>{const d=nt.getValue(c);nt.setValue(a,d),CA(a)},q_=(o,a)=>{const c=o.element,d=sf(c),h=c.dom;wo(c,"type")!=="number"&&a(h,d)},CA=o=>{q_(o,(a,c)=>a.setSelectionRange(c.length,c.length))},_A=re("alloy.typeahead.itemexecute"),nL=re([Bo("lazySink"),At("fetch"),et("minChars",5),et("responseTime",1e3),Fo("onOpen"),et("getHotspot",R.some),et("getAnchorOverrides",re({})),et("layouts",R.none()),et("eventOrder",{}),Si("model",{},[et("getDisplayText",o=>o.meta!==void 0&&o.meta.text!==void 0?o.meta.text:o.value),et("selectsOver",!0),et("populateFromBrowse",!0)]),Fo("onSetValue"),rl("onExecute"),Fo("onItemExecute"),et("inputClasses",[]),et("inputAttributes",{}),et("inputStyles",{}),et("matchWidth",!0),et("useMinWidth",!1),et("dismissOnBlur",!0),Og(["openClass"]),Bo("initialData"),Bo("listRole"),mn("typeaheadBehaviours",[Zn,nt,wA,An,Un,_s]),Sa("lazyTypeaheadComp",()=>Dn(R.none)),Sa("previewing",()=>Dn(!0))].concat(FP()).concat(b3())),cN=re([vd({schema:[Tg()],name:"menu",overrides:o=>({fakeFocus:!0,onHighlightItem:(a,c,d)=>{o.previewing.get()?o.lazyTypeaheadComp.get().each(h=>{((b,w,k)=>{if(b.selectsOver){const E=nt.getValue(w),O=b.getDisplayText(E),L=nt.getValue(k);return b.getDisplayText(L).indexOf(O)===0?R.some(()=>{K_(0,w,k),((B,H)=>{q_(B,(K,Y)=>K.setSelectionRange(H,Y.length))})(w,O.length)}):R.none()}return R.none()})(o.model,h,d).fold(()=>{o.model.selectsOver?(or.dehighlight(c,d),o.previewing.set(!0)):o.previewing.set(!1)},b=>{b(),o.previewing.set(!1)})}):o.lazyTypeaheadComp.get().each(h=>{o.model.populateFromBrowse&&K_(o.model,h,d),Io(d.element,"id").each(b=>Jt(h.element,"aria-activedescendant",b))})},onExecute:(a,c)=>o.lazyTypeaheadComp.get().map(d=>(Sn(d,_A(),{item:c}),!0)),onHover:(a,c)=>{o.previewing.set(!1),o.lazyTypeaheadComp.get().each(d=>{o.model.populateFromBrowse&&K_(o.model,d,c)})}})})]),oL=xl({name:"Typeahead",configFields:nL(),partFields:cN(),factory:(o,a,c,d)=>{const h=(B,H,K)=>{o.previewing.set(!1);const Y=_s.getCoupled(B,"sandbox");if(T.isOpen(Y))Vo.getCurrent(Y).each(se=>{or.getHighlighted(se).fold(()=>{K(se)},()=>{cc(Y,se.element,"keydown",H)})});else{const se=ce=>{Vo.getCurrent(ce).each(K)};c_(o,w(B),B,Y,d,se,Wi.HighlightMenuAndItem).get(de)}},b=zP(o),w=B=>H=>H.map(K=>{const Y=bi(K.menus),se=Ko(Y,ce=>ho(ce.items,be=>be.type==="item"));return nt.getState(B).update(bt(se,ce=>ce.data)),K}),k=B=>Vo.getCurrent(B),E="typeaheadevents",O=[Zn.config({}),nt.config({onSetValue:o.onSetValue,store:{mode:"dataset",getDataKey:B=>sf(B.element),getFallbackEntry:B=>({value:B,meta:{}}),setValue:(B,H)=>{gm(B.element,o.model.getDisplayText(H))},...o.initialData.map(B=>$c("initialValue",B)).getOr({})}}),wA.config({stream:{mode:"throttle",delay:o.responseTime,stopEvent:!1},onStream:(B,H)=>{const K=_s.getCoupled(B,"sandbox");if(Zn.isFocused(B)&&sf(B.element).length>=o.minChars){const Y=k(K).bind(ce=>or.getHighlighted(ce).map(nt.getValue));o.previewing.set(!0);const se=ce=>{k(K).each(be=>{Y.fold(()=>{o.model.selectsOver&&or.highlightFirst(be)},ie=>{or.highlightBy(be,ae=>nt.getValue(ae).value===ie.value),or.getHighlighted(be).orThunk(()=>(or.highlightFirst(be),R.none()))})})};c_(o,w(B),B,K,d,se,Wi.HighlightJustMenu).get(de)}},cancelEvent:id()}),An.config({mode:"special",onDown:(B,H)=>(h(B,H,or.highlightFirst),R.some(!0)),onEscape:B=>{const H=_s.getCoupled(B,"sandbox");return T.isOpen(H)?(T.close(H),R.some(!0)):R.none()},onUp:(B,H)=>(h(B,H,or.highlightLast),R.some(!0)),onEnter:B=>{const H=_s.getCoupled(B,"sandbox"),K=T.isOpen(H);if(K&&!o.previewing.get())return k(H).bind(Y=>or.getHighlighted(Y)).map(Y=>(Sn(B,_A(),{item:Y}),!0));{const Y=nt.getValue(B);return go(B,id()),o.onExecute(H,B,Y),K&&T.close(H),R.some(!0)}}}),Un.config({toggleClass:o.markers.openClass,aria:{mode:"expanded"}}),_s.config({others:{sandbox:B=>p3(o,B,{onOpen:()=>Un.on(B),onClose:()=>{o.lazyTypeaheadComp.get().each(H=>fo(H.element,"aria-activedescendant")),Un.off(B)}})}}),uo(E,[Ur(B=>{o.lazyTypeaheadComp.set(R.some(B))}),Eu(B=>{o.lazyTypeaheadComp.set(R.none())}),Zc(B=>{const H=de;g3(o,w(B),B,d,H,Wi.HighlightMenuAndItem).get(de)}),xt(_A(),(B,H)=>{const K=_s.getCoupled(B,"sandbox");K_(o.model,B,H.event.item),go(B,id()),o.onItemExecute(B,K,H.event.item,nt.getValue(B)),T.close(K),CA(B)})].concat(o.dismissOnBlur?[xt(Ah(),B=>{const H=_s.getCoupled(B,"sandbox");Ms(H.element).isNone()&&T.close(H)})]:[]))],L={[ic()]:[nt.name(),wA.name(),E],...o.eventOrder};return{uid:o.uid,dom:tD(yr(o,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...b,...co(o.typeaheadBehaviours,O)},eventOrder:L}}}),b0=o=>({...o,toCached:()=>b0(o.toCached()),bindFuture:a=>b0(o.bind(c=>c.fold(d=>Pm(_o.error(d)),d=>a(d)))),bindResult:a=>b0(o.map(c=>c.bind(a))),mapResult:a=>b0(o.map(c=>c.map(a))),mapError:a=>b0(o.map(c=>c.mapError(a))),foldResult:(a,c)=>o.map(d=>d.fold(a,c)),withTimeout:(a,c)=>b0(lp(d=>{let h=!1;const b=setTimeout(()=>{h=!0,d(_o.error(c()))},a);o.get(w=>{h||(clearTimeout(b),d(w))})}))}),uN=o=>b0(lp(o)),T2=(o,a,c=[],d,h,b,w)=>{const k=a.fold(()=>({}),L=>({action:L})),E={buttonBehaviours:Ft([fi(()=>!o.enabled||w.isDisabled()),ha(),Dr.config({}),...b.map(L=>Us.config(w.tooltips.getConfig({tooltipText:w.translate(L)}))).toArray(),uo("button press",[Fw("click")])].concat(c)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...k},O=yr(E,{dom:d});return yr(O,{components:h})},dN=(o,a,c,d=[],h)=>{const b={tag:"button",classes:["tox-tbtn"],attributes:{...o.tooltip.map(E=>({"aria-label":c.translate(E)})).getOr({}),"data-mce-name":h}},w=o.icon.map(E=>S2(E,c.icons)),k=cv([w]);return T2(o,a,d,b,k,o.tooltip,c)},SA=o=>{switch(o){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},fN=(o,a,c,d=[],h=[])=>{const b=c.translate(o.text),w=o.icon.map(B=>S2(B,c.icons)),k=[w.getOrThunk(()=>Cs(b))],E=o.buttonType.getOr(o.primary||o.borderless?"primary":"secondary"),O={tag:"button",classes:[...SA(E),...w.isSome()?["tox-button--icon"]:[],...o.borderless?["tox-button--naked"]:[],...h],attributes:{"aria-label":b,"data-mce-name":o.text}},L=o.icon.map(re(b));return T2(o,a,d,O,k,L,c)},mN=(o,a,c,d=[],h=[])=>{const b=fN(o,R.some(a),c,d,h);return Ti.sketch(b)},kA=(o,a)=>c=>{a==="custom"?Sn(c,Af,{name:o,value:{}}):a==="submit"?go(c,v2):a==="cancel"?go(c,eh):console.error("Unknown button type: ",a)},_v=(o,a,c)=>{if(((d,h)=>h==="menu")(0,a)){const d=()=>w,h=o,b={...o,type:"menubutton",search:R.none(),onSetup:k=>(k.setEnabled(o.enabled),de),fetch:sN(h.items,d,c)},w=tr(Cv(b,"tox-tbtn",c,R.none(),!0,o.text.or(o.tooltip).getOrUndefined()));return w.asSpec()}if(((d,h)=>h==="custom"||h==="cancel"||h==="submit")(0,a)){const d=kA(o.name,a),h={...o,borderless:!1};return mN(h,d,c.shared.providers,[])}if(((d,h)=>h==="togglebutton")(0,a))return((d,h,b)=>{var w,k;const E=d.icon.map(ae=>bp(ae,h.icons)).map(tr),O=d.buttonType.getOr(d.primary?"primary":"secondary"),L={...d,name:(w=d.name)!==null&&w!==void 0?w:"",primary:O==="primary",tooltip:d.tooltip,enabled:(k=d.enabled)!==null&&k!==void 0&&k,borderless:!1},B=L.tooltip.or(d.text).map(ae=>({"aria-label":h.translate(ae)})).getOr({}),H=SA(O??"secondary"),K=d.icon.isSome()&&d.text.isSome(),Y={tag:"button",classes:[...H.concat(d.icon.isSome()?["tox-button--icon"]:[]),...d.active?["tox-button--enabled"]:[],...K?["tox-button--icon-and-text"]:[]],attributes:{...B,...$(b)?{"data-mce-name":b}:{}}},se=h.translate(d.text.getOr("")),ce=Cs(se),be=[...cv([E.map(ae=>ae.asSpec())]),...d.text.isSome()?[ce]:[]],ie=T2(L,R.some(ae=>{Sn(ae,Af,{name:d.name,value:{setIcon:me=>{E.map(ye=>ye.getOpt(ae).each(_e=>{zn.set(_e,[bp(me,h.icons)])}))}}})}),[],Y,be,d.tooltip,h);return Ti.sketch(ie)})(o,c.shared.providers,o.text.or(o.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",a),new Error("Unknown footer button type")},rL={type:"separator"},sL=o=>({type:"menuitem",value:o.url,text:o.title,meta:{attach:o.attach},onAction:de}),EA=(o,a)=>({type:"menuitem",value:a,text:o,meta:{attach:void 0},onAction:de}),gN=(o,a)=>(c=>bt(c,sL))(((c,d)=>ho(d,h=>h.type===c))(o,a)),aL=o=>gN("header",o.targets),iL=o=>gN("anchor",o.targets),hN=o=>R.from(o.anchorTop).map(a=>EA("<top>",a)).toArray(),pN=o=>R.from(o.anchorBottom).map(a=>EA("<bottom>",a)).toArray(),AA=(o,a)=>{const c=o.toLowerCase();return ho(a,d=>{var h;const b=d.meta!==void 0&&d.meta.text!==void 0?d.meta.text:d.text,w=(h=d.value)!==null&&h!==void 0?h:"";return zs(b.toLowerCase(),c)||zs(w.toLowerCase(),c)})},bN=fn("aria-invalid"),lL=(o,a)=>{o.dom.checked=a},kc=o=>o.dom.checked,rs=o=>(a,c,d,h,b)=>cn(c,"name").fold(()=>o(c,h,R.none(),b),w=>a.field(w,o(c,h,cn(d,w),b))),cL={bar:rs((o,a)=>((c,d)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:bt(c.items,d.interpreter)}))(o,a.shared)),collection:rs((o,a,c)=>mR(o,a.shared.providers,c)),alertbanner:rs((o,a)=>((c,d)=>{const h=j5(c.icon,d.icons);return Cd.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${c.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:c.url?void 0:h},components:c.url?[Ti.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:h,attributes:{title:d.translate(c.iconTooltip)}},action:b=>Sn(b,Af,{name:"alert-banner",value:c.url}),buttonBehaviours:Ft([$C()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:d.translate(c.text)}}]})})(o,a.shared.providers)),input:rs((o,a,c)=>((d,h,b)=>XR({name:d.name,multiline:!1,label:d.label,inputMode:d.inputMode,placeholder:d.placeholder,flex:!1,disabled:!d.enabled,classname:"tox-textfield",validation:R.none(),maximized:d.maximized,data:b},h))(o,a.shared.providers,c)),textarea:rs((o,a,c)=>((d,h,b)=>XR({name:d.name,multiline:!0,label:d.label,inputMode:R.none(),placeholder:d.placeholder,flex:!0,disabled:!d.enabled,classname:"tox-textarea",validation:R.none(),maximized:d.maximized,data:b},h))(o,a.shared.providers,c)),label:rs((o,a,c,d)=>((h,b,w)=>{const k="tox-label",E=h.align==="center"?[`${k}--center`]:[],O=h.align==="end"?[`${k}--end`]:[],L=tr({dom:{tag:"label",classes:[k,...E,...O]},components:[Cs(b.providers.translate(h.label))]}),B=bt(h.items,b.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[L.asSpec(),...B],behaviours:Ft([Vm(),zn.config({}),(H=R.none(),Y3(H,ud,kg)),An.config({mode:"acyclic"}),uo("label",[Ur(K=>{h.for.each(Y=>{w(Y).each(se=>{L.getOpt(K).each(ce=>{var be;const ie=(be=wo(se.element,"id"))!==null&&be!==void 0?be:fn("form-field");Jt(se.element,"id",ie),Jt(ce.element,"for",ie)})})})})])])};var H})(o,a.shared,d)),iframe:(qA=(o,a,c)=>((d,h,b)=>{const w="tox-dialog__iframe",k=d.transparent?[]:[`${w}--opaque`],E=d.border?["tox-navobj-bordered"]:[],O={...d.label.map(K=>({title:K})).getOr({}),...b.map(K=>({srcdoc:K})).getOr({}),...d.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},L=((K,Y)=>{const se=Dn(K.getOr(""));return{getValue:ce=>se.get(),setValue:(ce,be)=>{if(se.get()!==be){const ie=ce.element,ae=()=>Jt(ie,"srcdoc",be);Y?lA.fold(re(iA),me=>me.throttle)(ie,be,ae):ae()}se.set(be)}}})(b,d.streamContent),B=d.label.map(K=>up(K,h)),H=lr.parts.field({factory:{sketch:K=>tA(R.from(E),{uid:K.uid,dom:{tag:"iframe",attributes:O,classes:[w,...k]},behaviours:Ft([Dr.config({}),Zn.config({}),h0(b,L.getValue,L.setValue),al.config({channels:{[F_]:{onReceive:(Y,se)=>{se.newFocus.each(ce=>{ai(Y.element).each(be=>{(Wo(Y.element,ce)?us:ps)(be,"tox-navobj-bordered-focus")})})}}}})])})}});return b2(B,H,["tox-form__group--stretched"],[])})(o,a.shared.providers,c),(o,a,c,d,h)=>{const b=yr(a,{source:"dynamic"});return rs(qA)(o,b,c,d,h)}),button:rs((o,a)=>((c,d)=>{const h=kA(c.name,"custom");return b=R.none(),w=lr.parts.field({factory:Ti,...fN(c,R.some(h),d,[_2(""),Vm()])}),b2(b,w,[],[]);var b,w})(o,a.shared.providers)),checkbox:rs((o,a,c)=>((d,h,b)=>{const w=B=>(B.element.dom.click(),R.some(!0)),k=lr.parts.field({factory:{sketch:Oe},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Ft([Vm(),Kn.config({disabled:()=>!d.enabled||h.isDisabled(),onDisabled:B=>{ai(B.element).each(H=>us(H,"tox-checkbox--disabled"))},onEnabled:B=>{ai(B.element).each(H=>ps(H,"tox-checkbox--disabled"))}}),Dr.config({}),Zn.config({}),Y3(b,kc,lL),An.config({mode:"special",onEnter:w,onSpace:w,stopSpaceKeyup:!0}),uo("checkbox-events",[xt(im(),(B,H)=>{Sn(B,Zi,{name:d.name})})])])}),E=lr.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Cs(h.translate(d.label))],behaviours:Ft([f0.config({})])}),O=B=>wc(B==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+B]},h.icons),L=tr({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[O("checked"),O("unchecked")]});return lr.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[k,L.asSpec(),E],fieldBehaviours:Ft([Kn.config({disabled:()=>!d.enabled||h.isDisabled()}),ha()])})})(o,a.shared.providers,c)),colorinput:rs((o,a,c)=>((d,h,b,w)=>{const k=lr.parts.field({factory:Yg,inputClasses:["tox-textfield"],data:w,onSetValue:B=>Lm.run(B).get(de),inputBehaviours:Ft([Kn.config({disabled:h.providers.isDisabled}),ha(),Dr.config({}),Lm.config({invalidClass:"tox-textbox-field-invalid",getRoot:B=>ai(B.element),notify:{onValid:B=>{const H=nt.getValue(B);Sn(B,E3,{color:H})}},validator:{validateOnLoad:!1,validate:B=>{const H=nt.getValue(B);if(H.length===0)return Pm(_o.value(!0));{const K=ca("span");Xn(K,"background-color",H);const Y=As(K,"background-color").fold(()=>_o.error("blah"),se=>_o.value(H));return Pm(Y)}}}})]),selectOnFocus:!1}),E=d.label.map(B=>up(B,h.providers)),O=(B,H)=>{Sn(B,A3,{value:H})},L=tr(((B,H)=>cl.sketch({dom:B.dom,components:B.components,toggleClass:"mce-active",dropdownBehaviours:Ft([fi(H.providers.isDisabled),ha(),f0.config({}),Dr.config({})]),layouts:B.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:H.getSink,fetch:K=>lp(Y=>B.fetch(Y)).map(Y=>R.from(v3(yr(u0(fn("menu-value"),Y,se=>{B.onItemAction(K,se)},B.columns,B.presets,kf.CLOSE_ON_EXECUTE,Ce,H.providers),{movement:f2(B.columns,B.presets)})))),parts:{menu:ZC(0,0,B.presets)}}))({dom:{tag:"span",attributes:{"aria-label":h.providers.translate("Color swatch")}},layouts:{onRtl:()=>[vs,bs,Bs],onLtr:()=>[bs,vs,Bs]},components:[],fetch:KD(b.getColors(d.storageKey),d.storageKey,b.hasCustomColors()),columns:b.getColorCols(d.storageKey),presets:"color",onItemAction:(B,H)=>{L.getOpt(B).each(K=>{H==="custom"?b.colorPicker(Y=>{Y.fold(()=>go(K,vR),se=>{O(K,se),e3(d.storageKey,se)})},"#ffffff"):O(K,H==="remove"?"":H)})}},h));return lr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:E.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[k,L.asSpec()]}]),fieldBehaviours:Ft([uo("form-field-events",[xt(E3,(B,H)=>{L.getOpt(B).each(K=>{Xn(K.element,"background-color",H.event.color)}),Sn(B,Zi,{name:d.name})}),xt(A3,(B,H)=>{lr.getField(B).each(K=>{nt.setValue(K,H.event.value),Vo.getCurrent(B).each(Zn.focus)})}),xt(vR,(B,H)=>{lr.getField(B).each(K=>{Vo.getCurrent(B).each(Zn.focus)})})])])})})(o,a.shared,a.colorinput,c)),colorpicker:rs((o,a,c)=>((d,h,b)=>{const w=O=>"tox-"+O,k=zR((O=>L=>p(L)?O.translate(W7[L]):O.translate(L))(h),w,h.tooltips.getConfig,(O,L,B=O,H=O)=>wc(B,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+O],attributes:{title:h.translate(H),"aria-live":"polite",...L.fold(()=>({}),K=>({id:K}))}},h.icons)),E=tr(k.sketch({dom:{tag:"div",classes:[w("color-picker-container")],attributes:{role:"presentation"}},onValidHex:O=>{Sn(O,Af,{name:"hex-valid",value:!0})},onInvalidHex:O=>{Sn(O,Af,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[E.asSpec()],behaviours:Ft([h0(b,O=>{const L=E.get(O);return Vo.getCurrent(L).bind(B=>nt.getValue(B).hex).map(B=>"#"+Er(B,"#")).getOr("")},(O,L)=>{const B=R.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(L)).bind(K=>St(K,1)),H=E.get(O);Vo.getCurrent(H).fold(()=>{console.log("Can not find form")},K=>{nt.setValue(K,{hex:B.getOr("")}),gp.getField(K,"hex").each(Y=>{go(Y,am())})})}),Vm()])}})(0,a.shared.providers,c)),dropzone:rs((o,a,c)=>((d,h,b)=>{const w=(Y,se)=>{se.stop()},k=Y=>(se,ce)=>{Zt(Y,be=>{be(se,ce)})},E=(Y,se)=>{var ce;if(!Kn.isDisabled(Y)){const be=se.event.raw;L(Y,(ce=be.dataTransfer)===null||ce===void 0?void 0:ce.files)}},O=(Y,se)=>{const ce=se.event.raw.target;L(Y,ce.files)},L=(Y,se)=>{se&&(nt.setValue(Y,((ce,be)=>{const ie=oh.explode(be.getOption("images_file_types"));return ho(zt(ce),ae=>On(ie,me=>uu(ae.name.toLowerCase(),`.${me.toLowerCase()}`)))})(se,h)),Sn(Y,Zi,{name:d.name}))},B=tr({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Ft([uo("input-file-events",[lm(Js()),lm(Yd())])])}),H=d.label.map(Y=>up(Y,h)),K=lr.parts.field({factory:{sketch:Y=>({uid:Y.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Ft([_2(b.getOr([])),Vm(),Kn.config({}),Un.config({toggleClass:"dragenter",toggleOnExecute:!1}),uo("dropzone-events",[xt("dragenter",k([w,Un.toggle])),xt("dragleave",k([w,Un.toggle])),xt("dragover",w),xt("drop",k([w,E])),xt(im(),O)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Cs(h.translate("Drop an image here"))]},Ti.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Cs(h.translate("Browse for an image")),B.asSpec()],action:se=>{B.get(se).element.dom.click()},buttonBehaviours:Ft([Dr.config({}),fi(h.isDisabled),ha()])})]}]})}});return b2(H,K,["tox-form__group--stretched"],[])})(o,a.shared.providers,c)),grid:rs((o,a)=>((c,d)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${c.columns}col`]},components:bt(c.items,d.interpreter)}))(o,a.shared)),listbox:rs((o,a,c)=>((d,h,b)=>{const w=On(d.items,H=>!k2(H)),k=h.shared.providers,E=b.bind(H=>W_(d.items,H)).orThunk(()=>$t(d.items).filter(k2)),O=d.label.map(H=>up(H,k)),L=lr.parts.field({dom:{},factory:{sketch:H=>dA({uid:H.uid,text:E.map(K=>K.text),icon:R.none(),tooltip:R.none(),role:Uo(!w,"combobox"),...w?{}:{listRole:"listbox"},ariaLabel:d.label,fetch:(K,Y)=>{const se=U_(K,d.name,d.items,nt.getValue(K),w);Y(p0(se,kf.CLOSE_ON_EXECUTE,h,{isHorizontalMenu:!1,search:R.none()}))},onSetup:re(de),getApi:re({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Dr.config({}),h0(E.map(K=>K.value),K=>wo(K.element,fA),(K,Y)=>{W_(d.items,Y).each(se=>{Jt(K.element,fA,se.value),Sn(K,su,{text:se.text})})})]},"tox-listbox",h.shared)}}),B={dom:{tag:"div",classes:["tox-listboxfield"]},components:[L]};return lr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:br([O.toArray(),[B]]),fieldBehaviours:Ft([Kn.config({disabled:re(!d.enabled),onDisabled:H=>{lr.getField(H).each(Kn.disable)},onEnabled:H=>{lr.getField(H).each(Kn.enable)}})])})})(o,a,c)),selectbox:rs((o,a,c)=>((d,h,b)=>{const w=bt(d.items,B=>({text:h.translate(B.text),value:B.value})),k=d.label.map(B=>up(B,h)),E=lr.parts.field({dom:{},...b.map(B=>({data:B})).getOr({}),selectAttributes:{size:d.size},options:w,factory:K7,selectBehaviours:Ft([Kn.config({disabled:()=>!d.enabled||h.isDisabled()}),Dr.config({}),uo("selectbox-change",[xt(im(),(B,H)=>{Sn(B,Zi,{name:d.name})})])])}),O=d.size>1?R.none():R.some(wc("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},h.icons)),L={dom:{tag:"div",classes:["tox-selectfield"]},components:br([[E],O.toArray()])};return lr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:br([k.toArray(),[L]]),fieldBehaviours:Ft([Kn.config({disabled:()=>!d.enabled||h.isDisabled(),onDisabled:B=>{lr.getField(B).each(Kn.disable)},onEnabled:B=>{lr.getField(B).each(Kn.enable)}}),ha()])})})(o,a.shared.providers,c)),sizeinput:rs((o,a)=>((c,d)=>{let h=pA;const b=fn("ratio-event"),w=se=>wc(se,{tag:"span",classes:["tox-icon","tox-lock-icon__"+se]},d.icons),k=c.label.getOr("Constrain proportions"),E=d.translate(k),O=Sc.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":E,"data-mce-name":k}},components:[w("lock"),w("unlock")],buttonBehaviours:Ft([Kn.config({disabled:()=>!c.enabled||d.isDisabled()}),ha(),Dr.config({}),Us.config(d.tooltips.getConfig({tooltipText:E}))])}),L=se=>({dom:{tag:"div",classes:["tox-form__group"]},components:se}),B=se=>lr.parts.field({factory:Yg,inputClasses:["tox-textfield"],inputBehaviours:Ft([Kn.config({disabled:()=>!c.enabled||d.isDisabled()}),ha(),Dr.config({}),uo("size-input-events",[xt(Jo(),(ce,be)=>{Sn(ce,b,{isField1:se})}),xt(im(),(ce,be)=>{Sn(ce,Zi,{name:c.name})})])]),selectOnFocus:!1}),H=se=>({dom:{tag:"label",classes:["tox-label"]},components:[Cs(d.translate(se))]}),K=Sc.parts.field1(L([lr.parts.label(H("Width")),B(!0)])),Y=Sc.parts.field2(L([lr.parts.label(H("Height")),B(!1)]));return Sc.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[K,Y,L([H(""),O])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(se,ce,be)=>{gA(nt.getValue(se)).each(ie=>{h(ie).each(ae=>{nt.setValue(ce,(me=>{const ye={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let _e=me.value.toFixed((Fe=me.unit)in ye?ye[Fe]:1);var Fe;return _e.indexOf(".")!==-1&&(_e=_e.replace(/\.?0*$/,"")),_e+me.unit})(ae))})})},coupledFieldBehaviours:Ft([Kn.config({disabled:()=>!c.enabled||d.isDisabled(),onDisabled:se=>{Sc.getField1(se).bind(lr.getField).each(Kn.disable),Sc.getField2(se).bind(lr.getField).each(Kn.disable),Sc.getLock(se).each(Kn.disable)},onEnabled:se=>{Sc.getField1(se).bind(lr.getField).each(Kn.enable),Sc.getField2(se).bind(lr.getField).each(Kn.enable),Sc.getLock(se).each(Kn.enable)}}),ha(),uo("size-input-events2",[xt(b,(se,ce)=>{const be=ce.event.isField1,ie=be?Sc.getField1(se):Sc.getField2(se),ae=be?Sc.getField2(se):Sc.getField1(se),me=ie.map(nt.getValue).getOr(""),ye=ae.map(nt.getValue).getOr("");h=((_e,Fe)=>{const Xe=gA(_e).toOptional(),_t=gA(Fe).toOptional();return Vt(Xe,_t,(vt,gt)=>hA(vt,gt.unit).map(Bt=>gt.value/Bt).map(Bt=>{return sn=Bt,bn=gt.unit,In=>hA(In,bn).map(qn=>({value:qn*sn,unit:bn}));var sn,bn}).getOr(pA)).getOr(pA)})(me,ye)})])])})})(o,a.shared.providers)),slider:rs((o,a,c)=>((d,h,b)=>{const w=Sd.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Cs(h.translate(d.label))]}),k=Sd.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),E=Sd.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Sd.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:d.min,maxX:d.max,getInitialValue:re(b.getOrThunk(()=>(Math.abs(d.max)-Math.abs(d.min))/2))},components:[w,k,E],sliderBehaviours:Ft([Vm(),Zn.config({})]),onChoose:(O,L,B)=>{Sn(O,Zi,{name:d.name,value:B})},onChange:(O,L,B)=>{Sn(O,Zi,{name:d.name,value:B})}})})(o,a.shared.providers,c)),urlinput:rs((o,a,c)=>((d,h,b,w)=>{const k=h.shared.providers,E=ie=>{const ae=nt.getValue(ie);b.addToHistory(ae.value,d.filetype)},O={...w.map(ie=>({initialData:ie})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":bN,type:"url"},minChars:0,responseTime:0,fetch:ie=>{const ae=((ye,_e,Fe)=>{var Xe,_t;const vt=nt.getValue(_e),gt=(_t=(Xe=vt==null?void 0:vt.meta)===null||Xe===void 0?void 0:Xe.text)!==null&&_t!==void 0?_t:vt.value;return Fe.getLinkInformation().fold(()=>[],Bt=>{const sn=AA(gt,(In=>bt(In,qn=>EA(qn,qn)))(Fe.getHistory(ye)));return ye==="file"?(bn=[sn,AA(gt,aL(Bt)),AA(gt,br([hN(Bt),iL(Bt),pN(Bt)]))],Rn(bn,(In,qn)=>In.length===0||qn.length===0?In.concat(qn):In.concat(rL,qn),[])):sn;var bn})})(d.filetype,ie,b),me=p0(ae,kf.BUBBLE_TO_SANDBOX,h,{isHorizontalMenu:!1,search:R.none()});return Pm(me)},getHotspot:ie=>ce.getOpt(ie),onSetValue:(ie,ae)=>{ie.hasConfigured(Lm)&&Lm.run(ie).get(de)},typeaheadBehaviours:Ft([...b.getValidationHandler().map(ie=>Lm.config({getRoot:ae=>ai(ae.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(ae,me)=>{H.getOpt(ae).each(ye=>{Jt(ye.element,"title",k.translate(me))})}},validator:{validate:ae=>{const me=nt.getValue(ae);return uN(ye=>{ie({type:d.filetype,url:me.value},_e=>{if(_e.status==="invalid"){const Fe=_o.error(_e.message);ye(Fe)}else{const Fe=_o.value(_e.message);ye(Fe)}})})},validateOnLoad:!1}})).toArray(),Kn.config({disabled:()=>!d.enabled||k.isDisabled()}),Dr.config({}),uo("urlinput-events",[xt(am(),ie=>{const ae=sf(ie.element),me=ae.trim();me!==ae&&gm(ie.element,me),d.filetype==="file"&&Sn(ie,Zi,{name:d.name})}),xt(im(),ie=>{Sn(ie,Zi,{name:d.name}),E(ie)}),xt(ky(),ie=>{Sn(ie,Zi,{name:d.name}),E(ie)})])]),eventOrder:{[am()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:ie=>ie.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:h.shared.getSink,parts:{menu:ZC(0,0,"normal")},onExecute:(ie,ae,me)=>{Sn(ae,v2,{})},onItemExecute:(ie,ae,me,ye)=>{E(ie),Sn(ie,Zi,{name:d.name})}},L=lr.parts.field({...O,factory:oL}),B=d.label.map(ie=>up(ie,k)),H=tr(((ie,ae,me=ie,ye=ie)=>wc(me,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+ie],attributes:{title:k.translate(ye),"aria-live":"polite",...ae.fold(()=>({}),_e=>({id:_e}))}},k.icons))("invalid",R.some(bN),"warning")),K=tr({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[H.asSpec()]}),Y=b.getUrlPicker(d.filetype),se=fn("browser.url.event"),ce=tr({dom:{tag:"div",classes:["tox-control-wrap"]},components:[L,K.asSpec()],behaviours:Ft([Kn.config({disabled:()=>!d.enabled||k.isDisabled()})])}),be=tr(mN({name:d.name,icon:R.some("browse"),text:d.picker_text.or(d.label).getOr(""),enabled:d.enabled,primary:!1,buttonType:R.none(),borderless:!0},ie=>go(ie,se),k,[],["tox-browse-url"]));return lr.sketch({dom:m_([]),components:B.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:br([[ce.asSpec()],Y.map(()=>be.asSpec()).toArray()])}]),fieldBehaviours:Ft([Kn.config({disabled:()=>!d.enabled||k.isDisabled(),onDisabled:ie=>{lr.getField(ie).each(Kn.disable),be.getOpt(ie).each(Kn.disable)},onEnabled:ie=>{lr.getField(ie).each(Kn.enable),be.getOpt(ie).each(Kn.enable)}}),ha(),uo("url-input-events",[xt(se,ie=>{Vo.getCurrent(ie).each(ae=>{const me=nt.getValue(ae),ye={fieldname:d.name,...me};Y.each(_e=>{_e(ye).get(Fe=>{nt.setValue(ae,Fe),Sn(ie,Zi,{name:d.name})})})})})])])})})(o,a,a.urlinput,c)),customeditor:rs(o=>{const a=ir(),c=tr({dom:{tag:o.tag}}),d=ir(),h=!X3(o)&&o.onFocus.isSome()?[Zn.config({onFocus:b=>{o.onFocus.each(w=>{w(b.element.dom)})}}),Dr.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Ft([uo("custom-editor-events",[Ur(b=>{c.getOpt(b).each(w=>{(X3(o)?o.init(w.element.dom):HR.load(o.scriptId,o.scriptUrl).then(k=>k(w.element.dom,o.settings))).then(k=>{d.on(E=>{k.setValue(E)}),d.clear(),a.set(k)})})})]),h0(R.none(),()=>a.get().fold(()=>d.get().getOr(""),b=>b.getValue()),(b,w)=>{a.get().fold(()=>d.set(w),k=>k.setValue(w))}),Vm()].concat(h)),components:[c.asSpec()]}}),htmlpanel:rs((o,a)=>((c,d)=>{const h=["tox-form__group",...c.stretched?["tox-form__group--stretched"]:[]],b=uo("htmlpanel",[Ur(w=>{c.onInit(w.element.dom)})]);return c.presets==="presentation"?Cd.sketch({dom:{tag:"div",classes:h,innerHtml:c.html},containerBehaviours:Ft([Us.config({...d.tooltips.getConfig({tooltipText:"",onShow:w=>{Yr(w.element,"[data-mce-tooltip]:hover").orThunk(()=>Ms(w.element)).each(k=>{Io(k,"data-mce-tooltip").each(E=>{Us.setComponents(w,d.tooltips.getComponents({tooltipText:E}))})})}}),mode:"children-normal",anchor:w=>({type:"node",node:Yr(w.element,"[data-mce-tooltip]:hover").orThunk(()=>Ms(w.element).filter(k=>Io(k,"data-mce-tooltip").isSome())),root:w.element,layouts:{onLtr:re([Bs,ds,bs,Vs,vs,xr]),onRtl:re([Bs,ds,bs,Vs,vs,xr])},bubble:Hl(0,-2,{})})}),b])}):Cd.sketch({dom:{tag:"div",classes:h,innerHtml:c.html,attributes:{role:"document"}},containerBehaviours:Ft([Dr.config({}),Zn.config({}),b])})})(o,a.shared.providers)),imagepreview:rs((o,a,c)=>((d,h)=>{const b=Dn(h.getOr({url:""})),w=tr({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:h.map(L=>({src:L.url})).getOr({})}}),k=tr({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[w.asSpec()]}),E={};d.height.each(L=>E.height=L);const O=h.map(L=>({url:L.url,zoom:R.from(L.zoom),cachedWidth:R.from(L.cachedWidth),cachedHeight:R.from(L.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:E,attributes:{role:"presentation"}},components:[k.asSpec()],behaviours:Ft([Vm(),h0(O,()=>b.get(),(L,B)=>{const H={url:B.url};B.zoom.each(Y=>H.zoom=Y),B.cachedWidth.each(Y=>H.cachedWidth=Y),B.cachedHeight.each(Y=>H.cachedHeight=Y),b.set(H);const K=()=>{const{cachedWidth:Y,cachedHeight:se,zoom:ce}=H;if(!z(Y)&&!z(se)){if(z(ce)){const ie=((ae,me,ye)=>{const _e=ua(ae),Fe=ms(ae);return Math.min(_e/me,Fe/ye,1)})(L.element,Y,se);H.zoom=ie}const be=((ie,ae,me,ye,_e)=>{const Fe=me*_e,Xe=ye*_e,_t=Math.max(0,ie/2-Fe/2),vt=Math.max(0,ae/2-Xe/2);return{left:_t.toString()+"px",top:vt.toString()+"px",width:Fe.toString()+"px",height:Xe.toString()+"px"}})(ua(L.element),ms(L.element),Y,se,H.zoom);k.getOpt(L).each(ie=>{Bi(ie.element,be)})}};w.getOpt(L).each(Y=>{const se=Y.element;var ce;B.url!==wo(se,"src")&&(Jt(se,"src",B.url),ps(L.element,"tox-imagepreview__loaded")),K(),(ce=se,new Promise((be,ie)=>{const ae=()=>{ye(),be(ce)},me=[Ei(ce,"load",ae),Ei(ce,"error",()=>{ye(),ie("Unable to load data from image: "+ce.dom.src)})],ye=()=>Zt(me,_e=>_e.unbind());ce.dom.complete&&ae()})).then(be=>{L.getSystem().isConnected()&&(us(L.element,"tox-imagepreview__loaded"),H.cachedWidth=be.dom.naturalWidth,H.cachedHeight=be.dom.naturalHeight,K())})})})])}})(o,c)),table:rs((o,a)=>((c,d)=>{const h=k=>({dom:{tag:"td",innerHtml:d.translate(k)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(w=c.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:bt(w,k=>({dom:{tag:"th",innerHtml:d.translate(k)}}))}]}),(b=c.cells,{dom:{tag:"tbody"},components:bt(b,k=>({dom:{tag:"tr"},components:bt(k,h)}))})],behaviours:Ft([Dr.config({}),Zn.config({})])};var b,w})(o,a.shared.providers)),tree:rs((o,a)=>((c,d)=>{const h=c.onLeafAction.getOr(de),b=c.onToggleExpand.getOr(de),w=c.defaultExpandedIds,k=Dn(w),E=Dn(c.defaultSelectedId),O=fn("tree-id"),L=(B,H)=>c.items.map(K=>K.type==="leaf"?xA({leaf:K,selectedId:B,onLeafAction:h,visible:!0,treeId:O,backstage:d}):j_({directory:K,selectedId:B,onLeafAction:h,expandedIds:H,labelTabstopping:!0,treeId:O,backstage:d}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:L(E.get(),k.get()),behaviours:Ft([An.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),uo(J7,[xt("expand-tree-node",(B,H)=>{const{expanded:K,node:Y}=H.event;k.set(K?[...k.get(),Y]:k.get().filter(se=>se!==Y)),b(k.get(),{expanded:K,node:Y})})]),al.config({channels:{[`update-active-item-${O}`]:{onReceive:(B,H)=>{E.set(R.some(H.value)),zn.set(B,L(R.some(H.value),k.get()))}}}}),zn.config({})])}})(o,a)),panel:rs((o,a)=>((c,d)=>({dom:{tag:"div",classes:c.classes},components:bt(c.items,d.shared.interpreter)}))(o,a))},TA={field:(o,a)=>a,record:re([])},G_=(o,a,c,d,h)=>{const b=yr(d,{shared:{interpreter:w=>OA(o,w,c,b,h)}});return OA(o,a,c,b,h)},OA=(o,a,c,d,h)=>cn(cL,a.type).fold(()=>(console.error(`Unknown factory type "${a.type}", defaulting to container: `,a),a),b=>b(o,a,c,d,h)),vN=(o,a,c,d)=>OA(TA,o,a,c,d),kd="layout-inset",Sv=o=>o.x,Y_=(o,a)=>o.x+o.width/2-a.width/2,DA=(o,a)=>o.x+o.width-a.width,Vu=o=>o.y,RA=(o,a)=>o.y+o.height-a.height,yN=(o,a)=>o.y+o.height/2-a.height/2,Wl=(o,a,c)=>qa(DA(o,a),RA(o,a),c.insetSouthwest(),Mg(),"southwest",Ga(o,{right:0,bottom:3}),kd),xp=(o,a,c)=>qa(Sv(o),RA(o,a),c.insetSoutheast(),bb(),"southeast",Ga(o,{left:1,bottom:3}),kd),Zl=(o,a,c)=>qa(DA(o,a),Vu(o),c.insetNorthwest(),Bg(),"northwest",Ga(o,{right:0,top:2}),kd),O2=(o,a,c)=>qa(Sv(o),Vu(o),c.insetNortheast(),pb(),"northeast",Ga(o,{left:1,top:2}),kd),$o=(o,a,c)=>qa(Y_(o,a),Vu(o),c.insetNorth(),qw(),"north",Ga(o,{top:2}),kd),$m=(o,a,c)=>qa(Y_(o,a),RA(o,a),c.insetSouth(),Gy(),"south",Ga(o,{bottom:3}),kd),D2=(o,a,c)=>qa(DA(o,a),yN(o,a),c.insetEast(),Gw(),"east",Ga(o,{right:0}),kd),NA=(o,a,c)=>qa(Sv(o),yN(o,a),c.insetWest(),Yy(),"west",Ga(o,{left:1}),kd),IA=o=>{switch(o){case"north":return $o;case"northeast":return O2;case"northwest":return Zl;case"south":return $m;case"southeast":return xp;case"southwest":return Wl;case"east":return D2;case"west":return NA}},X_=(o,a,c,d,h)=>Sb(d).map(IA).getOr($o)(o,a,c,d,h),uL=o=>{switch(o){case"north":return $m;case"northeast":return xp;case"northwest":return Wl;case"south":return $o;case"southeast":return O2;case"southwest":return Zl;case"east":return NA;case"west":return D2}},BA=(o,a,c,d,h)=>Sb(d).map(uL).getOr($o)(o,a,c,d,h),R2={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},xN=(o,a,c)=>{const d={maxHeightFunction:zg()};return()=>c()?{type:"node",root:je(ot(o())),node:R.from(o()),bubble:Hl(12,12,R2),layouts:{onRtl:()=>[O2],onLtr:()=>[Zl]},overrides:d}:{type:"hotspot",hotspot:a(),bubble:Hl(-12,12,R2),layouts:{onRtl:()=>[bs,vs,Bs],onLtr:()=>[vs,bs,Bs]},overrides:d}},wN=(o,a,c,d)=>{const h={maxHeightFunction:zg()};return()=>d()?{type:"node",root:je(ot(a())),node:R.from(a()),bubble:Hl(12,12,R2),layouts:{onRtl:()=>[$o],onLtr:()=>[$o]},overrides:h}:o?{type:"node",root:je(ot(a())),node:R.from(a()),bubble:Hl(0,-tc(a()),R2),layouts:{onRtl:()=>[ds],onLtr:()=>[ds]},overrides:h}:{type:"hotspot",hotspot:c(),bubble:Hl(0,0,R2),layouts:{onRtl:()=>[ds],onLtr:()=>[ds]},overrides:h}},MA=(o,a,c)=>()=>c()?{type:"node",root:je(ot(o())),node:R.from(o()),layouts:{onRtl:()=>[$o],onLtr:()=>[$o]}}:{type:"hotspot",hotspot:a(),layouts:{onRtl:()=>[Bs],onLtr:()=>[Bs]}},CN=(o,a)=>()=>({type:"selection",root:a(),getSelection:()=>{const c=o.selection.getRng(),d=o.model.table.getSelectedCells();if(d.length>1){const h=d[0],b=d[d.length-1],w={firstCell:Qt(h),lastCell:Qt(b)};return R.some(w)}return R.some(mf.range(Qt(c.startContainer),c.startOffset,Qt(c.endContainer),c.endOffset))}}),J_=o=>a=>({type:"node",root:o(),node:a}),dL=(o,a,c,d)=>{const h=Jb(o),b=()=>Qt(o.getBody()),w=()=>Qt(o.getContentAreaContainer()),k=()=>h||!d();return{inlineDialog:xN(w,a,k),inlineBottomDialog:wN(o.inline,w,c,k),banner:MA(w,a,k),cursor:CN(o,b),node:J_(b)}},fL=o=>(a,c)=>{GD(o)(a,c)},mL=o=>()=>r3(o),gL=o=>a=>c0(o,a),hL=o=>a=>o3(o,a),_N=o=>()=>_f(o),SN=o=>io(o,"items"),kN=o=>io(o,"format"),PA=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],LA=o=>Rn(o,(a,c)=>{if(po(c,"items")){const d=LA(c.items);return{customFormats:a.customFormats.concat(d.customFormats),formats:a.formats.concat([{title:c.title,items:d.formats}])}}if(po(c,"inline")||(d=>po(d,"block"))(c)||(d=>po(d,"selector"))(c)){const d=`custom-${p(c.name)?c.name:c.title.toLowerCase()}`;return{customFormats:a.customFormats.concat([{name:d,format:c}]),formats:a.formats.concat([{title:c.title,format:d,icon:c.icon}])}}return{...a,formats:a.formats.concat(c)}},{customFormats:[],formats:[]}),EN=o=>ov(o).map(a=>{const c=((d,h)=>{const b=LA(h),w=k=>{Zt(k,E=>{d.formatter.has(E.name)||d.formatter.register(E.name,E.format)})};return d.formatter?w(b.customFormats):d.on("init",()=>{w(b.customFormats)}),b.formats})(o,a);return kC(o)?PA.concat(c):c}).getOr(PA),AN=(o,a,c)=>({...o,type:"formatter",isSelected:a(o.format),getStylePreview:c(o.format)}),FA=(o,a,c,d)=>{const h=b=>bt(b,w=>SN(w)?(k=>{const E=h(k.items);return{...k,type:"submenu",getStyleItems:re(E)}})(w):kN(w)?(k=>AN(k,c,d))(w):(k=>{const E=on(k);return E.length===1&&Qe(E,"title")})(w)?{...w,type:"separator"}:(k=>{const E=p(k.name)?k.name:fn(k.title),O=`custom-${E}`,L={...k,type:"formatter",format:O,isSelected:c(O),getStylePreview:d(O)};return o.formatter.register(E,L),L})(w));return h(a)},zA=o=>{let a=0;const c=d=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Cs(d.tooltipText)]}];return{getConfig:d=>({delayForShow:()=>a>0?60:300,delayForHide:re(300),exclusive:!0,lazySink:o,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:c(d),onShow:(h,b)=>{a++,d.onShow&&d.onShow(h,b)},onHide:(h,b)=>{a--,d.onHide&&d.onHide(h,b)},onSetup:d.onSetup}),getComponents:c}},TN=oh.trim,ON=o=>a=>!!((c=>$(c)&&c.nodeType===1)(a)&&(a.contentEditable===o||a.getAttribute("data-mce-contenteditable")===o)),pL=ON("true"),bL=ON("false"),DN=(o,a,c,d,h)=>({type:o,title:a,url:c,level:d,attach:h}),RN=o=>o.innerText||o.textContent,vL=o=>(a=>a&&a.nodeName==="A"&&(a.id||a.name)!==void 0)(o)&&$u(o),HA=o=>o&&/^(H[1-6])$/.test(o.nodeName),$u=o=>(a=>{let c=a;for(;c=c.parentNode;){const d=c.contentEditable;if(d&&d!=="inherit")return pL(c)}return!1})(o)&&!bL(o),yL=o=>HA(o)&&$u(o),VA=o=>{var a;const c=(d=>d.id?d.id:fn("h"))(o);return DN("header",(a=RN(o))!==null&&a!==void 0?a:"","#"+c,(d=>HA(d)?parseInt(d.nodeName.substr(1),10):0)(o),()=>{o.id=c})},NN=o=>{const a=o.id||o.name,c=RN(o);return DN("anchor",c||"#"+a,"#"+a,0,de)},IN=o=>TN(o.title).length>0,xL=o=>{const a=(c=>bt(aa(Qt(c),"h1,h2,h3,h4,h5,h6,a:not([href])"),h=>h.dom))(o);return ho((c=>bt(ho(c,yL),VA))(a).concat((c=>bt(ho(c,vL),NN))(a)),IN)},N2="tinymce-url-history",$A=o=>p(o)&&/^https?/.test(o),UA=o=>x(o)&&ur(o,a=>{return!(P(c=a)&&c.length<=5&&oi(c,$A));var c}).isNone(),BN=()=>{const o=_c.getItem(N2);if(o===null)return{};let a;try{a=JSON.parse(o)}catch(c){if(c instanceof SyntaxError)return console.log("Local storage "+N2+" was not valid JSON",c),{};throw c}return UA(a)?a:(console.log("Local storage "+N2+" was not valid format",a),{})},wL=o=>{const a=BN();return cn(a,o).getOr([])},CL=(o,a)=>{if(!$A(o))return;const c=BN(),d=cn(c,a).getOr([]),h=ho(d,b=>b!==o);c[a]=[o].concat(h).slice(0,5),(b=>{if(!UA(b))throw new Error(`Bad format for history:
`+JSON.stringify(b));_c.setItem(N2,JSON.stringify(b))})(c)},MN=o=>!!o,_L=o=>En(oh.makeMap(o,/[, ]/),MN),Q_=o=>R.from(AC(o)),WA=o=>R.from(o).filter(p).getOrUndefined(),PN=o=>({getHistory:wL,addToHistory:CL,getLinkInformation:()=>(a=>TC(a)?R.some({targets:xL(a.getBody()),anchorTop:WA(k5(a)),anchorBottom:WA(E5(a))}):R.none())(o),getValidationHandler:()=>(a=>R.from(Px(a)))(o),getUrlPicker:a=>((c,d)=>((h,b)=>{const w=(k=>{const E=R.from(Lx(k)).filter(MN).map(_L);return Q_(k).fold(Ce,O=>E.fold(Re,L=>on(L).length>0&&L))})(h);return D(w)?w?Q_(h):R.none():w[b]?Q_(h):R.none()})(c,d).map(h=>b=>lp(w=>{const k={filetype:d,fieldname:b.fieldname,...R.from(b.meta).getOr({})};h.call(c,(E,O)=>{if(!p(E))throw new Error("Expected value to be string");if(O!==void 0&&!x(O))throw new Error("Expected meta to be a object");w({value:E,meta:O})},b.value,k)})))(o,a)}),Ja=BM,Um=mO,SL=re([et("shell",!1),At("makeItem"),et("setupItem",de),jn("listBehaviours",[zn])]),kv=Jc({name:"items",overrides:()=>({behaviours:Ft([zn.config({})])})}),kL=re([kv]),ZA=xl({name:re("CustomList")(),configFields:SL(),partFields:kL(),factory:(o,a,c,d)=>{const h=o.shell?{behaviours:[zn.config({})],components:[]}:{behaviours:[],components:a};return{uid:o.uid,dom:o.dom,components:h.components,behaviours:co(o.listBehaviours,h.behaviours),apis:{setItems:(b,w)=>{var k;(k=b,o.shell?R.some(k):Ir(k,o,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},E=>{const O=zn.contents(E),L=w.length,B=L-O.length,H=B>0?nr(B,()=>o.makeItem()):[],K=O.slice(L);Zt(K,se=>zn.remove(E,se)),Zt(H,se=>zn.append(E,se));const Y=zn.contents(E);Zt(Y,(se,ce)=>{o.setupItem(b,se,w[ce],ce)})})}}}},apis:{setItems:(o,a,c)=>{o.setItems(a,c)}}}),v0=re([At("dom"),et("shell",!0),mn("toolbarBehaviours",[zn])]),LN=re([Jc({name:"groups",overrides:()=>({behaviours:Ft([zn.config({})])})})]),Ed=xl({name:"Toolbar",configFields:v0(),partFields:LN(),factory:(o,a,c,d)=>{const h=o.shell?{behaviours:[zn.config({})],components:[]}:{behaviours:[],components:a};return{uid:o.uid,dom:o.dom,components:h.components,behaviours:co(o.toolbarBehaviours,h.behaviours),apis:{setGroups:(b,w)=>{var k;(k=b,o.shell?R.some(k):Ir(k,o,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},E=>{zn.set(E,w)})},refresh:de},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,a,c)=>{o.setGroups(a,c)}}}),jA=de,KA=Ce,eS=re([]);var qA,EL=Object.freeze({__proto__:null,setup:jA,isDocked:KA,getBehaviours:eS});const tS=re(fn("toolbar-height-change")),Wm={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},FN="tox-tinymce--toolbar-sticky-on",zN="tox-tinymce--toolbar-sticky-off",I2=(o,a)=>Qe(Gr.getModes(o),a),nS=o=>{const a=o.element;ai(a).each(c=>{const d="padding-"+Gr.getModes(o)[0];if(Gr.isDocked(o)){const h=ua(c);Xn(a,"width",h+"px"),Xn(c,d,(b=>tc(b)+(parseInt(as(b,"margin-top"),10)||0)+(parseInt(as(b,"margin-bottom"),10)||0))(a)+"px")}else er(a,"width"),er(c,d)})},GA=(o,a)=>{a?(ps(o,Wm.fadeOutClass),Is(o,[Wm.transitionClass,Wm.fadeInClass])):(ps(o,Wm.fadeInClass),Is(o,[Wm.fadeOutClass,Wm.transitionClass]))},HN=(o,a)=>{const c=Qt(o.getContainer());a?(us(c,FN),ps(c,zN)):(us(c,zN),ps(c,FN))},VN=(o,a)=>{const c=ir(),d=a.getSink,h=k=>{d().each(E=>k(E.element))},b=k=>{o.inline||nS(k),HN(o,Gr.isDocked(k)),k.getSystem().broadcastOn([V()],{}),d().each(E=>E.getSystem().broadcastOn([V()],{}))},w=o.inline?[]:[al.config({channels:{[tS()]:{onReceive:nS}}})];return[Zn.config({}),Gr.config({contextual:{lazyContext:k=>{const E=tc(k.element),O=o.inline?o.getContentAreaContainer():o.getContainer();return R.from(O).map(L=>{const B=js(Qt(L));return ep(o,k.element).fold(()=>{const H=B.height-E,K=B.y+(I2(k,"top")?0:E);return bo(B.x,K,B.width,H)},H=>{const K=nd(B,tp(H)),Y=I2(k,"top")?K.y:K.y+E;return bo(K.x,Y,K.width,K.height-E)})})},onShow:()=>{h(k=>GA(k,!0))},onShown:k=>{h(E=>zl(E,[Wm.transitionClass,Wm.fadeInClass])),c.get().each(E=>{((O,L)=>{const B=Zs(L);qc(B).filter(H=>!Wo(L,H)).filter(H=>Wo(H,Qt(B.dom.body))||xs(O,H)).each(()=>ki(L))})(k.element,E),c.clear()})},onHide:k=>{((E,O)=>Ms(E).orThunk(()=>O().toOptional().bind(L=>Ms(L.element))))(k.element,d).fold(c.clear,c.set),h(E=>GA(E,!1))},onHidden:()=>{h(k=>zl(k,[Wm.transitionClass]))},...Wm},lazyViewport:k=>ep(o,k.element).fold(()=>{const E=_a(),O=gE(o),L=E.y+(I2(k,"top")?O:0),B=E.height-(I2(k,"bottom")?O:0);return{bounds:bo(E.x,L,E.width,B),optScrollEnv:R.none()}},E=>({bounds:tp(E),optScrollEnv:R.some({currentScrollTop:E.element.dom.scrollTop,scrollElmTop:bl(E.element).top})})),modes:[a.header.getDockingMode()],onDocked:b,onUndocked:b}),...w]};var AL=Object.freeze({__proto__:null,setup:(o,a,c)=>{o.inline||(a.header.isPositionedAtTop()||o.on("ResizeEditor",()=>{c().each(Gr.reset)}),o.on("ResizeWindow ResizeEditor",()=>{c().each(nS)}),o.on("SkinLoaded",()=>{c().each(d=>{Gr.isDocked(d)?Gr.reset(d):Gr.refresh(d)})}),o.on("FullscreenStateChanged",()=>{c().each(Gr.reset)})),o.on("AfterScrollIntoView",d=>{c().each(h=>{Gr.refresh(h);const b=h.element;HO(b)&&((w,k)=>{const E=Zs(k),O=Nc(k).dom.innerHeight,L=Pr(E),B=Qt(w.elm),H=nl(B),K=ms(B),Y=H.y,se=Y+K,ce=bl(k),be=ms(k),ie=ce.top,ae=ie+be,me=Math.abs(ie-L.top)<2,ye=Math.abs(ae-(L.top+O))<2;if(me&&Y<ae)Zd(L.left,Y-be,E);else if(ye&&se>ie){const _e=Y-O+K+be;Zd(L.left,_e,E)}})(d,b)})}),o.on("PostRender",()=>{HN(o,!1)})},isDocked:o=>o().map(Gr.isDocked).getOr(!1),getBehaviours:VN});const TL=Pn([ea,ka("items",nm([xu([IE,Fi("items",ra)]),ra]))].concat(Mm)),OL=[ws("text"),ws("tooltip"),ws("icon"),_i("search",!1,nm([Pl,Pn([ws("placeholder")])],o=>D(o)?o?R.some({placeholder:R.none()}):R.none():R.some(o))),Ci("fetch"),Lr("onSetup",()=>de)],$N=Pn([ea,...OL]),UN=o=>is("menubutton",$N,o),DL=Pn([ea,r2,Mu,ap,FE,$P,sp,sc("presets","normal",["normal","color","listpreview"]),fD(1),av,dD]);var YA=Qc({factory:(o,a)=>{const c={focus:An.focusIn,setMenus:(d,h)=>{const b=bt(h,w=>{const k={type:"menubutton",text:w.text,fetch:O=>{O(w.getItems())}},E=UN(k).mapError(O=>Li(O)).getOrDie();return Cv(E,"tox-mbtn",a.backstage,R.some("menuitem"))});zn.set(d,b)}};return{uid:o.uid,dom:o.dom,components:[],behaviours:Ft([zn.config({}),uo("menubar-events",[Ur(d=>{o.onSetup(d)}),xt(_n(),(d,h)=>{Yr(d.element,".tox-mbtn--active").each(b=>{Tu(h.event.target,".tox-mbtn").each(w=>{Wo(b,w)||d.getSystem().getByDom(b).each(k=>{d.getSystem().getByDom(w).each(E=>{cl.expand(E),cl.close(k),Zn.focus(E)})})})})}),xt(i1(),(d,h)=>{h.event.prevFocus.bind(b=>d.getSystem().getByDom(b).toOptional()).each(b=>{h.event.newFocus.bind(w=>d.getSystem().getByDom(w).toOptional()).each(w=>{cl.isOpen(b)&&(cl.expand(w),cl.close(b))})})})]),An.config({mode:"flow",selector:".tox-mbtn",onEscape:d=>(o.onEscape(d),R.some(!0))}),Dr.config({})]),apis:c,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[At("dom"),At("uid"),At("onEscape"),At("backstage"),et("onSetup",de)],apis:{focus:(o,a)=>{o.focus(a)},setMenus:(o,a,c)=>{o.setMenus(a,c)}}});const WN="container",RL=[mn("slotBehaviours",[])],XA=o=>"<alloy.field."+o+">",NL=(o,a)=>{const c=L=>bO(o),d=(L,B)=>(H,K)=>Ir(H,o,K).map(Y=>L(Y,K)).getOr(B),h=(L,B)=>wo(L.element,"aria-hidden")!=="true",b=d(h,!1),w=d((L,B)=>{if(h(L)){const H=L.element;Xn(H,"display","none"),Jt(H,"aria-hidden","true"),Sn(L,Wc(),{name:B,visible:!1})}}),k=(L=>(B,H)=>{Zt(H,K=>L(B,K))})(w),E=d((L,B)=>{if(!h(L)){const H=L.element;er(H,"display"),fo(H,"aria-hidden"),Sn(L,Wc(),{name:B,visible:!0})}}),O={getSlotNames:c,getSlot:(L,B)=>Ir(L,o,B),isShowing:b,hideSlot:w,hideAllSlots:L=>k(L,c()),showSlot:E};return{uid:o.uid,dom:o.dom,components:a,behaviours:Vn(o.slotBehaviours),apis:O}},IL=En({getSlotNames:(o,a)=>o.getSlotNames(a),getSlot:(o,a,c)=>o.getSlot(a,c),isShowing:(o,a,c)=>o.isShowing(a,c),hideSlot:(o,a,c)=>o.hideSlot(a,c),hideAllSlots:(o,a)=>o.hideAllSlots(a),showSlot:(o,a,c)=>o.showSlot(a,c)},o=>w1(o)),ul={...IL,sketch:o=>{const a=(()=>{const b=[];return{slot:(w,k)=>(b.push(w),Nk(WN,XA(w),k)),record:re(b)}})(),c=o(a),d=a.record(),h=bt(d,b=>ll({name:b,pname:XA(b)}));return bx(WN,RL,h,NL,c)}},BL=Pn([Mu,r2,Lr("onShow",de),Lr("onHide",de),sp]),ML=o=>({element:()=>o.element.dom}),oS=(o,a)=>{const c=bt(on(a),d=>{const h=a[d],b=wi((w=>is("sidebar",BL,w))(h));return{name:d,getApi:ML,onSetup:b.onSetup,onShow:b.onShow,onHide:b.onHide}});return bt(c,d=>{const h=Dn(de);return o.slot(d.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:a2([ip(d,h),Xg(d,h),xt(Wc(),(b,w)=>{const k=w.event;J(c,O=>O.name===k.name).each(O=>{(k.visible?O.onShow:O.onHide)(O.getApi(b))})})])})})},ZN=o=>ul.sketch(a=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:oS(a,o),slotBehaviours:a2([Ur(c=>ul.hideAllSlots(c))])})),rS=(o,a)=>{Jt(o,"role",a)},PL=o=>Vo.getCurrent(o).bind(a=>Rl.isGrowing(a)||Rl.hasGrown(a)?Vo.getCurrent(a).bind(c=>J(ul.getSlotNames(c),d=>ul.isShowing(c,d))):R.none()),JA=fn("FixSizeEvent"),QA=fn("AutoSizeEvent");var LL=Object.freeze({__proto__:null,block:(o,a,c,d)=>{Jt(o.element,"aria-busy",!0);const h=a.getRoot(o).getOr(o),b=Ft([An.config({mode:"special",onTab:()=>R.some(!0),onShiftTab:()=>R.some(!0)}),Zn.config({})]),w=d(h,b),k=h.getSystem().build(w);zn.append(h,Hi(k)),k.hasConfigured(An)&&a.focus&&An.focusIn(k),c.isBlocked()||a.onBlock(o),c.blockWith(()=>zn.remove(h,k))},unblock:(o,a,c)=>{fo(o.element,"aria-busy"),c.isBlocked()&&a.onUnblock(o),c.clear()},isBlocked:(o,a,c)=>c.isBlocked()}),FL=[Lr("getRoot",R.none),Hs("focus",!0),Fo("onBlock"),Fo("onUnblock")];const Uu=ga({fields:FL,name:"blocking",apis:LL,state:Object.freeze({__proto__:null,init:()=>{const o=nc(a=>a.destroy());return ma({readState:o.isSet,blockWith:a=>{o.set({destroy:a})},clear:o.clear,isBlocked:o.isSet})}})}),e4=o=>Vo.getCurrent(o).each(a=>ki(a.element,!0)),jN=(o,a,c)=>{const d=Dn(!1),h=ir(),b=k=>{var E;d.get()&&(!(O=>O.type==="focusin")(E=k)||!(E.composed?$t(E.composedPath()):R.from(E.target)).map(Qt).filter(jr).exists(O=>zi(O,"mce-pastebin")))&&(k.preventDefault(),e4(a()),o.editorManager.setActive(o))};o.inline||o.on("PreInit",()=>{o.dom.bind(o.getWin(),"focusin",b),o.on("BeforeExecCommand",k=>{k.command.toLowerCase()==="mcefocus"&&k.value!==!0&&b(k)})});const w=k=>{k!==d.get()&&(d.set(k),((E,O,L,B)=>{const H=O.element;if(((K,Y)=>{const se="tabindex",ce=`data-mce-${se}`;R.from(K.iframeElement).map(Qt).each(be=>{Y?(Io(be,se).each(ie=>Jt(be,ce,ie)),Jt(be,se,-1)):(fo(be,se),Io(be,ce).each(ie=>{Jt(be,se,ie),fo(be,ce)}))})})(E,L),L)Uu.block(O,(K=>(Y,se)=>({dom:{tag:"div",attributes:{"aria-label":K.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Rm('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(B)),er(H,"display"),fo(H,"aria-hidden"),E.hasFocus()&&e4(O);else{const K=Vo.getCurrent(O).exists(Y=>Fg(Y.element));Uu.unblock(O),Xn(H,"display","none"),Jt(H,"aria-hidden","true"),K&&E.focus()}})(o,a(),k,c.providers),((E,O)=>{E.dispatch("AfterProgressState",{state:O})})(o,k))};o.on("ProgressState",k=>{if(h.on(clearTimeout),Q(k.time)){const E=_C.setEditorTimeout(o,()=>w(k.state),k.time);h.set(E)}else w(k.state),h.clear()})},t4=(o,a,c)=>({within:o,extra:a,withinWidth:c}),n4=(o,a,c)=>{const d=Rn(o,(w,k)=>((E,O)=>{const L=c(E);return R.some({element:E,start:O,finish:O+L,width:L})})(k,w.len).fold(re(w),E=>({len:E.finish,list:w.list.concat([E])})),{len:0,list:[]}).list,h=ho(d,w=>w.finish<=a),b=xn(h,(w,k)=>w+k.width,0);return{within:h,extra:d.slice(h.length),withinWidth:b}},sS=o=>bt(o,a=>a.element),KN=(o,a)=>{const c=bt(a,d=>Hi(d));Ed.setGroups(o,c)},qN=(o,a,c)=>{const d=a.builtGroups.get();if(d.length===0)return;const h=Zg(o,a,"primary"),b=_s.getCoupled(o,"overflowGroup");Xn(h.element,"visibility","hidden");const w=d.concat([b]),k=It(w,O=>Ms(O.element).bind(L=>O.getSystem().getByDom(L).toOptional()));c([]),KN(h,w);const E=((O,L,B,H)=>{const K=((be,ie,ae)=>{const me=n4(ie,be,ae);return me.extra.length===0?R.some(me):R.none()})(O,L,B).getOrThunk(()=>n4(L,O-B(H),B)),Y=K.within,se=K.extra,ce=K.withinWidth;return se.length===1&&se[0].width<=B(H)?((be,ie,ae)=>{const me=sS(be.concat(ie));return t4(me,[],ae)})(Y,se,ce):se.length>=1?((be,ie,ae,me)=>{const ye=sS(be).concat([ae]);return t4(ye,sS(ie),me)})(Y,se,H,ce):((be,ie,ae)=>t4(sS(be),[],ae))(Y,0,ce)})(ua(h.element),a.builtGroups.get(),O=>Math.ceil(O.element.dom.getBoundingClientRect().width),b);E.extra.length===0?(zn.remove(h,b),c([])):(KN(h,E.within),c(E.extra)),er(h.element,"visibility"),gu(h.element),k.each(Zn.focus)},GN=re([mn("splitToolbarBehaviours",[_s]),Sa("builtGroups",()=>Dn([]))]),zL=re([Og(["overflowToggledClass"]),Vc("getOverflowBounds"),At("lazySink"),Sa("overflowGroups",()=>Dn([])),Fo("onOpened"),Fo("onClosed")].concat(GN())),HL=re([ll({factory:Ed,schema:v0(),name:"primary"}),vd({schema:v0(),name:"overflow"}),vd({name:"overflow-button"}),vd({name:"overflow-group"})]),o4=re((o,a)=>{((c,d)=>{const h=fg.max(c,d,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);Xn(c,"max-width",h+"px")})(o,Math.floor(a))}),VL=re([Og(["toggledClass"]),At("lazySink"),Ci("fetch"),Vc("getBounds"),gs("fireDismissalEventInstead",[et("event",Cg())]),cf(),Fo("onToggled")]),$L=re([vd({name:"button",overrides:o=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Ft([Un.config({toggleClass:o.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:o.onToggled})])})}),vd({factory:Ed,schema:v0(),name:"toolbar",overrides:o=>({toolbarBehaviours:Ft([An.config({mode:"cyclic",onEscape:a=>(Ir(a,o,"button").each(Zn.focus),R.none())})])})})]),aS=ir(),Ev=(o,a)=>{const c=_s.getCoupled(o,"toolbarSandbox");T.isOpen(c)?T.close(c):T.open(c,a.toolbar())},B2=(o,a,c,d)=>{const h=c.getBounds.map(w=>w()),b=c.lazySink(o).getOrDie();Ya.positionWithinBounds(b,a,{anchor:{type:"hotspot",hotspot:o,layouts:d,overrides:{maxWidthFunction:o4()}}},h)},iS=(o,a,c,d,h)=>{Ed.setGroups(a,h),B2(o,a,c,d),Un.on(o)},sh=xl({name:"FloatingToolbarButton",factory:(o,a,c,d)=>({...Ti.sketch({...d.button(),action:h=>{Ev(h,d)},buttonBehaviours:$n({dump:d.button().buttonBehaviours},[_s.config({others:{toolbarSandbox:h=>((b,w,k)=>{const E=Ig();return{dom:{tag:"div",attributes:{id:E.id}},behaviours:Ft([An.config({mode:"special",onEscape:O=>(T.close(O),R.some(!0))}),T.config({onOpen:(O,L)=>{const B=aS.get().getOr(!1);k.fetch().get(H=>{iS(b,L,k,w.layouts,H),E.link(b.element),B||An.focusIn(L)})},onClose:()=>{Un.off(b),aS.get().getOr(!1)||Zn.focus(b),E.unlink(b.element)},isPartOf:(O,L,B)=>sl(L,B)||sl(b,B),getAttachPoint:()=>k.lazySink(b).getOrDie()}),al.config({channels:{...ne({isExtraPart:Ce,...k.fireDismissalEventInstead.map(O=>({fireEventInstead:{event:O.event}})).getOr({})}),...Te({doReposition:()=>{T.getState(_s.getCoupled(b,"toolbarSandbox")).each(O=>{B2(b,O,k,w.layouts)})}})}})])}})(h,c,o)}})])}),apis:{setGroups:(h,b)=>{T.getState(_s.getCoupled(h,"toolbarSandbox")).each(w=>{iS(h,w,o,c.layouts,b)})},reposition:h=>{T.getState(_s.getCoupled(h,"toolbarSandbox")).each(b=>{B2(h,b,o,c.layouts)})},toggle:h=>{Ev(h,d)},toggleWithoutFocusing:h=>{((b,w)=>{aS.set(!0),Ev(b,w),aS.clear()})(h,d)},getToolbar:h=>T.getState(_s.getCoupled(h,"toolbarSandbox")),isOpen:h=>T.isOpen(_s.getCoupled(h,"toolbarSandbox"))}}),configFields:VL(),partFields:$L(),apis:{setGroups:(o,a,c)=>{o.setGroups(a,c)},reposition:(o,a)=>{o.reposition(a)},toggle:(o,a)=>{o.toggle(a)},toggleWithoutFocusing:(o,a)=>{o.toggleWithoutFocusing(a)},getToolbar:(o,a)=>o.getToolbar(a),isOpen:(o,a)=>o.isOpen(a)}}),UL=re([At("items"),Og(["itemSelector"]),mn("tgroupBehaviours",[An])]),WL=re([lC({name:"items",unit:"item"})]),Av=xl({name:"ToolbarGroup",configFields:UL(),partFields:WL(),factory:(o,a,c,d)=>({uid:o.uid,dom:o.dom,components:a,behaviours:co(o.tgroupBehaviours,[An.config({mode:"flow",selector:o.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),lS=o=>bt(o,a=>Hi(a)),M2=(o,a,c)=>{qN(o,c,d=>{c.overflowGroups.set(d),a.getOpt(o).each(h=>{sh.setGroups(h,lS(d))})})},r4=xl({name:"SplitFloatingToolbar",configFields:zL(),partFields:HL(),factory:(o,a,c,d)=>{const h=tr(sh.sketch({fetch:()=>lp(b=>{b(lS(o.overflowGroups.get()))}),layouts:{onLtr:()=>[vs,bs],onRtl:()=>[bs,vs],onBottomLtr:()=>[xr,Vs],onBottomRtl:()=>[Vs,xr]},getBounds:c.getOverflowBounds,lazySink:o.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:o.markers.overflowToggledClass},parts:{button:d["overflow-button"](),toolbar:d.overflow()},onToggled:(b,w)=>o[w?"onOpened":"onClosed"](b)}));return{uid:o.uid,dom:o.dom,components:a,behaviours:co(o.splitToolbarBehaviours,[_s.config({others:{overflowGroup:()=>Av.sketch({...d["overflow-group"](),items:[h.asSpec()]})}})]),apis:{setGroups:(b,w)=>{o.builtGroups.set(bt(w,b.getSystem().build)),M2(b,h,o)},refresh:b=>M2(b,h,o),toggle:b=>{h.getOpt(b).each(w=>{sh.toggle(w)})},toggleWithoutFocusing:b=>{h.getOpt(b).each(sh.toggleWithoutFocusing)},isOpen:b=>h.getOpt(b).map(sh.isOpen).getOr(!1),reposition:b=>{h.getOpt(b).each(w=>{sh.reposition(w)})},getOverflow:b=>h.getOpt(b).bind(sh.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,a,c)=>{o.setGroups(a,c)},refresh:(o,a)=>{o.refresh(a)},reposition:(o,a)=>{o.reposition(a)},toggle:(o,a)=>{o.toggle(a)},toggleWithoutFocusing:(o,a)=>{o.toggle(a)},isOpen:(o,a)=>o.isOpen(a),getOverflow:(o,a)=>o.getOverflow(a)}}),ZL=re([Og(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Fo("onOpened"),Fo("onClosed")].concat(GN())),jL=re([ll({factory:Ed,schema:v0(),name:"primary"}),ll({factory:Ed,schema:v0(),name:"overflow",overrides:o=>({toolbarBehaviours:Ft([Rl.config({dimension:{property:"height"},closedClass:o.markers.closedClass,openClass:o.markers.openClass,shrinkingClass:o.markers.shrinkingClass,growingClass:o.markers.growingClass,onShrunk:a=>{Ir(a,o,"overflow-button").each(c=>{Un.off(c)}),o.onClosed(a)},onGrown:a=>{o.onOpened(a)},onStartGrow:a=>{Ir(a,o,"overflow-button").each(Un.on)}}),An.config({mode:"acyclic",onEscape:a=>(Ir(a,o,"overflow-button").each(Zn.focus),R.some(!0))})])})}),vd({name:"overflow-button",overrides:o=>({buttonBehaviours:Ft([Un.config({toggleClass:o.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),vd({name:"overflow-group"})]),s4=(o,a,c)=>{Ir(o,a,"overflow-button").each(d=>{Ir(o,a,"overflow").each(h=>{if(a4(o,a),Rl.hasShrunk(h)){const b=a.onOpened;a.onOpened=w=>{c||An.focusIn(h),b(w),a.onOpened=b}}else{const b=a.onClosed;a.onClosed=w=>{c||Zn.focus(d),b(w),a.onClosed=b}}Rl.toggleGrow(h)})})},a4=(o,a)=>{Ir(o,a,"overflow").each(c=>{qN(o,a,d=>{const h=bt(d,b=>Hi(b));Ed.setGroups(c,h)}),Ir(o,a,"overflow-button").each(d=>{Rl.hasGrown(c)&&Un.on(d)}),Rl.refresh(c)})},i4=xl({name:"SplitSlidingToolbar",configFields:ZL(),partFields:jL(),factory:(o,a,c,d)=>{const h="alloy.toolbar.toggle";return{uid:o.uid,dom:o.dom,components:a,behaviours:co(o.splitToolbarBehaviours,[_s.config({others:{overflowGroup:b=>Av.sketch({...d["overflow-group"](),items:[Ti.sketch({...d["overflow-button"](),action:w=>{go(b,h)}})]})}}),uo("toolbar-toggle-events",[xt(h,b=>{s4(b,o,!1)})])]),apis:{setGroups:(b,w)=>{((k,E)=>{const O=bt(E,k.getSystem().build);o.builtGroups.set(O)})(b,w),a4(b,o)},refresh:b=>a4(b,o),toggle:b=>{s4(b,o,!1)},toggleWithoutFocusing:b=>{s4(b,o,!0)},isOpen:b=>((w,k)=>Ir(w,k,"overflow").map(Rl.hasGrown).getOr(!1))(b,o)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,a,c)=>{o.setGroups(a,c)},refresh:(o,a)=>{o.refresh(a)},toggle:(o,a)=>{o.toggle(a)},isOpen:(o,a)=>o.isOpen(a)}}),YN=o=>{const a=o.title.fold(()=>({}),c=>({attributes:{title:c}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...a},components:[Av.parts.items({})],items:o.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Ft([Dr.config({}),Zn.config({})])}},cS=o=>Av.sketch(YN(o)),XN=(o,a)=>{const c=Ur(d=>{const h=bt(o.initGroups,cS);Ed.setGroups(d,h)});return Ft([QC(o.providers.isDisabled),ha(),An.config({mode:a,onEscape:o.onEscape,selector:".tox-toolbar__group"}),uo("toolbar-events",[c])])},JN=o=>{const a=o.cyclicKeying?"cyclic":"acyclic";return{uid:o.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":YN({title:R.none(),items:[]}),"overflow-button":dN({name:"more",icon:R.some("more-drawer"),enabled:!0,tooltip:R.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:R.none(),borderless:!1},R.none(),o.providers,[],"overflow-button")},splitToolbarBehaviours:XN(o,a)}},KL=o=>{const a=JN(o),c=r4.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return r4.sketch({...a,lazySink:o.getSink,getOverflowBounds:()=>{const d=o.moreDrawerData.lazyHeader().element,h=nl(d),b=Ii(d),w=nl(b),k=Math.max(b.dom.scrollHeight,w.height);return bo(h.x+4,w.y,h.width-8,k)},parts:{...a.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o.attributes}}},components:[c],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:d=>o.onToggled(d,!0),onClosed:d=>o.onToggled(d,!1)})},qL=o=>{const a=i4.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),c=i4.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),d=JN(o);return i4.sketch({...d,components:[a,c],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:h=>{h.getSystem().broadcastOn([tS()],{type:"opened"}),o.onToggled(h,!0)},onClosed:h=>{h.getSystem().broadcastOn([tS()],{type:"closed"}),o.onToggled(h,!1)}})},l4=o=>{const a=o.cyclicKeying?"cyclic":"acyclic";return Ed.sketch({uid:o.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(o.type===Nu.scrolling?["tox-toolbar--scrolling"]:[])},components:[Ed.parts.groups({})],toolbarBehaviours:XN(o,a)})},QN=[ap,Mu,ws("tooltip"),sc("buttonType","secondary",["primary","secondary"]),Hs("borderless",!1),Ci("onAction")],c4={button:[...QN,Bu,_u("type",["button"])],togglebutton:[...QN,Hs("active",!1),_u("type",["togglebutton"])]},GL=[_u("type",["group"]),fr("buttons",[],Xs("type",c4))],YL=Xs("type",{...c4,group:GL}),Zm=Pn([fr("buttons",[],YL),Ci("onShow"),Ci("onHide")]),e6=(o,a)=>((c,d)=>{var h,b;const w=c.type==="togglebutton",k=c.icon.map(ie=>bp(ie,d.icons)).map(tr),E={...c,name:w?c.text.getOr(c.icon.getOr("")):(h=c.text)!==null&&h!==void 0?h:c.icon.getOr(""),primary:c.buttonType==="primary",buttonType:R.from(c.buttonType),tooltip:c.tooltip,icon:c.icon,enabled:!0,borderless:c.borderless},O=SA((b=c.buttonType)!==null&&b!==void 0?b:"secondary"),L=w?c.text.map(d.translate):R.some(d.translate(c.text)),B=L.map(Cs),H=E.tooltip.or(L).map(ie=>({"aria-label":d.translate(ie)})).getOr({}),K=k.map(ie=>ie.asSpec()),Y=cv([K,B]),se=c.icon.isSome()&&B.isSome(),ce={tag:"button",classes:O.concat(...c.icon.isSome()&&!se?["tox-button--icon"]:[]).concat(...se?["tox-button--icon-and-text"]:[]).concat(...c.borderless?["tox-button--naked"]:[]).concat(...c.type==="togglebutton"&&c.active?["tox-button--enabled"]:[]),attributes:H},be=T2(E,R.some(ie=>{const ae=me=>{k.map(ye=>ye.getOpt(ie).each(_e=>{zn.set(_e,[bp(me,d.icons)])}))};return w?c.onAction({setIcon:ae,setActive:me=>{const ye=ie.element;me?(us(ye,"tox-button--enabled"),Jt(ye,"aria-pressed",!0)):(ps(ye,"tox-button--enabled"),fo(ye,"aria-pressed"))},isActive:()=>zi(ie.element,"tox-button--enabled")}):c.type==="button"?c.onAction({setIcon:ae}):void 0}),[],ce,Y,c.tooltip,d);return Ti.sketch(be)})(o,a),t6=Va().deviceType,u4=t6.isPhone(),Qa=t6.isTablet();var Tv=xl({name:"silver.View",configFields:[At("viewConfig")],partFields:[Jc({factory:{sketch:o=>{let a=!1;const c=bt(o.buttons,d=>d.type==="group"?(a=!0,((h,b)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:bt(h.buttons,w=>e6(w,b))}))(d,o.providers)):e6(d,o.providers));return{uid:o.uid,dom:{tag:"div",classes:[a?"tox-view__toolbar":"tox-view__header",...u4||Qa?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Ft([Zn.config({}),An.config({mode:"flow",selector:"button, .tox-button",focusInside:$b.OnEnterOrSpaceMode})]),components:a?c:[Cd.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Cd.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:c})]}}},schema:[At("buttons"),At("providers")],name:"header"}),Jc({factory:{sketch:o=>({uid:o.uid,behaviours:Ft([Zn.config({}),Dr.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(o,a,c,d)=>{const h={getPane:b=>Ja.getPart(b,o,"pane"),getOnShow:b=>o.viewConfig.onShow,getOnHide:b=>o.viewConfig.onHide};return{uid:o.uid,dom:o.dom,components:a,behaviours:Ft([Zn.config({}),An.config({mode:"cyclic",focusInside:$b.OnEnterOrSpaceMode})]),apis:h}},apis:{getPane:(o,a)=>o.getPane(a),getOnShow:(o,a)=>o.getOnShow(a),getOnHide:(o,a)=>o.getOnHide(a)}});const XL=(o,a,c)=>Es(a,(d,h)=>{const b=wi(is("view",Zm,d));return o.slot(h,Tv.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:b,components:[...b.buttons.length>0?[Tv.parts.header({buttons:b.buttons,providers:c})]:[],Tv.parts.pane({})]}))}),JL=(o,a)=>ul.sketch(c=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:XL(c,o,a),slotBehaviours:a2([Ur(d=>ul.hideAllSlots(d))])})),n6=o=>J(ul.getSlotNames(o),a=>ul.isShowing(o,a)),o6=(o,a,c)=>{ul.getSlot(o,a).each(d=>{Tv.getPane(d).each(h=>{var b;c(d)((b=h.element.dom,{getContainer:re(b)}))})})};var uS=Qc({factory:(o,a)=>{const c={setViews:(d,h)=>{zn.set(d,[JL(h,a.backstage.shared.providers)])},whichView:d=>Vo.getCurrent(d).bind(n6),toggleView:(d,h,b,w)=>Vo.getCurrent(d).exists(k=>{const E=n6(k),O=E.exists(B=>w===B),L=ul.getSlot(k,w).isSome();return L&&(ul.hideAllSlots(k),O?((B=>{const H=B.element;Xn(H,"display","none"),Jt(H,"aria-hidden","true")})(d),h()):(b(),(B=>{const H=B.element;er(H,"display"),fo(H,"aria-hidden")})(d),ul.showSlot(k,w),((B,H)=>{o6(B,H,Tv.getOnShow)})(k,w)),E.each(B=>((H,K)=>o6(H,K,Tv.getOnHide))(k,B))),L})};return{uid:o.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Ft([zn.config({}),Vo.config({find:d=>{const h=zn.contents(d);return $t(h)}})]),apis:c}},name:"silver.ViewWrapper",configFields:[At("backstage")],apis:{setViews:(o,a,c)=>o.setViews(a,c),toggleView:(o,a,c,d,h)=>o.toggleView(a,c,d,h),whichView:(o,a)=>o.whichView(a)}});const QL=Um.optional({factory:YA,name:"menubar",schema:[At("backstage")]}),eF=Um.optional({factory:{sketch:o=>ZA.sketch({uid:o.uid,dom:o.dom,listBehaviours:Ft([An.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>l4({type:o.type,uid:fn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:o.providers,onEscape:()=>(o.onEscape(),R.some(!0))}),setupItem:(a,c,d,h)=>{Ed.setGroups(c,d)},shell:!0})},name:"multiple-toolbar",schema:[At("dom"),At("onEscape")]}),tF=Um.optional({factory:{sketch:o=>(c=>c.type===Nu.sliding?qL:c.type===Nu.floating?KL:l4)(o)({type:o.type,uid:o.uid,onEscape:()=>(o.onEscape(),R.some(!0)),onToggled:(c,d)=>o.onToolbarToggled(d),cyclicKeying:!1,initGroups:[],getSink:o.getSink,providers:o.providers,moreDrawerData:{lazyToolbar:o.lazyToolbar,lazyMoreButton:o.lazyMoreButton,lazyHeader:o.lazyHeader},attributes:o.attributes})},name:"toolbar",schema:[At("dom"),At("onEscape"),At("getSink")]}),nF=Um.optional({factory:{sketch:o=>{const a=o.editor,c=o.sticky?VN:eS;return{uid:o.uid,dom:o.dom,components:o.components,behaviours:Ft(c(a,o.sharedBackstage))}}},name:"header",schema:[At("dom")]}),oF=Um.optional({factory:{sketch:o=>({uid:o.uid,dom:o.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"Upgrade"}}]})},name:"promotion",schema:[At("dom")]}),rF=Um.optional({name:"socket",schema:[At("dom")]}),sF=Um.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Ft([Dr.config({}),Zn.config({}),Rl.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:a=>{Vo.getCurrent(a).each(ul.hideAllSlots),go(a,QA)},onGrown:a=>{go(a,QA)},onStartGrow:a=>{Sn(a,JA,{width:As(a.element,"width").getOr("")})},onStartShrink:a=>{Sn(a,JA,{width:ua(a.element)+"px"})}}),zn.config({}),Vo.config({find:a=>{const c=zn.contents(a);return $t(c)}})])}],behaviours:Ft([K3(0),uo("sidebar-sliding-events",[xt(JA,(a,c)=>{Xn(a.element,"width",c.event.width)}),xt(QA,(a,c)=>{er(a.element,"width")})])])})},name:"sidebar",schema:[At("dom")]}),aF=Um.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Ft([zn.config({}),Uu.config({focus:!1}),Vo.config({find:a=>$t(a.components())})]),components:[]})},name:"throbber",schema:[At("dom")]}),iF=Um.optional({factory:uS,name:"viewWrapper",schema:[At("backstage")]}),lF=Um.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:o.components})},name:"editorContainer",schema:[]});var Fr=xl({name:"OuterContainer",factory:(o,a,c)=>{let d=!1;const h=w=>{Nr(w,".tox-statusbar").each(k=>{as(k,"display")==="none"&&wo(k,"aria-hidden")==="true"?(er(k,"display"),fo(k,"aria-hidden")):(Xn(k,"display","none"),Jt(k,"aria-hidden","true"))})},b={getSocket:w=>Ja.getPart(w,o,"socket"),setSidebar:(w,k,E)=>{Ja.getPart(w,o,"sidebar").each(O=>((L,B,H)=>{Vo.getCurrent(L).each(K=>{zn.set(K,[ZN(B)]);const Y=H==null?void 0:H.toLowerCase();p(Y)&&po(B,Y)&&Vo.getCurrent(K).each(se=>{ul.showSlot(se,Y),Rl.immediateGrow(K),er(K.element,"width"),rS(L.element,"region")})})})(O,k,E))},toggleSidebar:(w,k)=>{Ja.getPart(w,o,"sidebar").each(E=>((O,L)=>{Vo.getCurrent(O).each(B=>{Vo.getCurrent(B).each(H=>{Rl.hasGrown(B)?ul.isShowing(H,L)?(Rl.shrink(B),rS(O.element,"presentation")):(ul.hideAllSlots(H),ul.showSlot(H,L),rS(O.element,"region")):(ul.hideAllSlots(H),ul.showSlot(H,L),Rl.grow(B),rS(O.element,"region"))})})})(E,k))},whichSidebar:w=>Ja.getPart(w,o,"sidebar").bind(PL).getOrNull(),getHeader:w=>Ja.getPart(w,o,"header"),getToolbar:w=>Ja.getPart(w,o,"toolbar"),setToolbar:(w,k)=>{Ja.getPart(w,o,"toolbar").each(E=>{const O=bt(k,cS);E.getApis().setGroups(E,O)})},setToolbars:(w,k)=>{Ja.getPart(w,o,"multiple-toolbar").each(E=>{const O=bt(k,L=>bt(L,cS));ZA.setItems(E,O)})},refreshToolbar:w=>{Ja.getPart(w,o,"toolbar").each(k=>k.getApis().refresh(k))},toggleToolbarDrawer:w=>{Ja.getPart(w,o,"toolbar").each(k=>{Ys(k.getApis().toggle,E=>E(k))})},toggleToolbarDrawerWithoutFocusing:w=>{Ja.getPart(w,o,"toolbar").each(k=>{Ys(k.getApis().toggleWithoutFocusing,E=>E(k))})},isToolbarDrawerToggled:w=>Ja.getPart(w,o,"toolbar").bind(k=>R.from(k.getApis().isOpen).map(E=>E(k))).getOr(!1),getThrobber:w=>Ja.getPart(w,o,"throbber"),focusToolbar:w=>{Ja.getPart(w,o,"toolbar").orThunk(()=>Ja.getPart(w,o,"multiple-toolbar")).each(k=>{An.focusIn(k)})},setMenubar:(w,k)=>{Ja.getPart(w,o,"menubar").each(E=>{YA.setMenus(E,k)})},focusMenubar:w=>{Ja.getPart(w,o,"menubar").each(k=>{YA.focus(k)})},setViews:(w,k)=>{Ja.getPart(w,o,"viewWrapper").each(E=>{uS.setViews(E,k)})},toggleView:(w,k)=>Ja.getPart(w,o,"viewWrapper").exists(E=>uS.toggleView(E,()=>b.showMainView(w),()=>b.hideMainView(w),k)),whichView:w=>Ja.getPart(w,o,"viewWrapper").bind(uS.whichView).getOrNull(),hideMainView:w=>{d=b.isToolbarDrawerToggled(w),d&&b.toggleToolbarDrawer(w),Ja.getPart(w,o,"editorContainer").each(k=>{const E=k.element;h(E),Xn(E,"display","none"),Jt(E,"aria-hidden","true")})},showMainView:w=>{d&&b.toggleToolbarDrawer(w),Ja.getPart(w,o,"editorContainer").each(k=>{const E=k.element;h(E),er(E,"display"),fo(E,"aria-hidden")})}};return{uid:o.uid,dom:o.dom,components:a,apis:b,behaviours:o.behaviours}},configFields:[At("dom"),At("behaviours")],partFields:[nF,QL,tF,eF,rF,sF,oF,aF,iF,lF],apis:{getSocket:(o,a)=>o.getSocket(a),setSidebar:(o,a,c,d)=>{o.setSidebar(a,c,d)},toggleSidebar:(o,a,c)=>{o.toggleSidebar(a,c)},whichSidebar:(o,a)=>o.whichSidebar(a),getHeader:(o,a)=>o.getHeader(a),getToolbar:(o,a)=>o.getToolbar(a),setToolbar:(o,a,c)=>{o.setToolbar(a,c)},setToolbars:(o,a,c)=>{o.setToolbars(a,c)},refreshToolbar:(o,a)=>o.refreshToolbar(a),toggleToolbarDrawer:(o,a)=>{o.toggleToolbarDrawer(a)},toggleToolbarDrawerWithoutFocusing:(o,a)=>{o.toggleToolbarDrawerWithoutFocusing(a)},isToolbarDrawerToggled:(o,a)=>o.isToolbarDrawerToggled(a),getThrobber:(o,a)=>o.getThrobber(a),setMenubar:(o,a,c)=>{o.setMenubar(a,c)},focusMenubar:(o,a)=>{o.focusMenubar(a)},focusToolbar:(o,a)=>{o.focusToolbar(a)},setViews:(o,a,c)=>{o.setViews(a,c)},toggleView:(o,a,c)=>o.toggleView(a,c),whichView:(o,a)=>o.whichView(a)}});const r6={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},d4=o=>o.split(" "),s6=(o,a)=>{const c={...r6,...a.menus},d=on(a.menus).length>0,h=a.menubar===void 0||a.menubar===!0?d4("file edit view insert format tools table help"):d4(a.menubar===!1?"":a.menubar),b=ho(h,k=>{const E=po(r6,k);return d?E||cn(a.menus,k).exists(O=>po(O,"items")):E}),w=bt(b,k=>{const E=c[k];return((O,L,B)=>{const H=_5(B).split(/[ ,]/);return{text:O.title,getItems:()=>Ko(O.items,K=>{const Y=K.toLowerCase();return Y.trim().length===0||On(H,se=>se===Y)?[]:Y==="separator"||Y==="|"?[{type:"separator"}]:L.menuItems[Y]?[L.menuItems[Y]]:[]})}})({title:E.title,items:d4(E.items)},a,o)});return ho(w,k=>k.getItems().length>0&&On(k.getItems(),E=>p(E)||E.type!=="separator"))},a6=(o,a,c)=>(o.on("remove",()=>c.unload(a)),c.load(a)),f4=(o,a,c,d)=>(o.on("remove",()=>d.unloadRawCss(a)),d.loadRawCss(a,c)),cF=async(o,a)=>{const c="ui/"+NC(o).getOr("default")+"/skin.css",d=tinymce.Resource.get(c);if(!p(d)){const h=o.editorManager.suffix;return a6(o,a+`/skin${h}.css`,o.ui.styleSheetLoader)}f4(o,c,d,o.ui.styleSheetLoader)},uF=async(o,a)=>{var c;if(c=Qt(o.getElement()),Lt(c).isSome()){const d="ui/"+NC(o).getOr("default")+"/skin.shadowdom.css",h=tinymce.Resource.get(d);if(!p(h)){const b=o.editorManager.suffix;return a6(o,a+`/skin.shadowdom${b}.css`,ev.DOM.styleSheetLoader)}f4(o,d,h,ev.DOM.styleSheetLoader)}},i6=(o,a)=>(async(c,d)=>{const h=()=>{const w=RC(d),k=d.editorManager.suffix;w&&d.contentCSS.push(w+(c?"/content.inline":"/content")+`${k}.css`)};NC(d).fold(h,w=>{const k="ui/"+w+(c?"/content.inline":"/content")+".css",E=tinymce.Resource.get(k);p(E)?f4(d,k,E,d.ui.styleSheetLoader):h()});const b=RC(d);if(!Jh(d)&&p(b))return Promise.all([cF(d,b),uF(d,b)]).then()})(o,a).then((c=>{const d=()=>{c._skinLoaded=!0,(h=>{h.dispatch("SkinLoaded")})(c)};return()=>{c.initialized?d():c.on("init",d)}})(a),((c,d)=>()=>((h,b)=>{h.dispatch("SkinLoadError",b)})(c,{message:"Skin could not be loaded"}))(a)),l6=Ge(i6,!1),dF=Ge(i6,!0),y0=(o,a,c)=>du(c)?o.translate(a):o.translate([a,o.translate(c)]),fF=(o,a)=>{const c=(b,w,k,E)=>{const O=o.shared.providers.translate(b.title);if(b.type==="separator")return R.some({type:"separator",text:O});if(b.type==="submenu"){const L=Ko(b.getStyleItems(),B=>d(B,w,E));return w===0&&L.length<=0?R.none():R.some({type:"nestedmenuitem",text:O,enabled:L.length>0,getSubmenuItems:()=>Ko(b.getStyleItems(),B=>d(B,w,E))})}return R.some({type:"togglemenuitem",text:O,icon:b.icon,active:b.isSelected(E),enabled:!k,onAction:a.onAction(b),...b.getStylePreview().fold(()=>({}),L=>({meta:{style:L}}))})},d=(b,w,k)=>{const E=b.type==="formatter"&&a.isInvalid(b);return w===0?E?[]:c(b,w,!1,k).toArray():c(b,w,E,k).toArray()},h=b=>{const w=a.getCurrentValue(),k=a.shouldHide?0:1;return Ko(b,E=>d(E,k,w))};return{validateItems:h,getFetch:(b,w)=>(k,E)=>{const O=w(),L=h(O);E(p0(L,kf.CLOSE_ON_EXECUTE,b,{isHorizontalMenu:!1,search:R.none()}))}}},Ov=(o,a)=>{const c=a.dataset,d=c.type==="basic"?()=>bt(c.data,h=>AN(h,a.isSelectedFor,a.getPreviewFor)):c.getData;return{items:fF(o,a),getStyleItems:d}},P2=(o,a,c,d,h,b)=>{const{items:w,getStyleItems:k}=Ov(a,c),E=Dn(c.tooltip);return dA({text:c.icon.isSome()?R.none():c.text,icon:c.icon,ariaLabel:R.some(c.tooltip),tooltip:R.none(),role:R.none(),fetch:w.getFetch(a,k),onSetup:O=>{const L=B=>O.setTooltip(y0(o,d(B.value),B.value));return o.on(h,L),mv(l0(o,"NodeChange",B=>{const H=B.getComponent();c.updateText(H),Kn.set(B.getComponent(),!o.selection.isEditable())})(O),()=>o.off(h,L))},getApi:O=>({getComponent:re(O),setTooltip:L=>{const B=a.shared.providers.translate(L);Jt(O.element,"aria-label",B),E.set(L)}}),columns:1,presets:"normal",classes:c.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Us.config({...a.shared.providers.tooltips.getConfig({tooltipText:a.shared.providers.translate(c.tooltip),onShow:O=>{if(c.tooltip!==E.get()){const L=a.shared.providers.translate(E.get());Us.setComponents(O,a.shared.providers.tooltips.getComponents({tooltipText:L}))}}})})]},"tox-tbtn",a.shared,b)};var x0;(function(o){o[o.SemiColon=0]="SemiColon",o[o.Space=1]="Space"})(x0||(x0={}));const m4=(o,a,c)=>{const d=(h=((b,w)=>w===x0.SemiColon?b.replace(/;$/,"").split(";"):b.split(" "))(o.options.get(a),c),bt(h,b=>{let w=b,k=b;const E=b.split("=");return E.length>1&&(w=E[0],k=E[1]),{title:w,format:k}}));var h;return{type:"basic",data:d}},c6=re("Alignment {0}"),u6="left",g4=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],h4=o=>{const a={type:"basic",data:g4};return{tooltip:y0(o,c6(),u6),text:R.none(),icon:R.some("align-left"),isSelectedFor:c=>()=>o.formatter.match(c),getCurrentValue:R.none,getPreviewFor:c=>R.none,onAction:c=>()=>J(g4,d=>d.format===c.format).each(d=>o.execCommand(d.command)),updateText:c=>{const d=J(g4,h=>o.formatter.match(h.format)).fold(re(u6),h=>h.title.toLowerCase());Sn(c,Hu,{icon:`align-${d}`}),((h,b)=>{h.dispatch("AlignTextUpdate",b)})(o,{value:d})},dataset:a,shouldHide:!1,isInvalid:c=>!o.formatter.canApply(c.format)}},d6=(o,a)=>{const c=a(),d=bt(c,h=>h.format);return R.from(o.formatter.closest(d)).bind(h=>J(c,b=>b.format===h))},p4=re("Block {0}"),b4="Paragraph",v4=o=>{const a=m4(o,"block_formats",x0.SemiColon);return{tooltip:y0(o,p4(),b4),text:R.some(b4),icon:R.none(),isSelectedFor:c=>()=>o.formatter.match(c),getCurrentValue:R.none,getPreviewFor:c=>()=>{const d=o.formatter.get(c);return d?R.some({tag:d.length>0&&(d[0].inline||d[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(c))}):R.none()},onAction:HD(o),updateText:c=>{const d=d6(o,()=>a.data).fold(re(b4),h=>h.title);Sn(c,su,{text:d}),((h,b)=>{h.dispatch("BlocksTextUpdate",b)})(o,{value:d})},dataset:a,shouldHide:!1,isInvalid:c=>!o.formatter.canApply(c.format)}},f6=re("Font {0}"),y4="System Font",mF=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],m6=o=>{const a=o.split(/\s*,\s*/);return bt(a,c=>c.replace(/^['"]+|['"]+$/g,""))},g6=(o,a)=>a.length>0&&oi(a,c=>o.indexOf(c.toLowerCase())>-1),h6=o=>{const a=()=>{const d=O=>O?m6(O)[0]:"",h=o.queryCommandValue("FontName"),b=c.data,w=h?h.toLowerCase():"",k=DC(o);return{matchOpt:J(b,O=>{const L=O.format;return L.toLowerCase()===w||d(L).toLowerCase()===d(w).toLowerCase()}).orThunk(()=>Uo(((O,L)=>{if(O.indexOf("-apple-system")===0||L.length>0){const B=m6(O.toLowerCase());return g6(B,mF)||g6(B,L)}return!1})(w,k),{title:y4,format:w})),font:h}},c=m4(o,"font_family_formats",x0.SemiColon);return{tooltip:y0(o,f6(),y4),text:R.some(y4),icon:R.none(),isSelectedFor:d=>h=>h.exists(b=>b.format===d),getCurrentValue:()=>{const{matchOpt:d}=a();return d},getPreviewFor:d=>()=>R.some({tag:"div",styles:d.indexOf("dings")===-1?{"font-family":d}:{}}),onAction:d=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontName",!1,d.format)})},updateText:d=>{const{matchOpt:h,font:b}=a(),w=h.fold(re(b),k=>k.title);Sn(d,su,{text:w}),((k,E)=>{k.dispatch("FontFamilyTextUpdate",E)})(o,{value:w})},dataset:c,shouldHide:!1,isInvalid:Ce}},gF={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},hF=(()=>{const o="[0-9]+",a="[eE][+-]?"+o,c=h=>`(?:${h})?`,d=["Infinity",o+"\\."+c(o)+c(a),"\\."+o+c(a),o+c(a)].join("|");return new RegExp(`^([+-]?(?:${d}))(.*)$`)})(),dS=(o,a)=>R.from(hF.exec(o)).bind(c=>{const d=Number(c[1]),h=c[2];return((b,w)=>On(w,k=>On(gF[k],E=>b===E)))(h,a)?R.some({value:d,unit:h}):R.none()}),p6={tab:re(9),escape:re(27),enter:re(13),backspace:re(8),delete:re(46),left:re(37),up:re(38),right:re(39),down:re(40),space:re(32),home:re(36),end:re(35),pageUp:re(33),pageDown:re(34)},b6=re("Font size {0}"),v6="12pt",pF={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},y6={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},bF=(o,a)=>/[0-9.]+px$/.test(o)?((c,d)=>{const h=Math.pow(10,d);return Math.round(c*h)/h})(72*parseInt(o,10)/96,a||0)+"pt":cn(y6,o).getOr(o),vF=o=>cn(pF,o).getOr(""),x6=o=>{const a=()=>{let h=R.none();const b=d.data,w=o.queryCommandValue("FontSize");if(w)for(let k=3;h.isNone()&&k>=0;k--){const E=bF(w,k),O=vF(E);h=J(b,L=>L.format===w||L.format===E||L.format===O)}return{matchOpt:h,size:w}},c=re(R.none),d=m4(o,"font_size_formats",x0.Space);return{tooltip:y0(o,b6(),v6),text:R.some(v6),icon:R.none(),isSelectedFor:h=>b=>b.exists(w=>w.format===h),getPreviewFor:c,getCurrentValue:()=>{const{matchOpt:h}=a();return h},onAction:h=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontSize",!1,h.format)})},updateText:h=>{const{matchOpt:b,size:w}=a(),k=b.fold(re(w),E=>E.title);Sn(h,su,{text:k}),((E,O)=>{E.dispatch("FontSizeTextUpdate",O)})(o,{value:k})},dataset:d,shouldHide:!1,isInvalid:Ce}},w6=o=>du(o)?"Formats":"Format {0}",C6=(o,a)=>{const c="Formats";return{tooltip:y0(o,w6(""),""),text:R.some(c),icon:R.none(),isSelectedFor:d=>()=>o.formatter.match(d),getCurrentValue:R.none,getPreviewFor:d=>()=>{const h=o.formatter.get(d);return h!==void 0?R.some({tag:h.length>0&&(h[0].inline||h[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(d))}):R.none()},onAction:HD(o),updateText:d=>{const h=k=>SN(k)?Ko(k.items,h):kN(k)?[{title:k.title,format:k.format}]:[],b=Ko(EN(o),h),w=d6(o,re(b)).fold(re({title:c,tooltipLabel:""}),k=>({title:k.title,tooltipLabel:k.title}));Sn(d,su,{text:w.title}),((k,E)=>{k.dispatch("StylesTextUpdate",E)})(o,{value:w.tooltipLabel})},shouldHide:C5(o),isInvalid:d=>!o.formatter.canApply(d.format),dataset:a}},x4=re([At("toggleClass"),At("fetch"),Au("onExecute"),et("getHotspot",R.some),et("getAnchorOverrides",re({})),cf(),Au("onItemExecute"),Bo("lazySink"),At("dom"),Fo("onOpen"),mn("splitDropdownBehaviours",[_s,An,Zn]),et("matchWidth",!1),et("useMinWidth",!1),et("eventOrder",{}),Bo("role"),Bo("listRole")].concat(b3())),yF=ll({factory:Ti,schema:[At("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Ft([Zn.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:a=>{a.getSystem().getByUid(o.uid).each(tf)},buttonBehaviours:Ft([Un.config({toggleOnExecute:!1,toggleClass:o.toggleClass})])})}),xF=ll({factory:Ti,schema:[At("dom")],name:"button",defaults:()=>({buttonBehaviours:Ft([Zn.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:a=>{a.getSystem().getByUid(o.uid).each(c=>{o.onExecute(c,a)})}})}),wF=re([yF,xF,Jc({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[At("text")],name:"aria-descriptor"}),vd({schema:[Tg()],name:"menu",defaults:o=>({onExecute:(a,c)=>{a.getSystem().getByUid(o.uid).each(d=>{o.onItemExecute(d,a,c)})}})}),nR()]),L2=xl({name:"SplitDropdown",configFields:x4(),partFields:wF(),factory:(o,a,c,d)=>{const h=O=>{Vo.getCurrent(O).each(L=>{or.highlightFirst(L),An.focusIn(L)})},b=O=>{g3(o,Oe,O,d,h,Wi.HighlightMenuAndItem).get(de)},w=O=>{const L=Zg(O,o,"button");return tf(L),R.some(!0)},k={...eo([Ur((O,L)=>{Ir(O,o,"aria-descriptor").each(B=>{const H=fn("aria");Jt(B.element,"id",H),Jt(O.element,"aria-describedby",H)})})]),...Q1(R.some(b))},E={repositionMenus:O=>{Un.isOn(O)&&sR(O)}};return{uid:o.uid,dom:o.dom,components:a,apis:E,eventOrder:{...o.eventOrder,[ol()]:["disabling","toggling","alloy.base.behaviour"]},events:k,behaviours:co(o.splitDropdownBehaviours,[_s.config({others:{sandbox:O=>{const L=Zg(O,o,"arrow");return p3(o,O,{onOpen:()=>{Un.on(L),Un.on(O)},onClose:()=>{Un.off(L),Un.off(O)}})}}}),An.config({mode:"special",onSpace:w,onEnter:w,onDown:O=>(b(O),R.some(!0))}),Zn.config({}),Un.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:o.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(o,a)=>o.repositionMenus(a)}}),w4=o=>({isEnabled:()=>!Kn.isDisabled(o),setEnabled:a=>Kn.set(o,!a),setText:a=>Sn(o,su,{text:a}),setIcon:a=>Sn(o,Hu,{icon:a})}),CF=o=>({setActive:a=>{Un.set(o,a)},isActive:()=>Un.isOn(o),isEnabled:()=>!Kn.isDisabled(o),setEnabled:a=>Kn.set(o,!a),setText:a=>Sn(o,su,{text:a}),setIcon:a=>Sn(o,Hu,{icon:a})}),_6=(o,a)=>o.map(c=>({"aria-label":a.translate(c)})).getOr({}),C4=fn("focus-button"),_4=(o,a,c,d,h,b)=>{const w=a.map(E=>tr(uA(E,"tox-tbtn",h))),k=o.map(E=>tr(bp(E,h.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(a.isSome()?["tox-tbtn--select"]:[]),attributes:{..._6(c,h),...$(b)?{"data-mce-name":b}:{}}},components:cv([k.map(E=>E.asSpec()),w.map(E=>E.asSpec())]),eventOrder:{[Tt()]:["focusing","alloy.base.behaviour",pp],[ja()]:[pp,"toolbar-group-button-events"]},buttonBehaviours:Ft([QC(h.isDisabled),ha(),uo(pp,[Ur((E,O)=>H_(E)),xt(su,(E,O)=>{w.bind(L=>L.getOpt(E)).each(L=>{zn.set(L,[Cs(h.translate(O.event.text))])})}),xt(Hu,(E,O)=>{k.bind(L=>L.getOpt(E)).each(L=>{zn.set(L,[bp(O.event.icon,h.icons)])})}),xt(Tt(),(E,O)=>{O.event.prevent(),go(E,C4)})])].concat(d.getOr([])))}},S6=(o,a,c,d)=>{var h;const b=Dn(de),w=_4(o.icon,o.text,o.tooltip,R.none(),c,d);return Ti.sketch({dom:w.dom,components:w.components,eventOrder:cA,buttonBehaviours:{...Ft([uo("toolbar-button-events",[(k={onAction:o.onAction,getApi:a.getApi},Zc((E,O)=>{i2(k,E)(L=>{Sn(E,z_,{buttonApi:L}),k.onAction(L)})})),ip(a,b),Xg(a,b)]),...o.tooltip.map(E=>Us.config(c.tooltips.getConfig({tooltipText:c.translate(E)+o.shortcut.map(O=>` (${e_(O)})`).getOr("")}))).toArray(),QC(()=>!o.enabled||c.isDisabled()),ha()].concat(a.toolbarButtonBehaviours)),[pp]:(h=w.buttonBehaviours)===null||h===void 0?void 0:h[pp]}});var k},k6=(o,a,c,d)=>S6(o,{toolbarButtonBehaviours:c.length>0?[uo("toolbarButtonWith",c)]:[],getApi:w4,onSetup:o.onSetup},a,d),E6=(o,a,c,d)=>S6(o,{toolbarButtonBehaviours:[zn.config({}),Un.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(c.length>0?[uo("toolbarToggleButtonWith",c)]:[]),getApi:CF,onSetup:o.onSetup},a,d),_F=(o,a,c)=>d=>lp(h=>a.fetch(h)).map(h=>R.from(v3(yr(u0(fn("menu-value"),h,b=>{a.onItemAction(o(d),b)},a.columns,a.presets,kf.CLOSE_ON_EXECUTE,a.select.getOr(Ce),c),{movement:f2(a.columns,a.presets),menuBehaviours:a2(a.columns!=="auto"?[]:[Ur((b,w)=>{UE(b,4,rp(a.presets)).each(({numRows:k,numColumns:E})=>{An.setGridSize(b,k,E)})})])})))),SF=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],wp=(o,a)=>(c,d,h,b)=>{const w=o(c).mapError(k=>Li(k)).getOrDie();return a(w,d,h,b)},kF={button:wp(gD,(o,a,c,d)=>((h,b,w)=>k6(h,b,[],w))(o,a.shared.providers,d)),togglebutton:wp(YC,(o,a,c,d)=>((h,b,w)=>E6(h,b,[],w))(o,a.shared.providers,d)),menubutton:wp(UN,(o,a,c,d)=>Cv(o,"tox-tbtn",a,R.none(),!1,d)),splitbutton:wp(o=>is("SplitButton",DL,o),(o,a,c,d)=>((h,b,w)=>{const k=Dn(h.tooltip.getOr("")),E=B=>({isEnabled:()=>!Kn.isDisabled(B),setEnabled:H=>Kn.set(B,!H),setIconFill:(H,K)=>{Yr(B.element,`svg path[class="${H}"], rect[class="${H}"]`).each(Y=>{Jt(Y,"fill",K)})},setActive:H=>{Jt(B.element,"aria-pressed",H),Yr(B.element,"span").each(K=>{B.getSystem().getByDom(K).each(Y=>Un.set(Y,H))})},isActive:()=>Yr(B.element,"span").exists(H=>B.getSystem().getByDom(H).exists(Un.isOn)),setText:H=>Yr(B.element,"span").each(K=>B.getSystem().getByDom(K).each(Y=>Sn(Y,su,{text:H}))),setIcon:H=>Yr(B.element,"span").each(K=>B.getSystem().getByDom(K).each(Y=>Sn(Y,Hu,{icon:H}))),setTooltip:H=>{const K=b.providers.translate(H);Jt(B.element,"aria-label",K),k.set(H)}}),O=Dn(de),L={getApi:E,onSetup:h.onSetup};return L2.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,..._6(h.tooltip,b.providers),...$(w)?{"data-mce-name":w}:{}}},onExecute:B=>{const H=E(B);H.isEnabled()&&h.onAction(H)},onItemExecute:(B,H,K)=>{},splitDropdownBehaviours:Ft([kD(b.providers.isDisabled),ha(),uo("split-dropdown-events",[Ur((B,H)=>H_(B)),xt(C4,Zn.focus),ip(L,O),Xg(L,O)]),f0.config({}),...h.tooltip.map(B=>Us.config({...b.providers.tooltips.getConfig({tooltipText:b.providers.translate(B),onShow:H=>{if(k.get()!==B){const K=b.providers.translate(k.get());Us.setComponents(H,b.providers.tooltips.getComponents({tooltipText:K}))}}})})).toArray()]),eventOrder:{[ja()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[ic()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:b.getSink,fetch:_F(E,h,b.providers),parts:{menu:ZC(0,h.columns,h.presets)},components:[L2.parts.button(_4(h.icon,h.text,R.none(),R.some([Un.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),b.providers)),L2.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:j5("chevron-down",b.providers.icons)},buttonBehaviours:Ft([kD(b.providers.isDisabled),ha(),$C()])}),L2.parts["aria-descriptor"]({text:b.providers.translate("To open the popup, press Shift+Enter")})]})})(o,a.shared,d)),grouptoolbarbutton:wp(o=>is("GroupToolbarButton",TL,o),(o,a,c,d)=>{const h=c.ui.registry.getAll().buttons,b={[il]:a.shared.header.isPositionedAtTop()?bc.TopToBottom:bc.BottomToTop};if(Xb(c)===Nu.floating)return((w,k,E,O,L)=>{const B=k.shared,H=Dn(de),K={toolbarButtonBehaviours:[],getApi:w4,onSetup:w.onSetup},Y=[uo("toolbar-group-button-events",[ip(K,H),Xg(K,H)])];return sh.sketch({lazySink:B.getSink,fetch:()=>lp(se=>{se(bt(E(w.items),cS))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:_4(w.icon,w.text,w.tooltip,R.some(Y),B.providers,L),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:O}}}})})(o,a,w=>fS(c,{buttons:h,toolbar:w,allowToolbarGroups:!1},a,R.none()),b,d);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},F2={styles:(o,a)=>{const c={type:"advanced",...a.styles};return P2(o,a,C6(o,c),w6,"StylesTextUpdate","styles")},fontsize:(o,a)=>P2(o,a,x6(o),b6,"FontSizeTextUpdate","fontsize"),fontsizeinput:(o,a)=>((c,d,h,b)=>{let w=R.none();const k=l0(c,"NodeChange SwitchMode",me=>{const ye=me.getComponent();w=R.some(ye),h.updateInputValue(ye),Kn.set(ye,!c.selection.isEditable())}),E=me=>({getComponent:re(me)}),O=Dn(de),L=fn("custom-number-input-events"),B=(me,ye,_e)=>{const Fe=w.map(Bt=>nt.getValue(Bt)).getOr(""),Xe=h.getNewValue(Fe,me),_t=Fe.length-`${Xe}`.length,vt=w.map(Bt=>Bt.element.dom.selectionStart-_t),gt=w.map(Bt=>Bt.element.dom.selectionEnd-_t);h.onAction(Xe,_e),w.each(Bt=>{nt.setValue(Bt,Xe),ye&&(vt.each(sn=>Bt.element.dom.selectionStart=sn),gt.each(sn=>Bt.element.dom.selectionEnd=sn))})},H=(me,ye)=>B((_e,Fe)=>_e-Fe,me,ye),K=(me,ye)=>B((_e,Fe)=>_e+Fe,me,ye),Y=me=>ai(me.element).fold(R.none,ye=>(ki(ye),R.some(!0))),se=me=>Fg(me.element)?(Se(me.element).each(ye=>ki(ye)),R.some(!0)):R.none(),ce=(me,ye,_e,Fe)=>{const Xe=Dn(de),_t=d.shared.providers.translate(_e),vt=fn("altExecuting"),gt=l0(c,"NodeChange SwitchMode",sn=>{Kn.set(sn.getComponent(),!c.selection.isEditable())}),Bt=sn=>{Kn.isDisabled(sn)||me(!0)};return Ti.sketch({dom:{tag:"button",attributes:{"aria-label":_t,"data-mce-name":ye},classes:Fe.concat(ye)},components:[S2(ye,d.shared.providers.icons)],buttonBehaviours:Ft([Kn.config({}),Us.config(d.shared.providers.tooltips.getConfig({tooltipText:_t})),uo(vt,[ip({onSetup:gt,getApi:E},Xe),Xg({getApi:E},Xe),xt(cs(),(sn,bn)=>{bn.event.raw.keyCode!==p6.space()&&bn.event.raw.keyCode!==p6.enter()||Kn.isDisabled(sn)||me(!1)}),xt(Js(),Bt),xt(Ae(),Bt)])]),eventOrder:{[cs()]:[vt,"keying"],[Js()]:[vt,"alloy.base.behaviour"],[Ae()]:[vt,"alloy.base.behaviour"],[ja()]:["alloy.base.behaviour",vt,"tooltipping"],[ic()]:[vt,"tooltipping"]}})},be=tr(ce(me=>H(!1,me),"minus","Decrease font size",[])),ie=tr(ce(me=>K(!1,me),"plus","Increase font size",[])),ae=tr({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[Yg.sketch({inputBehaviours:Ft([Kn.config({}),uo(L,[ip({onSetup:k,getApi:E},O),Xg({getApi:E},O)]),uo("input-update-display-text",[xt(su,(me,ye)=>{nt.setValue(me,ye.event.text)}),xt(Rs(),me=>{h.onAction(nt.getValue(me))}),xt(im(),me=>{h.onAction(nt.getValue(me))})]),An.config({mode:"special",onEnter:me=>(B(Oe,!0,!0),R.some(!0)),onEscape:Y,onUp:me=>(K(!0,!1),R.some(!0)),onDown:me=>(H(!0,!1),R.some(!0)),onLeft:(me,ye)=>(ye.cut(),R.none()),onRight:(me,ye)=>(ye.cut(),R.none())})])})],behaviours:Ft([Zn.config({}),An.config({mode:"special",onEnter:se,onSpace:se,onEscape:Y}),uo("input-wrapper-events",[xt(_n(),me=>{Zt([be,ie],ye=>{const _e=Qt(ye.get(me).element.dom);Fg(_e)&&xb(_e)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...$(b)?{"data-mce-name":b}:{}}},components:[be.asSpec(),ae.asSpec(),ie.asSpec()],behaviours:Ft([Zn.config({}),An.config({mode:"flow",focusInside:$b.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:me=>Fg(me.element)?R.none():(ki(me.element),R.some(!0))})])}})(o,a,(c=>{const d=()=>c.queryCommandValue("FontSize");return{updateInputValue:h=>Sn(h,su,{text:d()}),onAction:(h,b)=>c.execCommand("FontSize",!1,h,{skip_focus:!b}),getNewValue:(h,b)=>{dS(h,["unsupportedLength","empty"]);const w=d(),k=dS(h,["unsupportedLength","empty"]).or(dS(w,["unsupportedLength","empty"])),E=k.map(K=>K.value).getOr(16),O=hE(c),L=k.map(K=>K.unit).filter(K=>K!=="").getOr(O),B=b(E,(K=>{var Y;return(Y={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[K])!==null&&Y!==void 0?Y:{step:1}})(L).step),H=`${(K=>K>=0)(B)?B:E}${L}`;return H!==w&&((K,Y)=>{K.dispatch("FontSizeInputTextUpdate",Y)})(c,{value:H}),H}}})(o),"fontsizeinput"),fontfamily:(o,a)=>P2(o,a,h6(o),f6,"FontFamilyTextUpdate","fontfamily"),blocks:(o,a)=>P2(o,a,v4(o),p4,"BlocksTextUpdate","blocks"),align:(o,a)=>P2(o,a,h4(o),c6,"AlignTextUpdate","align")},fS=(o,a,c,d)=>{const h=(w=>{const k=w.toolbar,E=w.buttons;return k===!1?[]:k===void 0||k===!0?(O=>{const L=bt(SF,B=>{const H=ho(B.items,K=>po(O,K)||po(F2,K));return{name:B.name,items:H}});return ho(L,B=>B.items.length>0)})(E):p(k)?(O=>{const L=O.split("|");return bt(L,B=>({items:B.trim().split(" ")}))})(k):(O=>ve(O,L=>po(L,"name")&&po(L,"items")))(k)?k:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(a),b=bt(h,w=>{const k=Ko(w.items,E=>E.trim().length===0?[]:((O,L,B,H,K,Y)=>cn(L,B.toLowerCase()).orThunk(()=>Y.bind(se=>It(se,ce=>cn(L,ce+B.toLowerCase())))).fold(()=>cn(F2,B.toLowerCase()).map(se=>se(O,K)),se=>se.type!=="grouptoolbarbutton"||H?((ce,be,ie,ae)=>cn(kF,ce.type).fold(()=>(console.error("skipping button defined by",ce),R.none()),me=>R.some(me(ce,be,ie,ae))))(se,K,O,B.toLowerCase()):(console.warn(`Ignoring the '${B}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),R.none())))(o,a.buttons,E,a.allowToolbarGroups,c,d).toArray());return{title:R.from(o.translate(w.name)),items:k}});return ho(b,w=>w.items.length>0)},A6=(o,a,c,d)=>{const h=a.mainUi.outerContainer,b=c.toolbar,w=c.buttons;if(ve(b,p)){const k=b.map(E=>{const O={toolbar:E,buttons:w,allowToolbarGroups:c.allowToolbarGroups};return fS(o,O,d,R.none())});Fr.setToolbars(h,k)}else Fr.setToolbar(h,fS(o,c,d,R.none()))},T6=Va(),EF=T6.os.isiOS()&&T6.os.version.major<=12;var d$=Object.freeze({__proto__:null,render:(o,a,c,d,h)=>{const{mainUi:b,uiMotherships:w}=a,k=Dn(0),E=b.outerContainer;l6(o);const O=Qt(h.targetNode),L=je(ot(O));mt(O,b.mothership),((Y,se,ce)=>{Gg(Y)&&mt(ce.mainUi.mothership.element,ce.popupUi.mothership),fx(se,ce.dialogUi.mothership)})(o,L,a),o.on("SkinLoaded",()=>{Fr.setSidebar(E,c.sidebar,OC(o)),A6(o,a,c,d),k.set(o.getWin().innerWidth),Fr.setMenubar(E,s6(o,c)),Fr.setViews(E,c.views),((Y,se)=>{const{uiMotherships:ce}=se,be=Y.dom;let ie=Y.getWin();const ae=Y.getDoc().documentElement,me=Dn(Mr(ie.innerWidth,ie.innerHeight)),ye=Dn(Mr(ae.offsetWidth,ae.offsetHeight)),_e=()=>{const vt=me.get();vt.left===ie.innerWidth&&vt.top===ie.innerHeight||(me.set(Mr(ie.innerWidth,ie.innerHeight)),i0(Y))},Fe=()=>{const vt=Y.getDoc().documentElement,gt=ye.get();gt.left===vt.offsetWidth&&gt.top===vt.offsetHeight||(ye.set(Mr(vt.offsetWidth,vt.offsetHeight)),i0(Y))},Xe=vt=>{((gt,Bt)=>{gt.dispatch("ScrollContent",Bt)})(Y,vt)};be.bind(ie,"resize",_e),be.bind(ie,"scroll",Xe);const _t=ox(Qt(Y.getBody()),"load",Fe);Y.on("hide",()=>{Zt(ce,vt=>{Xn(vt.element,"display","none")})}),Y.on("show",()=>{Zt(ce,vt=>{er(vt.element,"display")})}),Y.on("NodeChange",Fe),Y.on("remove",()=>{_t.unbind(),be.unbind(ie,"resize",_e),be.unbind(ie,"scroll",Xe),ie=null})})(o,a)});const B=Fr.getSocket(E).getOrDie("Could not find expected socket element");if(EF){Bi(B.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const Y=((ce,be)=>{let ie=null;return{cancel:()=>{N(ie)||(clearTimeout(ie),ie=null)},throttle:(...ae)=>{N(ie)&&(ie=setTimeout(()=>{ie=null,ce.apply(null,ae)},20))}}})(()=>{o.dispatch("ScrollContent")}),se=Ei(B.element,"scroll",Y.throttle);o.on("remove",se.unbind)}SD(o,a),o.addCommand("ToggleSidebar",(Y,se)=>{Fr.toggleSidebar(E,se),(ce=>{ce.dispatch("ToggleSidebar")})(o)}),o.addQueryValueHandler("ToggleSidebar",()=>{var Y;return(Y=Fr.whichSidebar(E))!==null&&Y!==void 0?Y:""}),o.addCommand("ToggleView",(Y,se)=>{if(Fr.toggleView(E,se)){const ce=E.element;b.mothership.broadcastOn([M()],{target:ce}),Zt(w,be=>{be.broadcastOn([M()],{target:ce})}),N(Fr.whichView(E))&&(o.focus(),o.nodeChanged(),Fr.refreshToolbar(E)),(be=>{be.dispatch("ToggleView")})(o)}}),o.addQueryValueHandler("ToggleView",()=>{var Y;return(Y=Fr.whichView(E))!==null&&Y!==void 0?Y:""});const H=Xb(o);H!==Nu.sliding&&H!==Nu.floating||o.on("ResizeWindow ResizeEditor ResizeContent",()=>{const Y=o.getWin().innerWidth;Y!==k.get()&&(Fr.refreshToolbar(a.mainUi.outerContainer),k.set(Y))});const K={setEnabled:Y=>{s0(a,!Y)},isEnabled:()=>!Kn.isDisabled(E)};return{iframeContainer:B.element.dom,editorContainer:E.element.dom,api:K}}});const z2=o=>/^[0-9\.]+(|px)$/i.test(""+o)?R.some(parseInt(""+o,10)):R.none(),Cp=o=>Q(o)?o+"px":o,H2=(o,a,c)=>{const d=a.filter(b=>o<b),h=c.filter(b=>o>b);return d.or(h).getOr(o)},S4=o=>{const a=Bx(o),c=Mx(o),d=nv(o);return z2(a).map(h=>H2(h,c,d))},{ToolbarLocation:k4,ToolbarMode:O6}=Vx,AF=(o,a,c,d,h)=>{const{mainUi:b,uiMotherships:w}=c,k=ev.DOM,E=Jb(o),O=qg(o),L=nv(o).or(S4(o)),B=d.shared.header,H=B.isPositionedAtTop,K=Xb(o),Y=K===O6.sliding||K===O6.floating,se=Dn(!1),ce=()=>se.get()&&!o.removed,be=ye=>Y?ye.fold(re(0),_e=>_e.components().length>1?ms(_e.components()[1].element):0):0,ie=()=>{Zt(w,ye=>{ye.broadcastOn([V()],{})})},ae=ye=>{if(!ce())return;E||h.on(Xe=>{const _t=L.getOrThunk(()=>na().width-Fa(a).left-10);Xn(Xe.element,"max-width",_t+"px")});const _e=Pr(),Fe=!(E||E||!(bl(b.outerContainer.element).left+Mi(b.outerContainer.element)>=window.innerWidth-40||As(b.outerContainer.element,"width").isSome())||(Xn(b.outerContainer.element,"position","absolute"),Xn(b.outerContainer.element,"left","0px"),er(b.outerContainer.element,"width"),0));if(Y&&Fr.refreshToolbar(b.outerContainer),!E){const Xe=Pr(),_t=Uo(_e.left!==Xe.left,_e);((vt,gt)=>{h.on(Bt=>{const sn=Fr.getToolbar(b.outerContainer),bn=be(sn),In=js(a),qn=((mo,zo)=>Gg(mo)?Ih(zo):R.none())(o,b.outerContainer.element),So=qn.fold(()=>In.x,mo=>{const zo=js(mo);return Wo(mo,dn())?In.x:In.x-zo.x}),zr=Uo(vt,Math.ceil(b.outerContainer.element.dom.getBoundingClientRect().width)).filter(mo=>mo>150).map(mo=>{const zo=gt.getOr(Pr()),Fn=window.innerWidth-(So-zo.left),Jr=Math.max(Math.min(mo,Fn),150);return Fn<mo&&Xn(b.outerContainer.element,"width",Jr+"px"),{width:Jr+"px"}}).getOr({width:"max-content"}),Xr={position:"absolute",left:Math.round(So)+"px",top:qn.fold(()=>H()?Math.max(In.y-ms(Bt.element)+bn,0):In.bottom,mo=>{var zo;const Fn=js(mo),Jr=(zo=mo.dom.scrollTop)!==null&&zo!==void 0?zo:0,Cr=Wo(mo,dn())?Math.max(In.y-ms(Bt.element)+bn,0):In.y-Fn.y+Jr-ms(Bt.element)+bn;return H()?Cr:In.bottom})+"px"};Bi(b.outerContainer.element,{...Xr,...zr})})})(Fe,_t),_t.each(vt=>{Zd(vt.left,Xe.top)})}O&&h.on(ye),ie()},me=()=>!(E||!O||!ce())&&h.get().exists(ye=>{const _e=B.getDockingMode(),Fe=(_t=>{switch(Xh(o)){case k4.auto:const vt=Fr.getToolbar(b.outerContainer),gt=be(vt),Bt=ms(_t.element)-gt,sn=js(a);if(sn.y>Bt)return"top";{const bn=Ii(a),In=Math.max(bn.dom.scrollHeight,ms(bn));return sn.bottom<In-Bt||_a().bottom<sn.bottom-Bt?"bottom":"top"}case k4.bottom:return"bottom";case k4.top:default:return"top"}})(ye);return Fe!==_e&&(Xe=Fe,h.on(_t=>{Gr.setModes(_t,[Xe]),B.setDockingMode(Xe);const vt=H()?bc.TopToBottom:bc.BottomToTop;Jt(_t.element,il,vt)}),!0);var Xe});return{isVisible:ce,isPositionedAtTop:H,show:()=>{se.set(!0),Xn(b.outerContainer.element,"display","flex"),k.addClass(o.getBody(),"mce-edit-focus"),Zt(w,ye=>{er(ye.element,"display")}),me(),Gg(o)?ae(ye=>Gr.isDocked(ye)?Gr.reset(ye):Gr.refresh(ye)):ae(Gr.refresh)},hide:()=>{se.set(!1),Xn(b.outerContainer.element,"display","none"),k.removeClass(o.getBody(),"mce-edit-focus"),Zt(w,ye=>{Xn(ye.element,"display","none")})},update:ae,updateMode:()=>{me()&&ae(Gr.reset)},repositionPopups:ie}},D6=(o,a)=>{const c=js(o);return{pos:a?c.y:c.bottom,bounds:c}};var TF=Object.freeze({__proto__:null,render:(o,a,c,d,h)=>{const{mainUi:b}=a,w=ir(),k=Qt(h.targetNode),E=AF(o,k,a,d,w),O=S5(o);dF(o);const L=()=>{if(w.isSet())return void E.show();w.set(Fr.getHeader(b.outerContainer).getOrDie());const H=BC(o);Gg(o)?(mt(k,b.mothership),mt(k,a.popupUi.mothership)):fx(H,b.mothership),fx(H,a.dialogUi.mothership);const K=()=>{A6(o,a,c,d),Fr.setMenubar(b.outerContainer,s6(o,c)),E.show(),((Y,se,ce,be)=>{const ie=Dn(D6(se,ce.isPositionedAtTop())),ae=Fe=>{const{pos:Xe,bounds:_t}=D6(se,ce.isPositionedAtTop()),{pos:vt,bounds:gt}=ie.get(),Bt=_t.height!==gt.height||_t.width!==gt.width;ie.set({pos:Xe,bounds:_t}),Bt&&i0(Y,Fe),ce.isVisible()&&(vt!==Xe?ce.update(Gr.reset):Bt&&(ce.updateMode(),ce.repositionPopups()))};be||(Y.on("activate",ce.show),Y.on("deactivate",ce.hide)),Y.on("SkinLoaded ResizeWindow",()=>ce.update(Gr.reset)),Y.on("NodeChange keydown",Fe=>{requestAnimationFrame(()=>ae(Fe))});let me=0;const ye=J3(()=>ce.update(Gr.refresh),33);Y.on("ScrollWindow",()=>{const Fe=Pr().left;Fe!==me&&(me=Fe,ye.throttle()),ce.updateMode()}),Gg(Y)&&Y.on("ElementScroll",Fe=>{ce.update(Gr.refresh)});const _e=oc();_e.set(ox(Qt(Y.getBody()),"load",Fe=>ae(Fe.raw))),Y.on("remove",()=>{_e.clear()})})(o,k,E,O),o.nodeChanged()};O?o.once("SkinLoaded",K):K()};o.on("show",L),o.on("hide",E.hide),O||(o.on("focus",L),o.on("blur",E.hide)),o.on("init",()=>{(o.hasFocus()||O)&&L()}),SD(o,a);const B={show:L,hide:E.hide,setEnabled:H=>{s0(a,!H)},isEnabled:()=>!Kn.isDisabled(b.outerContainer)};return{editorContainer:b.outerContainer.element.dom,api:B}}});const R6="contexttoolbar-hide",N6=(o,a)=>xt(z_,(c,d)=>{const h=(b=>({hide:()=>go(b,eb()),getValue:()=>nt.getValue(b)}))(o.get(c));a.onAction(h,d.event.buttonApi)}),OF=(o,a)=>{const c=o.label.fold(()=>({}),b=>({"aria-label":b})),d=tr(Yg.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:o.initValue(),inputAttributes:c,selectOnFocus:!0,inputBehaviours:Ft([An.config({mode:"special",onEnter:b=>h.findPrimary(b).map(w=>(tf(w),!0)),onLeft:(b,w)=>(w.cut(),R.none()),onRight:(b,w)=>(w.cut(),R.none())})])})),h=((b,w,k)=>{const E=bt(w,O=>tr(((L,B,H)=>(K=>K.type==="contextformtogglebutton")(B)?((K,Y,se)=>{const{primary:ce,...be}=Y.original,ie=wi(YC({...be,type:"togglebutton",onAction:de}));return E6(ie,se,[N6(K,Y)])})(L,B,H):((K,Y,se)=>{const{primary:ce,...be}=Y.original,ie=wi(gD({...be,type:"button",onAction:de}));return k6(ie,se,[N6(K,Y)])})(L,B,H))(b,O,k)));return{asSpecs:()=>bt(E,O=>O.asSpec()),findPrimary:O=>It(w,(L,B)=>L.primary?R.from(E[B]).bind(H=>H.getOpt(O)).filter($e(Kn.isDisabled)):R.none())}})(d,o.commands,a);return[{title:R.none(),items:[d.asSpec()]},{title:R.none(),items:h.asSpecs()}]},I6=(o,a,c)=>a.bottom-o.y>=c&&o.bottom-a.y>=c,E4=o=>{const a=(c=>{const d=c.getBoundingClientRect();if(d.height<=0&&d.width<=0){const h=De(Qt(c.startContainer),c.startOffset).element;return(ri(h)?si(h):R.some(h)).filter(jr).map(b=>b.dom.getBoundingClientRect()).getOr(d)}return d})(o.selection.getRng());if(o.inline){const c=Pr();return bo(c.left+a.left,c.top+a.top,a.width,a.height)}{const c=nl(Qt(o.getBody()));return bo(c.x+a.left,c.y+a.top,a.width,a.height)}},B6=(o,a,c,d=0)=>{const h=na(window),b=js(Qt(o.getContentAreaContainer())),w=Fx(o)||zx(o)||Hx(o),{x:k,width:E}=((O,L,B)=>{const H=Math.max(O.x+B,L.x);return{x:H,width:Math.min(O.right-B,L.right)-H}})(b,h,d);if(o.inline&&!w)return bo(k,h.y,E,h.height);{const O=a.header.isPositionedAtTop(),{y:L,bottom:B}=((H,K,Y,se,ce,be)=>{const ie=Qt(H.getContainer()),ae=Yr(ie,".tox-editor-header").getOr(ie),me=js(ae),ye=me.y>=K.bottom,_e=se&&!ye;if(H.inline&&_e)return{y:Math.max(me.bottom+be,Y.y),bottom:Y.bottom};if(H.inline&&!_e)return{y:Y.y,bottom:Math.min(me.y-be,Y.bottom)};const Fe=ce==="line"?js(ie):K;return _e?{y:Math.max(me.bottom+be,Y.y),bottom:Math.min(Fe.bottom-be,Y.bottom)}:{y:Math.max(Fe.y+be,Y.y),bottom:Math.min(me.y-be,Y.bottom)}})(o,b,h,O,c,d);return bo(k,L,E,B-L)}},A4={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},w0={maxHeightFunction:zg(),maxWidthFunction:o4()},_p=o=>o==="node",DF=(o,a,c,d,h)=>{const b=E4(o),w=d.lastElement().exists(k=>Wo(c,k));return((k,E)=>{const O=k.selection.getRng(),L=De(Qt(O.startContainer),O.startOffset);return O.startContainer===O.endContainer&&O.startOffset===O.endOffset-1&&Wo(L.element,E)})(o,c)?w?X_:$o:w?((k,E,O)=>{const L=As(k,"position");Xn(k,"position",E);const B=I6(b,js(a),-20)&&!d.isReposition()?BA:X_;return L.each(H=>Xn(k,"position",H)),B})(a,d.getMode()):(d.getMode()==="fixed"?h.y+Pr().top:h.y)+(ms(a)+12)<=b.y?$o:$m},M6=(o,a,c,d)=>{const h=w=>(k,E,O,L,B)=>({...DF(o,L,w,c,B)({...k,y:B.y,height:B.height},E,O,L,B),alwaysFit:!0}),b=w=>_p(d)?[h(w)]:[];return a?{onLtr:w=>[Bs,bs,vs,Vs,xr,ds].concat(b(w)),onRtl:w=>[Bs,vs,bs,xr,Vs,ds].concat(b(w))}:{onLtr:w=>[ds,Bs,Vs,bs,xr,vs].concat(b(w)),onRtl:w=>[ds,Bs,xr,vs,Vs,bs].concat(b(w))}},mS=(o,a)=>{const c=ho(a,b=>b.predicate(o.dom)),{pass:d,fail:h}=Vr(c,b=>b.type==="contexttoolbar");return{contextToolbars:d,contextForms:h}},gS=(o,a)=>{const c={},d=[],h=[],b={},w={},k=on(o);return Zt(k,E=>{const O=o[E];O.type==="contextform"?((L,B)=>{const H=wi(is("ContextForm",XP,B));c[L]=H,H.launch.map(K=>{b["form:"+L]={...B.launch,type:K.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{a(H)}}}),H.scope==="editor"?h.push(H):d.push(H),w[L]=H})(E,O):O.type==="contexttoolbar"&&((L,B)=>{var H;(H=B,is("ContextToolbar",pD,H)).each(K=>{B.scope==="editor"?h.push(K):d.push(K),w[L]=K})})(E,O)}),{forms:c,inNodeScope:d,inEditorScope:h,lookupTable:w,formNavigators:b}},P6=fn("forward-slide"),Dv=fn("backward-slide"),C0=fn("change-slide-event"),T4="tox-pop--resizing",O4="tox-pop--transition",RF=(o,a,c,d)=>{const h=d.backstage,b=h.shared,w=Va().deviceType.isTouch,k=ir(),E=ir(),O=ir(),L=Aa((_e=>{const Fe=Dn([]);return os.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:Xe=>{Fe.set([]),os.getContent(Xe).each(_t=>{er(_t.element,"visibility")}),ps(Xe.element,T4),er(Xe.element,"width")},inlineBehaviours:Ft([uo("context-toolbar-events",[nf(Jp(),(Xe,_t)=>{_t.event.raw.propertyName==="width"&&(ps(Xe.element,T4),er(Xe.element,"width"))}),xt(C0,(Xe,_t)=>{const vt=Xe.element;er(vt,"width");const gt=ua(vt);os.setContent(Xe,_t.event.contents),us(vt,T4);const Bt=ua(vt);Xn(vt,"width",gt+"px"),os.getContent(Xe).each(sn=>{_t.event.focus.bind(bn=>(ki(bn),Ms(vt))).orThunk(()=>(An.focusIn(sn),qc(ot(vt))))}),setTimeout(()=>{Xn(Xe.element,"width",Bt+"px")},0)}),xt(P6,(Xe,_t)=>{os.getContent(Xe).each(vt=>{Fe.set(Fe.get().concat([{bar:vt,focus:qc(ot(Xe.element))}]))}),Sn(Xe,C0,{contents:_t.event.forwardContents,focus:R.none()})}),xt(Dv,(Xe,_t)=>{Ct(Fe.get()).each(vt=>{Fe.set(Fe.get().slice(0,Fe.get().length-1)),Sn(Xe,C0,{contents:Hi(vt.bar),focus:vt.focus})})})]),An.config({mode:"special",onEscape:Xe=>Ct(Fe.get()).fold(()=>_e.onEscape(),_t=>(go(Xe,Dv),R.some(!0)))})]),lazySink:()=>_o.value(_e.sink)})})({sink:c,onEscape:()=>(o.focus(),R.some(!0))})),B=()=>{const _e=O.get().getOr("node"),Fe=_p(_e)?1:0;return B6(o,b,_e,Fe)},H=()=>!(o.removed||w()&&h.isContextMenuOpen()),K=()=>{if(H()){const _e=B(),Fe=$r(O.get(),"node")?((Xe,_t)=>_t.filter(vt=>nn(vt)&&Ji(vt)).map(nl).getOrThunk(()=>E4(Xe)))(o,k.get()):E4(o);return _e.height<=0||!I6(Fe,_e,.01)}return!0},Y=()=>{k.clear(),E.clear(),O.clear(),os.hide(L)},se=()=>{if(os.isOpen(L)){const _e=L.element;er(_e,"display"),K()?Xn(_e,"display","none"):(E.set(0),os.reposition(L))}},ce=_e=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[_e],behaviours:Ft([An.config({mode:"acyclic"}),uo("pop-dialog-wrap-events",[Ur(Fe=>{o.shortcuts.add("ctrl+F9","focus statusbar",()=>An.focusIn(Fe))}),Eu(Fe=>{o.shortcuts.remove("ctrl+F9")})])])}),be=za(()=>gS(a,_e=>{const Fe=ie([_e]);Sn(L,P6,{forwardContents:ce(Fe)})})),ie=_e=>{const{buttons:Fe}=o.ui.registry.getAll(),Xe={...Fe,...be().formNavigators},_t=Xb(o)===Nu.scrolling?Nu.scrolling:Nu.default,vt=br(bt(_e,gt=>gt.type==="contexttoolbar"?((Bt,sn)=>fS(o,{buttons:Bt,toolbar:sn.items,allowToolbarGroups:!1},d.backstage,R.some(["form:"])))(Xe,gt):((Bt,sn)=>OF(Bt,sn))(gt,b.providers)));return l4({type:_t,uid:fn("context-toolbar"),initGroups:vt,onEscape:R.none,cyclicKeying:!0,providers:b.providers})},ae=(_e,Fe)=>{if(ye.cancel(),!H())return;const Xe=ie(_e),_t=_e[0].position,vt=((Bt,sn)=>{const bn=Bt==="node"?b.anchors.node(sn):b.anchors.cursor(),In=((qn,So,zr,Xr)=>So==="line"?{bubble:Hl(12,0,A4),layouts:{onLtr:()=>[A1],onRtl:()=>[T1]},overrides:w0}:{bubble:Hl(0,12,A4,1/12),layouts:M6(qn,zr,Xr,So),overrides:w0})(o,Bt,w(),{lastElement:k.get,isReposition:()=>$r(E.get(),0),getMode:()=>Ya.getMode(c)});return yr(bn,In)})(_t,Fe);O.set(_t),E.set(1);const gt=L.element;er(gt,"display"),(Bt=>$r(Vt(Bt,k.get(),Wo),!0))(Fe)||(ps(gt,O4),Ya.reset(c,L)),os.showWithinBounds(L,ce(Xe),{anchor:vt,transition:{classes:[O4],mode:"placement"}},()=>R.some(B())),Fe.fold(k.clear,k.set),K()&&Xn(gt,"display","none")};let me=!1;const ye=J3(()=>{!o.hasFocus()||o.removed||me||(zi(L.element,O4)?ye.throttle():((_e,Fe)=>{const Xe=Qt(Fe.getBody()),_t=gt=>Wo(gt,Xe),vt=Qt(Fe.selection.getNode());return(gt=>!_t(gt)&&!xs(Xe,gt))(vt)?R.none():((gt,Bt,sn)=>{const bn=mS(gt,Bt);if(bn.contextForms.length>0)return R.some({elem:gt,toolbars:[bn.contextForms[0]]});{const In=mS(gt,sn);if(In.contextForms.length>0)return R.some({elem:gt,toolbars:[In.contextForms[0]]});if(bn.contextToolbars.length>0||In.contextToolbars.length>0){const qn=(So=>{if(So.length<=1)return So;{const zr=Fn=>On(So,Jr=>Jr.position===Fn),Xr=Fn=>ho(So,Jr=>Jr.position===Fn),mo=zr("selection"),zo=zr("node");if(mo||zo){if(zo&&mo){const Fn=Xr("node"),Jr=bt(Xr("selection"),Cr=>({...Cr,position:"node"}));return Fn.concat(Jr)}return Xr(mo?"selection":"node")}return Xr("line")}})(bn.contextToolbars.concat(In.contextToolbars));return R.some({elem:gt,toolbars:qn})}return R.none()}})(vt,_e.inNodeScope,_e.inEditorScope).orThunk(()=>((gt,Bt,sn)=>gt(Bt)?R.none():xg(Bt,bn=>{if(jr(bn)){const{contextToolbars:In,contextForms:qn}=mS(bn,sn.inNodeScope),So=qn.length>0?qn:(zr=>{if(zr.length<=1)return zr;{const Xr=mo=>J(zr,zo=>zo.position===mo);return Xr("selection").orThunk(()=>Xr("node")).orThunk(()=>Xr("line")).map(mo=>mo.position).fold(()=>[],mo=>ho(zr,zo=>zo.position===mo))}})(In);return So.length>0?R.some({elem:bn,toolbars:So}):R.none()}return R.none()},gt))(_t,vt,_e))})(be(),o).fold(Y,_e=>{ae(_e.toolbars,R.some(_e.elem))}))},17);o.on("init",()=>{o.on("remove",Y),o.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",se),o.on("click keyup focus SetContent",ye.throttle),o.on(R6,Y),o.on("contexttoolbar-show",_e=>{const Fe=be();cn(Fe.lookupTable,_e.toolbarKey).each(Xe=>{ae([Xe],Uo(_e.target!==o,_e.target)),os.getContent(L).each(An.focusIn)})}),o.on("focusout",_e=>{_C.setEditorTimeout(o,()=>{Ms(c.element).isNone()&&Ms(L.element).isNone()&&Y()},0)}),o.on("SwitchMode",()=>{o.mode.isReadOnly()&&Y()}),o.on("ExecCommand",({command:_e})=>{_e.toLowerCase()==="toggleview"&&Y()}),o.on("AfterProgressState",_e=>{_e.state?Y():o.hasFocus()&&ye.throttle()}),o.on("dragstart",()=>{me=!0}),o.on("dragend drop",()=>{me=!1}),o.on("NodeChange",_e=>{Ms(L.element).fold(ye.throttle,de)})})},L6=(o,a)=>{const c=()=>{const d=a.getOptions(o),h=a.getCurrent(o).map(a.hash),b=ir();return bt(d,w=>({type:"togglemenuitem",text:a.display(w),onSetup:k=>{const E=L=>{L&&(b.on(B=>B.setActive(!1)),b.set(k)),k.setActive(L)};E($r(h,a.hash(w)));const O=a.watcher(o,w,E);return()=>{b.clear(),O()}},onAction:()=>a.setCurrent(o,w)}))};o.ui.registry.addMenuButton(a.name,{tooltip:a.text,icon:a.icon,fetch:d=>d(c()),onSetup:a.onToolbarSetup}),o.ui.registry.addNestedMenuItem(a.name,{type:"nestedmenuitem",text:a.text,getSubmenuItems:c,onSetup:a.onMenuSetup})},NF=o=>{L6(o,(a=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:R5,hash:c=>((d,h)=>dS(d,["fixed","relative","empty"]).map(({value:b,unit:w})=>b+w))(c).getOr(c),display:Oe,watcher:(c,d,h)=>c.formatter.formatChanged("lineheight",h,!1,{value:d}).unbind,getCurrent:c=>R.from(c.queryCommandValue("LineHeight")),setCurrent:(c,d)=>c.execCommand("LineHeight",!1,d),onToolbarSetup:pa(a),onMenuSetup:pa(a)}))(o)),(a=>R.from(fE(a)).map(c=>({name:"language",text:"Language",icon:"language",getOptions:re(c),hash:d=>z(d.customCode)?d.code:`${d.code}/${d.customCode}`,display:d=>d.title,watcher:(d,h,b)=>{var w;return d.formatter.formatChanged("lang",b,!1,{value:h.code,customValue:(w=h.customCode)!==null&&w!==void 0?w:null}).unbind},getCurrent:d=>{const h=Qt(d.selection.getNode());return wg(h,b=>R.some(b).filter(jr).bind(w=>Io(w,"lang").map(k=>({code:k,customCode:Io(w,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(d,h)=>d.execCommand("Lang",!1,h),onToolbarSetup:d=>{const h=oc();return d.setActive(a.formatter.match("lang",{},void 0,!0)),h.set(a.formatter.formatChanged("lang",d.setActive,!0)),mv(h.clear,pa(a)(d))},onMenuSetup:pa(a)})))(o).each(a=>L6(o,a))},IF=o=>l0(o,"NodeChange",a=>{a.setEnabled(o.queryCommandState("outdent")&&o.selection.isEditable())}),V2=(o,a)=>c=>{c.setActive(a.get());const d=h=>{a.set(h.state),c.setActive(h.state)};return o.on("PastePlainTextToggle",d),mv(()=>o.off("PastePlainTextToggle",d),pa(o)(c))},D4=(o,a)=>()=>{o.execCommand("mceToggleFormat",!1,a)},R4=o=>{(a=>{(c=>{oh.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(d,h)=>{c.ui.registry.addToggleButton(d.name,{tooltip:d.text,icon:d.icon,onSetup:Ef(c,d.name),onAction:D4(c,d.name),shortcut:d.shortcut})});for(let d=1;d<=6;d++){const h="h"+d,b=`Access+${d}`;c.ui.registry.addToggleButton(h,{text:h.toUpperCase(),tooltip:"Heading "+d,onSetup:Ef(c,h),onAction:D4(c,h),shortcut:b})}})(a),(c=>{oh.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],d=>{c.ui.registry.addButton(d.name,{tooltip:d.text,icon:d.icon,onAction:Ul(c,d.action),shortcut:d.shortcut})}),oh.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],d=>{c.ui.registry.addButton(d.name,{tooltip:d.text,icon:d.icon,onSetup:pa(c),onAction:Ul(c,d.action)})})})(a),(c=>{oh.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],d=>{c.ui.registry.addToggleButton(d.name,{tooltip:d.text,icon:d.icon,onAction:Ul(c,d.action),onSetup:Ef(c,d.name)})})})(a)})(o),(a=>{oh.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],c=>{a.ui.registry.addMenuItem(c.name,{text:c.text,icon:c.icon,shortcut:c.shortcut,onAction:Ul(a,c.action)})}),oh.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],c=>{a.ui.registry.addMenuItem(c.name,{text:c.text,icon:c.icon,shortcut:c.shortcut,onSetup:pa(a),onAction:Ul(a,c.action)})}),a.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:pa(a),onAction:D4(a,"code")})})(o)},hS=(o,a)=>l0(o,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",c=>{c.setEnabled(!o.mode.isReadOnly()&&o.undoManager[a]())}),BF=o=>l0(o,"VisualAid",a=>{a.setActive(o.hasVisual)}),MF=(o,a)=>{(c=>{Zt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],d=>{c.ui.registry.addToggleButton(d.name,{tooltip:d.text,icon:d.icon,onAction:Ul(c,d.cmd),onSetup:Ef(c,d.name)})}),c.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:pa(c),onAction:Ul(c,"JustifyNone")})})(o),R4(o),((c,d)=>{((h,b)=>{const w=Ov(b,h4(h));h.ui.registry.addNestedMenuItem("align",{text:b.shared.providers.translate("Align"),onSetup:pa(h),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(c,d),((h,b)=>{const w=Ov(b,h6(h));h.ui.registry.addNestedMenuItem("fontfamily",{text:b.shared.providers.translate("Fonts"),onSetup:pa(h),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(c,d),((h,b)=>{const w={type:"advanced",...b.styles},k=Ov(b,C6(h,w));h.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:pa(h),getSubmenuItems:()=>k.items.validateItems(k.getStyleItems())})})(c,d),((h,b)=>{const w=Ov(b,v4(h));h.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:pa(h),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(c,d),((h,b)=>{const w=Ov(b,x6(h));h.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:pa(h),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(c,d)})(o,a),(c=>{(d=>{d.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:hS(d,"hasUndo"),onAction:Ul(d,"undo")}),d.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:hS(d,"hasRedo"),onAction:Ul(d,"redo")})})(c),(d=>{d.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:hS(d,"hasUndo"),onAction:Ul(d,"undo"),shortcut:"Meta+Z"}),d.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:hS(d,"hasRedo"),onAction:Ul(d,"redo"),shortcut:"Meta+Y"})})(c)})(o),(c=>{(k=>{k.addCommand("mceApplyTextcolor",(E,O)=>{((L,B,H)=>{L.undoManager.transact(()=>{L.focus(),L.formatter.apply(B,{value:H}),L.nodeChanged()})})(k,E,O)}),k.addCommand("mceRemoveTextcolor",E=>{((O,L)=>{O.undoManager.transact(()=>{O.focus(),O.formatter.remove(L,{value:null},void 0,!0),O.nodeChanged()})})(k,E)})})(c);const d=WD(c),h=ZD(c),b=Dn(d),w=Dn(h);u3(c,"forecolor","forecolor",b),u3(c,"backcolor","hilitecolor",w),hv(c,"forecolor","forecolor","Text color",b),hv(c,"backcolor","hilitecolor","Background color",w)})(o),(c=>{(d=>{d.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Ul(d,"mceToggleVisualAid")})})(c),(d=>{d.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:BF(d),onAction:Ul(d,"mceToggleVisualAid")})})(c)})(o),(c=>{(d=>{d.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:IF(d),onAction:Ul(d,"outdent")}),d.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:pa(d),onAction:Ul(d,"indent")})})(c)})(o),NF(o),(c=>{const d=Dn(O5(c)),h=()=>c.execCommand("mceTogglePlainTextPaste");c.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:h,onSetup:V2(c,d)}),c.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:h,onSetup:V2(c,d)})})(o)},F6=o=>p(o)?o.split(/[ ,]/):o,z6=o=>a=>a.options.get(o),H6=z6("contextmenu_never_use_native"),PF=z6("contextmenu_avoid_overlap"),N4=o=>{const a=o.ui.registry.getAll().contextMenus,c=o.options.get("contextmenu");return o.options.isSet("contextmenu")?c:ho(c,d=>po(a,d))},$2=(o,a)=>({type:"makeshift",x:o,y:a}),V6=o=>o.type==="longpress"||o.type.indexOf("touch")===0,LF=(o,a)=>a.type==="contextmenu"||a.type==="longpress"?o.inline?(c=>{if(V6(c)){const d=c.touches[0];return $2(d.pageX,d.pageY)}return $2(c.pageX,c.pageY)})(a):((c,d)=>{const h=ev.DOM.getPos(c);return((b,w,k)=>$2(b.x+w,b.y+k))(d,h.x,h.y)})(o.getContentAreaContainer(),(c=>{if(V6(c)){const d=c.touches[0];return $2(d.clientX,d.clientY)}return $2(c.clientX,c.clientY)})(a)):$6(o),$6=o=>({type:"selection",root:Qt(o.selection.getNode())}),U6=(o,a,c)=>{switch(c){case"node":return(d=>({type:"node",node:R.some(Qt(d.selection.getNode())),root:Qt(d.getBody())}))(o);case"point":return LF(o,a);case"selection":return $6(o)}},W6=(o,a,c,d,h,b)=>{const w=c(),k=U6(o,a,b);p0(w,kf.CLOSE_ON_EXECUTE,d,{isHorizontalMenu:!1,search:R.none()}).map(E=>{a.preventDefault(),os.showMenuAt(h,{anchor:k},{menu:{markers:t0("normal")},data:E})})},Z6={onLtr:()=>[Bs,bs,vs,Vs,xr,ds,$o,$m,O2,xp,Zl,Wl],onRtl:()=>[Bs,vs,bs,xr,Vs,ds,$o,$m,Zl,Wl,O2,xp]},FF={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},zF=(o,a,c,d,h,b)=>{const w=Va(),k=w.os.isiOS(),E=w.os.isMacOS(),O=w.os.isAndroid(),L=w.deviceType.isTouch(),B=()=>{const H=c();((K,Y,se,ce,be,ie,ae)=>{const me=((ye,_e,Fe)=>{const Xe=U6(ye,_e,Fe);return{bubble:Hl(0,Fe==="point"?12:0,FF),layouts:Z6,overrides:{maxWidthFunction:o4(),maxHeightFunction:zg()},...Xe}})(K,Y,ie);p0(se,kf.CLOSE_ON_EXECUTE,ce,{isHorizontalMenu:!0,search:R.none()}).map(ye=>{Y.preventDefault();const _e=ae?Wi.HighlightMenuAndItem:Wi.HighlightNone;os.showMenuWithinBounds(be,{anchor:me},{menu:{markers:t0("normal"),highlightOnOpen:_e},data:ye,type:"horizontal"},()=>R.some(B6(K,ce.shared,ie==="node"?"node":"selection"))),K.dispatch(R6)})})(o,a,H,d,h,b,!(O||k||E&&L))};if((E||k)&&b!=="node"){const H=()=>{(K=>{const Y=K.selection.getRng(),se=()=>{_C.setEditorTimeout(K,()=>{K.selection.setRng(Y)},10),ie()};K.once("touchend",se);const ce=ae=>{ae.preventDefault(),ae.stopImmediatePropagation()};K.on("mousedown",ce,!0);const be=()=>ie();K.once("longpresscancel",be);const ie=()=>{K.off("touchend",se),K.off("longpresscancel",be),K.off("mousedown",ce)}})(o),B()};((K,Y)=>{const se=K.selection;if(se.isCollapsed()||Y.touches.length<1)return!1;{const ce=Y.touches[0],be=se.getRng();return ix(K.getWin(),mf.domRange(be)).exists(ie=>ie.left<=ce.clientX&&ie.right>=ce.clientX&&ie.top<=ce.clientY&&ie.bottom>=ce.clientY)}})(o,a)?H():(o.once("selectionchange",H),o.once("touchend",()=>o.off("selectionchange",H)))}else B()},j6=o=>p(o)?o==="|":o.type==="separator",I4={type:"separator"},K6=o=>{const a=c=>({text:c.text,icon:c.icon,enabled:c.enabled,shortcut:c.shortcut});if(p(o))return o;switch(o.type){case"separator":return I4;case"submenu":return{type:"nestedmenuitem",...a(o),getSubmenuItems:()=>{const d=o.getSubmenuItems();return p(d)?d:bt(d,K6)}};default:const c=o;return{type:"menuitem",...a(c),onAction:Pe(c.onAction)}}},B4=(o,a)=>{if(a.length===0)return o;const c=Ct(o).filter(d=>!j6(d)).fold(()=>[],d=>[I4]);return o.concat(c).concat(a).concat([I4])},_0=(o,a)=>!(c=>c.type==="longpress"||po(c,"touches"))(a)&&(a.button!==2||a.target===o.getBody()&&a.pointerType===""),q6=(o,a)=>_0(o,a)?o.selection.getStart(!0):a.target,HF=(o,a,c)=>{const d=Va().deviceType.isTouch,h=Aa(os.sketch({dom:{tag:"div"},lazySink:a,onEscape:()=>o.focus(),onShow:()=>c.setContextMenuState(!0),onHide:()=>c.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Ft([uo("dismissContextMenu",[xt(Cg(),(k,E)=>{T.close(k),o.focus()})])])})),b=()=>os.hide(h),w=k=>{if(H6(o)&&k.preventDefault(),((O,L)=>L.ctrlKey&&!H6(O))(o,k)||(O=>N4(O).length===0)(o))return;const E=((O,L)=>{const B=PF(O),H=_0(O,L)?"selection":"point";if(Xi(B)){const K=q6(O,L);return bv(Qt(K),B)?"node":H}return H})(o,k);(d()?zF:W6)(o,k,()=>{const O=q6(o,k),L=o.ui.registry.getAll(),B=N4(o);return((H,K,Y)=>{const se=Rn(K,(ce,be)=>cn(H,be.toLowerCase()).map(ie=>{const ae=ie.update(Y);if(p(ae)&&Xi(ec(ae)))return B4(ce,ae.split(" "));if(P(ae)&&ae.length>0){const me=bt(ae,K6);return B4(ce,me)}return ce}).getOrThunk(()=>ce.concat([be])),[]);return se.length>0&&j6(se[se.length-1])&&se.pop(),se})(L.contextMenus,B,O)},c,h,E)};o.on("init",()=>{const k="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(d()?"":" ResizeWindow");o.on(k,b),o.on("longpress contextmenu",w)})},M4=Tl([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),S0=o=>a=>a.translate(-o.left,-o.top),jl=o=>a=>a.translate(o.left,o.top),Tf=o=>(a,c)=>Rn(o,(d,h)=>h(d),Mr(a,c)),U2=(o,a,c)=>o.fold(Tf([jl(c),S0(a)]),Tf([S0(a)]),Tf([])),Rv=(o,a,c)=>o.fold(Tf([jl(c)]),Tf([]),Tf([jl(a)])),G6=(o,a,c)=>o.fold(Tf([]),Tf([S0(c)]),Tf([jl(a),S0(c)])),Y6=(o,a,c)=>{const d=o.fold((h,b)=>({position:R.some("absolute"),left:R.some(h+"px"),top:R.some(b+"px")}),(h,b)=>({position:R.some("absolute"),left:R.some(h-c.left+"px"),top:R.some(b-c.top+"px")}),(h,b)=>({position:R.some("fixed"),left:R.some(h+"px"),top:R.some(b+"px")}));return{right:R.none(),bottom:R.none(),...d}},P4=(o,a,c,d)=>{const h=(b,w)=>(k,E)=>{const O=b(a,c,d);return w(k.getOr(O.left),E.getOr(O.top))};return o.fold(h(G6,W2),h(Rv,ah),h(U2,k0))},W2=M4.offset,ah=M4.absolute,k0=M4.fixed,X6=(o,a)=>{const c=wo(o,a);return z(c)?NaN:parseInt(c,10)},J6=(o,a,c,d,h,b)=>{const w=((O,L,B,H)=>((K,Y)=>{const se=K.element,ce=X6(se,Y.leftAttr),be=X6(se,Y.topAttr);return isNaN(ce)||isNaN(be)?R.none():R.some(Mr(ce,be))})(O,L).fold(()=>B,K=>k0(K.left+H.left,K.top+H.top)))(o,a,c,d),k=a.mustSnap?eI(o,a,w,h,b):tI(o,a,w,h,b),E=U2(w,h,b);return((O,L,B)=>{const H=O.element;Jt(H,L.leftAttr,B.left+"px"),Jt(H,L.topAttr,B.top+"px")})(o,a,E),k.fold(()=>({coord:k0(E.left,E.top),extra:R.none()}),O=>({coord:O.output,extra:O.extra}))},Q6=(o,a,c,d)=>It(o,h=>{const b=h.sensor;return((k,E,O,L,B,H)=>{const K=Rv(k,B,H),Y=Rv(E,B,H);return Math.abs(K.left-Y.left)<=O&&Math.abs(K.top-Y.top)<=L})(a,b,h.range.left,h.range.top,c,d)?R.some({output:P4(h.output,a,c,d),extra:h.extra}):R.none()}),eI=(o,a,c,d,h)=>{const b=a.getSnapPoints(o);return Q6(b,c,d,h).orThunk(()=>Rn(b,(k,E)=>{const O=E.sensor,L=((B,H,K,Y,se,ce)=>{const be=Rv(B,se,ce),ie=Rv(H,se,ce),ae=Math.abs(be.left-ie.left),me=Math.abs(be.top-ie.top);return Mr(ae,me)})(c,O,E.range.left,E.range.top,d,h);return k.deltas.fold(()=>({deltas:R.some(L),snap:R.some(E)}),B=>(L.left+L.top)/2<=(B.left+B.top)/2?{deltas:R.some(L),snap:R.some(E)}:k)},{deltas:R.none(),snap:R.none()}).snap.map(k=>({output:P4(k.output,c,d,h),extra:k.extra})))},tI=(o,a,c,d,h)=>{const b=a.getSnapPoints(o);return Q6(b,c,d,h)};var nI=Object.freeze({__proto__:null,snapTo:(o,a,c,d)=>{const h=a.getTarget(o.element);if(a.repositionTarget){const b=Zs(o.element),w=Pr(b),k=of(h),E=((L,B,H)=>({coord:P4(L.output,L.output,B,H),extra:L.extra}))(d,w,k),O=Y6(E.coord,0,k);Qi(h,O)}}});const L4="data-initial-z-index",oI=(o,a)=>{o.getSystem().addToGui(a),(c=>{si(c.element).filter(jr).each(d=>{As(d,"z-index").each(h=>{Jt(d,L4,h)}),Xn(d,"z-index",as(c.element,"z-index"))})})(a)},VF=o=>{(a=>{si(a.element).filter(jr).each(c=>{Io(c,L4).fold(()=>er(c,"z-index"),d=>Xn(c,"z-index",d)),fo(c,L4)})})(o),o.getSystem().removeFromGui(o)},rI=(o,a,c)=>o.getSystem().build(Cd.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[a]},events:c}));var $F=gs("snaps",[At("getSnapPoints"),Fo("onSensor"),At("leftAttr"),At("topAttr"),et("lazyViewport",_a),et("mustSnap",!1)]);const F4=[et("useFixed",Ce),At("blockerClass"),et("getTarget",Oe),et("onDrag",de),et("repositionTarget",!0),et("onDrop",de),Lr("getBounds",_a),$F],z4=o=>{return(a=As(o,"left"),c=As(o,"top"),d=As(o,"position"),a.isSome()&&c.isSome()&&d.isSome()?R.some(((h,b,w)=>(w==="fixed"?k0:W2)(parseInt(h,10),parseInt(b,10)))(a.getOrDie(),c.getOrDie(),d.getOrDie())):R.none()).getOrThunk(()=>{const h=bl(o);return ah(h.left,h.top)});var a,c,d},sI=(o,a)=>({bounds:o.getBounds(),height:tc(a.element),width:Mi(a.element)}),H4=(o,a,c,d,h)=>{const b=c.update(d,h),w=c.getStartData().getOrThunk(()=>sI(a,o));b.each(k=>{((E,O,L,B)=>{const H=O.getTarget(E.element);if(O.repositionTarget){const K=Zs(E.element),Y=Pr(K),se=of(H),ce=z4(H),be=((ae,me,ye,_e,Fe,Xe,_t)=>((vt,gt,Bt,sn,bn)=>{const In=bn.bounds,qn=Rv(gt,Bt,sn),So=fc(qn.left,In.x,In.x+In.width-bn.width),zr=fc(qn.top,In.y,In.y+In.height-bn.height),Xr=ah(So,zr);return gt.fold(()=>{const mo=G6(Xr,Bt,sn);return W2(mo.left,mo.top)},re(Xr),()=>{const mo=U2(Xr,Bt,sn);return k0(mo.left,mo.top)})})(0,me.fold(()=>{const vt=(gt=ye,Bt=Xe.left,sn=Xe.top,gt.fold((In,qn)=>W2(In+Bt,qn+sn),(In,qn)=>ah(In+Bt,qn+sn),(In,qn)=>k0(In+Bt,qn+sn)));var gt,Bt,sn;const bn=U2(vt,_e,Fe);return k0(bn.left,bn.top)},vt=>{const gt=J6(ae,vt,ye,Xe,_e,Fe);return gt.extra.each(Bt=>{vt.onSensor(ae,Bt)}),gt.coord}),_e,Fe,_t))(E,O.snaps,ce,Y,se,B,L),ie=Y6(be,0,se);Qi(H,ie)}O.onDrag(E,H,B)})(o,a,w,k)})},V4=(o,a,c,d)=>{a.each(VF),c.snaps.each(b=>{((w,k)=>{((E,O)=>{const L=E.element;fo(L,O.leftAttr),fo(L,O.topAttr)})(w,k)})(o,b)});const h=c.getTarget(o.element);d.reset(),c.onDrop(o,h)},$4=o=>(a,c)=>{const d=h=>{c.setStartData(sI(a,h))};return eo([xt(tb(),h=>{c.getStartData().each(()=>d(h))}),...o(a,c,d)])};var UF=Object.freeze({__proto__:null,getData:o=>R.from(Mr(o.x,o.y)),getDelta:(o,a)=>Mr(a.left-o.left,a.top-o.top)});const aI=(o,a,c)=>[xt(Tt(),(d,h)=>{if(h.event.raw.button!==0)return;h.stop();const b=()=>V4(d,R.some(E),o,a),w=y3(b,200),k={drop:b,delayDrop:w.schedule,forceDrop:b,move:O=>{w.cancel(),H4(d,o,a,UF,O)}},E=rI(d,o.blockerClass,(O=>eo([xt(Tt(),O.forceDrop),xt(Yn(),O.drop),xt(Ln(),(L,B)=>{O.move(B.event)}),xt(ro(),O.delayDrop)]))(k));c(d),oI(d,E)})],WF=[...F4,Rr("dragger",{handlers:$4(aI)})];var iI=Object.freeze({__proto__:null,getData:o=>{const a=o.raw.touches;return a.length===1?(c=>{const d=c[0];return R.some(Mr(d.clientX,d.clientY))})(a):R.none()},getDelta:(o,a)=>Mr(a.left-o.left,a.top-o.top)});const lI=(o,a,c)=>{const d=ir(),h=b=>{V4(b,d.get(),o,a),d.clear()};return[xt(Z(),(b,w)=>{w.stop();const k=()=>h(b),E={drop:k,delayDrop:de,forceDrop:k,move:L=>{H4(b,o,a,iI,L)}},O=rI(b,o.blockerClass,(L=>eo([xt(Z(),L.forceDrop),xt(Ae(),L.drop),xt(He(),L.drop),xt(te(),(B,H)=>{L.move(H.event)})]))(E));d.set(O),c(b),oI(b,O)}),xt(te(),(b,w)=>{w.stop(),H4(b,o,a,iI,w.event)}),xt(Ae(),(b,w)=>{w.stop(),h(b)}),xt(He(),h)]},ZF=WF,cI=[...F4,Rr("dragger",{handlers:$4(lI)})],uI=[...F4,Rr("dragger",{handlers:$4((o,a,c)=>[...aI(o,a,c),...lI(o,a,c)])})];var jF=Object.freeze({__proto__:null,mouse:ZF,touch:cI,mouseOrTouch:uI}),KF=Object.freeze({__proto__:null,init:()=>{let o=R.none(),a=R.none();const c=re({});return ma({readState:c,reset:()=>{o=R.none(),a=R.none()},update:(d,h)=>d.getData(h).bind(b=>((w,k)=>{const E=o.map(O=>w.getDelta(O,k));return o=R.some(k),E})(d,b)),getStartData:()=>a,setStartData:d=>{a=R.some(d)}})}});const E0=Vw({branchKey:"mode",branches:jF,name:"dragging",active:{events:(o,a)=>o.dragger.handlers(o,a)},extra:{snap:o=>({sensor:o.sensor,range:o.range,output:o.output,extra:R.from(o.extra)})},state:KF,apis:nI}),dI=(o,a,c,d,h,b)=>o.fold(()=>E0.snap({sensor:ah(c-20,d-20),range:Mr(h,b),output:ah(R.some(c),R.some(d)),extra:{td:a}}),w=>{const k=c-20,E=d-20,O=w.element.dom.getBoundingClientRect();return E0.snap({sensor:ah(k,E),range:Mr(40,40),output:ah(R.some(c-O.width/2),R.some(d-O.height/2)),extra:{td:a}})}),fI=(o,a,c)=>({getSnapPoints:o,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(d,h)=>{const b=h.td;((w,k)=>w.exists(E=>Wo(E,k)))(a.get(),b)||(a.set(b),c(b))},mustSnap:!0}),mI=o=>tr(Ti.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Ft([E0.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:o}),f0.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),gI=(o,a)=>{const c=Dn([]),d=Dn([]),h=Dn(!1),b=ir(),w=ir(),k=ie=>{const ae=nl(ie);return dI(B.getOpt(a),ie,ae.x,ae.y,ae.width,ae.height)},E=ie=>{const ae=nl(ie);return dI(H.getOpt(a),ie,ae.right,ae.bottom,ae.width,ae.height)},O=fI(()=>bt(c.get(),ie=>k(ie)),b,ie=>{w.get().each(ae=>{o.dispatch("TableSelectorChange",{start:ie,finish:ae})})}),L=fI(()=>bt(d.get(),ie=>E(ie)),w,ie=>{b.get().each(ae=>{o.dispatch("TableSelectorChange",{start:ae,finish:ie})})}),B=mI(O),H=mI(L),K=Aa(B.asSpec()),Y=Aa(H.asSpec()),se=(ie,ae,me,ye)=>{const _e=me(ae);E0.snapTo(ie,_e),((Fe,Xe,_t,vt)=>{const gt=Xe.dom.getBoundingClientRect();er(Fe.element,"display");const Bt=Nc(Qt(o.getBody())).dom.innerHeight,sn=gt[ye]<0,bn=((In,qn)=>In[ye]>qn)(gt,Bt);(sn||bn)&&Xn(Fe.element,"display","none")})(ie,ae)},ce=ie=>se(K,ie,k,"top"),be=ie=>se(Y,ie,E,"bottom");if(Va().deviceType.isTouch()){const ie=ae=>bt(ae,Qt);o.on("TableSelectionChange",ae=>{h.get()||(bf(a,K),bf(a,Y),h.set(!0));const me=Qt(ae.start),ye=Qt(ae.finish);b.set(me),w.set(ye),R.from(ae.otherCells).each(_e=>{c.set(ie(_e.upOrLeftCells)),d.set(ie(_e.downOrRightCells)),ce(me),be(ye)})}),o.on("ResizeEditor ResizeWindow ScrollContent",()=>{b.get().each(ce),w.get().each(be)}),o.on("TableSelectionClear",()=>{h.get()&&($i(K),$i(Y),h.set(!1)),b.clear(),w.clear()})}},hI=(o,a,c)=>{var d;const h=(d=a.delimiter)!==null&&d!==void 0?d:"";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Ft([An.config({mode:"flow",selector:"div[role=button]"}),Kn.config({disabled:c.isDisabled}),ha(),Dr.config({}),zn.config({}),uo("elementPathEvents",[Ur((b,w)=>{o.shortcuts.add("alt+F11","focus statusbar elementpath",()=>An.focusIn(b)),o.on("NodeChange",k=>{const E=(L=>{const B=[];let H=L.length;for(;H-- >0;){const Y=L[H];if(Y.nodeType===1&&(K=Y).nodeName!=="BR"&&!K.getAttribute("data-mce-bogus")&&K.getAttribute("data-mce-type")!=="bookmark"){const se=zD(o,Y);if(se.isDefaultPrevented()||B.push({name:se.name,element:Y}),se.isPropagationStopped())break}}var K;return B})(k.parents),O=E.length>0?Rn(E,(L,B,H)=>{const K=((Y,se,ce)=>Ti.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":ce}},components:[Cs(Y)],action:be=>{o.focus(),o.selection.select(se),o.nodeChanged()},buttonBehaviours:Ft([Us.config({...c.tooltips.getConfig({tooltipText:c.translate(["Select the {0} element",se.nodeName.toLowerCase()]),onShow:(be,ie)=>{((ae,me)=>{const ye=R.from(wo(ae,"id")).getOrThunk(()=>{const _e=fn("aria");return Jt(me,"id",_e),_e});Jt(ae,"aria-describedby",ye)})(be.element,ie.element)},onHide:be=>{var ie;ie=be.element,fo(ie,"aria-describedby")}})}),fi(c.isDisabled),ha()])}))(B.name,B.element,H);return H===0?L.concat([K]):L.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Cs(` ${h} `)]},K])},[]):[];zn.set(b,O)})})])]),components:[]}};var ih;(function(o){o[o.None=0]="None",o[o.Both=1]="Both",o[o.Vertical=2]="Vertical"})(ih||(ih={}));const pS=(o,a,c)=>{const d=Qt(o.getContainer()),h=((b,w,k,E,O)=>{const L={height:H2(E+w.top,tv(b),SC(b))};return k===ih.Both&&(L.width=H2(O+w.left,Mx(b),nv(b))),L})(o,a,c,ms(d),ua(d));Cn(h,(b,w)=>{Q(b)&&Xn(d,w,Cp(b))}),(b=>{b.dispatch("ResizeEditor")})(o)},bS=(o,a,c,d)=>{const h=Mr(20*c,20*d);return pS(o,h,a),R.some(!0)},pI=(o,a)=>{const c=()=>{const d=[],h=pE(o),b=T5(o),w=xc(o)||o.hasPlugin("wordcount");return b&&d.push(hI(o,{},a)),h&&d.push((()=>{const k=e_("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Cs(Iu.translate(["Press {0} for help",k]))]}})()),w&&d.push((()=>{const k=[];return o.hasPlugin("wordcount")&&k.push(((E,O)=>{const L=(B,H,K)=>zn.set(B,[Cs(O.translate(["{0} "+K,H[K]]))]);return Ti.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Ft([fi(O.isDisabled),ha(),Dr.config({}),zn.config({}),nt.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),uo("wordcount-events",[Zc(B=>{const H=nt.getValue(B),K=H.mode==="words"?"characters":"words";nt.setValue(B,{mode:K,count:H.count}),L(B,H.count,K)}),Ur(B=>{E.on("wordCountUpdate",H=>{const{mode:K}=nt.getValue(B);nt.setValue(B,{mode:K,count:H.wordCount}),L(B,H.wordCount,K)})})])]),eventOrder:{[ol()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(o,a)),xc(o)&&k.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":o.translate(["Build with {0}","TinyMCE"])},innerHtml:o.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:Ft([Zn.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:k}})()),d.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const k="tox-statusbar__text-container--flex-start",E="tox-statusbar__text-container--flex-end";if(h){const O="tox-statusbar__text-container-3-cols";return w||b?w&&!b?[O,E]:[O,k]:[O,"tox-statusbar__text-container--space-around"]}return[w&&!b?E:k]})()]},components:d}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const d=c(),h=((b,w)=>{const k=(O=>{const L=Xa(O);return L===!1?ih.None:L==="both"?ih.Both:ih.Vertical})(b);if(k===ih.None)return R.none();const E=k===ih.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return R.some(wc("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":w.translate(E),"data-mce-name":"resize-handle"},behaviours:[E0.config({mode:"mouse",repositionTarget:!1,onDrag:(O,L,B)=>pS(b,B,k),blockerClass:"tox-blocker"}),An.config({mode:"special",onLeft:()=>bS(b,k,-1,0),onRight:()=>bS(b,k,1,0),onUp:()=>bS(b,k,0,-1),onDown:()=>bS(b,k,0,1)}),Dr.config({}),Zn.config({}),Us.config(w.tooltips.getConfig({tooltipText:w.translate("Resize")}))]},w.icons))})(o,a);return d.concat(h.toArray())})()}},bI=(o,a)=>a.get().getOrDie(`UI for ${o} has not been rendered`),qF=(o,a)=>{const c=o.inline,d=c?TF:d$,h=qg(o)?AL:EL,b=(()=>{const _e=ir(),Fe=ir(),Xe=ir();return{dialogUi:_e,popupUi:Fe,mainUi:Xe,getUiMotherships:()=>{const _t=_e.get().map(gt=>gt.mothership),vt=Fe.get().map(gt=>gt.mothership);return _t.fold(()=>vt.toArray(),gt=>vt.fold(()=>[gt],Bt=>Wo(gt.element,Bt.element)?[gt]:[gt,Bt]))},lazyGetInOuterOrDie:(_t,vt)=>()=>Xe.get().bind(gt=>vt(gt.outerContainer)).getOrDie(`Could not find ${_t} element in OuterContainer`)}})(),w=ir(),k=ir(),E=ir(),O=Va().deviceType.isTouch()?["tox-platform-touch"]:[],L=bE(o),B=Xb(o),H=tr({dom:{tag:"div",classes:["tox-anchorbar"]}}),K=tr({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),Y=()=>b.mainUi.get().map(_e=>_e.outerContainer).bind(Fr.getHeader),se=b.lazyGetInOuterOrDie("anchor bar",H.getOpt),ce=b.lazyGetInOuterOrDie("bottom anchor bar",K.getOpt),be=b.lazyGetInOuterOrDie("toolbar",Fr.getToolbar),ie=b.lazyGetInOuterOrDie("throbber",Fr.getThrobber),ae=((_e,Fe,Xe,_t)=>{const vt=Dn(!1),gt=(zo=>{const Fn=Dn(bE(zo)?"bottom":"top");return{isPositionedAtTop:()=>Fn.get()==="top",getDockingMode:Fn.get,setDockingMode:Fn.set}})(Fe),Bt={icons:()=>Fe.ui.registry.getAll().icons,menuItems:()=>Fe.ui.registry.getAll().menuItems,translate:Iu.translate,isDisabled:()=>Fe.mode.isReadOnly()||!Fe.ui.isEnabled(),getOption:Fe.options.get,tooltips:zA(_e.dialog)},sn=PN(Fe),bn=(zo=>{const Fn=Da=>()=>zo.formatter.match(Da),Jr=Da=>()=>{const ba=zo.formatter.get(Da);return ba!==void 0?R.some({tag:ba.length>0&&(ba[0].inline||ba[0].block)||"div",styles:zo.dom.parseStyle(zo.formatter.getCssText(Da))}):R.none()},Cr=Dn([]),Oi=Dn([]),Di=Dn(!1);return zo.on("PreInit",Da=>{const ba=EN(zo),lh=FA(zo,ba,Fn,Jr);Cr.set(lh)}),zo.on("addStyleModifications",Da=>{const ba=FA(zo,Da.items,Fn,Jr);Oi.set(ba),Di.set(Da.replace)}),{getData:()=>{const Da=Di.get()?[]:Cr.get(),ba=Oi.get();return Da.concat(ba)}}})(Fe),In=(zo=>({colorPicker:fL(zo),hasCustomColors:mL(zo),getColors:gL(zo),getColorCols:hL(zo)}))(Fe),qn=(zo=>({isDraggableModal:_N(zo)}))(Fe),So={shared:{providers:Bt,anchors:dL(Fe,Xe,_t,gt.isPositionedAtTop),header:gt},urlinput:sn,styles:bn,colorinput:In,dialog:qn,isContextMenuOpen:()=>vt.get(),setContextMenuState:zo=>vt.set(zo)},zr=zo=>R.none(),Xr={...So,shared:{...So.shared,interpreter:zo=>vN(zo,{},Xr,zr),getSink:_e.popup}},mo={...So,shared:{...So.shared,interpreter:zo=>vN(zo,{},mo,zr),getSink:_e.dialog}};return{popup:Xr,dialog:mo}})({popup:()=>_o.fromOption(b.popupUi.get().map(_e=>_e.sink),"(popup) UI has not been rendered"),dialog:()=>_o.fromOption(b.dialogUi.get().map(_e=>_e.sink),"UI has not been rendered")},o,se,ce),me=()=>{const _e=(()=>{const So={attributes:{[il]:L?bc.BottomToTop:bc.TopToBottom}},zr=Fr.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:ae.popup,onEscape:()=>{o.focus()}}),Xr=Fr.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:ae.popup.shared.getSink,providers:ae.popup.shared.providers,onEscape:()=>{o.focus()},onToolbarToggled:ba=>{((lh,Pv)=>{lh.dispatch("ToggleToolbarDrawer",{state:Pv})})(o,ba)},type:B,lazyToolbar:be,lazyHeader:()=>Y().getOrDie("Could not find header element"),...So}),mo=Fr.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:ae.popup.shared.providers,onEscape:()=>{o.focus()},type:B}),zo=Hx(o),Fn=zx(o),Jr=Fx(o),Cr=D5(o),Oi=Fr.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Di=zo||Fn||Jr,Da=Cr?[Oi,zr]:[zr];return Fr.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Di?[]:["tox-editor-header--empty"]),...So},components:br([Jr?Da:[],zo?[mo]:Fn?[Xr]:[],Jb(o)?[]:[H.asSpec()]]),sticky:qg(o),editor:o,sharedBackstage:ae.popup.shared})})(),Fe={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Fr.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Fr.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},Xe=Fr.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:ae.popup}),_t=Fr.parts.viewWrapper({backstage:ae.popup}),vt=A5(o)&&!c?R.some(pI(o,ae.popup.shared.providers)):R.none(),gt=br([L?[]:[_e],c?[]:[Fe],L?[_e]:[]]),Bt=Fr.parts.editorContainer({components:br([gt,c?[]:[K.asSpec()]])}),sn=MC(o),bn={role:"application",...Iu.isRtl()?{dir:"rtl"}:{},...sn?{"aria-hidden":"true"}:{}},In=Aa(Fr.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(c?["tox-tinymce-inline"]:[]).concat(L?["tox-tinymce--toolbar-bottom"]:[]).concat(O),styles:{visibility:"hidden",...sn?{opacity:"0",border:"0"}:{}},attributes:bn},components:[Bt,...c?[]:[_t,...vt.toArray()],Xe],behaviours:Ft([ha(),Kn.config({disableClass:"tox-tinymce--disabled"}),An.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),qn=f_(In);return w.set(qn),{mothership:qn,outerContainer:In}},ye=_e=>{const Fe=Cp((_t=>(gt=>{const Bt=Ix(gt),sn=tv(gt),bn=SC(gt);return z2(Bt).map(In=>H2(In,sn,bn))})(_t).getOr(Ix(_t)))(o)),Xe=Cp((_t=>S4(_t).getOr(Bx(_t)))(o));return o.inline||(pl("div","width",Xe)&&Xn(_e.element,"width",Xe),pl("div","height",Fe)?Xn(_e.element,"height",Fe):Xn(_e.element,"height","400px")),Fe};return{popups:{backstage:ae.popup,getMothership:()=>bI("popups",E)},dialogs:{backstage:ae.dialog,getMothership:()=>bI("dialogs",k)},renderUI:()=>{const _e=me(),Fe=(()=>{const _t=BC(o),vt=Wo(dn(),_t)&&as(_t,"display")==="grid",gt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(O),attributes:{...Iu.isRtl()?{dir:"rtl"}:{}}},behaviours:Ft([Ya.config({useFixed:()=>h.isDocked(Y)})])},Bt={dom:{styles:{width:document.body.clientWidth+"px"}},events:eo([xt(Jd(),In=>{Xn(In.element,"width",document.body.clientWidth+"px")})])},sn=Aa(yr(gt,vt?Bt:{})),bn=f_(sn);return k.set(bn),{sink:sn,mothership:bn}})(),Xe=Gg(o)?(()=>{const _t={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(O),attributes:{...Iu.isRtl()?{dir:"rtl"}:{}}},behaviours:Ft([Ya.config({useFixed:()=>h.isDocked(Y),getBounds:()=>a.getPopupSinkBounds()})])},vt=Aa(_t),gt=f_(vt);return E.set(gt),{sink:vt,mothership:gt}})():(_t=>(E.set(_t.mothership),_t))(Fe);return b.dialogUi.set(Fe),b.popupUi.set(Xe),b.mainUi.set(_e),(_t=>{const{mainUi:vt,popupUi:gt,uiMotherships:Bt}=_t;En(EC(o),(Fn,Jr)=>{o.ui.registry.addGroupToolbarButton(Jr,Fn)});const{buttons:sn,menuItems:bn,contextToolbars:In,sidebars:qn,views:So}=o.ui.registry.getAll(),zr=IC(o),Xr={menuItems:bn,menus:Qh(o),menubar:Kg(o),toolbar:zr.getOrThunk(()=>rv(o)),allowToolbarGroups:B===Nu.floating,buttons:sn,sidebar:qn,views:So};var mo;mo=vt.outerContainer,o.addShortcut("alt+F9","focus menubar",()=>{Fr.focusMenubar(mo)}),o.addShortcut("alt+F10","focus toolbar",()=>{Fr.focusToolbar(mo)}),o.addCommand("ToggleToolbarDrawer",(Fn,Jr)=>{Jr!=null&&Jr.skipFocus?Fr.toggleToolbarDrawerWithoutFocusing(mo):Fr.toggleToolbarDrawer(mo)}),o.addQueryStateHandler("ToggleToolbarDrawer",()=>Fr.isToolbarDrawerToggled(mo)),((Fn,Jr,Cr)=>{const Oi=(Yo,Gm)=>{Zt([Jr,...Cr],Td=>{Td.broadcastEvent(Yo,Gm)})},Di=(Yo,Gm)=>{Zt([Jr,...Cr],Td=>{Td.broadcastOn([Yo],Gm)})},Da=Yo=>Di(M(),{target:Yo.target}),ba=yi(),lh=Ei(ba,"touchstart",Da),Pv=Ei(ba,"touchmove",Yo=>Oi(yn(),Yo)),Sp=Ei(ba,"touchend",Yo=>Oi(Uc(),Yo)),ch=Ei(ba,"mousedown",Da),tw=Ei(ba,"mouseup",Yo=>{Yo.raw.button===0&&Di(U(),{target:Yo.target})}),kp=Yo=>Di(M(),{target:Qt(Yo.target)}),Km=Yo=>{Yo.button===0&&Di(U(),{target:Qt(Yo.target)})},T0=()=>{Zt(Fn.editorManager.get(),Yo=>{Fn!==Yo&&Yo.dispatch("DismissPopups",{relatedTarget:Fn})})},O0=Yo=>Oi(tb(),gd(Yo)),Lv=Yo=>{Di(V(),{}),Oi(Jd(),gd(Yo))},ES=ot(Qt(Fn.getElement())),nw=ox(ES,"scroll",Yo=>{requestAnimationFrame(()=>{if(Fn.getContainer()!=null){const Gm=ep(Fn,Jr.element).map(Td=>[Td.element,...Td.others]).getOr([]);On(Gm,Td=>Wo(Td,Yo.target))&&(Fn.dispatch("ElementScroll",{target:Yo.target.dom}),Oi(Th(),Yo))}})}),Ep=()=>Di(V(),{}),qm=Yo=>{Yo.state&&Di(M(),{target:Qt(Fn.getContainer())})},uh=Yo=>{Di(M(),{target:Qt(Yo.relatedTarget.getContainer())})},ow=Yo=>Fn.dispatch("focusin",Yo),rw=Yo=>Fn.dispatch("focusout",Yo);Fn.on("PostRender",()=>{Fn.on("click",kp),Fn.on("tap",kp),Fn.on("mouseup",Km),Fn.on("mousedown",T0),Fn.on("ScrollWindow",O0),Fn.on("ResizeWindow",Lv),Fn.on("ResizeEditor",Ep),Fn.on("AfterProgressState",qm),Fn.on("DismissPopups",uh),Zt([Jr,...Cr],Yo=>{Yo.element.dom.addEventListener("focusin",ow),Yo.element.dom.addEventListener("focusout",rw)})}),Fn.on("remove",()=>{Fn.off("click",kp),Fn.off("tap",kp),Fn.off("mouseup",Km),Fn.off("mousedown",T0),Fn.off("ScrollWindow",O0),Fn.off("ResizeWindow",Lv),Fn.off("ResizeEditor",Ep),Fn.off("AfterProgressState",qm),Fn.off("DismissPopups",uh),Zt([Jr,...Cr],Yo=>{Yo.element.dom.removeEventListener("focusin",ow),Yo.element.dom.removeEventListener("focusout",rw)}),ch.unbind(),lh.unbind(),Pv.unbind(),Sp.unbind(),tw.unbind(),nw.unbind()}),Fn.on("detach",()=>{Zt([Jr,...Cr],Ak),Zt([Jr,...Cr],Yo=>Yo.destroy())})})(o,vt.mothership,Bt),h.setup(o,ae.popup.shared,Y),MF(o,ae.popup),HF(o,ae.popup.shared.getSink,ae.popup),(Fn=>{const{sidebars:Jr}=Fn.ui.registry.getAll();Zt(on(Jr),Cr=>{const Oi=Jr[Cr],Di=()=>$r(R.from(Fn.queryCommandValue("ToggleSidebar")),Cr);Fn.ui.registry.addToggleButton(Cr,{icon:Oi.icon,tooltip:Oi.tooltip,onAction:Da=>{Fn.execCommand("ToggleSidebar",!1,Cr),Da.setActive(Di())},onSetup:Da=>{Da.setActive(Di());const ba=()=>Da.setActive(Di());return Fn.on("ToggleSidebar",ba),()=>{Fn.off("ToggleSidebar",ba)}}})})})(o),jN(o,ie,ae.popup.shared),RF(o,In,gt.sink,{backstage:ae.popup}),gI(o,gt.sink);const zo={targetNode:o.getElement(),height:ye(vt.outerContainer)};return d.render(o,_t,Xr,ae.popup,zo)})({popupUi:Xe,dialogUi:Fe,mainUi:_e,uiMotherships:b.getUiMotherships()})}}},GF=re([At("lazySink"),Bo("dragBlockClass"),Lr("getBounds",_a),et("useTabstopAt",Re),et("firstTabstop",0),et("eventOrder",{}),mn("modalBehaviours",[An]),rl("onExecute"),ci("onEscape")]),U4={sketch:Oe},W4=re([Jc({name:"draghandle",overrides:(o,a)=>({behaviours:Ft([E0.config({mode:"mouse",getTarget:c=>pm(c,'[role="dialog"]').getOr(c),blockerClass:o.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(a,null,2)).message),getBounds:o.getDragBounds})])})}),ll({schema:[At("dom")],name:"title"}),ll({factory:U4,schema:[At("dom")],name:"close"}),ll({factory:U4,schema:[At("dom")],name:"body"}),Jc({factory:U4,schema:[At("dom")],name:"footer"}),vd({factory:{sketch:(o,a)=>({...o,dom:a.dom,components:a.components})},schema:[et("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),et("components",[])],name:"blocker"})]),ys=xl({name:"ModalDialog",configFields:GF(),partFields:W4(),factory:(o,a,c,d)=>{const h=ir(),b=fn("modal-events"),w={...o.eventOrder,[ja()]:[b].concat(o.eventOrder["alloy.system.attached"]||[])},k=Va();return{uid:o.uid,dom:o.dom,components:a,apis:{show:E=>{h.set(E);const O=o.lazySink(E).getOrDie(),L=d.blocker(),B=O.getSystem().build({...L,components:L.components.concat([Hi(E)]),behaviours:Ft([Zn.config({}),uo("dialog-blocker-events",[nf(Jo(),()=>{Uu.isBlocked(E)||An.focusIn(E)})])])});bf(O,B),An.focusIn(E)},hide:E=>{h.clear(),si(E.element).each(O=>{E.getSystem().getByDom(O).each(L=>{$i(L)})})},getBody:E=>Zg(E,o,"body"),getFooter:E=>Ir(E,o,"footer"),setIdle:E=>{Uu.unblock(E)},setBusy:(E,O)=>{Uu.block(E,O)}},eventOrder:w,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:co(o.modalBehaviours,[zn.config({}),An.config({mode:"cyclic",onEnter:o.onExecute,onEscape:o.onEscape,useTabstopAt:o.useTabstopAt,firstTabstop:o.firstTabstop}),Uu.config({getRoot:h.get}),uo(b,[Ur(E=>{const O=Zg(E,o,"title").element,L=(B=>B.dom.textContent)(O);k.os.isMacOS()&&$(L)?Jt(E.element,"aria-label",L):((B,H)=>{const K=Io(B,"id").fold(()=>{const Y=fn("dialog-label");return Jt(H,"id",Y),Y},Oe);Jt(B,"aria-labelledby",K)})(E.element,O)})])])}},apis:{show:(o,a)=>{o.show(a)},hide:(o,a)=>{o.hide(a)},getBody:(o,a)=>o.getBody(a),getFooter:(o,a)=>o.getFooter(a),setBusy:(o,a,c)=>{o.setBusy(a,c)},setIdle:(o,a)=>{o.setIdle(a)}}}),YF=Pn([ea,IE].concat(r0)),Z2=Pl,Z4=[HE("button"),Mu,sc("align","end",["start","end"]),qC,Pu,yg("buttonType",["primary","secondary"])],vS=[...Z4,Bu],j4=[_u("type",["submit","cancel","custom"]),...vS],XF=[_u("type",["menu"]),ap,r2,Mu,Fi("items",YF),...Z4],JF=[...Z4,_u("type",["togglebutton"]),r2,Mu,ap,Hs("active",!1)],vI=Xs("type",{submit:j4,cancel:j4,custom:j4,menu:XF,togglebutton:JF}),QF=[ea,Bu,_u("level",["info","warn","error","success"]),PE,et("url","")],K4=Pn(QF),q4=[ea,Bu,Pu,HE("button"),Mu,u$,yg("buttonType",["primary","secondary","toolbar"]),qC],G4=Pn(q4),Nv=[ea,IE],Oa=Nv.concat([LE]),ez=Nv.concat([BE,Pu]),tz=Pn(ez),yI=Pl,xI=Oa.concat([fD("auto")]),nz=Pn(xI),oz=xu([n0,Bu,PE]),rz=Oa.concat([Al("storageKey","default")]),sz=Pn(rz),az=ra,iz=Pn(Oa),lz=ra,wI=Nv.concat([Al("tag","textarea"),ls("scriptId"),ls("scriptUrl"),Vc("onFocus"),_i("settings",void 0,r1)]),cz=Nv.concat([Al("tag","textarea"),Ci("init")]),uz=qd(o=>is("customeditor.old",oa(cz),o).orThunk(()=>is("customeditor.new",oa(wI),o))),dz=ra,CI=Pn(Oa),Y4=yu(vu),_I=o=>[ea,Eh("columns"),o],SI=[ea,ls("html"),sc("presets","presentation",["presentation","document"]),Lr("onInit",de),Hs("stretched",!1)],kI=Pn(SI),EI=Oa.concat([Hs("border",!1),Hs("sandboxed",!0),Hs("streamContent",!1),Hs("transparent",!0)]),X4=Pn(EI),fz=ra,J4=Pn(Nv.concat([ws("height")])),Iv=Pn([ls("url"),Gd("zoom"),Gd("cachedWidth"),Gd("cachedHeight")]),AI=Oa.concat([ws("inputMode"),ws("placeholder"),Hs("maximized",!1),Pu]),TI=Pn(AI),OI=ra,mz=o=>[ea,BE,o,sc("align","start",["start","center","end"]),ws("for")],gz=[Bu,n0],yS=[Bu,Fi("items",kh(0,()=>DI))],DI=nm([Pn(gz),Pn(yS)]),hz=Oa.concat([Fi("items",DI),Pu]),RI=Pn(hz),NI=ra,Q4=Oa.concat([rm("items",[Bu,n0]),Ds("size",1),Pu]),II=Pn(Q4),Nl=ra,BI=Oa.concat([Hs("constrain",!0),Pu]),pz=Pn(BI),MI=Pn([ls("width"),ls("height")]),PI=Nv.concat([BE,Ds("min",0),Ds("max",0)]),bz=Pn(PI),vz=sd,yz=[ea,Fi("header",ra),Fi("cells",yu(ra))],LI=Pn(yz),jm=Oa.concat([ws("placeholder"),Hs("maximized",!1),Pu]),eT=Pn(jm),FI=ra,j2=[_u("type",["directory","leaf"]),ME,ls("id"),Os("menu",$N)],xS=Pn(j2),xz=j2.concat([Fi("children",kh(0,()=>Cu("type",{directory:zI,leaf:xS})))]),zI=Pn(xz),wz=Cu("type",{directory:zI,leaf:xS}),Cz=[ea,Fi("items",wz),Vc("onLeafAction"),Vc("onToggleExpand"),fr("defaultExpandedIds",[],ra),ws("defaultSelectedId")],_z=Pn(Cz),Sz=Oa.concat([sc("filetype","file",["image","media","file"]),Pu,ws("picker_text")]),kz=Pn(Sz),HI=Pn([n0,Cc]),tT=o=>Ks("items","items",{tag:"required",process:{}},yu(qd(a=>is(`Checking item of ${o}`,Ad,a).fold(c=>_o.error(Li(c)),c=>_o.value(c))))),Ad=tm(()=>{return Cu("type",{alertbanner:K4,bar:Pn((o=tT("bar"),[ea,o])),button:G4,checkbox:tz,colorinput:sz,colorpicker:iz,dropzone:CI,grid:Pn(_I(tT("grid"))),iframe:X4,input:TI,listbox:RI,selectbox:II,sizeinput:pz,slider:bz,textarea:eT,urlinput:kz,customeditor:uz,htmlpanel:kI,imagepreview:J4,collection:nz,label:Pn(mz(tT("label"))),table:LI,tree:_z,panel:VI});var o}),wS=[ea,et("classes",[]),Fi("items",Ad)],VI=Pn(wS),Ez=[HE("tab"),ME,Fi("items",Ad)],$I=[ea,rm("tabs",Ez)],UI=Pn($I),nT=vS,CS=vI,K2=Pn([ls("title"),ka("body",Cu("type",{panel:VI,tabpanel:UI})),Al("size","normal"),fr("buttons",[],CS),et("initialData",{}),Lr("onAction",de),Lr("onChange",de),Lr("onSubmit",de),Lr("onClose",de),Lr("onCancel",de),Lr("onTabChange",de)]),q2=Pn([_u("type",["cancel","custom"]),...nT]),WI=Pn([ls("title"),ls("url"),Gd("height"),Gd("width"),s1("buttons",q2),Lr("onAction",de),Lr("onCancel",de),Lr("onClose",de),Lr("onMessage",de)]),_S=o=>x(o)?[o].concat(Ko(bi(o),_S)):P(o)?Ko(o,_S):[],ZI=o=>p(o.type)&&p(o.name),jI={checkbox:yI,colorinput:az,colorpicker:lz,dropzone:Y4,input:OI,iframe:fz,imagepreview:Iv,selectbox:Nl,sizeinput:MI,slider:vz,listbox:NI,size:MI,textarea:FI,urlinput:HI,customeditor:dz,collection:oz,togglemenuitem:Z2},Az=o=>{const a=(d=>ho(_S(d),ZI))(o),c=Ko(a,d=>(h=>R.from(jI[h.type]))(d).fold(()=>[],h=>[ka(d.name,h)]));return Pn(c)},KI=o=>{var a;return{internalDialog:wi(is("dialog",K2,o)),dataValidator:Az(o),initialData:(a=o.initialData)!==null&&a!==void 0?a:{}}},A0={open:(o,a)=>{const c=KI(a);return o(c.internalDialog,c.initialData,c.dataValidator)},openUrl:(o,a)=>o(wi(is("dialog",WI,a))),redial:o=>KI(o)};var Tz=Object.freeze({__proto__:null,events:(o,a)=>{const c=(d,h)=>{o.updateState.each(b=>{const w=b(d,h);a.set(w)}),o.renderComponents.each(b=>{const w=b(h,a.get());(o.reuseDom?rE:Kb)(d,w)})};return eo([xt(Ll(),(d,h)=>{const b=h;if(!b.universal){const w=o.channel;Qe(b.channels,w)&&c(d,b.data)}}),Ur((d,h)=>{o.initialData.each(b=>{c(d,b)})})])}}),Oz=Object.freeze({__proto__:null,getState:(o,a,c)=>c}),qI=[At("channel"),Bo("renderComponents"),Bo("updateState"),Bo("initialData"),Hs("reuseDom",!0)];const Kl=ga({fields:qI,name:"reflecting",active:Tz,apis:Oz,state:Object.freeze({__proto__:null,init:()=>{const o=Dn(R.none());return{readState:()=>o.get().getOr("none"),get:o.get,set:o.set,clear:()=>o.set(R.none())}}})}),GI=o=>{const a=[],c={};return Cn(o,(d,h)=>{d.fold(()=>{a.push(h)},b=>{c[h]=b})}),a.length>0?_o.error(a):_o.value(c)},YI=(o,a,c,d)=>{const h=tr(gp.sketch(w=>({dom:{tag:"div",classes:["tox-form"].concat(o.classes)},components:bt(o.items,k=>G_(w,k,a,c,d))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[h.asSpec()]}],behaviours:Ft([An.config({mode:"acyclic",useTabstopAt:$e(xv)}),(b=h,Vo.config({find:b.getOpt})),G3(h,{postprocess:w=>GI(w).fold(k=>(console.error(k),{}),Oe)}),uo("dialog-body-panel",[xt(Jo(),(w,k)=>{w.getSystem().broadcastOn([F_],{newFocus:R.some(k.event.target)})})])])};var b},Dz=Qc({name:"TabButton",configFields:[et("uid",void 0),At("value"),Ks("dom","dom",Lo(()=>({attributes:{role:"tab",id:fn("aria"),"aria-selected":"false"}})),yl()),Bo("action"),et("domModification",{}),mn("tabButtonBehaviours",[Zn,An,nt]),At("view")],factory:(o,a)=>({uid:o.uid,dom:o.dom,components:o.components,events:Q1(o.action),behaviours:co(o.tabButtonBehaviours,[Zn.config({}),An.config({mode:"execution",useSpace:!0,useEnter:!0}),nt.config({store:{mode:"memory",initialValue:o.value}})]),domModification:o.domModification})}),XI=re([At("tabs"),At("dom"),et("clickToDismiss",!1),mn("tabbarBehaviours",[or,An]),Og(["tabClass","selectedClass"])]),G2=lC({factory:Dz,name:"tabs",unit:"tab",overrides:o=>{const a=(d,h)=>{or.dehighlight(d,h),Sn(d,Mt(),{tabbar:d,button:h})},c=(d,h)=>{or.highlight(d,h),Sn(d,Oh(),{tabbar:d,button:h})};return{action:d=>{const h=d.getSystem().getByUid(o.uid).getOrDie(),b=or.isHighlighted(h,d);(b&&o.clickToDismiss?a:b?de:c)(h,d)},domModification:{classes:[o.markers.tabClass]}}}}),Rz=re([G2]),oT=xl({name:"Tabbar",configFields:XI(),partFields:Rz(),factory:(o,a,c,d)=>({uid:o.uid,dom:o.dom,components:a,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:co(o.tabbarBehaviours,[or.config({highlightClass:o.markers.selectedClass,itemClass:o.markers.tabClass,onHighlight:(h,b)=>{Jt(b.element,"aria-selected","true")},onDehighlight:(h,b)=>{Jt(b.element,"aria-selected","false")}}),An.config({mode:"flow",getInitial:h=>or.getHighlighted(h).map(b=>b.element),selector:"."+o.markers.tabClass,executeOnMove:!0})])})}),Nz=Qc({name:"Tabview",configFields:[mn("tabviewBehaviours",[zn])],factory:(o,a)=>({uid:o.uid,dom:o.dom,behaviours:co(o.tabviewBehaviours,[zn.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),Iz=re([et("selectFirst",!0),Fo("onChangeTab"),Fo("onDismissTab"),et("tabs",[]),mn("tabSectionBehaviours",[])]),Bz=ll({factory:oT,schema:[At("dom"),rc("markers",[At("tabClass"),At("selectedClass")])],name:"tabbar",defaults:o=>({tabs:o.tabs})}),Mz=ll({factory:Nz,name:"tabview"}),JI=re([Bz,Mz]),Bv=xl({name:"TabSection",configFields:Iz(),partFields:JI(),factory:(o,a,c,d)=>{const h=(b,w)=>{Ir(b,o,"tabbar").each(k=>{w(k).each(tf)})};return{uid:o.uid,dom:o.dom,components:a,behaviours:Vn(o.tabSectionBehaviours),events:eo(br([o.selectFirst?[Ur((b,w)=>{h(b,or.getFirst)})]:[],[xt(Oh(),(b,w)=>{(k=>{const E=nt.getValue(k);Ir(k,o,"tabview").each(O=>{J(o.tabs,L=>L.value===E).each(L=>{const B=L.view();Io(k.element,"id").each(H=>{Jt(O.element,"aria-labelledby",H)}),zn.set(O,B),o.onChangeTab(O,k,B)})})})(w.event.button)}),xt(Mt(),(b,w)=>{const k=w.event.button;o.onDismissTab(b,k)})]])),apis:{getViewItems:b=>Ir(b,o,"tabview").map(w=>zn.contents(w)).getOr([]),showTab:(b,w)=>{h(b,k=>{const E=or.getCandidates(k);return J(E,O=>nt.getValue(O)===w).filter(O=>!or.isHighlighted(k,O))})}}}},apis:{getViewItems:(o,a)=>o.getViewItems(a),showTab:(o,a,c)=>{o.showTab(a,c)}}}),rT=(o,a)=>{Xn(o,"height",a+"px"),Xn(o,"flex-basis",a+"px")},Mv=(o,a,c)=>{pm(o,'[role="dialog"]').each(d=>{Yr(d,'[role="tablist"]').each(h=>{c.get().map(b=>(Xn(a,"height","0"),Xn(a,"flex-basis","0"),Math.min(b,((w,k,E)=>{const O=Ii(w).dom,L=pm(w,".tox-dialog-wrap").getOr(w);let B;B=as(L,"position")==="fixed"?Math.max(O.clientHeight,window.innerHeight):Math.max(O.offsetHeight,O.scrollHeight);const H=ms(k),K=k.dom.offsetLeft>=E.dom.offsetLeft+ua(E)?Math.max(ms(E),H):H,Y=parseInt(as(w,"margin-top"),10)||0,se=parseInt(as(w,"margin-bottom"),10)||0;return B-(ms(w)+Y+se-K)})(d,a,h)))).each(b=>{rT(a,b)})})})},Of=o=>Yr(o,'[role="tabpanel"]'),SS="send-data-to-section",sT="send-data-to-view",QI=(o,a,c,d)=>{const h=Dn({}),b=L=>{const B=nt.getValue(L),H=GI(B).getOr({}),K=h.get(),Y=yr(K,H);h.set(Y)},w=L=>{const B=h.get();nt.setValue(L,B)},k=Dn(null),E=bt(o.tabs,L=>({value:L.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Cs(c.shared.providers.translate(L.title))],view:()=>[gp.sketch(B=>({dom:{tag:"div",classes:["tox-form"]},components:bt(L.items,H=>G_(B,H,a,c,d)),formBehaviours:Ft([An.config({mode:"acyclic",useTabstopAt:$e(xv)}),uo("TabView.form.events",[Ur(w),Eu(b)]),al.config({channels:ad([{key:SS,value:{onReceive:b}},{key:sT,value:{onReceive:w}}])})])}))]})),O=(L=>{const B=ir();return{extraEvents:[Ur(K=>{const Y=K.element;Of(Y).each(se=>{Xn(se,"visibility","hidden"),K.getSystem().getByDom(se).toOptional().each(ce=>{const be=((ae,me,ye)=>bt(ae,(_e,Fe)=>{zn.set(ye,ae[Fe].view());const Xe=me.dom.getBoundingClientRect();return zn.set(ye,[]),Xe.height}))(L,se,ce);(ae=>$t(ge(ae,(me,ye)=>me>ye?-1:me<ye?1:0)))(be).fold(B.clear,B.set)}),Mv(Y,se,B),er(se,"visibility"),((ce,be)=>{$t(ce).each(ie=>Bv.showTab(be,ie.value))})(L,K),requestAnimationFrame(()=>{Mv(Y,se,B)})})}),xt(Jd(),K=>{const Y=K.element;Of(Y).each(se=>{Mv(Y,se,B)})}),xt(g_,(K,Y)=>{const se=K.element;Of(se).each(ce=>{const be=qc(ot(ce));Xn(ce,"visibility","hidden");const ie=As(ce,"height").map(me=>parseInt(me,10));er(ce,"height"),er(ce,"flex-basis");const ae=ce.dom.getBoundingClientRect().height;ie.forall(me=>ae>me)?(B.set(ae),Mv(se,ce,B)):ie.each(me=>{rT(ce,me)}),er(ce,"visibility"),be.each(ki)})})],selectFirst:!1}})(E);return Bv.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(L,B,H)=>{const K=nt.getValue(B);Sn(L,fR,{name:K,oldName:k.get()}),k.set(K)},tabs:E,components:[Bv.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[oT.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Ft([Dr.config({})])}),Bv.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:O.selectFirst,tabSectionBehaviours:Ft([uo("tabpanel",O.extraEvents),An.config({mode:"acyclic"}),Vo.config({find:L=>$t(Bv.getViewItems(L))}),h0(R.none(),L=>(L.getSystem().broadcastOn([SS],{}),h.get()),(L,B)=>{h.set(B),L.getSystem().broadcastOn([sT],{})})])})},kS=(o,a,c,d,h,b)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...c.map(w=>({id:w})).getOr({}),...h?{"aria-live":"polite"}:{}}},components:[],behaviours:Ft([K3(0),Kl.config({channel:`${$R}-${a}`,updateState:(w,k)=>R.some({isTabPanel:()=>k.body.type==="tabpanel"}),renderComponents:w=>{const k=w.body;return k.type==="tabpanel"?[QI(k,w.initialData,d,b)]:[YI(k,w.initialData,d,b)]},initialData:o})])}),eB=Cf.deviceType.isTouch(),Y2=(o,a)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[o,a]}),aT=(o,a)=>ys.parts.close(Ti.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":a.translate("Close")}},action:o,buttonBehaviours:Ft([Dr.config({})])})),iT=()=>ys.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),tB=(o,a)=>ys.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Rm(`<p>${W5(a.translate(o))}</p>`)}]}]}),nB=o=>ys.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:o}),oB=(o,a)=>[Cd.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:o}),Cd.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:a})],lT=o=>{const a="tox-dialog",c=a+"-wrap",d=c+"__backdrop",h=a+"__disable-scroll";return ys.sketch({lazySink:o.lazySink,onEscape:b=>(o.onEscape(b),R.some(!0)),useTabstopAt:b=>!xv(b),firstTabstop:o.firstTabstop,dom:{tag:"div",classes:[a].concat(o.extraClasses),styles:{position:"relative",...o.extraStyles}},components:[o.header,o.body,...o.footer.toArray()],parts:{blocker:{dom:Rm(`<div class="${c}"></div>`),components:[{dom:{tag:"div",classes:eB?[d,d+"--opaque"]:[d]}}]}},dragBlockClass:c,modalBehaviours:Ft([Zn.config({}),uo("dialog-events",o.dialogEvents.concat([nf(Jo(),(b,w)=>{Uu.isBlocked(b)||An.focusIn(b)}),xt(i1(),(b,w)=>{b.getSystem().broadcastOn([F_],{newFocus:w.event.newFocus})})])),uo("scroll-lock",[Ur(()=>{us(dn(),h)}),Eu(()=>{ps(dn(),h)})]),...o.extraBehaviours]),eventOrder:{[ol()]:["dialog-events"],[ja()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[ic()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...o.eventOrder}})},rB=o=>Ti.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":o.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:Ft([Dr.config({}),Us.config(o.tooltips.getConfig({tooltipText:o.translate("Close")}))]),components:[wc("close",{tag:"span",classes:["tox-icon"]},o.icons)],action:a=>{go(a,eh)}}),cT=(o,a,c,d)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...c.map(h=>({id:h})).getOr({})}},components:[],behaviours:Ft([Kl.config({channel:`${oA}-${a}`,initialData:o,renderComponents:h=>[Cs(d.translate(h.title))]})])}),uT=()=>({dom:Rm('<div class="tox-dialog__draghandle"></div>')}),sB=(o,a,c)=>((d,h,b)=>{const w=ys.parts.title(cT(d,h,R.none(),b)),k=ys.parts.draghandle(uT()),E=ys.parts.close(rB(b)),O=[w].concat(d.draggable?[k]:[]).concat([E]);return Cd.sketch({dom:Rm('<div class="tox-dialog__header"></div>'),components:O})})({title:c.shared.providers.translate(o),draggable:c.dialog.isDraggableModal()},a,c.shared.providers),aB=(o,a,c,d)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":c.translate(o)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${d.getOr(0)}px`,position:"absolute"}},behaviours:a,components:[{dom:Rm('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),iB=(o,a,c)=>({onClose:()=>c.closeWindow(),onBlock:d=>{const h=Yr(o().element,".tox-dialog__header").map(b=>ms(b));ys.setBusy(o(),(b,w)=>aB(d.message,w,a,h))},onUnblock:()=>{ys.setIdle(o())}}),X2="tox-dialog--fullscreen",dT="tox-dialog--width-lg",fT="tox-dialog--width-md",J2=o=>{switch(o){case"large":return R.some(dT);case"medium":return R.some(fT);default:return R.none()}},mT=(o,a)=>{const c=Qt(a.element.dom);zi(c,X2)||(zl(c,[dT,fT]),J2(o).each(d=>us(c,d)))},lB=(o,a)=>{const c=Qt(o.element.dom),d=cd(c),h=J(d,b=>b===dT||b===fT).or(J2(a));((b,w)=>{Zt(w,k=>{((E,O)=>{Sg(E)?E.dom.classList.toggle(O):((L,B)=>Qe(ob(L),B)?Ty(L,B):u1(L,B))(E,O),rb(E)})(b,k)})})(c,[X2,...h.toArray()])},cB=(o,a,c)=>Aa(lT({...o,firstTabstop:1,lazySink:c.shared.getSink,extraBehaviours:[_2({}),...o.extraBehaviours],onEscape:d=>{go(d,eh)},dialogEvents:a,eventOrder:{[Ll()]:[Kl.name(),al.name()],[ja()]:["scroll-lock",Kl.name(),"messages","dialog-events","alloy.base.behaviour"],[ic()]:["alloy.base.behaviour","dialog-events","messages",Kl.name(),"scroll-lock"]}})),Q2=(o,a={})=>bt(o,c=>c.type==="menu"?(d=>{const h=bt(d.items,b=>{const w=cn(a,b.name).getOr(Dn(!1));return{...b,storage:w}});return{...d,items:h}})(c):c),uB=o=>Rn(o,(a,c)=>c.type==="menu"?Rn(c.items,(d,h)=>(d[h.name]=h.storage,d),a):a,{}),gT=(o,a)=>[_g(Jo(),Z7),o(dp,(c,d,h,b)=>{qc(ot(b.element)).fold(de,xb),a.onClose(),d.onClose()}),o(eh,(c,d,h,b)=>{d.onCancel(c),go(b,dp)}),xt(_3,(c,d)=>a.onUnblock()),xt(C3,(c,d)=>a.onBlock(d.event))],dB=(o,a,c)=>{const d=(b,w)=>xt(b,(k,E)=>{h(k,(O,L)=>{w(o(),O,E.event,k)})}),h=(b,w)=>{Kl.getState(b).get().each(k=>{w(k.internalDialog,b)})};return[...gT(d,a),d(v2,(b,w)=>w.onSubmit(b)),d(Zi,(b,w,k)=>{w.onChange(b,{name:k.name})}),d(Af,(b,w,k,E)=>{const O=()=>E.getSystem().isConnected()?An.focusIn(E):void 0,L=K=>fs(K,"disabled")||Io(K,"aria-disabled").exists(Y=>Y==="true"),B=ot(E.element),H=qc(B);w.onAction(b,{name:k.name,value:k.value}),qc(B).fold(O,K=>{L(K)||H.exists(Y=>xs(K,Y)&&L(Y))?O():c().toOptional().filter(Y=>!xs(Y.element,K)).each(O)})}),d(fR,(b,w,k)=>{w.onTabChange(b,{newTabName:k.name,oldTabName:k.oldName})}),Eu(b=>{const w=o();nt.setValue(b,w.getData())})]},Pz=(o,a)=>{const c=a.map(b=>b.footerButtons).getOr([]),d=Vr(c,b=>b.align==="start"),h=(b,w)=>Cd.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${b}`]},components:bt(w,k=>k.memento.asSpec())});return[h("start",d.pass),h("end",d.fail)]},fB=(o,a,c)=>({dom:Rm('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Ft([Kl.config({channel:`${UR}-${a}`,initialData:o,updateState:(d,h)=>{const b=bt(h.buttons,w=>{const k=tr(((E,O)=>_v(E,E.type,O))(w,c));return{name:w.name,align:w.align,memento:k}});return R.some({lookupByName:w=>((k,E,O)=>J(E,L=>L.name===O).bind(L=>L.memento.getOpt(k)))(d,b,w),footerButtons:b})},renderComponents:Pz})])}),hT=(o,a,c)=>ys.parts.footer(fB(o,a,c)),ew=(o,a)=>{if(o.getRoot().getSystem().isConnected()){const c=Vo.getCurrent(o.getFormWrapper()).getOr(o.getFormWrapper());return gp.getField(c,a).orThunk(()=>o.getFooter().bind(h=>Kl.getState(h).get()).bind(h=>h.lookupByName(a)))}return R.none()},mB=(o,a,c)=>{const d=b=>{const w=o.getRoot();w.getSystem().isConnected()&&b(w)},h={getData:()=>{const b=o.getRoot(),w=b.getSystem().isConnected()?o.getFormWrapper():b;return{...nt.getValue(w),...En(c,k=>k.get())}},setData:b=>{d(w=>{const k=h.getData(),E=yr(k,b),O=((B,H)=>{const K=B.getRoot();return Kl.getState(K).get().map(Y=>wi(is("data",Y.dataValidator,H))).getOr(H)})(o,E),L=o.getFormWrapper();nt.setValue(L,O),Cn(c,(B,H)=>{po(E,H)&&B.set(E[H])})})},setEnabled:(b,w)=>{ew(o,b).each(w?Kn.enable:Kn.disable)},focus:b=>{ew(o,b).each(Zn.focus)},block:b=>{if(!p(b))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");d(w=>{Sn(w,C3,{message:b})})},unblock:()=>{d(b=>{go(b,_3)})},showTab:b=>{d(w=>{const k=o.getBody();Kl.getState(k).get().exists(E=>E.isTabPanel())&&Vo.getCurrent(k).each(E=>{Bv.showTab(E,b)})})},redial:b=>{d(w=>{const k=o.getId(),E=a(b),O=Q2(E.internalDialog.buttons,c);w.getSystem().broadcastOn([`${hp}-${k}`],E),w.getSystem().broadcastOn([`${oA}-${k}`],E.internalDialog),w.getSystem().broadcastOn([`${$R}-${k}`],E.internalDialog),w.getSystem().broadcastOn([`${UR}-${k}`],{...E.internalDialog,buttons:O}),h.setData(E.initialData)})},close:()=>{d(b=>{go(b,dp)})},toggleFullscreen:o.toggleFullscreen};return h},gB=(o,a,c,d=!1,h)=>{const b=fn("dialog"),w=fn("dialog-label"),k=fn("dialog-content"),E=o.internalDialog,O=Dn(E.size),L=J2(O.get()).toArray(),B=tr(((ye,_e,Fe,Xe)=>Cd.sketch({dom:Rm('<div class="tox-dialog__header"></div>'),components:[cT(ye,_e,R.some(Fe),Xe),uT(),rB(Xe)],containerBehaviours:Ft([E0.config({mode:"mouse",blockerClass:"blocker",getTarget:_t=>Tu(_t,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:E.title,draggable:!0},b,w,c.shared.providers)),H=tr(((ye,_e,Fe,Xe,_t,vt)=>kS(ye,_e,R.some(Fe),Xe,_t,vt))({body:E.body,initialData:E.initialData},b,k,c,d,ye=>ew(ae,ye))),K=Q2(E.buttons),Y=uB(K),se=Uo(K.length!==0,tr(((ye,_e,Fe)=>fB(ye,_e,Fe))({buttons:K},b,c))),ce=dB(()=>me,{onBlock:ye=>{Uu.block(ie,(_e,Fe)=>{const Xe=B.getOpt(ie).map(_t=>ms(_t.element));return aB(ye.message,Fe,c.shared.providers,Xe)})},onUnblock:()=>{Uu.unblock(ie)},onClose:()=>a.closeWindow()},c.shared.getSink),be=Va().os,ie=Aa({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...L],attributes:{role:"dialog",...be.isMacOS()?{"aria-label":E.title}:{"aria-labelledby":w}}},eventOrder:{[Ll()]:[Kl.name(),al.name()],[ol()]:["execute-on-form"],[ja()]:["reflecting","execute-on-form"]},behaviours:Ft([An.config({mode:"cyclic",onEscape:ye=>(go(ye,dp),R.some(!0)),useTabstopAt:ye=>!xv(ye)&&(Ni(ye)!=="button"||wo(ye,"disabled")!=="disabled"),firstTabstop:1}),Kl.config({channel:`${hp}-${b}`,updateState:(ye,_e)=>(O.set(_e.internalDialog.size),mT(_e.internalDialog.size,ye),h(),R.some(_e)),initialData:o}),Zn.config({}),uo("execute-on-form",ce.concat([nf(Jo(),(ye,_e)=>{An.focusIn(ye)}),xt(i1(),(ye,_e)=>{ye.getSystem().broadcastOn([F_],{newFocus:_e.event.newFocus})})])),Uu.config({getRoot:()=>R.some(ie)}),zn.config({}),_2({})]),components:[B.asSpec(),H.asSpec(),...se.map(ye=>ye.asSpec()).toArray()]}),ae={getId:re(b),getRoot:re(ie),getFooter:()=>se.map(ye=>ye.get(ie)),getBody:()=>H.get(ie),getFormWrapper:()=>{const ye=H.get(ie);return Vo.getCurrent(ye).getOr(ye)},toggleFullscreen:()=>{lB(ie,O.get())}},me=mB(ae,a.redial,Y);return{dialog:ie,instanceApi:me}};var pT=tinymce.util.Tools.resolve("tinymce.util.URI");const Lz=["insertContent","setContent","execCommand","close","block","unblock"],bT=o=>x(o)&&Lz.indexOf(o.mceAction)!==-1,Fz=(o,a,c,d)=>{const h=fn("dialog"),b=sB(o.title,h,d),w=(be=>{const ie={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[tA(R.none(),{dom:{tag:"iframe",attributes:{src:be.url}},behaviours:Ft([Dr.config({}),Zn.config({})])})]}],behaviours:Ft([An.config({mode:"acyclic",useTabstopAt:$e(xv)})])};return ys.parts.body(ie)})(o),k=o.buttons.bind(be=>be.length===0?R.none():R.some(hT({buttons:be},h,d))),E=((be,ie)=>{const ae=(ye,_e)=>xt(ye,(Fe,Xe)=>{me(Fe,(_t,vt)=>{_e(ce,_t,Xe.event,Fe)})}),me=(ye,_e)=>{Kl.getState(ye).get().each(Fe=>{_e(Fe,ye)})};return[...gT(ae,ie),ae(Af,(ye,_e,Fe)=>{_e.onAction(ye,{name:Fe.name})})]})(0,iB(()=>se,d.shared.providers,a)),O={...o.height.fold(()=>({}),be=>({height:be+"px","max-height":be+"px"})),...o.width.fold(()=>({}),be=>({width:be+"px","max-width":be+"px"}))},L=o.width.isNone()&&o.height.isNone()?["tox-dialog--width-lg"]:[],B=new pT(o.url,{base_uri:new pT(window.location.href)}),H=`${B.protocol}://${B.host}${B.port?":"+B.port:""}`,K=oc(),Y=[Kl.config({channel:`${hp}-${h}`,updateState:(be,ie)=>R.some(ie),initialData:o}),uo("messages",[Ur(()=>{const be=Ei(Qt(window),"message",ie=>{if(B.isSameOrigin(new pT(ie.raw.origin))){const ae=ie.raw.data;bT(ae)?((me,ye,_e)=>{switch(_e.mceAction){case"insertContent":me.insertContent(_e.content);break;case"setContent":me.setContent(_e.content);break;case"execCommand":const Fe=!!D(_e.ui)&&_e.ui;me.execCommand(_e.cmd,Fe,_e.value);break;case"close":ye.close();break;case"block":ye.block(_e.message);break;case"unblock":ye.unblock()}})(c,ce,ae):(me=>!bT(me)&&x(me)&&po(me,"mceAction"))(ae)&&o.onMessage(ce,ae)}});K.set(be)}),Eu(K.clear)]),al.config({channels:{[rA]:{onReceive:(be,ie)=>{Yr(be.element,"iframe").each(ae=>{const me=ae.dom.contentWindow;$(me)&&me.postMessage(ie,H)})}}}})],se=cB({id:h,header:b,body:w,footer:k,extraClasses:L,extraBehaviours:Y,extraStyles:O},E,d),ce=(be=>{const ie=ae=>{be.getSystem().isConnected()&&ae(be)};return{block:ae=>{if(!p(ae))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");ie(me=>{Sn(me,C3,{message:ae})})},unblock:()=>{ie(ae=>{go(ae,_3)})},close:()=>{ie(ae=>{go(ae,dp)})},sendMessage:ae=>{ie(me=>{me.getSystem().broadcastOn([rA],ae)})}}})(se);return{dialog:se,instanceApi:ce}},vT=(o,a)=>wi(is("data",a,o)),hB=o=>bv(o,".tox-alert-dialog")||bv(o,".tox-confirm-dialog"),zz=(o,a,c)=>a&&c?[]:[Gr.config({contextual:{lazyContext:()=>R.some(js(Qt(o.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:d=>ep(o,d.element).map(h=>({bounds:tp(h),optScrollEnv:R.some({currentScrollTop:h.element.dom.scrollTop,scrollElmTop:bl(h.element).top})})).getOrThunk(()=>({bounds:_a(),optScrollEnv:R.none()}))})],Hz=o=>{const a=o.editor,c=qg(a),d=(E=>{const O=E.shared;return{open:(L,B)=>{const H=()=>{ys.hide(ce),B()},K=tr(_v({name:"close-alert",text:"OK",primary:!0,buttonType:R.some("primary"),align:"end",enabled:!0,icon:R.none()},"cancel",E)),Y=iT(),se=aT(H,O.providers),ce=Aa(lT({lazySink:()=>O.getSink(),header:Y2(Y,se),body:tB(L,O.providers),footer:R.some(nB(oB([],[K.asSpec()]))),onEscape:H,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[xt(eh,H)],eventOrder:{}}));ys.show(ce);const be=K.get(ce);Zn.focus(be)}}})(o.backstages.dialog),h=(E=>{const O=E.shared;return{open:(L,B)=>{const H=ae=>{ys.hide(be),B(ae)},K=tr(_v({name:"yes",text:"Yes",primary:!0,buttonType:R.some("primary"),align:"end",enabled:!0,icon:R.none()},"submit",E)),Y=_v({name:"no",text:"No",primary:!1,buttonType:R.some("secondary"),align:"end",enabled:!0,icon:R.none()},"cancel",E),se=iT(),ce=aT(()=>H(!1),O.providers),be=Aa(lT({lazySink:()=>O.getSink(),header:Y2(se,ce),body:tB(L,O.providers),footer:R.some(nB(oB([],[Y,K.asSpec()]))),onEscape:()=>H(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[xt(eh,()=>H(!1)),xt(v2,()=>H(!0))],eventOrder:{}}));ys.show(be);const ie=K.get(be);Zn.focus(ie)}}})(o.backstages.dialog),b=(E,O)=>A0.open((L,B,H)=>{const K=B,Y=((se,ce,be)=>{const ie=fn("dialog"),ae=se.internalDialog,me=sB(ae.title,ie,be),ye=Dn(ae.size),_e=J2(ye.get()).toArray(),Fe=((qn,So,zr,Xr)=>{const mo=kS(qn,So,R.none(),zr,!1,Xr);return ys.parts.body(mo)})({body:ae.body,initialData:ae.initialData},ie,be,qn=>ew(bn,qn)),Xe=Q2(ae.buttons),_t=uB(Xe),vt=Uo(Xe.length!==0,hT({buttons:Xe},ie,be)),gt=dB(()=>In,iB(()=>sn,be.shared.providers,ce),be.shared.getSink),Bt={id:ie,header:me,body:Fe,footer:vt,extraClasses:_e,extraBehaviours:[Kl.config({channel:`${hp}-${ie}`,updateState:(qn,So)=>(ye.set(So.internalDialog.size),mT(So.internalDialog.size,qn),R.some(So)),initialData:se})],extraStyles:{}},sn=cB(Bt,gt,be),bn={getId:re(ie),getRoot:re(sn),getBody:()=>ys.getBody(sn),getFooter:()=>ys.getFooter(sn),getFormWrapper:()=>{const qn=ys.getBody(sn);return Vo.getCurrent(qn).getOr(qn)},toggleFullscreen:()=>{lB(sn,ye.get())}},In=mB(bn,ce.redial,_t);return{dialog:sn,instanceApi:In}})({dataValidator:H,initialData:K,internalDialog:L},{redial:A0.redial,closeWindow:()=>{ys.hide(Y.dialog),O(Y.instanceApi)}},o.backstages.dialog);return ys.show(Y.dialog),Y.instanceApi.setData(K),Y.instanceApi},E),w=(E,O,L,B)=>A0.open((H,K,Y)=>{const se=vT(K,Y),ce=ir(),be=o.backstages.popup.shared.header.isPositionedAtTop(),ie=()=>ce.on(ye=>{os.reposition(ye),c&&be||Gr.refresh(ye)}),ae=gB({dataValidator:Y,initialData:se,internalDialog:H},{redial:A0.redial,closeWindow:()=>{ce.on(os.hide),a.off("ResizeEditor",ie),ce.clear(),L(ae.instanceApi)}},o.backstages.popup,B.ariaAttrs,ie),me=Aa(os.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:B.persistent?{event:"doNotDismissYet"}:{},...be?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Ft([uo("window-manager-inline-events",[xt(Cg(),(ye,_e)=>{go(ae.dialog,eh)})]),...zz(a,c,be)]),isExtraPart:(ye,_e)=>hB(_e)}));return ce.set(me),os.showWithinBounds(me,Hi(ae.dialog),{anchor:O},()=>{const ye=a.inline?dn():Qt(a.getContainer()),_e=js(ye);return R.some(_e)}),c&&be||(Gr.refresh(me),a.on("ResizeEditor",ie)),ae.instanceApi.setData(se),An.focusIn(ae.dialog),ae.instanceApi},E),k=(E,O,L,B)=>A0.open((H,K,Y)=>{const se=vT(K,Y),ce=ir(),be=o.backstages.popup.shared.header.isPositionedAtTop(),ie=()=>ce.on(ye=>{os.reposition(ye),Gr.refresh(ye)}),ae=gB({dataValidator:Y,initialData:se,internalDialog:H},{redial:A0.redial,closeWindow:()=>{ce.on(os.hide),a.off("ResizeEditor ScrollWindow ElementScroll",ie),ce.clear(),L(ae.instanceApi)}},o.backstages.popup,B.ariaAttrs,ie),me=Aa(os.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:B.persistent?{event:"doNotDismissYet"}:{},...be?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Ft([uo("window-manager-inline-events",[xt(Cg(),(ye,_e)=>{go(ae.dialog,eh)})]),Gr.config({contextual:{lazyContext:()=>R.some(js(Qt(a.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:ye=>ep(a,ye.element).map(_e=>({bounds:tp(_e),optScrollEnv:R.some({currentScrollTop:_e.element.dom.scrollTop,scrollElmTop:bl(_e.element).top})})).getOrThunk(()=>({bounds:_a(),optScrollEnv:R.none()}))})]),isExtraPart:(ye,_e)=>hB(_e)}));return ce.set(me),os.showWithinBounds(me,Hi(ae.dialog),{anchor:O},()=>o.backstages.popup.shared.getSink().toOptional().bind(ye=>{const _e=ep(a,ye.element).map(_t=>tp(_t)).getOr(_a()),Fe=js(Qt(a.getContentAreaContainer())),Xe=nd(Fe,_e);return R.some(bo(Xe.x,Xe.y,Xe.width,Xe.height-15))})),Gr.refresh(me),a.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",ie),ae.instanceApi.setData(se),An.focusIn(ae.dialog),ae.instanceApi},E);return{open:(E,O,L)=>{if(!z(O)){if(O.inline==="toolbar")return w(E,o.backstages.popup.shared.anchors.inlineDialog(),L,O);if(O.inline==="bottom")return k(E,o.backstages.popup.shared.anchors.inlineBottomDialog(),L,O);if(O.inline==="cursor")return w(E,o.backstages.popup.shared.anchors.cursor(),L,O)}return b(E,L)},openUrl:(E,O)=>((L,B)=>A0.openUrl(H=>{const K=Fz(H,{closeWindow:()=>{ys.hide(K.dialog),B(K.instanceApi)}},a,o.backstages.dialog);return ys.show(K.dialog),K.instanceApi},L))(E,O),alert:(E,O)=>{d.open(E,O)},close:E=>{E.close()},confirm:(E,O)=>{h.open(E,O)}}};_h.add("silver",o=>{(k=>{w5(k),(E=>{const O=E.options.register,L=H=>ve(H,p)?{value:a7(H),valid:!0}:{valid:!1,message:"Must be an array of strings."},B=H=>Q(H)&&H>0?{value:H,valid:!0}:{valid:!1,message:"Must be a positive number."};O("color_map",{processor:L,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),O("color_map_background",{processor:L}),O("color_map_foreground",{processor:L}),O("color_cols",{processor:B,default:a_(E)}),O("color_cols_foreground",{processor:B,default:UD(E,t3)}),O("color_cols_background",{processor:B,default:UD(E,n3)}),O("custom_colors",{processor:"boolean",default:!0}),O("color_default_foreground",{processor:"string",default:d2}),O("color_default_background",{processor:"string",default:d2})})(k),(E=>{const O=E.options.register;O("contextmenu_avoid_overlap",{processor:"string",default:""}),O("contextmenu_never_use_native",{processor:"boolean",default:!1}),O("contextmenu",{processor:L=>L===!1?{value:[],valid:!0}:p(L)||ve(L,p)?{value:F6(L),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(k)})(o);let a=()=>_a();const{dialogs:c,popups:d,renderUI:h}=qF(o,{getPopupSinkBounds:()=>a()});lR(o,d.backstage.shared);const b=Hz({editor:o,backstages:{popup:d.backstage,dialog:c.backstage}}),w=ir();return{renderUI:()=>{const k=h();return ep(o,d.getMothership().element).each(E=>{a=()=>tp(E)}),k},getWindowManagerImpl:re(b),getNotificationManagerImpl:()=>q5(o,{backstage:d.backstage},d.getMothership(),w)}})})();(function(){var r=tinymce.util.Tools.resolve("tinymce.ModelManager");const i=y=>_=>(T=>{const M=typeof T;return T===null?"null":M==="object"&&Array.isArray(T)?"array":M==="object"&&(V=U=T,(ee=String).prototype.isPrototypeOf(V)||((ne=U.constructor)===null||ne===void 0?void 0:ne.name)===ee.name)?"string":M;var V,U,ee,ne})(_)===y,u=y=>_=>typeof _===y,m=y=>_=>y===_,v=i("string"),p=i("object"),x=i("array"),S=m(null),P=u("boolean"),N=m(void 0),D=y=>!(_=>_==null)(y),z=u("function"),W=u("number"),$=()=>{},G=y=>()=>y,Q=y=>y,ve=(y,_)=>y===_;function de(y,..._){return(...T)=>{const M=_.concat(T);return y.apply(null,M)}}const Pe=y=>_=>!y(_),Ie=y=>y(),re=G(!1),Oe=G(!0);class oe{constructor(_,T){this.tag=_,this.value=T}static some(_){return new oe(!0,_)}static none(){return oe.singletonNone}fold(_,T){return this.tag?T(this.value):_()}isSome(){return this.tag}isNone(){return!this.tag}map(_){return this.tag?oe.some(_(this.value)):oe.none()}bind(_){return this.tag?_(this.value):oe.none()}exists(_){return this.tag&&_(this.value)}forall(_){return!this.tag||_(this.value)}filter(_){return!this.tag||_(this.value)?this:oe.none()}getOr(_){return this.tag?this.value:_}or(_){return this.tag?this:_}getOrThunk(_){return this.tag?this.value:_()}orThunk(_){return this.tag?this:_()}getOrDie(_){if(this.tag)return this.value;throw new Error(_??"Called getOrDie on None")}static from(_){return D(_)?oe.some(_):oe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(_){this.tag&&_(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}oe.singletonNone=new oe(!1);const Ge=Array.prototype.slice,$e=Array.prototype.indexOf,Ze=Array.prototype.push,rt=(y,_)=>{return T=y,M=_,$e.call(T,M)>-1;var T,M},Ce=(y,_)=>{for(let T=0,M=y.length;T<M;T++)if(_(y[T],T))return!0;return!1},Re=(y,_)=>{const T=[];for(let M=0;M<y;M++)T.push(_(M));return T},R=(y,_)=>{const T=y.length,M=new Array(T);for(let V=0;V<T;V++){const U=y[V];M[V]=_(U,V)}return M},yt=(y,_)=>{for(let T=0,M=y.length;T<M;T++)_(y[T],T)},Pt=(y,_)=>{const T=[],M=[];for(let V=0,U=y.length;V<U;V++){const ee=y[V];(_(ee,V)?T:M).push(ee)}return{pass:T,fail:M}},ln=(y,_)=>{const T=[];for(let M=0,V=y.length;M<V;M++){const U=y[M];_(U,M)&&T.push(U)}return T},gn=(y,_,T)=>(((M,V)=>{for(let U=M.length-1;U>=0;U--)V(M[U],U)})(y,(M,V)=>{T=_(T,M,V)}),T),Qe=(y,_,T)=>(yt(y,(M,V)=>{T=_(T,M,V)}),T),On=(y,_)=>((T,M,V)=>{for(let U=0,ee=T.length;U<ee;U++){const ne=T[U];if(M(ne,U))return oe.some(ne);if(V(ne,U))break}return oe.none()})(y,_,re),nr=(y,_)=>{for(let T=0,M=y.length;T<M;T++)if(_(y[T],T))return oe.some(T);return oe.none()},pt=y=>{const _=[];for(let T=0,M=y.length;T<M;++T){if(!x(y[T]))throw new Error("Arr.flatten item "+T+" was not an array, input: "+y);Ze.apply(_,y[T])}return _},bt=(y,_)=>pt(R(y,_)),Zt=(y,_)=>{for(let T=0,M=y.length;T<M;++T)if(_(y[T],T)!==!0)return!1;return!0},Vr=(y,_)=>{const T={};for(let M=0,V=y.length;M<V;M++){const U=y[M];T[String(U)]=_(U,M)}return T},ho=(y,_)=>_>=0&&_<y.length?oe.some(y[_]):oe.none(),xn=y=>ho(y,0),Rn=y=>ho(y,y.length-1),J=(y,_)=>{for(let T=0;T<y.length;T++){const M=_(y[T],T);if(M.isSome())return M}return oe.none()},sr=Object.keys,br=Object.hasOwnProperty,Ko=(y,_)=>{const T=sr(y);for(let M=0,V=T.length;M<V;M++){const U=T[M];_(y[U],U)}},oi=(y,_)=>Ke(y,(T,M)=>({k:M,v:_(T,M)})),Ke=(y,_)=>{const T={};return Ko(y,(M,V)=>{const U=_(M,V);T[U.k]=U.v}),T},le=(y,_)=>{const T=[];return Ko(y,(M,V)=>{T.push(_(M,V))}),T},xe=y=>le(y,Q),Me=(y,_)=>br.call(y,_),ge=typeof window<"u"?window:Function("return this;")(),St=(y,_)=>((T,M)=>{let V=M??ge;for(let U=0;U<T.length&&V!=null;++U)V=V[T[U]];return V})(y.split("."),_),$t=Object.getPrototypeOf,Ct=y=>{const _=St("ownerDocument.defaultView",y);return p(y)&&((T=>((M,V)=>{const U=((ee,ne)=>St(ee,ne))(M,V);if(U==null)throw new Error(M+" not available on this browser");return U})("HTMLElement",T))(_).prototype.isPrototypeOf(y)||/^HTML\w*Element$/.test($t(y).constructor.name))},zt=y=>y.dom.nodeName.toLowerCase(),It=y=>y.dom.nodeType,on=y=>_=>It(_)===y,wn=y=>It(y)===8||zt(y)==="#comment",Cn=y=>En(y)&&Ct(y.dom),En=on(1),ao=on(3),vo=on(9),Ao=on(11),Oo=y=>_=>En(_)&&zt(_)===y,Es=(y,_,T)=>{if(!(v(T)||P(T)||W(T)))throw console.error("Invalid call to Attribute.set. Key ",_,":: Value ",T,":: Element ",y),new Error("Attribute value was not simple");y.setAttribute(_,T+"")},ur=(y,_,T)=>{Es(y.dom,_,T)},bi=(y,_)=>{const T=y.dom;Ko(_,(M,V)=>{Es(T,V,M)})},cn=(y,_)=>{const T=y.dom.getAttribute(_);return T===null?void 0:T},po=(y,_)=>oe.from(cn(y,_)),io=(y,_)=>{y.dom.removeAttribute(_)},$r=y=>Qe(y.dom.attributes,(_,T)=>(_[T.name]=T.value,_),{}),Pa=y=>{if(y==null)throw new Error("Node cannot be null or undefined");return{dom:y}},Vt={fromHtml:(y,_)=>{const T=(_||document).createElement("div");if(T.innerHTML=y,!T.hasChildNodes()||T.childNodes.length>1){const M="HTML does not have a single root node";throw console.error(M,y),new Error(M)}return Pa(T.childNodes[0])},fromTag:(y,_)=>{const T=(_||document).createElement(y);return Pa(T)},fromText:(y,_)=>{const T=(_||document).createTextNode(y);return Pa(T)},fromDom:Pa,fromPoint:(y,_,T)=>oe.from(y.dom.elementFromPoint(_,T)).map(Pa)},Ys=(y,_)=>{const T=y.dom;if(T.nodeType!==1)return!1;{const M=T;if(M.matches!==void 0)return M.matches(_);if(M.msMatchesSelector!==void 0)return M.msMatchesSelector(_);if(M.webkitMatchesSelector!==void 0)return M.webkitMatchesSelector(_);if(M.mozMatchesSelector!==void 0)return M.mozMatchesSelector(_);throw new Error("Browser lacks native selectors")}},Uo=y=>y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11||y.childElementCount===0,kl=(y,_)=>{const T=_===void 0?document:_.dom;return Uo(T)?oe.none():oe.from(T.querySelector(y)).map(Vt.fromDom)},Er=(y,_)=>y.dom===_.dom,zs=(y,_)=>{const T=y.dom,M=_.dom;return T!==M&&T.contains(M)},jf=Ys,uu=y=>Vt.fromDom(y.dom.ownerDocument),ec=y=>vo(y)?y:uu(y),Xi=y=>oe.from(y.dom.parentNode).map(Vt.fromDom),du=y=>oe.from(y.dom.parentElement).map(Vt.fromDom),dr=(y,_)=>{const T=z(_)?_:re;let M=y.dom;const V=[];for(;M.parentNode!==null&&M.parentNode!==void 0;){const U=M.parentNode,ee=Vt.fromDom(U);if(V.push(ee),T(ee)===!0)break;M=U}return V},Gn=y=>oe.from(y.dom.previousSibling).map(Vt.fromDom),El=y=>oe.from(y.dom.nextSibling).map(Vt.fromDom),ca=y=>R(y.dom.childNodes,Vt.fromDom),fu=(y,_)=>{const T=y.dom.childNodes;return oe.from(T[_]).map(Vt.fromDom)},Qt=(y,_)=>{Xi(y).each(T=>{T.dom.insertBefore(_.dom,y.dom)})},mu=(y,_)=>{El(y).fold(()=>{Xi(y).each(T=>{ts(T,_)})},T=>{Qt(T,_)})},Kf=(y,_)=>{(M=>fu(M,0))(y).fold(()=>{ts(y,_)},M=>{y.dom.insertBefore(_.dom,M.dom)})},ts=(y,_)=>{y.dom.appendChild(_.dom)},qf=(y,_)=>{Qt(y,_),ts(_,y)},Ni=(y,_)=>{yt(_,(T,M)=>{const V=M===0?y:_[M-1];mu(V,T)})},ml=(y,_)=>{yt(_,T=>{ts(y,T)})},Ji=y=>{y.dom.textContent="",yt(ca(y),_=>{jr(_)})},jr=y=>{const _=y.dom;_.parentNode!==null&&_.parentNode.removeChild(_)},ri=y=>{const _=ca(y);_.length>0&&Ni(y,_),jr(y)},gl=(y,_)=>Vt.fromDom(y.dom.cloneNode(_)),Gf=y=>gl(y,!1),Dc=y=>gl(y,!0),Rc=(y,_)=>{const T=Vt.fromTag(_),M=$r(y);return bi(T,M),T},Fd=["tfoot","thead","tbody","colgroup"],Xu=(y,_,T)=>({element:y,rowspan:_,colspan:T}),Wo=(y,_,T)=>({element:y,cells:_,section:T}),xs=(y,_,T)=>({element:y,isNew:_,isLocked:T}),Zs=(y,_,T,M)=>({element:y,cells:_,section:T,isNew:M}),Yf=y=>Vt.fromDom(y.dom.host),Ii=y=>{const _=ao(y)?y.dom.parentNode:y.dom;if(_==null||_.ownerDocument===null)return!1;const T=_.ownerDocument;return(U=>{const ee=(he=>Vt.fromDom(he.dom.getRootNode()))(U);return Ao(ne=ee)&&D(ne.dom.host)?oe.some(ee):oe.none();var ne})(Vt.fromDom(_)).fold(()=>T.body.contains(_),(M=Ii,V=Yf,U=>M(V(U))));var M,V},Nc=y=>{const _=y.dom.body;if(_==null)throw new Error("Body is not available yet");return Vt.fromDom(_)},si=(y,_)=>{let T=[];return yt(ca(y),M=>{_(M)&&(T=T.concat([M])),T=T.concat(si(M,_))}),T},ai=(y,_,T)=>((M,V,U)=>ln(dr(M,U),ee=>Ys(ee,_)))(y,0,T),Ic=(y,_)=>((T,M)=>ln(ca(T),V=>Ys(V,_)))(y),vr=(y,_)=>((T,M)=>{const V=M===void 0?document:M.dom;return Uo(V)?[]:R(V.querySelectorAll(T),Vt.fromDom)})(_,y);var Kr=(y,_,T,M,V)=>y(T,M)?oe.some(T):z(V)&&V(T)?oe.none():_(T,M,V);const Se=(y,_,T)=>{let M=y.dom;const V=z(T)?T:re;for(;M.parentNode;){M=M.parentNode;const U=Vt.fromDom(M);if(_(U))return oe.some(U);if(V(U))break}return oe.none()},Ye=(y,_,T)=>Kr((M,V)=>V(M),Se,y,_,T),De=(y,_,T)=>Se(y,M=>Ys(M,_),T),it=(y,_)=>((T,M)=>On(T.dom.childNodes,V=>{return U=Vt.fromDom(V),Ys(U,_);var U}).map(Vt.fromDom))(y),ot=(y,_)=>kl(_,y),je=(y,_,T)=>Kr((M,V)=>Ys(M,V),De,y,_,T),Lt=(y,_,T=ve)=>y.exists(M=>T(M,_)),Yt=y=>{const _=[],T=M=>{_.push(M)};for(let M=0;M<y.length;M++)y[M].each(T);return _},nn=(y,_)=>y?oe.some(_):oe.none(),dn=(y,_,T)=>_===""||y.length>=_.length&&y.substr(T,T+_.length)===_,en=(y,_,T=0,M)=>{const V=y.indexOf(_,T);return V!==-1&&(!!N(M)||V+_.length<=M)},oo=(y,_)=>dn(y,_,0),Jt=(y,_)=>dn(y,_,y.length-_.length),ar=(y=>_=>_.replace(y,""))(/^\s+|\s+$/g),wo=y=>y.length>0,Io=y=>y.style!==void 0&&z(y.style.getPropertyValue),fs=(y,_,T)=>{if(!v(T))throw console.error("Invalid call to CSS.set. Property ",_,":: Value ",T,":: Element ",y),new Error("CSS value must be a string: "+T);Io(y)&&y.style.setProperty(_,T)},fo=(y,_,T)=>{const M=y.dom;fs(M,_,T)},hl=(y,_)=>{const T=y.dom;Ko(_,(M,V)=>{fs(T,V,M)})},La=(y,_)=>{const T=y.dom,M=window.getComputedStyle(T).getPropertyValue(_);return M!==""||Ii(y)?M:Xn(T,_)},Xn=(y,_)=>Io(y)?y.style.getPropertyValue(_):"",Bi=(y,_)=>{const T=y.dom,M=Xn(T,_);return oe.from(M).filter(V=>V.length>0)},Qi=(y,_)=>{((T,M)=>{Io(T)&&T.style.removeProperty(M)})(y.dom,_),Lt(po(y,"style").map(ar),"")&&io(y,"style")},as=(y,_,T=0)=>po(y,_).map(M=>parseInt(M,10)).getOr(T),Ju=(y,_)=>as(y,_,1),As=y=>Oo("col")(y)?as(y,"span",1)>1:Ju(y,"colspan")>1,zd=(y,_)=>parseInt(La(y,_),10),pl=G(10),er=G(10),gu=(y,_)=>Xf(y,_,Oe),Xf=(y,_,T)=>bt(ca(y),M=>Ys(M,_)?T(M)?[M]:[]:Xf(M,_,T)),xh=(y,_)=>((T,M,V=re)=>V(M)?oe.none():rt(T,zt(M))?oe.some(M):De(M,T.join(","),U=>Ys(U,"table")||V(U)))(["td","th"],y,_),ms=y=>gu(y,"th,td"),tc=y=>Ys(y,"colgroup")?Ic(y,"col"):bt(Jf(y),_=>Ic(_,"col")),el=(y,_)=>je(y,"table",_),Mr=y=>gu(y,"tr"),Jf=y=>el(y).fold(G([]),_=>Ic(_,"colgroup")),bl=(y,_)=>R(y,T=>{if(zt(T)==="colgroup"){const M=R(tc(T),V=>{const U=as(V,"span",1);return Xu(V,1,U)});return Wo(T,M,"colgroup")}{const M=R(ms(T),V=>{const U=as(V,"rowspan",1),ee=as(V,"colspan",1);return Xu(V,U,ee)});return Wo(T,M,_(T))}}),Fa=y=>Xi(y).map(_=>{const T=zt(_);return(M=>rt(Fd,M))(T)?T:"tbody"}).getOr("tbody"),fg=y=>{const _=Mr(y),T=[...Jf(y),..._];return bl(T,Fa)},ua=y=>{let _,T=!1;return(...M)=>(T||(T=!0,_=y.apply(null,M)),_)},Mi=()=>za(0,0),za=(y,_)=>({major:y,minor:_}),vl={nu:za,detect:(y,_)=>{const T=String(_).toLowerCase();return y.length===0?Mi():((M,V)=>{const U=((ne,he)=>{for(let Te=0;Te<ne.length;Te++){const Ve=ne[Te];if(Ve.test(he))return Ve}})(M,V);if(!U)return{major:0,minor:0};const ee=ne=>Number(V.replace(U,"$"+ne));return za(ee(1),ee(2))})(y,T)},unknown:Mi},wh=(y,_)=>{const T=String(_).toLowerCase();return On(y,M=>M.search(T))},Co=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Bc=y=>_=>en(_,y),Qu=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:y=>en(y,"edge/")&&en(y,"chrome")&&en(y,"safari")&&en(y,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Co],search:y=>en(y,"chrome")&&!en(y,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:y=>en(y,"msie")||en(y,"trident")},{name:"Opera",versionRegexes:[Co,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Bc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Bc("firefox")},{name:"Safari",versionRegexes:[Co,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:y=>(en(y,"safari")||en(y,"mobile/"))&&en(y,"applewebkit")}],hu=[{name:"Windows",search:Bc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:y=>en(y,"iphone")||en(y,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Bc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Bc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Bc("linux"),versionRegexes:[]},{name:"Solaris",search:Bc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Bc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Bc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Up={browsers:G(Qu),oses:G(hu)},xy="Edge",J0="Chromium",Q0="Opera",Pw="Firefox",Ch="Safari",e1=y=>{const _=y.current,T=y.version,M=V=>()=>_===V;return{current:_,version:T,isEdge:M(xy),isChromium:M(J0),isIE:M("IE"),isOpera:M(Q0),isFirefox:M(Pw),isSafari:M(Ch)}},Kt=()=>e1({current:void 0,version:vl.unknown()}),Hd=e1,Vd="Windows",t1="Android",Ha="Linux",$d="macOS",mg="Solaris",wy="FreeBSD",Cy="ChromeOS",Wp=y=>{const _=y.current,T=y.version,M=V=>()=>_===V;return{current:_,version:T,isWindows:M(Vd),isiOS:M("iOS"),isAndroid:M(t1),isMacOS:M($d),isLinux:M(Ha),isSolaris:M(mg),isFreeBSD:M(wy),isChromeOS:M(Cy)}},_y=()=>Wp({current:void 0,version:vl.unknown()}),n1=Wp,Sy=y=>window.matchMedia(y).matches;let gg=ua(()=>((y,_,T)=>{const M=Up.browsers(),V=Up.oses(),U=_.bind(he=>((Te,Ve)=>J(Ve.brands,Ee=>{const Ne=Ee.brand.toLowerCase();return On(Te,Le=>{var Je;return Ne===((Je=Le.brand)===null||Je===void 0?void 0:Je.toLowerCase())}).map(Le=>({current:Le.name,version:vl.nu(parseInt(Ee.version,10),0)}))}))(M,he)).orThunk(()=>((he,Te)=>wh(he,Te).map(Ve=>{const Ee=vl.detect(Ve.versionRegexes,Te);return{current:Ve.name,version:Ee}}))(M,y)).fold(Kt,Hd),ee=((he,Te)=>wh(he,Te).map(Ve=>{const Ee=vl.detect(Ve.versionRegexes,Te);return{current:Ve.name,version:Ee}}))(V,y).fold(_y,n1),ne=((he,Te,Ve,Ee)=>{const Ne=he.isiOS()&&/ipad/i.test(Ve)===!0,Le=he.isiOS()&&!Ne,Je=he.isiOS()||he.isAndroid(),tt=Je||Ee("(pointer:coarse)"),Et=Ne||!Le&&Je&&Ee("(min-device-width:768px)"),Ot=Le||Je&&!Et,kt=Te.isSafari()&&he.isiOS()&&/safari/i.test(Ve)===!1,Rt=!Ot&&!Et&&!kt;return{isiPad:G(Ne),isiPhone:G(Le),isTablet:G(Et),isPhone:G(Ot),isTouch:G(tt),isAndroid:he.isAndroid,isiOS:he.isiOS,isWebView:G(kt),isDesktop:G(Rt)}})(ee,U,y,T);return{browser:U,os:ee,deviceType:ne}})(window.navigator.userAgent,oe.from(window.navigator.userAgentData),Sy));const o1=()=>gg(),Ud=(y,_)=>{const T=V=>{const U=_(V);if(U<=0||U===null){const ee=La(V,y);return parseFloat(ee)||0}return U},M=(V,U)=>Qe(U,(ee,ne)=>{const he=La(V,ne),Te=he===void 0?0:parseInt(he,10);return isNaN(Te)?ee:ee+Te},0);return{set:(V,U)=>{if(!W(U)&&!U.match(/^[0-9]+$/))throw new Error(y+".set accepts only positive integer values. Value was "+U);const ee=V.dom;Io(ee)&&(ee.style[y]=U+"px")},get:T,getOuter:T,aggregate:M,max:(V,U,ee)=>{const ne=M(V,ee);return U>ne?U-ne:0}}},Wd=(y,_,T)=>((M,V)=>(U=>{const ee=parseFloat(U);return isNaN(ee)?oe.none():oe.some(ee)})(M).getOr(V))(La(y,_),T),Va=Ud("width",y=>y.dom.offsetWidth),tl=y=>Va.get(y),hg=y=>Va.getOuter(y),Po=y=>((_,T)=>{const M=_.dom,V=M.getBoundingClientRect().width||M.offsetWidth;return T==="border-box"?V:((U,ee,ne,he)=>ee-Wd(U,`padding-${ne}`,0)-Wd(U,`padding-${he}`,0)-Wd(U,`border-${ne}-width`,0)-Wd(U,`border-${he}-width`,0))(_,V,"left","right")})(y,"content-box"),ed=(y,_,T)=>{const M=y.cells,V=M.slice(0,_),U=M.slice(_),ee=V.concat(T).concat(U);return vi(y,ee)},pg=(y,_,T)=>ed(y,_,[T]),bg=(y,_,T)=>{y.cells[_]=T},vi=(y,_)=>Zs(y.element,_,y.section,y.isNew),Ts=(y,_)=>y.cells[_],qr=(y,_)=>Ts(y,_).element,Ca=y=>y.cells.length,Pr=y=>{const _=Pt(y,T=>T.section==="colgroup");return{rows:_.fail,cols:_.pass}},Zd=(y,_,T)=>{const M=R(y.cells,T);return Zs(_(y.element),M,y.section,!0)},Qf="data-snooker-locked-cols",na=y=>po(y,Qf).bind(_=>oe.from(_.match(/\d+/g))).map(_=>Vr(_,Oe)),yi=y=>{const _=Qe(Pr(y).rows,(M,V)=>(yt(V.cells,(U,ee)=>{U.isLocked&&(M[ee]=!0)}),M),{}),T=le(_,(M,V)=>parseInt(V,10));return((M,V)=>{const U=Ge.call(M,0);return U.sort(void 0),U})(T)},ii=(y,_)=>y+","+_,Mc=(y,_)=>{const T=bt(y.all,M=>M.cells);return ln(T,_)},td=y=>{const _={},T=[],M=xn(y).map(Ne=>Ne.element).bind(el).bind(na).getOr({});let V=0,U=0,ee=0;const{pass:ne,fail:he}=Pt(y,Ne=>Ne.section==="colgroup");yt(he,Ne=>{const Le=[];yt(Ne.cells,Je=>{let tt=0;for(;_[ii(ee,tt)]!==void 0;)tt++;const Et=((kt,Rt)=>Me(kt,Rt)&&kt[Rt]!==void 0&&kt[Rt]!==null)(M,tt.toString()),Ot=((kt,Rt,Ut,qt,nt,mn)=>({element:kt,rowspan:Rt,colspan:Ut,row:qt,column:nt,isLocked:mn}))(Je.element,Je.rowspan,Je.colspan,ee,tt,Et);for(let kt=0;kt<Je.colspan;kt++)for(let Rt=0;Rt<Je.rowspan;Rt++){const Ut=tt+kt,qt=ii(ee+Rt,Ut);_[qt]=Ot,U=Math.max(U,Ut+1)}Le.push(Ot)}),V++,T.push(Wo(Ne.element,Le,Ne.section)),ee++});const{columns:Te,colgroups:Ve}=Rn(ne).map(Ne=>{const Le=(tt=>{const Et={};let Ot=0;return yt(tt.cells,kt=>{const Rt=kt.colspan;Re(Rt,Ut=>{const qt=Ot+Ut;Et[qt]=((nt,mn,Vn)=>({element:nt,colspan:mn,column:Vn}))(kt.element,Rt,qt)}),Ot+=Rt}),Et})(Ne);return{colgroups:[((tt,Et)=>({element:tt,columns:Et}))(Ne.element,xe(Le))],columns:Le}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((Ne,Le)=>({rows:Ne,columns:Le}))(V,U),access:_,all:T,columns:Te,colgroups:Ve}},bo=y=>{const _=fg(y);return td(_)},js=td,nl=(y,_,T)=>oe.from(y.access[ii(_,T)]),nd=(y,_,T)=>{const M=Mc(y,V=>T(_,V.element));return M.length>0?oe.some(M[0]):oe.none()},_a=Mc,Dn=y=>bt(y.all,_=>_.cells),nc=y=>xe(y.columns),oc=y=>sr(y.columns).length>0,ir=(y,_)=>oe.from(y.columns[_]),_h=(y,_=Oe)=>{const T=y.grid,M=Re(T.columns,Q),V=Re(T.rows,Q);return R(M,U=>Zp(()=>bt(V,ee=>nl(y,ee,U).filter(ne=>ne.column===U).toArray()),ee=>ee.colspan===1&&_(ee.element),()=>nl(y,0,U)))},Zp=(y,_,T)=>{const M=y();return On(M,_).orThunk(()=>oe.from(M[0]).orThunk(T)).map(V=>V.element)},od=y=>{const _=y.grid,T=Re(_.rows,Q),M=Re(_.columns,Q);return R(T,V=>Zp(()=>bt(M,U=>nl(y,V,U).filter(ee=>ee.row===V).fold(G([]),ee=>[ee])),U=>U.rowspan===1,()=>nl(y,V,0)))},_o=(y,_)=>T=>xi(T)==="rtl"?_:y,xi=y=>La(y,"direction")==="rtl"?"rtl":"ltr",Sh=Ud("height",y=>{const _=y.dom;return Ii(y)?_.getBoundingClientRect().height:_.offsetHeight}),rd=y=>Sh.get(y),jp=y=>Sh.getOuter(y),Pc=(y,_)=>({left:y,top:_,translate:(T,M)=>Pc(y+T,_+M)}),Pi=Pc,Lc=(y,_)=>y!==void 0?y:_!==void 0?_:0,jd=y=>{const _=y.dom.ownerDocument,T=_.body,M=_.defaultView,V=_.documentElement;if(T===y.dom)return Pi(T.offsetLeft,T.offsetTop);const U=Lc(M==null?void 0:M.pageYOffset,V.scrollTop),ee=Lc(M==null?void 0:M.pageXOffset,V.scrollLeft),ne=Lc(V.clientTop,T.clientTop),he=Lc(V.clientLeft,T.clientLeft);return Be(y).translate(ee-he,U-ne)},Be=y=>{const _=y.dom,T=_.ownerDocument.body;return T===_?Pi(T.offsetLeft,T.offsetTop):Ii(y)?(M=>{const V=M.getBoundingClientRect();return Pi(V.left,V.top)})(_):Pi(0,0)},em=(y,_)=>({row:y,y:_}),yr=(y,_)=>({col:y,x:_}),Kp=y=>jd(y).left+hg(y),vg=y=>jd(y).left,Fc=(y,_)=>yr(y,vg(_)),Lo=(y,_)=>yr(y,Kp(_)),$a=y=>jd(y).top,pu=(y,_)=>em(y,$a(_)),Ml=(y,_)=>em(y,$a(_)+jp(_)),bu=(y,_,T)=>{if(T.length===0)return[];const M=R(T.slice(1),(U,ee)=>U.map(ne=>y(ee,ne))),V=T[T.length-1].map(U=>_(T.length-1,U));return M.concat([V])},vu={delta:Q,positions:y=>bu(pu,Ml,y),edge:$a},Ua=_o({delta:Q,edge:vg,positions:y=>bu(Fc,Lo,y)},{delta:y=>-y,edge:Kp,positions:y=>bu(Lo,Fc,y)}),Kd={delta:(y,_)=>Ua(_).delta(y,_),positions:(y,_)=>Ua(_).positions(y,_),edge:y=>Ua(y).edge(y)},tm={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},qp=(()=>{const y="[0-9]+",_="[eE][+-]?"+y,T=V=>`(?:${V})?`,M=["Infinity",y+"\\."+T(y)+T(_),"\\."+y+T(_),y+T(_)].join("|");return new RegExp(`^([+-]?(?:${M}))(.*)$`)})(),oa=/(\d+(\.\d+)?)%/,Pn=/(\d+(\.\d+)?)px|em/,yu=Oo("col"),nm=Oo("tr"),Wa=(y,_,T)=>{const M=du(y).getOrThunk(()=>Nc(uu(y)));return _(y)/T(M)*100},xu=(y,_)=>{fo(y,"width",_+"px")},yl=(y,_)=>{fo(y,"width",_+"%")},wu=(y,_)=>{fo(y,"height",_+"px")},sd=y=>{const _=(T=>{return Wd(M=T,"height",M.dom.offsetHeight)+"px";var M})(y);return _?((T,M,V,U)=>{const ee=parseFloat(T);return Jt(T,"%")&&zt(M)!=="table"?((ne,he,Te,Ve)=>{const Ee=el(ne).map(Ne=>{const Le=Te(Ne);return Math.floor(he/100*Le)}).getOr(he);return Ve(ne,Ee),Ee})(M,ee,V,U):ee})(_,y,rd,wu):rd(y)},ra=(y,_)=>Bi(y,_).orThunk(()=>po(y,_).map(T=>T+"px")),Pl=y=>ra(y,"width"),zc=y=>Wa(y,tl,Po),om=y=>{return yu(y)?tl(y):Wd(_=y,"width",_.dom.offsetWidth);var _},r1=y=>nm(y)?rd(y):((_,T,M)=>M(_)/Ju(_,"rowspan"))(y,0,sd),Cu=(y,_,T)=>{fo(y,"width",_+T)},qd=y=>Wa(y,tl,Po)+"%",Gp=G(oa),is=Oo("col"),wi=y=>Pl(y).getOrThunk(()=>om(y)+"px"),li=y=>{return(_=y,ra(_,"height")).getOrThunk(()=>r1(y)+"px");var _},Li=(y,_,T,M,V,U)=>y.filter(M).fold(()=>U(((ee,ne)=>{if(ne<0||ne>=ee.length-1)return oe.none();const he=ee[ne].fold(()=>{const Ve=(Ee=>{const Ne=Ge.call(Ee,0);return Ne.reverse(),Ne})(ee.slice(0,ne));return J(Ve,(Ee,Ne)=>Ee.map(Le=>({value:Le,delta:Ne+1})))},Ve=>oe.some({value:Ve,delta:0})),Te=ee[ne+1].fold(()=>{const Ve=ee.slice(ne+1);return J(Ve,(Ee,Ne)=>Ee.map(Le=>({value:Le,delta:Ne+1})))},Ve=>oe.some({value:Ve,delta:1}));return he.bind(Ve=>Te.map(Ee=>{const Ne=Ee.delta+Ve.delta;return Math.abs(Ee.value-Ve.value)/Ne}))})(T,_)),ee=>V(ee)),Xs=(y,_,T,M)=>{const V=_h(y),U=oc(y)?(he=>R(nc(he),Te=>oe.from(Te.element)))(y):V,ee=[oe.some(Kd.edge(_))].concat(R(Kd.positions(V,_),he=>he.map(Te=>Te.x))),ne=Pe(As);return R(U,(he,Te)=>Li(he,Te,ee,ne,Ve=>{if((Ne=>{const Le=o1().browser,Je=Le.isChromium()||Le.isFirefox();return!is(Ne)||Je})(Ve))return T(Ve);{const Ne=(Ee=V[Te])!=null?Q(Ee):oe.none();return Li(Ne,Te,ee,ne,Le=>M(oe.some(tl(Le))),M)}var Ee},M))},kh=y=>y.map(_=>_+"px").getOr(""),Ks=(y,_,T)=>Xs(y,_,om,M=>M.getOrThunk(T.minCellWidth)),Sa=(y,_,T,M)=>{const V=od(y),U=R(y.all,ne=>oe.some(ne.element)),ee=[oe.some(vu.edge(_))].concat(R(vu.positions(V,_),ne=>ne.map(he=>he.y)));return R(U,(ne,he)=>Li(ne,he,ee,Oe,T,M))},Hc=(y,_)=>()=>Ii(y)?_(y):parseFloat(Bi(y,"width").getOr("0")),At=y=>{const _=Hc(y,M=>parseFloat(qd(M))),T=Hc(y,tl);return{width:_,pixelWidth:T,getWidths:(M,V)=>((U,ee,ne)=>Xs(U,ee,zc,he=>he.fold(()=>ne.minCellWidth(),Te=>Te/ne.pixelWidth()*100)))(M,y,V),getCellDelta:M=>M/T()*100,singleColumnWidth:(M,V)=>[100-M],minCellWidth:()=>pl()/T()*100,setElementWidth:yl,adjustTableWidth:M=>{const V=_();yl(y,V+M/100*V)},isRelative:!0,label:"percent"}},ka=y=>{const _=Hc(y,tl);return{width:_,pixelWidth:_,getWidths:(T,M)=>Ks(T,y,M),getCellDelta:Q,singleColumnWidth:(T,M)=>[Math.max(pl(),T+M)-T],minCellWidth:pl,setElementWidth:xu,adjustTableWidth:T=>{const M=_()+T;xu(y,M)},isRelative:!1,label:"pixel"}},Eh=y=>Pl(y).fold(()=>(_=>{const T=Hc(_,tl),M=G(0);return{width:T,pixelWidth:T,getWidths:(V,U)=>Ks(V,_,U),getCellDelta:M,singleColumnWidth:G([0]),minCellWidth:M,setElementWidth:$,adjustTableWidth:$,isRelative:!0,label:"none"}})(y),_=>((T,M)=>Gp().exec(M)!==null?At(T):ka(T))(y,_)),ls=ka,_u=At,Ci=(y,_,T)=>{const M=y[T].element,V=Vt.fromTag("td");ts(V,Vt.fromTag("br")),(_?ts:Kf)(M,V)},rc=((y,_)=>{const T=M=>y(M)?oe.from(M.dom.nodeValue):oe.none();return{get:M=>{if(!y(M))throw new Error("Can only get text value of a text node");return T(M).getOr("")},getOption:T,set:(M,V)=>{if(!y(M))throw new Error("Can only set raw text value of a text node");M.dom.nodeValue=V}}})(ao),rm=y=>rc.get(y),Fi=y=>rc.getOption(y),Bo=(y,_)=>rc.set(y,_),Os=y=>zt(y)==="img"?1:Fi(y).fold(()=>ca(y).length,_=>_.length),Gd=["img","br"],ws=y=>Fi(y).filter(_=>_.trim().length!==0||_.indexOf("")>-1).isSome()||rt(Gd,zt(y))||(_=>Cn(_)&&cn(_,"contenteditable")==="false")(y),yg=y=>((_,T)=>{const M=V=>{for(let U=0;U<V.childNodes.length;U++){const ee=Vt.fromDom(V.childNodes[U]);if(T(ee))return oe.some(ee);const ne=M(V.childNodes[U]);if(ne.isSome())return ne}return oe.none()};return M(_.dom)})(y,ws),Vc=y=>s1(y,ws),s1=(y,_)=>{const T=M=>{const V=ca(M);for(let U=V.length-1;U>=0;U--){const ee=V[U];if(_(ee))return oe.some(ee);const ne=T(ee);if(ne.isSome())return ne}return oe.none()};return T(y)},gs={scope:["row","col"]},et=y=>()=>{const _=Vt.fromTag("td",y.dom);return ts(_,Vt.fromTag("br",y.dom)),_},_i=y=>()=>Vt.fromTag("col",y.dom),Ds=y=>()=>Vt.fromTag("colgroup",y.dom),Al=y=>()=>Vt.fromTag("tr",y.dom),sc=(y,_,T)=>{const M=((V,U)=>{const ee=Rc(V,U),ne=ca(Dc(V));return ml(ee,ne),ee})(y,_);return Ko(T,(V,U)=>{V===null?io(M,U):ur(M,U,V)}),M},Hs=y=>y,Lr=(y,_,T)=>{const M=(V,U)=>{((ee,ne)=>{const he=ee.dom,Te=ne.dom;Io(he)&&Io(Te)&&(Te.style.cssText=he.style.cssText)})(V.element,U),Qi(U,"height"),V.colspan!==1&&Qi(U,"width")};return{col:V=>{const U=Vt.fromTag(zt(V.element),_.dom);return M(V,U),y(V.element,U),U},colgroup:Ds(_),row:Al(_),cell:V=>{const U=Vt.fromTag(zt(V.element),_.dom),ee=T.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),ne=ee.length>0?((he,Te,Ve)=>yg(he).map(Ee=>{const Ne=Ve.join(","),Le=ai(Ee,Ne,Je=>Er(Je,he));return gn(Le,(Je,tt)=>{const Et=Gf(tt);return ts(Je,Et),Et},Te)}).getOr(Te))(V.element,U,ee):U;return ts(ne,Vt.fromTag("br")),M(V,U),((he,Te)=>{Ko(gs,(Ve,Ee)=>po(he,Ee).filter(Ne=>rt(Ve,Ne)).each(Ne=>ur(Te,Ee,Ne)))})(V.element,U),y(V.element,U),U},replace:sc,colGap:_i(_),gap:et(_)}},fr=y=>({col:_i(y),colgroup:Ds(y),row:Al(y),cell:et(y),replace:Hs,colGap:_i(y),gap:et(y)}),Si=y=>_=>_.options.get(y),Tl="100%",$c=y=>{var _;const T=y.dom,M=(_=T.getParent(y.selection.getStart(),T.isBlock))!==null&&_!==void 0?_:y.getBody();return Po(Vt.fromDom(M))+"px"},ad=y=>oe.from(y.options.get("table_clone_elements")),sm=Si("table_header_type"),xg=Si("table_column_resizing"),wg=y=>xg(y)==="preservetable",Yp=y=>xg(y)==="resizetable",Xp=Si("table_sizing_mode"),Su=y=>Xp(y)==="relative",I=y=>Xp(y)==="fixed",Z=y=>Xp(y)==="responsive",te=Si("table_resize_bars"),Ae=Si("table_style_by_css"),He=Si("table_merge_content_on_paste"),Tt=y=>{const _=y.options,T=_.get("table_default_attributes");return _.isSet("table_default_attributes")?T:((M,V)=>Z(M)||Ae(M)?V:I(M)?{...V,width:$c(M)}:{...V,width:Tl})(y,T)},Ln=Si("table_use_colgroups"),ro=y=>je(y,"[contenteditable]"),Yn=(y,_=!1)=>Ii(y)?y.dom.isContentEditable:ro(y).fold(G(_),T=>_n(T)==="true"),_n=y=>y.dom.contentEditable,Jo=y=>Vt.fromDom(y.getBody()),Rs=y=>_=>Er(_,Jo(y)),cs=y=>{io(y,"data-mce-style");const _=T=>io(T,"data-mce-style");yt(ms(y),_),yt(tc(y),_),yt(Mr(y),_)},ac=y=>Vt.fromDom(y.selection.getStart()),am=y=>y.getBoundingClientRect().width,im=y=>y.getBoundingClientRect().height,Js=y=>(_,T)=>{const M=_.dom.getStyle(T,y)||_.dom.getAttrib(T,y);return oe.from(M).filter(wo)},Lw=Js("width"),Jp=Js("height"),a1=y=>Ye(y,Oo("table")).exists(Yn),Za=(y,_)=>{const T=_.column,M=_.column+_.colspan-1,V=_.row,U=_.row+_.rowspan-1;return T<=y.finishCol&&M>=y.startCol&&V<=y.finishRow&&U>=y.startRow},hs=(y,_)=>_.column>=y.startCol&&_.column+_.colspan-1<=y.finishCol&&_.row>=y.startRow&&_.row+_.rowspan-1<=y.finishRow,da=(y,_,T)=>{const M=nd(y,_,Er),V=nd(y,T,Er);return M.bind(U=>V.map(ee=>{return ne=U,he=ee,{startRow:Math.min(ne.row,he.row),startCol:Math.min(ne.column,he.column),finishRow:Math.max(ne.row+ne.rowspan-1,he.row+he.rowspan-1),finishCol:Math.max(ne.column+ne.colspan-1,he.column+he.colspan-1)};var ne,he}))},ku=(y,_,T)=>da(y,_,T).map(M=>{const V=_a(y,de(Za,M));return R(V,U=>U.element)}),Ah=(y,_)=>nd(y,_,(T,M)=>zs(M,T)).map(T=>T.element),ky=(y,_,T)=>{const M=ol(y);return ku(M,_,T)},Ll=(y,_,T,M,V)=>{const U=ol(y),ee=Er(y,T)?oe.some(_):Ah(U,_),ne=Er(y,V)?oe.some(M):Ah(U,M);return ee.bind(he=>ne.bind(Te=>ku(U,he,Te)))},ol=bo;var Qp=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Yd=()=>({up:G({selector:De,closest:je,predicate:Se,all:dr}),down:G({selector:vr,predicate:si}),styles:G({get:La,getRaw:Bi,set:fo,remove:Qi}),attrs:G({get:cn,set:ur,remove:io,copyTo:(y,_)=>{const T=$r(y);bi(_,T)}}),insert:G({before:Qt,after:mu,afterAll:Ni,append:ts,appendAll:ml,prepend:Kf,wrap:qf}),remove:G({unwrap:ri,remove:jr}),create:G({nu:Vt.fromTag,clone:y=>Vt.fromDom(y.dom.cloneNode(!1)),text:Vt.fromText}),query:G({comparePosition:(y,_)=>y.dom.compareDocumentPosition(_.dom),prevSibling:Gn,nextSibling:El}),property:G({children:ca,name:zt,parent:Xi,document:y=>ec(y).dom,isText:ao,isComment:wn,isElement:En,isSpecial:y=>{const _=zt(y);return rt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],_)},getLanguage:y=>En(y)?po(y,"lang"):oe.none(),getText:rm,setText:Bo,isBoundary:y=>!!En(y)&&(zt(y)==="body"||rt(Qp,zt(y))),isEmptyTag:y=>!!En(y)&&rt(["br","img","hr","input"],zt(y)),isNonEditable:y=>En(y)&&cn(y,"contenteditable")==="false"}),eq:Er,is:jf});const gk=(y,_,T,M)=>{const V=_(y,T);return gn(M,(U,ee)=>{const ne=_(y,ee);return eb(y,U,ne)},V)},eb=(y,_,T)=>_.bind(M=>T.filter(de(y.eq,M))),id=Yd(),Xd=(y,_)=>((T,M,V)=>V.length>0?((U,ee,ne,he)=>he(U,ee,ne[0],ne.slice(1)))(T,M,V,gk):oe.none())(id,(T,M)=>y(M),_),yn=y=>De(y,"table"),Uc=(y,_,T)=>{const M=V=>U=>T!==void 0&&T(U)||Er(U,V);return Er(y,_)?oe.some({boxes:oe.some([y]),start:y,finish:_}):yn(y).bind(V=>yn(_).bind(U=>{if(Er(V,U))return oe.some({boxes:ky(V,y,_),start:y,finish:_});if(zs(V,U)){const ee=ai(_,"td,th",M(V)),ne=ee.length>0?ee[ee.length-1]:_;return oe.some({boxes:Ll(V,y,V,_,U),start:y,finish:ne})}if(zs(U,V)){const ee=ai(y,"td,th",M(U)),ne=ee.length>0?ee[ee.length-1]:y;return oe.some({boxes:Ll(U,y,V,_,U),start:y,finish:ne})}return((ee,ne,he)=>((Te,Ve,Ee,Ne=re)=>{const Le=[Ve].concat(Te.up().all(Ve)),Je=[Ee].concat(Te.up().all(Ee)),tt=Rt=>nr(Rt,Ne).fold(()=>Rt,Ut=>Rt.slice(0,Ut+1)),Et=tt(Le),Ot=tt(Je),kt=On(Et,Rt=>Ce(Ot,((Ut,qt)=>de(Ut.eq,qt))(Te,Rt)));return{firstpath:Et,secondpath:Ot,shared:kt}})(id,ee,ne,void 0))(y,_).shared.bind(ee=>je(ee,"table",T).bind(ne=>{const he=ai(_,"td,th",M(ne)),Te=he.length>0?he[he.length-1]:_,Ve=ai(y,"td,th",M(ne)),Ee=Ve.length>0?Ve[Ve.length-1]:y;return oe.some({boxes:Ll(ne,y,V,_,U),start:Ee,finish:Te})}))}))},tb=(y,_)=>{const T=vr(y,_);return T.length>0?oe.some(T):oe.none()},Jd=(y,_,T)=>ot(y,_).bind(M=>ot(y,T).bind(V=>Xd(yn,[M,V]).map(U=>({first:M,last:V,table:U})))),ja=(y,_,T,M,V)=>((U,ee)=>On(U,ne=>Ys(ne,ee)))(y,V).bind(U=>((ee,ne,he)=>el(ee).bind(Te=>((Ve,Ee,Ne,Le)=>nd(Ve,Ee,Er).bind(Je=>{const tt=Ne>0?Je.row+Je.rowspan-1:Je.row,Et=Le>0?Je.column+Je.colspan-1:Je.column;return nl(Ve,tt+Ne,Et+Le).map(Ot=>Ot.element)}))(ol(Te),ee,ne,he)))(U,_,T).bind(ee=>((ne,he)=>De(ne,"table").bind(Te=>ot(Te,he).bind(Ve=>Uc(Ve,ne).bind(Ee=>Ee.boxes.map(Ne=>({boxes:Ne,start:Ee.start,finish:Ee.finish}))))))(ee,M))),ic=(y,_)=>tb(y,_),Cg=(y,_,T)=>Jd(y,_,T).bind(M=>{const V=he=>Er(y,he),U="thead,tfoot,tbody,table",ee=De(M.first,U,V),ne=De(M.last,U,V);return ee.bind(he=>ne.bind(Te=>Er(he,Te)?((Ve,Ee,Ne)=>((Le,Je,tt)=>da(Le,Je,tt).bind(Et=>((Ot,kt)=>{let Rt=!0;const Ut=de(hs,kt);for(let qt=kt.startRow;qt<=kt.finishRow;qt++)for(let nt=kt.startCol;nt<=kt.finishCol;nt++)Rt=Rt&&nl(Ot,qt,nt).exists(Ut);return Rt?oe.some(kt):oe.none()})(Le,Et)))(ol(Ve),Ee,Ne))(M.table,M.first,M.last):oe.none()))}),Qd=Q,i1=y=>{const _=(T,M)=>po(T,M).exists(V=>parseInt(V,10)>1);return y.length>0&&Zt(y,T=>_(T,"rowspan")||_(T,"colspan"))?oe.some(y):oe.none()},Wc=(y,_,T)=>_.length<=1?oe.none():Cg(y,T.firstSelectedSelector,T.lastSelectedSelector).map(M=>({bounds:M,cells:_})),Th="data-mce-selected",Oh="data-mce-first-selected",Mt="data-mce-last-selected",Ey="["+Th+"]",ef={selected:Th,selectedSelector:"td["+Th+"],th["+Th+"]",firstSelected:Oh,firstSelectedSelector:"td["+Oh+"],th["+Oh+"]",lastSelected:Mt,lastSelectedSelector:"td["+Mt+"],th["+Mt+"]"},go=(y,_,T)=>({element:T,mergable:Wc(_,y,ef),unmergable:i1(y),selection:Qd(y)}),Sn=y=>(_,T)=>{const M=zt(_),V=M==="col"||M==="colgroup"?el(U=_).bind(ee=>ic(ee,ef.firstSelectedSelector)).fold(G(U),ee=>ee[0]):_;var U;return je(V,y,T)},tf=Sn("th,td,caption"),ns=Sn("th,td"),lc=y=>{return _=y.model.table.getSelectedCells(),R(_,Vt.fromDom);var _},cc=(y,_)=>{y.on("BeforeGetContent",T=>{const M=V=>{T.preventDefault(),(U=>el(U[0]).map(ee=>{const ne=((he,Te)=>{const Ve=Rt=>Ys(Rt.element,Te),Ee=Dc(he),Ne=fg(Ee),Le=Eh(he),Je=js(Ne),tt=((Rt,Ut)=>{const qt=Rt.grid.columns;let nt=Rt.grid.rows,mn=qt,Vn=0,co=0;const jn=[],$n=[];return Ko(Rt.access,lo=>{if(jn.push(lo),Ut(lo)){$n.push(lo);const Mo=lo.row,$s=Mo+lo.rowspan-1,ui=lo.column,Ta=ui+lo.colspan-1;Mo<nt?nt=Mo:$s>Vn&&(Vn=$s),ui<mn?mn=ui:Ta>co&&(co=Ta)}}),((lo,Mo,$s,ui,Ta,Vl)=>({minRow:lo,minCol:Mo,maxRow:$s,maxCol:ui,allCells:Ta,selectedCells:Vl}))(nt,mn,Vn,co,jn,$n)})(Je,Ve),Et="th:not("+Te+"),td:not("+Te+")",Ot=Xf(Ee,"th,td",Rt=>Ys(Rt,Et));yt(Ot,jr),((Rt,Ut,qt,nt)=>{const mn=ln(Rt,jn=>jn.section!=="colgroup"),Vn=Ut.grid.columns,co=Ut.grid.rows;for(let jn=0;jn<co;jn++){let $n=!1;for(let lo=0;lo<Vn;lo++)jn<qt.minRow||jn>qt.maxRow||lo<qt.minCol||lo>qt.maxCol||(nl(Ut,jn,lo).filter(nt).isNone()?Ci(mn,$n,jn):$n=!0)}})(Ne,Je,tt,Ve);const kt=((Rt,Ut,qt,nt)=>{if(nt.minCol===0&&Ut.grid.columns===nt.maxCol+1)return 0;const mn=Ks(Ut,Rt,qt),Vn=Qe(mn,($n,lo)=>$n+lo,0),co=Qe(mn.slice(nt.minCol,nt.maxCol+1),($n,lo)=>$n+lo,0),jn=co/Vn*qt.pixelWidth()-qt.pixelWidth();return qt.getCellDelta(jn)})(he,bo(he),Le,tt);return((Rt,Ut,qt,nt)=>{Ko(qt.columns,Vn=>{(Vn.column<Ut.minCol||Vn.column>Ut.maxCol)&&jr(Vn.element)});const mn=ln(gu(Rt,"tr"),Vn=>Vn.dom.childElementCount===0);yt(mn,jr),Ut.minCol!==Ut.maxCol&&Ut.minRow!==Ut.maxRow||yt(gu(Rt,"th,td"),Vn=>{io(Vn,"rowspan"),io(Vn,"colspan")}),io(Rt,Qf),io(Rt,"data-snooker-col-series"),Eh(Rt).adjustTableWidth(nt)})(Ee,tt,Je,kt),Ee})(ee,Ey);return cs(ne),[ne]}))(V).each(U=>{T.content=T.format==="text"?(ee=>R(ee,ne=>ne.dom.innerText).join(""))(U):((ee,ne)=>R(ne,he=>ee.selection.serializer.serialize(he.dom,{})).join(""))(y,U)})};if(T.selection===!0){const V=(U=>ln(lc(U),ee=>Ys(ee,ef.selectedSelector)))(y);V.length>=1&&M(V)}}),y.on("BeforeSetContent",T=>{if(T.selection===!0&&T.paste===!0){const M=lc(y);xn(M).each(V=>{el(V).each(U=>{const ee=ln(((he,Te)=>{const Ve=document.createElement("div");return Ve.innerHTML=he,ca(Vt.fromDom(Ve))})(T.content),he=>zt(he)!=="meta"),ne=Oo("table");if(He(y)&&ee.length===1&&ne(ee[0])){T.preventDefault();const he=Vt.fromDom(y.getDoc()),Te=fr(he),Ve=((Ee,Ne,Le)=>({element:Ee,clipboard:Ne,generators:Le}))(V,ee[0],Te);_.pasteCells(U,Ve).each(()=>{y.focus()})}})})}})},eo=(y,_)=>({element:y,offset:_}),Dh=(y,_,T)=>y.property().isText(_)&&y.property().getText(_).trim().length===0||y.property().isComment(_)?T(_).bind(M=>Dh(y,M,T).orThunk(()=>oe.some(M))):oe.none(),Fw=(y,_)=>y.property().isText(_)?y.property().getText(_).length:y.property().children(_).length,xt=(y,_)=>{const T=Dh(y,_,y.query().prevSibling).getOr(_);if(y.property().isText(T))return eo(T,Fw(y,T));const M=y.property().children(T);return M.length>0?xt(y,M[M.length-1]):eo(T,Fw(y,T))},Ay=xt,Rh=Yd(),Nh=(y,_)=>{As(y)||(M=>Pl(M).bind(V=>{return U=V,ee=["fixed","relative","empty"],oe.from(qp.exec(U)).bind(ne=>{const he=Number(ne[1]),Te=ne[2];return((Ve,Ee)=>Ce(Ee,Ne=>Ce(tm[Ne],Le=>Ve===Le)))(Te,ee)?oe.some({value:he,unit:Te}):oe.none()});var U,ee}))(y).each(M=>{const V=M.value/2;Cu(y,V,M.unit),Cu(_,V,M.unit)})},_g=y=>R(y,G(0)),lm=(y,_,T,M,V)=>V(y.slice(0,_)).concat(M).concat(V(y.slice(T))),zw=y=>(_,T,M,V)=>{if(y(M)){const U=Math.max(V,_[T]-Math.abs(M)),ee=Math.abs(U-_[T]);return M>=0?ee:-ee}return M},nf=zw(y=>y<0),Ur=zw(Oe),Eu=()=>{const y=(T,M,V,U)=>{const ee=(100+V)/100,ne=Math.max(U,(T[M]+V)/ee);return R(T,(he,Te)=>(Te===M?ne:he/ee)-he)},_=(T,M,V,U,ee,ne)=>ne?y(T,M,U,ee):((he,Te,Ve,Ee,Ne)=>{const Le=nf(he,Te,Ee,Ne);return lm(he,Te,Ve+1,[Le,0],_g)})(T,M,V,U,ee);return{resizeTable:(T,M)=>T(M),clampTableDelta:nf,calcLeftEdgeDeltas:_,calcMiddleDeltas:(T,M,V,U,ee,ne,he)=>_(T,V,U,ee,ne,he),calcRightEdgeDeltas:(T,M,V,U,ee,ne)=>{if(ne)return y(T,V,U,ee);{const he=nf(T,V,U,ee);return _g(T.slice(0,V)).concat([he])}},calcRedestributedWidths:(T,M,V,U)=>{if(U){const ee=(M+V)/M,ne=R(T,he=>he/ee);return{delta:100*ee-100,newSizes:ne}}return{delta:V,newSizes:T}}}},l1=()=>{const y=(_,T,M,V,U)=>{const ee=Ur(_,V>=0?M:T,V,U);return lm(_,T,M+1,[ee,-ee],_g)};return{resizeTable:(_,T,M)=>{M&&_(T)},clampTableDelta:(_,T,M,V,U)=>{if(U){if(M>=0)return M;{const ee=Qe(_,(ne,he)=>ne+he-V,0);return Math.max(-ee,M)}}return nf(_,T,M,V)},calcLeftEdgeDeltas:y,calcMiddleDeltas:(_,T,M,V,U,ee)=>y(_,M,V,U,ee),calcRightEdgeDeltas:(_,T,M,V,U,ee)=>{if(ee)return _g(_);{const ne=V/_.length;return R(_,G(ne))}},calcRedestributedWidths:(_,T,M,V)=>({delta:0,newSizes:_})}},Zc=y=>bo(y).grid,cm=Oo("th"),Fl=y=>Zt(y,_=>cm(_.element)),Ns=(y,_)=>y&&_?"sectionCells":y?"section":"cells",nb=y=>{const _=y.section==="thead",T=Lt(fa(y.cells),"th");return y.section==="tfoot"?{type:"footer"}:_||T?{type:"header",subType:Ns(_,T)}:{type:"body"}},fa=y=>{const _=ln(y,T=>cm(T.element));return _.length===0?oe.some("td"):_.length===y.length?oe.some("th"):oe.none()},c1=(y,_,T)=>xs(T(y.element,_),!0,y.isLocked),uc=(y,_)=>y.section!==_?Zs(y.element,y.cells,_,y.isNew):y,ma=()=>({transformRow:uc,transformCell:(y,_,T)=>{const M=T(y.element,_),V=zt(M)!=="td"?((U,ee)=>{const ne=Rc(U,"td");mu(U,ne);const he=ca(U);return ml(ne,he),jr(U),ne})(M):M;return xs(V,y.isNew,y.isLocked)}}),Ft=()=>({transformRow:uc,transformCell:c1}),um=()=>({transformRow:(y,_)=>uc(y,_==="thead"?"tbody":_),transformCell:c1}),ga=ma,Hw=Ft,Vw=um,hk=()=>({transformRow:Q,transformCell:c1}),ld=(y,_,T,M)=>{T===M?io(y,_):ur(y,_,T)},Sg=(y,_,T)=>{Rn(Ic(y,_)).fold(()=>Kf(y,T),M=>mu(M,T))},ob=(y,_)=>{const T=[],M=[],V=Ne=>R(Ne,Le=>{Le.isNew&&T.push(Le.element);const Je=Le.element;return Ji(Je),yt(Le.cells,tt=>{tt.isNew&&M.push(tt.element),ld(tt.element,"colspan",tt.colspan,1),ld(tt.element,"rowspan",tt.rowspan,1),ts(Je,tt.element)}),Je}),U=Ne=>bt(Ne,Le=>R(Le.cells,Je=>(ld(Je.element,"span",Je.colspan,1),Je.element))),ee=(Ne,Le)=>{const Je=((Et,Ot)=>{const kt=it(Et,Ot).getOrThunk(()=>{const Rt=Vt.fromTag(Ot,uu(Et).dom);return Ot==="thead"?Sg(Et,"caption,colgroup",Rt):Ot==="colgroup"?Sg(Et,"caption",Rt):ts(Et,Rt),Rt});return Ji(kt),kt})(y,Le),tt=(Le==="colgroup"?U:V)(Ne);ml(Je,tt)},ne=(Ne,Le)=>{Ne.length>0?ee(Ne,Le):(Je=>{it(y,Je).each(jr)})(Le)},he=[],Te=[],Ve=[],Ee=[];return yt(_,Ne=>{switch(Ne.section){case"thead":he.push(Ne);break;case"tbody":Te.push(Ne);break;case"tfoot":Ve.push(Ne);break;case"colgroup":Ee.push(Ne)}}),ne(Ee,"colgroup"),ne(he,"thead"),ne(Te,"tbody"),ne(Ve,"tfoot"),{newRows:T,newCells:M}},u1=(y,_)=>{if(y.length===0)return 0;const T=y[0];return nr(y,M=>!_(T.element,M.element)).getOr(y.length)},Ty=(y,_)=>{const T=R(y,M=>R(M.cells,re));return R(y,(M,V)=>{const U=bt(M.cells,(ee,ne)=>{if(T[V][ne]===!1){const Ne=((Le,Je,tt,Et)=>{const Ot=((qt,nt)=>qt[nt])(Le,Je),kt=Ot.section==="colgroup",Rt=u1(Ot.cells.slice(tt),Et),Ut=kt?1:u1(((qt,nt)=>R(qt,mn=>Ts(mn,nt)))(Le.slice(Je),tt),Et);return{colspan:Rt,rowspan:Ut}})(y,V,ne,_);return((Le,Je,tt,Et)=>{for(let Ot=Le;Ot<Le+tt;Ot++)for(let kt=Je;kt<Je+Et;kt++)T[Ot][kt]=!0})(V,ne,Ne.rowspan,Ne.colspan),[(he=ee.element,Te=Ne.rowspan,Ve=Ne.colspan,Ee=ee.isNew,{element:he,rowspan:Te,colspan:Ve,isNew:Ee})]}return[];var he,Te,Ve,Ee});return((ee,ne,he,Te)=>({element:ee,cells:ne,section:he,isNew:Te}))(M.element,U,M.section,M.isNew)})},us=(y,_,T)=>{const M=[];yt(y.colgroups,V=>{const U=[];for(let ee=0;ee<y.grid.columns;ee++){const ne=ir(y,ee).map(he=>xs(he.element,T,!1)).getOrThunk(()=>xs(_.colGap(),!0,!1));U.push(ne)}M.push(Zs(V.element,U,"colgroup",T))});for(let V=0;V<y.grid.rows;V++){const U=[];for(let he=0;he<y.grid.columns;he++){const Te=nl(y,V,he).map(Ve=>xs(Ve.element,T,Ve.isLocked)).getOrThunk(()=>xs(_.gap(),!0,!1));U.push(Te)}const ee=y.all[V],ne=Zs(ee.element,U,ee.section,T);M.push(ne)}return M},rb=y=>Ty(y,Er),ps=(y,_)=>J(y.all,T=>On(T.cells,M=>Er(_,M.element))),zi=(y,_,T)=>{const M=R(_.selection,U=>xh(U).bind(ee=>ps(y,ee)).filter(T)),V=Yt(M);return nn(V.length>0,V)},Is=(y,_,T,M,V)=>(U,ee,ne,he)=>{const Te=bo(U),Ve=oe.from(he==null?void 0:he.section).getOrThunk(hk);return _(Te,ee).map(Ee=>{const Ne=((tt,Et)=>us(tt,Et,!1))(Te,ne),Le=y(Ne,Ee,Er,V(ne),Ve),Je=yi(Le.grid);return{info:Ee,grid:rb(Le.grid),cursor:Le.cursor,lockedColumns:Je}}).bind(Ee=>{const Ne=ob(U,Ee.grid),Le=oe.from(he==null?void 0:he.sizing).getOrThunk(()=>Eh(U)),Je=oe.from(he==null?void 0:he.resize).getOrThunk(l1);return T(U,Ee.grid,Ee.info,{sizing:Le,resize:Je,section:Ve}),M(U),io(U,Qf),Ee.lockedColumns.length>0&&ur(U,Qf,Ee.lockedColumns.join(",")),oe.some({cursor:Ee.cursor,newRows:Ne.newRows,newCells:Ne.newCells})})},zl=(y,_)=>zi(y,_,Oe).map(T=>({cells:T,generators:_.generators,clipboard:_.clipboard})),cd=(y,_)=>zi(y,_,Oe),Ea=(y,_)=>zi(y,_,T=>!T.isLocked),sb=(y,_)=>Zt(_,T=>((M,V)=>ps(M,V).exists(U=>!U.isLocked))(y,T)),Ih=(y,_,T,M)=>{const V=Pr(y).rows;let U=!0;for(let ee=0;ee<V.length;ee++)for(let ne=0;ne<Ca(V[0]);ne++){const he=V[ee],Te=Ts(he,ne),Ve=T(Te.element,_);Ve&&!U?bg(he,ne,xs(M(),!0,Te.isLocked)):Ve&&(U=!1)}return y},of=y=>{const _=U=>U(y),T=G(y),M=()=>V,V={tag:!0,inner:y,fold:(U,ee)=>ee(y),isValue:Oe,isError:re,map:U=>Bh.value(U(y)),mapError:M,bind:_,exists:_,forall:_,getOr:T,or:M,getOrThunk:T,orThunk:M,getOrDie:T,each:U=>{U(y)},toOptional:()=>oe.some(y)};return V},$w=y=>{const _=()=>T,T={tag:!1,inner:y,fold:(V,U)=>V(y),isValue:re,isError:Oe,map:_,mapError:V=>Bh.error(V(y)),bind:_,exists:re,forall:Oe,getOr:Q,or:Q,getOrThunk:Ie,orThunk:Ie,getOrDie:(M=String(y),()=>{throw new Error(M)}),each:$,toOptional:oe.none};var M;return T},Bh={value:of,error:$w,fromOption:(y,_)=>y.fold(()=>$w(_),of)},Oy=(y,_)=>({rowDelta:0,colDelta:Ca(y[0])-Ca(_[0])}),d1=(y,_)=>({rowDelta:y.length-_.length,colDelta:0}),ab=(y,_,T,M)=>{const V=_.section==="colgroup"?T.col:T.cell;return Re(y,U=>xs(V(),!0,M(U)))},f1=(y,_,T,M)=>{const V=y[y.length-1];return y.concat(Re(_,()=>{const U=V.section==="colgroup"?T.colgroup:T.row,ee=Zd(V,U,Q),ne=ab(ee.cells.length,ee,T,he=>Me(M,he.toString()));return vi(ee,ne)}))},Dy=(y,_,T,M)=>R(y,V=>{const U=ab(_,V,T,re);return ed(V,M,U)}),dm=(y,_,T)=>{const M=_.colDelta<0?Dy:Q,V=_.rowDelta<0?f1:Q,U=yi(y),ee=Ca(y[0]),ne=Ce(U,Ve=>Ve===ee-1),he=M(y,Math.abs(_.colDelta),T,ne?ee-1:ee),Te=yi(he);return V(he,Math.abs(_.rowDelta),T,Vr(Te,Oe))},pk=(y,_,T,M)=>{const V=de(M,Ts(y[_],T).element),U=y[_];return y.length>1&&Ca(U)>1&&(T>0&&V(qr(U,T-1))||T<U.cells.length-1&&V(qr(U,T+1))||_>0&&V(qr(y[_-1],T))||_<y.length-1&&V(qr(y[_+1],T)))},m1=(y,_,T)=>ln(T,M=>M>=y.column&&M<=Ca(_[0])+y.column),g1=(y,_,T,M,V)=>{((Te,Ve,Ee,Ne)=>{Ve>0&&Ve<Te[0].cells.length&&yt(Te,Le=>{const Je=Le.cells[Ve-1];let tt=0;const Et=Ne();for(;Le.cells.length>Ve+tt&&Ee(Je.element,Le.cells[Ve+tt].element);)bg(Le,Ve+tt,xs(Et,!0,Le.cells[Ve+tt].isLocked)),tt++})})(_,y,V,M.cell);const U=d1(T,_),ee=dm(T,U,M),ne=d1(_,ee),he=dm(_,ne,M);return R(he,(Te,Ve)=>ed(Te,y,ee[Ve].cells))},Ry=(y,_,T,M,V)=>{((kt,Rt,Ut,qt)=>{const nt=Pr(kt).rows;if(Rt>0&&Rt<nt.length){const mn=((Vn,co)=>Qe(Vn,(jn,$n)=>Ce(jn,lo=>co(lo.element,$n.element))?jn:jn.concat([$n]),[]))(nt[Rt-1].cells,Ut);yt(mn,Vn=>{let co=oe.none();for(let jn=Rt;jn<nt.length;jn++)for(let $n=0;$n<Ca(nt[0]);$n++){const lo=nt[jn],Mo=Ts(lo,$n);Ut(Mo.element,Vn.element)&&(co.isNone()&&(co=oe.some(qt())),co.each($s=>{bg(lo,$n,xs($s,!0,Mo.isLocked))}))}})}})(_,y,V,M.cell);const U=yi(_),ee=Oy(_,T),ne={...ee,colDelta:ee.colDelta-U.length},he=dm(_,ne,M),{cols:Te,rows:Ve}=Pr(he),Ee=yi(he),Ne=Oy(T,_),Le={...Ne,colDelta:Ne.colDelta+Ee.length},Je=(Et=M,Ot=Ee,R(T,kt=>Qe(Ot,(Rt,Ut)=>{const qt=ab(1,kt,Et,Oe)[0];return pg(Rt,Ut,qt)},kt))),tt=dm(Je,Le,M);var Et,Ot;return[...Te,...Ve.slice(0,y),...tt,...Ve.slice(y,Ve.length)]},Ny=(y,_,T,M,V)=>{const{rows:U,cols:ee}=Pr(y),ne=U.slice(0,_),he=U.slice(_);return[...ee,...ne,((Te,Ve,Ee,Ne)=>Zd(Te,Le=>Ne(Le,Ee),Ve))(U[T],(Te,Ve)=>_>0&&_<U.length&&M(qr(U[_-1],Ve),qr(U[_],Ve))?Ts(U[_],Ve):xs(V(Te.element,M),!0,Te.isLocked),M,V),...he]},ib=(y,_,T,M,V)=>R(y,U=>{const ee=_>0&&_<Ca(U)&&M(qr(U,_-1),qr(U,_)),ne=((he,Te,Ve,Ee,Ne,Le,Je)=>{if(Ve!=="colgroup"&&Ee)return Ts(he,Te);{const tt=Ts(he,Ne);return xs(Je(tt.element,Le),!0,!1)}})(U,_,U.section,ee,T,M,V);return pg(U,_,ne)}),Iy=(y,_,T,M)=>((V,U,ee,ne)=>qr(V[U],ee)!==void 0&&U>0&&ne(qr(V[U-1],ee),qr(V[U],ee)))(y,_,T,M)||((V,U,ee)=>U>0&&ee(qr(V,U-1),qr(V,U)))(y[_],T,M),By=(y,_,T,M)=>{const V=U=>(ee=>ee==="row"?(ne=>Ju(ne,"rowspan")>1)(_):As(_))(U)?`${U}group`:U;return y?cm(_)?V(T):null:M&&cm(_)?V(T==="row"?"col":"row"):null},lb=(y,_,T)=>xs(T(y.element,_),!0,y.isLocked),Mh=(y,_,T,M,V,U,ee)=>R(y,(ne,he)=>((Te,Ve)=>{const Ee=Te.cells,Ne=R(Ee,(Le,Je)=>{if((tt=>Ce(_,Et=>T(tt.element,Et.element)))(Le)){const tt=ee(Le,he,Je)?V(Le,T,M):Le;return U(tt,he,Je).each(Et=>{var Ot,kt;Ot=tt.element,kt={scope:oe.from(Et)},Ko(kt,(Rt,Ut)=>{Rt.fold(()=>{io(Ot,Ut)},qt=>{Es(Ot.dom,Ut,qt)})})}),tt}return Le});return Zs(Te.element,Ne,Te.section,Te.isNew)})(ne)),My=(y,_,T)=>bt(y,(M,V)=>Iy(y,V,_,T)?[]:[Ts(M,_)]),cb=(y,_,T,M,V)=>{const U=Pr(y).rows,ee=bt(_,Ve=>My(U,Ve,M)),ne=R(U,Ve=>Fl(Ve.cells)),he=((Ve,Ee)=>Zt(Ee,Q)&&Fl(Ve)?Oe:(Ne,Le,Je)=>!(zt(Ne.element)==="th"&&Ee[Le]))(ee,ne);return Mh(y,ee,M,V,lb,((Ve,Ee)=>(Ne,Le)=>oe.some(By(Ve,Ne.element,"row",Ee[Le])))(T,ne),he)},ub=(y,_,T,M)=>{const V=Pr(y).rows,U=R(_,ee=>Ts(V[ee.row],ee.column));return Mh(y,U,T,M,lb,oe.none,Oe)},fm=y=>{if(!x(y))throw new Error("cases must be an array");if(y.length===0)throw new Error("there must be at least one case");const _=[],T={};return yt(y,(M,V)=>{const U=sr(M);if(U.length!==1)throw new Error("one and only one name per case");const ee=U[0],ne=M[ee];if(T[ee]!==void 0)throw new Error("duplicate key detected:"+ee);if(ee==="cata")throw new Error("cannot have a case named cata (sorry)");if(!x(ne))throw new Error("case arguments must be an array");_.push(ee),T[ee]=(...he)=>{const Te=he.length;if(Te!==ne.length)throw new Error("Wrong number of arguments to case "+ee+". Expected "+ne.length+" ("+ne+"), got "+Te);return{fold:(...Ve)=>{if(Ve.length!==y.length)throw new Error("Wrong number of arguments to fold. Expected "+y.length+", got "+Ve.length);return Ve[V].apply(null,he)},match:Ve=>{const Ee=sr(Ve);if(_.length!==Ee.length)throw new Error("Wrong number of arguments to match. Expected: "+_.join(",")+`
Actual: `+Ee.join(","));if(!Zt(_,Ne=>rt(Ee,Ne)))throw new Error("Not all branches were specified when using match. Specified: "+Ee.join(", ")+`
Required: `+_.join(", "));return Ve[ee].apply(null,he)},log:Ve=>{console.log(Ve,{constructors:_,constructor:ee,params:he})}}}}),T},Ph={...fm([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Py=(y,_,T)=>{const M=((V,U)=>oc(V)?((ee,ne)=>{const he=nc(ee);return R(he,(Te,Ve)=>({element:Te.element,width:ne[Ve],colspan:Te.colspan}))})(V,U):((ee,ne)=>{const he=Dn(ee);return R(he,Te=>{const Ve=((Ee,Ne,Le)=>{let Je=0;for(let tt=Ee;tt<Ne;tt++)Je+=Le[tt]!==void 0?Le[tt]:0;return Je})(Te.column,Te.column+Te.colspan,ne);return{element:Te.element,width:Ve,colspan:Te.colspan}})})(V,U))(y,_);yt(M,V=>{T.setElementWidth(V.element,V.width)})},ud=(y,_,T,M,V)=>{const U=bo(y),ee=V.getCellDelta(_),ne=V.getWidths(U,V),he=T===U.grid.columns-1,Te=M.clampTableDelta(ne,T,ee,V.minCellWidth(),he),Ve=((Ne,Le,Je,tt,Et)=>{const Ot=Ne.slice(0),kt=((Ut,qt)=>Ut.length===0?Ph.none():Ut.length===1?Ph.only(0):qt===0?Ph.left(0,1):qt===Ut.length-1?Ph.right(qt-1,qt):qt>0&&qt<Ut.length-1?Ph.middle(qt-1,qt,qt+1):Ph.none())(Ne,Le),Rt=G(R(Ot,G(0)));return kt.fold(Rt,Ut=>tt.singleColumnWidth(Ot[Ut],Je),(Ut,qt)=>Et.calcLeftEdgeDeltas(Ot,Ut,qt,Je,tt.minCellWidth(),tt.isRelative),(Ut,qt,nt)=>Et.calcMiddleDeltas(Ot,Ut,qt,nt,Je,tt.minCellWidth(),tt.isRelative),(Ut,qt)=>Et.calcRightEdgeDeltas(Ot,Ut,qt,Je,tt.minCellWidth(),tt.isRelative))})(ne,T,Te,V,M),Ee=R(Ve,(Ne,Le)=>Ne+ne[Le]);Py(U,Ee,V),M.resizeTable(V.adjustTableWidth,Te,he)},kg=(y,_,T)=>{const M=bo(y),V=((he,Te)=>Sa(he,Te,r1,Ve=>Ve.getOrThunk(er)))(M,y),U=R(V,(he,Te)=>T===Te?Math.max(_+he,er()):he),ee=((he,Te)=>R(he.all,(Ve,Ee)=>({element:Ve.element,height:Te[Ee]})))(M,U);yt(ee,he=>{wu(he.element,he.height)}),yt(Dn(M),he=>{(Te=>{Qi(Te,"height")})(he.element)});const ne=gn(U,(he,Te)=>he+Te,0);wu(y,ne)},Eg=y=>Qe(y,(_,T)=>Ce(_,M=>M.column===T.column)?_:_.concat([T]),[]).sort((_,T)=>_.column-T.column),dd=Oo("col"),rf=Oo("colgroup"),db=y=>zt(y)==="tr"||rf(y),bk=y=>({element:y,colspan:as(y,"colspan",1),rowspan:as(y,"rowspan",1)}),fb=y=>po(y,"scope").map(_=>_.substr(0,3)),dc=(y,_=bk)=>{const T=V=>{if(db(V))return rf((U={element:V}).element)?y.colgroup(U):y.row(U);{const ee=V,ne=(he=>dd(he.element)?y.col(he):y.cell(he))(_(ee));return M=oe.some({item:ee,replacement:ne}),ne}var U};let M=oe.none();return{getOrInit:(V,U)=>M.fold(()=>T(V),ee=>U(V,ee.item)?ee.replacement:T(V))}},Uw=y=>_=>{const T=[],M=V=>{const U=y==="td"?{scope:null}:{},ee=_.replace(V,y,U);return T.push({item:V,sub:ee}),ee};return{replaceOrInit:(V,U)=>{if(db(V)||dd(V))return V;{const ee=V;return((ne,he)=>On(T,Te=>he(Te.item,ne)))(ee,U).fold(()=>M(ee),ne=>U(V,ne.item)?ne.sub:M(ee))}}}},Ly=y=>({unmerge:_=>{const T=fb(_);return T.each(M=>ur(_,"scope",M)),()=>{const M=y.cell({element:_,colspan:1,rowspan:1});return Qi(M,"width"),Qi(_,"width"),T.each(V=>ur(M,"scope",V)),M}},merge:_=>(Qi(_[0],"width"),(()=>{const T=Yt(R(_,fb));if(T.length===0)return oe.none();{const M=T[0],V=["row","col"];return Ce(T,U=>U!==M&&rt(V,U))?oe.none():oe.from(M)}})().fold(()=>io(_[0],"scope"),T=>ur(_[0],"scope",T+"group")),G(_[0]))}),Ag=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Ka=Yd(),Tg=y=>((_,T)=>{const M=_.property().name(T);return rt(Ag,M)})(Ka,y),Og=y=>((_,T)=>{const M=_.property().name(T);return rt(["ol","ul"],M)})(Ka,y),h1=y=>{const _=Oo("br"),T=V=>Vc(V).bind(U=>{const ee=El(U).map(ne=>!!Tg(ne)||!!((he,Te)=>rt(["br","img","hr","input"],he.property().name(Te)))(Ka,ne)&&zt(ne)!=="img").getOr(!1);return Xi(U).map(ne=>{return ee===!0||zt(he=ne)==="li"||Se(he,Og).isSome()||_(U)||Tg(ne)&&!Er(V,ne)?[]:[Vt.fromTag("br")];var he})}).getOr([]),M=(()=>{const V=bt(y,U=>{const ee=ca(U);return(ne=>Zt(ne,he=>_(he)||ao(he)&&rm(he).trim().length===0))(ee)?[]:ee.concat(T(U))});return V.length===0?[Vt.fromTag("br")]:V})();Ji(y[0]),ml(y[0],M)},Fo=y=>Yn(y,!0),rl=y=>{ms(y).length===0&&jr(y)},Au=(y,_)=>({grid:y,cursor:_}),ci=(y,_,T)=>{const M=((V,U,ee)=>{var ne,he;const Te=Pr(V).rows;return oe.from((he=(ne=Te[U])===null||ne===void 0?void 0:ne.cells[ee])===null||he===void 0?void 0:he.element).filter(Fo).orThunk(()=>(Ve=>J(Ve,Ee=>J(Ee.cells,Ne=>{const Le=Ne.element;return nn(Fo(Le),Le)})))(Te))})(y,_,T);return Au(y,M)},Rr=y=>Qe(y,(_,T)=>Ce(_,M=>M.row===T.row)?_:_.concat([T]),[]).sort((_,T)=>_.row-T.row),mb=(y,_)=>(T,M,V,U,ee)=>{const ne=Rr(M),he=R(ne,Ve=>Ve.row),Te=((Ve,Ee,Ne,Le,Je,tt,Et)=>{const{cols:Ot,rows:kt}=Pr(Ve),Rt=kt[Ee[0]],Ut=bt(Ee,jn=>(($n,lo,Mo)=>{const $s=$n[lo];return bt($s.cells,(ui,Ta)=>Iy($n,lo,Ta,Mo)?[]:[ui])})(kt,jn,Je)),qt=R(Rt.cells,(jn,$n)=>Fl(My(kt,$n,Je))),nt=[...kt];yt(Ee,jn=>{nt[jn]=Et.transformRow(kt[jn],Ne)});const mn=[...Ot,...nt],Vn=((jn,$n)=>Zt($n,Q)&&Fl(jn.cells)?Oe:(lo,Mo,$s)=>!(zt(lo.element)==="th"&&$n[$s]))(Rt,qt),co=((jn,$n)=>(lo,Mo,$s)=>oe.some(By(jn,lo.element,"col",$n[$s])))(Le,qt);return Mh(mn,Ut,Je,tt,Et.transformCell,co,Vn)})(T,he,y,_,V,U.replaceOrInit,ee);return ci(Te,M[0].row,M[0].column)},Ww=mb("thead",!0),vk=mb("tbody",!1),Gr=mb("tfoot",!1),p1=(y,_,T)=>{const M=((U,ee)=>bl(U,()=>ee))(y,T.section),V=js(M);return us(V,_,!0)},Fy=(y,_,T,M)=>((V,U,ee,ne)=>{const he=js(U),Te=ne.getWidths(he,ne);Py(he,Te,ne)})(0,_,0,M.sizing),mm=(y,_,T,M)=>((V,U,ee,ne,he)=>{const Te=js(U),Ve=ne.getWidths(Te,ne),Ee=ne.pixelWidth(),{newSizes:Ne,delta:Le}=he.calcRedestributedWidths(Ve,Ee,ee.pixelDelta,ne.isRelative);Py(Te,Ne,ne),ne.adjustTableWidth(Le)})(0,_,T,M.sizing,M.resize),fc=(y,_)=>Ce(_,T=>T.column===0&&T.isLocked),Lh=(y,_)=>Ce(_,T=>T.column+T.colspan>=y.grid.columns&&T.isLocked),fn=(y,_)=>{const T=_h(y),M=Eg(_);return Qe(M,(V,U)=>V+T[U.column].map(hg).getOr(0),0)},jc=y=>(_,T)=>cd(_,T).filter(M=>!(y?fc:Lh)(_,M)).map(M=>({details:M,pixelDelta:fn(_,M)})),zy=y=>(_,T)=>zl(_,T).filter(M=>!(y?fc:Lh)(_,M.cells)),b1=Uw("th"),Fh=Uw("td"),v1=Is((y,_,T,M)=>{const V=_[0].row,U=Rr(_),ee=gn(U,(ne,he)=>({grid:Ny(ne.grid,V,he.row+ne.delta,T,M.getOrInit),delta:ne.delta+1}),{grid:y,delta:0}).grid;return ci(ee,V,_[0].column)},cd,$,$,dc),Dg=Is((y,_,T,M)=>{const V=Rr(_),U=V[V.length-1],ee=U.row+U.rowspan,ne=gn(V,(he,Te)=>Ny(he,ee,Te.row,T,M.getOrInit),y);return ci(ne,ee,_[0].column)},cd,$,$,dc),mc=Is((y,_,T,M)=>{const V=_.details,U=Eg(V),ee=U[0].column,ne=gn(U,(he,Te)=>({grid:ib(he.grid,ee,Te.column+he.delta,T,M.getOrInit),delta:he.delta+1}),{grid:y,delta:0}).grid;return ci(ne,V[0].row,ee)},jc(!0),mm,$,dc),yk=Is((y,_,T,M)=>{const V=_.details,U=V[V.length-1],ee=U.column+U.colspan,ne=Eg(V),he=gn(ne,(Te,Ve)=>ib(Te,ee,Ve.column,T,M.getOrInit),y);return ci(he,V[0].row,ee)},jc(!1),mm,$,dc),y1=Is((y,_,T,M)=>{const V=Eg(_.details),U=((ne,he)=>bt(ne,Te=>{const Ve=Te.cells,Ee=gn(he,(Ne,Le)=>Le>=0&&Le<Ne.length?Ne.slice(0,Le).concat(Ne.slice(Le+1)):Ne,Ve);return Ee.length>0?[Zs(Te.element,Ee,Te.section,Te.isNew)]:[]}))(y,R(V,ne=>ne.column)),ee=U.length>0?U[0].cells.length-1:0;return ci(U,V[0].row,Math.min(V[0].column,ee))},(y,_)=>Ea(y,_).map(T=>({details:T,pixelDelta:-fn(y,T)})),mm,rl,dc),Hy=Is((y,_,T,M)=>{const V=Rr(_),U=((ne,he,Te)=>{const{rows:Ve,cols:Ee}=Pr(ne);return[...Ee,...Ve.slice(0,he),...Ve.slice(Te+1)]})(y,V[0].row,V[V.length-1].row),ee=Math.max(Pr(U).rows.length-1,0);return ci(U,Math.min(_[0].row,ee),_[0].column)},cd,$,rl,dc),x1=Is((y,_,T,M)=>{const V=Eg(_),U=R(V,ne=>ne.column),ee=cb(y,U,!0,T,M.replaceOrInit);return ci(ee,_[0].row,_[0].column)},Ea,$,$,b1),Vy=Is((y,_,T,M)=>{const V=Eg(_),U=R(V,ne=>ne.column),ee=cb(y,U,!1,T,M.replaceOrInit);return ci(ee,_[0].row,_[0].column)},Ea,$,$,Fh),$y=Is(Ww,Ea,$,$,b1),w1=Is(vk,Ea,$,$,Fh),Uy=Is(Gr,Ea,$,$,Fh),Wy=Is((y,_,T,M)=>{const V=ub(y,_,T,M.replaceOrInit);return ci(V,_[0].row,_[0].column)},Ea,$,$,b1),Zw=Is((y,_,T,M)=>{const V=ub(y,_,T,M.replaceOrInit);return ci(V,_[0].row,_[0].column)},Ea,$,$,Fh),xk=Is((y,_,T,M)=>{const V=_.cells;h1(V);const U=((ee,ne,he,Te)=>{const Ve=Pr(ee).rows;if(Ve.length===0)return ee;for(let Ee=ne.startRow;Ee<=ne.finishRow;Ee++)for(let Ne=ne.startCol;Ne<=ne.finishCol;Ne++){const Le=Ve[Ee],Je=Ts(Le,Ne).isLocked;bg(Le,Ne,xs(Te(),!1,Je))}return ee})(y,_.bounds,0,M.merge(V));return Au(U,oe.from(V[0]))},(y,_)=>((T,M)=>M.mergable)(0,_).filter(T=>sb(y,T.cells)),Fy,$,Ly),gb=Is((y,_,T,M)=>{const V=gn(_,(U,ee)=>Ih(U,ee,T,M.unmerge(ee)),y);return Au(V,oe.from(_[0]))},(y,_)=>((T,M)=>M.unmergable)(0,_).filter(T=>sb(y,T)),Fy,$,Ly),Zy=Is((y,_,T,M)=>{const V=((ne,he)=>{const Te=bo(ne);return us(Te,he,!0)})(_.clipboard,_.generators);var U,ee;return((ne,he,Te,Ve,Ee)=>{const Ne=yi(he),Le=((Ot,kt,Rt)=>{const Ut=Ca(kt[0]),qt=Pr(kt).cols.length+Ot.row,nt=Re(Ut-Ot.column,mn=>mn+Ot.column);return{row:qt,column:On(nt,mn=>Zt(Rt,Vn=>Vn!==mn)).getOr(Ut-1)}})(ne,he,Ne),Je=Pr(Te).rows,tt=m1(Le,Je,Ne);return((Ot,kt,Rt)=>{if(Ot.row>=kt.length||Ot.column>Ca(kt[0]))return Bh.error("invalid start address out of table bounds, row: "+Ot.row+", column: "+Ot.column);const Ut=kt.slice(Ot.row),qt=Ut[0].cells.slice(Ot.column),nt=Ca(Rt[0]),mn=Rt.length;return Bh.value({rowDelta:Ut.length-mn,colDelta:qt.length-nt})})(Le,he,Je).map(Ot=>{const kt={...Ot,colDelta:Ot.colDelta-tt.length},Rt=dm(he,kt,Ve),Ut=yi(Rt),qt=m1(Le,Je,Ut);return((nt,mn,Vn,co,jn,$n)=>{const lo=nt.row,Mo=nt.column,$s=lo+Vn.length,ui=Mo+Ca(Vn[0])+$n.length,Ta=Vr($n,Oe);for(let Vl=lo;Vl<$s;Vl++){let Em=0;for(let di=Mo;di<ui;di++){if(Ta[di]){Em++;continue}pk(mn,Vl,di,jn)&&Ih(mn,qr(mn[Vl],di),jn,co.cell);const Du=di-Mo-Em,jh=Ts(Vn[Vl-lo],Du),yf=jh.element,Kh=co.replace(yf);bg(mn[Vl],di,xs(Kh,!0,jh.isLocked))}}return mn})(Le,Rt,Je,Ve,Ee,qt)})})((U=_.row,ee=_.column,{row:U,column:ee}),y,V,_.generators,T).fold(()=>Au(y,oe.some(_.element)),ne=>ci(ne,_.row,_.column))},(y,_)=>xh(_.element).bind(T=>ps(y,T).map(M=>({...M,generators:_.generators,clipboard:_.clipboard}))),Fy,$,dc),Rg=Is((y,_,T,M)=>{const V=Pr(y).rows,U=_.cells[0].column,ee=V[_.cells[0].row],ne=p1(_.clipboard,_.generators,ee),he=g1(U,y,ne,_.generators,T);return ci(he,_.cells[0].row,_.cells[0].column)},zy(!0),$,$,dc),wk=Is((y,_,T,M)=>{const V=Pr(y).rows,U=_.cells[_.cells.length-1].column+_.cells[_.cells.length-1].colspan,ee=V[_.cells[0].row],ne=p1(_.clipboard,_.generators,ee),he=g1(U,y,ne,_.generators,T);return ci(he,_.cells[0].row,U)},zy(!1),$,$,dc),Ck=Is((y,_,T,M)=>{const V=Pr(y).rows,U=_.cells[0].row,ee=V[U],ne=p1(_.clipboard,_.generators,ee),he=Ry(U,y,ne,_.generators,T);return ci(he,_.cells[0].row,_.cells[0].column)},zl,$,$,dc),sf=Is((y,_,T,M)=>{const V=Pr(y).rows,U=_.cells[_.cells.length-1].row+_.cells[_.cells.length-1].rowspan,ee=V[_.cells[0].row],ne=p1(_.clipboard,_.generators,ee),he=Ry(U,y,ne,_.generators,T);return ci(he,U,_.cells[0].column)},zl,$,$,dc),gm=(y,_)=>{const T=bo(y);return cd(T,_).bind(M=>{const V=M[M.length-1],U=M[0].column,ee=V.column+V.colspan,ne=pt(R(T.all,he=>ln(he.cells,Te=>Te.column>=U&&Te.column<ee)));return fa(ne)}).getOr("")},C1=(y,_)=>{const T=bo(y);return cd(T,_).bind(fa).getOr("")},jw=(y,_)=>{const T=bo(y);return cd(T,_).bind(M=>{const V=M[M.length-1],U=M[0].row,ee=V.row+V.rowspan;return(ne=>{const he=R(ne,Ee=>nb(Ee).type),Te=rt(he,"header"),Ve=rt(he,"footer");if(Te||Ve){const Ee=rt(he,"body");return!Te||Ee||Ve?Te||Ee||!Ve?oe.none():oe.some("footer"):oe.some("header")}return oe.some("body")})(T.all.slice(U,ee))}).getOr("")},jy=(y,_)=>y.dispatch("NewRow",{node:_}),hb=(y,_)=>y.dispatch("NewCell",{node:_}),fd=(y,_,T)=>{y.dispatch("TableModified",{...T,table:_})},_1={structure:!1,style:!0},Qs={structure:!0,style:!1},Cs={structure:!0,style:!0},af=(y,_)=>Su(y)?_u(_):I(y)?ls(_):Eh(_),Ky=(y,_,T)=>{const M=Ve=>zt(Jo(Ve))==="table",V=ad(y),U=Yp(y)?$:Nh,ee=Ve=>{switch(sm(y)){case"section":return ga();case"sectionCells":return Hw();case"cells":return Vw();default:return((Ee,Ne)=>{var Le;switch((Le=bo(Ee),J(Le.all,Je=>{const tt=nb(Je);return tt.type==="header"?oe.from(tt.subType):oe.none()})).getOr(Ne)){case"section":return ma();case"sectionCells":return Ft();case"cells":return um()}})(Ve,"section")}},ne=(Ve,Ee,Ne,Le)=>(Je,tt,Et=!1)=>{cs(Je);const Ot=Vt.fromDom(y.getDoc()),kt=Lr(Ne,Ot,V),Rt={sizing:af(y,Je),resize:Yp(y)?Eu():l1(),section:ee(Je)};return Ee(Je)?Ve(Je,tt,kt,Rt).bind(Ut=>{_.refresh(Je.dom),yt(Ut.newRows,nt=>{jy(y,nt.dom)}),yt(Ut.newCells,nt=>{hb(y,nt.dom)});const qt=((nt,mn)=>mn.cursor.fold(()=>{const Vn=ms(nt);return xn(Vn).filter(Ii).map(co=>{T.clearSelectedCells(nt.dom);const jn=y.dom.createRng();return jn.selectNode(co.dom),y.selection.setRng(jn),ur(co,"data-mce-selected","1"),jn})},Vn=>{const co=Ay(Rh,Vn),jn=y.dom.createRng();return jn.setStart(co.element.dom,co.offset),jn.setEnd(co.element.dom,co.offset),y.selection.setRng(jn),T.clearSelectedCells(nt.dom),oe.some(jn)}))(Je,Ut);return Ii(Je)&&(cs(Je),Et||fd(y,Je.dom,Le)),qt.map(nt=>({rng:nt,effect:Le}))}):oe.none()},he=ne(Hy,Ve=>!M(y)||Zc(Ve).rows>1,$,Qs),Te=ne(y1,Ve=>!M(y)||Zc(Ve).columns>1,$,Qs);return{deleteRow:he,deleteColumn:Te,insertRowsBefore:ne(v1,Oe,$,Qs),insertRowsAfter:ne(Dg,Oe,$,Qs),insertColumnsBefore:ne(mc,Oe,U,Qs),insertColumnsAfter:ne(yk,Oe,U,Qs),mergeCells:ne(xk,Oe,$,Qs),unmergeCells:ne(gb,Oe,$,Qs),pasteColsBefore:ne(Rg,Oe,$,Qs),pasteColsAfter:ne(wk,Oe,$,Qs),pasteRowsBefore:ne(Ck,Oe,$,Qs),pasteRowsAfter:ne(sf,Oe,$,Qs),pasteCells:ne(Zy,Oe,$,Cs),makeCellsHeader:ne(Wy,Oe,$,Qs),unmakeCellsHeader:ne(Zw,Oe,$,Qs),makeColumnsHeader:ne(x1,Oe,$,Qs),unmakeColumnsHeader:ne(Vy,Oe,$,Qs),makeRowsHeader:ne($y,Oe,$,Qs),makeRowsBody:ne(w1,Oe,$,Qs),makeRowsFooter:ne(Uy,Oe,$,Qs),getTableRowType:jw,getTableCellType:C1,getTableColType:gm}},S1=(y,_,T)=>{const M=as(y,_,1);T===1||M<=1?io(y,_):ur(y,_,Math.min(T,M))},Aa=(y,_)=>T=>{const M=T.column+T.colspan-1,V=T.column;return M>=y&&V<_},Hi=fm([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Ng=(y,_,T)=>{const M=T.substring(0,T.length-y.length),V=parseFloat(M);return M===V.toString()?_(V):Hi.invalid(T)},lf={...Hi,from:y=>Jt(y,"%")?Ng("%",Hi.percent,y):Jt(y,"px")?Ng("px",Hi.pixels,y):Hi.invalid(y)},hm=(y,_,T)=>{const M=lf.from(T),V=Zt(y,U=>U==="0px")?((U,ee)=>{const ne=U.fold(()=>G(""),he=>G(he/ee+"px"),()=>G(100/ee+"%"));return Re(ee,ne)})(M,y.length):((U,ee,ne)=>U.fold(()=>ee,he=>((Te,Ve,Ee)=>{const Ne=Ee/Ve;return R(Te,Le=>lf.from(Le).fold(()=>Le,Je=>Je*Ne+"px",Je=>Je/100*Ee+"px"))})(ee,ne,he),he=>((Te,Ve)=>R(Te,Ee=>lf.from(Ee).fold(()=>Ee,Ne=>Ne/Ve*100+"%",Ne=>Ne+"%")))(ee,ne)))(M,y,_);return qy(V)},k1=(y,_)=>y.length===0?_:gn(y,(T,M)=>lf.from(M).fold(G(0),Q,Q)+T,0),Kw=(y,_)=>lf.from(y).fold(G(y),T=>T+_+"px",T=>T+_+"%"),qy=y=>{if(y.length===0)return y;const _=gn(y,(M,V)=>{const U=lf.from(V).fold(()=>({value:V,remainder:0}),ee=>((ne,he)=>{const Te=Math.floor(ne);return{value:Te+"px",remainder:ne-Te}})(ee),ee=>({value:ee+"%",remainder:0}));return{output:[U.value].concat(M.output),remainder:M.remainder+U.remainder}},{output:[],remainder:0}),T=_.output;return T.slice(0,T.length-1).concat([Kw(T[T.length-1],Math.round(_.remainder))])},pm=lf.from,Nr=(y,_,T)=>{const M=bo(y),V=M.all,U=Dn(M),ee=nc(M);_.each(ne=>{const he=pm(ne).fold(G("px"),G("px"),G("%")),Te=tl(y),Ve=((Ne,Le)=>Xs(Ne,Le,wi,kh))(M,y),Ee=hm(Ve,Te,ne);oc(M)?((Ne,Le,Je)=>{yt(Le,(tt,Et)=>{const Ot=k1([Ne[Et]],pl());fo(tt.element,"width",Ot+Je)})})(Ee,ee,he):((Ne,Le,Je)=>{yt(Le,tt=>{const Et=Ne.slice(tt.column,tt.colspan+tt.column),Ot=k1(Et,pl());fo(tt.element,"width",Ot+Je)})})(Ee,U,he),fo(y,"width",ne)}),T.each(ne=>{const he=rd(y),Te=((Ve,Ee)=>Sa(Ve,Ee,li,kh))(M,y);((Ve,Ee,Ne)=>{yt(Ne,Le=>{Qi(Le.element,"height")}),yt(Ee,(Le,Je)=>{fo(Le.element,"height",Ve[Je])})})(hm(Te,he,ne),V,U),fo(y,"height",ne)})},E1=y=>Pl(y).exists(_=>oa.test(_)),Yr=y=>Pl(y).exists(_=>Pn.test(_)),Tu=y=>Pl(y).isNone(),Kc=y=>{io(y,"width"),io(y,"height")},Ig=y=>{const _=qd(y);Nr(y,oe.some(_),oe.none()),Kc(y)},sl=y=>{const _=(T=>tl(T)+"px")(y);Nr(y,oe.some(_),oe.none()),Kc(y)},qa=y=>{Qi(y,"width");const _=tc(y),T=_.length>0?_:ms(y);yt(T,M=>{Qi(M,"width"),Kc(M)}),Kc(y)},bm={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},pb=(y,_,T,M)=>Re(y,V=>((U,ee,ne,he)=>{const Te=Vt.fromTag("tr");for(let Ve=0;Ve<U;Ve++){const Ee=Vt.fromTag(he<ee||Ve<ne?"th":"td");Ve<ne&&ur(Ee,"scope","row"),he<ee&&ur(Ee,"scope","col"),ts(Ee,Vt.fromTag("br")),ts(Te,Ee)}return Te})(_,T,M,V)),Bg=(y,_)=>{y.selection.select(_.dom,!0),y.selection.collapse(!0)},bb=(y,_,T,M,V)=>{const U=(ne=>{const he=ne.options,Te=he.get("table_default_styles");return he.isSet("table_default_styles")?Te:((Ve,Ee)=>Z(Ve)||!Ae(Ve)?Ee:I(Ve)?{...Ee,width:$c(Ve)}:{...Ee,width:Tl})(ne,Te)})(y),ee={styles:U,attributes:Tt(y),colGroups:Ln(y)};return y.undoManager.ignore(()=>{const ne=((Te,Ve,Ee,Ne,Le,Je=bm)=>{const tt=Vt.fromTag("table"),Et=Le!=="cells";hl(tt,Je.styles),bi(tt,Je.attributes),Je.colGroups&&ts(tt,(Ut=>{const qt=Vt.fromTag("colgroup");return Re(Ut,()=>ts(qt,Vt.fromTag("col"))),qt})(Ve));const Ot=Math.min(Te,Ee);if(Et&&Ee>0){const Ut=Vt.fromTag("thead");ts(tt,Ut);const qt=pb(Ee,Ve,Le==="sectionCells"?Ot:0,Ne);ml(Ut,qt)}const kt=Vt.fromTag("tbody");ts(tt,kt);const Rt=pb(Et?Te-Ot:Te,Ve,Et?0:Ee,Ne);return ml(kt,Rt),tt})(T,_,V,M,sm(y),ee);ur(ne,"data-mce-id","__mce");const he=(Te=>{const Ve=Vt.fromTag("div"),Ee=Vt.fromDom(Te.dom.cloneNode(!0));return ts(Ve,Ee),(Ne=>Ne.dom.innerHTML)(Ve)})(ne);y.insertContent(he),y.addVisual()}),ot(Jo(y),'table[data-mce-id="__mce"]').map(ne=>(I(y)?sl(ne):Z(y)?qa(ne):(Su(y)||(he=>v(he)&&he.indexOf("%")!==-1)(U.width))&&Ig(ne),cs(ne),io(ne,"data-mce-id"),((he,Te)=>{yt(vr(Te,"tr"),Ve=>{jy(he,Ve.dom),yt(vr(Ve,"th,td"),Ee=>{hb(he,Ee.dom)})})})(y,ne),((he,Te)=>{ot(Te,"td,th").each(de(Bg,he))})(y,ne),ne.dom)).getOrNull()};var Mg=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const qw="x-tinymce/dom-table-",Gy=qw+"rows",Yy=qw+"columns",Gw=y=>{const _=Mg.FakeClipboardItem(y);Mg.write([_])},Ga=y=>{var _;const T=(_=Mg.read())!==null&&_!==void 0?_:[];return J(T,M=>oe.from(M.getType(y)))},vm=y=>{Ga(y).isSome()&&Mg.clear()},Yw=y=>{y.fold(Vi,_=>Gw({[Gy]:_}))},gc=()=>Ga(Gy),Vi=()=>vm(Gy),Pg=y=>{y.fold(Xw,_=>Gw({[Yy]:_}))},zh=()=>Ga(Yy),Xw=()=>vm(Yy),bs=y=>tf(ac(y),Rs(y)).filter(a1),vs=(y,_)=>{const T=Rs(y),M=Ee=>el(Ee,T),V=Ee=>(Ne=>ns(ac(Ne),Rs(Ne)).filter(a1))(y).bind(Ne=>M(Ne).map(Le=>Ee(Le,Ne))),U=Ee=>{y.focus()},ee=(Ee,Ne=!1)=>V((Le,Je)=>{const tt=go(lc(y),Le,Je);Ee(Le,tt,Ne).each(U)}),ne=()=>V((Ee,Ne)=>((Le,Je,tt)=>{const Et=bo(Le);return cd(Et,Je).bind(Ot=>{const kt=us(Et,tt,!1),Rt=Pr(kt).rows.slice(Ot[0].row,Ot[Ot.length-1].row+Ot[Ot.length-1].rowspan),Ut=bt(Rt,nt=>{const mn=ln(nt.cells,Vn=>!Vn.isLocked);return mn.length>0?[{...nt,cells:mn}]:[]}),qt=rb(Ut);return nn(qt.length>0,qt)}).map(Ot=>R(Ot,kt=>{const Rt=Gf(kt.element);return yt(kt.cells,Ut=>{const qt=Dc(Ut.element);ld(qt,"colspan",Ut.colspan,1),ld(qt,"rowspan",Ut.rowspan,1),ts(Rt,qt)}),Rt}))})(Ee,go(lc(y),Ee,Ne),Lr($,Vt.fromDom(y.getDoc()),oe.none()))),he=()=>V((Ee,Ne)=>((Le,Je)=>{const tt=bo(Le);return Ea(tt,Je).map(Et=>{const Ot=Et[Et.length-1],kt=Et[0].column,Rt=Ot.column+Ot.colspan,Ut=((nt,mn,Vn)=>{if(oc(nt)){const co=ln(nc(nt),Aa(mn,Vn)),jn=R(co,lo=>{const Mo=Dc(lo.element);return S1(Mo,"span",Vn-mn),Mo}),$n=Vt.fromTag("colgroup");return ml($n,jn),[$n]}return[]})(tt,kt,Rt),qt=((nt,mn,Vn)=>R(nt.all,co=>{const jn=ln(co.cells,Aa(mn,Vn)),$n=R(jn,Mo=>{const $s=Dc(Mo.element);return S1($s,"colspan",Vn-mn),$s}),lo=Vt.fromTag("tr");return ml(lo,$n),lo}))(tt,kt,Rt);return[...Ut,...qt]})})(Ee,go(lc(y),Ee,Ne))),Te=(Ee,Ne)=>Ne().each(Le=>{const Je=R(Le,tt=>Dc(tt));V((tt,Et)=>{const Ot=fr(Vt.fromDom(y.getDoc())),kt=((Rt,Ut,qt,nt)=>({selection:Qd(Rt),clipboard:qt,generators:nt}))(lc(y),0,Je,Ot);Ee(tt,kt).each(U)})}),Ve=Ee=>(Ne,Le)=>((Je,tt)=>Me(Je,tt)?oe.from(Je[tt]):oe.none())(Le,"type").each(Je=>{ee(Ee(Je),Le.no_events)});Ko({mceTableSplitCells:()=>ee(_.unmergeCells),mceTableMergeCells:()=>ee(_.mergeCells),mceTableInsertRowBefore:()=>ee(_.insertRowsBefore),mceTableInsertRowAfter:()=>ee(_.insertRowsAfter),mceTableInsertColBefore:()=>ee(_.insertColumnsBefore),mceTableInsertColAfter:()=>ee(_.insertColumnsAfter),mceTableDeleteCol:()=>ee(_.deleteColumn),mceTableDeleteRow:()=>ee(_.deleteRow),mceTableCutCol:()=>he().each(Ee=>{Pg(Ee),ee(_.deleteColumn)}),mceTableCutRow:()=>ne().each(Ee=>{Yw(Ee),ee(_.deleteRow)}),mceTableCopyCol:()=>he().each(Ee=>Pg(Ee)),mceTableCopyRow:()=>ne().each(Ee=>Yw(Ee)),mceTablePasteColBefore:()=>Te(_.pasteColsBefore,zh),mceTablePasteColAfter:()=>Te(_.pasteColsAfter,zh),mceTablePasteRowBefore:()=>Te(_.pasteRowsBefore,gc),mceTablePasteRowAfter:()=>Te(_.pasteRowsAfter,gc),mceTableDelete:()=>bs(y).each(Ee=>{el(Ee,T).filter(Pe(T)).each(Ne=>{const Le=Vt.fromText("");if(mu(Ne,Le),jr(Ne),y.dom.isEmpty(y.getBody()))y.setContent(""),y.selection.setCursorLocation();else{const Je=y.dom.createRng();Je.setStart(Le.dom,0),Je.setEnd(Le.dom,0),y.selection.setRng(Je),y.nodeChanged()}})}),mceTableCellToggleClass:(Ee,Ne)=>{V(Le=>{const Je=lc(y),tt=Zt(Je,Ot=>y.formatter.match("tablecellclass",{value:Ne},Ot.dom)),Et=tt?y.formatter.remove:y.formatter.apply;yt(Je,Ot=>Et("tablecellclass",{value:Ne},Ot.dom)),fd(y,Le.dom,_1)})},mceTableToggleClass:(Ee,Ne)=>{V(Le=>{y.formatter.toggle("tableclass",{value:Ne},Le.dom),fd(y,Le.dom,_1)})},mceTableToggleCaption:()=>{bs(y).each(Ee=>{el(Ee,T).each(Ne=>{it(Ne,"caption").fold(()=>{const Le=Vt.fromTag("caption");ts(Le,Vt.fromText("Caption")),((Je,tt,Et)=>{fu(Je,0).fold(()=>{ts(Je,tt)},Ot=>{Qt(Ot,tt)})})(Ne,Le),y.selection.setCursorLocation(Le.dom,0)},Le=>{Oo("caption")(Ee)&&kl("td",Ne).each(Je=>y.selection.setCursorLocation(Je.dom,0)),jr(Le)}),fd(y,Ne.dom,Qs)})})},mceTableSizingMode:(Ee,Ne)=>(Le=>bs(y).each(Je=>{Z(y)||I(y)||Su(y)||el(Je,T).each(tt=>{Le!=="relative"||E1(tt)?Le!=="fixed"||Yr(tt)?Le!=="responsive"||Tu(tt)||qa(tt):sl(tt):Ig(tt),cs(tt),fd(y,tt.dom,Qs)})}))(Ne),mceTableCellType:Ve(Ee=>Ee==="th"?_.makeCellsHeader:_.unmakeCellsHeader),mceTableColType:Ve(Ee=>Ee==="th"?_.makeColumnsHeader:_.unmakeColumnsHeader),mceTableRowType:Ve(Ee=>{switch(Ee){case"header":return _.makeRowsHeader;case"footer":return _.makeRowsFooter;default:return _.makeRowsBody}})},(Ee,Ne)=>y.addCommand(Ne,Ee)),y.addCommand("mceInsertTable",(Ee,Ne)=>{((Le,Je,tt,Et={})=>{const Ot=kt=>W(kt)&&kt>0;if(Ot(Je)&&Ot(tt)){const kt=Et.headerRows||0,Rt=Et.headerColumns||0;return bb(Le,tt,Je,Rt,kt)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(y,Ne.rows,Ne.columns,Ne.options)}),y.addCommand("mceTableApplyCellStyle",(Ee,Ne)=>{const Le=Et=>"tablecell"+Et.toLowerCase().replace("-","");if(!p(Ne))return;const Je=ln(lc(y),a1);if(Je.length===0)return;const tt=((Et,Ot)=>{const kt={};return((Rt,Ut,qt,nt)=>{Ko(Rt,(mn,Vn)=>{(Ut(mn,Vn)?qt:nt)(mn,Vn)})})(Et,Ot,(Rt=>(Ut,qt)=>{Rt[qt]=Ut})(kt),$),kt})(Ne,(Et,Ot)=>y.formatter.has(Le(Ot))&&v(Et));(Et=>{for(const Ot in Et)if(br.call(Et,Ot))return!1;return!0})(tt)||(Ko(tt,(Et,Ot)=>{const kt=Le(Ot);yt(Je,Rt=>{Et===""?y.formatter.remove(kt,{value:null},Rt.dom,!0):y.formatter.apply(kt,{value:Et},Rt.dom)})}),M(Je[0]).each(Et=>fd(y,Et.dom,_1)))})},Vs=fm([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),xr={before:Vs.before,on:Vs.on,after:Vs.after,cata:(y,_,T,M)=>y.fold(_,T,M),getStart:y=>y.fold(Q,Q,Q)},ds=(y,_)=>({selection:y,kill:_}),Bs=(y,_)=>{const T=y.document.createRange();return T.selectNode(_.dom),T},A1=(y,_)=>{const T=y.document.createRange();return T1(T,_),T},T1=(y,_)=>y.selectNodeContents(_.dom),Xy=(y,_,T)=>{const M=y.document.createRange();var V;return V=M,_.fold(U=>{V.setStartBefore(U.dom)},(U,ee)=>{V.setStart(U.dom,ee)},U=>{V.setStartAfter(U.dom)}),((U,ee)=>{ee.fold(ne=>{U.setEndBefore(ne.dom)},(ne,he)=>{U.setEnd(ne.dom,he)},ne=>{U.setEndAfter(ne.dom)})})(M,T),M},vb=(y,_,T,M,V)=>{const U=y.document.createRange();return U.setStart(_.dom,T),U.setEnd(M.dom,V),U},Jy=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom,width:y.width,height:y.height}),Lg=fm([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),O1=(y,_,T)=>_(Vt.fromDom(T.startContainer),T.startOffset,Vt.fromDom(T.endContainer),T.endOffset),D1=(y,_)=>{const T=((M,V)=>V.match({domRange:U=>({ltr:G(U),rtl:oe.none}),relative:(U,ee)=>({ltr:ua(()=>Xy(M,U,ee)),rtl:ua(()=>oe.some(Xy(M,ee,U)))}),exact:(U,ee,ne,he)=>({ltr:ua(()=>vb(M,U,ee,ne,he)),rtl:ua(()=>oe.some(vb(M,ne,he,U,ee)))})}))(y,_);return((M,V)=>{const U=V.ltr();return U.collapsed?V.rtl().filter(ee=>ee.collapsed===!1).map(ee=>Lg.rtl(Vt.fromDom(ee.endContainer),ee.endOffset,Vt.fromDom(ee.startContainer),ee.startOffset)).getOrThunk(()=>O1(0,Lg.ltr,U)):O1(0,Lg.ltr,U)})(0,T)},Qy=(y,_)=>D1(y,_).match({ltr:(T,M,V,U)=>{const ee=y.document.createRange();return ee.setStart(T.dom,M),ee.setEnd(V.dom,U),ee},rtl:(T,M,V,U)=>{const ee=y.document.createRange();return ee.setStart(V.dom,U),ee.setEnd(T.dom,M),ee}});Lg.ltr,Lg.rtl;const yb=(y,_,T,M)=>({start:y,soffset:_,finish:T,foffset:M}),al=(y,_,T,M)=>({start:xr.on(y,_),finish:xr.on(T,M)}),ex=(y,_)=>{const T=Qy(y,_);return yb(Vt.fromDom(T.startContainer),T.startOffset,Vt.fromDom(T.endContainer),T.endOffset)},ki=al,xb=(y,_,T,M,V)=>Er(T,M)?oe.none():Uc(T,M,_).bind(U=>{const ee=U.boxes.getOr([]);return ee.length>1?(V(y,ee,U.start,U.finish),oe.some(ds(oe.some(ki(T,0,T,Os(T))),!0))):oe.none()}),Fg=(y,_)=>({item:y,mode:_}),qc=(y,_,T,M=Ms)=>y.property().parent(_).map(V=>Fg(V,M)),Ms=(y,_,T,M=ym)=>T.sibling(y,_).map(V=>Fg(V,M)),ym=(y,_,T,M=ym)=>{const V=y.property().children(_);return T.first(V).map(U=>Fg(U,M))},tx=[{current:qc,next:Ms,fallback:oe.none()},{current:Ms,next:ym,fallback:oe.some(qc)},{current:ym,next:ym,fallback:oe.some(Ms)}],nx=(y,_,T,M,V=tx)=>On(V,U=>U.current===T).bind(U=>U.current(y,_,M,U.next).orThunk(()=>U.fallback.bind(ee=>nx(y,_,ee,M)))),wb=(y,_,T,M,V,U)=>nx(y,_,M,V).bind(ee=>U(ee.item)?oe.none():T(ee.item)?oe.some(ee.item):wb(y,ee.item,T,ee.mode,V,U)),md=y=>_=>y.property().children(_).length===0,_k=(y,_,T,M)=>wb(y,_,T,Ms,{sibling:(V,U)=>V.query().prevSibling(U),first:V=>V.length>0?oe.some(V[V.length-1]):oe.none()},M),Cb=(y,_,T,M)=>wb(y,_,T,Ms,{sibling:(V,U)=>V.query().nextSibling(U),first:V=>V.length>0?oe.some(V[0]):oe.none()},M),xm=Yd(),Jw=(y,_)=>((T,M,V)=>_k(T,M,md(T),V))(xm,y,_),_b=(y,_)=>((T,M,V)=>Cb(T,M,md(T),V))(xm,y,_),Sb=fm([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),R1=y=>je(y,"tr"),Hh={...Sb,verify:(y,_,T,M,V,U,ee)=>je(M,"td,th",ee).bind(ne=>je(_,"td,th",ee).map(he=>Er(ne,he)?Er(M,ne)&&Os(ne)===V?U(he):Sb.none("in same cell"):Xd(R1,[ne,he]).fold(()=>((Te,Ve,Ee)=>{const Ne=Te.getRect(Ve),Le=Te.getRect(Ee);return Le.right>Ne.left&&Le.left<Ne.right})(y,he,ne)?Sb.success():U(he),Te=>U(he)))).getOr(Sb.none("default")),cata:(y,_,T,M,V)=>y.fold(_,T,M,V)},N1=Oo("br"),Ei=(y,_,T)=>_(y,T).bind(M=>ao(M)&&rm(M).trim().length===0?Ei(M,_,T):oe.some(M)),ox=(y,_,T,M)=>((V,U)=>fu(V,U).filter(N1).orThunk(()=>fu(V,U-1).filter(N1)))(_,T).bind(V=>M.traverse(V).fold(()=>Ei(V,M.gather,y).map(M.relative),U=>(ee=>Xi(ee).bind(ne=>{const he=ca(ne);return((Te,Ve)=>nr(Te,de(Er,Ve)))(he,ee).map(Te=>((Ve,Ee,Ne,Le)=>({parent:Ve,children:Ee,element:Ne,index:Le}))(ne,he,ee,Te))}))(U).map(ee=>xr.on(ee.parent,ee.index)))),gd=(y,_)=>({left:y.left,top:y.top+_,right:y.right,bottom:y.bottom+_}),kb=(y,_)=>({left:y.left,top:y.top-_,right:y.right,bottom:y.bottom-_}),Ou=(y,_,T)=>({left:y.left+_,top:y.top+T,right:y.right+_,bottom:y.bottom+T}),Eb=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom}),Ab=(y,_)=>oe.some(y.getRect(_)),wm=(y,_,T)=>En(_)?Ab(y,_).map(Eb):ao(_)?((M,V,U)=>U>=0&&U<Os(V)?M.getRangedRect(V,U,V,U+1):U>0?M.getRangedRect(V,U-1,V,U):oe.none())(y,_,T).map(Eb):oe.none(),zg=(y,_)=>En(_)?Ab(y,_).map(Eb):ao(_)?y.getRangedRect(_,0,_,Os(_)).map(Eb):oe.none(),hc=fm([{none:[]},{retry:["caret"]}]),Tb=(y,_,T)=>Ye(_,Tg).fold(re,M=>zg(y,M).exists(V=>((U,ee)=>U.left<ee.left||Math.abs(ee.right-U.left)<1||U.left>ee.right)(T,V))),Sk={point:y=>y.bottom,adjuster:(y,_,T,M,V)=>{const U=gd(V,5);return Math.abs(T.bottom-M.bottom)<1||T.top>V.bottom?hc.retry(U):T.top===V.bottom?hc.retry(gd(V,1)):Tb(y,_,V)?hc.retry(Ou(U,5,0)):hc.none()},move:gd,gather:_b},Hl=(y,_,T,M,V)=>V===0?oe.some(M):((U,ee,ne)=>U.elementFromPoint(ee,ne).filter(he=>zt(he)==="table").isSome())(y,M.left,_.point(M))?((U,ee,ne,he,Te)=>Hl(U,ee,ne,ee.move(he,5),Te))(y,_,T,M,V-1):y.situsFromPoint(M.left,_.point(M)).bind(U=>U.start.fold(oe.none,ee=>zg(y,ee).bind(ne=>_.adjuster(y,ee,ne,T,M).fold(oe.none,he=>Hl(y,_,T,he,V-1))).orThunk(()=>oe.some(M)),oe.none)),hd=(y,_,T)=>{const M=y.move(T,5),V=Hl(_,y,T,M,100).getOr(M);return((U,ee,ne)=>U.point(ee)>ne.getInnerHeight()?oe.some(U.point(ee)-ne.getInnerHeight()):U.point(ee)<0?oe.some(-U.point(ee)):oe.none())(y,V,_).fold(()=>_.situsFromPoint(V.left,y.point(V)),U=>(_.scrollBy(0,U),_.situsFromPoint(V.left,y.point(V)-U)))},pc={tryUp:de(hd,{point:y=>y.top,adjuster:(y,_,T,M,V)=>{const U=kb(V,5);return Math.abs(T.top-M.top)<1||T.bottom<V.top?hc.retry(U):T.bottom===V.top?hc.retry(kb(V,1)):Tb(y,_,V)?hc.retry(Ou(U,5,0)):hc.none()},move:kb,gather:Jw}),tryDown:de(hd,Sk),getJumpSize:G(5)},rx=(y,_,T)=>y.getSelection().bind(M=>((V,U,ee,ne)=>(N1(U)?((Te,Ve,Ee)=>Ee.traverse(Ve).orThunk(()=>Ei(Ve,Ee.gather,Te)).map(Ee.relative))(V,U,ne):ox(V,U,ee,ne)).map(Te=>({start:Te,finish:Te})))(_,M.finish,M.foffset,T).fold(()=>oe.some(eo(M.finish,M.foffset)),V=>{const U=y.fromSitus(V);return ee=Hh.verify(y,M.finish,M.foffset,U.finish,U.foffset,T.failure,_),Hh.cata(ee,ne=>oe.none(),()=>oe.none(),ne=>oe.some(eo(ne,0)),ne=>oe.some(eo(ne,Os(ne))));var ee})),sa=(y,_,T,M,V,U)=>U===0?oe.none():kk(y,_,T,M,V).bind(ee=>{const ne=y.fromSitus(ee),he=Hh.verify(y,T,M,ne.finish,ne.foffset,V.failure,_);return Hh.cata(he,()=>oe.none(),()=>oe.some(ee),Te=>Er(T,Te)&&M===0?bc(y,T,M,kb,V):sa(y,_,Te,0,V,U-1),Te=>Er(T,Te)&&M===Os(Te)?bc(y,T,M,gd,V):sa(y,_,Te,Os(Te),V,U-1))}),bc=(y,_,T,M,V)=>wm(y,_,T).bind(U=>il(y,V,M(U,pc.getJumpSize()))),il=(y,_,T)=>{const M=o1().browser;return M.isChromium()||M.isSafari()||M.isFirefox()?_.retry(y,T):oe.none()},kk=(y,_,T,M,V)=>wm(y,T,M).bind(U=>il(y,V,U)),cf=(y,_,T,M,V)=>je(M,"td,th",_).bind(U=>je(U,"table",_).bind(ee=>((ne,he)=>Se(ne,Te=>Xi(Te).exists(Ve=>Er(Ve,he)),void 0).isSome())(V,ee)?((ne,he,Te)=>rx(ne,he,Te).bind(Ve=>sa(ne,he,Ve.element,Ve.offset,Te,20).map(ne.fromSitus)))(y,_,T).bind(ne=>je(ne.finish,"td,th",_).map(he=>({start:U,finish:he,range:ne}))):oe.none())),pd=(y,_,T,M,V,U)=>U(M,_).orThunk(()=>cf(y,_,T,M,V).map(ee=>{const ne=ee.range;return ds(oe.some(ki(ne.start,ne.soffset,ne.finish,ne.foffset)),!0)})),Vh=(y,_)=>je(y,"tr",_).bind(T=>je(T,"table",_).bind(M=>{const V=vr(M,"tr");return Er(T,V[0])?((U,ee,ne)=>_k(xm,U,he=>Vc(he).isSome(),ne))(M,0,_).map(U=>{const ee=Os(U);return ds(oe.some(ki(U,ee,U,ee)),!0)}):oe.none()})),Cm=(y,_)=>je(y,"tr",_).bind(T=>je(T,"table",_).bind(M=>{const V=vr(M,"tr");return Er(T,V[V.length-1])?((U,ee,ne)=>Cb(xm,U,he=>yg(he).isSome(),ne))(M,0,_).map(U=>ds(oe.some(ki(U,0,U,0)),!0)):oe.none()})),Ol=(y,_,T,M,V,U,ee)=>cf(y,T,M,V,U).bind(ne=>xb(_,T,ne.start,ne.finish,ee)),I1=y=>{let _=y;return{get:()=>_,set:T=>{_=T}}},B1=()=>{const y=(_=>{const T=I1(oe.none()),M=()=>T.get().each(_);return{clear:()=>{M(),T.set(oe.none())},isSet:()=>T.get().isSome(),get:()=>T.get(),set:V=>{M(),T.set(oe.some(V))}}})($);return{...y,on:_=>y.get().each(_)}},Ob=(y,_)=>je(y,"td,th",_),M1=y=>du(y).exists(Yn),Qw={traverse:El,gather:_b,relative:xr.before,retry:pc.tryDown,failure:Hh.failedDown},Db={traverse:Gn,gather:Jw,relative:xr.before,retry:pc.tryUp,failure:Hh.failedUp},bd=y=>_=>_===y,Rb=bd(38),Hg=bd(40),Vg=y=>y>=37&&y<=40,uf={isBackward:bd(37),isForward:bd(39)},df={isBackward:bd(39),isForward:bd(37)},Nb=fm([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ff={domRange:Nb.domRange,relative:Nb.relative,exact:Nb.exact,exactFromRange:y=>Nb.exact(y.start,y.soffset,y.finish,y.foffset),getWin:y=>{const _=(T=>T.match({domRange:M=>Vt.fromDom(M.startContainer),relative:(M,V)=>xr.getStart(M),exact:(M,V,U,ee)=>M}))(y);return Vt.fromDom(ec(_).dom.defaultView)},range:yb},mf=(y,_)=>{const T=zt(y);return T==="input"?xr.after(y):rt(["br","img"],T)?_===0?xr.before(y):xr.after(y):xr.on(y,_)},gf=y=>oe.from(y.getSelection()),$g=(y,_)=>{gf(y).each(T=>{T.removeAllRanges(),T.addRange(_)})},P1=(y,_,T,M,V)=>{const U=vb(y,_,T,M,V);$g(y,U)},$h=(y,_)=>D1(y,_).match({ltr:(T,M,V,U)=>{P1(y,T,M,V,U)},rtl:(T,M,V,U)=>{gf(y).each(ee=>{if(ee.setBaseAndExtent)ee.setBaseAndExtent(T.dom,M,V.dom,U);else if(ee.extend)try{((ne,he,Te,Ve,Ee,Ne)=>{he.collapse(Te.dom,Ve),he.extend(Ee.dom,Ne)})(0,ee,T,M,V,U)}catch{P1(y,V,U,T,M)}else P1(y,V,U,T,M)})}}),L1=(y,_,T,M,V)=>{const U=((ee,ne,he,Te)=>{const Ve=mf(ee,ne),Ee=mf(he,Te);return ff.relative(Ve,Ee)})(_,T,M,V);$h(y,U)},sx=(y,_,T)=>{const M=((V,U)=>{const ee=V.fold(xr.before,mf,xr.after),ne=U.fold(xr.before,mf,xr.after);return ff.relative(ee,ne)})(_,T);$h(y,M)},Uh=y=>{if(y.rangeCount>0){const _=y.getRangeAt(0),T=y.getRangeAt(y.rangeCount-1);return oe.some(yb(Vt.fromDom(_.startContainer),_.startOffset,Vt.fromDom(T.endContainer),T.endOffset))}return oe.none()},aa=y=>{if(y.anchorNode===null||y.focusNode===null)return Uh(y);{const _=Vt.fromDom(y.anchorNode),T=Vt.fromDom(y.focusNode);return((M,V,U,ee)=>{const ne=((Te,Ve,Ee,Ne)=>{const Le=uu(Te).dom.createRange();return Le.setStart(Te.dom,Ve),Le.setEnd(Ee.dom,Ne),Le})(M,V,U,ee),he=Er(M,U)&&V===ee;return ne.collapsed&&!he})(_,y.anchorOffset,T,y.focusOffset)?oe.some(yb(_,y.anchorOffset,T,y.focusOffset)):Uh(y)}},ax=(y,_,T=!0)=>{const M=(T?A1:Bs)(y,_);$g(y,M)},eC=y=>(_=>gf(_).filter(T=>T.rangeCount>0).bind(aa))(y).map(_=>ff.exact(_.start,_.soffset,_.finish,_.foffset)),ix=(y,_,T)=>((M,V,U)=>((ee,ne,he)=>ee.caretPositionFromPoint?((Te,Ve,Ee)=>{var Ne;return oe.from((Ne=Te.caretPositionFromPoint)===null||Ne===void 0?void 0:Ne.call(Te,Ve,Ee)).bind(Le=>{if(Le.offsetNode===null)return oe.none();const Je=Te.createRange();return Je.setStart(Le.offsetNode,Le.offset),Je.collapse(),oe.some(Je)})})(ee,ne,he):ee.caretRangeFromPoint?((Te,Ve,Ee)=>{var Ne;return oe.from((Ne=Te.caretRangeFromPoint)===null||Ne===void 0?void 0:Ne.call(Te,Ve,Ee))})(ee,ne,he):oe.none())(M.document,V,U).map(ee=>yb(Vt.fromDom(ee.startContainer),ee.startOffset,Vt.fromDom(ee.endContainer),ee.endOffset)))(y,_,T),lx=y=>({elementFromPoint:(_,T)=>Vt.fromPoint(Vt.fromDom(y.document),_,T),getRect:_=>_.dom.getBoundingClientRect(),getRangedRect:(_,T,M,V)=>{const U=ff.exact(_,T,M,V);return((ee,ne)=>(he=>{const Te=he.getClientRects(),Ve=Te.length>0?Te[0]:he.getBoundingClientRect();return Ve.width>0||Ve.height>0?oe.some(Ve).map(Jy):oe.none()})(Qy(ee,ne)))(y,U)},getSelection:()=>eC(y).map(_=>ex(y,_)),fromSitus:_=>{const T=ff.relative(_.start,_.finish);return ex(y,T)},situsFromPoint:(_,T)=>ix(y,_,T).map(M=>al(M.start,M.soffset,M.finish,M.foffset)),clearSelection:()=>{(_=>{gf(_).each(T=>T.removeAllRanges())})(y)},collapseSelection:(_=!1)=>{eC(y).each(T=>T.fold(M=>M.collapse(_),(M,V)=>{const U=_?M:V;sx(y,U,U)},(M,V,U,ee)=>{const ne=_?M:U,he=_?V:ee;L1(y,ne,he,ne,he)}))},setSelection:_=>{L1(y,_.start,_.soffset,_.finish,_.foffset)},setRelativeSelection:(_,T)=>{sx(y,_,T)},selectNode:_=>{ax(y,_,!1)},selectContents:_=>{ax(y,_)},getInnerHeight:()=>y.innerHeight,getScrollY:()=>(_=>{const T=_!==void 0?_.dom:document,M=T.body.scrollLeft||T.documentElement.scrollLeft,V=T.body.scrollTop||T.documentElement.scrollTop;return Pi(M,V)})(Vt.fromDom(y.document)).top,scrollBy:(_,T)=>{((M,V,U)=>{const ee=(U!==void 0?U.dom:document).defaultView;ee&&ee.scrollBy(M,V)})(_,T,Vt.fromDom(y.document))}}),hf=(y,_)=>({rows:y,cols:_}),F1=y=>Ye(y,Cn).exists(Yn),Ib=(y,_)=>F1(y)||F1(_),cx=y=>y.dom.classList!==void 0,Ek=(y,_)=>((T,M,V)=>{const U=((ee,ne)=>{const he=cn(ee,ne);return he===void 0||he===""?[]:he.split(" ")})(T,M).concat([V]);return ur(T,M,U.join(" ")),!0})(y,"class",_),pf=(y,_)=>{cx(y)?y.dom.classList.add(_):Ek(y,_)},Bb=(y,_)=>cx(y)&&y.dom.classList.contains(_),tC=()=>({tag:"none"}),nC=y=>({tag:"multiple",elements:y}),Gc=y=>({tag:"single",element:y}),ux=y=>{const _=Vt.fromDom((ne=>{if(D(ne.target)){const he=Vt.fromDom(ne.target);if(En(he)&&D(he.dom.shadowRoot)&&ne.composed&&ne.composedPath){const Te=ne.composedPath();if(Te)return xn(Te)}}return oe.from(ne.target)})(y).getOr(y.target)),T=()=>y.stopPropagation(),M=()=>y.preventDefault(),V=(U=M,ee=T,(...ne)=>U(ee.apply(null,ne)));var U,ee;return((ne,he,Te,Ve,Ee,Ne,Le)=>({target:ne,x:he,y:Te,stop:Ve,prevent:Ee,kill:Ne,raw:Le}))(_,y.clientX,y.clientY,T,M,V,y)},z1=(y,_,T,M)=>{y.dom.removeEventListener(_,T,M)},oC=Oe,Ug=(y,_,T)=>((M,V,U,ee)=>((ne,he,Te,Ve,Ee)=>{const Ne=((Le,Je)=>tt=>{Le(tt)&&Je(ux(tt))})(Te,Ve);return ne.dom.addEventListener(he,Ne,Ee),{unbind:de(z1,ne,he,Ne,Ee)}})(M,V,U,ee,!1))(y,_,oC,T),Wh=ux,Mb=y=>!Bb(Vt.fromDom(y.target),"ephox-snooker-resizer-bar"),rC=(y,_)=>{const T=(V=ef.selectedSelector,{get:()=>ic(Vt.fromDom(y.getBody()),V).fold(()=>ns(ac(y),Rs(y)).fold(tC,Gc),nC)}),M=((U,ee,ne)=>{const he=Ne=>{io(Ne,U.selected),io(Ne,U.firstSelected),io(Ne,U.lastSelected)},Te=Ne=>{ur(Ne,U.selected,"1")},Ve=Ne=>{Ee(Ne),ne()},Ee=Ne=>{const Le=vr(Ne,`${U.selectedSelector},${U.firstSelectedSelector},${U.lastSelectedSelector}`);yt(Le,he)};return{clearBeforeUpdate:Ee,clear:Ve,selectRange:(Ne,Le,Je,tt)=>{Ve(Ne),yt(Le,Te),ur(Je,U.firstSelected,"1"),ur(tt,U.lastSelected,"1"),ee(Le,Je,tt)},selectedSelector:U.selectedSelector,firstSelectedSelector:U.firstSelectedSelector,lastSelectedSelector:U.lastSelectedSelector}})(ef,(U,ee,ne)=>{el(ee).each(he=>{const Te=R(U,Le=>Le.dom),Ve=ad(y),Ee=Lr($,Vt.fromDom(y.getDoc()),Ve),Ne=((Le,Je,tt)=>{const Et=bo(Le);return cd(Et,Je).map(Ot=>{const kt=us(Et,tt,!1),{rows:Rt}=Pr(kt),Ut=((nt,mn)=>{const Vn=nt.slice(0,mn[mn.length-1].row+1),co=rb(Vn);return bt(co,jn=>{const $n=jn.cells.slice(0,mn[mn.length-1].column+1);return R($n,lo=>lo.element)})})(Rt,Ot),qt=((nt,mn)=>{const Vn=nt.slice(mn[0].row+mn[0].rowspan-1,nt.length),co=rb(Vn);return bt(co,jn=>{const $n=jn.cells.slice(mn[0].column+mn[0].colspan-1,jn.cells.length);return R($n,lo=>lo.element)})})(Rt,Ot);return{upOrLeftCells:Ut,downOrRightCells:qt}})})(he,{selection:lc(y)},Ee).map(Le=>oi(Le,Je=>R(Je,tt=>tt.dom))).getOrUndefined();((Le,Je,tt,Et,Ot)=>{Le.dispatch("TableSelectionChange",{cells:Je,start:tt,finish:Et,otherCells:Ot})})(y,Te,ee.dom,ne.dom,Ne)})},()=>(U=>{U.dispatch("TableSelectionClear")})(y));var V;return y.on("init",U=>{const ee=y.getWin(),ne=Jo(y),he=Rs(y),Te=((tt,Et,Ot,kt)=>{const Rt=((Ut,qt,nt,mn)=>{const Vn=B1(),co=Vn.clear,jn=$n=>{Vn.on(lo=>{mn.clearBeforeUpdate(qt),Ob($n.target,nt).each(Mo=>{Uc(lo,Mo,nt).each($s=>{const ui=$s.boxes.getOr([]);if(ui.length===1){const Ta=ui[0],Vl=_n(Ta)==="false",Em=Lt(ro($n.target),Ta,Er);Vl&&Em&&mn.selectRange(qt,ui,Ta,Ta)}else ui.length>1&&(mn.selectRange(qt,ui,$s.start,$s.finish),Ut.selectContents(Mo))})})})};return{clearstate:co,mousedown:$n=>{mn.clear(qt),Ob($n.target,nt).filter(M1).each(Vn.set)},mouseover:$n=>{jn($n)},mouseup:$n=>{jn($n),co()}}})(lx(tt),Et,Ot,kt);return{clearstate:Rt.clearstate,mousedown:Rt.mousedown,mouseover:Rt.mouseover,mouseup:Rt.mouseup}})(ee,ne,he,M),Ve=((tt,Et,Ot,kt)=>{const Rt=lx(tt),Ut=()=>(kt.clear(Et),oe.none());return{keydown:(qt,nt,mn,Vn,co,jn)=>{const $n=qt.raw,lo=$n.which,Mo=$n.shiftKey===!0;return tb(Et,kt.selectedSelector).fold(()=>(Vg(lo)&&!Mo&&kt.clearBeforeUpdate(Et),Vg(lo)&&Mo&&!Ib(nt,Vn)?oe.none:Hg(lo)&&Mo?de(Ol,Rt,Et,Ot,Qw,Vn,nt,kt.selectRange):Rb(lo)&&Mo?de(Ol,Rt,Et,Ot,Db,Vn,nt,kt.selectRange):Hg(lo)?de(pd,Rt,Ot,Qw,Vn,nt,Cm):Rb(lo)?de(pd,Rt,Ot,Db,Vn,nt,Vh):oe.none),ui=>{const Ta=Vl=>()=>J(Vl,di=>((Du,jh,yf,Kh,j1)=>ja(Kh,Du,jh,j1.firstSelectedSelector,j1.lastSelectedSelector).map(xf=>(j1.clearBeforeUpdate(yf),j1.selectRange(yf,xf.boxes,xf.start,xf.finish),xf.boxes)))(di.rows,di.cols,Et,ui,kt)).fold(()=>Jd(Et,kt.firstSelectedSelector,kt.lastSelectedSelector).map(di=>{const Du=Hg(lo)||jn.isForward(lo)?xr.after:xr.before;return Rt.setRelativeSelection(xr.on(di.first,0),Du(di.table)),kt.clear(Et),ds(oe.none(),!0)}),di=>oe.some(ds(oe.none(),!0)));return Vg(lo)&&Mo&&!Ib(nt,Vn)?oe.none:Hg(lo)&&Mo?Ta([hf(1,0)]):Rb(lo)&&Mo?Ta([hf(-1,0)]):jn.isBackward(lo)&&Mo?Ta([hf(0,-1),hf(-1,0)]):jn.isForward(lo)&&Mo?Ta([hf(0,1),hf(1,0)]):Vg(lo)&&!Mo?Ut:oe.none})()},keyup:(qt,nt,mn,Vn,co)=>tb(Et,kt.selectedSelector).fold(()=>{const jn=qt.raw,$n=jn.which;return jn.shiftKey===!0&&Vg($n)&&Ib(nt,Vn)?((lo,Mo,$s,ui,Ta,Vl,Em)=>Er($s,Ta)&&ui===Vl?oe.none():je($s,"td,th",Mo).bind(di=>je(Ta,"td,th",Mo).bind(Du=>xb(lo,Mo,di,Du,Em))))(Et,Ot,nt,mn,Vn,co,kt.selectRange):oe.none()},oe.none)}})(ee,ne,he,M),Ee=((tt,Et,Ot,kt)=>{const Rt=lx(tt);return(Ut,qt)=>{kt.clearBeforeUpdate(Et),Uc(Ut,qt,Ot).each(nt=>{const mn=nt.boxes.getOr([]);kt.selectRange(Et,mn,nt.start,nt.finish),Rt.selectContents(qt),Rt.collapseSelection()})}})(ee,ne,he,M);y.on("TableSelectorChange",tt=>Ee(tt.start,tt.finish));const Ne=(tt,Et)=>{(Ot=>Ot.raw.shiftKey===!0)(tt)&&(Et.kill&&tt.kill(),Et.selection.each(Ot=>{const kt=ff.relative(Ot.start,Ot.finish),Rt=Qy(ee,kt);y.selection.setRng(Rt)}))},Le=tt=>tt.button===0,Je=(()=>{const tt=I1(Vt.fromDom(ne)),Et=I1(0);return{touchEnd:Ot=>{const kt=Vt.fromDom(Ot.target);if(Oo("td")(kt)||Oo("th")(kt)){const Rt=tt.get(),Ut=Et.get();Er(Rt,kt)&&Ot.timeStamp-Ut<300&&(Ot.preventDefault(),Ee(kt,kt))}tt.set(kt),Et.set(Ot.timeStamp)}}})();y.on("dragstart",tt=>{Te.clearstate()}),y.on("mousedown",tt=>{Le(tt)&&Mb(tt)&&Te.mousedown(Wh(tt))}),y.on("mouseover",tt=>{var Et;(Et=tt).buttons!==void 0&&!(1&Et.buttons)||!Mb(tt)||Te.mouseover(Wh(tt))}),y.on("mouseup",tt=>{Le(tt)&&Mb(tt)&&Te.mouseup(Wh(tt))}),y.on("touchend",Je.touchEnd),y.on("keyup",tt=>{const Et=Wh(tt);if(Et.raw.shiftKey&&Vg(Et.raw.which)){const Ot=y.selection.getRng(),kt=Vt.fromDom(Ot.startContainer),Rt=Vt.fromDom(Ot.endContainer);Ve.keyup(Et,kt,Ot.startOffset,Rt,Ot.endOffset).each(Ut=>{Ne(Et,Ut)})}}),y.on("keydown",tt=>{const Et=Wh(tt);_.hide();const Ot=y.selection.getRng(),kt=Vt.fromDom(Ot.startContainer),Rt=Vt.fromDom(Ot.endContainer),Ut=_o(uf,df)(Vt.fromDom(y.selection.getStart()));Ve.keydown(Et,kt,Ot.startOffset,Rt,Ot.endOffset,Ut).each(qt=>{Ne(Et,qt)}),_.show()}),y.on("NodeChange",()=>{const tt=y.selection,Et=Vt.fromDom(tt.getStart()),Ot=Vt.fromDom(tt.getEnd());Xd(el,[Et,Ot]).fold(()=>M.clear(ne),$)})}),y.on("PreInit",()=>{y.serializer.addTempAttr(ef.firstSelected),y.serializer.addTempAttr(ef.lastSelected)}),{getSelectedCells:()=>((U,ee,ne,he)=>{switch(U.tag){case"none":return ee();case"single":return(Te=>[Te.dom])(U.element);case"multiple":return(Te=>R(Te,Ve=>Ve.dom))(U.elements)}})(T.get(),G([])),clearSelectedCells:U=>M.clear(Vt.fromDom(U))}},Yc=y=>{let _=[];return{bind:T=>{if(T===void 0)throw new Error("Event bind error: undefined handler");_.push(T)},unbind:T=>{_=ln(_,M=>M!==T)},trigger:(...T)=>{const M={};yt(y,(V,U)=>{M[V]=T[U]}),yt(_,V=>{V(M)})}}},_m=y=>({registry:oi(y,_=>({bind:_.bind,unbind:_.unbind})),trigger:oi(y,_=>_.trigger)}),Pb=y=>y.slice(0).sort(),Lb=(y,_)=>{const T=ln(_,M=>!rt(y,M));T.length>0&&(M=>{throw new Error("Unsupported keys for object: "+Pb(M).join(", "))})(T)},H1=y=>((_,T)=>((M,V,U)=>{if(V.length===0)throw new Error("You must specify at least one required field.");return((ee,ne)=>{if(!x(ne))throw new Error("The "+ee+" fields must be an array. Was: "+ne+".");yt(ne,he=>{if(!v(he))throw new Error("The value "+he+" in the "+ee+" fields was not a string.")})})("required",V),(ee=>{const ne=Pb(ee);On(ne,(he,Te)=>Te<ne.length-1&&he===ne[Te+1]).each(he=>{throw new Error("The field: "+he+" occurs more than once in the combined fields: ["+ne.join(", ")+"].")})})(V),ee=>{const ne=sr(ee);Zt(V,Te=>rt(ne,Te))||((Te,Ve)=>{throw new Error("All required keys ("+Pb(Te).join(", ")+") were not specified. Specified keys were: "+Pb(Ve).join(", ")+".")})(V,ne),M(V,ne);const he=ln(V,Te=>!U.validate(ee[Te],Te));return he.length>0&&((Te,Ve)=>{throw new Error("All values need to be of type: "+Ve+". Keys ("+Pb(Te).join(", ")+") were not.")})(he,U.label),ee}})(_,T,{validate:z,label:"function"}))(Lb,y),Fb=H1(["compare","extract","mutate","sink"]),Ya=H1(["element","start","stop","destroy"]),V1=H1(["forceDrop","drop","move","delayDrop"]),Sm=()=>{const y=(()=>{const M=_m({move:Yc(["info"])});return{onEvent:$,reset:$,events:M.registry}})(),_=(()=>{let M=oe.none();const V=_m({move:Yc(["info"])});return{onEvent:(U,ee)=>{ee.extract(U).each(ne=>{((Te,Ve)=>{const Ee=M.map(Ne=>Te.compare(Ne,Ve));return M=oe.some(Ve),Ee})(ee,ne).each(Te=>{V.trigger.move(Te)})})},reset:()=>{M=oe.none()},events:V.registry}})();let T=y;return{on:()=>{T.reset(),T=_},off:()=>{T.reset(),T=y},isOn:()=>T===_,onEvent:(M,V)=>{T.onEvent(M,V)},events:_.events}},km=y=>{const _=y.replace(/\./g,"-");return{resolve:T=>_+"-"+T}},zb=km("ephox-dragster").resolve;var $1=Fb({compare:(y,_)=>Pi(_.left-y.left,_.top-y.top),extract:y=>oe.some(Pi(y.x,y.y)),sink:(y,_)=>{const T=(ne=>{const he={layerClass:zb("blocker"),...ne},Te=Vt.fromTag("div");return ur(Te,"role","presentation"),hl(Te,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),pf(Te,zb("blocker")),pf(Te,he.layerClass),{element:G(Te),destroy:()=>{jr(Te)}}})(_),M=Ug(T.element(),"mousedown",y.forceDrop),V=Ug(T.element(),"mouseup",y.drop),U=Ug(T.element(),"mousemove",y.move),ee=Ug(T.element(),"mouseout",y.delayDrop);return Ya({element:T.element,start:ne=>{ts(ne,T.element())},stop:()=>{jr(T.element())},destroy:()=>{T.destroy(),V.unbind(),U.unbind(),ee.unbind(),M.unbind()}})},mutate:(y,_)=>{y.mutate(_.left,_.top)}});const Wg=km("ephox-snooker").resolve,bf=Wg("resizer-bar"),dx=Wg("resizer-rows"),U1=Wg("resizer-cols"),$i=y=>{const _=vr(y.parent(),"."+bf);yt(_,jr)},vf=(y,_,T)=>{const M=y.origin();yt(_,V=>{V.each(U=>{const ee=T(M,U);pf(ee,bf),ts(y.parent(),ee)})})},fx=(y,_,T,M,V)=>{const U=jd(T),ee=_.isResizable,ne=M.length>0?vu.positions(M,T):[],he=ne.length>0?((Ee,Ne)=>bt(Ee.all,(Le,Je)=>Ne(Le.element)?[Je]:[]))(y,ee):[];((Ee,Ne,Le,Je)=>{vf(Ee,Ne,(tt,Et)=>{const Ot=((kt,Rt,Ut,qt,nt)=>{const mn=Vt.fromTag("div");return hl(mn,{position:"absolute",left:Rt+"px",top:Ut-3.5+"px",height:"7px",width:qt+"px"}),bi(mn,{"data-row":kt,role:"presentation"}),mn})(Et.row,Le.left-tt.left,Et.y-tt.top,Je);return pf(Ot,dx),Ot})})(_,ln(ne,(Ee,Ne)=>Ce(he,Le=>Ne===Le)),U,hg(T));const Te=V.length>0?Kd.positions(V,T):[],Ve=Te.length>0?((Ee,Ne)=>{const Le=[];return Re(Ee.grid.columns,Je=>{ir(Ee,Je).map(tt=>tt.element).forall(Ne)&&Le.push(Je)}),ln(Le,Je=>{const tt=_a(Ee,Et=>Et.column===Je);return Zt(tt,Et=>Ne(Et.element))})})(y,ee):[];((Ee,Ne,Le,Je)=>{vf(Ee,Ne,(tt,Et)=>{const Ot=((kt,Rt,Ut,qt,nt)=>{const mn=Vt.fromTag("div");return hl(mn,{position:"absolute",left:Rt-3.5+"px",top:Ut+"px",height:nt+"px",width:"7px"}),bi(mn,{"data-column":kt,role:"presentation"}),mn})(Et.col,Et.x-tt.left,Le.top-tt.top,0,Je);return pf(Ot,U1),Ot})})(_,ln(Te,(Ee,Ne)=>Ce(Ve,Le=>Ne===Le)),U,jp(T))},mt=(y,_)=>{if($i(y),y.isResizable(_)){const T=bo(_),M=od(T),V=_h(T);fx(T,y,_,M,V)}},Zh=(y,_)=>{const T=vr(y.parent(),"."+bf);yt(T,_)},Ak=y=>{Zh(y,_=>{fo(_,"display","none")})},sC=y=>{Zh(y,_=>{fo(_,"display","block")})},W1=Wg("resizer-bar-dragging"),Xc=y=>{const _=(()=>{const Ee=_m({drag:Yc(["xDelta","yDelta","target"])});let Ne=oe.none();const Le=(()=>{const Je=_m({drag:Yc(["xDelta","yDelta"])});return{mutate:(tt,Et)=>{Je.trigger.drag(tt,Et)},events:Je.registry}})();return Le.events.drag.bind(Je=>{Ne.each(tt=>{Ee.trigger.drag(Je.xDelta,Je.yDelta,tt)})}),{assign:Je=>{Ne=oe.some(Je)},get:()=>Ne,mutate:Le.mutate,events:Ee.registry}})(),T=((Ee,Ne={})=>{var Le;return((Je,tt,Et)=>{let Ot=!1;const kt=_m({start:Yc([]),stop:Yc([])}),Rt=Sm(),Ut=()=>{mn.stop(),Rt.isOn()&&(Rt.off(),kt.trigger.stop())},qt=((Vn,co)=>{let jn=null;const $n=()=>{S(jn)||(clearTimeout(jn),jn=null)};return{cancel:$n,throttle:(...lo)=>{$n(),jn=setTimeout(()=>{jn=null,Vn.apply(null,lo)},200)}}})(Ut);Rt.events.move.bind(Vn=>{tt.mutate(Je,Vn.info)});const nt=Vn=>(...co)=>{Ot&&Vn.apply(null,co)},mn=tt.sink(V1({forceDrop:Ut,drop:nt(Ut),move:nt(Vn=>{qt.cancel(),Rt.onEvent(Vn,tt)}),delayDrop:nt(qt.throttle)}),Et);return{element:mn.element,go:Vn=>{mn.start(Vn),Rt.on(),kt.trigger.start()},on:()=>{Ot=!0},off:()=>{Ot=!1},isActive:()=>Ot,destroy:()=>{mn.destroy()},events:kt.registry}})(Ee,(Le=Ne.mode)!==null&&Le!==void 0?Le:$1,Ne)})(_,{});let M=oe.none();const V=(Ee,Ne)=>oe.from(cn(Ee,Ne));_.events.drag.bind(Ee=>{V(Ee.target,"data-row").each(Ne=>{const Le=zd(Ee.target,"top");fo(Ee.target,"top",Le+Ee.yDelta+"px")}),V(Ee.target,"data-column").each(Ne=>{const Le=zd(Ee.target,"left");fo(Ee.target,"left",Le+Ee.xDelta+"px")})});const U=(Ee,Ne)=>zd(Ee,Ne)-as(Ee,"data-initial-"+Ne,0);T.events.stop.bind(()=>{_.get().each(Ee=>{M.each(Ne=>{V(Ee,"data-row").each(Le=>{const Je=U(Ee,"top");io(Ee,"data-initial-top"),Ve.trigger.adjustHeight(Ne,Je,parseInt(Le,10))}),V(Ee,"data-column").each(Le=>{const Je=U(Ee,"left");io(Ee,"data-initial-left"),Ve.trigger.adjustWidth(Ne,Je,parseInt(Le,10))}),mt(y,Ne)})})});const ee=(Ee,Ne)=>{Ve.trigger.startAdjust(),_.assign(Ee),ur(Ee,"data-initial-"+Ne,zd(Ee,Ne)),pf(Ee,W1),fo(Ee,"opacity","0.2"),T.go(y.parent())},ne=Ug(y.parent(),"mousedown",Ee=>{var Ne;Ne=Ee.target,Bb(Ne,dx)&&ee(Ee.target,"top"),(Le=>Bb(Le,U1))(Ee.target)&&ee(Ee.target,"left")}),he=Ee=>Er(Ee,y.view()),Te=Ug(y.view(),"mouseover",Ee=>{var Ne;(Ne=Ee.target,je(Ne,"table",he).filter(Yn)).fold(()=>{Ii(Ee.target)&&$i(y)},Le=>{T.isActive()&&(M=oe.some(Le),mt(y,Le))})}),Ve=_m({adjustHeight:Yc(["table","delta","row"]),adjustWidth:Yc(["table","delta","column"]),startAdjust:Yc([])});return{destroy:()=>{ne.unbind(),Te.unbind(),T.destroy(),$i(y)},refresh:Ee=>{mt(y,Ee)},on:T.on,off:T.off,hideBars:de(Ak,y),showBars:de(sC,y),events:Ve.registry}},Z1=y=>D(y)&&y.nodeName==="TABLE",Hb="bar-",mx=y=>cn(y,"data-mce-resize")!=="false",gx=y=>{const _=B1(),T=B1(),M=B1();let V,U,ee,ne;const he=Ee=>af(y,Ee),Te=()=>wg(y)?l1():Eu(),Ve=(Ee,Ne,Le,Je)=>{const tt=(kt=>{return oo(Rt=kt,"corner-")?((Ut,qt)=>Ut.substring(7))(Rt):Rt;var Rt})(Ne),Et=Jt(tt,"e"),Ot=oo(tt,"n");if(U===""&&Ig(Ee),ne===""&&(kt=>{const Rt=(Ut=>rd(Ut)+"px")(kt);Nr(kt,oe.none(),oe.some(Rt)),Kc(kt)})(Ee),Le!==V&&U!==""){fo(Ee,"width",U);const kt=Te(),Rt=he(Ee),Ut=wg(y)||Et?(qt=>Zc(qt).columns)(Ee)-1:0;ud(Ee,Le-V,Ut,kt,Rt)}else if((kt=>/^(\d+(\.\d+)?)%$/.test(kt))(U)){const kt=parseFloat(U.replace("%",""));fo(Ee,"width",Le*kt/V+"%")}if((kt=>/^(\d+(\.\d+)?)px$/.test(kt))(U)&&(kt=>{const Rt=bo(kt);oc(Rt)||yt(ms(kt),Ut=>{const qt=La(Ut,"width");fo(Ut,"width",qt),io(Ut,"width")})})(Ee),Je!==ee&&ne!==""){fo(Ee,"height",ne);const kt=Ot?0:(Rt=>Zc(Rt).rows)(Ee)-1;kg(Ee,Je-ee,kt)}};return y.on("init",()=>{const Ee=((Ne,Le)=>Ne.inline?((Je,tt,Et)=>({parent:G(tt),view:G(Je),origin:G(Pi(0,0)),isResizable:Et}))(Vt.fromDom(Ne.getBody()),(()=>{const Je=Vt.fromTag("div");return hl(Je,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),ts(Nc(Vt.fromDom(document)),Je),Je})(),Le):((Je,tt)=>{const Et=vo(Je)?(Ot=>Vt.fromDom(ec(Ot).dom.documentElement))(Je):Je;return{parent:G(Et),view:G(Je),origin:G(Pi(0,0)),isResizable:tt}})(Vt.fromDom(Ne.getDoc()),Le))(y,mx);if(M.set(Ee),(Ne=>{const Le=Ne.options.get("object_resizing");return rt(Le.split(","),"table")})(y)&&te(y)){const Ne=((Le,Je,tt)=>{const Et=vu,Ot=Kd,kt=Xc(Le),Rt=_m({beforeResize:Yc(["table","type"]),afterResize:Yc(["table","type"]),startDrag:Yc([])});return kt.events.adjustHeight.bind(Ut=>{const qt=Ut.table;Rt.trigger.beforeResize(qt,"row");const nt=Et.delta(Ut.delta,qt);kg(qt,nt,Ut.row),Rt.trigger.afterResize(qt,"row")}),kt.events.startAdjust.bind(Ut=>{Rt.trigger.startDrag()}),kt.events.adjustWidth.bind(Ut=>{const qt=Ut.table;Rt.trigger.beforeResize(qt,"col");const nt=Ot.delta(Ut.delta,qt),mn=tt(qt);ud(qt,nt,Ut.column,Je,mn),Rt.trigger.afterResize(qt,"col")}),{on:kt.on,off:kt.off,refreshBars:kt.refresh,hideBars:kt.hideBars,showBars:kt.showBars,destroy:kt.destroy,events:Rt.registry}})(Ee,Te(),he);Ne.on(),Ne.events.startDrag.bind(Le=>{_.set(y.selection.getRng())}),Ne.events.beforeResize.bind(Le=>{const Je=Le.table.dom;((tt,Et,Ot,kt,Rt)=>{tt.dispatch("ObjectResizeStart",{target:Et,width:Ot,height:kt,origin:Rt})})(y,Je,am(Je),im(Je),Hb+Le.type)}),Ne.events.afterResize.bind(Le=>{const Je=Le.table,tt=Je.dom;cs(Je),_.on(Et=>{y.selection.setRng(Et),y.focus()}),((Et,Ot,kt,Rt,Ut)=>{Et.dispatch("ObjectResized",{target:Ot,width:kt,height:Rt,origin:Ut})})(y,tt,am(tt),im(tt),Hb+Le.type),y.undoManager.add()}),T.set(Ne)}}),y.on("ObjectResizeStart",Ee=>{const Ne=Ee.target;if(Z1(Ne)){const Le=Vt.fromDom(Ne);yt(y.dom.select(".mce-clonedresizable"),Je=>{y.dom.addClass(Je,"mce-"+xg(y)+"-columns")}),!Yr(Le)&&I(y)?sl(Le):!E1(Le)&&Su(y)&&Ig(Le),Tu(Le)&&oo(Ee.origin,Hb)&&Ig(Le),V=Ee.width,U=Z(y)?"":Lw(y,Ne).getOr(""),ee=Ee.height,ne=Jp(y,Ne).getOr("")}}),y.on("ObjectResized",Ee=>{const Ne=Ee.target;if(Z1(Ne)){const Le=Vt.fromDom(Ne),Je=Ee.origin;(tt=>oo(tt,"corner-"))(Je)&&Ve(Le,Je,Ee.width,Ee.height),cs(Le),fd(y,Le.dom,_1)}}),y.on("SwitchMode",()=>{T.on(Ee=>{y.mode.isReadOnly()?Ee.hideBars():Ee.showBars()})}),y.on("dragstart dragend",Ee=>{T.on(Ne=>{Ee.type==="dragstart"?(Ne.hideBars(),Ne.off()):(Ne.on(),Ne.showBars())})}),y.on("remove",()=>{T.on(Ee=>{Ee.destroy()}),M.on(Ee=>{((Ne,Le)=>{Ne.inline&&jr(Le.parent())})(y,Ee)})}),{refresh:Ee=>{T.on(Ne=>Ne.refreshBars(Vt.fromDom(Ee)))},hide:()=>{T.on(Ee=>Ee.hideBars())},show:()=>{T.on(Ee=>Ee.showBars())}}},Tk=y=>{(V=>{const U=V.options.register;U("table_clone_elements",{processor:"string[]"}),U("table_use_colgroups",{processor:"boolean",default:!0}),U("table_header_type",{processor:ee=>{const ne=rt(["section","cells","sectionCells","auto"],ee);return ne?{value:ee,valid:ne}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),U("table_sizing_mode",{processor:"string",default:"auto"}),U("table_default_attributes",{processor:"object",default:{border:"1"}}),U("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),U("table_column_resizing",{processor:ee=>{const ne=rt(["preservetable","resizetable"],ee);return ne?{value:ee,valid:ne}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),U("table_resize_bars",{processor:"boolean",default:!0}),U("table_style_by_css",{processor:"boolean",default:!0}),U("table_merge_content_on_paste",{processor:"boolean",default:!0})})(y);const _=gx(y),T=rC(y,_),M=Ky(y,_,T);return vs(y,M),((V,U)=>{const ee=Rs(V),ne=he=>ns(ac(V)).bind(Te=>el(Te,ee).map(Ve=>{const Ee=go(lc(V),Ve,Te);return he(Ve,Ee)})).getOr("");Ko({mceTableRowType:()=>ne(U.getTableRowType),mceTableCellType:()=>ne(U.getTableCellType),mceTableColType:()=>ne(U.getTableColType)},(he,Te)=>V.addQueryValueHandler(Te,he))})(y,M),cc(y,M),{getSelectedCells:T.getSelectedCells,clearSelectedCells:T.clearSelectedCells}};r.add("dom",y=>({table:Tk(y)}))})();tinymce.Resource.add("ui/default/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(0,101,216,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255,165,0,.08);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204,0,0,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{font-size:14px;margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active{background-color:#006ce7}.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border:2px solid highlight}}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#fff;position:relative}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment{background:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 8px 16px 8px;position:relative}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #006ce7;color:#006ce7}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#006ce7;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#003c81;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #006ce7;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#00244e;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#fff;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between;overflow:hidden}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:first-child{border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-text-color__color{opacity:.6}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);tinymce.addI18n("de",{"#":"#",Accessibility:"Barrierefreiheit",Accordion:"","Accordion body...":"","Accordion summary...":"",Action:"Aktion",Activity:"Aktivitt",Address:"Adresse",Advanced:"Erweitert",Align:"Ausrichtung","Align center":"Zentrieren","Align left":"Linksbndig ausrichten","Align right":"Rechtsbndig ausrichten",Alignment:"Ausrichtung","Alignment {0}":"",All:"Alle","Alternative description":"Alternative Beschreibung","Alternative source":"Alternative Quelle","Alternative source URL":"URL der alternativen Quelle",Anchor:"Anker","Anchor...":"Textmarke",Anchors:"Anker","Animals and Nature":"Tiere und Natur",Arrows:"Pfeile",B:"B","Background color":"Hintergrundfarbe","Background color {0}":"",Black:"Schwarz",Block:"Blocksatz","Block {0}":"",Blockquote:"Blockzitat",Blocks:"Blcke",Blue:"Blau","Blue component":"Blauanteil",Body:"Inhalt",Bold:"Fett",Border:"Rahmen","Border color":"Rahmenfarbe","Border style":"Rahmenstil","Border width":"Rahmenbreite",Bottom:"Unten","Browse files":"","Browse for an image":"Bild...","Browse links":"","Bullet list":"Aufzhlung",Cancel:"Abbrechen",Caption:"Beschriftung",Cell:"Zelle","Cell padding":"Zelleninnenabstand","Cell properties":"Zelleigenschaften","Cell spacing":"Zellenabstand","Cell styles":"Zellstil","Cell type":"Zelltyp",Center:"Zentriert",Characters:"Zeichen","Characters (no spaces)":"Zeichen (ohne Leerzeichen)",Circle:"Kreis",Class:"Klasse","Clear formatting":"Formatierung entfernen",Close:"Schlieen",Code:"Code","Code sample...":"Codebeispiel...","Code view":"Code Ansicht","Color Picker":"Farbwahl","Color swatch":"Farbpalette",Cols:"Spalten",Column:"Spalte","Column clipboard actions":"Spalten-Zwischenablage-Aktionen","Column group":"Spaltengruppe","Column header":"Spaltenkopf","Constrain proportions":"Seitenverhltnis beibehalten",Copy:"Kopieren","Copy column":"Spalte kopieren","Copy row":"Zeile kopieren","Could not find the specified string.":"Die angegebene Zeichenfolge wurde nicht gefunden.","Could not load emojis":"Emojis konnten nicht geladen werden",Count:"Anzahl",Currency:"Whrung","Current window":"Aktuelles Fenster","Custom color":"Benutzerdefinierte Farbe","Custom...":"Benutzerdefiniert...",Cut:"Ausschneiden","Cut column":"Spalte ausschneiden","Cut row":"Zeile ausschneiden","Dark Blue":"Dunkelblau","Dark Gray":"Dunkelgrau","Dark Green":"Dunkelgrn","Dark Orange":"Dunkelorange","Dark Purple":"Dunkellila","Dark Red":"Dunkelrot","Dark Turquoise":"Dunkeltrkis","Dark Yellow":"Dunkelgelb",Dashed:"Gestrichelt","Date/time":"Datum/Uhrzeit","Decrease indent":"Einzug verkleinern",Default:"Standard","Delete accordion":"","Delete column":"Spalte lschen","Delete row":"Zeile lschen","Delete table":"Tabelle lschen",Dimensions:"Abmessungen",Disc:"Scheibe",Div:"Div",Document:"Dokument",Dotted:"Gepunktet",Double:"Doppelt","Drop an image here":"Bild hier ablegen","Dropped file type is not supported":"Hereingezogener Dateityp wird nicht untersttzt",Edit:"Bearbeiten",Embed:"Einbettung",Emojis:"Emojis","Emojis...":"Emojis...",Error:"Fehler","Error: Form submit field collision.":"Fehler: Kollision der Formularbesttigungsfelder.","Error: No form element found.":"Fehler: Kein Formularelement gefunden.","Extended Latin":"Erweitertes Latein","Failed to initialize plugin: {0}":"Plugin konnte nicht initialisiert werden: {0}","Failed to load plugin url: {0}":"Plugin-URL konnte nicht geladen werden: {0}","Failed to load plugin: {0} from url {1}":"Plugin konnte nicht geladen werden: {0} von URL {1}","Failed to upload image: {0}":"Bild konnte nicht hochgeladen werden: {0}",File:"Datei",Find:"Suchen","Find (if searchreplace plugin activated)":"Suchen (wenn Suchen/Ersetzen-Plugin aktiviert ist)","Find and Replace":"Suchen und Ersetzen","Find and replace...":"Suchen und ersetzen...","Find in selection":"In Auswahl suchen","Find whole words only":"Nur ganze Wrter suchen",Flags:"Flaggen","Focus to contextual toolbar":"Fokus auf kontextbezogene Symbolleiste","Focus to element path":"Fokus auf Elementpfad","Focus to menubar":"Fokus auf Menleiste","Focus to toolbar":"Fokus auf Symbolleiste",Font:"Schriftart","Font size {0}":"","Font sizes":"Schriftgren","Font {0}":"",Fonts:"Schriftarten","Food and Drink":"Essen und Trinken",Footer:"Fuzeile",Format:"Format","Format {0}":"",Formats:"Formate",Fullscreen:"Vollbild",G:"G",General:"Allgemein",Gray:"Grau",Green:"Grn","Green component":"Grnanteil",Groove:"Gekantet","Handy Shortcuts":"Praktische Tastenkombinationen",Header:"Kopfzeile","Header cell":"Kopfzelle","Heading 1":"berschrift 1","Heading 2":"berschrift 2","Heading 3":"berschrift 3","Heading 4":"berschrift 4","Heading 5":"berschrift 5","Heading 6":"berschrift 6",Headings:"berschriften",Height:"Hhe",Help:"Hilfe","Hex color code":"Hexadezimal-Farbwert",Hidden:"Unsichtbar","Horizontal align":"Horizontal ausrichten","Horizontal line":"Horizontale Linie","Horizontal space":"Horizontaler Raum",ID:"ID","ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"Die ID muss mit einem Buchstaben beginnen gefolgt von Buchstaben, Zahlen, Bindestrichen, Punkten, Doppelpunkten oder Unterstrichen.","Image is decorative":"Bild ist dekorativ","Image list":"Bildliste","Image title":"Bildtitel","Image...":"Bild...","ImageProxy HTTP error: Could not find Image Proxy":"Image Proxy HTTP Fehler: Kann Image Proxy nicht finden","ImageProxy HTTP error: Incorrect Image Proxy URL":"Image Proxy HTTP Fehler: Falsche Image Proxy URL","ImageProxy HTTP error: Rejected request":"Image Proxy HTTP Fehler: Abgewiesene Anfrage","ImageProxy HTTP error: Unknown ImageProxy error":"Image Proxy HTTP Fehler: Unbekannter Image Proxy Fehler","Increase indent":"Einzug vergrern",Inline:"Zeichenformate",Insert:"Einfgen","Insert Template":"Vorlage einfgen","Insert accordion":"","Insert column after":"Neue Spalte danach einfgen","Insert column before":"Neue Spalte davor einfgen","Insert date/time":"Datum/Uhrzeit einfgen","Insert image":"Bild einfgen","Insert link (if link plugin activated)":"Link einfgen (wenn Link-Plugin aktiviert ist)","Insert row after":"Neue Zeile danach einfgen","Insert row before":"Neue Zeile davor einfgen","Insert table":"Tabelle einfgen","Insert template...":"Vorlage einfgen...","Insert video":"Video einfgen","Insert/Edit code sample":"Codebeispiel einfgen/bearbeiten","Insert/edit image":"Bild einfgen/bearbeiten","Insert/edit link":"Link einfgen/bearbeiten","Insert/edit media":"Medien einfgen/bearbeiten","Insert/edit video":"Video einfgen/bearbeiten",Inset:"Eingelassen","Invalid hex color code: {0}":"Ungltiger Hexadezimal-Farbwert: {0}","Invalid input":"Ungltige Eingabe",Italic:"Kursiv",Justify:"Blocksatz","Keyboard Navigation":"Tastaturnavigation",Language:"Sprache","Learn more...":"Erfahren Sie mehr dazu...",Left:"Links","Left to right":"Von links nach rechts","Light Blue":"Hellblau","Light Gray":"Hellgrau","Light Green":"Hellgrn","Light Purple":"Helllila","Light Red":"Hellrot","Light Yellow":"Hellgelb","Line height":"Liniendicke","Link list":"Linkliste","Link...":"Link...","List Properties":"Liste Eigenschaften","List properties...":"Liste Eigenschaften","Loading emojis...":"Lade Emojis...","Loading...":"Wird geladen...","Lower Alpha":"Lateinisches Alphabet in Kleinbuchstaben","Lower Greek":"Griechische Kleinbuchstaben","Lower Roman":"Kleiner rmischer Buchstabe","Match case":"Gro-/Kleinschreibung beachten",Mathematical:"Mathematisch","Media poster (Image URL)":"Medienposter (Bild-URL)","Media...":"Medien...","Medium Blue":"Mittleres Blau","Medium Gray":"Mittelgrau","Medium Purple":"Mittelviolett","Merge cells":"Zellen verbinden",Middle:"Mitte","Midnight Blue":"Mitternachtsblau","More...":"Mehr...",Name:"Name","Navy Blue":"Marineblau","New document":"Neues Dokument","New window":"Neues Fenster",Next:"Nchste",No:"Nein","No alignment":"Keine Ausrichtung","No color":"Keine Farbe","Nonbreaking space":"Geschtztes Leerzeichen",None:"Keine","Numbered list":"Nummerierte Liste",OR:"ODER",Objects:"Objekte",Ok:"Ok","Open help dialog":"Hilfe-Dialog ffnen","Open link":"Link ffnen","Open link in...":"Link ffnen in...","Open popup menu for split buttons":"ffne Popup Menge um Buttons zu trennen",Orange:"Orange",Outset:"Hervorstehend","Page break":"Seitenumbruch",Paragraph:"Absatz",Paste:"Einfgen","Paste as text":"Als Text einfgen","Paste column after":"Spalte danach einfgen","Paste column before":"Spalte davor einfgen","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"Einfgen ist nun im unformatierten Textmodus. Inhalte werden ab jetzt als unformatierter Text eingefgt, bis Sie diese Einstellung wieder deaktivieren.","Paste or type a link":"Link einfgen oder eingeben","Paste row after":"Zeile danach einfgen","Paste row before":"Zeile davor einfgen","Paste your embed code below:":"Fgen Sie Ihren Einbettungscode unten ein:",People:"Menschen",Plugins:"Plugins","Plugins installed ({0}):":"Installierte Plugins ({0}):","Powered by {0}":"Betrieben von {0}",Pre:"Pre",Preferences:"Einstellungen",Preformatted:"Vorformatiert","Premium plugins:":"Premium-Plugins:","Press the Up and Down arrow keys to resize the editor.":"","Press the arrow keys to resize the editor.":"","Press {0} for help":"",Preview:"Vorschau",Previous:"Vorherige",Print:"Drucken","Print...":"Drucken...",Purple:"Violett",Quotations:"Anfhrungszeichen",R:"R","Range 0 to 255":"Spanne 0 bis 255",Red:"Rot","Red component":"Rotanteil",Redo:"Wiederholen",Remove:"Entfernen","Remove color":"Farbauswahl aufheben","Remove link":"Link entfernen",Replace:"Ersetzen","Replace all":"Alle ersetzen","Replace with":"Ersetzen durch",Resize:"Skalieren","Restore last draft":"Letzten Entwurf wiederherstellen","Reveal or hide additional toolbar items":"","Rich Text Area":"Rich-Text-Area","Rich Text Area. Press ALT-0 for help.":"Rich-Text-Bereich. Drcken Sie Alt+0 fr Hilfe.","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"Rich-Text-Bereich. Drcken Sie Alt+F9 fr das Men. Drcken Sie Alt+F10 fr die Symbolleiste. Drcken Sie Alt+0 fr Hilfe.",Ridge:"Eingeritzt",Right:"Rechts","Right to left":"Von rechts nach links",Row:"Zeile","Row clipboard actions":"Zeilen-Zwischenablage-Aktionen","Row group":"Zeilengruppe","Row header":"Zeilenkopf","Row properties":"Zeileneigenschaften","Row type":"Zeilentyp",Rows:"Zeilen",Save:"Speichern","Save (if save plugin activated)":"Speichern (wenn Save-Plugin aktiviert ist)",Scope:"Bereich",Search:"Suchen","Select all":"Alles auswhlen","Select...":"Auswahl...",Selection:"Auswahl",Shortcut:"Tastenkombination","Show blocks":"Blcke anzeigen","Show caption":"Beschriftung anzeigen","Show invisible characters":"Unsichtbare Zeichen anzeigen",Size:"Schriftgre",Solid:"Durchgezogen",Source:"Quelle","Source code":"Quellcode","Special Character":"Sonderzeichen","Special character...":"Sonderzeichen...","Split cell":"Zelle aufteilen",Square:"Rechteck","Start list at number":"Beginne Liste mit Nummer",Strikethrough:"Durchgestrichen",Style:"Formatvorlage",Subscript:"Tiefgestellt",Superscript:"Hochgestellt","Switch to or from fullscreen mode":"Vollbildmodus umschalten",Symbols:"Symbole","System Font":"Betriebssystemschriftart",Table:"Tabelle","Table caption":"Tabellenbeschriftung","Table properties":"Tabelleneigenschaften","Table styles":"Tabellenstil",Template:"Vorlage",Templates:"Vorlagen",Text:"Text","Text color":"Textfarbe","Text color {0}":"","Text to display":"Anzuzeigender Text","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"Diese URL scheint eine E-Mail-Adresse zu sein. Mchten Sie das dazu bentigte mailto: voranstellen?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"Diese URL scheint ein externer Link zu sein. Mchten Sie das dazu bentigte http:// voranstellen?","The URL you entered seems to be an external link. Do you want to add the required https:// prefix?":"Die eingegebene URL scheint ein externer Link zu sein. Soll das fehlende https:// davor ergnzt werden?",Title:"Titel","To open the popup, press Shift+Enter":"Drcken Sie Umschalt+Eingabe, um das Popup-Fenster zu ffnen.","Toggle accordion":"",Tools:"Werkzeuge",Top:"Oben","Travel and Places":"Reisen und Orte",Turquoise:"Trkis",Underline:"Unterstrichen",Undo:"Rckgngig machen",Upload:"Hochladen","Uploading image":"Bild wird hochgeladen","Upper Alpha":"Lateinisches Alphabet in Grobuchstaben","Upper Roman":"Groer rmischer Buchstabe",Url:"URL","User Defined":"Benutzerdefiniert",Valid:"Gltig",Version:"Version","Vertical align":"Vertikal ausrichten","Vertical space":"Vertikaler Raum",View:"Ansicht","Visual aids":"Visuelle Hilfen",Warn:"Warnung",White:"Wei",Width:"Breite","Word count":"Anzahl der Wrter",Words:"Wrter","Words: {0}":"Wortzahl: {0}",Yellow:"Gelb",Yes:"Ja","You are using {0}":"Sie verwenden {0}","You have unsaved changes are you sure you want to navigate away?":"Die nderungen wurden noch nicht gespeichert. Sind Sie sicher, dass Sie diese Seite verlassen wollen?","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"Ihr Browser untersttzt leider keinen direkten Zugriff auf die Zwischenablage. Bitte benutzen Sie die Tastenkombinationen Strg+X/C/V.",alignment:"Ausrichtung","austral sign":"Australzeichen","cedi sign":"Cedizeichen","colon sign":"Doppelpunkt","cruzeiro sign":"Cruzeirozeichen","currency sign":"Whrungssymbol","dollar sign":"Dollarzeichen","dong sign":"Dongzeichen","drachma sign":"Drachmezeichen","euro-currency sign":"Eurozeichen",example:"Beispiel",formatting:"Formatierung","french franc sign":"Franczeichen","german penny symbol":"Pfennigzeichen","guarani sign":"Guaranizeichen",history:"Historie","hryvnia sign":"Hrywnjazeichen",indentation:"Einrckungen","indian rupee sign":"Indisches Rupiezeichen","kip sign":"Kipzeichen","lira sign":"Lirezeichen","livre tournois sign":"Livrezeichen","manat sign":"Manatzeichen","mill sign":"Millzeichen","naira sign":"Nairazeichen","new sheqel sign":"Schekelzeichen","nordic mark sign":"Zeichen nordische Mark","peseta sign":"Pesetazeichen","peso sign":"Pesozeichen","ruble sign":"Rubelzeichen","rupee sign":"Rupiezeichen","spesmilo sign":"Spesmilozeichen",styles:"Stile","tenge sign":"Tengezeichen","tugrik sign":"Tugrikzeichen","turkish lira sign":"Trkisches Lirazeichen","won sign":"Wonzeichen","yen character":"Yenzeichen","yen/yuan character variant one":"Yen-/Yuanzeichen Variante 1","yuan character":"Yuanzeichen","yuan character, in hong kong and taiwan":"Yuanzeichen in Hongkong und Taiwan","{0} characters":"{0}Zeichen","{0} columns, {1} rows":"","{0} words":"{0} Wrter"});(function(){var r=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(I,Z,te)=>{var Ae;return te(I,Z.prototype)?!0:((Ae=I.constructor)===null||Ae===void 0?void 0:Ae.name)===Z.name},u=I=>{const Z=typeof I;return I===null?"null":Z==="object"&&Array.isArray(I)?"array":Z==="object"&&i(I,String,(te,Ae)=>Ae.isPrototypeOf(te))?"string":Z},m=I=>Z=>u(Z)===I,v=I=>Z=>typeof Z===I,p=m("string"),x=m("object"),S=m("array"),P=v("boolean"),N=I=>I==null,D=I=>!N(I),z=v("function"),W=v("number"),$=()=>{},G=(I,Z)=>te=>I(Z(te)),Q=I=>()=>I,ve=(I,Z)=>I===Z;function de(I,...Z){return(...te)=>{const Ae=Z.concat(te);return I.apply(null,Ae)}}const Pe=I=>Z=>!I(Z),Ie=Q(!1);class re{constructor(Z,te){this.tag=Z,this.value=te}static some(Z){return new re(!0,Z)}static none(){return re.singletonNone}fold(Z,te){return this.tag?te(this.value):Z()}isSome(){return this.tag}isNone(){return!this.tag}map(Z){return this.tag?re.some(Z(this.value)):re.none()}bind(Z){return this.tag?Z(this.value):re.none()}exists(Z){return this.tag&&Z(this.value)}forall(Z){return!this.tag||Z(this.value)}filter(Z){return!this.tag||Z(this.value)?this:re.none()}getOr(Z){return this.tag?this.value:Z}or(Z){return this.tag?this:Z}getOrThunk(Z){return this.tag?this.value:Z()}orThunk(Z){return this.tag?this:Z()}getOrDie(Z){if(this.tag)return this.value;throw new Error(Z??"Called getOrDie on None")}static from(Z){return D(Z)?re.some(Z):re.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Z){this.tag&&Z(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}re.singletonNone=new re(!1);const Oe=Array.prototype.slice,oe=Array.prototype.indexOf,Ge=Array.prototype.push,$e=(I,Z)=>oe.call(I,Z),Ze=(I,Z)=>$e(I,Z)>-1,rt=(I,Z)=>{for(let te=0,Ae=I.length;te<Ae;te++){const He=I[te];if(Z(He,te))return!0}return!1},Ce=(I,Z)=>{const te=I.length,Ae=new Array(te);for(let He=0;He<te;He++){const Tt=I[He];Ae[He]=Z(Tt,He)}return Ae},Re=(I,Z)=>{for(let te=0,Ae=I.length;te<Ae;te++){const He=I[te];Z(He,te)}},R=(I,Z)=>{const te=[];for(let Ae=0,He=I.length;Ae<He;Ae++){const Tt=I[Ae];Z(Tt,Ae)&&te.push(Tt)}return te},yt=(I,Z)=>{if(I.length===0)return[];{let te=Z(I[0]);const Ae=[];let He=[];for(let Tt=0,Ln=I.length;Tt<Ln;Tt++){const ro=I[Tt],Yn=Z(ro);Yn!==te&&(Ae.push(He),He=[]),te=Yn,He.push(ro)}return He.length!==0&&Ae.push(He),Ae}},Pt=(I,Z,te)=>(Re(I,(Ae,He)=>{te=Z(te,Ae,He)}),te),ln=(I,Z,te)=>{for(let Ae=0,He=I.length;Ae<He;Ae++){const Tt=I[Ae];if(Z(Tt,Ae))return re.some(Tt);if(te(Tt,Ae))break}return re.none()},gn=(I,Z)=>ln(I,Z,Ie),Qe=I=>{const Z=[];for(let te=0,Ae=I.length;te<Ae;++te){if(!S(I[te]))throw new Error("Arr.flatten item "+te+" was not an array, input: "+I);Ge.apply(Z,I[te])}return Z},On=(I,Z)=>Qe(Ce(I,Z)),nr=I=>{const Z=Oe.call(I,0);return Z.reverse(),Z},pt=(I,Z)=>Z>=0&&Z<I.length?re.some(I[Z]):re.none(),bt=I=>pt(I,0),Zt=I=>pt(I,I.length-1),Vr=(I,Z)=>{const te=[],Ae=z(Z)?He=>rt(te,Tt=>Z(Tt,He)):He=>Ze(te,He);for(let He=0,Tt=I.length;He<Tt;He++){const Ln=I[He];Ae(Ln)||te.push(Ln)}return te},ho=(I,Z,te=ve)=>I.exists(Ae=>te(Ae,Z)),xn=(I,Z,te=ve)=>Rn(I,Z,te).getOr(I.isNone()&&Z.isNone()),Rn=(I,Z,te)=>I.isSome()&&Z.isSome()?re.some(te(I.getOrDie(),Z.getOrDie())):re.none(),J=8,sr=11,br=1,Ko=3,oi=(I,Z)=>{const Ae=(Z||document).createElement("div");if(Ae.innerHTML=I,!Ae.hasChildNodes()||Ae.childNodes.length>1){const He="HTML does not have a single root node";throw console.error(He,I),new Error(He)}return xe(Ae.childNodes[0])},Ke=(I,Z)=>{const Ae=(Z||document).createElement(I);return xe(Ae)},le=(I,Z)=>{const Ae=(Z||document).createTextNode(I);return xe(Ae)},xe=I=>{if(I==null)throw new Error("Node cannot be null or undefined");return{dom:I}},ge={fromHtml:oi,fromTag:Ke,fromText:le,fromDom:xe,fromPoint:(I,Z,te)=>re.from(I.dom.elementFromPoint(Z,te)).map(xe)},St=(I,Z)=>{const te=I.dom;if(te.nodeType!==br)return!1;{const Ae=te;if(Ae.matches!==void 0)return Ae.matches(Z);if(Ae.msMatchesSelector!==void 0)return Ae.msMatchesSelector(Z);if(Ae.webkitMatchesSelector!==void 0)return Ae.webkitMatchesSelector(Z);if(Ae.mozMatchesSelector!==void 0)return Ae.mozMatchesSelector(Z);throw new Error("Browser lacks native selectors")}},$t=(I,Z)=>I.dom===Z.dom,Ct=(I,Z)=>{const te=I.dom,Ae=Z.dom;return te===Ae?!1:te.contains(Ae)},zt=St,It=typeof window<"u"?window:Function("return this;")(),on=(I,Z)=>{let te=Z??It;for(let Ae=0;Ae<I.length&&te!==void 0&&te!==null;++Ae)te=te[I[Ae]];return te},wn=(I,Z)=>{const te=I.split(".");return on(te,Z)},Cn=(I,Z)=>wn(I,Z),En=(I,Z)=>{const te=Cn(I,Z);if(te==null)throw new Error(I+" not available on this browser");return te},ao=Object.getPrototypeOf,vo=I=>En("HTMLElement",I),Ao=I=>{const Z=wn("ownerDocument.defaultView",I);return x(I)&&(vo(Z).prototype.isPrototypeOf(I)||/^HTML\w*Element$/.test(ao(I).constructor.name))},Oo=I=>I.dom.nodeName.toLowerCase(),Es=I=>I.dom.nodeType,ur=I=>Z=>Es(Z)===I,bi=I=>Es(I)===J||Oo(I)==="#comment",cn=I=>po(I)&&Ao(I.dom),po=ur(br),io=ur(Ko),$r=ur(sr),Pa=I=>Z=>po(Z)&&Oo(Z)===I,Vt=I=>re.from(I.dom.parentNode).map(ge.fromDom),Ys=I=>re.from(I.dom.parentElement).map(ge.fromDom),Uo=I=>re.from(I.dom.nextSibling).map(ge.fromDom),kl=I=>Ce(I.dom.childNodes,ge.fromDom),Er=(I,Z)=>{const te=I.dom.childNodes;return re.from(te[Z]).map(ge.fromDom)},zs=I=>Er(I,0),jf=I=>Er(I,I.dom.childNodes.length-1),uu=I=>$r(I)&&D(I.dom.host),ec=I=>ge.fromDom(I.dom.getRootNode()),Xi=I=>{const Z=ec(I);return uu(Z)?re.some(Z):re.none()},du=I=>ge.fromDom(I.dom.host),dr=I=>{const Z=io(I)?I.dom.parentNode:I.dom;if(Z==null||Z.ownerDocument===null)return!1;const te=Z.ownerDocument;return Xi(ge.fromDom(Z)).fold(()=>te.body.contains(Z),G(dr,du))};var Gn=(I,Z,te,Ae,He)=>I(te,Ae)?re.some(te):z(He)&&He(te)?re.none():Z(te,Ae,He);const El=(I,Z,te)=>{let Ae=I.dom;const He=z(te)?te:Ie;for(;Ae.parentNode;){Ae=Ae.parentNode;const Tt=ge.fromDom(Ae);if(Z(Tt))return re.some(Tt);if(He(Tt))break}return re.none()},ca=(I,Z,te)=>Gn((He,Tt)=>Tt(He),El,I,Z,te),fu=(I,Z,te)=>El(I,Ae=>St(Ae,Z),te),Qt=(I,Z,te)=>Gn((He,Tt)=>St(He,Tt),fu,I,Z,te),mu=I=>Qt(I,"[contenteditable]"),Kf=(I,Z=!1)=>dr(I)?I.dom.isContentEditable:mu(I).fold(Q(Z),te=>ts(te)==="true"),ts=I=>I.dom.contentEditable,qf=(I,Z)=>{Vt(I).each(Ae=>{Ae.dom.insertBefore(Z.dom,I.dom)})},Ni=(I,Z)=>{Uo(I).fold(()=>{Vt(I).each(He=>{Ji(He,Z)})},Ae=>{qf(Ae,Z)})},ml=(I,Z)=>{zs(I).fold(()=>{Ji(I,Z)},Ae=>{I.dom.insertBefore(Z.dom,Ae.dom)})},Ji=(I,Z)=>{I.dom.appendChild(Z.dom)},jr=(I,Z)=>{Re(Z,te=>{qf(I,te)})},ri=(I,Z)=>{Re(Z,te=>{Ji(I,te)})},gl=I=>{I.dom.textContent="",Re(kl(I),Z=>{Gf(Z)})},Gf=I=>{const Z=I.dom;Z.parentNode!==null&&Z.parentNode.removeChild(Z)};var Dc=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Rc=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Fd=tinymce.util.Tools.resolve("tinymce.util.VK");const Xu=I=>Ce(I,ge.fromDom),Wo=Object.keys,xs=(I,Z)=>{const te=Wo(I);for(let Ae=0,He=te.length;Ae<He;Ae++){const Tt=te[Ae],Ln=I[Tt];Z(Ln,Tt)}},Zs=I=>(Z,te)=>{I[te]=Z},Yf=(I,Z,te,Ae)=>{xs(I,(He,Tt)=>{(Z(He,Tt)?te:Ae)(He,Tt)})},Ii=(I,Z)=>{const te={};return Yf(I,Z,Zs(te),$),te},Nc=(I,Z,te)=>{if(p(te)||P(te)||W(te))I.setAttribute(Z,te+"");else throw console.error("Invalid call to Attribute.set. Key ",Z,":: Value ",te,":: Element ",I),new Error("Attribute value was not simple")},si=(I,Z)=>{const te=I.dom;xs(Z,(Ae,He)=>{Nc(te,He,Ae)})},ai=I=>Pt(I.dom.attributes,(Z,te)=>(Z[te.name]=te.value,Z),{}),Ic=(I,Z)=>ge.fromDom(I.dom.cloneNode(Z)),vr=I=>Ic(I,!0),Kr=(I,Z)=>{const te=ge.fromTag(Z),Ae=ai(I);return si(te,Ae),te},Se=(I,Z)=>{const te=Kr(I,Z);Ni(I,te);const Ae=kl(I);return ri(te,Ae),Gf(I),te};var Ye=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),De=tinymce.util.Tools.resolve("tinymce.util.Tools");const it=I=>Z=>D(Z)&&Z.nodeName.toLowerCase()===I,ot=I=>Z=>D(Z)&&I.test(Z.nodeName),je=I=>D(I)&&I.nodeType===3,Lt=I=>D(I)&&I.nodeType===1,Yt=ot(/^(OL|UL|DL)$/),nn=ot(/^(OL|UL)$/),dn=it("ol"),en=ot(/^(LI|DT|DD)$/),oo=ot(/^(DT|DD)$/),Jt=ot(/^(TH|TD)$/),ar=it("br"),wo=I=>{var Z;return((Z=I.parentNode)===null||Z===void 0?void 0:Z.firstChild)===I},Io=(I,Z)=>D(Z)&&Z.nodeName in I.schema.getTextBlockElements(),fs=(I,Z)=>D(I)&&I.nodeName in Z,fo=(I,Z)=>D(Z)&&Z.nodeName in I.schema.getVoidElements(),hl=(I,Z)=>ar(Z)?I.isBlock(Z.nextSibling)&&!ar(Z.previousSibling):!1,La=(I,Z,te)=>{const Ae=I.isEmpty(Z);return te&&I.select("span[data-mce-type=bookmark]",Z).length>0?!1:Ae},Xn=(I,Z)=>I.isChildOf(Z,I.getRoot()),Bi=I=>Z=>Z.options.get(I),Qi=I=>{const Z=I.options.register;Z("lists_indent_on_tab",{processor:"boolean",default:!0})},as=Bi("lists_indent_on_tab"),Ju=Bi("forced_root_block"),As=Bi("forced_root_block_attrs"),zd=(I,Z,te={})=>{const Ae=I.dom,He=I.schema.getBlockElements(),Tt=Ae.createFragment(),Ln=Ju(I),ro=As(I);let Yn,_n,Jo=!1;for(_n=Ae.create(Ln,{...ro,...te.style?{style:te.style}:{}}),fs(Z.firstChild,He)||Tt.appendChild(_n);Yn=Z.firstChild;){const Rs=Yn.nodeName;!Jo&&(Rs!=="SPAN"||Yn.getAttribute("data-mce-type")!=="bookmark")&&(Jo=!0),fs(Yn,He)?(Tt.appendChild(Yn),_n=null):(_n||(_n=Ae.create(Ln,ro),Tt.appendChild(_n)),_n.appendChild(Yn))}return!Jo&&_n&&_n.appendChild(Ae.create("br",{"data-mce-bogus":"1"})),Tt},pl=Ye.DOM,er=(I,Z,te)=>{const Ae=_n=>{const Jo=_n.parentNode;Jo&&De.each(He,Rs=>{Jo.insertBefore(Rs,te.parentNode)}),pl.remove(_n)},He=pl.select('span[data-mce-type="bookmark"]',Z),Tt=zd(I,te),Ln=pl.createRng();Ln.setStartAfter(te),Ln.setEndAfter(Z);const ro=Ln.extractContents();for(let _n=ro.firstChild;_n;_n=_n.firstChild)if(_n.nodeName==="LI"&&I.dom.isEmpty(_n)){pl.remove(_n);break}I.dom.isEmpty(ro)||pl.insertAfter(ro,Z),pl.insertAfter(Tt,Z);const Yn=te.parentElement;Yn&&La(I.dom,Yn)&&Ae(Yn),pl.remove(te),La(I.dom,Z)&&pl.remove(Z)},gu=Pa("dd"),Xf=Pa("dt"),xh=(I,Z)=>{gu(Z)?Se(Z,"dt"):Xf(Z)&&Ys(Z).each(te=>er(I,te.dom,Z.dom))},ms=I=>{Xf(I)&&Se(I,"dd")},tc=(I,Z,te)=>{Z==="Indent"?Re(te,ms):Re(te,Ae=>xh(I,Ae))},el=(I,Z)=>{if(je(I))return{container:I,offset:Z};const te=Dc.getNode(I,Z);return je(te)?{container:te,offset:Z>=I.childNodes.length?te.data.length:0}:te.previousSibling&&je(te.previousSibling)?{container:te.previousSibling,offset:te.previousSibling.data.length}:te.nextSibling&&je(te.nextSibling)?{container:te.nextSibling,offset:0}:{container:I,offset:Z}},Mr=I=>{const Z=I.cloneRange(),te=el(I.startContainer,I.startOffset);Z.setStart(te.container,te.offset);const Ae=el(I.endContainer,I.endOffset);return Z.setEnd(Ae.container,Ae.offset),Z},Jf=["OL","UL","DL"],bl=Jf.join(","),Fa=(I,Z)=>{const te=Z||I.selection.getStart(!0);return I.dom.getParent(te,bl,Qu(I,te))},fg=(I,Z)=>D(I)&&Z.length===1&&Z[0]===I,ua=I=>R(I.querySelectorAll(bl),Yt),Mi=I=>{const Z=Fa(I),te=I.selection.getSelectedBlocks();return fg(Z,te)?ua(Z):R(te,Ae=>Yt(Ae)&&Z!==Ae)},za=(I,Z)=>{const te=De.map(Z,Ae=>{const He=I.dom.getParent(Ae,"li,dd,dt",Qu(I,Ae));return He||Ae});return Vr(te)},vl=I=>{const Z=I.selection.getSelectedBlocks();return R(za(I,Z),en)},wh=I=>R(vl(I),oo),Co=(I,Z)=>{const te=I.dom.getParents(Z,"TD,TH");return te.length>0?te[0]:I.getBody()},Bc=(I,Z)=>!Yt(Z)&&!en(Z)&&rt(Jf,te=>I.isValidChild(Z.nodeName,te)),Qu=(I,Z)=>{const te=I.dom.getParents(Z,I.dom.isBlock),Ae=Tt=>Tt.nodeName.toLowerCase()!==Ju(I);return gn(te,Tt=>Ae(Tt)&&Bc(I.schema,Tt)).getOr(I.getBody())},hu=I=>Vt(I).exists(Z=>en(Z.dom)&&zs(Z).exists(te=>!Yt(te.dom))&&jf(Z).exists(te=>!Yt(te.dom))),Up=(I,Z)=>{const te=I.dom.getParents(Z,"ol,ul",Qu(I,Z));return Zt(te)},xy=I=>{const Z=Up(I,I.selection.getStart()),te=R(I.selection.getSelectedBlocks(),nn);return Z.toArray().concat(te)},J0=I=>{const Z=I.selection.getStart();return I.dom.getParents(Z,"ol,ul",Qu(I,Z))},Q0=I=>{const Z=xy(I),te=J0(I);return gn(te,Ae=>hu(ge.fromDom(Ae))).fold(()=>Pw(I,Z),Ae=>[Ae])},Pw=(I,Z)=>{const te=Ce(Z,Ae=>Up(I,Ae).getOr(Ae));return Vr(te)},Ch=I=>/\btox\-/.test(I.className),e1=(I,Z)=>ln(I,Yt,Jt).exists(te=>te.nodeName===Z&&!Ch(te)),Kt=(I,Z)=>Z!==null&&!I.dom.isEditable(Z),Hd=I=>{const Z=Fa(I);return Kt(I,Z)},Vd=(I,Z)=>{const te=I.dom.getParent(Z,"ol,ul,dl");return Kt(I,te)},t1=(I,Z)=>{const te=I.selection.getNode();return Z({parents:I.dom.getParents(te),element:te}),I.on("NodeChange",Z),()=>I.off("NodeChange",Z)},Ha=(I,Z)=>{const Ae=document.createDocumentFragment();return Re(I,He=>{Ae.appendChild(He.dom)}),ge.fromDom(Ae)},$d=(I,Z,te)=>I.dispatch("ListMutation",{action:Z,element:te}),wy=(I=>Z=>Z.replace(I,""))(/^\s+|\s+$/g),Cy=I=>I.length>0,Wp=I=>!Cy(I),_y=I=>I.style!==void 0&&z(I.style.getPropertyValue),n1=(I,Z,te)=>{if(!p(te))throw console.error("Invalid call to CSS.set. Property ",Z,":: Value ",te,":: Element ",I),new Error("CSS value must be a string: "+te);_y(I)&&I.style.setProperty(Z,te)},Sy=(I,Z,te)=>{const Ae=I.dom;n1(Ae,Z,te)},gg=I=>zt(I,"OL,UL"),o1=I=>zt(I,"LI"),Ud=I=>zs(I).exists(gg),Wd=I=>jf(I).exists(gg),Va=I=>"listAttributes"in I,tl=I=>"isComment"in I,hg=I=>"isFragment"in I,Po=I=>I.depth>0,ed=I=>I.isSelected,pg=I=>{const Z=kl(I),te=Wd(I)?Z.slice(0,-1):Z;return Ce(te,vr)},bg=(I,Z,te)=>Vt(I).filter(po).map(Ae=>({depth:Z,dirty:!1,isSelected:te,content:pg(I),itemAttributes:ai(I),listAttributes:ai(Ae),listType:Oo(Ae),isInPreviousLi:!1})),vi=(I,Z)=>{Ji(I.item,Z.list)},Ts=I=>{for(let Z=1;Z<I.length;Z++)vi(I[Z-1],I[Z])},qr=(I,Z)=>{Rn(Zt(I),bt(Z),vi)},Ca=(I,Z)=>{const te={list:ge.fromTag(Z,I),item:ge.fromTag("li",I)};return Ji(te.list,te.item),te},Pr=(I,Z,te)=>{const Ae=[];for(let He=0;He<te;He++)Ae.push(Ca(I,Va(Z)?Z.listType:Z.parentListType));return Ae},Zd=(I,Z)=>{for(let te=0;te<I.length-1;te++)Sy(I[te].item,"list-style-type","none");Zt(I).each(te=>{Va(Z)&&(si(te.list,Z.listAttributes),si(te.item,Z.itemAttributes)),ri(te.item,Z.content)})},Qf=(I,Z)=>{Oo(I.list)!==Z.listType&&(I.list=Se(I.list,Z.listType)),si(I.list,Z.listAttributes)},na=(I,Z,te)=>{const Ae=ge.fromTag("li",I);return si(Ae,Z),ri(Ae,te),Ae},yi=(I,Z)=>{Ji(I.list,Z),I.item=Z},ii=(I,Z,te)=>{const Ae=Z.slice(0,te.depth);return Zt(Ae).each(He=>{if(Va(te)){const Tt=na(I,te.itemAttributes,te.content);yi(He,Tt),Qf(He,te)}else if(hg(te))ri(He.item,te.content);else{const Tt=ge.fromHtml(`<!--${te.content}-->`);Ji(He.list,Tt)}}),Ae},Mc=(I,Z,te)=>{const Ae=Pr(I,te,te.depth-Z.length);return Ts(Ae),Zd(Ae,te),qr(Z,Ae),Z.concat(Ae)},td=(I,Z)=>{let te=re.none();const Ae=Pt(Z,(He,Tt,Ln)=>tl(Tt)?Ln===0?(te=re.some(Tt),He):ii(I,He,Tt):Tt.depth>He.length?Mc(I,He,Tt):ii(I,He,Tt),[]);return te.each(He=>{const Tt=ge.fromHtml(`<!--${He.content}-->`);bt(Ae).each(Ln=>{ml(Ln.list,Tt)})}),bt(Ae).map(He=>He.list)},bo=(I,Z)=>{switch(I){case"Indent":Z.depth++;break;case"Outdent":Z.depth--;break;case"Flatten":Z.depth=0}Z.dirty=!0},js=(I,Z)=>{Va(I)&&Va(Z)&&(I.listType=Z.listType,I.listAttributes={...Z.listAttributes})},nl=I=>{I.listAttributes=Ii(I.listAttributes,(Z,te)=>te!=="start")},nd=(I,Z)=>{const te=I[Z].depth,Ae=Tt=>Tt.depth===te&&!Tt.dirty,He=Tt=>Tt.depth<te;return ln(nr(I.slice(0,Z)),Ae,He).orThunk(()=>ln(I.slice(Z+1),Ae,He))},_a=I=>(Re(I,(Z,te)=>{nd(I,te).fold(()=>{Z.dirty&&Va(Z)&&nl(Z)},Ae=>js(Z,Ae))}),I),Dn=I=>{let Z=I;return{get:()=>Z,set:He=>{Z=He}}},nc=(I,Z,te,Ae)=>{var He;if(bi(Ae))return[{depth:I+1,content:(He=Ae.dom.nodeValue)!==null&&He!==void 0?He:"",dirty:!1,isSelected:!1,isComment:!0}];Z.each(ro=>{$t(ro.start,Ae)&&te.set(!0)});const Tt=bg(Ae,I,te.get());Z.each(ro=>{$t(ro.end,Ae)&&te.set(!1)});const Ln=jf(Ae).filter(gg).map(ro=>ir(I,Z,te,ro)).getOr([]);return Tt.toArray().concat(Ln)},oc=(I,Z,te,Ae)=>zs(Ae).filter(gg).fold(()=>nc(I,Z,te,Ae),He=>{const Tt=Pt(kl(Ae),(Ln,ro,Yn)=>{if(Yn===0)return Ln;if(o1(ro))return Ln.concat(nc(I,Z,te,ro));{const _n={isFragment:!0,depth:I,content:[ro],isSelected:!1,dirty:!1,parentListType:Oo(He)};return Ln.concat(_n)}},[]);return ir(I,Z,te,He).concat(Tt)}),ir=(I,Z,te,Ae)=>On(kl(Ae),He=>{const Tt=gg(He)?ir:oc,Ln=I+1;return Tt(Ln,Z,te,He)}),_h=(I,Z)=>{const te=Dn(!1),Ae=0;return Ce(I,He=>({sourceList:He,entries:ir(Ae,Z,te,He)}))},Zp=(I,Z)=>{const te=_a(Z);return Ce(te,Ae=>{const He=tl(Ae)?Ha([ge.fromHtml(`<!--${Ae.content}-->`)]):Ha(Ae.content),Tt=Va(Ae)?Ae.itemAttributes:{};return ge.fromDom(zd(I,He.dom,Tt))})},od=(I,Z)=>{const te=_a(Z);return td(I.contentDocument,te).toArray()},_o=(I,Z)=>On(yt(Z,Po),te=>bt(te).exists(Po)?od(I,te):Zp(I,te)),xi=(I,Z)=>{Re(R(I,ed),te=>bo(Z,te))},Sh=I=>{const Z=Ce(vl(I),ge.fromDom);return Rn(gn(Z,Pe(Ud)),gn(nr(Z),Pe(Ud)),(te,Ae)=>({start:te,end:Ae}))},rd=(I,Z,te)=>{const Ae=_h(Z,Sh(I));Re(Ae,He=>{xi(He.entries,te);const Tt=_o(I,He.entries);Re(Tt,Ln=>{$d(I,te==="Indent"?"IndentList":"OutdentList",Ln.dom)}),jr(He.sourceList,Tt),Gf(He.sourceList)})},jp=(I,Z)=>{const te=Xu(Q0(I)),Ae=Xu(wh(I));let He=!1;if(te.length||Ae.length){const Tt=I.selection.getBookmark();rd(I,te,Z),tc(I,Z,Ae),I.selection.moveToBookmark(Tt),I.selection.setRng(Mr(I.selection.getRng())),I.nodeChanged(),He=!0}return He},Pc=(I,Z)=>!Hd(I)&&jp(I,Z),Pi=I=>Pc(I,"Indent"),Lc=I=>Pc(I,"Outdent"),jd=I=>Pc(I,"Flatten"),Be="\uFEFF",em=I=>I===Be,yr=(I,Z,te)=>El(I,Z,te).isSome(),Kp=(I,Z)=>yr(I,de($t,Z));var vg=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Fc=Ye.DOM,Lo=I=>{const Z={},te=Ae=>{let He=I[Ae?"startContainer":"endContainer"],Tt=I[Ae?"startOffset":"endOffset"];if(Lt(He)){const Ln=Fc.create("span",{"data-mce-type":"bookmark"});He.hasChildNodes()?(Tt=Math.min(Tt,He.childNodes.length-1),Ae?He.insertBefore(Ln,He.childNodes[Tt]):Fc.insertAfter(Ln,He.childNodes[Tt])):He.appendChild(Ln),He=Ln,Tt=0}Z[Ae?"startContainer":"endContainer"]=He,Z[Ae?"startOffset":"endOffset"]=Tt};return te(!0),I.collapsed||te(),Z},$a=I=>{const Z=Ae=>{const He=ro=>{var Yn;let _n=(Yn=ro.parentNode)===null||Yn===void 0?void 0:Yn.firstChild,Jo=0;for(;_n;){if(_n===ro)return Jo;(!Lt(_n)||_n.getAttribute("data-mce-type")!=="bookmark")&&Jo++,_n=_n.nextSibling}return-1};let Tt=I[Ae?"startContainer":"endContainer"],Ln=I[Ae?"startOffset":"endOffset"];if(Tt){if(Lt(Tt)&&Tt.parentNode){const ro=Tt;Ln=He(Tt),Tt=Tt.parentNode,Fc.remove(ro),!Tt.hasChildNodes()&&Fc.isBlock(Tt)&&Tt.appendChild(Fc.create("br"))}I[Ae?"startContainer":"endContainer"]=Tt,I[Ae?"startOffset":"endOffset"]=Ln}};Z(!0),Z();const te=Fc.createRng();return te.setStart(I.startContainer,I.startOffset),I.endContainer&&te.setEnd(I.endContainer,I.endOffset),Mr(te)},pu=I=>{switch(I){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Ml=(I,Z,te)=>{const Ae=te["list-style-type"]?te["list-style-type"]:null;I.setStyle(Z,"list-style-type",Ae)},bu=(I,Z)=>{De.each(Z,(te,Ae)=>{I.setAttribute(Ae,te)})},vu=(I,Z,te)=>{bu(Z,te["list-attributes"]),De.each(I.select("li",Z),Ae=>{bu(Ae,te["list-item-attributes"])})},Ua=(I,Z,te)=>{Ml(I,Z,te),vu(I,Z,te)},Kd=(I,Z,te)=>{De.each(te,Ae=>I.setStyle(Z,Ae,""))},tm=(I,Z)=>D(Z)&&!fs(Z,I.schema.getBlockElements()),qp=(I,Z,te,Ae)=>{let He=Z[te?"startContainer":"endContainer"];const Tt=Z[te?"startOffset":"endOffset"];Lt(He)&&(He=He.childNodes[Math.min(Tt,He.childNodes.length-1)]||He),!te&&ar(He.nextSibling)&&(He=He.nextSibling);const Ln=Yn=>{for(;!I.dom.isBlock(Yn)&&Yn.parentNode&&Ae!==Yn;)Yn=Yn.parentNode;return Yn},ro=(Yn,_n)=>{var Jo;const Rs=new Rc(Yn,Ln(Yn)),cs=_n?"next":"prev";let ac;for(;ac=Rs[cs]();)if(!(fo(I,ac)||em(ac.textContent)||((Jo=ac.textContent)===null||Jo===void 0?void 0:Jo.length)===0))return re.some(ac);return re.none()};if(te&&je(He))if(em(He.textContent))He=ro(He,!1).getOr(He);else for(He.parentNode!==null&&tm(I,He.parentNode)&&(He=He.parentNode);He.previousSibling!==null&&(tm(I,He.previousSibling)||je(He.previousSibling));)He=He.previousSibling;if(!te&&je(He))if(em(He.textContent))He=ro(He,!0).getOr(He);else for(He.parentNode!==null&&tm(I,He.parentNode)&&(He=He.parentNode);He.nextSibling!==null&&(tm(I,He.nextSibling)||je(He.nextSibling));)He=He.nextSibling;for(;He.parentNode!==Ae;){const Yn=He.parentNode;if(Io(I,He)||/^(TD|TH)$/.test(Yn.nodeName))return He;He=Yn}return He},oa=(I,Z,te)=>{const Ae=[],He=I.dom,Tt=qp(I,Z,!0,te),Ln=qp(I,Z,!1,te);let ro;const Yn=[];for(let _n=Tt;_n&&(Yn.push(_n),_n!==Ln);_n=_n.nextSibling);return De.each(Yn,_n=>{var Jo;if(Io(I,_n)){Ae.push(_n),ro=null;return}if(He.isBlock(_n)||ar(_n)){ar(_n)&&He.remove(_n),ro=null;return}const Rs=_n.nextSibling;if(vg.isBookmarkNode(_n)&&(Yt(Rs)||Io(I,Rs)||!Rs&&_n.parentNode===te)){ro=null;return}ro||(ro=He.create("p"),(Jo=_n.parentNode)===null||Jo===void 0||Jo.insertBefore(ro,_n),Ae.push(ro)),ro.appendChild(_n)}),Ae},Pn=(I,Z,te)=>{const Ae=I.getStyle(Z,"list-style-type");let He=te?te["list-style-type"]:"";return He=He===null?"":He,Ae===He},yu=(I,Z)=>{const te=I.selection.getStart(!0),Ae=qp(I,Z,!0,I.getBody());return Kp(ge.fromDom(Ae),ge.fromDom(Z.commonAncestorContainer))?Z.commonAncestorContainer:te},nm=(I,Z,te)=>{const Ae=I.selection.getRng();let He="LI";const Tt=Qu(I,yu(I,Ae)),Ln=I.dom;if(Ln.getContentEditable(I.selection.getNode())==="false")return;Z=Z.toUpperCase(),Z==="DL"&&(He="DT");const ro=Lo(Ae),Yn=R(oa(I,Ae,Tt),I.dom.isEditable);De.each(Yn,_n=>{let Jo;const Rs=_n.previousSibling,cs=_n.parentNode;en(cs)||(Rs&&Yt(Rs)&&Rs.nodeName===Z&&Pn(Ln,Rs,te)?(Jo=Rs,_n=Ln.rename(_n,He),Rs.appendChild(_n)):(Jo=Ln.create(Z),cs.insertBefore(Jo,_n),Jo.appendChild(_n),_n=Ln.rename(_n,He)),Kd(Ln,_n,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Ua(Ln,Jo,te),sd(I.dom,Jo))}),I.selection.setRng($a(ro))},Wa=(I,Z)=>Yt(I)&&I.nodeName===(Z==null?void 0:Z.nodeName),xu=(I,Z,te)=>{const Ae=I.getStyle(Z,"list-style-type",!0),He=I.getStyle(te,"list-style-type",!0);return Ae===He},yl=(I,Z)=>I.className===Z.className,wu=(I,Z,te)=>Wa(Z,te)&&xu(I,Z,te)&&yl(Z,te),sd=(I,Z)=>{let te,Ae=Z.nextSibling;if(wu(I,Z,Ae)){const He=Ae;for(;te=He.firstChild;)Z.appendChild(te);I.remove(He)}if(Ae=Z.previousSibling,wu(I,Z,Ae)){const He=Ae;for(;te=He.lastChild;)Z.insertBefore(te,Z.firstChild);I.remove(He)}},ra=(I,Z,te,Ae)=>{if(Z.nodeName!==te){const He=I.dom.rename(Z,te);Ua(I.dom,He,Ae),$d(I,pu(te),He)}else Ua(I.dom,Z,Ae),$d(I,pu(te),Z)},Pl=(I,Z,te,Ae)=>{if(Z.classList.forEach((He,Tt,Ln)=>{He.startsWith("tox-")&&(Ln.remove(He),Ln.length===0&&Z.removeAttribute("class"))}),Z.nodeName!==te){const He=I.dom.rename(Z,te);Ua(I.dom,He,Ae),$d(I,pu(te),He)}else Ua(I.dom,Z,Ae),$d(I,pu(te),Z)},zc=(I,Z,te,Ae,He)=>{const Tt=Yt(Z);if(Tt&&Z.nodeName===Ae&&!om(He)&&!Ch(Z))jd(I);else{nm(I,Ae,He);const Ln=Lo(I.selection.getRng()),ro=Tt?[Z,...te]:te,Yn=Tt&&Ch(Z)?Pl:ra;De.each(ro,_n=>{Yn(I,_n,Ae,He)}),I.selection.setRng($a(Ln))}},om=I=>"list-style-type"in I,r1=(I,Z,te,Ae)=>{if(Z!==I.getBody())if(Z)if(Z.nodeName===te&&!om(Ae)&&!Ch(Z))jd(I);else{const He=Lo(I.selection.getRng());Ch(Z)&&Z.classList.forEach((Ln,ro,Yn)=>{Ln.startsWith("tox-")&&(Yn.remove(Ln),Yn.length===0&&Z.removeAttribute("class"))}),Ua(I.dom,Z,Ae);const Tt=I.dom.rename(Z,te);sd(I.dom,Tt),I.selection.setRng($a(He)),nm(I,te,Ae),$d(I,pu(te),Tt)}else nm(I,te,Ae),$d(I,pu(te),Z)},Cu=(I,Z,te)=>{const Ae=Fa(I);if(Vd(I,Ae))return;const He=Mi(I),Tt=x(te)?te:{};He.length>0?zc(I,Ae,He,Z,Tt):r1(I,Ae,Z,Tt)},qd=Ye.DOM,Gp=(I,Z)=>{const te=Z.parentElement;if(te&&te.nodeName==="LI"&&te.firstChild===Z){const Ae=te.previousSibling;Ae&&Ae.nodeName==="LI"?(Ae.appendChild(Z),La(I,te)&&qd.remove(te)):qd.setStyle(te,"listStyleType","none")}if(Yt(te)){const Ae=te.previousSibling;Ae&&Ae.nodeName==="LI"&&Ae.appendChild(Z)}},is=(I,Z)=>{const te=De.grep(I.select("ol,ul",Z));De.each(te,Ae=>{Gp(I,Ae)})},wi=(I,Z,te,Ae)=>{let He=Z.startContainer;const Tt=Z.startOffset;if(je(He)&&(te?Tt<He.data.length:Tt>0))return He;const Ln=I.schema.getNonEmptyElements();Lt(He)&&(He=Dc.getNode(He,Tt));const ro=new Rc(He,Ae);te&&hl(I.dom,He)&&ro.next();const Yn=te?ro.next.bind(ro):ro.prev2.bind(ro);for(;He=Yn();)if(He.nodeName==="LI"&&!He.hasChildNodes()||Ln[He.nodeName]||je(He)&&He.data.length>0)return He;return null},li=(I,Z)=>{const te=Z.childNodes;return te.length===1&&!Yt(te[0])&&I.isBlock(te[0])},Li=I=>re.from(I).map(ge.fromDom).filter(cn).exists(Z=>Kf(Z)&&!Ze(["details"],Oo(Z))),Xs=(I,Z)=>{li(I,Z)&&Li(Z.firstChild)&&I.remove(Z.firstChild,!0)},kh=(I,Z,te)=>{let Ae;const He=li(I,te)?te.firstChild:te;if(Xs(I,Z),!La(I,Z,!0))for(;Ae=Z.firstChild;)He.appendChild(Ae)},Ks=(I,Z,te)=>{let Ae;const He=Z.parentNode;if(!Xn(I,Z)||!Xn(I,te))return;Yt(te.lastChild)&&(Ae=te.lastChild),He===te.lastChild&&ar(He.previousSibling)&&I.remove(He.previousSibling);const Tt=te.lastChild;Tt&&ar(Tt)&&Z.hasChildNodes()&&I.remove(Tt),La(I,te,!0)&&gl(ge.fromDom(te)),kh(I,Z,te),Ae&&te.appendChild(Ae);const ro=Ct(ge.fromDom(te),ge.fromDom(Z))?I.getParents(Z,Yt,te):[];I.remove(Z),Re(ro,Yn=>{La(I,Yn)&&Yn!==I.getRoot()&&I.remove(Yn)})},Sa=(I,Z,te)=>{gl(ge.fromDom(te)),Ks(I.dom,Z,te),I.selection.setCursorLocation(te,0)},Hc=(I,Z,te,Ae)=>{const He=I.dom;if(He.isEmpty(Ae))Sa(I,te,Ae);else{const Tt=Lo(Z);Ks(He,te,Ae),I.selection.setRng($a(Tt))}},At=(I,Z,te,Ae)=>{const He=Lo(Z);Ks(I.dom,te,Ae);const Tt=$a(He);I.selection.setRng(Tt)},ka=(I,Z)=>{const te=I.dom,Ae=I.selection,He=Ae.getStart(),Tt=Co(I,He),Ln=te.getParent(Ae.getStart(),"LI",Tt);if(Ln){const ro=Ln.parentElement;if(ro===I.getBody()&&La(te,ro))return!0;const Yn=Mr(Ae.getRng()),_n=te.getParent(wi(I,Yn,Z,Tt),"LI",Tt),Jo=_n&&(Z?te.isChildOf(Ln,_n):te.isChildOf(_n,Ln));if(_n&&_n!==Ln&&!Jo)return I.undoManager.transact(()=>{Z?Hc(I,Yn,_n,Ln):wo(Ln)?Lc(I):At(I,Yn,Ln,_n)}),!0;if(Jo&&!Z&&_n!==Ln)return I.undoManager.transact(()=>{if(Yn.commonAncestorContainer.parentElement){const Rs=Lo(Yn),cs=Yn.commonAncestorContainer.parentElement;kh(te,Yn.commonAncestorContainer.parentElement,_n),cs.remove();const ac=$a(Rs);I.selection.setRng(ac)}}),!0;if(!_n&&!Z&&Yn.startOffset===0&&Yn.endOffset===0)return I.undoManager.transact(()=>{jd(I)}),!0}return!1},Eh=(I,Z,te)=>{const Ae=I.getParent(Z.parentNode,I.isBlock,te);I.remove(Z),Ae&&I.isEmpty(Ae)&&I.remove(Ae)},ls=(I,Z)=>{const te=I.dom,Ae=I.selection.getStart(),He=Co(I,Ae),Tt=te.getParent(Ae,te.isBlock,He);if(Tt&&te.isEmpty(Tt,void 0,{checkRootAsContent:!0})){const Ln=Mr(I.selection.getRng()),ro=te.getParent(wi(I,Ln,Z,He),"LI",He);if(ro){const Yn=cs=>Ze(["td","th","caption"],Oo(cs)),_n=cs=>cs.dom===He,Jo=ca(ge.fromDom(ro),Yn,_n),Rs=ca(ge.fromDom(Ln.startContainer),Yn,_n);return xn(Jo,Rs,$t)?(I.undoManager.transact(()=>{const cs=ro.parentNode;Eh(te,Tt,He),sd(te,cs),I.selection.select(ro,!0),I.selection.collapse(Z)}),!0):!1}}return!1},_u=(I,Z)=>ka(I,Z)||ls(I,Z),Ci=I=>{const Z=I.selection.getStart(),te=Co(I,Z);return I.dom.getParent(Z,"LI,DT,DD",te)||vl(I).length>0},rc=I=>Ci(I)?(I.undoManager.transact(()=>{I.execCommand("Delete"),is(I.dom,I.getBody())}),!0):!1,rm=(I,Z)=>{const te=I.selection;return!Vd(I,te.getNode())&&(te.isCollapsed()?_u(I,Z):rc(I))},Fi=I=>{I.on("ExecCommand",Z=>{const te=Z.command.toLowerCase();(te==="delete"||te==="forwarddelete")&&Ci(I)&&is(I.dom,I.getBody())}),I.on("keydown",Z=>{Z.keyCode===Fd.BACKSPACE?rm(I,!1)&&Z.preventDefault():Z.keyCode===Fd.DELETE&&rm(I,!0)&&Z.preventDefault()})},Bo=I=>({backspaceDelete:Z=>{rm(I,Z)}}),Os=(I,Z)=>{const te=Fa(I);te===null||Vd(I,te)||I.undoManager.transact(()=>{x(Z.styles)&&I.dom.setStyles(te,Z.styles),x(Z.attrs)&&xs(Z.attrs,(Ae,He)=>I.dom.setAttrib(te,He,Ae))})},Gd=I=>{const Z=nr(wy(I).split("")),te=Ce(Z,(Ae,He)=>{const Tt=Ae.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,He)*Tt});return Pt(te,(Ae,He)=>Ae+He,0)},ws=I=>{if(I--,I<0)return"";{const Z=I%26,te=Math.floor(I/26),Ae=ws(te),He=String.fromCharCode(65+Z);return Ae+He}},yg=I=>/^[A-Z]+$/.test(I),Vc=I=>/^[a-z]+$/.test(I),s1=I=>/^[0-9]+$/.test(I),gs=I=>s1(I)?2:yg(I)?0:Vc(I)?1:Wp(I)?3:4,et=I=>{switch(gs(I)){case 2:return re.some({listStyleType:re.none(),start:I});case 0:return re.some({listStyleType:re.some("upper-alpha"),start:Gd(I).toString()});case 1:return re.some({listStyleType:re.some("lower-alpha"),start:Gd(I).toString()});case 3:return re.some({listStyleType:re.none(),start:""});case 4:return re.none()}},_i=I=>{const Z=parseInt(I.start,10);return ho(I.listStyleType,"upper-alpha")?ws(Z):ho(I.listStyleType,"lower-alpha")?ws(Z).toLowerCase():I.start},Ds=I=>{const Z=Fa(I);!dn(Z)||Vd(I,Z)||I.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:_i({start:I.dom.getAttrib(Z,"start","1"),listStyleType:re.from(I.dom.getStyle(Z,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:te=>{const Ae=te.getData();et(Ae.start).each(He=>{I.execCommand("mceListUpdate",!1,{attrs:{start:He.start==="1"?"":He.start},styles:{"list-style-type":He.listStyleType.getOr("")}})}),te.close()}})},Al=(I,Z)=>()=>{const te=Fa(I);return D(te)&&te.nodeName===Z},sc=I=>{I.addCommand("mceListProps",()=>{Ds(I)})},Hs=I=>{I.on("BeforeExecCommand",Z=>{const te=Z.command.toLowerCase();te==="indent"?Pi(I):te==="outdent"&&Lc(I)}),I.addCommand("InsertUnorderedList",(Z,te)=>{Cu(I,"UL",te)}),I.addCommand("InsertOrderedList",(Z,te)=>{Cu(I,"OL",te)}),I.addCommand("InsertDefinitionList",(Z,te)=>{Cu(I,"DL",te)}),I.addCommand("RemoveList",()=>{jd(I)}),sc(I),I.addCommand("mceListUpdate",(Z,te)=>{x(te)&&Os(I,te)}),I.addQueryStateHandler("InsertUnorderedList",Al(I,"UL")),I.addQueryStateHandler("InsertOrderedList",Al(I,"OL")),I.addQueryStateHandler("InsertDefinitionList",Al(I,"DL"))};var Lr=tinymce.util.Tools.resolve("tinymce.html.Node");const fr=I=>I.type===3,Si=I=>I.length===0,Tl=I=>{const Z=(He,Tt)=>{const Ln=Lr.create("li");Re(He,ro=>Ln.append(ro)),Tt?I.insert(Ln,Tt,!0):I.append(Ln)},te=(He,Tt)=>fr(Tt)?[...He,Tt]:!Si(He)&&!fr(Tt)?(Z(He,Tt),[]):He,Ae=Pt(I.children(),te,[]);Si(Ae)||Z(Ae)},$c=I=>{I.on("PreInit",()=>{const{parser:Z}=I;Z.addNodeFilter("ul,ol",te=>Re(te,Tl))})},ad=I=>{I.on("keydown",Z=>{Z.keyCode!==Fd.TAB||Fd.metaKeyPressed(Z)||I.undoManager.transact(()=>{(Z.shiftKey?Lc(I):Pi(I))&&Z.preventDefault()})})},sm=I=>{as(I)&&ad(I),Fi(I)},xg=(I,Z)=>te=>{const Ae=He=>{te.setActive(e1(He.parents,Z)),te.setEnabled(!Vd(I,He.element)&&I.selection.isEditable())};return te.setEnabled(I.selection.isEditable()),t1(I,Ae)},wg=I=>{const Z=te=>()=>I.execCommand(te);I.hasPlugin("advlist")||(I.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:Z("InsertOrderedList"),onSetup:xg(I,"OL")}),I.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:Z("InsertUnorderedList"),onSetup:xg(I,"UL")}))},Yp=(I,Z)=>te=>t1(I,He=>te.setEnabled(e1(He.parents,Z)&&!Vd(I,He.element))),Xp=I=>{const Z={text:"List properties...",icon:"ordered-list",onAction:()=>I.execCommand("mceListProps"),onSetup:Yp(I,"OL")};I.ui.registry.addMenuItem("listprops",Z),I.ui.registry.addContextMenu("lists",{update:te=>{const Ae=Fa(I,te);return dn(Ae)?["listprops"]:[]}})};var Su=()=>{r.add("lists",I=>(Qi(I),$c(I),I.hasPlugin("rtc",!0)?sc(I):(sm(I),Hs(I)),wg(I),Xp(I),Bo(I)))};Su()})();(function(){var r=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(le,xe)=>le.dispatch("insertCustomChar",{chr:xe}),u=(le,xe)=>{const Me=i(le,xe).chr;le.execCommand("mceInsertContent",!1,Me)},m=(le,xe,Me)=>{var ge;return Me(le,xe.prototype)?!0:((ge=le.constructor)===null||ge===void 0?void 0:ge.name)===xe.name},v=le=>{const xe=typeof le;return le===null?"null":xe==="object"&&Array.isArray(le)?"array":xe==="object"&&m(le,String,(Me,ge)=>ge.isPrototypeOf(Me))?"string":xe},p=le=>xe=>v(xe)===le,x=le=>xe=>typeof xe===le,S=le=>xe=>le===xe,P=p("array"),N=S(null),D=S(void 0),z=le=>le==null,W=le=>!z(le),$=x("function"),Q=(le=>()=>le)(!1);class ve{constructor(xe,Me){this.tag=xe,this.value=Me}static some(xe){return new ve(!0,xe)}static none(){return ve.singletonNone}fold(xe,Me){return this.tag?Me(this.value):xe()}isSome(){return this.tag}isNone(){return!this.tag}map(xe){return this.tag?ve.some(xe(this.value)):ve.none()}bind(xe){return this.tag?xe(this.value):ve.none()}exists(xe){return this.tag&&xe(this.value)}forall(xe){return!this.tag||xe(this.value)}filter(xe){return!this.tag||xe(this.value)?this:ve.none()}getOr(xe){return this.tag?this.value:xe}or(xe){return this.tag?this:xe}getOrThunk(xe){return this.tag?this.value:xe()}orThunk(xe){return this.tag?this:xe()}getOrDie(xe){if(this.tag)return this.value;throw new Error(xe??"Called getOrDie on None")}static from(xe){return W(xe)?ve.some(xe):ve.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(xe){this.tag&&xe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ve.singletonNone=new ve(!1);const de=Array.prototype.push,Pe=(le,xe)=>{const Me=le.length,ge=new Array(Me);for(let St=0;St<Me;St++){const $t=le[St];ge[St]=xe($t,St)}return ge},Ie=(le,xe)=>{for(let Me=0,ge=le.length;Me<ge;Me++){const St=le[Me];xe(St,Me)}},re=(le,xe,Me)=>{for(let ge=0,St=le.length;ge<St;ge++){const $t=le[ge];if(xe($t,ge))return ve.some($t);if(Me($t,ge))break}return ve.none()},Oe=(le,xe)=>re(le,xe,Q),oe=le=>{const xe=[];for(let Me=0,ge=le.length;Me<ge;++Me){if(!P(le[Me]))throw new Error("Arr.flatten item "+Me+" was not an array, input: "+le);de.apply(xe,le[Me])}return xe},Ge=(le,xe)=>oe(Pe(le,xe));var $e=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ze=le=>xe=>xe.options.get(le),rt=le=>{const xe=le.options.register,Me=ge=>$(ge)||P(ge);xe("charmap",{processor:Me}),xe("charmap_append",{processor:Me})},Ce=Ze("charmap"),Re=Ze("charmap_append"),R=$e.isArray,yt="User Defined",Pt=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],ln=le=>$e.grep(le,xe=>R(xe)&&xe.length===2),gn=le=>R(le)?ln(le):typeof le=="function"?le():[],Qe=(le,xe)=>{const Me=Ce(le);Me&&(xe=[{name:yt,characters:gn(Me)}]);const ge=Re(le);if(ge){const St=$e.grep(xe,$t=>$t.name===yt);return St.length?(St[0].characters=[...St[0].characters,...gn(ge)],xe):xe.concat({name:yt,characters:gn(ge)})}return xe},On=le=>{const xe=Qe(le,Pt());return xe.length>1?[{name:"All",characters:Ge(xe,Me=>Me.characters)}].concat(xe):xe},nr=le=>({getCharMap:()=>On(le),insertChar:ge=>{u(le,ge)}}),pt=le=>{let xe=le;return{get:()=>xe,set:St=>{xe=St}}},bt=(le,xe)=>{let Me=null;const ge=()=>{N(Me)||(clearTimeout(Me),Me=null)};return{cancel:ge,throttle:(...$t)=>{ge(),Me=setTimeout(()=>{Me=null,le.apply(null,$t)},xe)}}},Zt=(le,xe,Me=0,ge)=>{const St=le.indexOf(xe,Me);return St!==-1?D(ge)?!0:St+xe.length<=ge:!1},Vr=String.fromCodePoint,ho=(le,xe,Me)=>Zt(Vr(le).toLowerCase(),Me)?!0:Zt(xe.toLowerCase(),Me)||Zt(xe.toLowerCase().replace(/\s+/g,""),Me),xn=(le,xe)=>{const Me=[],ge=xe.toLowerCase();return Ie(le.characters,St=>{ho(St[0],St[1],ge)&&Me.push(St)}),Pe(Me,St=>({text:St[1],value:Vr(St[0]),icon:Vr(St[0])}))},Rn="pattern",J=(le,xe)=>{const Me=()=>[{label:"Search",type:"input",name:Rn},{type:"collection",name:"results"}],ge=()=>Pe(xe,vo=>({title:vo.name,name:vo.name,items:Me()})),St=()=>({type:"panel",items:Me()}),$t=()=>({type:"tabpanel",tabs:ge()}),Ct=xe.length===1?pt(yt):pt("All"),zt=(vo,Ao)=>{Oe(xe,Oo=>Oo.name===Ct.get()).each(Oo=>{const Es=xn(Oo,Ao);vo.setData({results:Es})})},on=bt(vo=>{const Ao=vo.getData().pattern;zt(vo,Ao)},40),wn=xe.length===1?St():$t(),Cn={pattern:"",results:xn(xe[0],"")},En={title:"Special Character",size:"normal",body:wn,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:Cn,onAction:(vo,Ao)=>{Ao.name==="results"&&(u(le,Ao.value),vo.close())},onTabChange:(vo,Ao)=>{Ct.set(Ao.newTabName),on.throttle(vo)},onChange:(vo,Ao)=>{Ao.name===Rn&&on.throttle(vo)}};le.windowManager.open(En).focus(Rn)},sr=(le,xe)=>{le.addCommand("mceShowCharmap",()=>{J(le,xe)})},br=(le,xe)=>{le.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(Me,ge)=>new Promise((St,$t)=>{St(xn(xe,Me))}),onAction:(Me,ge,St)=>{le.selection.setRng(ge),le.insertContent(St),Me.hide()}})},Ko=le=>xe=>{const Me=()=>{xe.setEnabled(le.selection.isEditable())};return le.on("NodeChange",Me),Me(),()=>{le.off("NodeChange",Me)}},oi=le=>{const xe=()=>le.execCommand("mceShowCharmap");le.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:xe,onSetup:Ko(le)}),le.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:xe,onSetup:Ko(le)})};var Ke=()=>{r.add("charmap",le=>{rt(le);const xe=On(le);return sr(le,xe),oi(le),br(le,xe[0]),nr(le)})};Ke()})();(function(){var r=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=(le=>xe=>le===xe)(null),m=le=>le,v=(le,xe)=>{const Me=le.length,ge=new Array(Me);for(let St=0;St<Me;St++){const $t=le[St];ge[St]=xe($t,St)}return ge},x={aletter:"[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]",midnumlet:"[-'\\.]",midletter:"[:]",midnum:"[+*/,;;]",numeric:"[0-9---------------------------------]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[------------------------------------------------------------------------------------------------------]",format:"[----\uFEFF-]",katakana:"[-------]",extendnumlet:"[=_--<>]",punctuation:"[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]"},S={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},P=[new RegExp(x.aletter),new RegExp(x.midnumlet),new RegExp(x.midletter),new RegExp(x.midnum),new RegExp(x.numeric),new RegExp(x.cr),new RegExp(x.lf),new RegExp(x.newline),new RegExp(x.extend),new RegExp(x.format),new RegExp(x.katakana),new RegExp(x.extendnumlet),new RegExp("@")],N="",D=new RegExp("^"+x.punctuation+"$"),z=/^\s+$/,W=P,$=S.OTHER,G=le=>{let xe=$;const Me=W.length;for(let ge=0;ge<Me;++ge){const St=W[ge];if(St&&St.test(le)){xe=ge;break}}return xe},Q=le=>{const xe={};return Me=>{if(xe[Me])return xe[Me];{const ge=le(Me);return xe[Me]=ge,ge}}},ve=le=>{const xe=Q(G);return v(le,xe)},de=(le,xe)=>{const Me=le[xe],ge=le[xe+1];if(xe<0||xe>le.length-1&&xe!==0||Me===S.ALETTER&&ge===S.ALETTER)return!1;const St=le[xe+2];if(Me===S.ALETTER&&(ge===S.MIDLETTER||ge===S.MIDNUMLET||ge===S.AT)&&St===S.ALETTER)return!1;const $t=le[xe-1];return(Me===S.MIDLETTER||Me===S.MIDNUMLET||ge===S.AT)&&ge===S.ALETTER&&$t===S.ALETTER||(Me===S.NUMERIC||Me===S.ALETTER)&&(ge===S.NUMERIC||ge===S.ALETTER)||(Me===S.MIDNUM||Me===S.MIDNUMLET)&&ge===S.NUMERIC&&$t===S.NUMERIC||Me===S.NUMERIC&&(ge===S.MIDNUM||ge===S.MIDNUMLET)&&St===S.NUMERIC||(Me===S.EXTEND||Me===S.FORMAT)&&(ge===S.ALETTER||ge===S.NUMERIC||ge===S.KATAKANA||ge===S.EXTEND||ge===S.FORMAT)||(ge===S.EXTEND||ge===S.FORMAT&&(St===S.ALETTER||St===S.NUMERIC||St===S.KATAKANA||St===S.EXTEND||St===S.FORMAT))&&(Me===S.ALETTER||Me===S.NUMERIC||Me===S.KATAKANA||Me===S.EXTEND||Me===S.FORMAT)||Me===S.CR&&ge===S.LF?!1:Me===S.NEWLINE||Me===S.CR||Me===S.LF||ge===S.NEWLINE||ge===S.CR||ge===S.LF?!0:!(Me===S.KATAKANA&&ge===S.KATAKANA||ge===S.EXTENDNUMLET&&(Me===S.ALETTER||Me===S.NUMERIC||Me===S.KATAKANA||Me===S.EXTENDNUMLET)||Me===S.EXTENDNUMLET&&(ge===S.ALETTER||ge===S.NUMERIC||ge===S.KATAKANA)||Me===S.AT)},Pe=N,Ie=z,re=D,Oe=le=>le==="http"||le==="https",oe=(le,xe)=>{let Me;for(Me=xe;Me<le.length&&!Ie.test(le[Me]);Me++);return Me},Ge=(le,xe)=>{const Me=oe(le,xe+1);return le.slice(xe+1,Me).join(Pe).substr(0,3)==="://"?Me:xe},$e=(le,xe,Me,ge)=>{const St=[],$t=[];let Ct=[];for(let zt=0;zt<Me.length;++zt)if(Ct.push(le[zt]),de(Me,zt)){const It=xe[zt];if((ge.includeWhitespace||!Ie.test(It))&&(ge.includePunctuation||!re.test(It))){const on=zt-Ct.length+1,wn=zt+1,Cn=xe.slice(on,wn).join(Pe);if(Oe(Cn)){const En=Ge(xe,zt),ao=le.slice(wn,En);Array.prototype.push.apply(Ct,ao),zt=En}xe[zt+1]==="."&&/^([a-zA-Z]\.)+$/.test(Cn+".")?(Ct.push(le[zt+1]),$t.push({start:on,end:wn+1})):$t.push({start:on,end:wn}),St.push(Ct)}Ct=[]}return{words:St,indices:$t}},Ze=()=>({includeWhitespace:!1,includePunctuation:!1}),rt=(le,xe,Me)=>{Me={...Ze(),...Me};const ge=v(le,xe),St=ve(ge);return $e(le,ge,St,Me)},Re=(le,xe,Me)=>rt(le,xe,Me).words,R=le=>le.replace(/\uFEFF/g,"");var yt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const Pt=(le,xe)=>{const Me=xe.getBlockElements(),ge=xe.getVoidElements(),St=on=>Me[on.nodeName]||ge[on.nodeName],$t=[];let Ct="";const zt=new yt(le,le);let It;for(;It=zt.next();)It.nodeType===3?Ct+=R(It.data):St(It)&&Ct.length&&($t.push(Ct),Ct="");return Ct.length&&$t.push(Ct),$t},ln=le=>le.replace(/\u200B/g,""),gn=le=>le.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,Qe=(le,xe)=>{const Me=ln(Pt(le,xe).join(`
`));return Re(Me.split(""),m).length},On=(le,xe)=>{const Me=Pt(le,xe).join("");return gn(Me)},nr=(le,xe)=>{const Me=Pt(le,xe).join("").replace(/\s/g,"");return gn(Me)},pt=(le,xe)=>()=>xe(le.getBody(),le.schema),bt=(le,xe)=>()=>xe(le.selection.getRng().cloneContents(),le.schema),Zt=le=>pt(le,Qe),Vr=le=>({body:{getWordCount:Zt(le),getCharacterCount:pt(le,On),getCharacterCountWithoutSpaces:pt(le,nr)},selection:{getWordCount:bt(le,Qe),getCharacterCount:bt(le,On),getCharacterCountWithoutSpaces:bt(le,nr)},getCount:Zt(le)}),ho=(le,xe)=>{le.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(xe.body.getWordCount()),String(xe.selection.getWordCount())],["Characters (no spaces)",String(xe.body.getCharacterCountWithoutSpaces()),String(xe.selection.getCharacterCountWithoutSpaces())],["Characters",String(xe.body.getCharacterCount()),String(xe.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},xn=(le,xe)=>{le.addCommand("mceWordCount",()=>ho(le,xe))},Rn=(le,xe)=>{let Me=null;return{cancel:()=>{u(Me)||(clearTimeout(Me),Me=null)},throttle:(...$t)=>{u(Me)&&(Me=setTimeout(()=>{Me=null,le.apply(null,$t)},xe))}}};var J=tinymce.util.Tools.resolve("tinymce.util.Delay");const sr=(le,xe)=>{le.dispatch("wordCountUpdate",{wordCount:{words:xe.body.getWordCount(),characters:xe.body.getCharacterCount(),charactersWithoutSpaces:xe.body.getCharacterCountWithoutSpaces()}})},br=(le,xe)=>{sr(le,xe)},Ko=(le,xe,Me)=>{const ge=Rn(()=>br(le,xe),Me);le.on("init",()=>{br(le,xe),J.setEditorTimeout(le,()=>{le.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",ge.throttle)},0),le.on("remove",ge.cancel)})},oi=le=>{const xe=()=>le.execCommand("mceWordCount");le.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:xe}),le.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:xe})};var Ke=(le=300)=>{r.add("wordcount",xe=>{const Me=Vr(xe);return xn(xe,Me),oi(xe),Ko(xe,Me,le),Me})};Ke()})();tinymce.Resource.add("ui/default/content.css",`.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe89d}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe89d;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#fed635}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly [contentEditable=true]:focus,.mce-content-body.mce-content-readonly [contentEditable=true]:hover{outline:0}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0,84,180,.7)}}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}body{font-family:sans-serif}table{border-collapse:collapse}`);tinymce.Resource.add("content/default/content.css",`body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) td,table[border]:not([border="0"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) td,table[border]:not([border="0"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) td,table[border]:not([border="0"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}`);var Ihe=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],Bhe=function(r){return Ihe.map(function(i){return i.toLowerCase()}).indexOf(r.toLowerCase())!==-1},Mhe=function(r,i,u){Object.keys(i).filter(Bhe).forEach(function(m){var v=i[m];typeof v=="function"&&(m==="onInit"?v(r,u):u.on(m.substring(2),function(p){return v(p,u)}))})},Phe=function(r,i,u,m){var v=r.modelEvents?r.modelEvents:null,p=Array.isArray(v)?v.join(" "):v;so(m,function(x,S){u&&typeof x=="string"&&x!==S&&x!==u.getContent({format:r.outputFormat})&&u.setContent(x)}),u.on(p||"change input undo redo",function(){i.emit("update:modelValue",u.getContent({format:r.outputFormat}))})},Lhe=function(r,i,u,m,v,p){m.setContent(p()),u.attrs["onUpdate:modelValue"]&&Phe(i,u,m,v),Mhe(r,u.attrs,m)},hK=0,YY=function(r){var i=Date.now(),u=Math.floor(Math.random()*1e9);return hK++,r+"_"+u+hK+String(i)},Fhe=function(r){return r!==null&&r.tagName.toLowerCase()==="textarea"},pK=function(r){return typeof r>"u"||r===""?[]:Array.isArray(r)?r:r.split(" ")},zhe=function(r,i){return pK(r).concat(pK(i))},Hhe=function(r){return r==null},bK=function(){return{listeners:[],scriptId:YY("tiny-script"),scriptLoaded:!1}},Vhe=function(){var r=bK(),i=function(v,p,x,S){var P=p.createElement("script");P.referrerPolicy="origin",P.type="application/javascript",P.id=v,P.src=x;var N=function(){P.removeEventListener("load",N),S()};P.addEventListener("load",N),p.head&&p.head.appendChild(P)},u=function(v,p,x){r.scriptLoaded?x():(r.listeners.push(x),v.getElementById(r.scriptId)||i(r.scriptId,v,p,function(){r.listeners.forEach(function(S){return S()}),r.scriptLoaded=!0}))},m=function(){r=bK()};return{load:u,reinitialize:m}},$he=Vhe(),Uhe=function(){return typeof window<"u"?window:global},vw=function(){var r=Uhe();return r&&r.tinymce?r.tinymce:null},Whe={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(r){return r==="html"||r==="text"}}},Np=function(){return Np=Object.assign||function(r){for(var i,u=1,m=arguments.length;u<m;u++){i=arguments[u];for(var v in i)Object.prototype.hasOwnProperty.call(i,v)&&(r[v]=i[v])}return r},Np.apply(this,arguments)},Zhe=function(r,i,u,m){return r(m||"div",{id:i,ref:u})},jhe=function(r,i,u){return r("textarea",{id:i,visibility:"hidden",ref:u})},_H={selector:void 0,target:void 0},XY=tq({props:Whe,setup:function(r,i){var u=r.init?Np(Np({},r.init),_H):Np({},_H),m=sO(r),v=m.disabled,p=m.modelValue,x=m.tagName,S=No(null),P=null,N=r.id||YY("tiny-vue"),D=r.init&&r.init.inline||r.inline,z=!!i.attrs["onUpdate:modelValue"],W=!0,$=r.initialValue?r.initialValue:"",G="",Q=function(Pe){return z?function(){return p!=null&&p.value?p.value:""}:function(){return Pe?$:G}},ve=function(){var Pe=Q(W),Ie=Np(Np({},u),{readonly:r.disabled,target:S.value,plugins:zhe(u.plugins,r.plugins),toolbar:r.toolbar||u.toolbar,inline:D,setup:function(re){P=re,re.on("init",function(Oe){return Lhe(Oe,r,i,re,p,Pe)}),typeof u.setup=="function"&&u.setup(re)}});Fhe(S.value)&&(S.value.style.visibility=""),vw().init(Ie),W=!1};so(v,function(Pe){var Ie;P!==null&&(typeof((Ie=P.mode)===null||Ie===void 0?void 0:Ie.set)=="function"?P.mode.set(Pe?"readonly":"design"):P.setMode(Pe?"readonly":"design"))}),so(x,function(Pe){var Ie;z||(G=P.getContent()),(Ie=vw())===null||Ie===void 0||Ie.remove(P),wa(function(){return ve()})}),Yu(function(){if(vw()!==null)ve();else if(S.value&&S.value.ownerDocument){var Pe=r.cloudChannel?r.cloudChannel:"7",Ie=r.apiKey?r.apiKey:"no-api-key",re=Hhe(r.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(Ie,"/tinymce/").concat(Pe,"/tinymce.min.js"):r.tinymceScriptSrc;$he.load(S.value.ownerDocument,re,ve)}}),Tc(function(){vw()!==null&&vw().remove(P)}),D||(SV(function(){W||ve()}),kV(function(){var Pe;z||(G=P.getContent()),(Pe=vw())===null||Pe===void 0||Pe.remove(P)}));var de=function(Pe){var Ie;G=P.getContent(),(Ie=vw())===null||Ie===void 0||Ie.remove(P),u=Np(Np(Np({},u),Pe),_H),wa(function(){return ve()})};return i.expose({rerender:de,getEditor:function(){return P}}),function(){return D?Zhe(Fp,N,S,r.tagName):jhe(Fp,N,S)}}});const Khe={id:"app-note-edit-wrapper"},qhe=["for"],Ghe={class:"tinyWrapper"},Yhe={class:"wordCountWrapper"},Xhe={__name:"EditNote",props:["noteKey","noteLabel"],setup(r){const i=ey(),u=Pp(),m=ry(),v=DM(),p=Ec(),x=r,S=No(0),P=No(0);function N(){$(),G(),Q()}so(()=>m.editor_zoom,$),so(()=>u.contentClass,G);async function D(){if(p.focusTarget=="right"&&p.isNotesSelected){await wa();const Pe=nk.get("app-note-"+i.activeKey);Pe&&Pe.focus()}}so(()=>p.focusChange,D);function z(){i.updateContent(!0),$(),Q()}function W(){i.updateContent(!0),Q()}function $(){try{const Pe=nk.get("app-note-"+x.noteKey);Pe&&(Pe.dom.setStyle(Pe.dom.doc.body,"font-size",m.editor_zoom+"rem"),Pe.dom.setStyle(Pe.dom.select("h1"),"font-size",m.editor_zoom*u.tinyH1Size+"rem"),Pe.dom.setStyle(Pe.dom.select("h2"),"font-size",m.editor_zoom*u.tinyH2Size+"rem"),Pe.dom.setStyle(Pe.dom.select("h3"),"font-size",m.editor_zoom+"rem"),Pe.dom.setStyle(Pe.dom.select("h4"),"font-size",m.editor_zoom+"rem"),Pe.dom.setStyle(Pe.dom.select("h5"),"font-size",m.editor_zoom+"rem"),Pe.dom.setStyle(Pe.dom.select("h6"),"font-size",m.editor_zoom+"rem"))}catch{}}function G(){for(const Pe of document.getElementsByClassName("tox-tinymce-aux"))Pe.classList.add(u.contentClass)}function Q(){try{const Pe=nk.get("app-note-"+x.noteKey);if(Pe){const Ie=Pe.plugins.wordcount;S.value=Ie.body.getWordCount(),P.value=Ie.body.getCharacterCount()}}catch{}}function ve(Pe){v.setContent(Pe.clipboardData.getData("text/html"))}function de(Pe,Ie){v.getPasteAllowed(Ie.content)||(Ie.content="",v.showWarning())}return(Pe,Ie)=>(hr(),Cl("div",Khe,[lt("label",{class:"hidden",for:"app-note-"+x.noteKey},Id("Verborgenes Feld zur "+x.noteLabel),9,qhe),lt("div",Ghe,[pe(Ue(XY),{id:"app-note-"+x.noteKey,modelValue:Ue(i).editNotes[x.noteKey].note_text,"onUpdate:modelValue":Ie[0]||(Ie[0]=re=>Ue(i).editNotes[x.noteKey].note_text=re),onChange:z,onKeydown:Ue(p).handleKeyDown,onKeyup:W,onCopy:ve,onCut:ve,onInit:N,"api-key":"no-api-key",init:{license_key:"gpl",language:"de",height:"100%",menubar:!1,statusbar:!1,plugins:"lists charmap wordcount",toolbar:Ue(u).tinyToolbar,valid_elements:Ue(u).tinyValidElements,formats:Ue(u).tinyFormats,style_formats:Ue(u).tinyStyles,custom_undo_redo_levels:10,text_patterns:!1,skin:"default",content_css:"default",content_style:Ue(u).tinyContentStyle,browser_spellcheck:Ue(u).allow_spellcheck,highlight_on_focus:!0,iframe_aria_text:"Editor "+x.noteLabel,paste_as_text:!1,paste_block_drop:!0,paste_merge_formats:!0,paste_tab_spaces:4,smart_paste:!1,paste_data_images:!1,paste_remove_styles_if_webkit:!0,paste_webkit_styles:"none",paste_preprocess:de}},null,8,["id","modelValue","onKeydown","init"])]),qo(lt("div",Yhe,[pe(es,{variant:"text",size:"small",onClick:Ie[1]||(Ie[1]=re=>Ue(m).toggleWordCountCharacters()),text:Ue(m).word_count_characters?P.value+" Zeichen":S.value+" Wrter"},null,8,["text"])],512),[[gr,Ue(m).word_count_enabled]])]))}},Jhe=dg(Xhe,[["__scopeId","data-v-d0d05e30"]]),Qhe=r=>(gy("data-v-37f0a1e4"),r=r(),hy(),r),epe={id:"app-essay-edit-wrapper"},tpe=Qhe(()=>lt("label",{for:"app-essay",class:"hidden"},"Verborgenes Feld zum Abgabe-Text",-1)),npe={class:"tinyWrapper"},ope={class:"wordCountWrapper"},rpe={__name:"EditEssay",setup(r){const i=L0(),u=Pp(),m=ry(),v=DM(),p=Ec(),x=No(0),S=No(0);function P(){W(),$(),G()}so(()=>m.editor_zoom,W),so(()=>u.contentClass,$);async function N(){p.focusTarget=="right"&&p.isEssayVisible&&(await wa(),nk.get("app-essay").focus())}so(()=>p.focusChange,N);function D(){i.updateContent(!0),W(),G()}function z(){i.updateContent(!0),G()}function W(){try{const de=nk.get("app-essay");de&&(de.dom.setStyle(de.dom.doc.body,"font-size",m.editor_zoom+"rem"),de.dom.setStyle(de.dom.select("h1"),"font-size",m.editor_zoom*u.tinyH1Size+"rem"),de.dom.setStyle(de.dom.select("h2"),"font-size",m.editor_zoom*u.tinyH2Size+"rem"),de.dom.setStyle(de.dom.select("h3"),"font-size",m.editor_zoom+"rem"),de.dom.setStyle(de.dom.select("h4"),"font-size",m.editor_zoom+"rem"),de.dom.setStyle(de.dom.select("h5"),"font-size",m.editor_zoom+"rem"),de.dom.setStyle(de.dom.select("h6"),"font-size",m.editor_zoom+"rem"))}catch{}}function $(){for(const de of document.getElementsByClassName("tox-tinymce-aux"))de.classList.add(u.contentClass)}function G(){try{const de=nk.get("app-essay");if(de){const Pe=de.plugins.wordcount;x.value=Pe.body.getWordCount(),S.value=Pe.body.getCharacterCount()}}catch{}}function Q(de){v.setContent(de.clipboardData.getData("text/html"))}function ve(de,Pe){v.getPasteAllowed(Pe.content)||(Pe.content="",v.showWarning())}return(de,Pe)=>(hr(),Cl("div",epe,[tpe,lt("div",npe,[pe(Ue(XY),{id:"app-essay",modelValue:Ue(i).currentContent,"onUpdate:modelValue":Pe[0]||(Pe[0]=Ie=>Ue(i).currentContent=Ie),onChange:D,onKeydown:Ue(p).handleKeyDown,onKeyup:z,onCopy:Q,onCut:Q,onInit:P,"api-key":"no-api-key",init:{license_key:"gpl",language:"de",height:"100%",menubar:!1,statusbar:!1,plugins:"lists charmap wordcount",toolbar:Ue(u).tinyToolbar,valid_elements:Ue(u).tinyValidElements,formats:Ue(u).tinyFormats,style_formats:Ue(u).tinyStyles,custom_undo_redo_levels:10,text_patterns:!1,skin:"default",content_css:"default",content_style:Ue(u).tinyContentStyle,browser_spellcheck:Ue(u).allow_spellcheck,highlight_on_focus:!0,iframe_aria_text:"Editor Abgabe-Text",paste_as_text:!1,paste_block_drop:!0,paste_merge_formats:!0,paste_tab_spaces:4,smart_paste:!1,paste_data_images:!1,paste_remove_styles_if_webkit:!0,paste_webkit_styles:"none",paste_preprocess:ve}},null,8,["modelValue","onKeydown","init"])]),qo(lt("div",ope,[pe(es,{variant:"text",size:"small",onClick:Pe[1]||(Pe[1]=Ie=>Ue(m).toggleWordCountCharacters()),text:Ue(m).word_count_characters?S.value+" Zeichen":x.value+" Wrter"},null,8,["text"])],512),[[gr,Ue(m).word_count_enabled]])]))}},spe=dg(rpe,[["__scopeId","data-v-37f0a1e4"]]),ape=Qn({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...ss(),...AM({transition:{component:hY}})},"VCounter"),ipe=rr()({name:"VCounter",functional:!0,props:ape(),setup(r,i){let{slots:u}=i;const m=ct(()=>r.max?`${r.value} / ${r.max}`:String(r.value));return Zr(()=>pe(ty,{transition:r.transition},{default:()=>[qo(pe("div",{class:["v-counter",{"text-error":r.max&&!r.disabled&&parseFloat(r.value)>parseFloat(r.max)},r.class],style:r.style},[u.default?u.default({counter:m.value,max:r.max,value:r.value}):m.value]),[[gr,r.active]])]})),{}}}),lpe=Qn({text:String,onClick:cg(),...ss(),...Ql()},"VLabel"),cpe=rr()({name:"VLabel",props:lpe(),setup(r,i){let{slots:u}=i;return Zr(()=>{var m;return pe("label",{class:["v-label",{"v-label--clickable":!!r.onClick},r.class],style:r.style,onClick:r.onClick},[r.text,(m=u.default)==null?void 0:m.call(u)])}),{}}}),upe=Qn({floating:Boolean,...ss()},"VFieldLabel"),k8=rr()({name:"VFieldLabel",props:upe(),setup(r,i){let{slots:u}=i;return Zr(()=>pe(cpe,{class:["v-field-label",{"v-field-label--floating":r.floating},r.class],style:r.style,"aria-hidden":r.floating||void 0},u)),{}}});function JY(r){const{t:i}=wce();function u(m){let{name:v}=m;const p={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[v],x=r[`onClick:${v}`],S=x&&p?i(`$vuetify.input.${p}`,r.label??""):void 0;return pe(Or,{icon:r[`${v}Icon`],"aria-label":S,onClick:x},null)}return{InputIcon:u}}const QY=Qn({focused:Boolean,"onUpdate:focused":cg()},"focus");function eX(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hp();const u=Hf(r,"focused"),m=ct(()=>({[`${i}--focused`]:u.value}));function v(){u.value=!0}function p(){u.value=!1}return{focusClasses:m,isFocused:u,focus:v,blur:p}}const dpe=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],tX=Qn({appendInnerIcon:_l,bgColor:String,clearable:Boolean,clearIcon:{type:_l,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:_l,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:r=>dpe.includes(r)},"onClick:clear":cg(),"onClick:appendInner":cg(),"onClick:prependInner":cg(),...ss(),...XV(),...vh(),...Ql()},"VField"),nX=rr()({name:"VField",inheritAttrs:!1,props:{id:String,...QY(),...tX()},emits:{"update:focused":r=>!0,"update:modelValue":r=>!0},setup(r,i){let{attrs:u,emit:m,slots:v}=i;const{themeClasses:p}=Oc(r),{loaderClasses:x}=JV(r),{focusClasses:S,isFocused:P,focus:N,blur:D}=eX(r),{InputIcon:z}=JY(r),{roundedClasses:W}=yh(r),{rtlClasses:$}=q0(),G=ct(()=>r.dirty||r.active),Q=ct(()=>!r.singleLine&&!!(r.label||v.label)),ve=py(),de=ct(()=>r.id||`input-${ve}`),Pe=ct(()=>`${de.value}-messages`),Ie=No(),re=No(),Oe=No(),oe=ct(()=>["plain","underlined"].includes(r.variant)),{backgroundColorClasses:Ge,backgroundColorStyles:$e}=Lp(Qr(r,"bgColor")),{textColorClasses:Ze,textColorStyles:rt}=uy(ct(()=>r.error||r.disabled?void 0:G.value&&P.value?r.color:r.baseColor));so(G,yt=>{if(Q.value){const Pt=Ie.value.$el,ln=re.value.$el;requestAnimationFrame(()=>{const gn=FV(Pt),Qe=ln.getBoundingClientRect(),On=Qe.x-gn.x,nr=Qe.y-gn.y-(gn.height/2-Qe.height/2),pt=Qe.width/.75,bt=Math.abs(pt-gn.width)>1?{maxWidth:cr(pt)}:void 0,Zt=getComputedStyle(Pt),Vr=getComputedStyle(ln),ho=parseFloat(Zt.transitionDuration)*1e3||150,xn=parseFloat(Vr.getPropertyValue("--v-field-label-scale")),Rn=Vr.getPropertyValue("color");Pt.style.visibility="visible",ln.style.visibility="hidden",YS(Pt,{transform:`translate(${On}px, ${nr}px) scale(${xn})`,color:Rn,...bt},{duration:ho,easing:W8,direction:yt?"normal":"reverse"}).finished.then(()=>{Pt.style.removeProperty("visibility"),ln.style.removeProperty("visibility")})})}},{flush:"post"});const Ce=ct(()=>({isActive:G,isFocused:P,controlRef:Oe,blur:D,focus:N}));function Re(yt){yt.target!==document.activeElement&&yt.preventDefault()}function R(yt){var Pt;yt.key!=="Enter"&&yt.key!==" "||(yt.preventDefault(),yt.stopPropagation(),(Pt=r["onClick:clear"])==null||Pt.call(r,new MouseEvent("click")))}return Zr(()=>{var On,nr,pt;const yt=r.variant==="outlined",Pt=!!(v["prepend-inner"]||r.prependInnerIcon),ln=!!(r.clearable||v.clear),gn=!!(v["append-inner"]||r.appendInnerIcon||ln),Qe=()=>v.label?v.label({...Ce.value,label:r.label,props:{for:de.value}}):r.label;return pe("div",Ia({class:["v-field",{"v-field--active":G.value,"v-field--appended":gn,"v-field--center-affix":r.centerAffix??!oe.value,"v-field--disabled":r.disabled,"v-field--dirty":r.dirty,"v-field--error":r.error,"v-field--flat":r.flat,"v-field--has-background":!!r.bgColor,"v-field--persistent-clear":r.persistentClear,"v-field--prepended":Pt,"v-field--reverse":r.reverse,"v-field--single-line":r.singleLine,"v-field--no-label":!Qe(),[`v-field--variant-${r.variant}`]:!0},p.value,Ge.value,S.value,x.value,W.value,$.value,r.class],style:[$e.value,r.style],onClick:Re},u),[pe("div",{class:"v-field__overlay"},null),pe(JG,{name:"v-field",active:!!r.loading,color:r.error?"error":typeof r.loading=="string"?r.loading:r.color},{default:v.loader}),Pt&&pe("div",{key:"prepend",class:"v-field__prepend-inner"},[r.prependInnerIcon&&pe(z,{key:"prepend-icon",name:"prependInner"},null),(On=v["prepend-inner"])==null?void 0:On.call(v,Ce.value)]),pe("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(r.variant)&&Q.value&&pe(k8,{key:"floating-label",ref:re,class:[Ze.value],floating:!0,for:de.value,style:rt.value},{default:()=>[Qe()]}),pe(k8,{ref:Ie,for:de.value},{default:()=>[Qe()]}),(nr=v.default)==null?void 0:nr.call(v,{...Ce.value,props:{id:de.value,class:"v-field__input","aria-describedby":Pe.value},focus:N,blur:D})]),ln&&pe(wme,{key:"clear"},{default:()=>[qo(pe("div",{class:"v-field__clearable",onMousedown:bt=>{bt.preventDefault(),bt.stopPropagation()}},[pe(cu,{defaults:{VIcon:{icon:r.clearIcon}}},{default:()=>[v.clear?v.clear({...Ce.value,props:{onKeydown:R,onFocus:N,onBlur:D,onClick:r["onClick:clear"]}}):pe(z,{name:"clear",onKeydown:R,onFocus:N,onBlur:D},null)]})]),[[gr,r.dirty]])]}),gn&&pe("div",{key:"append",class:"v-field__append-inner"},[(pt=v["append-inner"])==null?void 0:pt.call(v,Ce.value),r.appendInnerIcon&&pe(z,{key:"append-icon",name:"appendInner"},null)]),pe("div",{class:["v-field__outline",Ze.value],style:rt.value},[yt&&pe(ks,null,[pe("div",{class:"v-field__outline__start"},null),Q.value&&pe("div",{class:"v-field__outline__notch"},[pe(k8,{ref:re,floating:!0,for:de.value},{default:()=>[Qe()]})]),pe("div",{class:"v-field__outline__end"},null)]),oe.value&&Q.value&&pe(k8,{ref:re,floating:!0,for:de.value},{default:()=>[Qe()]})])])}),{controlRef:Oe}}});function fpe(r){const i=Object.keys(nX.props).filter(u=>!PV(u)&&u!=="class"&&u!=="style");return Fq(r,i)}const mpe=Qn({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...ss(),...AM({transition:{component:hY,leaveAbsolute:!0,group:!0}})},"VMessages"),gpe=rr()({name:"VMessages",props:mpe(),setup(r,i){let{slots:u}=i;const m=ct(()=>Ew(r.messages)),{textColorClasses:v,textColorStyles:p}=uy(ct(()=>r.color));return Zr(()=>pe(ty,{transition:r.transition,tag:"div",class:["v-messages",v.value,r.class],style:[p.value,r.style],role:"alert","aria-live":"polite"},{default:()=>[r.active&&m.value.map((x,S)=>pe("div",{class:"v-messages__message",key:`${S}-${m.value}`},[u.message?u.message({message:x}):x]))]})),{}}}),hpe=Symbol.for("vuetify:form");function ppe(){return qi(hpe,null)}const bpe=Qn({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...QY()},"validation");function vpe(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hp(),u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:py();const m=Hf(r,"modelValue"),v=ct(()=>r.validationValue===void 0?m.value:r.validationValue),p=ppe(),x=No([]),S=kr(!0),P=ct(()=>!!(Ew(m.value===""?null:m.value).length||Ew(v.value===""?null:v.value).length)),N=ct(()=>!!(r.disabled??(p==null?void 0:p.isDisabled.value))),D=ct(()=>!!(r.readonly??(p==null?void 0:p.isReadonly.value))),z=ct(()=>{var Oe;return(Oe=r.errorMessages)!=null&&Oe.length?Ew(r.errorMessages).concat(x.value).slice(0,Math.max(0,+r.maxErrors)):x.value}),W=ct(()=>{let Oe=(r.validateOn??(p==null?void 0:p.validateOn.value))||"input";Oe==="lazy"&&(Oe="input lazy"),Oe==="eager"&&(Oe="input eager");const oe=new Set((Oe==null?void 0:Oe.split(" "))??[]);return{input:oe.has("input"),blur:oe.has("blur")||oe.has("input")||oe.has("invalid-input"),invalidInput:oe.has("invalid-input"),lazy:oe.has("lazy"),eager:oe.has("eager")}}),$=ct(()=>{var Oe;return r.error||(Oe=r.errorMessages)!=null&&Oe.length?!1:r.rules.length?S.value?x.value.length||W.value.lazy?null:!0:!x.value.length:!0}),G=kr(!1),Q=ct(()=>({[`${i}--error`]:$.value===!1,[`${i}--dirty`]:P.value,[`${i}--disabled`]:N.value,[`${i}--readonly`]:D.value})),ve=Sl("validation"),de=ct(()=>r.name??Ue(u));EV(()=>{p==null||p.register({id:de.value,vm:ve,validate:re,reset:Pe,resetValidation:Ie})}),Tc(()=>{p==null||p.unregister(de.value)}),Yu(async()=>{W.value.lazy||await re(!W.value.eager),p==null||p.update(de.value,$.value,z.value)}),hh(()=>W.value.input||W.value.invalidInput&&$.value===!1,()=>{so(v,()=>{if(v.value!=null)re();else if(r.focused){const Oe=so(()=>r.focused,oe=>{oe||re(),Oe()})}})}),hh(()=>W.value.blur,()=>{so(()=>r.focused,Oe=>{Oe||re()})}),so([$,z],()=>{p==null||p.update(de.value,$.value,z.value)});async function Pe(){m.value=null,await wa(),await Ie()}async function Ie(){S.value=!0,W.value.lazy?x.value=[]:await re(!W.value.eager)}async function re(){let Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const oe=[];G.value=!0;for(const Ge of r.rules){if(oe.length>=+(r.maxErrors??1))break;const Ze=await(typeof Ge=="function"?Ge:()=>Ge)(v.value);if(Ze!==!0){if(Ze!==!1&&typeof Ze!="string"){console.warn(`${Ze} is not a valid value. Rule functions must return boolean true or a string.`);continue}oe.push(Ze||"")}}return x.value=oe,G.value=!1,S.value=Oe,x.value}return{errorMessages:z,isDirty:P,isDisabled:N,isReadonly:D,isPristine:S,isValid:$,isValidating:G,reset:Pe,resetValidation:Ie,validate:re,validationClasses:Q}}const oX=Qn({id:String,appendIcon:_l,centerAffix:{type:Boolean,default:!0},prependIcon:_l,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:r=>["horizontal","vertical"].includes(r)},"onClick:prepend":cg(),"onClick:append":cg(),...ss(),...G0(),...Tle(Y0(),["maxWidth","minWidth","width"]),...Ql(),...bpe()},"VInput"),vK=rr()({name:"VInput",props:{...oX()},emits:{"update:modelValue":r=>!0},setup(r,i){let{attrs:u,slots:m,emit:v}=i;const{densityClasses:p}=yy(r),{dimensionStyles:x}=X0(r),{themeClasses:S}=Oc(r),{rtlClasses:P}=q0(),{InputIcon:N}=JY(r),D=py(),z=ct(()=>r.id||`input-${D}`),W=ct(()=>`${z.value}-messages`),{errorMessages:$,isDirty:G,isDisabled:Q,isReadonly:ve,isPristine:de,isValid:Pe,isValidating:Ie,reset:re,resetValidation:Oe,validate:oe,validationClasses:Ge}=vpe(r,"v-input",z),$e=ct(()=>({id:z,messagesId:W,isDirty:G,isDisabled:Q,isReadonly:ve,isPristine:de,isValid:Pe,isValidating:Ie,reset:re,resetValidation:Oe,validate:oe})),Ze=ct(()=>{var rt;return(rt=r.errorMessages)!=null&&rt.length||!de.value&&$.value.length?$.value:r.hint&&(r.persistentHint||r.focused)?r.hint:r.messages});return Zr(()=>{var yt,Pt,ln,gn;const rt=!!(m.prepend||r.prependIcon),Ce=!!(m.append||r.appendIcon),Re=Ze.value.length>0,R=!r.hideDetails||r.hideDetails==="auto"&&(Re||!!m.details);return pe("div",{class:["v-input",`v-input--${r.direction}`,{"v-input--center-affix":r.centerAffix,"v-input--hide-spin-buttons":r.hideSpinButtons},p.value,S.value,P.value,Ge.value,r.class],style:[x.value,r.style]},[rt&&pe("div",{key:"prepend",class:"v-input__prepend"},[(yt=m.prepend)==null?void 0:yt.call(m,$e.value),r.prependIcon&&pe(N,{key:"prepend-icon",name:"prepend"},null)]),m.default&&pe("div",{class:"v-input__control"},[(Pt=m.default)==null?void 0:Pt.call(m,$e.value)]),Ce&&pe("div",{key:"append",class:"v-input__append"},[r.appendIcon&&pe(N,{key:"append-icon",name:"append"},null),(ln=m.append)==null?void 0:ln.call(m,$e.value)]),R&&pe("div",{class:"v-input__details"},[pe(gpe,{id:W.value,active:Re,messages:Ze.value},{message:m.message}),(gn=m.details)==null?void 0:gn.call(m,$e.value)])])}),{reset:re,resetValidation:Oe,validate:oe,isValid:Pe,errorMessages:$}}}),ype=Qn({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:r=>!isNaN(parseFloat(r))},maxRows:{type:[Number,String],validator:r=>!isNaN(parseFloat(r))},suffix:String,modelModifiers:Object,...oX(),...tX()},"VTextarea"),xpe=rr()({name:"VTextarea",directives:{Intersect:fY},inheritAttrs:!1,props:ype(),emits:{"click:control":r=>!0,"mousedown:control":r=>!0,"update:focused":r=>!0,"update:modelValue":r=>!0},setup(r,i){let{attrs:u,emit:m,slots:v}=i;const p=Hf(r,"modelValue"),{isFocused:x,focus:S,blur:P}=eX(r),N=ct(()=>typeof r.counterValue=="function"?r.counterValue(p.value):(p.value||"").toString().length),D=ct(()=>{if(u.maxlength)return u.maxlength;if(!(!r.counter||typeof r.counter!="number"&&typeof r.counter!="string"))return r.counter});function z(Ce,Re){var R,yt;!r.autofocus||!Ce||(yt=(R=Re[0].target)==null?void 0:R.focus)==null||yt.call(R)}const W=No(),$=No(),G=kr(""),Q=No(),ve=ct(()=>r.persistentPlaceholder||x.value||r.active);function de(){var Ce;Q.value!==document.activeElement&&((Ce=Q.value)==null||Ce.focus()),x.value||S()}function Pe(Ce){de(),m("click:control",Ce)}function Ie(Ce){m("mousedown:control",Ce)}function re(Ce){Ce.stopPropagation(),de(),wa(()=>{p.value="",Ile(r["onClick:clear"],Ce)})}function Oe(Ce){var R;const Re=Ce.target;if(p.value=Re.value,(R=r.modelModifiers)!=null&&R.trim){const yt=[Re.selectionStart,Re.selectionEnd];wa(()=>{Re.selectionStart=yt[0],Re.selectionEnd=yt[1]})}}const oe=No(),Ge=No(+r.rows),$e=ct(()=>["plain","underlined"].includes(r.variant));ph(()=>{r.autoGrow||(Ge.value=+r.rows)});function Ze(){r.autoGrow&&wa(()=>{if(!oe.value||!$.value)return;const Ce=getComputedStyle(oe.value),Re=getComputedStyle($.value.$el),R=parseFloat(Ce.getPropertyValue("--v-field-padding-top"))+parseFloat(Ce.getPropertyValue("--v-input-padding-top"))+parseFloat(Ce.getPropertyValue("--v-field-padding-bottom")),yt=oe.value.scrollHeight,Pt=parseFloat(Ce.lineHeight),ln=Math.max(parseFloat(r.rows)*Pt+R,parseFloat(Re.getPropertyValue("--v-input-control-height"))),gn=parseFloat(r.maxRows)*Pt+R||1/0,Qe=Rw(yt??0,ln,gn);Ge.value=Math.floor((Qe-R)/Pt),G.value=cr(Qe)})}Yu(Ze),so(p,Ze),so(()=>r.rows,Ze),so(()=>r.maxRows,Ze),so(()=>r.density,Ze);let rt;return so(oe,Ce=>{Ce?(rt=new ResizeObserver(Ze),rt.observe(oe.value)):rt==null||rt.disconnect()}),Tc(()=>{rt==null||rt.disconnect()}),Zr(()=>{const Ce=!!(v.counter||r.counter||r.counterValue),Re=!!(Ce||v.details),[R,yt]=Dle(u),{modelValue:Pt,...ln}=vK.filterProps(r),gn=fpe(r);return pe(vK,Ia({ref:W,modelValue:p.value,"onUpdate:modelValue":Qe=>p.value=Qe,class:["v-textarea v-text-field",{"v-textarea--prefixed":r.prefix,"v-textarea--suffixed":r.suffix,"v-text-field--prefixed":r.prefix,"v-text-field--suffixed":r.suffix,"v-textarea--auto-grow":r.autoGrow,"v-textarea--no-resize":r.noResize||r.autoGrow,"v-input--plain-underlined":$e.value},r.class],style:r.style},R,ln,{centerAffix:Ge.value===1&&!$e.value,focused:x.value}),{...v,default:Qe=>{let{id:On,isDisabled:nr,isDirty:pt,isReadonly:bt,isValid:Zt}=Qe;return pe(nX,Ia({ref:$,style:{"--v-textarea-control-height":G.value},onClick:Pe,onMousedown:Ie,"onClick:clear":re,"onClick:prependInner":r["onClick:prependInner"],"onClick:appendInner":r["onClick:appendInner"]},gn,{id:On.value,active:ve.value||pt.value,centerAffix:Ge.value===1&&!$e.value,dirty:pt.value||r.dirty,disabled:nr.value,focused:x.value,error:Zt.value===!1}),{...v,default:Vr=>{let{props:{class:ho,...xn}}=Vr;return pe(ks,null,[r.prefix&&pe("span",{class:"v-text-field__prefix"},[r.prefix]),qo(pe("textarea",Ia({ref:Q,class:ho,value:p.value,onInput:Oe,autofocus:r.autofocus,readonly:bt.value,disabled:nr.value,placeholder:r.placeholder,rows:r.rows,name:r.name,onFocus:de,onBlur:P},xn,yt),null),[[aO("intersect"),{handler:z},null,{once:!0}]]),r.autoGrow&&qo(pe("textarea",{class:[ho,"v-textarea__sizer"],id:`${xn.id}-sizer`,"onUpdate:modelValue":Rn=>p.value=Rn,ref:oe,readonly:!0,"aria-hidden":"true"},null),[[ble,p.value]]),r.suffix&&pe("span",{class:"v-text-field__suffix"},[r.suffix])])}})},details:Re?Qe=>{var On;return pe(ks,null,[(On=v.details)==null?void 0:On.call(v,Qe),Ce&&pe(ks,null,[pe("span",null,null),pe(ipe,{active:r.persistentCounter||x.value,value:N.value,max:D.value,disabled:r.disabled},v.counter)])])}:void 0})}),kY({},W,$,Q)}}),wpe=r=>(gy("data-v-d4f402e1"),r=r(),hy(),r),Cpe=wpe(()=>lt("span",{class:"sr-only"},"Anmerkung lschen",-1)),_pe={__name:"Annotation",props:["annotation"],setup(r){Ac();const i=tk(),u=Ec(),v=r.annotation;function p(P){return P.getKey()==i.selectedKey}Yu(()=>{const P=document.getElementById("appAnnotationContainer"+v.getKey());for(const N of P.getElementsByTagName("label"))N.getAttribute("for").includes("app-annotation-")&&(N.classList.add("sr-only"),N.getAttribute("aria-hidden")=="true"?N.getAttribute("for").includes("-sizer")||N.setAttribute("for",N.getAttribute("for")+"-sizer"):N.setAttribute("id","app-annotation-"+v.getKey()+"-messages"));for(const N of P.getElementsByTagName("textarea"))N.style.marginTop="-15px",N.style.fontSize="0.9rem";for(const N of P.getElementsByClassName("v-input__details"))N.style.display="none"});function x(P){return"#F5F7FB"}async function S(){if(event.altKey)switch(event.key){case"Enter":event.preventDefault(),u.showForResourceKey(),await wa(),i.setCaretRequest();break;case"Delete":event.preventDefault(),i.deleteAnnotation(i.selectedKey);break}}return(P,N)=>(hr(),ni(Vge,{id:"appAnnotationContainer"+Ue(v).getKey(),key:Ue(v).getKey(),class:"annotationContainer"},{default:vn(()=>[pe(Xge,{dense:""},{default:vn(()=>[pe(_8,{cols:"1"},{default:vn(()=>[lt("button",{tabindex:"0",class:ly("v-btn annotationLabel "+(p(Ue(v))?"selected":"")),onClick:N[0]||(N[0]=D=>Ue(i).selectAnnotation(Ue(v).getKey()))},Id(Ue(v).label),3)]),_:1}),qo(pe(_8,{cols:"10"},{default:vn(()=>[pe(xpe,{class:"annotationInput","bg-color":x(Ue(v)),rounded:"0",density:"compact",variant:"solo",id:"app-annotation-"+Ue(v).getKey(),label:"Anmerkung zu Markierung "+Ue(v).label,rows:"1","auto-grow":"",onClick:N[1]||(N[1]=D=>Ue(i).selectAnnotation(Ue(v).getKey())),onChange:N[2]||(N[2]=D=>Ue(i).updateAnnotation(Ue(v))),onKeyup:N[3]||(N[3]=D=>Ue(i).updateAnnotation(Ue(v))),onKeydown:N[4]||(N[4]=D=>S()),modelValue:Ue(v).comment,"onUpdate:modelValue":N[5]||(N[5]=D=>Ue(v).comment=D)},null,8,["bg-color","id","label","modelValue"])]),_:1},512),[[gr,p(Ue(v))]]),qo(pe(_8,{cols:"10"},{default:vn(()=>[qo(lt("div",{class:"annotationDisplay",style:V0("background-color: "+x(Ue(v))+";"),onClick:N[6]||(N[6]=D=>Ue(i).selectAnnotation(Ue(v).getKey()))},Id(Ue(v).comment),5),[[gr,Ue(v).comment]])]),_:1},512),[[gr,!p(Ue(v))]]),pe(_8,{cols:"1",class:"trashColumn"},{default:vn(()=>[pe(es,{class:"trashButton",density:"compact",size:"small",variant:"text","prepend-icon":"mdi-delete-outline",tabindex:p(Ue(v))?0:-1,onClick:N[7]||(N[7]=D=>Ue(i).deleteAnnotation(Ue(v).getKey())),onKeydown:N[8]||(N[8]=D=>S())},{default:vn(()=>[Cpe]),_:1},8,["tabindex"])]),_:1})]),_:1})]),_:1},8,["id"]))}},Spe=dg(_pe,[["__scopeId","data-v-d4f402e1"]]),kpe={id:"appAnnotations"},Epe={__name:"Annotations",setup(r){const i=tk();async function u(){await wa();let v=document.getElementById("appAnnotationContainer"+i.selectedKey);if(v){let p=v.querySelector("textarea");p&&p.focus()}}so(()=>i.selectionChange,u);async function m(){await wa();let v=document.getElementById("appAnnotationContainer"+i.firstVisibleKey);v&&v.scrollIntoView()}return so(()=>i.firstVisibleKey,m),(v,p)=>(hr(),Cl("div",kpe,[(hr(!0),Cl(ks,null,sk(Ue(i).activeAnnotations,x=>(hr(),ni(Spe,{key:x.getKey(),annotation:x},null,8,["annotation"]))),128))]))}},RM=r=>(gy("data-v-29fdbcdb"),r=r(),hy(),r),Ape={id:"app-edit-select-wrapper"},Tpe={class:"appEditChoices"},Ope=RM(()=>lt("span",{class:"sr-only",id:"app-edit-select-annotations"},"Anmerkungen",-1)),Dpe=RM(()=>lt("span",{"aria-hidden":"true"},"Anmerkungen",-1)),Rpe=RM(()=>lt("span",{class:"sr-only",id:"app-edit-select-text"},"Abgabe Text bearbeiten",-1)),Npe=RM(()=>lt("span",{"aria-hidden":"true"},"Text",-1)),Ipe=["id"],Bpe={"aria-hidden":"true"},Mpe={key:1,"aria-hidden":"true"},Ppe={class:"appEditors"},Lpe={__name:"EditSelect",setup(r){const i=Ec(),u=ey(),m=Pp(),v=ry(),p=No("essay");x();function x(){switch(i.rightContent){case"annotations":p.value="annotations";break;case"essay":p.value="essay";break;case"notes":p.value=u.activeKey;break}}so(()=>i.rightContent,x),so(()=>u.activeKey,x);function S(){switch(p.value){case void 0:x();break;case"annotations":i.showAnnotations();break;case"essay":i.showEssay();break;default:i.showNotes(),u.activeKey=p.value;break}}return(P,N)=>(hr(),Cl("div",Ape,[lt("div",Tpe,[Ue(m).hasNotes?(hr(),ni(Ufe,{key:0,density:"comfortable",variant:"outlined",divided:"",modelValue:p.value,"onUpdate:modelValue":N[0]||(N[0]=D=>p.value=D),onClick:N[1]||(N[1]=D=>S())},{default:vn(()=>[pe(es,{"aria-labelledby":"app-edit-select-annotations",size:"small",value:"annotations"},{default:vn(()=>[pe(Or,{icon:"mdi-marker"}),Ope,Dpe]),_:1}),pe(es,{"aria-labelledby":"app-edit-select-text",size:"small",value:"essay"},{default:vn(()=>[pe(Or,{icon:"mdi-file-edit-outline"}),Rpe,Npe]),_:1}),(hr(!0),Cl(ks,null,sk(Ue(u).keys,D=>(hr(),ni(es,{size:"small","aria-labelledby":"app-edit-select-note"+Ue(u).notes[D].note_no,key:D,value:D},{default:vn(()=>[pe(Or,{icon:"mdi-clipboard-outline"}),lt("span",{class:"sr-only",id:"app-edit-select-note"+Ue(u).notes[D].note_no},Id(Ue(m).notice_boards==1?"Notizen bearbeiten":"Notiz "+(Ue(u).notes[D].note_no+1)+" bearbeiten"),9,Ipe),lt("span",Bpe,Id(Ue(m).notice_boards==1?"Notizen":Ue(u).notes[D].note_no+1),1)]),_:2},1032,["aria-labelledby","value"]))),128))]),_:1},8,["modelValue"])):qu("",!0),Ue(m).hasNotes?(hr(),Cl("span",Mpe,"")):qu("",!0),pe(lk,{density:"comfortable",variant:"outlined",divided:""},{default:vn(()=>[pe(es,{title:"Editor Text verkleinern",size:"small",icon:"mdi-magnify-minus-outline",onClick:N[2]||(N[2]=D=>Ue(v).zoomEditorOut())}),pe(es,{title:"Editor Text vergrern",size:"small",icon:"mdi-magnify-plus-outline",onClick:N[3]||(N[3]=D=>Ue(v).zoomEditorIn())}),pe(es,{title:Ue(v).word_count_enabled?"Zhler verbergen":"Zhler anzeigen",size:"small",icon:Ue(v).word_count_enabled?"mdi-numeric":"mdi-numeric-off",onClick:N[4]||(N[4]=D=>Ue(v).toggleWordCountEnabled())},null,8,["title","icon"])]),_:1})]),lt("div",Ppe,[qo(pe(Epe,null,null,512),[[gr,Ue(i).isAnnotationsSelected]]),qo(pe(spe,null,null,512),[[gr,Ue(i).isEssaySelected]]),Ue(m).notice_boards>0?(hr(!0),Cl(ks,{key:0},sk(Ue(u).keys,D=>qo((hr(),ni(Jhe,{key:D,noteKey:D,noteLabel:Ue(m).notice_boards==1?"Notizen":"Notiz "+(Ue(u).notes[D].note_no+1)},null,8,["noteKey","noteLabel"])),[[gr,Ue(i).isNotesSelected&&Ue(u).activeKey==D]])),128)):qu("",!0)])]))}},Fpe=dg(Lpe,[["__scopeId","data-v-29fdbcdb"]]),zpe=Qn({scrollable:Boolean,...ss(),...Y0(),...Yi({tag:"main"})},"VMain"),l$=rr()({name:"VMain",props:zpe(),setup(r,i){let{slots:u}=i;const{dimensionStyles:m}=X0(r),{mainStyles:v}=kue(),{ssrBootStyles:p}=OM();return Zr(()=>pe(r.tag,{class:["v-main",{"v-main--scrollable":r.scrollable},r.class],style:[v.value,p.value,m.value,r.style]},{default:()=>{var x,S;return[r.scrollable?pe("div",{class:"v-main__scroller"},[(x=u.default)==null?void 0:x.call(u)]):(S=u.default)==null?void 0:S.call(u)]}})),{}}}),dO=r=>(gy("data-v-7285460f"),r=r(),hy(),r),Hpe={id:"app-main-container"},Vpe={class:"col-header"},$pe={class:"headline"},Upe=dO(()=>lt("span",{"aria-hidden":"true"},"Erweitern",-1)),Wpe=dO(()=>lt("span",{id:"app-expand-left-column",class:"sr-only"},"Linke Spalte erweitern",-1)),Zpe={class:"col-content"},jpe={class:"col-header"},Kpe={class:"headline"},qpe=dO(()=>lt("span",{"aria-hidden":"true"},"Erweitern",-1)),Gpe=dO(()=>lt("span",{id:"app-expand-right-column",class:"sr-only"},"Rechte Spalte erweitern",-1)),Ype={class:"col-content"},Xpe=dO(()=>lt("p",null,"Sie knnen nur selbst geschriebenen Text oder Teile aus der Aufgabenstellung kopieren und einfgen.",-1)),Jpe={__name:"MainContent",setup(r){const i=Ec(),u=ag(),m=DM();return document.addEventListener("keydown",i.handleKeyDown),(v,p)=>(hr(),ni(l$,{"fill-height":""},{default:vn(()=>[lt("div",Hpe,[qo(lt("section",{"aria-label":"Linke Spalte",class:ly(["column",{colExpanded:Ue(i).isLeftExpanded,colNormal:!Ue(i).isLeftExpanded}])},[lt("div",Vpe,[lt("h1",$pe,Id(Ue(i).isInstructionsSelected?"Aufgabenstellung":Ue(i).isInstructionsPdfSelected?"Aufgabenstellung (PDF)":Ue(i).isResourcesSelected?Ue(u).activeTitle:"Linke Spalte"),1),pe(lk,{density:"comfortable"},{default:vn(()=>[qo(pe(es,{size:"small",onClick:p[0]||(p[0]=x=>Ue(i).setLeftExpanded(!1))},{default:vn(()=>[pe(Or,{icon:"mdi-chevron-left"}),lt("span",null,Id(Ue(i).isAnnotationsSelected?"Anmerkungen":Ue(i).isEssaySelected?"Abgabe-Text":Ue(i).isNotesSelected?"Notizen":"Rechte Spalte erweitern"),1)]),_:1},512),[[gr,Ue(i).isLeftExpanded]]),qo(pe(es,{"aria-labelledby":"app-expand-left-column",size:"small",onClick:p[1]||(p[1]=x=>Ue(i).setLeftExpanded(!0))},{default:vn(()=>[Upe,Wpe,pe(Or,{icon:"mdi-chevron-right"})]),_:1},512),[[gr,!Ue(i).isLeftExpanded]])]),_:1})]),lt("div",Zpe,[qo(pe(phe,null,null,512),[[gr,Ue(i).isInstructionsVisible]]),qo(pe(Rhe,null,null,512),[[gr,Ue(i).isInstructionsPdfVisible||Ue(i).isResourcesVisible]])])],2),[[gr,Ue(i).isLeftVisible]]),qo(lt("section",{"aria-label":"Rechte Spalte",class:ly(["column",{colExpanded:Ue(i).isRightExpanded,colNormal:!Ue(i).isRightExpanded}])},[lt("div",jpe,[lt("h1",Kpe,Id(Ue(i).isAnnotationsSelected?"Anmerkungen":Ue(i).isEssayVisible?"Abgabe-Text":Ue(i).isNotesVisible?"Notizen (werden bei der Abgabe verworfen)":"Rechte Spalte"),1),pe(lk,{density:"comfortable"},{default:vn(()=>[qo(pe(es,{size:"small",onClick:p[2]||(p[2]=x=>Ue(i).setRightExpanded(!1))},{default:vn(()=>[lt("span",null,Id(Ue(i).isInstructionsSelected?"Aufgabenstellung":Ue(i).isInstructionsPdfSelected?"Aufgabenstellung (PDF)":Ue(i).isResourcesSelected?Ue(u).activeTitle:"Linke Spalte erweitern"),1),pe(Or,{icon:"mdi-chevron-right"})]),_:1},512),[[gr,Ue(i).isRightExpanded]]),qo(pe(es,{"aria-labelledby":"app-expand-right-column",size:"small",onClick:p[3]||(p[3]=x=>Ue(i).setRightExpanded(!0))},{default:vn(()=>[pe(Or,{icon:"mdi-chevron-left"}),qpe,Gpe]),_:1},512),[[gr,!Ue(i).isRightExpanded]])]),_:1})]),lt("div",Ype,[pe(Fpe)])],2),[[gr,Ue(i).isRightVisible]])]),pe(ay,{width:"500",persistent:"",modelValue:Ue(m).show_warning,"onUpdate:modelValue":p[5]||(p[5]=x=>Ue(m).show_warning=x)},{default:vn(()=>[pe(sy,null,{default:vn(()=>[pe(Z0,null,{default:vn(()=>[Xpe]),_:1}),pe(W0,null,{default:vn(()=>[pe(i$),pe(es,{onClick:p[4]||(p[4]=x=>Ue(m).hideWarning())},{default:vn(()=>[rg(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},Qpe=dg(Jpe,[["__scopeId","data-v-7285460f"]]),ebe=lt("p",null,"Lade Daten...",-1),tbe=lt("span",null,"Beenden ...",-1),nbe=lt("p",null,"Beim Laden der Daten ist ein Fehler aufgetreten. Die Anwendung kann nicht gestartet werden.",-1),obe=lt("span",null,"Beenden",-1),rbe=lt("p",null,"In Ihrem Browser sind Eingaben eines anderen Benutzers oder einer anderen Aufgabe vorhanden, die noch nicht bertragen wurden. Durch das Laden werden diese Eingaben gelscht.",-1),sbe=lt("p",null,"Mchten Sie die neue Aufgabe laden?",-1),abe=lt("span",null,"Laden",-1),ibe=lt("span",null,"Abbrechen",-1),lbe=lt("p",null,"In Ihrem Browser sind Eingaben vorhanden, die noch nicht bertragen wurden. Die letzte im System gespeicherte Eingabe scheint aber nicht aus diesem Browser zu stammen. Das kann z.B. passieren, wenn Ihre Netzverbindung unterbrochen wurde und Sie anschlieend in einem anderen Browser weitergearbeitet haben. Durch das Laden werden Ihre Eingaben im Browser berschrieben.",-1),cbe=lt("p",null,"Mchten Sie die Eingabe vom System laden?",-1),ube=lt("span",null,"Laden",-1),dbe=lt("span",null,"Abbrechen",-1),fbe={__name:"StartupContent",setup(r){const i=Ac();return(u,m)=>(hr(),ni(l$,{"fill-height":""},{default:vn(()=>[pe(FY,{elevation:"1",color:"white",density:"compact"},{default:vn(()=>[ebe,pe(i$),pe(es,{href:Ue(i).returnUrl},{default:vn(()=>[pe(Or,{left:"",icon:"mdi-logout-variant"}),tbe]),_:1},8,["href"])]),_:1}),pe(ay,{persistent:"",modelValue:Ue(i).showInitFailure,"onUpdate:modelValue":m[0]||(m[0]=v=>Ue(i).showInitFailure=v)},{default:vn(()=>[pe(sy,null,{default:vn(()=>[pe(Z0,null,{default:vn(()=>[nbe]),_:1}),pe(W0,null,{default:vn(()=>[pe(es,{href:Ue(i).returnUrl},{default:vn(()=>[pe(Or,{left:"",icon:"mdi-logout-variant"}),obe]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),pe(ay,{persistent:"",modelValue:Ue(i).showReplaceConfirmation,"onUpdate:modelValue":m[2]||(m[2]=v=>Ue(i).showReplaceConfirmation=v)},{default:vn(()=>[pe(sy,null,{default:vn(()=>[pe(Z0,null,{default:vn(()=>[rbe,sbe]),_:1}),pe(W0,null,{default:vn(()=>[pe(es,{onClick:m[1]||(m[1]=v=>Ue(i).loadDataFromBackend())},{default:vn(()=>[pe(Or,{left:"",icon:"mdi-reload"}),abe]),_:1}),pe(es,{href:Ue(i).returnUrl},{default:vn(()=>[pe(Or,{left:"",icon:"mdi-logout-variant"}),ibe]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),pe(ay,{persistent:"",modelValue:Ue(i).showReloadConfirmation,"onUpdate:modelValue":m[4]||(m[4]=v=>Ue(i).showReloadConfirmation=v)},{default:vn(()=>[pe(sy,null,{default:vn(()=>[pe(Z0,null,{default:vn(()=>[lbe,cbe]),_:1}),pe(W0,null,{default:vn(()=>[pe(es,{onClick:m[3]||(m[3]=v=>Ue(i).loadDataFromBackend())},{default:vn(()=>[pe(Or,{left:"",icon:"mdi-reload"}),ube]),_:1}),pe(es,{href:Ue(i).returnUrl},{default:vn(()=>[pe(Or,{left:"",icon:"mdi-logout-variant"}),dbe]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},Ld=r=>(gy("data-v-83558a5a"),r=r(),hy(),r),mbe={class:"column"},gbe=Ld(()=>lt("div",{class:"col-header bg-grey-lighten-4"},[lt("h2",{class:"text-h6",style:{color:"#f00000"}},"Ihre letzten Eingaben wurden noch nicht bertragen, sind aber lokal gesichert!"),lt("p",null,"Bitte versuchen Sie die bertragung nach einer Minute erneut. Wenden Sie sich gegebenenfalls an die Aufsicht.")],-1)),hbe={class:"col-content"},pbe=["innerHTML"],bbe={class:"col-footer bg-grey-lighten-4"},vbe=Ld(()=>lt("span",null,"Weiter bearbeiten",-1)),ybe={class:"column"},xbe={class:"col-header bg-grey-lighten-4"},wbe=Ld(()=>lt("h2",{class:"text-h6"},"Sie wurden von der Bearbeitung ausgeschlossen.",-1)),Cbe=Ld(()=>lt("p",null,"Es ist keine weitere Eingabe mglich.",-1)),_be=[wbe,Cbe],Sbe={class:"col-header bg-grey-lighten-4"},kbe=Ld(()=>lt("h2",{class:"text-h6"},"Ihre Bearbeitungszeit ist beendet",-1)),Ebe={key:0},Abe={class:"col-header bg-grey-lighten-4"},Tbe=Ld(()=>lt("h2",{class:"text-h6"},"Abgabe-Text",-1)),Obe={key:0},Dbe={class:"col-content"},Rbe=["innerHTML"],Nbe={class:"col-footer bg-grey-lighten-4"},Ibe=Ld(()=>lt("span",null,"Meine Bearbeitung nicht bewerten",-1)),Bbe=Ld(()=>lt("span",null,"Weiter bearbeiten",-1)),Mbe=Ld(()=>lt("p",null,"Bei der bertragung ihres Texts ist ein Netzwerkproblem aufgetreten. Ihre Eingaben sind lokal gesichert.",-1)),Pbe=Ld(()=>lt("p",null,[lt("br"),rg(" Sie knnen die Klausur auch ohne bertragung verlassen und spter wieder aufrufen, um die bertragung nachzuholen. ")],-1)),Lbe=Ld(()=>lt("br",null,null,-1)),Fbe=Ld(()=>lt("br",null,null,-1)),zbe=Ld(()=>lt("span",null,"Meldung schlieen",-1)),Hbe=Ld(()=>lt("span",null,"Ohne bertragung verlassen",-1)),Vbe={__name:"ReviewContent",setup(r){const i=Ac(),u=L0(),m=ey(),v=ig(),p=Pp(),x=ry();return(S,P)=>(hr(),ni(l$,{"fill-height":""},{default:vn(()=>[qo(lt("div",mbe,[gbe,lt("div",hbe,[lt("div",{class:ly("long-essay-content "+Ue(p).contentClass),style:V0("font-size:"+Ue(x).editor_zoom+"rem;"),innerHTML:Ue(u).storedContent},null,14,pbe)]),lt("div",bbe,[pe(es,{class:"ma-2",color:Ue(p).primaryColorCss,onClick:P[0]||(P[0]=N=>Ue(i).retry())},{default:vn(()=>[pe(Or,{color:Ue(p).primaryTextColorCss,icon:"mdi-refresh"},null,8,["color"]),lt("span",{style:V0(Ue(p).primaryTextColorFullCss)},"Erneut versuchen",4)]),_:1},8,["color"]),qo(pe(es,{class:"ma-2",onClick:P[1]||(P[1]=N=>Ue(i).review=!1)},{default:vn(()=>[pe(Or,{icon:"mdi-file-edit-outline"}),vbe]),_:1},512),[[gr,!Ue(v).writingEndReached&&!Ue(v).isExcluded]])])],512),[[gr,Ue(u).openSendings>0]]),qo(lt("div",ybe,[qo(lt("div",xbe,_be,512),[[gr,Ue(v).isExcluded]]),qo(lt("div",Sbe,[kbe,lt("p",null,[rg("Es ist keine weitere Eingabe mglich. Bitte berprfen Sie, ob Sie den Text in dieser Form zur Bewertung abgeben mchten. Eventuell mssen Sie scrollen um alle Teile ihres Textes sehen zu knnen! "),Ue(m).hasWrittenNotes?(hr(),Cl("span",Ebe,"Ihre Notizen werden verworfen.")):qu("",!0)])],512),[[gr,Ue(v).writingEndReached&&!Ue(v).isExcluded]]),qo(lt("div",Abe,[Tbe,lt("p",null,[rg("Bitte berprfen Sie, ob Sie den Text in dieser Form zur Bewertung abgeben mchten. "),Ue(m).hasWrittenNotes?(hr(),Cl("span",Obe,"Ihre Notizen werden verworfen. Falls Teile davon bewertet werden sollen, kopieren Sie sie bitte in den Abgabetext.")):qu("",!0),rg(" Nach der Abgabe ist keine weitere Bearbeitung mehr mglich. Eventuell mssen Sie scrollen um alle Teile ihres Textes sehen zu knnen!")])],512),[[gr,!Ue(v).writingEndReached&&!Ue(v).isExcluded]]),lt("div",Dbe,[lt("div",{class:ly("long-essay-content "+Ue(p).contentClass),style:V0("font-size:"+Ue(x).editor_zoom*16+"px;"),innerHTML:Ue(u).storedContent},null,14,Rbe)]),lt("div",Nbe,[qo(pe(es,{class:"ma-2 primary",onClick:P[2]||(P[2]=N=>Ue(i).finalize(!0)),color:Ue(p).primaryColorCss},{default:vn(()=>[pe(Or,{color:Ue(p).primaryTextColorCss,icon:"mdi-file-send-outline"},null,8,["color"]),lt("span",{style:V0(Ue(p).primaryTextColorFullCss)},"Zur Bewertung abgeben",4)]),_:1},8,["color"]),[[gr,!Ue(v).isExcluded]]),qo(pe(es,{class:"ma-2",onClick:P[3]||(P[3]=N=>Ue(i).finalize(!1))},{default:vn(()=>[pe(Or,{icon:"mdi-logout-variant"}),Ibe]),_:1},512),[[gr,Ue(v).writingEndReached||Ue(v).isExcluded]]),qo(pe(es,{class:"ma-2",onClick:P[4]||(P[4]=N=>Ue(i).review=!1)},{default:vn(()=>[pe(Or,{icon:"mdi-file-edit-outline"}),Bbe]),_:1},512),[[gr,!Ue(v).writingEndReached&&!Ue(v).isExcluded]])])],512),[[gr,Ue(u).openSendings<=0]]),pe(ay,{persistent:"",modelValue:Ue(i).showFinalizeFailure,"onUpdate:modelValue":P[6]||(P[6]=N=>Ue(i).showFinalizeFailure=N)},{default:vn(()=>[pe(sy,null,{default:vn(()=>[pe(Z0,null,{default:vn(()=>[Mbe,Pbe,qo(lt("p",null,[Lbe,rg(" Melden Sie sich bei der Aufsicht, um Ihre Klausur zur Korrektur abzugeben. ")],512),[[gr,Ue(i).showAuthorizeFailure]]),qo(lt("p",null,[Fbe,rg(" Melden Sie sich bei der Aufsicht, um Hilfe zu erhalten. ")],512),[[gr,!Ue(i).showAuthorizeFailure]])]),_:1}),pe(W0,null,{default:vn(()=>[pe(es,{onClick:P[5]||(P[5]=N=>Ue(i).showFinalizeFailure=!1)},{default:vn(()=>[pe(Or,{left:"",icon:"mdi-close"}),zbe]),_:1}),pe(es,{href:Ue(i).returnUrl},{default:vn(()=>[pe(Or,{left:"",icon:"mdi-logout-variant"}),Hbe]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},$be=dg(Vbe,[["__scopeId","data-v-83558a5a"]]),Ube=Qn({...ss(),...Sue({fullHeight:!0}),...Ql()},"VApp"),Wbe=rr()({name:"VApp",props:Ube(),setup(r,i){let{slots:u}=i;const m=Oc(r),{layoutClasses:v,getLayoutItem:p,items:x,layoutRef:S}=Aue(r),{rtlClasses:P}=q0();return Zr(()=>{var N;return pe("div",{ref:S,class:["v-application",m.themeClasses.value,v.value,P.value,r.class],style:[r.style]},[pe("div",{class:"v-application__wrap"},[(N=u.default)==null?void 0:N.call(u)])])}),{getLayoutItem:p,items:x,theme:m}}}),Zbe={__name:"App",setup(r){const i=Ac();return i.init(),(u,m)=>(hr(),ni(Wbe,{"fill-height":""},{default:vn(()=>[Ue(i).initialized?qu("",!0):(hr(),ni(fbe,{key:0})),Ue(i).initialized?(hr(),ni(ehe,{key:1})):qu("",!0),Ue(i).initialized&&!Ue(i).review?(hr(),ni(dhe,{key:2})):qu("",!0),Ue(i).initialized&&!Ue(i).review?(hr(),ni(Qpe,{key:3})):qu("",!0),Ue(i).initialized&&Ue(i).review?(hr(),ni($be,{key:4})):qu("",!0)]),_:1}))}},rX=xle(Zbe);Fue(rX);rX.mount("#app");

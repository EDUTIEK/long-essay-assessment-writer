var sae=Object.defineProperty;var rae=(s,i,u)=>i in s?sae(s,i,{enumerable:!0,configurable:!0,writable:!0,value:u}):s[i]=u;var Uo=(s,i,u)=>rae(s,typeof i!="symbol"?i+"":i,u);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const b of document.querySelectorAll('link[rel="modulepreload"]'))m(b);new MutationObserver(b=>{for(const h of b)if(h.type==="childList")for(const x of h.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&m(x)}).observe(document,{childList:!0,subtree:!0});function u(b){const h={};return b.integrity&&(h.integrity=b.integrity),b.referrerPolicy&&(h.referrerPolicy=b.referrerPolicy),b.crossOrigin==="use-credentials"?h.credentials="include":b.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function m(b){if(b.ep)return;b.ep=!0;const h=u(b);fetch(b.href,h)}})();/**
* @vue/shared v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function bV(s,i){const u=new Set(s.split(","));return m=>u.has(m)}const pi={},ak=[],cg=()=>{},aae=()=>!1,uM=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&(s.charCodeAt(2)>122||s.charCodeAt(2)<97),vV=s=>s.startsWith("onUpdate:"),zl=Object.assign,yV=(s,i)=>{const u=s.indexOf(i);u>-1&&s.splice(u,1)},iae=Object.prototype.hasOwnProperty,kr=(s,i)=>iae.call(s,i),Qo=Array.isArray,ik=s=>dM(s)==="[object Map]",AK=s=>dM(s)==="[object Set]",vs=s=>typeof s=="function",Qi=s=>typeof s=="string",by=s=>typeof s=="symbol",La=s=>s!==null&&typeof s=="object",TK=s=>(La(s)||vs(s))&&vs(s.then)&&vs(s.catch),OK=Object.prototype.toString,dM=s=>OK.call(s),lae=s=>dM(s).slice(8,-1),DK=s=>dM(s)==="[object Object]",xV=s=>Qi(s)&&s!=="NaN"&&s[0]!=="-"&&""+parseInt(s,10)===s,KT=bV(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fM=s=>{const i=Object.create(null);return u=>i[u]||(i[u]=s(u))},cae=/-(\w)/g,jf=fM(s=>s.replace(cae,(i,u)=>u?u.toUpperCase():"")),uae=/\B([A-Z])/g,Vw=fM(s=>s.replace(uae,"-$1").toLowerCase()),t1=fM(s=>s.charAt(0).toUpperCase()+s.slice(1)),Q9=fM(s=>s?`on${t1(s)}`:""),gy=(s,i)=>!Object.is(s,i),M8=(s,...i)=>{for(let u=0;u<s.length;u++)s[u](...i)},RK=(s,i,u,m=!1)=>{Object.defineProperty(s,i,{configurable:!0,enumerable:!1,writable:m,value:u})},RH=s=>{const i=parseFloat(s);return isNaN(i)?s:i},dae=s=>{const i=Qi(s)?Number(s):NaN;return isNaN(i)?s:i};let vZ;const NK=()=>vZ||(vZ=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function q0(s){if(Qo(s)){const i={};for(let u=0;u<s.length;u++){const m=s[u],b=Qi(m)?hae(m):q0(m);if(b)for(const h in b)i[h]=b[h]}return i}else if(Qi(s)||La(s))return s}const fae=/;(?![^(]*\))/g,mae=/:([^]+)/,gae=/\/\*[^]*?\*\//g;function hae(s){const i={};return s.replace(gae,"").split(fae).forEach(u=>{if(u){const m=u.split(mae);m.length>1&&(i[m[0].trim()]=m[1].trim())}}),i}function hy(s){let i="";if(Qi(s))i=s;else if(Qo(s))for(let u=0;u<s.length;u++){const m=hy(s[u]);m&&(i+=m+" ")}else if(La(s))for(const u in s)s[u]&&(i+=u+" ");return i.trim()}const pae="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",bae=bV(pae);function IK(s){return!!s||s===""}const BK=s=>!!(s&&s.__v_isRef===!0),Xi=s=>Qi(s)?s:s==null?"":Qo(s)||La(s)&&(s.toString===OK||!vs(s.toString))?BK(s)?Xi(s.value):JSON.stringify(s,MK,2):String(s),MK=(s,i)=>BK(i)?MK(s,i.value):ik(i)?{[`Map(${i.size})`]:[...i.entries()].reduce((u,[m,b],h)=>(u[eH(m,h)+" =>"]=b,u),{})}:AK(i)?{[`Set(${i.size})`]:[...i.values()].map(u=>eH(u))}:by(i)?eH(i):La(i)&&!Qo(i)&&!DK(i)?String(i):i,eH=(s,i="")=>{var u;return by(s)?`Symbol(${(u=s.description)!=null?u:i})`:s};/**
* @vue/reactivity v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let zf;class PK{constructor(i=!1){this.detached=i,this._active=!0,this.effects=[],this.cleanups=[],this.parent=zf,!i&&zf&&(this.index=(zf.scopes||(zf.scopes=[])).push(this)-1)}get active(){return this._active}run(i){if(this._active){const u=zf;try{return zf=this,i()}finally{zf=u}}}on(){zf=this}off(){zf=this.parent}stop(i){if(this._active){let u,m;for(u=0,m=this.effects.length;u<m;u++)this.effects[u].stop();for(u=0,m=this.cleanups.length;u<m;u++)this.cleanups[u]();if(this.scopes)for(u=0,m=this.scopes.length;u<m;u++)this.scopes[u].stop(!0);if(!this.detached&&this.parent&&!i){const b=this.parent.scopes.pop();b&&b!==this&&(this.parent.scopes[this.index]=b,b.index=this.index)}this.parent=void 0,this._active=!1}}}function lO(s){return new PK(s)}function vae(s,i=zf){i&&i.active&&i.effects.push(s)}function LK(){return zf}function Kf(s){zf&&zf.cleanups.push(s)}let Dw;class wV{constructor(i,u,m,b){this.fn=i,this.trigger=u,this.scheduler=m,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,vae(this,b)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,vy();for(let i=0;i<this._depsLength;i++){const u=this.deps[i];if(u.computed&&(yae(u.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),yy()}return this._dirtyLevel>=4}set dirty(i){this._dirtyLevel=i?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let i=dy,u=Dw;try{return dy=!0,Dw=this,this._runnings++,yZ(this),this.fn()}finally{xZ(this),this._runnings--,Dw=u,dy=i}}stop(){this.active&&(yZ(this),xZ(this),this.onStop&&this.onStop(),this.active=!1)}}function yae(s){return s.value}function yZ(s){s._trackId++,s._depsLength=0}function xZ(s){if(s.deps.length>s._depsLength){for(let i=s._depsLength;i<s.deps.length;i++)FK(s.deps[i],s);s.deps.length=s._depsLength}}function FK(s,i){const u=s.get(i);u!==void 0&&i._trackId!==u&&(s.delete(i),s.size===0&&s.cleanup())}let dy=!0,NH=0;const zK=[];function vy(){zK.push(dy),dy=!1}function yy(){const s=zK.pop();dy=s===void 0?!0:s}function CV(){NH++}function _V(){for(NH--;!NH&&IH.length;)IH.shift()()}function HK(s,i,u){if(i.get(s)!==s._trackId){i.set(s,s._trackId);const m=s.deps[s._depsLength];m!==i?(m&&FK(m,s),s.deps[s._depsLength++]=i):s._depsLength++}}const IH=[];function VK(s,i,u){CV();for(const m of s.keys()){let b;m._dirtyLevel<i&&(b??(b=s.get(m)===m._trackId))&&(m._shouldSchedule||(m._shouldSchedule=m._dirtyLevel===0),m._dirtyLevel=i),m._shouldSchedule&&(b??(b=s.get(m)===m._trackId))&&(m.trigger(),(!m._runnings||m.allowRecurse)&&m._dirtyLevel!==2&&(m._shouldSchedule=!1,m.scheduler&&IH.push(m.scheduler)))}_V()}const $K=(s,i)=>{const u=new Map;return u.cleanup=s,u.computed=i,u},Z8=new WeakMap,Rw=Symbol(""),BH=Symbol("");function Hd(s,i,u){if(dy&&Dw){let m=Z8.get(s);m||Z8.set(s,m=new Map);let b=m.get(u);b||m.set(u,b=$K(()=>m.delete(u))),HK(Dw,b)}}function Y0(s,i,u,m,b,h){const x=Z8.get(s);if(!x)return;let S=[];if(i==="clear")S=[...x.values()];else if(u==="length"&&Qo(s)){const B=Number(m);x.forEach((N,R)=>{(R==="length"||!by(R)&&R>=B)&&S.push(N)})}else switch(u!==void 0&&S.push(x.get(u)),i){case"add":Qo(s)?xV(u)&&S.push(x.get("length")):(S.push(x.get(Rw)),ik(s)&&S.push(x.get(BH)));break;case"delete":Qo(s)||(S.push(x.get(Rw)),ik(s)&&S.push(x.get(BH)));break;case"set":ik(s)&&S.push(x.get(Rw));break}CV();for(const B of S)B&&VK(B,4);_V()}function xae(s,i){const u=Z8.get(s);return u&&u.get(i)}const wae=bV("__proto__,__v_isRef,__isVue"),UK=new Set(Object.getOwnPropertyNames(Symbol).filter(s=>s!=="arguments"&&s!=="caller").map(s=>Symbol[s]).filter(by)),wZ=Cae();function Cae(){const s={};return["includes","indexOf","lastIndexOf"].forEach(i=>{s[i]=function(...u){const m=Ao(this);for(let h=0,x=this.length;h<x;h++)Hd(m,"get",h+"");const b=m[i](...u);return b===-1||b===!1?m[i](...u.map(Ao)):b}}),["push","pop","shift","unshift","splice"].forEach(i=>{s[i]=function(...u){vy(),CV();const m=Ao(this)[i].apply(this,u);return _V(),yy(),m}}),s}function _ae(s){by(s)||(s=String(s));const i=Ao(this);return Hd(i,"has",s),i.hasOwnProperty(s)}class WK{constructor(i=!1,u=!1){this._isReadonly=i,this._isShallow=u}get(i,u,m){const b=this._isReadonly,h=this._isShallow;if(u==="__v_isReactive")return!b;if(u==="__v_isReadonly")return b;if(u==="__v_isShallow")return h;if(u==="__v_raw")return m===(b?h?Pae:qK:h?KK:jK).get(i)||Object.getPrototypeOf(i)===Object.getPrototypeOf(m)?i:void 0;const x=Qo(i);if(!b){if(x&&kr(wZ,u))return Reflect.get(wZ,u,m);if(u==="hasOwnProperty")return _ae}const S=Reflect.get(i,u,m);return(by(u)?UK.has(u):wae(u))||(b||Hd(i,"get",u),h)?S:Fa(S)?x&&xV(u)?S:S.value:La(S)?b?cO(S):gu(S):S}}class ZK extends WK{constructor(i=!1){super(!1,i)}set(i,u,m,b){let h=i[u];if(!this._isShallow){const B=Fw(h);if(!ck(m)&&!Fw(m)&&(h=Ao(h),m=Ao(m)),!Qo(i)&&Fa(h)&&!Fa(m))return B?!1:(h.value=m,!0)}const x=Qo(i)&&xV(u)?Number(u)<i.length:kr(i,u),S=Reflect.set(i,u,m,b);return i===Ao(b)&&(x?gy(m,h)&&Y0(i,"set",u,m):Y0(i,"add",u,m)),S}deleteProperty(i,u){const m=kr(i,u);i[u];const b=Reflect.deleteProperty(i,u);return b&&m&&Y0(i,"delete",u,void 0),b}has(i,u){const m=Reflect.has(i,u);return(!by(u)||!UK.has(u))&&Hd(i,"has",u),m}ownKeys(i){return Hd(i,"iterate",Qo(i)?"length":Rw),Reflect.ownKeys(i)}}class Sae extends WK{constructor(i=!1){super(!0,i)}set(i,u){return!0}deleteProperty(i,u){return!0}}const kae=new ZK,Eae=new Sae,Aae=new ZK(!0);const SV=s=>s,mM=s=>Reflect.getPrototypeOf(s);function g8(s,i,u=!1,m=!1){s=s.__v_raw;const b=Ao(s),h=Ao(i);u||(gy(i,h)&&Hd(b,"get",i),Hd(b,"get",h));const{has:x}=mM(b),S=m?SV:u?TV:JT;if(x.call(b,i))return S(s.get(i));if(x.call(b,h))return S(s.get(h));s!==b&&s.get(i)}function h8(s,i=!1){const u=this.__v_raw,m=Ao(u),b=Ao(s);return i||(gy(s,b)&&Hd(m,"has",s),Hd(m,"has",b)),s===b?u.has(s):u.has(s)||u.has(b)}function p8(s,i=!1){return s=s.__v_raw,!i&&Hd(Ao(s),"iterate",Rw),Reflect.get(s,"size",s)}function CZ(s,i=!1){!i&&!ck(s)&&!Fw(s)&&(s=Ao(s));const u=Ao(this);return mM(u).has.call(u,s)||(u.add(s),Y0(u,"add",s,s)),this}function _Z(s,i,u=!1){!u&&!ck(i)&&!Fw(i)&&(i=Ao(i));const m=Ao(this),{has:b,get:h}=mM(m);let x=b.call(m,s);x||(s=Ao(s),x=b.call(m,s));const S=h.call(m,s);return m.set(s,i),x?gy(i,S)&&Y0(m,"set",s,i):Y0(m,"add",s,i),this}function SZ(s){const i=Ao(this),{has:u,get:m}=mM(i);let b=u.call(i,s);b||(s=Ao(s),b=u.call(i,s)),m&&m.call(i,s);const h=i.delete(s);return b&&Y0(i,"delete",s,void 0),h}function kZ(){const s=Ao(this),i=s.size!==0,u=s.clear();return i&&Y0(s,"clear",void 0,void 0),u}function b8(s,i){return function(m,b){const h=this,x=h.__v_raw,S=Ao(x),B=i?SV:s?TV:JT;return!s&&Hd(S,"iterate",Rw),x.forEach((N,R)=>m.call(b,B(N),B(R),h))}}function v8(s,i,u){return function(...m){const b=this.__v_raw,h=Ao(b),x=ik(h),S=s==="entries"||s===Symbol.iterator&&x,B=s==="keys"&&x,N=b[s](...m),R=u?SV:i?TV:JT;return!i&&Hd(h,"iterate",B?BH:Rw),{next(){const{value:F,done:W}=N.next();return W?{value:F,done:W}:{value:S?[R(F[0]),R(F[1])]:R(F),done:W}},[Symbol.iterator](){return this}}}}function Jv(s){return function(...i){return s==="delete"?!1:s==="clear"?void 0:this}}function Tae(){const s={get(h){return g8(this,h)},get size(){return p8(this)},has:h8,add:CZ,set:_Z,delete:SZ,clear:kZ,forEach:b8(!1,!1)},i={get(h){return g8(this,h,!1,!0)},get size(){return p8(this)},has:h8,add(h){return CZ.call(this,h,!0)},set(h,x){return _Z.call(this,h,x,!0)},delete:SZ,clear:kZ,forEach:b8(!1,!0)},u={get(h){return g8(this,h,!0)},get size(){return p8(this,!0)},has(h){return h8.call(this,h,!0)},add:Jv("add"),set:Jv("set"),delete:Jv("delete"),clear:Jv("clear"),forEach:b8(!0,!1)},m={get(h){return g8(this,h,!0,!0)},get size(){return p8(this,!0)},has(h){return h8.call(this,h,!0)},add:Jv("add"),set:Jv("set"),delete:Jv("delete"),clear:Jv("clear"),forEach:b8(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(h=>{s[h]=v8(h,!1,!1),u[h]=v8(h,!0,!1),i[h]=v8(h,!1,!0),m[h]=v8(h,!0,!0)}),[s,u,i,m]}const[Oae,Dae,Rae,Nae]=Tae();function kV(s,i){const u=i?s?Nae:Rae:s?Dae:Oae;return(m,b,h)=>b==="__v_isReactive"?!s:b==="__v_isReadonly"?s:b==="__v_raw"?m:Reflect.get(kr(u,b)&&b in m?u:m,b,h)}const Iae={get:kV(!1,!1)},Bae={get:kV(!1,!0)},Mae={get:kV(!0,!1)};const jK=new WeakMap,KK=new WeakMap,qK=new WeakMap,Pae=new WeakMap;function Lae(s){switch(s){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Fae(s){return s.__v_skip||!Object.isExtensible(s)?0:Lae(lae(s))}function gu(s){return Fw(s)?s:EV(s,!1,kae,Iae,jK)}function zae(s){return EV(s,!1,Aae,Bae,KK)}function cO(s){return EV(s,!0,Eae,Mae,qK)}function EV(s,i,u,m,b){if(!La(s)||s.__v_raw&&!(i&&s.__v_isReactive))return s;const h=b.get(s);if(h)return h;const x=Fae(s);if(x===0)return s;const S=new Proxy(s,x===2?m:u);return b.set(s,S),S}function Nw(s){return Fw(s)?Nw(s.__v_raw):!!(s&&s.__v_isReactive)}function Fw(s){return!!(s&&s.__v_isReadonly)}function ck(s){return!!(s&&s.__v_isShallow)}function GK(s){return s?!!s.__v_raw:!1}function Ao(s){const i=s&&s.__v_raw;return i?Ao(i):s}function AV(s){return Object.isExtensible(s)&&RK(s,"__v_skip",!0),s}const JT=s=>La(s)?gu(s):s,TV=s=>La(s)?cO(s):s;class YK{constructor(i,u,m,b){this.getter=i,this._setter=u,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new wV(()=>i(this._value),()=>P8(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!b,this.__v_isReadonly=m}get value(){const i=Ao(this);return(!i._cacheable||i.effect.dirty)&&gy(i._value,i._value=i.effect.run())&&P8(i,4),XK(i),i.effect._dirtyLevel>=2&&P8(i,2),i._value}set value(i){this._setter(i)}get _dirty(){return this.effect.dirty}set _dirty(i){this.effect.dirty=i}}function Hae(s,i,u=!1){let m,b;const h=vs(s);return h?(m=s,b=cg):(m=s.get,b=s.set),new YK(m,b,h||!b,u)}function XK(s){var i;dy&&Dw&&(s=Ao(s),HK(Dw,(i=s.dep)!=null?i:s.dep=$K(()=>s.dep=void 0,s instanceof YK?s:void 0)))}function P8(s,i=4,u,m){s=Ao(s);const b=s.dep;b&&VK(b,i)}function Fa(s){return!!(s&&s.__v_isRef===!0)}function Eo(s){return JK(s,!1)}function Ts(s){return JK(s,!0)}function JK(s,i){return Fa(s)?s:new Vae(s,i)}class Vae{constructor(i,u){this.__v_isShallow=u,this.dep=void 0,this.__v_isRef=!0,this._rawValue=u?i:Ao(i),this._value=u?i:JT(i)}get value(){return XK(this),this._value}set value(i){const u=this.__v_isShallow||ck(i)||Fw(i);i=u?i:Ao(i),gy(i,this._rawValue)&&(this._rawValue,this._rawValue=i,this._value=u?i:JT(i),P8(this,4))}}function He(s){return Fa(s)?s.value:s}const $ae={get:(s,i,u)=>He(Reflect.get(s,i,u)),set:(s,i,u,m)=>{const b=s[i];return Fa(b)&&!Fa(u)?(b.value=u,!0):Reflect.set(s,i,u,m)}};function QK(s){return Nw(s)?s:new Proxy(s,$ae)}function uO(s){const i=Qo(s)?new Array(s.length):{};for(const u in s)i[u]=eq(s,u);return i}class Uae{constructor(i,u,m){this._object=i,this._key=u,this._defaultValue=m,this.__v_isRef=!0}get value(){const i=this._object[this._key];return i===void 0?this._defaultValue:i}set value(i){this._object[this._key]=i}get dep(){return xae(Ao(this._object),this._key)}}class Wae{constructor(i){this._getter=i,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function js(s,i,u){return Fa(s)?s:vs(s)?new Wae(s):La(s)&&arguments.length>1?eq(s,i,u):Eo(s)}function eq(s,i,u){const m=s[i];return Fa(m)?m:new Uae(s,i,u)}/**
* @vue/runtime-core v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function fy(s,i,u,m){try{return m?s(...m):s()}catch(b){gM(b,i,u)}}function ug(s,i,u,m){if(vs(s)){const b=fy(s,i,u,m);return b&&TK(b)&&b.catch(h=>{gM(h,i,u)}),b}if(Qo(s)){const b=[];for(let h=0;h<s.length;h++)b.push(ug(s[h],i,u,m));return b}}function gM(s,i,u,m=!0){const b=i?i.vnode:null;if(i){let h=i.parent;const x=i.proxy,S=`https://vuejs.org/error-reference/#runtime-${u}`;for(;h;){const N=h.ec;if(N){for(let R=0;R<N.length;R++)if(N[R](s,x,S)===!1)return}h=h.parent}const B=i.appContext.config.errorHandler;if(B){vy(),fy(B,null,10,[s,x,S]),yy();return}}Zae(s,u,b,m)}function Zae(s,i,u,m=!0){console.error(s)}let QT=!1,MH=!1;const hu=[];let Hp=0;const lk=[];let ry=null,Aw=0;const tq=Promise.resolve();let OV=null;function Pa(s){const i=OV||tq;return s?i.then(this?s.bind(this):s):i}function jae(s){let i=Hp+1,u=hu.length;for(;i<u;){const m=i+u>>>1,b=hu[m],h=eO(b);h<s||h===s&&b.pre?i=m+1:u=m}return i}function DV(s){(!hu.length||!hu.includes(s,QT&&s.allowRecurse?Hp+1:Hp))&&(s.id==null?hu.push(s):hu.splice(jae(s.id),0,s),nq())}function nq(){!QT&&!MH&&(MH=!0,OV=tq.then(sq))}function Kae(s){const i=hu.indexOf(s);i>Hp&&hu.splice(i,1)}function qae(s){Qo(s)?lk.push(...s):(!ry||!ry.includes(s,s.allowRecurse?Aw+1:Aw))&&lk.push(s),nq()}function EZ(s,i,u=QT?Hp+1:0){for(;u<hu.length;u++){const m=hu[u];if(m&&m.pre){if(s&&m.id!==s.uid)continue;hu.splice(u,1),u--,m()}}}function oq(s){if(lk.length){const i=[...new Set(lk)].sort((u,m)=>eO(u)-eO(m));if(lk.length=0,ry){ry.push(...i);return}for(ry=i,Aw=0;Aw<ry.length;Aw++){const u=ry[Aw];u.active!==!1&&u()}ry=null,Aw=0}}const eO=s=>s.id==null?1/0:s.id,Gae=(s,i)=>{const u=eO(s)-eO(i);if(u===0){if(s.pre&&!i.pre)return-1;if(i.pre&&!s.pre)return 1}return u};function sq(s){MH=!1,QT=!0,hu.sort(Gae);try{for(Hp=0;Hp<hu.length;Hp++){const i=hu[Hp];i&&i.active!==!1&&fy(i,i.i,i.i?15:14)}}finally{Hp=0,hu.length=0,oq(),QT=!1,OV=null,(hu.length||lk.length)&&sq()}}let td=null,hM=null;function j8(s){const i=td;return td=s,hM=s&&s.type.__scopeId||null,i}function xy(s){hM=s}function wy(){hM=null}function qt(s,i=td,u){if(!i||s._n)return s;const m=(...b)=>{m._d&&FZ(-1);const h=j8(i);let x;try{x=s(...b)}finally{j8(h),m._d&&FZ(1)}return x};return m._n=!0,m._c=!0,m._d=!0,m}function Go(s,i){if(td===null)return s;const u=xM(td),m=s.dirs||(s.dirs=[]);for(let b=0;b<i.length;b++){let[h,x,S,B=pi]=i[b];h&&(vs(h)&&(h={mounted:h,updated:h}),h.deep&&ly(x),m.push({dir:h,instance:u,value:x,oldValue:void 0,arg:S,modifiers:B}))}return s}function yw(s,i,u,m){const b=s.dirs,h=i&&i.dirs;for(let x=0;x<b.length;x++){const S=b[x];h&&(S.oldValue=h[x].value);let B=S.dir[m];B&&(vy(),ug(B,u,8,[s.el,S,s,i]),yy())}}const ay=Symbol("_leaveCb"),y8=Symbol("_enterCb");function rq(){const s={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ic(()=>{s.isMounted=!0}),Bc(()=>{s.isUnmounting=!0}),s}const ag=[Function,Array],aq={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ag,onEnter:ag,onAfterEnter:ag,onEnterCancelled:ag,onBeforeLeave:ag,onLeave:ag,onAfterLeave:ag,onLeaveCancelled:ag,onBeforeAppear:ag,onAppear:ag,onAfterAppear:ag,onAppearCancelled:ag},iq=s=>{const i=s.subTree;return i.component?iq(i.component):i},Yae={name:"BaseTransition",props:aq,setup(s,{slots:i}){const u=VV(),m=rq();return()=>{const b=i.default&&RV(i.default(),!0);if(!b||!b.length)return;let h=b[0];if(b.length>1){for(const W of b)if(W.type!==Hf){h=W;break}}const x=Ao(s),{mode:S}=x;if(m.isLeaving)return tH(h);const B=AZ(h);if(!B)return tH(h);let N=tO(B,x,m,u,W=>N=W);uk(B,N);const R=u.subTree,F=R&&AZ(R);if(F&&F.type!==Hf&&!Tw(B,F)&&iq(u).type!==Hf){const W=tO(F,x,m,u);if(uk(F,W),S==="out-in"&&B.type!==Hf)return m.isLeaving=!0,W.afterLeave=()=>{m.isLeaving=!1,u.update.active!==!1&&(u.effect.dirty=!0,u.update())},tH(h);S==="in-out"&&B.type!==Hf&&(W.delayLeave=($,K,ee)=>{const fe=lq(m,F);fe[String(F.key)]=F,$[ay]=()=>{K(),$[ay]=void 0,delete N.delayedLeave},N.delayedLeave=ee})}return h}}},Xae=Yae;function lq(s,i){const{leavingVNodes:u}=s;let m=u.get(i.type);return m||(m=Object.create(null),u.set(i.type,m)),m}function tO(s,i,u,m,b){const{appear:h,mode:x,persisted:S=!1,onBeforeEnter:B,onEnter:N,onAfterEnter:R,onEnterCancelled:F,onBeforeLeave:W,onLeave:$,onAfterLeave:K,onLeaveCancelled:ee,onBeforeAppear:fe,onAppear:he,onAfterAppear:Ue,onAppearCancelled:Te}=i,te=String(s.key),Ae=lq(u,s),ne=(Ze,nt)=>{Ze&&ug(Ze,m,9,nt)},Ge=(Ze,nt)=>{const Ce=nt[1];ne(Ze,nt),Qo(Ze)?Ze.every(Ne=>Ne.length<=1)&&Ce():Ze.length<=1&&Ce()},$e={mode:x,persisted:S,beforeEnter(Ze){let nt=B;if(!u.isMounted)if(h)nt=fe||B;else return;Ze[ay]&&Ze[ay](!0);const Ce=Ae[te];Ce&&Tw(s,Ce)&&Ce.el[ay]&&Ce.el[ay](),ne(nt,[Ze])},enter(Ze){let nt=N,Ce=R,Ne=F;if(!u.isMounted)if(h)nt=he||N,Ce=Ue||R,Ne=Te||F;else return;let D=!1;const yt=Ze[y8]=Pt=>{D||(D=!0,Pt?ne(Ne,[Ze]):ne(Ce,[Ze]),$e.delayedLeave&&$e.delayedLeave(),Ze[y8]=void 0)};nt?Ge(nt,[Ze,yt]):yt()},leave(Ze,nt){const Ce=String(s.key);if(Ze[y8]&&Ze[y8](!0),u.isUnmounting)return nt();ne(W,[Ze]);let Ne=!1;const D=Ze[ay]=yt=>{Ne||(Ne=!0,nt(),yt?ne(ee,[Ze]):ne(K,[Ze]),Ze[ay]=void 0,Ae[Ce]===s&&delete Ae[Ce])};Ae[Ce]=s,$?Ge($,[Ze,D]):D()},clone(Ze){const nt=tO(Ze,i,u,m,b);return b&&b(nt),nt}};return $e}function tH(s){if(pM(s))return s=py(s),s.children=null,s}function AZ(s){if(!pM(s))return s;const{shapeFlag:i,children:u}=s;if(u){if(i&16)return u[0];if(i&32&&vs(u.default))return u.default()}}function uk(s,i){s.shapeFlag&6&&s.component?uk(s.component.subTree,i):s.shapeFlag&128?(s.ssContent.transition=i.clone(s.ssContent),s.ssFallback.transition=i.clone(s.ssFallback)):s.transition=i}function RV(s,i=!1,u){let m=[],b=0;for(let h=0;h<s.length;h++){let x=s[h];const S=u==null?x.key:String(u)+String(x.key!=null?x.key:h);x.type===Er?(x.patchFlag&128&&b++,m=m.concat(RV(x.children,i,S))):(i||x.type!==Hf)&&m.push(S!=null?py(x,{key:S}):x)}if(b>1)for(let h=0;h<m.length;h++)m[h].patchFlag=-2;return m}/*! #__NO_SIDE_EFFECTS__ */function cq(s,i){return vs(s)?zl({name:s.name},i,{setup:s}):s}const L8=s=>!!s.type.__asyncLoader,pM=s=>s.type.__isKeepAlive;function NV(s,i){uq(s,"a",i)}function IV(s,i){uq(s,"da",i)}function uq(s,i,u=sc){const m=s.__wdc||(s.__wdc=()=>{let b=u;for(;b;){if(b.isDeactivated)return;b=b.parent}return s()});if(bM(i,m,u),u){let b=u.parent;for(;b&&b.parent;)pM(b.parent.vnode)&&Jae(m,i,u,b),b=b.parent}}function Jae(s,i,u,m){const b=bM(i,s,m,!0);dq(()=>{yV(m[i],b)},u)}function bM(s,i,u=sc,m=!1){if(u){const b=u[s]||(u[s]=[]),h=i.__weh||(i.__weh=(...x)=>{vy();const S=mO(u),B=ug(i,u,s,x);return S(),yy(),B});return m?b.unshift(h):b.push(h),h}}const n1=s=>(i,u=sc)=>{(!yM||s==="sp")&&bM(s,(...m)=>i(...m),u)},BV=n1("bm"),Ic=n1("m"),Qae=n1("bu"),MV=n1("u"),Bc=n1("bum"),dq=n1("um"),eie=n1("sp"),tie=n1("rtg"),nie=n1("rtc");function oie(s,i=sc){bM("ec",s,i)}const fq="components",sie="directives",rie=Symbol.for("v-ndc");function aie(s){return Qi(s)&&mq(fq,s,!1)||s}function dO(s){return mq(sie,s)}function mq(s,i,u=!0,m=!1){const b=td||sc;if(b){const h=b.type;if(s===fq){const S=Xie(h,!1);if(S&&(S===i||S===jf(i)||S===t1(jf(i))))return h}const x=TZ(b[s]||h[s],i)||TZ(b.appContext[s],i);return!x&&m?h:x}}function TZ(s,i){return s&&(s[i]||s[jf(i)]||s[t1(jf(i))])}function dk(s,i,u,m){let b;const h=u;if(Qo(s)||Qi(s)){b=new Array(s.length);for(let x=0,S=s.length;x<S;x++)b[x]=i(s[x],x,void 0,h)}else if(typeof s=="number"){b=new Array(s);for(let x=0;x<s;x++)b[x]=i(x+1,x,void 0,h)}else if(La(s))if(s[Symbol.iterator])b=Array.from(s,(x,S)=>i(x,S,void 0,h));else{const x=Object.keys(s);b=new Array(x.length);for(let S=0,B=x.length;S<B;S++){const N=x[S];b[S]=i(s[N],N,S,h)}}else b=[];return b}const PH=s=>s?Iq(s)?xM(s):PH(s.parent):null,qT=zl(Object.create(null),{$:s=>s,$el:s=>s.vnode.el,$data:s=>s.data,$props:s=>s.props,$attrs:s=>s.attrs,$slots:s=>s.slots,$refs:s=>s.refs,$parent:s=>PH(s.parent),$root:s=>PH(s.root),$emit:s=>s.emit,$options:s=>PV(s),$forceUpdate:s=>s.f||(s.f=()=>{s.effect.dirty=!0,DV(s.update)}),$nextTick:s=>s.n||(s.n=Pa.bind(s.proxy)),$watch:s=>Nie.bind(s)}),nH=(s,i)=>s!==pi&&!s.__isScriptSetup&&kr(s,i),iie={get({_:s},i){if(i==="__v_skip")return!0;const{ctx:u,setupState:m,data:b,props:h,accessCache:x,type:S,appContext:B}=s;let N;if(i[0]!=="$"){const $=x[i];if($!==void 0)switch($){case 1:return m[i];case 2:return b[i];case 4:return u[i];case 3:return h[i]}else{if(nH(m,i))return x[i]=1,m[i];if(b!==pi&&kr(b,i))return x[i]=2,b[i];if((N=s.propsOptions[0])&&kr(N,i))return x[i]=3,h[i];if(u!==pi&&kr(u,i))return x[i]=4,u[i];LH&&(x[i]=0)}}const R=qT[i];let F,W;if(R)return i==="$attrs"&&Hd(s.attrs,"get",""),R(s);if((F=S.__cssModules)&&(F=F[i]))return F;if(u!==pi&&kr(u,i))return x[i]=4,u[i];if(W=B.config.globalProperties,kr(W,i))return W[i]},set({_:s},i,u){const{data:m,setupState:b,ctx:h}=s;return nH(b,i)?(b[i]=u,!0):m!==pi&&kr(m,i)?(m[i]=u,!0):kr(s.props,i)||i[0]==="$"&&i.slice(1)in s?!1:(h[i]=u,!0)},has({_:{data:s,setupState:i,accessCache:u,ctx:m,appContext:b,propsOptions:h}},x){let S;return!!u[x]||s!==pi&&kr(s,x)||nH(i,x)||(S=h[0])&&kr(S,x)||kr(m,x)||kr(qT,x)||kr(b.config.globalProperties,x)},defineProperty(s,i,u){return u.get!=null?s._.accessCache[i]=0:kr(u,"value")&&this.set(s,i,u.value,null),Reflect.defineProperty(s,i,u)}};function OZ(s){return Qo(s)?s.reduce((i,u)=>(i[u]=null,i),{}):s}let LH=!0;function lie(s){const i=PV(s),u=s.proxy,m=s.ctx;LH=!1,i.beforeCreate&&DZ(i.beforeCreate,s,"bc");const{data:b,computed:h,methods:x,watch:S,provide:B,inject:N,created:R,beforeMount:F,mounted:W,beforeUpdate:$,updated:K,activated:ee,deactivated:fe,beforeDestroy:he,beforeUnmount:Ue,destroyed:Te,unmounted:te,render:Ae,renderTracked:ne,renderTriggered:Ge,errorCaptured:$e,serverPrefetch:Ze,expose:nt,inheritAttrs:Ce,components:Ne,directives:D,filters:yt}=i;if(N&&cie(N,m,null),x)for(const hn in x){const Qe=x[hn];vs(Qe)&&(m[hn]=Qe.bind(u))}if(b){const hn=b.call(u,u);La(hn)&&(s.data=gu(hn))}if(LH=!0,h)for(const hn in h){const Qe=h[hn],On=vs(Qe)?Qe.bind(u,u):vs(Qe.get)?Qe.get.bind(u,u):cg,as=!vs(Qe)&&vs(Qe.set)?Qe.set.bind(u):cg,pt=ct({get:On,set:as});Object.defineProperty(m,hn,{enumerable:!0,configurable:!0,get:()=>pt.value,set:bt=>pt.value=bt})}if(S)for(const hn in S)gq(S[hn],m,u,hn);if(B){const hn=vs(B)?B.call(u):B;Reflect.ownKeys(hn).forEach(Qe=>{qf(Qe,hn[Qe])})}R&&DZ(R,s,"c");function cn(hn,Qe){Qo(Qe)?Qe.forEach(On=>hn(On.bind(u))):Qe&&hn(Qe.bind(u))}if(cn(BV,F),cn(Ic,W),cn(Qae,$),cn(MV,K),cn(NV,ee),cn(IV,fe),cn(oie,$e),cn(nie,ne),cn(tie,Ge),cn(Bc,Ue),cn(dq,te),cn(eie,Ze),Qo(nt))if(nt.length){const hn=s.exposed||(s.exposed={});nt.forEach(Qe=>{Object.defineProperty(hn,Qe,{get:()=>u[Qe],set:On=>u[Qe]=On})})}else s.exposed||(s.exposed={});Ae&&s.render===cg&&(s.render=Ae),Ce!=null&&(s.inheritAttrs=Ce),Ne&&(s.components=Ne),D&&(s.directives=D)}function cie(s,i,u=cg){Qo(s)&&(s=FH(s));for(const m in s){const b=s[m];let h;La(b)?"default"in b?h=Ji(b.from||m,b.default,!0):h=Ji(b.from||m):h=Ji(b),Fa(h)?Object.defineProperty(i,m,{enumerable:!0,configurable:!0,get:()=>h.value,set:x=>h.value=x}):i[m]=h}}function DZ(s,i,u){ug(Qo(s)?s.map(m=>m.bind(i.proxy)):s.bind(i.proxy),i,u)}function gq(s,i,u,m){const b=m.includes(".")?Oq(u,m):()=>u[m];if(Qi(s)){const h=i[s];vs(h)&&Gn(b,h)}else if(vs(s))Gn(b,s.bind(u));else if(La(s))if(Qo(s))s.forEach(h=>gq(h,i,u,m));else{const h=vs(s.handler)?s.handler.bind(u):i[s.handler];vs(h)&&Gn(b,h,s)}}function PV(s){const i=s.type,{mixins:u,extends:m}=i,{mixins:b,optionsCache:h,config:{optionMergeStrategies:x}}=s.appContext,S=h.get(i);let B;return S?B=S:!b.length&&!u&&!m?B=i:(B={},b.length&&b.forEach(N=>K8(B,N,x,!0)),K8(B,i,x)),La(i)&&h.set(i,B),B}function K8(s,i,u,m=!1){const{mixins:b,extends:h}=i;h&&K8(s,h,u,!0),b&&b.forEach(x=>K8(s,x,u,!0));for(const x in i)if(!(m&&x==="expose")){const S=uie[x]||u&&u[x];s[x]=S?S(s[x],i[x]):i[x]}return s}const uie={data:RZ,props:NZ,emits:NZ,methods:jT,computed:jT,beforeCreate:Qu,created:Qu,beforeMount:Qu,mounted:Qu,beforeUpdate:Qu,updated:Qu,beforeDestroy:Qu,beforeUnmount:Qu,destroyed:Qu,unmounted:Qu,activated:Qu,deactivated:Qu,errorCaptured:Qu,serverPrefetch:Qu,components:jT,directives:jT,watch:fie,provide:RZ,inject:die};function RZ(s,i){return i?s?function(){return zl(vs(s)?s.call(this,this):s,vs(i)?i.call(this,this):i)}:i:s}function die(s,i){return jT(FH(s),FH(i))}function FH(s){if(Qo(s)){const i={};for(let u=0;u<s.length;u++)i[s[u]]=s[u];return i}return s}function Qu(s,i){return s?[...new Set([].concat(s,i))]:i}function jT(s,i){return s?zl(Object.create(null),s,i):i}function NZ(s,i){return s?Qo(s)&&Qo(i)?[...new Set([...s,...i])]:zl(Object.create(null),OZ(s),OZ(i??{})):i}function fie(s,i){if(!s)return i;if(!i)return s;const u=zl(Object.create(null),s);for(const m in i)u[m]=Qu(s[m],i[m]);return u}function hq(){return{app:null,config:{isNativeTag:aae,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let mie=0;function gie(s,i){return function(m,b=null){vs(m)||(m=zl({},m)),b!=null&&!La(b)&&(b=null);const h=hq(),x=new WeakSet;let S=!1;const B=h.app={_uid:mie++,_component:m,_props:b,_container:null,_context:h,_instance:null,version:Qie,get config(){return h.config},set config(N){},use(N,...R){return x.has(N)||(N&&vs(N.install)?(x.add(N),N.install(B,...R)):vs(N)&&(x.add(N),N(B,...R))),B},mixin(N){return h.mixins.includes(N)||h.mixins.push(N),B},component(N,R){return R?(h.components[N]=R,B):h.components[N]},directive(N,R){return R?(h.directives[N]=R,B):h.directives[N]},mount(N,R,F){if(!S){const W=ue(m,b);return W.appContext=h,F===!0?F="svg":F===!1&&(F=void 0),R&&i?i(W,N):s(W,N,F),S=!0,B._container=N,N.__vue_app__=B,xM(W.component)}},unmount(){S&&(s(null,B._container),delete B._container.__vue_app__)},provide(N,R){return h.provides[N]=R,B},runWithContext(N){const R=Iw;Iw=B;try{return N()}finally{Iw=R}}};return B}}let Iw=null;function qf(s,i){if(sc){let u=sc.provides;const m=sc.parent&&sc.parent.provides;m===u&&(u=sc.provides=Object.create(m)),u[s]=i}}function Ji(s,i,u=!1){const m=sc||td;if(m||Iw){const b=Iw?Iw._context.provides:m?m.parent==null?m.vnode.appContext&&m.vnode.appContext.provides:m.parent.provides:void 0;if(b&&s in b)return b[s];if(arguments.length>1)return u&&vs(i)?i.call(m&&m.proxy):i}}function hie(){return!!(sc||td||Iw)}const pq={},bq=()=>Object.create(pq),vq=s=>Object.getPrototypeOf(s)===pq;function pie(s,i,u,m=!1){const b={},h=bq();s.propsDefaults=Object.create(null),yq(s,i,b,h);for(const x in s.propsOptions[0])x in b||(b[x]=void 0);u?s.props=m?b:zae(b):s.type.props?s.props=b:s.props=h,s.attrs=h}function bie(s,i,u,m){const{props:b,attrs:h,vnode:{patchFlag:x}}=s,S=Ao(b),[B]=s.propsOptions;let N=!1;if((m||x>0)&&!(x&16)){if(x&8){const R=s.vnode.dynamicProps;for(let F=0;F<R.length;F++){let W=R[F];if(vM(s.emitsOptions,W))continue;const $=i[W];if(B)if(kr(h,W))$!==h[W]&&(h[W]=$,N=!0);else{const K=jf(W);b[K]=zH(B,S,K,$,s,!1)}else $!==h[W]&&(h[W]=$,N=!0)}}}else{yq(s,i,b,h)&&(N=!0);let R;for(const F in S)(!i||!kr(i,F)&&((R=Vw(F))===F||!kr(i,R)))&&(B?u&&(u[F]!==void 0||u[R]!==void 0)&&(b[F]=zH(B,S,F,void 0,s,!0)):delete b[F]);if(h!==S)for(const F in h)(!i||!kr(i,F))&&(delete h[F],N=!0)}N&&Y0(s.attrs,"set","")}function yq(s,i,u,m){const[b,h]=s.propsOptions;let x=!1,S;if(i)for(let B in i){if(KT(B))continue;const N=i[B];let R;b&&kr(b,R=jf(B))?!h||!h.includes(R)?u[R]=N:(S||(S={}))[R]=N:vM(s.emitsOptions,B)||(!(B in m)||N!==m[B])&&(m[B]=N,x=!0)}if(h){const B=Ao(u),N=S||pi;for(let R=0;R<h.length;R++){const F=h[R];u[F]=zH(b,B,F,N[F],s,!kr(N,F))}}return x}function zH(s,i,u,m,b,h){const x=s[u];if(x!=null){const S=kr(x,"default");if(S&&m===void 0){const B=x.default;if(x.type!==Function&&!x.skipFactory&&vs(B)){const{propsDefaults:N}=b;if(u in N)m=N[u];else{const R=mO(b);m=N[u]=B.call(null,i),R()}}else m=B}x[0]&&(h&&!S?m=!1:x[1]&&(m===""||m===Vw(u))&&(m=!0))}return m}const vie=new WeakMap;function xq(s,i,u=!1){const m=u?vie:i.propsCache,b=m.get(s);if(b)return b;const h=s.props,x={},S=[];let B=!1;if(!vs(s)){const R=F=>{B=!0;const[W,$]=xq(F,i,!0);zl(x,W),$&&S.push(...$)};!u&&i.mixins.length&&i.mixins.forEach(R),s.extends&&R(s.extends),s.mixins&&s.mixins.forEach(R)}if(!h&&!B)return La(s)&&m.set(s,ak),ak;if(Qo(h))for(let R=0;R<h.length;R++){const F=jf(h[R]);IZ(F)&&(x[F]=pi)}else if(h)for(const R in h){const F=jf(R);if(IZ(F)){const W=h[R],$=x[F]=Qo(W)||vs(W)?{type:W}:zl({},W),K=$.type;let ee=!1,fe=!0;if(Qo(K))for(let he=0;he<K.length;++he){const Ue=K[he],Te=vs(Ue)&&Ue.name;if(Te==="Boolean"){ee=!0;break}else Te==="String"&&(fe=!1)}else ee=vs(K)&&K.name==="Boolean";$[0]=ee,$[1]=fe,(ee||kr($,"default"))&&S.push(F)}}const N=[x,S];return La(s)&&m.set(s,N),N}function IZ(s){return s[0]!=="$"&&!KT(s)}const wq=s=>s[0]==="_"||s==="$stable",LV=s=>Qo(s)?s.map(Lp):[Lp(s)],yie=(s,i,u)=>{if(i._n)return i;const m=qt((...b)=>LV(i(...b)),u);return m._c=!1,m},Cq=(s,i,u)=>{const m=s._ctx;for(const b in s){if(wq(b))continue;const h=s[b];if(vs(h))i[b]=yie(b,h,m);else if(h!=null){const x=LV(h);i[b]=()=>x}}},_q=(s,i)=>{const u=LV(i);s.slots.default=()=>u},Sq=(s,i,u)=>{for(const m in i)(u||m!=="_")&&(s[m]=i[m])},xie=(s,i,u)=>{const m=s.slots=bq();if(s.vnode.shapeFlag&32){const b=i._;b?(Sq(m,i,u),u&&RK(m,"_",b,!0)):Cq(i,m)}else i&&_q(s,i)},wie=(s,i,u)=>{const{vnode:m,slots:b}=s;let h=!0,x=pi;if(m.shapeFlag&32){const S=i._;S?u&&S===1?h=!1:Sq(b,i,u):(h=!i.$stable,Cq(i,b)),x=i}else i&&(_q(s,i),x={default:1});if(h)for(const S in b)!wq(S)&&x[S]==null&&delete b[S]};function HH(s,i,u,m,b=!1){if(Qo(s)){s.forEach((W,$)=>HH(W,i&&(Qo(i)?i[$]:i),u,m,b));return}if(L8(m)&&!b)return;const h=m.shapeFlag&4?xM(m.component):m.el,x=b?null:h,{i:S,r:B}=s,N=i&&i.r,R=S.refs===pi?S.refs={}:S.refs,F=S.setupState;if(N!=null&&N!==B&&(Qi(N)?(R[N]=null,kr(F,N)&&(F[N]=null)):Fa(N)&&(N.value=null)),vs(B))fy(B,S,12,[x,R]);else{const W=Qi(B),$=Fa(B);if(W||$){const K=()=>{if(s.f){const ee=W?kr(F,B)?F[B]:R[B]:B.value;b?Qo(ee)&&yV(ee,h):Qo(ee)?ee.includes(h)||ee.push(h):W?(R[B]=[h],kr(F,B)&&(F[B]=R[B])):(B.value=[h],s.k&&(R[s.k]=B.value))}else W?(R[B]=x,kr(F,B)&&(F[B]=x)):$&&(B.value=x,s.k&&(R[s.k]=x))};x?(K.id=-1,Md(K,u)):K()}}}const kq=Symbol("_vte"),Cie=s=>s.__isTeleport,GT=s=>s&&(s.disabled||s.disabled===""),BZ=s=>typeof SVGElement<"u"&&s instanceof SVGElement,MZ=s=>typeof MathMLElement=="function"&&s instanceof MathMLElement,VH=(s,i)=>{const u=s&&s.to;return Qi(u)?i?i(u):null:u},_ie={name:"Teleport",__isTeleport:!0,process(s,i,u,m,b,h,x,S,B,N){const{mc:R,pc:F,pbc:W,o:{insert:$,querySelector:K,createText:ee,createComment:fe}}=N,he=GT(i.props);let{shapeFlag:Ue,children:Te,dynamicChildren:te}=i;if(s==null){const Ae=i.el=ee(""),ne=i.anchor=ee("");$(Ae,u,m),$(ne,u,m);const Ge=i.target=VH(i.props,K),$e=Aq(Ge,i,ee,$);Ge&&(x==="svg"||BZ(Ge)?x="svg":(x==="mathml"||MZ(Ge))&&(x="mathml"));const Ze=(nt,Ce)=>{Ue&16&&R(Te,nt,Ce,b,h,x,S,B)};he?Ze(u,ne):Ge&&Ze(Ge,$e)}else{i.el=s.el,i.targetStart=s.targetStart;const Ae=i.anchor=s.anchor,ne=i.target=s.target,Ge=i.targetAnchor=s.targetAnchor,$e=GT(s.props),Ze=$e?u:ne,nt=$e?Ae:Ge;if(x==="svg"||BZ(ne)?x="svg":(x==="mathml"||MZ(ne))&&(x="mathml"),te?(W(s.dynamicChildren,te,Ze,b,h,x,S),FV(s,i,!0)):B||F(s,i,Ze,nt,b,h,x,S,!1),he)$e?i.props&&s.props&&i.props.to!==s.props.to&&(i.props.to=s.props.to):x8(i,u,Ae,N,1);else if((i.props&&i.props.to)!==(s.props&&s.props.to)){const Ce=i.target=VH(i.props,K);Ce&&x8(i,Ce,null,N,0)}else $e&&x8(i,ne,Ge,N,1)}Eq(i)},remove(s,i,u,{um:m,o:{remove:b}},h){const{shapeFlag:x,children:S,anchor:B,targetStart:N,targetAnchor:R,target:F,props:W}=s;if(F&&(b(N),b(R)),h&&b(B),x&16){const $=h||!GT(W);for(let K=0;K<S.length;K++){const ee=S[K];m(ee,i,u,$,!!ee.dynamicChildren)}}},move:x8,hydrate:Sie};function x8(s,i,u,{o:{insert:m},m:b},h=2){h===0&&m(s.targetAnchor,i,u);const{el:x,anchor:S,shapeFlag:B,children:N,props:R}=s,F=h===2;if(F&&m(x,i,u),(!F||GT(R))&&B&16)for(let W=0;W<N.length;W++)b(N[W],i,u,2);F&&m(S,i,u)}function Sie(s,i,u,m,b,h,{o:{nextSibling:x,parentNode:S,querySelector:B,insert:N,createText:R}},F){const W=i.target=VH(i.props,B);if(W){const $=W._lpa||W.firstChild;if(i.shapeFlag&16)if(GT(i.props))i.anchor=F(x(s),i,S(s),u,m,b,h),i.targetStart=$,i.targetAnchor=$&&x($);else{i.anchor=x(s);let K=$;for(;K;){if(K&&K.nodeType===8){if(K.data==="teleport start anchor")i.targetStart=K;else if(K.data==="teleport anchor"){i.targetAnchor=K,W._lpa=i.targetAnchor&&x(i.targetAnchor);break}}K=x(K)}i.targetAnchor||Aq(W,i,R,N),F($&&x($),i,W,u,m,b,h)}Eq(i)}return i.anchor&&x(i.anchor)}const kie=_ie;function Eq(s){const i=s.ctx;if(i&&i.ut){let u=s.children[0].el;for(;u&&u!==s.targetAnchor;)u.nodeType===1&&u.setAttribute("data-v-owner",i.uid),u=u.nextSibling;i.ut()}}function Aq(s,i,u,m){const b=i.targetStart=u(""),h=i.targetAnchor=u("");return b[kq]=h,s&&(m(b,s),m(h,s)),h}const Md=Hie;function Eie(s){return Aie(s)}function Aie(s,i){const u=NK();u.__VUE__=!0;const{insert:m,remove:b,patchProp:h,createElement:x,createText:S,createComment:B,setText:N,setElementText:R,parentNode:F,nextSibling:W,setScopeId:$=cg,insertStaticContent:K}=s,ee=(Ke,le,xe,Me=null,pe=null,St=null,$t=void 0,Ct=null,zt=!!le.dynamicChildren)=>{if(Ke===le)return;Ke&&!Tw(Ke,le)&&(Me=Rn(Ke),bt(Ke,pe,St,!0),Ke=null),le.patchFlag===-2&&(zt=!1,le.dynamicChildren=null);const{type:It,ref:sn,shapeFlag:wn}=le;switch(It){case fO:fe(Ke,le,xe,Me);break;case Hf:he(Ke,le,xe,Me);break;case rH:Ke==null&&Ue(le,xe,Me,$t);break;case Er:Ne(Ke,le,xe,Me,pe,St,$t,Ct,zt);break;default:wn&1?Ae(Ke,le,xe,Me,pe,St,$t,Ct,zt):wn&6?D(Ke,le,xe,Me,pe,St,$t,Ct,zt):(wn&64||wn&128)&&It.process(Ke,le,xe,Me,pe,St,$t,Ct,zt,ys)}sn!=null&&pe&&HH(sn,Ke&&Ke.ref,St,le||Ke,!le)},fe=(Ke,le,xe,Me)=>{if(Ke==null)m(le.el=S(le.children),xe,Me);else{const pe=le.el=Ke.el;le.children!==Ke.children&&N(pe,le.children)}},he=(Ke,le,xe,Me)=>{Ke==null?m(le.el=B(le.children||""),xe,Me):le.el=Ke.el},Ue=(Ke,le,xe,Me)=>{[Ke.el,Ke.anchor]=K(Ke.children,le,xe,Me,Ke.el,Ke.anchor)},Te=({el:Ke,anchor:le},xe,Me)=>{let pe;for(;Ke&&Ke!==le;)pe=W(Ke),m(Ke,xe,Me),Ke=pe;m(le,xe,Me)},te=({el:Ke,anchor:le})=>{let xe;for(;Ke&&Ke!==le;)xe=W(Ke),b(Ke),Ke=xe;b(le)},Ae=(Ke,le,xe,Me,pe,St,$t,Ct,zt)=>{le.type==="svg"?$t="svg":le.type==="math"&&($t="mathml"),Ke==null?ne(le,xe,Me,pe,St,$t,Ct,zt):Ze(Ke,le,pe,St,$t,Ct,zt)},ne=(Ke,le,xe,Me,pe,St,$t,Ct)=>{let zt,It;const{props:sn,shapeFlag:wn,transition:Cn,dirs:En}=Ke;if(zt=Ke.el=x(Ke.type,St,sn&&sn.is,sn),wn&8?R(zt,Ke.children):wn&16&&$e(Ke.children,zt,null,Me,pe,oH(Ke,St),$t,Ct),En&&yw(Ke,null,Me,"created"),Ge(zt,Ke,Ke.scopeId,$t,Me),sn){for(const vo in sn)vo!=="value"&&!KT(vo)&&h(zt,vo,null,sn[vo],St,Me);"value"in sn&&h(zt,"value",null,sn.value,St),(It=sn.onVnodeBeforeMount)&&Ip(It,Me,Ke)}En&&yw(Ke,null,Me,"beforeMount");const ao=Tie(pe,Cn);ao&&Cn.beforeEnter(zt),m(zt,le,xe),((It=sn&&sn.onVnodeMounted)||ao||En)&&Md(()=>{It&&Ip(It,Me,Ke),ao&&Cn.enter(zt),En&&yw(Ke,null,Me,"mounted")},pe)},Ge=(Ke,le,xe,Me,pe)=>{if(xe&&$(Ke,xe),Me)for(let St=0;St<Me.length;St++)$(Ke,Me[St]);if(pe){let St=pe.subTree;if(le===St){const $t=pe.vnode;Ge(Ke,$t,$t.scopeId,$t.slotScopeIds,pe.parent)}}},$e=(Ke,le,xe,Me,pe,St,$t,Ct,zt=0)=>{for(let It=zt;It<Ke.length;It++){const sn=Ke[It]=Ct?iy(Ke[It]):Lp(Ke[It]);ee(null,sn,le,xe,Me,pe,St,$t,Ct)}},Ze=(Ke,le,xe,Me,pe,St,$t)=>{const Ct=le.el=Ke.el;let{patchFlag:zt,dynamicChildren:It,dirs:sn}=le;zt|=Ke.patchFlag&16;const wn=Ke.props||pi,Cn=le.props||pi;let En;if(xe&&xw(xe,!1),(En=Cn.onVnodeBeforeUpdate)&&Ip(En,xe,le,Ke),sn&&yw(le,Ke,xe,"beforeUpdate"),xe&&xw(xe,!0),(wn.innerHTML&&Cn.innerHTML==null||wn.textContent&&Cn.textContent==null)&&R(Ct,""),It?nt(Ke.dynamicChildren,It,Ct,xe,Me,oH(le,pe),St):$t||Qe(Ke,le,Ct,null,xe,Me,oH(le,pe),St,!1),zt>0){if(zt&16)Ce(Ct,wn,Cn,xe,pe);else if(zt&2&&wn.class!==Cn.class&&h(Ct,"class",null,Cn.class,pe),zt&4&&h(Ct,"style",wn.style,Cn.style,pe),zt&8){const ao=le.dynamicProps;for(let vo=0;vo<ao.length;vo++){const To=ao[vo],Do=wn[To],Ar=Cn[To];(Ar!==Do||To==="value")&&h(Ct,To,Do,Ar,pe,xe)}}zt&1&&Ke.children!==le.children&&R(Ct,le.children)}else!$t&&It==null&&Ce(Ct,wn,Cn,xe,pe);((En=Cn.onVnodeUpdated)||sn)&&Md(()=>{En&&Ip(En,xe,le,Ke),sn&&yw(le,Ke,xe,"updated")},Me)},nt=(Ke,le,xe,Me,pe,St,$t)=>{for(let Ct=0;Ct<le.length;Ct++){const zt=Ke[Ct],It=le[Ct],sn=zt.el&&(zt.type===Er||!Tw(zt,It)||zt.shapeFlag&70)?F(zt.el):xe;ee(zt,It,sn,null,Me,pe,St,$t,!0)}},Ce=(Ke,le,xe,Me,pe)=>{if(le!==xe){if(le!==pi)for(const St in le)!KT(St)&&!(St in xe)&&h(Ke,St,le[St],null,pe,Me);for(const St in xe){if(KT(St))continue;const $t=xe[St],Ct=le[St];$t!==Ct&&St!=="value"&&h(Ke,St,Ct,$t,pe,Me)}"value"in xe&&h(Ke,"value",le.value,xe.value,pe)}},Ne=(Ke,le,xe,Me,pe,St,$t,Ct,zt)=>{const It=le.el=Ke?Ke.el:S(""),sn=le.anchor=Ke?Ke.anchor:S("");let{patchFlag:wn,dynamicChildren:Cn,slotScopeIds:En}=le;En&&(Ct=Ct?Ct.concat(En):En),Ke==null?(m(It,xe,Me),m(sn,xe,Me),$e(le.children||[],xe,sn,pe,St,$t,Ct,zt)):wn>0&&wn&64&&Cn&&Ke.dynamicChildren?(nt(Ke.dynamicChildren,Cn,xe,pe,St,$t,Ct),(le.key!=null||pe&&le===pe.subTree)&&FV(Ke,le,!0)):Qe(Ke,le,xe,sn,pe,St,$t,Ct,zt)},D=(Ke,le,xe,Me,pe,St,$t,Ct,zt)=>{le.slotScopeIds=Ct,Ke==null?le.shapeFlag&512?pe.ctx.activate(le,xe,Me,$t,zt):yt(le,xe,Me,pe,St,$t,zt):Pt(Ke,le,zt)},yt=(Ke,le,xe,Me,pe,St,$t)=>{const Ct=Ke.component=jie(Ke,Me,pe);if(pM(Ke)&&(Ct.ctx.renderer=ys),Kie(Ct,!1,$t),Ct.asyncDep){if(pe&&pe.registerDep(Ct,cn,$t),!Ke.el){const zt=Ct.subTree=ue(Hf);he(null,zt,le,xe)}}else cn(Ct,Ke,le,xe,pe,St,$t)},Pt=(Ke,le,xe)=>{const Me=le.component=Ke.component;if(Lie(Ke,le,xe))if(Me.asyncDep&&!Me.asyncResolved){hn(Me,le,xe);return}else Me.next=le,Kae(Me.update),Me.effect.dirty=!0,Me.update();else le.el=Ke.el,Me.vnode=le},cn=(Ke,le,xe,Me,pe,St,$t)=>{const Ct=()=>{if(Ke.isMounted){let{next:sn,bu:wn,u:Cn,parent:En,vnode:ao}=Ke;{const ms=Tq(Ke);if(ms){sn&&(sn.el=ao.el,hn(Ke,sn,$t)),ms.asyncDep.then(()=>{Ke.isUnmounted||Ct()});return}}let vo=sn,To;xw(Ke,!1),sn?(sn.el=ao.el,hn(Ke,sn,$t)):sn=ao,wn&&M8(wn),(To=sn.props&&sn.props.onVnodeBeforeUpdate)&&Ip(To,En,sn,ao),xw(Ke,!0);const Do=sH(Ke),Ar=Ke.subTree;Ke.subTree=Do,ee(Ar,Do,F(Ar.el),Rn(Ar),Ke,pe,St),sn.el=Do.el,vo===null&&Fie(Ke,Do.el),Cn&&Md(Cn,pe),(To=sn.props&&sn.props.onVnodeUpdated)&&Md(()=>Ip(To,En,sn,ao),pe)}else{let sn;const{el:wn,props:Cn}=le,{bm:En,m:ao,parent:vo}=Ke,To=L8(le);if(xw(Ke,!1),En&&M8(En),!To&&(sn=Cn&&Cn.onVnodeBeforeMount)&&Ip(sn,vo,le),xw(Ke,!0),wn&&si){const Do=()=>{Ke.subTree=sH(Ke),si(wn,Ke.subTree,Ke,pe,null)};To?le.type.__asyncLoader().then(()=>!Ke.isUnmounted&&Do()):Do()}else{const Do=Ke.subTree=sH(Ke);ee(null,Do,xe,Me,Ke,pe,St),le.el=Do.el}if(ao&&Md(ao,pe),!To&&(sn=Cn&&Cn.onVnodeMounted)){const Do=le;Md(()=>Ip(sn,vo,Do),pe)}(le.shapeFlag&256||vo&&L8(vo.vnode)&&vo.vnode.shapeFlag&256)&&Ke.a&&Md(Ke.a,pe),Ke.isMounted=!0,le=xe=Me=null}},zt=Ke.effect=new wV(Ct,cg,()=>DV(It),Ke.scope),It=Ke.update=()=>{zt.dirty&&zt.run()};It.i=Ke,It.id=Ke.uid,xw(Ke,!0),It()},hn=(Ke,le,xe)=>{le.component=Ke;const Me=Ke.vnode.props;Ke.vnode=le,Ke.next=null,bie(Ke,le.props,Me,xe),wie(Ke,le.children,xe),vy(),EZ(Ke),yy()},Qe=(Ke,le,xe,Me,pe,St,$t,Ct,zt=!1)=>{const It=Ke&&Ke.children,sn=Ke?Ke.shapeFlag:0,wn=le.children,{patchFlag:Cn,shapeFlag:En}=le;if(Cn>0){if(Cn&128){as(It,wn,xe,Me,pe,St,$t,Ct,zt);return}else if(Cn&256){On(It,wn,xe,Me,pe,St,$t,Ct,zt);return}}En&8?(sn&16&&xn(It,pe,St),wn!==It&&R(xe,wn)):sn&16?En&16?as(It,wn,xe,Me,pe,St,$t,Ct,zt):xn(It,pe,St,!0):(sn&8&&R(xe,""),En&16&&$e(wn,xe,Me,pe,St,$t,Ct,zt))},On=(Ke,le,xe,Me,pe,St,$t,Ct,zt)=>{Ke=Ke||ak,le=le||ak;const It=Ke.length,sn=le.length,wn=Math.min(It,sn);let Cn;for(Cn=0;Cn<wn;Cn++){const En=le[Cn]=zt?iy(le[Cn]):Lp(le[Cn]);ee(Ke[Cn],En,xe,null,pe,St,$t,Ct,zt)}It>sn?xn(Ke,pe,St,!0,!1,wn):$e(le,xe,Me,pe,St,$t,Ct,zt,wn)},as=(Ke,le,xe,Me,pe,St,$t,Ct,zt)=>{let It=0;const sn=le.length;let wn=Ke.length-1,Cn=sn-1;for(;It<=wn&&It<=Cn;){const En=Ke[It],ao=le[It]=zt?iy(le[It]):Lp(le[It]);if(Tw(En,ao))ee(En,ao,xe,null,pe,St,$t,Ct,zt);else break;It++}for(;It<=wn&&It<=Cn;){const En=Ke[wn],ao=le[Cn]=zt?iy(le[Cn]):Lp(le[Cn]);if(Tw(En,ao))ee(En,ao,xe,null,pe,St,$t,Ct,zt);else break;wn--,Cn--}if(It>wn){if(It<=Cn){const En=Cn+1,ao=En<sn?le[En].el:Me;for(;It<=Cn;)ee(null,le[It]=zt?iy(le[It]):Lp(le[It]),xe,ao,pe,St,$t,Ct,zt),It++}}else if(It>Cn)for(;It<=wn;)bt(Ke[It],pe,St,!0),It++;else{const En=It,ao=It,vo=new Map;for(It=ao;It<=Cn;It++){const io=le[It]=zt?iy(le[It]):Lp(le[It]);io.key!=null&&vo.set(io.key,It)}let To,Do=0;const Ar=Cn-ao+1;let ms=!1,yi=0;const un=new Array(Ar);for(It=0;It<Ar;It++)un[It]=0;for(It=En;It<=wn;It++){const io=Ke[It];if(Do>=Ar){bt(io,pe,St,!0);continue}let Ws;if(io.key!=null)Ws=vo.get(io.key);else for(To=ao;To<=Cn;To++)if(un[To-ao]===0&&Tw(io,le[To])){Ws=To;break}Ws===void 0?bt(io,pe,St,!0):(un[Ws-ao]=It+1,Ws>=yi?yi=Ws:ms=!0,ee(io,le[Ws],xe,null,pe,St,$t,Ct,zt),Do++)}const po=ms?Oie(un):ak;for(To=po.length-1,It=Ar-1;It>=0;It--){const io=ao+It,Ws=le[io],za=io+1<sn?le[io+1].el:Me;un[It]===0?ee(null,Ws,xe,za,pe,St,$t,Ct,zt):ms&&(To<0||It!==po[To]?pt(Ws,xe,za,2):To--)}}},pt=(Ke,le,xe,Me,pe=null)=>{const{el:St,type:$t,transition:Ct,children:zt,shapeFlag:It}=Ke;if(It&6){pt(Ke.component.subTree,le,xe,Me);return}if(It&128){Ke.suspense.move(le,xe,Me);return}if(It&64){$t.move(Ke,le,xe,ys);return}if($t===Er){m(St,le,xe);for(let wn=0;wn<zt.length;wn++)pt(zt[wn],le,xe,Me);m(Ke.anchor,le,xe);return}if($t===rH){Te(Ke,le,xe);return}if(Me!==2&&It&1&&Ct)if(Me===0)Ct.beforeEnter(St),m(St,le,xe),Md(()=>Ct.enter(St),pe);else{const{leave:wn,delayLeave:Cn,afterLeave:En}=Ct,ao=()=>m(St,le,xe),vo=()=>{wn(St,()=>{ao(),En&&En()})};Cn?Cn(St,ao,vo):vo()}else m(St,le,xe)},bt=(Ke,le,xe,Me=!1,pe=!1)=>{const{type:St,props:$t,ref:Ct,children:zt,dynamicChildren:It,shapeFlag:sn,patchFlag:wn,dirs:Cn,cacheIndex:En}=Ke;if(wn===-2&&(pe=!1),Ct!=null&&HH(Ct,null,xe,Ke,!0),En!=null&&(le.renderCache[En]=void 0),sn&256){le.ctx.deactivate(Ke);return}const ao=sn&1&&Cn,vo=!L8(Ke);let To;if(vo&&(To=$t&&$t.onVnodeBeforeUnmount)&&Ip(To,le,Ke),sn&6)ho(Ke.component,xe,Me);else{if(sn&128){Ke.suspense.unmount(xe,Me);return}ao&&yw(Ke,null,le,"beforeUnmount"),sn&64?Ke.type.remove(Ke,le,xe,ys,Me):It&&!It.hasOnce&&(St!==Er||wn>0&&wn&64)?xn(It,le,xe,!1,!0):(St===Er&&wn&384||!pe&&sn&16)&&xn(zt,le,xe),Me&&Zt(Ke)}(vo&&(To=$t&&$t.onVnodeUnmounted)||ao)&&Md(()=>{To&&Ip(To,le,Ke),ao&&yw(Ke,null,le,"unmounted")},xe)},Zt=Ke=>{const{type:le,el:xe,anchor:Me,transition:pe}=Ke;if(le===Er){Us(xe,Me);return}if(le===rH){te(Ke);return}const St=()=>{b(xe),pe&&!pe.persisted&&pe.afterLeave&&pe.afterLeave()};if(Ke.shapeFlag&1&&pe&&!pe.persisted){const{leave:$t,delayLeave:Ct}=pe,zt=()=>$t(xe,St);Ct?Ct(Ke.el,St,zt):zt()}else St()},Us=(Ke,le)=>{let xe;for(;Ke!==le;)xe=W(Ke),b(Ke),Ke=xe;b(le)},ho=(Ke,le,xe)=>{const{bum:Me,scope:pe,update:St,subTree:$t,um:Ct,m:zt,a:It}=Ke;PZ(zt),PZ(It),Me&&M8(Me),pe.stop(),St&&(St.active=!1,bt($t,Ke,le,xe)),Ct&&Md(Ct,le),Md(()=>{Ke.isUnmounted=!0},le),le&&le.pendingBranch&&!le.isUnmounted&&Ke.asyncDep&&!Ke.asyncResolved&&Ke.suspenseId===le.pendingId&&(le.deps--,le.deps===0&&le.resolve())},xn=(Ke,le,xe,Me=!1,pe=!1,St=0)=>{for(let $t=St;$t<Ke.length;$t++)bt(Ke[$t],le,xe,Me,pe)},Rn=Ke=>{if(Ke.shapeFlag&6)return Rn(Ke.component.subTree);if(Ke.shapeFlag&128)return Ke.suspense.next();const le=W(Ke.anchor||Ke.el),xe=le&&le[kq];return xe?W(xe):le};let J=!1;const ls=(Ke,le,xe)=>{Ke==null?le._vnode&&bt(le._vnode,null,null,!0):ee(le._vnode||null,Ke,le,null,null,null,xe),le._vnode=Ke,J||(J=!0,EZ(),oq(),J=!1)},ys={p:ee,um:bt,m:pt,r:Zt,mt:yt,mc:$e,pc:Qe,pbc:nt,n:Rn,o:s};let qo,si;return{render:ls,hydrate:qo,createApp:gie(ls,qo)}}function oH({type:s,props:i},u){return u==="svg"&&s==="foreignObject"||u==="mathml"&&s==="annotation-xml"&&i&&i.encoding&&i.encoding.includes("html")?void 0:u}function xw({effect:s,update:i},u){s.allowRecurse=i.allowRecurse=u}function Tie(s,i){return(!s||s&&!s.pendingBranch)&&i&&!i.persisted}function FV(s,i,u=!1){const m=s.children,b=i.children;if(Qo(m)&&Qo(b))for(let h=0;h<m.length;h++){const x=m[h];let S=b[h];S.shapeFlag&1&&!S.dynamicChildren&&((S.patchFlag<=0||S.patchFlag===32)&&(S=b[h]=iy(b[h]),S.el=x.el),!u&&S.patchFlag!==-2&&FV(x,S)),S.type===fO&&(S.el=x.el)}}function Oie(s){const i=s.slice(),u=[0];let m,b,h,x,S;const B=s.length;for(m=0;m<B;m++){const N=s[m];if(N!==0){if(b=u[u.length-1],s[b]<N){i[m]=b,u.push(m);continue}for(h=0,x=u.length-1;h<x;)S=h+x>>1,s[u[S]]<N?h=S+1:x=S;N<s[u[h]]&&(h>0&&(i[m]=u[h-1]),u[h]=m)}}for(h=u.length,x=u[h-1];h-- >0;)u[h]=x,x=i[x];return u}function Tq(s){const i=s.subTree.component;if(i)return i.asyncDep&&!i.asyncResolved?i:Tq(i)}function PZ(s){if(s)for(let i=0;i<s.length;i++)s[i].active=!1}const Die=Symbol.for("v-scx"),Rie=()=>Ji(Die);function wh(s,i){return zV(s,null,i)}const w8={};function Gn(s,i,u){return zV(s,i,u)}function zV(s,i,{immediate:u,deep:m,flush:b,once:h,onTrack:x,onTrigger:S}=pi){if(i&&h){const ne=i;i=(...Ge)=>{ne(...Ge),Ae()}}const B=sc,N=ne=>m===!0?ne:ly(ne,m===!1?1:void 0);let R,F=!1,W=!1;if(Fa(s)?(R=()=>s.value,F=ck(s)):Nw(s)?(R=()=>N(s),F=!0):Qo(s)?(W=!0,F=s.some(ne=>Nw(ne)||ck(ne)),R=()=>s.map(ne=>{if(Fa(ne))return ne.value;if(Nw(ne))return N(ne);if(vs(ne))return fy(ne,B,2)})):vs(s)?i?R=()=>fy(s,B,2):R=()=>($&&$(),ug(s,B,3,[K])):R=cg,i&&m){const ne=R;R=()=>ly(ne())}let $,K=ne=>{$=Te.onStop=()=>{fy(ne,B,4),$=Te.onStop=void 0}},ee;if(yM)if(K=cg,i?u&&ug(i,B,3,[R(),W?[]:void 0,K]):R(),b==="sync"){const ne=Rie();ee=ne.__watcherHandles||(ne.__watcherHandles=[])}else return cg;let fe=W?new Array(s.length).fill(w8):w8;const he=()=>{if(!(!Te.active||!Te.dirty))if(i){const ne=Te.run();(m||F||(W?ne.some((Ge,$e)=>gy(Ge,fe[$e])):gy(ne,fe)))&&($&&$(),ug(i,B,3,[ne,fe===w8?void 0:W&&fe[0]===w8?[]:fe,K]),fe=ne)}else Te.run()};he.allowRecurse=!!i;let Ue;b==="sync"?Ue=he:b==="post"?Ue=()=>Md(he,B&&B.suspense):(he.pre=!0,B&&(he.id=B.uid),Ue=()=>DV(he));const Te=new wV(R,cg,Ue),te=LK(),Ae=()=>{Te.stop(),te&&yV(te.effects,Te)};return i?u?he():fe=Te.run():b==="post"?Md(Te.run.bind(Te),B&&B.suspense):Te.run(),ee&&ee.push(Ae),Ae}function Nie(s,i,u){const m=this.proxy,b=Qi(s)?s.includes(".")?Oq(m,s):()=>m[s]:s.bind(m,m);let h;vs(i)?h=i:(h=i.handler,u=i);const x=mO(this),S=zV(b,h.bind(m),u);return x(),S}function Oq(s,i){const u=i.split(".");return()=>{let m=s;for(let b=0;b<u.length&&m;b++)m=m[u[b]];return m}}function ly(s,i=1/0,u){if(i<=0||!La(s)||s.__v_skip||(u=u||new Set,u.has(s)))return s;if(u.add(s),i--,Fa(s))ly(s.value,i,u);else if(Qo(s))for(let m=0;m<s.length;m++)ly(s[m],i,u);else if(AK(s)||ik(s))s.forEach(m=>{ly(m,i,u)});else if(DK(s)){for(const m in s)ly(s[m],i,u);for(const m of Object.getOwnPropertySymbols(s))Object.prototype.propertyIsEnumerable.call(s,m)&&ly(s[m],i,u)}return s}const Iie=(s,i)=>i==="modelValue"||i==="model-value"?s.modelModifiers:s[`${i}Modifiers`]||s[`${jf(i)}Modifiers`]||s[`${Vw(i)}Modifiers`];function Bie(s,i,...u){if(s.isUnmounted)return;const m=s.vnode.props||pi;let b=u;const h=i.startsWith("update:"),x=h&&Iie(m,i.slice(7));x&&(x.trim&&(b=u.map(R=>Qi(R)?R.trim():R)),x.number&&(b=u.map(RH)));let S,B=m[S=Q9(i)]||m[S=Q9(jf(i))];!B&&h&&(B=m[S=Q9(Vw(i))]),B&&ug(B,s,6,b);const N=m[S+"Once"];if(N){if(!s.emitted)s.emitted={};else if(s.emitted[S])return;s.emitted[S]=!0,ug(N,s,6,b)}}function Dq(s,i,u=!1){const m=i.emitsCache,b=m.get(s);if(b!==void 0)return b;const h=s.emits;let x={},S=!1;if(!vs(s)){const B=N=>{const R=Dq(N,i,!0);R&&(S=!0,zl(x,R))};!u&&i.mixins.length&&i.mixins.forEach(B),s.extends&&B(s.extends),s.mixins&&s.mixins.forEach(B)}return!h&&!S?(La(s)&&m.set(s,null),null):(Qo(h)?h.forEach(B=>x[B]=null):zl(x,h),La(s)&&m.set(s,x),x)}function vM(s,i){return!s||!uM(i)?!1:(i=i.slice(2).replace(/Once$/,""),kr(s,i[0].toLowerCase()+i.slice(1))||kr(s,Vw(i))||kr(s,i))}function sH(s){const{type:i,vnode:u,proxy:m,withProxy:b,propsOptions:[h],slots:x,attrs:S,emit:B,render:N,renderCache:R,props:F,data:W,setupState:$,ctx:K,inheritAttrs:ee}=s,fe=j8(s);let he,Ue;try{if(u.shapeFlag&4){const te=b||m,Ae=te;he=Lp(N.call(Ae,te,R,F,$,W,K)),Ue=S}else{const te=i;he=Lp(te.length>1?te(F,{attrs:S,slots:x,emit:B}):te(F,null)),Ue=i.props?S:Mie(S)}}catch(te){YT.length=0,gM(te,s,1),he=ue(Hf)}let Te=he;if(Ue&&ee!==!1){const te=Object.keys(Ue),{shapeFlag:Ae}=Te;te.length&&Ae&7&&(h&&te.some(vV)&&(Ue=Pie(Ue,h)),Te=py(Te,Ue,!1,!0))}return u.dirs&&(Te=py(Te,null,!1,!0),Te.dirs=Te.dirs?Te.dirs.concat(u.dirs):u.dirs),u.transition&&(Te.transition=u.transition),he=Te,j8(fe),he}const Mie=s=>{let i;for(const u in s)(u==="class"||u==="style"||uM(u))&&((i||(i={}))[u]=s[u]);return i},Pie=(s,i)=>{const u={};for(const m in s)(!vV(m)||!(m.slice(9)in i))&&(u[m]=s[m]);return u};function Lie(s,i,u){const{props:m,children:b,component:h}=s,{props:x,children:S,patchFlag:B}=i,N=h.emitsOptions;if(i.dirs||i.transition)return!0;if(u&&B>=0){if(B&1024)return!0;if(B&16)return m?LZ(m,x,N):!!x;if(B&8){const R=i.dynamicProps;for(let F=0;F<R.length;F++){const W=R[F];if(x[W]!==m[W]&&!vM(N,W))return!0}}}else return(b||S)&&(!S||!S.$stable)?!0:m===x?!1:m?x?LZ(m,x,N):!0:!!x;return!1}function LZ(s,i,u){const m=Object.keys(i);if(m.length!==Object.keys(s).length)return!0;for(let b=0;b<m.length;b++){const h=m[b];if(i[h]!==s[h]&&!vM(u,h))return!0}return!1}function Fie({vnode:s,parent:i},u){for(;i;){const m=i.subTree;if(m.suspense&&m.suspense.activeBranch===s&&(m.el=s.el),m===s)(s=i.vnode).el=u,i=i.parent;else break}}const zie=s=>s.__isSuspense;function Hie(s,i){i&&i.pendingBranch?Qo(s)?i.effects.push(...s):i.effects.push(s):qae(s)}const Er=Symbol.for("v-fgt"),fO=Symbol.for("v-txt"),Hf=Symbol.for("v-cmt"),rH=Symbol.for("v-stc"),YT=[];let $f=null;function Jo(s=!1){YT.push($f=s?null:[])}function Vie(){YT.pop(),$f=YT[YT.length-1]||null}let nO=1;function FZ(s){nO+=s,s<0&&$f&&($f.hasOnce=!0)}function Rq(s){return s.dynamicChildren=nO>0?$f||ak:null,Vie(),nO>0&&$f&&$f.push(s),s}function El(s,i,u,m,b,h){return Rq(rt(s,i,u,m,b,h,!0))}function Jr(s,i,u,m,b){return Rq(ue(s,i,u,m,b,!0))}function $H(s){return s?s.__v_isVNode===!0:!1}function Tw(s,i){return s.type===i.type&&s.key===i.key}const Nq=({key:s})=>s??null,F8=({ref:s,ref_key:i,ref_for:u})=>(typeof s=="number"&&(s=""+s),s!=null?Qi(s)||Fa(s)||vs(s)?{i:td,r:s,k:i,f:!!u}:s:null);function rt(s,i=null,u=null,m=0,b=null,h=s===Er?0:1,x=!1,S=!1){const B={__v_isVNode:!0,__v_skip:!0,type:s,props:i,key:i&&Nq(i),ref:i&&F8(i),scopeId:hM,slotScopeIds:null,children:u,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:h,patchFlag:m,dynamicProps:b,dynamicChildren:null,appContext:null,ctx:td};return S?(HV(B,u),h&128&&s.normalize(B)):u&&(B.shapeFlag|=Qi(u)?8:16),nO>0&&!x&&$f&&(B.patchFlag>0||h&6)&&B.patchFlag!==32&&$f.push(B),B}const ue=$ie;function $ie(s,i=null,u=null,m=0,b=null,h=!1){if((!s||s===rie)&&(s=Hf),$H(s)){const S=py(s,i,!0);return u&&HV(S,u),nO>0&&!h&&$f&&(S.shapeFlag&6?$f[$f.indexOf(s)]=S:$f.push(S)),S.patchFlag=-2,S}if(Jie(s)&&(s=s.__vccOpts),i){i=Uie(i);let{class:S,style:B}=i;S&&!Qi(S)&&(i.class=hy(S)),La(B)&&(GK(B)&&!Qo(B)&&(B=zl({},B)),i.style=q0(B))}const x=Qi(s)?1:zie(s)?128:Cie(s)?64:La(s)?4:vs(s)?2:0;return rt(s,i,u,m,b,x,h,!0)}function Uie(s){return s?GK(s)||vq(s)?zl({},s):s:null}function py(s,i,u=!1,m=!1){const{props:b,ref:h,patchFlag:x,children:S,transition:B}=s,N=i?Sa(b||{},i):b,R={__v_isVNode:!0,__v_skip:!0,type:s.type,props:N,key:N&&Nq(N),ref:i&&i.ref?u&&h?Qo(h)?h.concat(F8(i)):[h,F8(i)]:F8(i):h,scopeId:s.scopeId,slotScopeIds:s.slotScopeIds,children:S,target:s.target,targetStart:s.targetStart,targetAnchor:s.targetAnchor,staticCount:s.staticCount,shapeFlag:s.shapeFlag,patchFlag:i&&s.type!==Er?x===-1?16:x|16:x,dynamicProps:s.dynamicProps,dynamicChildren:s.dynamicChildren,appContext:s.appContext,dirs:s.dirs,transition:B,component:s.component,suspense:s.suspense,ssContent:s.ssContent&&py(s.ssContent),ssFallback:s.ssFallback&&py(s.ssFallback),el:s.el,anchor:s.anchor,ctx:s.ctx,ce:s.ce};return B&&m&&uk(R,B.clone(R)),R}function Xr(s=" ",i=0){return ue(fO,null,s,i)}function Ll(s="",i=!1){return i?(Jo(),Jr(Hf,null,s)):ue(Hf,null,s)}function Lp(s){return s==null||typeof s=="boolean"?ue(Hf):Qo(s)?ue(Er,null,s.slice()):typeof s=="object"?iy(s):ue(fO,null,String(s))}function iy(s){return s.el===null&&s.patchFlag!==-1||s.memo?s:py(s)}function HV(s,i){let u=0;const{shapeFlag:m}=s;if(i==null)i=null;else if(Qo(i))u=16;else if(typeof i=="object")if(m&65){const b=i.default;b&&(b._c&&(b._d=!1),HV(s,b()),b._c&&(b._d=!0));return}else{u=32;const b=i._;!b&&!vq(i)?i._ctx=td:b===3&&td&&(td.slots._===1?i._=1:(i._=2,s.patchFlag|=1024))}else vs(i)?(i={default:i,_ctx:td},u=32):(i=String(i),m&64?(u=16,i=[Xr(i)]):u=8);s.children=i,s.shapeFlag|=u}function Sa(...s){const i={};for(let u=0;u<s.length;u++){const m=s[u];for(const b in m)if(b==="class")i.class!==m.class&&(i.class=hy([i.class,m.class]));else if(b==="style")i.style=q0([i.style,m.style]);else if(uM(b)){const h=i[b],x=m[b];x&&h!==x&&!(Qo(h)&&h.includes(x))&&(i[b]=h?[].concat(h,x):x)}else b!==""&&(i[b]=m[b])}return i}function Ip(s,i,u,m=null){ug(s,i,7,[u,m])}const Wie=hq();let Zie=0;function jie(s,i,u){const m=s.type,b=(i?i.appContext:s.appContext)||Wie,h={uid:Zie++,vnode:s,type:m,parent:i,appContext:b,root:null,next:null,subTree:null,effect:null,update:null,scope:new PK(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:i?i.provides:Object.create(b.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:xq(m,b),emitsOptions:Dq(m,b),emit:null,emitted:null,propsDefaults:pi,inheritAttrs:m.inheritAttrs,ctx:pi,data:pi,props:pi,attrs:pi,slots:pi,refs:pi,setupState:pi,setupContext:null,suspense:u,suspenseId:u?u.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return h.ctx={_:h},h.root=i?i.root:h,h.emit=Bie.bind(null,h),s.ce&&s.ce(h),h}let sc=null;const VV=()=>sc||td;let q8,UH;{const s=NK(),i=(u,m)=>{let b;return(b=s[u])||(b=s[u]=[]),b.push(m),h=>{b.length>1?b.forEach(x=>x(h)):b[0](h)}};q8=i("__VUE_INSTANCE_SETTERS__",u=>sc=u),UH=i("__VUE_SSR_SETTERS__",u=>yM=u)}const mO=s=>{const i=sc;return q8(s),s.scope.on(),()=>{s.scope.off(),q8(i)}},zZ=()=>{sc&&sc.scope.off(),q8(null)};function Iq(s){return s.vnode.shapeFlag&4}let yM=!1;function Kie(s,i=!1,u=!1){i&&UH(i);const{props:m,children:b}=s.vnode,h=Iq(s);pie(s,m,h,i),xie(s,b,u);const x=h?qie(s,i):void 0;return i&&UH(!1),x}function qie(s,i){const u=s.type;s.accessCache=Object.create(null),s.proxy=new Proxy(s.ctx,iie);const{setup:m}=u;if(m){const b=s.setupContext=m.length>1?Yie(s):null,h=mO(s);vy();const x=fy(m,s,0,[s.props,b]);if(yy(),h(),TK(x)){if(x.then(zZ,zZ),i)return x.then(S=>{HZ(s,S,i)}).catch(S=>{gM(S,s,0)});s.asyncDep=x}else HZ(s,x,i)}else Bq(s,i)}function HZ(s,i,u){vs(i)?s.type.__ssrInlineRender?s.ssrRender=i:s.render=i:La(i)&&(s.setupState=QK(i)),Bq(s,u)}let VZ;function Bq(s,i,u){const m=s.type;if(!s.render){if(!i&&VZ&&!m.render){const b=m.template||PV(s).template;if(b){const{isCustomElement:h,compilerOptions:x}=s.appContext.config,{delimiters:S,compilerOptions:B}=m,N=zl(zl({isCustomElement:h,delimiters:S},x),B);m.render=VZ(b,N)}}s.render=m.render||cg}{const b=mO(s);vy();try{lie(s)}finally{yy(),b()}}}const Gie={get(s,i){return Hd(s,"get",""),s[i]}};function Yie(s){const i=u=>{s.exposed=u||{}};return{attrs:new Proxy(s.attrs,Gie),slots:s.slots,emit:s.emit,expose:i}}function xM(s){return s.exposed?s.exposeProxy||(s.exposeProxy=new Proxy(QK(AV(s.exposed)),{get(i,u){if(u in i)return i[u];if(u in qT)return qT[u](s)},has(i,u){return u in i||u in qT}})):s.proxy}function Xie(s,i=!0){return vs(s)?s.displayName||s.name:s.name||i&&s.__name}function Jie(s){return vs(s)&&"__vccOpts"in s}const ct=(s,i)=>Hae(s,i,yM);function Zp(s,i,u){const m=arguments.length;return m===2?La(i)&&!Qo(i)?$H(i)?ue(s,null,[i]):ue(s,i):ue(s,null,i):(m>3?u=Array.prototype.slice.call(arguments,2):m===3&&$H(u)&&(u=[u]),ue(s,i,u))}const Qie="3.4.38";/**
* @vue/runtime-dom v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ele="http://www.w3.org/2000/svg",tle="http://www.w3.org/1998/Math/MathML",j0=typeof document<"u"?document:null,$Z=j0&&j0.createElement("template"),nle={insert:(s,i,u)=>{i.insertBefore(s,u||null)},remove:s=>{const i=s.parentNode;i&&i.removeChild(s)},createElement:(s,i,u,m)=>{const b=i==="svg"?j0.createElementNS(ele,s):i==="mathml"?j0.createElementNS(tle,s):u?j0.createElement(s,{is:u}):j0.createElement(s);return s==="select"&&m&&m.multiple!=null&&b.setAttribute("multiple",m.multiple),b},createText:s=>j0.createTextNode(s),createComment:s=>j0.createComment(s),setText:(s,i)=>{s.nodeValue=i},setElementText:(s,i)=>{s.textContent=i},parentNode:s=>s.parentNode,nextSibling:s=>s.nextSibling,querySelector:s=>j0.querySelector(s),setScopeId(s,i){s.setAttribute(i,"")},insertStaticContent(s,i,u,m,b,h){const x=u?u.previousSibling:i.lastChild;if(b&&(b===h||b.nextSibling))for(;i.insertBefore(b.cloneNode(!0),u),!(b===h||!(b=b.nextSibling)););else{$Z.innerHTML=m==="svg"?`<svg>${s}</svg>`:m==="mathml"?`<math>${s}</math>`:s;const S=$Z.content;if(m==="svg"||m==="mathml"){const B=S.firstChild;for(;B.firstChild;)S.appendChild(B.firstChild);S.removeChild(B)}i.insertBefore(S,u)}return[x?x.nextSibling:i.firstChild,u?u.previousSibling:i.lastChild]}},Qv="transition",VT="animation",fk=Symbol("_vtc"),jp=(s,{slots:i})=>Zp(Xae,Pq(s),i);jp.displayName="Transition";const Mq={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ole=jp.props=zl({},aq,Mq),ww=(s,i=[])=>{Qo(s)?s.forEach(u=>u(...i)):s&&s(...i)},UZ=s=>s?Qo(s)?s.some(i=>i.length>1):s.length>1:!1;function Pq(s){const i={};for(const Ne in s)Ne in Mq||(i[Ne]=s[Ne]);if(s.css===!1)return i;const{name:u="v",type:m,duration:b,enterFromClass:h=`${u}-enter-from`,enterActiveClass:x=`${u}-enter-active`,enterToClass:S=`${u}-enter-to`,appearFromClass:B=h,appearActiveClass:N=x,appearToClass:R=S,leaveFromClass:F=`${u}-leave-from`,leaveActiveClass:W=`${u}-leave-active`,leaveToClass:$=`${u}-leave-to`}=s,K=sle(b),ee=K&&K[0],fe=K&&K[1],{onBeforeEnter:he,onEnter:Ue,onEnterCancelled:Te,onLeave:te,onLeaveCancelled:Ae,onBeforeAppear:ne=he,onAppear:Ge=Ue,onAppearCancelled:$e=Te}=i,Ze=(Ne,D,yt)=>{oy(Ne,D?R:S),oy(Ne,D?N:x),yt&&yt()},nt=(Ne,D)=>{Ne._isLeaving=!1,oy(Ne,F),oy(Ne,$),oy(Ne,W),D&&D()},Ce=Ne=>(D,yt)=>{const Pt=Ne?Ge:Ue,cn=()=>Ze(D,Ne,yt);ww(Pt,[D,cn]),WZ(()=>{oy(D,Ne?B:h),Z0(D,Ne?R:S),UZ(Pt)||ZZ(D,m,ee,cn)})};return zl(i,{onBeforeEnter(Ne){ww(he,[Ne]),Z0(Ne,h),Z0(Ne,x)},onBeforeAppear(Ne){ww(ne,[Ne]),Z0(Ne,B),Z0(Ne,N)},onEnter:Ce(!1),onAppear:Ce(!0),onLeave(Ne,D){Ne._isLeaving=!0;const yt=()=>nt(Ne,D);Z0(Ne,F),Z0(Ne,W),Fq(),WZ(()=>{Ne._isLeaving&&(oy(Ne,F),Z0(Ne,$),UZ(te)||ZZ(Ne,m,fe,yt))}),ww(te,[Ne,yt])},onEnterCancelled(Ne){Ze(Ne,!1),ww(Te,[Ne])},onAppearCancelled(Ne){Ze(Ne,!0),ww($e,[Ne])},onLeaveCancelled(Ne){nt(Ne),ww(Ae,[Ne])}})}function sle(s){if(s==null)return null;if(La(s))return[aH(s.enter),aH(s.leave)];{const i=aH(s);return[i,i]}}function aH(s){return dae(s)}function Z0(s,i){i.split(/\s+/).forEach(u=>u&&s.classList.add(u)),(s[fk]||(s[fk]=new Set)).add(i)}function oy(s,i){i.split(/\s+/).forEach(m=>m&&s.classList.remove(m));const u=s[fk];u&&(u.delete(i),u.size||(s[fk]=void 0))}function WZ(s){requestAnimationFrame(()=>{requestAnimationFrame(s)})}let rle=0;function ZZ(s,i,u,m){const b=s._endId=++rle,h=()=>{b===s._endId&&m()};if(u)return setTimeout(h,u);const{type:x,timeout:S,propCount:B}=Lq(s,i);if(!x)return m();const N=x+"end";let R=0;const F=()=>{s.removeEventListener(N,W),h()},W=$=>{$.target===s&&++R>=B&&F()};setTimeout(()=>{R<B&&F()},S+1),s.addEventListener(N,W)}function Lq(s,i){const u=window.getComputedStyle(s),m=K=>(u[K]||"").split(", "),b=m(`${Qv}Delay`),h=m(`${Qv}Duration`),x=jZ(b,h),S=m(`${VT}Delay`),B=m(`${VT}Duration`),N=jZ(S,B);let R=null,F=0,W=0;i===Qv?x>0&&(R=Qv,F=x,W=h.length):i===VT?N>0&&(R=VT,F=N,W=B.length):(F=Math.max(x,N),R=F>0?x>N?Qv:VT:null,W=R?R===Qv?h.length:B.length:0);const $=R===Qv&&/\b(transform|all)(,|$)/.test(m(`${Qv}Property`).toString());return{type:R,timeout:F,propCount:W,hasTransform:$}}function jZ(s,i){for(;s.length<i.length;)s=s.concat(s);return Math.max(...i.map((u,m)=>KZ(u)+KZ(s[m])))}function KZ(s){return s==="auto"?0:Number(s.slice(0,-1).replace(",","."))*1e3}function Fq(){return document.body.offsetHeight}function ale(s,i,u){const m=s[fk];m&&(i=(i?[i,...m]:[...m]).join(" ")),i==null?s.removeAttribute("class"):u?s.setAttribute("class",i):s.className=i}const G8=Symbol("_vod"),zq=Symbol("_vsh"),bs={beforeMount(s,{value:i},{transition:u}){s[G8]=s.style.display==="none"?"":s.style.display,u&&i?u.beforeEnter(s):$T(s,i)},mounted(s,{value:i},{transition:u}){u&&i&&u.enter(s)},updated(s,{value:i,oldValue:u},{transition:m}){!i!=!u&&(m?i?(m.beforeEnter(s),$T(s,!0),m.enter(s)):m.leave(s,()=>{$T(s,!1)}):$T(s,i))},beforeUnmount(s,{value:i}){$T(s,i)}};function $T(s,i){s.style.display=i?s[G8]:"none",s[zq]=!i}const ile=Symbol(""),lle=/(^|;)\s*display\s*:/;function cle(s,i,u){const m=s.style,b=Qi(u);let h=!1;if(u&&!b){if(i)if(Qi(i))for(const x of i.split(";")){const S=x.slice(0,x.indexOf(":")).trim();u[S]==null&&z8(m,S,"")}else for(const x in i)u[x]==null&&z8(m,x,"");for(const x in u)x==="display"&&(h=!0),z8(m,x,u[x])}else if(b){if(i!==u){const x=m[ile];x&&(u+=";"+x),m.cssText=u,h=lle.test(u)}}else i&&s.removeAttribute("style");G8 in s&&(s[G8]=h?m.display:"",s[zq]&&(m.display="none"))}const qZ=/\s*!important$/;function z8(s,i,u){if(Qo(u))u.forEach(m=>z8(s,i,m));else if(u==null&&(u=""),i.startsWith("--"))s.setProperty(i,u);else{const m=ule(s,i);qZ.test(u)?s.setProperty(Vw(m),u.replace(qZ,""),"important"):s[m]=u}}const GZ=["Webkit","Moz","ms"],iH={};function ule(s,i){const u=iH[i];if(u)return u;let m=jf(i);if(m!=="filter"&&m in s)return iH[i]=m;m=t1(m);for(let b=0;b<GZ.length;b++){const h=GZ[b]+m;if(h in s)return iH[i]=h}return i}const YZ="http://www.w3.org/1999/xlink";function XZ(s,i,u,m,b,h=bae(i)){m&&i.startsWith("xlink:")?u==null?s.removeAttributeNS(YZ,i.slice(6,i.length)):s.setAttributeNS(YZ,i,u):u==null||h&&!IK(u)?s.removeAttribute(i):s.setAttribute(i,h?"":by(u)?String(u):u)}function dle(s,i,u,m){if(i==="innerHTML"||i==="textContent"){if(u==null)return;s[i]=u;return}const b=s.tagName;if(i==="value"&&b!=="PROGRESS"&&!b.includes("-")){const x=b==="OPTION"?s.getAttribute("value")||"":s.value,S=u==null?"":String(u);(x!==S||!("_value"in s))&&(s.value=S),u==null&&s.removeAttribute(i),s._value=u;return}let h=!1;if(u===""||u==null){const x=typeof s[i];x==="boolean"?u=IK(u):u==null&&x==="string"?(u="",h=!0):x==="number"&&(u=0,h=!0)}try{s[i]=u}catch{}h&&s.removeAttribute(i)}function tk(s,i,u,m){s.addEventListener(i,u,m)}function fle(s,i,u,m){s.removeEventListener(i,u,m)}const JZ=Symbol("_vei");function mle(s,i,u,m,b=null){const h=s[JZ]||(s[JZ]={}),x=h[i];if(m&&x)x.value=m;else{const[S,B]=gle(i);if(m){const N=h[i]=ble(m,b);tk(s,S,N,B)}else x&&(fle(s,S,x,B),h[i]=void 0)}}const QZ=/(?:Once|Passive|Capture)$/;function gle(s){let i;if(QZ.test(s)){i={};let m;for(;m=s.match(QZ);)s=s.slice(0,s.length-m[0].length),i[m[0].toLowerCase()]=!0}return[s[2]===":"?s.slice(3):Vw(s.slice(2)),i]}let lH=0;const hle=Promise.resolve(),ple=()=>lH||(hle.then(()=>lH=0),lH=Date.now());function ble(s,i){const u=m=>{if(!m._vts)m._vts=Date.now();else if(m._vts<=u.attached)return;ug(vle(m,u.value),i,5,[m])};return u.value=s,u.attached=ple(),u}function vle(s,i){if(Qo(i)){const u=s.stopImmediatePropagation;return s.stopImmediatePropagation=()=>{u.call(s),s._stopped=!0},i.map(m=>b=>!b._stopped&&m&&m(b))}else return i}const ej=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&s.charCodeAt(2)>96&&s.charCodeAt(2)<123,yle=(s,i,u,m,b,h)=>{const x=b==="svg";i==="class"?ale(s,m,x):i==="style"?cle(s,u,m):uM(i)?vV(i)||mle(s,i,u,m,h):(i[0]==="."?(i=i.slice(1),!0):i[0]==="^"?(i=i.slice(1),!1):xle(s,i,m,x))?(dle(s,i,m),!s.tagName.includes("-")&&(i==="value"||i==="checked"||i==="selected")&&XZ(s,i,m,x,h,i!=="value")):(i==="true-value"?s._trueValue=m:i==="false-value"&&(s._falseValue=m),XZ(s,i,m,x))};function xle(s,i,u,m){if(m)return!!(i==="innerHTML"||i==="textContent"||i in s&&ej(i)&&vs(u));if(i==="spellcheck"||i==="draggable"||i==="translate"||i==="form"||i==="list"&&s.tagName==="INPUT"||i==="type"&&s.tagName==="TEXTAREA")return!1;if(i==="width"||i==="height"){const b=s.tagName;if(b==="IMG"||b==="VIDEO"||b==="CANVAS"||b==="SOURCE")return!1}return ej(i)&&Qi(u)?!1:i in s}const Hq=new WeakMap,Vq=new WeakMap,Y8=Symbol("_moveCb"),tj=Symbol("_enterCb"),$q={name:"TransitionGroup",props:zl({},ole,{tag:String,moveClass:String}),setup(s,{slots:i}){const u=VV(),m=rq();let b,h;return MV(()=>{if(!b.length)return;const x=s.moveClass||`${s.name||"v"}-move`;if(!kle(b[0].el,u.vnode.el,x))return;b.forEach(Cle),b.forEach(_le);const S=b.filter(Sle);Fq(),S.forEach(B=>{const N=B.el,R=N.style;Z0(N,x),R.transform=R.webkitTransform=R.transitionDuration="";const F=N[Y8]=W=>{W&&W.target!==N||(!W||/transform$/.test(W.propertyName))&&(N.removeEventListener("transitionend",F),N[Y8]=null,oy(N,x))};N.addEventListener("transitionend",F)})}),()=>{const x=Ao(s),S=Pq(x);let B=x.tag||Er;if(b=[],h)for(let N=0;N<h.length;N++){const R=h[N];R.el&&R.el instanceof Element&&(b.push(R),uk(R,tO(R,S,m,u)),Hq.set(R,R.el.getBoundingClientRect()))}h=i.default?RV(i.default()):[];for(let N=0;N<h.length;N++){const R=h[N];R.key!=null&&uk(R,tO(R,S,m,u))}return ue(B,null,h)}}},wle=s=>delete s.mode;$q.props;const $V=$q;function Cle(s){const i=s.el;i[Y8]&&i[Y8](),i[tj]&&i[tj]()}function _le(s){Vq.set(s,s.el.getBoundingClientRect())}function Sle(s){const i=Hq.get(s),u=Vq.get(s),m=i.left-u.left,b=i.top-u.top;if(m||b){const h=s.el.style;return h.transform=h.webkitTransform=`translate(${m}px,${b}px)`,h.transitionDuration="0s",s}}function kle(s,i,u){const m=s.cloneNode(),b=s[fk];b&&b.forEach(S=>{S.split(/\s+/).forEach(B=>B&&m.classList.remove(B))}),u.split(/\s+/).forEach(S=>S&&m.classList.add(S)),m.style.display="none";const h=i.nodeType===1?i:i.parentNode;h.appendChild(m);const{hasTransform:x}=Lq(m);return h.removeChild(m),x}const nj=s=>{const i=s.props["onUpdate:modelValue"]||!1;return Qo(i)?u=>M8(i,u):i};function Ele(s){s.target.composing=!0}function oj(s){const i=s.target;i.composing&&(i.composing=!1,i.dispatchEvent(new Event("input")))}const cH=Symbol("_assign"),Ale={created(s,{modifiers:{lazy:i,trim:u,number:m}},b){s[cH]=nj(b);const h=m||b.props&&b.props.type==="number";tk(s,i?"change":"input",x=>{if(x.target.composing)return;let S=s.value;u&&(S=S.trim()),h&&(S=RH(S)),s[cH](S)}),u&&tk(s,"change",()=>{s.value=s.value.trim()}),i||(tk(s,"compositionstart",Ele),tk(s,"compositionend",oj),tk(s,"change",oj))},mounted(s,{value:i}){s.value=i??""},beforeUpdate(s,{value:i,oldValue:u,modifiers:{lazy:m,trim:b,number:h}},x){if(s[cH]=nj(x),s.composing)return;const S=(h||s.type==="number")&&!/^0\d/.test(s.value)?RH(s.value):s.value,B=i??"";S!==B&&(document.activeElement===s&&s.type!=="range"&&(m&&i===u||b&&s.value.trim()===B)||(s.value=B))}},Tle=zl({patchProp:yle},nle);let sj;function Ole(){return sj||(sj=Eie(Tle))}const Dle=(...s)=>{const i=Ole().createApp(...s),{mount:u}=i;return i.mount=m=>{const b=Nle(m);if(!b)return;const h=i._component;!vs(h)&&!h.render&&!h.template&&(h.template=b.innerHTML),b.innerHTML="";const x=u(b,!1,Rle(b));return b instanceof Element&&(b.removeAttribute("v-cloak"),b.setAttribute("data-v-app","")),x},i};function Rle(s){if(s instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&s instanceof MathMLElement)return"mathml"}function Nle(s){return Qi(s)?document.querySelector(s):s}function xh(s,i){let u;function m(){u=lO(),u.run(()=>i.length?i(()=>{u==null||u.stop(),m()}):i())}Gn(s,b=>{b&&!u?m():b||(u==null||u.stop(),u=void 0)},{immediate:!0}),Kf(()=>{u==null||u.stop()})}const bi=typeof window<"u",UV=bi&&"IntersectionObserver"in window,Ile=bi&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function rj(s,i,u){Ble(s,i),i.set(s,u)}function Ble(s,i){if(i.has(s))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Mle(s,i,u){return s.set(Uq(s,i),u),u}function Cw(s,i){return s.get(Uq(s,i))}function Uq(s,i,u){if(typeof s=="function"?s===i:s.has(i))return arguments.length<3?i:u;throw new TypeError("Private element is not present on this object")}function Wq(s,i,u){const m=i.length-1;if(m<0)return s===void 0?u:s;for(let b=0;b<m;b++){if(s==null)return u;s=s[i[b]]}return s==null||s[i[m]]===void 0?u:s[i[m]]}function wM(s,i){if(s===i)return!0;if(s instanceof Date&&i instanceof Date&&s.getTime()!==i.getTime()||s!==Object(s)||i!==Object(i))return!1;const u=Object.keys(s);return u.length!==Object.keys(i).length?!1:u.every(m=>wM(s[m],i[m]))}function WH(s,i,u){return s==null||!i||typeof i!="string"?u:s[i]!==void 0?s[i]:(i=i.replace(/\[(\w+)\]/g,".$1"),i=i.replace(/^\./,""),Wq(s,i.split("."),u))}function UT(s,i,u){if(i===!0)return s===void 0?u:s;if(i==null||typeof i=="boolean")return u;if(s!==Object(s)){if(typeof i!="function")return u;const b=i(s,u);return typeof b>"u"?u:b}if(typeof i=="string")return WH(s,i,u);if(Array.isArray(i))return Wq(s,i,u);if(typeof i!="function")return u;const m=i(s,u);return typeof m>"u"?u:m}function Zq(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:s},(u,m)=>i+m)}function fs(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(s==null||s===""))return isNaN(+s)?String(s):isFinite(+s)?`${Number(s)}${i}`:void 0}function Ple(s){return s!==null&&typeof s=="object"&&!Array.isArray(s)}function aj(s){let i;return s!==null&&typeof s=="object"&&((i=Object.getPrototypeOf(s))===Object.prototype||i===null)}function Lle(s){if(s&&"$el"in s){const i=s.$el;return(i==null?void 0:i.nodeType)===Node.TEXT_NODE?i.nextElementSibling:i}return s}const ij=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function uH(s,i){return i.every(u=>s.hasOwnProperty(u))}function jq(s,i){const u={},m=new Set(Object.keys(s));for(const b of i)m.has(b)&&(u[b]=s[b]);return u}function lj(s,i,u){const m=Object.create(null),b=Object.create(null);for(const h in s)i.some(x=>x instanceof RegExp?x.test(h):x===h)&&!(u!=null&&u.some(x=>x===h))?m[h]=s[h]:b[h]=s[h];return[m,b]}function Kq(s,i){const u={...s};return i.forEach(m=>delete u[m]),u}function Fle(s,i){const u={};return i.forEach(m=>u[m]=s[m]),u}const qq=/^on[^a-z]/,WV=s=>qq.test(s),zle=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function Hle(s){const[i,u]=lj(s,[qq]),m=Kq(i,zle),[b,h]=lj(u,["class","style","id",/^data-/]);return Object.assign(b,i),Object.assign(h,m),[b,h]}function Bw(s){return s==null?[]:Array.isArray(s)?s:[s]}function zw(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(i,Math.min(u,s))}function cj(s,i){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return s+u.repeat(Math.max(0,i-s.length))}function uj(s,i){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,i-s.length))+s}function Vle(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const u=[];let m=0;for(;m<s.length;)u.push(s.substr(m,i)),m+=i;return u}function Uf(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=arguments.length>2?arguments[2]:void 0;const m={};for(const b in s)m[b]=s[b];for(const b in i){const h=s[b],x=i[b];if(aj(h)&&aj(x)){m[b]=Uf(h,x,u);continue}if(u&&Array.isArray(h)&&Array.isArray(x)){m[b]=u(h,x);continue}m[b]=x}return m}function Gq(s){return s.map(i=>i.type===Er?Gq(i.children):i).flat()}function Mw(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(Mw.cache.has(s))return Mw.cache.get(s);const i=s.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return Mw.cache.set(s,i),i}Mw.cache=new Map;function nk(s,i){if(!i||typeof i!="object")return[];if(Array.isArray(i))return i.map(u=>nk(s,u)).flat(1);if(i.suspense)return nk(s,i.ssContent);if(Array.isArray(i.children))return i.children.map(u=>nk(s,u)).flat(1);if(i.component){if(Object.getOwnPropertySymbols(i.component.provides).includes(s))return[i.component];if(i.component.subTree)return nk(s,i.component.subTree).flat(1)}return[]}var C8=new WeakMap,qS=new WeakMap;class $le{constructor(i){rj(this,C8,[]),rj(this,qS,0),this.size=i}push(i){Cw(C8,this)[Cw(qS,this)]=i,Mle(qS,this,(Cw(qS,this)+1)%this.size)}values(){return Cw(C8,this).slice(Cw(qS,this)).concat(Cw(C8,this).slice(0,Cw(qS,this)))}}function ZV(s){const i=gu({}),u=ct(s);return wh(()=>{for(const m in u.value)i[m]=u.value[m]},{flush:"sync"}),uO(i)}function X8(s,i){return s.includes(i)}function Yq(s){return s[2].toLowerCase()+s.slice(3)}const dg=()=>[Function,Array];function dj(s,i){return i="on"+t1(i),!!(s[i]||s[`${i}Once`]||s[`${i}Capture`]||s[`${i}OnceCapture`]||s[`${i}CaptureOnce`])}function Ule(s){for(var i=arguments.length,u=new Array(i>1?i-1:0),m=1;m<i;m++)u[m-1]=arguments[m];if(Array.isArray(s))for(const b of s)b(...u);else typeof s=="function"&&s(...u)}function Xq(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const u=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(m=>`${m}${i?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...s.querySelectorAll(u)]}function Wle(s,i,u){let m,b=s.indexOf(document.activeElement);const h=i==="next"?1:-1;do b+=h,m=s[b];while((!m||m.offsetParent==null)&&b<s.length&&b>=0);return m}function Jq(s,i){var m,b,h,x;const u=Xq(s);if(!i)(s===document.activeElement||!s.contains(document.activeElement))&&((m=u[0])==null||m.focus());else if(i==="first")(b=u[0])==null||b.focus();else if(i==="last")(h=u.at(-1))==null||h.focus();else if(typeof i=="number")(x=u[i])==null||x.focus();else{const S=Wle(u,i);S?S.focus():Jq(s,i==="next"?"first":"last")}}function Zle(s,i){if(!(bi&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${i})`)))return null;try{return!!s&&s.matches(i)}catch{return null}}function jle(s,i){if(!bi||s===0)return i(),()=>{};const u=window.setTimeout(i,s);return()=>window.clearTimeout(u)}function ZH(){const s=Ts(),i=u=>{s.value=u};return Object.defineProperty(i,"value",{enumerable:!0,get:()=>s.value,set:u=>s.value=u}),Object.defineProperty(i,"el",{enumerable:!0,get:()=>Lle(s.value)}),i}const Qq=["top","bottom"],Kle=["start","end","left","right"];function jH(s,i){let[u,m]=s.split(" ");return m||(m=X8(Qq,u)?"start":X8(Kle,u)?"top":"center"),{side:KH(u,i),align:KH(m,i)}}function KH(s,i){return s==="start"?i?"right":"left":s==="end"?i?"left":"right":s}function dH(s){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[s.side],align:s.align}}function fH(s){return{side:s.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[s.align]}}function fj(s){return{side:s.align,align:s.side}}function mj(s){return X8(Qq,s.side)?"y":"x"}class Pw{constructor(i){let{x:u,y:m,width:b,height:h}=i;this.x=u,this.y=m,this.width=b,this.height=h}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function gj(s,i){return{x:{before:Math.max(0,i.left-s.left),after:Math.max(0,s.right-i.right)},y:{before:Math.max(0,i.top-s.top),after:Math.max(0,s.bottom-i.bottom)}}}function eG(s){return Array.isArray(s)?new Pw({x:s[0],y:s[1],width:0,height:0}):s.getBoundingClientRect()}function jV(s){const i=s.getBoundingClientRect(),u=getComputedStyle(s),m=u.transform;if(m){let b,h,x,S,B;if(m.startsWith("matrix3d("))b=m.slice(9,-1).split(/, /),h=+b[0],x=+b[5],S=+b[12],B=+b[13];else if(m.startsWith("matrix("))b=m.slice(7,-1).split(/, /),h=+b[0],x=+b[3],S=+b[4],B=+b[5];else return new Pw(i);const N=u.transformOrigin,R=i.x-S-(1-h)*parseFloat(N),F=i.y-B-(1-x)*parseFloat(N.slice(N.indexOf(" ")+1)),W=h?i.width/h:s.offsetWidth+1,$=x?i.height/x:s.offsetHeight+1;return new Pw({x:R,y:F,width:W,height:$})}else return new Pw(i)}function ok(s,i,u){if(typeof s.animate>"u")return{finished:Promise.resolve()};let m;try{m=s.animate(i,u)}catch{return{finished:Promise.resolve()}}return typeof m.finished>"u"&&(m.finished=new Promise(b=>{m.onfinish=()=>{b(m)}})),m}const H8=new WeakMap;function qle(s,i){Object.keys(i).forEach(u=>{if(WV(u)){const m=Yq(u),b=H8.get(s);if(i[u]==null)b==null||b.forEach(h=>{const[x,S]=h;x===m&&(s.removeEventListener(m,S),b.delete(h))});else if(!b||![...b].some(h=>h[0]===m&&h[1]===i[u])){s.addEventListener(m,i[u]);const h=b||new Set;h.add([m,i[u]]),H8.has(s)||H8.set(s,h)}}else i[u]==null?s.removeAttribute(u):s.setAttribute(u,i[u])})}function Gle(s,i){Object.keys(i).forEach(u=>{if(WV(u)){const m=Yq(u),b=H8.get(s);b==null||b.forEach(h=>{const[x,S]=h;x===m&&(s.removeEventListener(m,S),b.delete(h))})}else s.removeAttribute(u)})}const GS=2.4,hj=.2126729,pj=.7151522,bj=.072175,Yle=.55,Xle=.58,Jle=.57,Qle=.62,_8=.03,vj=1.45,ece=5e-4,tce=1.25,nce=1.25,yj=.078,xj=12.82051282051282,S8=.06,wj=.001;function Cj(s,i){const u=(s.r/255)**GS,m=(s.g/255)**GS,b=(s.b/255)**GS,h=(i.r/255)**GS,x=(i.g/255)**GS,S=(i.b/255)**GS;let B=u*hj+m*pj+b*bj,N=h*hj+x*pj+S*bj;if(B<=_8&&(B+=(_8-B)**vj),N<=_8&&(N+=(_8-N)**vj),Math.abs(N-B)<ece)return 0;let R;if(N>B){const F=(N**Yle-B**Xle)*tce;R=F<wj?0:F<yj?F-F*xj*S8:F-S8}else{const F=(N**Qle-B**Jle)*nce;R=F>-wj?0:F>-yj?F-F*xj*S8:F+S8}return R*100}function oce(s,i){i=Array.isArray(i)?i.slice(0,-1).map(u=>`'${u}'`).join(", ")+` or '${i.at(-1)}'`:`'${i}'`}const J8=.20689655172413793,sce=s=>s>J8**3?Math.cbrt(s):s/(3*J8**2)+4/29,rce=s=>s>J8?s**3:3*J8**2*(s-4/29);function tG(s){const i=sce,u=i(s[1]);return[116*u-16,500*(i(s[0]/.95047)-u),200*(u-i(s[2]/1.08883))]}function nG(s){const i=rce,u=(s[0]+16)/116;return[i(u+s[1]/500)*.95047,i(u),i(u-s[2]/200)*1.08883]}const ace=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],ice=s=>s<=.0031308?s*12.92:1.055*s**(1/2.4)-.055,lce=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],cce=s=>s<=.04045?s/12.92:((s+.055)/1.055)**2.4;function oG(s){const i=Array(3),u=ice,m=ace;for(let b=0;b<3;++b)i[b]=Math.round(zw(u(m[b][0]*s[0]+m[b][1]*s[1]+m[b][2]*s[2]))*255);return{r:i[0],g:i[1],b:i[2]}}function KV(s){let{r:i,g:u,b:m}=s;const b=[0,0,0],h=cce,x=lce;i=h(i/255),u=h(u/255),m=h(m/255);for(let S=0;S<3;++S)b[S]=x[S][0]*i+x[S][1]*u+x[S][2]*m;return b}function qH(s){return!!s&&/^(#|var\(--|(rgb|hsl)a?\()/.test(s)}function uce(s){return qH(s)&&!/^((rgb|hsl)a?\()?var\(--/.test(s)}const _j=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,dce={rgb:(s,i,u,m)=>({r:s,g:i,b:u,a:m}),rgba:(s,i,u,m)=>({r:s,g:i,b:u,a:m}),hsl:(s,i,u,m)=>Sj({h:s,s:i,l:u,a:m}),hsla:(s,i,u,m)=>Sj({h:s,s:i,l:u,a:m}),hsv:(s,i,u,m)=>oO({h:s,s:i,v:u,a:m}),hsva:(s,i,u,m)=>oO({h:s,s:i,v:u,a:m})};function Vp(s){if(typeof s=="number")return{r:(s&16711680)>>16,g:(s&65280)>>8,b:s&255};if(typeof s=="string"&&_j.test(s)){const{groups:i}=s.match(_j),{fn:u,values:m}=i,b=m.split(/,\s*/).map(h=>h.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(u)?parseFloat(h)/100:parseFloat(h));return dce[u](...b)}else if(typeof s=="string"){let i=s.startsWith("#")?s.slice(1):s;return[3,4].includes(i.length)?i=i.split("").map(u=>u+u).join(""):[6,8].includes(i.length),mce(i)}else if(typeof s=="object"){if(uH(s,["r","g","b"]))return s;if(uH(s,["h","s","l"]))return oO(sG(s));if(uH(s,["h","s","v"]))return oO(s)}throw new TypeError(`Invalid color: ${s==null?s:String(s)||s.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function oO(s){const{h:i,s:u,v:m,a:b}=s,h=S=>{const B=(S+i/60)%6;return m-m*u*Math.max(Math.min(B,4-B,1),0)},x=[h(5),h(3),h(1)].map(S=>Math.round(S*255));return{r:x[0],g:x[1],b:x[2],a:b}}function Sj(s){return oO(sG(s))}function sG(s){const{h:i,s:u,l:m,a:b}=s,h=m+u*Math.min(m,1-m),x=h===0?0:2-2*m/h;return{h:i,s:x,v:h,a:b}}function k8(s){const i=Math.round(s).toString(16);return("00".substr(0,2-i.length)+i).toUpperCase()}function fce(s){let{r:i,g:u,b:m,a:b}=s;return`#${[k8(i),k8(u),k8(m),b!==void 0?k8(Math.round(b*255)):""].join("")}`}function mce(s){s=gce(s);let[i,u,m,b]=Vle(s,2).map(h=>parseInt(h,16));return b=b===void 0?b:b/255,{r:i,g:u,b:m,a:b}}function gce(s){return s.startsWith("#")&&(s=s.slice(1)),s=s.replace(/([^0-9a-f])/gi,"F"),(s.length===3||s.length===4)&&(s=s.split("").map(i=>i+i).join("")),s.length!==6&&(s=cj(cj(s,6),8,"F")),s}function hce(s,i){const u=tG(KV(s));return u[0]=u[0]+i*10,oG(nG(u))}function pce(s,i){const u=tG(KV(s));return u[0]=u[0]-i*10,oG(nG(u))}function bce(s){const i=Vp(s);return KV(i)[1]}function rG(s){const i=Math.abs(Cj(Vp(0),Vp(s)));return Math.abs(Cj(Vp(16777215),Vp(s)))>Math.min(i,50)?"#fff":"#000"}function Jn(s,i){return u=>Object.keys(s).reduce((m,b)=>{const x=typeof s[b]=="object"&&s[b]!=null&&!Array.isArray(s[b])?s[b]:{type:s[b]};return u&&b in u?m[b]={...x,default:u[b]}:m[b]=x,i&&!m[b].source&&(m[b].source=i),m},{})}const tr=Jn({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Al(s,i){const u=VV();if(!u)throw new Error(`[Vuetify] ${s} must be called from inside a setup function`);return u}function Kp(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const i=Al(s).type;return Mw((i==null?void 0:i.aliasName)||(i==null?void 0:i.name))}let aG=0,V8=new WeakMap;function Cy(){const s=Al("getUid");if(V8.has(s))return V8.get(s);{const i=aG++;return V8.set(s,i),i}}Cy.reset=()=>{aG=0,V8=new WeakMap};function vce(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Al("injectSelf");const{provides:u}=i;if(u&&s in u)return u[s]}const mk=Symbol.for("vuetify:defaults");function yce(s){return Eo(s)}function qV(){const s=Ji(mk);if(!s)throw new Error("[Vuetify] Could not find defaults instance");return s}function hk(s,i){const u=qV(),m=Eo(s),b=ct(()=>{if(He(i==null?void 0:i.disabled))return u.value;const x=He(i==null?void 0:i.scoped),S=He(i==null?void 0:i.reset),B=He(i==null?void 0:i.root);if(m.value==null&&!(x||S||B))return u.value;let N=Uf(m.value,{prev:u.value});if(x)return N;if(S||B){const R=Number(S||1/0);for(let F=0;F<=R&&!(!N||!("prev"in N));F++)N=N.prev;return N&&typeof B=="string"&&B in N&&(N=Uf(Uf(N,{prev:N}),N[B])),N}return N.prev?Uf(N.prev,N):N});return qf(mk,b),b}function xce(s,i){var u,m;return typeof((u=s.props)==null?void 0:u[i])<"u"||typeof((m=s.props)==null?void 0:m[Mw(i)])<"u"}function wce(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:qV();const m=Al("useDefaults");if(i=i??m.type.name??m.type.__name,!i)throw new Error("[Vuetify] Could not determine component name");const b=ct(()=>{var B;return(B=u.value)==null?void 0:B[s._as??i]}),h=new Proxy(s,{get(B,N){var F,W,$,K,ee,fe,he;const R=Reflect.get(B,N);return N==="class"||N==="style"?[(F=b.value)==null?void 0:F[N],R].filter(Ue=>Ue!=null):typeof N=="string"&&!xce(m.vnode,N)?((W=b.value)==null?void 0:W[N])!==void 0?($=b.value)==null?void 0:$[N]:((ee=(K=u.value)==null?void 0:K.global)==null?void 0:ee[N])!==void 0?(he=(fe=u.value)==null?void 0:fe.global)==null?void 0:he[N]:R:R}}),x=Ts();wh(()=>{if(b.value){const B=Object.entries(b.value).filter(N=>{let[R]=N;return R.startsWith(R[0].toUpperCase())});x.value=B.length?Object.fromEntries(B):void 0}else x.value=void 0});function S(){const B=vce(mk,m);qf(mk,ct(()=>x.value?Uf((B==null?void 0:B.value)??{},x.value):B==null?void 0:B.value))}return{props:h,provideSubDefaults:S}}function pk(s){if(s._setup=s._setup??s.setup,!s.name)return s;if(s._setup){s.props=Jn(s.props??{},s.name)();const i=Object.keys(s.props).filter(u=>u!=="class"&&u!=="style");s.filterProps=function(m){return jq(m,i)},s.props._as=String,s.setup=function(m,b){const h=qV();if(!h.value)return s._setup(m,b);const{props:x,provideSubDefaults:S}=wce(m,m._as??s.name,h),B=s._setup(x,b);return S(),B}}return s}function rs(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return i=>(s?pk:cq)(i)}function CM(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",u=arguments.length>2?arguments[2]:void 0;return rs()({name:u??t1(jf(s.replace(/__/g,"-"))),props:{tag:{type:String,default:i},...tr()},setup(m,b){let{slots:h}=b;return()=>{var x;return Zp(m.tag,{class:[s,m.class],style:m.style},(x=h.default)==null?void 0:x.call(h))}}})}function iG(s){if(typeof s.getRootNode!="function"){for(;s.parentNode;)s=s.parentNode;return s!==document?null:document}const i=s.getRootNode();return i!==document&&i.getRootNode({composed:!0})!==document?null:i}const Q8="cubic-bezier(0.4, 0, 0.2, 1)",Cce="cubic-bezier(0.0, 0, 0.2, 1)",_ce="cubic-bezier(0.4, 0, 1, 1)";function Sce(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;s;){if(i?kce(s):GV(s))return s;s=s.parentElement}return document.scrollingElement}function eM(s,i){const u=[];if(i&&s&&!i.contains(s))return u;for(;s&&(GV(s)&&u.push(s),s!==i);)s=s.parentElement;return u}function GV(s){if(!s||s.nodeType!==Node.ELEMENT_NODE)return!1;const i=window.getComputedStyle(s);return i.overflowY==="scroll"||i.overflowY==="auto"&&s.scrollHeight>s.clientHeight}function kce(s){if(!s||s.nodeType!==Node.ELEMENT_NODE)return!1;const i=window.getComputedStyle(s);return["scroll","auto"].includes(i.overflowY)}function Ece(s){for(;s;){if(window.getComputedStyle(s).position==="fixed")return!0;s=s.offsetParent}return!1}function Ks(s){const i=Al("useRender");i.render=s}function Ld(s,i,u){let m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:F=>F,b=arguments.length>4&&arguments[4]!==void 0?arguments[4]:F=>F;const h=Al("useProxiedModel"),x=Eo(s[i]!==void 0?s[i]:u),S=Mw(i),N=ct(S!==i?()=>{var F,W,$,K;return s[i],!!(((F=h.vnode.props)!=null&&F.hasOwnProperty(i)||(W=h.vnode.props)!=null&&W.hasOwnProperty(S))&&(($=h.vnode.props)!=null&&$.hasOwnProperty(`onUpdate:${i}`)||(K=h.vnode.props)!=null&&K.hasOwnProperty(`onUpdate:${S}`)))}:()=>{var F,W;return s[i],!!((F=h.vnode.props)!=null&&F.hasOwnProperty(i)&&((W=h.vnode.props)!=null&&W.hasOwnProperty(`onUpdate:${i}`)))});xh(()=>!N.value,()=>{Gn(()=>s[i],F=>{x.value=F})});const R=ct({get(){const F=s[i];return m(N.value?F:x.value)},set(F){const W=b(F),$=Ao(N.value?s[i]:x.value);$===W||m($)===F||(x.value=W,h==null||h.emit(`update:${i}`,W))}});return Object.defineProperty(R,"externalValue",{get:()=>N.value?s[i]:x.value}),R}const Ace={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},kj="$vuetify.",Ej=(s,i)=>s.replace(/\{(\d+)\}/g,(u,m)=>String(i[+m])),lG=(s,i,u)=>function(m){for(var b=arguments.length,h=new Array(b>1?b-1:0),x=1;x<b;x++)h[x-1]=arguments[x];if(!m.startsWith(kj))return Ej(m,h);const S=m.replace(kj,""),B=s.value&&u.value[s.value],N=i.value&&u.value[i.value];let R=WH(B,S,null);return R||(`${m}${s.value}`,R=WH(N,S,null)),R||(R=m),typeof R!="string"&&(R=m),Ej(R,h)};function cG(s,i){return(u,m)=>new Intl.NumberFormat([s.value,i.value],m).format(u)}function mH(s,i,u){const m=Ld(s,i,s[i]??u.value);return m.value=s[i]??u.value,Gn(u,b=>{s[i]==null&&(m.value=u.value)}),m}function uG(s){return i=>{const u=mH(i,"locale",s.current),m=mH(i,"fallback",s.fallback),b=mH(i,"messages",s.messages);return{name:"vuetify",current:u,fallback:m,messages:b,t:lG(u,m,b),n:cG(u,m),provide:uG({current:u,fallback:m,messages:b})}}}function Tce(s){const i=Ts((s==null?void 0:s.locale)??"en"),u=Ts((s==null?void 0:s.fallback)??"en"),m=Eo({en:Ace,...s==null?void 0:s.messages});return{name:"vuetify",current:i,fallback:u,messages:m,t:lG(i,u,m),n:cG(i,u),provide:uG({current:i,fallback:u,messages:m})}}const tM=Symbol.for("vuetify:locale");function Oce(s){return s.name!=null}function Dce(s){const i=s!=null&&s.adapter&&Oce(s==null?void 0:s.adapter)?s==null?void 0:s.adapter:Tce(s),u=Nce(i,s);return{...i,...u}}function dG(){const s=Ji(tM);if(!s)throw new Error("[Vuetify] Could not find injected locale instance");return s}function Rce(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function Nce(s,i){const u=Eo((i==null?void 0:i.rtl)??Rce()),m=ct(()=>u.value[s.current.value]??!1);return{isRtl:m,rtl:u,rtlClasses:ct(()=>`v-locale--is-${m.value?"rtl":"ltr"}`)}}function o1(){const s=Ji(tM);if(!s)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:s.isRtl,rtlClasses:s.rtlClasses}}const _M={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function Ice(s,i,u){const m=[];let b=[];const h=fG(s),x=mG(s),S=u??_M[i.slice(-2).toUpperCase()]??0,B=(h.getDay()-S+7)%7,N=(x.getDay()-S+7)%7;for(let R=0;R<B;R++){const F=new Date(h);F.setDate(F.getDate()-(B-R)),b.push(F)}for(let R=1;R<=x.getDate();R++){const F=new Date(s.getFullYear(),s.getMonth(),R);b.push(F),b.length===7&&(m.push(b),b=[])}for(let R=1;R<7-N;R++){const F=new Date(x);F.setDate(F.getDate()+R),b.push(F)}return b.length>0&&m.push(b),m}function Bce(s,i,u){const m=u??_M[i.slice(-2).toUpperCase()]??0,b=new Date(s);for(;b.getDay()!==m;)b.setDate(b.getDate()-1);return b}function Mce(s,i){const u=new Date(s),m=((_M[i.slice(-2).toUpperCase()]??0)+6)%7;for(;u.getDay()!==m;)u.setDate(u.getDate()+1);return u}function fG(s){return new Date(s.getFullYear(),s.getMonth(),1)}function mG(s){return new Date(s.getFullYear(),s.getMonth()+1,0)}function Pce(s){const i=s.split("-").map(Number);return new Date(i[0],i[1]-1,i[2])}const Lce=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function gG(s){if(s==null)return new Date;if(s instanceof Date)return s;if(typeof s=="string"){let i;if(Lce.test(s))return Pce(s);if(i=Date.parse(s),!isNaN(i))return new Date(i)}return null}const Aj=new Date(2e3,0,2);function Fce(s,i){const u=i??_M[s.slice(-2).toUpperCase()]??0;return Zq(7).map(m=>{const b=new Date(Aj);return b.setDate(Aj.getDate()+u+m),new Intl.DateTimeFormat(s,{weekday:"narrow"}).format(b)})}function zce(s,i,u,m){const b=gG(s)??new Date,h=m==null?void 0:m[i];if(typeof h=="function")return h(b,i,u);let x={};switch(i){case"fullDate":x={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":x={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const S=b.getDate(),B=new Intl.DateTimeFormat(u,{month:"long"}).format(b);return`${S} ${B}`;case"normalDateWithWeekday":x={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":x={month:"short",day:"numeric"};break;case"year":x={year:"numeric"};break;case"month":x={month:"long"};break;case"monthShort":x={month:"short"};break;case"monthAndYear":x={month:"long",year:"numeric"};break;case"monthAndDate":x={month:"long",day:"numeric"};break;case"weekday":x={weekday:"long"};break;case"weekdayShort":x={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(u).format(b.getDate());case"hours12h":x={hour:"numeric",hour12:!0};break;case"hours24h":x={hour:"numeric",hour12:!1};break;case"minutes":x={minute:"numeric"};break;case"seconds":x={second:"numeric"};break;case"fullTime":x={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":x={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":x={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":x={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":x={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":x={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":x={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:x=h??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(u,x).format(b)}function Hce(s,i){const u=s.toJsDate(i),m=u.getFullYear(),b=uj(String(u.getMonth()+1),2,"0"),h=uj(String(u.getDate()),2,"0");return`${m}-${b}-${h}`}function Vce(s){const[i,u,m]=s.split("-").map(Number);return new Date(i,u-1,m)}function $ce(s,i){const u=new Date(s);return u.setMinutes(u.getMinutes()+i),u}function Uce(s,i){const u=new Date(s);return u.setHours(u.getHours()+i),u}function Wce(s,i){const u=new Date(s);return u.setDate(u.getDate()+i),u}function Zce(s,i){const u=new Date(s);return u.setDate(u.getDate()+i*7),u}function jce(s,i){const u=new Date(s);return u.setDate(1),u.setMonth(u.getMonth()+i),u}function Kce(s){return s.getFullYear()}function qce(s){return s.getMonth()}function Gce(s){return s.getDate()}function Yce(s){return new Date(s.getFullYear(),s.getMonth()+1,1)}function Xce(s){return new Date(s.getFullYear(),s.getMonth()-1,1)}function Jce(s){return s.getHours()}function Qce(s){return s.getMinutes()}function eue(s){return new Date(s.getFullYear(),0,1)}function tue(s){return new Date(s.getFullYear(),11,31)}function nue(s,i){return nM(s,i[0])&&rue(s,i[1])}function oue(s){const i=new Date(s);return i instanceof Date&&!isNaN(i.getTime())}function nM(s,i){return s.getTime()>i.getTime()}function sue(s,i){return nM(GH(s),GH(i))}function rue(s,i){return s.getTime()<i.getTime()}function Tj(s,i){return s.getTime()===i.getTime()}function aue(s,i){return s.getDate()===i.getDate()&&s.getMonth()===i.getMonth()&&s.getFullYear()===i.getFullYear()}function iue(s,i){return s.getMonth()===i.getMonth()&&s.getFullYear()===i.getFullYear()}function lue(s,i){return s.getFullYear()===i.getFullYear()}function cue(s,i,u){const m=new Date(s),b=new Date(i);switch(u){case"years":return m.getFullYear()-b.getFullYear();case"quarters":return Math.floor((m.getMonth()-b.getMonth()+(m.getFullYear()-b.getFullYear())*12)/4);case"months":return m.getMonth()-b.getMonth()+(m.getFullYear()-b.getFullYear())*12;case"weeks":return Math.floor((m.getTime()-b.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((m.getTime()-b.getTime())/(1e3*60*60*24));case"hours":return Math.floor((m.getTime()-b.getTime())/(1e3*60*60));case"minutes":return Math.floor((m.getTime()-b.getTime())/(1e3*60));case"seconds":return Math.floor((m.getTime()-b.getTime())/1e3);default:return m.getTime()-b.getTime()}}function uue(s,i){const u=new Date(s);return u.setHours(i),u}function due(s,i){const u=new Date(s);return u.setMinutes(i),u}function fue(s,i){const u=new Date(s);return u.setMonth(i),u}function mue(s,i){const u=new Date(s);return u.setDate(i),u}function gue(s,i){const u=new Date(s);return u.setFullYear(i),u}function GH(s){return new Date(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0,0)}function hue(s){return new Date(s.getFullYear(),s.getMonth(),s.getDate(),23,59,59,999)}class pue{constructor(i){this.locale=i.locale,this.formats=i.formats}date(i){return gG(i)}toJsDate(i){return i}toISO(i){return Hce(this,i)}parseISO(i){return Vce(i)}addMinutes(i,u){return $ce(i,u)}addHours(i,u){return Uce(i,u)}addDays(i,u){return Wce(i,u)}addWeeks(i,u){return Zce(i,u)}addMonths(i,u){return jce(i,u)}getWeekArray(i,u){return Ice(i,this.locale,u?Number(u):void 0)}startOfWeek(i,u){return Bce(i,this.locale,u?Number(u):void 0)}endOfWeek(i){return Mce(i,this.locale)}startOfMonth(i){return fG(i)}endOfMonth(i){return mG(i)}format(i,u){return zce(i,u,this.locale,this.formats)}isEqual(i,u){return Tj(i,u)}isValid(i){return oue(i)}isWithinRange(i,u){return nue(i,u)}isAfter(i,u){return nM(i,u)}isAfterDay(i,u){return sue(i,u)}isBefore(i,u){return!nM(i,u)&&!Tj(i,u)}isSameDay(i,u){return aue(i,u)}isSameMonth(i,u){return iue(i,u)}isSameYear(i,u){return lue(i,u)}setMinutes(i,u){return due(i,u)}setHours(i,u){return uue(i,u)}setMonth(i,u){return fue(i,u)}setDate(i,u){return mue(i,u)}setYear(i,u){return gue(i,u)}getDiff(i,u,m){return cue(i,u,m)}getWeekdays(i){return Fce(this.locale,i?Number(i):void 0)}getYear(i){return Kce(i)}getMonth(i){return qce(i)}getDate(i){return Gce(i)}getNextMonth(i){return Yce(i)}getPreviousMonth(i){return Xce(i)}getHours(i){return Jce(i)}getMinutes(i){return Qce(i)}startOfDay(i){return GH(i)}endOfDay(i){return hue(i)}startOfYear(i){return eue(i)}endOfYear(i){return tue(i)}}const bue=Symbol.for("vuetify:date-options"),Oj=Symbol.for("vuetify:date-adapter");function vue(s,i){const u=Uf({adapter:pue,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},s);return{options:u,instance:yue(u,i)}}function yue(s,i){const u=gu(typeof s.adapter=="function"?new s.adapter({locale:s.locale[i.current.value]??i.current.value,formats:s.formats}):s.adapter);return Gn(i.current,m=>{u.locale=s.locale[m]??m??u.locale}),u}const SM=["sm","md","lg","xl","xxl"],YH=Symbol.for("vuetify:display"),Dj={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},xue=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Dj;return Uf(Dj,s)};function Rj(s){return bi&&!s?window.innerWidth:typeof s=="object"&&s.clientWidth||0}function Nj(s){return bi&&!s?window.innerHeight:typeof s=="object"&&s.clientHeight||0}function Ij(s){const i=bi&&!s?window.navigator.userAgent:"ssr";function u(K){return!!i.match(K)}const m=u(/android/i),b=u(/iphone|ipad|ipod/i),h=u(/cordova/i),x=u(/electron/i),S=u(/chrome/i),B=u(/edge/i),N=u(/firefox/i),R=u(/opera/i),F=u(/win/i),W=u(/mac/i),$=u(/linux/i);return{android:m,ios:b,cordova:h,electron:x,chrome:S,edge:B,firefox:N,opera:R,win:F,mac:W,linux:$,touch:Ile,ssr:i==="ssr"}}function wue(s,i){const{thresholds:u,mobileBreakpoint:m}=xue(s),b=Ts(Nj(i)),h=Ts(Ij(i)),x=gu({}),S=Ts(Rj(i));function B(){b.value=Nj(),S.value=Rj()}function N(){B(),h.value=Ij()}return wh(()=>{const R=S.value<u.sm,F=S.value<u.md&&!R,W=S.value<u.lg&&!(F||R),$=S.value<u.xl&&!(W||F||R),K=S.value<u.xxl&&!($||W||F||R),ee=S.value>=u.xxl,fe=R?"xs":F?"sm":W?"md":$?"lg":K?"xl":"xxl",he=typeof m=="number"?m:u[m],Ue=S.value<he;x.xs=R,x.sm=F,x.md=W,x.lg=$,x.xl=K,x.xxl=ee,x.smAndUp=!R,x.mdAndUp=!(R||F),x.lgAndUp=!(R||F||W),x.xlAndUp=!(R||F||W||$),x.smAndDown=!(W||$||K||ee),x.mdAndDown=!($||K||ee),x.lgAndDown=!(K||ee),x.xlAndDown=!ee,x.name=fe,x.height=b.value,x.width=S.value,x.mobile=Ue,x.mobileBreakpoint=m,x.platform=h.value,x.thresholds=u}),bi&&window.addEventListener("resize",B,{passive:!0}),{...uO(x),update:N,ssr:!!i}}const Cue=Jn({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function hG(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kp();const u=Ji(YH);if(!u)throw new Error("Could not find Vuetify display injection");const m=ct(()=>{if(s.mobile!=null)return s.mobile;if(!s.mobileBreakpoint)return u.mobile.value;const h=typeof s.mobileBreakpoint=="number"?s.mobileBreakpoint:u.thresholds.value[s.mobileBreakpoint];return u.width.value<h}),b=ct(()=>i?{[`${i}--mobile`]:m.value}:{});return{...u,displayClasses:b,mobile:m}}const _ue=Symbol.for("vuetify:goto");function Sue(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:s=>s,easeInQuad:s=>s**2,easeOutQuad:s=>s*(2-s),easeInOutQuad:s=>s<.5?2*s**2:-1+(4-2*s)*s,easeInCubic:s=>s**3,easeOutCubic:s=>--s**3+1,easeInOutCubic:s=>s<.5?4*s**3:(s-1)*(2*s-2)*(2*s-2)+1,easeInQuart:s=>s**4,easeOutQuart:s=>1- --s**4,easeInOutQuart:s=>s<.5?8*s**4:1-8*--s**4,easeInQuint:s=>s**5,easeOutQuint:s=>1+--s**5,easeInOutQuint:s=>s<.5?16*s**5:1+16*--s**5}}}function kue(s,i){return{rtl:i.isRtl,options:Uf(Sue(),s)}}const Eue={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper"},Aue={component:s=>Zp(bG,{...s,class:"mdi"})},pl=[String,Function,Object,Array],XH=Symbol.for("vuetify:icons"),kM=Jn({icon:{type:pl},tag:{type:String,required:!0}},"icon"),Bj=rs()({name:"VComponentIcon",props:kM(),setup(s,i){let{slots:u}=i;return()=>{const m=s.icon;return ue(s.tag,null,{default:()=>{var b;return[s.icon?ue(m,null,null):(b=u.default)==null?void 0:b.call(u)]}})}}}),pG=pk({name:"VSvgIcon",inheritAttrs:!1,props:kM(),setup(s,i){let{attrs:u}=i;return()=>ue(s.tag,Sa(u,{style:null}),{default:()=>[ue("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(s.icon)?s.icon.map(m=>Array.isArray(m)?ue("path",{d:m[0],"fill-opacity":m[1]},null):ue("path",{d:m},null)):ue("path",{d:s.icon},null)])]})}});pk({name:"VLigatureIcon",props:kM(),setup(s){return()=>ue(s.tag,null,{default:()=>[s.icon]})}});const bG=pk({name:"VClassIcon",props:kM(),setup(s){return()=>ue(s.tag,{class:s.icon},null)}});function Tue(){return{svg:{component:pG},class:{component:bG}}}function Oue(s){const i=Tue(),u=(s==null?void 0:s.defaultSet)??"mdi";return u==="mdi"&&!i.mdi&&(i.mdi=Aue),Uf({defaultSet:u,sets:i,aliases:{...Eue,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},s)}const Due=s=>{const i=Ji(XH);if(!i)throw new Error("Missing Vuetify Icons provide!");return{iconData:ct(()=>{var B;const m=He(s);if(!m)return{component:Bj};let b=m;if(typeof b=="string"&&(b=b.trim(),b.startsWith("$")&&(b=(B=i.aliases)==null?void 0:B[b.slice(1)])),Array.isArray(b))return{component:pG,icon:b};if(typeof b!="string")return{component:Bj,icon:b};const h=Object.keys(i.sets).find(N=>typeof b=="string"&&b.startsWith(`${N}:`)),x=h?b.slice(h.length+1):b;return{component:i.sets[h??i.defaultSet].component,icon:x}})}},oM=Symbol.for("vuetify:theme"),Hl=Jn({theme:String},"theme");function Mj(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function Rue(){var m,b;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Mj();const i=Mj();if(!s)return{...i,isDisabled:!0};const u={};for(const[h,x]of Object.entries(s.themes??{})){const S=x.dark||h==="dark"?(m=i.themes)==null?void 0:m.dark:(b=i.themes)==null?void 0:b.light;u[h]=Uf(S,x)}return Uf(i,{...s,themes:u})}function Nue(s){const i=Rue(s),u=Eo(i.defaultTheme),m=Eo(i.themes),b=ct(()=>{const R={};for(const[F,W]of Object.entries(m.value)){const $=R[F]={...W,colors:{...W.colors}};if(i.variations)for(const K of i.variations.colors){const ee=$.colors[K];if(ee)for(const fe of["lighten","darken"]){const he=fe==="lighten"?hce:pce;for(const Ue of Zq(i.variations[fe],1))$.colors[`${K}-${fe}-${Ue}`]=fce(he(Vp(ee),Ue))}}for(const K of Object.keys($.colors)){if(/^on-[a-z]/.test(K)||$.colors[`on-${K}`])continue;const ee=`on-${K}`,fe=Vp($.colors[K]);$.colors[ee]=rG(fe)}}return R}),h=ct(()=>b.value[u.value]),x=ct(()=>{var K;const R=[];(K=h.value)!=null&&K.dark&&_w(R,":root",["color-scheme: dark"]),_w(R,":root",Pj(h.value));for(const[ee,fe]of Object.entries(b.value))_w(R,`.v-theme--${ee}`,[`color-scheme: ${fe.dark?"dark":"normal"}`,...Pj(fe)]);const F=[],W=[],$=new Set(Object.values(b.value).flatMap(ee=>Object.keys(ee.colors)));for(const ee of $)/^on-[a-z]/.test(ee)?_w(W,`.${ee}`,[`color: rgb(var(--v-theme-${ee})) !important`]):(_w(F,`.bg-${ee}`,[`--v-theme-overlay-multiplier: var(--v-theme-${ee}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${ee})) !important`,`color: rgb(var(--v-theme-on-${ee})) !important`]),_w(W,`.text-${ee}`,[`color: rgb(var(--v-theme-${ee})) !important`]),_w(W,`.border-${ee}`,[`--v-border-color: var(--v-theme-${ee})`]));return R.push(...F,...W),R.map((ee,fe)=>fe===0?ee:`    ${ee}`).join("")});function S(){return{style:[{children:x.value,id:"vuetify-theme-stylesheet",nonce:i.cspNonce||!1}]}}function B(R){if(i.isDisabled)return;const F=R._context.provides.usehead;if(F)if(F.push){const $=F.push(S);bi&&Gn(x,()=>{$.patch(S)})}else bi?(F.addHeadObjs(ct(S)),wh(()=>F.updateDOM())):F.addHeadObjs(S());else{let K=function(){if(typeof document<"u"&&!$){const ee=document.createElement("style");ee.type="text/css",ee.id="vuetify-theme-stylesheet",i.cspNonce&&ee.setAttribute("nonce",i.cspNonce),$=ee,document.head.appendChild($)}$&&($.innerHTML=x.value)};var W=K;let $=bi?document.getElementById("vuetify-theme-stylesheet"):null;bi?Gn(x,K,{immediate:!0}):K()}}const N=ct(()=>i.isDisabled?void 0:`v-theme--${u.value}`);return{install:B,isDisabled:i.isDisabled,name:u,themes:m,current:h,computedThemes:b,themeClasses:N,styles:x,global:{name:u,current:h}}}function ac(s){Al("provideTheme");const i=Ji(oM,null);if(!i)throw new Error("Could not find Vuetify theme injection");const u=ct(()=>s.theme??i.name.value),m=ct(()=>i.themes.value[u.value]),b=ct(()=>i.isDisabled?void 0:`v-theme--${u.value}`),h={...i,name:u,current:m,themeClasses:b};return qf(oM,h),h}function _w(s,i,u){s.push(`${i} {
`,...u.map(m=>`  ${m};
`),`}
`)}function Pj(s){const i=s.dark?2:1,u=s.dark?1:2,m=[];for(const[b,h]of Object.entries(s.colors)){const x=Vp(h);m.push(`--v-theme-${b}: ${x.r},${x.g},${x.b}`),b.startsWith("on-")||m.push(`--v-theme-${b}-overlay-multiplier: ${bce(h)>.18?i:u}`)}for(const[b,h]of Object.entries(s.variables)){const x=typeof h=="string"&&h.startsWith("#")?Vp(h):void 0,S=x?`${x.r}, ${x.g}, ${x.b}`:void 0;m.push(`--v-${b}: ${S??h}`)}return m}function vG(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const u=ZH(),m=Eo();if(bi){const b=new ResizeObserver(h=>{h.length&&(i==="content"?m.value=h[0].contentRect:m.value=h[0].target.getBoundingClientRect())});Bc(()=>{b.disconnect()}),Gn(()=>u.el,(h,x)=>{x&&(b.unobserve(x),m.value=void 0),h&&b.observe(h)},{flush:"post"})}return{resizeRef:u,contentRect:cO(m)}}const sM=Symbol.for("vuetify:layout"),yG=Symbol.for("vuetify:layout-item"),Lj=1e3,Iue=Jn({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),xG=Jn({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Bue(){const s=Ji(sM);if(!s)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:s.getLayoutItem,mainRect:s.mainRect,mainStyles:s.mainStyles}}function wG(s){const i=Ji(sM);if(!i)throw new Error("[Vuetify] Could not find injected layout");const u=s.id??`layout-item-${Cy()}`,m=Al("useLayoutItem");qf(yG,{id:u});const b=Ts(!1);IV(()=>b.value=!0),NV(()=>b.value=!1);const{layoutItemStyles:h,layoutItemScrimStyles:x}=i.register(m,{...s,active:ct(()=>b.value?!1:s.active.value),id:u});return Bc(()=>i.unregister(u)),{layoutItemStyles:h,layoutRect:i.layoutRect,layoutItemScrimStyles:x}}const Mue=(s,i,u,m)=>{let b={top:0,left:0,right:0,bottom:0};const h=[{id:"",layer:{...b}}];for(const x of s){const S=i.get(x),B=u.get(x),N=m.get(x);if(!S||!B||!N)continue;const R={...b,[S.value]:parseInt(b[S.value],10)+(N.value?parseInt(B.value,10):0)};h.push({id:x,layer:R}),b=R}return h};function Pue(s){const i=Ji(sM,null),u=ct(()=>i?i.rootZIndex.value-100:Lj),m=Eo([]),b=gu(new Map),h=gu(new Map),x=gu(new Map),S=gu(new Map),B=gu(new Map),{resizeRef:N,contentRect:R}=vG(),F=ct(()=>{const ne=new Map,Ge=s.overlaps??[];for(const $e of Ge.filter(Ze=>Ze.includes(":"))){const[Ze,nt]=$e.split(":");if(!m.value.includes(Ze)||!m.value.includes(nt))continue;const Ce=b.get(Ze),Ne=b.get(nt),D=h.get(Ze),yt=h.get(nt);!Ce||!Ne||!D||!yt||(ne.set(nt,{position:Ce.value,amount:parseInt(D.value,10)}),ne.set(Ze,{position:Ne.value,amount:-parseInt(yt.value,10)}))}return ne}),W=ct(()=>{const ne=[...new Set([...x.values()].map($e=>$e.value))].sort(($e,Ze)=>$e-Ze),Ge=[];for(const $e of ne){const Ze=m.value.filter(nt=>{var Ce;return((Ce=x.get(nt))==null?void 0:Ce.value)===$e});Ge.push(...Ze)}return Mue(Ge,b,h,S)}),$=ct(()=>!Array.from(B.values()).some(ne=>ne.value)),K=ct(()=>W.value[W.value.length-1].layer),ee=ct(()=>({"--v-layout-left":fs(K.value.left),"--v-layout-right":fs(K.value.right),"--v-layout-top":fs(K.value.top),"--v-layout-bottom":fs(K.value.bottom),...$.value?void 0:{transition:"none"}})),fe=ct(()=>W.value.slice(1).map((ne,Ge)=>{let{id:$e}=ne;const{layer:Ze}=W.value[Ge],nt=h.get($e),Ce=b.get($e);return{id:$e,...Ze,size:Number(nt.value),position:Ce.value}})),he=ne=>fe.value.find(Ge=>Ge.id===ne),Ue=Al("createLayout"),Te=Ts(!1);Ic(()=>{Te.value=!0}),qf(sM,{register:(ne,Ge)=>{let{id:$e,order:Ze,position:nt,layoutSize:Ce,elementSize:Ne,active:D,disableTransitions:yt,absolute:Pt}=Ge;x.set($e,Ze),b.set($e,nt),h.set($e,Ce),S.set($e,D),yt&&B.set($e,yt);const hn=nk(yG,Ue==null?void 0:Ue.vnode).indexOf(ne);hn>-1?m.value.splice(hn,0,$e):m.value.push($e);const Qe=ct(()=>fe.value.findIndex(bt=>bt.id===$e)),On=ct(()=>u.value+W.value.length*2-Qe.value*2),as=ct(()=>{const bt=nt.value==="left"||nt.value==="right",Zt=nt.value==="right",Us=nt.value==="bottom",ho=Ne.value??Ce.value,xn=ho===0?"%":"px",Rn={[nt.value]:0,zIndex:On.value,transform:`translate${bt?"X":"Y"}(${(D.value?0:-(ho===0?100:ho))*(Zt||Us?-1:1)}${xn})`,position:Pt.value||u.value!==Lj?"absolute":"fixed",...$.value?void 0:{transition:"none"}};if(!Te.value)return Rn;const J=fe.value[Qe.value];if(!J)throw new Error(`[Vuetify] Could not find layout item "${$e}"`);const ls=F.value.get($e);return ls&&(J[ls.position]+=ls.amount),{...Rn,height:bt?`calc(100% - ${J.top}px - ${J.bottom}px)`:Ne.value?`${Ne.value}px`:void 0,left:Zt?void 0:`${J.left}px`,right:Zt?`${J.right}px`:void 0,top:nt.value!=="bottom"?`${J.top}px`:void 0,bottom:nt.value!=="top"?`${J.bottom}px`:void 0,width:bt?Ne.value?`${Ne.value}px`:void 0:`calc(100% - ${J.left}px - ${J.right}px)`}}),pt=ct(()=>({zIndex:On.value-1}));return{layoutItemStyles:as,layoutItemScrimStyles:pt,zIndex:On}},unregister:ne=>{x.delete(ne),b.delete(ne),h.delete(ne),S.delete(ne),B.delete(ne),m.value=m.value.filter(Ge=>Ge!==ne)},mainRect:K,mainStyles:ee,getLayoutItem:he,items:fe,layoutRect:R,rootZIndex:u});const te=ct(()=>["v-layout",{"v-layout--full-height":s.fullHeight}]),Ae=ct(()=>({zIndex:i?u.value:void 0,position:i?"relative":void 0,overflow:i?"hidden":void 0}));return{layoutClasses:te,layoutStyles:Ae,getLayoutItem:he,items:fe,layoutRect:R,layoutRef:N}}function CG(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:i,...u}=s,m=Uf(i,u),{aliases:b={},components:h={},directives:x={}}=m,S=yce(m.defaults),B=wue(m.display,m.ssr),N=Nue(m.theme),R=Oue(m.icons),F=Dce(m.locale),W=vue(m.date,F),$=kue(m.goTo,F);return{install:ee=>{for(const fe in x)ee.directive(fe,x[fe]);for(const fe in h)ee.component(fe,h[fe]);for(const fe in b)ee.component(fe,pk({...b[fe],name:fe,aliasName:b[fe].name}));if(N.install(ee),ee.provide(mk,S),ee.provide(YH,B),ee.provide(oM,N),ee.provide(XH,R),ee.provide(tM,F),ee.provide(bue,W.options),ee.provide(Oj,W.instance),ee.provide(_ue,$),bi&&m.ssr)if(ee.$nuxt)ee.$nuxt.hook("app:suspense:resolve",()=>{B.update()});else{const{mount:fe}=ee;ee.mount=function(){const he=fe(...arguments);return Pa(()=>B.update()),ee.mount=fe,he}}Cy.reset(),ee.mixin({computed:{$vuetify(){return gu({defaults:YS.call(this,mk),display:YS.call(this,YH),theme:YS.call(this,oM),icons:YS.call(this,XH),locale:YS.call(this,tM),date:YS.call(this,Oj)})}}})},defaults:S,display:B,theme:N,icons:R,locale:F,date:W,goTo:$}}const Lue="3.7.1";CG.version=Lue;function YS(s){var m,b;const i=this.$,u=((m=i.parent)==null?void 0:m.provides)??((b=i.vnode.appContext)==null?void 0:b.provides);if(u&&s in u)return u[s]}const Fue=CG({theme:{themes:{light:{colors:{primary:"#1867C0",secondary:"#5CBBF6"}}}}});var zue=!1;/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let _G;const EM=s=>_G=s,SG=Symbol();function JH(s){return s&&typeof s=="object"&&Object.prototype.toString.call(s)==="[object Object]"&&typeof s.toJSON!="function"}var XT;(function(s){s.direct="direct",s.patchObject="patch object",s.patchFunction="patch function"})(XT||(XT={}));function Hue(){const s=lO(!0),i=s.run(()=>Eo({}));let u=[],m=[];const b=AV({install(h){EM(b),b._a=h,h.provide(SG,b),h.config.globalProperties.$pinia=b,m.forEach(x=>u.push(x)),m=[]},use(h){return!this._a&&!zue?m.push(h):u.push(h),this},_p:u,_a:null,_e:s,_s:new Map,state:i});return b}const kG=()=>{};function Fj(s,i,u,m=kG){s.push(i);const b=()=>{const h=s.indexOf(i);h>-1&&(s.splice(h,1),m())};return!u&&LK()&&Kf(b),b}function XS(s,...i){s.slice().forEach(u=>{u(...i)})}const Vue=s=>s(),zj=Symbol(),gH=Symbol();function QH(s,i){s instanceof Map&&i instanceof Map?i.forEach((u,m)=>s.set(m,u)):s instanceof Set&&i instanceof Set&&i.forEach(s.add,s);for(const u in i){if(!i.hasOwnProperty(u))continue;const m=i[u],b=s[u];JH(b)&&JH(m)&&s.hasOwnProperty(u)&&!Fa(m)&&!Nw(m)?s[u]=QH(b,m):s[u]=m}return s}const $ue=Symbol();function Uue(s){return!JH(s)||!s.hasOwnProperty($ue)}const{assign:sy}=Object;function Wue(s){return!!(Fa(s)&&s.effect)}function Zue(s,i,u,m){const{state:b,actions:h,getters:x}=i,S=u.state.value[s];let B;function N(){S||(u.state.value[s]=b?b():{});const R=uO(u.state.value[s]);return sy(R,h,Object.keys(x||{}).reduce((F,W)=>(F[W]=AV(ct(()=>{EM(u);const $=u._s.get(s);return x[W].call($,$)})),F),{}))}return B=EG(s,N,i,u,m,!0),B}function EG(s,i,u={},m,b,h){let x;const S=sy({actions:{}},u),B={deep:!0};let N,R,F=[],W=[],$;const K=m.state.value[s];!h&&!K&&(m.state.value[s]={}),Eo({});let ee;function fe($e){let Ze;N=R=!1,typeof $e=="function"?($e(m.state.value[s]),Ze={type:XT.patchFunction,storeId:s,events:$}):(QH(m.state.value[s],$e),Ze={type:XT.patchObject,payload:$e,storeId:s,events:$});const nt=ee=Symbol();Pa().then(()=>{ee===nt&&(N=!0)}),R=!0,XS(F,Ze,m.state.value[s])}const he=h?function(){const{state:Ze}=u,nt=Ze?Ze():{};this.$patch(Ce=>{sy(Ce,nt)})}:kG;function Ue(){x.stop(),F=[],W=[],m._s.delete(s)}const Te=($e,Ze="")=>{if(zj in $e)return $e[gH]=Ze,$e;const nt=function(){EM(m);const Ce=Array.from(arguments),Ne=[],D=[];function yt(hn){Ne.push(hn)}function Pt(hn){D.push(hn)}XS(W,{args:Ce,name:nt[gH],store:Ae,after:yt,onError:Pt});let cn;try{cn=$e.apply(this&&this.$id===s?this:Ae,Ce)}catch(hn){throw XS(D,hn),hn}return cn instanceof Promise?cn.then(hn=>(XS(Ne,hn),hn)).catch(hn=>(XS(D,hn),Promise.reject(hn))):(XS(Ne,cn),cn)};return nt[zj]=!0,nt[gH]=Ze,nt},te={_p:m,$id:s,$onAction:Fj.bind(null,W),$patch:fe,$reset:he,$subscribe($e,Ze={}){const nt=Fj(F,$e,Ze.detached,()=>Ce()),Ce=x.run(()=>Gn(()=>m.state.value[s],Ne=>{(Ze.flush==="sync"?R:N)&&$e({storeId:s,type:XT.direct,events:$},Ne)},sy({},B,Ze)));return nt},$dispose:Ue},Ae=gu(te);m._s.set(s,Ae);const Ge=(m._a&&m._a.runWithContext||Vue)(()=>m._e.run(()=>(x=lO()).run(()=>i({action:Te}))));for(const $e in Ge){const Ze=Ge[$e];if(Fa(Ze)&&!Wue(Ze)||Nw(Ze))h||(K&&Uue(Ze)&&(Fa(Ze)?Ze.value=K[$e]:QH(Ze,K[$e])),m.state.value[s][$e]=Ze);else if(typeof Ze=="function"){const nt=Te(Ze,$e);Ge[$e]=nt,S.actions[$e]=Ze}}return sy(Ae,Ge),sy(Ao(Ae),Ge),Object.defineProperty(Ae,"$state",{get:()=>m.state.value[s],set:$e=>{fe(Ze=>{sy(Ze,$e)})}}),m._p.forEach($e=>{sy(Ae,x.run(()=>$e({store:Ae,app:m._a,pinia:m,options:S})))}),K&&h&&u.hydrate&&u.hydrate(Ae.$state,K),N=!0,R=!0,Ae}function fg(s,i,u){let m,b;const h=typeof i=="function";typeof s=="string"?(m=s,b=h?u:i):(b=s,m=s.id);function x(S,B){const N=hie();return S=S||(N?Ji(SG,null):null),S&&EM(S),S=_G,S._s.has(m)||(h?EG(m,i,b,S):Zue(m,b,S)),S._s.get(m)}return x.$id=m,x}const jue=Hue();function Kue(s){s.use(Fue).use(jue)}var E8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function AM(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function A8(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var AG={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(s,i){(function(u){s.exports=u()})(function(){return function u(m,b,h){function x(N,R){if(!b[N]){if(!m[N]){var F=typeof A8=="function"&&A8;if(!R&&F)return F(N,!0);if(S)return S(N,!0);var W=new Error("Cannot find module '"+N+"'");throw W.code="MODULE_NOT_FOUND",W}var $=b[N]={exports:{}};m[N][0].call($.exports,function(K){var ee=m[N][1][K];return x(ee||K)},$,$.exports,u,m,b,h)}return b[N].exports}for(var S=typeof A8=="function"&&A8,B=0;B<h.length;B++)x(h[B]);return x}({1:[function(u,m,b){(function(h){var x=h.MutationObserver||h.WebKitMutationObserver,S;if(x){var B=0,N=new x(K),R=h.document.createTextNode("");N.observe(R,{characterData:!0}),S=function(){R.data=B=++B%2}}else if(!h.setImmediate&&typeof h.MessageChannel<"u"){var F=new h.MessageChannel;F.port1.onmessage=K,S=function(){F.port2.postMessage(0)}}else"document"in h&&"onreadystatechange"in h.document.createElement("script")?S=function(){var fe=h.document.createElement("script");fe.onreadystatechange=function(){K(),fe.onreadystatechange=null,fe.parentNode.removeChild(fe),fe=null},h.document.documentElement.appendChild(fe)}:S=function(){setTimeout(K,0)};var W,$=[];function K(){W=!0;for(var fe,he,Ue=$.length;Ue;){for(he=$,$=[],fe=-1;++fe<Ue;)he[fe]();Ue=$.length}W=!1}m.exports=ee;function ee(fe){$.push(fe)===1&&!W&&S()}}).call(this,typeof E8<"u"?E8:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(u,m,b){var h=u(1);function x(){}var S={},B=["REJECTED"],N=["FULFILLED"],R=["PENDING"];m.exports=F;function F(Ae){if(typeof Ae!="function")throw new TypeError("resolver must be a function");this.state=R,this.queue=[],this.outcome=void 0,Ae!==x&&ee(this,Ae)}F.prototype.catch=function(Ae){return this.then(null,Ae)},F.prototype.then=function(Ae,ne){if(typeof Ae!="function"&&this.state===N||typeof ne!="function"&&this.state===B)return this;var Ge=new this.constructor(x);if(this.state!==R){var $e=this.state===N?Ae:ne;$(Ge,$e,this.outcome)}else this.queue.push(new W(Ge,Ae,ne));return Ge};function W(Ae,ne,Ge){this.promise=Ae,typeof ne=="function"&&(this.onFulfilled=ne,this.callFulfilled=this.otherCallFulfilled),typeof Ge=="function"&&(this.onRejected=Ge,this.callRejected=this.otherCallRejected)}W.prototype.callFulfilled=function(Ae){S.resolve(this.promise,Ae)},W.prototype.otherCallFulfilled=function(Ae){$(this.promise,this.onFulfilled,Ae)},W.prototype.callRejected=function(Ae){S.reject(this.promise,Ae)},W.prototype.otherCallRejected=function(Ae){$(this.promise,this.onRejected,Ae)};function $(Ae,ne,Ge){h(function(){var $e;try{$e=ne(Ge)}catch(Ze){return S.reject(Ae,Ze)}$e===Ae?S.reject(Ae,new TypeError("Cannot resolve promise with itself")):S.resolve(Ae,$e)})}S.resolve=function(Ae,ne){var Ge=fe(K,ne);if(Ge.status==="error")return S.reject(Ae,Ge.value);var $e=Ge.value;if($e)ee(Ae,$e);else{Ae.state=N,Ae.outcome=ne;for(var Ze=-1,nt=Ae.queue.length;++Ze<nt;)Ae.queue[Ze].callFulfilled(ne)}return Ae},S.reject=function(Ae,ne){Ae.state=B,Ae.outcome=ne;for(var Ge=-1,$e=Ae.queue.length;++Ge<$e;)Ae.queue[Ge].callRejected(ne);return Ae};function K(Ae){var ne=Ae&&Ae.then;if(Ae&&(typeof Ae=="object"||typeof Ae=="function")&&typeof ne=="function")return function(){ne.apply(Ae,arguments)}}function ee(Ae,ne){var Ge=!1;function $e(Ne){Ge||(Ge=!0,S.reject(Ae,Ne))}function Ze(Ne){Ge||(Ge=!0,S.resolve(Ae,Ne))}function nt(){ne(Ze,$e)}var Ce=fe(nt);Ce.status==="error"&&$e(Ce.value)}function fe(Ae,ne){var Ge={};try{Ge.value=Ae(ne),Ge.status="success"}catch($e){Ge.status="error",Ge.value=$e}return Ge}F.resolve=he;function he(Ae){return Ae instanceof this?Ae:S.resolve(new this(x),Ae)}F.reject=Ue;function Ue(Ae){var ne=new this(x);return S.reject(ne,Ae)}F.all=Te;function Te(Ae){var ne=this;if(Object.prototype.toString.call(Ae)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ge=Ae.length,$e=!1;if(!Ge)return this.resolve([]);for(var Ze=new Array(Ge),nt=0,Ce=-1,Ne=new this(x);++Ce<Ge;)D(Ae[Ce],Ce);return Ne;function D(yt,Pt){ne.resolve(yt).then(cn,function(hn){$e||($e=!0,S.reject(Ne,hn))});function cn(hn){Ze[Pt]=hn,++nt===Ge&&!$e&&($e=!0,S.resolve(Ne,Ze))}}}F.race=te;function te(Ae){var ne=this;if(Object.prototype.toString.call(Ae)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ge=Ae.length,$e=!1;if(!Ge)return this.resolve([]);for(var Ze=-1,nt=new this(x);++Ze<Ge;)Ce(Ae[Ze]);return nt;function Ce(Ne){ne.resolve(Ne).then(function(D){$e||($e=!0,S.resolve(nt,D))},function(D){$e||($e=!0,S.reject(nt,D))})}}},{1:1}],3:[function(u,m,b){(function(h){typeof h.Promise!="function"&&(h.Promise=u(2))}).call(this,typeof E8<"u"?E8:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(u,m,b){var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Se){return typeof Se}:function(Se){return Se&&typeof Symbol=="function"&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se};function x(Se,Ye){if(!(Se instanceof Ye))throw new TypeError("Cannot call a class as a function")}function S(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var B=S();function N(){try{if(!B||!B.open)return!1;var Se=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Ye=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Se||Ye)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function R(Se,Ye){Se=Se||[],Ye=Ye||{};try{return new Blob(Se,Ye)}catch(je){if(je.name!=="TypeError")throw je;for(var Re=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,lt=new Re,st=0;st<Se.length;st+=1)lt.append(Se[st]);return lt.getBlob(Ye.type)}}typeof Promise>"u"&&u(3);var F=Promise;function W(Se,Ye){Ye&&Se.then(function(Re){Ye(null,Re)},function(Re){Ye(Re)})}function $(Se,Ye,Re){typeof Ye=="function"&&Se.then(Ye),typeof Re=="function"&&Se.catch(Re)}function K(Se){return typeof Se!="string"&&(console.warn(Se+" used as a key, but it is not a string."),Se=String(Se)),Se}function ee(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var fe="local-forage-detect-blob-support",he=void 0,Ue={},Te=Object.prototype.toString,te="readonly",Ae="readwrite";function ne(Se){for(var Ye=Se.length,Re=new ArrayBuffer(Ye),lt=new Uint8Array(Re),st=0;st<Ye;st++)lt[st]=Se.charCodeAt(st);return Re}function Ge(Se){return new F(function(Ye){var Re=Se.transaction(fe,Ae),lt=R([""]);Re.objectStore(fe).put(lt,"key"),Re.onabort=function(st){st.preventDefault(),st.stopPropagation(),Ye(!1)},Re.oncomplete=function(){var st=navigator.userAgent.match(/Chrome\/(\d+)/),je=navigator.userAgent.match(/Edge\//);Ye(je||!st||parseInt(st[1],10)>=43)}}).catch(function(){return!1})}function $e(Se){return typeof he=="boolean"?F.resolve(he):Ge(Se).then(function(Ye){return he=Ye,he})}function Ze(Se){var Ye=Ue[Se.name],Re={};Re.promise=new F(function(lt,st){Re.resolve=lt,Re.reject=st}),Ye.deferredOperations.push(Re),Ye.dbReady?Ye.dbReady=Ye.dbReady.then(function(){return Re.promise}):Ye.dbReady=Re.promise}function nt(Se){var Ye=Ue[Se.name],Re=Ye.deferredOperations.pop();if(Re)return Re.resolve(),Re.promise}function Ce(Se,Ye){var Re=Ue[Se.name],lt=Re.deferredOperations.pop();if(lt)return lt.reject(Ye),lt.promise}function Ne(Se,Ye){return new F(function(Re,lt){if(Ue[Se.name]=Ue[Se.name]||bt(),Se.db)if(Ye)Ze(Se),Se.db.close();else return Re(Se.db);var st=[Se.name];Ye&&st.push(Se.version);var je=B.open.apply(B,st);Ye&&(je.onupgradeneeded=function(Lt){var Xt=je.result;try{Xt.createObjectStore(Se.storeName),Lt.oldVersion<=1&&Xt.createObjectStore(fe)}catch(on){if(on.name==="ConstraintError")console.warn('The database "'+Se.name+'" has been upgraded from version '+Lt.oldVersion+" to version "+Lt.newVersion+', but the storage "'+Se.storeName+'" already exists.');else throw on}}),je.onerror=function(Lt){Lt.preventDefault(),lt(je.error)},je.onsuccess=function(){var Lt=je.result;Lt.onversionchange=function(Xt){Xt.target.close()},Re(Lt),nt(Se)}})}function D(Se){return Ne(Se,!1)}function yt(Se){return Ne(Se,!0)}function Pt(Se,Ye){if(!Se.db)return!0;var Re=!Se.db.objectStoreNames.contains(Se.storeName),lt=Se.version<Se.db.version,st=Se.version>Se.db.version;if(lt&&(Se.version!==Ye&&console.warn('The database "'+Se.name+`" can't be downgraded from version `+Se.db.version+" to version "+Se.version+"."),Se.version=Se.db.version),st||Re){if(Re){var je=Se.db.version+1;je>Se.version&&(Se.version=je)}return!0}return!1}function cn(Se){return new F(function(Ye,Re){var lt=new FileReader;lt.onerror=Re,lt.onloadend=function(st){var je=btoa(st.target.result||"");Ye({__local_forage_encoded_blob:!0,data:je,type:Se.type})},lt.readAsBinaryString(Se)})}function hn(Se){var Ye=ne(atob(Se.data));return R([Ye],{type:Se.type})}function Qe(Se){return Se&&Se.__local_forage_encoded_blob}function On(Se){var Ye=this,Re=Ye._initReady().then(function(){var lt=Ue[Ye._dbInfo.name];if(lt&&lt.dbReady)return lt.dbReady});return $(Re,Se,Se),Re}function as(Se){Ze(Se);for(var Ye=Ue[Se.name],Re=Ye.forages,lt=0;lt<Re.length;lt++){var st=Re[lt];st._dbInfo.db&&(st._dbInfo.db.close(),st._dbInfo.db=null)}return Se.db=null,D(Se).then(function(je){return Se.db=je,Pt(Se)?yt(Se):je}).then(function(je){Se.db=Ye.db=je;for(var Lt=0;Lt<Re.length;Lt++)Re[Lt]._dbInfo.db=je}).catch(function(je){throw Ce(Se,je),je})}function pt(Se,Ye,Re,lt){lt===void 0&&(lt=1);try{var st=Se.db.transaction(Se.storeName,Ye);Re(null,st)}catch(je){if(lt>0&&(!Se.db||je.name==="InvalidStateError"||je.name==="NotFoundError"))return F.resolve().then(function(){if(!Se.db||je.name==="NotFoundError"&&!Se.db.objectStoreNames.contains(Se.storeName)&&Se.version<=Se.db.version)return Se.db&&(Se.version=Se.db.version+1),yt(Se)}).then(function(){return as(Se).then(function(){pt(Se,Ye,Re,lt-1)})}).catch(Re);Re(je)}}function bt(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Zt(Se){var Ye=this,Re={db:null};if(Se)for(var lt in Se)Re[lt]=Se[lt];var st=Ue[Re.name];st||(st=bt(),Ue[Re.name]=st),st.forages.push(Ye),Ye._initReady||(Ye._initReady=Ye.ready,Ye.ready=On);var je=[];function Lt(){return F.resolve()}for(var Xt=0;Xt<st.forages.length;Xt++){var on=st.forages[Xt];on!==Ye&&je.push(on._initReady().catch(Lt))}var fn=st.forages.slice(0);return F.all(je).then(function(){return Re.db=st.db,D(Re)}).then(function(tn){return Re.db=tn,Pt(Re,Ye._defaultConfig.version)?yt(Re):tn}).then(function(tn){Re.db=st.db=tn,Ye._dbInfo=Re;for(var so=0;so<fn.length;so++){var Qt=fn[so];Qt!==Ye&&(Qt._dbInfo.db=Re.db,Qt._dbInfo.version=Re.version)}})}function Us(Se,Ye){var Re=this;Se=K(Se);var lt=new F(function(st,je){Re.ready().then(function(){pt(Re._dbInfo,te,function(Lt,Xt){if(Lt)return je(Lt);try{var on=Xt.objectStore(Re._dbInfo.storeName),fn=on.get(Se);fn.onsuccess=function(){var tn=fn.result;tn===void 0&&(tn=null),Qe(tn)&&(tn=hn(tn)),st(tn)},fn.onerror=function(){je(fn.error)}}catch(tn){je(tn)}})}).catch(je)});return W(lt,Ye),lt}function ho(Se,Ye){var Re=this,lt=new F(function(st,je){Re.ready().then(function(){pt(Re._dbInfo,te,function(Lt,Xt){if(Lt)return je(Lt);try{var on=Xt.objectStore(Re._dbInfo.storeName),fn=on.openCursor(),tn=1;fn.onsuccess=function(){var so=fn.result;if(so){var Qt=so.value;Qe(Qt)&&(Qt=hn(Qt));var cs=Se(Qt,so.key,tn++);cs!==void 0?st(cs):so.continue()}else st()},fn.onerror=function(){je(fn.error)}}catch(so){je(so)}})}).catch(je)});return W(lt,Ye),lt}function xn(Se,Ye,Re){var lt=this;Se=K(Se);var st=new F(function(je,Lt){var Xt;lt.ready().then(function(){return Xt=lt._dbInfo,Te.call(Ye)==="[object Blob]"?$e(Xt.db).then(function(on){return on?Ye:cn(Ye)}):Ye}).then(function(on){pt(lt._dbInfo,Ae,function(fn,tn){if(fn)return Lt(fn);try{var so=tn.objectStore(lt._dbInfo.storeName);on===null&&(on=void 0);var Qt=so.put(on,Se);tn.oncomplete=function(){on===void 0&&(on=null),je(on)},tn.onabort=tn.onerror=function(){var cs=Qt.error?Qt.error:Qt.transaction.error;Lt(cs)}}catch(cs){Lt(cs)}})}).catch(Lt)});return W(st,Re),st}function Rn(Se,Ye){var Re=this;Se=K(Se);var lt=new F(function(st,je){Re.ready().then(function(){pt(Re._dbInfo,Ae,function(Lt,Xt){if(Lt)return je(Lt);try{var on=Xt.objectStore(Re._dbInfo.storeName),fn=on.delete(Se);Xt.oncomplete=function(){st()},Xt.onerror=function(){je(fn.error)},Xt.onabort=function(){var tn=fn.error?fn.error:fn.transaction.error;je(tn)}}catch(tn){je(tn)}})}).catch(je)});return W(lt,Ye),lt}function J(Se){var Ye=this,Re=new F(function(lt,st){Ye.ready().then(function(){pt(Ye._dbInfo,Ae,function(je,Lt){if(je)return st(je);try{var Xt=Lt.objectStore(Ye._dbInfo.storeName),on=Xt.clear();Lt.oncomplete=function(){lt()},Lt.onabort=Lt.onerror=function(){var fn=on.error?on.error:on.transaction.error;st(fn)}}catch(fn){st(fn)}})}).catch(st)});return W(Re,Se),Re}function ls(Se){var Ye=this,Re=new F(function(lt,st){Ye.ready().then(function(){pt(Ye._dbInfo,te,function(je,Lt){if(je)return st(je);try{var Xt=Lt.objectStore(Ye._dbInfo.storeName),on=Xt.count();on.onsuccess=function(){lt(on.result)},on.onerror=function(){st(on.error)}}catch(fn){st(fn)}})}).catch(st)});return W(Re,Se),Re}function ys(Se,Ye){var Re=this,lt=new F(function(st,je){if(Se<0){st(null);return}Re.ready().then(function(){pt(Re._dbInfo,te,function(Lt,Xt){if(Lt)return je(Lt);try{var on=Xt.objectStore(Re._dbInfo.storeName),fn=!1,tn=on.openKeyCursor();tn.onsuccess=function(){var so=tn.result;if(!so){st(null);return}Se===0||fn?st(so.key):(fn=!0,so.advance(Se))},tn.onerror=function(){je(tn.error)}}catch(so){je(so)}})}).catch(je)});return W(lt,Ye),lt}function qo(Se){var Ye=this,Re=new F(function(lt,st){Ye.ready().then(function(){pt(Ye._dbInfo,te,function(je,Lt){if(je)return st(je);try{var Xt=Lt.objectStore(Ye._dbInfo.storeName),on=Xt.openKeyCursor(),fn=[];on.onsuccess=function(){var tn=on.result;if(!tn){lt(fn);return}fn.push(tn.key),tn.continue()},on.onerror=function(){st(on.error)}}catch(tn){st(tn)}})}).catch(st)});return W(Re,Se),Re}function si(Se,Ye){Ye=ee.apply(this,arguments);var Re=this.config();Se=typeof Se!="function"&&Se||{},Se.name||(Se.name=Se.name||Re.name,Se.storeName=Se.storeName||Re.storeName);var lt=this,st;if(!Se.name)st=F.reject("Invalid arguments");else{var je=Se.name===Re.name&&lt._dbInfo.db,Lt=je?F.resolve(lt._dbInfo.db):D(Se).then(function(Xt){var on=Ue[Se.name],fn=on.forages;on.db=Xt;for(var tn=0;tn<fn.length;tn++)fn[tn]._dbInfo.db=Xt;return Xt});Se.storeName?st=Lt.then(function(Xt){if(Xt.objectStoreNames.contains(Se.storeName)){var on=Xt.version+1;Ze(Se);var fn=Ue[Se.name],tn=fn.forages;Xt.close();for(var so=0;so<tn.length;so++){var Qt=tn[so];Qt._dbInfo.db=null,Qt._dbInfo.version=on}var cs=new F(function(wo,Io){var mr=B.open(Se.name,on);mr.onerror=function(fo){var yl=mr.result;yl.close(),Io(fo)},mr.onupgradeneeded=function(){var fo=mr.result;fo.deleteObjectStore(Se.storeName)},mr.onsuccess=function(){var fo=mr.result;fo.close(),wo(fo)}});return cs.then(function(wo){fn.db=wo;for(var Io=0;Io<tn.length;Io++){var mr=tn[Io];mr._dbInfo.db=wo,nt(mr._dbInfo)}}).catch(function(wo){throw(Ce(Se,wo)||F.resolve()).catch(function(){}),wo})}}):st=Lt.then(function(Xt){Ze(Se);var on=Ue[Se.name],fn=on.forages;Xt.close();for(var tn=0;tn<fn.length;tn++){var so=fn[tn];so._dbInfo.db=null}var Qt=new F(function(cs,wo){var Io=B.deleteDatabase(Se.name);Io.onerror=function(){var mr=Io.result;mr&&mr.close(),wo(Io.error)},Io.onblocked=function(){console.warn('dropInstance blocked for database "'+Se.name+'" until all open connections are closed')},Io.onsuccess=function(){var mr=Io.result;mr&&mr.close(),cs(mr)}});return Qt.then(function(cs){on.db=cs;for(var wo=0;wo<fn.length;wo++){var Io=fn[wo];nt(Io._dbInfo)}}).catch(function(cs){throw(Ce(Se,cs)||F.resolve()).catch(function(){}),cs})})}return W(st,Ye),st}var Ke={_driver:"asyncStorage",_initStorage:Zt,_support:N(),iterate:ho,getItem:Us,setItem:xn,removeItem:Rn,clear:J,length:ls,key:ys,keys:qo,dropInstance:si};function le(){return typeof openDatabase=="function"}var xe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Me="~~local_forage_type~",pe=/^~~local_forage_type~([^~]+)~/,St="__lfsc__:",$t=St.length,Ct="arbf",zt="blob",It="si08",sn="ui08",wn="uic8",Cn="si16",En="si32",ao="ur16",vo="ui32",To="fl32",Do="fl64",Ar=$t+Ct.length,ms=Object.prototype.toString;function yi(Se){var Ye=Se.length*.75,Re=Se.length,lt,st=0,je,Lt,Xt,on;Se[Se.length-1]==="="&&(Ye--,Se[Se.length-2]==="="&&Ye--);var fn=new ArrayBuffer(Ye),tn=new Uint8Array(fn);for(lt=0;lt<Re;lt+=4)je=xe.indexOf(Se[lt]),Lt=xe.indexOf(Se[lt+1]),Xt=xe.indexOf(Se[lt+2]),on=xe.indexOf(Se[lt+3]),tn[st++]=je<<2|Lt>>4,tn[st++]=(Lt&15)<<4|Xt>>2,tn[st++]=(Xt&3)<<6|on&63;return fn}function un(Se){var Ye=new Uint8Array(Se),Re="",lt;for(lt=0;lt<Ye.length;lt+=3)Re+=xe[Ye[lt]>>2],Re+=xe[(Ye[lt]&3)<<4|Ye[lt+1]>>4],Re+=xe[(Ye[lt+1]&15)<<2|Ye[lt+2]>>6],Re+=xe[Ye[lt+2]&63];return Ye.length%3===2?Re=Re.substring(0,Re.length-1)+"=":Ye.length%3===1&&(Re=Re.substring(0,Re.length-2)+"=="),Re}function po(Se,Ye){var Re="";if(Se&&(Re=ms.call(Se)),Se&&(Re==="[object ArrayBuffer]"||Se.buffer&&ms.call(Se.buffer)==="[object ArrayBuffer]")){var lt,st=St;Se instanceof ArrayBuffer?(lt=Se,st+=Ct):(lt=Se.buffer,Re==="[object Int8Array]"?st+=It:Re==="[object Uint8Array]"?st+=sn:Re==="[object Uint8ClampedArray]"?st+=wn:Re==="[object Int16Array]"?st+=Cn:Re==="[object Uint16Array]"?st+=ao:Re==="[object Int32Array]"?st+=En:Re==="[object Uint32Array]"?st+=vo:Re==="[object Float32Array]"?st+=To:Re==="[object Float64Array]"?st+=Do:Ye(new Error("Failed to get type for BinaryArray"))),Ye(st+un(lt))}else if(Re==="[object Blob]"){var je=new FileReader;je.onload=function(){var Lt=Me+Se.type+"~"+un(this.result);Ye(St+zt+Lt)},je.readAsArrayBuffer(Se)}else try{Ye(JSON.stringify(Se))}catch(Lt){console.error("Couldn't convert value into a JSON string: ",Se),Ye(null,Lt)}}function io(Se){if(Se.substring(0,$t)!==St)return JSON.parse(Se);var Ye=Se.substring(Ar),Re=Se.substring($t,Ar),lt;if(Re===zt&&pe.test(Ye)){var st=Ye.match(pe);lt=st[1],Ye=Ye.substring(st[0].length)}var je=yi(Ye);switch(Re){case Ct:return je;case zt:return R([je],{type:lt});case It:return new Int8Array(je);case sn:return new Uint8Array(je);case wn:return new Uint8ClampedArray(je);case Cn:return new Int16Array(je);case ao:return new Uint16Array(je);case En:return new Int32Array(je);case vo:return new Uint32Array(je);case To:return new Float32Array(je);case Do:return new Float64Array(je);default:throw new Error("Unkown type: "+Re)}}var Ws={serialize:po,deserialize:io,stringToBuffer:yi,bufferToString:un};function za(Se,Ye,Re,lt){Se.executeSql("CREATE TABLE IF NOT EXISTS "+Ye.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Re,lt)}function Vt(Se){var Ye=this,Re={db:null};if(Se)for(var lt in Se)Re[lt]=typeof Se[lt]!="string"?Se[lt].toString():Se[lt];var st=new F(function(je,Lt){try{Re.db=openDatabase(Re.name,String(Re.version),Re.description,Re.size)}catch(Xt){return Lt(Xt)}Re.db.transaction(function(Xt){za(Xt,Re,function(){Ye._dbInfo=Re,je()},function(on,fn){Lt(fn)})},Lt)});return Re.serializer=Ws,st}function Qr(Se,Ye,Re,lt,st,je){Se.executeSql(Re,lt,st,function(Lt,Xt){Xt.code===Xt.SYNTAX_ERR?Lt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Ye.storeName],function(on,fn){fn.rows.length?je(on,Xt):za(on,Ye,function(){on.executeSql(Re,lt,st,je)},je)},je):je(Lt,Xt)},je)}function Wo(Se,Ye){var Re=this;Se=K(Se);var lt=new F(function(st,je){Re.ready().then(function(){var Lt=Re._dbInfo;Lt.db.transaction(function(Xt){Qr(Xt,Lt,"SELECT * FROM "+Lt.storeName+" WHERE key = ? LIMIT 1",[Se],function(on,fn){var tn=fn.rows.length?fn.rows.item(0).value:null;tn&&(tn=Lt.serializer.deserialize(tn)),st(tn)},function(on,fn){je(fn)})})}).catch(je)});return W(lt,Ye),lt}function Tl(Se,Ye){var Re=this,lt=new F(function(st,je){Re.ready().then(function(){var Lt=Re._dbInfo;Lt.db.transaction(function(Xt){Qr(Xt,Lt,"SELECT * FROM "+Lt.storeName,[],function(on,fn){for(var tn=fn.rows,so=tn.length,Qt=0;Qt<so;Qt++){var cs=tn.item(Qt),wo=cs.value;if(wo&&(wo=Lt.serializer.deserialize(wo)),wo=Se(wo,cs.key,Qt+1),wo!==void 0){st(wo);return}}st()},function(on,fn){je(fn)})})}).catch(je)});return W(lt,Ye),lt}function Os(Se,Ye,Re,lt){var st=this;Se=K(Se);var je=new F(function(Lt,Xt){st.ready().then(function(){Ye===void 0&&(Ye=null);var on=Ye,fn=st._dbInfo;fn.serializer.serialize(Ye,function(tn,so){so?Xt(so):fn.db.transaction(function(Qt){Qr(Qt,fn,"INSERT OR REPLACE INTO "+fn.storeName+" (key, value) VALUES (?, ?)",[Se,tn],function(){Lt(on)},function(cs,wo){Xt(wo)})},function(Qt){if(Qt.code===Qt.QUOTA_ERR){if(lt>0){Lt(Os.apply(st,[Se,on,Re,lt-1]));return}Xt(Qt)}})})}).catch(Xt)});return W(je,Re),je}function Hr(Se,Ye,Re){return Os.apply(this,[Se,Ye,Re,1])}function Yf(Se,Ye){var Re=this;Se=K(Se);var lt=new F(function(st,je){Re.ready().then(function(){var Lt=Re._dbInfo;Lt.db.transaction(function(Xt){Qr(Xt,Lt,"DELETE FROM "+Lt.storeName+" WHERE key = ?",[Se],function(){st()},function(on,fn){je(fn)})})}).catch(je)});return W(lt,Ye),lt}function pu(Se){var Ye=this,Re=new F(function(lt,st){Ye.ready().then(function(){var je=Ye._dbInfo;je.db.transaction(function(Lt){Qr(Lt,je,"DELETE FROM "+je.storeName,[],function(){lt()},function(Xt,on){st(on)})})}).catch(st)});return W(Re,Se),Re}function ic(Se){var Ye=this,Re=new F(function(lt,st){Ye.ready().then(function(){var je=Ye._dbInfo;je.db.transaction(function(Lt){Qr(Lt,je,"SELECT COUNT(key) as c FROM "+je.storeName,[],function(Xt,on){var fn=on.rows.item(0).c;lt(fn)},function(Xt,on){st(on)})})}).catch(st)});return W(Re,Se),Re}function el(Se,Ye){var Re=this,lt=new F(function(st,je){Re.ready().then(function(){var Lt=Re._dbInfo;Lt.db.transaction(function(Xt){Qr(Xt,Lt,"SELECT key FROM "+Lt.storeName+" WHERE id = ? LIMIT 1",[Se+1],function(on,fn){var tn=fn.rows.length?fn.rows.item(0).key:null;st(tn)},function(on,fn){je(fn)})})}).catch(je)});return W(lt,Ye),lt}function bu(Se){var Ye=this,Re=new F(function(lt,st){Ye.ready().then(function(){var je=Ye._dbInfo;je.db.transaction(function(Lt){Qr(Lt,je,"SELECT key FROM "+je.storeName,[],function(Xt,on){for(var fn=[],tn=0;tn<on.rows.length;tn++)fn.push(on.rows.item(tn).key);lt(fn)},function(Xt,on){st(on)})})}).catch(st)});return W(Re,Se),Re}function gs(Se){return new F(function(Ye,Re){Se.transaction(function(lt){lt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(st,je){for(var Lt=[],Xt=0;Xt<je.rows.length;Xt++)Lt.push(je.rows.item(Xt).name);Ye({db:Se,storeNames:Lt})},function(st,je){Re(je)})},function(lt){Re(lt)})})}function Yn(Se,Ye){Ye=ee.apply(this,arguments);var Re=this.config();Se=typeof Se!="function"&&Se||{},Se.name||(Se.name=Se.name||Re.name,Se.storeName=Se.storeName||Re.storeName);var lt=this,st;return Se.name?st=new F(function(je){var Lt;Se.name===Re.name?Lt=lt._dbInfo.db:Lt=openDatabase(Se.name,"","",0),Se.storeName?je({db:Lt,storeNames:[Se.storeName]}):je(gs(Lt))}).then(function(je){return new F(function(Lt,Xt){je.db.transaction(function(on){function fn(cs){return new F(function(wo,Io){on.executeSql("DROP TABLE IF EXISTS "+cs,[],function(){wo()},function(mr,fo){Io(fo)})})}for(var tn=[],so=0,Qt=je.storeNames.length;so<Qt;so++)tn.push(fn(je.storeNames[so]));F.all(tn).then(function(){Lt()}).catch(function(cs){Xt(cs)})},function(on){Xt(on)})})}):st=F.reject("Invalid arguments"),W(st,Ye),st}var Ol={_driver:"webSQLStorage",_initStorage:Vt,_support:le(),iterate:Tl,getItem:Wo,setItem:Hr,removeItem:Yf,clear:pu,length:ic,key:el,keys:bu,dropInstance:Yn};function fa(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function vu(Se,Ye){var Re=Se.name+"/";return Se.storeName!==Ye.storeName&&(Re+=Se.storeName+"/"),Re}function en(){var Se="_localforage_support_test";try{return localStorage.setItem(Se,!0),localStorage.removeItem(Se),!1}catch{return!0}}function yu(){return!en()||localStorage.length>0}function Xf(Se){var Ye=this,Re={};if(Se)for(var lt in Se)Re[lt]=Se[lt];return Re.keyPrefix=vu(Se,Ye._defaultConfig),yu()?(Ye._dbInfo=Re,Re.serializer=Ws,F.resolve()):F.reject()}function nr(Se){var Ye=this,Re=Ye.ready().then(function(){for(var lt=Ye._dbInfo.keyPrefix,st=localStorage.length-1;st>=0;st--){var je=localStorage.key(st);je.indexOf(lt)===0&&localStorage.removeItem(je)}});return W(Re,Se),Re}function Jf(Se,Ye){var Re=this;Se=K(Se);var lt=Re.ready().then(function(){var st=Re._dbInfo,je=localStorage.getItem(st.keyPrefix+Se);return je&&(je=st.serializer.deserialize(je)),je});return W(lt,Ye),lt}function Mi(Se,Ye){var Re=this,lt=Re.ready().then(function(){for(var st=Re._dbInfo,je=st.keyPrefix,Lt=je.length,Xt=localStorage.length,on=1,fn=0;fn<Xt;fn++){var tn=localStorage.key(fn);if(tn.indexOf(je)===0){var so=localStorage.getItem(tn);if(so&&(so=st.serializer.deserialize(so)),so=Se(so,tn.substring(Lt),on++),so!==void 0)return so}}});return W(lt,Ye),lt}function bl(Se,Ye){var Re=this,lt=Re.ready().then(function(){var st=Re._dbInfo,je;try{je=localStorage.key(Se)}catch{je=null}return je&&(je=je.substring(st.keyPrefix.length)),je});return W(lt,Ye),lt}function tl(Se){var Ye=this,Re=Ye.ready().then(function(){for(var lt=Ye._dbInfo,st=localStorage.length,je=[],Lt=0;Lt<st;Lt++){var Xt=localStorage.key(Lt);Xt.indexOf(lt.keyPrefix)===0&&je.push(Xt.substring(lt.keyPrefix.length))}return je});return W(Re,Se),Re}function qs(Se){var Ye=this,Re=Ye.keys().then(function(lt){return lt.length});return W(Re,Se),Re}function ri(Se,Ye){var Re=this;Se=K(Se);var lt=Re.ready().then(function(){var st=Re._dbInfo;localStorage.removeItem(st.keyPrefix+Se)});return W(lt,Ye),lt}function vl(Se,Ye,Re){var lt=this;Se=K(Se);var st=lt.ready().then(function(){Ye===void 0&&(Ye=null);var je=Ye;return new F(function(Lt,Xt){var on=lt._dbInfo;on.serializer.serialize(Ye,function(fn,tn){if(tn)Xt(tn);else try{localStorage.setItem(on.keyPrefix+Se,fn),Lt(je)}catch(so){(so.name==="QuotaExceededError"||so.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Xt(so),Xt(so)}})})});return W(st,Re),st}function Qf(Se,Ye){if(Ye=ee.apply(this,arguments),Se=typeof Se!="function"&&Se||{},!Se.name){var Re=this.config();Se.name=Se.name||Re.name,Se.storeName=Se.storeName||Re.storeName}var lt=this,st;return Se.name?st=new F(function(je){Se.storeName?je(vu(Se,lt._defaultConfig)):je(Se.name+"/")}).then(function(je){for(var Lt=localStorage.length-1;Lt>=0;Lt--){var Xt=localStorage.key(Lt);Xt.indexOf(je)===0&&localStorage.removeItem(Xt)}}):st=F.reject("Invalid arguments"),W(st,Ye),st}var Mc={_driver:"localStorageWrapper",_initStorage:Xf,_support:fa(),iterate:Mi,getItem:Jf,setItem:vl,removeItem:ri,clear:nr,length:qs,key:bl,keys:tl,dropInstance:Qf},Pc=function(Ye,Re){return Ye===Re||typeof Ye=="number"&&typeof Re=="number"&&isNaN(Ye)&&isNaN(Re)},$d=function(Ye,Re){for(var lt=Ye.length,st=0;st<lt;){if(Pc(Ye[st],Re))return!0;st++}return!1},nd=Array.isArray||function(Se){return Object.prototype.toString.call(Se)==="[object Array]"},Zo={},wr={},jr={INDEXEDDB:Ke,WEBSQL:Ol,LOCALSTORAGE:Mc},em=[jr.INDEXEDDB._driver,jr.WEBSQL._driver,jr.LOCALSTORAGE._driver],Pi=["dropInstance"],Lc=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Pi),ai={description:"",driver:em.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ii(Se,Ye){Se[Ye]=function(){var Re=arguments;return Se.ready().then(function(){return Se[Ye].apply(Se,Re)})}}function Fc(){for(var Se=1;Se<arguments.length;Se++){var Ye=arguments[Se];if(Ye)for(var Re in Ye)Ye.hasOwnProperty(Re)&&(nd(Ye[Re])?arguments[0][Re]=Ye[Re].slice():arguments[0][Re]=Ye[Re])}return arguments[0]}var xs=function(){function Se(Ye){x(this,Se);for(var Re in jr)if(jr.hasOwnProperty(Re)){var lt=jr[Re],st=lt._driver;this[Re]=st,Zo[st]||this.defineDriver(lt)}this._defaultConfig=Fc({},ai),this._config=Fc({},this._defaultConfig,Ye),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Se.prototype.config=function(Re){if((typeof Re>"u"?"undefined":h(Re))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var lt in Re){if(lt==="storeName"&&(Re[lt]=Re[lt].replace(/\W/g,"_")),lt==="version"&&typeof Re[lt]!="number")return new Error("Database version must be a number.");this._config[lt]=Re[lt]}return"driver"in Re&&Re.driver?this.setDriver(this._config.driver):!0}else return typeof Re=="string"?this._config[Re]:this._config},Se.prototype.defineDriver=function(Re,lt,st){var je=new F(function(Lt,Xt){try{var on=Re._driver,fn=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Re._driver){Xt(fn);return}for(var tn=Lc.concat("_initStorage"),so=0,Qt=tn.length;so<Qt;so++){var cs=tn[so],wo=!$d(Pi,cs);if((wo||Re[cs])&&typeof Re[cs]!="function"){Xt(fn);return}}var Io=function(){for(var yl=function(ar){return function(){var od=new Error("Method "+ar+" is not implemented by the current driver"),Tr=F.reject(od);return W(Tr,arguments[arguments.length-1]),Tr}},Ha=0,Qn=Pi.length;Ha<Qn;Ha++){var Li=Pi[Ha];Re[Li]||(Re[Li]=yl(Li))}};Io();var mr=function(yl){Zo[on]&&console.info("Redefining LocalForage driver: "+on),Zo[on]=Re,wr[on]=yl,Lt()};"_support"in Re?Re._support&&typeof Re._support=="function"?Re._support().then(mr,Xt):mr(!!Re._support):mr(!0)}catch(fo){Xt(fo)}});return $(je,lt,st),je},Se.prototype.driver=function(){return this._driver||null},Se.prototype.getDriver=function(Re,lt,st){var je=Zo[Re]?F.resolve(Zo[Re]):F.reject(new Error("Driver not found."));return $(je,lt,st),je},Se.prototype.getSerializer=function(Re){var lt=F.resolve(Ws);return $(lt,Re),lt},Se.prototype.ready=function(Re){var lt=this,st=lt._driverSet.then(function(){return lt._ready===null&&(lt._ready=lt._initDriver()),lt._ready});return $(st,Re,Re),st},Se.prototype.setDriver=function(Re,lt,st){var je=this;nd(Re)||(Re=[Re]);var Lt=this._getSupportedDrivers(Re);function Xt(){je._config.driver=je.driver()}function on(so){return je._extend(so),Xt(),je._ready=je._initStorage(je._config),je._ready}function fn(so){return function(){var Qt=0;function cs(){for(;Qt<so.length;){var wo=so[Qt];return Qt++,je._dbInfo=null,je._ready=null,je.getDriver(wo).then(on).catch(cs)}Xt();var Io=new Error("No available storage method found.");return je._driverSet=F.reject(Io),je._driverSet}return cs()}}var tn=this._driverSet!==null?this._driverSet.catch(function(){return F.resolve()}):F.resolve();return this._driverSet=tn.then(function(){var so=Lt[0];return je._dbInfo=null,je._ready=null,je.getDriver(so).then(function(Qt){je._driver=Qt._driver,Xt(),je._wrapLibraryMethodsWithReady(),je._initDriver=fn(Lt)})}).catch(function(){Xt();var so=new Error("No available storage method found.");return je._driverSet=F.reject(so),je._driverSet}),$(this._driverSet,lt,st),this._driverSet},Se.prototype.supports=function(Re){return!!wr[Re]},Se.prototype._extend=function(Re){Fc(this,Re)},Se.prototype._getSupportedDrivers=function(Re){for(var lt=[],st=0,je=Re.length;st<je;st++){var Lt=Re[st];this.supports(Lt)&&lt.push(Lt)}return lt},Se.prototype._wrapLibraryMethodsWithReady=function(){for(var Re=0,lt=Lc.length;Re<lt;Re++)ii(this,Lc[Re])},Se.prototype.createInstance=function(Re){return new Se(Re)},Se}(),Gs=new xs;m.exports=Gs},{3:3}]},{},[4])(4)})})(AG);var que=AG.exports;const qp=AM(que);function TG(s,i){return function(){return s.apply(i,arguments)}}const{toString:Gue}=Object.prototype,{getPrototypeOf:YV}=Object,TM=(s=>i=>{const u=Gue.call(i);return s[u]||(s[u]=u.slice(8,-1).toLowerCase())})(Object.create(null)),Ch=s=>(s=s.toLowerCase(),i=>TM(i)===s),OM=s=>i=>typeof i===s,{isArray:bk}=Array,sO=OM("undefined");function Yue(s){return s!==null&&!sO(s)&&s.constructor!==null&&!sO(s.constructor)&&Zf(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const OG=Ch("ArrayBuffer");function Xue(s){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(s):i=s&&s.buffer&&OG(s.buffer),i}const Jue=OM("string"),Zf=OM("function"),DG=OM("number"),DM=s=>s!==null&&typeof s=="object",Que=s=>s===!0||s===!1,$8=s=>{if(TM(s)!=="object")return!1;const i=YV(s);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},ede=Ch("Date"),tde=Ch("File"),nde=Ch("Blob"),ode=Ch("FileList"),sde=s=>DM(s)&&Zf(s.pipe),rde=s=>{let i;return s&&(typeof FormData=="function"&&s instanceof FormData||Zf(s.append)&&((i=TM(s))==="formdata"||i==="object"&&Zf(s.toString)&&s.toString()==="[object FormData]"))},ade=Ch("URLSearchParams"),[ide,lde,cde,ude]=["ReadableStream","Request","Response","Headers"].map(Ch),dde=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gO(s,i,{allOwnKeys:u=!1}={}){if(s===null||typeof s>"u")return;let m,b;if(typeof s!="object"&&(s=[s]),bk(s))for(m=0,b=s.length;m<b;m++)i.call(null,s[m],m,s);else{const h=u?Object.getOwnPropertyNames(s):Object.keys(s),x=h.length;let S;for(m=0;m<x;m++)S=h[m],i.call(null,s[S],S,s)}}function RG(s,i){i=i.toLowerCase();const u=Object.keys(s);let m=u.length,b;for(;m-- >0;)if(b=u[m],i===b.toLowerCase())return b;return null}const Ow=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,NG=s=>!sO(s)&&s!==Ow;function eV(){const{caseless:s}=NG(this)&&this||{},i={},u=(m,b)=>{const h=s&&RG(i,b)||b;$8(i[h])&&$8(m)?i[h]=eV(i[h],m):$8(m)?i[h]=eV({},m):bk(m)?i[h]=m.slice():i[h]=m};for(let m=0,b=arguments.length;m<b;m++)arguments[m]&&gO(arguments[m],u);return i}const fde=(s,i,u,{allOwnKeys:m}={})=>(gO(i,(b,h)=>{u&&Zf(b)?s[h]=TG(b,u):s[h]=b},{allOwnKeys:m}),s),mde=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),gde=(s,i,u,m)=>{s.prototype=Object.create(i.prototype,m),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:i.prototype}),u&&Object.assign(s.prototype,u)},hde=(s,i,u,m)=>{let b,h,x;const S={};if(i=i||{},s==null)return i;do{for(b=Object.getOwnPropertyNames(s),h=b.length;h-- >0;)x=b[h],(!m||m(x,s,i))&&!S[x]&&(i[x]=s[x],S[x]=!0);s=u!==!1&&YV(s)}while(s&&(!u||u(s,i))&&s!==Object.prototype);return i},pde=(s,i,u)=>{s=String(s),(u===void 0||u>s.length)&&(u=s.length),u-=i.length;const m=s.indexOf(i,u);return m!==-1&&m===u},bde=s=>{if(!s)return null;if(bk(s))return s;let i=s.length;if(!DG(i))return null;const u=new Array(i);for(;i-- >0;)u[i]=s[i];return u},vde=(s=>i=>s&&i instanceof s)(typeof Uint8Array<"u"&&YV(Uint8Array)),yde=(s,i)=>{const m=(s&&s[Symbol.iterator]).call(s);let b;for(;(b=m.next())&&!b.done;){const h=b.value;i.call(s,h[0],h[1])}},xde=(s,i)=>{let u;const m=[];for(;(u=s.exec(i))!==null;)m.push(u);return m},wde=Ch("HTMLFormElement"),Cde=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(u,m,b){return m.toUpperCase()+b}),Hj=(({hasOwnProperty:s})=>(i,u)=>s.call(i,u))(Object.prototype),_de=Ch("RegExp"),IG=(s,i)=>{const u=Object.getOwnPropertyDescriptors(s),m={};gO(u,(b,h)=>{let x;(x=i(b,h,s))!==!1&&(m[h]=x||b)}),Object.defineProperties(s,m)},Sde=s=>{IG(s,(i,u)=>{if(Zf(s)&&["arguments","caller","callee"].indexOf(u)!==-1)return!1;const m=s[u];if(Zf(m)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+u+"'")})}})},kde=(s,i)=>{const u={},m=b=>{b.forEach(h=>{u[h]=!0})};return bk(s)?m(s):m(String(s).split(i)),u},Ede=()=>{},Ade=(s,i)=>s!=null&&Number.isFinite(s=+s)?s:i,hH="abcdefghijklmnopqrstuvwxyz",Vj="0123456789",BG={DIGIT:Vj,ALPHA:hH,ALPHA_DIGIT:hH+hH.toUpperCase()+Vj},Tde=(s=16,i=BG.ALPHA_DIGIT)=>{let u="";const{length:m}=i;for(;s--;)u+=i[Math.random()*m|0];return u};function Ode(s){return!!(s&&Zf(s.append)&&s[Symbol.toStringTag]==="FormData"&&s[Symbol.iterator])}const Dde=s=>{const i=new Array(10),u=(m,b)=>{if(DM(m)){if(i.indexOf(m)>=0)return;if(!("toJSON"in m)){i[b]=m;const h=bk(m)?[]:{};return gO(m,(x,S)=>{const B=u(x,b+1);!sO(B)&&(h[S]=B)}),i[b]=void 0,h}}return m};return u(s,0)},Rde=Ch("AsyncFunction"),Nde=s=>s&&(DM(s)||Zf(s))&&Zf(s.then)&&Zf(s.catch),MG=((s,i)=>s?setImmediate:i?((u,m)=>(Ow.addEventListener("message",({source:b,data:h})=>{b===Ow&&h===u&&m.length&&m.shift()()},!1),b=>{m.push(b),Ow.postMessage(u,"*")}))(`axios@${Math.random()}`,[]):u=>setTimeout(u))(typeof setImmediate=="function",Zf(Ow.postMessage)),Ide=typeof queueMicrotask<"u"?queueMicrotask.bind(Ow):typeof process<"u"&&process.nextTick||MG,Ht={isArray:bk,isArrayBuffer:OG,isBuffer:Yue,isFormData:rde,isArrayBufferView:Xue,isString:Jue,isNumber:DG,isBoolean:Que,isObject:DM,isPlainObject:$8,isReadableStream:ide,isRequest:lde,isResponse:cde,isHeaders:ude,isUndefined:sO,isDate:ede,isFile:tde,isBlob:nde,isRegExp:_de,isFunction:Zf,isStream:sde,isURLSearchParams:ade,isTypedArray:vde,isFileList:ode,forEach:gO,merge:eV,extend:fde,trim:dde,stripBOM:mde,inherits:gde,toFlatObject:hde,kindOf:TM,kindOfTest:Ch,endsWith:pde,toArray:bde,forEachEntry:yde,matchAll:xde,isHTMLForm:wde,hasOwnProperty:Hj,hasOwnProp:Hj,reduceDescriptors:IG,freezeMethods:Sde,toObjectSet:kde,toCamelCase:Cde,noop:Ede,toFiniteNumber:Ade,findKey:RG,global:Ow,isContextDefined:NG,ALPHABET:BG,generateString:Tde,isSpecCompliantForm:Ode,toJSONObject:Dde,isAsyncFn:Rde,isThenable:Nde,setImmediate:MG,asap:Ide};function Rs(s,i,u,m,b){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",i&&(this.code=i),u&&(this.config=u),m&&(this.request=m),b&&(this.response=b,this.status=b.status?b.status:null)}Ht.inherits(Rs,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ht.toJSONObject(this.config),code:this.code,status:this.status}}});const PG=Rs.prototype,LG={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{LG[s]={value:s}});Object.defineProperties(Rs,LG);Object.defineProperty(PG,"isAxiosError",{value:!0});Rs.from=(s,i,u,m,b,h)=>{const x=Object.create(PG);return Ht.toFlatObject(s,x,function(B){return B!==Error.prototype},S=>S!=="isAxiosError"),Rs.call(x,s.message,i,u,m,b),x.cause=s,x.name=s.name,h&&Object.assign(x,h),x};const Bde=null;function tV(s){return Ht.isPlainObject(s)||Ht.isArray(s)}function FG(s){return Ht.endsWith(s,"[]")?s.slice(0,-2):s}function $j(s,i,u){return s?s.concat(i).map(function(b,h){return b=FG(b),!u&&h?"["+b+"]":b}).join(u?".":""):i}function Mde(s){return Ht.isArray(s)&&!s.some(tV)}const Pde=Ht.toFlatObject(Ht,{},null,function(i){return/^is[A-Z]/.test(i)});function RM(s,i,u){if(!Ht.isObject(s))throw new TypeError("target must be an object");i=i||new FormData,u=Ht.toFlatObject(u,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ee,fe){return!Ht.isUndefined(fe[ee])});const m=u.metaTokens,b=u.visitor||R,h=u.dots,x=u.indexes,B=(u.Blob||typeof Blob<"u"&&Blob)&&Ht.isSpecCompliantForm(i);if(!Ht.isFunction(b))throw new TypeError("visitor must be a function");function N(K){if(K===null)return"";if(Ht.isDate(K))return K.toISOString();if(!B&&Ht.isBlob(K))throw new Rs("Blob is not supported. Use a Buffer instead.");return Ht.isArrayBuffer(K)||Ht.isTypedArray(K)?B&&typeof Blob=="function"?new Blob([K]):Buffer.from(K):K}function R(K,ee,fe){let he=K;if(K&&!fe&&typeof K=="object"){if(Ht.endsWith(ee,"{}"))ee=m?ee:ee.slice(0,-2),K=JSON.stringify(K);else if(Ht.isArray(K)&&Mde(K)||(Ht.isFileList(K)||Ht.endsWith(ee,"[]"))&&(he=Ht.toArray(K)))return ee=FG(ee),he.forEach(function(Te,te){!(Ht.isUndefined(Te)||Te===null)&&i.append(x===!0?$j([ee],te,h):x===null?ee:ee+"[]",N(Te))}),!1}return tV(K)?!0:(i.append($j(fe,ee,h),N(K)),!1)}const F=[],W=Object.assign(Pde,{defaultVisitor:R,convertValue:N,isVisitable:tV});function $(K,ee){if(!Ht.isUndefined(K)){if(F.indexOf(K)!==-1)throw Error("Circular reference detected in "+ee.join("."));F.push(K),Ht.forEach(K,function(he,Ue){(!(Ht.isUndefined(he)||he===null)&&b.call(i,he,Ht.isString(Ue)?Ue.trim():Ue,ee,W))===!0&&$(he,ee?ee.concat(Ue):[Ue])}),F.pop()}}if(!Ht.isObject(s))throw new TypeError("data must be an object");return $(s),i}function Uj(s){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(m){return i[m]})}function XV(s,i){this._pairs=[],s&&RM(s,this,i)}const zG=XV.prototype;zG.append=function(i,u){this._pairs.push([i,u])};zG.toString=function(i){const u=i?function(m){return i.call(this,m,Uj)}:Uj;return this._pairs.map(function(b){return u(b[0])+"="+u(b[1])},"").join("&")};function Lde(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function HG(s,i,u){if(!i)return s;const m=u&&u.encode||Lde,b=u&&u.serialize;let h;if(b?h=b(i,u):h=Ht.isURLSearchParams(i)?i.toString():new XV(i,u).toString(m),h){const x=s.indexOf("#");x!==-1&&(s=s.slice(0,x)),s+=(s.indexOf("?")===-1?"?":"&")+h}return s}class Wj{constructor(){this.handlers=[]}use(i,u,m){return this.handlers.push({fulfilled:i,rejected:u,synchronous:m?m.synchronous:!1,runWhen:m?m.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){Ht.forEach(this.handlers,function(m){m!==null&&i(m)})}}const VG={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Fde=typeof URLSearchParams<"u"?URLSearchParams:XV,zde=typeof FormData<"u"?FormData:null,Hde=typeof Blob<"u"?Blob:null,Vde={isBrowser:!0,classes:{URLSearchParams:Fde,FormData:zde,Blob:Hde},protocols:["http","https","file","blob","url","data"]},JV=typeof window<"u"&&typeof document<"u",nV=typeof navigator=="object"&&navigator||void 0,$de=JV&&(!nV||["ReactNative","NativeScript","NS"].indexOf(nV.product)<0),Ude=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Wde=JV&&window.location.href||"http://localhost",Zde=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:JV,hasStandardBrowserEnv:$de,hasStandardBrowserWebWorkerEnv:Ude,navigator:nV,origin:Wde},Symbol.toStringTag,{value:"Module"})),Fd={...Zde,...Vde};function jde(s,i){return RM(s,new Fd.classes.URLSearchParams,Object.assign({visitor:function(u,m,b,h){return Fd.isNode&&Ht.isBuffer(u)?(this.append(m,u.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},i))}function Kde(s){return Ht.matchAll(/\w+|\[(\w*)]/g,s).map(i=>i[0]==="[]"?"":i[1]||i[0])}function qde(s){const i={},u=Object.keys(s);let m;const b=u.length;let h;for(m=0;m<b;m++)h=u[m],i[h]=s[h];return i}function $G(s){function i(u,m,b,h){let x=u[h++];if(x==="__proto__")return!0;const S=Number.isFinite(+x),B=h>=u.length;return x=!x&&Ht.isArray(b)?b.length:x,B?(Ht.hasOwnProp(b,x)?b[x]=[b[x],m]:b[x]=m,!S):((!b[x]||!Ht.isObject(b[x]))&&(b[x]=[]),i(u,m,b[x],h)&&Ht.isArray(b[x])&&(b[x]=qde(b[x])),!S)}if(Ht.isFormData(s)&&Ht.isFunction(s.entries)){const u={};return Ht.forEachEntry(s,(m,b)=>{i(Kde(m),b,u,0)}),u}return null}function Gde(s,i,u){if(Ht.isString(s))try{return(i||JSON.parse)(s),Ht.trim(s)}catch(m){if(m.name!=="SyntaxError")throw m}return(0,JSON.stringify)(s)}const hO={transitional:VG,adapter:["xhr","http","fetch"],transformRequest:[function(i,u){const m=u.getContentType()||"",b=m.indexOf("application/json")>-1,h=Ht.isObject(i);if(h&&Ht.isHTMLForm(i)&&(i=new FormData(i)),Ht.isFormData(i))return b?JSON.stringify($G(i)):i;if(Ht.isArrayBuffer(i)||Ht.isBuffer(i)||Ht.isStream(i)||Ht.isFile(i)||Ht.isBlob(i)||Ht.isReadableStream(i))return i;if(Ht.isArrayBufferView(i))return i.buffer;if(Ht.isURLSearchParams(i))return u.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let S;if(h){if(m.indexOf("application/x-www-form-urlencoded")>-1)return jde(i,this.formSerializer).toString();if((S=Ht.isFileList(i))||m.indexOf("multipart/form-data")>-1){const B=this.env&&this.env.FormData;return RM(S?{"files[]":i}:i,B&&new B,this.formSerializer)}}return h||b?(u.setContentType("application/json",!1),Gde(i)):i}],transformResponse:[function(i){const u=this.transitional||hO.transitional,m=u&&u.forcedJSONParsing,b=this.responseType==="json";if(Ht.isResponse(i)||Ht.isReadableStream(i))return i;if(i&&Ht.isString(i)&&(m&&!this.responseType||b)){const x=!(u&&u.silentJSONParsing)&&b;try{return JSON.parse(i)}catch(S){if(x)throw S.name==="SyntaxError"?Rs.from(S,Rs.ERR_BAD_RESPONSE,this,null,this.response):S}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fd.classes.FormData,Blob:Fd.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ht.forEach(["delete","get","head","post","put","patch"],s=>{hO.headers[s]={}});const Yde=Ht.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xde=s=>{const i={};let u,m,b;return s&&s.split(`
`).forEach(function(x){b=x.indexOf(":"),u=x.substring(0,b).trim().toLowerCase(),m=x.substring(b+1).trim(),!(!u||i[u]&&Yde[u])&&(u==="set-cookie"?i[u]?i[u].push(m):i[u]=[m]:i[u]=i[u]?i[u]+", "+m:m)}),i},Zj=Symbol("internals");function WT(s){return s&&String(s).trim().toLowerCase()}function U8(s){return s===!1||s==null?s:Ht.isArray(s)?s.map(U8):String(s)}function Jde(s){const i=Object.create(null),u=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let m;for(;m=u.exec(s);)i[m[1]]=m[2];return i}const Qde=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function pH(s,i,u,m,b){if(Ht.isFunction(m))return m.call(this,i,u);if(b&&(i=u),!!Ht.isString(i)){if(Ht.isString(m))return i.indexOf(m)!==-1;if(Ht.isRegExp(m))return m.test(i)}}function efe(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,u,m)=>u.toUpperCase()+m)}function tfe(s,i){const u=Ht.toCamelCase(" "+i);["get","set","has"].forEach(m=>{Object.defineProperty(s,m+u,{value:function(b,h,x){return this[m].call(this,i,b,h,x)},configurable:!0})})}class zd{constructor(i){i&&this.set(i)}set(i,u,m){const b=this;function h(S,B,N){const R=WT(B);if(!R)throw new Error("header name must be a non-empty string");const F=Ht.findKey(b,R);(!F||b[F]===void 0||N===!0||N===void 0&&b[F]!==!1)&&(b[F||B]=U8(S))}const x=(S,B)=>Ht.forEach(S,(N,R)=>h(N,R,B));if(Ht.isPlainObject(i)||i instanceof this.constructor)x(i,u);else if(Ht.isString(i)&&(i=i.trim())&&!Qde(i))x(Xde(i),u);else if(Ht.isHeaders(i))for(const[S,B]of i.entries())h(B,S,m);else i!=null&&h(u,i,m);return this}get(i,u){if(i=WT(i),i){const m=Ht.findKey(this,i);if(m){const b=this[m];if(!u)return b;if(u===!0)return Jde(b);if(Ht.isFunction(u))return u.call(this,b,m);if(Ht.isRegExp(u))return u.exec(b);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,u){if(i=WT(i),i){const m=Ht.findKey(this,i);return!!(m&&this[m]!==void 0&&(!u||pH(this,this[m],m,u)))}return!1}delete(i,u){const m=this;let b=!1;function h(x){if(x=WT(x),x){const S=Ht.findKey(m,x);S&&(!u||pH(m,m[S],S,u))&&(delete m[S],b=!0)}}return Ht.isArray(i)?i.forEach(h):h(i),b}clear(i){const u=Object.keys(this);let m=u.length,b=!1;for(;m--;){const h=u[m];(!i||pH(this,this[h],h,i,!0))&&(delete this[h],b=!0)}return b}normalize(i){const u=this,m={};return Ht.forEach(this,(b,h)=>{const x=Ht.findKey(m,h);if(x){u[x]=U8(b),delete u[h];return}const S=i?efe(h):String(h).trim();S!==h&&delete u[h],u[S]=U8(b),m[S]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const u=Object.create(null);return Ht.forEach(this,(m,b)=>{m!=null&&m!==!1&&(u[b]=i&&Ht.isArray(m)?m.join(", "):m)}),u}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,u])=>i+": "+u).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...u){const m=new this(i);return u.forEach(b=>m.set(b)),m}static accessor(i){const m=(this[Zj]=this[Zj]={accessors:{}}).accessors,b=this.prototype;function h(x){const S=WT(x);m[S]||(tfe(b,x),m[S]=!0)}return Ht.isArray(i)?i.forEach(h):h(i),this}}zd.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ht.reduceDescriptors(zd.prototype,({value:s},i)=>{let u=i[0].toUpperCase()+i.slice(1);return{get:()=>s,set(m){this[u]=m}}});Ht.freezeMethods(zd);function bH(s,i){const u=this||hO,m=i||u,b=zd.from(m.headers);let h=m.data;return Ht.forEach(s,function(S){h=S.call(u,h,b.normalize(),i?i.status:void 0)}),b.normalize(),h}function UG(s){return!!(s&&s.__CANCEL__)}function vk(s,i,u){Rs.call(this,s??"canceled",Rs.ERR_CANCELED,i,u),this.name="CanceledError"}Ht.inherits(vk,Rs,{__CANCEL__:!0});function WG(s,i,u){const m=u.config.validateStatus;!u.status||!m||m(u.status)?s(u):i(new Rs("Request failed with status code "+u.status,[Rs.ERR_BAD_REQUEST,Rs.ERR_BAD_RESPONSE][Math.floor(u.status/100)-4],u.config,u.request,u))}function nfe(s){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return i&&i[1]||""}function ofe(s,i){s=s||10;const u=new Array(s),m=new Array(s);let b=0,h=0,x;return i=i!==void 0?i:1e3,function(B){const N=Date.now(),R=m[h];x||(x=N),u[b]=B,m[b]=N;let F=h,W=0;for(;F!==b;)W+=u[F++],F=F%s;if(b=(b+1)%s,b===h&&(h=(h+1)%s),N-x<i)return;const $=R&&N-R;return $?Math.round(W*1e3/$):void 0}}function sfe(s,i){let u=0,m=1e3/i,b,h;const x=(N,R=Date.now())=>{u=R,b=null,h&&(clearTimeout(h),h=null),s.apply(null,N)};return[(...N)=>{const R=Date.now(),F=R-u;F>=m?x(N,R):(b=N,h||(h=setTimeout(()=>{h=null,x(b)},m-F)))},()=>b&&x(b)]}const rM=(s,i,u=3)=>{let m=0;const b=ofe(50,250);return sfe(h=>{const x=h.loaded,S=h.lengthComputable?h.total:void 0,B=x-m,N=b(B),R=x<=S;m=x;const F={loaded:x,total:S,progress:S?x/S:void 0,bytes:B,rate:N||void 0,estimated:N&&S&&R?(S-x)/N:void 0,event:h,lengthComputable:S!=null,[i?"download":"upload"]:!0};s(F)},u)},jj=(s,i)=>{const u=s!=null;return[m=>i[0]({lengthComputable:u,total:s,loaded:m}),i[1]]},Kj=s=>(...i)=>Ht.asap(()=>s(...i)),rfe=Fd.hasStandardBrowserEnv?function(){const i=Fd.navigator&&/(msie|trident)/i.test(Fd.navigator.userAgent),u=document.createElement("a");let m;function b(h){let x=h;return i&&(u.setAttribute("href",x),x=u.href),u.setAttribute("href",x),{href:u.href,protocol:u.protocol?u.protocol.replace(/:$/,""):"",host:u.host,search:u.search?u.search.replace(/^\?/,""):"",hash:u.hash?u.hash.replace(/^#/,""):"",hostname:u.hostname,port:u.port,pathname:u.pathname.charAt(0)==="/"?u.pathname:"/"+u.pathname}}return m=b(window.location.href),function(x){const S=Ht.isString(x)?b(x):x;return S.protocol===m.protocol&&S.host===m.host}}():function(){return function(){return!0}}(),afe=Fd.hasStandardBrowserEnv?{write(s,i,u,m,b,h){const x=[s+"="+encodeURIComponent(i)];Ht.isNumber(u)&&x.push("expires="+new Date(u).toGMTString()),Ht.isString(m)&&x.push("path="+m),Ht.isString(b)&&x.push("domain="+b),h===!0&&x.push("secure"),document.cookie=x.join("; ")},read(s){const i=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ife(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function lfe(s,i){return i?s.replace(/\/?\/$/,"")+"/"+i.replace(/^\/+/,""):s}function ZG(s,i){return s&&!ife(i)?lfe(s,i):i}const qj=s=>s instanceof zd?{...s}:s;function Hw(s,i){i=i||{};const u={};function m(N,R,F){return Ht.isPlainObject(N)&&Ht.isPlainObject(R)?Ht.merge.call({caseless:F},N,R):Ht.isPlainObject(R)?Ht.merge({},R):Ht.isArray(R)?R.slice():R}function b(N,R,F){if(Ht.isUndefined(R)){if(!Ht.isUndefined(N))return m(void 0,N,F)}else return m(N,R,F)}function h(N,R){if(!Ht.isUndefined(R))return m(void 0,R)}function x(N,R){if(Ht.isUndefined(R)){if(!Ht.isUndefined(N))return m(void 0,N)}else return m(void 0,R)}function S(N,R,F){if(F in i)return m(N,R);if(F in s)return m(void 0,N)}const B={url:h,method:h,data:h,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,withXSRFToken:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:S,headers:(N,R)=>b(qj(N),qj(R),!0)};return Ht.forEach(Object.keys(Object.assign({},s,i)),function(R){const F=B[R]||b,W=F(s[R],i[R],R);Ht.isUndefined(W)&&F!==S||(u[R]=W)}),u}const jG=s=>{const i=Hw({},s);let{data:u,withXSRFToken:m,xsrfHeaderName:b,xsrfCookieName:h,headers:x,auth:S}=i;i.headers=x=zd.from(x),i.url=HG(ZG(i.baseURL,i.url),s.params,s.paramsSerializer),S&&x.set("Authorization","Basic "+btoa((S.username||"")+":"+(S.password?unescape(encodeURIComponent(S.password)):"")));let B;if(Ht.isFormData(u)){if(Fd.hasStandardBrowserEnv||Fd.hasStandardBrowserWebWorkerEnv)x.setContentType(void 0);else if((B=x.getContentType())!==!1){const[N,...R]=B?B.split(";").map(F=>F.trim()).filter(Boolean):[];x.setContentType([N||"multipart/form-data",...R].join("; "))}}if(Fd.hasStandardBrowserEnv&&(m&&Ht.isFunction(m)&&(m=m(i)),m||m!==!1&&rfe(i.url))){const N=b&&h&&afe.read(h);N&&x.set(b,N)}return i},cfe=typeof XMLHttpRequest<"u",ufe=cfe&&function(s){return new Promise(function(u,m){const b=jG(s);let h=b.data;const x=zd.from(b.headers).normalize();let{responseType:S,onUploadProgress:B,onDownloadProgress:N}=b,R,F,W,$,K;function ee(){$&&$(),K&&K(),b.cancelToken&&b.cancelToken.unsubscribe(R),b.signal&&b.signal.removeEventListener("abort",R)}let fe=new XMLHttpRequest;fe.open(b.method.toUpperCase(),b.url,!0),fe.timeout=b.timeout;function he(){if(!fe)return;const Te=zd.from("getAllResponseHeaders"in fe&&fe.getAllResponseHeaders()),Ae={data:!S||S==="text"||S==="json"?fe.responseText:fe.response,status:fe.status,statusText:fe.statusText,headers:Te,config:s,request:fe};WG(function(Ge){u(Ge),ee()},function(Ge){m(Ge),ee()},Ae),fe=null}"onloadend"in fe?fe.onloadend=he:fe.onreadystatechange=function(){!fe||fe.readyState!==4||fe.status===0&&!(fe.responseURL&&fe.responseURL.indexOf("file:")===0)||setTimeout(he)},fe.onabort=function(){fe&&(m(new Rs("Request aborted",Rs.ECONNABORTED,s,fe)),fe=null)},fe.onerror=function(){m(new Rs("Network Error",Rs.ERR_NETWORK,s,fe)),fe=null},fe.ontimeout=function(){let te=b.timeout?"timeout of "+b.timeout+"ms exceeded":"timeout exceeded";const Ae=b.transitional||VG;b.timeoutErrorMessage&&(te=b.timeoutErrorMessage),m(new Rs(te,Ae.clarifyTimeoutError?Rs.ETIMEDOUT:Rs.ECONNABORTED,s,fe)),fe=null},h===void 0&&x.setContentType(null),"setRequestHeader"in fe&&Ht.forEach(x.toJSON(),function(te,Ae){fe.setRequestHeader(Ae,te)}),Ht.isUndefined(b.withCredentials)||(fe.withCredentials=!!b.withCredentials),S&&S!=="json"&&(fe.responseType=b.responseType),N&&([W,K]=rM(N,!0),fe.addEventListener("progress",W)),B&&fe.upload&&([F,$]=rM(B),fe.upload.addEventListener("progress",F),fe.upload.addEventListener("loadend",$)),(b.cancelToken||b.signal)&&(R=Te=>{fe&&(m(!Te||Te.type?new vk(null,s,fe):Te),fe.abort(),fe=null)},b.cancelToken&&b.cancelToken.subscribe(R),b.signal&&(b.signal.aborted?R():b.signal.addEventListener("abort",R)));const Ue=nfe(b.url);if(Ue&&Fd.protocols.indexOf(Ue)===-1){m(new Rs("Unsupported protocol "+Ue+":",Rs.ERR_BAD_REQUEST,s));return}fe.send(h||null)})},dfe=(s,i)=>{const{length:u}=s=s?s.filter(Boolean):[];if(i||u){let m=new AbortController,b;const h=function(N){if(!b){b=!0,S();const R=N instanceof Error?N:this.reason;m.abort(R instanceof Rs?R:new vk(R instanceof Error?R.message:R))}};let x=i&&setTimeout(()=>{x=null,h(new Rs(`timeout ${i} of ms exceeded`,Rs.ETIMEDOUT))},i);const S=()=>{s&&(x&&clearTimeout(x),x=null,s.forEach(N=>{N.unsubscribe?N.unsubscribe(h):N.removeEventListener("abort",h)}),s=null)};s.forEach(N=>N.addEventListener("abort",h));const{signal:B}=m;return B.unsubscribe=()=>Ht.asap(S),B}},ffe=function*(s,i){let u=s.byteLength;if(u<i){yield s;return}let m=0,b;for(;m<u;)b=m+i,yield s.slice(m,b),m=b},mfe=async function*(s,i){for await(const u of gfe(s))yield*ffe(u,i)},gfe=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const i=s.getReader();try{for(;;){const{done:u,value:m}=await i.read();if(u)break;yield m}}finally{await i.cancel()}},Gj=(s,i,u,m)=>{const b=mfe(s,i);let h=0,x,S=B=>{x||(x=!0,m&&m(B))};return new ReadableStream({async pull(B){try{const{done:N,value:R}=await b.next();if(N){S(),B.close();return}let F=R.byteLength;if(u){let W=h+=F;u(W)}B.enqueue(new Uint8Array(R))}catch(N){throw S(N),N}},cancel(B){return S(B),b.return()}},{highWaterMark:2})},NM=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",KG=NM&&typeof ReadableStream=="function",hfe=NM&&(typeof TextEncoder=="function"?(s=>i=>s.encode(i))(new TextEncoder):async s=>new Uint8Array(await new Response(s).arrayBuffer())),qG=(s,...i)=>{try{return!!s(...i)}catch{return!1}},pfe=KG&&qG(()=>{let s=!1;const i=new Request(Fd.origin,{body:new ReadableStream,method:"POST",get duplex(){return s=!0,"half"}}).headers.has("Content-Type");return s&&!i}),Yj=64*1024,oV=KG&&qG(()=>Ht.isReadableStream(new Response("").body)),aM={stream:oV&&(s=>s.body)};NM&&(s=>{["text","arrayBuffer","blob","formData","stream"].forEach(i=>{!aM[i]&&(aM[i]=Ht.isFunction(s[i])?u=>u[i]():(u,m)=>{throw new Rs(`Response type '${i}' is not supported`,Rs.ERR_NOT_SUPPORT,m)})})})(new Response);const bfe=async s=>{if(s==null)return 0;if(Ht.isBlob(s))return s.size;if(Ht.isSpecCompliantForm(s))return(await new Request(Fd.origin,{method:"POST",body:s}).arrayBuffer()).byteLength;if(Ht.isArrayBufferView(s)||Ht.isArrayBuffer(s))return s.byteLength;if(Ht.isURLSearchParams(s)&&(s=s+""),Ht.isString(s))return(await hfe(s)).byteLength},vfe=async(s,i)=>{const u=Ht.toFiniteNumber(s.getContentLength());return u??bfe(i)},yfe=NM&&(async s=>{let{url:i,method:u,data:m,signal:b,cancelToken:h,timeout:x,onDownloadProgress:S,onUploadProgress:B,responseType:N,headers:R,withCredentials:F="same-origin",fetchOptions:W}=jG(s);N=N?(N+"").toLowerCase():"text";let $=dfe([b,h&&h.toAbortSignal()],x),K;const ee=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let fe;try{if(B&&pfe&&u!=="get"&&u!=="head"&&(fe=await vfe(R,m))!==0){let Ae=new Request(i,{method:"POST",body:m,duplex:"half"}),ne;if(Ht.isFormData(m)&&(ne=Ae.headers.get("content-type"))&&R.setContentType(ne),Ae.body){const[Ge,$e]=jj(fe,rM(Kj(B)));m=Gj(Ae.body,Yj,Ge,$e)}}Ht.isString(F)||(F=F?"include":"omit");const he="credentials"in Request.prototype;K=new Request(i,{...W,signal:$,method:u.toUpperCase(),headers:R.normalize().toJSON(),body:m,duplex:"half",credentials:he?F:void 0});let Ue=await fetch(K);const Te=oV&&(N==="stream"||N==="response");if(oV&&(S||Te&&ee)){const Ae={};["status","statusText","headers"].forEach(Ze=>{Ae[Ze]=Ue[Ze]});const ne=Ht.toFiniteNumber(Ue.headers.get("content-length")),[Ge,$e]=S&&jj(ne,rM(Kj(S),!0))||[];Ue=new Response(Gj(Ue.body,Yj,Ge,()=>{$e&&$e(),ee&&ee()}),Ae)}N=N||"text";let te=await aM[Ht.findKey(aM,N)||"text"](Ue,s);return!Te&&ee&&ee(),await new Promise((Ae,ne)=>{WG(Ae,ne,{data:te,headers:zd.from(Ue.headers),status:Ue.status,statusText:Ue.statusText,config:s,request:K})})}catch(he){throw ee&&ee(),he&&he.name==="TypeError"&&/fetch/i.test(he.message)?Object.assign(new Rs("Network Error",Rs.ERR_NETWORK,s,K),{cause:he.cause||he}):Rs.from(he,he&&he.code,s,K)}}),sV={http:Bde,xhr:ufe,fetch:yfe};Ht.forEach(sV,(s,i)=>{if(s){try{Object.defineProperty(s,"name",{value:i})}catch{}Object.defineProperty(s,"adapterName",{value:i})}});const Xj=s=>`- ${s}`,xfe=s=>Ht.isFunction(s)||s===null||s===!1,GG={getAdapter:s=>{s=Ht.isArray(s)?s:[s];const{length:i}=s;let u,m;const b={};for(let h=0;h<i;h++){u=s[h];let x;if(m=u,!xfe(u)&&(m=sV[(x=String(u)).toLowerCase()],m===void 0))throw new Rs(`Unknown adapter '${x}'`);if(m)break;b[x||"#"+h]=m}if(!m){const h=Object.entries(b).map(([S,B])=>`adapter ${S} `+(B===!1?"is not supported by the environment":"is not available in the build"));let x=i?h.length>1?`since :
`+h.map(Xj).join(`
`):" "+Xj(h[0]):"as no adapter specified";throw new Rs("There is no suitable adapter to dispatch the request "+x,"ERR_NOT_SUPPORT")}return m},adapters:sV};function vH(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new vk(null,s)}function Jj(s){return vH(s),s.headers=zd.from(s.headers),s.data=bH.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),GG.getAdapter(s.adapter||hO.adapter)(s).then(function(m){return vH(s),m.data=bH.call(s,s.transformResponse,m),m.headers=zd.from(m.headers),m},function(m){return UG(m)||(vH(s),m&&m.response&&(m.response.data=bH.call(s,s.transformResponse,m.response),m.response.headers=zd.from(m.response.headers))),Promise.reject(m)})}const YG="1.7.7",QV={};["object","boolean","number","function","string","symbol"].forEach((s,i)=>{QV[s]=function(m){return typeof m===s||"a"+(i<1?"n ":" ")+s}});const Qj={};QV.transitional=function(i,u,m){function b(h,x){return"[Axios v"+YG+"] Transitional option '"+h+"'"+x+(m?". "+m:"")}return(h,x,S)=>{if(i===!1)throw new Rs(b(x," has been removed"+(u?" in "+u:"")),Rs.ERR_DEPRECATED);return u&&!Qj[x]&&(Qj[x]=!0,console.warn(b(x," has been deprecated since v"+u+" and will be removed in the near future"))),i?i(h,x,S):!0}};function wfe(s,i,u){if(typeof s!="object")throw new Rs("options must be an object",Rs.ERR_BAD_OPTION_VALUE);const m=Object.keys(s);let b=m.length;for(;b-- >0;){const h=m[b],x=i[h];if(x){const S=s[h],B=S===void 0||x(S,h,s);if(B!==!0)throw new Rs("option "+h+" must be "+B,Rs.ERR_BAD_OPTION_VALUE);continue}if(u!==!0)throw new Rs("Unknown option "+h,Rs.ERR_BAD_OPTION)}}const rV={assertOptions:wfe,validators:QV},ey=rV.validators;class Lw{constructor(i){this.defaults=i,this.interceptors={request:new Wj,response:new Wj}}async request(i,u){try{return await this._request(i,u)}catch(m){if(m instanceof Error){let b;Error.captureStackTrace?Error.captureStackTrace(b={}):b=new Error;const h=b.stack?b.stack.replace(/^.+\n/,""):"";try{m.stack?h&&!String(m.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(m.stack+=`
`+h):m.stack=h}catch{}}throw m}}_request(i,u){typeof i=="string"?(u=u||{},u.url=i):u=i||{},u=Hw(this.defaults,u);const{transitional:m,paramsSerializer:b,headers:h}=u;m!==void 0&&rV.assertOptions(m,{silentJSONParsing:ey.transitional(ey.boolean),forcedJSONParsing:ey.transitional(ey.boolean),clarifyTimeoutError:ey.transitional(ey.boolean)},!1),b!=null&&(Ht.isFunction(b)?u.paramsSerializer={serialize:b}:rV.assertOptions(b,{encode:ey.function,serialize:ey.function},!0)),u.method=(u.method||this.defaults.method||"get").toLowerCase();let x=h&&Ht.merge(h.common,h[u.method]);h&&Ht.forEach(["delete","get","head","post","put","patch","common"],K=>{delete h[K]}),u.headers=zd.concat(x,h);const S=[];let B=!0;this.interceptors.request.forEach(function(ee){typeof ee.runWhen=="function"&&ee.runWhen(u)===!1||(B=B&&ee.synchronous,S.unshift(ee.fulfilled,ee.rejected))});const N=[];this.interceptors.response.forEach(function(ee){N.push(ee.fulfilled,ee.rejected)});let R,F=0,W;if(!B){const K=[Jj.bind(this),void 0];for(K.unshift.apply(K,S),K.push.apply(K,N),W=K.length,R=Promise.resolve(u);F<W;)R=R.then(K[F++],K[F++]);return R}W=S.length;let $=u;for(F=0;F<W;){const K=S[F++],ee=S[F++];try{$=K($)}catch(fe){ee.call(this,fe);break}}try{R=Jj.call(this,$)}catch(K){return Promise.reject(K)}for(F=0,W=N.length;F<W;)R=R.then(N[F++],N[F++]);return R}getUri(i){i=Hw(this.defaults,i);const u=ZG(i.baseURL,i.url);return HG(u,i.params,i.paramsSerializer)}}Ht.forEach(["delete","get","head","options"],function(i){Lw.prototype[i]=function(u,m){return this.request(Hw(m||{},{method:i,url:u,data:(m||{}).data}))}});Ht.forEach(["post","put","patch"],function(i){function u(m){return function(h,x,S){return this.request(Hw(S||{},{method:i,headers:m?{"Content-Type":"multipart/form-data"}:{},url:h,data:x}))}}Lw.prototype[i]=u(),Lw.prototype[i+"Form"]=u(!0)});class e${constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let u;this.promise=new Promise(function(h){u=h});const m=this;this.promise.then(b=>{if(!m._listeners)return;let h=m._listeners.length;for(;h-- >0;)m._listeners[h](b);m._listeners=null}),this.promise.then=b=>{let h;const x=new Promise(S=>{m.subscribe(S),h=S}).then(b);return x.cancel=function(){m.unsubscribe(h)},x},i(function(h,x,S){m.reason||(m.reason=new vk(h,x,S),u(m.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const u=this._listeners.indexOf(i);u!==-1&&this._listeners.splice(u,1)}toAbortSignal(){const i=new AbortController,u=m=>{i.abort(m)};return this.subscribe(u),i.signal.unsubscribe=()=>this.unsubscribe(u),i.signal}static source(){let i;return{token:new e$(function(b){i=b}),cancel:i}}}function Cfe(s){return function(u){return s.apply(null,u)}}function _fe(s){return Ht.isObject(s)&&s.isAxiosError===!0}const aV={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(aV).forEach(([s,i])=>{aV[i]=s});function XG(s){const i=new Lw(s),u=TG(Lw.prototype.request,i);return Ht.extend(u,Lw.prototype,i,{allOwnKeys:!0}),Ht.extend(u,i,null,{allOwnKeys:!0}),u.create=function(b){return XG(Hw(s,b))},u}const Ma=XG(hO);Ma.Axios=Lw;Ma.CanceledError=vk;Ma.CancelToken=e$;Ma.isCancel=UG;Ma.VERSION=YG;Ma.toFormData=RM;Ma.AxiosError=Rs;Ma.Cancel=Ma.CanceledError;Ma.all=function(i){return Promise.all(i)};Ma.spread=Cfe;Ma.isAxiosError=_fe;Ma.mergeConfig=Hw;Ma.AxiosHeaders=zd;Ma.formToJSON=s=>$G(Ht.isHTMLForm(s)?new FormData(s):s);Ma.getAdapter=GG.getAdapter;Ma.HttpStatusCode=aV;Ma.default=Ma;/*! js-cookie v3.0.5 | MIT */function T8(s){for(var i=1;i<arguments.length;i++){var u=arguments[i];for(var m in u)s[m]=u[m]}return s}var Sfe={read:function(s){return s[0]==='"'&&(s=s.slice(1,-1)),s.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(s){return encodeURIComponent(s).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function iV(s,i){function u(b,h,x){if(!(typeof document>"u")){x=T8({},i,x),typeof x.expires=="number"&&(x.expires=new Date(Date.now()+x.expires*864e5)),x.expires&&(x.expires=x.expires.toUTCString()),b=encodeURIComponent(b).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var S="";for(var B in x)x[B]&&(S+="; "+B,x[B]!==!0&&(S+="="+x[B].split(";")[0]));return document.cookie=b+"="+s.write(h,b)+S}}function m(b){if(!(typeof document>"u"||arguments.length&&!b)){for(var h=document.cookie?document.cookie.split("; "):[],x={},S=0;S<h.length;S++){var B=h[S].split("="),N=B.slice(1).join("=");try{var R=decodeURIComponent(B[0]);if(x[R]=s.read(N,R),b===R)break}catch{}}return b?x[b]:x}}return Object.create({set:u,get:m,remove:function(b,h){u(b,"",T8({},h,{expires:-1}))},withAttributes:function(b){return iV(this.converter,T8({},this.attributes,b))},withConverter:function(b){return iV(T8({},this.converter,b),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(s)}})}var Yi=iV(Sfe,{path:"/"});const kfe=".mce-content-body,.long-essay-content{font-family:serif;font-size:1em;max-width:60em;line-height:150%}.mce-content-body h1,.long-essay-content h1,.mce-content-body h2,.long-essay-content h2,.mce-content-body h3,.long-essay-content h3,.mce-content-body h4,.long-essay-content h4,.mce-content-body h5,.long-essay-content h5,.mce-content-body h6,.long-essay-content h6{font-size:1em;font-weight:700;padding:0;margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body ol,.long-essay-content ol,.mce-content-body ul,.long-essay-content ul{margin-left:10px;margin-bottom:20px}.mce-content-body li,.long-essay-content li{margin-left:20px;margin-bottom:5px;min-height:1.5em}.mce-content-body p,.long-essay-content p,.mce-content-body pre,.long-essay-content pre{margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body,.long-essay-content,.tox-menu{counter-reset:h1 h2 h3 h4 h5 h6}.mce-content-body h1,.long-essay-content h1,.tox-menu h1{counter-increment:h1;counter-reset:h2 h3 h4 h5 h6}.mce-content-body h2,.long-essay-content h2,.tox-menu h2{counter-increment:h2;counter-reset:h3 h4 h5 h6}.mce-content-body h3,.long-essay-content h3,.tox-menu h3{counter-increment:h3;counter-reset:h4 h5 h6}.mce-content-body h4,.long-essay-content h4,.tox-menu h4{counter-increment:h4;counter-reset:h5 h6}.mce-content-body h5,.long-essay-content h5,.tox-menu h5{counter-increment:h5;counter-reset:h6}.mce-content-body h6,.long-essay-content h6,.tox-menu h6{counter-increment:h6}.tox-menu p,.tox-menu h1,.tox-menu h2,.tox-menu h3,.tox-menu h4,.tox-menu h5,.tox-menu h6,.tox-menu pre,.tox-menu li{font-size:1rem!important}",Efe="",Afe=".headlines-three h1{font-size:1.3em!important}.headlines-three h2{font-size:1.15em!important}.headlines-three h3{font-size:1em!important}",Tfe='.mce-content-body h1:before,.headlines-numeric h1:before{content:counter(h1,decimal) " "}.mce-content-body h2:before,.headlines-numeric h2:before{content:counter(h1,decimal) "." counter(h2,decimal) " "}.mce-content-body h3:before,.headlines-numeric h3:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) " "}.mce-content-body h4:before,.headlines-numeric h4:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) "." counter(h4,decimal) " "}.mce-content-body h5:before,.headlines-numeric h5:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) "." counter(h4,decimal) "." counter(h5,decimal) " "}.mce-content-body h6:before,.headlines-numeric h6:before{content:counter(h1,decimal) "." counter(h2,decimal) "." counter(h3,decimal) "." counter(h4,decimal) "." counter(h5,decimal) "." counter(h6,decimal) " "}',Ofe='.mce-content-body h1:before,.headlines-edutiek h1:before{content:counter(h1,upper-latin) ". "}.mce-content-body h2:before,.headlines-edutiek h2:before{content:counter(h2,upper-roman) ". "}.mce-content-body h3:before,.headlines-edutiek h3:before{content:counter(h3,decimal) ". "}.mce-content-body h4:before,.headlines-edutiek h4:before{content:counter(h4,lower-latin) ". "}.mce-content-body h5:before,.headlines-edutiek h5:before{content:counter(h5,lower-latin) counter(h5,lower-latin) ". "}.mce-content-body h6:before,.headlines-edutiek h6:before{content:"(" counter(h6,decimal) ") "}',yH=qp.createInstance({storeName:"writer-settings",description:"Settings data"}),yh=fg("settings",{state:()=>({headline_scheme:null,formatting_options:null,notice_boards:0,copy_allowed:!1,primary_color:null,primary_text_color:null,allow_spellcheck:!1}),getters:{hasNotes:s=>s.notice_boards>0,primaryColorCss:s=>s.primary_color?"#"+s.primary_color:"",primaryTextColorCss:s=>s.primary_text_color?"#"+s.primary_text_color:"",primaryTextColorFullCss:s=>s.primary_text_color?"color: #"+s.primary_text_color+";":"",tinyToolbar:s=>{switch(s.formatting_options){case"full":return"undo redo styles bold italic underline bullist numlist removeformat charmap wordcount";case"medium":return"undo redo bold italic underline bullist numlistremoveformat charmap wordcount";case"minimal":return"undo redo bold italic underline removeformat charmap wordcount";case"none":default:return"undo redo charmap wordcount"}},tinyValidElements:s=>{switch(s.formatting_options){case"full":return"p/div,br,strong/b,em/i,u,ol,ul,li,h1,h2,h3,h4,h5,h6,pre";case"medium":return"p/div,br,strong/b,em/i,u,ol,ul,li";case"minimal":return"p/div,p/li,br,strong/b,em/i,u";case"none":default:return"p/div,p/li,br"}},tinyH1Size:s=>s.headline_scheme=="three"?1.3:1,tinyH2Size:s=>s.headline_scheme=="three"?1.15:1,tinyStyles:s=>{switch(s.headline_scheme){case"single":return[{title:"Absatz",format:"p"},{title:"berschrift",format:"h1"},{title:"Maschinenschrift",format:"pre"},{title:"Listenelement",block:"li"}];case"three":return[{title:"Absatz",format:"p"},{title:"berschrift 1",format:"h1"},{title:"berschrift 2",format:"h2"},{title:"berschrift 3",format:"h3"},{title:"Maschinenschrift",format:"pre"},{title:"Listenelement",block:"li"}];default:return[{title:"Absatz",format:"p"},{title:"berschrift 1",format:"h1"},{title:"berschrift 2",format:"h2"},{title:"berschrift 3",format:"h3"},{title:"berschrift 4",format:"h4"},{title:"berschrift 5",format:"h5"},{title:"berschrift 6",format:"h6"},{title:"Maschinenschrift",format:"pre"},{title:"Listenelement",block:"li"}]}},tinyFormats:s=>({underline:{inline:"u",remove:"all"}}),tinyContentStyle:s=>{const i=kfe.toString();switch(s.headline_scheme){case"single":return i+`
`+Efe.toString();case"three":return i+`
`+Afe.toString();case"numeric":return i+`
`+Tfe.toString();case"edutiek":return i+`
`+Ofe.toString();default:return i}},contentClass:s=>{switch(s.headline_scheme){case"single":return"headlines-single";case"three":return"headlines-three";case"numeric":return"headlines-numeric";case"edutiek":return"headlines-edutiek";default:return""}}},actions:{setData(s){this.headline_scheme=s.headline_scheme,this.formatting_options=s.formatting_options,this.notice_boards=s.notice_boards,this.copy_allowed=s.copy_allowed,this.primary_color=s.primary_color,this.primary_text_color=s.primary_text_color,this.allow_spellcheck=s.allow_spellcheck},async clearStorage(){try{await yH.clear()}catch(s){console.log(s)}},async loadFromStorage(){try{const s=await yH.getItem("settings");this.setData(s)}catch(s){console.log(s)}},async loadFromData(s){try{await yH.setItem("settings",s),this.setData(s)}catch(i){console.log(i)}}}}),oc=class oc{constructor(i={}){Uo(this,"action",null);Uo(this,"type",null);Uo(this,"key","");Uo(this,"last_change",0);Uo(this,"payload",null);this.setData(i),this.last_change==0&&(this.last_change=Date.now())}setData(i){i.action!==void 0&&oc.ALLOWED_ACTIONS.includes(i.action)&&(this.action=i.action.toString()),i.type!==void 0&&oc.ALLOWED_TYPES.includes(i.type)&&(this.type=i.type.toString()),i.key!==void 0&&i.key!==null&&(this.key=i.key.toString()),i.last_change!==void 0&&i.last_change!==null&&(this.last_change=parseInt(i.last_change)),i.payload!==void 0&&i.payload!==null&&(this.payload=i.payload)}getData(){return{action:this.action,type:this.type,key:this.key,last_change:this.last_change,payload:this.payload}}isValid(){return oc.ALLOWED_TYPES.includes(this.type)&&oc.ALLOWED_ACTIONS.includes(this.action)&&this.key!=""}};Uo(oc,"ACTION_SAVE","save"),Uo(oc,"ACTION_DELETE","delete"),Uo(oc,"ALLOWED_ACTIONS",[oc.ACTION_SAVE,oc.ACTION_DELETE]),Uo(oc,"TYPE_ANNOTATIONS","annotations"),Uo(oc,"TYPE_NOTES","notes"),Uo(oc,"TYPE_PREFERENCES","preferences"),Uo(oc,"ALLOWED_TYPES",[oc.TYPE_ANNOTATIONS,oc.TYPE_NOTES,oc.TYPE_PREFERENCES]);let _a=oc;const ty=qp.createInstance({storeName:"writer-changes",description:"Writer changes data"});function eK(){const s={changes:{},lastSave:0,lastSendingSuccess:0};for(const i of _a.ALLOWED_TYPES)s.changes[i]={};return s}const ed=fg("changes",{state:()=>eK(),getters:{countChanges:s=>{let i=0;for(const u in s.changes)i+=Object.keys(s.changes[u]).length;return i},getCountOfChangesFor:s=>function(u){return _a.ALLOWED_TYPES.includes(u)?Object.keys(s.changes[u]).length:(console.log("wrong type"+u),0)},getChangesFor:s=>function(u,m=0){if(!_a.ALLOWED_TYPES.includes(u))return[];const b=[];for(const h in s.changes[u]){const x=s.changes[u][h];(m==0||x.last_change<=m)&&b.push(x)}return b}},actions:{async clearStorage(){try{await ty.clear()}catch(s){console.log(s)}this.$reset()},async loadFromStorage(){const s=eK();try{for(const i in s.changes){const u=await ty.getItem(i);if(u){const m=JSON.parse(u);if(typeof m=="object"&&m!==null)for(const b in m)s.changes[i][b]=new _a(m[b])}}this.lastSave=parseInt(await ty.getItem("lastSave")),this.lastSendingSuccess=parseInt(await ty.getItem("lastSendingSuccess"))}catch(i){console.log(i)}this.$patch(s)},async saveChangesOfTypeToStorage(s){const i={};for(const u in this.changes[s]){const m=this.changes[s][u];i[u]=m.getData()}await ty.setItem(s,JSON.stringify(i)),this.lastSave=Date.now(),await ty.setItem("lastSave",this.lastSave)},async hasChangesInStorage(){for(const s in this.changes){const i=await ty.getItem(s);if(i){const u=JSON.parse(i);if(Object.keys(u).length>0)return!0}}return!1},async setChange(s){s.isValid()&&(this.changes[s.type][s.key]=s,await this.saveChangesOfTypeToStorage(s.type))},async unsetChange(s){s.isValid()&&(delete this.changes[s.type][s.key],await this.saveChangesOfTypeToStorage(s.type))},async setChangesSent(s,i,u){const m=this.changes[s];let b=!1;for(const h in i){const x=i[h],S=m[h];S&&(S.last_change<=u?(delete m[h],b=!0):(x==null||x!=h)&&(S.key=x,m[x]=S,delete m[h],b=!0))}b&&await this.saveChangesOfTypeToStorage(s),this.lastSendingSuccess=Date.now(),await ty.setItem("lastSendingSuccess",this.lastSendingSuccess)}}}),xH=qp.createInstance({storeName:"writer-preferences",description:"Preferences data"}),X0=fg("preferences",{state:()=>({instructions_zoom:1,editor_zoom:1,word_count_enabled:!1,word_count_characters:!1}),getters:{allData:s=>({instructions_zoom:s.instructions_zoom,editor_zoom:s.editor_zoom,word_count_enabled:s.word_count_enabled,word_count_characters:s.word_count_characters})},actions:{async clearStorage(){try{await xH.clear()}catch(s){console.log(s)}this.$reset()},async loadFromStorage(){try{const s=await xH.getItem("preferences");s&&this.$patch(s)}catch(s){console.log(s)}},async saveToStorage(){try{await xH.setItem("preferences",this.allData)}catch(s){console.log(s)}},loadFromData(s){try{this.$patch(s),this.sent=!0,this.saveToStorage()}catch(i){console.log(i)}},async update(){const s=ed();vi(),await this.saveToStorage(),await s.setChange(new _a({type:_a.TYPE_PREFERENCES,action:_a.ACTION_SAVE,key:"preferences"}))},async getChangedData(s=0){const i=vi(),u=ed(),m=[];for(const b of u.getChangesFor(_a.TYPE_PREFERENCES,s))m.push(i.getChangeDataToSend(b,this.allData));return m},zoomInstructionsIn(){this.instructions_zoom=this.instructions_zoom*1.1,this.update()},zoomInstructionsOut(){this.instructions_zoom=this.instructions_zoom*.9,this.update()},zoomEditorIn(){this.editor_zoom=this.editor_zoom*1.1,this.update()},zoomEditorOut(){this.editor_zoom=this.editor_zoom*.9,this.update()},toggleWordCountEnabled(){this.word_count_enabled=!this.word_count_enabled,this.update()},toggleWordCountCharacters(){this.word_count_characters=!this.word_count_characters,this.update()}}}),hi=class hi{constructor(i={}){Uo(this,"key","");Uo(this,"title","");Uo(this,"type",null);Uo(this,"embedded",!0);Uo(this,"source","");Uo(this,"url","");Uo(this,"mimetype","");Uo(this,"size",null);this.setData(i)}setData(i){i.key!==void 0&&i.key!==null&&(this.key=i.key.toString()),i.title!==void 0&&i.title!==null&&(this.title=i.title.toString()),i.type!==void 0&&hi.ALLOWED_TYPES.includes(i.type)&&(this.type=i.type.toString()),i.embedded!==void 0&&i.embedded!==null&&(this.embedded=!!i.embedded),i.source!==void 0&&i.source!==null&&(this.source=i.source.toString(),this.type==hi.TYPE_URL&&(this.url=this.source)),i.url!==void 0&&i.url!==null&&(this.url=i.url.toString()),i.mimetype!==void 0&&i.mimetype!==null&&(this.mimetype=i.mimetype),i.size!==void 0&&i.size!==null&&(this.size=parseInt(i.size))}getData(){return{key:this.key,title:this.title,type:this.type,embedded:this.embedded,url:this.url,mimetype:this.mimetype,size:this.size}}isPdf(){return[hi.TYPE_FILE,hi.TYPE_SOLUTION,hi.TYPE_INSTRUCTION].includes(this.type)}isExternalUrl(){return this.type==hi.TYPE_URL&&!this.embedded}isEmbeddedUrl(){return this.type==hi.TYPE_URL&&this.embedded}isEmbeddedSelectable(){return this.type==hi.TYPE_FILE||this.type==hi.TYPE_URL&&this.embedded}hasFileToLoad(){return[hi.TYPE_FILE,hi.TYPE_SOLUTION,hi.TYPE_INSTRUCTION].includes(this.type)}getKey(){return this.key}getSignature(){return JSON.stringify(this.getData())}getClone(){return new hi(this.getData())}};Uo(hi,"TYPE_FILE","file"),Uo(hi,"TYPE_URL","url"),Uo(hi,"TYPE_INSTRUCTION","instruct"),Uo(hi,"TYPE_SOLUTION","solution"),Uo(hi,"ALLOWED_TYPES",[hi.TYPE_FILE,hi.TYPE_URL,hi.TYPE_INSTRUCTION,hi.TYPE_SOLUTION]);let mu=hi;const W0=qp.createInstance({storeName:"writer-resources",description:"Resource data"}),Wf=fg("resources",{state:()=>({keys:[],resources:[],activeKey:""}),getters:{hasResources:s=>s.resources.length>0,hasInstruction(s){return!!s.resources.find(u=>u.type==mu.TYPE_INSTRUCTION)},getInstruction(s){return s.resources.find(i=>i.type==mu.TYPE_INSTRUCTION)},hasAnnotatableResource(s){return!!s.resources.find(u=>u.type==mu.TYPE_INSTRUCTION||u.type==mu.TYPE_FILE)},hasEmbeddedFileOrUrlResources(s){return!!s.resources.find(u=>(u.type==mu.TYPE_FILE||u.type==mu.TYPE_URL)&&u.embedded==!0)},getFileOrUrlResources(s){return s.resources.filter(i=>i.type==mu.TYPE_FILE||i.type==mu.TYPE_URL)},activeTitle(s){const i=s.resources.find(u=>u.key==s.activeKey);return i?i.title:""},getResource(s){return i=>s.resources.find(u=>u.key==i)},isActive(s){return i=>s.activeKey==i.key}},actions:{async clearStorage(){try{await W0.clear()}catch(s){console.log(s)}},async loadFromStorage(){try{const s=await W0.getItem("resourceKeys");s&&(this.keys=JSON.parse(s)),this.activeKey=await W0.getItem("activeKey")??[],this.resources=[];for(const i of this.keys){const u=await W0.getItem(i);if(u){const m=JSON.parse(u);if(typeof m=="object"&&m!==null){const b=new mu(m);this.resources.push(b)}}}await this.loadFiles()}catch(s){console.log(s)}},async loadFromData(s){const i=vi();try{await W0.clear(),this.$reset();for(const u of s){const m=new mu(u);m.type!=mu.TYPE_URL&&(m.url=i.getResourceUrl(m.key)),this.resources.push(m),this.activeKey==""&&m.isEmbeddedSelectable()&&(this.activeKey=m.key),this.keys.push(m.getKey()),await W0.setItem(m.getKey(),JSON.stringify(m.getData()))}await W0.setItem("keys",JSON.stringify(this.keys)),await W0.setItem("activeKey",this.activeKey),this.loadFiles()}catch(u){console.log(u)}},async selectResource(s){this.activeKey=s.key,await W0.setItem("activeKey",this.activeKey)},async loadFiles(){for(const s of this.keys){let i=this.getResource(s),u=null;if(i.hasFileToLoad())try{console.log("preload "+i.title+"..."),u=await Ma(i.url,{responseType:"blob",timeout:6e4}),console.log("finished. ")}catch(m){console.error(m)}}}}});var G0;let lg=(G0=class{constructor(i={}){Uo(this,"resource_key","");Uo(this,"mark_key","");Uo(this,"mark_value",null);Uo(this,"parent_number",0);Uo(this,"start_position",0);Uo(this,"end_position",0);Uo(this,"comment",null);Uo(this,"label","");this.setData(i)}static buildKey(i,u){return"ANNO_"+i+"_"+u}static getFromKey(i){const u=i.split("_");return new G0({resource_key:u[1],mark_key:u[2]})}static compare(i,u){return i.resource_key<u.resource_key?-1:i.resource_key>u.resource_key?1:i.parent_number<u.parent_number?-1:i.parent_number>u.parent_number?1:i.start_position<u.start_position?-1:i.start_position>u.start_position?1:0}setData(i){i.resource_key!==void 0&&i.resource_key!==null&&(this.resource_key=i.resource_key.toString()),i.mark_key!==void 0&&i.mark_key!==null?this.mark_key=i.mark_key:this.mark_key=Math.random().toString(),i.mark_value!==void 0&&i.mark_value!==null&&(this.mark_value=i.mark_value),i.parent_number!==void 0&&i.parent_number!==null&&(this.parent_number=i.parent_number),i.start_position!==void 0&&i.start_position!==null&&(this.start_position=i.start_position),i.end_position!==void 0&&i.end_position!==null&&(this.end_position=i.end_position),i.comment!==void 0&&i.comment!==null&&(this.comment=i.comment)}getData(){return{resource_key:this.resource_key,mark_key:this.mark_key,mark_value:this.mark_value,parent_number:this.parent_number,start_position:this.start_position,end_position:this.end_position,comment:this.comment}}getKey(){return G0.buildKey(this.resource_key,this.mark_key)}getSignature(){return JSON.stringify(this.getData())}getClone(){return new G0(this.getData())}},Uo(G0,"KEY_INSTRUCTIONS","0"),G0);const wH=qp.createInstance({storeName:"writer-layout",description:"Layout data"}),Fl=fg("layout",{state:()=>({expandedColumn:"none",leftContent:"instructions",rightContent:"essay",showTimer:!1,showHelp:!1,showSendingStatus:!1,focusTarget:"",focusChange:0}),getters:{isLeftExpanded:s=>s.expandedColumn=="left",isRightExpanded:s=>s.expandedColumn=="right",isLeftVisible:s=>s.expandedColumn!="right",isRightVisible:s=>s.expandedColumn!="left",isInstructionsSelected:s=>s.leftContent=="instructions",isInstructionsPdfSelected:s=>s.leftContent=="instructionsPdf",isResourcesSelected:s=>s.leftContent=="resources",isAnnotationsSelected:s=>s.rightContent=="annotations",isEssaySelected:s=>s.rightContent=="essay",isNotesSelected:s=>s.rightContent=="notes",isInstructionsVisible:s=>s.expandedColumn!="right"&&s.leftContent=="instructions",isInstructionsPdfVisible:s=>s.isInstructionsPdfSelected&&s.isLeftVisible,isResourcesVisible:s=>s.expandedColumn!="right"&&s.leftContent=="resources",isAnnotationsVisible:s=>s.expandedColumn!="left"&&s.rightContent=="annotations",isEssayVisible:s=>s.expandedColumn!="left"&&s.rightContent=="essay",isNotesVisible:s=>s.expandedColumn!="left"&&s.rightContent=="notes",isResourceShown:s=>{const i=Wf();return function(m){return s.isInstructionsPdfVisible&&m.type==mu.TYPE_INSTRUCTION||s.isResourcesVisible&&i.isActive(m)}},shownResourceKey:s=>{const i=Wf();if(s.isInstructionsVisible)return lg.KEY_INSTRUCTIONS;if(s.isInstructionsPdfVisible){const u=i.getInstruction;if(u)return u.key}else if(s.isResourcesVisible)return i.activeKey;return null}},actions:{async initialize(){await this.clearStorage();const s=Wf(),i=Pd();this.leftContent=i.hasInstructions?"instructions":s.hasInstruction?"instructionsPdf":s.hasEmbeddedFileOrUrlResources?"resources":"",this.leftContent||(this.expandedColumn="right")},async clearStorage(){try{await wH.clear()}catch(s){console.log(s)}},async loadFromStorage(){try{const s=await wH.getItem("layout");s&&(this.expandedColumn=s.expandedColumn,this.showTimer=s.showTimer)}catch(s){console.log(s)}},async saveToStorage(){try{await wH.setItem("layout",{expandedColumn:this.expandedColumn,showTimer:this.showTimer})}catch(s){console.log(s)}},showInstructions(){this.leftContent="instructions",this.setLeftVisible(),this.saveToStorage()},showInstructionsPdf(){this.leftContent="instructionsPdf",this.setLeftVisible(),this.saveToStorage()},showResources(){this.leftContent="resources",this.setLeftVisible(),this.saveToStorage()},showForResourceKey(s){const i=Wf(),u=i.getResource(s);u&&(u.type==mu.TYPE_INSTRUCTION?this.showInstructionsPdf():(i.selectResource(u),this.showResources()))},showAnnotations(){this.rightContent="annotations",this.setRightVisible(),this.saveToStorage()},showEssay(){this.rightContent="essay",this.setRightVisible(),this.saveToStorage()},showNotes(){this.rightContent="notes",this.setRightVisible(),this.saveToStorage()},setLeftVisible(){this.isLeftVisible||(this.expandedColumn="left",this.saveToStorage()),this.setFocusChange("left")},setRightVisible(){this.isRightVisible||(this.expandedColumn="right",this.saveToStorage()),this.setFocusChange("right")},setLeftExpanded(s){this.expandedColumn=s?"left":"none",this.setFocusChange("left"),this.saveToStorage()},setRightExpanded(s){this.expandedColumn=s?"right":"none",this.setFocusChange("right"),this.saveToStorage()},setFocusChange(s){this.focusTarget=s,this.focusChange=Date.now()},toggleTimer(){this.showTimer=!this.showTimer,this.saveToStorage()},handleKeyDown(s){if(s.altKey)switch(s.key){case"0":this.setFocusChange("header");break;case"1":this.setLeftVisible();break;case"2":this.setRightVisible();break;case"#":this.setFocusChange("navigation");break}}}});var JG={exports:{}};(function(s){var i=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},u=-1,m=1,b=0;i.Diff=function(h,x){return[h,x]},i.prototype.diff_main=function(h,x,S,B){typeof B>"u"&&(this.Diff_Timeout<=0?B=Number.MAX_VALUE:B=new Date().getTime()+this.Diff_Timeout*1e3);var N=B;if(h==null||x==null)throw new Error("Null input. (diff_main)");if(h==x)return h?[new i.Diff(b,h)]:[];typeof S>"u"&&(S=!0);var R=S,F=this.diff_commonPrefix(h,x),W=h.substring(0,F);h=h.substring(F),x=x.substring(F),F=this.diff_commonSuffix(h,x);var $=h.substring(h.length-F);h=h.substring(0,h.length-F),x=x.substring(0,x.length-F);var K=this.diff_compute_(h,x,R,N);return W&&K.unshift(new i.Diff(b,W)),$&&K.push(new i.Diff(b,$)),this.diff_cleanupMerge(K),K},i.prototype.diff_compute_=function(h,x,S,B){var N;if(!h)return[new i.Diff(m,x)];if(!x)return[new i.Diff(u,h)];var R=h.length>x.length?h:x,F=h.length>x.length?x:h,W=R.indexOf(F);if(W!=-1)return N=[new i.Diff(m,R.substring(0,W)),new i.Diff(b,F),new i.Diff(m,R.substring(W+F.length))],h.length>x.length&&(N[0][0]=N[2][0]=u),N;if(F.length==1)return[new i.Diff(u,h),new i.Diff(m,x)];var $=this.diff_halfMatch_(h,x);if($){var K=$[0],ee=$[1],fe=$[2],he=$[3],Ue=$[4],Te=this.diff_main(K,fe,S,B),te=this.diff_main(ee,he,S,B);return Te.concat([new i.Diff(b,Ue)],te)}return S&&h.length>100&&x.length>100?this.diff_lineMode_(h,x,B):this.diff_bisect_(h,x,B)},i.prototype.diff_lineMode_=function(h,x,S){var B=this.diff_linesToChars_(h,x);h=B.chars1,x=B.chars2;var N=B.lineArray,R=this.diff_main(h,x,!1,S);this.diff_charsToLines_(R,N),this.diff_cleanupSemantic(R),R.push(new i.Diff(b,""));for(var F=0,W=0,$=0,K="",ee="";F<R.length;){switch(R[F][0]){case m:$++,ee+=R[F][1];break;case u:W++,K+=R[F][1];break;case b:if(W>=1&&$>=1){R.splice(F-W-$,W+$),F=F-W-$;for(var fe=this.diff_main(K,ee,!1,S),he=fe.length-1;he>=0;he--)R.splice(F,0,fe[he]);F=F+fe.length}$=0,W=0,K="",ee="";break}F++}return R.pop(),R},i.prototype.diff_bisect_=function(h,x,S){for(var B=h.length,N=x.length,R=Math.ceil((B+N)/2),F=R,W=2*R,$=new Array(W),K=new Array(W),ee=0;ee<W;ee++)$[ee]=-1,K[ee]=-1;$[F+1]=0,K[F+1]=0;for(var fe=B-N,he=fe%2!=0,Ue=0,Te=0,te=0,Ae=0,ne=0;ne<R&&!(new Date().getTime()>S);ne++){for(var Ge=-ne+Ue;Ge<=ne-Te;Ge+=2){var $e=F+Ge,Ze;Ge==-ne||Ge!=ne&&$[$e-1]<$[$e+1]?Ze=$[$e+1]:Ze=$[$e-1]+1;for(var nt=Ze-Ge;Ze<B&&nt<N&&h.charAt(Ze)==x.charAt(nt);)Ze++,nt++;if($[$e]=Ze,Ze>B)Te+=2;else if(nt>N)Ue+=2;else if(he){var Ce=F+fe-Ge;if(Ce>=0&&Ce<W&&K[Ce]!=-1){var Ne=B-K[Ce];if(Ze>=Ne)return this.diff_bisectSplit_(h,x,Ze,nt,S)}}}for(var D=-ne+te;D<=ne-Ae;D+=2){var Ce=F+D,Ne;D==-ne||D!=ne&&K[Ce-1]<K[Ce+1]?Ne=K[Ce+1]:Ne=K[Ce-1]+1;for(var yt=Ne-D;Ne<B&&yt<N&&h.charAt(B-Ne-1)==x.charAt(N-yt-1);)Ne++,yt++;if(K[Ce]=Ne,Ne>B)Ae+=2;else if(yt>N)te+=2;else if(!he){var $e=F+fe-D;if($e>=0&&$e<W&&$[$e]!=-1){var Ze=$[$e],nt=F+Ze-$e;if(Ne=B-Ne,Ze>=Ne)return this.diff_bisectSplit_(h,x,Ze,nt,S)}}}}return[new i.Diff(u,h),new i.Diff(m,x)]},i.prototype.diff_bisectSplit_=function(h,x,S,B,N){var R=h.substring(0,S),F=x.substring(0,B),W=h.substring(S),$=x.substring(B),K=this.diff_main(R,F,!1,N),ee=this.diff_main(W,$,!1,N);return K.concat(ee)},i.prototype.diff_linesToChars_=function(h,x){var S=[],B={};S[0]="";function N($){for(var K="",ee=0,fe=-1,he=S.length;fe<$.length-1;){fe=$.indexOf(`
`,ee),fe==-1&&(fe=$.length-1);var Ue=$.substring(ee,fe+1);(B.hasOwnProperty?B.hasOwnProperty(Ue):B[Ue]!==void 0)?K+=String.fromCharCode(B[Ue]):(he==R&&(Ue=$.substring(ee),fe=$.length),K+=String.fromCharCode(he),B[Ue]=he,S[he++]=Ue),ee=fe+1}return K}var R=4e4,F=N(h);R=65535;var W=N(x);return{chars1:F,chars2:W,lineArray:S}},i.prototype.diff_charsToLines_=function(h,x){for(var S=0;S<h.length;S++){for(var B=h[S][1],N=[],R=0;R<B.length;R++)N[R]=x[B.charCodeAt(R)];h[S][1]=N.join("")}},i.prototype.diff_commonPrefix=function(h,x){if(!h||!x||h.charAt(0)!=x.charAt(0))return 0;for(var S=0,B=Math.min(h.length,x.length),N=B,R=0;S<N;)h.substring(R,N)==x.substring(R,N)?(S=N,R=S):B=N,N=Math.floor((B-S)/2+S);return N},i.prototype.diff_commonSuffix=function(h,x){if(!h||!x||h.charAt(h.length-1)!=x.charAt(x.length-1))return 0;for(var S=0,B=Math.min(h.length,x.length),N=B,R=0;S<N;)h.substring(h.length-N,h.length-R)==x.substring(x.length-N,x.length-R)?(S=N,R=S):B=N,N=Math.floor((B-S)/2+S);return N},i.prototype.diff_commonOverlap_=function(h,x){var S=h.length,B=x.length;if(S==0||B==0)return 0;S>B?h=h.substring(S-B):S<B&&(x=x.substring(0,S));var N=Math.min(S,B);if(h==x)return N;for(var R=0,F=1;;){var W=h.substring(N-F),$=x.indexOf(W);if($==-1)return R;F+=$,($==0||h.substring(N-F)==x.substring(0,F))&&(R=F,F++)}},i.prototype.diff_halfMatch_=function(h,x){if(this.Diff_Timeout<=0)return null;var S=h.length>x.length?h:x,B=h.length>x.length?x:h;if(S.length<4||B.length*2<S.length)return null;var N=this;function R(Te,te,Ae){for(var ne=Te.substring(Ae,Ae+Math.floor(Te.length/4)),Ge=-1,$e="",Ze,nt,Ce,Ne;(Ge=te.indexOf(ne,Ge+1))!=-1;){var D=N.diff_commonPrefix(Te.substring(Ae),te.substring(Ge)),yt=N.diff_commonSuffix(Te.substring(0,Ae),te.substring(0,Ge));$e.length<yt+D&&($e=te.substring(Ge-yt,Ge)+te.substring(Ge,Ge+D),Ze=Te.substring(0,Ae-yt),nt=Te.substring(Ae+D),Ce=te.substring(0,Ge-yt),Ne=te.substring(Ge+D))}return $e.length*2>=Te.length?[Ze,nt,Ce,Ne,$e]:null}var F=R(S,B,Math.ceil(S.length/4)),W=R(S,B,Math.ceil(S.length/2)),$;if(!F&&!W)return null;W?F?$=F[4].length>W[4].length?F:W:$=W:$=F;var K,ee,fe,he;h.length>x.length?(K=$[0],ee=$[1],fe=$[2],he=$[3]):(fe=$[0],he=$[1],K=$[2],ee=$[3]);var Ue=$[4];return[K,ee,fe,he,Ue]},i.prototype.diff_cleanupSemantic=function(h){for(var x=!1,S=[],B=0,N=null,R=0,F=0,W=0,$=0,K=0;R<h.length;)h[R][0]==b?(S[B++]=R,F=$,W=K,$=0,K=0,N=h[R][1]):(h[R][0]==m?$+=h[R][1].length:K+=h[R][1].length,N&&N.length<=Math.max(F,W)&&N.length<=Math.max($,K)&&(h.splice(S[B-1],0,new i.Diff(u,N)),h[S[B-1]+1][0]=m,B--,B--,R=B>0?S[B-1]:-1,F=0,W=0,$=0,K=0,N=null,x=!0)),R++;for(x&&this.diff_cleanupMerge(h),this.diff_cleanupSemanticLossless(h),R=1;R<h.length;){if(h[R-1][0]==u&&h[R][0]==m){var ee=h[R-1][1],fe=h[R][1],he=this.diff_commonOverlap_(ee,fe),Ue=this.diff_commonOverlap_(fe,ee);he>=Ue?(he>=ee.length/2||he>=fe.length/2)&&(h.splice(R,0,new i.Diff(b,fe.substring(0,he))),h[R-1][1]=ee.substring(0,ee.length-he),h[R+1][1]=fe.substring(he),R++):(Ue>=ee.length/2||Ue>=fe.length/2)&&(h.splice(R,0,new i.Diff(b,ee.substring(0,Ue))),h[R-1][0]=m,h[R-1][1]=fe.substring(0,fe.length-Ue),h[R+1][0]=u,h[R+1][1]=ee.substring(Ue),R++),R++}R++}},i.prototype.diff_cleanupSemanticLossless=function(h){function x(Ue,Te){if(!Ue||!Te)return 6;var te=Ue.charAt(Ue.length-1),Ae=Te.charAt(0),ne=te.match(i.nonAlphaNumericRegex_),Ge=Ae.match(i.nonAlphaNumericRegex_),$e=ne&&te.match(i.whitespaceRegex_),Ze=Ge&&Ae.match(i.whitespaceRegex_),nt=$e&&te.match(i.linebreakRegex_),Ce=Ze&&Ae.match(i.linebreakRegex_),Ne=nt&&Ue.match(i.blanklineEndRegex_),D=Ce&&Te.match(i.blanklineStartRegex_);return Ne||D?5:nt||Ce?4:ne&&!$e&&Ze?3:$e||Ze?2:ne||Ge?1:0}for(var S=1;S<h.length-1;){if(h[S-1][0]==b&&h[S+1][0]==b){var B=h[S-1][1],N=h[S][1],R=h[S+1][1],F=this.diff_commonSuffix(B,N);if(F){var W=N.substring(N.length-F);B=B.substring(0,B.length-F),N=W+N.substring(0,N.length-F),R=W+R}for(var $=B,K=N,ee=R,fe=x(B,N)+x(N,R);N.charAt(0)===R.charAt(0);){B+=N.charAt(0),N=N.substring(1)+R.charAt(0),R=R.substring(1);var he=x(B,N)+x(N,R);he>=fe&&(fe=he,$=B,K=N,ee=R)}h[S-1][1]!=$&&($?h[S-1][1]=$:(h.splice(S-1,1),S--),h[S][1]=K,ee?h[S+1][1]=ee:(h.splice(S+1,1),S--))}S++}},i.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,i.whitespaceRegex_=/\s/,i.linebreakRegex_=/[\r\n]/,i.blanklineEndRegex_=/\n\r?\n$/,i.blanklineStartRegex_=/^\r?\n\r?\n/,i.prototype.diff_cleanupEfficiency=function(h){for(var x=!1,S=[],B=0,N=null,R=0,F=!1,W=!1,$=!1,K=!1;R<h.length;)h[R][0]==b?(h[R][1].length<this.Diff_EditCost&&($||K)?(S[B++]=R,F=$,W=K,N=h[R][1]):(B=0,N=null),$=K=!1):(h[R][0]==u?K=!0:$=!0,N&&(F&&W&&$&&K||N.length<this.Diff_EditCost/2&&F+W+$+K==3)&&(h.splice(S[B-1],0,new i.Diff(u,N)),h[S[B-1]+1][0]=m,B--,N=null,F&&W?($=K=!0,B=0):(B--,R=B>0?S[B-1]:-1,$=K=!1),x=!0)),R++;x&&this.diff_cleanupMerge(h)},i.prototype.diff_cleanupMerge=function(h){h.push(new i.Diff(b,""));for(var x=0,S=0,B=0,N="",R="",F;x<h.length;)switch(h[x][0]){case m:B++,R+=h[x][1],x++;break;case u:S++,N+=h[x][1],x++;break;case b:S+B>1?(S!==0&&B!==0&&(F=this.diff_commonPrefix(R,N),F!==0&&(x-S-B>0&&h[x-S-B-1][0]==b?h[x-S-B-1][1]+=R.substring(0,F):(h.splice(0,0,new i.Diff(b,R.substring(0,F))),x++),R=R.substring(F),N=N.substring(F)),F=this.diff_commonSuffix(R,N),F!==0&&(h[x][1]=R.substring(R.length-F)+h[x][1],R=R.substring(0,R.length-F),N=N.substring(0,N.length-F))),x-=S+B,h.splice(x,S+B),N.length&&(h.splice(x,0,new i.Diff(u,N)),x++),R.length&&(h.splice(x,0,new i.Diff(m,R)),x++),x++):x!==0&&h[x-1][0]==b?(h[x-1][1]+=h[x][1],h.splice(x,1)):x++,B=0,S=0,N="",R="";break}h[h.length-1][1]===""&&h.pop();var W=!1;for(x=1;x<h.length-1;)h[x-1][0]==b&&h[x+1][0]==b&&(h[x][1].substring(h[x][1].length-h[x-1][1].length)==h[x-1][1]?(h[x][1]=h[x-1][1]+h[x][1].substring(0,h[x][1].length-h[x-1][1].length),h[x+1][1]=h[x-1][1]+h[x+1][1],h.splice(x-1,1),W=!0):h[x][1].substring(0,h[x+1][1].length)==h[x+1][1]&&(h[x-1][1]+=h[x+1][1],h[x][1]=h[x][1].substring(h[x+1][1].length)+h[x+1][1],h.splice(x+1,1),W=!0)),x++;W&&this.diff_cleanupMerge(h)},i.prototype.diff_xIndex=function(h,x){var S=0,B=0,N=0,R=0,F;for(F=0;F<h.length&&(h[F][0]!==m&&(S+=h[F][1].length),h[F][0]!==u&&(B+=h[F][1].length),!(S>x));F++)N=S,R=B;return h.length!=F&&h[F][0]===u?R:R+(x-N)},i.prototype.diff_prettyHtml=function(h){for(var x=[],S=/&/g,B=/</g,N=/>/g,R=/\n/g,F=0;F<h.length;F++){var W=h[F][0],$=h[F][1],K=$.replace(S,"&amp;").replace(B,"&lt;").replace(N,"&gt;").replace(R,"&para;<br>");switch(W){case m:x[F]='<ins style="background:#e6ffe6;">'+K+"</ins>";break;case u:x[F]='<del style="background:#ffe6e6;">'+K+"</del>";break;case b:x[F]="<span>"+K+"</span>";break}}return x.join("")},i.prototype.diff_text1=function(h){for(var x=[],S=0;S<h.length;S++)h[S][0]!==m&&(x[S]=h[S][1]);return x.join("")},i.prototype.diff_text2=function(h){for(var x=[],S=0;S<h.length;S++)h[S][0]!==u&&(x[S]=h[S][1]);return x.join("")},i.prototype.diff_levenshtein=function(h){for(var x=0,S=0,B=0,N=0;N<h.length;N++){var R=h[N][0],F=h[N][1];switch(R){case m:S+=F.length;break;case u:B+=F.length;break;case b:x+=Math.max(S,B),S=0,B=0;break}}return x+=Math.max(S,B),x},i.prototype.diff_toDelta=function(h){for(var x=[],S=0;S<h.length;S++)switch(h[S][0]){case m:x[S]="+"+encodeURI(h[S][1]);break;case u:x[S]="-"+h[S][1].length;break;case b:x[S]="="+h[S][1].length;break}return x.join("	").replace(/%20/g," ")},i.prototype.diff_fromDelta=function(h,x){for(var S=[],B=0,N=0,R=x.split(/\t/g),F=0;F<R.length;F++){var W=R[F].substring(1);switch(R[F].charAt(0)){case"+":try{S[B++]=new i.Diff(m,decodeURI(W))}catch{throw new Error("Illegal escape in diff_fromDelta: "+W)}break;case"-":case"=":var $=parseInt(W,10);if(isNaN($)||$<0)throw new Error("Invalid number in diff_fromDelta: "+W);var K=h.substring(N,N+=$);R[F].charAt(0)=="="?S[B++]=new i.Diff(b,K):S[B++]=new i.Diff(u,K);break;default:if(R[F])throw new Error("Invalid diff operation in diff_fromDelta: "+R[F])}}if(N!=h.length)throw new Error("Delta length ("+N+") does not equal source text length ("+h.length+").");return S},i.prototype.match_main=function(h,x,S){if(h==null||x==null||S==null)throw new Error("Null input. (match_main)");return S=Math.max(0,Math.min(S,h.length)),h==x?0:h.length?h.substring(S,S+x.length)==x?S:this.match_bitap_(h,x,S):-1},i.prototype.match_bitap_=function(h,x,S){if(x.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var B=this.match_alphabet_(x),N=this;function R(Ze,nt){var Ce=Ze/x.length,Ne=Math.abs(S-nt);return N.Match_Distance?Ce+Ne/N.Match_Distance:Ne?1:Ce}var F=this.Match_Threshold,W=h.indexOf(x,S);W!=-1&&(F=Math.min(R(0,W),F),W=h.lastIndexOf(x,S+x.length),W!=-1&&(F=Math.min(R(0,W),F)));var $=1<<x.length-1;W=-1;for(var K,ee,fe=x.length+h.length,he,Ue=0;Ue<x.length;Ue++){for(K=0,ee=fe;K<ee;)R(Ue,S+ee)<=F?K=ee:fe=ee,ee=Math.floor((fe-K)/2+K);fe=ee;var Te=Math.max(1,S-ee+1),te=Math.min(S+ee,h.length)+x.length,Ae=Array(te+2);Ae[te+1]=(1<<Ue)-1;for(var ne=te;ne>=Te;ne--){var Ge=B[h.charAt(ne-1)];if(Ue===0?Ae[ne]=(Ae[ne+1]<<1|1)&Ge:Ae[ne]=(Ae[ne+1]<<1|1)&Ge|((he[ne+1]|he[ne])<<1|1)|he[ne+1],Ae[ne]&$){var $e=R(Ue,ne-1);if($e<=F)if(F=$e,W=ne-1,W>S)Te=Math.max(1,2*S-W);else break}}if(R(Ue+1,S)>F)break;he=Ae}return W},i.prototype.match_alphabet_=function(h){for(var x={},S=0;S<h.length;S++)x[h.charAt(S)]=0;for(var S=0;S<h.length;S++)x[h.charAt(S)]|=1<<h.length-S-1;return x},i.prototype.patch_addContext_=function(h,x){if(x.length!=0){if(h.start2===null)throw Error("patch not initialized");for(var S=x.substring(h.start2,h.start2+h.length1),B=0;x.indexOf(S)!=x.lastIndexOf(S)&&S.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)B+=this.Patch_Margin,S=x.substring(h.start2-B,h.start2+h.length1+B);B+=this.Patch_Margin;var N=x.substring(h.start2-B,h.start2);N&&h.diffs.unshift(new i.Diff(b,N));var R=x.substring(h.start2+h.length1,h.start2+h.length1+B);R&&h.diffs.push(new i.Diff(b,R)),h.start1-=N.length,h.start2-=N.length,h.length1+=N.length+R.length,h.length2+=N.length+R.length}},i.prototype.patch_make=function(h,x,S){var B,N;if(typeof h=="string"&&typeof x=="string"&&typeof S>"u")B=h,N=this.diff_main(B,x,!0),N.length>2&&(this.diff_cleanupSemantic(N),this.diff_cleanupEfficiency(N));else if(h&&typeof h=="object"&&typeof x>"u"&&typeof S>"u")N=h,B=this.diff_text1(N);else if(typeof h=="string"&&x&&typeof x=="object"&&typeof S>"u")B=h,N=x;else if(typeof h=="string"&&typeof x=="string"&&S&&typeof S=="object")B=h,N=S;else throw new Error("Unknown call format to patch_make.");if(N.length===0)return[];for(var R=[],F=new i.patch_obj,W=0,$=0,K=0,ee=B,fe=B,he=0;he<N.length;he++){var Ue=N[he][0],Te=N[he][1];switch(!W&&Ue!==b&&(F.start1=$,F.start2=K),Ue){case m:F.diffs[W++]=N[he],F.length2+=Te.length,fe=fe.substring(0,K)+Te+fe.substring(K);break;case u:F.length1+=Te.length,F.diffs[W++]=N[he],fe=fe.substring(0,K)+fe.substring(K+Te.length);break;case b:Te.length<=2*this.Patch_Margin&&W&&N.length!=he+1?(F.diffs[W++]=N[he],F.length1+=Te.length,F.length2+=Te.length):Te.length>=2*this.Patch_Margin&&W&&(this.patch_addContext_(F,ee),R.push(F),F=new i.patch_obj,W=0,ee=fe,$=K);break}Ue!==m&&($+=Te.length),Ue!==u&&(K+=Te.length)}return W&&(this.patch_addContext_(F,ee),R.push(F)),R},i.prototype.patch_deepCopy=function(h){for(var x=[],S=0;S<h.length;S++){var B=h[S],N=new i.patch_obj;N.diffs=[];for(var R=0;R<B.diffs.length;R++)N.diffs[R]=new i.Diff(B.diffs[R][0],B.diffs[R][1]);N.start1=B.start1,N.start2=B.start2,N.length1=B.length1,N.length2=B.length2,x[S]=N}return x},i.prototype.patch_apply=function(h,x){if(h.length==0)return[x,[]];h=this.patch_deepCopy(h);var S=this.patch_addPadding(h);x=S+x+S,this.patch_splitMax(h);for(var B=0,N=[],R=0;R<h.length;R++){var F=h[R].start2+B,W=this.diff_text1(h[R].diffs),$,K=-1;if(W.length>this.Match_MaxBits?($=this.match_main(x,W.substring(0,this.Match_MaxBits),F),$!=-1&&(K=this.match_main(x,W.substring(W.length-this.Match_MaxBits),F+W.length-this.Match_MaxBits),(K==-1||$>=K)&&($=-1))):$=this.match_main(x,W,F),$==-1)N[R]=!1,B-=h[R].length2-h[R].length1;else{N[R]=!0,B=$-F;var ee;if(K==-1?ee=x.substring($,$+W.length):ee=x.substring($,K+this.Match_MaxBits),W==ee)x=x.substring(0,$)+this.diff_text2(h[R].diffs)+x.substring($+W.length);else{var fe=this.diff_main(W,ee,!1);if(W.length>this.Match_MaxBits&&this.diff_levenshtein(fe)/W.length>this.Patch_DeleteThreshold)N[R]=!1;else{this.diff_cleanupSemanticLossless(fe);for(var he=0,Ue,Te=0;Te<h[R].diffs.length;Te++){var te=h[R].diffs[Te];te[0]!==b&&(Ue=this.diff_xIndex(fe,he)),te[0]===m?x=x.substring(0,$+Ue)+te[1]+x.substring($+Ue):te[0]===u&&(x=x.substring(0,$+Ue)+x.substring($+this.diff_xIndex(fe,he+te[1].length))),te[0]!==u&&(he+=te[1].length)}}}}}return x=x.substring(S.length,x.length-S.length),[x,N]},i.prototype.patch_addPadding=function(h){for(var x=this.Patch_Margin,S="",B=1;B<=x;B++)S+=String.fromCharCode(B);for(var B=0;B<h.length;B++)h[B].start1+=x,h[B].start2+=x;var N=h[0],R=N.diffs;if(R.length==0||R[0][0]!=b)R.unshift(new i.Diff(b,S)),N.start1-=x,N.start2-=x,N.length1+=x,N.length2+=x;else if(x>R[0][1].length){var F=x-R[0][1].length;R[0][1]=S.substring(R[0][1].length)+R[0][1],N.start1-=F,N.start2-=F,N.length1+=F,N.length2+=F}if(N=h[h.length-1],R=N.diffs,R.length==0||R[R.length-1][0]!=b)R.push(new i.Diff(b,S)),N.length1+=x,N.length2+=x;else if(x>R[R.length-1][1].length){var F=x-R[R.length-1][1].length;R[R.length-1][1]+=S.substring(0,F),N.length1+=F,N.length2+=F}return S},i.prototype.patch_splitMax=function(h){for(var x=this.Match_MaxBits,S=0;S<h.length;S++)if(!(h[S].length1<=x)){var B=h[S];h.splice(S--,1);for(var N=B.start1,R=B.start2,F="";B.diffs.length!==0;){var W=new i.patch_obj,$=!0;for(W.start1=N-F.length,W.start2=R-F.length,F!==""&&(W.length1=W.length2=F.length,W.diffs.push(new i.Diff(b,F)));B.diffs.length!==0&&W.length1<x-this.Patch_Margin;){var K=B.diffs[0][0],ee=B.diffs[0][1];K===m?(W.length2+=ee.length,R+=ee.length,W.diffs.push(B.diffs.shift()),$=!1):K===u&&W.diffs.length==1&&W.diffs[0][0]==b&&ee.length>2*x?(W.length1+=ee.length,N+=ee.length,$=!1,W.diffs.push(new i.Diff(K,ee)),B.diffs.shift()):(ee=ee.substring(0,x-W.length1-this.Patch_Margin),W.length1+=ee.length,N+=ee.length,K===b?(W.length2+=ee.length,R+=ee.length):$=!1,W.diffs.push(new i.Diff(K,ee)),ee==B.diffs[0][1]?B.diffs.shift():B.diffs[0][1]=B.diffs[0][1].substring(ee.length))}F=this.diff_text2(W.diffs),F=F.substring(F.length-this.Patch_Margin);var fe=this.diff_text1(B.diffs).substring(0,this.Patch_Margin);fe!==""&&(W.length1+=fe.length,W.length2+=fe.length,W.diffs.length!==0&&W.diffs[W.diffs.length-1][0]===b?W.diffs[W.diffs.length-1][1]+=fe:W.diffs.push(new i.Diff(b,fe))),$||h.splice(++S,0,W)}}},i.prototype.patch_toText=function(h){for(var x=[],S=0;S<h.length;S++)x[S]=h[S];return x.join("")},i.prototype.patch_fromText=function(h){var x=[];if(!h)return x;for(var S=h.split(`
`),B=0,N=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;B<S.length;){var R=S[B].match(N);if(!R)throw new Error("Invalid patch string: "+S[B]);var F=new i.patch_obj;for(x.push(F),F.start1=parseInt(R[1],10),R[2]===""?(F.start1--,F.length1=1):R[2]=="0"?F.length1=0:(F.start1--,F.length1=parseInt(R[2],10)),F.start2=parseInt(R[3],10),R[4]===""?(F.start2--,F.length2=1):R[4]=="0"?F.length2=0:(F.start2--,F.length2=parseInt(R[4],10)),B++;B<S.length;){var W=S[B].charAt(0);try{var $=decodeURI(S[B].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+$)}if(W=="-")F.diffs.push(new i.Diff(u,$));else if(W=="+")F.diffs.push(new i.Diff(m,$));else if(W==" ")F.diffs.push(new i.Diff(b,$));else{if(W=="@")break;if(W!=="")throw new Error('Invalid patch mode "'+W+'" in: '+$)}B++}}return x},i.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},i.patch_obj.prototype.toString=function(){var h,x;this.length1===0?h=this.start1+",0":this.length1==1?h=this.start1+1:h=this.start1+1+","+this.length1,this.length2===0?x=this.start2+",0":this.length2==1?x=this.start2+1:x=this.start2+1+","+this.length2;for(var S=["@@ -"+h+" +"+x+` @@
`],B,N=0;N<this.diffs.length;N++){switch(this.diffs[N][0]){case m:B="+";break;case u:B="-";break;case b:B=" ";break}S[N+1]=B+encodeURI(this.diffs[N][1])+`
`}return S.join("").replace(/%20/g," ")},s.exports=i,s.exports.diff_match_patch=i,s.exports.DIFF_DELETE=u,s.exports.DIFF_INSERT=m,s.exports.DIFF_EQUAL=b})(JG);var Dfe=JG.exports;const Rfe=AM(Dfe);var QG={exports:{}},eY={exports:{}};(function(){var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={rotl:function(u,m){return u<<m|u>>>32-m},rotr:function(u,m){return u<<32-m|u>>>m},endian:function(u){if(u.constructor==Number)return i.rotl(u,8)&16711935|i.rotl(u,24)&4278255360;for(var m=0;m<u.length;m++)u[m]=i.endian(u[m]);return u},randomBytes:function(u){for(var m=[];u>0;u--)m.push(Math.floor(Math.random()*256));return m},bytesToWords:function(u){for(var m=[],b=0,h=0;b<u.length;b++,h+=8)m[h>>>5]|=u[b]<<24-h%32;return m},wordsToBytes:function(u){for(var m=[],b=0;b<u.length*32;b+=8)m.push(u[b>>>5]>>>24-b%32&255);return m},bytesToHex:function(u){for(var m=[],b=0;b<u.length;b++)m.push((u[b]>>>4).toString(16)),m.push((u[b]&15).toString(16));return m.join("")},hexToBytes:function(u){for(var m=[],b=0;b<u.length;b+=2)m.push(parseInt(u.substr(b,2),16));return m},bytesToBase64:function(u){for(var m=[],b=0;b<u.length;b+=3)for(var h=u[b]<<16|u[b+1]<<8|u[b+2],x=0;x<4;x++)b*8+x*6<=u.length*8?m.push(s.charAt(h>>>6*(3-x)&63)):m.push("=");return m.join("")},base64ToBytes:function(u){u=u.replace(/[^A-Z0-9+\/]/ig,"");for(var m=[],b=0,h=0;b<u.length;h=++b%4)h!=0&&m.push((s.indexOf(u.charAt(b-1))&Math.pow(2,-2*h+8)-1)<<h*2|s.indexOf(u.charAt(b))>>>6-h*2);return m}};eY.exports=i})();var Nfe=eY.exports,lV={utf8:{stringToBytes:function(s){return lV.bin.stringToBytes(unescape(encodeURIComponent(s)))},bytesToString:function(s){return decodeURIComponent(escape(lV.bin.bytesToString(s)))}},bin:{stringToBytes:function(s){for(var i=[],u=0;u<s.length;u++)i.push(s.charCodeAt(u)&255);return i},bytesToString:function(s){for(var i=[],u=0;u<s.length;u++)i.push(String.fromCharCode(s[u]));return i.join("")}}},tK=lV;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Ife=function(s){return s!=null&&(tY(s)||Bfe(s)||!!s._isBuffer)};function tY(s){return!!s.constructor&&typeof s.constructor.isBuffer=="function"&&s.constructor.isBuffer(s)}function Bfe(s){return typeof s.readFloatLE=="function"&&typeof s.slice=="function"&&tY(s.slice(0,0))}(function(){var s=Nfe,i=tK.utf8,u=Ife,m=tK.bin,b=function(h,x){h.constructor==String?x&&x.encoding==="binary"?h=m.stringToBytes(h):h=i.stringToBytes(h):u(h)?h=Array.prototype.slice.call(h,0):!Array.isArray(h)&&h.constructor!==Uint8Array&&(h=h.toString());for(var S=s.bytesToWords(h),B=h.length*8,N=1732584193,R=-271733879,F=-1732584194,W=271733878,$=0;$<S.length;$++)S[$]=(S[$]<<8|S[$]>>>24)&16711935|(S[$]<<24|S[$]>>>8)&4278255360;S[B>>>5]|=128<<B%32,S[(B+64>>>9<<4)+14]=B;for(var K=b._ff,ee=b._gg,fe=b._hh,he=b._ii,$=0;$<S.length;$+=16){var Ue=N,Te=R,te=F,Ae=W;N=K(N,R,F,W,S[$+0],7,-680876936),W=K(W,N,R,F,S[$+1],12,-389564586),F=K(F,W,N,R,S[$+2],17,606105819),R=K(R,F,W,N,S[$+3],22,-1044525330),N=K(N,R,F,W,S[$+4],7,-176418897),W=K(W,N,R,F,S[$+5],12,1200080426),F=K(F,W,N,R,S[$+6],17,-1473231341),R=K(R,F,W,N,S[$+7],22,-45705983),N=K(N,R,F,W,S[$+8],7,1770035416),W=K(W,N,R,F,S[$+9],12,-1958414417),F=K(F,W,N,R,S[$+10],17,-42063),R=K(R,F,W,N,S[$+11],22,-1990404162),N=K(N,R,F,W,S[$+12],7,1804603682),W=K(W,N,R,F,S[$+13],12,-40341101),F=K(F,W,N,R,S[$+14],17,-1502002290),R=K(R,F,W,N,S[$+15],22,1236535329),N=ee(N,R,F,W,S[$+1],5,-165796510),W=ee(W,N,R,F,S[$+6],9,-1069501632),F=ee(F,W,N,R,S[$+11],14,643717713),R=ee(R,F,W,N,S[$+0],20,-373897302),N=ee(N,R,F,W,S[$+5],5,-701558691),W=ee(W,N,R,F,S[$+10],9,38016083),F=ee(F,W,N,R,S[$+15],14,-660478335),R=ee(R,F,W,N,S[$+4],20,-405537848),N=ee(N,R,F,W,S[$+9],5,568446438),W=ee(W,N,R,F,S[$+14],9,-1019803690),F=ee(F,W,N,R,S[$+3],14,-187363961),R=ee(R,F,W,N,S[$+8],20,1163531501),N=ee(N,R,F,W,S[$+13],5,-1444681467),W=ee(W,N,R,F,S[$+2],9,-51403784),F=ee(F,W,N,R,S[$+7],14,1735328473),R=ee(R,F,W,N,S[$+12],20,-1926607734),N=fe(N,R,F,W,S[$+5],4,-378558),W=fe(W,N,R,F,S[$+8],11,-2022574463),F=fe(F,W,N,R,S[$+11],16,1839030562),R=fe(R,F,W,N,S[$+14],23,-35309556),N=fe(N,R,F,W,S[$+1],4,-1530992060),W=fe(W,N,R,F,S[$+4],11,1272893353),F=fe(F,W,N,R,S[$+7],16,-155497632),R=fe(R,F,W,N,S[$+10],23,-1094730640),N=fe(N,R,F,W,S[$+13],4,681279174),W=fe(W,N,R,F,S[$+0],11,-358537222),F=fe(F,W,N,R,S[$+3],16,-722521979),R=fe(R,F,W,N,S[$+6],23,76029189),N=fe(N,R,F,W,S[$+9],4,-640364487),W=fe(W,N,R,F,S[$+12],11,-421815835),F=fe(F,W,N,R,S[$+15],16,530742520),R=fe(R,F,W,N,S[$+2],23,-995338651),N=he(N,R,F,W,S[$+0],6,-198630844),W=he(W,N,R,F,S[$+7],10,1126891415),F=he(F,W,N,R,S[$+14],15,-1416354905),R=he(R,F,W,N,S[$+5],21,-57434055),N=he(N,R,F,W,S[$+12],6,1700485571),W=he(W,N,R,F,S[$+3],10,-1894986606),F=he(F,W,N,R,S[$+10],15,-1051523),R=he(R,F,W,N,S[$+1],21,-2054922799),N=he(N,R,F,W,S[$+8],6,1873313359),W=he(W,N,R,F,S[$+15],10,-30611744),F=he(F,W,N,R,S[$+6],15,-1560198380),R=he(R,F,W,N,S[$+13],21,1309151649),N=he(N,R,F,W,S[$+4],6,-145523070),W=he(W,N,R,F,S[$+11],10,-1120210379),F=he(F,W,N,R,S[$+2],15,718787259),R=he(R,F,W,N,S[$+9],21,-343485551),N=N+Ue>>>0,R=R+Te>>>0,F=F+te>>>0,W=W+Ae>>>0}return s.endian([N,R,F,W])};b._ff=function(h,x,S,B,N,R,F){var W=h+(x&S|~x&B)+(N>>>0)+F;return(W<<R|W>>>32-R)+x},b._gg=function(h,x,S,B,N,R,F){var W=h+(x&B|S&~B)+(N>>>0)+F;return(W<<R|W>>>32-R)+x},b._hh=function(h,x,S,B,N,R,F){var W=h+(x^S^B)+(N>>>0)+F;return(W<<R|W>>>32-R)+x},b._ii=function(h,x,S,B,N,R,F){var W=h+(S^(x|~B))+(N>>>0)+F;return(W<<R|W>>>32-R)+x},b._blocksize=16,b._digestsize=16,QG.exports=function(h,x){if(h==null)throw new Error("Illegal argument "+h);var S=s.wordsToBytes(b(h,x));return x&&x.asBytes?S:x&&x.asString?m.bytesToString(S):s.bytesToHex(S)}})();var Mfe=QG.exports;const nY=AM(Mfe);class O8{constructor(i={}){Uo(this,"is_delta",!0);Uo(this,"timestamp",0);Uo(this,"content","");Uo(this,"hash_before","");Uo(this,"hash_after","");Uo(this,"distance",0);this.setData(i)}setData(i){i.is_delta!==void 0&&i.is_delta!==null&&(this.is_delta=!!i.is_delta),i.timestamp!==void 0&&i.timestamp!==null&&(this.timestamp=parseInt(i.timestamp)),i.content!==void 0&&i.content!==null&&(this.content=i.content.toString()),i.hash_before!==void 0&&i.hash_before!==null&&(this.hash_before=i.hash_before.toString()),i.hash_after!==void 0&&i.hash_after!==null&&(this.hash_after=i.hash_after.toString()),i.distance!==void 0&&i.distance!==null&&(this.distance=parseInt(i.distance))}getData(){return{is_delta:this.is_delta,timestamp:this.timestamp,content:this.content,hash_before:this.hash_before,hash_after:this.hash_after,distance:this.distance}}}const fr=qp.createInstance({storeName:"writer-essay",description:"Essay data"}),Sw=new Rfe,D8=1e3,Pfe=5e3,Lfe=5e3,Ffe=10,zfe=1e3,CH={storedContent:"",storedHash:"",history:[],lastStoredIndex:-1,lastSentIndex:-1,lastSentHash:"",lastSave:0,lastSendingTry:0,lastSendingSuccess:0,currentContent:"",sumOfDistances:0,lastCheck:0};let JS=0,nK=0;const Fp=fg("essay",{state:()=>CH,getters:{hasHistory:s=>s.history.length>0,historyLength:s=>s.history.length,openSendings:s=>s.lastStoredIndex-s.lastSentIndex,unsentHistory(s){let i=[],u=s.lastSentIndex+1;for(;u<s.history.length;)i.push(s.history[u]),u++;return i},formatTimestamp(){return s=>new Date(s).toISOString().slice(0,19).replace("T"," ")},formatIndex(){return s=>s.toString().padStart(9,"0")},makeHash(){return(s,i)=>nY(s+i)}},actions:{async clearStorage(){try{await fr.clear()}catch(s){console.log(s)}},addToHistory(s,i=null){let u;return i!==null?(this.history[i]=s,u=i):u=this.history.push(s)-1,s.is_delta?this.sumOfDistances+=s.distance:this.sumOfDistances=0,u},async loadFromData(s){JS=1;try{this.$state=CH,this.currentContent=s.content??"",this.storedContent=s.content??"",this.storedHash=s.hash??"",await fr.clear(),await fr.setItem("storedContent",this.storedContent),await fr.setItem("storedHash",this.storedHash);let u=0;for(;u<s.steps.length;){let m=new O8(s.steps[u]);this.addToHistory(m,u),await fr.setItem(this.formatIndex(u),m.getData()),u++}this.lastStoredIndex=this.history.length-1,this.lastSentIndex=this.history.length-1,this.lastSentHash=this.storedHash,await fr.setItem("lastStoredIndex",this.lastStoredIndex),await fr.setItem("lastSentIndex",this.lastSentIndex),await fr.setItem("lastSentHash",this.lastSentHash),await fr.setItem("lastSave",this.lastSave),await fr.setItem("lastSendingTry",this.lastSendingTry),await fr.setItem("lastSendingSuccess",this.lastSendingSuccess)}catch(u){console.log(u)}JS=0,vi().setInterval("essayStore.updateContent",this.updateContent,D8)},async loadFromStorage(){JS=1;try{this.$state=CH,this.lastStoredIndex=await fr.getItem("lastStoredIndex")??-1,this.lastSentIndex=await fr.getItem("lastSentIndex")??-1,this.lastSentHash=await fr.getItem("lastSentHash")??"",this.lastSave=await fr.getItem("lastSave")??0,this.lastSendingTry=await fr.getItem("lastSendingTry")??0,this.lastSendingSuccess=await fr.getItem("lastSendingSuccess")??0,this.storedContent=await fr.getItem("storedContent")??"",this.storedHash=await fr.getItem("storedHash")??"",this.currentContent=this.storedContent;let i=0;for(;i<=this.lastStoredIndex;){let u=new O8(await fr.getItem(this.formatIndex(i))??{});this.addToHistory(u,i),i++}}catch(i){console.log(i)}JS=0,vi().setInterval("essayStore.updateContent",this.updateContent,D8)},async updateContent(s=!1,i=!1){const u=vi(),m=Date.now();if(!i&&m-this.lastCheck<D8||JS++||Pd().writingEndReached)return!1;try{const h=this.currentContent+"";let x=null;if(h!=this.storedContent){const S=this.makeHash(h,u.getServerTime(m));let B=Sw.diff_main(this.storedContent,h);Sw.diff_cleanupEfficiency(B);const N=Sw.diff_levenshtein(B),R=Sw.patch_toText(Sw.patch_make(this.storedContent,B)),F=Sw.patch_apply(Sw.patch_fromText(R),this.storedContent);this.history.length==0||i||R.length>h.length||this.sumOfDistances+N>zfe||F[0]!=h?x=new O8({is_delta:0,timestamp:u.getServerTime(m),content:h,hash_before:this.storedHash,hash_after:S,distance:N}):(N>=Ffe||m-this.lastSave>Pfe)&&(x=new O8({is_delta:1,timestamp:u.getServerTime(m),content:R,hash_before:this.storedHash,hash_after:S,distance:N})),x!==null&&(this.lastStoredIndex=this.addToHistory(x),this.lastSave=m,this.storedContent=h,this.storedHash=S,await fr.setItem("storedContent",this.storedContent),await fr.setItem("storedHash",this.storedHash),await fr.setItem(this.formatIndex(this.lastStoredIndex),x.getData()),await fr.setItem("lastStoredIndex",this.lastStoredIndex),console.log("Delta:",x.is_delta,"| Distance (sum): ",N,"(",this.sumOfDistances,")","| Editor: ",s,"| Duration:",Date.now()-m,"ms")),u.setInterval("essayStore.updateContent",this.updateContent,D8)}this.lastCheck=m,this.sendUpdate(i)}catch(h){console.error(h)}JS=0},async sendUpdate(s=!1){if(!s&&Date.now()-this.lastSendingTry<Lfe||nK++)return null;let i=[],u=this.lastSentIndex,m=this.lastSentHash,b=this.lastSentIndex+1;for(;b<this.history.length;)i.push(this.history[b]),m=this.history[b].hash_after,u=b++;let h=null;return i.length>0&&(h=await vi().saveWritingStepsToBackend(i),h.success&&(this.lastSentIndex=u,this.lastSentHash=m,this.lastSendingSuccess=Date.now(),await fr.setItem("lastSentIndex",u),await fr.setItem("lastSentHash",m),await fr.setItem("lastSendingSuccess",this.lastSendingSuccess))),this.lastSendingTry=Date.now(),await fr.setItem("lastSendingTry",this.lastSendingTry),nK=!1,h},async setAllSavingsSent(){this.lastSentIndex=this.lastStoredIndex,this.lastSentHash=this.storedHash,this.lastSendingTry=Date.now(),this.lastSendingSuccess=Date.now(),await fr.setItem("lastSentIndex",this.lastSentIndex),await fr.setItem("lastSentHash",this.lastSentHash),await fr.setItem("lastSendingTry",this.lastSendingTry),await fr.setItem("lastSendingSuccess",this.lastSendingSuccess)},async hasUnsentSavingsInStorage(){const s=await fr.getItem("lastStoredIndex")??-1,i=await fr.getItem("lastSentIndex")??-1;return s>i},async hasHashInStorage(s){const i=await fr.getItem("lastSentHash")??"";return s==i}}});class K0{constructor(i={}){Uo(this,"note_no",0);Uo(this,"note_text","");Uo(this,"last_change",null);this.setData(i)}static getKeyForNo(i){return"NOTE_"+i}setData(i){i.note_no!==void 0&&i.note_no!==null&&(this.note_no=parseInt(i.note_no)),i.note_text!==void 0&&i.note_text!==null&&(this.note_text=i.note_text.toString()),i.last_change!==void 0&&i.last_change!==null&&(this.last_change=parseInt(i.last_change))}getData(){return{note_no:this.note_no,note_text:this.note_text,last_change:this.last_change}}getKey(){return K0.getKeyForNo(this.note_no)}getClone(){return new K0(this.getData())}isEqual(i){for(const u in this)if(this[u]!==i[u])return!1;return!0}}const Bp=qp.createInstance({storeName:"writer-notes",description:"Writer notes data"}),oK=200;function Hfe(){return{keys:[],notes:{},editNotes:{},lastCheck:0,activeKey:null}}let _H=0;const cy=fg("notes",{state:()=>Hfe(),getters:{hasWrittenNotes:s=>{for(const i in s.notes)if(s.notes[i].note_text.length>0)return!0;return!1}},actions:{async clearStorage(){try{await Bp.clear()}catch(s){console.log(s)}this.$reset()},async loadFromStorage(){try{this.$reset();const s=await Bp.getItem("keys");s&&(this.keys=JSON.parse(s));for(const i of this.keys){const u=await Bp.getItem(i);if(u){const m=JSON.parse(u);if(typeof m=="object"&&m!==null){const b=new K0(m);this.notes[i]=b,this.editNotes[i]=b.getClone()}}}}catch(s){console.log(s)}},async loadFromData(s){try{await Bp.clear(),this.$reset();for(const u of s){const m=new K0(u);this.notes[m.getKey()]=m,this.editNotes[m.getKey()]=m.getClone(),this.keys.push(m.getKey()),await Bp.setItem(m.getKey(),JSON.stringify(m.getData()))}await Bp.setItem("keys",JSON.stringify(this.keys))}catch(u){console.log(u)}_H=0,vi().setInterval("notesStore.updateContent",this.updateContent,oK)},async prepareNotes(s){const i=[];let u=!1;for(let m=0;m<s;m++){const b=K0.getKeyForNo(m);if(i.push(b),this.activeKey==b&&(u=!0),!(b in this.notes)){const h=new K0({note_no:m});this.notes[b]=h,this.editNotes[b]=h.getClone(),await Bp.setItem(b,JSON.stringify(h.getData()))}}this.keys=i,await Bp.setItem("keys",JSON.stringify(this.keys)),s>0&&!u&&(this.activeKey=K0.getKeyForNo(0))},async updateContent(s=!1,i=!1){const u=Date.now();if(!(u-this.lastCheck<oK&&!i||_H++&&!i||Pd().writingEndReached)){for(const b in this.editNotes)try{const h=this.editNotes[b].getClone(),x=this.notes[b]??new K0;if(!h.isEqual(x)){const S=vi(),B=ed();h.last_change=S.getServerTime(Date.now()),this.editNotes[b].setData(h.getData()),this.notes[b]=h,await Bp.setItem(b,JSON.stringify(h.getData())),await B.setChange(new _a({type:_a.TYPE_NOTES,action:_a.ACTION_SAVE,key:b})),console.log("Save Change ","| Editor: ",s,"| Duration:",Date.now()-u,"ms")}this.lastCheck=u}catch(h){console.error(h)}_H=0}},async getChangedData(s=0){const i=vi(),u=ed(),m=[];for(const b of u.getChangesFor(_a.TYPE_NOTES,s)){const h=await Bp.getItem(b.key);h?m.push(i.getChangeDataToSend(b,JSON.parse(h))):m.push(i.getChangeDataToSend(b))}return m}}}),QS=qp.createInstance({storeName:"writer-alerts",description:"Alert Messages"}),sk=fg("alerts",{state:()=>({keys:[],alerts:[],activeKey:"",showAllAlerts:!1}),getters:{countAlerts:s=>s.alerts.length,hasAlerts:s=>s.alerts.length>0,hasActiveAlert:s=>s.activeKey!="",activeMessage(s){const i=s.alerts.find(u=>u.key==s.activeKey);return i?i.message:""},getAlert(s){return i=>s.alerts.find(u=>u.key==i)},formatTimestamp(){return s=>new Date(s*1e3).toLocaleString()}},actions:{showAlerts(){this.showAllAlerts=!0},hideAlert(){this.activeKey="",this.showAllAlerts=!1},async clearStorage(){try{await QS.clear()}catch(s){console.log(s)}},async loadFromStorage(){try{const s=await QS.getItem("alertKeys");s&&(this.keys=JSON.parse(s)),this.alerts=[];for(const i of this.keys){let u=await QS.getItem(i);this.alerts.unshift(u)}}catch(s){console.log(s)}},async loadFromData(s,i=!1){try{await QS.clear();let u=[],m=[];for(const b of s)i&&!this.keys.includes(b.key)&&(this.activeKey=b.key),m.unshift(b),u.push(b.key),await QS.setItem(b.key,b);this.keys=u,this.alerts=m,await QS.setItem("alertKeys",JSON.stringify(this.keys))}catch(u){console.log(u)}}}}),ig=qp.createInstance({storeName:"writer-annotations",description:"Writer annotations data"});function Vfe(){return{keys:[],annotations:[],markerChange:0,selectionChange:0,caretRequest:0,selectedKey:"",deletedKey:"",firstVisibleKey:""}}const my=fg("annotations",{state:()=>Vfe(),getters:{activeAnnotations:s=>{const u=Fl().shownResourceKey;return u!==null?s.annotations.filter(m=>m.resource_key===u):[]},getAnnotation:s=>function(u){return s.annotations.find(m=>m.getKey()===u)},getAnnotationsForResource:s=>function(u){return s.annotations.filter(m=>m.resource_key===u)},getActiveAnotationsInRange:s=>function(u,m){return s.activeAnnotations.filter(b=>b.start_position<=m&&b.end_position>=u)},getActiveAnnotationsByStartPosition:s=>function(u){return s.activeAnnotations.filter(m=>m.start_position==u)},getActiveAnnotationsByParentNumber:s=>function(u){return s.activeAnnotations.filter(m=>m.parent_number==u)}},actions:{setFirstVisibleAnnotation(s){this.firstVisibleKey=s},setMarkerChange(){this.markerChange=Date.now()},setCaretRequest(){this.caretRequest=Date.now()},selectAnnotation(s){this.selectedKey=s,this.selectionChange=Date.now()},async createAnnotation(s){vi();const i=ed();this.keys.push(s.getKey()),this.annotations.push(s),await this.sortAndLabelAnnotations(),this.setMarkerChange(),this.selectAnnotation(s),await ig.setItem(s.getKey(),JSON.stringify(s.getData())),await ig.setItem("keys",JSON.stringify(this.keys)),await i.setChange(new _a({type:_a.TYPE_ANNOTATIONS,action:_a.ACTION_SAVE,key:s.getKey()}))},async updateAnnotation(s,i=!1){vi();const u=ed();this.keys.includes(s.getKey())&&(await ig.setItem(s.getKey(),JSON.stringify(s.getData())),await u.setChange(new _a({type:_a.TYPE_ANNOTATIONS,action:_a.ACTION_SAVE,key:s.getKey()})),i&&(await this.sortAndLabelAnnotations(),this.setMarkerChange()))},async deleteAnnotation(s){this.selectedKey==s&&this.selectAnnotation("");const i=this.annotations.find(b=>b.getKey()==s);this.annotations=this.annotations.filter(b=>b.getKey()!=s),this.keys.includes(s)&&(this.keys=this.keys.filter(b=>b!=s),await ig.setItem("keys",JSON.stringify(this.keys)),await ig.removeItem(s)),this.deletedKey=s;const u=ed(),m=new _a({type:_a.TYPE_ANNOTATIONS,action:_a.ACTION_DELETE,key:i.getKey()});await u.setChange(m),await this.sortAndLabelAnnotations(),this.setMarkerChange()},async sortAndLabelAnnotations(){this.annotations=this.annotations.sort(lg.compare);let s="",i=0,u=0;for(const m of this.annotations)m.resource_key!==s?(s=m.resource_key,i=0,u=1):m.parent_number>i?(i=m.parent_number,u=1):u++,m.label=(i+1).toString()+"."+u.toString()},async clearStorage(){try{await ig.clear()}catch(s){console.log(s)}this.$reset()},async loadFromStorage(){try{this.$reset();const s=await ig.getItem("keys");s&&(this.keys=JSON.parse(s));for(const i of this.keys){const u=await ig.getItem(i);if(u){const m=JSON.parse(u);if(typeof m=="object"&&m!==null){const b=new lg(m);this.annotations.push(b)}}}await this.sortAndLabelAnnotations()}catch(s){console.log(s)}},async loadFromData(s){try{await ig.clear(),this.$reset();for(const i of s){const u=new lg(i);this.annotations.push(u),this.keys.push(u.getKey()),await ig.setItem(u.getKey(),JSON.stringify(u.getData()))}await ig.setItem("keys",JSON.stringify(this.keys)),await this.sortAndLabelAnnotations()}catch(i){console.log(i)}},async getChangedData(s=0){const i=vi(),u=ed(),m=[];for(const b of u.getChangesFor(_a.TYPE_ANNOTATIONS,s)){const h=await ig.getItem(b.key);h?m.push(i.getChangeDataToSend(b,JSON.parse(h))):m.push(i.getChangeDataToSend(b,lg.getFromKey(b.key)))}return m}}});class rk{constructor(i={}){Uo(this,"success",!0);Uo(this,"message","");Uo(this,"details","");this.setData(i)}setData(i){i.success!==void 0&&i.success!==null&&(this.success=!!i.success),i.message!==void 0&&i.message!==null&&(this.message=i.message.toString()),i.details!==void 0&&i.details!==null&&(this.details=i.details.toString())}getData(){return{success:this.success,message:this.message,details:this.details}}}const $fe=5e3,vi=fg("api",{state:()=>({backendUrl:"",returnUrl:"",userKey:"",environmentKey:"",dataToken:"",fileToken:"",timeOffset:0,intervals:{},initialized:!1,review:!1,showInitFailure:!1,showReplaceConfirmation:!1,showReloadConfirmation:!1,showFinalizeFailure:!1,showAuthorizeFailure:!1,lastStepsTry:0,lastChangesTry:0}),getters:{isAllSent:s=>{const i=Fp(),u=ed();return!s.isSending&&i.openSendings+u.countChanges==0},isSending:s=>{s.lastChangesTry>0||s.lastStepsTry>0},getRequestConfig:s=>function(u){let m=s.backendUrl,b=new URLSearchParams,h=m.search(/\?+/);return h!=-1&&(b=new URLSearchParams(m.substr(h)),m=m.substr(0,h)),b.append("LongEssayUser",s.userKey),b.append("LongEssayEnvironment",s.environmentKey),b.append("LongEssaySignature",nY(s.userKey+s.environmentKey+u)),{baseURL:m,params:b,timeout:3e4,responseType:"json",responseEncoding:"utf8"}},getResourceUrl:s=>function(u){const m=this.getRequestConfig(this.fileToken);return m.baseURL+"/file/"+u+"?"+m.params.toString()},getServerTime:s=>function(u){return u==0?0:Math.floor((u-s.timeOffset)/1e3)},getChangeDataToSend:s=>function(u,m=null){const b=u.getData();return m&&(b.payload=m),b.server_time=s.getServerTime(u.last_change),b}},actions:{async init(){let s=!1,i=Yi.get("LongEssayHash");if(this.backendUrl=localStorage.getItem("writerBackendUrl"),this.returnUrl=localStorage.getItem("writerReturnUrl"),this.userKey=localStorage.getItem("writerUserKey"),this.environmentKey=localStorage.getItem("writerEnvironmentKey"),this.dataToken=localStorage.getItem("writerDataToken"),this.fileToken=localStorage.getItem("writerFileToken"),this.timeOffset=Math.floor(localStorage.getItem("writerTimeOffset")??0),Yi.get("LongEssayUser")&&Yi.get("LongEssayUser")!==this.userKey&&(this.userKey=Yi.get("LongEssayUser"),s=!0),Yi.get("LongEssayEnvironment")&&Yi.get("LongEssayEnvironment")!==this.environmentKey&&(this.environmentKey=Yi.get("LongEssayEnvironment"),s=!0),Yi.get("LongEssayBackend")&&Yi.get("LongEssayBackend")!==this.backendUrl&&(this.backendUrl=Yi.get("LongEssayBackend")),Yi.get("LongEssayReturn")&&Yi.get("LongEssayReturn")!==this.returnUrl&&(this.returnUrl=Yi.get("LongEssayReturn")),Yi.get("LongEssayToken")&&Yi.get("LongEssayToken")!==this.dataToken&&(this.dataToken=Yi.get("LongEssayToken")),!this.backendUrl||!this.returnUrl||!this.userKey||!this.environmentKey||!this.dataToken){this.showInitFailure=!0;return}const u=Fp(),m=ed();s?await u.hasUnsentSavingsInStorage()||m.countChanges>0?(console.log("init: new context, open savings"),this.showReplaceConfirmation=!0):(console.log("init: new context, no open savings"),await this.loadDataFromBackend()):i?await u.hasHashInStorage(i)?(console.log("init: same context, same hash"),await this.loadDataFromStorage()):await u.hasUnsentSavingsInStorage()||m.countChanges>0?(console.log("init: same context, hashes differ, open savings"),this.showReloadConfirmation=!0):(console.log("init: same context, hashes differ, no open savings"),await this.loadDataFromBackend()):await u.hasUnsentSavingsInStorage()||m.countChanges>0?(console.log("init: same context, no server hash, open savings"),await this.loadDataFromStorage()):(console.log("init: same context, no server hash, no open savings"),await this.loadDataFromBackend()),this.setInterval("apiStore.timedSync",this.timedSync,$fe)},async timedSync(){await this.saveChangesToBackend(),await this.loadUpdateFromBackend()},async loadDataFromStorage(){console.log("loadDataFromStorage..."),this.updateConfig();const s=yh(),i=X0(),u=Pd(),m=sk(),b=Wf(),h=Fp(),x=cy(),S=Fl(),B=ed(),N=my();await s.loadFromStorage(),await i.loadFromStorage(),await u.loadFromStorage(),await m.loadFromStorage(),await b.loadFromStorage(),await h.loadFromStorage(),await x.loadFromStorage(),await x.prepareNotes(s.notice_boards),await S.loadFromStorage(),await B.loadFromStorage(),await N.loadFromStorage(),await this.loadUpdateFromBackend(),this.initialized=!0},async loadDataFromBackend(){console.log("loadDataFromBackend..."),this.updateConfig();let s={};try{s=await Ma.get("/data",this.getRequestConfig(this.dataToken)),this.setTimeOffset(s),this.refreshToken(s)}catch(F){console.error(F),this.showInitFailure=!0;return}const i=yh(),u=X0(),m=Pd(),b=sk(),h=Wf(),x=Fp(),S=cy(),B=ed(),N=Fl(),R=my();await i.loadFromData(s.data.settings),await u.loadFromData(s.data.preferences),await m.loadFromData(s.data.task),await b.loadFromData(s.data.alerts,!1),await h.loadFromData(s.data.resources),await x.loadFromData(s.data.essay),await S.loadFromData(s.data.notes),await S.prepareNotes(i.notice_boards),await R.loadFromData(s.data.annotations),await B.clearStorage(),await N.initialize(),s.data.essay.started||await this.sendStart(),this.initialized=!0},async loadUpdateFromBackend(){if(this.lastChangesTry>0)return!1;this.lastChangesTry=Date.now();try{const s=await Ma.get("/update",this.getRequestConfig(this.dataToken));this.setTimeOffset(s),this.refreshToken(s);const i=Pd(),u=sk(),m=yh(),b=cy();return await i.loadFromUpdate(s.data.task),await u.loadFromData(s.data.alerts,!0),await m.loadFromData(s.data.settings),await b.prepareNotes(m.notice_boards),this.lastChangesTry=0,!0}catch(s){return console.error(s),this.lastChangesTry=0,!1}},async sendStart(){let s={},i={started:this.getServerTime(Date.now())};try{return s=await Ma.put("/start",i,this.getRequestConfig(this.dataToken)),this.setTimeOffset(s),this.refreshToken(s),!0}catch(u){return console.error(u),this.showInitFailure=!0,!1}},async saveWritingStepsToBackend(s){let i={},u={steps:s.map(m=>m.getData())};this.lastStepsTry=Date.now();try{return i=await Ma.put("/steps",u,this.getRequestConfig(this.dataToken)),this.setTimeOffset(i),this.refreshToken(i),this.lastStepsTry=0,new rk({success:!0,message:i.statusText,details:i.data})}catch(m){return this.lastStepsTry=0,new rk({success:!1,message:m.response.statusText,details:m.response.data})}},async saveChangesToBackend(s=!1){const i=my(),u=ed(),m=cy(),b=X0();if(s){let h=0;for(;h<5&&this.lastChangesTry>0;)h++,await new Promise(x=>setTimeout(x,1e3))}if(this.lastChangesTry>0)return null;if(u.countChanges>0){this.lastChangesTry=Date.now();try{const h={annotations:await i.getChangedData(this.lastChangesTry),notes:await m.getChangedData(this.lastChangesTry),preferences:await b.getChangedData(this.lastChangesTry)},x=await Ma.put("/changes",h,this.getRequestConfig(this.dataToken));return this.setTimeOffset(x),this.refreshToken(x),await u.setChangesSent(_a.TYPE_ANNOTATIONS,x.data.annotations,this.lastChangesTry),await u.setChangesSent(_a.TYPE_NOTES,x.data.notes,this.lastChangesTry),await u.setChangesSent(_a.TYPE_PREFERENCES,x.data.preferences,this.lastChangesTry),this.lastChangesTry=0,new rk({success:!0,message:x.statusText,details:x.data})}catch(h){return this.lastChangesTry=0,new rk({success:!1,message:h.response.statusText,details:h.response.data})}}return null},async saveFinalContentToBackend(s,i,u,m){let b={},h={steps:s.map(x=>x.getData()),content:i,hash:u,authorized:m};try{return b=await Ma.put("/final",h,this.getRequestConfig(this.dataToken)),this.refreshToken(b),!0}catch(x){return console.error(x),!1}},updateConfig(){Yi.remove("LongEssayBackend"),Yi.remove("LongEssayReturn"),Yi.remove("LongEssayUser"),Yi.remove("LongEssayEnvironment"),Yi.remove("LongEssayToken"),Yi.remove("LongEssayHash"),localStorage.setItem("writerBackendUrl",this.backendUrl),localStorage.setItem("writerReturnUrl",this.returnUrl),localStorage.setItem("writerUserKey",this.userKey),localStorage.setItem("writerEnvironmentKey",this.environmentKey),localStorage.setItem("writerDataToken",this.dataToken),localStorage.setItem("writerFileToken",this.fileToken)},setTimeOffset(s){if(s.headers.longessaytime){const i=s.headers.longessaytime*1e3,u=Date.now();this.timeOffset=u-i,localStorage.setItem("writerTimeOffset",this.timeOffset)}},refreshToken(s){s.headers.longessaydatatoken&&(this.dataToken=s.headers.longessaydatatoken,localStorage.setItem("writerDataToken",this.dataToken)),s.headers.longessayfiletoken&&(this.fileToken=s.headers.longessayfiletoken,localStorage.setItem("writerFileToken",this.fileToken))},async finalize(s){const i=yh(),u=Pd(),m=Wf(),b=Fp(),h=cy(),x=Fl(),S=sk(),B=ed();if((s||b.openSendings>0)&&!await this.saveFinalContentToBackend(b.unsentHistory,b.storedContent,b.storedHash,s)){this.review=!0,this.showFinalizeFailure=!0,this.showAuthorizeFailure=s;return}await i.clearStorage(),await u.clearStorage(),await m.clearStorage(),await b.clearStorage(),await h.clearStorage(),await x.clearStorage(),await S.clearStorage(),await B.clearStorage(),localStorage.clear(),window.location=this.returnUrl},async retry(){const s=Fp();await this.saveFinalContentToBackend(s.unsentHistory,s.storedContent,s.storedHash,!1)?await s.setAllSavingsSent():this.showFinalizeFailure=!0,this.review=!0},setInterval(s,i,u){s in this.intervals&&clearInterval(this.intervals[s]),this.intervals[s]=setInterval(i,u)},clearAllIntervals(){for(const s in this.intervals)clearInterval(this.intervals[s]),delete this.intervals[s]}}}),R8=qp.createInstance({storeName:"writer-task",description:"Task data"}),Pd=fg("task",{state:()=>({title:null,writer_name:null,instructions:null,writing_end:null,writing_excluded:null,remaining_time:null}),getters:{hasInstructions:s=>!!s.instructions,hasWritingEnd:s=>!!s.writing_end,writingEndReached:s=>s.remaining_time===0,isExcluded:s=>s.writing_excluded>0},actions:{setData(s){this.title=s.title,this.instructions=s.instructions,this.writer_name=s.writer_name,this.writing_end=s.writing_end,this.writing_excluded=s.writing_excluded},async clearStorage(){try{await R8.clear()}catch(s){console.log(s)}},async loadFromStorage(){try{const i=await R8.getItem("task");this.setData(i)}catch(i){console.log(i)}this.updateRemainingTime(),vi().setInterval("taskStore.updateRemainingTime",this.updateRemainingTime,1e3)},async loadFromData(s){try{await R8.setItem("task",s),this.setData(s)}catch(u){console.log(u)}this.updateRemainingTime(),vi().setInterval("taskStore.updateRemainingTime",this.updateRemainingTime,1e3)},async loadFromUpdate(s){try{this.writing_end=s.writing_end,this.writing_excluded=s.writing_excluded,await R8.setItem("task",{title:this.title,instructions:this.instructions,writer_name:this.writer_name,writing_end:this.writing_end,writing_excluded:this.writing_excluded})}catch(u){console.log(u)}this.updateRemainingTime(),vi().setInterval("taskStore.updateRemainingTime",this.updateRemainingTime,1e3)},updateRemainingTime(){const s=vi();this.writing_end?this.remaining_time=Math.max(0,this.writing_end-s.getServerTime(Date.now())):this.remaining_time=null,(this.writingEndReached||this.isExcluded)&&(s.review=!0)}}}),_y=Jn({border:[Boolean,Number,String]},"border");function Sy(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kp();return{borderClasses:ct(()=>{const m=Fa(s)?s.value:s.border,b=[];if(m===!0||m==="")b.push(`${i}--border`);else if(typeof m=="string"||m===0)for(const h of String(m).split(" "))b.push(`border-${h}`);return b})}}const Ufe=[null,"default","comfortable","compact"],Gp=Jn({density:{type:String,default:"default",validator:s=>Ufe.includes(s)}},"density");function s1(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kp();return{densityClasses:ct(()=>`${i}--density-${s.density}`)}}const ky=Jn({elevation:{type:[Number,String],validator(s){const i=parseInt(s);return!isNaN(i)&&i>=0&&i<=24}}},"elevation");function Ey(s){return{elevationClasses:ct(()=>{const u=Fa(s)?s.value:s.elevation,m=[];return u==null||m.push(`elevation-${u}`),m})}}const mg=Jn({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function gg(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kp();return{roundedClasses:ct(()=>{const m=Fa(s)?s.value:s.rounded,b=Fa(s)?s.value:s.tile,h=[];if(m===!0||m==="")h.push(`${i}--rounded`);else if(typeof m=="string"||m===0)for(const x of String(m).split(" "))h.push(`rounded-${x}`);else(b||m===!1)&&h.push("rounded-0");return h})}}const Bi=Jn({tag:{type:String,default:"div"}},"tag");function t$(s){return ZV(()=>{const i=[],u={};if(s.value.background)if(qH(s.value.background)){if(u.backgroundColor=s.value.background,!s.value.text&&uce(s.value.background)){const m=Vp(s.value.background);if(m.a==null||m.a===1){const b=rG(m);u.color=b,u.caretColor=b}}}else i.push(`bg-${s.value.background}`);return s.value.text&&(qH(s.value.text)?(u.color=s.value.text,u.caretColor=s.value.text):i.push(`text-${s.value.text}`)),{colorClasses:i,colorStyles:u}})}function e1(s,i){const u=ct(()=>({text:Fa(s)?s.value:i?s[i]:null})),{colorClasses:m,colorStyles:b}=t$(u);return{textColorClasses:m,textColorStyles:b}}function $p(s,i){const u=ct(()=>({background:Fa(s)?s.value:i?s[i]:null})),{colorClasses:m,colorStyles:b}=t$(u);return{backgroundColorClasses:m,backgroundColorStyles:b}}const Wfe=["elevated","flat","tonal","outlined","text","plain"];function pO(s,i){return ue(Er,null,[s&&ue("span",{key:"overlay",class:`${i}__overlay`},null),ue("span",{key:"underlay",class:`${i}__underlay`},null)])}const $w=Jn({color:String,variant:{type:String,default:"elevated",validator:s=>Wfe.includes(s)}},"variant");function bO(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kp();const u=ct(()=>{const{variant:h}=He(s);return`${i}--variant-${h}`}),{colorClasses:m,colorStyles:b}=t$(ct(()=>{const{variant:h,color:x}=He(s);return{[["elevated","flat"].includes(h)?"background":"text"]:x}}));return{colorClasses:m,colorStyles:b,variantClasses:u}}const oY=Jn({baseColor:String,divided:Boolean,..._y(),...tr(),...Gp(),...ky(),...mg(),...Bi(),...Hl(),...$w()},"VBtnGroup"),gk=rs()({name:"VBtnGroup",props:oY(),setup(s,i){let{slots:u}=i;const{themeClasses:m}=ac(s),{densityClasses:b}=s1(s),{borderClasses:h}=Sy(s),{elevationClasses:x}=Ey(s),{roundedClasses:S}=gg(s);hk({VBtn:{height:"auto",baseColor:js(s,"baseColor"),color:js(s,"color"),density:js(s,"density"),flat:!0,variant:js(s,"variant")}}),Ks(()=>ue(s.tag,{class:["v-btn-group",{"v-btn-group--divided":s.divided},m.value,h.value,b.value,x.value,S.value,s.class],style:s.style},u))}}),Zfe=Jn({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),jfe=Jn({value:null,disabled:Boolean,selectedClass:String},"group-item");function Kfe(s,i){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const m=Al("useGroupItem");if(!m)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const b=Cy();qf(Symbol.for(`${i.description}:id`),b);const h=Ji(i,null);if(!h){if(!u)return h;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${i.description}`)}const x=js(s,"value"),S=ct(()=>!!(h.disabled.value||s.disabled));h.register({id:b,value:x,disabled:S},m),Bc(()=>{h.unregister(b)});const B=ct(()=>h.isSelected(b)),N=ct(()=>h.items.value[0].id===b),R=ct(()=>h.items.value[h.items.value.length-1].id===b),F=ct(()=>B.value&&[h.selectedClass.value,s.selectedClass]);return Gn(B,W=>{m.emit("group:selected",{value:W})},{flush:"sync"}),{id:b,isSelected:B,isFirst:N,isLast:R,toggle:()=>h.select(b,!B.value),select:W=>h.select(b,W),selectedClass:F,value:x,disabled:S,group:h}}function qfe(s,i){let u=!1;const m=gu([]),b=Ld(s,"modelValue",[],W=>W==null?[]:sY(m,Bw(W)),W=>{const $=Yfe(m,W);return s.multiple?$:$[0]}),h=Al("useGroup");function x(W,$){const K=W,ee=Symbol.for(`${i.description}:id`),he=nk(ee,h==null?void 0:h.vnode).indexOf($);He(K.value)==null&&(K.value=he,K.useIndexAsValue=!0),he>-1?m.splice(he,0,K):m.push(K)}function S(W){if(u)return;B();const $=m.findIndex(K=>K.id===W);m.splice($,1)}function B(){const W=m.find($=>!$.disabled);W&&s.mandatory==="force"&&!b.value.length&&(b.value=[W.id])}Ic(()=>{B()}),Bc(()=>{u=!0}),MV(()=>{for(let W=0;W<m.length;W++)m[W].useIndexAsValue&&(m[W].value=W)});function N(W,$){const K=m.find(ee=>ee.id===W);if(!($&&(K!=null&&K.disabled)))if(s.multiple){const ee=b.value.slice(),fe=ee.findIndex(Ue=>Ue===W),he=~fe;if($=$??!he,he&&s.mandatory&&ee.length<=1||!he&&s.max!=null&&ee.length+1>s.max)return;fe<0&&$?ee.push(W):fe>=0&&!$&&ee.splice(fe,1),b.value=ee}else{const ee=b.value.includes(W);if(s.mandatory&&ee)return;b.value=$??!ee?[W]:[]}}function R(W){if(s.multiple,b.value.length){const $=b.value[0],K=m.findIndex(he=>he.id===$);let ee=(K+W)%m.length,fe=m[ee];for(;fe.disabled&&ee!==K;)ee=(ee+W)%m.length,fe=m[ee];if(fe.disabled)return;b.value=[m[ee].id]}else{const $=m.find(K=>!K.disabled);$&&(b.value=[$.id])}}const F={register:x,unregister:S,selected:b,select:N,disabled:js(s,"disabled"),prev:()=>R(m.length-1),next:()=>R(1),isSelected:W=>b.value.includes(W),selectedClass:ct(()=>s.selectedClass),items:ct(()=>m),getItemIndex:W=>Gfe(m,W)};return qf(i,F),F}function Gfe(s,i){const u=sY(s,[i]);return u.length?s.findIndex(m=>m.id===u[0]):-1}function sY(s,i){const u=[];return i.forEach(m=>{const b=s.find(x=>wM(m,x.value)),h=s[m];(b==null?void 0:b.value)!=null?u.push(b.id):h!=null&&u.push(h.id)}),u}function Yfe(s,i){const u=[];return i.forEach(m=>{const b=s.findIndex(h=>h.id===m);if(~b){const h=s[b];u.push(h.value!=null?h.value:b)}}),u}const rY=Symbol.for("vuetify:v-btn-toggle"),Xfe=Jn({...oY(),...Zfe()},"VBtnToggle"),aY=rs()({name:"VBtnToggle",props:Xfe(),emits:{"update:modelValue":s=>!0},setup(s,i){let{slots:u}=i;const{isSelected:m,next:b,prev:h,select:x,selected:S}=qfe(s,rY);return Ks(()=>{const B=gk.filterProps(s);return ue(gk,Sa({class:["v-btn-toggle",s.class]},B,{style:s.style}),{default:()=>{var N;return[(N=u.default)==null?void 0:N.call(u,{isSelected:m,next:b,prev:h,select:x,selected:S})]}})}),{next:b,prev:h,select:x}}}),Jfe=Jn({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),rc=rs(!1)({name:"VDefaultsProvider",props:Jfe(),setup(s,i){let{slots:u}=i;const{defaults:m,disabled:b,reset:h,root:x,scoped:S}=uO(s);return hk(m,{reset:h,root:x,scoped:S,disabled:b}),()=>{var B;return(B=u.default)==null?void 0:B.call(u)}}}),Qfe=["x-small","small","default","large","x-large"],IM=Jn({size:{type:[String,Number],default:"default"}},"size");function BM(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kp();return ZV(()=>{let u,m;return X8(Qfe,s.size)?u=`${i}--size-${s.size}`:s.size&&(m={width:fs(s.size),height:fs(s.size)}),{sizeClasses:u,sizeStyles:m}})}const eme=Jn({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:pl,...tr(),...IM(),...Bi({tag:"i"}),...Hl()},"VIcon"),ns=rs()({name:"VIcon",props:eme(),setup(s,i){let{attrs:u,slots:m}=i;const b=Eo(),{themeClasses:h}=ac(s),{iconData:x}=Due(ct(()=>b.value||s.icon)),{sizeClasses:S}=BM(s),{textColorClasses:B,textColorStyles:N}=e1(js(s,"color"));return Ks(()=>{var W,$;const R=(W=m.default)==null?void 0:W.call(m);R&&(b.value=($=Gq(R).filter(K=>K.type===fO&&K.children&&typeof K.children=="string")[0])==null?void 0:$.children);const F=!!(u.onClick||u.onClickOnce);return ue(x.value.component,{tag:s.tag,icon:x.value.icon,class:["v-icon","notranslate",h.value,S.value,B.value,{"v-icon--clickable":F,"v-icon--disabled":s.disabled,"v-icon--start":s.start,"v-icon--end":s.end},s.class],style:[S.value?void 0:{fontSize:fs(s.size),height:fs(s.size),width:fs(s.size)},N.value,s.style],role:F?"button":void 0,"aria-hidden":!F,tabindex:F?s.disabled?-1:0:void 0},{default:()=>[R]})}),{}}});function iY(s,i){const u=Eo(),m=Ts(!1);if(UV){const b=new IntersectionObserver(h=>{m.value=!!h.find(x=>x.isIntersecting)},i);Bc(()=>{b.disconnect()}),Gn(u,(h,x)=>{x&&(b.unobserve(x),m.value=!1),h&&b.observe(h)},{flush:"post"})}return{intersectionRef:u,isIntersecting:m}}const tme=Jn({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...tr(),...IM(),...Bi({tag:"div"}),...Hl()},"VProgressCircular"),nme=rs()({name:"VProgressCircular",props:tme(),setup(s,i){let{slots:u}=i;const m=20,b=2*Math.PI*m,h=Eo(),{themeClasses:x}=ac(s),{sizeClasses:S,sizeStyles:B}=BM(s),{textColorClasses:N,textColorStyles:R}=e1(js(s,"color")),{textColorClasses:F,textColorStyles:W}=e1(js(s,"bgColor")),{intersectionRef:$,isIntersecting:K}=iY(),{resizeRef:ee,contentRect:fe}=vG(),he=ct(()=>Math.max(0,Math.min(100,parseFloat(s.modelValue)))),Ue=ct(()=>Number(s.width)),Te=ct(()=>B.value?Number(s.size):fe.value?fe.value.width:Math.max(Ue.value,32)),te=ct(()=>m/(1-Ue.value/Te.value)*2),Ae=ct(()=>Ue.value/Te.value*te.value),ne=ct(()=>fs((100-he.value)/100*b));return wh(()=>{$.value=h.value,ee.value=h.value}),Ks(()=>ue(s.tag,{ref:h,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!s.indeterminate,"v-progress-circular--visible":K.value,"v-progress-circular--disable-shrink":s.indeterminate==="disable-shrink"},x.value,S.value,N.value,s.class],style:[B.value,R.value,s.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":s.indeterminate?void 0:he.value},{default:()=>[ue("svg",{style:{transform:`rotate(calc(-90deg + ${Number(s.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${te.value} ${te.value}`},[ue("circle",{class:["v-progress-circular__underlay",F.value],style:W.value,fill:"transparent",cx:"50%",cy:"50%",r:m,"stroke-width":Ae.value,"stroke-dasharray":b,"stroke-dashoffset":0},null),ue("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:m,"stroke-width":Ae.value,"stroke-dasharray":b,"stroke-dashoffset":ne.value},null)]),u.default&&ue("div",{class:"v-progress-circular__content"},[u.default({value:he.value})])]})),{}}}),Yp=Jn({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function Xp(s){return{dimensionStyles:ct(()=>{const u={},m=fs(s.height),b=fs(s.maxHeight),h=fs(s.maxWidth),x=fs(s.minHeight),S=fs(s.minWidth),B=fs(s.width);return m!=null&&(u.height=m),b!=null&&(u.maxHeight=b),h!=null&&(u.maxWidth=h),x!=null&&(u.minHeight=x),S!=null&&(u.minWidth=S),B!=null&&(u.width=B),u})}}const sK={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},MM=Jn({location:String},"location");function PM(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=arguments.length>2?arguments[2]:void 0;const{isRtl:m}=o1();return{locationStyles:ct(()=>{if(!s.location)return{};const{side:h,align:x}=jH(s.location.split(" ").length>1?s.location:`${s.location} center`,m.value);function S(N){return u?u(N):0}const B={};return h!=="center"&&(i?B[sK[h]]=`calc(100% - ${S(h)}px)`:B[h]=0),x!=="center"?i?B[sK[x]]=`calc(100% - ${S(x)}px)`:B[x]=0:(h==="center"?B.top=B.left="50%":B[{top:"left",bottom:"left",left:"top",right:"top"}[h]]="50%",B.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[h]),B})}}const ome=Jn({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...tr(),...MM({location:"top"}),...mg(),...Bi(),...Hl()},"VProgressLinear"),sme=rs()({name:"VProgressLinear",props:ome(),emits:{"update:modelValue":s=>!0},setup(s,i){var Ce;let{slots:u}=i;const m=Ld(s,"modelValue"),{isRtl:b,rtlClasses:h}=o1(),{themeClasses:x}=ac(s),{locationStyles:S}=PM(s),{textColorClasses:B,textColorStyles:N}=e1(s,"color"),{backgroundColorClasses:R,backgroundColorStyles:F}=$p(ct(()=>s.bgColor||s.color)),{backgroundColorClasses:W,backgroundColorStyles:$}=$p(ct(()=>s.bufferColor||s.bgColor||s.color)),{backgroundColorClasses:K,backgroundColorStyles:ee}=$p(s,"color"),{roundedClasses:fe}=gg(s),{intersectionRef:he,isIntersecting:Ue}=iY(),Te=ct(()=>parseFloat(s.max)),te=ct(()=>parseFloat(s.height)),Ae=ct(()=>zw(parseFloat(s.bufferValue)/Te.value*100,0,100)),ne=ct(()=>zw(parseFloat(m.value)/Te.value*100,0,100)),Ge=ct(()=>b.value!==s.reverse),$e=ct(()=>s.indeterminate?"fade-transition":"slide-x-transition"),Ze=bi&&((Ce=window.matchMedia)==null?void 0:Ce.call(window,"(forced-colors: active)").matches);function nt(Ne){if(!he.value)return;const{left:D,right:yt,width:Pt}=he.value.getBoundingClientRect(),cn=Ge.value?Pt-Ne.clientX+(yt-Pt):Ne.clientX-D;m.value=Math.round(cn/Pt*Te.value)}return Ks(()=>ue(s.tag,{ref:he,class:["v-progress-linear",{"v-progress-linear--absolute":s.absolute,"v-progress-linear--active":s.active&&Ue.value,"v-progress-linear--reverse":Ge.value,"v-progress-linear--rounded":s.rounded,"v-progress-linear--rounded-bar":s.roundedBar,"v-progress-linear--striped":s.striped},fe.value,x.value,h.value,s.class],style:[{bottom:s.location==="bottom"?0:void 0,top:s.location==="top"?0:void 0,height:s.active?fs(te.value):0,"--v-progress-linear-height":fs(te.value),...s.absolute?S.value:{}},s.style],role:"progressbar","aria-hidden":s.active?"false":"true","aria-valuemin":"0","aria-valuemax":s.max,"aria-valuenow":s.indeterminate?void 0:ne.value,onClick:s.clickable&&nt},{default:()=>[s.stream&&ue("div",{key:"stream",class:["v-progress-linear__stream",B.value],style:{...N.value,[Ge.value?"left":"right"]:fs(-te.value),borderTop:`${fs(te.value/2)} dotted`,opacity:parseFloat(s.bufferOpacity),top:`calc(50% - ${fs(te.value/4)})`,width:fs(100-Ae.value,"%"),"--v-progress-linear-stream-to":fs(te.value*(Ge.value?1:-1))}},null),ue("div",{class:["v-progress-linear__background",Ze?void 0:R.value],style:[F.value,{opacity:parseFloat(s.bgOpacity),width:s.stream?0:void 0}]},null),ue("div",{class:["v-progress-linear__buffer",Ze?void 0:W.value],style:[$.value,{opacity:parseFloat(s.bufferOpacity),width:fs(Ae.value,"%")}]},null),ue(jp,{name:$e.value},{default:()=>[s.indeterminate?ue("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(Ne=>ue("div",{key:Ne,class:["v-progress-linear__indeterminate",Ne,Ze?void 0:K.value],style:ee.value},null))]):ue("div",{class:["v-progress-linear__determinate",Ze?void 0:K.value],style:[ee.value,{width:fs(ne.value,"%")}]},null)]}),u.default&&ue("div",{class:"v-progress-linear__content"},[u.default({value:ne.value,buffer:Ae.value})])]})),{}}}),n$=Jn({loading:[Boolean,String]},"loader");function o$(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kp();return{loaderClasses:ct(()=>({[`${i}--loading`]:s.loading}))}}function lY(s,i){var m;let{slots:u}=i;return ue("div",{class:`${s.name}__loader`},[((m=u.default)==null?void 0:m.call(u,{color:s.color,isActive:s.active}))||ue(sme,{absolute:s.absolute,active:s.active,color:s.color,height:"2",indeterminate:!0},null)])}const rme=["static","relative","fixed","absolute","sticky"],s$=Jn({position:{type:String,validator:s=>rme.includes(s)}},"position");function r$(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kp();return{positionClasses:ct(()=>s.position?`${i}--${s.position}`:void 0)}}function ame(){const s=Al("useRoute");return ct(()=>{var i;return(i=s==null?void 0:s.proxy)==null?void 0:i.$route})}function cY(){var s,i;return(i=(s=Al("useRouter"))==null?void 0:s.proxy)==null?void 0:i.$router}function a$(s,i){var N,R;const u=aie("RouterLink"),m=ct(()=>!!(s.href||s.to)),b=ct(()=>(m==null?void 0:m.value)||dj(i,"click")||dj(s,"click"));if(typeof u=="string"||!("useLink"in u))return{isLink:m,isClickable:b,href:js(s,"href")};const h=ct(()=>({...s,to:js(()=>s.to||"")})),x=u.useLink(h.value),S=ct(()=>s.to?x:void 0),B=ame();return{isLink:m,isClickable:b,route:(N=S.value)==null?void 0:N.route,navigate:(R=S.value)==null?void 0:R.navigate,isActive:ct(()=>{var F,W,$;return S.value?s.exact?B.value?(($=S.value.isExactActive)==null?void 0:$.value)&&wM(S.value.route.value.query,B.value.query):((W=S.value.isExactActive)==null?void 0:W.value)??!1:((F=S.value.isActive)==null?void 0:F.value)??!1:!1}),href:ct(()=>{var F;return s.to?(F=S.value)==null?void 0:F.route.value.href:s.href})}}const i$=Jn({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let SH=!1;function ime(s,i){let u=!1,m,b;bi&&(Pa(()=>{window.addEventListener("popstate",h),m=s==null?void 0:s.beforeEach((x,S,B)=>{SH?u?i(B):B():setTimeout(()=>u?i(B):B()),SH=!0}),b=s==null?void 0:s.afterEach(()=>{SH=!1})}),Kf(()=>{window.removeEventListener("popstate",h),m==null||m(),b==null||b()}));function h(x){var S;(S=x.state)!=null&&S.replaced||(u=!0,setTimeout(()=>u=!1))}}function lme(s,i){Gn(()=>{var u;return(u=s.isActive)==null?void 0:u.value},u=>{s.isLink.value&&u&&i&&Pa(()=>{i(!0)})},{immediate:!0})}const cV=Symbol("rippleStop"),cme=80;function rK(s,i){s.style.transform=i,s.style.webkitTransform=i}function uV(s){return s.constructor.name==="TouchEvent"}function uY(s){return s.constructor.name==="KeyboardEvent"}const ume=function(s,i){var F;let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=0,b=0;if(!uY(s)){const W=i.getBoundingClientRect(),$=uV(s)?s.touches[s.touches.length-1]:s;m=$.clientX-W.left,b=$.clientY-W.top}let h=0,x=.3;(F=i._ripple)!=null&&F.circle?(x=.15,h=i.clientWidth/2,h=u.center?h:h+Math.sqrt((m-h)**2+(b-h)**2)/4):h=Math.sqrt(i.clientWidth**2+i.clientHeight**2)/2;const S=`${(i.clientWidth-h*2)/2}px`,B=`${(i.clientHeight-h*2)/2}px`,N=u.center?S:`${m-h}px`,R=u.center?B:`${b-h}px`;return{radius:h,scale:x,x:N,y:R,centerX:S,centerY:B}},iM={show(s,i){var $;let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(($=i==null?void 0:i._ripple)!=null&&$.enabled))return;const m=document.createElement("span"),b=document.createElement("span");m.appendChild(b),m.className="v-ripple__container",u.class&&(m.className+=` ${u.class}`);const{radius:h,scale:x,x:S,y:B,centerX:N,centerY:R}=ume(s,i,u),F=`${h*2}px`;b.className="v-ripple__animation",b.style.width=F,b.style.height=F,i.appendChild(m);const W=window.getComputedStyle(i);W&&W.position==="static"&&(i.style.position="relative",i.dataset.previousPosition="static"),b.classList.add("v-ripple__animation--enter"),b.classList.add("v-ripple__animation--visible"),rK(b,`translate(${S}, ${B}) scale3d(${x},${x},${x})`),b.dataset.activated=String(performance.now()),setTimeout(()=>{b.classList.remove("v-ripple__animation--enter"),b.classList.add("v-ripple__animation--in"),rK(b,`translate(${N}, ${R}) scale3d(1,1,1)`)},0)},hide(s){var h;if(!((h=s==null?void 0:s._ripple)!=null&&h.enabled))return;const i=s.getElementsByClassName("v-ripple__animation");if(i.length===0)return;const u=i[i.length-1];if(u.dataset.isHiding)return;u.dataset.isHiding="true";const m=performance.now()-Number(u.dataset.activated),b=Math.max(250-m,0);setTimeout(()=>{u.classList.remove("v-ripple__animation--in"),u.classList.add("v-ripple__animation--out"),setTimeout(()=>{var S;s.getElementsByClassName("v-ripple__animation").length===1&&s.dataset.previousPosition&&(s.style.position=s.dataset.previousPosition,delete s.dataset.previousPosition),((S=u.parentNode)==null?void 0:S.parentNode)===s&&s.removeChild(u.parentNode)},300)},b)}};function dY(s){return typeof s>"u"||!!s}function rO(s){const i={},u=s.currentTarget;if(!(!(u!=null&&u._ripple)||u._ripple.touched||s[cV])){if(s[cV]=!0,uV(s))u._ripple.touched=!0,u._ripple.isTouch=!0;else if(u._ripple.isTouch)return;if(i.center=u._ripple.centered||uY(s),u._ripple.class&&(i.class=u._ripple.class),uV(s)){if(u._ripple.showTimerCommit)return;u._ripple.showTimerCommit=()=>{iM.show(s,u,i)},u._ripple.showTimer=window.setTimeout(()=>{var m;(m=u==null?void 0:u._ripple)!=null&&m.showTimerCommit&&(u._ripple.showTimerCommit(),u._ripple.showTimerCommit=null)},cme)}else iM.show(s,u,i)}}function aK(s){s[cV]=!0}function Vf(s){const i=s.currentTarget;if(i!=null&&i._ripple){if(window.clearTimeout(i._ripple.showTimer),s.type==="touchend"&&i._ripple.showTimerCommit){i._ripple.showTimerCommit(),i._ripple.showTimerCommit=null,i._ripple.showTimer=window.setTimeout(()=>{Vf(s)});return}window.setTimeout(()=>{i._ripple&&(i._ripple.touched=!1)}),iM.hide(i)}}function fY(s){const i=s.currentTarget;i!=null&&i._ripple&&(i._ripple.showTimerCommit&&(i._ripple.showTimerCommit=null),window.clearTimeout(i._ripple.showTimer))}let aO=!1;function mY(s){!aO&&(s.keyCode===ij.enter||s.keyCode===ij.space)&&(aO=!0,rO(s))}function gY(s){aO=!1,Vf(s)}function hY(s){aO&&(aO=!1,Vf(s))}function pY(s,i,u){const{value:m,modifiers:b}=i,h=dY(m);if(h||iM.hide(s),s._ripple=s._ripple??{},s._ripple.enabled=h,s._ripple.centered=b.center,s._ripple.circle=b.circle,Ple(m)&&m.class&&(s._ripple.class=m.class),h&&!u){if(b.stop){s.addEventListener("touchstart",aK,{passive:!0}),s.addEventListener("mousedown",aK);return}s.addEventListener("touchstart",rO,{passive:!0}),s.addEventListener("touchend",Vf,{passive:!0}),s.addEventListener("touchmove",fY,{passive:!0}),s.addEventListener("touchcancel",Vf),s.addEventListener("mousedown",rO),s.addEventListener("mouseup",Vf),s.addEventListener("mouseleave",Vf),s.addEventListener("keydown",mY),s.addEventListener("keyup",gY),s.addEventListener("blur",hY),s.addEventListener("dragstart",Vf,{passive:!0})}else!h&&u&&bY(s)}function bY(s){s.removeEventListener("mousedown",rO),s.removeEventListener("touchstart",rO),s.removeEventListener("touchend",Vf),s.removeEventListener("touchmove",fY),s.removeEventListener("touchcancel",Vf),s.removeEventListener("mouseup",Vf),s.removeEventListener("mouseleave",Vf),s.removeEventListener("keydown",mY),s.removeEventListener("keyup",gY),s.removeEventListener("dragstart",Vf),s.removeEventListener("blur",hY)}function dme(s,i){pY(s,i,!1)}function fme(s){delete s._ripple,bY(s)}function mme(s,i){if(i.value===i.oldValue)return;const u=dY(i.oldValue);pY(s,i,u)}const l$={mounted:dme,unmounted:fme,updated:mme},gme=Jn({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:rY},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:pl,appendIcon:pl,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,..._y(),...tr(),...Gp(),...Yp(),...ky(),...jfe(),...n$(),...MM(),...s$(),...mg(),...i$(),...IM(),...Bi({tag:"button"}),...Hl(),...$w({variant:"elevated"})},"VBtn"),As=rs()({name:"VBtn",props:gme(),emits:{"group:selected":s=>!0},setup(s,i){let{attrs:u,slots:m}=i;const{themeClasses:b}=ac(s),{borderClasses:h}=Sy(s),{densityClasses:x}=s1(s),{dimensionStyles:S}=Xp(s),{elevationClasses:B}=Ey(s),{loaderClasses:N}=o$(s),{locationStyles:R}=PM(s),{positionClasses:F}=r$(s),{roundedClasses:W}=gg(s),{sizeClasses:$,sizeStyles:K}=BM(s),ee=Kfe(s,s.symbol,!1),fe=a$(s,u),he=ct(()=>{var Ce;return s.active!==void 0?s.active:fe.isLink.value?(Ce=fe.isActive)==null?void 0:Ce.value:ee==null?void 0:ee.isSelected.value}),Ue=ct(()=>he.value?s.activeColor??s.color:s.color),Te=ct(()=>{var Ne,D;return{color:(ee==null?void 0:ee.isSelected.value)&&(!fe.isLink.value||((Ne=fe.isActive)==null?void 0:Ne.value))||!ee||((D=fe.isActive)==null?void 0:D.value)?Ue.value??s.baseColor:s.baseColor,variant:s.variant}}),{colorClasses:te,colorStyles:Ae,variantClasses:ne}=bO(Te),Ge=ct(()=>(ee==null?void 0:ee.disabled.value)||s.disabled),$e=ct(()=>s.variant==="elevated"&&!(s.disabled||s.flat||s.border)),Ze=ct(()=>{if(!(s.value===void 0||typeof s.value=="symbol"))return Object(s.value)===s.value?JSON.stringify(s.value,null,0):s.value});function nt(Ce){var Ne;Ge.value||fe.isLink.value&&(Ce.metaKey||Ce.ctrlKey||Ce.shiftKey||Ce.button!==0||u.target==="_blank")||((Ne=fe.navigate)==null||Ne.call(fe,Ce),ee==null||ee.toggle())}return lme(fe,ee==null?void 0:ee.select),Ks(()=>{const Ce=fe.isLink.value?"a":s.tag,Ne=!!(s.prependIcon||m.prepend),D=!!(s.appendIcon||m.append),yt=!!(s.icon&&s.icon!==!0);return Go(ue(Ce,{type:Ce==="a"?void 0:"button",class:["v-btn",ee==null?void 0:ee.selectedClass.value,{"v-btn--active":he.value,"v-btn--block":s.block,"v-btn--disabled":Ge.value,"v-btn--elevated":$e.value,"v-btn--flat":s.flat,"v-btn--icon":!!s.icon,"v-btn--loading":s.loading,"v-btn--readonly":s.readonly,"v-btn--slim":s.slim,"v-btn--stacked":s.stacked},b.value,h.value,te.value,x.value,B.value,N.value,F.value,W.value,$.value,ne.value,s.class],style:[Ae.value,S.value,R.value,K.value,s.style],"aria-busy":s.loading?!0:void 0,disabled:Ge.value||void 0,href:fe.href.value,tabindex:s.loading||s.readonly?-1:void 0,onClick:nt,value:Ze.value},{default:()=>{var Pt;return[pO(!0,"v-btn"),!s.icon&&Ne&&ue("span",{key:"prepend",class:"v-btn__prepend"},[m.prepend?ue(rc,{key:"prepend-defaults",disabled:!s.prependIcon,defaults:{VIcon:{icon:s.prependIcon}}},m.prepend):ue(ns,{key:"prepend-icon",icon:s.prependIcon},null)]),ue("span",{class:"v-btn__content","data-no-activator":""},[!m.default&&yt?ue(ns,{key:"content-icon",icon:s.icon},null):ue(rc,{key:"content-defaults",disabled:!yt,defaults:{VIcon:{icon:s.icon}}},{default:()=>{var cn;return[((cn=m.default)==null?void 0:cn.call(m))??s.text]}})]),!s.icon&&D&&ue("span",{key:"append",class:"v-btn__append"},[m.append?ue(rc,{key:"append-defaults",disabled:!s.appendIcon,defaults:{VIcon:{icon:s.appendIcon}}},m.append):ue(ns,{key:"append-icon",icon:s.appendIcon},null)]),!!s.loading&&ue("span",{key:"loader",class:"v-btn__loader"},[((Pt=m.loader)==null?void 0:Pt.call(m))??ue(nme,{color:typeof s.loading=="boolean"?void 0:s.loading,indeterminate:!0,width:"2"},null)])]}}),[[l$,!Ge.value&&s.ripple,"",{center:!!s.icon}]])}),{group:ee}}}),hme={__name:"Timer",setup(s){const i=Pd(),u=Fl();function m(b){const h=("00"+Math.floor(b)%60).slice(-2),x=("00"+Math.floor(b/60)%60).slice(-2),S=("00"+Math.floor(b/3600)%24).slice(-2),B=Math.floor(b/86400);return B>1?B+" Tage "+S+" Stunden":B>0?B+" Tag "+S+" Stunden":S!="00"?S+":"+x+":"+h+" Stunden":x!="00"?x+":"+h+" Minuten":h+" Sekunden"}return(b,h)=>Go((Jo(),Jr(As,{class:"app-header-item",onClick:h[0]||(h[0]=x=>He(u).toggleTimer())},{default:qt(()=>[ue(ns,{left:"",icon:"mdi-clock-outline"}),Go(rt("span",null,Xi(m(He(i).remaining_time)),513),[[bs,He(u).showTimer]]),Go(rt("span",null,"Restzeit",512),[[bs,!He(u).showTimer]])]),_:1},512)),[[bs,!He(i).writingEndReached]])}},Up=rs()({name:"VCardActions",props:tr(),setup(s,i){let{slots:u}=i;return hk({VBtn:{slim:!0,variant:"text"}}),Ks(()=>{var m;return ue("div",{class:["v-card-actions",s.class],style:s.style},[(m=u.default)==null?void 0:m.call(u)])}),{}}}),pme=Jn({opacity:[Number,String],...tr(),...Bi()},"VCardSubtitle"),bme=rs()({name:"VCardSubtitle",props:pme(),setup(s,i){let{slots:u}=i;return Ks(()=>ue(s.tag,{class:["v-card-subtitle",s.class],style:[{"--v-card-subtitle-opacity":s.opacity},s.style]},u)),{}}}),dV=CM("v-card-title");function vme(s){return{aspectStyles:ct(()=>{const i=Number(s.aspectRatio);return i?{paddingBottom:String(1/i*100)+"%"}:void 0})}}const vY=Jn({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...tr(),...Yp()},"VResponsive"),iK=rs()({name:"VResponsive",props:vY(),setup(s,i){let{slots:u}=i;const{aspectStyles:m}=vme(s),{dimensionStyles:b}=Xp(s);return Ks(()=>{var h;return ue("div",{class:["v-responsive",{"v-responsive--inline":s.inline},s.class],style:[b.value,s.style]},[ue("div",{class:"v-responsive__sizer",style:m.value},null),(h=u.additional)==null?void 0:h.call(u),u.default&&ue("div",{class:["v-responsive__content",s.contentClass]},[u.default()])])}),{}}}),LM=Jn({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:s=>s!==!0}},"transition"),uy=(s,i)=>{let{slots:u}=i;const{transition:m,disabled:b,group:h,...x}=s,{component:S=h?$V:jp,...B}=typeof m=="object"?m:{};return Zp(S,Sa(typeof m=="string"?{name:b?"":m}:B,typeof m=="string"?{}:Object.fromEntries(Object.entries({disabled:b,group:h}).filter(N=>{let[R,F]=N;return F!==void 0})),x),u)};function yme(s,i){if(!UV)return;const u=i.modifiers||{},m=i.value,{handler:b,options:h}=typeof m=="object"?m:{handler:m,options:{}},x=new IntersectionObserver(function(){var F;let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],B=arguments.length>1?arguments[1]:void 0;const N=(F=s._observe)==null?void 0:F[i.instance.$.uid];if(!N)return;const R=S.some(W=>W.isIntersecting);b&&(!u.quiet||N.init)&&(!u.once||R||N.init)&&b(R,S,B),R&&u.once?yY(s,i):N.init=!0},h);s._observe=Object(s._observe),s._observe[i.instance.$.uid]={init:!1,observer:x},x.observe(s)}function yY(s,i){var m;const u=(m=s._observe)==null?void 0:m[i.instance.$.uid];u&&(u.observer.unobserve(s),delete s._observe[i.instance.$.uid])}const xY={mounted:yme,unmounted:yY},xme=Jn({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...vY(),...tr(),...mg(),...LM()},"VImg"),FM=rs()({name:"VImg",directives:{intersect:xY},props:xme(),emits:{loadstart:s=>!0,load:s=>!0,error:s=>!0},setup(s,i){let{emit:u,slots:m}=i;const{backgroundColorClasses:b,backgroundColorStyles:h}=$p(js(s,"color")),{roundedClasses:x}=gg(s),S=Al("VImg"),B=Ts(""),N=Eo(),R=Ts(s.eager?"loading":"idle"),F=Ts(),W=Ts(),$=ct(()=>s.src&&typeof s.src=="object"?{src:s.src.src,srcset:s.srcset||s.src.srcset,lazySrc:s.lazySrc||s.src.lazySrc,aspect:Number(s.aspectRatio||s.src.aspect||0)}:{src:s.src,srcset:s.srcset,lazySrc:s.lazySrc,aspect:Number(s.aspectRatio||0)}),K=ct(()=>$.value.aspect||F.value/W.value||0);Gn(()=>s.src,()=>{ee(R.value!=="idle")}),Gn(K,(Ne,D)=>{!Ne&&D&&N.value&&te(N.value)}),BV(()=>ee());function ee(Ne){if(!(s.eager&&Ne)&&!(UV&&!Ne&&!s.eager)){if(R.value="loading",$.value.lazySrc){const D=new Image;D.src=$.value.lazySrc,te(D,null)}$.value.src&&Pa(()=>{var D;u("loadstart",((D=N.value)==null?void 0:D.currentSrc)||$.value.src),setTimeout(()=>{var yt;if(!S.isUnmounted)if((yt=N.value)!=null&&yt.complete){if(N.value.naturalWidth||he(),R.value==="error")return;K.value||te(N.value,null),R.value==="loading"&&fe()}else K.value||te(N.value),Ue()})})}}function fe(){var Ne;S.isUnmounted||(Ue(),te(N.value),R.value="loaded",u("load",((Ne=N.value)==null?void 0:Ne.currentSrc)||$.value.src))}function he(){var Ne;S.isUnmounted||(R.value="error",u("error",((Ne=N.value)==null?void 0:Ne.currentSrc)||$.value.src))}function Ue(){const Ne=N.value;Ne&&(B.value=Ne.currentSrc||Ne.src)}let Te=-1;Bc(()=>{clearTimeout(Te)});function te(Ne){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const yt=()=>{if(clearTimeout(Te),S.isUnmounted)return;const{naturalHeight:Pt,naturalWidth:cn}=Ne;Pt||cn?(F.value=cn,W.value=Pt):!Ne.complete&&R.value==="loading"&&D!=null?Te=window.setTimeout(yt,D):(Ne.currentSrc.endsWith(".svg")||Ne.currentSrc.startsWith("data:image/svg+xml"))&&(F.value=1,W.value=1)};yt()}const Ae=ct(()=>({"v-img__img--cover":s.cover,"v-img__img--contain":!s.cover})),ne=()=>{var yt;if(!$.value.src||R.value==="idle")return null;const Ne=ue("img",{class:["v-img__img",Ae.value],style:{objectPosition:s.position},src:$.value.src,srcset:$.value.srcset,alt:s.alt,crossorigin:s.crossorigin,referrerpolicy:s.referrerpolicy,draggable:s.draggable,sizes:s.sizes,ref:N,onLoad:fe,onError:he},null),D=(yt=m.sources)==null?void 0:yt.call(m);return ue(uy,{transition:s.transition,appear:!0},{default:()=>[Go(D?ue("picture",{class:"v-img__picture"},[D,Ne]):Ne,[[bs,R.value==="loaded"]])]})},Ge=()=>ue(uy,{transition:s.transition},{default:()=>[$.value.lazySrc&&R.value!=="loaded"&&ue("img",{class:["v-img__img","v-img__img--preload",Ae.value],style:{objectPosition:s.position},src:$.value.lazySrc,alt:s.alt,crossorigin:s.crossorigin,referrerpolicy:s.referrerpolicy,draggable:s.draggable},null)]}),$e=()=>m.placeholder?ue(uy,{transition:s.transition,appear:!0},{default:()=>[(R.value==="loading"||R.value==="error"&&!m.error)&&ue("div",{class:"v-img__placeholder"},[m.placeholder()])]}):null,Ze=()=>m.error?ue(uy,{transition:s.transition,appear:!0},{default:()=>[R.value==="error"&&ue("div",{class:"v-img__error"},[m.error()])]}):null,nt=()=>s.gradient?ue("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${s.gradient})`}},null):null,Ce=Ts(!1);{const Ne=Gn(K,D=>{D&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{Ce.value=!0})}),Ne())})}return Ks(()=>{const Ne=iK.filterProps(s);return Go(ue(iK,Sa({class:["v-img",{"v-img--absolute":s.absolute,"v-img--booting":!Ce.value},b.value,x.value,s.class],style:[{width:fs(s.width==="auto"?F.value:s.width)},h.value,s.style]},Ne,{aspectRatio:K.value,"aria-label":s.alt,role:s.alt?"img":void 0}),{additional:()=>ue(Er,null,[ue(ne,null,null),ue(Ge,null,null),ue(nt,null,null),ue($e,null,null),ue(Ze,null,null)]),default:m.default}),[[dO("intersect"),{handler:ee,options:s.options},null,{once:!0}]])}),{currentSrc:B,image:N,state:R,naturalWidth:F,naturalHeight:W}}}),wme=Jn({start:Boolean,end:Boolean,icon:pl,image:String,text:String,..._y(),...tr(),...Gp(),...mg(),...IM(),...Bi(),...Hl(),...$w({variant:"flat"})},"VAvatar"),lM=rs()({name:"VAvatar",props:wme(),setup(s,i){let{slots:u}=i;const{themeClasses:m}=ac(s),{borderClasses:b}=Sy(s),{colorClasses:h,colorStyles:x,variantClasses:S}=bO(s),{densityClasses:B}=s1(s),{roundedClasses:N}=gg(s),{sizeClasses:R,sizeStyles:F}=BM(s);return Ks(()=>ue(s.tag,{class:["v-avatar",{"v-avatar--start":s.start,"v-avatar--end":s.end},m.value,b.value,h.value,B.value,N.value,R.value,S.value,s.class],style:[x.value,F.value,s.style]},{default:()=>[u.default?ue(rc,{key:"content-defaults",defaults:{VImg:{cover:!0,src:s.image},VIcon:{icon:s.icon}}},{default:()=>[u.default()]}):s.image?ue(FM,{key:"image",src:s.image,alt:"",cover:!0},null):s.icon?ue(ns,{key:"icon",icon:s.icon},null):s.text,pO(!1,"v-avatar")]})),{}}}),Cme=Jn({appendAvatar:String,appendIcon:pl,prependAvatar:String,prependIcon:pl,subtitle:[String,Number],title:[String,Number],...tr(),...Gp()},"VCardItem"),_me=rs()({name:"VCardItem",props:Cme(),setup(s,i){let{slots:u}=i;return Ks(()=>{var N;const m=!!(s.prependAvatar||s.prependIcon),b=!!(m||u.prepend),h=!!(s.appendAvatar||s.appendIcon),x=!!(h||u.append),S=!!(s.title!=null||u.title),B=!!(s.subtitle!=null||u.subtitle);return ue("div",{class:["v-card-item",s.class],style:s.style},[b&&ue("div",{key:"prepend",class:"v-card-item__prepend"},[u.prepend?ue(rc,{key:"prepend-defaults",disabled:!m,defaults:{VAvatar:{density:s.density,image:s.prependAvatar},VIcon:{density:s.density,icon:s.prependIcon}}},u.prepend):ue(Er,null,[s.prependAvatar&&ue(lM,{key:"prepend-avatar",density:s.density,image:s.prependAvatar},null),s.prependIcon&&ue(ns,{key:"prepend-icon",density:s.density,icon:s.prependIcon},null)])]),ue("div",{class:"v-card-item__content"},[S&&ue(dV,{key:"title"},{default:()=>{var R;return[((R=u.title)==null?void 0:R.call(u))??s.title]}}),B&&ue(bme,{key:"subtitle"},{default:()=>{var R;return[((R=u.subtitle)==null?void 0:R.call(u))??s.subtitle]}}),(N=u.default)==null?void 0:N.call(u)]),x&&ue("div",{key:"append",class:"v-card-item__append"},[u.append?ue(rc,{key:"append-defaults",disabled:!h,defaults:{VAvatar:{density:s.density,image:s.appendAvatar},VIcon:{density:s.density,icon:s.appendIcon}}},u.append):ue(Er,null,[s.appendIcon&&ue(ns,{key:"append-icon",density:s.density,icon:s.appendIcon},null),s.appendAvatar&&ue(lM,{key:"append-avatar",density:s.density,image:s.appendAvatar},null)])])])}),{}}}),Sme=Jn({opacity:[Number,String],...tr(),...Bi()},"VCardText"),Wp=rs()({name:"VCardText",props:Sme(),setup(s,i){let{slots:u}=i;return Ks(()=>ue(s.tag,{class:["v-card-text",s.class],style:[{"--v-card-text-opacity":s.opacity},s.style]},u)),{}}}),kme=Jn({appendAvatar:String,appendIcon:pl,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:pl,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],..._y(),...tr(),...Gp(),...Yp(),...ky(),...n$(),...MM(),...s$(),...mg(),...i$(),...Bi(),...Hl(),...$w({variant:"elevated"})},"VCard"),J0=rs()({name:"VCard",directives:{Ripple:l$},props:kme(),setup(s,i){let{attrs:u,slots:m}=i;const{themeClasses:b}=ac(s),{borderClasses:h}=Sy(s),{colorClasses:x,colorStyles:S,variantClasses:B}=bO(s),{densityClasses:N}=s1(s),{dimensionStyles:R}=Xp(s),{elevationClasses:F}=Ey(s),{loaderClasses:W}=o$(s),{locationStyles:$}=PM(s),{positionClasses:K}=r$(s),{roundedClasses:ee}=gg(s),fe=a$(s,u),he=ct(()=>s.link!==!1&&fe.isLink.value),Ue=ct(()=>!s.disabled&&s.link!==!1&&(s.link||fe.isClickable.value));return Ks(()=>{const Te=he.value?"a":s.tag,te=!!(m.title||s.title!=null),Ae=!!(m.subtitle||s.subtitle!=null),ne=te||Ae,Ge=!!(m.append||s.appendAvatar||s.appendIcon),$e=!!(m.prepend||s.prependAvatar||s.prependIcon),Ze=!!(m.image||s.image),nt=ne||$e||Ge,Ce=!!(m.text||s.text!=null);return Go(ue(Te,{class:["v-card",{"v-card--disabled":s.disabled,"v-card--flat":s.flat,"v-card--hover":s.hover&&!(s.disabled||s.flat),"v-card--link":Ue.value},b.value,h.value,x.value,N.value,F.value,W.value,K.value,ee.value,B.value,s.class],style:[S.value,R.value,$.value,s.style],href:fe.href.value,onClick:Ue.value&&fe.navigate,tabindex:s.disabled?-1:void 0},{default:()=>{var Ne;return[Ze&&ue("div",{key:"image",class:"v-card__image"},[m.image?ue(rc,{key:"image-defaults",disabled:!s.image,defaults:{VImg:{cover:!0,src:s.image}}},m.image):ue(FM,{key:"image-img",cover:!0,src:s.image},null)]),ue(lY,{name:"v-card",active:!!s.loading,color:typeof s.loading=="boolean"?void 0:s.loading},{default:m.loader}),nt&&ue(_me,{key:"item",prependAvatar:s.prependAvatar,prependIcon:s.prependIcon,title:s.title,subtitle:s.subtitle,appendAvatar:s.appendAvatar,appendIcon:s.appendIcon},{default:m.item,prepend:m.prepend,title:m.title,subtitle:m.subtitle,append:m.append}),Ce&&ue(Wp,{key:"text"},{default:()=>{var D;return[((D=m.text)==null?void 0:D.call(m))??s.text]}}),(Ne=m.default)==null?void 0:Ne.call(m),m.actions&&ue(Up,null,{default:m.actions}),pO(Ue.value,"v-card")]}}),[[dO("ripple"),Ue.value&&s.ripple]])}),{}}}),Eme=Jn({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function Gf(s,i,u){return rs()({name:s,props:Eme({mode:u,origin:i}),setup(m,b){let{slots:h}=b;const x={onBeforeEnter(S){m.origin&&(S.style.transformOrigin=m.origin)},onLeave(S){if(m.leaveAbsolute){const{offsetTop:B,offsetLeft:N,offsetWidth:R,offsetHeight:F}=S;S._transitionInitialStyles={position:S.style.position,top:S.style.top,left:S.style.left,width:S.style.width,height:S.style.height},S.style.position="absolute",S.style.top=`${B}px`,S.style.left=`${N}px`,S.style.width=`${R}px`,S.style.height=`${F}px`}m.hideOnLeave&&S.style.setProperty("display","none","important")},onAfterLeave(S){if(m.leaveAbsolute&&(S!=null&&S._transitionInitialStyles)){const{position:B,top:N,left:R,width:F,height:W}=S._transitionInitialStyles;delete S._transitionInitialStyles,S.style.position=B||"",S.style.top=N||"",S.style.left=R||"",S.style.width=F||"",S.style.height=W||""}}};return()=>{const S=m.group?$V:jp;return Zp(S,{name:m.disabled?"":s,css:!m.disabled,...m.group?void 0:{mode:m.mode},...m.disabled?{}:x},h.default)}}})}function wY(s,i){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return rs()({name:s,props:{mode:{type:String,default:u},disabled:Boolean,group:Boolean},setup(m,b){let{slots:h}=b;const x=m.group?$V:jp;return()=>Zp(x,{name:m.disabled?"":s,css:!m.disabled,...m.disabled?{}:i},h.default)}})}function CY(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const u=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",m=jf(`offset-${u}`);return{onBeforeEnter(x){x._parent=x.parentNode,x._initialStyle={transition:x.style.transition,overflow:x.style.overflow,[u]:x.style[u]}},onEnter(x){const S=x._initialStyle;x.style.setProperty("transition","none","important"),x.style.overflow="hidden";const B=`${x[m]}px`;x.style[u]="0",x.offsetHeight,x.style.transition=S.transition,s&&x._parent&&x._parent.classList.add(s),requestAnimationFrame(()=>{x.style[u]=B})},onAfterEnter:h,onEnterCancelled:h,onLeave(x){x._initialStyle={transition:"",overflow:x.style.overflow,[u]:x.style[u]},x.style.overflow="hidden",x.style[u]=`${x[m]}px`,x.offsetHeight,requestAnimationFrame(()=>x.style[u]="0")},onAfterLeave:b,onLeaveCancelled:b};function b(x){s&&x._parent&&x._parent.classList.remove(s),h(x)}function h(x){const S=x._initialStyle[u];x.style.overflow=x._initialStyle.overflow,S!=null&&(x.style[u]=S),delete x._initialStyle}}const Ame=Jn({target:[Object,Array]},"v-dialog-transition"),Tme=rs()({name:"VDialogTransition",props:Ame(),setup(s,i){let{slots:u}=i;const m={onBeforeEnter(b){b.style.pointerEvents="none",b.style.visibility="hidden"},async onEnter(b,h){var W;await new Promise($=>requestAnimationFrame($)),await new Promise($=>requestAnimationFrame($)),b.style.visibility="";const{x,y:S,sx:B,sy:N,speed:R}=cK(s.target,b),F=ok(b,[{transform:`translate(${x}px, ${S}px) scale(${B}, ${N})`,opacity:0},{}],{duration:225*R,easing:Cce});(W=lK(b))==null||W.forEach($=>{ok($,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*R,easing:Q8})}),F.finished.then(()=>h())},onAfterEnter(b){b.style.removeProperty("pointer-events")},onBeforeLeave(b){b.style.pointerEvents="none"},async onLeave(b,h){var W;await new Promise($=>requestAnimationFrame($));const{x,y:S,sx:B,sy:N,speed:R}=cK(s.target,b);ok(b,[{},{transform:`translate(${x}px, ${S}px) scale(${B}, ${N})`,opacity:0}],{duration:125*R,easing:_ce}).finished.then(()=>h()),(W=lK(b))==null||W.forEach($=>{ok($,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*R,easing:Q8})})},onAfterLeave(b){b.style.removeProperty("pointer-events")}};return()=>s.target?ue(jp,Sa({name:"dialog-transition"},m,{css:!1}),u):ue(jp,{name:"dialog-transition"},u)}});function lK(s){var u;const i=(u=s.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:u.children;return i&&[...i]}function cK(s,i){const u=eG(s),m=jV(i),[b,h]=getComputedStyle(i).transformOrigin.split(" ").map(he=>parseFloat(he)),[x,S]=getComputedStyle(i).getPropertyValue("--v-overlay-anchor-origin").split(" ");let B=u.left+u.width/2;x==="left"||S==="left"?B-=u.width/2:(x==="right"||S==="right")&&(B+=u.width/2);let N=u.top+u.height/2;x==="top"||S==="top"?N-=u.height/2:(x==="bottom"||S==="bottom")&&(N+=u.height/2);const R=u.width/m.width,F=u.height/m.height,W=Math.max(1,R,F),$=R/W||0,K=F/W||0,ee=m.width*m.height/(window.innerWidth*window.innerHeight),fe=ee>.12?Math.min(1.5,(ee-.12)*10+1):1;return{x:B-(b+m.left),y:N-(h+m.top),sx:$,sy:K,speed:fe}}Gf("fab-transition","center center","out-in");Gf("dialog-bottom-transition");Gf("dialog-top-transition");Gf("fade-transition");Gf("scale-transition");Gf("scroll-x-transition");Gf("scroll-x-reverse-transition");Gf("scroll-y-transition");Gf("scroll-y-reverse-transition");Gf("slide-x-transition");Gf("slide-x-reverse-transition");const _Y=Gf("slide-y-transition");Gf("slide-y-reverse-transition");const SY=wY("expand-transition",CY()),Ome=wY("expand-x-transition",CY("",!0));function kH(s,i){return{x:s.x+i.x,y:s.y+i.y}}function Dme(s,i){return{x:s.x-i.x,y:s.y-i.y}}function uK(s,i){if(s.side==="top"||s.side==="bottom"){const{side:u,align:m}=s,b=m==="left"?0:m==="center"?i.width/2:m==="right"?i.width:m,h=u==="top"?0:u==="bottom"?i.height:u;return kH({x:b,y:h},i)}else if(s.side==="left"||s.side==="right"){const{side:u,align:m}=s,b=u==="left"?0:u==="right"?i.width:u,h=m==="top"?0:m==="center"?i.height/2:m==="bottom"?i.height:m;return kH({x:b,y:h},i)}return kH({x:i.width/2,y:i.height/2},i)}const kY={static:Ime,connected:Mme},Rme=Jn({locationStrategy:{type:[String,Function],default:"static",validator:s=>typeof s=="function"||s in kY},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function Nme(s,i){const u=Eo({}),m=Eo();bi&&xh(()=>!!(i.isActive.value&&s.locationStrategy),h=>{var x,S;Gn(()=>s.locationStrategy,h),Kf(()=>{window.removeEventListener("resize",b),m.value=void 0}),window.addEventListener("resize",b,{passive:!0}),typeof s.locationStrategy=="function"?m.value=(x=s.locationStrategy(i,s,u))==null?void 0:x.updateLocation:m.value=(S=kY[s.locationStrategy](i,s,u))==null?void 0:S.updateLocation});function b(h){var x;(x=m.value)==null||x.call(m,h)}return{contentStyles:u,updateLocation:m}}function Ime(){}function Bme(s,i){const u=jV(s);return i?u.x+=parseFloat(s.style.right||0):u.x-=parseFloat(s.style.left||0),u.y-=parseFloat(s.style.top||0),u}function Mme(s,i,u){(Array.isArray(s.target.value)||Ece(s.target.value))&&Object.assign(u.value,{position:"fixed",top:0,[s.isRtl.value?"right":"left"]:0});const{preferredAnchor:b,preferredOrigin:h}=ZV(()=>{const K=jH(i.location,s.isRtl.value),ee=i.origin==="overlap"?K:i.origin==="auto"?dH(K):jH(i.origin,s.isRtl.value);return K.side===ee.side&&K.align===fH(ee).align?{preferredAnchor:fj(K),preferredOrigin:fj(ee)}:{preferredAnchor:K,preferredOrigin:ee}}),[x,S,B,N]=["minWidth","minHeight","maxWidth","maxHeight"].map(K=>ct(()=>{const ee=parseFloat(i[K]);return isNaN(ee)?1/0:ee})),R=ct(()=>{if(Array.isArray(i.offset))return i.offset;if(typeof i.offset=="string"){const K=i.offset.split(" ").map(parseFloat);return K.length<2&&K.push(0),K}return typeof i.offset=="number"?[i.offset,0]:[0,0]});let F=!1;const W=new ResizeObserver(()=>{F&&$()});Gn([s.target,s.contentEl],(K,ee)=>{let[fe,he]=K,[Ue,Te]=ee;Ue&&!Array.isArray(Ue)&&W.unobserve(Ue),fe&&!Array.isArray(fe)&&W.observe(fe),Te&&W.unobserve(Te),he&&W.observe(he)},{immediate:!0}),Kf(()=>{W.disconnect()});function $(){if(F=!1,requestAnimationFrame(()=>F=!0),!s.target.value||!s.contentEl.value)return;const K=eG(s.target.value),ee=Bme(s.contentEl.value,s.isRtl.value),fe=eM(s.contentEl.value),he=12;fe.length||(fe.push(document.documentElement),s.contentEl.value.style.top&&s.contentEl.value.style.left||(ee.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),ee.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const Ue=fe.reduce((Ce,Ne)=>{const D=Ne.getBoundingClientRect(),yt=new Pw({x:Ne===document.documentElement?0:D.x,y:Ne===document.documentElement?0:D.y,width:Ne.clientWidth,height:Ne.clientHeight});return Ce?new Pw({x:Math.max(Ce.left,yt.left),y:Math.max(Ce.top,yt.top),width:Math.min(Ce.right,yt.right)-Math.max(Ce.left,yt.left),height:Math.min(Ce.bottom,yt.bottom)-Math.max(Ce.top,yt.top)}):yt},void 0);Ue.x+=he,Ue.y+=he,Ue.width-=he*2,Ue.height-=he*2;let Te={anchor:b.value,origin:h.value};function te(Ce){const Ne=new Pw(ee),D=uK(Ce.anchor,K),yt=uK(Ce.origin,Ne);let{x:Pt,y:cn}=Dme(D,yt);switch(Ce.anchor.side){case"top":cn-=R.value[0];break;case"bottom":cn+=R.value[0];break;case"left":Pt-=R.value[0];break;case"right":Pt+=R.value[0];break}switch(Ce.anchor.align){case"top":cn-=R.value[1];break;case"bottom":cn+=R.value[1];break;case"left":Pt-=R.value[1];break;case"right":Pt+=R.value[1];break}return Ne.x+=Pt,Ne.y+=cn,Ne.width=Math.min(Ne.width,B.value),Ne.height=Math.min(Ne.height,N.value),{overflows:gj(Ne,Ue),x:Pt,y:cn}}let Ae=0,ne=0;const Ge={x:0,y:0},$e={x:!1,y:!1};let Ze=-1;for(;!(Ze++>10);){const{x:Ce,y:Ne,overflows:D}=te(Te);Ae+=Ce,ne+=Ne,ee.x+=Ce,ee.y+=Ne;{const yt=mj(Te.anchor),Pt=D.x.before||D.x.after,cn=D.y.before||D.y.after;let hn=!1;if(["x","y"].forEach(Qe=>{if(Qe==="x"&&Pt&&!$e.x||Qe==="y"&&cn&&!$e.y){const On={anchor:{...Te.anchor},origin:{...Te.origin}},as=Qe==="x"?yt==="y"?fH:dH:yt==="y"?dH:fH;On.anchor=as(On.anchor),On.origin=as(On.origin);const{overflows:pt}=te(On);(pt[Qe].before<=D[Qe].before&&pt[Qe].after<=D[Qe].after||pt[Qe].before+pt[Qe].after<(D[Qe].before+D[Qe].after)/2)&&(Te=On,hn=$e[Qe]=!0)}}),hn)continue}D.x.before&&(Ae+=D.x.before,ee.x+=D.x.before),D.x.after&&(Ae-=D.x.after,ee.x-=D.x.after),D.y.before&&(ne+=D.y.before,ee.y+=D.y.before),D.y.after&&(ne-=D.y.after,ee.y-=D.y.after);{const yt=gj(ee,Ue);Ge.x=Ue.width-yt.x.before-yt.x.after,Ge.y=Ue.height-yt.y.before-yt.y.after,Ae+=yt.x.before,ee.x+=yt.x.before,ne+=yt.y.before,ee.y+=yt.y.before}break}const nt=mj(Te.anchor);return Object.assign(u.value,{"--v-overlay-anchor-origin":`${Te.anchor.side} ${Te.anchor.align}`,transformOrigin:`${Te.origin.side} ${Te.origin.align}`,top:fs(EH(ne)),left:s.isRtl.value?void 0:fs(EH(Ae)),right:s.isRtl.value?fs(EH(-Ae)):void 0,minWidth:fs(nt==="y"?Math.min(x.value,K.width):x.value),maxWidth:fs(dK(zw(Ge.x,x.value===1/0?0:x.value,B.value))),maxHeight:fs(dK(zw(Ge.y,S.value===1/0?0:S.value,N.value)))}),{available:Ge,contentBox:ee}}return Gn(()=>[b.value,h.value,i.offset,i.minWidth,i.minHeight,i.maxWidth,i.maxHeight],()=>$()),Pa(()=>{const K=$();if(!K)return;const{available:ee,contentBox:fe}=K;fe.height>ee.y&&requestAnimationFrame(()=>{$(),requestAnimationFrame(()=>{$()})})}),{updateLocation:$}}function EH(s){return Math.round(s*devicePixelRatio)/devicePixelRatio}function dK(s){return Math.ceil(s*devicePixelRatio)/devicePixelRatio}let fV=!0;const cM=[];function Pme(s){!fV||cM.length?(cM.push(s),mV()):(fV=!1,s(),mV())}let fK=-1;function mV(){cancelAnimationFrame(fK),fK=requestAnimationFrame(()=>{const s=cM.shift();s&&s(),cM.length?mV():fV=!0})}const W8={none:null,close:zme,block:Hme,reposition:Vme},Lme=Jn({scrollStrategy:{type:[String,Function],default:"block",validator:s=>typeof s=="function"||s in W8}},"VOverlay-scroll-strategies");function Fme(s,i){if(!bi)return;let u;wh(async()=>{u==null||u.stop(),i.isActive.value&&s.scrollStrategy&&(u=lO(),await new Promise(m=>setTimeout(m)),u.active&&u.run(()=>{var m;typeof s.scrollStrategy=="function"?s.scrollStrategy(i,s,u):(m=W8[s.scrollStrategy])==null||m.call(W8,i,s,u)}))}),Kf(()=>{u==null||u.stop()})}function zme(s){function i(u){s.isActive.value=!1}EY(s.targetEl.value??s.contentEl.value,i)}function Hme(s,i){var x;const u=(x=s.root.value)==null?void 0:x.offsetParent,m=[...new Set([...eM(s.targetEl.value,i.contained?u:void 0),...eM(s.contentEl.value,i.contained?u:void 0)])].filter(S=>!S.classList.contains("v-overlay-scroll-blocked")),b=window.innerWidth-document.documentElement.offsetWidth,h=(S=>GV(S)&&S)(u||document.documentElement);h&&s.root.value.classList.add("v-overlay--scroll-blocked"),m.forEach((S,B)=>{S.style.setProperty("--v-body-scroll-x",fs(-S.scrollLeft)),S.style.setProperty("--v-body-scroll-y",fs(-S.scrollTop)),S!==document.documentElement&&S.style.setProperty("--v-scrollbar-offset",fs(b)),S.classList.add("v-overlay-scroll-blocked")}),Kf(()=>{m.forEach((S,B)=>{const N=parseFloat(S.style.getPropertyValue("--v-body-scroll-x")),R=parseFloat(S.style.getPropertyValue("--v-body-scroll-y")),F=S.style.scrollBehavior;S.style.scrollBehavior="auto",S.style.removeProperty("--v-body-scroll-x"),S.style.removeProperty("--v-body-scroll-y"),S.style.removeProperty("--v-scrollbar-offset"),S.classList.remove("v-overlay-scroll-blocked"),S.scrollLeft=-N,S.scrollTop=-R,S.style.scrollBehavior=F}),h&&s.root.value.classList.remove("v-overlay--scroll-blocked")})}function Vme(s,i,u){let m=!1,b=-1,h=-1;function x(S){Pme(()=>{var R,F;const B=performance.now();(F=(R=s.updateLocation).value)==null||F.call(R,S),m=(performance.now()-B)/(1e3/60)>2})}h=(typeof requestIdleCallback>"u"?S=>S():requestIdleCallback)(()=>{u.run(()=>{EY(s.targetEl.value??s.contentEl.value,S=>{m?(cancelAnimationFrame(b),b=requestAnimationFrame(()=>{b=requestAnimationFrame(()=>{x(S)})})):x(S)})})}),Kf(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(h),cancelAnimationFrame(b)})}function EY(s,i){const u=[document,...eM(s)];u.forEach(m=>{m.addEventListener("scroll",i,{passive:!0})}),Kf(()=>{u.forEach(m=>{m.removeEventListener("scroll",i)})})}const $me=Symbol.for("vuetify:v-menu"),AY=Jn({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function TY(s,i){let u=()=>{};function m(x){u==null||u();const S=Number(x?s.openDelay:s.closeDelay);return new Promise(B=>{u=jle(S,()=>{i==null||i(x),B(x)})})}function b(){return m(!0)}function h(){return m(!1)}return{clearDelay:u,runOpenDelay:b,runCloseDelay:h}}const Ume=Jn({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...AY()},"VOverlay-activator");function Wme(s,i){let{isActive:u,isTop:m,contentEl:b}=i;const h=Al("useActivator"),x=Eo();let S=!1,B=!1,N=!0;const R=ct(()=>s.openOnFocus||s.openOnFocus==null&&s.openOnHover),F=ct(()=>s.openOnClick||s.openOnClick==null&&!s.openOnHover&&!R.value),{runOpenDelay:W,runCloseDelay:$}=TY(s,$e=>{$e===(s.openOnHover&&S||R.value&&B)&&!(s.openOnHover&&u.value&&!m.value)&&(u.value!==$e&&(N=!0),u.value=$e)}),K=Eo(),ee={onClick:$e=>{$e.stopPropagation(),x.value=$e.currentTarget||$e.target,u.value||(K.value=[$e.clientX,$e.clientY]),u.value=!u.value},onMouseenter:$e=>{var Ze;(Ze=$e.sourceCapabilities)!=null&&Ze.firesTouchEvents||(S=!0,x.value=$e.currentTarget||$e.target,W())},onMouseleave:$e=>{S=!1,$()},onFocus:$e=>{Zle($e.target,":focus-visible")!==!1&&(B=!0,$e.stopPropagation(),x.value=$e.currentTarget||$e.target,W())},onBlur:$e=>{B=!1,$e.stopPropagation(),$()}},fe=ct(()=>{const $e={};return F.value&&($e.onClick=ee.onClick),s.openOnHover&&($e.onMouseenter=ee.onMouseenter,$e.onMouseleave=ee.onMouseleave),R.value&&($e.onFocus=ee.onFocus,$e.onBlur=ee.onBlur),$e}),he=ct(()=>{const $e={};if(s.openOnHover&&($e.onMouseenter=()=>{S=!0,W()},$e.onMouseleave=()=>{S=!1,$()}),R.value&&($e.onFocusin=()=>{B=!0,W()},$e.onFocusout=()=>{B=!1,$()}),s.closeOnContentClick){const Ze=Ji($me,null);$e.onClick=()=>{u.value=!1,Ze==null||Ze.closeParents()}}return $e}),Ue=ct(()=>{const $e={};return s.openOnHover&&($e.onMouseenter=()=>{N&&(S=!0,N=!1,W())},$e.onMouseleave=()=>{S=!1,$()}),$e});Gn(m,$e=>{var Ze;$e&&(s.openOnHover&&!S&&(!R.value||!B)||R.value&&!B&&(!s.openOnHover||!S))&&!((Ze=b.value)!=null&&Ze.contains(document.activeElement))&&(u.value=!1)}),Gn(u,$e=>{$e||setTimeout(()=>{K.value=void 0})},{flush:"post"});const Te=ZH();wh(()=>{Te.value&&Pa(()=>{x.value=Te.el})});const te=ZH(),Ae=ct(()=>s.target==="cursor"&&K.value?K.value:te.value?te.el:OY(s.target,h)||x.value),ne=ct(()=>Array.isArray(Ae.value)?void 0:Ae.value);let Ge;return Gn(()=>!!s.activator,$e=>{$e&&bi?(Ge=lO(),Ge.run(()=>{Zme(s,h,{activatorEl:x,activatorEvents:fe})})):Ge&&Ge.stop()},{flush:"post",immediate:!0}),Kf(()=>{Ge==null||Ge.stop()}),{activatorEl:x,activatorRef:Te,target:Ae,targetEl:ne,targetRef:te,activatorEvents:fe,contentEvents:he,scrimEvents:Ue}}function Zme(s,i,u){let{activatorEl:m,activatorEvents:b}=u;Gn(()=>s.activator,(B,N)=>{if(N&&B!==N){const R=S(N);R&&x(R)}B&&Pa(()=>h())},{immediate:!0}),Gn(()=>s.activatorProps,()=>{h()}),Kf(()=>{x()});function h(){let B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S(),N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.activatorProps;B&&qle(B,Sa(b.value,N))}function x(){let B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S(),N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.activatorProps;B&&Gle(B,Sa(b.value,N))}function S(){let B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s.activator;const N=OY(B,i);return m.value=(N==null?void 0:N.nodeType)===Node.ELEMENT_NODE?N:void 0,m.value}}function OY(s,i){var m,b;if(!s)return;let u;if(s==="parent"){let h=(b=(m=i==null?void 0:i.proxy)==null?void 0:m.$el)==null?void 0:b.parentNode;for(;h!=null&&h.hasAttribute("data-no-activator");)h=h.parentNode;u=h}else typeof s=="string"?u=document.querySelector(s):"$el"in s?u=s.$el:u=s;return u}function jme(){if(!bi)return Ts(!1);const{ssr:s}=hG();if(s){const i=Ts(!1);return Ic(()=>{i.value=!0}),i}else return Ts(!0)}const Kme=Jn({eager:Boolean},"lazy");function qme(s,i){const u=Ts(!1),m=ct(()=>u.value||s.eager||i.value);Gn(i,()=>u.value=!0);function b(){s.eager||(u.value=!1)}return{isBooted:u,hasContent:m,onAfterLeave:b}}function c$(){const i=Al("useScopeId").vnode.scopeId;return{scopeId:i?{[i]:""}:void 0}}const mK=Symbol.for("vuetify:stack"),ZT=gu([]);function Gme(s,i,u){const m=Al("useStack"),b=!u,h=Ji(mK,void 0),x=gu({activeChildren:new Set});qf(mK,x);const S=Ts(+i.value);xh(s,()=>{var F;const R=(F=ZT.at(-1))==null?void 0:F[1];S.value=R?R+10:+i.value,b&&ZT.push([m.uid,S.value]),h==null||h.activeChildren.add(m.uid),Kf(()=>{if(b){const W=Ao(ZT).findIndex($=>$[0]===m.uid);ZT.splice(W,1)}h==null||h.activeChildren.delete(m.uid)})});const B=Ts(!0);b&&wh(()=>{var F;const R=((F=ZT.at(-1))==null?void 0:F[0])===m.uid;setTimeout(()=>B.value=R)});const N=ct(()=>!x.activeChildren.size);return{globalTop:cO(B),localTop:N,stackStyles:ct(()=>({zIndex:S.value}))}}function Yme(s){return{teleportTarget:ct(()=>{const u=s();if(u===!0||!bi)return;const m=u===!1?document.body:typeof u=="string"?document.querySelector(u):u;if(m==null)return;let b=[...m.children].find(h=>h.matches(".v-overlay-container"));return b||(b=document.createElement("div"),b.className="v-overlay-container",m.appendChild(b)),b})}}function Xme(){return!0}function DY(s,i,u){if(!s||RY(s,u)===!1)return!1;const m=iG(i);if(typeof ShadowRoot<"u"&&m instanceof ShadowRoot&&m.host===s.target)return!1;const b=(typeof u.value=="object"&&u.value.include||(()=>[]))();return b.push(i),!b.some(h=>h==null?void 0:h.contains(s.target))}function RY(s,i){return(typeof i.value=="object"&&i.value.closeConditional||Xme)(s)}function Jme(s,i,u){const m=typeof u.value=="function"?u.value:u.value.handler;s.shadowTarget=s.target,i._clickOutside.lastMousedownWasOutside&&DY(s,i,u)&&setTimeout(()=>{RY(s,u)&&m&&m(s)},0)}function gK(s,i){const u=iG(s);i(document),typeof ShadowRoot<"u"&&u instanceof ShadowRoot&&i(u)}const Qme={mounted(s,i){const u=b=>Jme(b,s,i),m=b=>{s._clickOutside.lastMousedownWasOutside=DY(b,s,i)};gK(s,b=>{b.addEventListener("click",u,!0),b.addEventListener("mousedown",m,!0)}),s._clickOutside||(s._clickOutside={lastMousedownWasOutside:!1}),s._clickOutside[i.instance.$.uid]={onClick:u,onMousedown:m}},beforeUnmount(s,i){s._clickOutside&&(gK(s,u=>{var h;if(!u||!((h=s._clickOutside)!=null&&h[i.instance.$.uid]))return;const{onClick:m,onMousedown:b}=s._clickOutside[i.instance.$.uid];u.removeEventListener("click",m,!0),u.removeEventListener("mousedown",b,!0)}),delete s._clickOutside[i.instance.$.uid])}};function ege(s){const{modelValue:i,color:u,...m}=s;return ue(jp,{name:"fade-transition",appear:!0},{default:()=>[s.modelValue&&ue("div",Sa({class:["v-overlay__scrim",s.color.backgroundColorClasses.value],style:s.color.backgroundColorStyles.value},m),null)]})}const NY=Jn({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...Ume(),...tr(),...Yp(),...Kme(),...Rme(),...Lme(),...Hl(),...LM()},"VOverlay"),hK=rs()({name:"VOverlay",directives:{ClickOutside:Qme},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...NY()},emits:{"click:outside":s=>!0,"update:modelValue":s=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(s,i){let{slots:u,attrs:m,emit:b}=i;const h=Al("VOverlay"),x=Eo(),S=Eo(),B=Eo(),N=Ld(s,"modelValue"),R=ct({get:()=>N.value,set:xn=>{xn&&s.disabled||(N.value=xn)}}),{themeClasses:F}=ac(s),{rtlClasses:W,isRtl:$}=o1(),{hasContent:K,onAfterLeave:ee}=qme(s,R),fe=$p(ct(()=>typeof s.scrim=="string"?s.scrim:null)),{globalTop:he,localTop:Ue,stackStyles:Te}=Gme(R,js(s,"zIndex"),s._disableGlobalStack),{activatorEl:te,activatorRef:Ae,target:ne,targetEl:Ge,targetRef:$e,activatorEvents:Ze,contentEvents:nt,scrimEvents:Ce}=Wme(s,{isActive:R,isTop:Ue,contentEl:B}),{teleportTarget:Ne}=Yme(()=>{var J,ls,ys;const xn=s.attach||s.contained;if(xn)return xn;const Rn=((J=te==null?void 0:te.value)==null?void 0:J.getRootNode())||((ys=(ls=h.proxy)==null?void 0:ls.$el)==null?void 0:ys.getRootNode());return Rn instanceof ShadowRoot?Rn:!1}),{dimensionStyles:D}=Xp(s),yt=jme(),{scopeId:Pt}=c$();Gn(()=>s.disabled,xn=>{xn&&(R.value=!1)});const{contentStyles:cn,updateLocation:hn}=Nme(s,{isRtl:$,contentEl:B,target:ne,isActive:R});Fme(s,{root:x,contentEl:B,targetEl:Ge,isActive:R,updateLocation:hn});function Qe(xn){b("click:outside",xn),s.persistent?Zt():R.value=!1}function On(xn){return R.value&&he.value&&(!s.scrim||xn.target===S.value||xn instanceof MouseEvent&&xn.shadowTarget===S.value)}bi&&Gn(R,xn=>{xn?window.addEventListener("keydown",as):window.removeEventListener("keydown",as)},{immediate:!0}),Bc(()=>{bi&&window.removeEventListener("keydown",as)});function as(xn){var Rn,J;xn.key==="Escape"&&he.value&&(s.persistent?Zt():(R.value=!1,(Rn=B.value)!=null&&Rn.contains(document.activeElement)&&((J=te.value)==null||J.focus())))}const pt=cY();xh(()=>s.closeOnBack,()=>{ime(pt,xn=>{he.value&&R.value?(xn(!1),s.persistent?Zt():R.value=!1):xn()})});const bt=Eo();Gn(()=>R.value&&(s.absolute||s.contained)&&Ne.value==null,xn=>{if(xn){const Rn=Sce(x.value);Rn&&Rn!==document.scrollingElement&&(bt.value=Rn.scrollTop)}});function Zt(){s.noClickAnimation||B.value&&ok(B.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Q8})}function Us(){b("afterEnter")}function ho(){ee(),b("afterLeave")}return Ks(()=>{var xn;return ue(Er,null,[(xn=u.activator)==null?void 0:xn.call(u,{isActive:R.value,targetRef:$e,props:Sa({ref:Ae},Ze.value,s.activatorProps)}),yt.value&&K.value&&ue(kie,{disabled:!Ne.value,to:Ne.value},{default:()=>[ue("div",Sa({class:["v-overlay",{"v-overlay--absolute":s.absolute||s.contained,"v-overlay--active":R.value,"v-overlay--contained":s.contained},F.value,W.value,s.class],style:[Te.value,{"--v-overlay-opacity":s.opacity,top:fs(bt.value)},s.style],ref:x},Pt,m),[ue(ege,Sa({color:fe,modelValue:R.value&&!!s.scrim,ref:S},Ce.value),null),ue(uy,{appear:!0,persisted:!0,transition:s.transition,target:ne.value,onAfterEnter:Us,onAfterLeave:ho},{default:()=>{var Rn;return[Go(ue("div",Sa({ref:B,class:["v-overlay__content",s.contentClass],style:[D.value,cn.value]},nt.value,s.contentProps),[(Rn=u.default)==null?void 0:Rn.call(u,{isActive:R})]),[[bs,R.value],[dO("click-outside"),{handler:Qe,closeConditional:On,include:()=>[te.value]}]])]}})])]})])}),{activatorEl:te,scrimEl:S,target:ne,animateClick:Zt,contentEl:B,globalTop:he,localTop:Ue,updateLocation:hn}}}),AH=Symbol("Forwarded refs");function TH(s,i){let u=s;for(;u;){const m=Reflect.getOwnPropertyDescriptor(u,i);if(m)return m;u=Object.getPrototypeOf(u)}}function IY(s){for(var i=arguments.length,u=new Array(i>1?i-1:0),m=1;m<i;m++)u[m-1]=arguments[m];return s[AH]=u,new Proxy(s,{get(b,h){if(Reflect.has(b,h))return Reflect.get(b,h);if(!(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))){for(const x of u)if(x.value&&Reflect.has(x.value,h)){const S=Reflect.get(x.value,h);return typeof S=="function"?S.bind(x.value):S}}},has(b,h){if(Reflect.has(b,h))return!0;if(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))return!1;for(const x of u)if(x.value&&Reflect.has(x.value,h))return!0;return!1},set(b,h,x){if(Reflect.has(b,h))return Reflect.set(b,h,x);if(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))return!1;for(const S of u)if(S.value&&Reflect.has(S.value,h))return Reflect.set(S.value,h,x);return!1},getOwnPropertyDescriptor(b,h){var S;const x=Reflect.getOwnPropertyDescriptor(b,h);if(x)return x;if(!(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))){for(const B of u){if(!B.value)continue;const N=TH(B.value,h)??("_"in B.value?TH((S=B.value._)==null?void 0:S.setupState,h):void 0);if(N)return N}for(const B of u){const N=B.value&&B.value[AH];if(!N)continue;const R=N.slice();for(;R.length;){const F=R.shift(),W=TH(F.value,h);if(W)return W;const $=F.value&&F.value[AH];$&&R.push(...$)}}}}})}const tge=Jn({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...NY({origin:"center center",scrollStrategy:"block",transition:{component:Tme},zIndex:2400})},"VDialog"),Q0=rs()({name:"VDialog",props:tge(),emits:{"update:modelValue":s=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(s,i){let{emit:u,slots:m}=i;const b=Ld(s,"modelValue"),{scopeId:h}=c$(),x=Eo();function S(R){var $,K;const F=R.relatedTarget,W=R.target;if(F!==W&&(($=x.value)!=null&&$.contentEl)&&((K=x.value)!=null&&K.globalTop)&&![document,x.value.contentEl].includes(W)&&!x.value.contentEl.contains(W)){const ee=Xq(x.value.contentEl);if(!ee.length)return;const fe=ee[0],he=ee[ee.length-1];F===fe?he.focus():fe.focus()}}bi&&Gn(()=>b.value&&s.retainFocus,R=>{R?document.addEventListener("focusin",S):document.removeEventListener("focusin",S)},{immediate:!0});function B(){var R;u("afterEnter"),(R=x.value)!=null&&R.contentEl&&!x.value.contentEl.contains(document.activeElement)&&x.value.contentEl.focus({preventScroll:!0})}function N(){u("afterLeave")}return Gn(b,async R=>{var F;R||(await Pa(),(F=x.value.activatorEl)==null||F.focus({preventScroll:!0}))}),Ks(()=>{const R=hK.filterProps(s),F=Sa({"aria-haspopup":"dialog","aria-expanded":String(b.value)},s.activatorProps),W=Sa({tabindex:-1},s.contentProps);return ue(hK,Sa({ref:x,class:["v-dialog",{"v-dialog--fullscreen":s.fullscreen,"v-dialog--scrollable":s.scrollable},s.class],style:s.style},R,{modelValue:b.value,"onUpdate:modelValue":$=>b.value=$,"aria-modal":"true",activatorProps:F,contentProps:W,role:"dialog",onAfterEnter:B,onAfterLeave:N},h),{activator:m.activator,default:function(){for(var $=arguments.length,K=new Array($),ee=0;ee<$;ee++)K[ee]=arguments[ee];return ue(rc,{root:"VDialog"},{default:()=>{var fe;return[(fe=m.default)==null?void 0:fe.call(m,...K)]}})}})}),IY({},x)}}),gV=Symbol.for("vuetify:list");function BY(){const s=Ji(gV,{hasPrepend:Ts(!1),updateHasPrepend:()=>null}),i={hasPrepend:Ts(!1),updateHasPrepend:u=>{u&&(i.hasPrepend.value=u)}};return qf(gV,i),s}function MY(){return Ji(gV,null)}const u$=s=>{const i={activate:u=>{let{id:m,value:b,activated:h}=u;return m=Ao(m),s&&!b&&h.size===1&&h.has(m)||(b?h.add(m):h.delete(m)),h},in:(u,m,b)=>{let h=new Set;if(u!=null)for(const x of Bw(u))h=i.activate({id:x,value:!0,activated:new Set(h),children:m,parents:b});return h},out:u=>Array.from(u)};return i},PY=s=>{const i=u$(s);return{activate:m=>{let{activated:b,id:h,...x}=m;h=Ao(h);const S=b.has(h)?new Set([h]):new Set;return i.activate({...x,id:h,activated:S})},in:(m,b,h)=>{let x=new Set;if(m!=null){const S=Bw(m);S.length&&(x=i.in(S.slice(0,1),b,h))}return x},out:(m,b,h)=>i.out(m,b,h)}},nge=s=>{const i=u$(s);return{activate:m=>{let{id:b,activated:h,children:x,...S}=m;return b=Ao(b),x.has(b)?h:i.activate({id:b,activated:h,children:x,...S})},in:i.in,out:i.out}},oge=s=>{const i=PY(s);return{activate:m=>{let{id:b,activated:h,children:x,...S}=m;return b=Ao(b),x.has(b)?h:i.activate({id:b,activated:h,children:x,...S})},in:i.in,out:i.out}},sge={open:s=>{let{id:i,value:u,opened:m,parents:b}=s;if(u){const h=new Set;h.add(i);let x=b.get(i);for(;x!=null;)h.add(x),x=b.get(x);return h}else return m.delete(i),m},select:()=>null},LY={open:s=>{let{id:i,value:u,opened:m,parents:b}=s;if(u){let h=Ao(b.get(i));for(m.add(i);h!=null&&h!==i;)m.add(h),h=Ao(b.get(h));return m}else m.delete(i);return m},select:()=>null},rge={open:LY.open,select:s=>{let{id:i,value:u,opened:m,parents:b}=s;if(!u)return m;const h=[];let x=b.get(i);for(;x!=null;)h.push(x),x=b.get(x);return new Set(h)}},d$=s=>{const i={select:u=>{let{id:m,value:b,selected:h}=u;if(m=Ao(m),s&&!b){const x=Array.from(h.entries()).reduce((S,B)=>{let[N,R]=B;return R==="on"&&S.push(N),S},[]);if(x.length===1&&x[0]===m)return h}return h.set(m,b?"on":"off"),h},in:(u,m,b)=>{let h=new Map;for(const x of u||[])h=i.select({id:x,value:!0,selected:new Map(h),children:m,parents:b});return h},out:u=>{const m=[];for(const[b,h]of u.entries())h==="on"&&m.push(b);return m}};return i},FY=s=>{const i=d$(s);return{select:m=>{let{selected:b,id:h,...x}=m;h=Ao(h);const S=b.has(h)?new Map([[h,b.get(h)]]):new Map;return i.select({...x,id:h,selected:S})},in:(m,b,h)=>{let x=new Map;return m!=null&&m.length&&(x=i.in(m.slice(0,1),b,h)),x},out:(m,b,h)=>i.out(m,b,h)}},age=s=>{const i=d$(s);return{select:m=>{let{id:b,selected:h,children:x,...S}=m;return b=Ao(b),x.has(b)?h:i.select({id:b,selected:h,children:x,...S})},in:i.in,out:i.out}},ige=s=>{const i=FY(s);return{select:m=>{let{id:b,selected:h,children:x,...S}=m;return b=Ao(b),x.has(b)?h:i.select({id:b,selected:h,children:x,...S})},in:i.in,out:i.out}},lge=s=>{const i={select:u=>{let{id:m,value:b,selected:h,children:x,parents:S}=u;m=Ao(m);const B=new Map(h),N=[m];for(;N.length;){const F=N.shift();h.set(Ao(F),b?"on":"off"),x.has(F)&&N.push(...x.get(F))}let R=Ao(S.get(m));for(;R;){const F=x.get(R),W=F.every(K=>h.get(Ao(K))==="on"),$=F.every(K=>!h.has(Ao(K))||h.get(Ao(K))==="off");h.set(R,W?"on":$?"off":"indeterminate"),R=Ao(S.get(R))}return s&&!b&&Array.from(h.entries()).reduce((W,$)=>{let[K,ee]=$;return ee==="on"&&W.push(K),W},[]).length===0?B:h},in:(u,m,b)=>{let h=new Map;for(const x of u||[])h=i.select({id:x,value:!0,selected:new Map(h),children:m,parents:b});return h},out:(u,m)=>{const b=[];for(const[h,x]of u.entries())x==="on"&&!m.has(h)&&b.push(h);return b}};return i},iO=Symbol.for("vuetify:nested"),zY={id:Ts(),root:{register:()=>null,unregister:()=>null,parents:Eo(new Map),children:Eo(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:Eo(!1),selectable:Eo(!1),opened:Eo(new Set),activated:Eo(new Set),selected:Eo(new Map),selectedValues:Eo([])}},cge=Jn({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),uge=s=>{let i=!1;const u=Eo(new Map),m=Eo(new Map),b=Ld(s,"opened",s.opened,$=>new Set(Ao($)),$=>[...$.values()]),h=ct(()=>{if(typeof s.activeStrategy=="object")return s.activeStrategy;if(typeof s.activeStrategy=="function")return s.activeStrategy(s.mandatory);switch(s.activeStrategy){case"leaf":return nge(s.mandatory);case"single-leaf":return oge(s.mandatory);case"independent":return u$(s.mandatory);case"single-independent":default:return PY(s.mandatory)}}),x=ct(()=>{if(typeof s.selectStrategy=="object")return s.selectStrategy;if(typeof s.selectStrategy=="function")return s.selectStrategy(s.mandatory);switch(s.selectStrategy){case"single-leaf":return ige(s.mandatory);case"leaf":return age(s.mandatory);case"independent":return d$(s.mandatory);case"single-independent":return FY(s.mandatory);case"classic":default:return lge(s.mandatory)}}),S=ct(()=>{if(typeof s.openStrategy=="object")return s.openStrategy;switch(s.openStrategy){case"list":return rge;case"single":return sge;case"multiple":default:return LY}}),B=Ld(s,"activated",s.activated,$=>h.value.in($,u.value,m.value),$=>h.value.out($,u.value,m.value)),N=Ld(s,"selected",s.selected,$=>x.value.in($,u.value,m.value),$=>x.value.out($,u.value,m.value));Bc(()=>{i=!0});function R($){const K=[];let ee=$;for(;ee!=null;)K.unshift(ee),ee=m.value.get(ee);return K}const F=Al("nested"),W={id:Ts(),root:{opened:b,activatable:js(s,"activatable"),selectable:js(s,"selectable"),activated:B,selected:N,selectedValues:ct(()=>{const $=[];for(const[K,ee]of N.value.entries())ee==="on"&&$.push(K);return $}),register:($,K,ee)=>{K&&$!==K&&m.value.set($,K),ee&&u.value.set($,[]),K!=null&&u.value.set(K,[...u.value.get(K)||[],$])},unregister:$=>{if(i)return;u.value.delete($);const K=m.value.get($);if(K){const ee=u.value.get(K)??[];u.value.set(K,ee.filter(fe=>fe!==$))}m.value.delete($)},open:($,K,ee)=>{F.emit("click:open",{id:$,value:K,path:R($),event:ee});const fe=S.value.open({id:$,value:K,opened:new Set(b.value),children:u.value,parents:m.value,event:ee});fe&&(b.value=fe)},openOnSelect:($,K,ee)=>{const fe=S.value.select({id:$,value:K,selected:new Map(N.value),opened:new Set(b.value),children:u.value,parents:m.value,event:ee});fe&&(b.value=fe)},select:($,K,ee)=>{F.emit("click:select",{id:$,value:K,path:R($),event:ee});const fe=x.value.select({id:$,value:K,selected:new Map(N.value),children:u.value,parents:m.value,event:ee});fe&&(N.value=fe),W.root.openOnSelect($,K,ee)},activate:($,K,ee)=>{if(!s.activatable)return W.root.select($,!0,ee);F.emit("click:activate",{id:$,value:K,path:R($),event:ee});const fe=h.value.activate({id:$,value:K,activated:new Set(B.value),children:u.value,parents:m.value,event:ee});fe&&(B.value=fe)},children:u,parents:m}};return qf(iO,W),W.root},HY=(s,i)=>{const u=Ji(iO,zY),m=Symbol(Cy()),b=ct(()=>s.value!==void 0?s.value:m),h={...u,id:b,open:(x,S)=>u.root.open(Ao(b.value),x,S),openOnSelect:(x,S)=>u.root.openOnSelect(b.value,x,S),isOpen:ct(()=>u.root.opened.value.has(Ao(b.value))),parent:ct(()=>u.root.parents.value.get(b.value)),activate:(x,S)=>u.root.activate(b.value,x,S),isActivated:ct(()=>u.root.activated.value.has(Ao(b.value))),select:(x,S)=>u.root.select(b.value,x,S),isSelected:ct(()=>u.root.selected.value.get(Ao(b.value))==="on"),isIndeterminate:ct(()=>u.root.selected.value.get(b.value)==="indeterminate"),isLeaf:ct(()=>!u.root.children.value.get(b.value)),isGroupActivator:u.isGroupActivator};return!u.isGroupActivator&&u.root.register(b.value,u.id.value,i),Bc(()=>{!u.isGroupActivator&&u.root.unregister(b.value)}),i&&qf(iO,h),h},dge=()=>{const s=Ji(iO,zY);qf(iO,{...s,isGroupActivator:!0})};function zM(){const s=Ts(!1);return Ic(()=>{window.requestAnimationFrame(()=>{s.value=!0})}),{ssrBootStyles:ct(()=>s.value?void 0:{transition:"none !important"}),isBooted:cO(s)}}const fge=pk({name:"VListGroupActivator",setup(s,i){let{slots:u}=i;return dge(),()=>{var m;return(m=u.default)==null?void 0:m.call(u)}}}),mge=Jn({activeColor:String,baseColor:String,color:String,collapseIcon:{type:pl,default:"$collapse"},expandIcon:{type:pl,default:"$expand"},prependIcon:pl,appendIcon:pl,fluid:Boolean,subgroup:Boolean,title:String,value:null,...tr(),...Bi()},"VListGroup"),pK=rs()({name:"VListGroup",props:mge(),setup(s,i){let{slots:u}=i;const{isOpen:m,open:b,id:h}=HY(js(s,"value"),!0),x=ct(()=>`v-list-group--id-${String(h.value)}`),S=MY(),{isBooted:B}=zM();function N($){$.stopPropagation(),b(!m.value,$)}const R=ct(()=>({onClick:N,class:"v-list-group__header",id:x.value})),F=ct(()=>m.value?s.collapseIcon:s.expandIcon),W=ct(()=>({VListItem:{active:m.value,activeColor:s.activeColor,baseColor:s.baseColor,color:s.color,prependIcon:s.prependIcon||s.subgroup&&F.value,appendIcon:s.appendIcon||!s.subgroup&&F.value,title:s.title,value:s.value}}));return Ks(()=>ue(s.tag,{class:["v-list-group",{"v-list-group--prepend":S==null?void 0:S.hasPrepend.value,"v-list-group--fluid":s.fluid,"v-list-group--subgroup":s.subgroup,"v-list-group--open":m.value},s.class],style:s.style},{default:()=>[u.activator&&ue(rc,{defaults:W.value},{default:()=>[ue(fge,null,{default:()=>[u.activator({props:R.value,isOpen:m.value})]})]}),ue(uy,{transition:{component:SY},disabled:!B.value},{default:()=>{var $;return[Go(ue("div",{class:"v-list-group__items",role:"group","aria-labelledby":x.value},[($=u.default)==null?void 0:$.call(u)]),[[bs,m.value]])]}})]})),{isOpen:m}}}),gge=Jn({opacity:[Number,String],...tr(),...Bi()},"VListItemSubtitle"),hge=rs()({name:"VListItemSubtitle",props:gge(),setup(s,i){let{slots:u}=i;return Ks(()=>ue(s.tag,{class:["v-list-item-subtitle",s.class],style:[{"--v-list-item-subtitle-opacity":s.opacity},s.style]},u)),{}}}),pge=CM("v-list-item-title"),bge=Jn({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:pl,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:pl,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:dg(),onClickOnce:dg(),..._y(),...tr(),...Gp(),...Yp(),...ky(),...mg(),...i$(),...Bi(),...Hl(),...$w({variant:"text"})},"VListItem"),zp=rs()({name:"VListItem",directives:{Ripple:l$},props:bge(),emits:{click:s=>!0},setup(s,i){let{attrs:u,slots:m,emit:b}=i;const h=a$(s,u),x=ct(()=>s.value===void 0?h.href.value:s.value),{activate:S,isActivated:B,select:N,isOpen:R,isSelected:F,isIndeterminate:W,isGroupActivator:$,root:K,parent:ee,openOnSelect:fe}=HY(x,!1),he=MY(),Ue=ct(()=>{var pt;return s.active!==!1&&(s.active||((pt=h.isActive)==null?void 0:pt.value)||(K.activatable.value?B.value:F.value))}),Te=ct(()=>s.link!==!1&&h.isLink.value),te=ct(()=>!s.disabled&&s.link!==!1&&(s.link||h.isClickable.value||!!he&&(K.selectable.value||K.activatable.value||s.value!=null))),Ae=ct(()=>s.rounded||s.nav),ne=ct(()=>s.color??s.activeColor),Ge=ct(()=>({color:Ue.value?ne.value??s.baseColor:s.baseColor,variant:s.variant}));Gn(()=>{var pt;return(pt=h.isActive)==null?void 0:pt.value},pt=>{pt&&ee.value!=null&&K.open(ee.value,!0),pt&&fe(pt)},{immediate:!0});const{themeClasses:$e}=ac(s),{borderClasses:Ze}=Sy(s),{colorClasses:nt,colorStyles:Ce,variantClasses:Ne}=bO(Ge),{densityClasses:D}=s1(s),{dimensionStyles:yt}=Xp(s),{elevationClasses:Pt}=Ey(s),{roundedClasses:cn}=gg(Ae),hn=ct(()=>s.lines?`v-list-item--${s.lines}-line`:void 0),Qe=ct(()=>({isActive:Ue.value,select:N,isOpen:R.value,isSelected:F.value,isIndeterminate:W.value}));function On(pt){var bt;b("click",pt),te.value&&((bt=h.navigate)==null||bt.call(h,pt),!$&&(K.activatable.value?S(!B.value,pt):(K.selectable.value||s.value!=null)&&N(!F.value,pt)))}function as(pt){(pt.key==="Enter"||pt.key===" ")&&(pt.preventDefault(),pt.target.dispatchEvent(new MouseEvent("click",pt)))}return Ks(()=>{const pt=Te.value?"a":s.tag,bt=m.title||s.title!=null,Zt=m.subtitle||s.subtitle!=null,Us=!!(s.appendAvatar||s.appendIcon),ho=!!(Us||m.append),xn=!!(s.prependAvatar||s.prependIcon),Rn=!!(xn||m.prepend);return he==null||he.updateHasPrepend(Rn),s.activeColor&&oce("active-color",["color","base-color"]),Go(ue(pt,{class:["v-list-item",{"v-list-item--active":Ue.value,"v-list-item--disabled":s.disabled,"v-list-item--link":te.value,"v-list-item--nav":s.nav,"v-list-item--prepend":!Rn&&(he==null?void 0:he.hasPrepend.value),"v-list-item--slim":s.slim,[`${s.activeClass}`]:s.activeClass&&Ue.value},$e.value,Ze.value,nt.value,D.value,Pt.value,hn.value,cn.value,Ne.value,s.class],style:[Ce.value,yt.value,s.style],href:h.href.value,tabindex:te.value?he?-2:0:void 0,onClick:On,onKeydown:te.value&&!Te.value&&as},{default:()=>{var J;return[pO(te.value||Ue.value,"v-list-item"),Rn&&ue("div",{key:"prepend",class:"v-list-item__prepend"},[m.prepend?ue(rc,{key:"prepend-defaults",disabled:!xn,defaults:{VAvatar:{density:s.density,image:s.prependAvatar},VIcon:{density:s.density,icon:s.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var ls;return[(ls=m.prepend)==null?void 0:ls.call(m,Qe.value)]}}):ue(Er,null,[s.prependAvatar&&ue(lM,{key:"prepend-avatar",density:s.density,image:s.prependAvatar},null),s.prependIcon&&ue(ns,{key:"prepend-icon",density:s.density,icon:s.prependIcon},null)]),ue("div",{class:"v-list-item__spacer"},null)]),ue("div",{class:"v-list-item__content","data-no-activator":""},[bt&&ue(pge,{key:"title"},{default:()=>{var ls;return[((ls=m.title)==null?void 0:ls.call(m,{title:s.title}))??s.title]}}),Zt&&ue(hge,{key:"subtitle"},{default:()=>{var ls;return[((ls=m.subtitle)==null?void 0:ls.call(m,{subtitle:s.subtitle}))??s.subtitle]}}),(J=m.default)==null?void 0:J.call(m,Qe.value)]),ho&&ue("div",{key:"append",class:"v-list-item__append"},[m.append?ue(rc,{key:"append-defaults",disabled:!Us,defaults:{VAvatar:{density:s.density,image:s.appendAvatar},VIcon:{density:s.density,icon:s.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var ls;return[(ls=m.append)==null?void 0:ls.call(m,Qe.value)]}}):ue(Er,null,[s.appendIcon&&ue(ns,{key:"append-icon",density:s.density,icon:s.appendIcon},null),s.appendAvatar&&ue(lM,{key:"append-avatar",density:s.density,image:s.appendAvatar},null)]),ue("div",{class:"v-list-item__spacer"},null)])]}}),[[dO("ripple"),te.value&&s.ripple]])}),{activate:S,isActivated:B,isGroupActivator:$,isSelected:F,list:he,select:N}}}),vge=Jn({color:String,inset:Boolean,sticky:Boolean,title:String,...tr(),...Bi()},"VListSubheader"),yge=rs()({name:"VListSubheader",props:vge(),setup(s,i){let{slots:u}=i;const{textColorClasses:m,textColorStyles:b}=e1(js(s,"color"));return Ks(()=>{const h=!!(u.default||s.title);return ue(s.tag,{class:["v-list-subheader",{"v-list-subheader--inset":s.inset,"v-list-subheader--sticky":s.sticky},m.value,s.class],style:[{textColorStyles:b},s.style]},{default:()=>{var x;return[h&&ue("div",{class:"v-list-subheader__text"},[((x=u.default)==null?void 0:x.call(u))??s.title])]}})}),{}}}),xge=Jn({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...tr(),...Hl()},"VDivider"),hV=rs()({name:"VDivider",props:xge(),setup(s,i){let{attrs:u,slots:m}=i;const{themeClasses:b}=ac(s),{textColorClasses:h,textColorStyles:x}=e1(js(s,"color")),S=ct(()=>{const B={};return s.length&&(B[s.vertical?"height":"width"]=fs(s.length)),s.thickness&&(B[s.vertical?"borderRightWidth":"borderTopWidth"]=fs(s.thickness)),B});return Ks(()=>{const B=ue("hr",{class:[{"v-divider":!0,"v-divider--inset":s.inset,"v-divider--vertical":s.vertical},b.value,h.value,s.class],style:[S.value,x.value,{"--v-border-opacity":s.opacity},s.style],"aria-orientation":!u.role||u.role==="separator"?s.vertical?"vertical":"horizontal":void 0,role:`${u.role||"separator"}`},null);return m.default?ue("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":s.vertical,"v-divider__wrapper--inset":s.inset}]},[B,ue("div",{class:"v-divider__content"},[m.default()]),B]):B}),{}}}),wge=Jn({items:Array,returnObject:Boolean},"VListChildren"),VY=rs()({name:"VListChildren",props:wge(),setup(s,i){let{slots:u}=i;return BY(),()=>{var m,b;return((m=u.default)==null?void 0:m.call(u))??((b=s.items)==null?void 0:b.map(h=>{var W,$;let{children:x,props:S,type:B,raw:N}=h;if(B==="divider")return((W=u.divider)==null?void 0:W.call(u,{props:S}))??ue(hV,S,null);if(B==="subheader")return(($=u.subheader)==null?void 0:$.call(u,{props:S}))??ue(yge,S,null);const R={subtitle:u.subtitle?K=>{var ee;return(ee=u.subtitle)==null?void 0:ee.call(u,{...K,item:N})}:void 0,prepend:u.prepend?K=>{var ee;return(ee=u.prepend)==null?void 0:ee.call(u,{...K,item:N})}:void 0,append:u.append?K=>{var ee;return(ee=u.append)==null?void 0:ee.call(u,{...K,item:N})}:void 0,title:u.title?K=>{var ee;return(ee=u.title)==null?void 0:ee.call(u,{...K,item:N})}:void 0},F=pK.filterProps(S);return x?ue(pK,Sa({value:S==null?void 0:S.value},F),{activator:K=>{let{props:ee}=K;const fe={...S,...ee,value:s.returnObject?N:S.value};return u.header?u.header({props:fe}):ue(zp,fe,R)},default:()=>ue(VY,{items:x,returnObject:s.returnObject},u)}):u.item?u.item({props:S}):ue(zp,Sa(S,{value:s.returnObject?N:S.value}),R)}))}}}),Cge=Jn({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:wM}},"list-items");function _ge(s){return typeof s=="string"||typeof s=="number"||typeof s=="boolean"}function Sge(s,i){const u=UT(i,s.itemType,"item"),m=_ge(i)?i:UT(i,s.itemTitle),b=UT(i,s.itemValue,void 0),h=UT(i,s.itemChildren),x=s.itemProps===!0?Kq(i,["children"]):UT(i,s.itemProps),S={title:m,value:b,...x};return{type:u,title:S.title,value:S.value,props:S,children:u==="item"&&h?$Y(s,h):void 0,raw:i}}function $Y(s,i){const u=[];for(const m of i)u.push(Sge(s,m));return u}function kge(s){return{items:ct(()=>$Y(s,s.items))}}const Ege=Jn({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":dg(),"onClick:select":dg(),"onUpdate:opened":dg(),...cge({selectStrategy:"single-leaf",openStrategy:"list"}),..._y(),...tr(),...Gp(),...Yp(),...ky(),itemType:{type:String,default:"type"},...Cge(),...mg(),...Bi(),...Hl(),...$w({variant:"text"})},"VList"),UY=rs()({name:"VList",props:Ege(),emits:{"update:selected":s=>!0,"update:activated":s=>!0,"update:opened":s=>!0,"click:open":s=>!0,"click:activate":s=>!0,"click:select":s=>!0},setup(s,i){let{slots:u}=i;const{items:m}=kge(s),{themeClasses:b}=ac(s),{backgroundColorClasses:h,backgroundColorStyles:x}=$p(js(s,"bgColor")),{borderClasses:S}=Sy(s),{densityClasses:B}=s1(s),{dimensionStyles:N}=Xp(s),{elevationClasses:R}=Ey(s),{roundedClasses:F}=gg(s),{children:W,open:$,parents:K,select:ee}=uge(s),fe=ct(()=>s.lines?`v-list--${s.lines}-line`:void 0),he=js(s,"activeColor"),Ue=js(s,"baseColor"),Te=js(s,"color");BY(),hk({VListGroup:{activeColor:he,baseColor:Ue,color:Te,expandIcon:js(s,"expandIcon"),collapseIcon:js(s,"collapseIcon")},VListItem:{activeClass:js(s,"activeClass"),activeColor:he,baseColor:Ue,color:Te,density:js(s,"density"),disabled:js(s,"disabled"),lines:js(s,"lines"),nav:js(s,"nav"),slim:js(s,"slim"),variant:js(s,"variant")}});const te=Ts(!1),Ae=Eo();function ne(Ne){te.value=!0}function Ge(Ne){te.value=!1}function $e(Ne){var D;!te.value&&!(Ne.relatedTarget&&((D=Ae.value)!=null&&D.contains(Ne.relatedTarget)))&&Ce()}function Ze(Ne){const D=Ne.target;if(!(!Ae.value||["INPUT","TEXTAREA"].includes(D.tagName))){if(Ne.key==="ArrowDown")Ce("next");else if(Ne.key==="ArrowUp")Ce("prev");else if(Ne.key==="Home")Ce("first");else if(Ne.key==="End")Ce("last");else return;Ne.preventDefault()}}function nt(Ne){te.value=!0}function Ce(Ne){if(Ae.value)return Jq(Ae.value,Ne)}return Ks(()=>ue(s.tag,{ref:Ae,class:["v-list",{"v-list--disabled":s.disabled,"v-list--nav":s.nav,"v-list--slim":s.slim},b.value,h.value,S.value,B.value,R.value,fe.value,F.value,s.class],style:[x.value,N.value,s.style],tabindex:s.disabled||te.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:ne,onFocusout:Ge,onFocus:$e,onKeydown:Ze,onMousedown:nt},{default:()=>[ue(VY,{items:m.value,returnObject:s.returnObject},u)]})),{open:$,select:ee,focus:Ce,children:W,parents:K}}}),Age=rt("span",null,"OK",-1),Tge=rt("span",null,"OK",-1),Oge={__name:"Alerts",setup(s){const i=sk();return(u,m)=>(Jo(),El(Er,null,[Go(ue(As,{onClick:m[0]||(m[0]=b=>He(i).showAlerts())},{default:qt(()=>[ue(ns,{left:"",icon:"mdi-bell-outline"}),Go(rt("span",null,"1 Nachricht",512),[[bs,He(i).countAlerts==1]]),Go(rt("span",null,Xi(He(i).countAlerts)+" Nachrichten",513),[[bs,He(i).countAlerts>1]])]),_:1},512),[[bs,He(i).hasAlerts]]),ue(Q0,{persistent:"",modelValue:He(i).hasActiveAlert,"onUpdate:modelValue":m[2]||(m[2]=b=>He(i).hasActiveAlert=b),"max-width":"1000"},{default:qt(()=>[ue(J0,null,{default:qt(()=>[ue(dV,null,{default:qt(()=>[Xr(" Nachricht der Aufsicht ")]),_:1}),ue(Wp,null,{default:qt(()=>[rt("p",null,Xi(He(i).activeMessage),1)]),_:1}),ue(Up,null,{default:qt(()=>[ue(As,{onClick:m[1]||(m[1]=b=>He(i).hideAlert())},{default:qt(()=>[ue(ns,{left:"",icon:"mdi-check"}),Age]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),ue(Q0,{modelValue:He(i).showAllAlerts,"onUpdate:modelValue":m[4]||(m[4]=b=>He(i).showAllAlerts=b),"max-width":"1000"},{default:qt(()=>[ue(J0,null,{default:qt(()=>[ue(dV,null,{default:qt(()=>[Xr(" Nachrichten der Aufsicht ")]),_:1}),ue(Wp,null,{default:qt(()=>[(Jo(!0),El(Er,null,dk(He(i).alerts,b=>(Jo(),Jr(zp,{key:b.key,title:He(i).formatTimestamp(b.time),subtitle:b.message},null,8,["title","subtitle"]))),128))]),_:1}),ue(Up,null,{default:qt(()=>[ue(As,{onClick:m[3]||(m[3]=b=>He(i).hideAlert())},{default:qt(()=>[ue(ns,{left:"",icon:"mdi-check"}),Tge]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},hg=(s,i)=>{const u=s.__vccOpts||s;for(const[m,b]of i)u[m]=b;return u},Dge=Jn({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...tr(),...Gp(),...Bi(),...Hl()},"VTable"),OH=rs()({name:"VTable",props:Dge(),setup(s,i){let{slots:u,emit:m}=i;const{themeClasses:b}=ac(s),{densityClasses:h}=s1(s);return Ks(()=>ue(s.tag,{class:["v-table",{"v-table--fixed-height":!!s.height,"v-table--fixed-header":s.fixedHeader,"v-table--fixed-footer":s.fixedFooter,"v-table--has-top":!!u.top,"v-table--has-bottom":!!u.bottom,"v-table--hover":s.hover},b.value,h.value,s.class],style:s.style},{default:()=>{var x,S,B;return[(x=u.top)==null?void 0:x.call(u),u.default?ue("div",{class:"v-table__wrapper",style:{height:fs(s.height)}},[ue("table",null,[u.default()])]):(S=u.wrapper)==null?void 0:S.call(u),(B=u.bottom)==null?void 0:B.call(u)]}})),{}}}),Jp=s=>(xy("data-v-1a660a2d"),s=s(),wy(),s),Rge=Jp(()=>rt("h1",null,"Allgemeine Navigation",-1)),Nge=Jp(()=>rt("thead",null,[rt("tr",null,[rt("th",{width:"50%"},"Aktion"),rt("th",{width:"50%"},"Tastenkombination")])],-1)),Ige=Jp(()=>rt("tbody",null,[rt("tr",null,[rt("td",null,"Nchstes Element"),rt("td",null,"Tab")]),rt("tr",null,[rt("td",null,"Vorheriges Element"),rt("td",null,"Shift + Tab")]),rt("tr",null,[rt("td",null,"Header Schaltflchen"),rt("td",null,"Alt + 0")]),rt("tr",null,[rt("td",null,"Navigationsleiste Schaltflchen"),rt("td",null,"Alt + #")]),rt("tr",null,[rt("td",null,"Inhalt linke Spalte"),rt("td",null,"Alt + 1")]),rt("tr",null,[rt("td",null,"Inhalt rechte Spalte"),rt("td",null,"Alt + 2")])],-1)),Bge=Jp(()=>rt("h1",null,"Navigation im Editor",-1)),Mge=Jp(()=>rt("thead",null,[rt("tr",null,[rt("th",{width:"50%"},"Aktion"),rt("th",{width:"50%"},"Tastenkombination")])],-1)),Pge=Jp(()=>rt("tbody",null,[rt("tr",null,[rt("td",null,"In Symbolleiste wechseln"),rt("td",null,"Alt + F10")]),rt("tr",null,[rt("td",null,"Symbolleiste verlassen"),rt("td",null,"Esc")]),rt("tr",null,[rt("td",null,"In Symbolleiste zwischen Schaltflchen wechseln"),rt("td",null,"Pfeil links und rechts")]),rt("tr",null,[rt("td",null,"Popup der Absatzformate aufklappen"),rt("td",null,"Eingabetaste")]),rt("tr",null,[rt("td",null,"Im Popup zwischen Absatzformaten wechseln"),rt("td",null,"Pfeil abwrts und aufwrts")]),rt("tr",null,[rt("td",null,"Im Popup ein Absatzformat whlen"),rt("td",null,"Eingabetaste")]),rt("tr",null,[rt("td",null,"Popup der Absatzformate schlieen"),rt("td",null,"Esc")])],-1)),Lge=Jp(()=>rt("h1",null,"Tastenbefehle im Editor",-1)),Fge=Jp(()=>rt("thead",null,[rt("tr",null,[rt("th",{width:"50%"},"Aktion"),rt("th",{width:"50%"},"Tastenkombination")])],-1)),zge=Jp(()=>rt("tbody",null,[rt("tr",null,[rt("td",null,"Fett"),rt("td",null,"Ctrl + B")]),rt("tr",null,[rt("td",null,"Kursiv"),rt("td",null,"Ctrl + I")]),rt("tr",null,[rt("td",null,"Unterstrichen"),rt("td",null,"Ctrl + U")]),rt("tr",null,[rt("td",null,"Alles auswhlen"),rt("td",null,"Ctrl + A")]),rt("tr",null,[rt("td",null,"Wiederholen"),rt("td",null,"Ctrl + Y oder Ctrl + Shift + Z")]),rt("tr",null,[rt("td",null,"Rckgngig machen"),rt("td",null,"Ctrl + Z")]),rt("tr",null,[rt("td",null,"berschrift 1"),rt("td",null,"Shift + Alt + 1")]),rt("tr",null,[rt("td",null,"berschrift 2"),rt("td",null,"Shift + Alt + 2")]),rt("tr",null,[rt("td",null,"berschrift 3"),rt("td",null,"Shift + Alt + 3")]),rt("tr",null,[rt("td",null,"berschrift 4"),rt("td",null,"Shift + Alt + 4")]),rt("tr",null,[rt("td",null,"berschrift 5"),rt("td",null,"Shift + Alt + 5")]),rt("tr",null,[rt("td",null,"berschrift 6"),rt("td",null,"Shift + Alt + 6")]),rt("tr",null,[rt("td",null,"Absatz"),rt("td",null,"Shift + Alt + 7")])],-1)),Hge=Jp(()=>rt("span",null,"Hilfe schlieen",-1)),Vge={__name:"Help",setup(s){const i=Fl();return(u,m)=>(Jo(),El(Er,null,[ue(As,{class:"app-header-item",onClick:m[0]||(m[0]=b=>He(i).showHelp=!0)},{default:qt(()=>[ue(ns,{left:"",icon:"mdi-help"}),Xr(" Hilfe ")]),_:1}),ue(Q0,{modelValue:He(i).showHelp,"onUpdate:modelValue":m[2]||(m[2]=b=>He(i).showHelp=b),"max-width":"1000"},{default:qt(()=>[ue(J0,null,{default:qt(()=>[ue(Wp,null,{default:qt(()=>[Rge,ue(OH,null,{default:qt(()=>[Nge,Ige]),_:1}),Bge,ue(OH,null,{default:qt(()=>[Mge,Pge]),_:1}),Lge,ue(OH,{title:"Tastenbefehle im Editor"},{default:qt(()=>[Fge,zge]),_:1})]),_:1}),ue(Up,null,{default:qt(()=>[ue(As,{onClick:m[1]||(m[1]=b=>He(i).showHelp=!1)},{default:qt(()=>[Hge]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},$ge=hg(Vge,[["__scopeId","data-v-1a660a2d"]]),WY=Jn({text:String,...tr(),...Bi()},"VToolbarTitle"),ZY=rs()({name:"VToolbarTitle",props:WY(),setup(s,i){let{slots:u}=i;return Ks(()=>{const m=!!(u.default||u.text||s.text);return ue(s.tag,{class:["v-toolbar-title",s.class],style:s.style},{default:()=>{var b;return[m&&ue("div",{class:"v-toolbar-title__placeholder"},[u.text?u.text():s.text,(b=u.default)==null?void 0:b.call(u)])]}})}),{}}}),Uge=[null,"prominent","default","comfortable","compact"],jY=Jn({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:s=>Uge.includes(s)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,..._y(),...tr(),...ky(),...mg(),...Bi({tag:"header"}),...Hl()},"VToolbar"),bK=rs()({name:"VToolbar",props:jY(),setup(s,i){var $;let{slots:u}=i;const{backgroundColorClasses:m,backgroundColorStyles:b}=$p(js(s,"color")),{borderClasses:h}=Sy(s),{elevationClasses:x}=Ey(s),{roundedClasses:S}=gg(s),{themeClasses:B}=ac(s),{rtlClasses:N}=o1(),R=Ts(!!(s.extended||($=u.extension)!=null&&$.call(u))),F=ct(()=>parseInt(Number(s.height)+(s.density==="prominent"?Number(s.height):0)-(s.density==="comfortable"?8:0)-(s.density==="compact"?16:0),10)),W=ct(()=>R.value?parseInt(Number(s.extensionHeight)+(s.density==="prominent"?Number(s.extensionHeight):0)-(s.density==="comfortable"?4:0)-(s.density==="compact"?8:0),10):0);return hk({VBtn:{variant:"text"}}),Ks(()=>{var he;const K=!!(s.title||u.title),ee=!!(u.image||s.image),fe=(he=u.extension)==null?void 0:he.call(u);return R.value=!!(s.extended||fe),ue(s.tag,{class:["v-toolbar",{"v-toolbar--absolute":s.absolute,"v-toolbar--collapse":s.collapse,"v-toolbar--flat":s.flat,"v-toolbar--floating":s.floating,[`v-toolbar--density-${s.density}`]:!0},m.value,h.value,x.value,S.value,B.value,N.value,s.class],style:[b.value,s.style]},{default:()=>[ee&&ue("div",{key:"image",class:"v-toolbar__image"},[u.image?ue(rc,{key:"image-defaults",disabled:!s.image,defaults:{VImg:{cover:!0,src:s.image}}},u.image):ue(FM,{key:"image-img",cover:!0,src:s.image},null)]),ue(rc,{defaults:{VTabs:{height:fs(F.value)}}},{default:()=>{var Ue,Te,te;return[ue("div",{class:"v-toolbar__content",style:{height:fs(F.value)}},[u.prepend&&ue("div",{class:"v-toolbar__prepend"},[(Ue=u.prepend)==null?void 0:Ue.call(u)]),K&&ue(ZY,{key:"title",text:s.title},{text:u.title}),(Te=u.default)==null?void 0:Te.call(u),u.append&&ue("div",{class:"v-toolbar__append"},[(te=u.append)==null?void 0:te.call(u)])])]}}),ue(rc,{defaults:{VTabs:{height:fs(W.value)}}},{default:()=>[ue(SY,null,{default:()=>[R.value&&ue("div",{class:"v-toolbar__extension",style:{height:fs(W.value)}},[fe])]})]})]})}),{contentHeight:F,extensionHeight:W}}}),Wge=Jn({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Zge(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:u}=i;let m=0,b=0;const h=Eo(null),x=Ts(0),S=Ts(0),B=Ts(0),N=Ts(!1),R=Ts(!1),F=ct(()=>Number(s.scrollThreshold)),W=ct(()=>zw((F.value-x.value)/F.value||0)),$=()=>{const K=h.value;if(!K||u&&!u.value)return;m=x.value,x.value="window"in K?K.pageYOffset:K.scrollTop;const ee=K instanceof Window?document.documentElement.scrollHeight:K.scrollHeight;if(b!==ee){b=ee;return}R.value=x.value<m,B.value=Math.abs(x.value-F.value)};return Gn(R,()=>{S.value=S.value||x.value}),Gn(N,()=>{S.value=0}),Ic(()=>{Gn(()=>s.scrollTarget,K=>{var fe;const ee=K?document.querySelector(K):window;ee&&ee!==h.value&&((fe=h.value)==null||fe.removeEventListener("scroll",$),h.value=ee,h.value.addEventListener("scroll",$,{passive:!0}))},{immediate:!0})}),Bc(()=>{var K;(K=h.value)==null||K.removeEventListener("scroll",$)}),u&&Gn(u,$,{immediate:!0}),{scrollThreshold:F,currentScroll:x,currentThreshold:B,isScrollActive:N,scrollRatio:W,isScrollingUp:R,savedScroll:S}}const jge=Jn({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:s=>["top","bottom"].includes(s)},...jY(),...xG(),...Wge(),height:{type:[Number,String],default:64}},"VAppBar"),KY=rs()({name:"VAppBar",props:jge(),emits:{"update:modelValue":s=>!0},setup(s,i){let{slots:u}=i;const m=Eo(),b=Ld(s,"modelValue"),h=ct(()=>{var Te;const Ue=new Set(((Te=s.scrollBehavior)==null?void 0:Te.split(" "))??[]);return{hide:Ue.has("hide"),fullyHide:Ue.has("fully-hide"),inverted:Ue.has("inverted"),collapse:Ue.has("collapse"),elevate:Ue.has("elevate"),fadeImage:Ue.has("fade-image")}}),x=ct(()=>{const Ue=h.value;return Ue.hide||Ue.fullyHide||Ue.inverted||Ue.collapse||Ue.elevate||Ue.fadeImage||!b.value}),{currentScroll:S,scrollThreshold:B,isScrollingUp:N,scrollRatio:R}=Zge(s,{canScroll:x}),F=ct(()=>h.value.hide||h.value.fullyHide),W=ct(()=>s.collapse||h.value.collapse&&(h.value.inverted?R.value>0:R.value===0)),$=ct(()=>s.flat||h.value.fullyHide&&!b.value||h.value.elevate&&(h.value.inverted?S.value>0:S.value===0)),K=ct(()=>h.value.fadeImage?h.value.inverted?1-R.value:R.value:void 0),ee=ct(()=>{var te,Ae;if(h.value.hide&&h.value.inverted)return 0;const Ue=((te=m.value)==null?void 0:te.contentHeight)??0,Te=((Ae=m.value)==null?void 0:Ae.extensionHeight)??0;return F.value?S.value<B.value||h.value.fullyHide?Ue+Te:Ue:Ue+Te});xh(ct(()=>!!s.scrollBehavior),()=>{wh(()=>{F.value?h.value.inverted?b.value=S.value>B.value:b.value=N.value||S.value<B.value:b.value=!0})});const{ssrBootStyles:fe}=zM(),{layoutItemStyles:he}=wG({id:s.name,order:ct(()=>parseInt(s.order,10)),position:js(s,"location"),layoutSize:ee,elementSize:Ts(void 0),active:b,absolute:js(s,"absolute")});return Ks(()=>{const Ue=bK.filterProps(s);return ue(bK,Sa({ref:m,class:["v-app-bar",{"v-app-bar--bottom":s.location==="bottom"},s.class],style:[{...he.value,"--v-toolbar-image-opacity":K.value,height:void 0,...fe.value},s.style]},Ue,{collapse:W.value,flat:$.value}),u)}),{}}}),Kge=rs()({name:"VAppBarTitle",props:WY(),setup(s,i){let{slots:u}=i;return Ks(()=>ue(ZY,Sa(s,{class:"v-app-bar-title"}),u)),{}}}),qge=Jn({fluid:{type:Boolean,default:!1},...tr(),...Yp(),...Bi()},"VContainer"),pV=rs()({name:"VContainer",props:qge(),setup(s,i){let{slots:u}=i;const{rtlClasses:m}=o1(),{dimensionStyles:b}=Xp(s);return Ks(()=>ue(s.tag,{class:["v-container",{"v-container--fluid":s.fluid},m.value,s.class],style:[b.value,s.style]},u)),{}}}),qY=SM.reduce((s,i)=>(s[i]={type:[Boolean,String,Number],default:!1},s),{}),GY=SM.reduce((s,i)=>{const u="offset"+t1(i);return s[u]={type:[String,Number],default:null},s},{}),YY=SM.reduce((s,i)=>{const u="order"+t1(i);return s[u]={type:[String,Number],default:null},s},{}),vK={col:Object.keys(qY),offset:Object.keys(GY),order:Object.keys(YY)};function Gge(s,i,u){let m=s;if(!(u==null||u===!1)){if(i){const b=i.replace(s,"");m+=`-${b}`}return s==="col"&&(m="v-"+m),s==="col"&&(u===""||u===!0)||(m+=`-${u}`),m.toLowerCase()}}const Yge=["auto","start","end","center","baseline","stretch"],Xge=Jn({cols:{type:[Boolean,String,Number],default:!1},...qY,offset:{type:[String,Number],default:null},...GY,order:{type:[String,Number],default:null},...YY,alignSelf:{type:String,default:null,validator:s=>Yge.includes(s)},...tr(),...Bi()},"VCol"),fu=rs()({name:"VCol",props:Xge(),setup(s,i){let{slots:u}=i;const m=ct(()=>{const b=[];let h;for(h in vK)vK[h].forEach(S=>{const B=s[S],N=Gge(h,S,B);N&&b.push(N)});const x=b.some(S=>S.startsWith("v-col-"));return b.push({"v-col":!x||!s.cols,[`v-col-${s.cols}`]:s.cols,[`offset-${s.offset}`]:s.offset,[`order-${s.order}`]:s.order,[`align-self-${s.alignSelf}`]:s.alignSelf}),b});return()=>{var b;return Zp(s.tag,{class:[m.value,s.class],style:s.style},(b=u.default)==null?void 0:b.call(u))}}}),f$=["start","end","center"],XY=["space-between","space-around","space-evenly"];function m$(s,i){return SM.reduce((u,m)=>{const b=s+t1(m);return u[b]=i(),u},{})}const Jge=[...f$,"baseline","stretch"],JY=s=>Jge.includes(s),QY=m$("align",()=>({type:String,default:null,validator:JY})),Qge=[...f$,...XY],eX=s=>Qge.includes(s),tX=m$("justify",()=>({type:String,default:null,validator:eX})),ehe=[...f$,...XY,"stretch"],nX=s=>ehe.includes(s),oX=m$("alignContent",()=>({type:String,default:null,validator:nX})),yK={align:Object.keys(QY),justify:Object.keys(tX),alignContent:Object.keys(oX)},the={align:"align",justify:"justify",alignContent:"align-content"};function nhe(s,i,u){let m=the[s];if(u!=null){if(i){const b=i.replace(s,"");m+=`-${b}`}return m+=`-${u}`,m.toLowerCase()}}const ohe=Jn({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:JY},...QY,justify:{type:String,default:null,validator:eX},...tX,alignContent:{type:String,default:null,validator:nX},...oX,...tr(),...Bi()},"VRow"),Ew=rs()({name:"VRow",props:ohe(),setup(s,i){let{slots:u}=i;const m=ct(()=>{const b=[];let h;for(h in yK)yK[h].forEach(x=>{const S=s[x],B=nhe(h,x,S);B&&b.push(B)});return b.push({"v-row--no-gutters":s.noGutters,"v-row--dense":s.dense,[`align-${s.align}`]:s.align,[`justify-${s.justify}`]:s.justify,[`align-content-${s.alignContent}`]:s.alignContent}),b});return()=>{var b;return Zp(s.tag,{class:["v-row",m.value,s.class],style:s.style},(b=u.default)==null?void 0:b.call(u))}}}),g$=CM("v-spacer","div","VSpacer"),she=rt("span",null,"Unterbrechen",-1),rhe=rt("span",null,"Vorschau zur Abgabe ",-1),ahe={__name:"AppBar",setup(s){const i=vi(),u=Pd(),m=sk(),b=Fp(),h=Fl();async function x(){if(h.focusTarget=="header"){await Pa();for(const F of document.getElementsByClassName("app-header-item")){F.focus();break}}}Gn(()=>h.focusChange,x);function S(){return(u.writer_name==null?"":u.writer_name+", ")+(u.title??"")}function B(F){return new Promise(W=>setTimeout(W,F))}async function N(){await b.updateContent(!1,!0),await B(500),b.openSendings>0?i.review=!0:window.location=i.returnUrl}async function R(){await b.updateContent(!1,!0),await B(500),i.review=!0}return(F,W)=>(Jo(),Jr(KY,{elevation:"1",color:"white",density:"compact"},{default:qt(()=>[ue(Kge,null,{default:qt(()=>[Xr(Xi(S()),1)]),_:1}),ue(g$),ue($ge),He(m).hasAlerts?(Jo(),Jr(Oge,{key:0})):Ll("",!0),He(u).hasWritingEnd?(Jo(),Jr(hme,{key:1})):Ll("",!0),Go(ue(As,{class:"app-header-item",onClick:W[0]||(W[0]=$=>N())},{default:qt(()=>[ue(ns,{left:"",icon:"mdi-pause"}),she]),_:1},512),[[bs,!He(i).review]]),Go(ue(As,{class:"app-header-item",onClick:R},{default:qt(()=>[ue(ns,{left:"",icon:"mdi-eye"}),rhe]),_:1},512),[[bs,!He(i).review]])]),_:1}))}};class ihe{async saveFile(i,u){if("showSaveFilePicker"in window&&(()=>{try{return window.self===window.top}catch{return!1}})())try{const S=await(await showSaveFilePicker({suggestedName:u})).createWritable();await S.write(i),await S.close();return}catch(x){if(x.name!=="AbortError"){console.error(x.name,x.message);return}}const b=URL.createObjectURL(i),h=document.createElement("a");h.href=b,h.download=u,h.style.display="none",document.body.append(h),h.click(),setTimeout(()=>{URL.revokeObjectURL(b),h.remove()},1e3)}}const lhe=CM("v-alert-title"),che=["success","info","warning","error"],uhe=Jn({border:{type:[Boolean,String],validator:s=>typeof s=="boolean"||["top","end","bottom","start"].includes(s)},borderColor:String,closable:Boolean,closeIcon:{type:pl,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:s=>che.includes(s)},...tr(),...Gp(),...Yp(),...ky(),...MM(),...s$(),...mg(),...Bi(),...Hl(),...$w({variant:"flat"})},"VAlert"),xK=rs()({name:"VAlert",props:uhe(),emits:{"click:close":s=>!0,"update:modelValue":s=>!0},setup(s,i){let{emit:u,slots:m}=i;const b=Ld(s,"modelValue"),h=ct(()=>{if(s.icon!==!1)return s.type?s.icon??`$${s.type}`:s.icon}),x=ct(()=>({color:s.color??s.type,variant:s.variant})),{themeClasses:S}=ac(s),{colorClasses:B,colorStyles:N,variantClasses:R}=bO(x),{densityClasses:F}=s1(s),{dimensionStyles:W}=Xp(s),{elevationClasses:$}=Ey(s),{locationStyles:K}=PM(s),{positionClasses:ee}=r$(s),{roundedClasses:fe}=gg(s),{textColorClasses:he,textColorStyles:Ue}=e1(js(s,"borderColor")),{t:Te}=dG(),te=ct(()=>({"aria-label":Te(s.closeLabel),onClick(Ae){b.value=!1,u("click:close",Ae)}}));return()=>{const Ae=!!(m.prepend||h.value),ne=!!(m.title||s.title),Ge=!!(m.close||s.closable);return b.value&&ue(s.tag,{class:["v-alert",s.border&&{"v-alert--border":!!s.border,[`v-alert--border-${s.border===!0?"start":s.border}`]:!0},{"v-alert--prominent":s.prominent},S.value,B.value,F.value,$.value,ee.value,fe.value,R.value,s.class],style:[N.value,W.value,K.value,s.style],role:"alert"},{default:()=>{var $e,Ze;return[pO(!1,"v-alert"),s.border&&ue("div",{key:"border",class:["v-alert__border",he.value],style:Ue.value},null),Ae&&ue("div",{key:"prepend",class:"v-alert__prepend"},[m.prepend?ue(rc,{key:"prepend-defaults",disabled:!h.value,defaults:{VIcon:{density:s.density,icon:h.value,size:s.prominent?44:28}}},m.prepend):ue(ns,{key:"prepend-icon",density:s.density,icon:h.value,size:s.prominent?44:28},null)]),ue("div",{class:"v-alert__content"},[ne&&ue(lhe,{key:"title"},{default:()=>{var nt;return[((nt=m.title)==null?void 0:nt.call(m))??s.title]}}),(($e=m.text)==null?void 0:$e.call(m))??s.text,(Ze=m.default)==null?void 0:Ze.call(m)]),m.append&&ue("div",{key:"append",class:"v-alert__append"},[m.append()]),Ge&&ue("div",{key:"close",class:"v-alert__close"},[m.close?ue(rc,{key:"close-defaults",defaults:{VBtn:{icon:s.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var nt;return[(nt=m.close)==null?void 0:nt.call(m,{props:te.value})]}}):ue(As,Sa({key:"close-btn",icon:s.closeIcon,size:"x-small",variant:"text"},te.value),null)])]}})}}}),dhe=rt("br",null,null,-1),fhe=rt("br",null,null,-1),mhe=rt("h3",null,"Bearbeitungsschritte im Abgabetext",-1),ghe=rt("h3",null,"Anmerkungen, Notizen, Einstellungen",-1),hhe=rt("span",null,"bertragen",-1),phe=rt("span",null,"Exportieren",-1),bhe=rt("span",null,"Schlieen",-1),vhe={__name:"SendingStatus",setup(s){const i=vi(),u=Fl(),m=Fp(),b=Pd(),h=ed(),x=new ihe,S=Eo(!1),B=Eo(!1),N=Eo(new rk);function R(ee){return new Date(ee).toISOString().slice(0,16).replace("T"," ")}function F(){S.value=!1,B.value=!1,N.value=new rk,u.showSendingStatus=!0}function W(){u.showSendingStatus=!1}async function $(){B.value=!1,S.value=!0;const ee=await m.sendUpdate(!0);if(ee&&!ee.success){N.value=ee,S.value=!1,B.value=!0;return}const fe=await i.saveChangesToBackend(!0);if(fe&&!fe.success){N.value=fe,S.value=!1,B.value=!0;return}S.value=!1}async function K(){const ee=new Blob([m.currentContent],{type:"text/html"});await x.saveFile(ee,b.writer_name+".html")}return(ee,fe)=>(Jo(),Jr(UY,{tabindex:"-1"},{default:qt(()=>[ue(zp,{tabindex:"-1",onClick:fe[0]||(fe[0]=he=>F()),"aria-label":He(i).isSending?"nderungen werden gesendet":He(i).isAllSent?"Alles gesendet":"Noch nderungen zu senden",title:He(i).isSending?"nderungen werden gesendet":He(i).isAllSent?"Alles gesendet":"Noch nderungen zu senden"},{prepend:qt(()=>[ue(ns,{"aria-role":"hidden",icon:He(i).isSending?"mdi-cloud-upload":He(i).isAllSent?"mdi-cloud-check-outline":"mdi-cloud-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),ue(Q0,{modelValue:He(u).showSendingStatus,"onUpdate:modelValue":fe[4]||(fe[4]=he=>He(u).showSendingStatus=he),"max-width":"1000"},{default:qt(()=>[ue(J0,null,{default:qt(()=>[ue(Wp,null,{default:qt(()=>[Go(ue(xK,null,{default:qt(()=>[Xr("bertrage...")]),_:1},512),[[bs,S.value]]),Go(ue(xK,null,{default:qt(()=>[Xr("Beim bertragen ist ein Fehler aufgetreten! "),dhe,Xr(Xi(N.value.message)+" ",1),fhe,Xr(Xi(N.value.details),1)]),_:1},512),[[bs,B.value]]),mhe,ue(pV,null,{default:qt(()=>[ue(Ew,null,{default:qt(()=>[ue(fu,{cols:"6"},{default:qt(()=>[Xr(" Letzte Speicherung im Browser: ")]),_:1}),ue(fu,{cols:"6"},{default:qt(()=>[Xr(Xi(He(m).lastSave>0?R(He(m).lastSave):"keine"),1)]),_:1})]),_:1}),ue(Ew,null,{default:qt(()=>[ue(fu,{cols:"6"},{default:qt(()=>[Xr(" Letzte bertragung ins System: ")]),_:1}),ue(fu,{cols:"6"},{default:qt(()=>[Xr(Xi(He(m).lastSendingSuccess>0?R(He(m).lastSendingSuccess):"keine"),1)]),_:1})]),_:1}),ue(Ew,null,{default:qt(()=>[ue(fu,{cols:"6"},{default:qt(()=>[Xr(" Status: ")]),_:1}),ue(fu,{cols:"6"},{default:qt(()=>[Xr(Xi(He(m).openSendings>0?He(m).openSendings+" noch nicht bertragen":"alle sind bertragen"),1)]),_:1})]),_:1})]),_:1}),ghe,ue(pV,null,{default:qt(()=>[ue(Ew,null,{default:qt(()=>[ue(fu,{cols:"6"},{default:qt(()=>[Xr(" Letzte Speicherung im Browser: ")]),_:1}),ue(fu,{cols:"6"},{default:qt(()=>[Xr(Xi(He(h).lastSave>0?R(He(h).lastSave):"keine"),1)]),_:1})]),_:1}),ue(Ew,null,{default:qt(()=>[ue(fu,{cols:"6"},{default:qt(()=>[Xr(" Letzte bertragung ins System: ")]),_:1}),ue(fu,{cols:"6"},{default:qt(()=>[Xr(Xi(He(h).lastSendingSuccess>0?R(He(h).lastSendingSuccess):"keine"),1)]),_:1})]),_:1}),ue(Ew,null,{default:qt(()=>[ue(fu,{cols:"6"},{default:qt(()=>[Xr(" Status: ")]),_:1}),ue(fu,{cols:"6"},{default:qt(()=>[Xr(Xi(He(h).countChanges>0?He(h).countChanges+" noch nicht bertragen":"alle sind bertragen"),1)]),_:1})]),_:1})]),_:1})]),_:1}),ue(Up,null,{default:qt(()=>[ue(As,{onClick:fe[1]||(fe[1]=he=>$())},{default:qt(()=>[ue(ns,{left:"",icon:"mdi-file-send-outline"}),hhe]),_:1}),ue(As,{onClick:fe[2]||(fe[2]=he=>K())},{default:qt(()=>[ue(ns,{left:"",icon:"mdi-file-download-outline"}),phe]),_:1}),ue(As,{onClick:fe[3]||(fe[3]=he=>W())},{default:qt(()=>[ue(ns,{left:"",icon:"mdi-close"}),bhe]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}};function yhe(s){let{rootEl:i,isSticky:u,layoutItemStyles:m}=s;const b=Ts(!1),h=Ts(0),x=ct(()=>{const N=typeof b.value=="boolean"?"top":b.value;return[u.value?{top:"auto",bottom:"auto",height:void 0}:void 0,b.value?{[N]:fs(h.value)}:{top:m.value.top}]});Ic(()=>{Gn(u,N=>{N?window.addEventListener("scroll",B,{passive:!0}):window.removeEventListener("scroll",B)},{immediate:!0})}),Bc(()=>{window.removeEventListener("scroll",B)});let S=0;function B(){const N=S>window.scrollY?"up":"down",R=i.value.getBoundingClientRect(),F=parseFloat(m.value.top??0),W=window.scrollY-Math.max(0,h.value-F),$=R.height+Math.max(h.value,F)-window.scrollY-window.innerHeight,K=parseFloat(getComputedStyle(i.value).getPropertyValue("--v-body-scroll-y"))||0;R.height<window.innerHeight-F?(b.value="top",h.value=F):N==="up"&&b.value==="bottom"||N==="down"&&b.value==="top"?(h.value=window.scrollY+R.top-K,b.value=!0):N==="down"&&$<=0?(h.value=0,b.value="bottom"):N==="up"&&W<=0&&(K?b.value!=="top"&&(h.value=-W+K+F,b.value="top"):(h.value=R.top+W,b.value="top")),S=window.scrollY}return{isStuck:b,stickyStyles:x}}const xhe=100,whe=20;function wK(s){return(s<0?-1:1)*Math.sqrt(Math.abs(s))*1.41421356237}function CK(s){if(s.length<2)return 0;if(s.length===2)return s[1].t===s[0].t?0:(s[1].d-s[0].d)/(s[1].t-s[0].t);let i=0;for(let u=s.length-1;u>0;u--){if(s[u].t===s[u-1].t)continue;const m=wK(i),b=(s[u].d-s[u-1].d)/(s[u].t-s[u-1].t);i+=(b-m)*Math.abs(b),u===s.length-1&&(i*=.5)}return wK(i)*1e3}function Che(){const s={};function i(b){Array.from(b.changedTouches).forEach(h=>{(s[h.identifier]??(s[h.identifier]=new $le(whe))).push([b.timeStamp,h])})}function u(b){Array.from(b.changedTouches).forEach(h=>{delete s[h.identifier]})}function m(b){var N;const h=(N=s[b])==null?void 0:N.values().reverse();if(!h)throw new Error(`No samples for touch id ${b}`);const x=h[0],S=[],B=[];for(const R of h){if(x[0]-R[0]>xhe)break;S.push({t:R[0],d:R[1].clientX}),B.push({t:R[0],d:R[1].clientY})}return{x:CK(S),y:CK(B),get direction(){const{x:R,y:F}=this,[W,$]=[Math.abs(R),Math.abs(F)];return W>$&&R>=0?"right":W>$&&R<=0?"left":$>W&&F>=0?"down":$>W&&F<=0?"up":_he()}}}return{addMovement:i,endTouch:u,getVelocity:m}}function _he(){throw new Error}function She(s){let{el:i,isActive:u,isTemporary:m,width:b,touchless:h,position:x}=s;Ic(()=>{window.addEventListener("touchstart",Ue,{passive:!0}),window.addEventListener("touchmove",Te,{passive:!1}),window.addEventListener("touchend",te,{passive:!0})}),Bc(()=>{window.removeEventListener("touchstart",Ue),window.removeEventListener("touchmove",Te),window.removeEventListener("touchend",te)});const S=ct(()=>["left","right"].includes(x.value)),{addMovement:B,endTouch:N,getVelocity:R}=Che();let F=!1;const W=Ts(!1),$=Ts(0),K=Ts(0);let ee;function fe(ne,Ge){return(x.value==="left"?ne:x.value==="right"?document.documentElement.clientWidth-ne:x.value==="top"?ne:x.value==="bottom"?document.documentElement.clientHeight-ne:ek())-(Ge?b.value:0)}function he(ne){let Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const $e=x.value==="left"?(ne-K.value)/b.value:x.value==="right"?(document.documentElement.clientWidth-ne-K.value)/b.value:x.value==="top"?(ne-K.value)/b.value:x.value==="bottom"?(document.documentElement.clientHeight-ne-K.value)/b.value:ek();return Ge?Math.max(0,Math.min(1,$e)):$e}function Ue(ne){if(h.value)return;const Ge=ne.changedTouches[0].clientX,$e=ne.changedTouches[0].clientY,Ze=25,nt=x.value==="left"?Ge<Ze:x.value==="right"?Ge>document.documentElement.clientWidth-Ze:x.value==="top"?$e<Ze:x.value==="bottom"?$e>document.documentElement.clientHeight-Ze:ek(),Ce=u.value&&(x.value==="left"?Ge<b.value:x.value==="right"?Ge>document.documentElement.clientWidth-b.value:x.value==="top"?$e<b.value:x.value==="bottom"?$e>document.documentElement.clientHeight-b.value:ek());(nt||Ce||u.value&&m.value)&&(ee=[Ge,$e],K.value=fe(S.value?Ge:$e,u.value),$.value=he(S.value?Ge:$e),F=K.value>-20&&K.value<80,N(ne),B(ne))}function Te(ne){const Ge=ne.changedTouches[0].clientX,$e=ne.changedTouches[0].clientY;if(F){if(!ne.cancelable){F=!1;return}const nt=Math.abs(Ge-ee[0]),Ce=Math.abs($e-ee[1]);(S.value?nt>Ce&&nt>3:Ce>nt&&Ce>3)?(W.value=!0,F=!1):(S.value?Ce:nt)>3&&(F=!1)}if(!W.value)return;ne.preventDefault(),B(ne);const Ze=he(S.value?Ge:$e,!1);$.value=Math.max(0,Math.min(1,Ze)),Ze>1?K.value=fe(S.value?Ge:$e,!0):Ze<0&&(K.value=fe(S.value?Ge:$e,!1))}function te(ne){if(F=!1,!W.value)return;B(ne),W.value=!1;const Ge=R(ne.changedTouches[0].identifier),$e=Math.abs(Ge.x),Ze=Math.abs(Ge.y);(S.value?$e>Ze&&$e>400:Ze>$e&&Ze>3)?u.value=Ge.direction===({left:"right",right:"left",top:"down",bottom:"up"}[x.value]||ek()):u.value=$.value>.5}const Ae=ct(()=>W.value?{transform:x.value==="left"?`translateX(calc(-100% + ${$.value*b.value}px))`:x.value==="right"?`translateX(calc(100% - ${$.value*b.value}px))`:x.value==="top"?`translateY(calc(-100% + ${$.value*b.value}px))`:x.value==="bottom"?`translateY(calc(100% - ${$.value*b.value}px))`:ek(),transition:"none"}:void 0);return xh(W,()=>{var $e,Ze;const ne=(($e=i.value)==null?void 0:$e.style.transform)??null,Ge=((Ze=i.value)==null?void 0:Ze.style.transition)??null;wh(()=>{var nt,Ce,Ne,D;(Ce=i.value)==null||Ce.style.setProperty("transform",((nt=Ae.value)==null?void 0:nt.transform)||"none"),(D=i.value)==null||D.style.setProperty("transition",((Ne=Ae.value)==null?void 0:Ne.transition)||null)}),Kf(()=>{var nt,Ce;(nt=i.value)==null||nt.style.setProperty("transform",ne),(Ce=i.value)==null||Ce.style.setProperty("transition",Ge)})}),{isDragging:W,dragProgress:$,dragStyles:Ae}}function ek(){throw new Error}const khe=["start","end","left","right","top","bottom"],Ehe=Jn({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:s=>khe.includes(s)},sticky:Boolean,..._y(),...tr(),...AY(),...Cue({mobile:null}),...ky(),...xG(),...mg(),...Bi({tag:"nav"}),...Hl()},"VNavigationDrawer"),Ahe=rs()({name:"VNavigationDrawer",props:Ehe(),emits:{"update:modelValue":s=>!0,"update:rail":s=>!0},setup(s,i){let{attrs:u,emit:m,slots:b}=i;const{isRtl:h}=o1(),{themeClasses:x}=ac(s),{borderClasses:S}=Sy(s),{backgroundColorClasses:B,backgroundColorStyles:N}=$p(js(s,"color")),{elevationClasses:R}=Ey(s),{displayClasses:F,mobile:W}=hG(s),{roundedClasses:$}=gg(s),K=cY(),ee=Ld(s,"modelValue",null,pt=>!!pt),{ssrBootStyles:fe}=zM(),{scopeId:he}=c$(),Ue=Eo(),Te=Ts(!1),{runOpenDelay:te,runCloseDelay:Ae}=TY(s,pt=>{Te.value=pt}),ne=ct(()=>s.rail&&s.expandOnHover&&Te.value?Number(s.width):Number(s.rail?s.railWidth:s.width)),Ge=ct(()=>KH(s.location,h.value)),$e=ct(()=>s.persistent),Ze=ct(()=>!s.permanent&&(W.value||s.temporary)),nt=ct(()=>s.sticky&&!Ze.value&&Ge.value!=="bottom");xh(()=>s.expandOnHover&&s.rail!=null,()=>{Gn(Te,pt=>m("update:rail",!pt))}),xh(()=>!s.disableResizeWatcher,()=>{Gn(Ze,pt=>!s.permanent&&Pa(()=>ee.value=!pt))}),xh(()=>!s.disableRouteWatcher&&!!K,()=>{Gn(K.currentRoute,()=>Ze.value&&(ee.value=!1))}),Gn(()=>s.permanent,pt=>{pt&&(ee.value=!0)}),s.modelValue==null&&!Ze.value&&(ee.value=s.permanent||!W.value);const{isDragging:Ce,dragProgress:Ne}=She({el:Ue,isActive:ee,isTemporary:Ze,width:ne,touchless:js(s,"touchless"),position:Ge}),D=ct(()=>{const pt=Ze.value?0:s.rail&&s.expandOnHover?Number(s.railWidth):ne.value;return Ce.value?pt*Ne.value:pt}),yt=ct(()=>["top","bottom"].includes(s.location)?0:ne.value),{layoutItemStyles:Pt,layoutItemScrimStyles:cn}=wG({id:s.name,order:ct(()=>parseInt(s.order,10)),position:Ge,layoutSize:D,elementSize:yt,active:ct(()=>ee.value||Ce.value),disableTransitions:ct(()=>Ce.value),absolute:ct(()=>s.absolute||nt.value&&typeof hn.value!="string")}),{isStuck:hn,stickyStyles:Qe}=yhe({rootEl:Ue,isSticky:nt,layoutItemStyles:Pt}),On=$p(ct(()=>typeof s.scrim=="string"?s.scrim:null)),as=ct(()=>({...Ce.value?{opacity:Ne.value*.2,transition:"none"}:void 0,...cn.value}));return hk({VList:{bgColor:"transparent"}}),Ks(()=>{const pt=b.image||s.image;return ue(Er,null,[ue(s.tag,Sa({ref:Ue,onMouseenter:te,onMouseleave:Ae,class:["v-navigation-drawer",`v-navigation-drawer--${Ge.value}`,{"v-navigation-drawer--expand-on-hover":s.expandOnHover,"v-navigation-drawer--floating":s.floating,"v-navigation-drawer--is-hovering":Te.value,"v-navigation-drawer--rail":s.rail,"v-navigation-drawer--temporary":Ze.value,"v-navigation-drawer--persistent":$e.value,"v-navigation-drawer--active":ee.value,"v-navigation-drawer--sticky":nt.value},x.value,B.value,S.value,F.value,R.value,$.value,s.class],style:[N.value,Pt.value,fe.value,Qe.value,s.style,["top","bottom"].includes(Ge.value)?{height:"auto"}:{}]},he,u),{default:()=>{var bt,Zt,Us;return[pt&&ue("div",{key:"image",class:"v-navigation-drawer__img"},[b.image?ue(rc,{key:"image-defaults",disabled:!s.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:s.image}}},b.image):ue(FM,{key:"image-img",alt:"",cover:!0,height:"inherit",src:s.image},null)]),b.prepend&&ue("div",{class:"v-navigation-drawer__prepend"},[(bt=b.prepend)==null?void 0:bt.call(b)]),ue("div",{class:"v-navigation-drawer__content"},[(Zt=b.default)==null?void 0:Zt.call(b)]),b.append&&ue("div",{class:"v-navigation-drawer__append"},[(Us=b.append)==null?void 0:Us.call(b)])]}}),ue(jp,{name:"fade-transition"},{default:()=>[Ze.value&&(Ce.value||ee.value)&&!!s.scrim&&ue("div",Sa({class:["v-navigation-drawer__scrim",On.backgroundColorClasses.value],style:[as.value,On.backgroundColorStyles.value],onClick:()=>{$e.value||(ee.value=!1)}},he),null)]})])}),{isStuck:hn}}}),The={__name:"NavBar",setup(s){const i=Fl(),u=Wf(),m=Pd(),b=yh();vi();async function h(){if(i.focusTarget=="navigation"){await Pa();for(const F of document.getElementsByClassName("app-navigation-item")){F.focus();break}}}Gn(()=>i.focusChange,h);function x(F){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseenter"))}function S(F){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseleave"))}function B(F){F.type==mu.TYPE_URL&&!F.embedded?window.open(F.source,"long-essay-writer-resource-"+F.key):(u.selectResource(F),i.showResources())}function N(F){F.keyCode==27?S():i.handleKeyDown(F)}function R(F){return F.isExternalUrl()?"mdi-link":F.isEmbeddedUrl()?u.isActive(F)&&i.isResourcesVisible?"mdi-link-box":"mdi-link-box-outline":u.isActive(F)&&i.isResourcesVisible?"mdi-file":"mdi-file-outline"}return(F,W)=>(Jo(),Jr(Ahe,{id:"app-navigation-drawer",elevation:"2",width:"500",permanent:"",rail:"","expand-on-hover":"",onFocusin:x,onFocusout:S,onKeydown:N},{append:qt(()=>[ue(vhe)]),default:qt(()=>[ue(UY,{tabindex:"-1"},{default:qt(()=>[He(m).hasInstructions?(Jo(),Jr(zp,{key:0,"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:W[0]||(W[0]=$=>{He(i).showInstructions()}),"aria-label":"Aufgabenstellung"+(He(i).isInstructionsVisible?", ist ausgewhlt":""),title:"Aufgabenstellung"+(He(i).isInstructionsVisible?" (ausgewhlt)":""),ripple:!1},{prepend:qt(()=>[ue(ns,{"aria-role":"hidden",icon:He(i).isInstructionsVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"])):Ll("",!0),He(u).hasInstruction?(Jo(),Jr(zp,{key:1,"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:W[1]||(W[1]=$=>{He(i).showInstructionsPdf()}),"aria-label":"Aufgabenstellung als PDF"+(He(i).isInstructionsPdfVisible?", ist ausgewhlt":""),title:"Aufgabenstellung als PDF"+(He(i).isInstructionsPdfVisible?" (ausgewhlt)":""),ripple:!1},{prepend:qt(()=>[ue(ns,{"aria-role":"hidden",icon:He(i).isInstructionsPdfVisible?"mdi-file-document":"mdi-file-document-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"])):Ll("",!0),(Jo(!0),El(Er,null,dk(He(u).getFileOrUrlResources,$=>(Jo(),Jr(zp,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:K=>{B($)},"aria-label":$.title+(He(u).isActive($)&&He(i).isResourcesVisible?", ist ausgewhlt":""),title:$.title+(He(u).isActive($)&&He(i).isResourcesVisible?" (ausgewhlt)":""),key:$.key,ripple:!1},{prepend:qt(()=>[ue(ns,{"aria-role":"hidden",icon:R($)},null,8,["icon"])]),_:2},1032,["onClick","aria-label","title"]))),128)),Go(ue(hV,{class:"border-opacity-75"},null,512),[[bs,He(m).hasInstructions||He(u).hasResources]]),He(m).hasInstructions||He(u).hasAnnotatableResource?(Jo(),Jr(zp,{key:2,"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:W[2]||(W[2]=$=>{He(i).showAnnotations()}),"aria-label":"Anmerkungen"+(He(i).isAnnotationsVisible?", ist ausgewhlt":""),title:"Anmerkungen"+(He(i).isAnnotationsVisible?" (ausgewhlt)":""),ripple:!1},{prepend:qt(()=>[ue(ns,{"aria-role":"hidden",icon:He(i).isAnnotationsVisible?"mdi-pencil-box":"mdi-pencil-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"])):Ll("",!0),ue(zp,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:W[3]||(W[3]=$=>{He(i).showEssay()}),"aria-label":"Abgabe-Text"+(He(i).isEssayVisible?", ist ausgewhlt":""),title:"Abgabe-Text"+(He(i).isEssayVisible?" (ausgewhlt)":""),ripple:!1},{prepend:qt(()=>[ue(ns,{"aria-role":"hidden",icon:He(i).isEssayVisible?"mdi-file-edit":"mdi-file-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),He(b).hasNotes?(Jo(),Jr(zp,{key:3,"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:W[4]||(W[4]=$=>{He(i).showNotes()}),"aria-label":"Notizen, werden bei der Abgabe verworfen"+(He(i).isNotesVisible?", ist ausgewhlt":""),title:"Notizen, werden bei der Abgabe verworfen"+(He(i).isNotesVisible?" (ausgewhlt)":""),ripple:!1},{prepend:qt(()=>[ue(ns,{"aria-role":"hidden",icon:He(i).isNotesVisible?"mdi-clipboard":"mdi-clipboard-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"])):Ll("",!0),ue(hV,{class:"border-opacity-75"})]),_:1})]),_:1}))}},Ohe=hg(The,[["__scopeId","data-v-713529ae"]]);function N8(s){const i=document.createElement("div");return i.innerHTML=s,(i.innerText||i.textContent).replace(/[\s\n\r]+/g,"")}const h$=fg("clipboard",{state:()=>({content:"",show_warning:!1}),getters:{getPasteAllowed:s=>function(u){return!!(yh().copy_allowed||(console.log("content:",u),console.log("normalized content:",N8(u)),console.log("state.content:",s.content),console.log("normalized state.content:",N8(s.content)),N8(u)==N8(s.content)))}},actions:{setContent(s){this.content=s},showWarning(){this.show_warning=!0},hideWarning(){this.show_warning=!1}}});class Dhe{constructor(i,u,m){Uo(this,"observer",null);Uo(this,"marks",[]);if(!i)throw new Error("Missing anchor element");this.el=i,u instanceof Function&&(this.onSelection=u,this.el.addEventListener("mouseup",this.selectionHandler.bind(this)),this.el.addEventListener("touchend",this.selectionHandler.bind(this)),this.el.addEventListener("keydown",this.keydownHandler.bind(this))),m instanceof Function&&(this.onIntersection=m,this.observer=new IntersectionObserver(this.intersectionHandler.bind(this),{root:this.el,threshold:[1]}))}onSelection(i){}onIntersection(i){}keydownHandler(i){switch(i.key){case"Enter":i.preventDefault(),this.selectionHandler(i);break;case"Escape":i.preventDefault(),this.removeSelection();break}}selectionHandler(i){let u=this.getSelectionData();u.mouseX=i.clientX,u.mouseY=i.clientY,u.firstWord>0&&u.lastWord>0&&this.onSelection(u)}intersectionHandler(i){let u=0;this.marks.forEach(m=>{(u==0||m.firstWord<u)&&this.isMarkVisible(m.firstWord,m.lastWord)&&(u=m.firstWord)}),this.onIntersection(u)}removeSelection(){window.getSelection().collapseToEnd()}getSelectionData(){const i=window.getSelection(),u=i.getRangeAt(0);if(!i||!u)return{};let m=u.commonAncestorContainer;m.nodeType==3&&(m=m.parentNode.parentNode);let b=0,h=0,x=0;return m.querySelectorAll("w-p").forEach(S=>{if(i.containsNode(S,!0)){let B=parseInt(S.getAttribute("w")),N=parseInt(S.getAttribute("p"));(b==0||B<b)&&(b=B,x=N),B>h&&(h=B)}}),{firstWord:b,lastWord:h,parentNumber:x,isCollapsed:i.isCollapsed}}addLabel(i,u,m){let b=this.el.querySelector('w-p[w="'+m+'"]');b&&(b.setAttribute("label",u),b.classList.add(i))}showMark(i,u,m){this.marks.push({cssClass:i,firstWord:u,lastWord:m}),this.el.querySelectorAll("w-p").forEach(b=>{let h=parseInt(b.getAttribute("w"));h>=u&&h<=m&&b.classList.add(i),this.observer&&(h==u||h==m)&&this.observer.observe(b)})}hideMark(i,u,m){this.marks=this.marks.filter(b=>b.cssClass!=i||b.firstWord!=u||b.lastWord!=m),this.el.querySelectorAll("w-p."+i).forEach(b=>{let h=parseInt(b.getAttribute("w"));h>=u&&h<=m&&b.classList.remove(i),this.observer&&(h==u||h==m)&&this.observer.unobserve(b)})}hideAllMarksOfClass(i){this.marks=this.marks.filter(u=>u.cssClass!=i),this.el.querySelectorAll("w-p."+i).forEach(u=>{u.classList.remove(i)})}hideAllMarksAndLabels(){this.marks=[],this.el.querySelectorAll("w-p[class]").forEach(i=>{i.classList.value=""}),this.observer&&this.observer.disconnect()}hideSelection(){}scrollToMark(i,u){if(!this.isMarkVisible(i,u,!0)){const m=this.el.querySelector('w-p[w="'+i+'"]');m&&m.scrollIntoView()}}setCaretToMark(i){const u=this.el.querySelector('w-p[w="'+i+'"]').childNodes[0];if(u){let m=document.createRange(),b=window.getSelection();m.setStart(u,0),m.collapse(!0),b.removeAllRanges(),b.addRange(m)}}isMarkVisible(i,u,m){const b=this.el.querySelector('w-p[w="'+i+'"]'),h=this.el.querySelector('w-p[w="'+u+'"]');if(!b||!h)return!1;const x=this.el.getBoundingClientRect(),S=b.getBoundingClientRect(),B=h.getBoundingClientRect(),N=S.top>=x.top&&S.bottom<=x.bottom,R=B.top>=x.top&&B.bottom<=x.bottom;return m?N&&R:N||R}}const Rhe={id:"app-instructions-wrapper"},Nhe={class:"appTextButtons"},Ihe=rt("span",{id:"app-instructions-mode-select"},"Auswhlen",-1),Bhe=rt("span",{id:"app-instructions-mode-mark"},"Markieren",-1),Mhe=["innerHTML"],Phe={__name:"Instructions",setup(s){const i=Pd(),u=Fl(),m=X0(),b=h$(),h=my(),x=Eo(0);let S;Ic(()=>{S=new Dhe(document.getElementById("app-instructions"),W,$),B()});function B(){S.hideAllMarksAndLabels(),h.activeAnnotations.forEach(Te=>F(Te))}Gn(()=>h.markerChange,B);function N(){S.hideAllMarksOfClass("selected");let Te=h.getAnnotation(h.selectedKey);Te&&(S.showMark("selected",Te.start_position,Te.end_position),S.addLabel("labelled",Te.label,Te.start_position),S.scrollToMark(Te.start_position,Te.end_position))}Gn(()=>h.selectionChange,N);function R(){let Te=h.getAnnotation(h.selectedKey);S.setCaretToMark(Te.start_position)}Gn(()=>h.caretRequest,R);function F(Te){S.showMark("marked",Te.start_position,Te.end_position),S.addLabel("labelled",Te.label,Te.start_position)}async function W(Te){if(Te.isCollapsed){const te=h.getActiveAnotationsInRange(Te.firstWord,Te.lastWord);if(te.length){const Ae=te.shift();h.selectAnnotation(Ae.getKey())}}else if(x.value===1){S.removeSelection();const te=new lg({resource_key:lg.KEY_INSTRUCTIONS,parent_number:Te.parentNumber,start_position:Te.firstWord,end_position:Te.lastWord});await h.createAnnotation(te),h.selectAnnotation(te.getKey())}}function $(Te){const te=h.getActiveAnnotationsByStartPosition(Te);if(te.length){const Ae=te.shift();h.setFirstVisibleAnnotation(Ae.getKey())}}function K(Te){x.value=Te}async function ee(){u.focusTarget=="left"&&u.isInstructionsVisible&&(await Pa(),document.getElementById("app-instructions").focus())}Gn(()=>u.focusChange,ee);function fe(Te){const te=Ue();console.log(te),b.setContent(te),Te.clipboardData.setData("text/html",te),Te.preventDefault()}function he(Te){return Te.preventDefault(),!1}function Ue(){var Te;if(document.selection&&document.selection.createRange)return Te=document.selection.createRange(),Te.htmlText;if(window.getSelection){var te=window.getSelection();if(te.rangeCount>0){Te=te.getRangeAt(0);var Ae=Te.cloneContents(),ne=document.createElement("div");return ne.appendChild(Ae),ne.innerHTML}else return""}else return""}return(Te,te)=>(Jo(),El("div",Rhe,[rt("div",Nhe,[ue(aY,{modelValue:x.value,"onUpdate:modelValue":te[2]||(te[2]=Ae=>x.value=Ae),density:"comfortable",variant:"outlined",divided:""},{default:qt(()=>[ue(As,{"aria-labelledby":"app-instructions-mode-select",size:"small",value:"0",onClick:te[0]||(te[0]=Ae=>K(0))},{default:qt(()=>[ue(ns,{icon:"mdi-cursor-default-outline"}),Ihe]),_:1}),ue(As,{"aria-labelledby":"app-instructions-mode-mark",size:"small",value:"1",onClick:te[1]||(te[1]=Ae=>K(1))},{default:qt(()=>[ue(ns,{icon:"mdi-marker"}),Bhe]),_:1})]),_:1},8,["modelValue"]),Xr("  "),ue(gk,{density:"comfortable",variant:"outlined",divided:""},{default:qt(()=>[ue(As,{title:"Aufgabenstellung Text verkleinern",size:"small",icon:"mdi-magnify-minus-outline",onClick:te[3]||(te[3]=Ae=>He(m).zoomInstructionsOut())}),ue(As,{title:"Aufgabenstellung Text vergrern",size:"small",icon:"mdi-magnify-plus-outline",onClick:te[4]||(te[4]=Ae=>He(m).zoomInstructionsIn())})]),_:1})]),rt("div",{id:"app-instructions",class:"app-instructions-scroll long-essay-content",contenteditable:"true",style:q0("font-size:"+He(m).instructions_zoom+"rem;"),innerHTML:He(i).instructions,onBeforeinput:he,onCopy:fe,onCut:fe},null,44,Mhe)]))}},Lhe=(s,i,u)=>{let m=Promise.resolve();const b=new EventTarget,h=(K,ee=null)=>b.dispatchEvent(new CustomEvent(K,{detail:ee})),x=((K=0)=>()=>++K)(),S={},B=document.createElement("iframe"),N=Promise.withResolvers();return B.src=i+"?file="+encodeURIComponent(u),B.style.width="100%",B.style.height="100%",s.appendChild(B),window.addEventListener("message",$),{on:b.addEventListener.bind(b),off:b.removeEventListener.bind(b),getAll:()=>F("getAll"),get:K=>F("get",K),update:K=>R("update",K),setAll:K=>R("setAll",K),add:K=>R("add",K),delete:K=>R("delete",K),selected:()=>F("selected"),select:K=>F("select",K),currentPage:()=>F("currentPage"),destroy:()=>{window.removeEventListener("message",$),iframe.remove()},rebuild:()=>{window.addEventListener("message",$),s.appendChild(B)}};function R(K,...ee){return m=m.then(()=>F(K,...ee))}function F(K,...ee){return new Promise(fe=>{const he=x();return S[he]=fe,N.promise.then(()=>B.contentWindow.postMessage({id:he,name:K,args:ee}))})}function W(K){if(!S[K.id])return;const ee=S[K.id];delete S[K.id],ee(K.value)}function $(K){if(K.source===B.contentWindow){if(K.data.emit){K.data.emit.name==="ready"&&N.resolve(),h(K.data.emit.name,K.data.emit.detail);return}if(K.data.response){W(K.data.response);return}}}},Fhe=s=>(xy("data-v-55f64618"),s=s(),wy(),s),zhe={class:"appResourceWrapper"},Hhe=Fhe(()=>rt("div",{class:"appTextButtons"},null,-1)),Vhe={__name:"ResourcePdf",props:["resource"],setup(s){const i=Fl();Wf();const u=my(),b=s.resource,h=Eo();let x;Ic(()=>{x=Lhe(h.value,"./annotate-pdf/pdfjs-dist/web/viewer.html",b.url),B(),x.on("create",N),x.on("update",R),x.on("delete",F),x.on("select",W),x.on("pageChanged",$),S()});async function S(){i.isResourceShown(b)&&(await Pa(),h.value.focus())}Gn(()=>i.focusChange,S);function B(){const fe=[];for(const he of u.getAnnotationsForResource(b.key))fe.push({id:he.mark_key,page:he.parent_number,intern:JSON.parse(he.mark_value)});x.setAll(fe)}async function N(fe){const he=new lg({resource_key:b.key,mark_key:fe.detail.id,mark_value:JSON.stringify(fe.detail.intern),parent_number:fe.detail.page,start_position:Math.round(-fe.detail.intern.rect[1])});await u.createAnnotation(he),u.selectAnnotation(he.getKey())}function R(fe){const he=u.getAnnotation(lg.buildKey(b.key,fe.detail.id));he&&(he.mark_value=JSON.stringify(fe.detail.intern),u.updateAnnotation(he))}function F(fe){fe.detail&&u.deleteAnnotation(lg.buildKey(b.key,fe.detail.id))}function W(fe){fe.detail&&u.selectAnnotation(lg.buildKey(b.key,fe.detail.id))}function $(fe){let he=u.getActiveAnnotationsByParentNumber(fe.detail);if(he.length){let Ue=he.shift();u.setFirstVisibleAnnotation(Ue.getKey())}}function K(){const fe=u.getAnnotation(u.selectedKey);fe&&fe.resource_key==b.key&&x.select(fe.mark_key)}Gn(()=>u.selectionChange,K);function ee(){const fe=lg.getFromKey(u.deletedKey);fe.resource_key==b.key&&x.delete(fe.mark_key)}return Gn(()=>u.deletedKey,ee),(fe,he)=>(Jo(),El("div",zhe,[Hhe,rt("div",{class:"appResourceNode",tabindex:"0",ref_key:"ResourceNode",ref:h},null,512)]))}},$he=hg(Vhe,[["__scopeId","data-v-55f64618"]]),Uhe=s=>(xy("data-v-4491b7ee"),s=s(),wy(),s),Whe={id:"app-resource-url-wrapper"},Zhe=Uhe(()=>rt("div",{class:"appTextButtons"},null,-1)),jhe=["src"],Khe={__name:"ResourceUrl",props:["resource"],setup(s){const i=Fl();Wf();const m=s.resource,b=Eo();async function h(){i.isResourceShown(m)&&(await Pa(),b.value.focus())}return Ic(()=>h),Gn(()=>i.focusChange,h),(x,S)=>(Jo(),El("div",Whe,[Zhe,rt("div",{tabindex:"0",class:"appResourceNode",ref_key:"ResourceNode",ref:b},[rt("iframe",{src:He(m).url,width:"100%",height:"100%",frameborder:"0",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""},null,8,jhe)],512)]))}},qhe=hg(Khe,[["__scopeId","data-v-4491b7ee"]]),Ghe={id:"app-resources",tabindex:"0",class:"resources"},Yhe={__name:"Resources",setup(s){const i=Fl(),u=Wf();return(m,b)=>(Jo(),El("div",Ghe,[(Jo(!0),El(Er,null,dk(He(u).resources,h=>(Jo(),El(Er,{key:h.key},[h.isPdf()?Go((Jo(),Jr($he,{key:h.key,resource:h},null,8,["resource"])),[[bs,He(i).isResourceShown(h)]]):Ll("",!0),h.isEmbeddedUrl()?Go((Jo(),Jr(qhe,{key:h.key,resource:h},null,8,["resource"])),[[bs,He(i).isResourceShown(h)]]):Ll("",!0)],64))),128))]))}},Xhe=hg(Yhe,[["__scopeId","data-v-1c7878fa"]]);var sX={exports:{}};(function(s){(function(){var i=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},u=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},m=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},b=function(e,t){return h(function(n,r){return e.eq(t(n),t(r))})},h=function(e){return{eq:e}},x=h(function(e,t){return e===t}),S=x,B=function(e){return h(function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,l=0;l<r;l++)if(!e.eq(t[l],n[l]))return!1;return!0})},N=function(e,t){return b(B(e),function(n){return m(n,t)})},R=function(e){return h(function(t,n){var r=Object.keys(t),l=Object.keys(n);if(!N(S).eq(r,l))return!1;for(var f=r.length,g=0;g<f;g++){var C=r[g];if(!e.eq(t[C],n[C]))return!1}return!0})},F=h(function(e,t){if(e===t)return!0;var n=i(e),r=i(t);return n!==r?!1:u(n)?e===t:n==="array"?B(F).eq(e,t):n==="object"?R(F).eq(e,t):!1});const W=Object.getPrototypeOf,$=(e,t,n)=>{var r;return n(e,t.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===t.name},K=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&$(e,String,(n,r)=>r.isPrototypeOf(n))?"string":t},ee=e=>t=>K(t)===e,fe=e=>t=>typeof t===e,he=e=>t=>e===t,Ue=(e,t)=>te(e)&&$(e,t,(n,r)=>W(n)===r),Te=ee("string"),te=ee("object"),Ae=e=>Ue(e,Object),ne=ee("array"),Ge=he(null),$e=fe("boolean"),Ze=he(void 0),nt=e=>e==null,Ce=e=>!nt(e),Ne=fe("function"),D=fe("number"),yt=(e,t)=>{if(ne(e)){for(let n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},Pt=()=>{},cn=(e,t)=>(...n)=>e(t.apply(null,n)),hn=(e,t)=>n=>e(t(n)),Qe=e=>()=>e,On=e=>e,as=(e,t)=>e===t;function pt(e,...t){return(...n)=>{const r=t.concat(n);return e.apply(null,r)}}const bt=e=>t=>!e(t),Zt=e=>()=>{throw new Error(e)},Us=e=>e(),ho=e=>{e()},xn=Qe(!1),Rn=Qe(!0);class J{constructor(t,n){this.tag=t,this.value=n}static some(t){return new J(!0,t)}static none(){return J.singletonNone}fold(t,n){return this.tag?n(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?J.some(t(this.value)):J.none()}bind(t){return this.tag?t(this.value):J.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:J.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return Ce(t)?J.some(t):J.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}J.singletonNone=new J(!1);const ls=Array.prototype.slice,ys=Array.prototype.indexOf,qo=Array.prototype.push,si=(e,t)=>ys.call(e,t),Ke=(e,t)=>{const n=si(e,t);return n===-1?J.none():J.some(n)},le=(e,t)=>si(e,t)>-1,xe=(e,t)=>{for(let n=0,r=e.length;n<r;n++){const l=e[n];if(t(l,n))return!0}return!1},Me=(e,t)=>{const n=e.length,r=new Array(n);for(let l=0;l<n;l++){const f=e[l];r[l]=t(f,l)}return r},pe=(e,t)=>{for(let n=0,r=e.length;n<r;n++){const l=e[n];t(l,n)}},St=(e,t)=>{for(let n=e.length-1;n>=0;n--){const r=e[n];t(r,n)}},$t=(e,t)=>{const n=[],r=[];for(let l=0,f=e.length;l<f;l++){const g=e[l];(t(g,l)?n:r).push(g)}return{pass:n,fail:r}},Ct=(e,t)=>{const n=[];for(let r=0,l=e.length;r<l;r++){const f=e[r];t(f,r)&&n.push(f)}return n},zt=(e,t,n)=>(St(e,(r,l)=>{n=t(n,r,l)}),n),It=(e,t,n)=>(pe(e,(r,l)=>{n=t(n,r,l)}),n),sn=(e,t,n)=>{for(let r=0,l=e.length;r<l;r++){const f=e[r];if(t(f,r))return J.some(f);if(n(f,r))break}return J.none()},wn=(e,t)=>sn(e,t,xn),Cn=(e,t)=>{for(let n=0,r=e.length;n<r;n++){const l=e[n];if(t(l,n))return J.some(n)}return J.none()},En=e=>{const t=[];for(let n=0,r=e.length;n<r;++n){if(!ne(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);qo.apply(t,e[n])}return t},ao=(e,t)=>En(Me(e,t)),vo=(e,t)=>{for(let n=0,r=e.length;n<r;++n){const l=e[n];if(t(l,n)!==!0)return!1}return!0},To=e=>{const t=ls.call(e,0);return t.reverse(),t},Do=(e,t)=>Ct(e,n=>!le(t,n)),Ar=(e,t)=>{const n={};for(let r=0,l=e.length;r<l;r++){const f=e[r];n[String(f)]=t(f,r)}return n},ms=(e,t)=>{const n=ls.call(e,0);return n.sort(t),n},yi=(e,t)=>t>=0&&t<e.length?J.some(e[t]):J.none(),un=e=>yi(e,0),po=e=>yi(e,e.length-1),io=Ne(Array.from)?Array.from:e=>ls.call(e),Ws=(e,t)=>{for(let n=0;n<e.length;n++){const r=t(e[n],n);if(r.isSome())return r}return J.none()},za=(e,t)=>{const n=[],r=Ne(t)?l=>xe(n,f=>t(f,l)):l=>le(n,l);for(let l=0,f=e.length;l<f;l++){const g=e[l];r(g)||n.push(g)}return n},Vt=Object.keys,Qr=Object.hasOwnProperty,Wo=(e,t)=>{const n=Vt(e);for(let r=0,l=n.length;r<l;r++){const f=n[r],g=e[f];t(g,f)}},Tl=(e,t)=>Os(e,(n,r)=>({k:r,v:t(n,r)})),Os=(e,t)=>{const n={};return Wo(e,(r,l)=>{const f=t(r,l);n[f.k]=f.v}),n},Hr=e=>(t,n)=>{e[n]=t},Yf=(e,t,n,r)=>{Wo(e,(l,f)=>{(t(l,f)?n:r)(l,f)})},pu=(e,t)=>{const n={},r={};return Yf(e,t,Hr(n),Hr(r)),{t:n,f:r}},ic=(e,t)=>{const n={};return Yf(e,t,Hr(n),Pt),n},el=(e,t)=>{const n=[];return Wo(e,(r,l)=>{n.push(t(r,l))}),n},bu=e=>el(e,On),gs=(e,t)=>Yn(e,t)?J.from(e[t]):J.none(),Yn=(e,t)=>Qr.call(e,t),Ol=(e,t)=>Yn(e,t)&&e[t]!==void 0&&e[t]!==null,fa=(e,t,n=F)=>R(n).eq(e,t),vu=e=>{const t={};return pe(e,n=>{t[n]={}}),Vt(t)},en=e=>e.length!==void 0,yu=Array.isArray,Xf=e=>{if(yu(e))return e;{const t=[];for(let n=0,r=e.length;n<r;n++)t[n]=e[n];return t}},nr=(e,t,n)=>{if(!e)return!1;if(n=n||e,en(e)){for(let r=0,l=e.length;r<l;r++)if(t.call(n,e[r],r,e)===!1)return!1}else for(const r in e)if(Yn(e,r)&&t.call(n,e[r],r,e)===!1)return!1;return!0},Jf=(e,t)=>{const n=[];return nr(e,(r,l)=>{n.push(t(r,l,e))}),n},Mi=(e,t)=>{const n=[];return nr(e,(r,l)=>{(!t||t(r,l,e))&&n.push(r)}),n},bl=(e,t)=>{if(e){for(let n=0,r=e.length;n<r;n++)if(e[n]===t)return n}return-1},tl=(e,t,n,r)=>{let l=Ze(n)?e[0]:n;for(let f=0;f<e.length;f++)l=t.call(r,l,e[f],f);return l},qs=(e,t,n)=>{for(let r=0,l=e.length;r<l;r++)if(t.call(n,e[r],r,e))return r;return-1},ri=e=>e[e.length-1],vl=e=>{let t=!1,n;return(...r)=>(t||(t=!0,n=e.apply(null,r)),n)},Qf=(e,t,n,r)=>{const l=e.isiOS()&&/ipad/i.test(n)===!0,f=e.isiOS()&&!l,g=e.isiOS()||e.isAndroid(),C=g||r("(pointer:coarse)"),A=l||!f&&g&&r("(min-device-width:768px)"),z=f||g&&!A,j=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,G=!z&&!A&&!j;return{isiPad:Qe(l),isiPhone:Qe(f),isTablet:Qe(A),isPhone:Qe(z),isTouch:Qe(C),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:Qe(j),isDesktop:Qe(G)}},Mc=(e,t)=>{for(let n=0;n<e.length;n++){const r=e[n];if(r.test(t))return r}},Pc=(e,t)=>{const n=Mc(e,t);if(!n)return{major:0,minor:0};const r=l=>Number(t.replace(n,"$"+l));return Zo(r(1),r(2))},$d=(e,t)=>{const n=String(t).toLowerCase();return e.length===0?nd():Pc(e,n)},nd=()=>Zo(0,0),Zo=(e,t)=>({major:e,minor:t}),wr={nu:Zo,detect:$d,unknown:nd},jr=(e,t)=>Ws(t.brands,n=>{const r=n.brand.toLowerCase();return wn(e,l=>{var f;return r===((f=l.brand)===null||f===void 0?void 0:f.toLowerCase())}).map(l=>({current:l.name,version:wr.nu(parseInt(n.version,10),0)}))}),em=(e,t)=>{const n=String(t).toLowerCase();return wn(e,r=>r.search(n))},Pi=(e,t)=>em(e,t).map(n=>{const r=wr.detect(n.versionRegexes,t);return{current:n.name,version:r}}),Lc=(e,t)=>em(e,t).map(n=>{const r=wr.detect(n.versionRegexes,t);return{current:n.name,version:r}}),ai=(e,t)=>e.substring(t),ii=(e,t,n)=>t===""||e.length>=t.length&&e.substr(n,n+t.length)===t,Fc=(e,t)=>Gs(e,t)?ai(e,t.length):e,xs=(e,t,n=0,r)=>{const l=e.indexOf(t,n);return l!==-1?Ze(r)?!0:l+t.length<=r:!1},Gs=(e,t)=>ii(e,t,0),Se=(e,t)=>ii(e,t,e.length-t.length),Ye=e=>t=>t.replace(e,""),Re=Ye(/^\s+|\s+$/g),lt=Ye(/^\s+/g),st=Ye(/\s+$/g),je=e=>e.length>0,Lt=e=>!je(e),Xt=(e,t)=>t<=0?"":new Array(t+1).join(e),on=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?J.none():J.some(n)},fn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,tn=e=>t=>xs(t,e),so=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>xs(e,"edge/")&&xs(e,"chrome")&&xs(e,"safari")&&xs(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,fn],search:e=>xs(e,"chrome")&&!xs(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>xs(e,"msie")||xs(e,"trident")},{name:"Opera",versionRegexes:[fn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:tn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:tn("firefox")},{name:"Safari",versionRegexes:[fn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(xs(e,"safari")||xs(e,"mobile/"))&&xs(e,"applewebkit")}],Qt=[{name:"Windows",search:tn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>xs(e,"iphone")||xs(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:tn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:tn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:tn("linux"),versionRegexes:[]},{name:"Solaris",search:tn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:tn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:tn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],cs={browsers:Qe(so),oses:Qe(Qt)},wo="Edge",Io="Chromium",mr="IE",fo="Opera",yl="Firefox",Ha="Safari",Qn=()=>Li({current:void 0,version:wr.unknown()}),Li=e=>{const t=e.current,n=e.version,r=l=>()=>t===l;return{current:t,version:n,isEdge:r(wo),isChromium:r(Io),isIE:r(mr),isOpera:r(fo),isFirefox:r(yl),isSafari:r(Ha)}},nl={unknown:Qn,nu:Li,edge:Qe(wo),chromium:Qe(Io),ie:Qe(mr),opera:Qe(fo),firefox:Qe(yl),safari:Qe(Ha)},ar="Windows",od="iOS",Tr="Android",Ud="Linux",xl="macOS",os="Solaris",xu="FreeBSD",tm="ChromeOS",_h=()=>gr({current:void 0,version:wr.unknown()}),gr=e=>{const t=e.current,n=e.version,r=l=>()=>t===l;return{current:t,version:n,isWindows:r(ar),isiOS:r(od),isAndroid:r(Tr),isMacOS:r(xl),isLinux:r(Ud),isSolaris:r(os),isFreeBSD:r(xu),isChromeOS:r(tm)}},lc={unknown:_h,nu:gr,windows:Qe(ar),ios:Qe(od),android:Qe(Tr),linux:Qe(Ud),macos:Qe(xl),solaris:Qe(os),freebsd:Qe(xu),chromeos:Qe(tm)},Ls={detect:(e,t,n)=>{const r=cs.browsers(),l=cs.oses(),f=t.bind(A=>jr(r,A)).orThunk(()=>Pi(r,e)).fold(nl.unknown,nl.nu),g=Lc(l,e).fold(lc.unknown,lc.nu),C=Qf(g,f,e,n);return{browser:f,os:g,deviceType:C}}},nm=e=>window.matchMedia(e).matches;let wl=vl(()=>Ls.detect(window.navigator.userAgent,J.from(window.navigator.userAgentData),nm));const Va=()=>wl(),pg=window.navigator.userAgent,ma=Va(),Fi=ma.browser,$a=ma.os,Cl=ma.deviceType,Sh=pg.indexOf("Windows Phone")!==-1,Co={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Fi.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Fi.isIE(),windowsPhone:Sh,browser:{current:Fi.current,version:Fi.version,isChromium:Fi.isChromium,isEdge:Fi.isEdge,isFirefox:Fi.isFirefox,isIE:Fi.isIE,isOpera:Fi.isOpera,isSafari:Fi.isSafari},os:{current:$a.current,version:$a.version,isAndroid:$a.isAndroid,isChromeOS:$a.isChromeOS,isFreeBSD:$a.isFreeBSD,isiOS:$a.isiOS,isLinux:$a.isLinux,isMacOS:$a.isMacOS,isSolaris:$a.isSolaris,isWindows:$a.isWindows},deviceType:{isDesktop:Cl.isDesktop,isiPad:Cl.isiPad,isiPhone:Cl.isiPhone,isPhone:Cl.isPhone,isTablet:Cl.isTablet,isTouch:Cl.isTouch,isWebView:Cl.isWebView}},zc=/^\s*|\s*$/g,sd=e=>nt(e)?"":(""+e).replace(zc,""),wu=(e,t)=>t?t==="array"&&yu(e)?!0:typeof e===t:e!==void 0,Qp=(e,t,n={})=>{const r=Te(e)?e.split(t||","):e||[];let l=r.length;for(;l--;)n[r[l]]={};return n},Ay=Yn,r1=(e,...t)=>{for(let n=0;n<t.length;n++){const r=t[n];for(const l in r)if(Yn(r,l)){const f=r[l];f!==void 0&&(e[l]=f)}}return e},a1=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),nr(e,(l,f)=>t.call(r,l,f,n)===!1?!1:(a1(l,t,n,r),!0)))},Kt={trim:sd,isArray:yu,is:wu,toArray:Xf,makeMap:Qp,each:nr,map:Jf,grep:Mi,inArray:bl,hasOwn:Ay,extend:r1,walk:a1,resolve:(e,t=window)=>{const n=e.split(".");for(let r=0,l=n.length;r<l&&(t=t[n[r]],!!t);r++);return t},explode:(e,t)=>ne(e)?e:e===""?[]:Jf(e.split(t||","),sd),_addCacheSuffix:e=>{const t=Co.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},Wd=(e,t,n=as)=>e.exists(r=>n(r,t)),Zd=(e,t,n=as)=>Ua(e,t,n).getOr(e.isNone()&&t.isNone()),l1=e=>{const t=[],n=r=>{t.push(r)};for(let r=0;r<e.length;r++)e[r].each(n);return t},Ua=(e,t,n)=>e.isSome()&&t.isSome()?J.some(n(e.getOrDie(),t.getOrDie())):J.none(),jd=(e,t,n,r)=>e.isSome()&&t.isSome()&&n.isSome()?J.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):J.none(),bg=(e,t)=>e?J.some(t):J.none(),Ty=typeof window<"u"?window:Function("return this;")(),Oy=(e,t)=>{let n=t??Ty;for(let r=0;r<e.length&&n!==void 0&&n!==null;++r)n=n[e[r]];return n},eb=(e,t)=>{const n=e.split(".");return Oy(n,t)},Dy=(e,t)=>eb(e,t),c1=(e,t)=>{const n=Dy(e,t);if(n==null)throw new Error(e+" not available on this browser");return n},Ry=Object.getPrototypeOf,vg=e=>c1("HTMLElement",e),u1=e=>{const t=eb("ownerDocument.defaultView",e);return te(e)&&(vg(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Ry(e).constructor.name))},Kd=8,qd=9,Wa=11,sl=1,yg=3,Po=e=>e.dom.nodeName.toLowerCase(),rd=e=>e.dom.nodeType,xg=e=>t=>rd(t)===e,wg=e=>rd(e)===Kd||Po(e)==="#comment",xi=e=>Or(e)&&u1(e.dom),Or=xg(sl),Ys=xg(yg),ka=xg(qd),Fs=xg(Wa),Gd=e=>t=>Or(t)&&Po(t)===e,om=(e,t,n)=>{if(Te(n)||$e(n)||D(n))e.setAttribute(t,n+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple")},ra=(e,t,n)=>{om(e.dom,t,n)},wi=(e,t)=>{const n=e.dom;Wo(t,(r,l)=>{om(n,l,r)})},li=(e,t)=>{const n=e.dom.getAttribute(t);return n===null?void 0:n},Hc=(e,t)=>J.from(li(e,t)),ad=(e,t)=>{const n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},bo=(e,t)=>{e.dom.removeAttribute(t)},Kr=e=>{const t=e.dom.attributes;return t==null||t.length===0},rl=e=>It(e.dom.attributes,(t,n)=>(t[n.name]=n.value,t),{}),id=(e,t)=>{const n=li(e,t);return n===void 0||n===""?[]:n.split(" ")},Ea=(e,t,n)=>{const l=id(e,t).concat([n]);return ra(e,t,l.join(" ")),!0},Dn=(e,t,n)=>{const r=Ct(id(e,t),l=>l!==n);return r.length>0?ra(e,t,r.join(" ")):bo(e,t),!1},cc=e=>e.dom.classList!==void 0,uc=e=>id(e,"class"),us=(e,t)=>Ea(e,"class",t),Eh=(e,t)=>Dn(e,"class",t),tb=(e,t)=>le(uc(e),t)?Eh(e,t):us(e,t),ld=(e,t)=>{cc(e)?e.dom.classList.add(t):us(e,t)},_o=e=>{(cc(e)?e.dom.classList:uc(e)).length===0&&bo(e,"class")},Ci=(e,t)=>{cc(e)?e.dom.classList.remove(t):Eh(e,t),_o(e)},Ah=(e,t)=>{const n=cc(e)?e.dom.classList.toggle(t):tb(e,t);return _o(e),n},cd=(e,t)=>cc(e)&&e.dom.classList.contains(t),nb=(e,t)=>{const r=(t||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,e),new Error(l)}return $c(r.childNodes[0])},Vc=(e,t)=>{const r=(t||document).createElement(e);return $c(r)},zi=(e,t)=>{const r=(t||document).createTextNode(e);return $c(r)},$c=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Be={fromHtml:nb,fromTag:Vc,fromText:zi,fromDom:$c,fromPoint:(e,t,n)=>J.from(e.dom.elementFromPoint(t,n)).map($c)},sm=(e,t)=>{const n=[],r=f=>(n.push(f),t(f));let l=t(e);do l=l.bind(r);while(l.isSome());return n},ws=(e,t)=>{const n=e.dom;if(n.nodeType!==sl)return!1;{const r=n;if(r.matches!==void 0)return r.matches(t);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(t);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(t);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},ob=e=>e.nodeType!==sl&&e.nodeType!==qd&&e.nodeType!==Wa||e.childElementCount===0,Cg=(e,t)=>{const n=t===void 0?document:t.dom;return ob(n)?[]:Me(n.querySelectorAll(e),Be.fromDom)},Uc=(e,t)=>{const n=t===void 0?document:t.dom;return ob(n)?J.none():J.from(n.querySelector(e)).map(Be.fromDom)},Lo=(e,t)=>e.dom===t.dom,Za=(e,t)=>{const n=e.dom,r=t.dom;return n===r?!1:n.contains(r)},Cu=e=>Be.fromDom(e.dom.ownerDocument),Vl=e=>ka(e)?e:Cu(e),_u=e=>Be.fromDom(Vl(e).dom.documentElement),Su=e=>Be.fromDom(Vl(e).dom.defaultView),ja=e=>J.from(e.dom.parentNode).map(Be.fromDom),Xd=e=>J.from(e.dom.parentElement).map(Be.fromDom),rm=(e,t)=>{const n=Ne(t)?t:xn;let r=e.dom;const l=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const f=r.parentNode,g=Be.fromDom(f);if(l.push(g),n(g)===!0)break;r=f}return l},sb=e=>{const t=n=>Ct(n,r=>!Lo(e,r));return ja(e).map(Ka).map(t).getOr([])},aa=e=>J.from(e.dom.previousSibling).map(Be.fromDom),Pn=e=>J.from(e.dom.nextSibling).map(Be.fromDom),ku=e=>To(sm(e,aa)),am=e=>sm(e,Pn),Ka=e=>Me(e.dom.childNodes,Be.fromDom),Eu=(e,t)=>{const n=e.dom.childNodes;return J.from(n[t]).map(Be.fromDom)},_l=e=>Eu(e,0),Au=e=>Eu(e,e.dom.childNodes.length-1),ud=e=>e.dom.childNodes.length,ia=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return Be.fromDom(t)},$l=e=>Fs(e)&&Ce(e.dom.host),Wc=e=>Be.fromDom(e.dom.getRootNode()),im=e=>$l(e)?e:ia(Vl(e)),d1=e=>$l(e)?e:Be.fromDom(Vl(e).dom.body),Tu=e=>{const t=Wc(e);return $l(t)?J.some(t):J.none()},Jd=e=>Be.fromDom(e.dom.host),rb=e=>{if(Ce(e.target)){const t=Be.fromDom(e.target);if(Or(t)&&ir(t)&&e.composed&&e.composedPath){const n=e.composedPath();if(n)return un(n)}}return J.from(e.target)},ir=e=>Ce(e.dom.shadowRoot),_i=e=>{const t=Ys(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const n=t.ownerDocument;return Tu(Be.fromDom(t)).fold(()=>n.body.contains(t),hn(_i,Jd))};var ci=(e,t,n,r,l)=>e(n,r)?J.some(n):Ne(l)&&l(n)?J.none():t(n,r,l);const Hi=(e,t,n)=>{let r=e.dom;const l=Ne(n)?n:xn;for(;r.parentNode;){r=r.parentNode;const f=Be.fromDom(r);if(t(f))return J.some(f);if(l(f))break}return J.none()},ea=(e,t,n)=>ci((l,f)=>f(l),Hi,e,t,n),Th=(e,t)=>{const n=e.dom;return n.parentNode?qr(Be.fromDom(n.parentNode),r=>!Lo(e,r)&&t(r)):J.none()},qr=(e,t)=>{const n=l=>t(Be.fromDom(l));return wn(e.dom.childNodes,n).map(Be.fromDom)},Aa=(e,t)=>{const n=r=>{for(let l=0;l<r.childNodes.length;l++){const f=Be.fromDom(r.childNodes[l]);if(t(f))return J.some(f);const g=n(r.childNodes[l]);if(g.isSome())return g}return J.none()};return n(e.dom)},Zc=(e,t,n)=>Hi(e,r=>ws(r,t),n),At=(e,t)=>Uc(t,e),Ta=(e,t,n)=>ci((l,f)=>ws(l,f),Zc,e,t,n),Oh=e=>Ta(e,"[contenteditable]"),lr=(e,t=!1)=>_i(e)?e.dom.isContentEditable:Oh(e).fold(Qe(t),n=>Ou(n)==="true"),Ou=e=>e.dom.contentEditable,Si=e=>e.style!==void 0&&Ne(e.style.getPropertyValue),dc=(e,t,n)=>{if(!Te(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Si(e)&&e.style.setProperty(t,n)},lm=(e,t)=>{Si(e)&&e.style.removeProperty(t)},Vi=(e,t,n)=>{const r=e.dom;dc(r,t,n)},Bo=(e,t)=>{const n=e.dom;Wo(t,(r,l)=>{dc(n,l,r)})},Dr=(e,t)=>{const n=e.dom,l=window.getComputedStyle(n).getPropertyValue(t);return l===""&&!_i(e)?Qd(n,t):l},Qd=(e,t)=>Si(e)?e.style.getPropertyValue(t):"",Cr=(e,t)=>{const n=e.dom,r=Qd(n,t);return J.from(r).filter(l=>l.length>0)},_g=e=>{const t={},n=e.dom;if(Si(n))for(let r=0;r<n.style.length;r++){const l=n.style.item(r);t[l]=n.style[l]}return t},jc=(e,t)=>{const n=e.dom;lm(n,t),Wd(Hc(e,"style").map(Re),"")&&bo(e,"style")},f1=e=>e.dom.offsetWidth,hr=(e,t)=>{ja(e).each(r=>{r.dom.insertBefore(t.dom,e.dom)})},et=(e,t)=>{Pn(e).fold(()=>{ja(e).each(l=>{Rr(l,t)})},r=>{hr(r,t)})},ki=(e,t)=>{_l(e).fold(()=>{Rr(e,t)},r=>{e.dom.insertBefore(t.dom,r.dom)})},Rr=(e,t)=>{e.dom.appendChild(t.dom)},Dl=(e,t)=>{hr(e,t),Rr(t,e)},fc=(e,t)=>{pe(t,(n,r)=>{const l=r===0?e:t[r-1];et(l,n)})},Vr=(e,t)=>{pe(t,n=>{Rr(e,n)})},zs=e=>{e.dom.textContent="",pe(Ka(e),t=>{hs(t)})},hs=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Ei=e=>{const t=Ka(e);t.length>0&&fc(e,t),hs(e)},Rl=(e,t)=>{const r=(t||document).createElement("div");return r.innerHTML=e,Ka(Be.fromDom(r))},Kc=e=>Me(e,Be.fromDom),dd=e=>e.dom.innerHTML,cm=(e,t)=>{const r=Cu(e).dom,l=Be.fromDom(r.createDocumentFragment()),f=Rl(t,r);Vr(l,f),zs(e),Rr(e,l)},Sg=e=>{const t=Be.fromTag("div"),n=Be.fromDom(e.dom.cloneNode(!0));return Rr(t,n),dd(t)},kg=(e,t,n,r,l,f,g)=>({target:e,x:t,y:n,stop:r,prevent:l,kill:f,raw:g}),ab=e=>{const t=Be.fromDom(rb(e).getOr(e.target)),n=()=>e.stopPropagation(),r=()=>e.preventDefault(),l=cn(r,n);return kg(t,e.clientX,e.clientY,n,r,l,e)},ib=(e,t)=>n=>{e(n)&&t(ab(n))},Du=(e,t,n,r,l)=>{const f=ib(n,r);return e.dom.addEventListener(t,f,l),{unbind:pt(Z,e,t,f,l)}},I=(e,t,n,r)=>Du(e,t,n,r,!1),Z=(e,t,n,r)=>{e.dom.removeEventListener(t,n,r)},oe=(e,t)=>({left:e,top:t,translate:(r,l)=>oe(e+r,t+l)}),Oe=oe,ze=e=>{const t=e.getBoundingClientRect();return Oe(t.left,t.top)},Tt=(e,t)=>e!==void 0?e:t!==void 0?t:0,Ln=e=>{const t=e.dom.ownerDocument,n=t.body,r=t.defaultView,l=t.documentElement;if(n===e.dom)return Oe(n.offsetLeft,n.offsetTop);const f=Tt(r==null?void 0:r.pageYOffset,l.scrollTop),g=Tt(r==null?void 0:r.pageXOffset,l.scrollLeft),C=Tt(l.clientTop,n.clientTop),A=Tt(l.clientLeft,n.clientLeft);return ro(e).translate(g-A,f-C)},ro=e=>{const t=e.dom,r=t.ownerDocument.body;return r===t?Oe(r.offsetLeft,r.offsetTop):_i(e)?ze(t):Oe(0,0)},Xn=e=>{const t=e!==void 0?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return Oe(n,r)},_n=(e,t,n)=>{const l=(n!==void 0?n.dom:document).defaultView;l&&l.scrollTo(e,t)},es=(e,t)=>{Va().browser.isSafari()&&Ne(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Nr=e=>{const t=e===void 0?window:e;return Va().browser.isFirefox()?J.none():J.from(t.visualViewport)},cr=(e,t,n,r)=>({x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}),mc=e=>{const t=e===void 0?window:e,n=t.document,r=Xn(Be.fromDom(n));return Nr(t).fold(()=>{const l=t.document.documentElement,f=l.clientWidth,g=l.clientHeight;return cr(r.left,r.top,f,g)},l=>cr(Math.max(l.pageLeft,r.left),Math.max(l.pageTop,r.top),l.width,l.height))},um=(e,t)=>Ct(Ka(e),t),dm=(e,t)=>{let n=[];return pe(Ka(e),r=>{t(r)&&(n=n.concat([r])),n=n.concat(dm(r,t))}),n},ta=(e,t)=>Cg(t,e),Ww=(e,t,n)=>Hi(e,t,n).isSome(),lb=(e,t)=>Th(e,t).isSome(),m1=(e,t)=>Aa(e,t).isSome();class qa{constructor(t,n){this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,n,r,l){if(t){if(!l&&t[n])return t[n];if(t!==this.rootNode){let f=t[r];if(f)return f;for(let g=t.parentNode;g&&g!==this.rootNode;g=g.parentNode)if(f=g[r],f)return f}}}findPreviousNode(t,n){if(t){const r=t.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!n){for(let f=r.lastChild;f;f=f.lastChild)if(!f.lastChild)return f}return r}const l=t.parentNode;if(l&&l!==this.rootNode)return l}}}const pr="\uFEFF",ga="",Ru=e=>e===pr,Dh=e=>e.replace(/\uFEFF/g,""),Ny=/^[ \t\r\n]*$/,Ul=e=>Ny.test(e),al=e=>{for(const t of e)if(!Ru(t))return!1;return!0},cb=e=>" \f	\v".indexOf(e)!==-1,ef=e=>e===`
`||e==="\r",yk=(e,t)=>t<e.length&&t>=0?ef(e[t]):!1,ub=(e,t=4,n=!0,r=!0)=>{const l=Xt(" ",t),f=e.replace(/\t/g,l);return It(f,(C,A)=>cb(A)||A===ga?C.pcIsSpace||C.str===""&&n||C.str.length===f.length-1&&r||yk(f,C.str.length+1)?{pcIsSpace:!1,str:C.str+ga}:{pcIsSpace:!0,str:C.str+" "}:{pcIsSpace:ef(A),str:C.str+A},{pcIsSpace:!1,str:""}).str},fd=e=>t=>!!t&&t.nodeType===e,tf=e=>!!e&&!Object.getPrototypeOf(e),yn=fd(1),qc=e=>yn(e)&&xi(Be.fromDom(e)),db=e=>yn(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",nf=e=>{const t=e.toLowerCase();return n=>Ce(n)&&n.nodeName.toLowerCase()===t},Ga=e=>{const t=e.map(n=>n.toLowerCase());return n=>{if(n&&n.nodeName){const r=n.nodeName.toLowerCase();return le(t,r)}return!1}},gc=(e,t)=>{const n=t.toLowerCase().split(" ");return r=>{if(yn(r)){const l=r.ownerDocument.defaultView;if(l)for(let f=0;f<n.length;f++){const g=l.getComputedStyle(r,null);if((g?g.getPropertyValue(e):null)===n[f])return!0}}return!1}},Eg=e=>t=>yn(t)&&t.hasAttribute(e),of=e=>yn(e)&&e.hasAttribute("data-mce-bogus"),g1=e=>yn(e)&&e.getAttribute("data-mce-bogus")==="all",Gc=e=>yn(e)&&e.tagName==="TABLE",Rh=e=>t=>!!(qc(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),Nh=Ga(["textarea","input"]),Mt=fd(3),Iy=fd(4),sf=fd(7),go=fd(8),Sn=fd(9),rf=fd(11),or=nf("br"),hc=nf("img"),pc=Rh("true"),to=Rh("false"),Ih=Ga(["td","th"]),Zw=Ga(["td","th","caption"]),xt=Ga(["video","audio","object","embed"]),By=nf("li"),Bh=nf("details"),Mh=nf("summary"),Ag={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},fm=(e,t,n)=>{const r=Be.fromDom(t),l=Be.fromDom(e),f=n.getWhitespaceElements();return Ww(l,C=>Yn(f,Po(C)),pt(Lo,r))},jw=e=>yn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),af=(e,t)=>yn(e)&&Yn(t.getNonEmptyElements(),e.nodeName),Zs=Eg("data-mce-bookmark"),Nu=e=>Xd(Be.fromDom(e)).exists(t=>!lr(t)),h1=(e,t,n)=>Ul(e.data)&&!fm(e,t,n),Yc=(e,t,n,r)=>Mt(e)&&!h1(e,t,n)&&(!r.includeZwsp||!al(e.data)),mm=(e,t,n,r)=>Ne(r.isContent)&&r.isContent(t)||af(t,e)||Zs(t)||jw(t)||Yc(t,n,e,r)||to(t)||pc(t)&&Nu(t),Wl=(e,t,n)=>{const r={...Ag,...n};if(r.checkRootAsContent&&mm(e,t,t,r))return!1;let l=t.firstChild,f=0;if(!l)return!0;const g=new qa(l,t);do{if(r.skipBogus&&yn(l)){const C=l.getAttribute("data-mce-bogus");if(C){l=g.next(C==="all");continue}}if(go(l)){l=g.next(!0);continue}if(or(l)){f++,l=g.next();continue}if(mm(e,l,t,r))return!1;l=g.next()}while(l);return f<=1},Ir=(e,t,n)=>Wl(e,t.dom,{checkRootAsContent:!0,...n}),fb=(e,t,n)=>mm(e,t,t,{includeZwsp:Ag.includeZwsp,...n}),ha=e=>{let t=e;return{get:()=>t,set:l=>{t=l}}},p1=e=>{const t=ha(J.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(J.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:C=>{n(),t.set(J.some(C))}}},bc=e=>{const t=ha(J.none()),n=()=>t.get().each(C=>clearInterval(C));return{clear:()=>{n(),t.set(J.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:C=>{n(),t.set(J.some(setInterval(C,e)))}}},pa=()=>{const e=p1(Pt);return{...e,on:n=>e.get().each(n)}},Ft=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},gm=e=>Ft(e)!=="html",ba=e=>gm(e.nodeName),Kw=e=>Ft(e.nodeName),qw=["svg","math"],xk=()=>{const e=pa(),t=()=>e.get().map(Kw).getOr("html");return{track:l=>(ba(l)?e.set(l):e.get().exists(f=>!f.contains(l))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},md="data-mce-block",Tg=e=>Ct(Vt(e),t=>!/[A-Z]/.test(t)),mb=e=>Me(Tg(e),t=>{const n=CSS.escape(t);return`${n}:`+Me(qw,r=>`not(${r} ${n})`).join(":")}).join(","),b1=(e,t)=>Ce(t.querySelector(e))?(t.setAttribute(md,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(md),!1),My=(e,t)=>{const n=mb(e.getTransparentElements()),r=mb(e.getBlockElements());return Ct(t.querySelectorAll(n),l=>b1(r,l))},ur=(e,t,n)=>{var r;const l=n?"lastChild":"firstChild";for(let f=t[l];f;f=f[l])if(Wl(e,f,{checkRootAsContent:!0})){(r=f.parentNode)===null||r===void 0||r.removeChild(f);return}},gb=(e,t,n)=>{const r=document.createRange(),l=t.parentNode;if(l){r.setStartBefore(t),r.setEndBefore(n);const f=r.extractContents();ur(e,f,!0),r.setStartAfter(n),r.setEndAfter(t);const g=r.extractContents();ur(e,g,!1),Wl(e,f,{checkRootAsContent:!0})||l.insertBefore(f,t),Wl(e,n,{checkRootAsContent:!0})||l.insertBefore(n,t),Wl(e,g,{checkRootAsContent:!0})||l.insertBefore(g,t),l.removeChild(t)}},br=(e,t,n)=>{const r=e.getBlockElements(),l=Be.fromDom(t),f=C=>Po(C)in r,g=C=>Lo(C,l);pe(Kc(n),C=>{Hi(C,f,g).each(A=>{const z=um(C,j=>f(j)&&!e.isValidChild(Po(A),Po(j)));if(z.length>0){const j=Xd(A);pe(z,G=>{Hi(G,f,g).each(X=>{gb(e,X.dom,G.dom)})}),j.each(G=>My(e,G.dom))}})})},$i=(e,t,n)=>{pe([...n,...lf(e,t)?[t]:[]],r=>pe(ta(Be.fromDom(r),r.nodeName.toLowerCase()),l=>{Gw(e,l.dom)&&Ei(l)}))},Br=(e,t)=>{const n=My(e,t);br(e,t,n),$i(e,t,n)},Zl=(e,t)=>{if(Ph(e,t)){const n=mb(e.getBlockElements());b1(n,t)}},gd=(e,t,n)=>{const r=f=>Lo(f,Be.fromDom(t)),l=rm(Be.fromDom(n),r);yi(l,l.length-2).filter(Or).fold(()=>Br(e,t),f=>Br(e,f.dom))},Oa=e=>e.hasAttribute(md),hb=(e,t)=>Yn(e.getTransparentElements(),t),Ph=(e,t)=>yn(t)&&hb(e,t.nodeName),lf=(e,t)=>Ph(e,t)&&Oa(t),Gw=(e,t)=>Ph(e,t)&&!Oa(t),Lh=(e,t)=>t.type===1&&hb(e,t.name)&&Te(t.attr(md)),Py=Va().browser,v1=e=>wn(e,Or),pb=e=>Py.isFirefox()&&Po(e)==="table"?v1(Ka(e)).filter(t=>Po(t)==="caption").bind(t=>v1(am(t)).map(n=>{const r=n.dom.offsetTop,l=t.dom.offsetTop,f=t.dom.offsetHeight;return r<=l?-f:0})).getOr(0):0,y1=(e,t)=>e.children&&le(e.children,t),Ly=(e,t,n)=>{let r=0,l=0;const f=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&Dr(Be.fromDom(e),"position")==="static"){const C=t.getBoundingClientRect();return r=C.left+(f.documentElement.scrollLeft||e.scrollLeft)-f.documentElement.clientLeft,l=C.top+(f.documentElement.scrollTop||e.scrollTop)-f.documentElement.clientTop,{x:r,y:l}}let g=t;for(;g&&g!==n&&g.nodeType&&!y1(g,n);){const C=g;r+=C.offsetLeft||0,l+=C.offsetTop||0,g=C.offsetParent}for(g=t.parentNode;g&&g!==n&&g.nodeType&&!y1(g,n);)r-=g.scrollLeft||0,l-=g.scrollTop||0,g=g.parentNode;l+=pb(Be.fromDom(t))}return{x:r,y:l}},hm=(e,t={})=>{let n=0;const r={},l=Be.fromDom(e),f=Vl(l),g=Fe=>{t.referrerPolicy=Fe},C=Fe=>{t.contentCssCors=Fe},A=Fe=>{Rr(im(l),Fe)},z=Fe=>{const qe=im(l);At(qe,"#"+Fe).each(hs)},j=Fe=>gs(r,Fe).getOrThunk(()=>({id:"mce-u"+n++,passed:[],failed:[],count:0})),G=Fe=>new Promise((qe,We)=>{let at;const Nt=Kt._addCacheSuffix(Fe),jt=j(Nt);r[Nt]=jt,jt.count++;const dn=(bn,Nn)=>{pe(bn,ho),jt.status=Nn,jt.passed=[],jt.failed=[],at&&(at.onload=null,at.onerror=null,at=null)},wt=()=>dn(jt.passed,2),dt=()=>dn(jt.failed,3);if(qe&&jt.passed.push(qe),We&&jt.failed.push(We),jt.status===1)return;if(jt.status===2){wt();return}if(jt.status===3){dt();return}jt.status=1;const Dt=Be.fromTag("link",f.dom);wi(Dt,{rel:"stylesheet",type:"text/css",id:jt.id}),t.contentCssCors&&ra(Dt,"crossOrigin","anonymous"),t.referrerPolicy&&ra(Dt,"referrerpolicy",t.referrerPolicy),at=Dt.dom,at.onload=wt,at.onerror=dt,A(Dt),ra(Dt,"href",Nt)}),X=(Fe,qe)=>{const We=j(Fe);r[Fe]=We,We.count++;const at=Be.fromTag("style",f.dom);wi(at,{rel:"stylesheet",type:"text/css",id:We.id}),at.dom.innerHTML=qe,A(at)},de=Fe=>Promise.allSettled(Me(Fe,We=>G(We).then(Qe(We)))).then(We=>{const at=$t(We,Nt=>Nt.status==="fulfilled");return at.fail.length>0?Promise.reject(Me(at.fail,Nt=>Nt.reason)):Me(at.pass,Nt=>Nt.value)}),we=Fe=>{const qe=Kt._addCacheSuffix(Fe);gs(r,qe).each(We=>{--We.count===0&&(delete r[qe],z(We.id))})};return{load:G,loadRawCss:X,loadAll:de,unload:we,unloadRawCss:Fe=>{gs(r,Fe).each(qe=>{--qe.count===0&&(delete r[Fe],z(qe.id))})},unloadAll:Fe=>{pe(Fe,qe=>{we(qe)})},_setReferrerPolicy:g,_setContentCssCors:C}},x1=(()=>{const e=new WeakMap;return{forElement:(n,r)=>{const f=Wc(n).dom;return J.from(e.get(f)).getOrThunk(()=>{const g=hm(f,r);return e.set(f,g),g})}}})(),w1=e=>e.nodeName.toLowerCase()==="span",Fy=(e,t)=>Ce(e)&&(fb(t,e)||t.isInline(e.nodeName.toLowerCase())),zy=(e,t,n)=>{const r=new qa(e,t).prev(!1),l=new qa(e,t).next(!1),f=Ze(r)||Fy(r,n),g=Ze(l)||Fy(l,n);return f&&g},bb=e=>w1(e)&&e.getAttribute("data-mce-type")==="bookmark",Hy=(e,t,n)=>Mt(e)&&e.data.length>0&&zy(e,t,n),Vy=e=>yn(e)?e.childNodes.length>0:!1,vb=e=>rf(e)||Sn(e),Fh=(e,t,n,r)=>{var l;const f=r||t;if(yn(t)&&bb(t))return t;const g=t.childNodes;for(let C=g.length-1;C>=0;C--)Fh(e,g[C],n,f);if(yn(t)){const C=t.childNodes;C.length===1&&bb(C[0])&&((l=t.parentNode)===null||l===void 0||l.insertBefore(C[0],t))}return!vb(t)&&!fb(n,t)&&!Vy(t)&&!Hy(t,f,n)&&e.remove(t),t},$y=Kt.makeMap,yb=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xb=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pm=/[<>&\"\']/g,zh=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Uy={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},hd={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Og={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Dg=e=>{const t=Be.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},pd=(e,t)=>{const n={};if(e){const r=e.split(",");t=t||10;for(let l=0;l<r.length;l+=2){const f=String.fromCharCode(parseInt(r[l],t));if(!hd[f]){const g="&"+r[l+1]+";";n[f]=g,n[g]=f}}return n}else return},cf=pd("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),wb=(e,t)=>e.replace(t?yb:xb,n=>hd[n]||n),Ck=e=>(""+e).replace(pm,t=>hd[t]||t),Cb=(e,t)=>e.replace(t?yb:xb,n=>n.length>1?"&#"+((n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320)+65536)+";":hd[n]||"&#"+n.charCodeAt(0)+";"),vc=(e,t,n)=>{const r=n||cf;return e.replace(t?yb:xb,l=>hd[l]||r[l]||l)},Rg={encodeRaw:wb,encodeAllRaw:Ck,encodeNumeric:Cb,encodeNamed:vc,getEncodeFunc:(e,t)=>{const n=pd(t)||cf,r=(g,C)=>g.replace(C?yb:xb,A=>hd[A]!==void 0?hd[A]:n[A]!==void 0?n[A]:A.length>1?"&#"+((A.charCodeAt(0)-55296)*1024+(A.charCodeAt(1)-56320)+65536)+";":"&#"+A.charCodeAt(0)+";"),l=(g,C)=>vc(g,C,n),f=$y(e.replace(/\+/g,","));return f.named&&f.numeric?r:f.named?t?l:vc:f.numeric?Cb:wb},decode:e=>e.replace(zh,(t,n)=>n?(n.charAt(0).toLowerCase()==="x"?n=parseInt(n.substr(1),16):n=parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(n&1023))):Uy[n]||String.fromCharCode(n)):Og[t]||cf[t]||Dg(t))},Ya=(e,t)=>(e=Kt.trim(e),e?e.split(t||" "):[]),Ng=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Ig=e=>te(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",C1=e=>{const t=n=>ne(n)?Me(n,t):Ig(n)?new RegExp(n.source,n.flags):te(n)?Tl(n,t):n;return t(e)},Fo=e=>{const t=/^(~)?(.+)$/;return ao(Ya(e,","),n=>{const r=t.exec(n);if(r){const f=r[1]==="~"?"span":"div",g=r[2];return[{cloneName:f,name:g}]}else return[]})},il=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),Iu=e=>{let t,n;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",n="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",n+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(n=[n,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const r=[t,n].join(" ");return{blockContent:t,phrasingContent:n,flowContent:r}},ui=e=>{const{blockContent:t,phrasingContent:n,flowContent:r}=Iu(e),l=f=>Object.freeze(f.split(" "));return Object.freeze({blockContent:l(t),phrasingContent:l(n),flowContent:l(r)})},Is={html4:vl(()=>ui("html4")),html5:vl(()=>ui("html5")),"html5-strict":vl(()=>ui("html5-strict"))},_b=(e,t)=>{const{blockContent:n,phrasingContent:r,flowContent:l}=Is[e]();return t==="blocks"?J.some(n):t==="phrasing"?J.some(r):t==="flow"?J.some(l):J.none()},Xw=e=>{const t=il(e),{phrasingContent:n,flowContent:r}=Iu(e),l={},f=(A,z,j)=>{l[A]={attributes:Ar(z,Qe({})),attributesOrder:z,children:Ar(j,Qe({}))}},g=(A,z="",j="")=>{const G=Ya(j),X=Ya(A);let de=X.length;const we=[...t,...Ya(z)];for(;de--;)f(X[de],we.slice(),G)},C=(A,z)=>{const j=Ya(A),G=Ya(z);let X=j.length;for(;X--;){const de=l[j[X]];for(let we=0,me=G.length;we<me;we++)de.attributes[G[we]]={},de.attributesOrder.push(G[we])}};return e!=="html5-strict"&&(pe(Ya("acronym applet basefont big font strike tt"),j=>{g(j,"",n)}),pe(Ya("center dir isindex noframes"),j=>{g(j,"",r)})),g("html","manifest","head body"),g("head","","base command link meta noscript script style title"),g("title hr noscript br"),g("base","href target"),g("link","href rel media hreflang type sizes hreflang"),g("meta","name http-equiv content charset"),g("style","media type scoped"),g("script","src async defer type charset"),g("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),g("dd div","",r),g("address dt caption","",e==="html4"?n:r),g("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",n),g("blockquote","cite",r),g("ol","reversed start type","li"),g("ul","","li"),g("li","value",r),g("dl","","dt dd"),g("a","href target rel media hreflang type",e==="html4"?n:r),g("q","cite",n),g("ins del","cite datetime",r),g("img","src sizes srcset alt usemap ismap width height"),g("iframe","src name width height",r),g("embed","src type width height"),g("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),g("param","name value"),g("map","name",[r,"area"].join(" ")),g("area","alt coords shape href target rel media hreflang type"),g("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),g("colgroup","span","col"),g("col","span"),g("tbody thead tfoot","","tr"),g("tr","","td th"),g("td","colspan rowspan headers",r),g("th","colspan rowspan headers scope abbr",r),g("form","accept-charset action autocomplete enctype method name novalidate target",r),g("fieldset","disabled form name",[r,"legend"].join(" ")),g("label","form for",n),g("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),g("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?r:n),g("select","disabled form multiple name required size","option optgroup"),g("optgroup","disabled label","option"),g("option","disabled label selected value"),g("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),g("menu","type label",[r,"li"].join(" ")),g("noscript","",r),e!=="html4"&&(g("wbr"),g("ruby","",[n,"rt rp"].join(" ")),g("figcaption","",r),g("mark rt rp bdi","",n),g("summary","",[n,"h1 h2 h3 h4 h5 h6"].join(" ")),g("canvas","width height",r),g("data","value",n),g("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),g("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),g("picture","","img source"),g("source","src srcset type media sizes"),g("track","kind src srclang label default"),g("datalist","",[n,"option"].join(" ")),g("article section nav aside main header footer","",r),g("hgroup","","h1 h2 h3 h4 h5 h6"),g("figure","",[r,"figcaption"].join(" ")),g("time","datetime",n),g("dialog","open",r),g("command","type label icon disabled checked radiogroup command"),g("output","for form name",n),g("progress","value max",n),g("meter","value min max low high optimum",n),g("details","open",[r,"summary"].join(" ")),g("keygen","autofocus challenge disabled form keytype name"),f("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(C("script","language xml:space"),C("style","xml:space"),C("object","declare classid code codebase codetype archive standby align border hspace vspace"),C("embed","align name hspace vspace"),C("param","valuetype type"),C("a","charset name rev shape coords"),C("br","clear"),C("applet","codebase archive code object alt name width height align hspace vspace"),C("img","name longdesc align border hspace vspace"),C("iframe","longdesc frameborder marginwidth marginheight scrolling align"),C("font basefont","size color face"),C("input","usemap align"),C("select"),C("textarea"),C("h1 h2 h3 h4 h5 h6 div p legend caption","align"),C("ul","type compact"),C("li","type"),C("ol dl menu dir","compact"),C("pre","width xml:space"),C("hr","align noshade size width"),C("isindex","prompt"),C("table","summary width frame rules cellspacing cellpadding align bgcolor"),C("col","width align char charoff valign"),C("colgroup","width align char charoff valign"),C("thead","align char charoff valign"),C("tr","align char charoff valign bgcolor"),C("th","axis align char charoff valign nowrap bgcolor width height"),C("form","accept"),C("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),C("tfoot","align char charoff valign"),C("tbody","align char charoff valign"),C("area","nohref"),C("body","background bgcolor text link vlink alink")),e!=="html4"&&(C("input button select textarea","autofocus"),C("input textarea","placeholder"),C("a","download"),C("link script img","crossorigin"),C("img","loading"),C("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&pe([l.video,l.audio],A=>{delete A.children.audio,delete A.children.video}),pe(Ya("a form meter progress dfn"),A=>{l[A]&&delete l[A].children[A]}),delete l.caption.children.table,delete l.script,l},_k=e=>e==="-"?"remove":"add",Xs=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return J.from(t.exec(e)).map(n=>({preset:n[1]==="@",name:n[2]}))},_1=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return ao(Ya(e,","),n=>{const r=t.exec(n);if(r){const l=r[1],f=l?_k(l):"replace",g=r[2],C=ao(Ya(r[3],"|"),A=>Xs(A).toArray());return[{operation:f,name:g,validChildren:C}]}else return[]})},Zy=(e,t)=>{const n=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:l,attributesOrder:f}=t;return pe(Ya(e,"|"),g=>{const C=n.exec(g);if(C){const A={},z=C[1],j=C[2].replace(/[\\:]:/g,":"),G=C[3],X=C[4];if(z==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(j),A.required=!0),z==="-"){delete l[j],f.splice(Kt.inArray(f,j),1);return}if(G&&(G==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:j,value:X}),A.defaultValue=X):G==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:j,value:X}),A.forcedValue=X):G==="<"&&(A.validValues=Kt.makeMap(X,"?"))),r.test(j)){const de=A;t.attributePatterns=t.attributePatterns||[],de.pattern=Ng(j),t.attributePatterns.push(de)}else l[j]||f.push(j),l[j]=A}})},bm=(e,t)=>{Wo(e.attributes,(n,r)=>{t.attributes[r]=n}),t.attributesOrder.push(...e.attributesOrder)},yc=(e,t)=>{const n=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return ao(Ya(t,","),r=>{const l=n.exec(r);if(l){const f=l[1],g=l[2],C=l[3],A=l[4],z=l[5],j={attributes:{},attributesOrder:[]};if(e.each(G=>bm(G,j)),f==="#"?j.paddEmpty=!0:f==="-"&&(j.removeEmpty=!0),A==="!"&&(j.removeEmptyAttrs=!0),z&&Zy(z,j),C&&(j.outputName=g),g==="@")if(e.isNone())e=J.some(j);else return[];return[C?{name:g,element:j,aliasName:C}:{name:g,element:j}]}else return[]})},Hh={},mn=Kt.makeMap,Xc=Kt.each,jy=Kt.extend,S1=Kt.explode,Vh=(e,t={})=>{const n=mn(e," ",mn(e.toUpperCase()," "));return jy(n,t)},k1=e=>Vh("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Bg=(e,t)=>{if(e){const n={};return Te(e)&&(e={"*":e}),Xc(e,(r,l)=>{n[l]=n[l.toUpperCase()]=t==="map"?mn(r,/[, ]/):S1(r,/[, ]/)}),n}else return},xc=(e={})=>{var t;const n={},r={};let l=[];const f={},g={},C=(Mn,Ko,Fr)=>{const sa=e[Mn];if(sa)return mn(sa,/[, ]/,mn(sa.toUpperCase(),/[, ]/));{let Ba=Hh[Mn];return Ba||(Ba=Vh(Ko,Fr),Hh[Mn]=Ba),Ba}},A=(t=e.schema)!==null&&t!==void 0?t:"html5",z=Xw(A);e.verify_html===!1&&(e.valid_elements="*[*]");const j=Bg(e.valid_styles),G=Bg(e.invalid_styles,"map"),X=Bg(e.valid_classes,"map"),de=C("whitespace_elements","pre script noscript style textarea video audio iframe object code"),we=C("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),me=C("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ke=C("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),Fe="td th iframe video audio object script code",qe=C("non_empty_elements",Fe+" pre svg textarea summary",me),We=C("move_caret_before_on_enter_elements",Fe+" table",me),at="h1 h2 h3 h4 h5 h6",Nt=C("text_block_elements",at+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),jt=C("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",Nt),dn=C("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),wt=C("transparent_elements","a ins del canvas map"),dt=C("wrap_block_elements","pre "+at);Xc("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Mn=>{g[Mn]=new RegExp("</"+Mn+"[^>]*>","gi")});const Dt=Mn=>{const Ko=J.from(n["@"]),Fr=/[*?+]/;pe(yc(Ko,Mn??""),({name:sa,element:Ba,aliasName:Gi})=>{if(Gi&&(n[Gi]=Ba),Fr.test(sa)){const wa=Ba;wa.pattern=Ng(sa),l.push(wa)}else n[sa]=Ba})},bn=Mn=>{l=[],pe(Vt(n),Ko=>{delete n[Ko]}),Dt(Mn)},Nn=(Mn,Ko)=>{var Fr,sa;delete Hh.text_block_elements,delete Hh.block_elements;const Ba=Ko.extends?!Xu(Ko.extends):!1,Gi=Ko.extends;if(r[Mn]=Gi?r[Gi]:{},f[Mn]=Gi??Mn,qe[Mn.toUpperCase()]={},qe[Mn]={},Ba||(jt[Mn.toUpperCase()]={},jt[Mn]={}),Gi&&!n[Mn]&&n[Gi]){const wa=C1(n[Gi]);delete wa.removeEmptyAttrs,delete wa.removeEmpty,n[Mn]=wa}else n[Mn]={attributesOrder:[],attributes:{}};if(ne(Ko.attributes)){const wa=tc=>{Ca.attributesOrder.push(tc),Ca.attributes[tc]={}},Ca=(Fr=n[Mn])!==null&&Fr!==void 0?Fr:{};delete Ca.attributesDefault,delete Ca.attributesForced,delete Ca.attributePatterns,delete Ca.attributesRequired,Ca.attributesOrder=[],Ca.attributes={},pe(Ko.attributes,tc=>{const eg=il(A);Xs(tc).each(({preset:tg,name:ng})=>{tg?ng==="global"&&pe(eg,wa):wa(ng)})}),n[Mn]=Ca}if($e(Ko.padEmpty)){const wa=(sa=n[Mn])!==null&&sa!==void 0?sa:{};wa.paddEmpty=Ko.padEmpty,n[Mn]=wa}if(ne(Ko.children)){const wa={},Ca=eg=>{wa[eg]={}},tc=eg=>{_b(A,eg).each(tg=>{pe(tg,Ca)})};pe(Ko.children,eg=>{Xs(eg).each(({preset:tg,name:ng})=>{tg?tc(ng):Ca(ng)})}),r[Mn]=wa}Gi&&Wo(r,(wa,Ca)=>{wa[Gi]&&(r[Ca]=wa=jy({},r[Ca]),wa[Mn]=wa[Gi])})},yo=Mn=>{pe(Fo(Mn??""),({name:Ko,cloneName:Fr})=>{Nn(Ko,{extends:Fr})})},Oo=Mn=>{te(Mn)?Wo(Mn,(Ko,Fr)=>Nn(Fr,Ko)):Te(Mn)&&yo(Mn)},ps=Mn=>{pe(_1(Mn??""),({operation:Ko,name:Fr,validChildren:sa})=>{const Ba=Ko==="replace"?{"#comment":{}}:r[Fr],Gi=Ca=>{Ko==="remove"?delete Ba[Ca]:Ba[Ca]={}},wa=Ca=>{_b(A,Ca).each(tc=>{pe(tc,Gi)})};pe(sa,({preset:Ca,name:tc})=>{Ca?wa(tc):Gi(tc)}),r[Fr]=Ba})},Ds=Mn=>{const Ko=n[Mn];if(Ko)return Ko;let Fr=l.length;for(;Fr--;){const sa=l[Fr];if(sa.pattern.test(Mn))return sa}},Yr=()=>{e.valid_elements?(bn(e.valid_elements),Xc(z,(Mn,Ko)=>{r[Ko]=Mn.children})):(Xc(z,(Mn,Ko)=>{n[Ko]={attributes:Mn.attributes,attributesOrder:Mn.attributesOrder},r[Ko]=Mn.children}),Xc(Ya("strong/b em/i"),Mn=>{const Ko=Ya(Mn,"/");n[Ko[1]].outputName=Ko[0]}),Xc(dn,(Mn,Ko)=>{n[Ko]&&(e.padd_empty_block_inline_children&&(n[Ko].paddInEmptyBlock=!0),n[Ko].removeEmpty=!0)}),Xc(Ya("ol ul blockquote a table tbody"),Mn=>{n[Mn]&&(n[Mn].removeEmpty=!0)}),Xc(Ya("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Mn=>{n[Mn]&&(n[Mn].paddEmpty=!0)}),Xc(Ya("span"),Mn=>{n[Mn].removeEmptyAttrs=!0})),delete n.svg,Oo(e.custom_elements),ps(e.valid_children),Dt(e.extended_valid_elements),ps("+ol[ul|ol],+ul[ul|ol]"),Xc({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Mn,Ko)=>{n[Ko]&&(n[Ko].parentsRequired=Ya(Mn))}),e.invalid_elements&&Xc(S1(e.invalid_elements),Mn=>{n[Mn]&&delete n[Mn]}),Ds("span")||Dt("span[!data-mce-type|*]")},hl=Qe(j),Ps=Qe(G),Jt=Qe(X),Tn=Qe(ke),ts=Qe(jt),nn=Qe(Nt),Hn=Qe(dn),ko=Qe(Object.seal(me)),ln=Qe(we),xo=Qe(qe),Ro=Qe(We),gi=Qe(de),Es=Qe(wt),oi=Qe(dt),Mf=Qe(Object.seal(g)),vh=(Mn,Ko)=>{const Fr=r[Mn.toLowerCase()];return!!(Fr&&Fr[Ko.toLowerCase()])},ec=(Mn,Ko)=>{const Fr=Ds(Mn);if(Fr)if(Ko){if(Fr.attributes[Ko])return!0;const sa=Fr.attributePatterns;if(sa){let Ba=sa.length;for(;Ba--;)if(sa[Ba].pattern.test(Ko))return!0}}else return!0;return!1},Xu=Mn=>Yn(ts(),Mn),Pf=Mn=>!Gs(Mn,"#")&&ec(Mn)&&!Xu(Mn),Ju=Mn=>Yn(oi(),Mn)||Pf(Mn),Lf=Qe(f);return Yr(),{type:A,children:r,elements:n,getValidStyles:hl,getValidClasses:Jt,getBlockElements:ts,getInvalidStyles:Ps,getVoidElements:ko,getTextBlockElements:nn,getTextInlineElements:Hn,getBoolAttrs:Tn,getElementRule:Ds,getSelfClosingElements:ln,getNonEmptyElements:xo,getMoveCaretBeforeOnEnterElements:Ro,getWhitespaceElements:gi,getTransparentElements:Es,getSpecialElements:Mf,isValidChild:vh,isValid:ec,isBlock:Xu,isInline:Pf,isWrapper:Ju,getCustomElements:Lf,addValidElements:Dt,setValidElements:bn,addCustomElements:Oo,addValidChildren:ps}},Sk=e=>({value:E1(e)}),E1=e=>Fc(e,"#").toUpperCase(),Ky=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},A1=e=>{const t=Ky(e.red)+Ky(e.green)+Ky(e.blue);return Sk(t)},qy=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Gy=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,T1=(e,t,n,r)=>({red:e,green:t,blue:n,alpha:r}),Yy=(e,t,n,r)=>{const l=parseInt(e,10),f=parseInt(t,10),g=parseInt(n,10),C=parseFloat(r);return T1(l,f,g,C)},Xy=e=>qy.test(e)?"rgb":Gy.test(e)?"rgba":"other",Jw=e=>{const t=qy.exec(e);if(t!==null)return J.some(Yy(t[1],t[2],t[3],"1"));const n=Gy.exec(e);return n!==null?J.some(Yy(n[1],n[2],n[3],n[4])):J.none()},kk=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,Sb=e=>Jw(e).map(A1).map(t=>"#"+t.value).getOr(e),Jy=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,l=/\s+$/,f={};let g,C;const A=pr;t&&(g=t.getValidStyles(),C=t.getInvalidStyles());const z=(`\\" \\' \\; \\: ; : `+A).split(" ");for(let G=0;G<z.length;G++)f[z[G]]=A+G,f[A+G]=z[G];const j={parse:G=>{const X={};let de=!1;const we=e.url_converter,me=e.url_converter_scope||j,ke=(wt,dt,Dt)=>{const bn=X[wt+"-top"+dt];if(!bn)return;const Nn=X[wt+"-right"+dt];if(!Nn)return;const yo=X[wt+"-bottom"+dt];if(!yo)return;const Oo=X[wt+"-left"+dt];if(!Oo)return;const ps=[bn,Nn,yo,Oo];let Ds=ps.length-1;for(;Ds--&&ps[Ds]===ps[Ds+1];);Ds>-1&&Dt||(X[wt+dt]=Ds===-1?ps[0]:ps.join(" "),delete X[wt+"-top"+dt],delete X[wt+"-right"+dt],delete X[wt+"-bottom"+dt],delete X[wt+"-left"+dt])},Fe=wt=>{const dt=X[wt];if(!dt)return;const Dt=dt.indexOf(",")>-1?[dt]:dt.split(" ");let bn=Dt.length;for(;bn--;)if(Dt[bn]!==Dt[0])return!1;return X[wt]=Dt[0],!0},qe=(wt,dt,Dt,bn)=>{Fe(dt)&&Fe(Dt)&&Fe(bn)&&(X[wt]=X[dt]+" "+X[Dt]+" "+X[bn],delete X[dt],delete X[Dt],delete X[bn])},We=wt=>(de=!0,f[wt]),at=(wt,dt)=>(de&&(wt=wt.replace(/\uFEFF[0-9]/g,Dt=>f[Dt])),dt||(wt=wt.replace(/\\([\'\";:])/g,"$1")),wt),Nt=wt=>String.fromCharCode(parseInt(wt.slice(1),16)),jt=wt=>wt.replace(/\\[0-9a-f]+/gi,Nt),dn=(wt,dt,Dt,bn,Nn,yo)=>{if(Nn=Nn||yo,Nn)return Nn=at(Nn),"'"+Nn.replace(/\'/g,"\\'")+"'";if(dt=at(dt||Dt||bn||""),!e.allow_script_urls){const Oo=dt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Oo)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Oo))return""}return we&&(dt=we.call(me,dt,"style")),"url('"+dt.replace(/\'/g,"\\'")+"')"};if(G){G=G.replace(/[\u0000-\u001F]/g,""),G=G.replace(/\\[\"\';:\uFEFF]/g,We).replace(/\"[^\"]+\"|\'[^\']+\'/g,dt=>dt.replace(/[;:]/g,We));let wt;for(;wt=r.exec(G);){r.lastIndex=wt.index+wt[0].length;let dt=wt[1].replace(l,"").toLowerCase(),Dt=wt[2].replace(l,"");if(dt&&Dt){if(dt=jt(dt),Dt=jt(Dt),dt.indexOf(A)!==-1||dt.indexOf('"')!==-1||!e.allow_script_urls&&(dt==="behavior"||/expression\s*\(|\/\*|\*\//.test(Dt)))continue;dt==="font-weight"&&Dt==="700"?Dt="bold":(dt==="color"||dt==="background-color")&&(Dt=Dt.toLowerCase()),Xy(Dt)==="rgb"&&Jw(Dt).each(bn=>{Dt=Sb(kk(bn)).toLowerCase()}),Dt=Dt.replace(n,dn),X[dt]=de?at(Dt,!0):Dt}}ke("border","",!0),ke("border","-width"),ke("border","-color"),ke("border","-style"),ke("padding",""),ke("margin",""),qe("border","border-width","border-style","border-color"),X.border==="medium none"&&delete X.border,X["border-image"]==="none"&&delete X["border-image"]}return X},serialize:(G,X)=>{let de="";const we=(ke,Fe)=>{const qe=Fe[ke];if(qe)for(let We=0,at=qe.length;We<at;We++){const Nt=qe[We],jt=G[Nt];jt&&(de+=(de.length>0?" ":"")+Nt+": "+jt+";")}},me=(ke,Fe)=>{if(!C||!Fe)return!0;let qe=C["*"];return qe&&qe[ke]?!1:(qe=C[Fe],!(qe&&qe[ke]))};return X&&g?(we("*",g),we(X,g)):Wo(G,(ke,Fe)=>{ke&&me(Fe,X)&&(de+=(de.length>0?" ":"")+Fe+": "+ke+";")}),de}};return j},Mg={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Ek=e=>e instanceof Event||Ne(e.initEvent),Ak=e=>e.isDefaultPrevented===Rn||e.isDefaultPrevented===xn,uf=e=>nt(e.preventDefault)||Ek(e),vm=(e,t)=>{const n=t??{};for(const r in e)Yn(Mg,r)||(n[r]=e[r]);return Ce(e.composedPath)&&(n.composedPath=()=>e.composedPath()),Ce(e.getModifierState)&&(n.getModifierState=r=>e.getModifierState(r)),Ce(e.getTargetRanges)&&(n.getTargetRanges=()=>e.getTargetRanges()),n},O1=(e,t,n,r)=>{var l;const f=vm(t,r);return f.type=e,nt(f.target)&&(f.target=(l=f.srcElement)!==null&&l!==void 0?l:n),uf(t)&&(f.preventDefault=()=>{f.defaultPrevented=!0,f.isDefaultPrevented=Rn,Ne(t.preventDefault)&&t.preventDefault()},f.stopPropagation=()=>{f.cancelBubble=!0,f.isPropagationStopped=Rn,Ne(t.stopPropagation)&&t.stopPropagation()},f.stopImmediatePropagation=()=>{f.isImmediatePropagationStopped=Rn,f.stopPropagation()},Ak(f)||(f.isDefaultPrevented=f.defaultPrevented===!0?Rn:xn,f.isPropagationStopped=f.cancelBubble===!0?Rn:xn,f.isImmediatePropagationStopped=xn)),f},Qw="mce-data-",Qy=/^(?:mouse|contextmenu)|click/,kb=(e,t,n,r)=>{e.addEventListener(t,n,r||!1)},bd=(e,t,n,r)=>{e.removeEventListener(t,n,r||!1)},D1=e=>Ce(e)&&Qy.test(e.type),na=(e,t)=>{const n=O1(e.type,e,document,t);if(D1(e)&&Ze(e.pageX)&&!Ze(e.clientX)){const r=n.target.ownerDocument||document,l=r.documentElement,f=r.body,g=n;g.pageX=e.clientX+(l&&l.scrollLeft||f&&f.scrollLeft||0)-(l&&l.clientLeft||f&&f.clientLeft||0),g.pageY=e.clientY+(l&&l.scrollTop||f&&f.scrollTop||0)-(l&&l.clientTop||f&&f.clientTop||0)}return n},_r=(e,t,n)=>{const r=e.document,l={type:"ready"};if(n.domLoaded){t(l);return}const f=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,g=()=>{bd(e,"DOMContentLoaded",g),bd(e,"load",g),n.domLoaded||(n.domLoaded=!0,t(l)),e=null};f()?g():kb(e,"DOMContentLoaded",g),n.domLoaded||kb(e,"load",g)};class df{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Qw+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,n,r,l){const f=this;let g;const C=window,A=X=>{f.executeHandlers(na(X||C.event),z)};if(!t||Mt(t)||go(t))return r;let z;t[f.expando]?z=t[f.expando]:(z=f.count++,t[f.expando]=z,f.events[z]={}),l=l||t;const j=n.split(" ");let G=j.length;for(;G--;){let X=j[G],de=A,we=!1,me=!1;if(X==="DOMContentLoaded"&&(X="ready"),f.domLoaded&&X==="ready"&&t.readyState==="complete"){r.call(l,na({type:X}));continue}!f.hasFocusIn&&(X==="focusin"||X==="focusout")&&(we=!0,me=X==="focusin"?"focus":"blur",de=ke=>{const Fe=na(ke||C.event);Fe.type=Fe.type==="focus"?"focusin":"focusout",f.executeHandlers(Fe,z)}),g=f.events[z][X],g?X==="ready"&&f.domLoaded?r(na({type:X})):g.push({func:r,scope:l}):(f.events[z][X]=g=[{func:r,scope:l}],g.fakeName=me,g.capture=we,g.nativeHandler=de,X==="ready"?_r(t,de,f):kb(t,me||X,de,we))}return t=g=null,r}unbind(t,n,r){if(!t||Mt(t)||go(t))return this;const l=t[this.expando];if(l){let f=this.events[l];if(n){const g=n.split(" ");let C=g.length;for(;C--;){const A=g[C],z=f[A];if(z){if(r){let j=z.length;for(;j--;)if(z[j].func===r){const G=z.nativeHandler,X=z.fakeName,de=z.capture,we=z.slice(0,j).concat(z.slice(j+1));we.nativeHandler=G,we.fakeName=X,we.capture=de,f[A]=we}}(!r||z.length===0)&&(delete f[A],bd(t,z.fakeName||A,z.nativeHandler,z.capture))}}}else Wo(f,(g,C)=>{bd(t,g.fakeName||C,g.nativeHandler,g.capture)}),f={};for(const g in f)if(Yn(f,g))return this;delete this.events[l];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,n,r){return this.dispatch(t,n,r)}dispatch(t,n,r){if(!t||Mt(t)||go(t))return this;const l=na({type:n,target:t},r);do{const f=t[this.expando];f&&this.executeHandlers(l,f),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!l.isPropagationStopped());return this}clean(t){if(!t||Mt(t)||go(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const n=t.getElementsByTagName("*");let r=n.length;for(;r--;)t=n[r],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,n){const r=this.events[n],l=r&&r[t.type];if(l)for(let f=0,g=l.length;f<g;f++){const C=l[f];if(C&&C.func.call(C.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}df.Event=new df;const ex=Kt.each,R1=Kt.grep,Da="data-mce-style",Ui=Kt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Pg=(e,t,n)=>{nt(n)||n===""?bo(e,t):ra(e,t,n)},ff=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),ym=(e,t)=>{let n=0;if(e)for(let r=e.nodeType,l=e.previousSibling;l;l=l.previousSibling){const f=l.nodeType;t&&Mt(l)&&(f===r||!l.data.length)||(n++,r=f)}return n},N1=(e,t)=>{const n=li(t,"style"),r=e.serialize(e.parse(n),Po(t));Pg(t,Da,r)},eC=(e,t)=>D(e)?Yn(Ui,t)?e+"":e+"px":e,tx=(e,t,n)=>{const r=ff(t);nt(n)||n===""?jc(e,r):Vi(e,r,eC(n,r))},xm=(e,t,n)=>{const r=t.keep_values,l={set:(g,C,A)=>{const z=Be.fromDom(g);Ne(t.url_converter)&&Ce(C)&&(C=t.url_converter.call(t.url_converter_scope||n(),String(C),A,g));const j="data-mce-"+A;Pg(z,j,C),Pg(z,A,C)},get:(g,C)=>{const A=Be.fromDom(g);return li(A,"data-mce-"+C)||li(A,C)}},f={style:{set:(g,C)=>{const A=Be.fromDom(g);r&&Pg(A,Da,C),bo(A,"style"),Te(C)&&Bo(A,e.parse(C))},get:g=>{const C=Be.fromDom(g),A=li(C,Da)||li(C,"style");return e.serialize(e.parse(A),Po(C))}}};return r&&(f.href=f.src=l),f},Bs=(e,t={})=>{const n={},r=window,l={};let f=0;const g=!0,C=!0,A=x1.forElement(Be.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),z=[],j=t.schema?t.schema:xc({}),G=Jy({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),X=t.ownEvents?new df:df.Event,de=j.getBlockElements(),we=ut=>Te(ut)?Yn(de,ut):yn(ut)&&(Yn(de,ut.nodeName)||lf(j,ut)),me=ut=>ut&&e&&Te(ut)?e.getElementById(ut):ut,ke=ut=>{const ft=me(ut);return Ce(ft)?Be.fromDom(ft):null},Fe=(ut,ft,Yt="")=>{let Wt;const Wn=ke(ut);if(Ce(Wn)&&Or(Wn)){const Ho=HT[ft];Ho&&Ho.get?Wt=Ho.get(Wn.dom,ft):Wt=li(Wn,ft)}return Ce(Wt)?Wt:Yt},qe=ut=>{const ft=me(ut);return nt(ft)?[]:ft.attributes},We=(ut,ft,Yt)=>{Tn(ut,Wt=>{if(yn(Wt)){const Wn=Be.fromDom(Wt),Ho=Yt===""?null:Yt,zr=li(Wn,ft),og=HT[ft];og&&og.set?og.set(Wn.dom,Ho,ft):Pg(Wn,ft,Ho),zr!==Ho&&t.onSetAttrib&&t.onSetAttrib({attrElm:Wn.dom,attrName:ft,attrValue:Ho})}})},at=(ut,ft)=>ut.cloneNode(ft),Nt=()=>t.root_element||e.body,jt=ut=>{const ft=mc(ut);return{x:ft.x,y:ft.y,w:ft.width,h:ft.height}},dn=(ut,ft)=>Ly(e.body,me(ut),ft),wt=(ut,ft,Yt)=>{Tn(ut,Wt=>{const Wn=Be.fromDom(Wt);tx(Wn,ft,Yt),t.update_styles&&N1(G,Wn)})},dt=(ut,ft)=>{Tn(ut,Yt=>{const Wt=Be.fromDom(Yt);Wo(ft,(Wn,Ho)=>{tx(Wt,Ho,Wn)}),t.update_styles&&N1(G,Wt)})},Dt=(ut,ft,Yt)=>{const Wt=me(ut);if(!(nt(Wt)||!qc(Wt)&&!db(Wt)))return Yt?Dr(Be.fromDom(Wt),ff(ft)):(ft=ft.replace(/-(\D)/g,(Wn,Ho)=>Ho.toUpperCase()),ft==="float"&&(ft="cssFloat"),Wt.style?Wt.style[ft]:void 0)},bn=ut=>{const ft=me(ut);if(!ft)return{w:0,h:0};let Yt=Dt(ft,"width"),Wt=Dt(ft,"height");return(!Yt||Yt.indexOf("px")===-1)&&(Yt="0"),(!Wt||Wt.indexOf("px")===-1)&&(Wt="0"),{w:parseInt(Yt,10)||ft.offsetWidth||ft.clientWidth,h:parseInt(Wt,10)||ft.offsetHeight||ft.clientHeight}},Nn=ut=>{const ft=me(ut),Yt=dn(ft),Wt=bn(ft);return{x:Yt.x,y:Yt.y,w:Wt.w,h:Wt.h}},yo=(ut,ft)=>{if(!ut)return!1;const Yt=ne(ut)?ut:[ut];return xe(Yt,Wt=>ws(Be.fromDom(Wt),ft))},Oo=(ut,ft,Yt,Wt)=>{const Wn=[];let Ho=me(ut);Wt=Wt===void 0;const zr=Yt||(Nt().nodeName!=="BODY"?Nt().parentNode:null);if(Te(ft))if(ft==="*")ft=yn;else{const og=ft;ft=f8=>yo(f8,og)}for(;Ho&&!(Ho===zr||nt(Ho.nodeType)||Sn(Ho)||rf(Ho));){if(!ft||ft(Ho))if(Wt)Wn.push(Ho);else return[Ho];Ho=Ho.parentNode}return Wt?Wn:null},ps=(ut,ft,Yt)=>{const Wt=Oo(ut,ft,Yt,!1);return Wt&&Wt.length>0?Wt[0]:null},Ds=(ut,ft,Yt)=>{let Wt=ft;if(ut){Te(ft)&&(Wt=Wn=>yo(Wn,ft));for(let Wn=ut[Yt];Wn;Wn=Wn[Yt])if(Ne(Wt)&&Wt(Wn))return Wn}return null},Yr=(ut,ft)=>Ds(ut,ft,"nextSibling"),hl=(ut,ft)=>Ds(ut,ft,"previousSibling"),Ps=ut=>Ne(ut.querySelectorAll),Jt=(ut,ft)=>{var Yt,Wt;const Wn=(Wt=(Yt=me(ft))!==null&&Yt!==void 0?Yt:t.root_element)!==null&&Wt!==void 0?Wt:e;return Ps(Wn)?io(Wn.querySelectorAll(ut)):[]},Tn=function(ut,ft,Yt){const Wt=Yt??this;if(ne(ut)){const Wn=[];return ex(ut,(Ho,zr)=>{const og=me(Ho);og&&Wn.push(ft.call(Wt,og,zr))}),Wn}else{const Wn=me(ut);return Wn?ft.call(Wt,Wn):!1}},ts=(ut,ft)=>{Tn(ut,Yt=>{Wo(ft,(Wt,Wn)=>{We(Yt,Wn,Wt)})})},nn=(ut,ft)=>{Tn(ut,Yt=>{const Wt=Be.fromDom(Yt);cm(Wt,ft)})},Hn=(ut,ft,Yt,Wt,Wn)=>Tn(ut,Ho=>{const zr=Te(ft)?e.createElement(ft):ft;return Ce(Yt)&&ts(zr,Yt),Wt&&(!Te(Wt)&&Wt.nodeType?zr.appendChild(Wt):Te(Wt)&&nn(zr,Wt)),Wn?zr:Ho.appendChild(zr)}),ko=(ut,ft,Yt)=>Hn(e.createElement(ut),ut,ft,Yt,!0),ln=Rg.decode,xo=Rg.encodeAllRaw,Ro=(ut,ft,Yt="")=>{let Wt="<"+ut;for(const Wn in ft)Ol(ft,Wn)&&(Wt+=" "+Wn+'="'+xo(ft[Wn])+'"');return Lt(Yt)&&Yn(j.getVoidElements(),ut)?Wt+" />":Wt+">"+Yt+"</"+ut+">"},gi=ut=>{const ft=e.createElement("div"),Yt=e.createDocumentFragment();Yt.appendChild(ft),ut&&(ft.innerHTML=ut);let Wt;for(;Wt=ft.firstChild;)Yt.appendChild(Wt);return Yt.removeChild(ft),Yt},Es=(ut,ft)=>Tn(ut,Yt=>{const Wt=Be.fromDom(Yt);return ft&&pe(Ka(Wt),Wn=>{Ys(Wn)&&Wn.dom.length===0?hs(Wn):hr(Wt,Wn)}),hs(Wt),Wt.dom}),oi=ut=>Tn(ut,ft=>{const Yt=ft.attributes;for(let Wt=Yt.length-1;Wt>=0;Wt--)ft.removeAttributeNode(Yt.item(Wt))}),Mf=ut=>G.parse(ut),vh=(ut,ft)=>G.serialize(ut,ft),ec=ut=>{if(Np!==Bs.DOM&&e===document){if(n[ut])return;n[ut]=!0}let ft=e.getElementById("mceDefaultStyles");if(!ft){ft=e.createElement("style"),ft.id="mceDefaultStyles",ft.type="text/css";const Yt=e.head;Yt.firstChild?Yt.insertBefore(ft,Yt.firstChild):Yt.appendChild(ft)}ft.styleSheet?ft.styleSheet.cssText+=ut:ft.appendChild(e.createTextNode(ut))},Xu=ut=>{ut||(ut=""),pe(ut.split(","),ft=>{l[ft]=!0,A.load(ft).catch(Pt)})},Pf=(ut,ft,Yt)=>{Tn(ut,Wt=>{if(yn(Wt)){const Wn=Be.fromDom(Wt),Ho=ft.split(" ");pe(Ho,zr=>{Ce(Yt)?(Yt?ld:Ci)(Wn,zr):Ah(Wn,zr)})}})},Ju=(ut,ft)=>{Pf(ut,ft,!0)},Lf=(ut,ft)=>{Pf(ut,ft,!1)},Mn=(ut,ft)=>{const Yt=ke(ut),Wt=ft.split(" ");return Ce(Yt)&&vo(Wt,Wn=>cd(Yt,Wn))},Ko=ut=>{Tn(ut,ft=>jc(Be.fromDom(ft),"display"))},Fr=ut=>{Tn(ut,ft=>Vi(Be.fromDom(ft),"display","none"))},sa=ut=>{const ft=ke(ut);return Ce(ft)&&Wd(Cr(ft,"display"),"none")},Ba=ut=>(ut||"mce_")+f++,Gi=ut=>{const ft=ke(ut);return Ce(ft)?yn(ft.dom)?ft.dom.outerHTML:Sg(ft):""},wa=(ut,ft)=>{Tn(ut,Yt=>{yn(Yt)&&(Yt.outerHTML=ft)})},Ca=(ut,ft)=>{const Yt=me(ft);return Tn(ut,Wt=>{const Wn=Yt==null?void 0:Yt.parentNode,Ho=Yt==null?void 0:Yt.nextSibling;return Wn&&(Ho?Wn.insertBefore(Wt,Ho):Wn.appendChild(Wt)),Wt})},tc=(ut,ft,Yt)=>Tn(ft,Wt=>{var Wn;const Ho=ne(ft)?ut.cloneNode(!0):ut;return Yt&&ex(R1(Wt.childNodes),zr=>{Ho.appendChild(zr)}),(Wn=Wt.parentNode)===null||Wn===void 0||Wn.replaceChild(Ho,Wt),Wt}),eg=(ut,ft)=>{if(ut.nodeName!==ft.toUpperCase()){const Yt=ko(ft);return ex(qe(ut),Wt=>{We(Yt,Wt.nodeName,Fe(ut,Wt.nodeName))}),tc(Yt,ut,!0),Yt}else return ut},tg=(ut,ft)=>{let Yt=ut;for(;Yt;){let Wt=ft;for(;Wt&&Yt!==Wt;)Wt=Wt.parentNode;if(Yt===Wt)break;Yt=Yt.parentNode}return!Yt&&ut.ownerDocument?ut.ownerDocument.documentElement:Yt},ng=(ut,ft,Yt)=>Ae(ft)?Wl(j,ut,{...Yt,isContent:Wn=>{const Ho=Wn.nodeName.toLowerCase();return!!ft[Ho]}}):Wl(j,ut,Yt),Ff=()=>e.createRange(),Xv=(ut,ft,Yt)=>{let Wt=Ff(),Wn,Ho;if(ut&&ft&&ut.parentNode&&ft.parentNode){const zr=ut.parentNode;return Wt.setStart(zr,ym(ut)),Wt.setEnd(ft.parentNode,ym(ft)),Wn=Wt.extractContents(),Wt=Ff(),Wt.setStart(ft.parentNode,ym(ft)+1),Wt.setEnd(zr,ym(ut)+1),Ho=Wt.extractContents(),zr.insertBefore(Fh(Np,Wn,j),ut),Yt?zr.insertBefore(Yt,ut):zr.insertBefore(ft,ut),zr.insertBefore(Fh(Np,Ho,j),ut),Es(ut),Yt||ft}else return},jS=(ut,ft,Yt,Wt)=>{if(ne(ut)){let Wn=ut.length;const Ho=[];for(;Wn--;)Ho[Wn]=jS(ut[Wn],ft,Yt,Wt);return Ho}else return t.collect&&(ut===e||ut===r)&&z.push([ut,ft,Yt,Wt]),X.bind(ut,ft,Yt,Wt||Np)},KS=(ut,ft,Yt)=>{if(ne(ut)){let Wt=ut.length;const Wn=[];for(;Wt--;)Wn[Wt]=KS(ut[Wt],ft,Yt);return Wn}else{if(z.length>0&&(ut===e||ut===r)){let Wt=z.length;for(;Wt--;){const[Wn,Ho,zr]=z[Wt];ut===Wn&&(!ft||ft===Ho)&&(!Yt||Yt===zr)&&X.unbind(Wn,Ho,zr)}}return X.unbind(ut,ft,Yt)}},Y9=(ut,ft,Yt)=>X.dispatch(ut,ft,Yt),$0=(ut,ft,Yt)=>X.dispatch(ut,ft,Yt),d8=ut=>{if(ut&&qc(ut)){const ft=ut.getAttribute("data-mce-contenteditable");return ft&&ft!=="inherit"?ft:ut.contentEditable!=="inherit"?ut.contentEditable:null}else return null},Np={doc:e,settings:t,win:r,files:l,stdMode:g,boxModel:C,styleSheetLoader:A,boundEvents:z,styles:G,schema:j,events:X,isBlock:we,root:null,clone:at,getRoot:Nt,getViewPort:jt,getRect:Nn,getSize:bn,getParent:ps,getParents:Oo,get:me,getNext:Yr,getPrev:hl,select:Jt,is:yo,add:Hn,create:ko,createHTML:Ro,createFragment:gi,remove:Es,setStyle:wt,getStyle:Dt,setStyles:dt,removeAllAttribs:oi,setAttrib:We,setAttribs:ts,getAttrib:Fe,getPos:dn,parseStyle:Mf,serializeStyle:vh,addStyle:ec,loadCSS:Xu,addClass:Ju,removeClass:Lf,hasClass:Mn,toggleClass:Pf,show:Ko,hide:Fr,isHidden:sa,uniqueId:Ba,setHTML:nn,getOuterHTML:Gi,setOuterHTML:wa,decode:ln,encode:xo,insertAfter:Ca,replace:tc,rename:eg,findCommonAncestor:tg,run:Tn,getAttribs:qe,isEmpty:ng,createRng:Ff,nodeIndex:ym,split:Xv,bind:jS,unbind:KS,fire:$0,dispatch:Y9,getContentEditable:d8,getContentEditableParent:ut=>{const ft=Nt();let Yt=null;for(let Wt=ut;Wt&&Wt!==ft&&(Yt=d8(Wt),Yt===null);Wt=Wt.parentNode);return Yt},isEditable:ut=>{if(Ce(ut)){const ft=yn(ut)?ut:ut.parentElement;return Ce(ft)&&qc(ft)&&lr(Be.fromDom(ft))}else return!1},destroy:()=>{if(z.length>0){let ut=z.length;for(;ut--;){const[ft,Yt,Wt]=z[ut];X.unbind(ft,Yt,Wt)}}Wo(l,(ut,ft)=>{A.unload(ft),delete l[ft]})},isChildOf:(ut,ft)=>ut===ft||ft.contains(ut),dumpRng:ut=>"startContainer: "+ut.startContainer.nodeName+", startOffset: "+ut.startOffset+", endContainer: "+ut.endContainer.nodeName+", endOffset: "+ut.endOffset},HT=xm(G,t,Qe(Np));return Np};Bs.DOM=Bs(document),Bs.nodeIndex=ym;const I1=Bs.DOM,Js=0,Bu=1,Jc=2,Lg=3;class ll{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((n,r)=>{const l=I1;let f;const g=()=>{l.remove(z),f&&(f.onerror=f.onload=f=null)},C=()=>{g(),n()},A=()=>{g(),r("Failed to load script: "+t)},z=l.uniqueId();f=document.createElement("script"),f.id=z,f.type="text/javascript",f.src=Kt._addCacheSuffix(t),this.settings.referrerPolicy&&l.setAttrib(f,"referrerpolicy",this.settings.referrerPolicy),f.onload=C,f.onerror=A,(document.getElementsByTagName("head")[0]||document.body).appendChild(f)})}isDone(t){return this.states[t]===Jc}markDone(t){this.states[t]=Jc}add(t){const n=this;return n.queue.push(t),n.states[t]===void 0&&(n.states[t]=Js),new Promise((l,f)=>{n.scriptLoadedCallbacks[t]||(n.scriptLoadedCallbacks[t]=[]),n.scriptLoadedCallbacks[t].push({resolve:l,reject:f})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const n=this,r=(A,z)=>{gs(n.scriptLoadedCallbacks,z).each(j=>{pe(j,G=>G[A](z))}),delete n.scriptLoadedCallbacks[z]},l=A=>{const z=Ct(A,j=>j.status==="rejected");return z.length>0?Promise.reject(ao(z,({reason:j})=>ne(j)?j:[j])):Promise.resolve()},f=A=>Promise.allSettled(Me(A,z=>n.states[z]===Jc?(r("resolve",z),Promise.resolve()):n.states[z]===Lg?(r("reject",z),Promise.reject(z)):(n.states[z]=Bu,n.loadScript(z).then(()=>{n.states[z]=Jc,r("resolve",z);const j=n.queue;return j.length>0?(n.queue=[],f(j).then(l)):Promise.resolve()},()=>(n.states[z]=Lg,r("reject",z),Promise.reject(z)))))),g=A=>(n.loading=!0,f(A).then(z=>{n.loading=!1;const j=n.queueLoadedCallbacks.shift();return J.from(j).each(ho),l(z)})),C=vu(t);return n.loading?new Promise((A,z)=>{n.queueLoadedCallbacks.push(()=>{g(C).then(A,z)})}):g(C)}}ll.ScriptLoader=new ll;const Xa=(e,t)=>{const n=e.indexOf(t);return n!==-1&&e.indexOf(t,n+1)>n},wm=e=>te(e)&&Yn(e,"raw"),Eb=e=>ne(e)&&e.length>1,Fg={},Ab=ha("en"),zg=()=>gs(Fg,Ab.get()),wc={getData:()=>Tl(Fg,e=>({...e})),setCode:e=>{e&&Ab.set(e)},getCode:()=>Ab.get(),add:(e,t)=>{let n=Fg[e];n||(Fg[e]=n={});const r=Me(Vt(t),l=>l.toLowerCase());Wo(t,(l,f)=>{const g=f.toLowerCase();g!==f&&Xa(r,g)?(Yn(t,g)||(n[g]=l),n[f]=l):n[g]=l})},translate:e=>{const t=zg().getOr({}),n=g=>Ne(g)?Object.prototype.toString.call(g):r(g)?"":""+g,r=g=>g===""||g===null||g===void 0,l=g=>{const C=n(g);return Yn(t,C)?n(t[C]):gs(t,C.toLowerCase()).map(n).getOr(C)},f=g=>g.replace(/{context:\w+}$/,"");if(r(e))return"";if(wm(e))return n(e.raw);if(Eb(e)){const g=e.slice(1),C=l(e[0]).replace(/\{([0-9]+)\}/g,(A,z)=>Yn(g,z)?n(g[z]):A);return f(C)}return f(l(e))},isRtl:()=>zg().bind(e=>gs(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>Yn(Fg,e)},Wi=()=>{const e=[],t={},n={},r=[],l=(me,ke)=>{const Fe=Ct(r,qe=>qe.name===me&&qe.state===ke);pe(Fe,qe=>qe.resolve())},f=me=>Yn(t,me),g=me=>Yn(n,me),C=me=>{if(n[me])return n[me].instance},A=(me,ke)=>{const Fe=wc.getCode(),qe=","+(ke||"")+",";!Fe||ke&&qe.indexOf(","+Fe+",")===-1||ll.ScriptLoader.add(t[me]+"/langs/"+Fe+".js")},z=(me,ke)=>{Wi.languageLoad!==!1&&(f(me)?A(me,ke):we(me,"loaded").then(()=>A(me,ke)))},j=(me,ke)=>(e.push(ke),n[me]={instance:ke},l(me,"added"),ke),G=me=>{delete t[me],delete n[me]},X=(me,ke)=>Te(ke)?Te(me)?{prefix:"",resource:ke,suffix:""}:{prefix:me.prefix,resource:ke,suffix:me.suffix}:ke,de=(me,ke)=>{if(t[me])return Promise.resolve();let Fe=Te(ke)?ke:ke.prefix+ke.resource+ke.suffix;Fe.indexOf("/")!==0&&Fe.indexOf("://")===-1&&(Fe=Wi.baseURL+"/"+Fe),t[me]=Fe.substring(0,Fe.lastIndexOf("/"));const qe=()=>(l(me,"loaded"),Promise.resolve());return n[me]?qe():ll.ScriptLoader.add(Fe).then(qe)},we=(me,ke="added")=>ke==="added"&&g(me)||ke==="loaded"&&f(me)?Promise.resolve():new Promise(Fe=>{r.push({name:me,state:ke,resolve:Fe})});return{items:e,urls:t,lookup:n,get:C,requireLangPack:z,add:j,remove:G,createUrl:X,load:de,waitFor:we}};Wi.languageLoad=!0,Wi.baseURL="",Wi.PluginManager=Wi(),Wi.ThemeManager=Wi(),Wi.ModelManager=Wi();const Hg=(e,t)=>{let n=null;return{cancel:()=>{Ge(n)||(clearTimeout(n),n=null)},throttle:(...f)=>{Ge(n)&&(n=setTimeout(()=>{n=null,e.apply(null,f)},t))}}},$h=(e,t)=>{let n=null;const r=()=>{Ge(n)||(clearTimeout(n),n=null)};return{cancel:r,throttle:(...f)=>{r(),n=setTimeout(()=>{n=null,e.apply(null,f)},t)}}},sC=(e,t,n)=>Zc(e,t,n).isSome(),vr=Qe("mce-annotation"),yr=Qe("data-mce-annotation"),$r=Qe("data-mce-annotation-uid"),Cs=Qe("data-mce-annotation-active"),dr=Qe("data-mce-annotation-classes"),Mr=Qe("data-mce-annotation-attrs"),B1=e=>t=>Lo(t,e),M1=(e,t)=>{const n=e.selection.getRng(),r=Be.fromDom(n.startContainer),l=Be.fromDom(e.getBody()),f=t.fold(()=>"."+vr(),A=>`[${yr()}="${A}"]`),g=Eu(r,n.startOffset).getOr(r);return Ta(g,f,B1(l)).bind(A=>Hc(A,`${$r()}`).bind(z=>Hc(A,`${yr()}`).map(j=>{const G=rx(e,z);return{uid:z,name:j,elements:G}})))},sx=e=>Or(e)&&cd(e,vr()),Tb=(e,t)=>ad(e,"data-mce-bogus")||sC(e,'[data-mce-bogus="all"]',B1(t)),rx=(e,t)=>{const n=Be.fromDom(e.getBody()),r=ta(n,`[${$r()}="${t}"]`);return Ct(r,l=>!Tb(l,n))},Vg=(e,t)=>{const n=Be.fromDom(e.getBody()),r=ta(n,`[${yr()}="${t}"]`),l={};return pe(r,f=>{if(!Tb(f,n)){const g=li(f,$r()),C=gs(l,g).getOr([]);l[g]=C.concat([f])}}),l},P1=(e,t)=>{const n=ha({}),r=()=>({listeners:[],previous:pa()}),l=(G,X)=>{f(G,de=>(X(de),de))},f=(G,X)=>{const de=n.get(),we=gs(de,G).getOrThunk(r),me=X(we);de[G]=me,n.set(de)},g=(G,X,de)=>{l(G,we=>{pe(we.listeners,me=>me(!0,G,{uid:X,nodes:Me(de,ke=>ke.dom)}))})},C=G=>{l(G,X=>{pe(X.listeners,de=>de(!1,G))})},A=(G,X)=>{pe(rx(e,G),de=>{X?ra(de,Cs(),"true"):bo(de,Cs())})},z=$h(()=>{const G=ms(t.getNames());pe(G,X=>{f(X,de=>{const we=de.previous.get();return M1(e,J.some(X)).fold(()=>{we.each(me=>{C(X),de.previous.clear(),A(me,!1)})},({uid:me,name:ke,elements:Fe})=>{Wd(we,me)||(we.each(qe=>A(qe,!1)),g(ke,me,Fe),de.previous.set(me),A(me,!0))}),{previous:de.previous,listeners:de.listeners}})})},30);return e.on("remove",()=>{z.cancel()}),e.on("NodeChange",()=>{z.throttle()}),{addListener:(G,X)=>{f(G,de=>({previous:de.previous,listeners:de.listeners.concat([X])}))}}},L1=(e,t)=>{const n=yr(),r=f=>J.from(f.attr(n)).bind(t.lookup),l=f=>{var g,C;f.attr($r(),null),f.attr(yr(),null),f.attr(Cs(),null);const A=J.from(f.attr(Mr())).map(X=>X.split(",")).getOr([]),z=J.from(f.attr(dr())).map(X=>X.split(",")).getOr([]);pe(A,X=>f.attr(X,null));const j=(C=(g=f.attr("class"))===null||g===void 0?void 0:g.split(" "))!==null&&C!==void 0?C:[],G=Do(j,[vr()].concat(z));f.attr("class",G.length>0?G.join(" "):null),f.attr(dr(),null),f.attr(Mr(),null)};e.serializer.addTempAttr(Cs()),e.serializer.addAttributeFilter(n,f=>{for(const g of f)r(g).each(C=>{C.persistent===!1&&(g.name==="span"?g.unwrap():l(g))})})},ax=()=>{const e={};return{register:(l,f)=>{e[l]={name:l,settings:f}},lookup:l=>gs(e,l).map(f=>f.settings),getNames:()=>Vt(e)}},Ob=(e,t,n)=>Math.min(Math.max(e,t),n),cl=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let ix=0;const Ai=e=>{const n=new Date().getTime(),r=Math.floor(cl()*1e9);return ix++,e+"_"+r+ix+String(n)},Db=(e,t)=>{pe(t,n=>{ld(e,n)})},$g=(e,t)=>{pe(t,n=>{Ci(e,n)})},Qc=(e,t)=>Be.fromDom(e.dom.cloneNode(t)),Pr=e=>Qc(e,!1),_m=e=>Qc(e,!0),lx=(e,t)=>{const n=Be.fromTag(t),r=rl(e);return wi(n,r),n},cx=(e,t)=>{const n=lx(e,t);et(e,n);const r=Ka(e);return Vr(n,r),hs(e),n},Rb=(e,t,n=xn)=>{const r=new qa(e,t),l=f=>{let g;do g=r[f]();while(g&&!Mt(g)&&!n(g));return J.from(g).filter(Mt)};return{current:()=>J.from(r.current()).filter(Mt),next:()=>l("next"),prev:()=>l("prev"),prev2:()=>l("prev2")}},vd=(e,t)=>{const n=t||(g=>e.isBlock(g)||or(g)||to(g)),r=(g,C,A,z)=>{if(Mt(g)){const j=z(g,C,g.data);if(j!==-1)return J.some({container:g,offset:j})}return A().bind(j=>r(j.container,j.offset,A,z))};return{backwards:(g,C,A,z)=>{const j=Rb(g,z??e.getRoot(),n);return r(g,C,()=>j.prev().map(G=>({container:G,offset:G.length})),A).getOrNull()},forwards:(g,C,A,z)=>{const j=Rb(g,z??e.getRoot(),n);return r(g,C,()=>j.next().map(G=>({container:G,offset:0})),A).getOrNull()}}},Nb=((e,t)=>{const n=f=>{if(!e(f))throw new Error("Can only get "+t+" value of a "+t+" node");return r(f).getOr("")},r=f=>e(f)?J.from(f.dom.nodeValue):J.none();return{get:n,getOption:r,set:(f,g)=>{if(!e(f))throw new Error("Can only set raw "+t+" value of a "+t+" node");f.dom.nodeValue=g}}})(Ys,"text"),Sm=e=>Nb.get(e),rC=e=>Nb.getOption(e),Ib=(e,t)=>Nb.set(e,t),Bb=["td","th"],F1=["thead","tbody","tfoot"],Uh=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],z1=["li","dd","dt"],Ti=["ul","ol","dl"],ux=["pre","script","textarea","style"],yd=e=>{let t;return n=>(t=t||Ar(e,Rn),Yn(t,Po(n)))},Mb=e=>Po(e)==="table",Mu=e=>Or(e)&&Po(e)==="br",Pb=yd(Uh),Lb=yd(Ti),km=yd(z1),Ug=yd(F1),Cc=yd(Bb),Fb=yd(ux),Ok=e=>{const t=[];let n=e.dom;for(;n;)t.push(Be.fromDom(n)),n=n.lastChild;return t},jl=e=>{const t=ta(e,"br"),n=Ct(Ok(e).slice(-1),Mu);t.length===n.length&&pe(n,hs)},xd=()=>{const e=Be.fromTag("br");return ra(e,"data-mce-bogus","1"),e},_c=e=>{zs(e),Rr(e,xd())},dx=(e,t)=>{Au(e).each(n=>{aa(n).each(r=>{t.isBlock(Po(e))&&Mu(n)&&t.isBlock(Po(r))&&hs(n)})})},la=pr,Sc=Ru,ul=Dh,Dk=e=>e.insertContent(la,{preserve_zwsp:!0}),mf=yn,wd=Mt,Wh=e=>(wd(e)&&(e=e.parentNode),mf(e)&&e.hasAttribute("data-mce-caret")),Em=e=>wd(e)&&Sc(e.data),Nl=e=>Wh(e)||Em(e),H1=e=>e.firstChild!==e.lastChild||!or(e.firstChild),V1=(e,t)=>{var n;const l=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(la),f=e.parentNode;if(t){const g=e.previousSibling;if(wd(g)){if(Nl(g))return g;if(Cd(g))return g.splitText(g.data.length-1)}f==null||f.insertBefore(l,e)}else{const g=e.nextSibling;if(wd(g)){if(Nl(g))return g;if(Hb(g))return g.splitText(1),g}e.nextSibling?f==null||f.insertBefore(l,e.nextSibling):f==null||f.appendChild(l)}return l},zb=e=>{const t=e.container();return Mt(t)?t.data.charAt(e.offset())===la||e.isAtStart()&&Em(t.previousSibling):!1},$1=e=>{const t=e.container();return Mt(t)?t.data.charAt(e.offset()-1)===la||e.isAtEnd()&&Em(t.nextSibling):!1},aC=(e,t,n)=>{var r;const f=((r=t.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);f.setAttribute("data-mce-caret",n?"before":"after"),f.setAttribute("data-mce-bogus","all"),f.appendChild(xd().dom);const g=t.parentNode;return n?g==null||g.insertBefore(f,t):t.nextSibling?g==null||g.insertBefore(f,t.nextSibling):g==null||g.appendChild(f),f},Hb=e=>wd(e)&&e.data[0]===la,Cd=e=>wd(e)&&e.data[e.data.length-1]===la,Vb=e=>{var t;const n=e.getElementsByTagName("br"),r=n[n.length-1];of(r)&&((t=r.parentNode)===null||t===void 0||t.removeChild(r))},Wg=e=>e&&e.hasAttribute("data-mce-caret")?(Vb(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Zg=e=>Wh(e.startContainer),gf=Math.round,hf=e=>e?{left:gf(e.left),top:gf(e.top),bottom:gf(e.bottom),right:gf(e.right),width:gf(e.width),height:gf(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},$b=(e,t)=>(e=hf(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),pf=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,bf=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,vf=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top?!0:e.top>t.bottom?!1:bf(t.top-e.bottom,e,t)},jg=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:bf(t.bottom-e.top,e,t),U1=(e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom,Zh=e=>It(e,(t,n)=>t.fold(()=>J.some(n),r=>{const l=Math.min(n.left,r.left),f=Math.min(n.top,r.top),g=Math.max(n.right,r.right),C=Math.max(n.bottom,r.bottom);return J.some({top:f,right:g,bottom:C,left:l,width:g-l,height:C-f})}),J.none()),W1=(e,t,n)=>{const r=Math.max(Math.min(t,e.left+e.width),e.left),l=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-r)*(t-r)+(n-l)*(n-l))},fx=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),jh=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},ca=(e,t)=>{if(yn(e)&&e.hasChildNodes()){const n=e.childNodes,r=Ob(t,0,n.length-1);return n[r]}else return e},mx=(e,t)=>{if(!(t<0&&yn(e)&&e.hasChildNodes()))return ca(e,t)},iC=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),gx=e=>Te(e)&&e.charCodeAt(0)>=768&&iC.test(e),hx=(...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1},yf=(...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0},Z1=pc,Ub=to,px=or,Rk=Mt,xf=Ga(["script","style","textarea"]),Wb=Ga(["img","input","textarea","hr","iframe","video","audio","object","embed"]),lC=Ga(["table"]),cC=Nl,eu=e=>cC(e)?!1:Rk(e)?!xf(e.parentNode):Wb(e)||px(e)||lC(e)||j1(e),bx=e=>yn(e)&&e.getAttribute("unselectable")==="true",j1=e=>!bx(e)&&Ub(e),uC=(e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(j1(n))return!1;if(Z1(n))return!0}return!0},Kg=e=>j1(e)?!It(io(e.getElementsByTagName("*")),(t,n)=>t||Z1(n),!1):!1,Kh=e=>Wb(e)||Kg(e),Zb=(e,t)=>eu(e)&&uC(e,t),dC=yn,tu=eu,Am=gc("display","block table"),jb=gc("float","left right"),Kb=yf(dC,tu,bt(jb)),K1=bt(gc("white-space","pre pre-line pre-wrap")),qb=Mt,Qa=or,q1=Bs.nodeIndex,Tm=mx,Om=e=>e?e.createRange():Bs.DOM.createRng(),Gb=e=>Te(e)&&/[\r\n\t ]/.test(e),G1=e=>!!e.setStart&&!!e.setEnd,qg=e=>{const t=e.startContainer,n=e.startOffset;if(Gb(e.toString())&&K1(t.parentNode)&&Mt(t)){const r=t.data;if(Gb(r[n-1])||Gb(r[n+1]))return!0}return!1},wf=e=>{const t=e.ownerDocument,n=Om(t),r=t.createTextNode(ga),l=e.parentNode;l.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1);const f=hf(n.getBoundingClientRect());return l.removeChild(r),f},vx=e=>{const t=e.startContainer,n=e.endContainer,r=e.startOffset,l=e.endOffset;if(t===n&&Mt(n)&&r===0&&l===1){const f=e.cloneRange();return f.setEndAfter(n),Zi(f)}else return null},Y1=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Zi=e=>{var t;let n;const r=e.getClientRects();return r.length>0?n=hf(r[0]):n=hf(e.getBoundingClientRect()),!G1(e)&&Qa(e)&&Y1(n)?wf(e):Y1(n)&&G1(e)&&(t=vx(e))!==null&&t!==void 0?t:n},Cf=(e,t)=>{const n=$b(e,t);return n.width=1,n.right=n.left+1,n},yx=e=>{const t=[],n=g=>{g.height!==0&&(t.length>0&&pf(g,t[t.length-1])||t.push(g))},r=(g,C)=>{const A=Om(g.ownerDocument);if(C<g.data.length){if(gx(g.data[C]))return;if(gx(g.data[C-1])&&(A.setStart(g,C),A.setEnd(g,C+1),!qg(A))){n(Cf(Zi(A),!1));return}}C>0&&(A.setStart(g,C-1),A.setEnd(g,C),qg(A)||n(Cf(Zi(A),!1))),C<g.data.length&&(A.setStart(g,C),A.setEnd(g,C+1),qg(A)||n(Cf(Zi(A),!0)))},l=e.container(),f=e.offset();if(qb(l))return r(l,f),t;if(dC(l))if(e.isAtEnd()){const g=Tm(l,f);qb(g)&&r(g,g.data.length),Kb(g)&&!Qa(g)&&n(Cf(Zi(g),!1))}else{const g=Tm(l,f);if(qb(g)&&r(g,0),Kb(g)&&e.isAtEnd())return n(Cf(Zi(g),!1)),t;const C=Tm(e.container(),e.offset()-1);Kb(C)&&!Qa(C)&&(Am(C)||Am(g)||!Kb(g))&&n(Cf(Zi(C),!1)),Kb(g)&&n(Cf(Zi(g),!0))}return t},mt=(e,t,n)=>{const r=()=>(qb(e),t===0),l=()=>qb(e)?t>=e.data.length:t>=e.childNodes.length,f=()=>{const j=Om(e.ownerDocument);return j.setStart(e,t),j.setEnd(e,t),j},g=()=>(n||(n=yx(mt(e,t))),n),C=()=>g().length>0,A=j=>j&&e===j.container()&&t===j.offset(),z=j=>Tm(e,j?t-1:t);return{container:Qe(e),offset:Qe(t),toRange:f,getClientRects:g,isVisible:C,isAtStart:r,isAtEnd:l,isEqual:A,getNode:z}};mt.fromRangeStart=e=>mt(e.startContainer,e.startOffset),mt.fromRangeEnd=e=>mt(e.endContainer,e.endOffset),mt.after=e=>mt(e.parentNode,q1(e)+1),mt.before=e=>mt(e.parentNode,q1(e)),mt.isAbove=(e,t)=>Ua(un(t.getClientRects()),po(e.getClientRects()),vf).getOr(!1),mt.isBelow=(e,t)=>Ua(po(t.getClientRects()),un(e.getClientRects()),jg).getOr(!1),mt.isAtStart=e=>e?e.isAtStart():!1,mt.isAtEnd=e=>e?e.isAtEnd():!1,mt.isTextPosition=e=>e?Mt(e.container()):!1,mt.isElementPosition=e=>!mt.isTextPosition(e);const qh=(e,t)=>{Mt(t)&&t.data.length===0&&e.remove(t)},Nk=(e,t,n)=>{t.insertNode(n),qh(e,n.previousSibling),qh(e,n.nextSibling)},fC=(e,t,n)=>{const r=J.from(n.firstChild),l=J.from(n.lastChild);t.insertNode(n),r.each(f=>qh(e,f.previousSibling)),l.each(f=>qh(e,f.nextSibling))},X1=(e,t,n)=>{rf(n)?fC(e,t,n):Nk(e,t,n)},nu=Mt,J1=of,Yb=Bs.nodeIndex,xx=e=>{const t=e.parentNode;return J1(t)?xx(t):t},wx=e=>e?tl(e.childNodes,(t,n)=>(J1(n)&&n.nodeName!=="BR"?t=t.concat(wx(n)):t.push(n),t),[]):[],Ik=(e,t)=>{let n=e;for(;(n=n.previousSibling)&&nu(n);)t+=n.data.length;return t},y=e=>t=>e===t,_=e=>{let t,n;t=wx(xx(e)),n=qs(t,y(e),e),t=t.slice(0,n+1);const r=tl(t,(l,f,g)=>(nu(f)&&nu(t[g-1])&&l++,l),0);return t=Mi(t,Ga([e.nodeName])),n=qs(t,y(e),e),n-r},T=e=>(nu(e)?"text()":e.nodeName.toLowerCase())+"["+_(e)+"]",P=(e,t,n)=>{const r=[];for(let l=t.parentNode;l&&l!==e;l=l.parentNode)r.push(l);return r},V=(e,t)=>{let n=[],r=t.container(),l=t.offset(),f;if(nu(r))f=Ik(r,l);else{const C=r.childNodes;l>=C.length?(f="after",l=C.length-1):f="before",r=C[l]}n.push(T(r));let g=P(e,r);return g=Mi(g,bt(of)),n=n.concat(Jf(g,C=>T(C))),n.reverse().join("/")+","+f},U=(e,t,n)=>{let r=wx(e);return r=Mi(r,(l,f)=>!nu(l)||!nu(r[f-1])),r=Mi(r,Ga([t])),r[n]},Q=(e,t)=>{let n=e,r=0;for(;nu(n);){const l=n.data.length;if(t>=r&&t<=r+l){e=n,t=t-r;break}if(!nu(n.nextSibling)){e=n,t=l;break}r+=l,n=n.nextSibling}return nu(e)&&t>e.data.length&&(t=e.data.length),mt(e,t)},se=(e,t)=>{if(!t)return null;const n=t.split(","),r=n[0].split("/"),l=n.length>1?n[1]:"before",f=tl(r,(g,C)=>{const A=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(C);return A?(A[1]==="text()"&&(A[1]="#text"),U(g,A[1],parseInt(A[2],10))):null},e);if(!f)return null;if(!nu(f)&&f.parentNode){let g;return l==="after"?g=Yb(f)+1:g=Yb(f),mt(f.parentNode,g)}return Q(f,parseInt(l,10))},be=to,De=(e,t,n)=>{let r=e(t.data.slice(0,n)).length;for(let l=t.previousSibling;l&&Mt(l);l=l.previousSibling)r+=e(l.data).length;return r},Ve=(e,t,n,r,l)=>{const f=l?r.startContainer:r.endContainer;let g=l?r.startOffset:r.endOffset;const C=[],A=e.getRoot();if(Mt(f))C.push(n?De(t,f,g):g);else{let z=0;const j=f.childNodes;g>=j.length&&j.length&&(z=1,g=Math.max(0,j.length-1)),C.push(e.nodeIndex(j[g],n)+z)}for(let z=f;z&&z!==A;z=z.parentNode)C.push(e.nodeIndex(z,n));return C},Ee=(e,t,n,r)=>{const l=t.dom,f=Ve(l,e,n,r,!0),g=t.isForward(),C=Zg(r)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:f,forward:g,...C};{const A=Ve(l,e,n,r,!1);return{start:f,end:A,forward:g,...C}}},Ie=(e,t,n)=>{let r=0;return Kt.each(e.select(t),l=>{if(l.getAttribute("data-mce-bogus")!=="all"){if(l===n)return!1;r++;return}}),r},Pe=(e,t)=>{let n=t?e.startContainer:e.endContainer,r=t?e.startOffset:e.endOffset;if(yn(n)&&n.nodeName==="TR"){const l=n.childNodes;n=l[Math.min(t?r:r-1,l.length-1)],n&&(r=t?0:n.childNodes.length,t?e.setStart(n,r):e.setEnd(n,r))}},Je=e=>(Pe(e,!0),Pe(e,!1),e),tt=(e,t)=>{if(yn(e)&&(e=ca(e,t),be(e)))return e;if(Nl(e)){Mt(e)&&Wh(e)&&(e=e.parentNode);let n=e.previousSibling;if(be(n)||(n=e.nextSibling,be(n)))return n}},Et=e=>tt(e.startContainer,e.startOffset)||tt(e.endContainer,e.endOffset),Ot=(e,t,n)=>{const r=n.getNode(),l=n.getRng();if(r.nodeName==="IMG"||be(r)){const g=r.nodeName;return{name:g,index:Ie(n.dom,g,r)}}const f=Et(l);if(f){const g=f.tagName;return{name:g,index:Ie(n.dom,g,f)}}return Ee(e,n,t,l)},kt=e=>{const t=e.getRng();return{start:V(e.dom.getRoot(),mt.fromRangeStart(t)),end:V(e.dom.getRoot(),mt.fromRangeEnd(t)),forward:e.isForward()}},Rt=e=>({rng:e.getRng(),forward:e.isForward()}),Ut=(e,t,n)=>{const r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},Gt=(e,t)=>{const n=e.dom;let r=e.getRng();const l=n.uniqueId(),f=e.isCollapsed(),g=e.getNode(),C=g.nodeName,A=e.isForward();if(C==="IMG")return{name:C,index:Ie(n,C,g)};const z=Je(r.cloneRange());if(!f){z.collapse(!1);const G=Ut(n,l+"_end",t);X1(n,z,G)}r=Je(r),r.collapse(!0);const j=Ut(n,l+"_start",t);return X1(n,r,j),e.moveToBookmark({id:l,keep:!0,forward:A}),{id:l,forward:A}},ot=(e,t,n=!1)=>t===2?Ot(ul,n,e):t===3?kt(e):t?Rt(e):Gt(e,!1),gn=pt(Ot,On,!0),Vn=e=>{const t=f=>f(e),n=Qe(e),r=()=>l,l={tag:!0,inner:e,fold:(f,g)=>g(e),isValue:Rn,isError:xn,map:f=>$n.value(f(e)),mapError:r,bind:t,exists:t,forall:t,getOr:n,or:r,getOrThunk:n,orThunk:r,getOrDie:n,each:f=>{f(e)},toOptional:()=>J.some(e)};return l},co=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(r,l)=>r(e),isValue:xn,isError:Rn,map:t,mapError:r=>$n.error(r(e)),bind:t,exists:xn,forall:Rn,getOr:On,or:On,getOrThunk:Us,orThunk:Us,getOrDie:Zt(String(e)),each:Pt,toOptional:J.none};return n},$n={value:Vn,error:co,fromOption:(e,t)=>e.fold(()=>co(t),Vn)},Mo={generate:e=>{if(!ne(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],n={};return pe(e,(r,l)=>{const f=Vt(r);if(f.length!==1)throw new Error("one and only one name per case");const g=f[0],C=r[g];if(n[g]!==void 0)throw new Error("duplicate key detected:"+g);if(g==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ne(C))throw new Error("case arguments must be an array");t.push(g),n[g]=(...A)=>{const z=A.length;if(z!==C.length)throw new Error("Wrong number of arguments to case "+g+". Expected "+C.length+" ("+C+"), got "+z);return{fold:(...G)=>{if(G.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+G.length);return G[l].apply(null,A)},match:G=>{const X=Vt(G);if(t.length!==X.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+X.join(","));if(!vo(t,we=>le(X,we)))throw new Error("Not all branches were specified when using match. Specified: "+X.join(", ")+`
Required: `+t.join(", "));return G[g].apply(null,A)},log:G=>{console.log(G,{constructors:t,constructor:g,params:A})}}}}),n}};Mo.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Ur=e=>{const t=[],n=[];return pe(e,r=>{r.fold(l=>{t.push(l)},l=>{n.push(l)})}),{errors:t,values:n}},di=e=>e.type==="inline-command"||e.type==="inline-format",Ra=e=>e.type==="block-command"||e.type==="block-format",Kl=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,Dm=e=>{var t;const n=l=>$n.error({message:l,pattern:e}),r=(l,f,g)=>{if(e.format!==void 0){let C;if(ne(e.format)){if(!vo(e.format,Te))return n(l+" pattern has non-string items in the `format` array");C=e.format}else if(Te(e.format))C=[e.format];else return n(l+" pattern has non-string `format` parameter");return $n.value(f(C))}else return e.cmd!==void 0?Te(e.cmd)?$n.value(g(e.cmd,e.value)):n(l+" pattern has non-string `cmd` parameter"):n(l+" pattern is missing both `format` and `cmd` parameters")};if(!te(e))return n("Raw pattern is not an object");if(!Te(e.start))return n("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!Te(e.end))return n("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let l=e.start,f=e.end;return f.length===0&&(f=l,l=""),r("Inline",g=>({type:"inline-format",start:l,end:f,format:g}),(g,C)=>({type:"inline-command",start:l,end:f,cmd:g,value:C}))}else{if(e.replacement!==void 0)return Te(e.replacement)?e.start.length===0?n("Replacement pattern has empty `start` parameter"):$n.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter");{const l=(t=e.trigger)!==null&&t!==void 0?t:"space";return e.start.length===0?n("Block pattern has empty `start` parameter"):r("Block",f=>({type:"block-format",start:e.start,format:f[0],trigger:l}),(f,g)=>({type:"block-command",start:e.start,cmd:f,value:g,trigger:l}))}}},fi=e=>Ct(e,Ra),Pu=e=>Ct(e,di),Gh=(e,t)=>({inlinePatterns:Pu(e),blockPatterns:fi(e),dynamicPatternsLookup:t}),_f=(e,t)=>({...e,blockPatterns:Ct(e.blockPatterns,n=>Kl(n,t))}),Yh=e=>{const t=Ur(Me(e,Dm));return pe(t.errors,n=>console.error(n.message,n.pattern)),t.values},Q1=e=>t=>{const n=e(t);return Yh(n)},Sf=Va().deviceType,mC=Sf.isTouch(),VM=Bs.DOM,$M=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return It(t,(n,r)=>{const l=r.split("="),f=l[0],g=l.length>1?l[1]:f;return n[Re(f)]=Re(g),n},{})},yO=e=>Ue(e,RegExp),pn=e=>t=>t.options.get(e),Cx=e=>Te(e)||te(e),Bk=(e,t="")=>n=>{const r=Te(n);if(r)if(n.indexOf("=")!==-1){const l=$M(n);return{value:gs(l,e.id).getOr(t),valid:r}}else return{value:n,valid:r};else return{valid:!1,message:"Must be a string."}},gC=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:Bk(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:Bk(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:n=>{const r=Te(n)&&je(n);return r?{value:n,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:n=>{const r=le(["block","linebreak","invert","default"],n);return r?{value:n,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:n=>$e(n)?{valid:!0,value:n}:Te(n)?{valid:!0,value:n}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:n=>{const r=n===!1||Te(n)||yt(n,Te);return r?Te(n)?{value:Me(n.split(","),Re),valid:r}:ne(n)?{value:n,valid:r}:n===!1?{value:[],valid:r}:{value:n,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Xb(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:n=>{const r=Te(n)||yt(n,Te);return r?{value:ne(n)?n:Me(n.split(","),Re),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:n=>{const r=$e(n)||Te(n);return r?n===!1||Sf.isiPhone()||Sf.isiPad()?{value:"",valid:r}:{value:n===!0?"table,img,figure.image,div,video,iframe":n,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!mC}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("theme",{processor:n=>n===!1||Te(n)||Ne(n),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:n=>{const r=n===!1||Te(n);return r?{value:n===!1?"":n,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:Cx}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:Cx}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:Cx}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:Cx}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:n=>Te(n)||n===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:n=>yt(n,te)||n===!1?{value:Yh(n===!1?[]:n),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:n=>Ne(n)?{value:Q1(n),valid:!0}:{valid:!1,message:"Must be a single function"},default:n=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:n=>yt(n,yO)?{value:n,valid:!0}:yO(n)?{value:[n],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:n=>{const r=le(["inherited","collapsed","expanded"],n);return r?{value:n,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:n=>{const r=le(["inherited","collapsed","expanded"],n);return r?{value:n,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:wc.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:VM.getAttrib(e.getElement(),"placeholder")})})},dl=pn("iframe_attrs"),_d=pn("doctype"),ou=pn("document_base_url"),hC=pn("body_id"),Mk=pn("body_class"),xO=pn("content_security_policy"),Pk=pn("br_in_pre"),ji=pn("forced_root_block"),_x=pn("forced_root_block_attrs"),Lk=pn("newline_behavior"),wO=pn("br_newline_selector"),CO=pn("no_newline_selector"),Fk=pn("keep_styles"),zk=pn("end_container_on_empty_block"),Ms=pn("automatic_uploads"),Gg=pn("images_reuse_filename"),_O=pn("images_replace_blob_uris"),Hk=pn("icons"),SO=pn("icons_url"),Vk=pn("images_upload_url"),kO=pn("images_upload_base_path"),$k=pn("images_upload_credentials"),UM=pn("images_upload_handler"),EO=pn("content_css_cors"),Sx=pn("referrer_policy"),Uk=pn("language"),WM=pn("language_url"),AO=pn("indent_use_margin"),su=pn("indentation"),Sl=pn("content_css"),ev=pn("content_style"),TO=pn("font_css"),ZM=pn("directionality"),Vo=pn("inline_boundaries_selector"),OO=pn("object_resizing"),DO=pn("resize_img_proportional"),Wk=pn("placeholder"),RO=pn("event_root"),jM=pn("service_message"),tv=pn("theme"),KM=pn("theme_url"),kx=pn("model"),Zk=pn("model_url"),nv=pn("inline_boundaries"),qM=pn("formats"),GM=pn("preview_styles"),YM=pn("format_empty_lines"),Kn=pn("format_noneditable_selector"),NO=pn("custom_ui_selector"),Xb=pn("inline"),jk=pn("hidden_input"),IO=pn("submit_patch"),BO=pn("add_form_submit_trigger"),MO=pn("add_unload_trigger"),PO=pn("custom_undo_redo_levels"),XM=pn("disable_nodechange"),LO=pn("readonly"),is=pn("editable_root"),FO=pn("content_css_cors"),Sd=pn("plugins"),Rm=pn("external_plugins"),pC=pn("block_unsupported_drop"),kc=pn("visual"),bC=pn("visual_table_class"),ov=pn("visual_anchor_class"),Ex=pn("iframe_aria_text"),sv=pn("setup"),JM=pn("init_instance_callback"),QM=pn("urlconverter_callback"),eP=pn("auto_focus"),tP=pn("browser_spellcheck"),jo=pn("protect"),kf=pn("paste_block_drop"),Nm=pn("paste_data_images"),nP=pn("paste_preprocess"),Ax=pn("paste_postprocess"),Yo=pn("newdocument_content"),zO=pn("paste_webkit_styles"),Kk=pn("paste_remove_styles_if_webkit"),oP=pn("paste_merge_formats"),Jb=pn("smart_paste"),Qb=pn("paste_as_text"),HO=pn("paste_tab_spaces"),sP=pn("allow_html_data_urls"),rP=pn("text_patterns"),Tx=pn("text_patterns_lookup"),e0=pn("noneditable_class"),aP=pn("editable_class"),VO=pn("noneditable_regexp"),iP=pn("preserve_cdata"),$O=pn("highlight_on_focus"),UO=pn("xss_sanitization"),WO=pn("init_content_sync"),qk=e=>e.options.isSet("text_patterns_lookup"),Gk=e=>Kt.explode(e.options.get("font_size_style_values")),Yk=e=>Kt.explode(e.options.get("font_size_classes")),ZO=e=>e.options.get("encoding")==="xml",Xk=e=>Kt.explode(e.options.get("images_file_types")),jO=pn("table_tab_navigation"),vC=pn("details_initial_state"),KO=pn("details_serialized_state"),Jk=pn("sandbox_iframes"),yC=e=>e.options.get("sandbox_iframes_exclusions"),qO=pn("convert_unsafe_embeds"),GO=pn("license_key"),YO=pn("api_key"),lP=yn,XO=Mt,Ox=e=>{const t=e.parentNode;t&&t.removeChild(e)},Qk=e=>{const t=ul(e);return{count:e.length-t.length,text:t}},eE=e=>{let t;for(;(t=e.data.lastIndexOf(la))!==-1;)e.deleteData(t,1)},tE=(e,t)=>(Xh(e),t),cP=(e,t)=>{const n=Qk(e.data.substr(0,t.offset())),r=Qk(e.data.substr(t.offset()));return(n.text+r.text).length>0?(eE(e),mt(e,t.offset()-n.count)):t},uP=(e,t)=>{const n=t.container(),r=Ke(io(n.childNodes),e).map(l=>l<t.offset()?mt(n,t.offset()-1):t).getOr(t);return Xh(e),r},dP=(e,t)=>XO(e)&&t.container()===e?cP(e,t):tE(e,t),fP=(e,t)=>t.container()===e.parentNode?uP(e,t):tE(e,t),mP=(e,t)=>mt.isTextPosition(t)?dP(e,t):fP(e,t),Xh=e=>{lP(e)&&Nl(e)&&(H1(e)?e.removeAttribute("data-mce-caret"):Ox(e)),XO(e)&&(eE(e),e.data.length===0&&Ox(e))},JO=to,xC=xt,gP=Ih,nE="*[contentEditable=false],video,audio,embed,object",QO=(e,t,n)=>{const r=$b(t.getBoundingClientRect(),n);let l,f;if(e.tagName==="BODY"){const C=e.ownerDocument.documentElement;l=e.scrollLeft||C.scrollLeft,f=e.scrollTop||C.scrollTop}else{const C=e.getBoundingClientRect();l=e.scrollLeft-C.left,f=e.scrollTop-C.top}r.left+=l,r.right+=l,r.top+=f,r.bottom+=f,r.width=1;let g=t.offsetWidth-t.clientWidth;return g>0&&(n&&(g*=-1),r.left+=g,r.right+=g),r},e5=e=>{var t,n;const r=ta(Be.fromDom(e),nE);for(let l=0;l<r.length;l++){const f=r[l].dom;let g=f.previousSibling;if(Cd(g)){const C=g.data;C.length===1?(t=g.parentNode)===null||t===void 0||t.removeChild(g):g.deleteData(C.length-1,1)}g=f.nextSibling,Hb(g)&&(g.data.length===1?(n=g.parentNode)===null||n===void 0||n.removeChild(g):g.deleteData(0,1))}},t5=(e,t,n,r)=>{const l=pa();let f,g;const C=ji(e),A=e.dom,z=(me,ke)=>{let Fe;if(j(),gP(ke))return null;if(n(ke)){const qe=aC(C,ke,me),We=QO(t,ke,me);A.setStyle(qe,"top",We.top),A.setStyle(qe,"caret-color","transparent"),g=qe;const at=A.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});A.setStyles(at,{...We}),A.add(t,at),l.set({caret:at,element:ke,before:me}),me&&A.addClass(at,"mce-visual-caret-before"),G(),Fe=ke.ownerDocument.createRange(),Fe.setStart(qe,0),Fe.setEnd(qe,0)}else return g=V1(ke,me),Fe=ke.ownerDocument.createRange(),Dx(g.nextSibling)?(Fe.setStart(g,0),Fe.setEnd(g,0)):(Fe.setStart(g,1),Fe.setEnd(g,1)),Fe;return Fe},j=()=>{e5(t),g&&(Xh(g),g=null),l.on(me=>{A.remove(me.caret),l.clear()}),f&&(clearInterval(f),f=void 0)},G=()=>{f=setInterval(()=>{l.on(me=>{r()?A.toggleClass(me.caret,"mce-visual-caret-hidden"):A.addClass(me.caret,"mce-visual-caret-hidden")})},500)};return{show:z,hide:j,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{l.on(me=>{const ke=QO(t,me.element,me.before);A.setStyles(me.caret,{...ke})})},destroy:()=>clearInterval(f)}},oE=()=>Co.browser.isFirefox(),Dx=e=>JO(e)||xC(e),Rx=e=>(Dx(e)||Gc(e)&&oE())&&Xd(Be.fromDom(e)).exists(lr),wC=pc,CC=to,n5=xt,sE=gc("display","block table table-cell table-caption list-item"),rE=Nl,o5=Wh,hP=yn,_C=Mt,s5=eu,t0=e=>e>0,n0=e=>e<0,SC=(e,t)=>{let n;for(;n=e(t);)if(!o5(n))return n;return null},Nx=(e,t,n,r,l)=>{const f=new qa(e,r),g=CC(e)||o5(e);let C;if(n0(t)){if(g&&(C=SC(f.prev.bind(f),!0),n(C)))return C;for(;C=SC(f.prev.bind(f),l);)if(n(C))return C}if(t0(t)){if(g&&(C=SC(f.next.bind(f),!0),n(C)))return C;for(;C=SC(f.next.bind(f),l);)if(n(C))return C}return null},pP=(e,t)=>{const n=l=>wC(l.dom),r=l=>l.dom===t;return Hi(Be.fromDom(e),n,r).map(l=>l.dom).getOr(t)},Jh=(e,t)=>{for(;e&&e!==t;){if(sE(e))return e;e=e.parentNode}return null},Im=(e,t,n)=>Jh(e.container(),n)===Jh(t.container(),n),kC=(e,t)=>{if(!t)return J.none();const n=t.container(),r=t.offset();return hP(n)?J.from(n.childNodes[r+e]):J.none()},r5=(e,t)=>{var n;const l=((n=t.ownerDocument)!==null&&n!==void 0?n:document).createRange();return e?(l.setStartBefore(t),l.setEndBefore(t)):(l.setStartAfter(t),l.setEndAfter(t)),l},a5=(e,t,n)=>Jh(t,e)===Jh(n,e),aE=(e,t,n)=>{const r=e?"previousSibling":"nextSibling";let l=n;for(;l&&l!==t;){let f=l[r];if(f&&rE(f)&&(f=f[r]),CC(f)||n5(f)){if(a5(t,f,l))return f;break}if(s5(f))break;l=l.parentNode}return null},Ix=pt(r5,!0),Bx=pt(r5,!1),iE=(e,t,n)=>{let r;const l=pt(aE,!0,t),f=pt(aE,!1,t),g=n.startContainer,C=n.startOffset;if(Wh(g)){const A=_C(g)?g.parentNode:g,z=A.getAttribute("data-mce-caret");if(z==="before"&&(r=A.nextSibling,Rx(r)))return Ix(r);if(z==="after"&&(r=A.previousSibling,Rx(r)))return Bx(r)}if(!n.collapsed)return n;if(Mt(g)){if(rE(g)){if(e===1){if(r=f(g),r)return Ix(r);if(r=l(g),r)return Bx(r)}if(e===-1){if(r=l(g),r)return Bx(r);if(r=f(g),r)return Ix(r)}return n}if(Cd(g)&&C>=g.data.length-1)return e===1&&(r=f(g),r)?Ix(r):n;if(Hb(g)&&C<=1)return e===-1&&(r=l(g),r)?Bx(r):n;if(C===g.data.length)return r=f(g),r?Ix(r):n;if(C===0)return r=l(g),r?Bx(r):n}return n},i5=(e,t)=>kC(e?0:-1,t).filter(CC),Mx=(e,t,n)=>{const r=iE(e,t,n);return e===-1?mt.fromRangeStart(r):mt.fromRangeEnd(r)},EC=e=>J.from(e.getNode()).map(Be.fromDom),bP=e=>J.from(e.getNode(!0)).map(Be.fromDom),lE=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},AC=(e,t)=>{const n=Im(e,t);return!n&&or(e.getNode())?!0:n};var Oi;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Oi||(Oi={}));const vP=to,Bm=Mt,l5=yn,An=or,o0=eu,cE=Kh,TC=Zb,uE=(e,t)=>{const n=[];let r=e;for(;r&&r!==t;)n.push(r),r=r.parentNode;return n},c5=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,Px=(e,t)=>{if(t0(e)){if(o0(t.previousSibling)&&!Bm(t.previousSibling))return mt.before(t);if(Bm(t))return mt(t,0)}if(n0(e)){if(o0(t.nextSibling)&&!Bm(t.nextSibling))return mt.after(t);if(Bm(t))return mt(t,t.data.length)}return n0(e)?An(t)?mt.before(t):mt.after(t):mt.before(t)},u5=(e,t)=>{const n=t.nextSibling;return n&&o0(n)?Bm(n)?mt(n,0):mt.before(n):dE(Oi.Forwards,mt.after(t),e)},dE=(e,t,n)=>{let r,l,f,g;if(!l5(n)||!t)return null;if(t.isEqual(mt.after(n))&&n.lastChild){if(g=mt.after(n.lastChild),n0(e)&&o0(n.lastChild)&&l5(n.lastChild))return An(n.lastChild)?mt.before(n.lastChild):g}else g=t;const C=g.container();let A=g.offset();if(Bm(C)){if(n0(e)&&A>0)return mt(C,--A);if(t0(e)&&A<C.length)return mt(C,++A);r=C}else{if(n0(e)&&A>0&&(l=c5(C,A-1),o0(l)))return!cE(l)&&(f=Nx(l,e,TC,l),f)?Bm(f)?mt(f,f.data.length):mt.after(f):Bm(l)?mt(l,l.data.length):mt.before(l);if(t0(e)&&A<C.childNodes.length&&(l=c5(C,A),o0(l)))return An(l)?u5(n,l):!cE(l)&&(f=Nx(l,e,TC,l),f)?Bm(f)?mt(f,0):mt.before(f):Bm(l)?mt(l,0):mt.after(l);r=l||g.getNode()}if(r&&(t0(e)&&g.isAtEnd()||n0(e)&&g.isAtStart())&&(r=Nx(r,e,Rn,n,!0),TC(r,n)))return Px(e,r);l=r&&Nx(r,e,TC,n);const z=ri(Ct(uE(C,n),vP));return z&&(!l||!z.contains(l))?(t0(e)?g=mt.after(z):g=mt.before(z),g):l?Px(e,l):null},zn=e=>({next:t=>dE(Oi.Forwards,t,e),prev:t=>dE(Oi.Backwards,t,e)}),uo=(e,t,n)=>{const r=e?mt.before(n):mt.after(n);return ru(e,t,r)},d5=e=>or(e)?mt.before(e):mt.after(e),f5=e=>mt.isTextPosition(e)?e.offset()===0:eu(e.getNode()),m5=e=>{if(mt.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return eu(e.getNode(!0))},g5=(e,t)=>!mt.isTextPosition(e)&&!mt.isTextPosition(t)&&e.getNode()===t.getNode(!0),Zn=e=>!mt.isTextPosition(e)&&or(e.getNode()),Lx=(e,t,n)=>e?!g5(t,n)&&!Zn(t)&&m5(t)&&f5(n):!g5(n,t)&&f5(t)&&m5(n),ru=(e,t,n)=>{const r=zn(t);return J.from(e?r.next(n):r.prev(n))},s0=(e,t,n)=>ru(e,t,n).bind(r=>Im(n,r,t)&&Lx(e,n,r)?ru(e,t,r):J.some(r)),h5=(e,t,n,r)=>s0(e,t,n).bind(l=>r(l)?h5(e,t,l,r):J.some(l)),rv=(e,t)=>{const n=e?t.firstChild:t.lastChild;return Mt(n)?J.some(mt(n,e?0:n.data.length)):n?eu(n)?J.some(e?mt.before(n):d5(n)):uo(e,t,n):J.none()},Il=pt(ru,!0),Ec=pt(ru,!1),Un=pt(rv,!0),Lu=pt(rv,!1),av="_mce_caret",au=e=>yn(e)&&e.id===av,Qh=(e,t)=>{let n=t;for(;n&&n!==e;){if(au(n))return n;n=n.parentNode}return null},p5=e=>Te(e.start),b5=e=>Yn(e,"rng"),v5=e=>Yn(e,"id"),fE=e=>Yn(e,"name"),y5=e=>Kt.isArray(e.start),OC=e=>!fE(e)&&$e(e.forward)?e.forward:!0,x5=(e,t)=>(yn(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),yP=(e,t)=>{const n=J.from(se(e.getRoot(),t.start)),r=J.from(se(e.getRoot(),t.end));return Ua(n,r,(l,f)=>{const g=e.createRng();return g.setStart(l.container(),l.offset()),g.setEnd(f.container(),f.offset()),{range:g,forward:OC(t)}})},xP=(e,t)=>{var n;const l=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(la);e.appendChild(l),t.setStart(l,0),t.setEnd(l,0)},mE=e=>!e.hasChildNodes(),gE=(e,t)=>Lu(e).fold(xn,n=>(t.setStart(n.container(),n.offset()),t.setEnd(n.container(),n.offset()),!0)),w5=(e,t,n)=>mE(t)&&Qh(e,t)?(xP(t,n),!0):!1,C5=(e,t,n,r)=>{const l=n[t?"start":"end"],f=e.getRoot();if(l){let g=f,C=l[0];for(let A=l.length-1;g&&A>=1;A--){const z=g.childNodes;if(w5(f,g,r))return!0;if(l[A]>z.length-1)return w5(f,g,r)?!0:gE(g,r);g=z[l[A]]}Mt(g)&&(C=Math.min(l[0],g.data.length)),yn(g)&&(C=Math.min(l[0],g.childNodes.length)),t?r.setStart(g,C):r.setEnd(g,C)}return!0},hE=e=>Mt(e)&&e.data.length>0,_5=(e,t,n)=>{const r=e.get(n.id+"_"+t),l=r==null?void 0:r.parentNode,f=n.keep;if(r&&l){let g,C;if(t==="start"?f?r.hasChildNodes()?(g=r.firstChild,C=1):hE(r.nextSibling)?(g=r.nextSibling,C=0):hE(r.previousSibling)?(g=r.previousSibling,C=r.previousSibling.data.length):(g=l,C=e.nodeIndex(r)+1):(g=l,C=e.nodeIndex(r)):f?r.hasChildNodes()?(g=r.firstChild,C=1):hE(r.previousSibling)?(g=r.previousSibling,C=r.previousSibling.data.length):(g=l,C=e.nodeIndex(r)):(g=l,C=e.nodeIndex(r)),!f){const A=r.previousSibling,z=r.nextSibling;Kt.each(Kt.grep(r.childNodes),G=>{Mt(G)&&(G.data=G.data.replace(/\uFEFF/g,""))});let j;for(;j=e.get(n.id+"_"+t);)e.remove(j,!0);if(Mt(z)&&Mt(A)&&!Co.browser.isOpera()){const G=A.data.length;A.appendData(z.data),e.remove(z),g=A,C=G}}return J.some(mt(g,C))}else return J.none()},S5=(e,t)=>{const n=e.createRng();return C5(e,!0,t,n)&&C5(e,!1,t,n)?J.some({range:n,forward:OC(t)}):J.none()},r0=(e,t)=>{const n=_5(e,"start",t),r=_5(e,"end",t);return Ua(n,r.or(n),(l,f)=>{const g=e.createRng();return g.setStart(x5(e,l.container()),l.offset()),g.setEnd(x5(e,f.container()),f.offset()),{range:g,forward:OC(t)}})},k5=(e,t)=>J.from(e.select(t.name)[t.index]).map(n=>{const r=e.createRng();return r.selectNode(n),{range:r,forward:!0}}),E5=(e,t)=>{const n=e.dom;if(t){if(y5(t))return S5(n,t);if(p5(t))return yP(n,t);if(v5(t))return r0(n,t);if(fE(t))return k5(n,t);if(b5(t))return J.some({range:t.rng,forward:OC(t)})}return J.none()},wP=(e,t,n)=>ot(e,t,n),CP=(e,t)=>{E5(e,t).each(({range:n,forward:r})=>{e.setRng(n,r)})},iu=e=>yn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",Ki=(e=>t=>e===t)(ga),a0=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Yg=e=>!a0(e)&&!Ki(e)&&!Ru(e),sr=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},Fu=e=>ao(e,t=>{const n=jh(t);return n?[Be.fromDom(n)]:[]}),Fx=e=>sr(e).length>1,DC=e=>Ct(Fu(e),Cc),iv=e=>ta(e,"td[data-mce-selected],th[data-mce-selected]"),A5=(e,t)=>{const n=iv(t);return n.length>0?n:DC(e)},Ef=e=>A5(sr(e.selection.getSel()),Be.fromDom(e.getBody())),_s=(e,t)=>Zc(e,"table",t),zx=e=>{const t=e.startContainer,n=e.startOffset;return Mt(t)?n===0?J.some(Be.fromDom(t)):J.none():J.from(t.childNodes[n]).map(Be.fromDom)},T5=e=>{const t=e.endContainer,n=e.endOffset;return Mt(t)?n===t.data.length?J.some(Be.fromDom(t)):J.none():J.from(t.childNodes[n-1]).map(Be.fromDom)},pE=e=>_l(e).fold(Qe([e]),t=>[e].concat(pE(t))),Hx=e=>Au(e).fold(Qe([e]),t=>Po(t)==="br"?aa(t).map(n=>[e].concat(Hx(n))).getOr([]):[e].concat(Hx(t))),Vx=(e,t)=>Ua(zx(t),T5(t),(n,r)=>{const l=wn(pE(e),pt(Lo,n)),f=wn(Hx(e),pt(Lo,r));return l.isSome()&&f.isSome()}).getOr(!1),$x=(e,t,n,r)=>{const l=n,f=new qa(n,l),g=ic(e.schema.getMoveCaretBeforeOnEnterElements(),(A,z)=>!le(["td","th","table"],z.toLowerCase()));let C=n;do{if(Mt(C)&&Kt.trim(C.data).length!==0){r?t.setStart(C,0):t.setEnd(C,C.data.length);return}if(g[C.nodeName]){r?t.setStartBefore(C):C.nodeName==="BR"?t.setEndBefore(C):t.setEndAfter(C);return}}while(C=r?f.next():f.prev());l.nodeName==="BODY"&&(r?t.setStart(l,0):t.setEnd(l,l.childNodes.length))},lv=e=>{const t=e.selection.getSel();return Ce(t)&&t.rangeCount>0},cv=(e,t)=>{const n=Ef(e);n.length>0?pe(n,r=>{const l=r.dom,f=e.dom.createRng();f.setStartBefore(l),f.setEndAfter(l),t(f,!0)}):t(e.selection.getRng(),!1)},RC=(e,t,n)=>{const r=Gt(e,t);n(r),e.moveToBookmark(r)},uv=e=>D(e==null?void 0:e.nodeType),NC=e=>yn(e)&&!iu(e)&&!au(e)&&!of(e),O5=(e,t)=>{if(NC(t)&&!/^(TD|TH)$/.test(t.nodeName)){const n=e.getAttrib(t,"data-mce-selected"),r=parseInt(n,10);return!isNaN(r)&&r>0}else return!1},bE=(e,t,n)=>{const{selection:r,dom:l}=e,f=r.getNode(),g=to(f);RC(r,!0,()=>{t()}),g&&to(f)&&l.isChildOf(f,e.getBody())?e.selection.select(f):n(r.getStart())&&D5(l,r)},D5=(e,t)=>{var n,r;const l=t.getRng(),{startContainer:f,startOffset:g}=l,C=t.getNode();if(!O5(e,C)&&yn(f)){const A=f.childNodes,z=e.getRoot();let j;if(g<A.length){const G=A[g];j=new qa(G,(n=e.getParent(G,e.isBlock))!==null&&n!==void 0?n:z)}else{const G=A[A.length-1];j=new qa(G,(r=e.getParent(G,e.isBlock))!==null&&r!==void 0?r:z),j.next(!0)}for(let G=j.current();G;G=j.next()){if(e.getContentEditable(G)==="false")return;if(Mt(G)&&!vE(G)){l.setStart(G,0),t.setRng(l);return}}}},i0=(e,t,n)=>{if(e){const r=t?"nextSibling":"previousSibling";for(e=e[r];e;e=e[r])if(yn(e)||!vE(e))return e}},IC=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||lf(e,t),ep=(e,t,n)=>e.schema.isValidChild(t,n),vE=(e,t=!1)=>{if(Ce(e)&&Mt(e)){const n=t?e.data.replace(/ /g,""):e.data;return Ul(n)}else return!1},SP=e=>Ce(e)&&Mt(e)&&e.length===0,R5=(e,t)=>{const n="[data-mce-cef-wrappable]",r=Kn(e),l=Lt(r)?n:`${n},${r}`;return ws(Be.fromDom(t),l)},yE=(e,t)=>{const n=e.dom;return NC(t)&&n.getContentEditable(t)==="false"&&R5(e,t)&&n.select('[contenteditable="true"]',t).length===0},Xg=(e,t)=>Ne(e)?e(t):(Ce(t)&&(e=e.replace(/%(\w+)/g,(n,r)=>t[r]||n)),e),dv=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),BC=(e,t)=>{if(nt(e))return null;{let n=String(e);return(t==="color"||t==="backgroundColor")&&(n=Sb(n)),t==="fontWeight"&&e===700&&(n="bold"),t==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},Ux=(e,t,n)=>{const r=e.getStyle(t,n);return BC(r,n)},xE=(e,t)=>{let n;return e.getParent(t,r=>yn(r)?(n=e.getStyle(r,"text-decoration"),!!n&&n!=="none"):!1),n},Wx=(e,t,n)=>e.getParents(t,n,e.getRoot()),MC=(e,t,n)=>{const r=e.formatter.get(t);return Ce(r)&&xe(r,n)},N5=(e,t)=>MC(e,t,r=>{const l=f=>Ne(f)||f.length>1&&f.charAt(0)==="%";return xe(["styles","attributes"],f=>gs(r,f).exists(g=>{const C=ne(g)?g:bu(g);return xe(C,l)}))}),I5=(e,t,n)=>{const r=["inline","block","selector","attributes","styles","classes"],l=f=>ic(f,(g,C)=>xe(r,A=>A===C));return MC(e,t,f=>{const g=l(f);return MC(e,n,C=>{const A=l(C);return fa(g,A)})})},Af=e=>Ol(e,"block"),B5=e=>Af(e)&&e.wrapper===!0,M5=e=>Af(e)&&e.wrapper!==!0,Ac=e=>Ol(e,"selector"),ei=e=>Ol(e,"inline"),P5=e=>Ac(e)&&ei(e)&&Wd(gs(e,"mixed"),!0),PC=e=>Ac(e)&&e.expand!==!1&&!ei(e),L5=e=>{const t=[];let n=e;for(;n;){if(Mt(n)&&n.data!==la||n.childNodes.length>1)return[];yn(n)&&t.push(n),n=n.firstChild}return t},wE=e=>L5(e).length>0,LC=e=>au(e.dom)&&wE(e.dom),tp=iu,Zx=Wx,FC=vE,zC=IC,F5=e=>or(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,jx=(e,t)=>{let n=t;for(;n;){if(yn(n)&&e.getContentEditable(n))return e.getContentEditable(n)==="false"?n:t;n=n.parentNode}return t},HC=(e,t,n,r)=>{const l=t.data;if(e){for(let f=n;f>0;f--)if(r(l.charAt(f-1)))return f}else for(let f=n;f<l.length;f++)if(r(l.charAt(f)))return f;return-1},Kx=(e,t,n)=>HC(e,t,n,r=>Ki(r)||a0(r)),CE=(e,t,n)=>HC(e,t,n,Yg),_E=(e,t,n,r,l,f)=>{let g;const C=e.getParent(n,e.isBlock)||t,A=(j,G,X)=>{const de=vd(e),we=l?de.backwards:de.forwards;return J.from(we(j,G,(me,ke)=>tp(me.parentNode)?-1:(g=me,X(l,me,ke)),C))};return A(n,r,Kx).bind(j=>f?A(j.container,j.offset+(l?-1:0),CE):J.some(j)).orThunk(()=>g?J.some({container:g,offset:l?0:g.length}):J.none())},l0=(e,t,n,r,l)=>{const f=r[l];Mt(r)&&Lt(r.data)&&f&&(r=f);const g=Zx(e,r);for(let C=0;C<g.length;C++)for(let A=0;A<t.length;A++){const z=t[A];if(!(Ce(z.collapsed)&&z.collapsed!==n.collapsed)&&Ac(z)&&e.is(g[C],z.selector))return g[C]}return r},VC=(e,t,n,r)=>{var l;let f=n;const g=e.getRoot(),C=t[0];if(Af(C)&&(f=C.wrapper?null:e.getParent(n,C.block,g)),!f){const A=(l=e.getParent(n,"LI,TD,TH,SUMMARY"))!==null&&l!==void 0?l:g;f=e.getParent(Mt(n)?n.parentNode:n,z=>z!==g&&zC(e.schema,z),A)}if(f&&Af(C)&&C.wrapper&&(f=Zx(e,f,"ul,ol").reverse()[0]||f),!f)for(f=n;f&&f[r]&&!e.isBlock(f[r])&&(f=f[r],!dv(f,"br")););return f||n},$C=(e,t,n,r)=>{const l=n.parentNode;return Ce(n[r])?!1:l===t||nt(l)||e.isBlock(l)?!0:$C(e,t,l,r)},Jg=(e,t,n,r,l)=>{let f=n;const g=l?"previousSibling":"nextSibling",C=e.getRoot();if(Mt(n)&&!FC(n)&&(l?r>0:r<n.data.length))return n;for(;f;){if(!t[0].block_expand&&e.isBlock(f))return f;for(let A=f[g];A;A=A[g]){const z=Mt(A)&&!$C(e,C,A,g);if(!tp(A)&&!F5(A)&&!FC(A,z))return f}if(f===C||f.parentNode===C){n=f;break}f=f.parentNode}return n},Qg=e=>tp(e.parentNode)||tp(e),np=(e,t,n,r=!1)=>{let{startContainer:l,startOffset:f,endContainer:g,endOffset:C}=t;const A=n[0];return yn(l)&&l.hasChildNodes()&&(l=ca(l,f),Mt(l)&&(f=0)),yn(g)&&g.hasChildNodes()&&(g=ca(g,t.collapsed?C:C-1),Mt(g)&&(C=g.data.length)),l=jx(e,l),g=jx(e,g),Qg(l)&&(l=tp(l)?l:l.parentNode,t.collapsed?l=l.previousSibling||l:l=l.nextSibling||l,Mt(l)&&(f=t.collapsed?l.length:0)),Qg(g)&&(g=tp(g)?g:g.parentNode,t.collapsed?g=g.nextSibling||g:g=g.previousSibling||g,Mt(g)&&(C=t.collapsed?0:g.length)),t.collapsed&&(_E(e,e.getRoot(),l,f,!0,r).each(({container:G,offset:X})=>{l=G,f=X}),_E(e,e.getRoot(),g,C,!1,r).each(({container:G,offset:X})=>{g=G,C=X})),(ei(A)||A.block_expand)&&((!ei(A)||!Mt(l)||f===0)&&(l=Jg(e,n,l,f,!0)),(!ei(A)||!Mt(g)||C===g.data.length)&&(g=Jg(e,n,g,C,!1))),PC(A)&&(l=l0(e,n,t,l,"previousSibling"),g=l0(e,n,t,g,"nextSibling")),(Af(A)||Ac(A))&&(l=VC(e,n,l,"previousSibling"),g=VC(e,n,g,"nextSibling"),Af(A)&&(e.isBlock(l)||(l=Jg(e,n,l,f,!0),Mt(l)&&(f=0)),e.isBlock(g)||(g=Jg(e,n,g,C,!1),Mt(g)&&(C=g.data.length)))),yn(l)&&l.parentNode&&(f=e.nodeIndex(l),l=l.parentNode),yn(g)&&g.parentNode&&(C=e.nodeIndex(g)+1,g=g.parentNode),{startContainer:l,startOffset:f,endContainer:g,endOffset:C}},qx=(e,t,n)=>{var r;const l=t.startOffset,f=ca(t.startContainer,l),g=t.endOffset,C=ca(t.endContainer,g-1),A=ke=>{const Fe=ke[0];Mt(Fe)&&Fe===f&&l>=Fe.data.length&&ke.splice(0,1);const qe=ke[ke.length-1];return g===0&&ke.length>0&&qe===C&&Mt(qe)&&ke.splice(ke.length-1,1),ke},z=(ke,Fe,qe)=>{const We=[];for(;ke&&ke!==qe;ke=ke[Fe])We.push(ke);return We},j=(ke,Fe)=>e.getParent(ke,qe=>qe.parentNode===Fe,Fe),G=(ke,Fe,qe)=>{const We=qe?"nextSibling":"previousSibling";for(let at=ke,Nt=at.parentNode;at&&at!==Fe;at=Nt){Nt=at.parentNode;const jt=z(at===ke?at:at[We],We);jt.length&&(qe||jt.reverse(),n(A(jt)))}};if(f===C)return n(A([f]));const X=(r=e.findCommonAncestor(f,C))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(f,C))return G(f,X,!0);if(e.isChildOf(C,f))return G(C,X);const de=j(f,X)||f,we=j(C,X)||C;G(f,de,!0);const me=z(de===f?de:de.nextSibling,"nextSibling",we===C?we.nextSibling:we);me.length&&n(A(me)),G(C,we)},kP=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],z5=e=>Ys(e)&&Sm(e)===la,H5=(e,t,n,r)=>ja(t).fold(()=>"skipping",l=>r==="br"||z5(t)?"valid":sx(t)?"existing":au(t.dom)?"caret":xe(kP,f=>ws(t,f))?"valid-block":!ep(e,n,r)||!ep(e,Po(l),n)?"invalid-child":"valid"),op=(e,t)=>{const n=np(e.dom,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},sp=(e,t,n,r,l,f)=>{const{uid:g=t,...C}=n;ld(e,vr()),ra(e,`${$r()}`,g),ra(e,`${yr()}`,r);const{attributes:A={},classes:z=[]}=l(g,C);if(wi(e,A),Db(e,z),f){z.length>0&&ra(e,`${dr()}`,z.join(","));const j=Vt(A);j.length>0&&ra(e,`${Mr()}`,j.join(","))}},Di=e=>{Ci(e,vr()),bo(e,`${$r()}`),bo(e,`${yr()}`),bo(e,`${Cs()}`);const t=Hc(e,`${Mr()}`).map(r=>r.split(",")).getOr([]),n=Hc(e,`${dr()}`).map(r=>r.split(",")).getOr([]);pe(t,r=>bo(e,r)),$g(e,n),bo(e,`${dr()}`),bo(e,`${Mr()}`)},Mm=(e,t,n,r,l)=>{const f=Be.fromTag("span",e);return sp(f,t,n,r,l,!1),f},ss=(e,t,n,r,l,f)=>{const g=[],C=Mm(e.getDoc(),n,f,r,l),A=pa(),z=()=>{A.clear()},j=()=>A.get().getOrThunk(()=>{const we=Pr(C);return g.push(we),A.set(we),we}),G=we=>{pe(we,X)},X=we=>{switch(H5(e,we,"span",Po(we))){case"invalid-child":{z();const ke=Ka(we);G(ke),z();break}case"valid-block":{z(),sp(we,n,f,r,l,!0);break}case"valid":{const ke=j();Dl(we,ke);break}}},de=we=>{const me=Me(we,Be.fromDom);G(me)};return qx(e.dom,t,we=>{z(),de(we)}),g},EP=(e,t,n,r)=>{e.undoManager.transact(()=>{const l=e.selection,f=l.getRng(),g=Ef(e).length>0,C=Ai("mce-annotation");if(f.collapsed&&!g&&op(e,f),l.getRng().collapsed&&!g){const A=Mm(e.getDoc(),C,r,t,n.decorate);cm(A,ga),l.getRng().insertNode(A.dom),l.select(A.dom)}else RC(l,!1,()=>{cv(e,A=>{ss(e,A,C,t,n.decorate,r)})})})},V5=e=>{const t=ax();L1(e,t);const n=P1(e,t),r=Gd("span"),l=f=>{pe(f,g=>{r(g)?Ei(g):Di(g)})};return{register:(f,g)=>{t.register(f,g)},annotate:(f,g)=>{t.lookup(f).each(C=>{EP(e,f,C,g)})},annotationChanged:(f,g)=>{n.addListener(f,g)},remove:f=>{M1(e,J.some(f)).each(({elements:g})=>{const C=e.selection.getBookmark();l(g),e.selection.moveToBookmark(C)})},removeAll:f=>{const g=e.selection.getBookmark();Wo(Vg(e,f),(C,A)=>{l(C)}),e.selection.moveToBookmark(g)},getAll:f=>{const g=Vg(e,f);return Tl(g,C=>Me(C,A=>A.dom))}}},Ns=e=>({getBookmark:pt(wP,e),moveToBookmark:pt(CP,e)});Ns.isBookmarkNode=iu;const SE=(e,t,n)=>n.collapsed?!1:xe(n.getClientRects(),r=>U1(r,e,t)),Gx=(e,t)=>e.dispatch("PreProcess",t),Yx=(e,t)=>e.dispatch("PostProcess",t),Xx=e=>{e.dispatch("remove")},Jx=e=>{e.dispatch("detach")},$5=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},AP=(e,t,n,r,l)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:r,origin:l})},TP=(e,t,n,r,l)=>{e.dispatch("ObjectResized",{target:t,width:n,height:r,origin:l})},OP=e=>{e.dispatch("PreInit")},DP=e=>{e.dispatch("PostRender")},Wr=e=>{e.dispatch("Init")},U5=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},kE=(e,t,n)=>{e.dispatch(t,n)},W5=(e,t,n,r)=>{e.dispatch("FormatApply",{format:t,node:n,vars:r})},Z5=(e,t,n,r)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:r})},RP=(e,t)=>e.dispatch("BeforeSetContent",t),ql=(e,t)=>e.dispatch("SetContent",t),Tf=(e,t)=>e.dispatch("BeforeGetContent",t),j5=(e,t)=>e.dispatch("GetContent",t),EE=(e,t)=>{e.dispatch("AutocompleterStart",t)},AE=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},TE=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},NP=e=>{e.dispatch("AutocompleterEnd")},Qx=(e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}),UC=(e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}),WC=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),IP=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),rn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||rn.metaKeyPressed(e),metaKeyPressed:e=>Co.os.isMacOS()||Co.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},c0="data-mce-selected",BP="table,img,figure.image,hr,video,span.mce-preview-object,details",lu=Math.abs,rp=Math.round,ZC={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},kd=e=>e.type==="longpress"||e.type.indexOf("touch")===0,ks=(e,t)=>{const n=t.dom,r=t.getDoc(),l=document,f=t.getBody();let g,C,A,z,j,G,X,de,we,me,ke,Fe,qe,We,at,Nt,jt;const dn=ln=>Ce(ln)&&(hc(ln)||n.is(ln,"figure.image")),wt=ln=>xt(ln)||n.hasClass(ln,"mce-preview-object"),dt=(ln,xo)=>{if(kd(ln)){const Ro=ln.touches[0];return dn(ln.target)&&!SE(Ro.clientX,Ro.clientY,xo)}else return dn(ln.target)&&!SE(ln.clientX,ln.clientY,xo)},Dt=ln=>{const xo=ln.target;dt(ln,t.selection.getRng())&&!ln.isDefaultPrevented()&&t.selection.select(xo)},bn=ln=>n.hasClass(ln,"mce-preview-object")&&Ce(ln.firstElementChild)?[ln,ln.firstElementChild]:n.is(ln,"figure.image")?[ln.querySelector("img")]:[ln],Nn=ln=>{const xo=OO(t);return!xo||ln.getAttribute("data-mce-resize")==="false"||ln===t.getBody()?!1:n.hasClass(ln,"mce-preview-object")&&Ce(ln.firstElementChild)?ws(Be.fromDom(ln.firstElementChild),xo):ws(Be.fromDom(ln),xo)},yo=(ln,xo)=>{if(wt(xo))return ln.create("img",{src:Co.transparentSrc});if(Gc(xo)){const gi=Gs(z.name,"n")?un:po,Es=xo.cloneNode(!0);return gi(ln.select("tr",Es)).each(oi=>{const Mf=ln.select("td,th",oi);ln.setStyle(oi,"height",null),pe(Mf,vh=>ln.setStyle(vh,"height",null))}),Es}else return xo.cloneNode(!0)},Oo=(ln,xo,Ro)=>{if(Ce(Ro)){const gi=bn(ln);pe(gi,Es=>{Es.style[xo]||!t.schema.isValid(Es.nodeName.toLowerCase(),xo)?n.setStyle(Es,xo,Ro):n.setAttrib(Es,xo,""+Ro)})}},ps=(ln,xo,Ro)=>{Oo(ln,"width",xo),Oo(ln,"height",Ro)},Ds=ln=>{let xo,Ro,gi,Es,oi;xo=ln.screenX-G,Ro=ln.screenY-X,We=xo*z[2]+me,at=Ro*z[3]+ke,We=We<5?5:We,at=at<5?5:at,(dn(g)||wt(g))&&DO(t)!==!1?gi=!rn.modifierPressed(ln):gi=rn.modifierPressed(ln),gi&&(lu(xo)>lu(Ro)?(at=rp(We*Fe),We=rp(at/Fe)):(We=rp(at/Fe),at=rp(We*Fe))),ps(C,We,at),Es=z.startPos.x+xo,oi=z.startPos.y+Ro,Es=Es>0?Es:0,oi=oi>0?oi:0,n.setStyles(A,{left:Es,top:oi,display:"block"}),A.innerHTML=We+" &times; "+at,z[2]<0&&C.clientWidth<=We&&n.setStyle(C,"left",de+(me-We)),z[3]<0&&C.clientHeight<=at&&n.setStyle(C,"top",we+(ke-at)),xo=f.scrollWidth-Nt,Ro=f.scrollHeight-jt,xo+Ro!==0&&n.setStyles(A,{left:Es-xo,top:oi-Ro}),qe||(AP(t,g,me,ke,"corner-"+z.name),qe=!0)},Yr=()=>{const ln=qe;qe=!1,ln&&(Oo(g,"width",We),Oo(g,"height",at)),n.unbind(r,"mousemove",Ds),n.unbind(r,"mouseup",Yr),l!==r&&(n.unbind(l,"mousemove",Ds),n.unbind(l,"mouseup",Yr)),n.remove(C),n.remove(A),n.remove(j),hl(g),ln&&(TP(t,g,We,at,"corner-"+z.name),n.setAttrib(g,"style",n.getAttrib(g,"style"))),t.nodeChanged()},hl=ln=>{nn();const xo=n.getPos(ln,f),Ro=xo.x,gi=xo.y,Es=ln.getBoundingClientRect(),oi=Es.width||Es.right-Es.left,Mf=Es.height||Es.bottom-Es.top;g!==ln&&(Jt(),g=ln,We=at=0);const vh=t.dispatch("ObjectSelected",{target:ln});Nn(ln)&&!vh.isDefaultPrevented()?Wo(ZC,(ec,Xu)=>{const Pf=Lf=>{const Mn=bn(g)[0];G=Lf.screenX,X=Lf.screenY,me=Mn.clientWidth,ke=Mn.clientHeight,Fe=ke/me,z=ec,z.name=Xu,z.startPos={x:oi*ec[0]+Ro,y:Mf*ec[1]+gi},Nt=f.scrollWidth,jt=f.scrollHeight,j=n.add(f,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(j,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),C=yo(n,g),n.addClass(C,"mce-clonedresizable"),n.setAttrib(C,"data-mce-bogus","all"),C.contentEditable="false",n.setStyles(C,{left:Ro,top:gi,margin:0}),ps(C,oi,Mf),C.removeAttribute(c0),f.appendChild(C),n.bind(r,"mousemove",Ds),n.bind(r,"mouseup",Yr),l!==r&&(n.bind(l,"mousemove",Ds),n.bind(l,"mouseup",Yr)),A=n.add(f,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},me+" &times; "+ke)};let Ju=n.get("mceResizeHandle"+Xu);Ju&&n.remove(Ju),Ju=n.add(f,"div",{id:"mceResizeHandle"+Xu,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Xu+"-resize; margin:0; padding:0"}),n.bind(Ju,"mousedown",Lf=>{Lf.stopImmediatePropagation(),Lf.preventDefault(),Pf(Lf)}),ec.elm=Ju,n.setStyles(Ju,{left:oi*ec[0]+Ro-Ju.offsetWidth/2,top:Mf*ec[1]+gi-Ju.offsetHeight/2})}):Jt(!1)},Ps=Hg(hl,0),Jt=(ln=!0)=>{Ps.cancel(),nn(),g&&ln&&g.removeAttribute(c0),Wo(ZC,(xo,Ro)=>{const gi=n.get("mceResizeHandle"+Ro);gi&&(n.unbind(gi),n.remove(gi))})},Tn=(ln,xo)=>n.isChildOf(ln,xo),ts=ln=>{if(qe||t.removed||t.composing)return;const xo=ln.type==="mousedown"?ln.target:e.getNode(),Ro=Ta(Be.fromDom(xo),BP).map(Es=>Es.dom).filter(Es=>n.isEditable(Es.parentElement)||Es.nodeName==="IMG"&&n.isEditable(Es)).getOrUndefined(),gi=Ce(Ro)?n.getAttrib(Ro,c0,"1"):"1";if(pe(n.select(`img[${c0}],hr[${c0}]`),Es=>{Es.removeAttribute(c0)}),Ce(Ro)&&Tn(Ro,f)&&t.hasFocus()){Hn();const Es=e.getStart(!0);if(Tn(Es,Ro)&&Tn(e.getEnd(!0),Ro)){n.setAttrib(Ro,c0,gi),Ps.throttle(Ro);return}}Jt()},nn=()=>{Wo(ZC,ln=>{ln.elm&&(n.unbind(ln.elm),delete ln.elm)})},Hn=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{Hn(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",ts),t.on("keyup compositionend",ln=>{g&&g.nodeName==="TABLE"&&ts(ln)}),t.on("hide blur",Jt),t.on("contextmenu longpress",Dt,!0)}),t.on("remove",nn),{isResizable:Nn,showResizeRect:hl,hideResizeRect:Jt,updateResizeRect:ts,destroy:()=>{Ps.cancel(),g=C=j=null}}},fv=(e,t)=>{t.fold(n=>{e.setStartBefore(n.dom)},(n,r)=>{e.setStart(n.dom,r)},n=>{e.setStartAfter(n.dom)})},jC=(e,t)=>{t.fold(n=>{e.setEndBefore(n.dom)},(n,r)=>{e.setEnd(n.dom,r)},n=>{e.setEndAfter(n.dom)})},OE=(e,t,n)=>{const r=e.document.createRange();return fv(r,t),jC(r,n),r},e2=(e,t,n,r,l)=>{const f=e.document.createRange();return f.setStart(t.dom,n),f.setEnd(r.dom,l),f},u0=Mo.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),K5=(e,t,n)=>t(Be.fromDom(n.startContainer),n.startOffset,Be.fromDom(n.endContainer),n.endOffset),DE=(e,t)=>t.match({domRange:n=>({ltr:Qe(n),rtl:J.none}),relative:(n,r)=>({ltr:vl(()=>OE(e,n,r)),rtl:vl(()=>J.some(OE(e,r,n)))}),exact:(n,r,l,f)=>({ltr:vl(()=>e2(e,n,r,l,f)),rtl:vl(()=>J.some(e2(e,l,f,n,r)))})}),MP=(e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter(l=>l.collapsed===!1).map(l=>u0.rtl(Be.fromDom(l.endContainer),l.endOffset,Be.fromDom(l.startContainer),l.startOffset)).getOrThunk(()=>K5(e,u0.ltr,n)):K5(e,u0.ltr,n)},q5=(e,t)=>{const n=DE(e,t);return MP(e,n)};u0.ltr,u0.rtl;const KC={create:(e,t,n,r)=>({start:e,soffset:t,finish:n,foffset:r})},G5=(e,t,n)=>{var r;return J.from((r=e.caretPositionFromPoint)===null||r===void 0?void 0:r.call(e,t,n)).bind(l=>{if(l.offsetNode===null)return J.none();const f=e.createRange();return f.setStart(l.offsetNode,l.offset),f.collapse(),J.some(f)})},qC=(e,t,n)=>{var r;return J.from((r=e.caretRangeFromPoint)===null||r===void 0?void 0:r.call(e,t,n))},LP=(e,t,n)=>e.caretPositionFromPoint?G5(e,t,n):e.caretRangeFromPoint?qC(e,t,n):J.none(),FP=(e,t,n)=>{const r=e.document;return LP(r,t,n).map(l=>KC.create(Be.fromDom(l.startContainer),l.startOffset,Be.fromDom(l.endContainer),l.endOffset))},RE=Mo.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),zP=(e,t,n,r)=>e.fold(t,n,r),HP=e=>e.fold(On,On,On),Y5=RE.before,VP=RE.on,$P=RE.after,Pm={before:Y5,on:VP,after:$P,cata:zP,getStart:HP},t2=Mo.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),UP=e=>t2.exact(e.start,e.soffset,e.finish,e.foffset),WP=e=>e.match({domRange:t=>Be.fromDom(t.startContainer),relative:(t,n)=>Pm.getStart(t),exact:(t,n,r,l)=>t}),X5=t2.domRange,zu=t2.relative,ZP=t2.exact,J5=e=>{const t=WP(e);return Su(t)},NE=KC.create,ap={domRange:X5,relative:zu,exact:ZP,exactFromRange:UP,getWin:J5,range:NE},n2=(e,t)=>{const n=Po(e);return n==="input"?Pm.after(e):le(["br","img"],n)?t===0?Pm.before(e):Pm.after(e):Pm.on(e,t)},Q5=(e,t)=>{const n=e.fold(Pm.before,n2,Pm.after),r=t.fold(Pm.before,n2,Pm.after);return ap.relative(n,r)},GC=(e,t,n,r)=>{const l=n2(e,t),f=n2(n,r);return ap.relative(l,f)},eD=e=>e.match({domRange:t=>{const n=Be.fromDom(t.startContainer),r=Be.fromDom(t.endContainer);return GC(n,t.startOffset,r,t.endOffset)},relative:Q5,exact:GC}),Tc=(e,t)=>{const r=document.createDocumentFragment();return pe(e,l=>{r.appendChild(l.dom)}),Be.fromDom(r)},jP=e=>{const t=ap.getWin(e).dom,n=(l,f,g,C)=>e2(t,l,f,g,C),r=eD(e);return q5(t,r).match({ltr:n,rtl:n})},IE=(e,t,n)=>FP(e,t,n),tD=(e,t,n)=>{const r=Su(Be.fromDom(n));return IE(r.dom,e,t).map(l=>{const f=n.createRange();return f.setStart(l.start.dom,l.soffset),f.setEnd(l.finish.dom,l.foffset),f}).getOrUndefined()},o2=(e,t)=>Ce(e)&&Ce(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,Of=(e,t,n)=>{let r=e;for(;r&&r!==t;){if(n(r))return r;r=r.parentNode}return null},YC=(e,t,n)=>Of(e,t,n)!==null,XC=(e,t,n)=>YC(e,t,r=>r.nodeName===n),nD=(e,t)=>Nl(e)&&!YC(e,t,au),oD=(e,t,n)=>{const r=t.parentNode;if(r){const l=new qa(t,e.getParent(r,e.isBlock)||e.getRoot());let f;for(;f=l[n?"prev":"next"]();)if(or(f))return!0}return!1},sD=(e,t)=>{var n;return((n=e.previousSibling)===null||n===void 0?void 0:n.nodeName)===t},rD=(e,t)=>{let n=t;for(;n&&n!==e;){if(to(n))return!0;n=n.parentNode}return!1},s2=(e,t,n,r,l)=>{const f=e.getRoot(),g=e.schema.getNonEmptyElements(),C=l.parentNode;let A,z;if(!C)return J.none();const j=e.getParent(C,e.isBlock)||f;if(r&&or(l)&&t&&e.isEmpty(j))return J.some(mt(C,e.nodeIndex(l)));const G=new qa(l,j);for(;z=G[r?"prev":"next"]();){if(e.getContentEditableParent(z)==="false"||nD(z,f))return J.none();if(Mt(z)&&z.data.length>0)return XC(z,f,"A")?J.none():J.some(mt(z,r?z.data.length:0));if(e.isBlock(z)||g[z.nodeName.toLowerCase()])return J.none();A=z}return go(A)?J.none():n&&A?J.some(mt(A,0)):J.none()},BE=(e,t,n,r)=>{const l=e.getRoot();let f,g=!1,C=n?r.startContainer:r.endContainer,A=n?r.startOffset:r.endOffset;const z=yn(C)&&A===C.childNodes.length,j=e.schema.getNonEmptyElements();let G=n;if(Nl(C))return J.none();if(yn(C)&&A>C.childNodes.length-1&&(G=!1),Sn(C)&&(C=l,A=0),C===l){if(G&&(f=C.childNodes[A>0?A-1:0],f&&(Nl(f)||j[f.nodeName]||Gc(f))))return J.none();if(C.hasChildNodes()){if(A=Math.min(!G&&A>0?A-1:A,C.childNodes.length-1),C=C.childNodes[A],A=Mt(C)&&z?C.data.length:0,!t&&C===l.lastChild&&Gc(C)||rD(l,C)||Nl(C)||Bh(C))return J.none();if(C.hasChildNodes()&&!Gc(C)){f=C;const X=new qa(C,l);do{if(to(f)||Nl(f)){g=!1;break}if(Mt(f)&&f.data.length>0){A=G?0:f.data.length,C=f,g=!0;break}if(j[f.nodeName.toLowerCase()]&&!Zw(f)){A=e.nodeIndex(f),C=f.parentNode,G||A++,g=!0;break}}while(f=G?X.next():X.prev())}}}return t&&(Mt(C)&&A===0&&s2(e,z,t,!0,C).each(X=>{C=X.container(),A=X.offset(),g=!0}),yn(C)&&(f=C.childNodes[A],f||(f=C.childNodes[A-1]),f&&or(f)&&!sD(f,"A")&&!oD(e,f,!1)&&!oD(e,f,!0)&&s2(e,z,t,!0,f).each(X=>{C=X.container(),A=X.offset(),g=!0}))),G&&!t&&Mt(C)&&A===C.data.length&&s2(e,z,t,!1,C).each(X=>{C=X.container(),A=X.offset(),g=!0}),g&&C?J.some(mt(C,A)):J.none()},Lm=(e,t)=>{const n=t.collapsed,r=t.cloneRange(),l=mt.fromRangeStart(t);return BE(e,n,!0,r).each(f=>{(!n||!mt.isAbove(l,f))&&r.setStart(f.container(),f.offset())}),n||BE(e,n,!1,r).each(f=>{r.setEnd(f.container(),f.offset())}),n&&r.collapse(!0),o2(t,r)?J.none():J.some(r)},r2=(e,t)=>e.splitText(t),a2=e=>{let t=e.startContainer,n=e.startOffset,r=e.endContainer,l=e.endOffset;if(t===r&&Mt(t)){if(n>0&&n<t.data.length)if(r=r2(t,n),t=r.previousSibling,l>n){l=l-n;const f=r2(r,l).previousSibling;t=r=f,l=f.data.length,n=0}else l=0}else if(Mt(t)&&n>0&&n<t.data.length&&(t=r2(t,n),n=0),Mt(r)&&l>0&&l<r.data.length){const f=r2(r,l).previousSibling;r=f,l=f.data.length}return{startContainer:t,startOffset:n,endContainer:r,endOffset:l}},ip=e=>({walk:(f,g)=>qx(e,f,g),split:a2,expand:(f,g={type:"word"})=>{if(g.type==="word"){const C=np(e,f,[{inline:"span"}]),A=e.createRng();return A.setStart(C.startContainer,C.startOffset),A.setEnd(C.endContainer,C.endOffset),A}return f},normalize:f=>Lm(e,f).fold(xn,g=>(f.setStart(g.startContainer,g.startOffset),f.setEnd(g.endContainer,g.endOffset),!0))});ip.compareRanges=o2,ip.getCaretRangeFromPoint=tD,ip.getSelectedNode=jh,ip.getNode=ca;const ME=((e,t)=>{const n=(C,A)=>{if(!D(A)&&!A.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+A);const z=C.dom;Si(z)&&(z.style[e]=A+"px")},r=C=>{const A=t(C);if(A<=0||A===null){const z=Dr(C,e);return parseFloat(z)||0}return A},l=r,f=(C,A)=>It(A,(z,j)=>{const G=Dr(C,j),X=G===void 0?0:parseInt(G,10);return isNaN(X)?z:z+X},0);return{set:n,get:r,getOuter:l,aggregate:f,max:(C,A,z)=>{const j=f(C,z);return A>j?A-j:0}}})("height",e=>{const t=e.dom;return _i(e)?t.getBoundingClientRect().height:t.offsetHeight}),d0=e=>ME.get(e),aD=()=>Be.fromDom(document),iD=(e,t)=>e.view(t).fold(Qe([]),r=>{const l=e.owner(r),f=iD(e,l);return[r].concat(f)}),JC=(e,t)=>{const n=t.owner(e);return iD(t,n)};var GP=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?J.none():J.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(Be.fromDom)},owner:e=>Vl(e)});const lD=e=>{const t=aD(),n=Xn(t),r=JC(e,GP),l=ro(e),f=zt(r,(g,C)=>{const A=ro(C);return{left:g.left+A.left,top:g.top+A.top}},{left:0,top:0});return Oe(f.left+l.left+n.left,f.top+l.top+n.top)},eh=e=>Po(e)==="textarea",cD=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),uD=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},dD=(e,t)=>{const n=Ka(e);if(n.length===0||eh(e))return{element:e,offset:t};if(t<n.length&&!eh(n[t]))return{element:n[t],offset:0};{const r=n[n.length-1];return eh(r)?{element:e,offset:t}:Po(r)==="img"?{element:r,offset:1}:Ys(r)?{element:r,offset:Sm(r).length}:{element:r,offset:Ka(r).length}}},i2=(e,t)=>{const n=Ln(e),r=d0(e);return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:t}},fD=(e,t)=>{const n=dD(e,t),r=Be.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+la+"</span>");return hr(n.element,r),i2(r,()=>hs(r))},mD=e=>i2(Be.fromDom(e),Pt),gD=(e,t,n,r)=>{pD(e,(l,f)=>hD(e,t,n,r),n)},l2=(e,t,n,r,l)=>{const f={elm:r.element.dom,alignToTop:l};if(cD(e,f))return;const g=Xn(t).top;n(e,t,g,r,l),uD(e,f)},hD=(e,t,n,r)=>{const l=Be.fromDom(e.getBody()),f=Be.fromDom(e.getDoc());f1(l);const g=fD(Be.fromDom(n.startContainer),n.startOffset);l2(e,f,t,g,r),g.cleanup()},QC=(e,t,n,r)=>{const l=Be.fromDom(e.getDoc());l2(e,l,n,mD(t),r)},pD=(e,t,n)=>{const r=n.startContainer,l=n.startOffset,f=n.endContainer,g=n.endOffset;t(Be.fromDom(r),Be.fromDom(f));const C=e.dom.createRng();C.setStart(r,l),C.setEnd(f,g),e.selection.setRng(n)},c2=(e,t,n,r,l)=>{const f=t.pos;if(r)_n(f.left,f.top,l);else{const g=f.top-n+t.height;_n(-e.getBody().getBoundingClientRect().left,g,l)}},PE=(e,t,n,r,l,f)=>{const g=r+n,C=l.pos.top,A=l.bottom,z=A-C>=r;C<n?c2(e,l,r,f!==!1,t):C>g?c2(e,l,r,z?f!==!1:f===!0,t):A>g&&!z&&c2(e,l,r,f===!0,t)},u2=(e,t,n,r,l)=>{const f=Su(t).dom.innerHeight;PE(e,t,n,f,r,l)},Fm=(e,t,n,r,l)=>{const f=Su(t).dom.innerHeight;PE(e,t,n,f,r,l);const g=lD(r.element),C=mc(window);g.top<C.y?es(r.element,l!==!1):g.top>C.bottom&&es(r.element,l===!0)},YP=(e,t,n)=>gD(e,u2,t,n),LE=(e,t,n)=>QC(e,t,u2,n),oa=(e,t,n)=>gD(e,Fm,t,n),FE=(e,t,n)=>QC(e,t,Fm,n),zE=(e,t,n)=>{(e.inline?LE:FE)(e,t,n)},Hu=(e,t,n)=>{(e.inline?YP:oa)(e,t,n)},HE=(e,t=!1)=>e.dom.focus({preventScroll:t}),VE=e=>{const t=Wc(e).dom;return e.dom===t.activeElement},f0=(e=aD())=>J.from(e.dom.activeElement).map(Be.fromDom),XP=e=>f0(Wc(e)).filter(t=>e.dom.contains(t.dom)),bD=(e,t)=>{const n=Ys(t)?Sm(t).length:Ka(t).length+1;return e>n?n:e<0?0:e},mv=e=>ap.range(e.start,bD(e.soffset,e.start),e.finish,bD(e.foffset,e.finish)),vD=(e,t)=>!tf(t.dom)&&(Za(e,t)||Lo(e,t)),lp=e=>t=>vD(e,t.start)&&vD(e,t.finish),JP=e=>e.inline||Co.browser.isFirefox(),cp=e=>ap.range(Be.fromDom(e.startContainer),e.startOffset,Be.fromDom(e.endContainer),e.endOffset),QP=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?J.none():J.from(t.getRangeAt(0))).map(cp)},Vu=e=>{const t=Su(e);return QP(t.dom).filter(lp(e))},d2=(e,t)=>J.from(t).filter(lp(e)).map(mv),$E=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),J.some(t)}catch{return J.none()}},gv=e=>{const t=JP(e)?Vu(Be.fromDom(e.getBody())):J.none();e.bookmark=t.isSome()?t:e.bookmark},UE=e=>(e.bookmark?e.bookmark:J.none()).bind(n=>d2(Be.fromDom(e.getBody()),n)).bind($E),e_=e=>{UE(e).each(t=>e.selection.setRng(t))},$u={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},t_=(e,t)=>(D(t)||(t=0),setTimeout(e,t)),yD=(e,t)=>(D(t)||(t=0),setInterval(e,t)),Oc={setEditorTimeout:(e,t,n)=>t_(()=>{e.removed||t()},n),setEditorInterval:(e,t,n)=>{const r=yD(()=>{e.removed?clearInterval(r):t()},n);return r}},WE=e=>e.type==="nodechange"&&e.selectionChange,m0=(e,t)=>{const n=()=>{t.throttle()};Bs.DOM.bind(document,"mouseup",n),e.on("remove",()=>{Bs.DOM.unbind(document,"mouseup",n)})},ZE=(e,t)=>{e.on("mouseup touchend",n=>{t.throttle()})},xD=(e,t)=>{ZE(e,t),e.on("keyup NodeChange AfterSetSelectionRange",n=>{WE(n)||gv(e)})},e7=e=>{const t=Hg(()=>{gv(e)},0);e.on("init",()=>{e.inline&&m0(e,t),xD(e,t)}),e.on("remove",()=>{t.cancel()})};let zm;const jE=Bs.DOM,wD=e=>yn(e)&&$u.isEditorUIElement(e),f2=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},n_=(e,t)=>{const n=NO(e);return jE.getParent(t,l=>wD(l)||(n?e.dom.is(l,n):!1))!==null},o_=e=>{try{const t=Wc(Be.fromDom(e.getElement()));return f0(t).fold(()=>document.body,n=>n.dom)}catch{return document.body}},CD=(e,t)=>{const n=t.editor;e7(n);const r=(l,f)=>{if($O(l)&&l.inline!==!0){const g=Be.fromDom(l.getContainer());f(g,"tox-edit-focus")}};n.on("focusin",()=>{const l=e.focusedEditor;f2(o_(n))&&r(n,ld),l!==n&&(l&&l.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:l}),n.focus(!0))}),n.on("focusout",()=>{Oc.setEditorTimeout(n,()=>{const l=e.focusedEditor;(!f2(o_(n))||l!==n)&&r(n,Ci),!n_(n,o_(n))&&l===n&&(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),zm||(zm=l=>{const f=e.activeEditor;f&&rb(l).each(g=>{const C=g;C.ownerDocument===document&&C!==document.body&&!n_(f,C)&&e.focusedEditor===f&&(f.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},jE.bind(document,"focusin",zm))},t7=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&zm&&(jE.unbind(document,"focusin",zm),zm=null)},n7=e=>{e.on("AddEditor",pt(CD,e)),e.on("RemoveEditor",pt(t7,e))},o7=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="true"),s7=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="false")!==null,r7=e=>e.collapsed?J.from(ca(e.startContainer,e.startOffset)).map(Be.fromDom):J.none(),a7=(e,t)=>r7(t).bind(n=>Ug(n)?J.some(n):Za(e,n)?J.none():J.some(e)),_D=(e,t)=>{a7(Be.fromDom(e.getBody()),t).bind(n=>Un(n.dom)).fold(()=>{e.selection.normalize()},n=>e.selection.setRng(n.toRange()))},s_=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},i7=e=>VE(e)||XP(e).isSome(),l7=e=>Ce(e.iframeElement)&&VE(Be.fromDom(e.iframeElement)),c7=e=>{const t=e.getBody();return t&&i7(Be.fromDom(t))},SD=e=>{const t=Wc(Be.fromDom(e.getElement()));return f0(t).filter(n=>!f2(n.dom)&&n_(e,n.dom)).isSome()},hv=e=>e.inline?c7(e):l7(e),g0=e=>hv(e)||SD(e),u7=e=>{const t=e.selection,n=e.getBody();let r=t.getRng();e.quirks.refreshContentEditable();const l=g=>{UE(g).each(C=>{g.selection.setRng(C),r=C})};!hv(e)&&e.hasEditableRoot()&&l(e);const f=o7(e,t.getNode());if(f&&e.dom.isChildOf(f,n)){s7(e,f)||s_(n),s_(f),e.hasEditableRoot()||l(e),_D(e,r),KE(e);return}e.inline||(Co.browser.isOpera()||s_(n),e.getWin().focus()),(Co.browser.isFirefox()||e.inline)&&(s_(n),_D(e,r)),KE(e)},KE=e=>e.editorManager.setActive(e),kD=(e,t)=>{e.removed||(t?KE(e):u7(e))},ED=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),AD=(e,t,n,r,l)=>{const f=n?t.startContainer:t.endContainer,g=n?t.startOffset:t.endOffset;return J.from(f).map(Be.fromDom).map(C=>!r||!t.collapsed?Eu(C,l(C,g)).getOr(C):C).bind(C=>Or(C)?J.some(C):ja(C).filter(Or)).map(C=>C.dom).getOr(e)},TD=(e,t,n=!1)=>AD(e,t,!0,n,(r,l)=>Math.min(ud(r),l)),OD=(e,t,n=!1)=>AD(e,t,!1,n,(r,l)=>l>0?l-1:l),DD=(e,t)=>{const n=e;for(;e&&Mt(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||n},d7=(e,t)=>{if(!t)return e;let n=t.startContainer,r=t.endContainer;const l=t.startOffset,f=t.endOffset;let g=t.commonAncestorContainer;t.collapsed||(n===r&&f-l<2&&n.hasChildNodes()&&(g=n.childNodes[l]),Mt(n)&&Mt(r)&&(n.length===l?n=DD(n.nextSibling,!0):n=n.parentNode,f===0?r=DD(r.previousSibling,!1):r=r.parentNode,n&&n===r&&(g=n)));const C=Mt(g)?g.parentNode:g;return qc(C)?C:e},qE=(e,t,n,r)=>{const l=[],f=e.getRoot(),g=e.getParent(n||TD(f,t,t.collapsed),e.isBlock),C=e.getParent(r||OD(f,t,t.collapsed),e.isBlock);if(g&&g!==f&&l.push(g),g&&C&&g!==C){let A;const z=new qa(g,f);for(;(A=z.next())&&A!==C;)e.isBlock(A)&&l.push(A)}return C&&g!==C&&C!==f&&l.push(C),l},m2=(e,t,n)=>J.from(t).bind(r=>J.from(r.parentNode).map(l=>{const f=e.nodeIndex(r),g=e.createRng();return g.setStart(l,f),g.setEnd(l,f+1),n&&($x(e,g,r,!0),$x(e,g,r,!1)),g})),r_=(e,t)=>Me(t,n=>{const r=e.dispatch("GetSelectionRange",{range:n});return r.range!==n?r.range:n}),f7={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},h0=(e,t,n)=>{const r=n?"lastChild":"firstChild",l=n?"prev":"next";if(e[r])return e[r];if(e!==t){let f=e[l];if(f)return f;for(let g=e.parent;g&&g!==t;g=g.parent)if(f=g[l],f)return f}},RD=e=>{var t;const n=(t=e.value)!==null&&t!==void 0?t:"";if(!Ul(n))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(n))},va=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class mi{static create(t,n){const r=new mi(t,f7[t]||1);return n&&Wo(n,(l,f)=>{r.attr(f,l)}),r}constructor(t,n){this.name=t,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}replace(t){const n=this;return t.parent&&t.remove(),n.insert(t,n),n.remove(),n}attr(t,n){const r=this;if(!Te(t))return Ce(t)&&Wo(t,(f,g)=>{r.attr(g,f)}),r;const l=r.attributes;if(l){if(n!==void 0){if(n===null){if(t in l.map){delete l.map[t];let f=l.length;for(;f--;)if(l[f].name===t)return l.splice(f,1),r}return r}if(t in l.map){let f=l.length;for(;f--;)if(l[f].name===t){l[f].value=n;break}}else l.push({name:t,value:n});return l.map[t]=n,r}return l.map[t]}}clone(){const t=this,n=new mi(t.name,t.type),r=t.attributes;if(r){const l=[];l.map={};for(let f=0,g=r.length;f<g;f++){const C=r[f];C.name!=="id"&&(l[l.length]={name:C.name,value:C.value},l.map[C.name]=C.value)}n.attributes=l}return n.value=t.value,n}wrap(t){const n=this;return n.parent&&(n.parent.insert(t,n),t.append(n)),n}unwrap(){const t=this;for(let n=t.firstChild;n;){const r=n.next;t.insert(n,t,!0),n=r}t.remove()}remove(){const t=this,n=t.parent,r=t.next,l=t.prev;return n&&(n.firstChild===t?(n.firstChild=r,r&&(r.prev=null)):l&&(l.next=r),n.lastChild===t?(n.lastChild=l,l&&(l.next=null)):r&&(r.prev=l),t.parent=t.next=t.prev=null),t}append(t){const n=this;t.parent&&t.remove();const r=n.lastChild;return r?(r.next=t,t.prev=r,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t}insert(t,n,r){t.parent&&t.remove();const l=n.parent||this;return r?(n===l.firstChild?l.firstChild=t:n.prev&&(n.prev.next=t),t.prev=n.prev,t.next=n,n.prev=t):(n===l.lastChild?l.lastChild=t:n.next&&(n.next.prev=t),t.next=n.next,t.prev=n,n.next=t),t.parent=l,t}getAll(t){const n=this,r=[];for(let l=n.firstChild;l;l=h0(l,n))l.name===t&&r.push(l);return r}children(){const t=this,n=[];for(let r=t.firstChild;r;r=r.next)n.push(r);return n}empty(){const t=this;if(t.firstChild){const n=[];for(let l=t.firstChild;l;l=h0(l,t))n.push(l);let r=n.length;for(;r--;){const l=n[r];l.parent=l.firstChild=l.lastChild=l.next=l.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,n={},r){var l;const f=this;let g=f.firstChild;if(va(f))return!1;if(g)do{if(g.type===1){if(g.attr("data-mce-bogus"))continue;if(t[g.name]||va(g))return!1}if(g.type===8||g.type===3&&!RD(g)||g.type===3&&g.parent&&n[g.parent.name]&&Ul((l=g.value)!==null&&l!==void 0?l:"")||r&&r(g))return!1}while(g=h0(g,f));return!0}walk(t){return h0(this,null,t)}}const ND=Kt.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),a_=e=>Te(e.nodeValue)&&e.nodeValue.includes(la),g2=e=>`${e.length===0?"":`${Me(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,up=(e,t)=>t.querySelectorAll(g2(e)),th=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>a_(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),ID=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(a_(t)){const n=t.parentNode;return n&&Yn(ND,n.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),m7=e=>th(e).nextNode()!==null,pv=e=>ID(e).nextNode()!==null,bv=(e,t)=>t.querySelector(g2(e))!==null,vv=(e,t)=>{pe(up(e,t),n=>{const r=Be.fromDom(n);li(r,"data-mce-bogus")==="all"?hs(r):pe(e,l=>{ad(r,l)&&bo(r,l)})})},i_=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},GE=cn(i_,th),BD=cn(i_,ID),YE=(e,t)=>{const n=[{condition:pt(bv,t),action:pt(vv,t)},{condition:m7,action:GE},{condition:pv,action:BD}];let r=e,l=!1;return pe(n,({condition:f,action:g})=>{f(r)&&(l||(r=e.cloneNode(!0),l=!0),g(r))}),r},MD=e=>{const t=ta(e,"[data-mce-bogus]");pe(t,n=>{li(n,"data-mce-bogus")==="all"?hs(n):Mu(n)?(hr(n,Be.fromText(pr)),hs(n)):Ei(n)})},PD=e=>{const t=ta(e,"input");pe(t,n=>{bo(n,"name")})},LD=(e,t)=>{const n=ji(e),r=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${n}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(r,"")},FD=(e,t)=>{const n=e.getDoc(),r=Wc(Be.fromDom(e.getBody())),l=Be.fromTag("div",n);ra(l,"data-mce-bogus","all"),Bo(l,{position:"fixed",left:"-9999999px",top:"0"}),cm(l,t.innerHTML),MD(l),PD(l);const f=d1(r);Rr(f,l);const g=ul(l.dom.innerText);return hs(l),g},h2=(e,t,n)=>{let r;return t.format==="raw"?r=Kt.trim(ul(YE(n,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?r=FD(e,n):t.format==="tree"?r=e.serializer.serialize(n,t):r=LD(e,e.serializer.serialize(n,t)),t.format!=="text"&&!Fb(Be.fromDom(n))&&Te(r)?Kt.trim(r):r},zD=(e,t)=>J.from(e.getBody()).fold(Qe(t.format==="tree"?new mi("body",11):""),n=>h2(e,t,n)),XE=Kt.makeMap,JE=e=>{const t=[];e=e||{};const n=e.indent,r=XE(e.indent_before||""),l=XE(e.indent_after||""),f=Rg.getEncodeFunc(e.entity_encoding||"raw",e.entities),g=e.element_format!=="xhtml";return{start:(C,A,z)=>{if(n&&r[C]&&t.length>0){const j=t[t.length-1];j.length>0&&j!==`
`&&t.push(`
`)}if(t.push("<",C),A)for(let j=0,G=A.length;j<G;j++){const X=A[j];t.push(" ",X.name,'="',f(X.value,!0),'"')}if(!z||g?t[t.length]=">":t[t.length]=" />",z&&n&&l[C]&&t.length>0){const j=t[t.length-1];j.length>0&&j!==`
`&&t.push(`
`)}},end:C=>{let A;t.push("</",C,">"),n&&l[C]&&t.length>0&&(A=t[t.length-1],A.length>0&&A!==`
`&&t.push(`
`))},text:(C,A)=>{C.length>0&&(t[t.length]=A?C:f(C))},cdata:C=>{t.push("<![CDATA[",C,"]]>")},comment:C=>{t.push("<!--",C,"-->")},pi:(C,A)=>{A?t.push("<?",C," ",f(A),"?>"):t.push("<?",C,"?>"),n&&t.push(`
`)},doctype:C=>{t.push("<!DOCTYPE",C,">",n?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},nh=(e={},t=xc())=>{const n=JE(e);return e.validate="validate"in e?e.validate:!0,{serialize:l=>{const f=e.validate,g={3:A=>{var z;n.text((z=A.value)!==null&&z!==void 0?z:"",A.raw)},8:A=>{var z;n.comment((z=A.value)!==null&&z!==void 0?z:"")},7:A=>{n.pi(A.name,A.value)},10:A=>{var z;n.doctype((z=A.value)!==null&&z!==void 0?z:"")},4:A=>{var z;n.cdata((z=A.value)!==null&&z!==void 0?z:"")},11:A=>{let z=A;if(z=z.firstChild)do C(z);while(z=z.next)}};n.reset();const C=A=>{var z;const j=g[A.type];if(j)j(A);else{const G=A.name,X=G in t.getVoidElements();let de=A.attributes;if(f&&de&&de.length>1){const we=[];we.map={};const me=t.getElementRule(A.name);if(me){for(let ke=0,Fe=me.attributesOrder.length;ke<Fe;ke++){const qe=me.attributesOrder[ke];if(qe in de.map){const We=de.map[qe];we.map[qe]=We,we.push({name:qe,value:We})}}for(let ke=0,Fe=de.length;ke<Fe;ke++){const qe=de[ke].name;if(!(qe in we.map)){const We=de.map[qe];we.map[qe]=We,we.push({name:qe,value:We})}}de=we}}if(n.start(G,de,X),gm(G))Te(A.value)&&n.text(A.value,!0),n.end(G);else if(!X){let we=A.firstChild;if(we){(G==="pre"||G==="textarea")&&we.type===3&&((z=we.value)===null||z===void 0?void 0:z[0])===`
`&&n.text(`
`,!0);do C(we);while(we=we.next)}n.end(G)}}};return l.type===1&&!e.inner?C(l):l.type===3?g[3](l):g[11](l),n.getContent()}}},QE=new Set;pe(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{QE.add(t)});const eA=new Set;pe(["background-color"],t=>{eA.add(t)});const tA=["font","text-decoration","text-emphasis"],HD=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),p0=(e,t)=>Vt(HD(e,t)),nA=e=>QE.has(e),p2=e=>eA.has(e),oA=(e,t)=>xe(p0(e,t),n=>nA(n)),VD=(e,t)=>oA(e,t)&&xe(p0(e,t),n=>p2(n)),l_=e=>Ct(e,t=>xe(tA,n=>Gs(t,n))),g7=(e,t,n)=>{const r=p0(e,t),l=p0(e,n),f=g=>{var C,A;const z=(C=e.getStyle(t,g))!==null&&C!==void 0?C:"",j=(A=e.getStyle(n,g))!==null&&A!==void 0?A:"";return je(z)&&je(j)&&z!==j};return xe(r,g=>{const C=A=>xe(A,z=>z===g);if(!C(l)&&C(tA)){const A=l_(l);return xe(A,f)}else return f(g)})},$D=(e,t,n)=>J.from(n.container()).filter(Mt).exists(r=>{const l=e?0:-1;return t(r.data.charAt(n.offset()+l))}),oh=pt($D,!0,a0),b2=pt($D,!1,a0),UD=e=>{const t=e.container();return Mt(t)&&(t.data.length===0||Sc(t.data)&&Ns.isBookmarkNode(t.parentNode))},Ed=(e,t)=>n=>kC(e?0:-1,n).filter(t).isSome(),sA=e=>hc(e)&&Dr(Be.fromDom(e),"display")==="block",c_=e=>to(e)&&!g1(e),WD=Ed(!0,sA),ZD=Ed(!1,sA),b0=Ed(!0,xt),yv=Ed(!1,xt),jD=Ed(!0,Gc),xv=Ed(!1,Gc),ya=Ed(!0,c_),Df=Ed(!1,c_),v0=e=>e.slice(0,-1),KD=(e,t,n)=>Za(t,e)?v0(rm(e,r=>n(r)||Lo(r,t))):[],Gl=(e,t)=>KD(e,t,xn),Dc=(e,t)=>[e].concat(Gl(e,t)),u_=(e,t,n)=>h5(e,t,n,UD),qD=e=>t=>e.isBlock(Po(t)),rA=(e,t,n)=>wn(Dc(Be.fromDom(t.container()),e),qD(n)),wv=(e,t,n,r)=>u_(e,t.dom,n).forall(l=>rA(t,n,r).fold(()=>!Im(l,n,t.dom),f=>!Im(l,n,t.dom)&&Za(f,Be.fromDom(l.container())))),d_=(e,t,n,r)=>rA(t,n,r).fold(()=>u_(e,t.dom,n).forall(l=>!Im(l,n,t.dom)),l=>u_(e,l.dom,n).isNone()),f_=pt(d_,!1),GD=pt(d_,!0),aA=pt(wv,!1),iA=pt(wv,!0),h7=e=>EC(e).exists(Mu),Uu=(e,t,n,r)=>{const l=Ct(Dc(Be.fromDom(n.container()),t),g=>r.isBlock(Po(g))),f=un(l).getOr(t);return ru(e,f.dom,n).filter(h7)},v2=(e,t,n)=>EC(t).exists(Mu)||Uu(!0,e,t,n).isSome(),y0=(e,t,n)=>bP(t).exists(Mu)||Uu(!1,e,t,n).isSome(),m_=pt(Uu,!1),YD=pt(Uu,!0),lA=e=>mt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),cA=(e,t,n)=>{const r=Ct(Dc(Be.fromDom(t.container()),e),l=>n.isBlock(Po(l)));return un(r).getOr(e)},XD=(e,t,n)=>lA(t)?b2(t):b2(t)||Ec(cA(e,t,n).dom,t).exists(b2),JD=(e,t,n)=>lA(t)?oh(t):oh(t)||Il(cA(e,t,n).dom,t).exists(oh),QD=e=>le(["pre","pre-wrap"],e),g_=e=>EC(e).bind(t=>ea(t,Or)).exists(t=>QD(Dr(t,"white-space"))),uA=(e,t)=>Ec(e.dom,t).isNone(),dA=(e,t)=>Il(e.dom,t).isNone(),eR=(e,t,n)=>uA(e,t)||dA(e,t)||f_(e,t,n)||GD(e,t,n)||y0(e,t,n)||v2(e,t,n),fA=e=>Ce(e)&&to(e)&&sE(e),mA=(e,t)=>n=>fA(new qa(n,e)[t]()),tR=(e,t)=>{const n=Il(e.dom,t).getOr(t),r=mA(e.dom,"next");return t.isAtEnd()&&(r(t.container())||r(n.container()))},gA=(e,t)=>{const n=Ec(e.dom,t).getOr(t),r=mA(e.dom,"prev");return t.isAtStart()&&(r(t.container())||r(n.container()))},hA=(e,t,n)=>g_(t)?!1:eR(e,t,n)||XD(e,t,n)||JD(e,t,n),Cv=(e,t,n)=>g_(t)?!1:f_(e,t,n)||aA(e,t,n)||y0(e,t,n)||XD(e,t,n)||gA(e,t),nR=e=>{const t=e.container(),n=e.offset();return Mt(t)&&n<t.data.length?mt(t,n+1):e},x0=(e,t,n)=>g_(t)?!1:GD(e,t,n)||iA(e,t,n)||v2(e,t,n)||JD(e,t,n)||tR(e,t),pA=(e,t,n)=>Cv(e,t,n)||x0(e,nR(t),n),y2=(e,t)=>Ki(e.charAt(t)),bA=(e,t)=>a0(e.charAt(t)),oR=e=>{const t=e.container();return Mt(t)&&xs(t.data,ga)},p7=e=>{const t=e.split("");return Me(t,(n,r)=>Ki(n)&&r>0&&r<t.length-1&&Yg(t[r-1])&&Yg(t[r+1])?" ":n).join("")},sR=(e,t,n,r)=>{const l=t.data,f=mt(t,0);return!n&&y2(l,0)&&!pA(e,f,r)?(t.data=" "+l.slice(1),!0):n&&bA(l,0)&&Cv(e,f,r)?(t.data=ga+l.slice(1),!0):!1},rR=e=>{const t=e.data,n=p7(t);return n!==t?(e.data=n,!0):!1},aR=(e,t,n,r)=>{const l=t.data,f=mt(t,l.length-1);return!n&&y2(l,l.length-1)&&!pA(e,f,r)?(t.data=l.slice(0,-1)+" ",!0):n&&bA(l,l.length-1)&&x0(e,f,r)?(t.data=l.slice(0,-1)+ga,!0):!1},iR=(e,t,n)=>{const r=t.container();if(!Mt(r))return J.none();if(oR(t)){const l=sR(e,r,!1,n)||rR(r)||aR(e,r,!1,n);return bg(l,t)}else if(pA(e,t,n)){const l=sR(e,r,!0,n)||aR(e,r,!0,n);return bg(l,t)}else return J.none()},b7=e=>{const t=Be.fromDom(e.getBody());e.selection.isCollapsed()&&iR(t,mt.fromRangeStart(e.selection.getRng()),e.schema).each(n=>{e.selection.setRng(n.toRange())})},lR=(e,t,n,r)=>{if(n===0)return;const l=Be.fromDom(e),f=Hi(l,z=>r.isBlock(Po(z))).getOr(l),g=e.data.slice(t,t+n),C=t+n>=e.data.length&&x0(f,mt(e,e.data.length),r),A=t===0&&Cv(f,mt(e,0),r);e.replaceData(t,n,ub(g,4,A,C))},h_=(e,t,n)=>{const r=e.data.slice(t),l=r.length-lt(r).length;lR(e,t,l,n)},Sr=(e,t,n)=>{const r=e.data.slice(0,t),l=r.length-st(r).length;lR(e,t-l,l,n)},x2=(e,t,n,r,l=!0)=>{const f=st(e.data).length,g=l?e:t,C=l?t:e;return l?g.appendData(C.data):g.insertData(0,C.data),hs(Be.fromDom(C)),r&&h_(g,f,n),g},v7=(e,t)=>{const n=e.container(),r=e.offset();return!mt.isTextPosition(e)&&n===t.parentNode&&r>mt.before(t).offset()},y7=(e,t)=>v7(t,e)?mt(t.container(),t.offset()-1):t,_v=e=>Mt(e)?mt(e,0):mt.before(e),dp=e=>Mt(e)?mt(e,e.data.length):mt.after(e),Hm=e=>eu(e.previousSibling)?J.some(dp(e.previousSibling)):e.previousSibling?Lu(e.previousSibling):J.none(),vA=e=>eu(e.nextSibling)?J.some(_v(e.nextSibling)):e.nextSibling?Un(e.nextSibling):J.none(),cR=(e,t)=>J.from(t.previousSibling?t.previousSibling:t.parentNode).bind(n=>Ec(e,mt.before(n))).orThunk(()=>Il(e,mt.after(t))),uR=(e,t)=>Il(e,mt.after(t)).orThunk(()=>Ec(e,mt.before(t))),p_=(e,t)=>Hm(t).orThunk(()=>vA(t)).orThunk(()=>cR(e,t)),x7=(e,t)=>vA(t).orThunk(()=>Hm(t)).orThunk(()=>uR(e,t)),yA=(e,t,n)=>e?x7(t,n):p_(t,n),dR=(e,t,n)=>yA(e,t,n).map(pt(y7,n)),xA=(e,t,n)=>{n.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),t)})},wA=e=>t=>t.dom===e,fR=(e,t)=>t&&Yn(e.schema.getBlockElements(),Po(t)),CA=(e,t,n)=>{if(Ir(e,t)){const r=Be.fromHtml('<br data-mce-bogus="1">');return n?pe(Ka(t),l=>{LC(l)||hs(l)}):zs(t),Rr(t,r),J.some(mt.before(r.dom))}else return J.none()},w7=(e,t,n,r)=>{const l=aa(e).filter(Ys),f=Pn(e).filter(Ys);return hs(e),jd(l,f,t,(g,C,A)=>{const z=g.dom,j=C.dom,G=z.data.length;return x2(z,j,n,r),A.container()===j?mt(z,G):A}).orThunk(()=>(r&&(l.each(g=>Sr(g.dom,g.dom.length,n)),f.each(g=>h_(g.dom,0,n))),t))},C7=(e,t)=>Yn(e.schema.getTextInlineElements(),Po(t)),fl=(e,t,n,r=!0,l=!1)=>{const f=dR(t,e.getBody(),n.dom),g=Hi(n,pt(fR,e),wA(e.getBody())),C=w7(n,f,e.schema,C7(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):g.bind(A=>CA(e.schema,A,l)).fold(()=>{r&&xA(e,t,C)},A=>{r&&xA(e,t,J.some(A))})},mR=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,_7=e=>mR.test(e),w0=(e,t)=>ws(Be.fromDom(t),Vo(e))&&!lf(e.schema,t)&&e.dom.isEditable(t),w2=e=>{var t;return Bs.DOM.getStyle(e,"direction",!0)==="rtl"||_7((t=e.textContent)!==null&&t!==void 0?t:"")},S7=(e,t,n)=>Ct(Bs.DOM.getParents(n.container(),"*",t),e),fp=(e,t,n)=>{const r=S7(e,t,n);return J.from(r[r.length-1])},gR=(e,t,n)=>{const r=Jh(t,e),l=Jh(n,e);return Ce(r)&&r===l},_A=e=>zb(e)||$1(e),Wu=(e,t)=>{const n=t.container(),r=t.offset();return e?Em(n)?Mt(n.nextSibling)?mt(n.nextSibling,0):mt.after(n):zb(t)?mt(n,r+1):t:Em(n)?Mt(n.previousSibling)?mt(n.previousSibling,n.previousSibling.data.length):mt.before(n):$1(t)?mt(n,r-1):t},hR=pt(Wu,!0),Sv=pt(Wu,!1),SA=(e,t)=>{const n=r=>r.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},pR=e=>{e.execCommand("delete")},b_=e=>SA(e,"Delete"),kA=e=>SA(e,"ForwardDelete"),C2=e=>t=>Wd(ja(t),e,Lo),bR=e=>Pb(e)||km(e),_2=(e,t)=>Za(e,t)?ea(t,bR,C2(e)):J.none(),v_=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},vR=(e,t,n)=>Ua(Un(n),Lu(n),(r,l)=>{const f=Wu(!0,r),g=Wu(!1,l),C=Wu(!1,t);return e?Il(n,C).exists(A=>A.isEqual(g)&&t.isEqual(f)):Ec(n,C).exists(A=>A.isEqual(f)&&t.isEqual(g))}).getOr(!0),Ad=e=>(wg(e)?aa(e):Au(e)).bind(Ad).orThunk(()=>J.some(e)),y_=(e,t,n,r=!0)=>{var l;t.deleteContents();const f=Ad(n).getOr(n),g=Be.fromDom((l=e.dom.getParent(f.dom,e.dom.isBlock))!==null&&l!==void 0?l:n.dom);if(g.dom===e.getBody()?v_(e,r):Ir(e.schema,g,{checkRootAsContent:!1})&&(_c(g),r&&e.selection.setCursorLocation(g.dom,0)),!Lo(n,g)){const C=Wd(ja(g),n)?[]:sb(g);pe(C.concat(Ka(n)),A=>{!Lo(A,g)&&!Za(A,g)&&Ir(e.schema,A)&&hs(A)})}},k7=e=>t=>Lo(e,t),EA=e=>ta(e,"td,th"),ds=(e,t)=>_s(Be.fromDom(e),t),E7=e=>Ua(e.startTable,e.endTable,(t,n)=>{const r=m1(t,f=>Lo(f,n)),l=m1(n,f=>Lo(f,t));return!r&&!l?e:{...e,startTable:r?J.none():e.startTable,endTable:l?J.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),S2=e=>E7(e),A7=(e,t)=>{const n=ds(e.startContainer,t),r=ds(e.endContainer,t),l=n.isSome(),f=r.isSome(),g=Ua(n,r,Lo).getOr(!1);return S2({startTable:n,endTable:r,isStartInTable:l,isEndInTable:f,isSameTable:g,isMultiTable:!g&&l&&f})},x_=(e,t)=>({start:e,end:t}),mp=(e,t,n)=>({rng:e,table:t,cells:n}),qi=Mo.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),gp=(e,t)=>Ta(Be.fromDom(e),"td,th",t),sh=e=>!Lo(e.start,e.end),Rf=(e,t)=>_s(e.start,t).bind(n=>_s(e.end,t).bind(r=>bg(Lo(n,r),n))),k2=(e,t)=>!sh(e)&&Rf(e,t).exists(n=>{const r=n.dom.rows;return r.length===1&&r[0].cells.length===1}),AA=(e,t)=>{const n=gp(e.startContainer,t),r=gp(e.endContainer,t);return Ua(n,r,x_)},TA=e=>t=>_s(t,e).bind(n=>po(EA(n)).map(r=>x_(t,r))),yR=e=>t=>_s(t,e).bind(n=>un(EA(n)).map(r=>x_(r,t))),w_=e=>t=>Rf(t,e).map(n=>mp(t,n,EA(n))),xR=(e,t,n,r)=>{if(n.collapsed||!e.forall(sh))return J.none();if(t.isSameTable){const l=e.bind(w_(r));return J.some({start:l,end:l})}else{const l=gp(n.startContainer,r),f=gp(n.endContainer,r),g=l.bind(TA(r)).bind(w_(r)),C=f.bind(yR(r)).bind(w_(r));return J.some({start:g,end:C})}},wR=(e,t)=>Cn(e,n=>Lo(n,t)),C_=e=>Ua(wR(e.cells,e.rng.start),wR(e.cells,e.rng.end),(t,n)=>e.cells.slice(t,n+1)),CR=(e,t,n)=>e.exists(r=>k2(r,n)&&Vx(r.start,t)),OA=(e,t)=>{const{startTable:n,endTable:r}=t,l=e.cloneRange();return n.each(f=>l.setStartAfter(f.dom)),r.each(f=>l.setEndBefore(f.dom)),l},_R=(e,t,n,r)=>xR(e,t,n,r).bind(({start:l,end:f})=>l.or(f)).bind(l=>{const{isSameTable:f}=t,g=C_(l).getOr([]);if(f&&l.cells.length===g.length)return J.some(qi.fullTable(l.table));if(g.length>0){if(f)return J.some(qi.partialTable(g,J.none()));{const C=OA(n,t);return J.some(qi.partialTable(g,J.some({...t,rng:C})))}}else return J.none()}),DA=(e,t,n,r)=>xR(e,t,n,r).bind(({start:l,end:f})=>{const g=l.bind(C_).getOr([]),C=f.bind(C_).getOr([]);if(g.length>0&&C.length>0){const A=OA(n,t);return J.some(qi.multiTable(g,C,A))}else return J.none()}),T7=(e,t)=>{const n=k7(e),r=AA(t,n),l=A7(t,n);return CR(r,t,n)?r.map(f=>qi.singleCellTable(t,f.start)):l.isMultiTable?DA(r,l,t,n):_R(r,l,t,n)},SR=e=>pe(e,t=>{bo(t,"contenteditable"),_c(t)}),O7=(e,t)=>J.from(e.dom.getParent(t,e.dom.isBlock)).map(Be.fromDom),Vm=(e,t,n)=>{n.each(r=>{t?hs(r):(_c(r),e.selection.setCursorLocation(r.dom,0))})},C0=(e,t,n,r)=>{const l=n.cloneRange();r?(l.setStart(n.startContainer,n.startOffset),l.setEndAfter(t.dom.lastChild)):(l.setStartBefore(t.dom.firstChild),l.setEnd(n.endContainer,n.endOffset)),IA(e,l,t,!1).each(f=>f())},RA=e=>{const t=Ef(e),n=Be.fromDom(e.selection.getNode());Ih(n.dom)&&Ir(e.schema,n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&xe(t,r=>Lo(r,n))&&ra(n,"data-mce-selected","1")},NA=(e,t,n)=>J.some(()=>{const r=e.selection.getRng(),l=n.bind(({rng:f,isStartInTable:g})=>{const C=O7(e,g?f.endContainer:f.startContainer);f.deleteContents(),Vm(e,g,C.filter(pt(Ir,e.schema)));const A=g?t[0]:t[t.length-1];return C0(e,A,r,g),Ir(e.schema,A)?J.none():J.some(g?t.slice(1):t.slice(0,-1))}).getOr(t);SR(l),RA(e)}),kR=(e,t,n,r)=>J.some(()=>{const l=e.selection.getRng(),f=t[0],g=n[n.length-1];C0(e,f,l,!0),C0(e,g,l,!1);const C=Ir(e.schema,f)?t:t.slice(1),A=Ir(e.schema,g)?n:n.slice(0,-1);SR(C.concat(A)),r.deleteContents(),RA(e)}),IA=(e,t,n,r=!0)=>J.some(()=>{y_(e,t,n,r)}),hp=(e,t)=>J.some(()=>fl(e,!1,t)),D7=(e,t,n)=>T7(t,n).bind(r=>r.fold(pt(IA,e),pt(hp,e),pt(NA,e),pt(kR,e))),R7=(e,t)=>__(e,t),N7=(e,t,n,r)=>BA(t,r).fold(()=>D7(e,t,n),l=>R7(e,l)),I7=(e,t,n)=>{const r=Be.fromDom(e.getBody()),l=e.selection.getRng();return n.length!==0?NA(e,n,J.none()):N7(e,r,l,t)},ER=(e,t)=>wn(Dc(t,e),Cc),BA=(e,t)=>wn(Dc(t,e),Gd("caption")),B7=(e,t,n,r,l)=>s0(n,e.getBody(),l).bind(f=>ER(t,Be.fromDom(f.getNode())).bind(g=>Lo(g,r)?J.none():J.some(Pt))),__=(e,t)=>J.some(()=>{_c(t),e.selection.setCursorLocation(t.dom,0)}),M7=(e,t,n,r)=>Un(e.dom).bind(l=>Lu(e.dom).map(f=>t?n.isEqual(l)&&r.isEqual(f):n.isEqual(f)&&r.isEqual(l))).getOr(!0),S_=(e,t)=>__(e,t),P7=(e,t,n)=>BA(e,Be.fromDom(n.getNode())).fold(()=>J.some(Pt),r=>bg(!Lo(r,t),Pt)),E2=(e,t,n,r,l)=>s0(n,e.getBody(),l).fold(()=>J.some(Pt),f=>M7(r,n,l,f)?S_(e,r):P7(t,r,f)),MA=(e,t,n,r)=>{const l=mt.fromRangeStart(e.selection.getRng());return ER(n,r).bind(f=>Ir(e.schema,f,{checkRootAsContent:!1})?__(e,f):B7(e,n,t,f,l))},_0=(e,t,n,r)=>{const l=mt.fromRangeStart(e.selection.getRng());return Ir(e.schema,r)?__(e,r):E2(e,n,t,r,l)},pp=(e,t)=>e?jD(t):xv(t),k_=(e,t)=>{const n=mt.fromRangeStart(e.selection.getRng());return pp(t,n)||ru(t,e.getBody(),n).exists(r=>pp(t,r))},E_=(e,t,n)=>{const r=Be.fromDom(e.getBody());return BA(r,n).fold(()=>MA(e,t,r,n).orThunk(()=>bg(k_(e,t),Pt)),l=>_0(e,t,r,l))},rh=(e,t)=>{const n=Be.fromDom(e.selection.getStart(!0)),r=Ef(e);return e.selection.isCollapsed()&&r.length===0?E_(e,t,n):I7(e,n,r)},Zu=(e,t)=>{let n=t;for(;n&&n!==e;){if(pc(n)||to(n))return n;n=n.parentNode}return null},A_=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],T_=Kt.each,O_=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),r=(f,g)=>{if(f.nodeName!==g.nodeName||f.nodeType!==g.nodeType)return!1;const C=z=>{const j={};return T_(t.getAttribs(z),G=>{const X=G.nodeName.toLowerCase();X!=="style"&&!l(X)&&(j[X]=t.getAttrib(z,X))}),j},A=(z,j)=>{for(const G in z)if(Yn(z,G)){const X=j[G];if(Ze(X)||z[G]!==X)return!1;delete j[G]}for(const G in j)if(Yn(j,G))return!1;return!0};return yn(f)&&yn(g)&&(!A(C(f),C(g))||!A(t.parseStyle(t.getAttrib(f,"style")),t.parseStyle(t.getAttrib(g,"style"))))?!1:!iu(f)&&!iu(g)},l=f=>xe(A_,g=>Gs(f,g))||n.has(f);return{compare:r,isAttributeInternal:l}},D_=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),PA=e=>e.name==="summary",AR=(e,t)=>{let n=e;for(;n=n.walk();)t(n)},LA=(e,t,n,r)=>{const l=n.name;for(let f=0,g=e.length;f<g;f++){const C=e[f];if(C.name===l){const A=r.nodes[l];A?A.nodes.push(n):r.nodes[l]={filter:C,nodes:[n]}}}if(n.attributes)for(let f=0,g=t.length;f<g;f++){const C=t[f],A=C.name;if(A in n.attributes.map){const z=r.attributes[A];z?z.nodes.push(n):r.attributes[A]={filter:C,nodes:[n]}}}},kv=(e,t,n)=>{const r={nodes:{},attributes:{}};return n.firstChild&&AR(n,l=>{LA(e,t,l,r)}),r},FA=(e,t)=>{const n=(r,l)=>{Wo(r,f=>{const g=io(f.nodes);pe(f.filter.callbacks,C=>{for(let A=g.length-1;A>=0;A--){const z=g[A];(!(l?z.attr(f.filter.name)!==void 0:z.name===f.filter.name)||nt(z.parent))&&g.splice(A,1)}g.length>0&&C(g,f.filter.name,t)})})};n(e.nodes,!1),n(e.attributes,!0)},zA=(e,t,n,r={})=>{const l=kv(e,t,n);FA(l,r)},R_=(e,t,n,r)=>{if((e.pad_empty_with_br||t.insert)&&n(r)){const f=new mi("br",1);t.insert&&f.attr("data-mce-bogus","1"),r.empty().append(f)}else r.empty().append(new mi("#text",3)).value=ga},N_=e=>{var t;return HA(e,"#text")&&((t=e==null?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===ga},HA=(e,t)=>{const n=e==null?void 0:e.firstChild;return Ce(n)&&n===e.lastChild&&n.name===t},TR=(e,t)=>{const n=e.getElementRule(t.name);return(n==null?void 0:n.paddEmpty)===!0},Ev=(e,t,n,r)=>r.isEmpty(t,n,l=>TR(e,l)),OR=(e,t)=>Ce(e)&&(t(e)||e.name==="br"),ah=e=>{let t;for(let n=e;n;n=n.parent){const r=n.attr("contenteditable");if(r==="false")break;r==="true"&&(t=n)}return J.from(t)},$m=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const l of r)n&&!t.isValidChild(n.name,l.name)&&$m(l,t,n);e.unwrap()}},cu=(e,t,n,r=Pt)=>{const l=t.getTextBlockElements(),f=t.getNonEmptyElements(),g=t.getWhitespaceElements(),C=Kt.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),A=new Set,z=j=>j!==n&&!C[j.name];for(let j=0;j<e.length;j++){const G=e[j];let X,de,we;if(!G.parent||A.has(G))continue;if(l[G.name]&&G.parent.name==="li"){let ke=G.next;for(;ke&&l[ke.name];){ke.name="li",A.add(ke),G.parent.insert(ke,G.parent);ke=ke.next}G.unwrap();continue}const me=[G];for(X=G.parent;X&&!t.isValidChild(X.name,G.name)&&z(X);X=X.parent)me.push(X);if(X&&me.length>1)if(A2(t,G,X))$m(G,t);else{me.reverse(),de=me[0].clone(),r(de);let ke=de;for(let Fe=0;Fe<me.length-1;Fe++){t.isValidChild(ke.name,me[Fe].name)&&Fe>0?(we=me[Fe].clone(),r(we),ke.append(we)):we=ke;for(let qe=me[Fe].firstChild;qe&&qe!==me[Fe+1];){const We=qe.next;we.append(qe),qe=We}ke=we}Ev(t,f,g,de)?X.insert(G,me[0],!0):(X.insert(de,me[0],!0),X.insert(G,de)),X=me[0],(Ev(t,f,g,X)||HA(X,"br"))&&X.empty().remove()}else if(G.parent){if(G.name==="li"){let ke=G.prev;if(ke&&(ke.name==="ul"||ke.name==="ol")){ke.append(G);continue}if(ke=G.next,ke&&(ke.name==="ul"||ke.name==="ol")&&ke.firstChild){ke.insert(G,ke.firstChild,!0);continue}const Fe=new mi("ul",1);r(Fe),G.wrap(Fe);continue}if(t.isValidChild(G.parent.name,"div")&&t.isValidChild("div",G.name)){const ke=new mi("div",1);r(ke),G.wrap(ke)}else $m(G,t)}}},VA=(e,t)=>{let n=e;for(;n;){if(n.name===t)return!0;n=n.parent}return!1},A2=(e,t,n=t.parent)=>n?e.children[t.name]&&!e.isValidChild(n.name,t.name)||t.name==="a"&&VA(n,"a")?!0:PA(n)&&D_(t)?!((n==null?void 0:n.firstChild)===t&&(n==null?void 0:n.lastChild)===t):!1:!1,DR=(e,t,n,r)=>{const l=document.createRange();return l.setStart(e,t),l.setEnd(n,r),l},RR=e=>{const t=mt.fromRangeStart(e),n=mt.fromRangeEnd(e),r=e.commonAncestorContainer;return ru(!1,r,n).map(l=>!Im(t,n,r)&&Im(t,l,r)?DR(t.container(),t.offset(),l.container(),l.offset()):e).getOr(e)},I_=e=>e.collapsed?e:RR(e),$A=e=>Ce(e.firstChild)&&e.firstChild===e.lastChild,NR=e=>e.name==="br"||e.value===ga,IR=(e,t)=>e.getBlockElements()[t.name]&&$A(t)&&NR(t.firstChild),UA=(e,t)=>{const n=e.getNonEmptyElements();return Ce(t)&&(t.isEmpty(n)||IR(e,t))},Um=(e,t)=>{let n=t.firstChild,r=t.lastChild;return n&&n.name==="meta"&&(n=n.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),UA(e,r)&&(r=r==null?void 0:r.prev),!n||n!==r?!1:n.name==="ul"||n.name==="ol"},Td=e=>{var t,n;const r=e.firstChild,l=e.lastChild;return r&&r.nodeName==="META"&&((t=r.parentNode)===null||t===void 0||t.removeChild(r)),l&&l.id==="mce_marker"&&((n=l.parentNode)===null||n===void 0||n.removeChild(l)),e},B_=(e,t,n)=>{const r=t.serialize(n),l=e.createFragment(r);return Td(l)},BR=e=>{var t;return Ct((t=e==null?void 0:e.childNodes)!==null&&t!==void 0?t:[],n=>n.nodeName==="LI")},M_=e=>e.data===ga||or(e),MR=e=>Ce(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&M_(e.firstChild),PR=e=>!e.firstChild||MR(e),LR=e=>e.length>0&&PR(e[e.length-1])?e.slice(0,-1):e,P_=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&n.nodeName==="LI"?n:null},FR=(e,t)=>!!P_(e,t),zR=(e,t)=>{const n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},L_=(e,t)=>{const n=mt.before(e),l=zn(t).next(n);return l?l.toRange():null},F_=(e,t)=>{const n=mt.after(e),l=zn(t).prev(n);return l?l.toRange():null},HR=(e,t,n,r)=>{const l=zR(e,r),f=e.parentNode;return f&&(f.insertBefore(l[0],e),Kt.each(t,g=>{f.insertBefore(g,e)}),f.insertBefore(l[1],e),f.removeChild(e)),F_(t[t.length-1],n)},WA=(e,t,n)=>{const r=e.parentNode;return r&&Kt.each(t,l=>{r.insertBefore(l,e)}),L_(e,n)},L7=(e,t,n,r)=>(r.insertAfter(t.reverse(),e),F_(t[0],n)),F7=(e,t,n,r)=>{const l=B_(t,e,r),f=P_(t,n.startContainer),g=LR(BR(l.firstChild)),C=1,A=2,z=t.getRoot(),j=G=>{const X=mt.fromRangeStart(n),de=zn(t.getRoot()),we=G===C?de.prev(X):de.next(X),me=we==null?void 0:we.getNode();return me?P_(t,me)!==f:!0};return f?j(C)?WA(f,g,z):j(A)?L7(f,g,z,t):HR(f,g,z,n):null},z7=["pre"],H7=(e,t,n,r)=>{var l;const f=t.firstChild,g=t.lastChild,C=g.attr("data-mce-type")==="bookmark"?g.prev:g,A=f===C,z=le(z7,f.name);if(A&&z){const j=f.attr("contenteditable")!=="false",G=((l=e.getParent(n,e.isBlock))===null||l===void 0?void 0:l.nodeName.toLowerCase())===f.name,X=J.from(Zu(r,n)).forall(pc);return j&&G&&X}else return!1},ZA=Ih,V7=(e,t,n)=>{if(Ce(n)){const r=e.getParent(t.endContainer,ZA);return n===r&&Vx(Be.fromDom(n),t)}else return!1},z_=(e,t,n)=>{var r;if(n.getAttribute("data-mce-bogus")==="all")(r=n.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(t),n);else{const l=n.firstChild,f=n.lastChild;!l||l===f&&l.nodeName==="BR"?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})}},jA=(e,t,n)=>{J.from(e.getParent(t,"td,th")).map(Be.fromDom).each(r=>dx(r,n))},VR=(e,t)=>{const n=e.schema.getTextInlineElements(),r=e.dom;if(t){const l=e.getBody(),f=O_(e),g="*[data-mce-fragment]",C=r.select(g);Kt.each(C,A=>{const z=X=>Ce(n[X.nodeName.toLowerCase()]),j=X=>X.childNodes.length===1;if((X=>!(oA(r,X)||VD(r,X)))(A)&&z(A)&&j(A)){const X=p0(r,A),de=(Fe,qe)=>vo(Fe,We=>le(qe,We)),we=Fe=>j(A)&&r.is(Fe,g)&&z(Fe)&&(Fe.nodeName===A.nodeName&&de(X,p0(r,Fe))||we(Fe.children[0])),me=Fe=>Ce(Fe)&&Fe!==l&&(f.compare(A,Fe)||me(Fe.parentElement)),ke=Fe=>Ce(Fe)&&Fe!==l&&r.is(Fe,g)&&(g7(r,A,Fe)||ke(Fe.parentElement));(we(A.children[0])||me(A.parentElement)&&!ke(A.parentElement))&&r.remove(A,!0)}})}},KA=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},$7=e=>{Kt.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},U7=e=>!!e.getAttribute("data-mce-fragment"),W7=(e,t)=>Ce(t)&&!e.schema.getVoidElements()[t.nodeName],Z7=(e,t)=>{var n,r,l;let f;const g=e.dom,C=e.selection;if(!t)return;C.scrollIntoView(t);const A=Zu(e.getBody(),t);if(A&&g.getContentEditable(A)==="false"){g.remove(t),C.select(A);return}let z=g.createRng();const j=t.previousSibling;if(Mt(j)){z.setStart(j,(r=(n=j.nodeValue)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0);const de=t.nextSibling;Mt(de)&&(j.appendData(de.data),(l=de.parentNode)===null||l===void 0||l.removeChild(de))}else z.setStartBefore(t),z.setEndBefore(t);const G=de=>{let we=mt.fromRangeStart(de);return we=zn(e.getBody()).next(we),we==null?void 0:we.toRange()},X=g.getParent(t,g.isBlock);if(g.remove(t),X&&g.isEmpty(X)){const de=ZA(X);zs(Be.fromDom(X)),z.setStart(X,0),z.setEnd(X,0),!de&&!U7(X)&&(f=G(z))?(z=f,g.remove(X)):g.add(X,g.create("br",de?{}:{"data-mce-bogus":"1"}))}C.setRng(z)},j7=e=>{const t=e.dom,n=I_(e.selection.getRng());e.selection.setRng(n);const r=t.getParent(n.startContainer,ZA);V7(t,n,r)?IA(e,n,Be.fromDom(r)):n.startContainer===n.endContainer&&n.endOffset-n.startOffset===1&&Mt(n.startContainer.childNodes[n.startOffset])?n.deleteContents():e.getDoc().execCommand("Delete",!1)},K7=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return J.some(t);return J.none()},H_=(e,t,n)=>{var r;return xe(n.children(),D_)&&((r=e.getParent(t,e.isBlock))===null||r===void 0?void 0:r.nodeName)==="SUMMARY"},V_=(e,t,n)=>{var r,l;const f=e.selection,g=e.dom,C=e.parser,A=n.merge,z=nh({validate:!0},e.schema),j='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.preserve_zwsp||(t=ul(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,j);let G=f.getRng();const X=G.startContainer,de=e.getBody();X===de&&f.isCollapsed()&&g.isBlock(de.firstChild)&&W7(e,de.firstChild)&&g.isEmpty(de.firstChild)&&(G=g.createRng(),G.setStart(de.firstChild,0),G.setEnd(de.firstChild,0),f.setRng(G)),f.isCollapsed()||j7(e);const we=f.getNode(),me={context:we.nodeName.toLowerCase(),data:n.data,insert:!0},ke=C.parse(t,me);if(n.paste===!0&&Um(e.schema,ke)&&FR(g,we))return G=F7(z,g,f.getRng(),ke),G&&f.setRng(G),t;n.paste===!0&&H7(g,ke,we,e.getBody())&&((r=ke.firstChild)===null||r===void 0||r.unwrap()),KA(ke);let Fe=ke.lastChild;if(Fe&&Fe.attr("id")==="mce_marker"){const qe=Fe;for(Fe=Fe.prev;Fe;Fe=Fe.walk(!0))if(Fe.type===3||!g.isBlock(Fe.name)){Fe.parent&&e.schema.isValidChild(Fe.parent.name,"span")&&Fe.parent.insert(qe,Fe,Fe.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(we),!me.invalid&&!H_(g,we,ke))t=z.serialize(ke),z_(e,t,we);else{e.selection.setContent(j);let qe=f.getNode(),We;const at=e.getBody();for(Sn(qe)?qe=We=at:We=qe;We&&We!==at;)qe=We,We=We.parentNode;t=qe===at?at.innerHTML:g.getOuterHTML(qe);const Nt=C.parse(t),jt=K7(Nt),dn=jt.bind(ah).getOr(Nt);jt.each(bn=>bn.replace(ke));const wt=ke.children(),dt=(l=ke.parent)!==null&&l!==void 0?l:Nt;ke.unwrap();const Dt=Ct(wt,bn=>A2(e.schema,bn,dt));cu(Dt,e.schema,dn),zA(C.getNodeFilters(),C.getAttributeFilters(),Nt),t=z.serialize(Nt),qe===at?g.setHTML(at,t):g.setOuterHTML(qe,t)}return VR(e,A),Z7(e,g.get("mce_marker")),$7(e.getBody()),jA(g,f.getStart(),e.schema),gd(e.schema,e.getBody(),f.getStart()),t},S0=e=>e instanceof mi,q7=e=>{hv(e)&&Un(e.getBody()).each(t=>{const n=t.getNode(),r=Gc(n)?Un(n).getOr(t):t;e.selection.setRng(r.toRange())})},qA=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),n!==!0&&q7(e)},G7=(e,t,n,r)=>{if(n=ul(n),n.length===0||/^\s+$/.test(n)){const l='<br data-mce-bogus="1">';t.nodeName==="TABLE"?n="<tr><td>"+l+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+l+"</li>");const f=ji(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),f.toLowerCase())?(n=l,n=e.dom.createHTML(f,_x(e),n)):n||(n=l),qA(e,n,r.no_selection),{content:n,html:n}}else{r.format!=="raw"&&(n=nh({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const l=Fb(Be.fromDom(t))?n:Kt.trim(n);return qA(e,l,r.no_selection),{content:l,html:l}}},Y7=(e,t,n,r)=>{zA(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const l=nh({validate:!1},e.schema).serialize(n),f=ul(Fb(Be.fromDom(t))?l:Kt.trim(l));return qA(e,f,r.no_selection),{content:n,html:f}},X7=(e,t,n)=>J.from(e.getBody()).map(r=>S0(t)?Y7(e,r,t,n):G7(e,r,t,n)).getOr({content:t,html:S0(n.content)?"":n.content}),$R=e=>Ne(e)?e:xn,Od=(e,t,n)=>{let r=e.dom;const l=$R(n);for(;r.parentNode;){r=r.parentNode;const f=Be.fromDom(r),g=t(f);if(g.isSome())return g;if(l(f))break}return J.none()},T2=(e,t,n)=>{const r=t(e),l=$R(n);return r.orThunk(()=>l(e)?J.none():Od(e,t,l))},$_=dv,GA=(e,t,n)=>{const r=e.formatter.get(n);if(r)for(let l=0;l<r.length;l++){const f=r[l];if(Ac(f)&&f.inherit===!1&&e.dom.is(t,f.selector))return!0}return!1},U_=(e,t,n,r,l)=>{const f=e.dom.getRoot();if(t===f)return!1;const g=e.dom.getParent(t,C=>GA(e,C,n)?!0:C.parentNode===f||!!Wm(e,C,n,r,!0));return!!Wm(e,g,n,r,l)},W_=(e,t,n)=>ei(n)&&$_(t,n.inline)||Af(n)&&$_(t,n.block)?!0:Ac(n)?yn(t)&&e.is(t,n.selector):!1,YA=(e,t,n,r,l,f)=>{const g=n[r],C=r==="attributes";if(Ne(n.onmatch))return n.onmatch(t,n,r);if(g){if(en(g)){for(let A=0;A<g.length;A++)if(C?e.getAttrib(t,g[A]):Ux(e,t,g[A]))return!0}else for(const A in g)if(Yn(g,A)){const z=C?e.getAttrib(t,A):Ux(e,t,A),j=Xg(g[A],f),G=nt(z)||Lt(z);if(G&&nt(j))continue;if(l&&G&&!n.exact||(!l||n.exact)&&!$_(z,BC(j,A)))return!1}}return!0},Wm=(e,t,n,r,l)=>{const f=e.formatter.get(n),g=e.dom;if(f&&yn(t))for(let C=0;C<f.length;C++){const A=f[C];if(W_(e.dom,t,A)&&YA(g,t,A,"attributes",l,r)&&YA(g,t,A,"styles",l,r)){const z=A.classes;if(z){for(let j=0;j<z.length;j++)if(!e.dom.hasClass(t,Xg(z[j],r)))return}return A}}},bp=(e,t,n,r,l)=>{if(r)return U_(e,r,t,n,l);if(r=e.selection.getNode(),U_(e,r,t,n,l))return!0;const f=e.selection.getStart();return!!(f!==r&&U_(e,f,t,n,l))},UR=(e,t,n)=>{const r=[],l={},f=e.selection.getStart();return e.dom.getParent(f,g=>{for(let C=0;C<t.length;C++){const A=t[C];!l[A]&&Wm(e,g,A,n)&&(l[A]=!0,r.push(A))}},e.dom.getRoot()),r},WR=(e,t)=>{const n=l=>Lo(l,Be.fromDom(e.getBody())),r=(l,f)=>Wm(e,l.dom,f)?J.some(f):J.none();return J.from(e.selection.getStart(!0)).bind(l=>T2(Be.fromDom(l),f=>Ws(t,g=>r(f,g)),n)).getOrNull()},ZR=(e,t)=>{const n=e.formatter.get(t),r=e.dom;if(n&&e.selection.isEditable()){const l=e.selection.getStart(),f=Wx(r,l);for(let g=n.length-1;g>=0;g--){const C=n[g];if(!Ac(C))return!0;for(let A=f.length-1;A>=0;A--)if(r.is(f[A],C.selector))return!0}}return!1},XA=(e,t,n)=>It(n,(r,l)=>{const f=N5(e,l);return e.formatter.matchNode(t,l,{},f)?r.concat([l]):r},[]),O2=la,J7=(e,t)=>e.importNode(t,!0),jR=e=>{if(e){const t=new qa(e,e);for(let n=t.current();n;n=t.next())if(Mt(n))return n}return null},Zm=e=>{const t=Be.fromTag("span");return wi(t,{id:av,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Rr(t,Be.fromText(O2)),t},JA=e=>{const t=jR(e);return t&&t.data.charAt(0)===O2&&t.deleteData(0,1),t},QA=(e,t,n)=>{const r=e.dom,l=e.selection;if(wE(t))fl(e,!1,Be.fromDom(t),n,!0);else{const f=l.getRng(),g=r.getParent(t,r.isBlock),C=f.startContainer,A=f.startOffset,z=f.endContainer,j=f.endOffset,G=JA(t);r.remove(t,!0),C===G&&A>0&&f.setStart(G,A-1),z===G&&j>0&&f.setEnd(G,j-1),g&&r.isEmpty(g)&&_c(Be.fromDom(g)),l.setRng(f)}},e3=(e,t,n)=>{const r=e.dom,l=e.selection;if(t)QA(e,t,n);else if(t=Qh(e.getBody(),l.getStart()),!t)for(;t=r.get(av);)QA(e,t,n)},k0=(e,t,n)=>{var r,l;const f=e.dom,g=f.getParent(n,pt(IC,e.schema));g&&f.isEmpty(g)?(r=n.parentNode)===null||r===void 0||r.replaceChild(t,n):(jl(Be.fromDom(n)),f.isEmpty(n)?(l=n.parentNode)===null||l===void 0||l.replaceChild(t,n):f.insertAfter(t,n))},t3=(e,t)=>(e.appendChild(t),t),D2=(e,t)=>{var n;const r=zt(e,(f,g)=>t3(f,g.cloneNode(!1)),t),l=(n=r.ownerDocument)!==null&&n!==void 0?n:document;return t3(r,l.createTextNode(O2))},Q7=(e,t,n,r,l,f)=>{const g=e.formatter,C=e.dom,A=Ct(Vt(g.get()),G=>G!==r&&!xs(G,"removeformat")),z=XA(e,n,A);if(Ct(z,G=>!I5(e,G,r)).length>0){const G=n.cloneNode(!1);return C.add(t,G),g.remove(r,l,G,f),C.remove(G),J.some(G)}else return J.none()},KR=e=>Ib(e,Sm(e).replace(new RegExp(`${ga}$`)," ")),n3=(e,t)=>{const n=()=>{t!==null&&!e.dom.isEmpty(t)&&aa(Be.fromDom(t)).each(r=>{Ys(r)?KR(r):Aa(r,l=>Ys(l)).each(l=>{Ys(l)&&KR(l)})})};e.once("input",r=>{r.data&&!a0(r.data)&&(r.isComposing?e.once("compositionend",()=>{n()}):n())})},ih=(e,t,n)=>{let r;const l=e.selection,f=e.formatter.get(t);if(!f)return;const g=l.getRng();let C=g.startOffset;const z=g.startContainer.nodeValue;r=Qh(e.getBody(),l.getStart());const j=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(z&&C>0&&C<z.length&&j.test(z.charAt(C))&&j.test(z.charAt(C-1))){const G=l.getBookmark();g.collapse(!0);let X=np(e.dom,g,f);X=a2(X),e.formatter.apply(t,n,X),l.moveToBookmark(G)}else{let G=r?jR(r):null;(!r||(G==null?void 0:G.data)!==O2)&&(r=J7(e.getDoc(),Zm(!0).dom),G=r.firstChild,g.insertNode(r),C=1,n3(e,r)),e.formatter.apply(t,n,r),l.setCursorLocation(G,C)}},o3=(e,t,n,r)=>{const l=e.dom,f=e.selection;let g=!1;const C=e.formatter.get(t);if(!C)return;const A=f.getRng(),z=A.startContainer,j=A.startOffset;let G=z;Mt(z)&&(j!==z.data.length&&(g=!0),G=G.parentNode);const X=[];let de;for(;G;){if(Wm(e,G,t,n,r)){de=G;break}G.nextSibling&&(g=!0),X.push(G),G=G.parentNode}if(de)if(g){const we=f.getBookmark();A.collapse(!0);let me=np(l,A,C,!0);me=a2(me),e.formatter.remove(t,n,me,r),f.moveToBookmark(we)}else{const we=Qh(e.getBody(),de),me=Ce(we)?l.getParents(de.parentNode,Rn,we):[],ke=Zm(!1).dom;k0(e,ke,we??de);const Fe=Q7(e,ke,de,t,n,r),qe=D2([...X,...Fe.toArray(),...me],ke);we&&QA(e,we,Ce(we)),f.setCursorLocation(qe,1),n3(e,ke),l.isEmpty(de)&&l.remove(de)}},s3=(e,t,n)=>{const r=e.selection,l=e.getBody();e3(e,null,n),(t===8||t===46)&&r.isCollapsed()&&r.getStart().innerHTML===O2&&e3(e,Qh(l,r.getStart()),!0),(t===37||t===39)&&e3(e,Qh(l,r.getStart()),!0)},r3=e=>Mt(e)&&Se(e.data,ga),qR=e=>{e.on("mouseup keydown",t=>{s3(e,t.keyCode,r3(e.selection.getRng().endContainer))})},a3=e=>{const t=Zm(!1),n=D2(e,t.dom);return{caretContainer:t,caretPosition:mt(n,0)}},i3=(e,t)=>{const{caretContainer:n,caretPosition:r}=a3(t);return hr(Be.fromDom(e),n),hs(Be.fromDom(e)),r},eL=(e,t)=>{const{caretContainer:n,caretPosition:r}=a3(t);return e.insertNode(n.dom),r},Av=(e,t)=>{if(au(t.dom))return!1;const n=e.schema.getTextInlineElements();return Yn(n,Po(t))&&!au(t.dom)&&!of(t.dom)},vp={},l3=Ga(["pre"]),GR=(e,t)=>{vp[e]||(vp[e]=[]),vp[e].push(t)},YR=(e,t)=>{Yn(vp,e)&&pe(vp[e],n=>{n(t)})};GR("pre",e=>{const t=e.selection.getRng(),n=l=>f=>{const g=f.previousSibling;return l3(g)&&le(l,g)},r=(l,f)=>{const g=Be.fromDom(f),C=Vl(g).dom;hs(g),Vr(Be.fromDom(l),[Be.fromTag("br",C),Be.fromTag("br",C),...Ka(g)])};if(!t.collapsed){const l=e.selection.getSelectedBlocks(),f=Ct(Ct(l,l3),n(l));pe(f,g=>{r(g.previousSibling,g)})}});const c3=["fontWeight","fontStyle","color","fontSize","fontFamily"],Z_=e=>te(e.styles)&&xe(Vt(e.styles),t=>le(c3,t)),u3=e=>wn(e,t=>ei(t)&&t.inline==="span"&&Z_(t)),Tv=(e,t)=>{const n=e.get(t);return ne(n)?u3(n):J.none()},XR=(e,t)=>Ec(t,mt.fromRangeStart(e)).isNone(),d3=(e,t)=>Il(t,mt.fromRangeEnd(e)).exists(n=>!or(n.getNode())||Il(t,n).isSome())===!1,JR=e=>t=>By(t)&&e.isEditable(t),tL=e=>{const t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return XR(n,t[0])&&d3(n,t[0])?t:[];{const r=un(t).filter(g=>XR(n,g)).toArray(),l=po(t).filter(g=>d3(n,g)).toArray(),f=t.slice(1,-1);return r.concat(f).concat(l)}},QR=e=>Ct(tL(e),JR(e.dom)),f3=e=>Ct(e.getSelectedBlocks(),JR(e.dom)),m3=Kt.each,j_=e=>yn(e)&&!iu(e)&&!au(e)&&!of(e),yp=(e,t)=>{for(let n=e;n;n=n[t]){if(Mt(n)&&je(n.data))return e;if(yn(n)&&!iu(n))return n}return e},g3=(e,t,n)=>{const r=O_(e),l=qc(t)&&e.dom.isEditable(t),f=qc(n)&&e.dom.isEditable(n);if(l&&f){const g=yp(t,"previousSibling"),C=yp(n,"nextSibling");if(r.compare(g,C)){for(let A=g.nextSibling;A&&A!==C;){const z=A;A=A.nextSibling,g.appendChild(z)}return e.dom.remove(C),Kt.each(Kt.grep(C.childNodes),A=>{g.appendChild(A)}),g}}return n},K_=(e,t,n,r)=>{var l;if(r&&t.merge_siblings!==!1){const f=(l=g3(e,i0(r),r))!==null&&l!==void 0?l:r;g3(e,f,i0(f,!0))}},eN=(e,t,n)=>{if(t.clear_child_styles){const r=t.links?"*:not(a)":"*";m3(e.select(r,n),l=>{j_(l)&&e.isEditable(l)&&m3(t.styles,(f,g)=>{e.setStyle(l,g,"")})})}},R2=(e,t,n)=>{m3(e.childNodes,r=>{j_(r)&&(t(r)&&n(r),r.hasChildNodes()&&R2(r,t,n))})},xp=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},h3=(e,t)=>n=>!!(n&&Ux(e,n,t)),uu=(e,t,n)=>r=>{e.setStyle(r,t,n),r.getAttribute("style")===""&&r.removeAttribute("style"),xp(e,r)},ju=Mo.generate([{keep:[]},{rename:["name"]},{removed:[]}]),p3=/^(src|href|style)$/,q_=Kt.each,G_=dv,tN=e=>/^(TR|TH|TD)$/.test(e.nodeName),E0=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),N2=(e,t,n)=>{let r=t[n?"startContainer":"endContainer"],l=t[n?"startOffset":"endOffset"];if(yn(r)){const f=r.childNodes.length-1;!n&&l&&l--,r=r.childNodes[l>f?f:l]}return Mt(r)&&n&&l>=r.data.length&&(r=new qa(r,e.getBody()).next()||r),Mt(r)&&!n&&l===0&&(r=new qa(r,e.getBody()).prev()||r),r},b3=(e,t)=>{const n=t?"firstChild":"lastChild",r=e[n];return tN(e)&&r?e.nodeName==="TR"&&r[n]||r:e},Y_=(e,t,n,r)=>{var l;const f=e.create(n,r);return(l=t.parentNode)===null||l===void 0||l.insertBefore(f,t),f.appendChild(t),f},X_=(e,t,n,r,l)=>{const f=Be.fromDom(t),g=Be.fromDom(e.create(r,l)),C=n?am(f):ku(f);return Vr(g,C),n?(hr(f,g),ki(g,f)):(et(f,g),Rr(g,f)),g.dom},nL=(e,t)=>t.links&&e.nodeName==="A",nN=(e,t,n)=>{const r=t.parentNode;let l;const f=e.dom,g=ji(e);Af(n)&&r===f.getRoot()&&(!n.list_block||!G_(t,n.list_block))&&pe(io(t.childNodes),C=>{ep(e,g,C.nodeName.toLowerCase())?l?l.appendChild(C):(l=Y_(f,C,g),f.setAttribs(l,_x(e))):l=null}),!(P5(n)&&!G_(n.inline,t))&&f.remove(t,!0)},v3=(e,t,n)=>D(e)?{name:t,value:null}:{name:e,value:Xg(t,n)},oN=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},Rc=(e,t,n,r,l)=>{let f=!1;q_(n.styles,(g,C)=>{const{name:A,value:z}=v3(C,g,r),j=BC(z,A);(n.remove_similar||Ge(z)||!yn(l)||G_(Ux(e,l,A),j))&&e.setStyle(t,A,""),f=!0}),f&&oN(e,t)},y3=(e,t,n)=>{t==="removeformat"?pe(f3(e.selection),r=>{pe(c3,l=>e.dom.setStyle(r,l,"")),oN(e.dom,r)}):Tv(e.formatter,t).each(r=>{pe(f3(e.selection),l=>Rc(e.dom,l,r,n,null))})},x3=(e,t,n,r,l)=>{const f=e.dom,g=O_(e),C=e.schema;if(ei(t)&&hb(C,t.inline)&&lf(C,r)&&r.parentElement===e.getBody())return nN(e,r,t),ju.removed();if(!t.ceFalseOverride&&r&&f.getContentEditableParent(r)==="false"||r&&!W_(f,r,t)&&!nL(r,t))return ju.keep();const A=r,z=t.preserve_attributes;if(ei(t)&&t.remove==="all"&&ne(z)){const j=Ct(f.getAttribs(A),G=>le(z,G.name.toLowerCase()));if(f.removeAllAttribs(A),pe(j,G=>f.setAttrib(A,G.name,G.value)),j.length>0)return ju.rename("span")}if(t.remove!=="all"){Rc(f,A,t,n,l),q_(t.attributes,(G,X)=>{const{name:de,value:we}=v3(X,G,n);if(t.remove_similar||Ge(we)||!yn(l)||G_(f.getAttrib(l,de),we)){if(de==="class"){const me=f.getAttrib(A,de);if(me){let ke="";if(pe(me.split(/\s+/),Fe=>{/mce\-\w+/.test(Fe)&&(ke+=(ke?" ":"")+Fe)}),ke){f.setAttrib(A,de,ke);return}}}if(p3.test(de)&&A.removeAttribute("data-mce-"+de),de==="style"&&Ga(["li"])(A)&&f.getStyle(A,"list-style-type")==="none"){A.removeAttribute(de),f.setStyle(A,"list-style-type","none");return}de==="class"&&A.removeAttribute("className"),A.removeAttribute(de)}}),q_(t.classes,G=>{G=Xg(G,n),(!yn(l)||f.hasClass(l,G))&&f.removeClass(A,G)});const j=f.getAttribs(A);for(let G=0;G<j.length;G++){const X=j[G].nodeName;if(!g.isAttributeInternal(X))return ju.keep()}}return t.remove!=="none"?(nN(e,A,t),ju.removed()):ju.keep()},w3=(e,t,n,r,l)=>{let f;return t.parentNode&&pe(Wx(e.dom,t.parentNode).reverse(),g=>{if(!f&&yn(g)&&g.id!=="_start"&&g.id!=="_end"){const C=Wm(e,g,n,r,l);C&&C.split!==!1&&(f=g)}}),f},sN=(e,t,n,r)=>x3(e,t,n,r,r).fold(Qe(r),l=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,l)),Qe(null)),I2=(e,t,n,r,l,f,g,C)=>{var A,z;let j,G;const X=e.dom;if(n){const de=n.parentNode;for(let we=r.parentNode;we&&we!==de;we=we.parentNode){let me=X.clone(we,!1);for(let ke=0;ke<t.length&&(me=sN(e,t[ke],C,me),me!==null);ke++);me&&(j&&me.appendChild(j),G||(G=me),j=me)}(!g.mixed||!X.isBlock(n))&&(r=(A=X.split(n,r))!==null&&A!==void 0?A:r),j&&G&&((z=l.parentNode)===null||z===void 0||z.insertBefore(j,l),G.appendChild(l),ei(g)&&K_(e,g,C,j))}return r},lh=(e,t,n,r,l)=>{const f=e.formatter.get(t),g=f[0],C=e.dom,A=e.selection,z=me=>{const ke=w3(e,me,t,n,l);return I2(e,f,ke,me,me,!0,g,n)},j=me=>iu(me)&&yn(me)&&(me.id==="_start"||me.id==="_end"),G=me=>xe(f,ke=>Cp(e,ke,n,me,me)),X=me=>{const ke=io(me.childNodes),qe=G(me)||xe(f,Nt=>W_(C,me,Nt)),We=me.parentNode;if(!qe&&Ce(We)&&PC(g)&&G(We),g.deep&&ke.length)for(let Nt=0;Nt<ke.length;Nt++)X(ke[Nt]);pe(["underline","line-through","overline"],Nt=>{yn(me)&&e.dom.getStyle(me,"text-decoration")===Nt&&me.parentNode&&xE(C,me.parentNode)===Nt&&Cp(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Nt}},void 0,me)})},de=me=>{const ke=C.get(me?"_start":"_end");if(ke){let Fe=ke[me?"firstChild":"lastChild"];return j(Fe)&&(Fe=Fe[me?"firstChild":"lastChild"]),Mt(Fe)&&Fe.data.length===0&&(Fe=me?ke.previousSibling||ke.nextSibling:ke.nextSibling||ke.previousSibling),C.remove(ke,!0),Fe}else return null},we=me=>{let ke,Fe,qe=np(C,me,f,me.collapsed);if(g.split){if(qe=a2(qe),ke=N2(e,qe,!0),Fe=N2(e,qe),ke!==Fe){if(ke=b3(ke,!0),Fe=b3(Fe,!1),E0(C,ke,Fe)){const at=J.from(ke.firstChild).getOr(ke);z(X_(C,at,!0,"span",{id:"_start","data-mce-type":"bookmark"})),de(!0);return}if(E0(C,Fe,ke)){const at=J.from(Fe.lastChild).getOr(Fe);z(X_(C,at,!1,"span",{id:"_end","data-mce-type":"bookmark"})),de(!1);return}ke=Y_(C,ke,"span",{id:"_start","data-mce-type":"bookmark"}),Fe=Y_(C,Fe,"span",{id:"_end","data-mce-type":"bookmark"});const We=C.createRng();We.setStartAfter(ke),We.setEndBefore(Fe),qx(C,We,at=>{pe(at,Nt=>{!iu(Nt)&&!iu(Nt.parentNode)&&z(Nt)})}),z(ke),z(Fe),ke=de(!0),Fe=de()}else ke=Fe=z(ke);qe.startContainer=ke.parentNode?ke.parentNode:ke,qe.startOffset=C.nodeIndex(ke),qe.endContainer=Fe.parentNode?Fe.parentNode:Fe,qe.endOffset=C.nodeIndex(Fe)+1}qx(C,qe,We=>{pe(We,X)})};if(r){if(uv(r)){const me=C.createRng();me.setStartBefore(r),me.setEndAfter(r),we(me)}else we(r);Z5(e,t,r,n);return}!A.isCollapsed()||!ei(g)||Ef(e).length?(bE(e,()=>cv(e,we),me=>ei(g)&&bp(e,t,n,me)),e.nodeChanged()):o3(e,t,n,l),y3(e,t,n),Z5(e,t,r,n)},wp=(e,t,n,r,l)=>{(r||e.selection.isEditable())&&lh(e,t,n,r,l)},Cp=(e,t,n,r,l)=>x3(e,t,n,r,l).fold(xn,f=>(e.dom.rename(r,f),!0),Rn),J_=Kt.each,C3=(e,t,n,r)=>{const l=f=>{if(qc(f)&&yn(f.parentNode)&&e.isEditable(f)){const g=xE(e,f.parentNode);e.getStyle(f,"color")&&g?e.setStyle(f,"text-decoration",g):e.getStyle(f,"text-decoration")===g&&e.setStyle(f,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(Kt.walk(r,l,"childNodes"),l(r))},rN=(e,t,n,r)=>{if(t.styles&&t.styles.backgroundColor){const l=h3(e,"fontSize");R2(r,f=>l(f)&&e.isEditable(f),uu(e,"backgroundColor",Xg(t.styles.backgroundColor,n)))}},oL=(e,t,n,r)=>{if(ei(t)&&(t.inline==="sub"||t.inline==="sup")){const l=h3(e,"fontSize");R2(r,g=>l(g)&&e.isEditable(g),uu(e,"fontSize",""));const f=Ct(e.select(t.inline==="sup"?"sub":"sup",r),e.isEditable);e.remove(f,!0)}},aN=(e,t,n,r)=>{J_(t,l=>{ei(l)&&J_(e.dom.select(l.inline,r),f=>{j_(f)&&Cp(e,l,n,f,l.exact?f:null)}),eN(e.dom,l,r)})},iN=(e,t,n,r,l)=>{const f=l.parentNode;Wm(e,f,n,r)&&Cp(e,t,r,l)||t.merge_with_parents&&f&&e.dom.getParent(f,g=>Wm(e,g,n,r)?(Cp(e,t,r,l),!0):!1)},B2=Kt.each,lN=(e,t,n,r)=>{if(YM(e)&&ei(t)&&n.parentNode){const l=k1(e.schema),f=lb(Be.fromDom(n),g=>au(g.dom));return Ol(l,r)&&Wl(e.schema,n.parentNode,{skipBogus:!1,includeZwsp:!0})&&!f}else return!1},cN=(e,t,n,r)=>{if(B2(n.styles,(l,f)=>{e.setStyle(t,f,Xg(l,r))}),n.styles){const l=e.getAttrib(t,"style");l&&e.setAttrib(t,"data-mce-style",l)}},sL=(e,t,n,r)=>{const l=e.formatter.get(t),f=l[0],g=!r&&e.selection.isCollapsed(),C=e.dom,A=e.selection,z=(we,me=f)=>{Ne(me.onformat)&&me.onformat(we,me,n,r),cN(C,we,me,n),B2(me.attributes,(ke,Fe)=>{C.setAttrib(we,Fe,Xg(ke,n))}),B2(me.classes,ke=>{const Fe=Xg(ke,n);C.hasClass(we,Fe)||C.addClass(we,Fe)})},j=(we,me)=>{let ke=!1;return B2(we,Fe=>Ac(Fe)?C.getContentEditable(me)==="false"&&!Fe.ceFalseOverride||Ce(Fe.collapsed)&&Fe.collapsed!==g?!0:C.is(me,Fe.selector)&&!au(me)?(z(me,Fe),ke=!0,!1):!0:!1),ke},G=we=>{if(Te(we)){const me=C.create(we);return z(me),me}else return null},X=(we,me,ke)=>{const Fe=[];let qe=!0;const We=f.inline||f.block,at=G(We),Nt=wt=>B5(f)&&Wm(e,wt,t,n),jt=(wt,dt,Dt)=>{const bn=M5(f)&&IC(e.schema,wt)&&ep(e,dt,We);return Dt&&bn},dn=(wt,dt,Dt,bn)=>{const Nn=wt.nodeName.toLowerCase(),yo=ep(e,We,Nn)&&ep(e,dt,We),Oo=!ke&&Mt(wt)&&Sc(wt.data),ps=au(wt),Ds=!ei(f)||!we.isBlock(wt);return(Dt||bn)&&yo&&!Oo&&!ps&&Ds};qx(we,me,wt=>{let dt;const Dt=bn=>{let Nn=!1,yo=qe,Oo=!1;const ps=bn.parentNode,Ds=ps.nodeName.toLowerCase(),Yr=we.getContentEditable(bn);Ce(Yr)&&(yo=qe,qe=Yr==="true",Nn=!0,Oo=yE(e,bn));const hl=qe&&!Nn;if(or(bn)&&!lN(e,f,bn,Ds)){dt=null,Af(f)&&we.remove(bn);return}if(Nt(bn)){dt=null;return}if(jt(bn,Ds,hl)){const Ps=we.rename(bn,We);z(Ps),Fe.push(Ps),dt=null;return}if(Ac(f)){let Ps=j(l,bn);if(!Ps&&Ce(ps)&&PC(f)&&(Ps=j(l,ps)),!ei(f)||Ps){dt=null;return}}Ce(at)&&dn(bn,Ds,hl,Oo)?(dt||(dt=we.clone(at,!1),ps.insertBefore(dt,bn),Fe.push(dt)),Oo&&Nn&&(qe=yo),dt.appendChild(bn)):(dt=null,pe(io(bn.childNodes),Dt),Nn&&(qe=yo),dt=null)};pe(wt,Dt)}),f.links===!0&&pe(Fe,wt=>{const dt=Dt=>{Dt.nodeName==="A"&&z(Dt,f),pe(io(Dt.childNodes),dt)};dt(wt)}),pe(Fe,wt=>{const dt=Nn=>{let yo=0;return pe(Nn.childNodes,Oo=>{!SP(Oo)&&!iu(Oo)&&yo++}),yo},Dt=Nn=>wn(Nn.childNodes,NC).filter(Oo=>we.getContentEditable(Oo)!=="false"&&W_(we,Oo,f)).map(Oo=>{const ps=we.clone(Oo,!1);return z(ps),we.replace(ps,Nn,!0),we.remove(Oo,!0),ps}).getOr(Nn),bn=dt(wt);if((Fe.length>1||!we.isBlock(wt))&&bn===0){we.remove(wt,!0);return}(ei(f)||Af(f)&&f.wrapper)&&(!f.exact&&bn===1&&(wt=Dt(wt)),aN(e,l,n,wt),iN(e,f,t,n,wt),rN(we,f,n,wt),C3(we,f,n,wt),oL(we,f,n,wt),K_(e,f,n,wt))})},de=uv(r)?r:A.getNode();if(C.getContentEditable(de)==="false"&&!yE(e,de)){r=de,j(l,r),W5(e,t,r,n);return}if(f){if(r)if(uv(r)){if(!j(l,r)){const we=C.createRng();we.setStartBefore(r),we.setEndAfter(r),X(C,np(C,we,l),!0)}}else X(C,r,!0);else!g||!ei(f)||Ef(e).length?(A.setRng(I_(A.getRng())),bE(e,()=>{cv(e,(we,me)=>{const ke=me?we:np(C,we,l);X(C,ke,!1)})},Rn),e.nodeChanged()):ih(e,t,n),Tv(e.formatter,t).each(we=>{pe(QR(e.selection),me=>cN(C,me,we,n))});YR(t,e)}W5(e,t,r,n)},uN=(e,t,n,r)=>{(r||e.selection.isEditable())&&sL(e,t,n,r)},Bl=e=>Yn(e,"vars"),dN=(e,t)=>{e.set({}),t.on("NodeChange",n=>{S3(t,n.element,e.get())}),t.on("FormatApply FormatRemove",n=>{const r=J.from(n.node).map(l=>uv(l)?l:l.startContainer).bind(l=>yn(l)?J.some(l):J.from(l.parentElement)).getOrThunk(()=>Ov(t));S3(t,r,e.get())})},Ov=e=>e.selection.getStart(),fN=(e,t,n,r,l)=>sn(t,C=>{const A=e.formatter.matchNode(C,n,l??{},r);return!Ze(A)},C=>GA(e,C,n)?!0:r?!1:Ce(e.formatter.matchNode(C,n,l,!0))),_3=(e,t)=>{const n=t??Ov(e);return Ct(Wx(e.dom,n),r=>yn(r)&&!of(r))},S3=(e,t,n)=>{const r=_3(e,t);Wo(n,(l,f)=>{const g=C=>{const A=fN(e,r,f,C.similar,Bl(C)?C.vars:void 0),z=A.isSome();if(C.state.get()!==z){C.state.set(z);const j=A.getOr(t);Bl(C)?C.callback(z,{node:j,format:f,parents:r}):pe(C.callbacks,G=>G(z,{node:j,format:f,parents:r}))}};pe([l.withSimilar,l.withoutSimilar],g),pe(l.withVars,g)})},k3=(e,t,n,r,l,f)=>{const g=t.get();pe(n.split(","),C=>{const A=gs(g,C).getOrThunk(()=>{const j={withSimilar:{state:ha(!1),similar:!0,callbacks:[]},withoutSimilar:{state:ha(!1),similar:!1,callbacks:[]},withVars:[]};return g[C]=j,j}),z=()=>{const j=_3(e);return fN(e,j,C,l,f).isSome()};if(Ze(f)){const j=l?A.withSimilar:A.withoutSimilar;j.callbacks.push(r),j.callbacks.length===1&&j.state.set(z())}else A.withVars.push({state:ha(z()),similar:l,vars:f,callback:r})}),t.set(g)},mN=(e,t,n)=>{const r=e.get();pe(t.split(","),l=>gs(r,l).each(f=>{r[l]={withSimilar:{...f.withSimilar,callbacks:Ct(f.withSimilar.callbacks,g=>g!==n)},withoutSimilar:{...f.withoutSimilar,callbacks:Ct(f.withoutSimilar.callbacks,g=>g!==n)},withVars:Ct(f.withVars,g=>g.callback!==n)}})),e.set(r)},rL=(e,t,n,r,l,f)=>(k3(e,t,n,r,l,f),{unbind:()=>mN(t,n,r)}),aL=(e,t,n,r)=>{const l=e.formatter.get(t);l&&(bp(e,t,n,r)&&(!("toggle"in l[0])||l[0].toggle)?wp(e,t,n,r):uN(e,t,n,r))},gN=Kt.explode,Q_=()=>{const e={};return{addFilter:(l,f)=>{pe(gN(l),g=>{Yn(e,g)||(e[g]={name:g,callbacks:[]}),e[g].callbacks.push(f)})},getFilters:()=>bu(e),removeFilter:(l,f)=>{pe(gN(l),g=>{if(Yn(e,g))if(Ce(f)){const C=e[g],A=Ct(C.callbacks,z=>z!==f);A.length>0?C.callbacks=A:delete e[g]}else delete e[g]})}}},iL=(e,t)=>{pe(t,n=>{e.attr(n,null)})},lL=(e,t,n)=>{e.addNodeFilter("font",r=>{pe(r,l=>{const f=t.parse(l.attr("style")),g=l.attr("color"),C=l.attr("face"),A=l.attr("size");g&&(f.color=g),C&&(f["font-family"]=C),A&&on(A).each(z=>{f["font-size"]=n[z-1]}),l.name="span",l.attr("style",t.serialize(f)),iL(l,["color","face","size"])})})},hN=(e,t,n)=>{e.addNodeFilter("strike",r=>{const l=t.type!=="html4";pe(r,f=>{if(l)f.name="s";else{const g=n.parse(f.attr("style"));g["text-decoration"]="line-through",f.name="span",f.attr("style",n.serialize(g))}})})},cL=(e,t,n)=>{var r;const l=Jy();t.convert_fonts_to_spans&&lL(e,l,Kt.explode((r=t.font_size_legacy_values)!==null&&r!==void 0?r:"")),hN(e,n,l)},uL=(e,t,n)=>{t.inline_styles&&cL(e,t,n)},E3=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),eS=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},tS=e=>{const[t,...n]=e.split(","),r=n.join(","),l=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(l){const f=l[2]===";base64",g=f?eS(r):decodeURIComponent(r);return J.some({type:l[1],data:g,base64Encoded:f})}else return J.none()},A3=(e,t,n=!0)=>{let r=t;if(n)try{r=atob(t)}catch{return J.none()}const l=new Uint8Array(r.length);for(let f=0;f<l.length;f++)l[f]=r.charCodeAt(f);return J.some(new Blob([l],{type:e}))},T3=e=>new Promise((t,n)=>{tS(e).bind(({type:r,data:l,base64Encoded:f})=>A3(r,l,f)).fold(()=>n("Invalid data URI"),t)}),dL=e=>Gs(e,"blob:")?E3(e):Gs(e,"data:")?T3(e):Promise.reject("Unknown URI format"),pN=e=>new Promise((t,n)=>{const r=new FileReader;r.onloadend=()=>{t(r.result)},r.onerror=()=>{var l;n((l=r.error)===null||l===void 0?void 0:l.message)},r.readAsDataURL(e)});let fL=0;const A0=e=>"blobid"+fL++,bN=(e,t,n)=>tS(e).bind(({data:r,type:l,base64Encoded:f})=>{if(t&&!f)return J.none();{const g=f?r:btoa(r);return n(g,l)}}),M2=(e,t,n)=>{const r=e.create(A0(),t,n);return e.add(r),r},vN=(e,t,n=!1)=>bN(t,n,(r,l)=>J.from(e.getByData(r,l)).orThunk(()=>A3(l,r).map(f=>M2(e,f,r)))),O3=(e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(Gs(t,"blob:")){const r=e.getByUri(t);return Ce(r)?Promise.resolve(r):dL(t).then(l=>pN(l).then(f=>bN(f,!1,g=>J.some(M2(e,l,g))).getOrThunk(n)))}else return Gs(t,"data:")?vN(e,t).fold(n,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},yN=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,xN=e=>J.from(e.match(yN)).bind(t=>yi(t,1)).map(t=>Gs(t,"www.")?t.substring(4):t),D3=(e,t)=>{J.from(e.attr("src")).bind(xN).forall(n=>!le(t,n))&&e.attr("sandbox","")},Dv=(e,t)=>Gs(e,`${t}/`),mL=e=>Ze(e)?"iframe":Dv(e,"image")?"img":Dv(e,"video")?"video":Dv(e,"audio")?"audio":"iframe",gL=({type:e,src:t,width:n,height:r}={},l,f)=>{const g=mL(e),C=new mi(g,1);return C.attr(g==="audio"?{src:t}:{src:t,width:n,height:r}),(g==="audio"||g==="video")&&C.attr("controls",""),g==="iframe"&&l&&D3(C,f),C},R3=e=>Ce(e.attr("data-mce-bogus")),wN=e=>e.attr("src")===Co.transparentSrc||Ce(e.attr("data-mce-placeholder")),hL=(e,t)=>{const{blob_cache:n}=t;if(n){const r=l=>{const f=l.attr("src");wN(l)||R3(l)||nt(f)||vN(n,f,!0).each(g=>{l.attr("src",g.blobUri())})};e.addAttributeFilter("src",l=>pe(l,r))}},pL=(e,t)=>{var n,r;const l=e.schema;e.addAttributeFilter("href",A=>{let z=A.length;const j=X=>X.split(" ").filter(we=>we.length>0).concat(["noopener"]).sort().join(" "),G=X=>{const de=X?Kt.trim(X):"";return/\b(noopener)\b/g.test(de)?de:j(de)};if(!t.allow_unsafe_link_target)for(;z--;){const X=A[z];X.name==="a"&&X.attr("target")==="_blank"&&X.attr("rel",G(X.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",A=>{let z=A.length,j,G,X,de;for(;z--;)if(de=A[z],de.name==="a"&&de.firstChild&&!de.attr("href"))for(X=de.parent,j=de.lastChild;j&&X;)G=j.prev,X.insert(j,de),j=G}),t.fix_list_elements&&e.addNodeFilter("ul,ol",A=>{let z=A.length,j,G;for(;z--;)if(j=A[z],G=j.parent,G&&(G.name==="ul"||G.name==="ol"))if(j.prev&&j.prev.name==="li")j.prev.append(j);else{const X=new mi("li",1);X.attr("style","list-style-type: none"),j.wrap(X)}});const f=l.getValidClasses();t.validate&&f&&e.addAttributeFilter("class",A=>{var z;let j=A.length;for(;j--;){const G=A[j],X=(z=G.attr("class"))!==null&&z!==void 0?z:"",de=Kt.explode(X," ");let we="";for(let me=0;me<de.length;me++){const ke=de[me];let Fe=!1,qe=f["*"];qe&&qe[ke]&&(Fe=!0),qe=f[G.name],!Fe&&qe&&qe[ke]&&(Fe=!0),Fe&&(we&&(we+=" "),we+=ke)}we.length||(we=null),G.attr("class",we)}}),hL(e,t);const g=(n=t.sandbox_iframes)!==null&&n!==void 0?n:!1,C=za((r=t.sandbox_iframes_exclusions)!==null&&r!==void 0?r:[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",A=>pe(A,z=>{z.replace(gL({type:z.attr("type"),src:z.name==="object"?z.attr("data"):z.attr("src"),width:z.attr("width"),height:z.attr("height")},g,C))})),g&&e.addNodeFilter("iframe",A=>pe(A,z=>D3(z,C)))},{entries:CN,setPrototypeOf:_N,isFrozen:N3,getPrototypeOf:SN,getOwnPropertyDescriptor:bL}=Object;let{freeze:Nc,seal:rr,create:vL}=Object,{apply:I3,construct:nS}=typeof Reflect<"u"&&Reflect;I3||(I3=function(t,n,r){return t.apply(n,r)}),Nc||(Nc=function(t){return t}),rr||(rr=function(t){return t}),nS||(nS=function(t,n){return new t(...n)});const B3=Xl(Array.prototype.forEach),kN=Xl(Array.prototype.pop),Dd=Xl(Array.prototype.push),Rv=Xl(String.prototype.toLowerCase),oS=Xl(String.prototype.toString),M3=Xl(String.prototype.match),Ku=Xl(String.prototype.replace),P3=Xl(String.prototype.indexOf),EN=Xl(String.prototype.trim),Yl=Xl(RegExp.prototype.test),_p=P2(TypeError);function Xl(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),l=1;l<n;l++)r[l-1]=arguments[l];return I3(e,t,r)}}function P2(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return nS(e,n)}}function $o(e,t,n){var r;n=(r=n)!==null&&r!==void 0?r:Rv,_N&&_N(e,null);let l=t.length;for(;l--;){let f=t[l];if(typeof f=="string"){const g=n(f);g!==f&&(N3(t)||(t[l]=g),f=g)}e[f]=!0}return e}function jm(e){const t=vL(null);for(const[n,r]of CN(e))t[n]=r;return t}function L2(e,t){for(;e!==null;){const r=bL(e,t);if(r){if(r.get)return Xl(r.get);if(typeof r.value=="function")return Xl(r.value)}e=SN(e)}function n(r){return console.warn("fallback value for",r),null}return n}const L3=Nc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),F3=Nc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),sS=Nc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),yL=Nc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),z3=Nc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),F2=Nc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),AN=Nc(["#text"]),TN=Nc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),H3=Nc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ON=Nc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),rS=Nc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),xL=rr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),wL=rr(/<%[\w\W]*|[\w\W]*%>/gm),CL=rr(/\${[\w\W]*}/gm),_L=rr(/^data-[\-\w.\u00B7-\uFFFF]/),SL=rr(/^aria-[\-\w]+$/),DN=rr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),RN=rr(/^(?:\w+script|data):/i),NN=rr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),V3=rr(/^html$/i);var $3=Object.freeze({__proto__:null,MUSTACHE_EXPR:xL,ERB_EXPR:wL,TMPLIT_EXPR:CL,DATA_ATTR:_L,ARIA_ATTR:SL,IS_ALLOWED_URI:DN,IS_SCRIPT_OR_DATA:RN,ATTR_WHITESPACE:NN,DOCTYPE_NAME:V3});const IN=()=>typeof window>"u"?null:window,BN=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const l="data-tt-policy-suffix";n&&n.hasAttribute(l)&&(r=n.getAttribute(l));const f="dompurify"+(r?"#"+r:"");try{return t.createPolicy(f,{createHTML(g){return g},createScriptURL(g){return g}})}catch{return console.warn("TrustedTypes policy "+f+" could not be created."),null}};function U3(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:IN();const t=No=>U3(No);if(t.version="3.0.5",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;const n=e.document,r=n.currentScript;let{document:l}=e;const{DocumentFragment:f,HTMLTemplateElement:g,Node:C,Element:A,NodeFilter:z,NamedNodeMap:j=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:G,DOMParser:X,trustedTypes:de}=e,we=A.prototype,me=L2(we,"cloneNode"),ke=L2(we,"nextSibling"),Fe=L2(we,"childNodes"),qe=L2(we,"parentNode");if(typeof g=="function"){const No=l.createElement("template");No.content&&No.content.ownerDocument&&(l=No.content.ownerDocument)}let We,at="";const{implementation:Nt,createNodeIterator:jt,createDocumentFragment:dn,getElementsByTagName:wt}=l,{importNode:dt}=n;let Dt={};t.isSupported=typeof CN=="function"&&typeof qe=="function"&&Nt&&Nt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:bn,ERB_EXPR:Nn,TMPLIT_EXPR:yo,DATA_ATTR:Oo,ARIA_ATTR:ps,IS_SCRIPT_OR_DATA:Ds,ATTR_WHITESPACE:Yr}=$3;let{IS_ALLOWED_URI:hl}=$3,Ps=null;const Jt=$o({},[...L3,...F3,...sS,...z3,...AN]);let Tn=null;const ts=$o({},[...TN,...H3,...ON,...rS]);let nn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Hn=null,ko=null,ln=!0,xo=!0,Ro=!1,gi=!0,Es=!1,oi=!1,Mf=!1,vh=!1,ec=!1,Xu=!1,Pf=!1,Ju=!0,Lf=!1;const Mn="user-content-";let Ko=!0,Fr=!1,sa={},Ba=null;const Gi=$o({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let wa=null;const Ca=$o({},["audio","video","img","source","image","track"]);let tc=null;const eg=$o({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),tg="http://www.w3.org/1998/Math/MathML",ng="http://www.w3.org/2000/svg",Ff="http://www.w3.org/1999/xhtml";let Xv=Ff,jS=!1,KS=null;const Y9=$o({},[tg,ng,Ff],oS);let $0;const d8=["application/xhtml+xml","text/html"],dZ="text/html";let Pl,vw=null;const fZ=l.createElement("form"),X9=function(ht){return ht instanceof RegExp||ht instanceof Function},Np=function(ht){if(!(vw&&vw===ht)){if((!ht||typeof ht!="object")&&(ht={}),ht=jm(ht),$0=d8.indexOf(ht.PARSER_MEDIA_TYPE)===-1?$0=dZ:$0=ht.PARSER_MEDIA_TYPE,Pl=$0==="application/xhtml+xml"?oS:Rv,Ps="ALLOWED_TAGS"in ht?$o({},ht.ALLOWED_TAGS,Pl):Jt,Tn="ALLOWED_ATTR"in ht?$o({},ht.ALLOWED_ATTR,Pl):ts,KS="ALLOWED_NAMESPACES"in ht?$o({},ht.ALLOWED_NAMESPACES,oS):Y9,tc="ADD_URI_SAFE_ATTR"in ht?$o(jm(eg),ht.ADD_URI_SAFE_ATTR,Pl):eg,wa="ADD_DATA_URI_TAGS"in ht?$o(jm(Ca),ht.ADD_DATA_URI_TAGS,Pl):Ca,Ba="FORBID_CONTENTS"in ht?$o({},ht.FORBID_CONTENTS,Pl):Gi,Hn="FORBID_TAGS"in ht?$o({},ht.FORBID_TAGS,Pl):{},ko="FORBID_ATTR"in ht?$o({},ht.FORBID_ATTR,Pl):{},sa="USE_PROFILES"in ht?ht.USE_PROFILES:!1,ln=ht.ALLOW_ARIA_ATTR!==!1,xo=ht.ALLOW_DATA_ATTR!==!1,Ro=ht.ALLOW_UNKNOWN_PROTOCOLS||!1,gi=ht.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Es=ht.SAFE_FOR_TEMPLATES||!1,oi=ht.WHOLE_DOCUMENT||!1,ec=ht.RETURN_DOM||!1,Xu=ht.RETURN_DOM_FRAGMENT||!1,Pf=ht.RETURN_TRUSTED_TYPE||!1,vh=ht.FORCE_BODY||!1,Ju=ht.SANITIZE_DOM!==!1,Lf=ht.SANITIZE_NAMED_PROPS||!1,Ko=ht.KEEP_CONTENT!==!1,Fr=ht.IN_PLACE||!1,hl=ht.ALLOWED_URI_REGEXP||DN,Xv=ht.NAMESPACE||Ff,nn=ht.CUSTOM_ELEMENT_HANDLING||{},ht.CUSTOM_ELEMENT_HANDLING&&X9(ht.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(nn.tagNameCheck=ht.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ht.CUSTOM_ELEMENT_HANDLING&&X9(ht.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(nn.attributeNameCheck=ht.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ht.CUSTOM_ELEMENT_HANDLING&&typeof ht.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(nn.allowCustomizedBuiltInElements=ht.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Es&&(xo=!1),Xu&&(ec=!0),sa&&(Ps=$o({},[...AN]),Tn=[],sa.html===!0&&($o(Ps,L3),$o(Tn,TN)),sa.svg===!0&&($o(Ps,F3),$o(Tn,H3),$o(Tn,rS)),sa.svgFilters===!0&&($o(Ps,sS),$o(Tn,H3),$o(Tn,rS)),sa.mathMl===!0&&($o(Ps,z3),$o(Tn,ON),$o(Tn,rS))),ht.ADD_TAGS&&(Ps===Jt&&(Ps=jm(Ps)),$o(Ps,ht.ADD_TAGS,Pl)),ht.ADD_ATTR&&(Tn===ts&&(Tn=jm(Tn)),$o(Tn,ht.ADD_ATTR,Pl)),ht.ADD_URI_SAFE_ATTR&&$o(tc,ht.ADD_URI_SAFE_ATTR,Pl),ht.FORBID_CONTENTS&&(Ba===Gi&&(Ba=jm(Ba)),$o(Ba,ht.FORBID_CONTENTS,Pl)),Ko&&(Ps["#text"]=!0),oi&&$o(Ps,["html","head","body"]),Ps.table&&($o(Ps,["tbody"]),delete Hn.tbody),ht.TRUSTED_TYPES_POLICY){if(typeof ht.TRUSTED_TYPES_POLICY.createHTML!="function")throw _p('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ht.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw _p('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');We=ht.TRUSTED_TYPES_POLICY,at=We.createHTML("")}else We===void 0&&(We=BN(de,r)),We!==null&&typeof at=="string"&&(at=We.createHTML(""));Nc&&Nc(ht),vw=ht}},HT=$o({},["mi","mo","mn","ms","mtext"]),ut=$o({},["foreignobject","desc","title","annotation-xml"]),ft=$o({},["title","style","font","a","script"]),Yt=$o({},F3);$o(Yt,sS),$o(Yt,yL);const Wt=$o({},z3);$o(Wt,F2);const Wn=function(ht){let kn=qe(ht);(!kn||!kn.tagName)&&(kn={namespaceURI:Xv,tagName:"template"});const oo=Rv(ht.tagName),da=Rv(kn.tagName);return KS[ht.namespaceURI]?ht.namespaceURI===ng?kn.namespaceURI===Ff?oo==="svg":kn.namespaceURI===tg?oo==="svg"&&(da==="annotation-xml"||HT[da]):!!Yt[oo]:ht.namespaceURI===tg?kn.namespaceURI===Ff?oo==="math":kn.namespaceURI===ng?oo==="math"&&ut[da]:!!Wt[oo]:ht.namespaceURI===Ff?kn.namespaceURI===ng&&!ut[da]||kn.namespaceURI===tg&&!HT[da]?!1:!Wt[oo]&&(ft[oo]||!Yt[oo]):!!($0==="application/xhtml+xml"&&KS[ht.namespaceURI]):!1},Ho=function(ht){Dd(t.removed,{element:ht});try{ht.parentNode.removeChild(ht)}catch{ht.remove()}},zr=function(ht,kn){try{Dd(t.removed,{attribute:kn.getAttributeNode(ht),from:kn})}catch{Dd(t.removed,{attribute:null,from:kn})}if(kn.removeAttribute(ht),ht==="is"&&!Tn[ht])if(ec||Xu)try{Ho(kn)}catch{}else try{kn.setAttribute(ht,"")}catch{}},og=function(ht){let kn,oo;if(vh)ht="<remove></remove>"+ht;else{const sg=M3(ht,/^[\r\n\t ]+/);oo=sg&&sg[0]}$0==="application/xhtml+xml"&&Xv===Ff&&(ht='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ht+"</body></html>");const da=We?We.createHTML(ht):ht;if(Xv===Ff)try{kn=new X().parseFromString(da,$0)}catch{}if(!kn||!kn.documentElement){kn=Nt.createDocument(Xv,"template",null);try{kn.documentElement.innerHTML=jS?at:da}catch{}}const nc=kn.body||kn.documentElement;return ht&&oo&&nc.insertBefore(l.createTextNode(oo),nc.childNodes[0]||null),Xv===Ff?wt.call(kn,oi?"html":"body")[0]:oi?kn.documentElement:nc},f8=function(ht){return jt.call(ht.ownerDocument||ht,ht,z.SHOW_ELEMENT|z.SHOW_COMMENT|z.SHOW_TEXT,null,!1)},tae=function(ht){return ht instanceof G&&(typeof ht.nodeName!="string"||typeof ht.textContent!="string"||typeof ht.removeChild!="function"||!(ht.attributes instanceof j)||typeof ht.removeAttribute!="function"||typeof ht.setAttribute!="function"||typeof ht.namespaceURI!="string"||typeof ht.insertBefore!="function"||typeof ht.hasChildNodes!="function")},m8=function(ht){return typeof C=="object"?ht instanceof C:ht&&typeof ht=="object"&&typeof ht.nodeType=="number"&&typeof ht.nodeName=="string"},U0=function(ht,kn,oo){Dt[ht]&&B3(Dt[ht],da=>{da.call(t,kn,oo,vw)})},mZ=function(ht){let kn;if(U0("beforeSanitizeElements",ht,null),tae(ht))return Ho(ht),!0;const oo=Pl(ht.nodeName);if(U0("uponSanitizeElement",ht,{tagName:oo,allowedTags:Ps}),ht.hasChildNodes()&&!m8(ht.firstElementChild)&&(!m8(ht.content)||!m8(ht.content.firstElementChild))&&Yl(/<[/\w]/g,ht.innerHTML)&&Yl(/<[/\w]/g,ht.textContent))return Ho(ht),!0;if(!Ps[oo]||Hn[oo]){if(!Hn[oo]&&hZ(oo)&&(nn.tagNameCheck instanceof RegExp&&Yl(nn.tagNameCheck,oo)||nn.tagNameCheck instanceof Function&&nn.tagNameCheck(oo)))return!1;if(Ko&&!Ba[oo]){const da=qe(ht)||ht.parentNode,nc=Fe(ht)||ht.childNodes;if(nc&&da){const sg=nc.length;for(let Ii=sg-1;Ii>=0;--Ii)da.insertBefore(me(nc[Ii],!0),ke(ht))}}return Ho(ht),!0}return ht instanceof A&&!Wn(ht)||(oo==="noscript"||oo==="noembed"||oo==="noframes")&&Yl(/<\/no(script|embed|frames)/i,ht.innerHTML)?(Ho(ht),!0):(Es&&ht.nodeType===3&&(kn=ht.textContent,kn=Ku(kn,bn," "),kn=Ku(kn,Nn," "),kn=Ku(kn,yo," "),ht.textContent!==kn&&(Dd(t.removed,{element:ht.cloneNode()}),ht.textContent=kn)),U0("afterSanitizeElements",ht,null),!1)},gZ=function(ht,kn,oo){if(Ju&&(kn==="id"||kn==="name")&&(oo in l||oo in fZ))return!1;if(!(xo&&!ko[kn]&&Yl(Oo,kn))){if(!(ln&&Yl(ps,kn))){if(!Tn[kn]||ko[kn]){if(!(hZ(ht)&&(nn.tagNameCheck instanceof RegExp&&Yl(nn.tagNameCheck,ht)||nn.tagNameCheck instanceof Function&&nn.tagNameCheck(ht))&&(nn.attributeNameCheck instanceof RegExp&&Yl(nn.attributeNameCheck,kn)||nn.attributeNameCheck instanceof Function&&nn.attributeNameCheck(kn))||kn==="is"&&nn.allowCustomizedBuiltInElements&&(nn.tagNameCheck instanceof RegExp&&Yl(nn.tagNameCheck,oo)||nn.tagNameCheck instanceof Function&&nn.tagNameCheck(oo))))return!1}else if(!tc[kn]){if(!Yl(hl,Ku(oo,Yr,""))){if(!((kn==="src"||kn==="xlink:href"||kn==="href")&&ht!=="script"&&P3(oo,"data:")===0&&wa[ht])){if(!(Ro&&!Yl(Ds,Ku(oo,Yr,"")))){if(oo)return!1}}}}}}return!0},hZ=function(ht){return ht.indexOf("-")>0},pZ=function(ht){let kn,oo,da,nc;U0("beforeSanitizeAttributes",ht,null);const{attributes:sg}=ht;if(!sg)return;const Ii={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Tn};for(nc=sg.length;nc--;){kn=sg[nc];const{name:rg,namespaceURI:J9}=kn;oo=rg==="value"?kn.value:EN(kn.value);const oae=oo;if(da=Pl(rg),Ii.attrName=da,Ii.attrValue=oo,Ii.keepAttr=!0,Ii.forceKeepAttr=void 0,U0("uponSanitizeAttribute",ht,Ii),oo=Ii.attrValue,Ii.forceKeepAttr)continue;if(!Ii.keepAttr){zr(rg,ht);continue}if(!gi&&Yl(/\/>/i,oo)){zr(rg,ht);continue}Es&&(oo=Ku(oo,bn," "),oo=Ku(oo,Nn," "),oo=Ku(oo,yo," "));const bZ=Pl(ht.nodeName);if(!gZ(bZ,da,oo)){zr(rg,ht);continue}if(Lf&&(da==="id"||da==="name")&&(zr(rg,ht),oo=Mn+oo),We&&typeof de=="object"&&typeof de.getAttributeType=="function"&&!J9)switch(de.getAttributeType(bZ,da)){case"TrustedHTML":{oo=We.createHTML(oo);break}case"TrustedScriptURL":{oo=We.createScriptURL(oo);break}}if(oo!==oae)try{J9?ht.setAttributeNS(J9,rg,oo):ht.setAttribute(rg,oo)}catch{zr(rg,ht)}}U0("afterSanitizeAttributes",ht,null)},nae=function No(ht){let kn;const oo=f8(ht);for(U0("beforeSanitizeShadowDOM",ht,null);kn=oo.nextNode();)U0("uponSanitizeShadowNode",kn,null),!mZ(kn)&&(kn.content instanceof f&&No(kn.content),pZ(kn));U0("afterSanitizeShadowDOM",ht,null)};return t.sanitize=function(No){let ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},kn,oo,da,nc;if(jS=!No,jS&&(No="<!-->"),typeof No!="string"&&!m8(No))if(typeof No.toString=="function"){if(No=No.toString(),typeof No!="string")throw _p("dirty is not a string, aborting")}else throw _p("toString is not a function");if(!t.isSupported)return No;if(Mf||Np(ht),t.removed=[],typeof No=="string"&&(Fr=!1),Fr){if(No.nodeName){const rg=Pl(No.nodeName);if(!Ps[rg]||Hn[rg])throw _p("root node is forbidden and cannot be sanitized in-place")}}else if(No instanceof C)kn=og("<!---->"),oo=kn.ownerDocument.importNode(No,!0),oo.nodeType===1&&oo.nodeName==="BODY"||oo.nodeName==="HTML"?kn=oo:kn.appendChild(oo);else{if(!ec&&!Es&&!oi&&No.indexOf("<")===-1)return We&&Pf?We.createHTML(No):No;if(kn=og(No),!kn)return ec?null:Pf?at:""}kn&&vh&&Ho(kn.firstChild);const sg=f8(Fr?No:kn);for(;da=sg.nextNode();)mZ(da)||(da.content instanceof f&&nae(da.content),pZ(da));if(Fr)return No;if(ec){if(Xu)for(nc=dn.call(kn.ownerDocument);kn.firstChild;)nc.appendChild(kn.firstChild);else nc=kn;return(Tn.shadowroot||Tn.shadowrootmode)&&(nc=dt.call(n,nc,!0)),nc}let Ii=oi?kn.outerHTML:kn.innerHTML;return oi&&Ps["!doctype"]&&kn.ownerDocument&&kn.ownerDocument.doctype&&kn.ownerDocument.doctype.name&&Yl(V3,kn.ownerDocument.doctype.name)&&(Ii="<!DOCTYPE "+kn.ownerDocument.doctype.name+`>
`+Ii),Es&&(Ii=Ku(Ii,bn," "),Ii=Ku(Ii,Nn," "),Ii=Ku(Ii,yo," ")),We&&Pf?We.createHTML(Ii):Ii},t.setConfig=function(No){Np(No),Mf=!0},t.clearConfig=function(){vw=null,Mf=!1},t.isValidAttribute=function(No,ht,kn){vw||Np({});const oo=Pl(No),da=Pl(ht);return gZ(oo,da,kn)},t.addHook=function(No,ht){typeof ht=="function"&&(Dt[No]=Dt[No]||[],Dd(Dt[No],ht))},t.removeHook=function(No){if(Dt[No])return kN(Dt[No])},t.removeHooks=function(No){Dt[No]&&(Dt[No]=[])},t.removeAllHooks=function(){Dt={}},t}var W3=U3();const MN=Kt.each,PN=Kt.trim,kL=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],EL={ftp:21,http:80,https:443,mailto:25},LN=["img","video"],FN=(e,t)=>Ce(e)?!e:Ce(t)?!le(LN,t):!0,AL=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},Z3=(e,t,n)=>{const r=AL(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?FN(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class qu{static parseDataUri(t){let n;const r=decodeURIComponent(t).split(","),l=/data:([^;]+)/.exec(r[0]);return l&&(n=l[1]),{type:n,data:r[1]}}static isDomSafe(t,n,r={}){if(r.allow_script_urls)return!0;{const l=Rg.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!Z3(r,l,n)}}static getDocumentBaseUrl(t){var n;let r;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?r=(n=t.href)!==null&&n!==void 0?n:"":r=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(t,n={}){this.path="",this.directory="",t=PN(t),this.settings=n;const r=n.base_uri,l=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){l.source=t;return}const f=t.indexOf("//")===0;if(t.indexOf("/")===0&&!f&&(t=(r&&r.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const C=r?r.path:new qu(document.location.href).directory;if((r==null?void 0:r.protocol)==="")t="//mce_host"+l.toAbsPath(C,t);else{const A=/([^#?]*)([#?]?.*)/.exec(t);A&&(t=(r&&r.protocol||"http")+"://mce_host"+l.toAbsPath(C,A[1])+A[2])}}t=t.replace(/@@/g,"(mce_at)");const g=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);g&&MN(kL,(C,A)=>{let z=g[A];z&&(z=z.replace(/\(mce_at\)/g,"@@")),l[C]=z}),r&&(l.protocol||(l.protocol=r.protocol),l.userInfo||(l.userInfo=r.userInfo),!l.port&&l.host==="mce_host"&&(l.port=r.port),(!l.host||l.host==="mce_host")&&(l.host=r.host),l.source=""),f&&(l.protocol="")}setPath(t){const n=/^(.*?)\/?(\w+)?$/.exec(t);n&&(this.path=n[0],this.directory=n[1],this.file=n[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const n=new qu(t,{base_uri:this});if(n.host!=="mce_host"&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&n.protocol!=="")return n.getURI();const r=this.getURI(),l=n.getURI();if(r===l||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===l)return r;let f=this.toRelPath(this.path,n.path);return n.query&&(f+="?"+n.query),n.anchor&&(f+="#"+n.anchor),f}toAbsolute(t,n){const r=new qu(t,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const n=this.protocol?EL[this.protocol]:null;if(n&&(this.port||n)==(t.port||n))return!0}return!1}toRelPath(t,n){let r=0,l="",f,g;const C=t.substring(0,t.lastIndexOf("/")).split("/"),A=n.split("/");if(C.length>=A.length){for(f=0,g=C.length;f<g;f++)if(f>=A.length||C[f]!==A[f]){r=f+1;break}}if(C.length<A.length){for(f=0,g=A.length;f<g;f++)if(f>=C.length||C[f]!==A[f]){r=f+1;break}}if(r===1)return n;for(f=0,g=C.length-(r-1);f<g;f++)l+="../";for(f=r-1,g=A.length;f<g;f++)f!==r-1?l+="/"+A[f]:l+=A[f];return l}toAbsPath(t,n){let r=0;const l=/\/$/.test(n)?"/":"",f=t.split("/"),g=n.split("/"),C=[];MN(f,G=>{G&&C.push(G)});const A=[];for(let G=g.length-1;G>=0;G--)if(!(g[G].length===0||g[G]===".")){if(g[G]===".."){r++;continue}if(r>0){r--;continue}A.push(g[G])}const z=C.length-r;let j;return z<=0?j=To(A).join("/"):j=C.slice(0,z).join("/")+"/"+To(A).join("/"),j.indexOf("/")!==0&&(j="/"+j),l&&j.lastIndexOf("/")!==j.length-1&&(j+=l),j}getURI(t=!1){let n;return(!this.source||t)&&(n="",t||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source}}const TL=Kt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),j3="data-mce-type";let zN=0;const HN=(e,t,n,r,l)=>{var f,g,C,A;const z=t.validate,j=n.getSpecialElements();e.nodeType===Kd&&!t.allow_conditional_comments&&/^\[if/i.test((f=e.nodeValue)!==null&&f!==void 0?f:"")&&(e.nodeValue=" "+e.nodeValue);const G=(g=l==null?void 0:l.tagName)!==null&&g!==void 0?g:e.nodeName.toLowerCase();if(r!=="html"&&n.isValid(r)){Ce(l)&&(l.allowedTags[G]=!0);return}if(e.nodeType!==sl||G==="body")return;const X=Be.fromDom(e),de=ad(X,j3),we=li(X,"data-mce-bogus");if(!de&&Te(we)){we==="all"?hs(X):Ei(X);return}const me=n.getElementRule(G);if(z&&!me){Yn(j,G)?hs(X):Ei(X);return}else Ce(l)&&(l.allowedTags[G]=!0);if(z&&me&&!de){if(pe((C=me.attributesForced)!==null&&C!==void 0?C:[],ke=>{ra(X,ke.name,ke.value==="{$uid}"?`mce_${zN++}`:ke.value)}),pe((A=me.attributesDefault)!==null&&A!==void 0?A:[],ke=>{ad(X,ke.name)||ra(X,ke.name,ke.value==="{$uid}"?`mce_${zN++}`:ke.value)}),me.attributesRequired&&!xe(me.attributesRequired,ke=>ad(X,ke))){Ei(X);return}if(me.removeEmptyAttrs&&Kr(X)){Ei(X);return}me.outputName&&me.outputName!==G&&cx(X,me.outputName)}},OL=(e,t,n,r,l)=>{const f=e.tagName.toLowerCase(),{attrName:g,attrValue:C}=l;l.keepAttr=z2(t,n,r,f,g,C),l.keepAttr?(l.allowedAttributes[g]=!0,q3(g,n)&&(l.attrValue=g),t.allow_svg_data_urls&&Gs(C,"data:image/svg+xml")&&(l.forceKeepAttr=!0)):K3(e,g)&&(l.forceKeepAttr=!0)},z2=(e,t,n,r,l,f)=>n!=="html"&&!gm(r)?!0:!(l in TL&&Z3(e,f,r))&&(!e.validate||t.isValid(r,l)||Gs(l,"data-")||Gs(l,"aria-")),K3=(e,t)=>e.hasAttribute(j3)&&(t==="id"||t==="class"||t==="style"),q3=(e,t)=>e in t.getBoolAttrs(),VN=(e,t,n,r)=>{const{attributes:l}=e;for(let f=l.length-1;f>=0;f--){const g=l[f],C=g.name,A=g.value;!z2(t,n,r,e.tagName.toLowerCase(),C,A)&&!K3(e,C)?e.removeAttribute(C):q3(C,n)&&e.setAttribute(C,C)}},DL=(e,t,n)=>{const r=W3();return r.addHook("uponSanitizeElement",(l,f)=>{HN(l,e,t,n.track(l),f)}),r.addHook("uponSanitizeAttribute",(l,f)=>{OL(l,e,t,n.current(),f)}),r},RL=(e,t)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return r.PARSER_MEDIA_TYPE=t,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},$N=e=>{const t=Kw(e);if(t==="svg"){const n=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(l=>`xlink:${l}`),r={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:n};W3().sanitize(e,r)}else if(t==="math"){const n={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}};W3().sanitize(e,n)}else throw new Error("Not a namespace element")},NL=(e,t)=>{const n=xk();if(e.sanitize){const r=DL(e,t,n);return{sanitizeHtmlElement:(f,g)=>{r.sanitize(f,RL(e,g)),r.removed=[],n.reset()},sanitizeNamespaceElement:$N}}else return{sanitizeHtmlElement:(f,g)=>{const C=document.createNodeIterator(f,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let A;for(;A=C.nextNode();){const z=n.track(A);HN(A,e,t,z),yn(A)&&VN(A,e,t,z)}n.reset()},sanitizeNamespaceElement:Pt}},aS=Kt.makeMap,G3=Kt.extend,UN=(e,t,n,r)=>{const l=e.name,f=l in n&&l!=="title"&&l!=="textarea"&&l!=="noscript",g=t.childNodes;for(let C=0,A=g.length;C<A;C++){const z=g[C],j=new mi(z.nodeName.toLowerCase(),z.nodeType);if(yn(z)){const G=z.attributes;for(let X=0,de=G.length;X<de;X++){const we=G[X];j.attr(we.name,we.value)}gm(j.name)&&(r(z),j.value=z.innerHTML)}else Mt(z)?(j.value=z.data,f&&(j.raw=!0)):(go(z)||Iy(z)||sf(z))&&(j.value=z.data);gm(j.name)||UN(j,z,n,r),e.append(j)}},ti=(e,t,n)=>{const r=[];for(let l=e,f=l;l;f=l,l=l.walk()){const g=l;pe(t,C=>C(g)),nt(g.parent)&&g!==e?l=f:r.push(g)}for(let l=r.length-1;l>=0;l--){const f=r[l];pe(n,g=>g(f))}},Km=(e,t,n,r)=>{const l=n.validate,f=t.getNonEmptyElements(),g=t.getWhitespaceElements(),C=G3(aS("script,style,head,html,body,title,meta,param"),t.getBlockElements()),A=k1(t),z=/[ \t\r\n]+/g,j=/^[ \t\r\n]+/,G=/[ \t\r\n]+$/,X=qe=>{let We=qe.parent;for(;Ce(We);){if(We.name in g)return!0;We=We.parent}return!1},de=qe=>{let We=qe;for(;Ce(We);){if(We.name in A)return Ev(t,f,g,We);We=We.parent}return!1},we=qe=>qe.name in C||Lh(t,qe)||gm(qe.name)&&qe.parent===e,me=(qe,We)=>{const at=We?qe.prev:qe.next;return Ce(at)||nt(qe.parent)?!1:we(qe.parent)&&(qe.parent!==e||r.isRootContent===!0)};return[qe=>{var We;if(qe.type===3&&!X(qe)){let at=(We=qe.value)!==null&&We!==void 0?We:"";at=at.replace(z," "),(OR(qe.prev,we)||me(qe,!0))&&(at=at.replace(j,"")),at.length===0||at===" "&&qe.prev&&qe.prev.type===Kd&&qe.next&&qe.next.type===Kd?qe.remove():qe.value=at}},qe=>{var We;if(qe.type===1){const at=t.getElementRule(qe.name);if(l&&at){const Nt=Ev(t,f,g,qe);at.paddInEmptyBlock&&Nt&&de(qe)?R_(n,r,we,qe):at.removeEmpty&&Nt?we(qe)?qe.remove():qe.unwrap():at.paddEmpty&&(Nt||N_(qe))&&R_(n,r,we,qe)}}else if(qe.type===3&&!X(qe)){let at=(We=qe.value)!==null&&We!==void 0?We:"";(qe.next&&we(qe.next)||me(qe,!1))&&(at=at.replace(G,"")),at.length===0?qe.remove():qe.value=at}}]},IL=(e,t)=>{var n;const r=(n=t.forced_root_block)!==null&&n!==void 0?n:e.forced_root_block;return r===!1?"":r===!0?"p":r},Nv=(e={},t=xc())=>{const n=Q_(),r=Q_(),l={validate:!0,root_name:"body",sanitize:!0,...e},f=new DOMParser,g=NL(l,t),C=(We,at,Nt="html")=>{const jt=Nt==="xhtml"?"application/xhtml+xml":"text/html",dn=Yn(t.getSpecialElements(),at.toLowerCase()),wt=dn?`<${at}>${We}</${at}>`:We,dt=()=>Nt==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${wt}</body></html>`:/^[\s]*<head/i.test(We)||/^[\s]*<html/i.test(We)||/^[\s]*<!DOCTYPE/i.test(We)?`<html>${wt}</html>`:`<body>${wt}</body>`,Dt=f.parseFromString(dt(),jt).body;return g.sanitizeHtmlElement(Dt,jt),dn?Dt.firstChild:Dt},A=n.addFilter,z=n.getFilters,j=n.removeFilter,G=r.addFilter,X=r.getFilters,de=r.removeFilter,we=(We,at)=>{A2(t,We)&&at.push(We)},me=(We,at)=>{const Nt=Te(at.attr(j3)),jt=at.type===1&&!Yn(We,at.name)&&!Lh(t,at)&&!gm(at.name);return at.type===3||jt&&!Nt},ke=(We,at)=>{const Nt=G3(aS("script,style,head,html,body,title,meta,param"),t.getBlockElements()),jt=/^[ \t\r\n]+/,dn=/[ \t\r\n]+$/;let wt=We.firstChild,dt=null;const Dt=bn=>{var Nn,yo;bn&&(wt=bn.firstChild,wt&&wt.type===3&&(wt.value=(Nn=wt.value)===null||Nn===void 0?void 0:Nn.replace(jt,"")),wt=bn.lastChild,wt&&wt.type===3&&(wt.value=(yo=wt.value)===null||yo===void 0?void 0:yo.replace(dn,"")))};if(t.isValidChild(We.name,at.toLowerCase())){for(;wt;){const bn=wt.next;me(Nt,wt)?(dt||(dt=new mi(at,1),dt.attr(l.forced_root_block_attrs),We.insert(dt,wt)),dt.append(wt)):(Dt(dt),dt=null),wt=bn}Dt(dt)}},qe={schema:t,addAttributeFilter:G,getAttributeFilters:X,removeAttributeFilter:de,addNodeFilter:A,getNodeFilters:z,removeNodeFilter:j,parse:(We,at={})=>{var Nt;const jt=l.validate,dn=(Nt=at.context)!==null&&Nt!==void 0?Nt:l.root_name,wt=C(We,dn,at.format);Br(t,wt);const dt=new mi(dn,11);UN(dt,wt,t.getSpecialElements(),g.sanitizeNamespaceElement),wt.innerHTML="";const[Dt,bn]=Km(dt,t,l,at),Nn=[],yo=jt?Yr=>we(Yr,Nn):Pt,Oo={nodes:{},attributes:{}},ps=Yr=>LA(z(),X(),Yr,Oo);if(ti(dt,[Dt,ps],[bn,yo]),Nn.reverse(),jt&&Nn.length>0)if(at.context){const{pass:Yr,fail:hl}=$t(Nn,Ps=>Ps.parent===dt);cu(hl,t,dt,ps),at.invalid=Yr.length>0}else cu(Nn,t,dt,ps);const Ds=IL(l,at);return Ds&&(dt.name==="body"||at.isRootContent)&&ke(dt,Ds),at.invalid||FA(Oo,at),dt}};return pL(qe,l),uL(qe,l,t),qe},BL=e=>S0(e)?nh({validate:!1}).serialize(e):e,Y3=(e,t,n)=>{const r=BL(e),l=t(r);if(l.isDefaultPrevented())return l;if(S0(e))if(l.content!==r){const f=Nv({validate:!1,forced_root_block:!1,...n}).parse(l.content,{context:e.name});return{...l,content:f}}else return{...l,content:e};else return l},T0=e=>({sanitize:UO(e),sandbox_iframes:Jk(e),sandbox_iframes_exclusions:yC(e)}),WN=(e,t)=>{if(t.no_events)return $n.value(t);{const n=Tf(e,t);return n.isDefaultPrevented()?$n.error(j5(e,{content:"",...n}).content):$n.value(n)}},Rd=(e,t,n)=>n.no_events?t:Y3(t,l=>j5(e,{...n,content:l}),T0(e)).content,X3=(e,t)=>{if(t.no_events)return $n.value(t);{const n=Y3(t.content,r=>RP(e,{...t,content:r}),T0(e));return n.isDefaultPrevented()?(ql(e,n),$n.error(void 0)):$n.value(n)}},J3=(e,t,n)=>{n.no_events||ql(e,{...n,content:t})},iS=(e,t,n)=>({element:e,width:t,rows:n}),Q3=(e,t)=>({element:e,cells:t}),ML=(e,t)=>({x:e,y:t}),lS=(e,t)=>Hc(e,t).bind(on).getOr(1),qm=(e,t,n,r,l)=>{const f=lS(l,"rowspan"),g=lS(l,"colspan"),C=e.rows;for(let A=n;A<n+f;A++){C[A]||(C[A]=Q3(_m(r),[]));for(let z=t;z<t+g;z++){const j=C[A].cells;j[z]=A===n&&z===t?l:Pr(l)}}},ZN=(e,t,n)=>{const r=e.rows;return!!(r[n]?r[n].cells:[])[t]},jN=(e,t,n)=>{for(;ZN(e,t,n);)t++;return t},H2=e=>It(e,(t,n)=>n.cells.length>t?n.cells.length:t,0),cS=(e,t)=>{const n=e.rows;for(let r=0;r<n.length;r++){const l=n[r].cells;for(let f=0;f<l.length;f++)if(Lo(l[f],t))return J.some(ML(f,r))}return J.none()},e4=(e,t,n,r,l)=>{const f=[],g=e.rows;for(let C=n;C<=l;C++){const A=g[C].cells,z=t<r?A.slice(t,r+1):A.slice(r,t+1);f.push(Q3(g[C].element,z))}return f},KN=(e,t,n)=>{const r=t.x,l=t.y,f=n.x,g=n.y,C=l<g?e4(e,r,l,f,g):e4(e,r,g,f,l);return iS(e.element,H2(C),C)},qN=(e,t)=>{const n=Pr(e.element),r=Be.fromTag("tbody");return Vr(r,t),Rr(n,r),n},PL=e=>Me(e.rows,t=>{const n=Me(t.cells,l=>{const f=_m(l);return bo(f,"colspan"),bo(f,"rowspan"),f}),r=Pr(t.element);return Vr(r,n),r}),LL=e=>{const t=iS(Pr(e),0,[]);return pe(ta(e,"tr"),(n,r)=>{pe(ta(n,"td,th"),(l,f)=>{qm(t,jN(t,f,r),r,n,l)})}),iS(t.element,H2(t.rows),t.rows)},FL=e=>qN(e,PL(e)),GN=(e,t,n)=>cS(e,t).bind(r=>cS(e,n).map(l=>KN(e,r,l))),YN=e=>wn(e,t=>Po(t)==="ul"||Po(t)==="ol"),zL=(e,t)=>wn(e,n=>Po(n)==="li"&&Vx(n,t)).fold(Qe([]),n=>YN(e).map(r=>{const l=Be.fromTag(Po(r)),f=ic(_g(r),(g,C)=>Gs(C,"list-style"));return Bo(l,f),[Be.fromTag("li"),l]}).getOr([])),t4=(e,t)=>{const n=It(t,(r,l)=>(Rr(l,r),l),e);return t.length>0?Tc([n]):n},XN=e=>km(e)?ja(e).filter(Lb).fold(Qe([]),t=>[e,t]):Lb(e)?[e]:[],HL=(e,t,n)=>{const r=Be.fromDom(t.commonAncestorContainer),l=Dc(r,e),f=Ct(l,A=>n.isWrapper(Po(A))),g=zL(l,t),C=f.concat(g.length?g:XN(r));return Me(C,Pr)},n4=()=>Tc([]),VL=(e,t,n)=>t4(Be.fromDom(t.cloneContents()),HL(e,t,n)),$L=(e,t)=>Zc(t,"table",pt(Lo,e)),ml=(e,t)=>$L(e,t[0]).bind(n=>{const r=t[0],l=t[t.length-1],f=LL(n);return GN(f,r,l).map(g=>Tc([FL(g)]))}).getOrThunk(n4),UL=(e,t,n)=>t.length>0&&t[0].collapsed?n4():VL(e,t[0],n),WL=(e,t,n)=>{const r=A5(t,e);return r.length>0?ml(e,r):UL(e,t,n)},uS=(e,t)=>t>=0&&t<e.length&&a0(e.charAt(t)),JN=e=>ul(e.innerText),dS=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),ZL=e=>J.from(e.selection.getRng()).map(t=>{var n;const r=J.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),l=e.getBody(),f=dS(r),g=Be.fromDom(t.cloneContents());MD(g),PD(g);const C=e.dom.add(l,f,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},g.dom),A=JN(C),z=ul((n=C.textContent)!==null&&n!==void 0?n:"");if(e.dom.remove(C),uS(z,0)||uS(z,z.length-1)){const j=r.getOr(l),G=JN(j),X=G.indexOf(A);if(X===-1)return A;{const de=uS(G,X-1),we=uS(G,X+A.length);return(de?" ":"")+A+(we?" ":"")}}else return A}).getOr(""),o4=(e,t)=>{const n=e.selection.getRng(),r=e.dom.create("body"),l=e.selection.getSel(),f=r_(e,sr(l)),g=t.contextual?WL(Be.fromDom(e.getBody()),f,e.schema).dom:n.cloneContents();return g&&r.appendChild(g),e.selection.serializer.serialize(r,t)},s4=(e,t)=>{if(t.format==="text")return ZL(e);{const n=o4(e,t);return t.format==="tree"?n:e.selection.isCollapsed()?"":n}},jL=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),KL=(e,t,n={})=>{const r=jL(n,t);return WN(e,r).fold(On,l=>{const f=s4(e,l);return Rd(e,f,l)})},Gu=0,r4=1,QN=2,a4=(e,t)=>{const n=e.length+t.length+2,r=new Array(n),l=new Array(n),f=(j,G,X)=>({start:j,end:G,diag:X}),g=(j,G,X,de,we)=>{const me=A(j,G,X,de);if(me===null||me.start===G&&me.diag===G-de||me.end===j&&me.diag===j-X){let ke=j,Fe=X;for(;ke<G||Fe<de;)ke<G&&Fe<de&&e[ke]===t[Fe]?(we.push([Gu,e[ke]]),++ke,++Fe):G-j>de-X?(we.push([QN,e[ke]]),++ke):(we.push([r4,t[Fe]]),++Fe)}else{g(j,me.start,X,me.start-me.diag,we);for(let ke=me.start;ke<me.end;++ke)we.push([Gu,e[ke]]);g(me.end,G,me.end-me.diag,de,we)}},C=(j,G,X,de)=>{let we=j;for(;we-G<de&&we<X&&e[we]===t[we-G];)++we;return f(j,we,G)},A=(j,G,X,de)=>{const we=G-j,me=de-X;if(we===0||me===0)return null;const ke=we-me,Fe=me+we,qe=(Fe%2===0?Fe:Fe+1)/2;r[1+qe]=j,l[1+qe]=G+1;let We,at,Nt,jt,dn;for(We=0;We<=qe;++We){for(at=-We;at<=We;at+=2){for(Nt=at+qe,at===-We||at!==We&&r[Nt-1]<r[Nt+1]?r[Nt]=r[Nt+1]:r[Nt]=r[Nt-1]+1,jt=r[Nt],dn=jt-j+X-at;jt<G&&dn<de&&e[jt]===t[dn];)r[Nt]=++jt,++dn;if(ke%2!==0&&ke-We<=at&&at<=ke+We&&l[Nt-ke]<=r[Nt])return C(l[Nt-ke],at+j-X,G,de)}for(at=ke-We;at<=ke+We;at+=2){for(Nt=at+qe-ke,at===ke-We||at!==ke+We&&l[Nt+1]<=l[Nt-1]?l[Nt]=l[Nt+1]-1:l[Nt]=l[Nt-1],jt=l[Nt]-1,dn=jt-j+X-at;jt>=j&&dn>=X&&e[jt]===t[dn];)l[Nt]=jt--,dn--;if(ke%2===0&&-We<=at&&at<=We&&l[Nt]<=r[Nt+ke])return C(l[Nt],at+j-X,G,de)}}return null},z=[];return g(0,e.length,0,t.length,z),z},i4=e=>yn(e)?e.outerHTML:Mt(e)?Rg.encodeRaw(e.data,!1):go(e)?"<!--"+e.data+"-->":"",fS=e=>{let t;const n=document.createElement("div"),r=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r},e6=(e,t,n)=>{const r=fS(t);if(e.hasChildNodes()&&n<e.childNodes.length){const l=e.childNodes[n];e.insertBefore(r,l)}else e.appendChild(r)},t6=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];e.removeChild(n)}},n6=(e,t)=>{let n=0;pe(e,r=>{r[0]===Gu?n++:r[0]===r4?(e6(t,r[1],n),n++):r[0]===QN&&t6(t,n)})},qL=(e,t)=>Ct(Me(io(e.childNodes),cn(ul,i4)),n=>n.length>0),GL=(e,t)=>{const n=Me(io(t.childNodes),i4);return n6(a4(n,e),t),t},l4=vl(()=>document.implementation.createHTMLDocument("undo")),YL=e=>e.querySelector("iframe")!==null,XL=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),mS=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),Iv=e=>{const t=e.serializer.getTempAttrs(),n=YE(e.getBody(),t);return YL(n)?XL(qL(n)):mS(ul(n.innerHTML))},V2=(e,t,n)=>{const r=n?t.beforeBookmark:t.bookmark;t.type==="fragmented"?GL(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:Ce(r)&&y5(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},gS=e=>e.type==="fragmented"?e.fragments.join(""):e.content,ch=e=>{const t=Be.fromTag("body",l4());return cm(t,gS(e)),pe(ta(t,"*[data-mce-bogus]"),Ei),dd(t)},JL=(e,t)=>gS(e)===gS(t),QL=(e,t)=>ch(e)===ch(t),Bv=(e,t)=>!e||!t?!1:JL(e,t)?!0:QL(e,t),hS=e=>e.get()===0,$2=(e,t,n)=>{hS(n)&&(e.typing=t)},c4=(e,t)=>{e.typing&&($2(e,!1,t),e.add())},eF=e=>{e.typing&&(e.typing=!1,e.add())},tF=(e,t,n)=>{hS(t)&&n.set(gn(e.selection))},u4=(e,t,n,r,l,f,g)=>{const C=Iv(e),A=Kt.extend(f||{},C);if(!hS(r)||e.removed)return null;const z=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:A,lastLevel:z,originalEvent:g}).isDefaultPrevented()||z&&Bv(z,A))return null;t.data[n.get()]&&l.get().each(X=>{t.data[n.get()].beforeBookmark=X});const j=PO(e);if(j&&t.data.length>j){for(let X=0;X<t.data.length-1;X++)t.data[X]=t.data[X+1];t.data.length--,n.set(t.data.length)}A.bookmark=gn(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(A),n.set(t.data.length-1);const G={level:A,lastLevel:z,originalEvent:g};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",G),e.dispatch("change",G)):e.dispatch("AddUndo",G),A},d4=(e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")},f4=(e,t,n,r,l)=>{if(t.transact(r)){const f=t.data[n.get()].bookmark,g=t.data[n.get()-1];V2(e,g,!0),t.transact(l)&&(t.data[n.get()-1].beforeBookmark=f)}},o6=(e,t,n)=>{let r;return t.get()<n.length-1&&(t.set(t.get()+1),r=n[t.get()],V2(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},pS=(e,t,n,r)=>{let l;return t.typing&&(t.add(),t.typing=!1,$2(t,!1,n)),r.get()>0&&(r.set(r.get()-1),l=t.data[r.get()],V2(e,l,!0),e.setDirty(!0),e.dispatch("Undo",{level:l})),l},s6=e=>{e.clear(),e.add()},r6=(e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!Bv(Iv(e),t.data[0]),nF=(e,t)=>t.get()<e.data.length-1&&!e.typing,oF=(e,t,n)=>(c4(e,t),e.beforeChange(),e.ignore(n),e.add()),m4=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},a6=(e,t)=>{const n=e.dom,r=Ce(t)?t:e.getBody();pe(n.select("table,a",r),l=>{switch(l.nodeName){case"TABLE":const f=bC(e),g=n.getAttrib(l,"border");(!g||g==="0")&&e.hasVisual?n.addClass(l,f):n.removeClass(l,f);break;case"A":if(!n.getAttrib(l,"href")){const C=n.getAttrib(l,"name")||l.id,A=ov(e);C&&e.hasVisual?n.addClass(l,A):n.removeClass(l,A)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},g4=e=>({init:{bindEvents:Pt},undoManager:{beforeChange:(t,n)=>tF(e,t,n),add:(t,n,r,l,f,g)=>u4(e,t,n,r,l,f,g),undo:(t,n,r)=>pS(e,t,n,r),redo:(t,n)=>o6(e,t,n),clear:(t,n)=>d4(e,t,n),reset:t=>s6(t),hasUndo:(t,n)=>r6(e,t,n),hasRedo:(t,n)=>nF(t,n),transact:(t,n,r)=>oF(t,n,r),ignore:(t,n)=>m4(t,n),extra:(t,n,r,l)=>f4(e,t,n,r,l)},formatter:{match:(t,n,r,l)=>bp(e,t,n,r,l),matchAll:(t,n)=>UR(e,t,n),matchNode:(t,n,r,l)=>Wm(e,t,n,r,l),canApply:t=>ZR(e,t),closest:t=>WR(e,t),apply:(t,n,r)=>uN(e,t,n,r),remove:(t,n,r,l)=>wp(e,t,n,r,l),toggle:(t,n,r)=>aL(e,t,n,r),formatChanged:(t,n,r,l,f)=>rL(e,t,n,r,l,f)},editor:{getContent:t=>zD(e,t),setContent:(t,n)=>X7(e,t,n),insertContent:(t,n)=>V_(e,t,n),addVisual:t=>a6(e,t)},selection:{getContent:(t,n)=>KL(e,t,n)},autocompleter:{addDecoration:Pt,removeDecoration:Pt},raw:{getModel:()=>J.none()}}),sF=e=>{const t=z=>te(z)?z:{},{init:n,undoManager:r,formatter:l,editor:f,selection:g,autocompleter:C,raw:A}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(z,j,G)=>r.transact(G),ignore:(z,j)=>r.ignore(j),extra:(z,j,G,X)=>r.extra(G,X)},formatter:{match:(z,j,G,X)=>l.match(z,t(j),X),matchAll:l.matchAll,matchNode:l.matchNode,canApply:z=>l.canApply(z),closest:z=>l.closest(z),apply:(z,j,G)=>l.apply(z,t(j)),remove:(z,j,G,X)=>l.remove(z,t(j)),toggle:(z,j,G)=>l.toggle(z,t(j)),formatChanged:(z,j,G,X,de)=>l.formatChanged(j,G,X,de)},editor:{getContent:z=>f.getContent(z),setContent:(z,j)=>({content:f.setContent(z,j),html:""}),insertContent:(z,j)=>(f.insertContent(z),""),addVisual:f.addVisual},selection:{getContent:(z,j)=>g.getContent(j)},autocompleter:{addDecoration:C.addDecoration,removeDecoration:C.removeDecoration},raw:{getModel:()=>J.some(A.getRawModel())}}},rF=()=>{const e=Qe(null),t=Qe("");return{init:{bindEvents:Pt},undoManager:{beforeChange:Pt,add:e,undo:e,redo:e,clear:Pt,reset:Pt,hasUndo:xn,hasRedo:xn,transact:e,ignore:Pt,extra:Pt},formatter:{match:xn,matchAll:Qe([]),matchNode:Qe(void 0),canApply:xn,closest:t,apply:Pt,remove:Pt,toggle:Pt,formatChanged:Qe({unbind:Pt})},editor:{getContent:t,setContent:Qe({content:"",html:""}),insertContent:Qe(""),addVisual:Pt},selection:{getContent:t},autocompleter:{addDecoration:Pt,removeDecoration:Pt},raw:{getModel:Qe(J.none())}}},Gm=e=>Yn(e.plugins,"rtc"),i6=e=>gs(e.plugins,"rtc").bind(t=>J.from(t.setup)),l6=e=>{const t=e;return i6(e).fold(()=>(t.rtcInstance=g4(e),J.none()),n=>(t.rtcInstance=rF(),J.some(()=>n().then(r=>(t.rtcInstance=sF(r),r.rtc.isRemote)))))},h4=e=>e.rtcInstance?e.rtcInstance:g4(e),ni=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},Mv=(e,t,n)=>{ni(e).undoManager.beforeChange(t,n)},aF=(e,t,n,r,l,f,g)=>ni(e).undoManager.add(t,n,r,l,f,g),iF=(e,t,n,r)=>ni(e).undoManager.undo(t,n,r),c6=(e,t,n)=>ni(e).undoManager.redo(t,n),u6=(e,t,n)=>{ni(e).undoManager.clear(t,n)},bS=(e,t)=>{ni(e).undoManager.reset(t)},lF=(e,t,n)=>ni(e).undoManager.hasUndo(t,n),cF=(e,t,n)=>ni(e).undoManager.hasRedo(t,n),uF=(e,t,n,r)=>ni(e).undoManager.transact(t,n,r),dF=(e,t,n)=>{ni(e).undoManager.ignore(t,n)},fF=(e,t,n,r,l)=>{ni(e).undoManager.extra(t,n,r,l)},mF=(e,t,n,r,l)=>ni(e).formatter.match(t,n,r,l),gF=(e,t,n)=>ni(e).formatter.matchAll(t,n),hF=(e,t,n,r,l)=>ni(e).formatter.matchNode(t,n,r,l),pF=(e,t)=>ni(e).formatter.canApply(t),bF=(e,t)=>ni(e).formatter.closest(t),Hs=(e,t,n,r)=>{ni(e).formatter.apply(t,n,r)},d6=(e,t,n,r,l)=>{ni(e).formatter.remove(t,n,r,l)},p4=(e,t,n,r)=>{ni(e).formatter.toggle(t,n,r)},f6=(e,t,n,r,l,f)=>ni(e).formatter.formatChanged(t,n,r,l,f),m6=(e,t)=>h4(e).editor.getContent(t),b4=(e,t,n)=>h4(e).editor.setContent(t,n),vF=(e,t,n)=>h4(e).editor.insertContent(t,n),yF=(e,t,n)=>ni(e).selection.getContent(t,n),g6=(e,t)=>ni(e).editor.addVisual(t),h6=e=>ni(e).init.bindEvents(),xF=(e,t={})=>{const n=t.format?t.format:"html";return yF(e,n,t)},O0=e=>e.dom.length===0?(hs(e),J.none()):J.some(e),wF=(e,t)=>e.filter(n=>Ns.isBookmarkNode(n.dom)).bind(t?Pn:aa),Pv=(e,t,n,r,l)=>{const f=e.dom,g=t.dom,C=r?f.length:g.length;r?(x2(f,g,l,!1,!r),n.setStart(g,C)):(x2(g,f,l,!1,!r),n.setEnd(g,C))},U2=(e,t,n)=>{ja(e).each(r=>{const l=e.dom;t&&Cv(r,mt(l,0),n)?h_(l,0,n):!t&&x0(r,mt(l,l.length),n)&&Sr(l,l.length,n)})},D0=(e,t,n,r,l)=>{e.bind(f=>((r?Sr:h_)(f.dom,r?f.dom.length:0,l),t.filter(Ys).map(C=>Pv(f,C,n,r,l)))).orThunk(()=>wF(t,r).or(t).filter(Ys).map(g=>U2(g,r,l)))},v4=(e,t,n)=>{const r=J.from(t.firstChild).map(Be.fromDom),l=J.from(t.lastChild).map(Be.fromDom);e.deleteContents(),e.insertNode(t);const f=r.bind(aa).filter(Ys).bind(O0),g=l.bind(Pn).filter(Ys).bind(O0);D0(f,r,e,!0,n),D0(g,l,e,!1,n),e.collapse(!1)},p6=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),b6=(e,t)=>{if(t.format!=="raw"){const n=e.selection.getRng(),r=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),l=r?{context:r.nodeName.toLowerCase()}:{},f=e.parser.parse(t.content,{forced_root_block:!1,...l,...t});return nh({validate:!1},e.schema).serialize(f)}else return t.content},y4=(e,t,n={})=>{const r=p6(n,t);X3(e,r).each(l=>{const f=b6(e,l),g=e.selection.getRng();v4(g,g.createContextualFragment(f),e.schema),e.selection.setRng(g),Hu(e,g),J3(e,f,l)})},x4=(e,t,n)=>{if(Yn(e,t)){const r=Ct(e[t],l=>l!==n);r.length===0?delete e[t]:e[t]=r}};var v6=(e,t)=>{let n,r;const l=(C,A)=>wn(A,z=>e.is(z,C)),f=C=>e.getParents(C,void 0,e.getRoot()),g=()=>{n={},r={},t.on("NodeChange",C=>{const A=C.element,z=f(A),j={};Wo(n,(G,X)=>{l(X,z).each(de=>{r[X]||(pe(G,we=>{we(!0,{node:de,selector:X,parents:z})}),r[X]=G),j[X]=G})}),Wo(r,(G,X)=>{j[X]||(delete r[X],pe(G,de=>{de(!1,{node:A,selector:X,parents:z})}))})})};return{selectorChangedWithUnbind:(C,A)=>(n||g(),n[C]||(n[C]=[]),n[C].push(A),l(C,f(t.selection.getStart())).each(()=>{r[C]=n[C]}),{unbind:()=>{x4(n,C,A),x4(r,C,A)}})}};const w4=e=>!!(e&&e.ownerDocument)&&Za(Be.fromDom(e.ownerDocument),Be.fromDom(e)),C4=e=>e?w4(e.startContainer)&&w4(e.endContainer):!1,_4=(e,t,n,r)=>{let l,f;const{selectorChangedWithUnbind:g}=v6(e,r),C=(Jt,Tn)=>{const ts=e.createRng();Ce(Jt)&&Ce(Tn)?(ts.setStart(Jt,Tn),ts.setEnd(Jt,Tn),at(ts),Fe(!1)):($x(e,ts,r.getBody(),!0),at(ts))},A=Jt=>xF(r,Jt),z=(Jt,Tn)=>y4(r,Jt,Tn),j=Jt=>TD(r.getBody(),We(),Jt),G=Jt=>OD(r.getBody(),We(),Jt),X=(Jt,Tn)=>hl.getBookmark(Jt,Tn),de=Jt=>hl.moveToBookmark(Jt),we=(Jt,Tn)=>(m2(e,Jt,Tn).each(at),Jt),me=()=>{const Jt=We(),Tn=qe();return!Jt||Jt.item?!1:Jt.compareEndPoints?Jt.compareEndPoints("StartToEnd",Jt)===0:!Tn||Jt.collapsed},ke=()=>{const Jt=We(),Tn=r.getBody().querySelectorAll('[data-mce-selected="1"]');return Tn.length>0?vo(Tn,ts=>e.isEditable(ts.parentElement)):ED(e,Jt)},Fe=Jt=>{const Tn=We();Tn.collapse(!!Jt),at(Tn)},qe=()=>t.getSelection?t.getSelection():t.document.selection,We=()=>{let Jt;const Tn=(nn,Hn,ko)=>{try{return Hn.compareBoundaryPoints(nn,ko)}catch{return-1}},ts=t.document;if(Ce(r.bookmark)&&!hv(r)){const nn=UE(r);if(nn.isSome())return nn.map(Hn=>r_(r,[Hn])[0]).getOr(ts.createRange())}try{const nn=qe();nn&&!tf(nn.anchorNode)&&(nn.rangeCount>0?Jt=nn.getRangeAt(0):Jt=ts.createRange(),Jt=r_(r,[Jt])[0])}catch{}if(Jt||(Jt=ts.createRange()),Sn(Jt.startContainer)&&Jt.collapsed){const nn=e.getRoot();Jt.setStart(nn,0),Jt.setEnd(nn,0)}return l&&f&&(Tn(Jt.START_TO_START,Jt,l)===0&&Tn(Jt.END_TO_END,Jt,l)===0?Jt=f:(l=null,f=null)),Jt},at=(Jt,Tn)=>{if(!C4(Jt))return;const ts=qe();if(Jt=r.dispatch("SetSelectionRange",{range:Jt,forward:Tn}).range,ts){f=Jt;try{ts.removeAllRanges(),ts.addRange(Jt)}catch{}Tn===!1&&ts.extend&&(ts.collapse(Jt.endContainer,Jt.endOffset),ts.extend(Jt.startContainer,Jt.startOffset)),l=ts.rangeCount>0?ts.getRangeAt(0):null}if(!Jt.collapsed&&Jt.startContainer===Jt.endContainer&&(ts!=null&&ts.setBaseAndExtent)&&Jt.endOffset-Jt.startOffset<2&&Jt.startContainer.hasChildNodes()){const Hn=Jt.startContainer.childNodes[Jt.startOffset];Hn&&Hn.nodeName==="IMG"&&(ts.setBaseAndExtent(Jt.startContainer,Jt.startOffset,Jt.endContainer,Jt.endOffset),(ts.anchorNode!==Jt.startContainer||ts.focusNode!==Jt.endContainer)&&ts.setBaseAndExtent(Hn,0,Hn,1))}r.dispatch("AfterSetSelectionRange",{range:Jt,forward:Tn})},Nt=Jt=>(z(e.getOuterHTML(Jt)),Jt),jt=()=>d7(r.getBody(),We()),dn=(Jt,Tn)=>qE(e,We(),Jt,Tn),wt=()=>{const Jt=qe(),Tn=Jt==null?void 0:Jt.anchorNode,ts=Jt==null?void 0:Jt.focusNode;if(!Jt||!Tn||!ts||tf(Tn)||tf(ts))return!0;const nn=e.createRng(),Hn=e.createRng();try{nn.setStart(Tn,Jt.anchorOffset),nn.collapse(!0),Hn.setStart(ts,Jt.focusOffset),Hn.collapse(!0)}catch{return!0}return nn.compareBoundaryPoints(nn.START_TO_START,Hn)<=0},Yr={dom:e,win:t,serializer:n,editor:r,expand:(Jt={type:"word"})=>at(ip(e).expand(We(),Jt)),collapse:Fe,setCursorLocation:C,getContent:A,setContent:z,getBookmark:X,moveToBookmark:de,select:we,isCollapsed:me,isEditable:ke,isForward:wt,setNode:Nt,getNode:jt,getSel:qe,setRng:at,getRng:We,getStart:j,getEnd:G,getSelectedBlocks:dn,normalize:()=>{const Jt=We(),Tn=qe();if(!Fx(Tn)&&lv(r)){const ts=Lm(e,Jt);return ts.each(nn=>{at(nn,wt())}),ts.getOr(Jt)}return Jt},selectorChanged:(Jt,Tn)=>(g(Jt,Tn),Yr),selectorChangedWithUnbind:g,getScrollContainer:()=>{let Jt,Tn=e.getRoot();for(;Tn&&Tn.nodeName!=="BODY";){if(Tn.scrollHeight>Tn.clientHeight){Jt=Tn;break}Tn=Tn.parentNode}return Jt},scrollIntoView:(Jt,Tn)=>{Ce(Jt)?zE(r,Jt,Tn):Hu(r,We(),Tn)},placeCaretAt:(Jt,Tn)=>at(tD(Jt,Tn,r.getDoc())),getBoundingClientRect:()=>{const Jt=We();return Jt.collapsed?mt.fromRangeStart(Jt).getClientRects()[0]:Jt.getBoundingClientRect()},destroy:()=>{t=l=f=null,Ps.destroy()}},hl=Ns(Yr),Ps=ks(Yr,r);return Yr.bookmarkManager=hl,Yr.controlSelection=Ps,Yr},y6=(e,t,n)=>{t.addNodeFilter("br",(r,l,f)=>{const g=Kt.extend({},n.getBlockElements()),C=n.getNonEmptyElements(),A=n.getWhitespaceElements();g.body=1;const z=j=>j.name in g||Lh(n,j);for(let j=0,G=r.length;j<G;j++){let X=r[j],de=X.parent;if(de&&z(de)&&X===de.lastChild){let we=X.prev;for(;we;){const me=we.name;if(me!=="span"||we.attr("data-mce-type")!=="bookmark"){me==="br"&&(X=null);break}we=we.prev}if(X&&(X.remove(),Ev(n,C,A,de))){const me=n.getElementRule(de.name);me&&(me.removeEmpty?de.remove():me.paddEmpty&&R_(e,f,z,de))}}else{let we=X;for(;de&&de.firstChild===we&&de.lastChild===we&&(we=de,!g[de.name]);)de=de.parent;if(we===de){const me=new mi("#text",3);me.value=ga,X.replace(me)}}}})},S4=(e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",(r,l)=>{let f=r.length;for(;f--;){const g=r[f];g.attr("tabindex",g.attr("data-mce-tabindex")),g.attr(l,null)}}),e.addAttributeFilter("src,href,style",(r,l)=>{const f="data-mce-"+l,g=t.url_converter,C=t.url_converter_scope;let A=r.length;for(;A--;){const z=r[A];let j=z.attr(f);j!==void 0?(z.attr(l,j.length>0?j:null),z.attr(f,null)):(j=z.attr(l),l==="style"?j=n.serializeStyle(n.parseStyle(j),z.name):g&&(j=g.call(C,j,l,z.name)),z.attr(l,j.length>0?j:null))}}),e.addAttributeFilter("class",r=>{let l=r.length;for(;l--;){const f=r[l];let g=f.attr("class");g&&(g=g.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),f.attr("class",g.length>0?g:null))}}),e.addAttributeFilter("data-mce-type",(r,l,f)=>{let g=r.length;for(;g--;){const C=r[g];C.attr("data-mce-type")==="bookmark"&&!f.cleanup&&(J.from(C.firstChild).exists(z=>{var j;return!Sc((j=z.value)!==null&&j!==void 0?j:"")})?C.unwrap():C.remove())}}),e.addNodeFilter("script,style",(r,l)=>{var f;const g=A=>A.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let C=r.length;for(;C--;){const A=r[C],z=A.firstChild,j=(f=z==null?void 0:z.value)!==null&&f!==void 0?f:"";if(l==="script"){const G=A.attr("type");G&&A.attr("type",G==="mce-no/type"?null:G.replace(/^mce\-/,"")),t.element_format==="xhtml"&&z&&j.length>0&&(z.value=`// <![CDATA[
`+g(j)+`
// ]]>`)}else t.element_format==="xhtml"&&z&&j.length>0&&(z.value=`<!--
`+g(j)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let l=r.length;for(;l--;){const f=r[l],g=f.value;t.preserve_cdata&&(g==null?void 0:g.indexOf("[CDATA["))===0?(f.name="#cdata",f.type=4,f.value=n.decode(g.replace(/^\[CDATA\[|\]\]$/g,""))):(g==null?void 0:g.indexOf("mce:protected "))===0&&(f.name="#text",f.type=3,f.raw=!0,f.value=unescape(g).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,l)=>{let f=r.length;for(;f--;){const g=r[f];g.type===7?g.remove():g.type===1&&l==="input"&&!g.attr("type")&&g.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{pe(r,l=>{l.attr("data-mce-type")==="format-caret"&&(l.isEmpty(e.schema.getNonEmptyElements())?l.remove():l.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,l)=>{let f=r.length;for(;f--;)r[f].attr(l,null)}),t.remove_trailing_brs&&y6(t,e,e.schema)},CF=e=>{const t=r=>(r==null?void 0:r.name)==="br",n=e.lastChild;if(t(n)){const r=n.prev;t(r)&&(n.remove(),r.remove())}},x6=(e,t,n)=>{let r;const l=e.dom;let f=t.cloneNode(!0);const g=document.implementation;if(g.createHTMLDocument){const C=g.createHTMLDocument("");Kt.each(f.nodeName==="BODY"?f.childNodes:[f],A=>{C.body.appendChild(C.importNode(A,!0))}),f.nodeName!=="BODY"?f=C.body.firstChild:f=C.body,r=l.doc,l.doc=C}return Gx(e,{...n,node:f}),r&&(l.doc=r),f},w6=(e,t)=>Ce(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,C6=(e,t,n)=>w6(e,n)?x6(e,t,n):t,_F=(e,t,n)=>{Kt.inArray(t,n)===-1&&(e.addAttributeFilter(n,(r,l)=>{let f=r.length;for(;f--;)r[f].attr(l,null)}),t.push(n))},SF=(e,t,n)=>!t.no_events&&e?Yx(e,{...t,content:n}).content:n,vS=(e,t,n)=>{const r=ul(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||Fb(Be.fromDom(t))?r:Kt.trim(r)},_6=(e,t,n)=>{const r=n.selection?{forced_root_block:!1,...n}:n,l=e.parse(t,r);return CF(l),l},S6=(e,t,n)=>nh(e,t).serialize(n),k6=(e,t,n,r,l)=>{const f=S6(t,n,r);return SF(e,l,f)},kF=(e,t)=>{const n=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},l=t&&t.dom?t.dom:Bs.DOM,f=t&&t.schema?t.schema:xc(r),g=Nv(r,f);S4(g,r,l);const C=(A,z={})=>{const j={format:"html",...z},G=C6(t,A,j),X=vS(l,G,j),de=_6(g,X,j);return j.format==="tree"?de:k6(t,r,f,de,j)};return{schema:f,addNodeFilter:g.addNodeFilter,addAttributeFilter:g.addAttributeFilter,serialize:C,addRules:f.addValidElements,setRules:f.setValidElements,addTempAttr:pt(_F,g,n),getTempAttrs:Qe(n),getNodeFilters:g.getNodeFilters,getAttributeFilters:g.getAttributeFilters,removeNodeFilter:g.removeNodeFilter,removeAttributeFilter:g.removeAttributeFilter}},E6=(e,t)=>{const n=kF(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},EF="html",AF=(e,t)=>({...e,format:t,get:!0,getInner:!0}),A6=(e,t={})=>{const n=t.format?t.format:EF,r=AF(t,n);return WN(e,r).fold(On,l=>{const f=m6(e,l);return Rd(e,f,l)})},T6="html",O6=(e,t)=>({format:T6,...e,set:!0,content:t}),k4=(e,t,n={})=>{const r=O6(n,t);return X3(e,r).map(l=>{const f=b4(e,l.content,l);return J3(e,f.html,l),f.content}).getOr(t)},TF="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),OF=[],DF="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),W2=[],E4=(e,t)=>{const n=Ct(t,r=>Yn(e,r));return ms(n)},RF=e=>{const t=E4(e,TF),n=e.forced_root_block;return(n===!1||n==="")&&t.push("forced_root_block (false only)"),ms(t)},D6=e=>E4(e,OF),A4=(e,t)=>{const n=Kt.makeMap(e.plugins," "),l=Ct(t,f=>Yn(n,f));return ms(l)},T4=e=>A4(e,DF),R6=e=>A4(e,W2.map(t=>t.name)),N6=(e,t)=>{const n=RF(e),r=T4(t),l=r.length>0,f=n.length>0,g=t.theme==="mobile";if(l||f||g){const C=`
- `,A=g?`

Themes:${C}mobile`:"",z=l?`

Plugins:${C}${r.join(C)}`:"",j=f?`

Options:${C}${n.join(C)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+A+z+j)}},I6=e=>wn(W2,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),NF=(e,t)=>{const n=D6(e),r=R6(t),l=r.length>0,f=n.length>0;if(l||f){const g=`
- `,C=l?`

Plugins:${g}${r.map(I6).join(g)}`:"",A=f?`

Options:${g}${n.join(g)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+C+A)}},IF=(e,t)=>{N6(e,t),NF(e,t)},Sp=Bs.DOM,BF=e=>{Sp.setStyle(e.id,"display",e.orgDisplay)},Z2=e=>J.from(e).each(t=>t.destroy()),yS=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const n=e.selection;if(n){const r=n.dom;t.selection=n.win=n.dom=r.doc=null}},B6=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),Sp.unbind(t,"submit reset",e.formEventDelegate))},M6=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,r=e.getBody(),l=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Ce(l==null?void 0:l.nextSibling)&&Sp.remove(l.nextSibling),Xx(e),e.editorManager.remove(e),!e.inline&&r&&BF(e),Jx(e),Sp.remove(e.getContainer()),Z2(t),Z2(n),e.destroy()}},MF=(e,t)=>{const{selection:n,dom:r}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Z2(n),Z2(r)),B6(e),yS(e),e.destroyed=!0}},j2=(()=>{const e={};return{add:(l,f)=>{e[l]=f},get:l=>e[l]?e[l]:{icons:{}},has:l=>Yn(e,l)}})(),kp=Wi.ModelManager,K2=(e,t)=>t.dom[e],O4=(e,t)=>parseInt(Dr(t,e),10),D4=pt(K2,"clientWidth"),P6=pt(K2,"clientHeight"),PF=pt(O4,"margin-top"),L6=pt(O4,"margin-left"),LF=e=>e.dom.getBoundingClientRect(),F6=(e,t,n)=>{const r=D4(e),l=P6(e);return t>=0&&n>=0&&t<=r&&n<=l},z6=(e,t,n,r)=>{const l=LF(t),f=e?l.left+t.dom.clientLeft+L6(t):0,g=e?l.top+t.dom.clientTop+PF(t):0,C=n-f,A=r-g;return{x:C,y:A}},FF=(e,t,n)=>{const r=Be.fromDom(e.getBody()),l=e.inline?r:_u(r),f=z6(e.inline,l,t,n);return F6(l,f.x,f.y)},H6=e=>J.from(e).map(Be.fromDom),R4=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return H6(t).map(_i).getOr(!1)};var V6=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const N4=e=>{const t=[],n=()=>{const X=e.theme;return X&&X.getNotificationManagerImpl?X.getNotificationManagerImpl():V6()},r=()=>J.from(t[0]),l=(X,de)=>X.type===de.type&&X.text===de.text&&!X.progressBar&&!X.timeout&&!de.progressBar&&!de.timeout,f=()=>{r().each(X=>{X.reposition()})},g=X=>{t.push(X)},C=X=>{Cn(t,de=>de===X).each(de=>{t.splice(de,1)})},A=(X,de=!0)=>e.removed||!R4(e)?{}:(de&&e.dispatch("BeforeOpenNotification",{notification:X}),wn(t,we=>l(n().getArgs(we),X)).getOrThunk(()=>{e.editorManager.setActive(e);const we=n().open(X,()=>{C(we)},()=>g0(e));return g(we),f(),e.dispatch("OpenNotification",{notification:{...we}}),we})),z=()=>{r().each(X=>{n().close(X),C(X),f()})},j=Qe(t);return(X=>{X.on("SkinLoaded",()=>{const de=jM(X);de&&A({text:de,type:"warning",timeout:0},!1),f()}),X.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(f)}),X.on("remove",()=>{pe(t.slice(),de=>{n().close(de)})}),X.addShortcut("alt+F12","Focus to notification",()=>r().map(de=>Be.fromDom(de.getEl())).each(de=>HE(de)))})(e),{open:A,close:z,getNotifications:j}},R0=Wi.PluginManager,Ep=Wi.ThemeManager;var zF=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const $6=e=>{let t=[];const n=()=>{const me=e.theme;return me&&me.getWindowManagerImpl?me.getWindowManagerImpl():zF()},r=(me,ke)=>(...Fe)=>ke?ke.apply(me,Fe):void 0,l=me=>{e.dispatch("OpenWindow",{dialog:me})},f=me=>{e.dispatch("CloseWindow",{dialog:me})},g=me=>{t.push(me),l(me)},C=me=>{f(me),t=Ct(t,ke=>ke!==me),t.length===0&&e.focus()},A=()=>J.from(t[t.length-1]),z=me=>{e.editorManager.setActive(e),gv(e),e.ui.show();const ke=me();return g(ke),ke},j=(me,ke)=>z(()=>n().open(me,ke,C)),G=me=>z(()=>n().openUrl(me,C)),X=(me,ke,Fe)=>{const qe=n();qe.alert(me,r(Fe||qe,ke))},de=(me,ke,Fe)=>{const qe=n();qe.confirm(me,r(Fe||qe,ke))},we=()=>{A().each(me=>{n().close(me),C(me)})};return e.on("remove",()=>{pe(t,me=>{n().close(me)})}),{open:j,openUrl:G,alert:X,confirm:de,close:we}},xS=(e,t)=>{e.notificationManager.open({type:"error",text:t})},wS=(e,t)=>{e._skinLoaded?xS(e,t):e.on("SkinLoaded",()=>{xS(e,t)})},U6=(e,t)=>{wS(e,wc.translate(["Failed to upload image: {0}",t]))},Lv=(e,t,n)=>{kE(e,t,{message:n}),console.error(n)},N0=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,I4=(e,t,n)=>{Lv(e,"PluginLoadError",N0("plugin",t,n))},B4=(e,t,n)=>{Lv(e,"IconsLoadError",N0("icons",t,n))},HF=(e,t,n)=>{Lv(e,"LanguageLoadError",N0("language",t,n))},W6=(e,t,n)=>{Lv(e,"ThemeLoadError",N0("theme",t,n))},VF=(e,t,n)=>{Lv(e,"ModelLoadError",N0("model",t,n))},$F=(e,t,n)=>{const r=wc.translate(["Failed to initialize plugin: {0}",t]);kE(e,"PluginLoadError",{message:r}),q2(r,n),wS(e,r)},q2=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},M4=e=>/^[a-z0-9\-]+$/i.test(e),P4=e=>"content/"+e+"/content.css",CS=e=>tinymce.Resource.has(P4(e)),UF=e=>Z6(e,Sl(e)),WF=e=>Z6(e,TO(e)),Z6=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",l=`content${e.editorManager.suffix}.css`;return Me(t,f=>CS(f)?f:M4(f)&&!e.inline?`${n}/${f}/${l}`:e.documentBaseURI.toAbsolute(f))},j6=e=>{e.contentCSS=e.contentCSS.concat(UF(e),WF(e))},K6=e=>e?io(e.getElementsByTagName("img")):[],ZF=(e,t)=>{const n={};return{findAll:(l,f=Rn)=>{const g=Ct(K6(l),A=>{const z=A.src;return A.hasAttribute("data-mce-bogus")||A.hasAttribute("data-mce-placeholder")||!z||z===Co.transparentSrc?!1:Gs(z,"blob:")?!e.isUploaded(z)&&f(A):Gs(z,"data:")?f(A):!1}),C=Me(g,A=>{const z=A.src;if(Yn(n,z))return n[z].then(j=>Te(j)?j:{image:A,blobInfo:j.blobInfo});{const j=O3(t,z).then(G=>(delete n[z],{image:A,blobInfo:G})).catch(G=>(delete n[z],G));return n[z]=j,j}});return Promise.all(C)}}},L4=()=>{let n={};const r=(X,de)=>({status:X,resultUri:de}),l=X=>X in n;return{hasBlobUri:l,getResultUri:X=>{const de=n[X];return de?de.resultUri:null},isPending:X=>l(X)?n[X].status===1:!1,isUploaded:X=>l(X)?n[X].status===2:!1,markPending:X=>{n[X]=r(1,null)},markUploaded:(X,de)=>{n[X]=r(2,de)},removeFailed:X=>{delete n[X]},destroy:()=>{n={}}}};let G2=0;const q6=()=>{const e=()=>Math.round(cl()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},jF=e=>e+G2+++q6(),G6=()=>{let e=[];const t=G=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[G.toLowerCase()]||"dat",n=(G,X,de,we,me)=>{if(Te(G))return r({id:G,name:we,filename:me,blob:X,base64:de});if(te(G))return r(G);throw new Error("Unknown input type")},r=G=>{if(!G.blob||!G.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const X=G.id||jF("blobid"),de=G.name||X,we=G.blob;return{id:Qe(X),name:Qe(de),filename:Qe(G.filename||de+"."+t(we.type)),blob:Qe(we),base64:Qe(G.base64),blobUri:Qe(G.blobUri||URL.createObjectURL(we)),uri:Qe(G.uri)}},l=G=>{g(G.id())||e.push(G)},f=G=>wn(e,G).getOrUndefined(),g=G=>f(X=>X.id()===G);return{create:n,add:l,get:g,getByUri:G=>f(X=>X.blobUri()===G),getByData:(G,X)=>f(de=>de.base64()===G&&de.blob().type===X),findFirst:f,removeByUri:G=>{e=Ct(e,X=>X.blobUri()===G?(URL.revokeObjectURL(X.blobUri()),!1):!0)},destroy:()=>{pe(e,G=>{URL.revokeObjectURL(G.blobUri())}),e=[]}}},Y6=(e,t)=>{const n={},r=(me,ke)=>me?me.replace(/\/$/,"")+"/"+ke.replace(/^\//,""):ke,l=(me,ke)=>new Promise((Fe,qe)=>{const We=new XMLHttpRequest;We.open("POST",t.url),We.withCredentials=t.credentials,We.upload.onprogress=Nt=>{ke(Nt.loaded/Nt.total*100)},We.onerror=()=>{qe("Image upload failed due to a XHR Transport error. Code: "+We.status)},We.onload=()=>{if(We.status<200||We.status>=300){qe("HTTP Error: "+We.status);return}const Nt=JSON.parse(We.responseText);if(!Nt||!Te(Nt.location)){qe("Invalid JSON: "+We.responseText);return}Fe(r(t.basePath,Nt.location))};const at=new FormData;at.append("file",me.blob(),me.filename()),We.send(at)}),f=Ne(t.handler)?t.handler:l,g=()=>new Promise(me=>{me([])}),C=(me,ke)=>({url:ke,blobInfo:me,status:!0}),A=(me,ke)=>({url:"",blobInfo:me,status:!1,error:ke}),z=(me,ke)=>{Kt.each(n[me],Fe=>{Fe(ke)}),delete n[me]},j=(me,ke,Fe)=>(e.markPending(me.blobUri()),new Promise(qe=>{let We,at;try{const Nt=()=>{We&&(We.close(),at=Pt)},jt=wt=>{Nt(),e.markUploaded(me.blobUri(),wt),z(me.blobUri(),C(me,wt)),qe(C(me,wt))},dn=wt=>{Nt(),e.removeFailed(me.blobUri()),z(me.blobUri(),A(me,wt)),qe(A(me,wt))};at=wt=>{wt<0||wt>100||J.from(We).orThunk(()=>J.from(Fe).map(Us)).each(dt=>{We=dt,dt.progressBar.value(wt)})},ke(me,at).then(jt,wt=>{dn(Te(wt)?{message:wt}:wt)})}catch(Nt){qe(A(me,Nt))}})),G=me=>me===l,X=me=>{const ke=me.blobUri();return new Promise(Fe=>{n[ke]=n[ke]||[],n[ke].push(Fe)})},de=(me,ke)=>(me=Kt.grep(me,Fe=>!e.isUploaded(Fe.blobUri())),Promise.all(Kt.map(me,Fe=>e.isPending(Fe.blobUri())?X(Fe):j(Fe,f,ke))));return{upload:(me,ke)=>!t.url&&G(f)?g():de(me,ke)}},X6=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),J6=(e,t)=>Y6(t,{url:Vk(e),basePath:kO(e),credentials:$k(e),handler:UM(e)}),KF=e=>{const t=L4(),n=J6(e,t);return{upload:(r,l=!0)=>n.upload(r,l?X6(e):void 0)}},qF=(e,t)=>e.dom.isEmpty(t.dom)&&Ce(e.schema.getTextBlockElements()[Po(t)]),Q6=e=>t=>{qF(e,t)&&Rr(t,Be.fromHtml('<br data-mce-bogus="1" />'))},F4=e=>{const t=G6();let n,r;const l=L4(),f=[],g=We=>at=>e.selection?We(at):[],C=We=>We+(We.indexOf("?")===-1?"?":"&")+new Date().getTime(),A=(We,at,Nt)=>{let jt=0;do jt=We.indexOf(at,jt),jt!==-1&&(We=We.substring(0,jt)+Nt+We.substr(jt+at.length),jt+=Nt.length-at.length+1);while(jt!==-1);return We},z=(We,at,Nt)=>{const jt=`src="${Nt}"${Nt===Co.transparentSrc?' data-mce-placeholder="1"':""}`;return We=A(We,`src="${at}"`,jt),We=A(We,'data-mce-src="'+at+'"','data-mce-src="'+Nt+'"'),We},j=(We,at)=>{pe(e.undoManager.data,Nt=>{Nt.type==="fragmented"?Nt.fragments=Me(Nt.fragments,jt=>z(jt,We,at)):Nt.content=z(Nt.content,We,at)})},G=(We,at)=>{const Nt=e.convertURL(at,"src");j(We.src,at),wi(Be.fromDom(We),{src:Gg(e)?C(at):at,"data-mce-src":Nt})},X=()=>(n||(n=J6(e,l)),ke().then(g(We=>{const at=Me(We,Nt=>Nt.blobInfo);return n.upload(at,X6(e)).then(g(Nt=>{const jt=[];let dn=!1;const wt=Me(Nt,(dt,Dt)=>{const{blobInfo:bn,image:Nn}=We[Dt];let yo=!1;return dt.status&&_O(e)?(dt.url&&!xs(Nn.src,dt.url)&&(dn=!0),t.removeByUri(Nn.src),Gm(e)||G(Nn,dt.url)):dt.error&&(dt.error.remove&&(j(Nn.src,Co.transparentSrc),jt.push(Nn),yo=!0),U6(e,dt.error.message)),{element:Nn,status:dt.status,uploadUri:dt.url,blobInfo:bn,removed:yo}});return jt.length>0&&!Gm(e)?e.undoManager.transact(()=>{pe(Kc(jt),dt=>{const Dt=ja(dt);hs(dt),Dt.each(Q6(e)),t.removeByUri(dt.dom.src)})}):dn&&e.undoManager.dispatchChange(),wt}))}))),de=()=>Ms(e)?X():Promise.resolve([]),we=We=>vo(f,at=>at(We)),me=We=>{f.push(We)},ke=()=>(r||(r=ZF(l,t)),r.findAll(e.getBody(),we).then(g(We=>{const at=Ct(We,Nt=>Te(Nt)?(wS(e,Nt),!1):Nt.uriType!=="blob");return Gm(e)||pe(at,Nt=>{j(Nt.image.src,Nt.blobInfo.blobUri()),Nt.image.src=Nt.blobInfo.blobUri(),Nt.image.removeAttribute("data-mce-src")}),at}))),Fe=()=>{t.destroy(),l.destroy(),r=n=null},qe=We=>We.replace(/src="(blob:[^"]+)"/g,(at,Nt)=>{const jt=l.getResultUri(Nt);if(jt)return'src="'+jt+'"';let dn=t.getByUri(Nt);return dn||(dn=It(e.editorManager.get(),(wt,dt)=>wt||dt.editorUpload&&dt.editorUpload.blobCache.getByUri(Nt),void 0)),dn?'src="data:'+dn.blob().type+";base64,"+dn.base64()+'"':at});return e.on("SetContent",()=>{Ms(e)?de():ke()}),e.on("RawSaveContent",We=>{We.content=qe(We.content)}),e.on("GetContent",We=>{We.source_view||We.format==="raw"||We.format==="tree"||(We.content=qe(We.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",We=>{pe(We,at=>{const Nt=at.attr("src");if(!Nt||t.getByUri(Nt))return;const jt=l.getResultUri(Nt);jt&&at.attr("src",jt)})})}),{blobCache:t,addFilter:me,uploadImages:X,uploadImagesAuto:de,scanForImages:ke,destroy:Fe}},eI=e=>{const t=e.dom,n=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:l=>{t.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:l=>{t.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const l={inline:"span",styles:{textDecoration:"line-through"},exact:!0},f={inline:"strike",remove:"all",preserve_attributes:["class","style"]},g={inline:"s",remove:"all",preserve_attributes:["class","style"]};return n!=="html4"?[g,l,f]:[l,g,f]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(l,f,g)=>yn(l)&&l.hasAttribute("href"),onformat:(l,f,g)=>{Kt.each(g,(C,A)=>{t.setAttrib(l,A,C)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":l=>{var f;return(f=l==null?void 0:l.customValue)!==null&&f!==void 0?f:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Kt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),l=>{r[l]={block:l,remove:"all"}}),r},z4={remove_similar:!0,inherit:!1},I0={selector:"td,th",...z4},tI={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...I0},tablecellverticalalign:{styles:{"vertical-align":"%value"},...I0},tablecellbordercolor:{styles:{borderColor:"%value"},...I0},tablecellclass:{classes:["%value"],...I0},tableclass:{selector:"table",classes:["%value"],...z4},tablecellborderstyle:{styles:{borderStyle:"%value"},...I0},tablecellborderwidth:{styles:{borderWidth:"%value"},...I0}},GF=Qe(tI),H4=e=>{const t={},n=g=>Ce(g)?t[g]:t,r=g=>Yn(t,g),l=(g,C)=>{g&&(Te(g)?(ne(C)||(C=[C]),pe(C,A=>{Ze(A.deep)&&(A.deep=!Ac(A)),Ze(A.split)&&(A.split=!Ac(A)||ei(A)),Ze(A.remove)&&Ac(A)&&!ei(A)&&(A.remove="none"),Ac(A)&&ei(A)&&(A.mixed=!0,A.block_expand=!0),Te(A.classes)&&(A.classes=A.classes.split(/\s+/))}),t[g]=C):Wo(g,(A,z)=>{l(z,A)}))},f=g=>(g&&t[g]&&delete t[g],t);return l(eI(e)),l(GF()),l(qM(e)),{get:n,has:r,register:l,unregister:f}},B0=Kt.each,Jl=Bs.DOM,Nf=e=>Ce(e)&&te(e),Y2=(e,t)=>{const n=t&&t.schema||xc({}),r=(A,z)=>{z.classes.length>0&&Jl.addClass(A,z.classes.join(" ")),Jl.setAttribs(A,z.attrs)},l=A=>{const z=Te(A)?{name:A,classes:[],attrs:{}}:A,j=Jl.create(z.name);return r(j,z),j},f=(A,z)=>{const j=n.getElementRule(A.nodeName.toLowerCase()),G=j==null?void 0:j.parentsRequired;return G&&G.length?z&&le(G,z)?z:G[0]:!1},g=(A,z,j)=>{let G;const X=z[0],de=Nf(X)?X.name:void 0,we=f(A,de);if(we)de===we?(G=X,z=z.slice(1)):G=we;else if(X)G=X,z=z.slice(1);else if(!j)return A;const me=G?l(G):Jl.create("div");me.appendChild(A),j&&Kt.each(j,Fe=>{const qe=l(Fe);me.insertBefore(qe,A)});const ke=Nf(G)?G.siblings:void 0;return g(me,z,ke)},C=Jl.create("div");if(e.length>0){const A=e[0],z=l(A),j=Nf(A)?A.siblings:void 0;C.appendChild(g(z,e.slice(1),j))}return C},Fv=e=>{e=Kt.trim(e);let t="div";const n={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,l,f,g,C)=>{switch(l){case"#":n.attrs.id=f;break;case".":n.classes.push(f);break;case":":Kt.inArray("checked disabled enabled read-only required".split(" "),f)!==-1&&(n.attrs[f]=f);break}if(g==="["){const A=C.match(/([\w\-]+)(?:\=\"([^\"]+))?/);A&&(n.attrs[A[1]]=A[2])}return""})),n.name=t||"div",n},nI=e=>Te(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Kt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const n=Kt.map(t.split(/(?:~\+|~|\+)/),Fv),r=n.pop();return n.length&&(r.siblings=n),r}).reverse()):[],oI=(e,t)=>{let n="",r=GM(e);if(r==="")return"";const l=X=>Te(X)?X.replace(/%(\w+)/g,""):"",f=(X,de)=>Jl.getStyle(de??e.getBody(),X,!0);if(Te(t)){const X=e.formatter.get(t);if(!X)return"";t=X[0]}if("preview"in t){const X=t.preview;if(X===!1)return"";r=X||r}let g=t.block||t.inline||"span",C;const A=nI(t.selector);A.length>0?(A[0].name||(A[0].name=g),g=t.selector,C=Y2(A,e)):C=Y2([g],e);const z=Jl.select(g,C)[0]||C.firstChild;B0(t.styles,(X,de)=>{const we=l(X);we&&Jl.setStyle(z,de,we)}),B0(t.attributes,(X,de)=>{const we=l(X);we&&Jl.setAttrib(z,de,we)}),B0(t.classes,X=>{const de=l(X);Jl.hasClass(z,de)||Jl.addClass(z,de)}),e.dispatch("PreviewFormats"),Jl.setStyles(C,{position:"absolute",left:-65535}),e.getBody().appendChild(C);const j=f("fontSize"),G=/px$/.test(j)?parseInt(j,10):0;return B0(r.split(" "),X=>{let de=f(X,z);if(!(X==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(de)&&(de=f(X),Sb(de).toLowerCase()==="#ffffff"))&&!(X==="color"&&Sb(de).toLowerCase()==="#000000")){if(X==="font-size"&&/em|%$/.test(de)){if(G===0)return;de=parseFloat(de)/(/%$/.test(de)?100:1)*G+"px"}X==="border"&&de&&(n+="padding:0 2px;"),n+=X+":"+de+";"}}),e.dispatch("AfterPreviewFormats"),Jl.remove(C),n},V4=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},X2=e=>{const t=H4(e),n=ha({});return V4(e),qR(e),Gm(e)||dN(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(r,l,f)=>{Hs(e,r,l,f)},remove:(r,l,f,g)=>{d6(e,r,l,f,g)},toggle:(r,l,f)=>{p4(e,r,l,f)},match:(r,l,f,g)=>mF(e,r,l,f,g),closest:r=>bF(e,r),matchAll:(r,l)=>gF(e,r,l),matchNode:(r,l,f,g)=>hF(e,r,l,f,g),canApply:r=>pF(e,r),formatChanged:(r,l,f,g)=>f6(e,n,r,l,f,g),getCssText:pt(oI,e)}},uh=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},M0=(e,t,n)=>{const r=ha(!1),l=A=>{$2(t,!1,n),t.add({},A)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",A=>{const z=A.command;uh(z)||(c4(t,n),t.beforeChange())}),e.on("ExecCommand",A=>{const z=A.command;uh(z)||l(A)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("dragend",l),e.on("keyup",A=>{const z=A.keyCode;if(A.isDefaultPrevented())return;const j=Co.os.isMacOS()&&A.key==="Meta";(z>=33&&z<=36||z>=37&&z<=40||z===45||A.ctrlKey||j)&&(l(),e.nodeChanged()),(z===46||z===8)&&e.nodeChanged(),r.get()&&t.typing&&!Bv(Iv(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",A=>{const z=A.keyCode;if(A.isDefaultPrevented())return;if(z>=33&&z<=36||z>=37&&z<=40||z===45){t.typing&&l(A);return}const j=A.ctrlKey&&!A.altKey||A.metaKey;if((z<16||z>20)&&z!==224&&z!==91&&!t.typing&&!j){t.beforeChange(),$2(t,!0,n),t.add({},A),r.set(!0);return}(Co.os.isMacOS()?A.metaKey:A.ctrlKey&&!A.altKey)&&t.beforeChange()}),e.on("mousedown",A=>{t.typing&&l(A)});const f=A=>A.inputType==="insertReplacementText",g=A=>A.inputType==="insertText"&&A.data===null,C=A=>A.inputType==="insertFromPaste"||A.inputType==="insertFromDrop";e.on("input",A=>{A.inputType&&(f(A)||g(A)||C(A))&&l(A)}),e.on("AddUndo Undo Redo ClearUndos",A=>{A.isDefaultPrevented()||e.nodeChanged()})},sI=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},rI=e=>{const t=pa(),n=ha(0),r=ha(0),l={data:[],typing:!1,beforeChange:()=>{Mv(e,n,t)},add:(f,g)=>aF(e,l,r,n,t,f,g),dispatchChange:()=>{e.setDirty(!0);const f=Iv(e);f.bookmark=gn(e.selection),e.dispatch("change",{level:f,lastLevel:yi(l.data,r.get()).getOrUndefined()})},undo:()=>iF(e,l,n,r),redo:()=>c6(e,r,l.data),clear:()=>{u6(e,l,r)},reset:()=>{bS(e,l)},hasUndo:()=>lF(e,l,r),hasRedo:()=>cF(e,l,r),transact:f=>uF(e,l,n,f),ignore:f=>{dF(e,n,f)},extra:(f,g)=>{fF(e,l,r,f,g)}};return Gm(e)||M0(e,l,n),sI(e),l},aI=[9,27,rn.HOME,rn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,rn.DOWN,rn.UP,rn.LEFT,rn.RIGHT].concat(Co.browser.isFirefox()?[224]:[]),iI="data-mce-placeholder",lI=e=>e.type==="keydown"||e.type==="keyup",cI=e=>{const t=e.keyCode;return t===rn.BACKSPACE||t===rn.DELETE},$4=e=>{if(lI(e)){const t=e.keyCode;return!cI(e)&&(rn.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||le(aI,t))}else return!1},uI=e=>lI(e)&&!(cI(e)||e.type==="keyup"&&e.keyCode===229),YF=(e,t,n)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const r=t.firstElementChild;return r?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:n===r.nodeName.toLowerCase():!0}else return!1},dI=e=>{var t;const n=e.dom,r=ji(e),l=(t=Wk(e))!==null&&t!==void 0?t:"",f=(g,C)=>{if($4(g))return;const A=e.getBody(),z=uI(g)?!1:YF(n,A,r);(n.getAttrib(A,iI)!==""!==z||C)&&(n.setAttrib(A,iI,z?l:null),U5(e,z),e.on(z?"keydown":"keyup",f),e.off(z?"keyup":"keydown",f))};je(l)&&e.on("init",g=>{f(g,!0),e.on("change SetContent ExecCommand",f),e.on("paste",C=>Oc.setEditorTimeout(e,()=>f(C)))})},XF=(e,t)=>({block:e,position:t}),U4=(e,t)=>({from:e,to:t}),W4=(e,t)=>{const n=Be.fromDom(e),r=Be.fromDom(t.container());return _2(n,r).map(l=>XF(l,t))},fI=e=>!(Za(e.to.block,e.from.block)||Za(e.from.block,e.to.block)),Z4=e=>!Lo(e.from.block,e.to.block),j4=(e,t)=>ea(t,l=>Cc(l)||pc(l.dom),l=>Lo(l,e)).filter(Or).getOr(e),K4=(e,t)=>{const n=Be.fromDom(e);return Lo(j4(n,t.from.block),j4(n,t.to.block))},JF=e=>to(e.from.block.dom)===!1&&to(e.to.block.dom)===!1,mI=e=>{const t=n=>Pb(n)||Oa(n.dom)||km(n);return t(e.from.block)&&t(e.to.block)},QF=(e,t,n,r)=>or(r.position.getNode())&&!Ir(e,r.block)?rv(!1,r.block.dom).bind(l=>l.isEqual(r.position)?ru(n,t,l).bind(f=>W4(t,f)):J.some(r)).getOr(r):r,gI=(e,t,n,r)=>{const l=W4(t,mt.fromRangeStart(r)),f=l.bind(g=>ru(n,t,g.position).bind(C=>W4(t,C).map(A=>QF(e,t,n,A))));return Ua(l,f,U4).filter(g=>Z4(g)&&K4(t,g)&&JF(g)&&mI(g)&&fI(g))},hI=(e,t,n,r)=>r.collapsed?gI(e,t,n,r):J.none(),ez=(e,t)=>{const n=Ka(e);return Cn(n,r=>t.isBlock(Po(r))).fold(Qe(n),r=>n.slice(0,r))},pI=(e,t)=>{const n=ez(e,t);return pe(n,hs),n},bI=(e,t,n)=>{const r=Dc(n,t);return wn(r.reverse(),l=>Ir(e,l)).each(hs)},tz=(e,t)=>Ct(ku(t),n=>!Ir(e,n)).length===0,nz=(e,t,n,r,l)=>{if(Ir(r,n))return _c(n),Un(n.dom);tz(r,l)&&Ir(r,t)&&hr(l,Be.fromTag("br"));const f=Ec(n.dom,mt.before(l.dom));return pe(pI(t,r),g=>{hr(l,g)}),bI(r,e,t),f},P0=(e,t)=>e.isInline(Po(t)),vI=(e,t,n,r)=>{if(Ir(r,n)){if(Ir(r,t)){const g=zt((C=>{const A=(z,j)=>_l(z).fold(()=>j,G=>P0(r,G)?A(G,j.concat(Pr(G))):j);return A(C,[])})(n),(C,A)=>(Dl(C,A),A),xd());zs(t),Rr(t,g)}return hs(n),Un(t.dom)}const l=Lu(n.dom);return pe(pI(t,r),f=>{Rr(n,f)}),bI(r,e,t),l},yI=(e,t)=>{const n=Dc(t,e);return J.from(n[n.length-1])},xI=(e,t)=>Za(t,e)?yI(t,e):J.none(),wI=(e,t)=>{rv(e,t.dom).bind(n=>J.from(n.getNode())).map(Be.fromDom).filter(Mu).each(hs)},CI=(e,t,n,r)=>(wI(!0,t),wI(!1,n),xI(t,n).fold(pt(vI,e,t,n,r),pt(nz,e,t,n,r))),dh=(e,t,n,r,l)=>t?CI(e,r,n,l):CI(e,n,r,l),_S=(e,t)=>{const n=Be.fromDom(e.getBody());return hI(e.schema,n.dom,t,e.selection.getRng()).map(l=>()=>{dh(n,t,l.from.block,l.to.block,e.schema).each(f=>{e.selection.setRng(f.toRange())})})},SS=(e,t,n)=>{const r=t.getRng();return Ua(_2(e,Be.fromDom(r.startContainer)),_2(e,Be.fromDom(r.endContainer)),(l,f)=>Lo(l,f)?J.none():J.some(()=>{r.deleteContents(),dh(e,!0,l,f,n).each(g=>{t.setRng(g.toRange())})})).getOr(J.none())},_I=(e,t)=>{const n=Be.fromDom(t),r=pt(Lo,e);return Hi(n,Cc,r).isSome()},SI=(e,t)=>_I(e,t.startContainer)||_I(e,t.endContainer),oz=(e,t)=>{const n=Ec(e.dom,mt.fromRangeStart(t)).isNone(),r=Il(e.dom,mt.fromRangeEnd(t)).isNone();return!SI(e,t)&&n&&r},sz=e=>J.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),q4=e=>{const t=Be.fromDom(e.getBody()),n=e.selection.getRng();return oz(t,n)?sz(e):SS(t,e.selection,e.schema)},G4=(e,t)=>e.selection.isCollapsed()?J.none():q4(e),xr=(e,t,n,r,l)=>J.from(t._selectionOverrides.showCaret(e,n,r,l)),rz=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},J2=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?J.none():J.some(rz(t)),Y4=(e,t,n)=>{const r=iE(1,e.getBody(),t),l=mt.fromRangeStart(r),f=l.getNode();if(Dx(f))return xr(1,e,f,!l.isAtEnd(),!1);const g=l.getNode(!0);if(Dx(g))return xr(1,e,g,!1,!1);const C=Zu(e.dom.getRoot(),l.getNode());return Dx(C)?xr(1,e,C,!1,n):J.none()},kS=(e,t,n)=>t.collapsed?Y4(e,t,n).getOr(t):t,X4=e=>ya(e)||b0(e),az=e=>Df(e)||yv(e),iz=(e,t)=>{Mt(t)&&t.data.length===0&&e.remove(t)},kI=(e,t,n,r,l,f)=>{xr(r,e,f.getNode(!l),l,!0).each(g=>{if(t.collapsed){const C=t.cloneRange();l?C.setEnd(g.startContainer,g.startOffset):C.setStart(g.endContainer,g.endOffset),C.deleteContents()}else t.deleteContents();e.selection.setRng(g)}),iz(e.dom,n)},lz=(e,t)=>{const n=e.selection.getRng();if(!Mt(n.commonAncestorContainer))return J.none();const r=t?Oi.Forwards:Oi.Backwards,l=zn(e.getBody()),f=pt(lE,t?l.next:l.prev),g=t?X4:az,C=Mx(r,e.getBody(),n),A=f(C),z=A&&Wu(t,A);if(!z||!AC(C,z))return J.none();if(g(z))return J.some(()=>kI(e,n,C.getNode(),r,t,z));const j=f(z);return j&&g(j)&&AC(z,j)?J.some(()=>kI(e,n,C.getNode(),r,t,j)):J.none()},J4=(e,t)=>lz(e,t),Q4=(e,t)=>{const n=e.getBody();return t?Un(n).filter(ya):Lu(n).filter(Df)},eT=e=>{const t=e.selection.getRng();return!t.collapsed&&(Q4(e,!0).exists(n=>n.isEqual(mt.fromRangeStart(t)))||Q4(e,!1).exists(n=>n.isEqual(mt.fromRangeEnd(t))))},zv=e=>Ce(e)&&(Cc(Be.fromDom(e))||km(Be.fromDom(e))),Na=Mo.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),cz=(e,t)=>{const n=t.getNode(!e),r=e?"after":"before";return yn(n)&&n.getAttribute("data-mce-caret")===r},uz=(e,t,n,r,l)=>{const f=g=>l.isInline(g.nodeName.toLowerCase())&&!Im(n,r,e);return i5(!t,n).fold(()=>i5(t,r).fold(xn,f),f)},EI=(e,t,n,r,l)=>{const f=l.getNode(!n);return _2(Be.fromDom(t),Be.fromDom(r.getNode())).map(g=>Ir(e,g)?Na.remove(g.dom):Na.moveToElement(f)).orThunk(()=>J.some(Na.moveToElement(f)))},AI=(e,t,n,r)=>ru(t,e,n).bind(l=>zv(l.getNode())||uz(e,t,n,l,r)?J.none():t&&to(l.getNode())||!t&&to(l.getNode(!0))?EI(r,e,t,n,l):t&&Df(n)||!t&&ya(n)?J.some(Na.moveToPosition(l)):J.none()),dz=(e,t)=>nt(t)?J.none():e&&to(t.nextSibling)?J.some(Na.moveToElement(t.nextSibling)):!e&&to(t.previousSibling)?J.some(Na.moveToElement(t.previousSibling)):J.none(),fz=(e,t,n)=>n.fold(r=>J.some(Na.remove(r)),r=>J.some(Na.moveToElement(r)),r=>Im(t,r,e)?J.none():J.some(Na.moveToPosition(r))),mz=(e,t,n,r)=>cz(t,n)?dz(t,n.getNode(!t)).orThunk(()=>AI(e,t,n,r)):AI(e,t,n,r).bind(l=>fz(e,n,l)),gz=(e,t,n,r)=>{const l=iE(t?1:-1,e,n),f=mt.fromRangeStart(l),g=Be.fromDom(e);return!t&&Df(f)?J.some(Na.remove(f.getNode(!0))):t&&ya(f)?J.some(Na.remove(f.getNode())):!t&&ya(f)&&y0(g,f,r)?m_(g,f,r).map(C=>Na.remove(C.getNode())):t&&Df(f)&&v2(g,f,r)?YD(g,f,r).map(C=>Na.remove(C.getNode())):mz(e,t,f,r)},hz=(e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),fl(e,t,Be.fromDom(n)),!0),pz=(e,t)=>n=>{const r=t?mt.before(n):mt.after(n);return e.selection.setRng(r.toRange()),!0},bz=e=>t=>(e.selection.setRng(t.toRange()),!0),TI=(e,t)=>J.from(Zu(e.getBody(),t)),vz=(e,t)=>{const n=e.selection.getNode();return TI(e,n).filter(to).fold(()=>gz(e.getBody(),t,e.selection.getRng(),e.schema).map(r=>()=>r.fold(hz(e,t),pz(e,t),bz(e))),()=>J.some(Pt))},yz=e=>{pe(ta(e,".mce-offscreen-selection"),hs)},xz=(e,t)=>{const n=e.selection.getNode();return to(n)&&!Ih(n)?TI(e,n.parentNode).filter(to).fold(()=>J.some(()=>{yz(Be.fromDom(e.getBody())),fl(e,t,Be.fromDom(e.selection.getNode())),v_(e)}),()=>J.some(Pt)):eT(e)?J.some(()=>{y_(e,e.selection.getRng(),Be.fromDom(e.getBody()))}):J.none()},OI=e=>{const t=e.dom,n=e.selection,r=Zu(e.getBody(),n.getNode());if(pc(r)&&t.isBlock(r)&&t.isEmpty(r)){const l=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(l),n.setRng(mt.before(l).toRange())}return!0},tT=(e,t)=>e.selection.isCollapsed()?vz(e,t):xz(e,t),DI=e=>e.hasOwnProperty("text"),RI=e=>e.hasOwnProperty("marker"),NI=(e,t)=>{const n=(f,g)=>{if(Mt(f))return{text:f,offset:g};{const C=t(),A=f.childNodes;return g<A.length?(f.insertBefore(C,A[g]),{marker:C,before:!0}):(f.appendChild(C),{marker:C,before:!1})}},r=n(e.endContainer,e.endOffset);return{start:n(e.startContainer,e.startOffset),end:r}},II=e=>{var t,n;const{start:r,end:l}=e,f=new window.Range;return DI(r)?f.setStart(r.text,r.offset):RI(r)&&(r.before?f.setStartBefore(r.marker):f.setStartAfter(r.marker),(t=r.marker.parentNode)===null||t===void 0||t.removeChild(r.marker)),DI(l)?f.setEnd(l.text,l.offset):RI(l)&&(l.before?f.setEndBefore(l.marker):f.setEndAfter(l.marker),(n=l.marker.parentNode)===null||n===void 0||n.removeChild(l.marker)),f},nT=(e,t)=>{var n;const r=e.dom,l=r.getParent(e.selection.getStart(),r.isBlock),f=r.getParent(e.selection.getEnd(),r.isBlock),g=e.getBody();if(((n=l==null?void 0:l.nodeName)===null||n===void 0?void 0:n.toLowerCase())==="div"&&l&&f&&l===g.firstChild&&f===g.lastChild&&!r.isEmpty(g)){const A=l.cloneNode(!1),z=()=>{if(t?kA(e):b_(e),g.firstChild!==l){const j=NI(e.selection.getRng(),()=>document.createElement("span"));Array.from(g.childNodes).forEach(G=>A.appendChild(G)),g.appendChild(A),e.selection.setRng(II(j))}};return J.some(z)}return J.none()},wz=(e,t)=>{const n=mt.fromRangeStart(e.selection.getRng());return ru(t,e.getBody(),n).filter(r=>t?WD(r):ZD(r)).bind(r=>kC(t?0:-1,r)).map(r=>()=>e.selection.select(r))},oT=(e,t)=>e.selection.isCollapsed()?wz(e,t):J.none(),Hv=Mt,BI=e=>Hv(e)&&e.data[0]===la,MI=e=>Hv(e)&&e.data[e.data.length-1]===la,PI=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(la)},Cz=e=>{var t;if(Hv(e.previousSibling))return MI(e.previousSibling)||e.previousSibling.appendData(la),e.previousSibling;if(Hv(e))return BI(e)||e.insertData(0,la),e;{const n=PI(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(n,e),n}},_z=e=>{var t,n;if(Hv(e.nextSibling))return BI(e.nextSibling)||e.nextSibling.insertData(0,la),e.nextSibling;if(Hv(e))return MI(e)||e.appendData(la),e;{const r=PI(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(r,e.nextSibling):(n=e.parentNode)===null||n===void 0||n.appendChild(r),r}},ES=(e,t)=>e?Cz(t):_z(t),LI=pt(ES,!0),Sz=pt(ES,!1),FI=(e,t)=>Mt(e.container())?ES(t,e.container()):ES(t,e.getNode()),zI=(e,t)=>{const n=t.get();return n&&e.container()===n&&Em(n)},sT=(e,t)=>t.fold(n=>{Xh(e.get());const r=LI(n);return e.set(r),J.some(mt(r,r.length-1))},n=>Un(n).map(r=>{if(zI(r,e)){const l=e.get();return mt(l,1)}else{Xh(e.get());const l=FI(r,!0);return e.set(l),mt(l,1)}}),n=>Lu(n).map(r=>{if(zI(r,e)){const l=e.get();return mt(l,l.length-1)}else{Xh(e.get());const l=FI(r,!1);return e.set(l),mt(l,l.length-1)}}),n=>{Xh(e.get());const r=Sz(n);return e.set(r),J.some(mt(r,1))}),HI=(e,t)=>{for(let n=0;n<e.length;n++){const r=e[n].apply(null,t);if(r.isSome())return r}return J.none()},Ml=Mo.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),VI=(e,t)=>{const n=Jh(t,e);return n||e},kz=(e,t,n)=>{const r=hR(n),l=VI(t,r.container());return fp(e,l,r).fold(()=>Il(l,r).bind(pt(fp,e,l)).map(f=>Ml.before(f)),J.none)},$I=(e,t)=>Qh(e,t)===null,UI=(e,t,n)=>fp(e,t,n).filter(pt($I,t)),Ez=(e,t,n)=>{const r=Sv(n);return UI(e,t,r).bind(l=>Ec(l,r).isNone()?J.some(Ml.start(l)):J.none())},Az=(e,t,n)=>{const r=hR(n);return UI(e,t,r).bind(l=>Il(l,r).isNone()?J.some(Ml.end(l)):J.none())},Tz=(e,t,n)=>{const r=Sv(n),l=VI(t,r.container());return fp(e,l,r).fold(()=>Ec(l,r).bind(pt(fp,e,l)).map(f=>Ml.after(f)),J.none)},WI=e=>!w2(rT(e)),Ym=(e,t,n)=>HI([kz,Ez,Az,Tz],[e,t,n]).filter(WI),rT=e=>e.fold(On,On,On,On),ZI=e=>e.fold(Qe("before"),Qe("start"),Qe("end"),Qe("after")),Q2=e=>e.fold(Ml.before,Ml.before,Ml.after,Ml.after),AS=e=>e.fold(Ml.start,Ml.start,Ml.end,Ml.end),Oz=(e,t)=>ZI(e)===ZI(t)&&rT(e)===rT(t),jI=(e,t,n,r,l,f)=>Ua(fp(t,n,r),fp(t,n,l),(g,C)=>g!==C&&gR(n,g,C)?Ml.after(e?g:C):f).getOr(f),Dz=(e,t)=>e.fold(Rn,n=>!Oz(n,t)),Rz=(e,t,n,r,l)=>{const f=Wu(e,l);return ru(e,n,f).map(pt(Wu,e)).fold(()=>r.map(Q2),A=>Ym(t,n,A).map(pt(jI,e,t,n,f,A)).filter(pt(Dz,r))).filter(WI)},Nz=(e,t)=>e?t.fold(cn(J.some,Ml.start),J.none,cn(J.some,Ml.after),J.none):t.fold(J.none,cn(J.some,Ml.before),J.none,cn(J.some,Ml.end)),Iz=(e,t,n,r)=>{const l=Wu(e,r),f=Ym(t,n,l);return Ym(t,n,l).bind(pt(Nz,e)).orThunk(()=>Rz(e,t,n,f,r))},Bz=e=>Ne(e.selection.getSel().modify),KI=(e,t,n)=>{const r=e?1:-1;return t.setRng(mt(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},aT=(e,t)=>{const n=t.selection.getRng(),r=e?mt.fromRangeEnd(n):mt.fromRangeStart(n);return Bz(t)?e&&zb(r)?KI(!0,t.selection,r):!e&&$1(r)?KI(!1,t.selection,r):!1:!1};var Nd;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Nd||(Nd={}));const TS=(e,t)=>e===Oi.Backwards?To(t):t,qI=(e,t,n)=>e===Oi.Forwards?t.next(n):t.prev(n),Mz=(e,t,n,r)=>or(r.getNode(t===Oi.Forwards))?Nd.Br:Im(n,r)===!1?Nd.Block:Nd.Wrap,GI=(e,t,n,r)=>{const l=zn(n);let f=r;const g=[];for(;f;){const C=qI(t,l,f);if(!C)break;if(or(C.getNode(!1)))return t===Oi.Forwards?{positions:TS(t,g).concat([C]),breakType:Nd.Br,breakAt:J.some(C)}:{positions:TS(t,g),breakType:Nd.Br,breakAt:J.some(C)};if(!C.isVisible()){f=C;continue}if(e(f,C)){const A=Mz(n,t,f,C);return{positions:TS(t,g),breakType:A,breakAt:J.some(C)}}g.push(C),f=C}return{positions:TS(t,g),breakType:Nd.Eol,breakAt:J.none()}},YI=(e,t,n,r)=>t(n,r).breakAt.map(l=>{const f=t(n,l).positions;return e===Oi.Backwards?f.concat(l):[l].concat(f)}).getOr([]),iT=(e,t)=>It(e,(n,r)=>n.fold(()=>J.some(r),l=>Ua(un(l.getClientRects()),un(r.getClientRects()),(f,g)=>{const C=Math.abs(t-f.left);return Math.abs(t-g.left)<=C?r:l}).or(n)),J.none()),OS=(e,t)=>un(t.getClientRects()).bind(n=>iT(e,n.left)),ew=pt(GI,mt.isAbove,-1),tw=pt(GI,mt.isBelow,1),XI=pt(YI,-1,ew),DS=pt(YI,1,tw),JI=(e,t)=>ew(e,t).breakAt.isNone(),QI=(e,t)=>tw(e,t).breakAt.isNone(),Pz=e=>Un(e).map(t=>[t].concat(tw(e,t).positions)).getOr([]),eB=e=>Lu(e).map(t=>ew(e,t).positions.concat(t)).getOr([]),L0=(e,t)=>OS(XI(e,t),t),Lz=(e,t)=>OS(DS(e,t),t),Fz=to,tB=(e,t)=>Math.abs(e.left-t),Ql=(e,t)=>Math.abs(e.right-t),nB=e=>Ol(e,"node"),oB=(e,t)=>tl(e,(n,r)=>{const l=Math.min(tB(n,t),Ql(n,t)),f=Math.min(tB(r,t),Ql(r,t));return f===l&&nB(r)&&Fz(r.node)||f<l?r:n}),zz=e=>{const t=n=>Me(n,r=>{const l=hf(r);return l.node=e,l});if(yn(e))return t(e.getClientRects());if(Mt(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}else return[]},sB=e=>ao(e,zz);var nw;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(nw||(nw={}));const Hz=(e,t,n,r)=>{let l=r;for(;l=Nx(l,e,Zb,t);)if(n(l))return},lT=(e,t,n,r,l,f)=>{let g=0;const C=[],A=G=>{let X=sB([G]);e===-1&&(X=X.reverse());for(let de=0;de<X.length;de++){const we=X[de];if(!n(we,z)){if(C.length>0&&t(we,ri(C))&&g++,we.line=g,l(we))return!0;C.push(we)}}return!1},z=ri(f.getClientRects());if(!z)return C;const j=f.getNode();return j&&(A(j),Hz(e,r,A,j)),C},Vz=(e,t)=>t.line>e,$z=(e,t)=>t.line===e,Uz=pt(lT,nw.Up,vf,jg),Wz=pt(lT,nw.Down,jg,vf),rB=e=>ri(e.getClientRects()),Vv=(e,t,n,r)=>{const l=zn(t);let f,g,C,A;const z=[];let j=0;e===1?(f=l.next,g=jg,C=vf,A=mt.after(r)):(f=l.prev,g=vf,C=jg,A=mt.before(r));const G=rB(A);do{if(!A.isVisible())continue;const X=rB(A);if(C(X,G))continue;z.length>0&&g(X,ri(z))&&j++;const de=hf(X);if(de.position=A,de.line=j,n(de))return z;z.push(de)}while(A=f(A));return z},cT=e=>t=>Vz(e,t),$v=e=>t=>$z(e,t),If=(e,t)=>{e.selection.setRng(t),Hu(e,e.selection.getRng())},RS=(e,t,n)=>J.some(kS(e,t,n)),uT=(e,t,n,r,l,f)=>{const g=t===Oi.Forwards,C=zn(e.getBody()),A=pt(lE,g?C.next:C.prev),z=g?r:l;if(!n.collapsed){const we=jh(n);if(f(we))return xr(t,e,we,t===Oi.Backwards,!1);if(eT(e)){const me=n.cloneRange();return me.collapse(t===Oi.Backwards),J.from(me)}}const j=Mx(t,e.getBody(),n);if(z(j))return J2(e,j.getNode(!g));let G=A(j);const X=Zg(n);if(G)G=Wu(g,G);else return X?J.some(n):J.none();if(z(G))return xr(t,e,G.getNode(!g),g,!1);const de=A(G);return de&&z(de)&&AC(G,de)?xr(t,e,de.getNode(!g),g,!1):X?RS(e,G.toRange(),!1):J.none()},aB=(e,t,n,r,l,f)=>{const g=Mx(t,e.getBody(),n),C=ri(g.getClientRects()),A=t===nw.Down,z=e.getBody();if(!C)return J.none();if(eT(e)){const ke=A?mt.fromRangeEnd(n):mt.fromRangeStart(n);return(A?Lz:L0)(z,ke).orThunk(()=>J.from(ke)).map(qe=>qe.toRange())}const G=(A?Wz:Uz)(z,cT(1),g),X=Ct(G,$v(1)),de=C.left,we=oB(X,de);if(we&&f(we.node)){const ke=Math.abs(de-we.left),Fe=Math.abs(de-we.right);return xr(t,e,we.node,ke<Fe,!1)}let me;if(r(g)?me=g.getNode():l(g)?me=g.getNode(!0):me=jh(n),me){const ke=Vv(t,z,cT(1),me);let Fe=oB(Ct(ke,$v(1)),de);if(Fe||(Fe=ri(Ct(ke,$v(0))),Fe))return RS(e,Fe.position.toRange(),!1)}return X.length===0?NS(e,A).filter(A?l:r).map(ke=>kS(e,ke.toRange(),!1)):J.none()},NS=(e,t)=>{const n=e.selection.getRng(),r=t?mt.fromRangeEnd(n):mt.fromRangeStart(n),l=pP(r.container(),e.getBody());if(t){const f=tw(l,r);return po(f.positions)}else{const f=ew(l,r);return un(f.positions)}},iB=(e,t,n)=>NS(e,t).filter(n).exists(r=>(e.selection.setRng(r.toRange()),!0)),ow=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},dT=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},fT=(e,t,n)=>sT(t,n).map(r=>(ow(e,r),n)),lB=(e,t,n)=>{const r=mt.fromRangeStart(e);if(e.collapsed)return r;{const l=mt.fromRangeEnd(e);return n?Ec(t,l).getOr(l):Il(t,r).getOr(r)}},cB=(e,t,n)=>{const r=e.getBody(),l=lB(e.selection.getRng(),r,n),f=pt(w0,e);return Iz(n,f,r,l).bind(C=>fT(e,t,C))},uB=(e,t,n)=>{const r=Me(ta(Be.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),g=>g.dom),l=Ct(r,e),f=Ct(n,e);pe(Do(l,f),pt(dT,!1)),pe(Do(f,l),pt(dT,!0))},mT=(e,t)=>{const n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){const r=mt.fromRangeStart(e.selection.getRng());mt.isTextPosition(r)&&!_A(r)&&(ow(e,mP(n,r)),t.set(null))}},dB=(e,t,n,r)=>{if(t.selection.isCollapsed()){const l=Ct(r,e);pe(l,f=>{const g=mt.fromRangeStart(t.selection.getRng());Ym(e,t.getBody(),g).bind(C=>fT(t,n,C))})}},gT=(e,t,n)=>nv(e)?cB(e,t,n).isSome():!1,hT=(e,t,n)=>nv(t)?aT(e,t):!1,fB=e=>{const t=ha(null),n=pt(w0,e);return e.on("NodeChange",r=>{nv(e)&&(uB(n,e.dom,r.parents),mT(e,t),dB(n,e,t,r.parents))}),t},mB=pt(hT,!0),gB=pt(hT,!1),sw=(e,t,n)=>{if(nv(e)){const r=NS(e,t).getOrThunk(()=>{const l=e.selection.getRng();return t?mt.fromRangeEnd(l):mt.fromRangeStart(l)});return Ym(pt(w0,e),e.getBody(),r).exists(l=>{const f=Q2(l);return sT(n,f).exists(g=>(ow(e,g),!0))})}else return!1},pT=(e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},bT=e=>Ua(Un(e),Lu(e),(t,n)=>{const r=Wu(!0,t),l=Wu(!1,n);return Il(e,r).forall(f=>f.isEqual(l))}).getOr(!0),rw=(e,t)=>n=>sT(t,n).map(r=>()=>ow(e,r)),vT=(e,t,n,r)=>{const l=e.getBody(),f=pt(w0,e);e.undoManager.ignore(()=>{e.selection.setRng(pT(n,r)),b_(e),Ym(f,l,mt.fromRangeStart(e.selection.getRng())).map(AS).bind(rw(e,t)).each(ho)}),e.nodeChanged()},hB=(e,t)=>{const n=Jh(t,e);return n||e},pB=(e,t,n,r)=>{const l=hB(e.getBody(),r.container()),f=pt(w0,e),g=Ym(f,l,r);return g.bind(A=>n?A.fold(Qe(J.some(AS(A))),J.none,Qe(J.some(Q2(A))),J.none):A.fold(J.none,Qe(J.some(Q2(A))),J.none,Qe(J.some(AS(A))))).map(rw(e,t)).getOrThunk(()=>{const A=s0(n,l,r),z=A.bind(j=>Ym(f,l,j));return Ua(g,z,()=>fp(f,l,r).bind(j=>bT(j)?J.some(()=>{fl(e,n,Be.fromDom(j))}):J.none())).getOrThunk(()=>z.bind(()=>A.map(j=>()=>{n?vT(e,t,r,j):vT(e,t,j,r)})))})},aw=(e,t,n)=>{if(e.selection.isCollapsed()&&nv(e)){const r=mt.fromRangeStart(e.selection.getRng());return pB(e,t,n,r)}return J.none()},bB=e=>ud(e)>1,yT=(e,t)=>{const n=Be.fromDom(e.getBody()),r=Be.fromDom(e.selection.getStart()),l=Dc(r,n);return Cn(l,t).fold(Qe(l),f=>l.slice(0,f))},vB=e=>ud(e)===1,Zz=e=>yT(e,t=>e.schema.isBlock(Po(t))||bB(t)),yB=e=>yT(e,t=>e.schema.isBlock(Po(t))),xT=(e,t)=>{const n=pt(Av,e);return ao(t,r=>n(r)?[r.dom]:[])},iw=e=>{const t=yB(e);return xT(e,t)},xB=(e,t,n,r)=>{const l=xT(t,r);if(l.length===0)fl(t,e,n);else{const f=i3(n.dom,l);t.selection.setRng(f.toRange())}},wB=(e,t)=>{const n=Ct(Zz(e),vB);return po(n).bind(r=>{const l=mt.fromRangeStart(e.selection.getRng());return vR(t,l,r.dom)&&!LC(r)?J.some(()=>xB(t,e,r,n)):J.none()})},wT=(e,t)=>{const n=t.parentElement;return or(t)&&!Ge(n)&&e.dom.isEmpty(n)},jz=e=>LC(Be.fromDom(e)),CT=(e,t)=>{const n=e.selection.getStart(),r=wT(e,n)||jz(n)?i3(n,t):eL(e.selection.getRng(),t);e.selection.setRng(r.toRange())},Kz=(e,t)=>{const n=Do(t,iw(e));n.length>0&&CT(e,n)},_T=e=>Mt(e.startContainer),CB=e=>e.startOffset===0&&_T(e),qz=(e,t)=>{const n=t.startContainer.parentElement;return!Ge(n)&&Av(e,Be.fromDom(n))},Gz=e=>{const t=e.startContainer.parentNode,n=e.endContainer.parentNode;return!Ge(t)&&!Ge(n)&&t.isEqualNode(n)},o=e=>{const t=e.endContainer;return e.endOffset===(Mt(t)?t.length:t.childNodes.length)},a=e=>Gz(e)&&o(e),c=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),d=e=>a(e)||c(e),p=e=>{const t=e.selection.getRng();return CB(t)&&qz(e,t)&&d(t)},v=e=>{if(p(e)){const t=iw(e);return J.some(()=>{b_(e),Kz(e,t)})}else return J.none()},w=(e,t)=>e.selection.isCollapsed()?wB(e,t):v(e),k=(e,t)=>Ww(e,n=>au(n.dom),n=>t.isBlock(Po(n))),E=e=>k(Be.fromDom(e.selection.getStart()),e.schema),O=e=>{const t=e.selection.getRng();return t.collapsed&&(_T(t)||e.dom.isEmpty(t.startContainer))&&!E(e)},L=e=>(O(e)&&CT(e,[]),!0),M=(e,t,n)=>Ce(n)?J.some(()=>{e._selectionOverrides.hideFakeCaret(),fl(e,t,Be.fromDom(n))}):J.none(),H=(e,t)=>{const n=t?b0:yv,r=t?Oi.Forwards:Oi.Backwards,l=Mx(r,e.getBody(),e.selection.getRng());return n(l)?M(e,t,l.getNode(!t)):J.from(Wu(t,l)).filter(f=>n(f)&&AC(l,f)).bind(f=>M(e,t,f.getNode(!t)))},q=(e,t)=>{const n=e.selection.getNode();return xt(n)?M(e,t,n):J.none()},Y=(e,t)=>e.selection.isCollapsed()?H(e,t):q(e,t),re=e=>ea(e,t=>pc(t.dom)||to(t.dom)).exists(t=>pc(t.dom)),ce=e=>on(e??"").getOr(0),ve=(e,t)=>{const n=e||Mb(t)?"margin":"padding",r=Dr(t,"direction")==="rtl"?"-right":"-left";return n+r},ie=(e,t,n,r,l,f)=>{const g=ve(n,Be.fromDom(f)),C=ce(e.getStyle(f,g));if(t==="outdent"){const A=Math.max(0,C-r);e.setStyle(f,g,A?A+l:"")}else{const A=C+r+l;e.setStyle(f,g,A)}},ae=(e,t)=>vo(t,n=>{const r=ve(AO(e),n),l=Cr(n,r).map(ce).getOr(0);return e.dom.getContentEditable(n.dom)!=="false"&&l>0}),ge=e=>{const t=Le(e);return!e.mode.isReadOnly()&&(t.length>1||ae(e,t))},ye=e=>Lb(e)||km(e),_e=e=>ja(e).exists(ye),Le=e=>Ct(Kc(e.selection.getSelectedBlocks()),t=>!ye(t)&&!_e(t)&&re(t)),Xe=(e,t)=>{var n,r;const{dom:l}=e,f=su(e),g=(r=(n=/[a-z%]+$/i.exec(f))===null||n===void 0?void 0:n[0])!==null&&r!==void 0?r:"px",C=ce(f),A=AO(e);pe(Le(e),z=>{ie(l,t,A,C,g,z.dom)})},_t=e=>Xe(e,"indent"),vt=e=>Xe(e,"outdent"),gt=e=>{if(e.selection.isCollapsed()&&ge(e)){const t=e.dom,n=e.selection.getRng(),r=mt.fromRangeStart(n),l=t.getParent(n.startContainer,t.isBlock);if(l!==null&&f_(Be.fromDom(l),r,e.schema))return J.some(()=>vt(e))}return J.none()},Bt=(e,t,n)=>Ws([gt,tT,J4,(r,l)=>aw(r,t,l),_S,rh,oT,Y,G4,w,nT],r=>r(e,n)).filter(r=>e.selection.isEditable()),an=(e,t)=>{Bt(e,t,!1).fold(()=>{e.selection.isEditable()&&(b_(e),v_(e))},ho)},vn=(e,t)=>{Bt(e,t,!0).fold(()=>{e.selection.isEditable()&&kA(e)},ho)},In=(e,t)=>{e.addCommand("delete",()=>{an(e,t)}),e.addCommand("forwardDelete",()=>{vn(e,t)})},qn=5,So=400,Vs=e=>e.touches===void 0||e.touches.length!==1?J.none():J.some(e.touches[0]),Qs=(e,t)=>{const n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>qn||r>qn},mo=e=>{const t=pa(),n=ha(!1),r=$h(l=>{e.dispatch("longpress",{...l,type:"longpress"}),n.set(!0)},So);e.on("touchstart",l=>{Vs(l).each(f=>{r.cancel();const g={x:f.clientX,y:f.clientY,target:l.target};r.throttle(l),n.set(!1),t.set(g)})},!0),e.on("touchmove",l=>{r.cancel(),Vs(l).each(f=>{t.on(g=>{Qs(f,g)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",l=>{r.cancel(),l.type!=="touchcancel"&&t.get().filter(f=>f.target.isEqualNode(l.target)).each(()=>{n.get()?l.preventDefault():e.dispatch("tap",{...l,type:"tap"})})},!0)},zo=(e,t)=>Yn(e,t.nodeName),Fn=(e,t)=>Mt(t)?!0:yn(t)?!zo(e.getBlockElements(),t)&&!iu(t)&&!lf(e,t)&&!ba(t):!1,er=(e,t,n)=>xe(Gl(Be.fromDom(n),Be.fromDom(t)),r=>zo(e,r.dom)),Ss=(e,t)=>{if(Mt(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||zo(e,t.nextSibling)||ba(t.nextSibling)}return!1},Ri=e=>e.dom.create(ji(e),_x(e)),Ni=e=>{const t=e.dom,n=e.selection,r=e.schema,l=r.getBlockElements(),f=n.getStart(),g=e.getBody();let C,A,z=null;const j=ji(e);if(!f||!yn(f))return;const G=g.nodeName.toLowerCase();if(!r.isValidChild(G,j.toLowerCase())||er(l,g,f))return;if(g.firstChild===g.lastChild&&or(g.firstChild)){C=Ri(e),C.appendChild(xd().dom),g.replaceChild(C,g.firstChild),e.selection.setCursorLocation(C,0),e.nodeChanged();return}let X=g.firstChild;for(;X;)if(yn(X)&&Zl(r,X),Fn(r,X)){if(Ss(l,X)){A=X,X=X.nextSibling,t.remove(A);continue}if(!C){if(!z&&e.hasFocus()&&(z=NI(e.selection.getRng(),()=>document.createElement("span"))),!X.parentNode){X=null;break}C=Ri(e),g.insertBefore(C,X)}A=X,X=X.nextSibling,C.appendChild(A)}else C=null,X=X.nextSibling;z&&(e.selection.setRng(II(z)),e.nodeChanged())},Ia=(e,t,n)=>{const r=Be.fromDom(Ri(e)),l=xd();Rr(r,l),n(t,r);const f=document.createRange();return f.setStartBefore(l.dom),f.setEndBefore(l.dom),f},xa=e=>{e.on("NodeChange",()=>Ni(e))},fh=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,Uv=(e,t,n)=>function(r){const l=arguments,f=l[l.length-2],g=f>0?t.charAt(f-1):"";if(g==='"')return r;if(g===">"){const C=t.lastIndexOf("<",f);if(C!==-1&&t.substring(C,f).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(l[0])+'">'+e.dom.encode(typeof l[1]=="string"?l[1]:l[0])+"</span>"},Ap=(e,t,n)=>{let r=t.length,l=n.content;if(n.format!=="raw"){for(;r--;)l=l.replace(t[r],Uv(e,l,e0(e)));n.content=l}},mh=(e,t)=>vo(e,n=>{const r=t.match(n);return r!==null&&r[0].length===t.length}),lw=e=>{const t="contenteditable",n=" "+Kt.trim(aP(e))+" ",r=" "+Kt.trim(e0(e))+" ",l=fh(n),f=fh(r),g=VO(e);g.length>0&&e.on("BeforeSetContent",C=>{Ap(e,g,C)}),e.parser.addAttributeFilter("class",C=>{let A=C.length;for(;A--;){const z=C[A];l(z)?z.attr(t,"true"):f(z)&&z.attr(t,"false")}}),e.serializer.addAttributeFilter(t,C=>{let A=C.length;for(;A--;){const z=C[A];if(!l(z)&&!f(z))continue;const j=z.attr("data-mce-content");g.length>0&&j?mh(g,j)?(z.name="#text",z.type=3,z.raw=!0,z.value=j):z.remove():z.attr(t,null)}})},Tp=e=>At(Be.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),Xm=(e,t)=>{t.hasAttribute("data-mce-caret")&&(Wg(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},F0=(e,t)=>{const n=Tp(e);if(n){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),Xm(e,n);return}H1(n)&&(Xm(e,n),e.undoManager.add())}},z0=e=>{e.on("keyup compositionstart",pt(F0,e))},Wv=to,IS=(e,t,n)=>uT(t,e,n,ya,Df,Wv),cw=(e,t,n)=>aB(t,e,n,f=>ya(f)||jD(f),f=>Df(f)||xv(f),Wv),Op=e=>{const t=e.dom.create(ji(e));return t.innerHTML='<br data-mce-bogus="1">',t},Jm=(e,t,n)=>{const r=zn(e.getBody()),l=pt(lE,t===1?r.next:r.prev);if(n.collapsed){const f=e.dom.getParent(n.startContainer,"PRE");if(!f)return;if(!l(mt.fromRangeStart(n))){const C=Be.fromDom(Op(e));t===1?et(Be.fromDom(f),C):hr(Be.fromDom(f),C),e.selection.select(C.dom,!0),e.selection.collapse()}}},gh=(e,t)=>{const n=t?Oi.Forwards:Oi.Backwards,r=e.selection.getRng();return IS(n,e,r).orThunk(()=>(Jm(e,n,r),J.none()))},uw=(e,t)=>{const n=t?1:-1,r=e.selection.getRng();return cw(n,e,r).orThunk(()=>(Jm(e,n,r),J.none()))},dw=(e,t)=>{const n=t?e.getEnd(!0):e.getStart(!0);return w2(n)?!t:t},Xo=(e,t)=>gh(e,dw(e.selection,t)).exists(n=>(If(e,n),!0)),Qm=(e,t)=>uw(e,t).exists(n=>(If(e,n),!0)),Id=(e,t)=>iB(e,t,t?Df:ya),H0=(e,t)=>Q4(e,!t).map(n=>{const r=n.toRange(),l=e.selection.getRng();return t?r.setStart(l.startContainer,l.startOffset):r.setEnd(l.endContainer,l.endOffset),r}).exists(n=>(If(e,n),!0)),BS=e=>le(["figcaption"],Po(e)),hh=(e,t,n)=>{const r=pt(Lo,t);return ea(Be.fromDom(e.container()),l=>n.isBlock(Po(l)),r).filter(BS)},Zv=(e,t,n)=>t?QI(e.dom,n):JI(e.dom,n),ST=(e,t)=>{const n=Be.fromDom(e.getBody()),r=mt.fromRangeStart(e.selection.getRng());return hh(r,n,e.schema).exists(()=>{if(Zv(n,t,r)){const f=Ia(e,n,t?Rr:ki);return e.selection.setRng(f),!0}else return!1})},MS=(e,t)=>e.selection.isCollapsed()?ST(e,t):!1,Yz=(e,t,n)=>{const r=e.selection.getRng(),l=mt.fromRangeStart(r);return e.getBody().firstChild===t&&JI(n,l)?(e.execCommand("InsertNewBlockBefore"),!0):!1},jv=(e,t)=>{const n=e.selection.getRng(),r=mt.fromRangeStart(n);return e.getBody().lastChild===t&&QI(t,r)?(e.execCommand("InsertNewBlockAfter"),!0):!1},Xz=(e,t)=>t?J.from(e.dom.getParent(e.selection.getNode(),"details")).map(n=>jv(e,n)).getOr(!1):J.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(n=>J.from(e.dom.getParent(n,"details")).map(r=>Yz(e,r,n))).getOr(!1),gl=(e,t)=>Xz(e,t),V0={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},Jz=e=>Me(e,t=>({...V0,...t})),_B=e=>Me(e,t=>({...V0,...t})),PS=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,SB=(e,t)=>ao(Jz(e),n=>PS(n,t)?[n]:[]),kB=(e,t)=>ao(_B(e),n=>PS(n,t)?[n]:[]),eo=(e,...t)=>()=>e.apply(null,t),Dp=(e,t)=>wn(SB(e,t),n=>n.action()),LS=(e,t)=>Ws(kB(e,t),n=>n.action()),Rp=(e,t)=>{const n=t?Oi.Forwards:Oi.Backwards,r=e.selection.getRng();return uT(e,n,r,b0,yv,xt).exists(l=>(If(e,l),!0))},Kv=(e,t)=>{const n=t?1:-1,r=e.selection.getRng();return aB(e,n,r,b0,yv,xt).exists(l=>(If(e,l),!0))},kT=(e,t)=>iB(e,t,t?yv:b0),ET=Mo.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Yu={...ET,none:e=>ET.none(e)},EB=(e,t)=>TT(e,t,Rn),TT=(e,t,n)=>ao(Ka(e),r=>ws(r,t)?n(r)?[r]:[]:TT(r,t,n)),AB=(e,t,n=xn)=>{if(n(t))return J.none();if(le(e,Po(t)))return J.some(t);const r=l=>ws(l,"table")||n(l);return Zc(t,e.join(","),r)},TB=(e,t)=>AB(["td","th"],e,t),Qz=e=>EB(e,"th,td"),it=(e,t)=>Ta(e,"table",t),Bn=(e,t,n,r,l=Rn)=>{const f=r===1;if(!f&&n<=0)return Yu.first(e[0]);if(f&&n>=e.length-1)return Yu.last(e[e.length-1]);{const g=n+r,C=e[g];return l(C)?Yu.middle(t,C):Bn(e,t,g,r,l)}},no=(e,t)=>it(e,t).bind(n=>{const r=Qz(n);return Cn(r,f=>Lo(e,f)).map(f=>({index:f,all:r}))}),$s=(e,t,n)=>no(e,n).fold(()=>Yu.none(e),l=>Bn(l.all,e,l.index,1,t)),Lr=(e,t,n)=>no(e,n).fold(()=>Yu.none(),l=>Bn(l.all,e,l.index,-1,t)),Gr=e=>rC(e).filter(t=>t.trim().length!==0||t.indexOf(ga)>-1).isSome(),Zr=e=>xi(e)&&li(e,"contenteditable")==="false",ua=["img","br"],qv=e=>Gr(e)||le(ua,Po(e))||Zr(e),e9=e=>Aa(e,qv),OB=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),x$=(e,t)=>ao(t,n=>{const r=OB(hf(n.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:n},{x:r.right,y:e(r),cell:n}]}),hX=(e,t,n)=>It(e,(r,l)=>r.fold(()=>J.some(l),f=>{const g=Math.sqrt(Math.abs(f.x-t)+Math.abs(f.y-n)),C=Math.sqrt(Math.abs(l.x-t)+Math.abs(l.y-n));return J.some(C<g?l:f)}),J.none()),w$=(e,t,n,r,l)=>{const f=ta(Be.fromDom(n),"td,th,caption").map(C=>C.dom),g=Ct(x$(e,f),C=>t(C,l));return hX(g,r,l).map(C=>C.cell)},pX=e=>e.bottom,bX=e=>e.top,vX=(e,t)=>e.y<t,yX=(e,t)=>e.y>t,xX=pt(w$,pX,vX),wX=pt(w$,bX,yX),CX=(e,t)=>un(t.getClientRects()).bind(n=>xX(e,n.left,n.top)).bind(n=>OS(eB(n),t)),_X=(e,t)=>po(t.getClientRects()).bind(n=>wX(e,n.left,n.top)).bind(n=>OS(Pz(n),t)),SX=(e,t,n)=>n.breakAt.exists(r=>e(t,r).breakAt.isSome()),kX=e=>e.breakType===Nd.Wrap&&e.positions.length===0,EX=e=>e.breakType===Nd.Br&&e.positions.length===1,C$=(e,t,n)=>{const r=e(t,n);return kX(r)||!or(n.getNode())&&EX(r)?!SX(e,t,r):r.breakAt.isNone()},AX=pt(C$,ew),TX=pt(C$,tw),OX=(e,t,n)=>{const r=mt.fromRangeStart(t);return rv(!e,n).exists(l=>l.isEqual(r))},DX=(e,t,n,r)=>{const l=e.selection.getRng(),f=t?1:-1;return oE()&&OX(t,l,n)?(xr(f,e,n,!t,!1).each(g=>{If(e,g)}),!0):!1},RX=(e,t,n)=>CX(t,n).orThunk(()=>un(n.getClientRects()).bind(r=>iT(XI(e,mt.before(t)),r.left))).getOr(mt.before(t)),NX=(e,t,n)=>_X(t,n).orThunk(()=>un(n.getClientRects()).bind(r=>iT(DS(e,mt.after(t)),r.left))).getOr(mt.after(t)),_$=(e,t)=>{const n=t.getNode(e);return Gc(n)?J.some(n):J.none()},IX=(e,t,n)=>{t.undoManager.transact(()=>{const r=e?et:hr,l=Ia(t,Be.fromDom(n),r);If(t,l)})},S$=(e,t,n)=>{const r=_$(!!t,n),l=t===!1;r.fold(()=>If(e,n.toRange()),f=>rv(l,e.getBody()).filter(g=>g.isEqual(n)).fold(()=>If(e,n.toRange()),g=>IX(t,e,f)))},BX=(e,t,n,r)=>{const l=e.selection.getRng(),f=mt.fromRangeStart(l),g=e.getBody();if(!t&&AX(r,f)){const C=RX(g,n,f);return S$(e,t,C),!0}else if(t&&TX(r,f)){const C=NX(g,n,f);return S$(e,t,C),!0}else return!1},k$=(e,t,n)=>J.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>J.from(e.dom.getParent(r,"table")).map(l=>n(e,t,l,r))).getOr(!1),E$=(e,t)=>k$(e,t,DX),t9=(e,t)=>k$(e,t,BX),MX=e=>{const t=ap.exact(e,0,e,0);return jP(t)},A$=(e,t,n)=>n.fold(J.none,J.none,(r,l)=>e9(l).map(f=>MX(f)),r=>(e.execCommand("mceTableInsertRowAfter"),T$(e,t,r))),T$=(e,t,n)=>A$(e,t,$s(n,lr)),PX=(e,t,n)=>A$(e,t,Lr(n,lr)),O$=(e,t)=>{const n=["table","li","dl"],r=Be.fromDom(e.getBody()),l=C=>{const A=Po(C);return Lo(C,r)||le(n,A)},f=e.selection.getRng(),g=Be.fromDom(t?f.endContainer:f.startContainer);return TB(g,l).map(C=>(it(C,l).each(j=>{e.model.table.clearSelectedCells(j.dom)}),e.selection.collapse(!t),(t?T$:PX)(e,l,C).each(j=>{e.selection.setRng(j)}),!0)).getOr(!1)},LX=(e,t,n)=>{const r=Co.os.isMacOS()||Co.os.isiOS();Dp([{keyCode:rn.RIGHT,action:eo(Xo,e,!0)},{keyCode:rn.LEFT,action:eo(Xo,e,!1)},{keyCode:rn.UP,action:eo(Qm,e,!1)},{keyCode:rn.DOWN,action:eo(Qm,e,!0)},...r?[{keyCode:rn.UP,action:eo(H0,e,!1),metaKey:!0,shiftKey:!0},{keyCode:rn.DOWN,action:eo(H0,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:rn.RIGHT,action:eo(E$,e,!0)},{keyCode:rn.LEFT,action:eo(E$,e,!1)},{keyCode:rn.UP,action:eo(t9,e,!1)},{keyCode:rn.DOWN,action:eo(t9,e,!0)},{keyCode:rn.UP,action:eo(t9,e,!1)},{keyCode:rn.UP,action:eo(gl,e,!1)},{keyCode:rn.DOWN,action:eo(gl,e,!0)},{keyCode:rn.RIGHT,action:eo(Rp,e,!0)},{keyCode:rn.LEFT,action:eo(Rp,e,!1)},{keyCode:rn.UP,action:eo(Kv,e,!1)},{keyCode:rn.DOWN,action:eo(Kv,e,!0)},{keyCode:rn.RIGHT,action:eo(gT,e,t,!0)},{keyCode:rn.LEFT,action:eo(gT,e,t,!1)},{keyCode:rn.RIGHT,ctrlKey:!r,altKey:r,action:eo(mB,e,t)},{keyCode:rn.LEFT,ctrlKey:!r,altKey:r,action:eo(gB,e,t)},{keyCode:rn.UP,action:eo(MS,e,!1)},{keyCode:rn.DOWN,action:eo(MS,e,!0)}],n).each(l=>{n.preventDefault()})},FX=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||LX(e,t,n)})},ph=(e,t)=>({container:e,offset:t}),DB=Bs.DOM,RB=e=>t=>e===t?-1:0,zX=e=>t=>e.isBlock(t)||le(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",n9=(e,t,n)=>{if(Mt(e)&&t>=0)return J.some(ph(e,t));{const r=vd(DB);return J.from(r.backwards(e,t,RB(e),n)).map(l=>ph(l.container,l.container.data.length))}},HX=(e,t,n)=>{if(Mt(e)&&t>=e.length)return J.some(ph(e,t));{const r=vd(DB);return J.from(r.forwards(e,t,RB(e),n)).map(l=>ph(l.container,0))}},o9=(e,t,n)=>{if(!Mt(e))return J.none();const r=e.data;if(t>=0&&t<=r.length)return J.some(ph(e,t));{const l=vd(DB);return J.from(l.backwards(e,t,RB(e),n)).bind(f=>{const g=f.container.data;return o9(f.container,t+g.length,n)})}},D$=(e,t,n)=>{if(!Mt(e))return J.none();const r=e.data;if(t<=r.length)return J.some(ph(e,t));{const l=vd(DB);return J.from(l.forwards(e,t,RB(e),n)).bind(f=>D$(f.container,t-r.length,n))}},s9=(e,t,n,r,l)=>{const f=vd(e,zX(e));return J.from(f.backwards(t,n,r,l))},VX=e=>e.collapsed&&Mt(e.startContainer),$X=e=>ul(e.toString().replace(/\u00A0/g," ")),R$=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,UX=(e,t)=>e.substring(t.length),WX=(e,t,n,r=!1)=>{let l;const f=n.charAt(0);for(l=t-1;l>=0;l--){const g=e.charAt(l);if(!r&&R$(g))return J.none();if(f===g&&xs(e,n,l,t))break}return J.some(l)},r9=(e,t,n,r=!1)=>{if(!VX(t))return J.none();const l={text:"",offset:0},f=(C,A,z)=>(l.text=z+l.text,l.offset+=A,WX(l.text,l.offset,n,r).getOr(A)),g=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return s9(e,t.startContainer,t.startOffset,f,g).bind(C=>{const A=t.cloneRange();if(A.setStart(C.container,C.offset),A.setEnd(t.endContainer,t.endOffset),A.collapsed)return J.none();const z=$X(A);return z.lastIndexOf(n)!==0?J.none():J.some({text:UX(z,n),range:A,trigger:n})})},ZX=e=>e.nodeType===yg,jX=e=>e.nodeType===sl,N$=e=>{if(ZX(e))return ph(e,e.data.length);{const t=e.childNodes;return t.length>0?N$(t[t.length-1]):ph(e,t.length)}},I$=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?I$(n[t],0):n.length>0&&jX(e)&&n.length===t?N$(n[n.length-1]):ph(e,t)},KX=(e,t)=>{var n;const r=(n=e.getParent(t.container,e.isBlock))!==null&&n!==void 0?n:e.getRoot();return s9(e,t.container,t.offset,(l,f)=>f===0?-1:f,r).filter(l=>{const f=l.container.data.charAt(l.offset-1);return!R$(f)}).isSome()},qX=e=>t=>{const n=I$(t.startContainer,t.startOffset);return!KX(e,n)},GX=(e,t,n)=>Ws(n.triggers,r=>r9(e,t,r)),YX=(e,t)=>{const n=t(),r=e.selection.getRng();return GX(e.dom,r,n).bind(l=>B$(e,t,l))},B$=(e,t,n,r={})=>{var l;const f=t(),C=(l=e.selection.getRng().startContainer.nodeValue)!==null&&l!==void 0?l:"",A=Ct(f.lookupByTrigger(n.trigger),j=>n.text.length>=j.minChars&&j.matches.getOrThunk(()=>qX(e.dom))(n.range,C,n.text));if(A.length===0)return J.none();const z=Promise.all(Me(A,j=>j.fetch(n.text,j.maxResults,r).then(X=>({matchText:n.text,items:X,columns:j.columns,onAction:j.onAction,highlightOn:j.highlightOn}))));return J.some({lookupData:z,context:n})};var bh;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(bh||(bh={}));const a9=(e,t,n)=>e.stype===bh.Error?t(e.serror):n(e.svalue),XX=e=>{const t=[],n=[];return pe(e,r=>{a9(r,l=>n.push(l),l=>t.push(l))}),{values:t,errors:n}},JX=(e,t)=>e.stype===bh.Error?{stype:bh.Error,serror:t(e.serror)}:e,QX=(e,t)=>e.stype===bh.Value?{stype:bh.Value,svalue:t(e.svalue)}:e,eJ=(e,t)=>e.stype===bh.Value?t(e.svalue):e,tJ=(e,t)=>e.stype===bh.Error?t(e.serror):e,M$=e=>({stype:bh.Value,svalue:e}),P$=e=>({stype:bh.Error,serror:e}),kl={fromResult:e=>e.fold(P$,M$),toResult:e=>a9(e,$n.error,$n.value),svalue:M$,partition:XX,serror:P$,bind:eJ,bindError:tJ,map:QX,mapError:JX,fold:a9},i9=e=>te(e)&&Vt(e).length>100?" removed due to size":JSON.stringify(e,null,2),nJ=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:Qe("... (only showing first ten failures)")}]):e;return Me(t,n=>"Failed path: ("+n.path.join(" > ")+`)
`+n.getErrorInfo())},NB=(e,t)=>kl.serror([{path:e,getErrorInfo:t}]),oJ=(e,t,n)=>NB(e,()=>'Could not find valid *required* value for "'+t+'" in '+i9(n)),sJ=(e,t)=>NB(e,()=>'Choice schema did not contain choice key: "'+t+'"'),rJ=(e,t,n)=>NB(e,()=>'The chosen schema: "'+n+'" did not exist in branches: '+i9(t)),aJ=(e,t)=>NB(e,Qe(t)),iJ=(e,t,n,r)=>gs(n,r).fold(()=>rJ(e,n,r),f=>f.extract(e.concat(["branch: "+r]),t)),lJ=(e,t)=>({extract:(l,f)=>gs(f,e).fold(()=>sJ(l,e),C=>iJ(l,f,t,C)),toString:()=>"chooseOn("+e+"). Possible values: "+Vt(t)}),cJ=(e,t)=>t,uJ=(e,t)=>Ae(e)&&Ae(t)?IB(e,t):t,L$=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const n={};for(let r=0;r<t.length;r++){const l=t[r];for(const f in l)Yn(l,f)&&(n[f]=e(n[f],l[f]))}return n},IB=L$(uJ),F$=L$(cJ),z$=()=>({tag:"required",process:{}}),dJ=e=>({tag:"defaultedThunk",process:e}),H$=e=>dJ(Qe(e)),fJ=()=>({tag:"option",process:{}}),mJ=(e,t)=>e.length>0?kl.svalue(IB(t,F$.apply(void 0,e))):kl.svalue(t),V$=e=>cn(kl.serror,En)(e),gJ={consolidateObj:(e,t)=>{const n=kl.partition(e);return n.errors.length>0?V$(n.errors):mJ(n.values,t)},consolidateArr:e=>{const t=kl.partition(e);return t.errors.length>0?V$(t.errors):kl.svalue(t.values)}},hJ=(e,t,n,r)=>({tag:"field",key:e,newKey:t,presence:n,prop:r}),pJ=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),$$=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},l9=e=>{const t=(r,l)=>kl.bindError(e(l),f=>aJ(r,f)),n=Qe("val");return{extract:t,toString:n}},bJ=l9(kl.svalue),vJ=(e,t,n,r)=>gs(t,n).fold(()=>oJ(e,n,t),r),U$=(e,t,n,r)=>{const l=gs(e,t).getOrThunk(()=>n(e));return r(l)},yJ=(e,t,n)=>n(gs(e,t)),xJ=(e,t,n,r)=>{const l=gs(e,t).map(f=>f===!0?n(e):f);return r(l)},wJ=(e,t,n,r,l)=>{const f=C=>l.extract(t.concat([r]),C),g=C=>C.fold(()=>kl.svalue(J.none()),A=>{const z=l.extract(t.concat([r]),A);return kl.map(z,J.some)});switch(e.tag){case"required":return vJ(t,n,r,f);case"defaultedThunk":return U$(n,r,e.process,f);case"option":return yJ(n,r,g);case"defaultedOptionThunk":return xJ(n,r,e.process,g);case"mergeWithThunk":return U$(n,r,Qe({}),C=>{const A=IB(e.process(n),C);return f(A)})}},CJ=(e,t,n)=>{const r={},l=[];for(const f of n)$$(f,(g,C,A,z)=>{const j=wJ(A,e,t,g,z);kl.fold(j,G=>{l.push(...G)},G=>{r[C]=G})},(g,C)=>{r[g]=C(t)});return l.length>0?kl.serror(l):kl.svalue(r)},c9=e=>({extract:(r,l)=>CJ(r,l,e),toString:()=>`obj{
`+Me(e,l=>$$(l,(f,g,C,A)=>f+" -> "+A.toString(),(f,g)=>"state("+f+")")).join(`
`)+"}"}),W$=e=>({extract:(r,l)=>{const f=Me(l,(g,C)=>e.extract(r.concat(["["+C+"]"]),g));return gJ.consolidateArr(f)},toString:()=>"array("+e.toString()+")"}),_J=e=>l9(t=>e(t).fold(kl.serror,kl.svalue)),SJ=(e,t,n)=>{const r=t.extract([e],n);return kl.mapError(r,l=>({input:n,errors:l}))},kJ=(e,t,n)=>kl.toResult(SJ(e,t,n)),EJ=e=>`Errors: 
`+nJ(e.errors).join(`
`)+`

Input object: `+i9(e.input),Z$=(e,t)=>lJ(e,Tl(t,c9)),AJ=Qe(bJ),BB=(e,t)=>l9(n=>{const r=typeof n;return e(n)?kl.svalue(n):kl.serror(`Expected type: ${t} but got: ${r}`)}),TJ=BB(D,"number"),MB=BB(Te,"string"),OJ=BB($e,"boolean"),u9=BB(Ne,"function"),OT=hJ,j$=pJ,DJ=e=>_J(t=>le(e,t)?$n.value(t):$n.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),K$=(e,t)=>OT(e,e,z$(),t),q$=e=>K$(e,MB),G$=e=>K$(e,u9),RJ=(e,t)=>OT(e,e,z$(),W$(t)),d9=(e,t)=>OT(e,e,fJ(),t),PB=e=>d9(e,MB),NJ=e=>d9(e,u9),IJ=(e,t)=>OT(e,e,H$(t),AJ()),FS=(e,t,n)=>OT(e,e,H$(t),n),Y$=(e,t)=>FS(e,t,TJ),BJ=(e,t)=>FS(e,t,MB),X$=(e,t,n)=>FS(e,t,DJ(n)),f9=(e,t)=>FS(e,t,OJ),m9=(e,t)=>FS(e,t,u9),MJ=(e,t,n)=>FS(e,t,W$(n)),PJ=q$("type"),LJ=G$("fetch"),g9=G$("onAction"),FJ=m9("onSetup",()=>Pt),zJ=PB("text"),HJ=PB("icon"),VJ=PB("tooltip"),$J=PB("label"),UJ=f9("active",!1),WJ=f9("enabled",!0),J$=f9("primary",!1),ZJ=e=>IJ("columns",e),DT=e=>BJ("type",e),jJ=c9([PJ,q$("trigger"),Y$("minChars",1),ZJ(1),Y$("maxResults",10),NJ("matches"),LJ,g9,MJ("highlightOn",[],MB)]),KJ=e=>kJ("Autocompleter",jJ,e),h9=[WJ,VJ,HJ,zJ,FJ],Q$=[UJ].concat(h9),qJ=[m9("predicate",xn),X$("scope","node",["node","editor"]),X$("position","selection",["node","selection","line"])],GJ=h9.concat([DT("contextformbutton"),J$,g9,j$("original",On)]),YJ=Q$.concat([DT("contextformbutton"),J$,g9,j$("original",On)]),XJ=h9.concat([DT("contextformbutton")]),JJ=Q$.concat([DT("contextformtogglebutton")]),QJ=Z$("type",{contextformbutton:GJ,contextformtogglebutton:YJ});c9([DT("contextform"),m9("initValue",Qe("")),$J,RJ("commands",QJ),d9("launch",Z$("type",{contextformbutton:XJ,contextformtogglebutton:JJ}))].concat(qJ));const eQ=e=>{const t=e.ui.registry.getAll().popups,n=Tl(t,g=>KJ(g).fold(C=>{throw new Error(EJ(C))},On)),r=vu(el(n,g=>g.trigger)),l=bu(n);return{dataset:n,triggers:r,lookupByTrigger:g=>Ct(l,C=>C.trigger===g)}},tQ=(e,t)=>{const n=$h(t.load,50);e.on("input",r=>{r.inputType==="insertCompositionText"&&!e.composing||n.throttle()}),e.on("keydown",r=>{const l=r.which;l===8?n.throttle():l===27?(n.cancel(),t.cancelIfNecessary()):(l===38||l===40)&&n.cancel()},!0),e.on("remove",n.cancel)},nQ=e=>{const t=pa(),n=ha(!1),r=t.isSet,l=()=>{r()&&(NP(e),n.set(!1),t.clear())},f=G=>{r()||t.set({trigger:G.trigger,matchLength:G.text.length})},g=vl(()=>eQ(e)),C=G=>t.get().map(X=>r9(e.dom,e.selection.getRng(),X.trigger,!0).bind(de=>B$(e,g,de,G))).getOrThunk(()=>YX(e,g)),A=G=>{C(G).fold(l,X=>{f(X.context),X.lookupData.then(de=>{t.get().map(we=>{const me=X.context;we.trigger===me.trigger&&(t.set({...we,matchLength:me.text.length}),n.get()?(TE(e,{range:me.range}),AE(e,{lookupData:de})):(n.set(!0),TE(e,{range:me.range}),EE(e,{lookupData:de})))})})})},z=(G,X)=>{const de=G.compareBoundaryPoints(window.Range.START_TO_START,X),we=G.compareBoundaryPoints(window.Range.END_TO_END,X);return de>=0&&we<=0},j=()=>t.get().bind(({trigger:G})=>{const X=e.selection.getRng();return r9(e.dom,X,G,n.get()).filter(({range:de})=>z(X,de)).map(({range:de})=>de)});e.addCommand("mceAutocompleterReload",(G,X)=>{const de=te(X)?X.fetchOptions:{};A(de)}),e.addCommand("mceAutocompleterClose",l),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{j().each(G=>{TE(e,{range:G})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>j().isSome()),tQ(e,{cancelIfNecessary:l,load:A})},oQ=Va().browser.isSafari(),eU=e=>_c(Be.fromDom(e)),tU=(e,t)=>{var n;return e.startOffset===0&&e.endOffset===((n=t.textContent)===null||n===void 0?void 0:n.length)},LB=(e,t)=>J.from(e.getParent(t.container(),"details")),nU=(e,t)=>LB(e,t).isSome(),sQ=(e,t)=>{const n=J.from(e.getParent(t.startContainer,"details")),r=J.from(e.getParent(t.endContainer,"details"));if(n.isSome()||r.isSome()){const l=n.bind(f=>J.from(e.select("summary",f)[0]));return J.some({startSummary:l,startDetails:n,endDetails:r})}else return J.none()},rQ=(e,t)=>Un(t).exists(n=>n.isEqual(e)),aQ=(e,t)=>Lu(t).exists(n=>or(n.getNode())&&Ec(t,n).exists(r=>r.isEqual(e))||n.isEqual(e)),iQ=(e,t)=>t.startSummary.exists(n=>rQ(e,n)),lQ=(e,t)=>t.startSummary.exists(n=>aQ(e,n)),cQ=(e,t)=>t.startDetails.exists(n=>Ec(n,e).forall(r=>t.startSummary.exists(l=>!l.contains(e.container())&&l.contains(r.container())))),uQ=(e,t,n)=>n.startDetails.exists(r=>Il(e,t).forall(l=>!r.contains(l.container()))),oU=(e,t)=>{const n=t.getNode();Ze(n)||e.selection.setCursorLocation(n,t.offset())},sU=(e,t,n)=>{const r=e.dom.getParent(t.container(),"details");if(r&&!r.open){const l=e.dom.select("summary",r)[0];l&&(n?Un(l):Lu(l)).each(g=>oU(e,g))}else oU(e,t)},dQ=(e,t)=>{const n=A=>A.contains(e.startContainer),r=A=>A.contains(e.endContainer),l=t.startSummary.exists(n),f=t.startSummary.exists(r),g=t.startDetails.forall(A=>t.endDetails.forall(z=>A!==z));return(l||f)&&!(l&&f)||g},rU=(e,t,n)=>{const{dom:r,selection:l}=e,f=e.getBody();if(n==="character"){const g=mt.fromRangeStart(l.getRng()),C=r.getParent(g.container(),r.isBlock),A=LB(r,g),z=C&&r.isEmpty(C),j=Ge(C==null?void 0:C.previousSibling),G=Ge(C==null?void 0:C.nextSibling);return z&&(t?G:j)&&s0(!t,f,g).exists(we=>nU(r,we)&&!Zd(A,LB(r,we)))?!0:s0(t,f,g).fold(xn,X=>{const de=LB(r,X);if(nU(r,X)&&!Zd(A,de)){if(t||sU(e,X,!1),C&&z){if(t&&j)return!0;if(!t&&G)return!0;sU(e,X,t),e.dom.remove(C)}return!0}else return!1})}else return!1},fQ=(e,t,n,r)=>{const f=e.selection.getRng(),g=mt.fromRangeStart(f),C=e.getBody();return r==="selection"?dQ(f,t):n?lQ(g,t)||uQ(C,g,t):iQ(g,t)||cQ(g,t)},mQ=(e,t,n)=>sQ(e.dom,e.selection.getRng()).fold(()=>rU(e,t,n),r=>fQ(e,r,t,n)||rU(e,t,n)),gQ=(e,t,n)=>{const r=e.selection,l=r.getNode(),f=r.getRng(),g=mt.fromRangeStart(f);return Mh(l)?(n==="selection"&&tU(f,l)||vR(t,g,l)?eU(l):e.undoManager.transact(()=>{const C=r.getSel();let{anchorNode:A,anchorOffset:z,focusNode:j,focusOffset:G}=C??{};const X=()=>{Ce(A)&&Ce(z)&&Ce(j)&&Ce(G)&&(C==null||C.setBaseAndExtent(A,z,j,G))},de=()=>{A=C==null?void 0:C.anchorNode,z=C==null?void 0:C.anchorOffset,j=C==null?void 0:C.focusNode,G=C==null?void 0:C.focusOffset},we=(ke,Fe)=>{pe(ke.childNodes,qe=>{uv(qe)&&Fe.appendChild(qe)})},me=e.dom.create("span",{"data-mce-bogus":"1"});we(l,me),l.appendChild(me),X(),(n==="word"||n==="line")&&(C==null||C.modify("extend",t?"right":"left",n)),!r.isCollapsed()&&tU(r.getRng(),me)?eU(l):(e.execCommand(t?"ForwardDelete":"Delete"),de(),we(me,l),X()),e.dom.remove(me)}),!0):!1},fw=(e,t,n)=>mQ(e,t,n)||oQ&&gQ(e,t,n)?J.some(Pt):J.none(),aU=e=>(t,n,r={})=>{const l=t.getBody(),f={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:l,currentTarget:l,eventPhase:Event.AT_TARGET,originalTarget:l,explicitOriginalTarget:l,isTrusted:!1,srcElement:l,cancelable:!1,preventDefault:Pt,inputType:n},g=vm(new InputEvent(e));return t.dispatch(e,{...g,...f,...r})},RT=aU("input"),FB=aU("beforeinput"),iU=Va(),lU=iU.os,cU=lU.isMacOS()||lU.isiOS(),hQ=iU.browser.isFirefox(),pQ=(e,t,n)=>{const r=n.keyCode===rn.BACKSPACE?"deleteContentBackward":"deleteContentForward",l=e.selection.isCollapsed(),f=l?"character":"selection",g=C=>l?C?"word":"line":"selection";LS([{keyCode:rn.BACKSPACE,action:eo(gt,e)},{keyCode:rn.BACKSPACE,action:eo(tT,e,!1)},{keyCode:rn.DELETE,action:eo(tT,e,!0)},{keyCode:rn.BACKSPACE,action:eo(J4,e,!1)},{keyCode:rn.DELETE,action:eo(J4,e,!0)},{keyCode:rn.BACKSPACE,action:eo(aw,e,t,!1)},{keyCode:rn.DELETE,action:eo(aw,e,t,!0)},{keyCode:rn.BACKSPACE,action:eo(rh,e,!1)},{keyCode:rn.DELETE,action:eo(rh,e,!0)},{keyCode:rn.BACKSPACE,action:eo(fw,e,!1,f)},{keyCode:rn.DELETE,action:eo(fw,e,!0,f)},...cU?[{keyCode:rn.BACKSPACE,altKey:!0,action:eo(fw,e,!1,g(!0))},{keyCode:rn.DELETE,altKey:!0,action:eo(fw,e,!0,g(!0))},{keyCode:rn.BACKSPACE,metaKey:!0,action:eo(fw,e,!1,g(!1))}]:[{keyCode:rn.BACKSPACE,ctrlKey:!0,action:eo(fw,e,!1,g(!0))},{keyCode:rn.DELETE,ctrlKey:!0,action:eo(fw,e,!0,g(!0))}],{keyCode:rn.BACKSPACE,action:eo(oT,e,!1)},{keyCode:rn.DELETE,action:eo(oT,e,!0)},{keyCode:rn.BACKSPACE,action:eo(Y,e,!1)},{keyCode:rn.DELETE,action:eo(Y,e,!0)},{keyCode:rn.BACKSPACE,action:eo(G4,e,!1)},{keyCode:rn.DELETE,action:eo(G4,e,!0)},{keyCode:rn.BACKSPACE,action:eo(_S,e,!1)},{keyCode:rn.DELETE,action:eo(_S,e,!0)},{keyCode:rn.BACKSPACE,action:eo(w,e,!1)},{keyCode:rn.DELETE,action:eo(w,e,!0)},{keyCode:rn.BACKSPACE,action:eo(nT,e,!1)},{keyCode:rn.DELETE,action:eo(nT,e,!0)}],n).filter(C=>e.selection.isEditable()).each(C=>{n.preventDefault(),FB(e,r).isDefaultPrevented()||(C(),RT(e,r))})},bQ=(e,t,n)=>Dp([{keyCode:rn.BACKSPACE,action:eo(OI,e)},{keyCode:rn.DELETE,action:eo(OI,e)},...cU?[{keyCode:rn.BACKSPACE,altKey:!0,action:eo(L,e)},{keyCode:rn.DELETE,altKey:!0,action:eo(L,e)},...n?[{keyCode:hQ?224:91,action:eo(L,e)}]:[]]:[{keyCode:rn.BACKSPACE,ctrlKey:!0,action:eo(L,e)},{keyCode:rn.DELETE,ctrlKey:!0,action:eo(L,e)}]],t),vQ=(e,t)=>{let n=!1;e.on("keydown",r=>{n=r.keyCode===rn.BACKSPACE,r.isDefaultPrevented()||pQ(e,t,r)}),e.on("keyup",r=>{r.isDefaultPrevented()||bQ(e,r,n),n=!1})},yQ=e=>{for(;e;){if(yn(e)||Mt(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},zS=(e,t)=>{const n=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const f=yQ(t.firstChild);f&&/^(UL|OL|DL)$/.test(f.nodeName)&&t.insertBefore(n.doc.createTextNode(ga),t.firstChild)}const l=n.createRng();if(t.normalize(),t.hasChildNodes()){const f=new qa(t,t);let g=t,C;for(;C=f.current();){if(Mt(C)){l.setStart(C,0),l.setEnd(C,0);break}if(r[C.nodeName.toLowerCase()]){l.setStartBefore(C),l.setEndBefore(C);break}g=C,C=f.next()}C||(l.setStart(g,0),l.setEnd(g,0))}else or(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(l.setStartBefore(t),l.setEndBefore(t)):(l.setStartAfter(t),l.setEndAfter(t)):(l.setStart(t,0),l.setEnd(t,0));e.selection.setRng(l),Hu(e,l)},NT=(e,t)=>{const n=e.getRoot();let r,l=t;for(;l!==n&&l&&e.getContentEditable(l)!=="false";){if(e.getContentEditable(l)==="true"){r=l;break}l=l.parentNode}return l!==n?r:n},p9=e=>J.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),xQ=e=>p9(e).fold(Qe(""),t=>t.nodeName.toUpperCase()),wQ=e=>p9(e).filter(t=>km(Be.fromDom(t))).isSome(),b9=e=>{e.innerHTML='<br data-mce-bogus="1">'},CQ=(e,t,n)=>{const r=e.dom;J.from(n.style).map(r.parseStyle).each(A=>{const j={..._g(Be.fromDom(t)),...A};r.setStyles(t,j)});const l=J.from(n.class).map(A=>A.split(/\s+/)),f=J.from(t.className).map(A=>Ct(A.split(/\s+/),z=>z!==""));Ua(l,f,(A,z)=>{const j=Ct(z,X=>!le(A,X)),G=[...A,...j];r.setAttrib(t,"class",G.join(" "))});const g=["style","class"],C=ic(n,(A,z)=>!le(g,z));r.setAttribs(t,C)},IT=(e,t)=>{if(ji(e).toLowerCase()===t.tagName.toLowerCase()){const r=_x(e);CQ(e,t,r)}},uU=(e,t,n,r,l=!0,f,g)=>{const C=e.dom,A=e.schema,z=ji(e),j=n?n.nodeName.toUpperCase():"";let G=t;const X=A.getTextInlineElements();let de;f||j==="TABLE"||j==="HR"?de=C.create(f||z,g||{}):de=n.cloneNode(!1);let we=de;if(!l)C.setAttrib(de,"style",null),C.setAttrib(de,"class",null);else do if(X[G.nodeName]){if(au(G)||iu(G))continue;const me=G.cloneNode(!1);C.setAttrib(me,"id",""),de.hasChildNodes()?(me.appendChild(de.firstChild),de.appendChild(me)):(we=me,de.appendChild(me))}while((G=G.parentNode)&&G!==r);return IT(e,de),b9(we),de},_Q=(e,t)=>e.dom.getParent(t,Bh),SQ=(e,t,n)=>{let r=t;for(;r&&r!==e&&Ge(r.nextSibling);){const l=r.parentElement;if(!l||!n(l))return Bh(l);r=l}return!1},kQ=(e,t,n)=>!t&&n.nodeName.toLowerCase()===ji(e)&&e.dom.isEmpty(n)&&SQ(e.getBody(),n,r=>Yn(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())),EQ=(e,t,n)=>{var r,l,f;const g=t(ji(e)),C=_Q(e,n);C&&(e.dom.insertAfter(g,C),zS(e,g),((f=(l=(r=n.parentElement)===null||r===void 0?void 0:r.childNodes)===null||l===void 0?void 0:l.length)!==null&&f!==void 0?f:0)>1&&e.dom.remove(n))},AQ=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,TQ=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},dU=(e,t)=>{const n=e==null?void 0:e.parentNode;return Ce(n)&&n.nodeName===t},fU=e=>Ce(e)&&/^(OL|UL|LI)$/.test(e.nodeName),v9=e=>Ce(e)&&/^(LI|DT|DD)$/.test(e.nodeName),OQ=e=>fU(e)&&fU(e.parentNode),zB=e=>{const t=e.parentNode;return v9(t)?t:e},HB=(e,t,n)=>{let r=e[n?"firstChild":"lastChild"];for(;r&&!yn(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},mU=e=>It(el(_g(Be.fromDom(e)),(t,n)=>`${n}: ${t};`),(t,n)=>t+n,""),DQ=(e,t,n,r,l)=>{const f=e.dom,g=e.selection.getRng(),C=n.parentNode;if(n===e.getBody()||!C)return;OQ(n)&&(l="LI");const A=v9(r)?mU(r):void 0;let z=v9(r)&&A?t(l,{style:mU(r)}):t(l);if(HB(n,r,!0)&&HB(n,r,!1))if(dU(n,"LI")){const j=zB(n);f.insertAfter(z,j),TQ(n)?f.remove(j):f.remove(n)}else f.replace(z,n);else if(HB(n,r,!0))dU(n,"LI")?(f.insertAfter(z,zB(n)),z.appendChild(f.doc.createTextNode(" ")),z.appendChild(n)):C.insertBefore(z,n),f.remove(r);else if(HB(n,r,!1))f.insertAfter(z,zB(n)),f.remove(r);else{n=zB(n);const j=g.cloneRange();j.setStartAfter(r),j.setEndAfter(n);const G=j.extractContents();if(l==="LI"&&AQ(G,"LI")){const X=Ct(Me(z.children,Be.fromDom),bt(Gd("br")));z=G.firstChild,f.insertAfter(G,n),pe(X,de=>ki(Be.fromDom(z),de)),A&&z.setAttribute("style",A)}else f.insertAfter(G,n),f.insertAfter(z,n);f.remove(r)}zS(e,z)},RQ=e=>{pe(dm(Be.fromDom(e),Ys),t=>{const n=t.dom;n.nodeValue=ul(n.data)})},NQ=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return n!==null&&e.dom.getContentEditableParent(n)==="false"},IQ=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),y9=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,x9=(e,t)=>Ce(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",BQ=(e,t,n)=>{var r;const l=[];if(!n)return;let f=n;for(;f=f.firstChild;){if(e.isBlock(f))return;yn(f)&&!t[f.nodeName.toLowerCase()]&&l.push(f)}let g=l.length;for(;g--;)f=l[g],(!f.hasChildNodes()||f.firstChild===f.lastChild&&((r=f.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||IQ(e,f))&&e.remove(f)},w9=(e,t,n)=>Mt(t)?e?n===1&&t.data.charAt(n-1)===la?0:n:n===t.data.length-1&&t.data.charAt(n)===la?t.data.length:n:n,MQ=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,w9(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,w9(!1,e.endContainer,e.endOffset)),t},PQ=e=>{let t=e;do Mt(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},LQ=(e,t,n,r,l)=>{var f,g;const C=e.dom,A=(f=NT(C,r))!==null&&f!==void 0?f:C.getRoot();let z=C.getParent(r,C.isBlock);if(!z||!x9(C,z)){if(z=z||A,!z.hasChildNodes()){const de=C.create(t);return IT(e,de),z.appendChild(de),n.setStart(de,0),n.setEnd(de,0),de}let j=r;for(;j&&j.parentNode!==z;)j=j.parentNode;let G;for(;j&&!C.isBlock(j);)G=j,j=j.previousSibling;const X=(g=G==null?void 0:G.parentElement)===null||g===void 0?void 0:g.nodeName;if(G&&X&&e.schema.isValidChild(X,t.toLowerCase())){const de=G.parentNode,we=C.create(t);for(IT(e,we),de.insertBefore(we,G),j=G;j&&!C.isBlock(j);){const me=j.nextSibling;we.appendChild(j),j=me}n.setStart(r,l),n.setEnd(r,l)}}return r},FQ=(e,t)=>{t.normalize();const n=t.lastChild;(!n||yn(n)&&/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")},zQ=(e,t)=>{const n=zk(e);return nt(t)?!1:Te(n)?le(Kt.explode(n),t.nodeName.toLowerCase()):n},gU={insert:(e,t)=>{let n,r,l,f,g=!1;const C=e.dom,A=e.schema,z=A.getNonEmptyElements(),j=e.selection.getRng(),G=ji(e),X=Be.fromDom(j.startContainer),de=Eu(X,j.startOffset),we=de.exists(Dt=>xi(Dt)&&!lr(Dt)),me=j.collapsed&&we,ke=(Dt,bn)=>uU(e,n,jt,Nt,Fk(e),Dt,bn),Fe=Dt=>{const bn=w9(Dt,n,r);if(Mt(n)&&(Dt?bn>0:bn<n.data.length))return!1;if((n.parentNode===jt||n===jt)&&g&&!Dt||Dt&&yn(n)&&n===jt.firstChild)return!0;if(y9(n,"TABLE")||y9(n,"HR"))return g&&!Dt||!g&&Dt;const Nn=new qa(n,jt);Mt(n)&&(Dt&&bn===0?Nn.prev():!Dt&&bn===n.data.length&&Nn.next());let yo;for(;yo=Nn.current();){if(yn(yo)){if(!yo.getAttribute("data-mce-bogus")){const Oo=yo.nodeName.toLowerCase();if(z[Oo]&&Oo!=="br")return!1}}else if(Mt(yo)&&!Ul(yo.data))return!1;Dt?Nn.prev():Nn.next()}return!0},qe=()=>{let Dt;return/^(H[1-6]|PRE|FIGURE)$/.test(l)&&dn!=="HGROUP"?Dt=ke(G):Dt=ke(),zQ(e,f)&&x9(C,f)&&C.isEmpty(jt,void 0,{includeZwsp:!0})?Dt=C.split(f,jt):C.insertAfter(Dt,jt),zS(e,Dt),Dt};Lm(C,j).each(Dt=>{j.setStart(Dt.startContainer,Dt.startOffset),j.setEnd(Dt.endContainer,Dt.endOffset)}),n=j.startContainer,r=j.startOffset;const We=!!(t&&t.shiftKey),at=!!(t&&t.ctrlKey);yn(n)&&n.hasChildNodes()&&!me&&(g=r>n.childNodes.length-1,n=n.childNodes[Math.min(r,n.childNodes.length-1)]||n,g&&Mt(n)?r=n.data.length:r=0);const Nt=NT(C,n);if(!Nt||NQ(e,n))return;We||(n=LQ(e,G,j,n,r));let jt=C.getParent(n,C.isBlock)||C.getRoot();f=Ce(jt==null?void 0:jt.parentNode)?C.getParent(jt.parentNode,C.isBlock):null,l=jt?jt.nodeName.toUpperCase():"";const dn=f?f.nodeName.toUpperCase():"";if(dn==="LI"&&!at){const Dt=f;jt=Dt,f=Dt.parentNode,l=dn}if(yn(f)&&kQ(e,We,jt))return EQ(e,ke,jt);if(/^(LI|DT|DD)$/.test(l)&&yn(f)&&C.isEmpty(jt)){DQ(e,ke,f,jt,G);return}if(!me&&(jt===e.getBody()||!x9(C,jt)))return;const wt=jt.parentNode;let dt;if(me)dt=ke(G),de.fold(()=>{Rr(X,Be.fromDom(dt))},Dt=>{hr(Dt,Be.fromDom(dt))}),e.selection.setCursorLocation(dt,0);else if(Wh(jt))dt=Wg(jt),C.isEmpty(jt)&&b9(jt),IT(e,dt),zS(e,dt);else if(Fe(!1))dt=qe();else if(Fe(!0)&&wt){const Dt=mt.fromRangeStart(j),bn=xv(Dt),Nn=Be.fromDom(jt),Oo=y0(Nn,Dt,e.schema)?m_(Nn,Dt,e.schema).bind(Ds=>J.from(Ds.getNode())):J.none();dt=wt.insertBefore(ke(),jt);const ps=y9(jt,"HR")||bn?dt:Oo.getOr(jt);zS(e,ps)}else{const Dt=MQ(j).cloneRange();Dt.setEndAfter(jt);const bn=Dt.extractContents();RQ(bn),PQ(bn),dt=bn.firstChild,C.insertAfter(bn,jt),BQ(C,z,dt),FQ(C,jt),C.isEmpty(jt)&&b9(jt),dt.normalize(),C.isEmpty(dt)?(C.remove(dt),qe()):(IT(e,dt),zS(e,dt))}C.setAttrib(dt,"id",""),e.dispatch("NewBlock",{newBlock:dt})},fakeEventName:"insertParagraph"},HQ=(e,t,n)=>{const r=new qa(t,n);let l;const f=e.getNonEmptyElements();for(;l=r.next();)if(f[l.nodeName.toLowerCase()]||Mt(l)&&l.length>0)return!0;return!1},hU=(e,t,n)=>{const r=e.dom.createRng();n?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),Hu(e,r)},VQ=(e,t)=>{const n=e.selection,r=e.dom,l=n.getRng();let f,g=!1;Lm(r,l).each(de=>{l.setStart(de.startContainer,de.startOffset),l.setEnd(de.endContainer,de.endOffset)});let C=l.startOffset,A=l.startContainer;if(yn(A)&&A.hasChildNodes()){const de=C>A.childNodes.length-1;A=A.childNodes[Math.min(C,A.childNodes.length-1)]||A,de&&Mt(A)?C=A.data.length:C=0}let z=r.getParent(A,r.isBlock);const j=z&&z.parentNode?r.getParent(z.parentNode,r.isBlock):null,G=j?j.nodeName.toUpperCase():"",X=!!(t&&t.ctrlKey);G==="LI"&&!X&&(z=j),Mt(A)&&C>=A.data.length&&(HQ(e.schema,A,z||r.getRoot())||(f=r.create("br"),l.insertNode(f),l.setStartAfter(f),l.setEndAfter(f),g=!0)),f=r.create("br"),X1(r,l,f),hU(e,f,g),e.undoManager.add()},$Q=(e,t)=>{const n=Be.fromTag("br");hr(Be.fromDom(t),n),e.undoManager.add()},UQ=(e,t)=>{ZQ(e.getBody(),t)||et(Be.fromDom(t),Be.fromTag("br"));const n=Be.fromTag("br");et(Be.fromDom(t),n),hU(e,n.dom,!1),e.undoManager.add()},WQ=e=>or(e.getNode()),ZQ=(e,t)=>WQ(mt.after(t))?!0:Il(e,mt.after(t)).map(n=>or(n.getNode())).getOr(!1),pU=e=>e&&e.nodeName==="A"&&"href"in e,jQ=e=>e.fold(xn,pU,pU,xn),KQ=e=>{const t=pt(w0,e),n=mt.fromRangeStart(e.selection.getRng());return Ym(t,e.getBody(),n).filter(jQ)},qQ=(e,t)=>{t.fold(Pt,pt($Q,e),pt(UQ,e),Pt)},bU={insert:(e,t)=>{const n=KQ(e);n.isSome()?n.each(pt(qQ,e)):VQ(e,t)},fakeEventName:"insertLineBreak"},vU=(e,t)=>p9(e).filter(n=>t.length>0&&ws(Be.fromDom(n),t)).isSome(),GQ=e=>vU(e,wO(e)),YQ=e=>vU(e,CO(e)),Bd=Mo.generate([{br:[]},{block:[]},{none:[]}]),XQ=(e,t)=>YQ(e),yU=e=>(t,n)=>wQ(t)===e,xU=(e,t)=>(n,r)=>xQ(n)===e.toUpperCase()===t,JQ=e=>{const t=NT(e.dom,e.selection.getStart());return nt(t)},BT=e=>xU("pre",e),QQ=()=>xU("summary",!0),VB=e=>(t,n)=>Pk(t)===e,eee=(e,t)=>GQ(e),$B=(e,t)=>t,tee=e=>{const t=ji(e),n=NT(e.dom,e.selection.getStart());return Ce(n)&&e.schema.isValidChild(n.nodeName,t)},nee=e=>{const t=e.selection.getRng(),n=Be.fromDom(t.startContainer),l=Eu(n,t.startOffset).map(f=>xi(f)&&!lr(f));return t.collapsed&&l.getOr(!0)},Bf=(e,t)=>(n,r)=>It(e,(f,g)=>f&&g(n,r),!0)?J.some(t):J.none(),oee=(e,t)=>HI([Bf([XQ],Bd.none()),Bf([BT(!0),JQ],Bd.none()),Bf([QQ()],Bd.br()),Bf([BT(!0),VB(!1),$B],Bd.br()),Bf([BT(!0),VB(!1)],Bd.block()),Bf([BT(!0),VB(!0),$B],Bd.block()),Bf([BT(!0),VB(!0)],Bd.br()),Bf([yU(!0),$B],Bd.br()),Bf([yU(!0)],Bd.block()),Bf([eee],Bd.br()),Bf([$B],Bd.br()),Bf([tee],Bd.block()),Bf([nee],Bd.block())],[e,!!(t&&t.shiftKey)]).getOr(Bd.none()),UB=(e,t,n)=>{t.selection.isCollapsed()||pR(t),!(Ce(n)&&FB(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,n),Ce(n)&&RT(t,e.fakeEventName))},wU=(e,t)=>{const n=()=>UB(bU,e,t),r=()=>UB(gU,e,t),l=oee(e,t);switch(Lk(e)){case"linebreak":l.fold(n,n,Pt);break;case"block":l.fold(r,r,Pt);break;case"invert":l.fold(r,n,Pt);break;default:l.fold(n,r,Pt);break}},CU=Va(),see=CU.os.isiOS()&&CU.browser.isSafari(),_U=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),eF(e.undoManager),e.undoManager.transact(()=>{wU(e,t)}))},ree=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(Mt(t)){const n=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=t.data.charAt(e.startOffset-1);return n.test(r)}else return!1},aee=e=>{let t=J.none();const n=l=>{t=J.some(l.selection.getBookmark()),l.undoManager.add()},r=(l,f)=>{l.undoManager.undo(),t.fold(Pt,g=>l.selection.moveToBookmark(g)),_U(l,f),t=J.none()};e.on("keydown",l=>{l.keyCode===rn.ENTER&&(see&&ree(e.selection.getRng())?n(e):_U(e,l))}),e.on("keyup",l=>{l.keyCode===rn.ENTER&&t.each(()=>r(e,l))})},iee=(e,t,n)=>{const r=Co.os.isMacOS()||Co.os.isiOS();Dp([{keyCode:rn.END,action:eo(Id,e,!0)},{keyCode:rn.HOME,action:eo(Id,e,!1)},...r?[]:[{keyCode:rn.HOME,action:eo(H0,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:rn.END,action:eo(H0,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:rn.END,action:eo(kT,e,!0)},{keyCode:rn.HOME,action:eo(kT,e,!1)},{keyCode:rn.END,action:eo(sw,e,!0,t)},{keyCode:rn.HOME,action:eo(sw,e,!1,t)}],n).each(l=>{n.preventDefault()})},lee=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||iee(e,t,n)})},cee=e=>{e.on("input",t=>{t.isComposing||b7(e)})},uee=Va(),dee=(e,t,n)=>{Dp([{keyCode:rn.PAGE_UP,action:eo(sw,e,!1,t)},{keyCode:rn.PAGE_DOWN,action:eo(sw,e,!0,t)}],n)},SU=e=>e.stopImmediatePropagation(),kU=e=>e.keyCode===rn.PAGE_UP||e.keyCode===rn.PAGE_DOWN,EU=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",SU,!0):!n&&e.get()&&t.off("NodeChange",SU),e.set(n)},fee=(e,t)=>{if(uee.os.isMacOS())return;const n=ha(!1);e.on("keydown",r=>{kU(r)&&EU(n,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||dee(e,t,r),kU(r)&&n.get()&&(EU(n,e,!1),e.nodeChanged())})},mee=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||xe(t.getTargetRanges(),n=>!ED(e.dom,n)))&&t.preventDefault()})},AU=(e,t)=>{const n=t.container(),r=t.offset();return Mt(n)?(n.insertData(r,e),J.some(mt(n,r+e.length))):EC(t).map(l=>{const f=Be.fromText(e);return t.isAtEnd()?et(l,f):hr(l,f),mt(f.dom,e.length)})},TU=pt(AU,ga),OU=pt(AU," "),gee=(e,t,n)=>hA(e,t,n)?TU(t):OU(t),hee=e=>t=>t.fold(n=>Ec(e.dom,mt.before(n)),n=>Un(n),n=>Lu(n),n=>Il(e.dom,mt.after(n))),pee=(e,t,n)=>r=>hA(e,r,n)?TU(t):OU(t),DU=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},bee=(e,t)=>e.isEditable(e.getParent(t,"summary")),vee=e=>{const t=mt.fromRangeStart(e.selection.getRng()),n=Be.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=pt(w0,e),l=mt.fromRangeStart(e.selection.getRng());return Ym(r,e.getBody(),l).bind(hee(n)).map(f=>()=>pee(n,t,e.schema)(f).each(DU(e)))}else return J.none()},yee=e=>{const t=()=>{const n=Be.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const r=mt.fromRangeStart(e.selection.getRng());gee(n,r,e.schema).each(DU(e))};return bg(Co.browser.isFirefox()&&e.selection.isEditable()&&bee(e.dom,e.selection.getRng().startContainer),t)},xee=(e,t)=>{LS([{keyCode:rn.SPACEBAR,action:eo(vee,e)},{keyCode:rn.SPACEBAR,action:eo(yee,e)}],t).each(n=>{t.preventDefault(),FB(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),RT(e,"insertText",{data:" "}))})},wee=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||xee(e,t)})},Cee=e=>jO(e)?[{keyCode:rn.TAB,action:eo(O$,e,!0)},{keyCode:rn.TAB,shiftKey:!0,action:eo(O$,e,!1)}]:[],_ee=(e,t)=>{Dp([...Cee(e)],t).each(n=>{t.preventDefault()})},See=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||_ee(e,t)})},kee=e=>{if(e.addShortcut("Meta+P","","mcePrint"),nQ(e),Gm(e))return ha(null);{const t=fB(e);return mee(e),z0(e),FX(e,t),vQ(e,t),aee(e),wee(e),cee(e),See(e),lee(e,t),fee(e,t),t}};class Eee{constructor(t){this.lastPath=[],this.editor=t;let n;const r=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",l=>{const f=t.selection.getRng(),g={startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset};(l.type==="nodechange"||!o2(g,n))&&t.dispatch("SelectionChange"),n=g}),t.on("contextmenu",()=>{gv(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const l=t.selection.getStart(!0);l&&lv(t)&&!r.isSameElementPath(l)&&t.dom.isChildOf(l,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",l=>{!l.isDefaultPrevented()&&lv(t)&&(t.selection.getNode().nodeName==="IMG"?Oc.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const n=this.editor.selection;let r;if(this.editor.initialized&&n&&!XM(this.editor)&&!this.editor.mode.isReadOnly()){const l=this.editor.getBody();r=n.getStart(!0)||l,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,l))&&(r=l);const f=[];this.editor.dom.getParent(r,g=>g===l?!0:(f.push(g),!1)),this.editor.dispatch("NodeChange",{...t,element:r,parents:f})}}isSameElementPath(t){let n;const r=this.editor,l=To(r.dom.getParents(t,Rn,r.getBody()));if(l.length===this.lastPath.length){for(n=l.length;n>=0&&l[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=l,!0}return this.lastPath=l,!1}}const RU=Ai("image"),Aee=e=>{const t=e;return J.from(t[RU])},Tee=(e,t)=>{const n=e;n[RU]=t},C9=Ai("event"),Oee=e=>{const t=e;return J.from(t[C9])},WB=e=>t=>{const n=t;n[C9]=e},Dee=(e,t)=>WB(t)(e),NU=WB(0),Ree=WB(2),Nee=WB(1),Iee=(e=>t=>{const n=t;return J.from(n[C9]).exists(r=>r===e)})(0),Bee=()=>Object.freeze({length:0,item:e=>null}),_9=Ai("mode"),Mee=e=>{const t=e;return J.from(t[_9])},ZB=e=>t=>{const n=t;n[_9]=e},IU=(e,t)=>ZB(t)(e),BU=ZB(0),S9=ZB(2),Pee=ZB(1),MU=e=>t=>{const n=t;return J.from(n[_9]).exists(r=>r===e)},HS=MU(0),PU=MU(1),Lee=(e,t)=>({...t,get length(){return t.length},add:(n,r)=>{if(HS(e))if(Te(n)){if(!Ze(r))return t.add(n,r)}else return t.add(n);return null},remove:n=>{HS(e)&&t.remove(n)},clear:()=>{HS(e)&&t.clear()}}),Fee=["none","copy","link","move"],zee=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],k9=()=>{const e=new window.DataTransfer;let t="move",n="all";const r={get dropEffect(){return t},set dropEffect(l){le(Fee,l)&&(t=l)},get effectAllowed(){return n},set effectAllowed(l){Iee(r)&&le(zee,l)&&(n=l)},get items(){return Lee(r,e.items)},get files(){return PU(r)?Bee():e.files},get types(){return e.types},setDragImage:(l,f,g)=>{HS(r)&&(Tee(r,{image:l,x:f,y:g}),e.setDragImage(l,f,g))},getData:l=>PU(r)?"":e.getData(l),setData:(l,f)=>{HS(r)&&e.setData(l,f)},clearData:l=>{HS(r)&&e.clearData(l)}};return BU(r),r},Hee=e=>{const t=k9(),n=Mee(e);return S9(e),NU(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,Aee(e).each(r=>t.setDragImage(r.image,r.x,r.y)),pe(e.types,r=>{r!=="Files"&&t.setData(r,e.getData(r))}),pe(e.files,r=>t.items.add(r)),Oee(e).each(r=>{Dee(t,r)}),n.each(r=>{IU(e,r),IU(t,r)}),t},Vee=e=>{const t=e.getData("text/html");return t===""?J.none():J.some(t)},LU=(e,t)=>e.setData("text/html",t),FU="x-tinymce/html",jB=Qe(FU),E9="<!-- "+FU+" -->",$ee=e=>E9+e,Uee=e=>e.replace(E9,""),zU=e=>e.indexOf(E9)!==-1,Wee=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),Zee=(e,t)=>{let n="<"+e;const r=el(t,(l,f)=>f+'="'+Rg.encodeAllRaw(l)+'"');return r.length&&(n+=" "+r.join(" ")),n+">"},jee=(e,t,n)=>{const r=e.split(/\n\n/),l=Zee(t,n),f="</"+t+">",g=Me(r,A=>A.split(/\n/).join("<br />")),C=A=>l+A+f;return g.length===1?g[0]:Me(g,C).join("")},HU="%MCEPASTEBIN%",Kee=(e,t)=>{const{dom:n,selection:r}=e,l=e.getBody();t.set(r.getRng());const f=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},HU);Co.browser.isFirefox()&&n.setStyle(f,"left",n.getStyle(l,"direction",!0)==="rtl"?65535:-65535),n.bind(f,"beforedeactivate focusin focusout",g=>{g.stopPropagation()}),f.focus(),r.select(f,!0)},qee=(e,t)=>{const n=e.dom;if(A9(e)){let r;const l=t.get();for(;r=A9(e);)n.remove(r),n.unbind(r);l&&e.selection.setRng(l)}t.set(null)},A9=e=>e.dom.get("mcepastebin"),Gee=e=>Ce(e)&&e.id==="mcepastebin",Yee=e=>{const t=e.dom,n=(g,C)=>{g.appendChild(C),t.remove(C,!0)},[r,...l]=Ct(e.getBody().childNodes,Gee);pe(l,g=>{n(r,g)});const f=t.select("div[id=mcepastebin]",r);for(let g=f.length-1;g>=0;g--){const C=t.create("div");r.insertBefore(C,f[g]),n(C,f[g])}return r?r.innerHTML:""},VU=e=>e===HU,Xee=e=>{const t=ha(null);return{create:()=>Kee(e,t),remove:()=>qee(e,t),getEl:()=>A9(e),getHtml:()=>Yee(e),getLastRng:t.get}},$U=(e,t)=>(Kt.each(t,n=>{Ue(n,RegExp)?e=e.replace(n,""):e=e.replace(n[0],n[1])}),e),Jee=e=>{const t=xc(),n=Nv({},t);let r="";const l=t.getVoidElements(),f=Kt.makeMap("script noscript style textarea video audio iframe object"," "),g=t.getBlockElements(),C=A=>{const z=A.name,j=A;if(z==="br"){r+=`
`;return}if(z!=="wbr"){if(l[z]&&(r+=" "),f[z]){r+=" ";return}if(A.type===3&&(r+=A.value),!(A.name in t.getVoidElements())){let G=A.firstChild;if(G)do C(G);while(G=G.next)}g[z]&&j.next&&(r+=`
`,z==="p"&&(r+=`
`))}};return e=$U(e,[/<!\[[^\]]+\]>/g]),C(n.parse(e)),r},UU=e=>(e=$U(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(n,r,l)=>!r&&!l?" ":ga],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),Qee=e=>{let t=0;return()=>e+t++},ete=e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Kt.hasOwn(n,t)?"image/"+n[t]:"image/"+t},tte=(e,t)=>{const n=Nv({sanitize:UO(e),sandbox_iframes:Jk(e),sandbox_iframes_exclusions:yC(e),convert_unsafe_embeds:qO(e)},e.schema);n.addNodeFilter("meta",l=>{Kt.each(l,f=>{f.remove()})});const r=n.parse(t,{forced_root_block:!1,isRootContent:!0});return nh({validate:!0},e.schema).serialize(r)},WU=(e,t)=>({content:e,cancelled:t}),nte=(e,t,n)=>{const r=e.dom.create("div",{style:"display:none"},t),l=UC(e,r,n);return WU(l.node.innerHTML,l.isDefaultPrevented())},ote=(e,t,n)=>{const r=Qx(e,t,n),l=tte(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?nte(e,l,n):WU(l,r.isDefaultPrevented())},ste=(e,t,n)=>ote(e,t,n),T9=(e,t)=>(e.insertContent(t,{merge:oP(e),paste:!0}),!0),O9=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),rte=(e,t)=>O9(t)&&xe(Xk(e),n=>Se(t.toLowerCase(),`.${n.toLowerCase()}`)),ate=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),ite=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),lte=(e,t,n)=>!e.selection.isCollapsed()&&O9(t)?ite(e,t,n):!1,cte=(e,t,n)=>rte(e,t)?ate(e,t,n):!1,ute=(e,t)=>{Kt.each([lte,cte,T9],n=>!n(e,t,T9))},dte=(e,t,n)=>{n||!Jb(e)?T9(e,t):ute(e,t)},fte=Qee("mceclip"),mte=e=>{const t=k9();return LU(t,e),S9(t),t},ZU=(e,t,n,r,l)=>{const f=ste(e,t,n);if(!f.cancelled){const g=f.content,C=()=>dte(e,g,r);l?FB(e,"insertFromPaste",{dataTransfer:mte(g)}).isDefaultPrevented()||(C(),RT(e,"insertFromPaste")):C()}},KB=(e,t,n,r)=>{const l=n||zU(t);ZU(e,Uee(t),l,!1,r)},D9=(e,t,n)=>{const r=e.dom.encode(t).replace(/\r\n/g,`
`),l=ub(r,HO(e)),f=jee(l,ji(e),_x(e));ZU(e,f,!1,!0,n)},jU=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const r=e.types[n];try{t[r]=e.getData(r)}catch{t[r]=""}}return t},Gv=(e,t)=>t in e&&e[t].length>0,KU=e=>Gv(e,"text/html")||Gv(e,"text/plain"),gte=(e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Ce(n)?e.dom.encode(n[1]):void 0},hte=(e,t,n,r)=>{const l=fte(),f=Gg(e)&&Ce(n.name),g=f?gte(e,n.name):l,C=f?n.name:void 0,A=t.create(l,n,r,g,C);return t.add(A),A},pte=(e,t)=>{tS(t.uri).each(({data:n,type:r,base64Encoded:l})=>{const f=l?n:btoa(n),g=t.file,C=e.editorUpload.blobCache,A=C.getByData(f,r),z=A??hte(e,C,g,f);KB(e,`<img src="${z.blobUri()}">`,!1,!0)})},bte=e=>e.type==="paste",vte=e=>Promise.all(Me(e,t=>pN(t).then(n=>({file:t,uri:n})))),yte=e=>{const t=Xk(e);return n=>Gs(n.type,"image/")&&xe(t,r=>ete(r)===n.type)},xte=(e,t)=>{const n=t.items?ao(io(t.items),l=>l.kind==="file"?[l.getAsFile()]:[]):[],r=t.files?io(t.files):[];return Ct(n.length>0?n:r,yte(e))},qU=(e,t,n)=>{const r=bte(t)?t.clipboardData:t.dataTransfer;if(Nm(e)&&r){const l=xte(e,r);if(l.length>0)return t.preventDefault(),vte(l).then(f=>{n&&e.selection.setRng(n),pe(f,g=>{pte(e,g)})}),!0}return!1},wte=e=>{var t,n;return Co.os.isAndroid()&&((n=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||n===void 0?void 0:n.length)===0},Cte=e=>rn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,R9=(e,t,n,r,l)=>{let f=UU(n);const g=Gv(t,jB())||zU(n),C=!g&&Wee(f),A=O9(f);(VU(f)||!f.length||C&&!A)&&(r=!0),(r||A)&&(Gv(t,"text/plain")&&C?f=t["text/plain"]:f=Jee(f)),!VU(f)&&(r?D9(e,f,l):KB(e,f,g,l))},_te=(e,t,n)=>{let r;const l=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",f=>{Cte(f)&&!f.isDefaultPrevented()&&(r=f.shiftKey&&f.keyCode===86)}),e.on("paste",f=>{if(f.isDefaultPrevented()||wte(f))return;const g=n.get()==="text"||r;r=!1;const C=jU(f.clipboardData);!KU(C)&&qU(e,f,l())||(Gv(C,"text/html")?(f.preventDefault(),R9(e,C,C["text/html"],g,!0)):Gv(C,"text/plain")&&Gv(C,"text/uri-list")?(f.preventDefault(),R9(e,C,C["text/plain"],g,!0)):(t.create(),Oc.setEditorTimeout(e,()=>{const A=t.getHtml();t.remove(),R9(e,C,A,g,!1)},0)))})},Ste=e=>{const t=l=>Gs(l,"webkit-fake-url"),n=l=>Gs(l,"data:"),r=l=>{var f;return((f=l.data)===null||f===void 0?void 0:f.paste)===!0};e.parser.addNodeFilter("img",(l,f,g)=>{if(!Nm(e)&&r(g))for(const C of l){const A=C.attr("src");Te(A)&&!C.attr("data-mce-object")&&A!==Co.transparentSrc&&(t(A)||!sP(e)&&n(A))&&C.remove()}})},kte=(e,t,n)=>{_te(e,t,n),Ste(e)},Ete=(e,t)=>{t.get()==="text"?(t.set("html"),WC(e,!1)):(t.set("text"),WC(e,!0)),e.focus()},Ate=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{Ete(e,t)}),e.addCommand("mceInsertClipboardContent",(n,r)=>{r.html&&KB(e,r.html,r.internal,!1),r.text&&D9(e,r.text,!1)})},Tte=(e,t,n)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(jB(),t),!0}catch{return!1}else return!1},GU=(e,t,n,r)=>{Tte(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):n(t.html,r)},YU=e=>(t,n)=>{const{dom:r,selection:l}=e,f=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),g=r.create("div",{contenteditable:"true"},t);r.setStyles(f,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),f.appendChild(g),r.add(e.getBody(),f);const C=l.getRng();g.focus();const A=r.createRng();A.selectNodeContents(g),l.setRng(A),Oc.setEditorTimeout(e,()=>{l.setRng(C),r.remove(f),n()},0)},XU=e=>({html:$ee(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),Ote=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),JU=e=>!e.selection.isCollapsed()||Ote(e),Dte=e=>t=>{!t.isDefaultPrevented()&&JU(e)&&e.selection.isEditable()&&GU(t,XU(e),YU(e),()=>{if(Co.browser.isChromium()||Co.browser.isFirefox()){const n=e.selection.getRng();Oc.setEditorTimeout(e,()=>{e.selection.setRng(n),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},Rte=e=>t=>{!t.isDefaultPrevented()&&JU(e)&&GU(t,XU(e),YU(e),Pt)},Nte=e=>{e.on("cut",Dte(e)),e.on("copy",Rte(e))},QU=(e,t)=>{var n,r;return ip.getCaretRangeFromPoint((n=t.clientX)!==null&&n!==void 0?n:0,(r=t.clientY)!==null&&r!==void 0?r:0,e.getDoc())},Ite=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},eW=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},Bte=e=>xe(e.files,t=>/^image\//.test(t.type)),Mte=(e,t,n,r)=>{const l=e.getParent(n,g=>lf(t,g));if(!Ge(e.getParent(n,"summary")))return!0;if(l&&Yn(r,"text/html")){const g=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!Ge(g.querySelector(l.nodeName.toLowerCase()))}else return!1},Pte=e=>{e.on("input",t=>{const n=r=>Ge(r.querySelector("summary"));if(t.inputType==="deleteByDrag"){const r=Ct(e.dom.select("details"),n);pe(r,l=>{or(l.firstChild)&&l.firstChild.remove();const f=e.dom.create("summary");f.appendChild(xd().dom),l.prepend(f)})}})},Lte=(e,t)=>{kf(e)&&e.on("dragend dragover draggesture dragdrop drop drag",n=>{n.preventDefault(),n.stopPropagation()}),Nm(e)||e.on("drop",n=>{const r=n.dataTransfer;r&&Bte(r)&&n.preventDefault()}),e.on("drop",n=>{if(n.isDefaultPrevented())return;const r=QU(e,n);if(nt(r))return;const l=jU(n.dataTransfer),f=Gv(l,jB());if((!KU(l)||Ite(l))&&qU(e,n,r))return;const g=l[jB()],C=g||l["text/html"]||l["text/plain"],A=Mte(e.dom,e.schema,r.startContainer,l),z=t.get();z&&!A||C&&(n.preventDefault(),Oc.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(g||z&&A)&&e.execCommand("Delete"),eW(e,r);const j=UU(C);l["text/html"]?KB(e,j,f,!0):D9(e,j,!0)})}))}),e.on("dragstart",n=>{t.set(!0)}),e.on("dragover dragend",n=>{Nm(e)&&!t.get()&&(n.preventDefault(),eW(e,QU(e,n))),n.type==="dragend"&&t.set(!1)}),Pte(e)},Fte=e=>{const t=l=>f=>{l(e,f)},n=nP(e);Ne(n)&&e.on("PastePreProcess",t(n));const r=Ax(e);Ne(r)&&e.on("PastePostProcess",t(r))},zte=(e,t)=>{e.on("PastePreProcess",n=>{n.content=t(e,n.content,n.internal)})},Hte=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,tW=e=>Kt.trim(e).replace(Hte,Sb).toLowerCase(),Vte=(e,t,n)=>{const r=zO(e);if(n||r==="all"||!Kk(e))return t;const l=r?r.split(/[, ]/):[];if(l&&r!=="none"){const f=e.dom,g=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(C,A,z,j)=>{const G=f.parseStyle(f.decode(z)),X={};for(let we=0;we<l.length;we++){const me=G[l[we]];let ke=me,Fe=f.getStyle(g,l[we],!0);/color/.test(l[we])&&(ke=tW(ke),Fe=tW(Fe)),Fe!==ke&&(X[l[we]]=me)}const de=f.serializeStyle(X,"span");return de?A+' style="'+de+'"'+j:A+j})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(f,g,C,A)=>g+' style="'+C+'"'+A),t},$te=e=>{(Co.browser.isChromium()||Co.browser.isSafari())&&zte(e,Vte)},Ute=e=>{const t=ha(!1),n=ha(Qb(e)?"text":"html"),r=Xee(e);$te(e),Ate(e,n),Fte(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>n.get()==="text"),e.on("PreInit",()=>{Nte(e),Lte(e,t),kte(e,r,n)})},Wte=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},Zte=e=>{e.parser.addNodeFilter("details",t=>{const n=vC(e);pe(t,r=>{n==="expanded"?r.attr("open","open"):n==="collapsed"&&r.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const n=KO(e);pe(t,r=>{n==="expanded"?r.attr("open","open"):n==="collapsed"&&r.attr("open",null)})})},jte=e=>{Wte(e),Zte(e)},Kte=or,nW=Mt,qte=e=>to(e.dom),Gte=e=>pc(e.dom),oW=e=>t=>Lo(Be.fromDom(e),t),Yte=(e,t,n)=>ea(Be.fromDom(e),r=>Gte(r)||n.isBlock(Po(r)),oW(t)).getOr(Be.fromDom(t)).dom,sW=(e,t)=>ea(Be.fromDom(e),qte,oW(t)),rW=(e,t,n)=>{const r=new qa(e,t),l=n?r.next.bind(r):r.prev.bind(r);let f=e;for(let g=n?e:l();g&&!Kte(g);g=l())eu(g)&&(f=g);return f},Xte=(e,t,n)=>{const l=mt.fromRangeStart(e).getNode(),f=Yte(l,t,n),g=rW(l,f,!1),C=rW(l,f,!0),A=document.createRange();return sW(g,f).fold(()=>{nW(g)?A.setStart(g,0):A.setStartBefore(g)},z=>A.setStartBefore(z.dom)),sW(C,f).fold(()=>{nW(C)?A.setEnd(C,C.data.length):A.setEndAfter(C)},z=>A.setEndAfter(z.dom)),A},Jte=e=>{const t=Xte(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(I_(t))},Qte=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),Jte(e))})};var VS;(function(e){e.Before="before",e.After="after"})(VS||(VS={}));const ene=(e,t)=>Math.abs(e.left-t),tne=(e,t)=>Math.abs(e.right-t),nne=(e,t)=>e>=t.top&&e<=t.bottom,one=(e,t)=>e.top<t.bottom&&e.bottom>t.top,sne=(e,t)=>{const n=fx(e,t)/Math.min(e.height,t.height);return one(e,t)&&n>.5},rne=(e,t)=>{const n=Ct(e,r=>nne(t,r));return Zh(n).fold(()=>[[],e],r=>{const{pass:l,fail:f}=$t(e,g=>sne(g,r));return[l,f]})},ane=(e,t)=>({node:e.node,position:ene(e,t)<tne(e,t)?VS.Before:VS.After}),ine=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),N9=(e,t,n,r)=>{const l=G=>eu(G.node)?J.some(G):yn(G.node)?N9(io(G.node.childNodes),t,n,!1):J.none(),f=(G,X,de)=>l(X).filter(we=>Math.abs(de(G,t,n)-de(we,t,n))<2&&Mt(we.node)),g=(G,X)=>{const de=ms(G,(we,me)=>X(we,t,n)-X(me,t,n));return Ws(de,l).map(we=>r&&!Mt(we.node)&&de.length>1?f(we,de[1],X).getOr(we):we)},[C,A]=rne(sB(e),n),{pass:z,fail:j}=$t(A,G=>G.top<n);return g(C,ine).orThunk(()=>g(j,W1)).orThunk(()=>g(z,W1))},lne=(e,t,n,r)=>{const l=(f,g)=>{const C=z=>yn(z)&&z.classList.contains("mce-drag-container"),A=Ct(f.dom.childNodes,bt(C));return g.fold(()=>N9(A,n,r,!0),z=>{const j=Ct(A,G=>G!==z.dom);return N9(j,n,r,!0)}).orThunk(()=>(Lo(f,e)?J.none():Xd(f)).bind(j=>l(j,J.some(f))))};return l(t,J.none())},cne=(e,t,n)=>{const r=Be.fromDom(e),l=Vl(r),g=Be.fromPoint(l,t,n).filter(C=>Za(r,C)).getOr(r);return lne(r,g,t,n)},aW=(e,t,n)=>cne(e,t,n).filter(r=>Rx(r.node)).map(r=>ane(r,t)),iW=e=>{var t,n;const r=e.getBoundingClientRect(),l=e.ownerDocument,f=l.documentElement,g=l.defaultView;return{top:r.top+((t=g==null?void 0:g.scrollY)!==null&&t!==void 0?t:0)-f.clientTop,left:r.left+((n=g==null?void 0:g.scrollX)!==null&&n!==void 0?n:0)-f.clientLeft}},une=e=>e.inline?iW(e.getBody()):{left:0,top:0},dne=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},fne=e=>{const t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},l={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:l},mne=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=iW(e.getContentAreaContainer()),r=fne(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}},gne=(e,t,n)=>({pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}),hne=(e,t)=>gne(une(e),dne(e),mne(e,t)),lW=e=>({target:e,srcElement:e}),pne=(e,t,n,r)=>({...t,dataTransfer:r,type:e,...lW(n)}),bne=(e,t,n)=>{const r=Zt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:Pt,stopImmediatePropagation:Pt,stopPropagation:Pt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:n,...lW(t)}},vne=(e,t)=>{const n=Hee(e);return t==="dragstart"?(NU(n),BU(n)):t==="drop"?(Ree(n),S9(n)):(Nee(n),Pee(n)),n},yne=(e,t,n,r)=>{const l=vne(n,e);return Ze(r)?bne(e,t,l):pne(e,r,t,l)},qB=32,xne=100,GB=8,YB=16,cW=to,wne=hx(cW,pc),Cne=(e,t,n)=>cW(n)&&n!==t&&e.isEditable(n.parentElement),_ne=(e,t,n)=>nt(t)||t===n||e.dom.isChildOf(t,n)?!1:e.dom.isEditable(t),Sne=(e,t,n,r)=>{const l=e.dom,f=t.cloneNode(!0);l.setStyles(f,{width:n,height:r}),l.setAttrib(f,"data-mce-selected",null);const g=l.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return l.setStyles(g,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),l.setStyles(f,{margin:0,boxSizing:"border-box"}),g.appendChild(f),g},kne=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},XB=(e,t)=>n=>()=>{const r=e==="left"?n.scrollX:n.scrollY;n.scroll({[e]:r+t,behavior:"smooth"})},uW=XB("left",-qB),dW=XB("left",qB),fW=XB("top",-qB),mW=XB("top",qB),Ene=(e,t,n,r,l,f,g,C,A,z,j,G)=>{let X=0,de=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>l&&(X=t.pageX+n-l),t.pageY+r>f&&(de=t.pageY+r-f),e.style.width=n-X+"px",e.style.height=r-de+"px";const we=A.clientHeight,me=A.clientWidth,ke=g+A.getBoundingClientRect().top,Fe=C+A.getBoundingClientRect().left;j.on(qe=>{qe.intervalId.clear(),qe.dragging&&G&&(g+GB>=we?qe.intervalId.set(mW(z)):g-GB<=0?qe.intervalId.set(fW(z)):C+GB>=me?qe.intervalId.set(dW(z)):C-GB<=0?qe.intervalId.set(uW(z)):ke+YB>=window.innerHeight?qe.intervalId.set(mW(window)):ke-YB<=0?qe.intervalId.set(fW(window)):Fe+YB>=window.innerWidth?qe.intervalId.set(dW(window)):Fe-YB<=0&&qe.intervalId.set(uW(window)))})},gW=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},Ane=(e,t)=>{const n=e.getParent(t.parentNode,e.isBlock);gW(t),n&&n!==e.getRoot()&&e.isEmpty(n)&&_c(Be.fromDom(n))},Tne=e=>e.button===0,One=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),Dne=(e,t)=>n=>{if(Tne(n)){const r=wn(t.dom.getParents(n.target),wne).getOr(null);if(Ce(r)&&Cne(t.dom,t.getBody(),r)){const l=t.dom.getPos(r),f=t.getBody(),g=t.getDoc().documentElement;e.set({element:r,dataTransfer:k9(),dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?f.scrollWidth:g.offsetWidth)-2,maxY:(t.inline?f.scrollHeight:g.offsetHeight)-2,relX:n.pageX-l.x,relY:n.pageY-l.y,width:r.offsetWidth,height:r.offsetHeight,ghost:Sne(t,r,r.offsetWidth,r.offsetHeight),intervalId:bc(xne)})}}},Rne=(e,t,n)=>{e._selectionOverrides.hideFakeCaret(),aW(e.getBody(),t,n).fold(()=>e.selection.placeCaretAt(t,n),r=>{const l=e._selectionOverrides.showCaret(1,r.node,r.position===VS.Before,!1);l?e.selection.setRng(l):e.selection.placeCaretAt(t,n)})},MT=(e,t,n,r,l)=>{t==="dragstart"&&LU(r,e.dom.getOuterHTML(n));const f=yne(t,n,r,l);return e.dispatch(t,f)},Nne=(e,t)=>{const n=Hg((l,f)=>Rne(t,l,f),0);t.on("remove",n.cancel);const r=e;return l=>e.on(f=>{const g=Math.max(Math.abs(l.screenX-f.screenX),Math.abs(l.screenY-f.screenY));if(!f.dragging&&g>10){const C=MT(t,"dragstart",f.element,f.dataTransfer,l);if(Ce(C.dataTransfer)&&(f.dataTransfer=C.dataTransfer),C.isDefaultPrevented())return;f.dragging=!0,t.focus()}if(f.dragging){const C=l.currentTarget===t.getDoc().documentElement,A=One(f,hne(t,l));kne(f.ghost,t.getBody()),Ene(f.ghost,A,f.width,f.height,f.maxX,f.maxY,l.clientY,l.clientX,t.getContentAreaContainer(),t.getWin(),r,C),n.throttle(l.clientX,l.clientY)}})},Ine=e=>{const t=e.getSel();if(Ce(t)){const r=t.getRangeAt(0).startContainer;return Mt(r)?r.parentNode:r}else return null},Bne=(e,t)=>n=>{e.on(r=>{var l;if(r.intervalId.clear(),r.dragging){if(_ne(t,Ine(t.selection),r.element)){const f=(l=t.getDoc().elementFromPoint(n.clientX,n.clientY))!==null&&l!==void 0?l:t.getBody();MT(t,"drop",f,r.dataTransfer,n).isDefaultPrevented()||t.undoManager.transact(()=>{Ane(t.dom,r.element),Vee(r.dataTransfer).each(C=>t.insertContent(C)),t._selectionOverrides.hideFakeCaret()})}MT(t,"dragend",t.getBody(),r.dataTransfer,n)}}),pW(e)},hW=(e,t,n)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&n.fold(()=>MT(t,"dragend",r.element,r.dataTransfer),l=>MT(t,"dragend",r.element,r.dataTransfer,l))}),pW(e)},Mne=(e,t)=>n=>hW(e,t,J.some(n)),pW=e=>{e.on(t=>{t.intervalId.clear(),gW(t.ghost)}),e.clear()},Pne=e=>{const t=pa(),n=Bs.DOM,r=document,l=Dne(t,e),f=Nne(t,e),g=Bne(t,e),C=Mne(t,e);e.on("mousedown",l),e.on("mousemove",f),e.on("mouseup",g),n.bind(r,"mousemove",f),n.bind(r,"mouseup",C),e.on("remove",()=>{n.unbind(r,"mousemove",f),n.unbind(r,"mouseup",C)}),e.on("keydown",A=>{A.keyCode===rn.ESC&&hW(t,e,J.none())})},Lne=e=>{const t=l=>{if(!l.isDefaultPrevented()){const f=l.dataTransfer;f&&(le(f.types,"Files")||f.files.length>0)&&(l.preventDefault(),l.type==="drop"&&wS(e,"Dropped file type is not supported"))}},n=l=>{n_(e,l.target)&&t(l)},r=()=>{const l=Bs.DOM,f=e.dom,g=document,C=e.inline?e.getBody():e.getDoc(),A=["drop","dragover"];pe(A,z=>{l.bind(g,z,n),f.bind(C,z,t)}),e.on("remove",()=>{pe(A,z=>{l.unbind(g,z,n),f.unbind(C,z,t)})})};e.on("init",()=>{Oc.setEditorTimeout(e,r,0)})},Fne=e=>{Pne(e),pC(e)&&Lne(e)},zne=e=>{const t=Hg(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const n=e.selection.getRng();if(n.collapsed){const r=kS(e,n,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},Hne=e=>{e.on("init",()=>{e.on("focusin",t=>{const n=t.target;if(xt(n)){const r=Zu(e.getBody(),n),l=to(r)?r:n;e.selection.getNode()!==l&&J2(e,l).each(f=>e.selection.setRng(f))}})})},PT=to,bW=(e,t)=>Zu(e.getBody(),t),Vne=e=>{const t=e.selection,n=e.dom,r=e.getBody(),l=t5(e,r,n.isBlock,()=>hv(e)),f="sel-"+n.uniqueId(),g="data-mce-selected";let C;const A=dn=>Ce(dn)&&n.hasClass(dn,"mce-offscreen-selection"),z=dn=>dn!==r&&(PT(dn)||xt(dn))&&n.isChildOf(dn,r)&&n.isEditable(dn.parentNode),j=dn=>{dn&&t.setRng(dn)},G=(dn,wt,dt,Dt=!0)=>e.dispatch("ShowCaret",{target:wt,direction:dn,before:dt}).isDefaultPrevented()?null:(Dt&&t.scrollIntoView(wt,dn===-1),l.show(dt,wt)),X=dn=>{dn.hasAttribute("data-mce-caret")&&(Wg(dn),t.scrollIntoView(dn))},de=()=>{e.on("click",wt=>{n.isEditable(wt.target)||(wt.preventDefault(),e.focus())}),e.on("blur NewBlock",at),e.on("ResizeWindow FullscreenStateChanged",l.reposition),e.on("tap",wt=>{const dt=wt.target,Dt=bW(e,dt);PT(Dt)?(wt.preventDefault(),J2(e,Dt).each(We)):z(dt)&&J2(e,dt).each(We)},!0),e.on("mousedown",wt=>{const dt=wt.target;if(dt!==r&&dt.nodeName!=="HTML"&&!n.isChildOf(dt,r)||!FF(e,wt.clientX,wt.clientY))return;at(),jt();const Dt=bW(e,dt);PT(Dt)?(wt.preventDefault(),J2(e,Dt).each(We)):aW(r,wt.clientX,wt.clientY).each(bn=>{wt.preventDefault();const Nn=G(1,bn.node,bn.position===VS.Before,!1);j(Nn),qc(Dt)?Dt.focus():e.getBody().focus()})}),e.on("keypress",wt=>{rn.modifierPressed(wt)||PT(t.getNode())&&wt.preventDefault()}),e.on("GetSelectionRange",wt=>{let dt=wt.range;if(C){if(!C.parentNode){C=null;return}dt=dt.cloneRange(),dt.selectNode(C),wt.range=dt}}),e.on("SetSelectionRange",wt=>{wt.range=ke(wt.range);const dt=We(wt.range,wt.forward);dt&&(wt.range=dt)});const dn=wt=>yn(wt)&&wt.id==="mcepastebin";e.on("AfterSetSelectionRange",wt=>{const dt=wt.range,Dt=dt.startContainer.parentElement;!me(dt)&&!dn(Dt)&&jt(),A(Dt)||at()}),Fne(e),zne(e),Hne(e)},we=dn=>Nl(dn)||Hb(dn)||Cd(dn),me=dn=>we(dn.startContainer)||we(dn.endContainer),ke=dn=>{const wt=e.schema.getVoidElements(),dt=n.createRng(),Dt=dn.startContainer,bn=dn.startOffset,Nn=dn.endContainer,yo=dn.endOffset;return Yn(wt,Dt.nodeName.toLowerCase())?bn===0?dt.setStartBefore(Dt):dt.setStartAfter(Dt):dt.setStart(Dt,bn),Yn(wt,Nn.nodeName.toLowerCase())?yo===0?dt.setEndBefore(Nn):dt.setEndAfter(Nn):dt.setEnd(Nn,yo),dt},Fe=(dn,wt)=>{const dt=Be.fromDom(e.getBody()),Dt=e.getDoc(),bn=At(dt,"#"+f).getOrThunk(()=>{const Oo=Be.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Dt);return ra(Oo,"id",f),Rr(dt,Oo),Oo}),Nn=n.createRng();zs(bn),Vr(bn,[Be.fromText(ga,Dt),Be.fromDom(wt),Be.fromText(ga,Dt)]),Nn.setStart(bn.dom.firstChild,1),Nn.setEnd(bn.dom.lastChild,0),Bo(bn,{top:n.getPos(dn,e.getBody()).y+"px"}),HE(bn);const yo=t.getSel();return yo&&(yo.removeAllRanges(),yo.addRange(Nn)),Nn},qe=dn=>{const wt=dn.cloneNode(!0),dt=e.dispatch("ObjectSelected",{target:dn,targetClone:wt});if(dt.isDefaultPrevented())return null;const Dt=Fe(dn,dt.targetClone),bn=Be.fromDom(dn);return pe(ta(Be.fromDom(e.getBody()),`*[${g}]`),Nn=>{Lo(bn,Nn)||bo(Nn,g)}),n.getAttrib(dn,g)||dn.setAttribute(g,"1"),C=dn,jt(),Dt},We=(dn,wt)=>{if(!dn)return null;if(dn.collapsed){if(!me(dn)){const Nn=wt?1:-1,yo=Mx(Nn,r,dn),Oo=yo.getNode(!wt);if(Ce(Oo)){if(Rx(Oo))return G(Nn,Oo,wt?!yo.isAtEnd():!1,!1);if(Em(Oo)&&to(Oo.nextSibling)){const Ds=n.createRng();return Ds.setStart(Oo,0),Ds.setEnd(Oo,0),Ds}}const ps=yo.getNode(wt);if(Ce(ps)){if(Rx(ps))return G(Nn,ps,wt?!1:!yo.isAtEnd(),!1);if(Em(ps)&&to(ps.previousSibling)){const Ds=n.createRng();return Ds.setStart(ps,1),Ds.setEnd(ps,1),Ds}}}return null}let dt=dn.startContainer,Dt=dn.startOffset;const bn=dn.endOffset;if(Mt(dt)&&Dt===0&&PT(dt.parentNode)&&(dt=dt.parentNode,Dt=n.nodeIndex(dt),dt=dt.parentNode),!yn(dt))return null;if(bn===Dt+1&&dt===dn.endContainer){const Nn=dt.childNodes[Dt];if(z(Nn))return qe(Nn)}return null},at=()=>{C&&C.removeAttribute(g),At(Be.fromDom(e.getBody()),"#"+f).each(hs),C=null},Nt=()=>{l.destroy(),C=null},jt=()=>{l.hide()};return Gm(e)||de(),{showCaret:G,showBlockCaretContainer:X,hideFakeCaret:jt,destroy:Nt}},$ne=(e,t)=>{let n=t;for(let r=e.previousSibling;Mt(r);r=r.previousSibling)n+=r.data.length;return n},vW=(e,t,n,r,l)=>{if(Mt(n)&&(r<0||r>n.data.length))return[];const f=l&&Mt(n)?[$ne(n,r)]:[r];let g=n;for(;g!==t&&g.parentNode;)f.push(e.nodeIndex(g,l)),g=g.parentNode;return g===t?f.reverse():[]},I9=(e,t,n,r,l,f,g=!1)=>{const C=vW(e,t,n,r,g),A=vW(e,t,l,f,g);return{start:C,end:A}},yW=(e,t)=>{const n=t.slice(),r=n.pop();return D(r)?It(n,(f,g)=>f.bind(C=>J.from(C.childNodes[g])),J.some(e)).bind(f=>Mt(f)&&(r<0||r>f.data.length)?J.none():J.some({node:f,offset:r})):J.none()},xW=(e,t)=>yW(e,t.start).bind(({node:n,offset:r})=>yW(e,t.end).map(({node:l,offset:f})=>{const g=document.createRange();return g.setStart(n,r),g.setEnd(l,f),g})),Une=(e,t,n,r=!1)=>I9(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,r),$S=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const r=t.parentNode;e.remove(t,Mt(t.firstChild)&&Ul(t.firstChild.data)),$S(e,r,n)}},JB=(e,t,n,r=!0)=>{const l=t.startContainer.parentNode,f=t.endContainer.parentNode;t.deleteContents(),r&&!n(t.startContainer)&&(Mt(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),Mt(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),$S(e,l,n),l!==f&&$S(e,f,n))},QB=(e,t)=>J.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),B9=(e,t,n)=>{const r=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:fi(r).concat(e.blockPatterns),inlinePatterns:Pu(r).concat(e.inlinePatterns)}},M9=(e,t,n,r)=>{const l=e.createRng();return l.setStart(t,0),l.setEnd(n,r),l.toString()},wW=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),e8=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},CW=(e,t,n)=>{const r=xW(e.getRoot(),n).getOrDie("Unable to resolve path range"),l=r.startContainer,f=r.endContainer,g=r.endOffset===0?f:f.splitText(r.endOffset),C=r.startOffset===0?l:l.splitText(r.startOffset),A=C.parentNode,z=g.parentNode;return{prefix:t,end:z.insertBefore(wW(e,t+"-end"),g),start:A.insertBefore(wW(e,t+"-start"),C)}},_W=(e,t,n)=>{$S(e,e.get(t.prefix+"-end"),n),$S(e,e.get(t.prefix+"-start"),n)},P9=e=>e.start.length===0,Wne=e=>(t,n)=>{const l=t.data.substring(0,n),f=l.lastIndexOf(e.charAt(e.length-1)),g=l.lastIndexOf(e);return g!==-1?g+e.length:f!==-1?f+1:-1},SW=(e,t,n,r)=>{const l=t.start;return s9(e,r.container,r.offset,Wne(l),n).bind(g=>{var C,A;const z=(A=(C=n.textContent)===null||C===void 0?void 0:C.indexOf(l))!==null&&A!==void 0?A:-1;if(z!==-1&&g.offset>=z+l.length){const G=e.createRng();return G.setStart(g.container,g.offset-l.length),G.setEnd(g.container,g.offset),J.some(G)}else{const G=g.offset-l.length;return o9(g.container,G,n).map(X=>{const de=e.createRng();return de.setStart(X.container,X.offset),de.setEnd(g.container,g.offset),de}).filter(X=>X.toString()===l).orThunk(()=>SW(e,t,n,ph(g.container,0)))}})},Zne=(e,t,n,r,l,f=!1)=>{if(t.start.length===0&&!f){const g=e.createRng();return g.setStart(n,r),g.setEnd(n,r),J.some(g)}return n9(n,r,l).bind(g=>SW(e,t,l,g).bind(A=>{var z;if(f){if(A.endContainer===g.container&&A.endOffset===g.offset)return J.none();if(g.offset===0&&((z=A.endContainer.textContent)===null||z===void 0?void 0:z.length)===A.endOffset)return J.none()}return J.some(A)}))},jne=(e,t,n,r)=>{const l=e.dom,f=l.getRoot(),g=n.pattern,C=n.position.container,A=n.position.offset;return o9(C,A-n.pattern.end.length,t).bind(z=>{const j=I9(l,f,z.container,z.offset,C,A,r);if(P9(g))return J.some({matches:[{pattern:g,startRng:j,endRng:j}],position:z});{const G=t8(e,n.remainingPatterns,z.container,z.offset,t,r),X=G.getOr({matches:[],position:z}),de=X.position;return Zne(l,g,de.container,de.offset,t,G.isNone()).map(me=>{const ke=Une(l,f,me,r);return{matches:X.matches.concat([{pattern:g,startRng:ke,endRng:j}]),position:ph(me.startContainer,me.startOffset)}})}})},t8=(e,t,n,r,l,f)=>{const g=e.dom;return n9(n,r,g.getRoot()).bind(C=>{const A=M9(g,l,n,r);for(let z=0;z<t.length;z++){const j=t[z];if(!Se(A,j.end))continue;const G=t.slice();G.splice(z,1);const X=jne(e,l,{pattern:j,remainingPatterns:G,position:C},f);if(X.isNone()&&r>0)return t8(e,t,n,r-1,l,f);if(X.isSome())return X}return J.none()})},kW=(e,t,n)=>{e.selection.setRng(n),t.type==="inline-format"?pe(t.format,r=>{e.formatter.apply(r)}):e.execCommand(t.cmd,!1,t.value)},Kne=(e,t,n,r)=>{const l=e8(e.dom,n);JB(e.dom,l,r),kW(e,t,l)},qne=(e,t,n,r,l)=>{const f=e.dom,g=e8(f,r),C=e8(f,n);JB(f,C,l),JB(f,g,l);const A={prefix:n.prefix,start:n.end,end:r.start},z=e8(f,A);kW(e,t,z)},Gne=(e,t)=>{const n=Ai("mce_textpattern"),r=zt(t,(l,f)=>{const g=CW(e,n+`_end${l.length}`,f.endRng);return l.concat([{...f,endMarker:g}])},[]);return zt(r,(l,f)=>{const g=r.length-l.length-1,C=P9(f.pattern)?f.endMarker:CW(e,n+`_start${g}`,f.startRng);return l.concat([{...f,startMarker:C}])},[])},Yne=e=>ms(e,(t,n)=>n.end.length-t.end.length),Xne=(e,t)=>{const n=vo(e,r=>xe(t,l=>r.pattern.start===l.pattern.start&&r.pattern.end===l.pattern.end));return e.length===t.length?n?e:t:e.length>t.length?e:t},EW=(e,t,n,r,l,f)=>{const g=t8(e,l.inlinePatterns,n,r,t,f).fold(()=>[],A=>A.matches),C=t8(e,Yne(l.inlinePatterns),n,r,t,f).fold(()=>[],A=>A.matches);return Xne(g,C)},AW=(e,t)=>{if(t.length===0)return;const n=e.dom,r=e.selection.getBookmark(),l=Gne(n,t);pe(l,f=>{const g=n.getParent(f.startMarker.start,n.isBlock),C=A=>A===g;P9(f.pattern)?Kne(e,f.pattern,f.endMarker,C):qne(e,f.pattern,f.startMarker,f.endMarker,C),_W(n,f.endMarker,C),_W(n,f.startMarker,C)}),e.selection.moveToBookmark(r)},TW=(e,t,n)=>HX(t,0,t).map(r=>{const l=r.container;return D$(l,n.start.length,t).each(f=>{const g=e.createRng();g.setStart(l,0),g.setEnd(f.container,f.offset),JB(e,g,C=>C===t)}),l}),OW=e=>(t,n)=>{const r=t.dom,l=n.pattern,f=xW(r.getRoot(),n.range).getOrDie("Unable to resolve path range"),g=(C,A)=>{const z=A.get(C);return ne(z)&&un(z).exists(j=>Yn(j,"block"))};return QB(t,f).each(C=>{l.type==="block-format"?g(l.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,C,l),t.formatter.apply(l.format)}):l.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,C,l),t.execCommand(l.cmd,!1,l.value)})}),!0},Jne=e=>ms(e,(t,n)=>n.start.length-t.start.length),DW=e=>(t,n)=>{const r=Jne(t),l=n.replace(ga," ");return wn(r,f=>e(f,n,l))},RW=(e,t)=>(n,r,l,f,g)=>{var C;g===void 0&&(g=(C=r.textContent)!==null&&C!==void 0?C:"");const A=n.dom,z=ji(n);return A.is(r,z)?e(l.blockPatterns,g).map(j=>t&&Kt.trim(g).length===j.start.length?[]:[{pattern:j,range:I9(A,A.getRoot(),r,0,r,0,f)}]).getOr([]):[]},Qne=e=>/^\s[^\s]/.test(e),eoe=OW((e,t,n)=>{TW(e,t,n).each(r=>{const l=Be.fromDom(r),f=Sm(l);Qne(f)&&Ib(l,f.slice(1))})}),toe=DW((e,t,n)=>t.indexOf(e.start)===0||n.indexOf(e.start)===0),noe=RW(toe,!0),ooe=(e,t)=>{const n=e.selection.getRng();return QB(e,n).map(r=>{var l;const f=Math.max(0,n.startOffset),g=B9(t,r,(l=r.textContent)!==null&&l!==void 0?l:""),C=EW(e,r,n.startContainer,f,g,!0),A=noe(e,r,g,!0);return{inlineMatches:C,blockMatches:A}}).filter(({inlineMatches:r,blockMatches:l})=>l.length>0||r.length>0)},soe=(e,t)=>{if(t.length===0)return;const n=e.selection.getBookmark();pe(t,r=>eoe(e,r)),e.selection.moveToBookmark(n)},roe=OW(TW),aoe=DW((e,t,n)=>t===e.start||n===e.start),ioe=RW(aoe,!1),loe=(e,t)=>{const n=e.selection.getRng();return QB(e,n).map(r=>{const l=Math.max(0,n.startOffset),f=M9(e.dom,r,n.startContainer,l),g=B9(t,r,f);return ioe(e,r,g,!1,f)}).filter(r=>r.length>0)},coe=(e,t)=>{pe(t,n=>roe(e,n))},uoe=(e,t)=>ooe(e,t).fold(xn,({inlineMatches:n,blockMatches:r})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{Dk(e),AW(e,n),soe(e,r);const l=e.selection.getRng(),f=n9(l.startContainer,l.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),f.each(g=>{const C=g.container;C.data.charAt(g.offset-1)===pr&&(C.deleteData(g.offset-1,1),$S(e.dom,C.parentNode,A=>A===e.dom.getRoot()))})}),!0)),doe=(e,t)=>{const n=e.selection.getRng();QB(e,n).map(r=>{const l=Math.max(0,n.startOffset-1),f=M9(e.dom,r,n.startContainer,l),g=B9(t,r,f),C=EW(e,r,n.startContainer,l,g,!1);C.length>0&&e.undoManager.transact(()=>{AW(e,C)})})},foe=(e,t)=>loe(e,t).fold(xn,n=>(e.undoManager.transact(()=>{coe(e,n)}),!0)),NW=(e,t,n)=>{for(let r=0;r<e.length;r++)if(n(e[r],t))return!0;return!1},moe=(e,t)=>NW(e,t,(n,r)=>n===r.keyCode&&!rn.modifierPressed(r)),goe=(e,t)=>NW(e,t,(n,r)=>n.charCodeAt(0)===r.charCode),hoe=e=>{const t=[",",".",";",":","!","?"],n=[32],r=()=>Gh(rP(e).filter(g=>g.type==="inline-command"||g.type==="block-command"?e.queryCommandSupported(g.cmd):!0),Tx(e)),l=()=>qk(e);e.on("keydown",g=>{if(g.keyCode===13&&!rn.modifierPressed(g)&&e.selection.isCollapsed()){const C=_f(r(),"enter");(C.inlinePatterns.length>0||C.blockPatterns.length>0||l())&&uoe(e,C)&&g.preventDefault()}},!0),e.on("keydown",g=>{if(g.keyCode===32&&e.selection.isCollapsed()){const C=_f(r(),"space");(C.blockPatterns.length>0||l())&&foe(e,C)&&g.preventDefault()}},!0);const f=()=>{if(e.selection.isCollapsed()){const g=_f(r(),"space");(g.inlinePatterns.length>0||l())&&doe(e,g)}};e.on("keyup",g=>{moe(n,g)&&f()}),e.on("keypress",g=>{goe(t,g)&&Oc.setEditorTimeout(e,f)})},poe=e=>{hoe(e)},boe=e=>{const t=Kt.each,n=rn.BACKSPACE,r=rn.DELETE,l=e.dom,f=e.selection,g=e.parser,C=Co.browser,A=C.isFirefox(),z=C.isChromium()||C.isSafari(),j=Co.deviceType.isiPhone()||Co.deviceType.isiPad(),G=Co.os.isMacOS()||Co.os.isiOS(),X=(nn,Hn)=>{try{e.getDoc().execCommand(nn,!1,String(Hn))}catch{}},de=nn=>nn.isDefaultPrevented(),we=()=>{const nn=ko=>{const ln=l.create("body"),xo=ko.cloneContents();return ln.appendChild(xo),f.serializer.serialize(ln,{format:"html"})},Hn=ko=>{const ln=nn(ko),xo=l.createRng();xo.selectNode(e.getBody());const Ro=nn(xo);return ln===Ro};e.on("keydown",ko=>{const ln=ko.keyCode;if(!de(ko)&&(ln===r||ln===n)&&e.selection.isEditable()){const xo=e.selection.isCollapsed(),Ro=e.getBody();if(xo&&!Wl(e.schema,Ro)||!xo&&!Hn(e.selection.getRng()))return;ko.preventDefault(),e.setContent(""),Ro.firstChild&&l.isBlock(Ro.firstChild)?e.selection.setCursorLocation(Ro.firstChild,0):e.selection.setCursorLocation(Ro,0),e.nodeChanged()}})},me=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},ke=()=>{e.inline||l.bind(e.getDoc(),"mousedown mouseup",nn=>{let Hn;if(nn.target===e.getDoc().documentElement)if(Hn=f.getRng(),e.getBody().focus(),nn.type==="mousedown"){if(Nl(Hn.startContainer))return;f.placeCaretAt(nn.clientX,nn.clientY)}else f.setRng(Hn)})},Fe=()=>{e.on("keydown",nn=>{if(!de(nn)&&nn.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&f.getRng().startOffset===0){const Hn=f.getNode(),ko=Hn.previousSibling;if(Hn.nodeName==="HR"){l.remove(Hn),nn.preventDefault();return}ko&&ko.nodeName&&ko.nodeName.toLowerCase()==="hr"&&(l.remove(ko),nn.preventDefault())}}})},qe=()=>{Range.prototype.getClientRects||e.on("mousedown",nn=>{if(!de(nn)&&nn.target.nodeName==="HTML"){const Hn=e.getBody();Hn.blur(),Oc.setEditorTimeout(e,()=>{Hn.focus()})}})},We=()=>{const nn=ov(e);e.on("click",Hn=>{const ko=Hn.target;/^(IMG|HR)$/.test(ko.nodeName)&&l.isEditable(ko)&&(Hn.preventDefault(),e.selection.select(ko),e.nodeChanged()),ko.nodeName==="A"&&l.hasClass(ko,nn)&&ko.childNodes.length===0&&l.isEditable(ko.parentNode)&&(Hn.preventDefault(),f.select(ko))})},at=()=>{const nn=()=>{const ko=l.getAttribs(f.getStart().cloneNode(!1));return()=>{const ln=f.getStart();ln!==e.getBody()&&(l.setAttrib(ln,"style",null),t(ko,xo=>{ln.setAttributeNode(xo.cloneNode(!0))}))}},Hn=()=>!f.isCollapsed()&&l.getParent(f.getStart(),l.isBlock)!==l.getParent(f.getEnd(),l.isBlock);e.on("keypress",ko=>{let ln;return!de(ko)&&(ko.keyCode===8||ko.keyCode===46)&&Hn()?(ln=nn(),e.getDoc().execCommand("delete",!1),ln(),ko.preventDefault(),!1):!0}),l.bind(e.getDoc(),"cut",ko=>{if(!de(ko)&&Hn()){const ln=nn();Oc.setEditorTimeout(e,()=>{ln()})}})},Nt=()=>{e.on("keydown",nn=>{if(!de(nn)&&nn.keyCode===n&&f.isCollapsed()&&f.getRng().startOffset===0){const Hn=f.getNode().previousSibling;if(Hn&&Hn.nodeName&&Hn.nodeName.toLowerCase()==="table")return nn.preventDefault(),!1}return!0})},jt=()=>{e.on("keydown",nn=>{if(de(nn)||nn.keyCode!==rn.BACKSPACE)return;let Hn=f.getRng();const ko=Hn.startContainer,ln=Hn.startOffset,xo=l.getRoot();let Ro=ko;if(!(!Hn.collapsed||ln!==0)){for(;Ro.parentNode&&Ro.parentNode.firstChild===Ro&&Ro.parentNode!==xo;)Ro=Ro.parentNode;Ro.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Ro),Hn=l.createRng(),Hn.setStart(ko,0),Hn.setEnd(ko,0),f.setRng(Hn))}})},dn=()=>{const nn=()=>{X("StyleWithCSS",!1),X("enableInlineTableEditing",!1),OO(e)||X("enableObjectResizing",!1)};LO(e)||e.on("BeforeExecCommand mousedown",nn)},wt=()=>{const nn=()=>{t(l.select("a:not([data-mce-block])"),Hn=>{var ko;let ln=Hn.parentNode;const xo=l.getRoot();if((ln==null?void 0:ln.lastChild)===Hn){for(;ln&&!l.isBlock(ln);){if(((ko=ln.parentNode)===null||ko===void 0?void 0:ko.lastChild)!==ln||ln===xo)return;ln=ln.parentNode}l.add(ln,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Hn=>{(Hn.type==="setcontent"||Hn.command==="mceInsertLink")&&nn()})},dt=()=>{e.on("init",()=>{X("DefaultParagraphSeparator",ji(e))})},Dt=nn=>{const Hn=nn.getBody(),ko=nn.selection.getRng();return ko.startContainer===ko.endContainer&&ko.startContainer===Hn&&ko.startOffset===0&&ko.endOffset===Hn.childNodes.length},bn=()=>{e.on("keyup focusin mouseup",nn=>{!rn.modifierPressed(nn)&&!Dt(e)&&f.normalize()},!0)},Nn=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},yo=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},Oo=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",nn=>{let Hn;nn.target.nodeName==="HTML"&&(Hn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Hn),e.selection.normalize(),e.nodeChanged())}))},ps=()=>{G&&e.on("keydown",nn=>{rn.metaKeyPressed(nn)&&!nn.shiftKey&&(nn.keyCode===37||nn.keyCode===39)&&(nn.preventDefault(),e.selection.getSel().modify("move",nn.keyCode===37?"backward":"forward","lineboundary"))})},Ds=()=>{e.on("click",nn=>{let Hn=nn.target;do if(Hn.tagName==="A"){nn.preventDefault();return}while(Hn=Hn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Yr=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",nn=>{nn.preventDefault()})})},hl=()=>{g.addNodeFilter("br",nn=>{let Hn=nn.length;for(;Hn--;)nn[Hn].attr("class")==="Apple-interchange-newline"&&nn[Hn].remove()})},Ps=Pt,Jt=()=>{if(!A||e.removed)return!1;const nn=e.selection.getSel();return!nn||!nn.rangeCount||nn.rangeCount===0},Tn=()=>{z&&(ke(),We(),Yr(),me(),j&&(yo(),Oo(),Ds())),A&&(qe(),dn(),Nn(),ps())},ts=()=>{jt(),we(),Co.windowsPhone||bn(),z&&(ke(),We(),dt(),Yr(),Nt(),hl(),j?(yo(),Oo(),Ds()):me()),A&&(Fe(),qe(),at(),dn(),wt(),Nn(),ps(),Nt())};return Gm(e)?Tn():ts(),{refreshContentEditable:Ps,isHidden:Jt}},voe=e=>e.toLowerCase()==="gpl",yoe=e=>e.length>=64&&e.length<=255,xoe=e=>voe(e)||yoe(e)?"VALID":"INVALID",woe=e=>{const t=GO(e);!Te(YO(e))&&(Ze(t)||xoe(t)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},L9=Bs.DOM,Coe=(e,t)=>{const n=Be.fromDom(e.getBody()),r=im(Wc(n)),l=Be.fromTag("style");ra(l,"type","text/css"),Rr(l,Be.fromText(t)),Rr(r,l),e.on("remove",()=>{hs(l)})},_oe=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,F9=e=>ic(e,t=>Ze(t)===!1),IW=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return F9({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:_oe(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:yC(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},BW=e=>{const t=e.options.get;return F9({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},Soe=e=>{const t=e.options.get;return{...IW(e),...BW(e),...F9({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},koe=e=>{const t=Nv(IW(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(n,r)=>{const l=e.dom,f="data-mce-"+r;let g=n.length;for(;g--;){const C=n[g];let A=C.attr(r);if(A&&!C.attr(f)){if(A.indexOf("data:")===0||A.indexOf("blob:")===0)continue;r==="style"?(A=l.serializeStyle(l.parseStyle(A),C.name),A.length||(A=null),C.attr(f,A),C.attr(r,A)):r==="tabindex"?(C.attr(f,A),C.attr(r,null)):C.attr(f,e.convertURL(A,r,C.name))}}}),t.addNodeFilter("script",n=>{let r=n.length;for(;r--;){const l=n[r],f=l.attr("type")||"no/type";f.indexOf("mce-")!==0&&l.attr("type","mce-"+f)}}),iP(e)&&t.addNodeFilter("#cdata",n=>{var r;let l=n.length;for(;l--;){const f=n[l];f.type=8,f.name="#comment",f.value="[CDATA["+e.dom.encode((r=f.value)!==null&&r!==void 0?r:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",n=>{let r=n.length;const l=e.schema.getNonEmptyElements();for(;r--;){const f=n[r];f.isEmpty(l)&&f.getAll("br").length===0&&f.append(new mi("br",1))}}),t},Eoe=e=>{const t=eP(e);t&&Oc.setEditorTimeout(e,()=>{let n;t===!0?n=e:n=e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())},100)},Aoe=e=>{const t=e.dom.getRoot();!e.inline&&(!lv(e)||e.selection.getStart(!0)===t)&&Un(t).each(n=>{const r=n.getNode(),l=Gc(r)?Un(r).getOr(n):n;e.selection.setRng(l.toRange())})},Toe=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Wr(e),e.focus(!0),Aoe(e),e.nodeChanged({initial:!0});const t=JM(e);Ne(t)&&t.call(e,e),Eoe(e)},z9=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,Ooe=(e,t,n)=>{const{pass:r,fail:l}=$t(t,C=>tinymce.Resource.has(P4(C))),g=[...r.map(C=>{const A=tinymce.Resource.get(P4(C));return Te(A)?Promise.resolve(z9(e).loadRawCss(C,A)):Promise.resolve()}),z9(e).loadAll(l)];return e.inline?g:g.concat([e.ui.styleSheetLoader.loadAll(n)])},MW=e=>{const t=z9(e),n=TO(e),r=e.contentCSS,l=()=>{t.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(n)},f=()=>{e.removed?l():e.on("remove",l)};if(e.contentStyles.length>0){let A="";Kt.each(e.contentStyles,z=>{A+=z+`\r
`}),e.dom.addStyle(A)}const g=Promise.all(Ooe(e,r,n)).then(f).catch(f),C=ev(e);return C&&Coe(e,C),g},Doe=e=>{const t=e.getDoc(),n=e.getBody();OP(e),tP(e)||(t.body.spellcheck=!1,L9.setAttrib(n,"spellcheck","false")),e.quirks=boe(e),DP(e);const r=ZM(e);r!==void 0&&(n.dir=r);const l=jo(e);l&&e.on("BeforeSetContent",f=>{Kt.each(l,g=>{f.content=f.content.replace(g,C=>"<!--mce:protected "+escape(C)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",f=>{e.composing=f.type==="compositionstart"})},Roe=e=>{Gm(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},H9=e=>{e.removed!==!0&&(Roe(e),Toe(e))},Noe=e=>{let t=!1;const n=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(n),t=!0,e.setProgressState(!1)}},PW=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(L9.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const r=e.getBody();r.disabled=!0,e.readonly=LO(e),e._editableRoot=is(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&L9.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=F4(e),e.schema=xc(BW(e)),e.dom=Bs(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:EO(e),referrerPolicy:Sx(e),onSetAttrib:g=>{e.dispatch("SetAttrib",g)}}),e.parser=koe(e),e.serializer=E6(Soe(e),e),e.selection=_4(e.dom,e.getWin(),e.serializer,e),e.annotator=V5(e),e.formatter=X2(e),e.undoManager=rI(e),e._nodeChangeDispatcher=new Eee(e),e._selectionOverrides=Vne(e),mo(e),jte(e),lw(e),Gm(e)||(Qte(e),poe(e));const l=kee(e);In(e,l),xa(e),dI(e),Ute(e);const f=l6(e);Doe(e),woe(e),f.fold(()=>{const g=Noe(e);MW(e).then(()=>{H9(e),g()})},g=>{e.setProgressState(!0),MW(e).then(()=>{g().then(C=>{e.setProgressState(!1),H9(e),h6(e)},C=>{e.notificationManager.open({type:"error",text:String(C)}),H9(e),h6(e)})})})},Ioe=Rn,Boe=(e,t,n)=>I(e,t,Ioe,n),V9=Bs.DOM,Moe=(e,t,n,r)=>{const l=Be.fromTag("iframe");return r.each(f=>ra(l,"tabindex",f)),wi(l,n),wi(l,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),ld(l,"tox-edit-area__iframe"),l},Poe=e=>{let t=_d(e)+"<html><head>";ou(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=hC(e),r=Mk(e),l=e.translate(Ex(e));return xO(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+xO(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${l}"><br></body></html>`,t},Loe=(e,t)=>{const n=Co.browser.isFirefox()?Ex(e):"Rich Text Area",r=e.translate(n),l=Hc(Be.fromDom(e.getElement()),"tabindex").bind(on),f=Moe(e.id,r,dl(e),l).dom;f.onload=()=>{f.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=f,e.iframeHTML=Poe(e),V9.add(t.iframeContainer,f)},Foe=e=>{const t=e.iframeElement,n=()=>{e.contentDocument=t.contentDocument,PW(e)};if(WO(e)||Co.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close(),n()}else{const r=Boe(Be.fromDom(t),"load",()=>{r.unbind(),n()});t.srcdoc=e.iframeHTML}},zoe=(e,t)=>{Loe(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=V9.isHidden(t.editorContainer)),e.getElement().style.display="none",V9.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,Foe(e)},LW=Bs.DOM,Hoe=(e,t,n)=>{const r=R0.get(n),l=R0.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=Kt.trim(n),r&&Kt.inArray(t,n)===-1){if(e.plugins[n])return;try{const f=r(e,l)||{};e.plugins[n]=f,Ne(f.init)&&(f.init(e,l),t.push(n))}catch(f){$F(e,n,f)}}},Voe=e=>e.replace(/^\-/,""),$oe=e=>{const t=[];pe(Sd(e),n=>{Hoe(e,t,Voe(n))})},Uoe=e=>{const t=Kt.trim(Hk(e)),n=e.ui.registry.getAll().icons,r={...j2.get("default").icons,...j2.get(t).icons};Wo(r,(l,f)=>{Yn(n,f)||e.ui.registry.addIcon(f,l)})},Woe=e=>{const t=tv(e);if(Te(t)){const n=Ep.get(t);e.theme=n(e,Ep.urls[t])||{},Ne(e.theme.init)&&e.theme.init(e,Ep.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},Zoe=e=>{const t=kx(e),n=kp.get(t);e.model=n(e,kp.urls[t])},joe=e=>{const t=e.theme.renderUI;return t?t():zW(e)},Koe=e=>{const t=e.getElement(),r=tv(e)(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r},FW=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),qoe=e=>{const t=LW.create("div");return LW.insertAfter(t,e),FW(t,t)},zW=e=>{const t=e.getElement();return e.inline?FW(null):qoe(t)},Goe=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,Te(tv(e))?joe(e):Ne(tv(e))?Koe(e):zW(e)},Yoe=(e,t)=>{const n={show:J.from(t.show).getOr(Pt),hide:J.from(t.hide).getOr(Pt),isEnabled:J.from(t.isEnabled).getOr(Rn),setEnabled:r=>{e.mode.isReadOnly()||J.from(t.setEnabled).each(l=>l(r))}};e.ui={...e.ui,...n}},Xoe=async e=>{e.dispatch("ScriptsLoaded"),Uoe(e),Woe(e),Zoe(e),$oe(e);const t=await Goe(e);Yoe(e,J.from(t.api).getOr({})),e.editorContainer=t.editorContainer,j6(e),e.inline?PW(e):zoe(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},mw=Bs.DOM,HW=e=>e.charAt(0)==="-",Joe=(e,t)=>{const n=Uk(t),r=WM(t);if(!wc.hasCode(n)&&n!=="en"){const l=je(r)?r:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(l).catch(()=>{HF(t,l,n)})}},Qoe=(e,t)=>{const n=tv(e);if(Te(n)&&!HW(n)&&!Yn(Ep.urls,n)){const r=KM(e),l=r?e.documentBaseURI.toAbsolute(r):`themes/${n}/theme${t}.js`;Ep.load(n,l).catch(()=>{W6(e,l,n)})}},ese=(e,t)=>{const n=kx(e);if(n!=="plugin"&&!Yn(kp.urls,n)){const r=Zk(e),l=Te(r)?e.documentBaseURI.toAbsolute(r):`models/${n}/model${t}.js`;kp.load(n,l).catch(()=>{VF(e,l,n)})}},tse=e=>J.from(SO(e)).filter(je).map(t=>({url:t,name:J.none()})),VW=(e,t,n)=>J.from(t).filter(r=>je(r)&&!j2.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${n}.js`,name:J.some(r)})),nse=(e,t,n)=>{const r=VW(t,"default",n),l=tse(t).orThunk(()=>VW(t,Hk(t),""));pe(l1([r,l]),f=>{e.add(f.url).catch(()=>{B4(t,f.url,f.name.getOrUndefined())})})},ose=(e,t)=>{const n=(r,l)=>{R0.load(r,l).catch(()=>{I4(e,l,r)})};Wo(Rm(e),(r,l)=>{n(l,r),e.options.set("plugins",Sd(e).concat(l))}),pe(Sd(e),r=>{r=Kt.trim(r),r&&!R0.urls[r]&&!HW(r)&&n(r,`plugins/${r}/plugin${t}.js`)})},sse=e=>{const t=tv(e);return!Te(t)||Ce(Ep.get(t))},rse=e=>{const t=kx(e);return Ce(kp.get(t))},ase=(e,t)=>{const n=ll.ScriptLoader,r=()=>{!e.removed&&sse(e)&&rse(e)&&Xoe(e)};Qoe(e,t),ese(e,t),Joe(n,e),nse(n,e,t),ose(e,t),n.loadQueue().then(r,r)},ise=(e,t)=>x1.forElement(e,{contentCssCors:FO(t),referrerPolicy:Sx(t)}),lse=e=>{const t=e.id;wc.setCode(Uk(e));const n=()=>{mw.unbind(window,"ready",n),e.render()};if(!df.Event.domLoaded){mw.bind(window,"ready",n);return}if(!e.getElement())return;const r=Be.fromDom(e.getElement()),l=rl(r);e.on("remove",()=>{St(r.dom.attributes,g=>bo(r,g.name)),wi(r,l)}),e.ui.styleSheetLoader=ise(r,e),Xb(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const f=e.getElement().form||mw.getParent(t,"form");f&&(e.formElement=f,jk(e)&&!Nh(e.getElement())&&(mw.insertAfter(mw.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=g=>{e.dispatch(g.type,g)},mw.bind(f,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),IO(e)&&!f.submit.nodeType&&!f.submit.length&&!f._mceOldSubmit&&(f._mceOldSubmit=f.submit,f.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),f._mceOldSubmit(f)))),e.windowManager=$6(e),e.notificationManager=N4(e),ZO(e)&&e.on("GetContent",g=>{g.save&&(g.content=mw.encode(g.content))}),BO(e)&&e.on("submit",()=>{e.initialized&&e.save()}),MO(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),ase(e,e.suffix)},cse=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),IP(e,t))},use=e=>e._editableRoot,dse=(e,t)=>({sections:Qe(e),options:Qe(t)}),$W=Va().deviceType,UW=$W.isPhone(),fse=$W.isTablet(),LT=e=>{if(nt(e))return[];{const t=ne(e)?e:e.split(/[ ,]/),n=Me(t,Re);return Ct(n,je)}},mse=(e,t)=>{const n=pu(t,(r,l)=>le(e,l));return dse(n.t,n.f)},gse=(e,t,n={})=>{const r=e.sections(),l=gs(r,t).getOr({});return Kt.extend({},n,l)},$9=(e,t)=>Yn(e.sections(),t),hse=(e,t)=>$9(e,t)?e.sections()[t]:{},pse=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:gs(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),bse=(e,t)=>{var n;const r=(n=t.external_plugins)!==null&&n!==void 0?n:{};return e&&e.external_plugins?Kt.extend({},e.external_plugins,r):r},vse=(e,t)=>[...LT(e),...LT(t)],yse=(e,t,n,r)=>e&&$9(t,"mobile")?r:n,xse=(e,t,n,r)=>{const l=LT(n.forced_plugins),f=LT(r.plugins),g=hse(t,"mobile"),C=g.plugins?LT(g.plugins):f,A=yse(e,t,f,C),z=vse(l,A);return Kt.extend(r,{forced_plugins:l,plugins:z})},wse=(e,t)=>e&&$9(t,"mobile"),Cse=(e,t,n,r,l)=>{var f;const g=e?{mobile:pse((f=l.mobile)!==null&&f!==void 0?f:{},t)}:{},C=mse(["mobile"],IB(g,l)),A=Kt.extend(n,r,C.options(),wse(e,C)?gse(C,"mobile"):{},{external_plugins:bse(r,C.options())});return xse(e,C,r,A)},_se=(e,t)=>{const n=F$(t);return Cse(UW||fse,UW,n,e,n)},Sse=(e,t)=>g6(e,t),kse=e=>{const t=(r,l)=>{e.formatter.toggle(r,l),e.nodeChanged()},n=r=>()=>{pe("left,center,right,justify".split(","),l=>{r!==l&&e.formatter.remove("align"+l)}),r!=="none"&&t("align"+r)};e.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})},Ese=e=>{const t=n=>()=>{const r=e.selection,l=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return xe(l,f=>Ce(e.formatter.matchNode(f,n)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},Ase=e=>{kse(e),Ese(e)},Tse=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let r;try{n.execCommand(t)}catch{r=!0}if(t==="paste"&&!n.queryCommandEnabled(t)&&(r=!0),r||!n.queryCommandSupported(t)){let l=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Co.os.isMacOS()||Co.os.isiOS())&&(l=l.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:l,type:"error"})}}})},Ose=(e,t,n,r)=>{const l=Be.fromDom(e.getRoot());return Cv(l,mt.fromRangeStart(t),r)?n=n.replace(/^ /,"&nbsp;"):n=n.replace(/^&nbsp;/," "),x0(l,mt.fromRangeEnd(t),r)?n=n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n=n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},Dse=e=>{if(typeof e!="string"){const t=Kt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},Rse=(e,t)=>{const n=e.selection,r=e.dom;return/^ | $/.test(t)?Ose(r,n.getRng(),t,e.schema):t},n8=(e,t)=>{if(e.selection.isEditable()){const{content:n,details:r}=Dse(t);X3(e,{...r,content:Rse(e,n),format:"html",set:!1,selection:!0}).each(l=>{const f=vF(e,l.content,r);J3(e,f,l),e.addVisual()})}},Nse=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,r)=>{n8(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,r)=>{n8(e,e.dom.encode(r))},insertHTML:(t,n,r)=>{n8(e,r)},mceInsertContent:(t,n,r)=>{n8(e,r)},mceSetContent:(t,n,r)=>{e.setContent(r)},mceReplaceContent:(t,n,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(Yo(e))}})},Ise={"font-size":"size","font-family":"face"},Bse=Gd("font"),Mse=(e,t,n)=>{const r=f=>Cr(f,e).orThunk(()=>Bse(f)?gs(Ise,e).bind(g=>Hc(f,g)):J.none()),l=f=>Lo(Be.fromDom(t),f);return T2(Be.fromDom(n),f=>r(f),l)},Pse=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),Lse=(e,t)=>J.from(Bs.DOM.getStyle(t,e,!0)),WW=e=>(t,n)=>J.from(n).map(Be.fromDom).filter(Or).bind(r=>Mse(e,t,r.dom).or(Lse(e,r.dom))).getOr(""),Fse=WW("font-size"),zse=cn(Pse,WW("font-family")),Hse=e=>Un(e.getBody()).bind(t=>{const n=t.container();return J.from(Mt(n)?n.parentNode:n)}),Vse=e=>J.from(e.selection.getRng()).bind(t=>{const n=e.getBody();return t.startContainer===n&&t.startOffset===0?J.none():J.from(e.selection.getStart(!0))}),$se=(e,t)=>Vse(e).orThunk(pt(Hse,e)).map(Be.fromDom).filter(Or).bind(t),U9=(e,t)=>$se(e,hn(J.some,t)),ZW=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const r=Gk(e),l=Yk(e);return l.length>0?l[n-1]||t:r[n-1]||t}else return t}else return t},Use=e=>{const t=e.split(/\s*,\s*/);return Me(t,n=>n.indexOf(" ")!==-1&&!(Gs(n,'"')||Gs(n,"'"))?`'${n}'`:n).join(",")},Wse=(e,t)=>{const n=ZW(e,t);e.formatter.toggle("fontname",{value:Use(n)}),e.nodeChanged()},Zse=e=>U9(e,t=>zse(e.getBody(),t.dom)).getOr(""),jse=(e,t)=>{e.formatter.toggle("fontsize",{value:ZW(e,t)}),e.nodeChanged()},Kse=e=>U9(e,t=>Fse(e.getBody(),t.dom)).getOr(""),qse=e=>U9(e,t=>{const n=Be.fromDom(e.getBody()),r=T2(t,f=>Cr(f,"line-height"),pt(Lo,n)),l=()=>{const f=parseFloat(Dr(t,"line-height")),g=parseFloat(Dr(t,"font-size"));return String(f/g)};return r.getOrThunk(l)}).getOr(""),Gse=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},Yse=e=>{const t=(n,r)=>{e.formatter.toggle(n,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>{t(n)},"ForeColor,HiliteColor":(n,r,l)=>{t(n,{value:l})},BackColor:(n,r,l)=>{t("hilitecolor",{value:l})},FontName:(n,r,l)=>{Wse(e,l)},FontSize:(n,r,l)=>{jse(e,l)},LineHeight:(n,r,l)=>{Gse(e,l)},Lang:(n,r,l)=>{var f;t(n,{value:l.code,customValue:(f=l.customCode)!==null&&f!==void 0?f:null})},RemoveFormat:n=>{e.formatter.remove(n)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(n,r,l)=>{t(Te(l)?l:"p")},mceToggleFormat:(n,r,l)=>{t(l)}})},Xse=e=>{const t=n=>e.formatter.match(n);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>t(n),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>Zse(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>Kse(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>qse(e))},Jse=e=>{Yse(e),Xse(e)},Qse=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},ere=e=>{e.editorCommands.addCommands({Indent:()=>{_t(e)},Outdent:()=>{vt(e)}}),e.editorCommands.addCommands({Outdent:()=>ge(e)},"state")},tre=e=>{const t=(n,r,l)=>{const f=Te(l)?{href:l}:l,g=e.dom.getParent(e.selection.getNode(),"a");te(f)&&Te(f.href)&&(f.href=f.href.replace(/ /g,"%20"),(!g||!f.href)&&e.formatter.remove("link"),f.href&&e.formatter.apply("link",f,g))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const n=e.dom.getParent(e.selection.getStart(),"a");n&&e.dom.remove(n,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},nre=(e,t,n,r)=>{const l=e.dom,f=C=>l.isBlock(C)&&C.parentElement===n,g=f(t)?t:l.getParent(r,f,n);return J.from(g).map(Be.fromDom)},jW=(e,t)=>{const n=e.dom,r=e.selection.getRng(),l=t?e.selection.getStart():e.selection.getEnd(),f=t?r.startContainer:r.endContainer,g=NT(n,f);if(!g||!g.isContentEditable)return;const C=t?hr:et,A=ji(e);nre(e,l,g,f).each(z=>{const j=uU(e,f,z.dom,g,!1,A);C(z,Be.fromDom(j)),e.selection.setCursorLocation(j,0),e.dispatch("NewBlock",{newBlock:j}),RT(e,"insertParagraph")})},ore=e=>jW(e,!0),sre=e=>jW(e,!1),rre=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{ore(e)},InsertNewBlockAfter:()=>{sre(e)}})},are=e=>{e.editorCommands.addCommands({insertParagraph:()=>{UB(gU,e)},mceInsertNewLine:(t,n,r)=>{wU(e,r)},InsertLineBreak:(t,n,r)=>{UB(bU,e)}})},ire=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,r)=>{let l=0;e.dom.getParent(e.selection.getNode(),f=>yn(f)&&l++===r?(e.selection.select(f),!1):!0,e.getBody())},mceSelectNode:(t,n,r)=>{e.selection.select(r)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),pc);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})},lre=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,r)=>{const l=r??e.selection.getNode();if(l!==e.getBody()){const f=e.selection.getBookmark();e.dom.remove(l,!0),e.selection.moveToBookmark(f)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,r)=>{kD(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},cre=e=>{Ase(e),Tse(e),Qse(e),ire(e),Nse(e),tre(e),ere(e),rre(e),are(e),Jse(e),lre(e)},ure=["toggleview"],KW=e=>le(ure,e.toLowerCase());class qW{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,n=!1,r,l){const f=this.editor,g=t.toLowerCase(),C=l==null?void 0:l.skip_focus;if(f.removed||(g!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(g)&&!C?f.focus():e_(f)),f.dispatch("BeforeExecCommand",{command:t,ui:n,value:r}).isDefaultPrevented()))return!1;const z=this.commands.exec[g];return Ne(z)?(z(g,n,r),f.dispatch("ExecCommand",{command:t,ui:n,value:r}),!0):!1}queryCommandState(t){if(!KW(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const n=t.toLowerCase(),r=this.commands.state[n];return Ne(r)?r(n):!1}queryCommandValue(t){if(!KW(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const n=t.toLowerCase(),r=this.commands.value[n];return Ne(r)?r(n):""}addCommands(t,n="exec"){const r=this.commands;Wo(t,(l,f)=>{pe(f.toLowerCase().split(","),g=>{r[n][g]=l})})}addCommand(t,n,r){const l=t.toLowerCase();this.commands.exec[l]=(f,g,C)=>n.call(r??this.editor,g,C)}queryCommandSupported(t){const n=t.toLowerCase();return!!this.commands.exec[n]}addQueryStateHandler(t,n,r){this.commands.state[t.toLowerCase()]=()=>n.call(r??this.editor)}addQueryValueHandler(t,n,r){this.commands.value[t.toLowerCase()]=()=>n.call(r??this.editor)}}const gw="data-mce-contenteditable",dre=(e,t,n)=>{cd(e,t)&&!n?Ci(e,t):n&&ld(e,t)},W9=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch{}},o8=(e,t)=>{e.dom.contentEditable=t?"true":"false"},fre=e=>{pe(ta(e,'*[contenteditable="true"]'),t=>{ra(t,gw,"true"),o8(t,!1)})},mre=e=>{pe(ta(e,`*[${gw}="true"]`),t=>{bo(t,gw),o8(t,!0)})},gre=e=>{J.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},hre=e=>{e.selection.setRng(e.selection.getRng())},pre=(e,t)=>{const n=Be.fromDom(e.getBody());dre(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),gre(e),e.readonly=!0,o8(n,!1),fre(n)):(e.readonly=!1,e.hasEditableRoot()&&o8(n,!0),mre(n),W9(e,"StyleWithCSS",!1),W9(e,"enableInlineTableEditing",!1),W9(e,"enableObjectResizing",!1),g0(e)&&e.focus(),hre(e),e.nodeChanged())},hw=e=>e.readonly,GW=e=>{e.parser.addAttributeFilter("contenteditable",t=>{hw(e)&&pe(t,n=>{n.attr(gw,n.attr("contenteditable")),n.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(gw,t=>{hw(e)&&pe(t,n=>{n.attr("contenteditable",n.attr(gw))})}),e.serializer.addTempAttr(gw)},bre=e=>{e.serializer?GW(e):e.on("PreInit",()=>{GW(e)})},vre=e=>e.type==="click",yre=["copy"],xre=e=>le(yre,e.type),wre=(e,t)=>Ta(t,"a",r=>Lo(r,Be.fromDom(e.getBody()))).bind(r=>Hc(r,"href")),Cre=(e,t)=>{if(vre(t)&&!rn.metaKeyPressed(t)){const n=Be.fromDom(t.target);wre(e,n).each(r=>{if(t.preventDefault(),/^#/.test(r)){const l=e.dom.select(`${r},[name="${Fc(r,"#")}"]`);l.length&&e.selection.scrollIntoView(l[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else xre(t)&&e.dispatch(t.type,t)},_re=e=>{e.on("ShowCaret",t=>{hw(e)&&t.preventDefault()}),e.on("ObjectSelected",t=>{hw(e)&&t.preventDefault()})},Sre=Kt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class Z9{static isNative(t){return!!Sre[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||xn}fire(t,n){return this.dispatch(t,n)}dispatch(t,n){const r=t.toLowerCase(),l=O1(r,n??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(l);const f=this.bindings[r];if(f)for(let g=0,C=f.length;g<C;g++){const A=f[g];if(!A.removed){if(A.once&&this.off(r,A.func),l.isImmediatePropagationStopped())return l;if(A.func.call(this.scope,l)===!1)return l.preventDefault(),l}}return l}on(t,n,r,l){if(n===!1&&(n=xn),n){const f={func:n,removed:!1};l&&Kt.extend(f,l);const g=t.toLowerCase().split(" ");let C=g.length;for(;C--;){const A=g[C];let z=this.bindings[A];z||(z=[],this.toggleEvent(A,!0)),r?z=[f,...z]:z=[...z,f],this.bindings[A]=z}}return this}off(t,n){if(t){const r=t.toLowerCase().split(" ");let l=r.length;for(;l--;){const f=r[l];let g=this.bindings[f];if(!f)return Wo(this.bindings,(C,A)=>{this.toggleEvent(A,!1),delete this.bindings[A]}),this;if(g){if(!n)g.length=0;else{const C=$t(g,A=>A.func===n);g=C.fail,this.bindings[f]=g,pe(C.pass,A=>{A.removed=!0})}g.length||(this.toggleEvent(t,!1),delete this.bindings[f])}}}else Wo(this.bindings,(r,l)=>{this.toggleEvent(l,!1)}),this.bindings={};return this}once(t,n,r){return this.on(t,n,r,{once:!0})}has(t){t=t.toLowerCase();const n=this.bindings[t];return!(!n||n.length===0)}}const FT=e=>(e._eventDispatcher||(e._eventDispatcher=new Z9({scope:e,toggleEvent:(t,n)=>{Z9.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),j9={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return O1(e.toLowerCase(),t??{},r);const l=FT(r).dispatch(e,t);if(n!==!1&&r.parent){let f=r.parent();for(;f&&!l.isPropagationStopped();)f.dispatch(e,l,!1),f=f.parent?f.parent():void 0}return l},on(e,t,n){return FT(this).on(e,t,n)},off(e,t){return FT(this).off(e,t)},once(e,t){return FT(this).once(e,t)},hasEventListeners(e){return FT(this).has(e)}},s8=Bs.DOM;let pw;const r8=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const n=RO(e);return n?(e.eventRoot||(e.eventRoot=s8.select(n)[0]),e.eventRoot):e.getBody()},kre=e=>!e.hidden&&!hw(e),YW=(e,t,n)=>{kre(e)?e.dispatch(t,n):hw(e)&&Cre(e,n)},XW=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=r8(e,t);if(RO(e)){if(pw||(pw={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||pw&&(Wo(pw,(l,f)=>{e.dom.unbind(r8(e,f))}),pw=null)})),pw[t])return;const r=l=>{const f=l.target,g=e.editorManager.get();let C=g.length;for(;C--;){const A=g[C].getBody();(A===f||s8.isChildOf(f,A))&&YW(g[C],t,l)}};pw[t]=r,s8.bind(n,t,r)}else{const r=l=>{YW(e,t,l)};s8.bind(n,t,r),e.delegates[t]=r}},JW={...j9,bindPendingEventDelegates(){const e=this;Kt.each(e._pendingNativeEvents,t=>{XW(e,t)})},toggleNativeEvent(e,t){const n=this;e==="focus"||e==="blur"||n.removed||(t?n.initialized?XW(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(r8(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(Wo(e.delegates,(r,l)=>{e.dom.unbind(r8(e,l),l,r)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},Ere=e=>Te(e)?{value:e.split(/[ ,]/),valid:!0}:yt(e,Te)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},Are=e=>{const t=(()=>{switch(e){case"array":return ne;case"boolean":return $e;case"function":return Ne;case"number":return D;case"object":return te;case"string":return Te;case"string[]":return Ere;case"object[]":return n=>yt(n,te);case"regexp":return n=>Ue(n,RegExp);default:return Rn}})();return n=>K9(n,t,`The value must be a ${e}.`)},Tre=e=>Te(e.processor),QW=(e,t)=>{const n=Lt(t.message)?"":`. ${t.message}`;return e+n},eZ=e=>e.valid,K9=(e,t,n="")=>{const r=t(e);return $e(r)?r?{value:e,valid:!0}:{valid:!1,message:n}:r},Ore=(e,t,n)=>{if(!Ze(t)){const r=K9(t,n);if(eZ(r))return r.value;console.error(QW(`Invalid default value passed for the "${e}" option`,r))}},Dre=(e,t,n=t)=>{const r={},l={},f=(de,we,me)=>{const ke=K9(we,me);return eZ(ke)?(l[de]=ke.value,!0):(console.warn(QW(`Invalid value passed for the ${de} option`,ke)),!1)},g=(de,we)=>{const me=Tre(we)?Are(we.processor):we.processor,ke=Ore(de,we.default,me);r[de]={...we,default:ke,processor:me},gs(l,de).orThunk(()=>gs(t,de)).each(qe=>f(de,qe,me))},C=de=>Yn(r,de);return{register:g,isRegistered:C,get:de=>gs(l,de).orThunk(()=>gs(r,de).map(we=>we.default)).getOrUndefined(),set:(de,we)=>{if(C(de)){const me=r[de];return me.immutable?(console.error(`"${de}" is an immutable option and cannot be updated`),!1):f(de,we,me.processor)}else return console.warn(`"${de}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:de=>{const we=C(de);return we&&delete l[de],we},isSet:de=>Yn(l,de),debug:()=>{try{console.log(JSON.parse(JSON.stringify(n,(de,we)=>$e(we)||D(we)||Te(we)||Ge(we)||ne(we)||Ae(we)?we:Object.prototype.toString.call(we))))}catch(de){console.error(de)}}}},Rre=["design","readonly"],tZ=(e,t,n,r)=>{const l=n[t.get()],f=n[r];try{f.activate()}catch(g){console.error(`problem while activating editor mode ${r}:`,g);return}l.deactivate(),l.editorReadOnly!==f.editorReadOnly&&pre(e,f.editorReadOnly),t.set(r),$5(e,r)},Nre=(e,t,n,r)=>{if(r!==n.get()){if(!Yn(t,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?tZ(e,n,t,r):e.on("init",()=>tZ(e,n,t,r))}},Ire=(e,t,n)=>{if(le(Rre,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${t}:`,r)}}}}},Bre=e=>{const t=ha("design"),n=ha({design:{activate:Pt,deactivate:Pt,editorReadOnly:!1},readonly:{activate:Pt,deactivate:Pt,editorReadOnly:!0}});return bre(e),_re(e),{isReadOnly:()=>hw(e),set:r=>Nre(e,n.get(),t,r),get:()=>t.get(),register:(r,l)=>{n.set(Ire(n.get(),r,l))}}},q9=Kt.each,G9=Kt.explode,Mre={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},nZ=Kt.makeMap("alt,ctrl,shift,meta,access"),Pre=e=>e in nZ,Lre=e=>{const t={},n=Co.os.isMacOS()||Co.os.isiOS();q9(G9(e.toLowerCase(),"+"),f=>{Pre(f)?t[f]=!0:/^[0-9]{2,}$/.test(f)?t.keyCode=parseInt(f,10):(t.charCode=f.charCodeAt(0),t.keyCode=Mre[f]||f.toUpperCase().charCodeAt(0))});const r=[t.keyCode];let l;for(l in nZ)t[l]?r.push(l):t[l]=!1;return t.id=r.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class oZ{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const n=this;t.on("keyup keypress keydown",r=>{(n.hasModifier(r)||n.isFunctionKey(r))&&!r.isDefaultPrevented()&&(q9(n.shortcuts,l=>{n.matchShortcut(r,l)&&(n.pendingPatterns=l.subpatterns.slice(0),r.type==="keydown"&&n.executeShortcutAction(l))}),n.matchShortcut(r,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&r.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}add(t,n,r,l){const f=this,g=f.normalizeCommandFunc(r);return q9(G9(Kt.trim(t)),C=>{const A=f.createShortcut(C,n,g,l);f.shortcuts[A.id]=A}),!0}remove(t){const n=this.createShortcut(t);return this.shortcuts[n.id]?(delete this.shortcuts[n.id],!0):!1}normalizeCommandFunc(t){const n=this,r=t;return typeof r=="string"?()=>{n.editor.execCommand(r,!1,null)}:Kt.isArray(r)?()=>{n.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(t,n,r,l){const f=Kt.map(G9(t,">"),Lre);return f[f.length-1]=Kt.extend(f[f.length-1],{func:r,scope:l||this.editor}),Kt.extend(f[0],{desc:this.editor.translate(n),subpatterns:f.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,n){return!n||n.ctrl!==t.ctrlKey||n.meta!==t.metaKey||n.alt!==t.altKey||n.shift!==t.shiftKey?!1:t.keyCode===n.keyCode||t.charCode&&t.charCode===n.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const Fre=()=>{const e={},t={},n={},r={},l={},f={},g={},C={},A=(j,G)=>(X,de)=>{j[X.toLowerCase()]={...de,type:G}},z=(j,G)=>r[j.toLowerCase()]=G;return{addButton:A(e,"button"),addGroupToolbarButton:A(e,"grouptoolbarbutton"),addToggleButton:A(e,"togglebutton"),addMenuButton:A(e,"menubutton"),addSplitButton:A(e,"splitbutton"),addMenuItem:A(t,"menuitem"),addNestedMenuItem:A(t,"nestedmenuitem"),addToggleMenuItem:A(t,"togglemenuitem"),addAutocompleter:A(n,"autocompleter"),addContextMenu:A(l,"contextmenu"),addContextToolbar:A(f,"contexttoolbar"),addContextForm:A(f,"contextform"),addSidebar:A(g,"sidebar"),addView:A(C,"views"),addIcon:z,getAll:()=>({buttons:e,menuItems:t,icons:r,popups:n,contextMenus:l,contextToolbars:f,sidebars:g,views:C})}},zre=()=>{const e=Fre();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},bw=Bs.DOM,sZ=Kt.extend,Hre=Kt.each;class a8{constructor(t,n,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,sZ(this,JW);const l=this;this.id=t,this.hidden=!1;const f=_se(r.defaultOptions,n);this.options=Dre(l,f,n),gC(l);const g=this.options.get;g("deprecation_warnings")&&IF(n,f);const C=g("suffix");C&&(r.suffix=C),this.suffix=r.suffix;const A=g("base_url");A&&r._setBaseUrl(A),this.baseUri=r.baseURI;const z=Sx(l);z&&(ll.ScriptLoader._setReferrerPolicy(z),Bs.DOM.styleSheetLoader._setReferrerPolicy(z));const j=FO(l);Ce(j)&&Bs.DOM.styleSheetLoader._setContentCssCors(j),Wi.languageLoad=g("language_load"),Wi.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new qu(ou(l),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Xb(l),this.hasVisual=kc(l),this.shortcuts=new oZ(this),this.editorCommands=new qW(this),cre(this);const G=g("cache_suffix");G&&(Co.cacheSuffix=G.replace(/^[\?\&]+/,"")),this.ui={registry:zre(),styleSheetLoader:void 0,show:Pt,hide:Pt,setEnabled:Pt,isEnabled:Rn},this.mode=Bre(l),r.dispatch("SetupEditor",{editor:this});const X=sv(l);Ne(X)&&X.call(l,l)}render(){lse(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return hv(this)}translate(t){return wc.translate(t)}getParam(t,n,r){const l=this.options;return l.isRegistered(t)||(Ce(r)?l.register(t,{processor:r,default:n}):l.register(t,{processor:Rn,default:n})),!l.isSet(t)&&!Ze(n)?n:l.get(t)}hasPlugin(t,n){return le(Sd(this),t)?n?R0.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,n,r){this.editorCommands.addCommand(t,n,r)}addQueryStateHandler(t,n,r){this.editorCommands.addQueryStateHandler(t,n,r)}addQueryValueHandler(t,n,r){this.editorCommands.addQueryValueHandler(t,n,r)}addShortcut(t,n,r,l){this.shortcuts.add(t,n,r,l)}execCommand(t,n,r,l){return this.editorCommands.execCommand(t,n,r,l)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(bw.show(t.getContainer()),bw.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(bw.hide(t.getContainer()),bw.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,n){this.dispatch("ProgressState",{state:t,time:n})}load(t={}){const n=this,r=n.getElement();if(n.removed)return"";if(r){const l={...t,load:!0},f=Nh(r)?r.value:r.innerHTML,g=n.setContent(f,l);return l.no_events||n.dispatch("LoadContent",{...l,element:r}),g}else return""}save(t={}){const n=this;let r=n.getElement();if(!r||!n.initialized||n.removed)return"";const l={...t,save:!0,element:r};let f=n.getContent(l);const g={...l,content:f};if(g.no_events||n.dispatch("SaveContent",g),g.format==="raw"&&n.dispatch("RawSaveContent",g),f=g.content,Nh(r))r.value=f;else{(t.is_removing||!n.inline)&&(r.innerHTML=f);const C=bw.getParent(n.id,"form");C&&Hre(C.elements,A=>A.name===n.id?(A.value=f,!1):!0)}return g.element=l.element=r=null,g.set_dirty!==!1&&n.setDirty(!1),f}setContent(t,n){return k4(this,t,n)}getContent(t){return A6(this,t)}insertContent(t,n){n&&(t=sZ({content:t},n)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?k4(this,this.startContent,{format:"raw"}):k4(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const n=!this.isNotDirty;this.isNotDirty=!t,t&&t!==n&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||bw.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=bw.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const n=t.iframeElement;n&&(t.contentWindow=n.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const n=t.getWin();n&&(t.contentDocument=n.document)}return t.contentDocument}getBody(){var t,n;const r=this.getDoc();return(n=(t=this.bodyElement)!==null&&t!==void 0?t:r==null?void 0:r.body)!==null&&n!==void 0?n:null}convertURL(t,n,r){const l=this,f=l.options.get,g=QM(l);if(Ne(g))return g.call(l,t,r,!0,n);if(!f("convert_urls")||r==="link"||te(r)&&r.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const C=new qu(t);return C.protocol!=="http"&&C.protocol!=="https"&&C.protocol!==""?t:f("relative_urls")?l.documentBaseURI.toRelative(t):(t=l.documentBaseURI.toAbsolute(t,f("remove_script_host")),t)}addVisual(t){Sse(this,t)}setEditableRoot(t){cse(this,t)}hasEditableRoot(){return use(this)}remove(){M6(this)}destroy(t){MF(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const US=Bs.DOM,i8=Kt.each;let rZ=!1,l8,du=[];const c8=e=>{const t=e.type;i8(Yv.get(),n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e);break}})},aZ=e=>{if(e!==rZ){const t=Bs.DOM;e?(t.bind(window,"resize",c8),t.bind(window,"scroll",c8)):(t.unbind(window,"resize",c8),t.unbind(window,"scroll",c8)),rZ=e}},iZ=e=>{const t=du;return du=Ct(du,n=>e!==n),Yv.activeEditor===e&&(Yv.activeEditor=du.length>0?du[0]:null),Yv.focusedEditor===e&&(Yv.focusedEditor=null),t.length!==du.length},Vre=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(iZ(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},$re=document.compatMode!=="CSS1Compat",Yv={...j9,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"3.0",releaseDate:"2024-08-07",i18n:wc,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",r=qu.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const l=window.tinymce||window.tinyMCEPreInit;if(l)t=l.base||l.baseURL,n=l.suffix;else{const f=document.getElementsByTagName("script");for(let g=0;g<f.length;g++){const C=f[g].src||"";if(C==="")continue;const A=C.substring(C.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(C)){A.indexOf(".min")!==-1&&(n=".min"),t=C.substring(0,C.lastIndexOf("/"));break}}if(!t&&document.currentScript){const g=document.currentScript.src;g.indexOf(".min")!==-1&&(n=".min"),t=g.substring(0,g.lastIndexOf("/"))}}e.baseURL=new qu(r).toAbsolute(t),e.documentBaseURL=r,e.baseURI=new qu(e.baseURL),e.suffix=n,n7(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&Wo(r,(l,f)=>{Wi.PluginManager.urls[f]=l})},init(e){const t=this;let n;const r=Kt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),l=(j,G)=>j.inline&&G.tagName.toLowerCase()in r,f=j=>{let G=j.id;return G||(G=gs(j,"name").filter(X=>!US.get(X)).getOrThunk(US.uniqueId),j.setAttribute("id",G)),G},g=j=>{const G=e[j];if(G)return G.apply(t,[])},C=j=>Co.browser.isIE()||Co.browser.isEdge()?(q2("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):$re?(q2("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):Te(j.selector)?US.select(j.selector):Ce(j.target)?[j.target]:[];let A=j=>{n=j};const z=()=>{let j=0;const G=[];let X;const de=(we,me,ke)=>{const Fe=new a8(we,me,t);G.push(Fe),Fe.on("init",()=>{++j===X.length&&A(G)}),Fe.targetElm=Fe.targetElm||ke,Fe.render()};US.unbind(window,"ready",z),g("onpageload"),X=za(C(e)),Kt.each(X,we=>{Vre(t.get(we.id))}),X=Kt.grep(X,we=>!t.get(we.id)),X.length===0?A([]):i8(X,we=>{l(e,we)?q2("Could not initialize inline editor on invalid inline target element",we):de(f(we),e,we)})};return US.bind(window,"ready",z),new Promise(j=>{n?j(n):A=G=>{j(G)}})},get(e){return arguments.length===0?du.slice(0):Te(e)?wn(du,t=>t.id===e).getOr(null):D(e)&&du[e]?du[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(n===null&&du.push(e),aZ(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),l8||(l8=r=>{const l=t.dispatch("BeforeUnload");if(l.returnValue)return r.preventDefault(),r.returnValue=l.returnValue,l.returnValue},window.addEventListener("beforeunload",l8))),e},createEditor(e,t){return this.add(new a8(e,t,this))},remove(e){const t=this;let n;if(!e){for(let r=du.length-1;r>=0;r--)t.remove(du[r]);return}if(Te(e)){i8(US.select(e),r=>{n=t.get(r.id),n&&t.remove(n)});return}return n=e,Ge(t.get(n.id))?null:(iZ(n)&&t.dispatch("RemoveEditor",{editor:n}),du.length===0&&window.removeEventListener("beforeunload",l8),n.remove(),aZ(du.length>0),n)},execCommand(e,t,n){var r;const l=this,f=te(n)?(r=n.id)!==null&&r!==void 0?r:n.index:n;switch(e){case"mceAddEditor":{if(!l.get(f)){const g=n.options;new a8(f,g,l).render()}return!0}case"mceRemoveEditor":{const g=l.get(f);return g&&g.remove(),!0}case"mceToggleEditor":{const g=l.get(f);return g?(g.isHidden()?g.show():g.hide(),!0):(l.execCommand("mceAddEditor",!1,n),!0)}}return l.activeEditor?l.activeEditor.execCommand(e,t,n):!1},triggerSave:()=>{i8(du,e=>{e.save()})},addI18n:(e,t)=>{wc.add(e,t)},translate:e=>wc.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new qu(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new qu(this.baseURL)}};Yv.setup();const Ure=(()=>{const e=pa(),t=f=>({items:f,types:Vt(f),getType:g=>gs(f,g).getOrUndefined()}),n=f=>{e.set(f)},r=()=>e.get().getOrUndefined(),l=e.clear;return{FakeClipboardItem:t,write:n,read:r,clear:l}})(),lZ=Math.min,WS=Math.max,u8=Math.round,cZ=(e,t,n)=>{let r=t.x,l=t.y;const f=e.w,g=e.h,C=t.w,A=t.h,z=(n||"").split("");return z[0]==="b"&&(l+=A),z[1]==="r"&&(r+=C),z[0]==="c"&&(l+=u8(A/2)),z[1]==="c"&&(r+=u8(C/2)),z[3]==="b"&&(l-=g),z[4]==="r"&&(r-=f),z[3]==="c"&&(l-=u8(g/2)),z[4]==="c"&&(r-=u8(f/2)),ZS(r,l,f,g)},Wre=(e,t,n,r)=>{for(let l=0;l<r.length;l++){const f=cZ(e,t,r[l]);if(f.x>=n.x&&f.x+f.w<=n.w+n.x&&f.y>=n.y&&f.y+f.h<=n.h+n.y)return r[l]}return null},Zre=(e,t,n)=>ZS(e.x-t,e.y-n,e.w+t*2,e.h+n*2),jre=(e,t)=>{const n=WS(e.x,t.x),r=WS(e.y,t.y),l=lZ(e.x+e.w,t.x+t.w),f=lZ(e.y+e.h,t.y+t.h);return l-n<0||f-r<0?null:ZS(n,r,l-n,f-r)},Kre=(e,t,n)=>{let r=e.x,l=e.y,f=e.x+e.w,g=e.y+e.h;const C=t.x+t.w,A=t.y+t.h,z=WS(0,t.x-r),j=WS(0,t.y-l),G=WS(0,f-C),X=WS(0,g-A);return r+=z,l+=j,n&&(f+=z,g+=j,r-=G,l-=X),f-=G,g-=X,ZS(r,l,f-r,g-l)},ZS=(e,t,n,r)=>({x:e,y:t,w:n,h:r}),qre={inflate:Zre,relativePosition:cZ,findBestRelativePosition:Wre,intersect:jre,clamp:Kre,create:ZS,fromClientRect:e=>ZS(e.left,e.top,e.width,e.height)},Gre=(e,t,n=1e3)=>{let r=!1,l=null;const f=z=>(...j)=>{r||(r=!0,l!==null&&(clearTimeout(l),l=null),z.apply(null,j))},g=f(e),C=f(t);return{start:(...z)=>{!r&&l===null&&(l=setTimeout(()=>C.apply(null,z),n))},resolve:g,reject:C}},Yre=(()=>{const e={},t={},n={};return{load:(A,z)=>{const j=`Script at URL "${z}" failed to load`,G=`Script at URL "${z}" did not call \`tinymce.Resource.add('${A}', data)\` within 1 second`;if(e[A]!==void 0)return e[A];{const X=new Promise((de,we)=>{const me=Gre(de,we);t[A]=me.resolve,ll.ScriptLoader.loadScript(z).then(()=>me.start(G),()=>me.reject(j))});return e[A]=X,X}},add:(A,z)=>{t[A]!==void 0&&(t[A](z),delete t[A]),e[A]=Promise.resolve(z),n[A]=z},has:A=>A in n,get:A=>n[A],unload:A=>{delete e[A],delete n[A]}}})(),Xre=()=>(()=>{let e={},t=[];const n={getItem:r=>{const l=e[r];return l||null},setItem:(r,l)=>{t.push(r),e[r]=String(l)},key:r=>t[r],removeItem:r=>{t=t.filter(l=>l===r),delete e[r]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})();let zT;try{const e="__storage_test__";zT=window.localStorage,zT.setItem(e,e),zT.removeItem(e)}catch{zT=Xre()}var Jre=zT;const Qre={geom:{Rect:qre},util:{Delay:Oc,Tools:Kt,VK:rn,URI:qu,EventDispatcher:Z9,Observable:j9,I18n:wc,LocalStorage:Jre,ImageUploader:KF},dom:{EventUtils:df,TreeWalker:qa,TextSeeker:vd,DOMUtils:Bs,ScriptLoader:ll,RangeUtils:ip,Serializer:E6,StyleSheetLoader:hm,ControlSelection:ks,BookmarkManager:Ns,Selection:_4,Event:df.Event},html:{Styles:Jy,Entities:Rg,Node:mi,Schema:xc,DomParser:Nv,Writer:JE,Serializer:nh},Env:Co,AddOnManager:Wi,Annotator:V5,Formatter:X2,UndoManager:rI,EditorCommands:qW,WindowManager:$6,NotificationManager:N4,EditorObservable:JW,Shortcuts:oZ,Editor:a8,FocusManager:$u,EditorManager:Yv,DOM:Bs.DOM,ScriptLoader:ll.ScriptLoader,PluginManager:R0,ThemeManager:Ep,ModelManager:kp,IconManager:j2,Resource:Yre,FakeClipboard:Ure,trim:Kt.trim,isArray:Kt.isArray,is:Kt.is,toArray:Kt.toArray,makeMap:Kt.makeMap,each:Kt.each,map:Kt.map,grep:Kt.grep,inArray:Kt.inArray,extend:Kt.extend,walk:Kt.walk,resolve:Kt.resolve,explode:Kt.explode,_addCacheSuffix:Kt._addCacheSuffix},uZ=Kt.extend(Yv,Qre),eae=e=>{try{s.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(uZ),eae(uZ)})()})(sX);var Jhe=sX.exports;const Qhe=AM(Jhe);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const s=Object.getPrototypeOf,i=(o,a,c)=>{var d;return!!c(o,a.prototype)||((d=o.constructor)===null||d===void 0?void 0:d.name)===a.name},u=o=>a=>(c=>{const d=typeof c;return c===null?"null":d==="object"&&Array.isArray(c)?"array":d==="object"&&i(c,String,(p,v)=>v.isPrototypeOf(p))?"string":d})(a)===o,m=o=>a=>typeof a===o,b=o=>a=>o===a,h=u("string"),x=u("object"),S=o=>((a,c)=>x(a)&&i(a,c,(d,p)=>s(d)===p))(o,Object),B=u("array"),N=b(null),R=m("boolean"),F=b(void 0),W=o=>o==null,$=o=>!W(o),K=m("function"),ee=m("number"),fe=(o,a)=>{if(B(o)){for(let c=0,d=o.length;c<d;++c)if(!a(o[c]))return!1;return!0}return!1},he=()=>{},Ue=o=>()=>o(),Te=(o,a)=>(...c)=>o(a.apply(null,c)),te=o=>()=>o,Ae=o=>o,ne=(o,a)=>o===a;function Ge(o,...a){return(...c)=>{const d=a.concat(c);return o.apply(null,d)}}const $e=o=>a=>!o(a),Ze=o=>()=>{throw new Error(o)},nt=o=>o(),Ce=te(!1),Ne=te(!0);class D{constructor(a,c){this.tag=a,this.value=c}static some(a){return new D(!0,a)}static none(){return D.singletonNone}fold(a,c){return this.tag?c(this.value):a()}isSome(){return this.tag}isNone(){return!this.tag}map(a){return this.tag?D.some(a(this.value)):D.none()}bind(a){return this.tag?a(this.value):D.none()}exists(a){return this.tag&&a(this.value)}forall(a){return!this.tag||a(this.value)}filter(a){return!this.tag||a(this.value)?this:D.none()}getOr(a){return this.tag?this.value:a}or(a){return this.tag?this:a}getOrThunk(a){return this.tag?this.value:a()}orThunk(a){return this.tag?this:a()}getOrDie(a){if(this.tag)return this.value;throw new Error(a??"Called getOrDie on None")}static from(a){return $(a)?D.some(a):D.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(a){this.tag&&a(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}D.singletonNone=new D(!1);const yt=Array.prototype.slice,Pt=Array.prototype.indexOf,cn=Array.prototype.push,hn=(o,a)=>Pt.call(o,a),Qe=(o,a)=>hn(o,a)>-1,On=(o,a)=>{for(let c=0,d=o.length;c<d;c++)if(a(o[c],c))return!0;return!1},as=(o,a)=>{const c=[];for(let d=0;d<o;d++)c.push(a(d));return c},pt=(o,a)=>{const c=[];for(let d=0;d<o.length;d+=a){const p=yt.call(o,d,d+a);c.push(p)}return c},bt=(o,a)=>{const c=o.length,d=new Array(c);for(let p=0;p<c;p++){const v=o[p];d[p]=a(v,p)}return d},Zt=(o,a)=>{for(let c=0,d=o.length;c<d;c++)a(o[c],c)},Us=(o,a)=>{const c=[],d=[];for(let p=0,v=o.length;p<v;p++){const w=o[p];(a(w,p)?c:d).push(w)}return{pass:c,fail:d}},ho=(o,a)=>{const c=[];for(let d=0,p=o.length;d<p;d++){const v=o[d];a(v,d)&&c.push(v)}return c},xn=(o,a,c)=>(((d,p)=>{for(let v=d.length-1;v>=0;v--)p(d[v],v)})(o,(d,p)=>{c=a(c,d,p)}),c),Rn=(o,a,c)=>(Zt(o,(d,p)=>{c=a(c,d,p)}),c),J=(o,a)=>((c,d,p)=>{for(let v=0,w=c.length;v<w;v++){const k=c[v];if(d(k,v))return D.some(k);if(p(k,v))break}return D.none()})(o,a,Ce),ls=(o,a)=>{for(let c=0,d=o.length;c<d;c++)if(a(o[c],c))return D.some(c);return D.none()},ys=o=>{const a=[];for(let c=0,d=o.length;c<d;++c){if(!B(o[c]))throw new Error("Arr.flatten item "+c+" was not an array, input: "+o);cn.apply(a,o[c])}return a},qo=(o,a)=>ys(bt(o,a)),si=(o,a)=>{for(let c=0,d=o.length;c<d;++c)if(a(o[c],c)!==!0)return!1;return!0},Ke=o=>{const a=yt.call(o,0);return a.reverse(),a},le=(o,a)=>ho(o,c=>!Qe(a,c)),xe=(o,a)=>{const c={};for(let d=0,p=o.length;d<p;d++){const v=o[d];c[String(v)]=a(v,d)}return c},Me=o=>[o],pe=(o,a)=>{const c=yt.call(o,0);return c.sort(a),c},St=(o,a)=>a>=0&&a<o.length?D.some(o[a]):D.none(),$t=o=>St(o,0),Ct=o=>St(o,o.length-1),zt=K(Array.from)?Array.from:o=>yt.call(o),It=(o,a)=>{for(let c=0;c<o.length;c++){const d=a(o[c],c);if(d.isSome())return d}return D.none()},sn=Object.keys,wn=Object.hasOwnProperty,Cn=(o,a)=>{const c=sn(o);for(let d=0,p=c.length;d<p;d++){const v=c[d];a(o[v],v)}},En=(o,a)=>ao(o,(c,d)=>({k:d,v:a(c,d)})),ao=(o,a)=>{const c={};return Cn(o,(d,p)=>{const v=a(d,p);c[v.k]=v.v}),c},vo=o=>(a,c)=>{o[c]=a},To=(o,a,c,d)=>{Cn(o,(p,v)=>{(a(p,v)?c:d)(p,v)})},Do=(o,a)=>{const c={};return To(o,a,vo(c),he),c},Ar=(o,a)=>{const c=[];return Cn(o,(d,p)=>{c.push(a(d,p))}),c},ms=(o,a)=>{const c=sn(o);for(let d=0,p=c.length;d<p;d++){const v=c[d],w=o[v];if(a(w,v,o))return D.some(w)}return D.none()},yi=o=>Ar(o,Ae),un=(o,a)=>po(o,a)?D.from(o[a]):D.none(),po=(o,a)=>wn.call(o,a),io=(o,a)=>po(o,a)&&o[a]!==void 0&&o[a]!==null,Ws=(o,a,c=ne)=>o.exists(d=>c(d,a)),za=o=>{const a=[],c=d=>{a.push(d)};for(let d=0;d<o.length;d++)o[d].each(c);return a},Vt=(o,a,c)=>o.isSome()&&a.isSome()?D.some(c(o.getOrDie(),a.getOrDie())):D.none(),Qr=(o,a)=>o!=null?D.some(a(o)):D.none(),Wo=(o,a)=>o?D.some(a):D.none(),Tl=(o,a,c)=>a===""||o.length>=a.length&&o.substr(c,c+a.length)===a,Os=(o,a)=>Yf(o,a)?((c,d)=>c.substring(d))(o,a.length):o,Hr=(o,a,c=0,d)=>{const p=o.indexOf(a,c);return p!==-1&&(!!F(d)||p+a.length<=d)},Yf=(o,a)=>Tl(o,a,0),pu=(o,a)=>Tl(o,a,o.length-a.length),ic=(Kd=/^\s+|\s+$/g,o=>o.replace(Kd,"")),el=o=>o.length>0,bu=o=>!el(o),gs=o=>o.style!==void 0&&K(o.style.getPropertyValue),Yn=o=>{if(o==null)throw new Error("Node cannot be null or undefined");return{dom:o}},Ol=(o,a)=>{const c=document.createElement("div");if(c.innerHTML=o,!c.hasChildNodes()||c.childNodes.length>1){const d="HTML does not have a single root node";throw console.error(d,o),new Error(d)}return Yn(c.childNodes[0])},fa=(o,a)=>{const c=document.createElement(o);return Yn(c)},vu=(o,a)=>{const c=document.createTextNode(o);return Yn(c)},en=Yn,yu=typeof window<"u"?window:Function("return this;")(),Xf=(o,a)=>((c,d)=>{let p=d??yu;for(let v=0;v<c.length&&p!=null;++v)p=p[c[v]];return p})(o.split("."),a),nr=Object.getPrototypeOf,Jf=o=>{const a=Xf("ownerDocument.defaultView",o);return x(o)&&((c=>((d,p)=>{const v=((w,k)=>Xf(w,k))(d,p);if(v==null)throw new Error(d+" not available on this browser");return v})("HTMLElement",c))(a).prototype.isPrototypeOf(o)||/^HTML\w*Element$/.test(nr(o).constructor.name))},Mi=o=>o.dom.nodeName.toLowerCase(),bl=o=>a=>(c=>c.dom.nodeType)(a)===o,tl=o=>qs(o)&&Jf(o.dom),qs=bl(1),ri=bl(3),vl=bl(9),Qf=bl(11),Mc=o=>a=>qs(a)&&Mi(a)===o,Pc=(o,a)=>{const c=o.dom;if(c.nodeType!==1)return!1;{const d=c;if(d.matches!==void 0)return d.matches(a);if(d.msMatchesSelector!==void 0)return d.msMatchesSelector(a);if(d.webkitMatchesSelector!==void 0)return d.webkitMatchesSelector(a);if(d.mozMatchesSelector!==void 0)return d.mozMatchesSelector(a);throw new Error("Browser lacks native selectors")}},$d=o=>o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11||o.childElementCount===0,nd=(o,a)=>{const c=a===void 0?document:a.dom;return $d(c)?D.none():D.from(c.querySelector(o)).map(en)},Zo=(o,a)=>o.dom===a.dom,wr=(o,a)=>{const c=o.dom,d=a.dom;return c!==d&&c.contains(d)},jr=o=>en(o.dom.ownerDocument),em=o=>vl(o)?o:jr(o),Pi=o=>en(em(o).dom.documentElement),Lc=o=>en(em(o).dom.defaultView),ai=o=>D.from(o.dom.parentNode).map(en),ii=o=>D.from(o.dom.parentElement).map(en),Fc=o=>D.from(o.dom.offsetParent).map(en),xs=o=>bt(o.dom.childNodes,en),Gs=(o,a)=>{const c=o.dom.childNodes;return D.from(c[a]).map(en)},Se=o=>Gs(o,0),Ye=(o,a)=>({element:o,offset:a}),Re=(o,a)=>{const c=xs(o);return c.length>0&&a<c.length?Ye(c[a],0):Ye(o,a)},lt=o=>Qf(o)&&$(o.dom.host),st=o=>en(o.dom.getRootNode()),je=o=>lt(o)?o:en(em(o).dom.body),Lt=o=>{const a=st(o);return lt(a)?D.some(a):D.none()},Xt=o=>en(o.dom.host),on=o=>{const a=ri(o)?o.dom.parentNode:o.dom;if(a==null||a.ownerDocument===null)return!1;const c=a.ownerDocument;return Lt(en(a)).fold(()=>c.body.contains(a),(d=on,p=Xt,v=>d(p(v))));var d,p},fn=()=>tn(en(document)),tn=o=>{const a=o.dom.body;if(a==null)throw new Error("Body is not available yet");return en(a)},so=(o,a,c)=>{if(!(h(c)||R(c)||ee(c)))throw console.error("Invalid call to Attribute.set. Key ",a,":: Value ",c,":: Element ",o),new Error("Attribute value was not simple");o.setAttribute(a,c+"")},Qt=(o,a,c)=>{so(o.dom,a,c)},cs=(o,a)=>{const c=o.dom;Cn(a,(d,p)=>{so(c,p,d)})},wo=(o,a)=>{const c=o.dom.getAttribute(a);return c===null?void 0:c},Io=(o,a)=>D.from(wo(o,a)),mr=(o,a)=>{const c=o.dom;return!(!c||!c.hasAttribute)&&c.hasAttribute(a)},fo=(o,a)=>{o.dom.removeAttribute(a)},yl=(o,a,c)=>{if(!h(c))throw console.error("Invalid call to CSS.set. Property ",a,":: Value ",c,":: Element ",o),new Error("CSS value must be a string: "+c);gs(o)&&o.style.setProperty(a,c)},Ha=(o,a)=>{gs(o)&&o.style.removeProperty(a)},Qn=(o,a,c)=>{const d=o.dom;yl(d,a,c)},Li=(o,a)=>{const c=o.dom;Cn(a,(d,p)=>{yl(c,p,d)})},nl=(o,a)=>{const c=o.dom;Cn(a,(d,p)=>{d.fold(()=>{Ha(c,p)},v=>{yl(c,p,v)})})},ar=(o,a)=>{const c=o.dom,d=window.getComputedStyle(c).getPropertyValue(a);return d!==""||on(o)?d:od(c,a)},od=(o,a)=>gs(o)?o.style.getPropertyValue(a):"",Tr=(o,a)=>{const c=o.dom,d=od(c,a);return D.from(d).filter(p=>p.length>0)},Ud=o=>{const a={},c=o.dom;if(gs(c))for(let d=0;d<c.style.length;d++){const p=c.style.item(d);a[p]=c.style[p]}return a},xl=(o,a,c)=>{const d=fa(o);return Qn(d,a,c),Tr(d,a).isSome()},os=(o,a)=>{const c=o.dom;Ha(c,a),Ws(Io(o,"style").map(ic),"")&&fo(o,"style")},xu=o=>o.dom.offsetWidth,tm=(o,a)=>{const c=p=>{const v=a(p);if(v<=0||v===null){const w=ar(p,o);return parseFloat(w)||0}return v},d=(p,v)=>Rn(v,(w,k)=>{const E=ar(p,k),O=E===void 0?0:parseInt(E,10);return isNaN(O)?w:w+O},0);return{set:(p,v)=>{if(!ee(v)&&!v.match(/^[0-9]+$/))throw new Error(o+".set accepts only positive integer values. Value was "+v);const w=p.dom;gs(w)&&(w.style[o]=v+"px")},get:c,getOuter:c,aggregate:d,max:(p,v,w)=>{const k=d(p,w);return v>k?v-k:0}}},_h=tm("height",o=>{const a=o.dom;return on(o)?a.getBoundingClientRect().height:a.offsetHeight}),gr=o=>_h.get(o),lc=o=>_h.getOuter(o),ol=(o,a)=>({left:o,top:a,translate:(c,d)=>ol(o+c,a+d)}),Ls=ol,nm=(o,a)=>o!==void 0?o:a!==void 0?a:0,wl=o=>{const a=o.dom.ownerDocument,c=a.body,d=a.defaultView,p=a.documentElement;if(c===o.dom)return Ls(c.offsetLeft,c.offsetTop);const v=nm(d==null?void 0:d.pageYOffset,p.scrollTop),w=nm(d==null?void 0:d.pageXOffset,p.scrollLeft),k=nm(p.clientTop,c.clientTop),E=nm(p.clientLeft,c.clientLeft);return Va(o).translate(w-E,v-k)},Va=o=>{const a=o.dom,c=a.ownerDocument.body;return c===a?Ls(c.offsetLeft,c.offsetTop):on(o)?(d=>{const p=d.getBoundingClientRect();return Ls(p.left,p.top)})(a):Ls(0,0)},pg=tm("width",o=>o.dom.offsetWidth),ma=o=>pg.get(o),Fi=o=>pg.getOuter(o),$a=o=>{let a,c=!1;return(...d)=>(c||(c=!0,a=o.apply(null,d)),a)},Cl=()=>Sh(0,0),Sh=(o,a)=>({major:o,minor:a}),Co={nu:Sh,detect:(o,a)=>{const c=String(a).toLowerCase();return o.length===0?Cl():((d,p)=>{const v=((k,E)=>{for(let O=0;O<k.length;O++){const L=k[O];if(L.test(E))return L}})(d,p);if(!v)return{major:0,minor:0};const w=k=>Number(p.replace(v,"$"+k));return Sh(w(1),w(2))})(o,c)},unknown:Cl},zc=(o,a)=>{const c=String(a).toLowerCase();return J(o,d=>d.search(c))},sd=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,wu=o=>a=>Hr(a,o),Qp=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:o=>Hr(o,"edge/")&&Hr(o,"chrome")&&Hr(o,"safari")&&Hr(o,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,sd],search:o=>Hr(o,"chrome")&&!Hr(o,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:o=>Hr(o,"msie")||Hr(o,"trident")},{name:"Opera",versionRegexes:[sd,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:wu("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:wu("firefox")},{name:"Safari",versionRegexes:[sd,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:o=>(Hr(o,"safari")||Hr(o,"mobile/"))&&Hr(o,"applewebkit")}],Ay=[{name:"Windows",search:wu("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:o=>Hr(o,"iphone")||Hr(o,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:wu("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:wu("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:wu("linux"),versionRegexes:[]},{name:"Solaris",search:wu("sunos"),versionRegexes:[]},{name:"FreeBSD",search:wu("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:wu("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],r1={browsers:te(Qp),oses:te(Ay)},a1="Edge",Uw="Chromium",kh="Opera",i1="Firefox",Kt="Safari",Wd=o=>{const a=o.current,c=o.version,d=p=>()=>a===p;return{current:a,version:c,isEdge:d(a1),isChromium:d(Uw),isIE:d("IE"),isOpera:d(kh),isFirefox:d(i1),isSafari:d(Kt)}},Zd=()=>Wd({current:void 0,version:Co.unknown()}),l1=Wd,Ua="Windows",jd="Android",bg="Linux",Ty="macOS",Oy="Solaris",eb="FreeBSD",Dy="ChromeOS",c1=o=>{const a=o.current,c=o.version,d=p=>()=>a===p;return{current:a,version:c,isWindows:d(Ua),isiOS:d("iOS"),isAndroid:d(jd),isMacOS:d(Ty),isLinux:d(bg),isSolaris:d(Oy),isFreeBSD:d(eb),isChromeOS:d(Dy)}},Ry=()=>c1({current:void 0,version:Co.unknown()}),vg=c1,u1=o=>window.matchMedia(o).matches;var Kd;let qd=$a(()=>((o,a,c)=>{const d=r1.browsers(),p=r1.oses(),v=a.bind(E=>((O,L)=>It(L.brands,M=>{const H=M.brand.toLowerCase();return J(O,q=>{var Y;return H===((Y=q.brand)===null||Y===void 0?void 0:Y.toLowerCase())}).map(q=>({current:q.name,version:Co.nu(parseInt(M.version,10),0)}))}))(d,E)).orThunk(()=>((E,O)=>zc(E,O).map(L=>{const M=Co.detect(L.versionRegexes,O);return{current:L.name,version:M}}))(d,o)).fold(Zd,l1),w=((E,O)=>zc(E,O).map(L=>{const M=Co.detect(L.versionRegexes,O);return{current:L.name,version:M}}))(p,o).fold(Ry,vg),k=((E,O,L,M)=>{const H=E.isiOS()&&/ipad/i.test(L)===!0,q=E.isiOS()&&!H,Y=E.isiOS()||E.isAndroid(),re=Y||M("(pointer:coarse)"),ce=H||!q&&Y&&M("(min-device-width:768px)"),ve=q||Y&&!ce,ie=O.isSafari()&&E.isiOS()&&/safari/i.test(L)===!1,ae=!ve&&!ce&&!ie;return{isiPad:te(H),isiPhone:te(q),isTablet:te(ce),isPhone:te(ve),isTouch:te(re),isAndroid:E.isAndroid,isiOS:E.isiOS,isWebView:te(ie),isDesktop:te(ae)}})(w,v,o,c);return{browser:v,os:w,deviceType:k}})(window.navigator.userAgent,D.from(window.navigator.userAgentData),u1));const Wa=()=>qd(),sl=o=>{const a=en((v=>{if($(v.target)){const w=en(v.target);if(qs(w)&&(k=>$(k.dom.shadowRoot))(w)&&v.composed&&v.composedPath){const k=v.composedPath();if(k)return $t(k)}}return D.from(v.target)})(o).getOr(o.target)),c=()=>o.stopPropagation(),d=()=>o.preventDefault(),p=Te(d,c);return((v,w,k,E,O,L,M)=>({target:v,x:w,y:k,stop:E,prevent:O,kill:L,raw:M}))(a,o.clientX,o.clientY,c,d,p,o)},yg=(o,a,c,d,p)=>{const v=((w,k)=>E=>{w(E)&&k(sl(E))})(c,d);return o.dom.addEventListener(a,v,p),{unbind:Ge(Po,o,a,v,p)}},Po=(o,a,c,d)=>{o.dom.removeEventListener(a,c,d)},rd=(o,a)=>{ai(o).each(c=>{c.dom.insertBefore(a.dom,o.dom)})},xg=(o,a)=>{(d=>D.from(d.dom.nextSibling).map(en))(o).fold(()=>{ai(o).each(d=>{xi(d,a)})},d=>{rd(d,a)})},wg=(o,a)=>{Se(o).fold(()=>{xi(o,a)},c=>{o.dom.insertBefore(a.dom,c.dom)})},xi=(o,a)=>{o.dom.appendChild(a.dom)},Or=(o,a)=>{Zt(a,c=>{xi(o,c)})},Ys=o=>{o.dom.textContent="",Zt(xs(o),a=>{ka(a)})},ka=o=>{const a=o.dom;a.parentNode!==null&&a.parentNode.removeChild(a)},Fs=o=>{const a=o!==void 0?o.dom:document,c=a.body.scrollLeft||a.documentElement.scrollLeft,d=a.body.scrollTop||a.documentElement.scrollTop;return Ls(c,d)},Gd=(o,a,c)=>{const d=(c!==void 0?c.dom:document).defaultView;d&&d.scrollTo(o,a)},om=(o,a,c,d)=>({x:o,y:a,width:c,height:d,right:o+c,bottom:a+d}),ra=o=>{const a=o===void 0?window:o,c=a.document,d=Fs(en(c));return(p=>{const v=p===void 0?window:p;return Wa().browser.isFirefox()?D.none():D.from(v.visualViewport)})(a).fold(()=>{const p=a.document.documentElement,v=p.clientWidth,w=p.clientHeight;return om(d.left,d.top,v,w)},p=>om(Math.max(p.pageLeft,d.left),Math.max(p.pageTop,d.top),p.width,p.height))},wi=()=>en(document),li=(o,a)=>o.view(a).fold(te([]),c=>{const d=o.owner(c),p=li(o,d);return[c].concat(p)});var Hc=Object.freeze({__proto__:null,view:o=>{var a;return(o.dom===document?D.none():D.from((a=o.dom.defaultView)===null||a===void 0?void 0:a.frameElement)).map(en)},owner:o=>jr(o)});const ad=o=>{const a=wi(),c=Fs(a);return((p,v)=>{const w=v.owner(p),k=li(v,w);return D.some(k)})(o,Hc).fold(Ge(wl,o),p=>{const v=Va(o),w=xn(p,(k,E)=>{const O=Va(E);return{left:k.left+O.left,top:k.top+O.top}},{left:0,top:0});return Ls(w.left+v.left+c.left,w.top+v.top+c.top)})},bo=(o,a,c,d)=>({x:o,y:a,width:c,height:d,right:o+c,bottom:a+d}),Kr=o=>{const a=wl(o),c=Fi(o),d=lc(o);return bo(a.left,a.top,c,d)},rl=o=>{const a=ad(o),c=Fi(o),d=lc(o);return bo(a.left,a.top,c,d)},id=(o,a)=>{const c=Math.max(o.x,a.x),d=Math.max(o.y,a.y),p=Math.min(o.right,a.right),v=Math.min(o.bottom,a.bottom);return bo(c,d,p-c,v-d)},Ea=()=>ra(window),Dn=o=>{let a=o;return{get:()=>a,set:c=>{a=c}}},cc=o=>{const a=Dn(D.none()),c=()=>a.get().each(o);return{clear:()=>{c(),a.set(D.none())},isSet:()=>a.get().isSome(),get:()=>a.get(),set:d=>{c(),a.set(D.some(d))}}},uc=()=>cc(o=>o.unbind()),us=()=>{const o=cc(he);return{...o,on:a=>o.get().each(a)}};var Eh=tinymce.util.Tools.resolve("tinymce.ThemeManager");const tb=o=>{const a=v=>v(o),c=te(o),d=()=>p,p={tag:!0,inner:o,fold:(v,w)=>w(o),isValue:Ne,isError:Ce,map:v=>_o.value(v(o)),mapError:d,bind:a,exists:a,forall:a,getOr:c,or:d,getOrThunk:c,orThunk:d,getOrDie:c,each:v=>{v(o)},toOptional:()=>D.some(o)};return p},ld=o=>{const a=()=>c,c={tag:!1,inner:o,fold:(d,p)=>d(o),isValue:Ce,isError:Ne,map:a,mapError:d=>_o.error(d(o)),bind:a,exists:Ce,forall:Ne,getOr:Ae,or:Ae,getOrThunk:nt,orThunk:nt,getOrDie:Ze(String(o)),each:he,toOptional:D.none};return c},_o={value:tb,error:ld,fromOption:(o,a)=>o.fold(()=>ld(a),tb)};var Ci;(function(o){o[o.Error=0]="Error",o[o.Value=1]="Value"})(Ci||(Ci={}));const Ah=(o,a,c)=>o.stype===Ci.Error?a(o.serror):c(o.svalue),cd=o=>({stype:Ci.Value,svalue:o}),nb=o=>({stype:Ci.Error,serror:o}),Vc=cd,zi=nb,$c=Ah,Yd=(o,a,c,d)=>({tag:"field",key:o,newKey:a,presence:c,prop:d}),Be=(o,a,c)=>{switch(o.tag){case"field":return a(o.key,o.newKey,o.presence,o.prop);case"custom":return c(o.newKey,o.instantiator)}},sm=o=>(...a)=>{if(a.length===0)throw new Error("Can't merge zero objects");const c={};for(let d=0;d<a.length;d++){const p=a[d];for(const v in p)po(p,v)&&(c[v]=o(c[v],p[v]))}return c},ws=sm((o,a)=>S(o)&&S(a)?ws(o,a):a),ob=sm((o,a)=>a),Cg=o=>({tag:"defaultedThunk",process:o}),Uc=o=>Cg(te(o)),Lo=o=>({tag:"mergeWithThunk",process:o}),Za=o=>{const a=(d=>{const p=[],v=[];return Zt(d,w=>{Ah(w,k=>v.push(k),k=>p.push(k))}),{values:p,errors:v}})(o);return a.errors.length>0?(c=a.errors,Te(zi,ys)(c)):Vc(a.values);var c},Cu=o=>x(o)&&sn(o).length>100?" removed due to size":JSON.stringify(o,null,2),Vl=(o,a)=>zi([{path:o,getErrorInfo:a}]),_u=o=>({extract:(a,c)=>((d,p)=>d.stype===Ci.Error?p(d.serror):d)(o(c),d=>((p,v)=>Vl(p,te(v)))(a,d)),toString:te("val")}),Su=_u(Vc),ja=(o,a,c,d)=>d(un(o,a).getOrThunk(()=>c(o))),Xd=(o,a,c,d,p)=>{const v=k=>p.extract(a.concat([d]),k),w=k=>k.fold(()=>Vc(D.none()),E=>((O,L)=>O.stype===Ci.Value?{stype:Ci.Value,svalue:L(O.svalue)}:O)(p.extract(a.concat([d]),E),D.some));switch(o.tag){case"required":return((k,E,O,L)=>un(E,O).fold(()=>((M,H,q)=>Vl(M,()=>'Could not find valid *required* value for "'+H+'" in '+Cu(q)))(k,O,E),L))(a,c,d,v);case"defaultedThunk":return ja(c,d,o.process,v);case"option":return((k,E,O)=>O(un(k,E)))(c,d,w);case"defaultedOptionThunk":return((k,E,O,L)=>L(un(k,E).map(M=>M===!0?O(k):M)))(c,d,o.process,w);case"mergeWithThunk":return ja(c,d,te({}),k=>{const E=ws(o.process(c),k);return v(E)})}},rm=o=>({extract:(a,c)=>o().extract(a,c),toString:()=>o().toString()}),sb=o=>sn(Do(o,$)),aa=o=>{const a=Pn(o),c=xn(o,(d,p)=>Be(p,v=>ws(d,{[v]:!0}),te(d)),{});return{extract:(d,p)=>{const v=R(p)?[]:sb(p),w=ho(v,k=>!io(c,k));return w.length===0?a.extract(d,p):((k,E)=>Vl(k,()=>"There are unsupported fields: ["+E.join(", ")+"] specified"))(d,w)},toString:a.toString}},Pn=o=>({extract:(a,c)=>((d,p,v)=>{const w={},k=[];for(const E of v)Be(E,(O,L,M,H)=>{const q=Xd(M,d,p,O,H);$c(q,Y=>{k.push(...Y)},Y=>{w[L]=Y})},(O,L)=>{w[O]=L(p)});return k.length>0?zi(k):Vc(w)})(a,c,o),toString:()=>`obj{
`+bt(o,c=>Be(c,(d,p,v,w)=>d+" -> "+w.toString(),(d,p)=>"state("+d+")")).join(`
`)+"}"}),ku=o=>({extract:(a,c)=>{const d=bt(c,(p,v)=>o.extract(a.concat(["["+v+"]"]),p));return Za(d)},toString:()=>"array("+o.toString()+")"}),am=(o,a)=>{const c=a!==void 0?a:Ae;return{extract:(d,p)=>{const v=[];for(const w of o){const k=w.extract(d,p);if(k.stype===Ci.Value)return{stype:Ci.Value,svalue:c(k.svalue)};v.push(k)}return Za(v)},toString:()=>"oneOf("+bt(o,d=>d.toString()).join(", ")+")"}},Ka=(o,a)=>({extract:(c,d)=>{const p=sn(d),v=((w,k)=>ku(_u(o)).extract(w,k))(c,p);return((w,k)=>w.stype===Ci.Value?k(w.svalue):w)(v,w=>{const k=bt(w,E=>Yd(E,E,{tag:"required",process:{}},a));return Pn(k).extract(c,d)})},toString:()=>"setOf("+a.toString()+")"}),Eu=Te(ku,Pn),_l=te(Su),Au=(o,a)=>_u(c=>{const d=typeof c;return o(c)?Vc(c):zi(`Expected type: ${a} but got: ${d}`)}),ud=Au(ee,"number"),ia=Au(h,"string"),$l=Au(R,"boolean"),Wc=Au(K,"function"),im=o=>{if(Object(o)!==o)return!0;switch({}.toString.call(o).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(o).every(a=>im(o[a]));default:return!1}},d1=_u(o=>im(o)?Vc(o):zi("Expected value to be acceptable for sending via postMessage")),Tu=(o,a)=>({extract:(c,d)=>un(d,o).fold(()=>((p,v)=>Vl(p,()=>'Choice schema did not contain choice key: "'+v+'"'))(c,o),p=>((v,w,k,E)=>un(k,E).fold(()=>((O,L,M)=>Vl(O,()=>'The chosen schema: "'+M+'" did not exist in branches: '+Cu(L)))(v,k,E),O=>O.extract(v.concat(["branch: "+E]),w)))(c,d,a,p)),toString:()=>"chooseOn("+o+"). Possible values: "+sn(a)}),Jd=o=>_u(a=>o(a).fold(zi,Vc)),rb=(o,a)=>Ka(c=>o(c).fold(nb,cd),a),ir=(o,a,c)=>{return d=((p,v,w)=>((k,E)=>k.stype===Ci.Error?{stype:Ci.Error,serror:E(k.serror)}:k)(v.extract([p],w),k=>({input:w,errors:k})))(o,a,c),Ah(d,_o.error,_o.value);var d},_i=o=>o.fold(a=>{throw new Error(Hi(a))},Ae),ci=(o,a,c)=>_i(ir(o,a,c)),Hi=o=>`Errors: 
`+(a=>{const c=a.length>10?a.slice(0,10).concat([{path:[],getErrorInfo:te("... (only showing first ten failures)")}]):a;return bt(c,d=>"Failed path: ("+d.path.join(" > ")+`)
`+d.getErrorInfo())})(o.errors).join(`
`)+`

Input object: `+Cu(o.input),ea=(o,a)=>Tu(o,En(a,Pn)),Th=(o,a)=>((c,d)=>{const p=$a(d);return{extract:(v,w)=>p().extract(v,w),toString:()=>p().toString()}})(0,a),qr=Yd,Aa=(o,a)=>({tag:"custom",newKey:o,instantiator:a}),Zc=o=>Jd(a=>Qe(o,a)?_o.value(a):_o.error(`Unsupported value: "${a}", choose one of "${o.join(", ")}".`)),At=o=>qr(o,o,{tag:"required",process:{}},_l()),Ta=(o,a)=>qr(o,o,{tag:"required",process:{}},a),Oh=o=>Ta(o,ud),lr=o=>Ta(o,ia),Ou=(o,a)=>qr(o,o,{tag:"required",process:{}},Zc(a)),Si=o=>Ta(o,Wc),dc=(o,a)=>qr(o,o,{tag:"required",process:{}},Pn(a)),lm=(o,a)=>qr(o,o,{tag:"required",process:{}},Eu(a)),Vi=(o,a)=>qr(o,o,{tag:"required",process:{}},ku(a)),Bo=o=>qr(o,o,{tag:"option",process:{}},_l()),Dr=(o,a)=>qr(o,o,{tag:"option",process:{}},a),Qd=o=>Dr(o,ud),Cr=o=>Dr(o,ia),_g=(o,a)=>Dr(o,Zc(a)),jc=o=>Dr(o,Wc),f1=(o,a)=>Dr(o,ku(a)),hr=(o,a)=>Dr(o,Pn(a)),et=(o,a)=>qr(o,o,Uc(a),_l()),ki=(o,a,c)=>qr(o,o,Uc(a),c),Rr=(o,a)=>ki(o,a,ud),Dl=(o,a)=>ki(o,a,ia),fc=(o,a,c)=>ki(o,a,Zc(c)),Vr=(o,a)=>ki(o,a,$l),zs=(o,a)=>ki(o,a,Wc),hs=(o,a,c)=>ki(o,a,ku(c)),Ei=(o,a,c)=>ki(o,a,Pn(c)),Rl=o=>{if(!B(o))throw new Error("cases must be an array");if(o.length===0)throw new Error("there must be at least one case");const a=[],c={};return Zt(o,(d,p)=>{const v=sn(d);if(v.length!==1)throw new Error("one and only one name per case");const w=v[0],k=d[w];if(c[w]!==void 0)throw new Error("duplicate key detected:"+w);if(w==="cata")throw new Error("cannot have a case named cata (sorry)");if(!B(k))throw new Error("case arguments must be an array");a.push(w),c[w]=(...E)=>{const O=E.length;if(O!==k.length)throw new Error("Wrong number of arguments to case "+w+". Expected "+k.length+" ("+k+"), got "+O);return{fold:(...L)=>{if(L.length!==o.length)throw new Error("Wrong number of arguments to fold. Expected "+o.length+", got "+L.length);return L[p].apply(null,E)},match:L=>{const M=sn(L);if(a.length!==M.length)throw new Error("Wrong number of arguments to match. Expected: "+a.join(",")+`
Actual: `+M.join(","));if(!si(a,H=>Qe(M,H)))throw new Error("Not all branches were specified when using match. Specified: "+M.join(", ")+`
Required: `+a.join(", "));return L[w].apply(null,E)},log:L=>{console.log(L,{constructors:a,constructor:w,params:E})}}}}),c};Rl([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Kc=(o,a)=>((c,d)=>({[c]:d}))(o,a),dd=o=>(a=>{const c={};return Zt(a,d=>{c[d.key]=d.value}),c})(o),cm=o=>K(o)?o:Ce,Sg=(o,a,c)=>{let d=o.dom;const p=cm(c);for(;d.parentNode;){d=d.parentNode;const v=en(d),w=a(v);if(w.isSome())return w;if(p(v))break}return D.none()},kg=(o,a,c)=>{const d=a(o),p=cm(c);return d.orThunk(()=>p(o)?D.none():Sg(o,a,p))},ab=(o,a)=>Zo(o.element,a.event.target),ib={can:Ne,abort:Ce,run:he},Du=o=>{if(!io(o,"can")&&!io(o,"abort")&&!io(o,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(o,null,2)+" does not have can, abort, or run!");return{...ib,...o}},I=te,Z=I("touchstart"),oe=I("touchmove"),Oe=I("touchend"),ze=I("touchcancel"),Tt=I("mousedown"),Ln=I("mousemove"),ro=I("mouseout"),Xn=I("mouseup"),_n=I("mouseover"),es=I("focusin"),Nr=I("focusout"),cr=I("keydown"),mc=I("keyup"),um=I("input"),dm=I("change"),ta=I("click"),Ww=I("transitioncancel"),lb=I("transitionend"),m1=I("transitionstart"),qa=I("selectstart"),pr=o=>te("alloy."+o),ga={tap:pr("tap")},Ru=pr("focus"),Dh=pr("blur.post"),Ny=pr("paste.post"),Ul=pr("receive"),al=pr("execute"),cb=pr("focus.item"),ef=ga.tap,yk=pr("longpress"),ub=pr("sandbox.close"),fd=pr("typeahead.cancel"),tf=pr("system.init"),yn=pr("system.touchmove"),qc=pr("system.touchend"),db=pr("system.scroll"),nf=pr("system.resize"),Ga=pr("system.attached"),gc=pr("system.detached"),Eg=pr("system.dismissRequested"),of=pr("system.repositionRequested"),g1=pr("focusmanager.shifted"),Gc=pr("slotcontainer.visibility"),Rh=pr("system.external.element.scroll"),Nh=pr("change.tab"),Mt=pr("dismiss.tab"),Iy=pr("highlight"),sf=pr("dehighlight"),go=(o,a)=>{hc(o,o.element,a,{})},Sn=(o,a,c)=>{hc(o,o.element,a,c)},rf=o=>{go(o,al())},or=(o,a,c)=>{hc(o,a,c,{})},hc=(o,a,c,d)=>{const p={target:a,...d};o.getSystem().triggerEvent(c,a,p)},pc=(o,a,c,d)=>{o.getSystem().triggerEvent(c,a,d.event)},to=o=>dd(o),Ih=(o,a)=>({key:o,value:Du({abort:a})}),Zw=o=>({key:o,value:Du({run:(a,c)=>{c.event.prevent()}})}),xt=(o,a)=>({key:o,value:Du({run:a})}),By=(o,a,c)=>({key:o,value:Du({run:(d,p)=>{a.apply(void 0,[d,p].concat(c))}})}),Bh=o=>a=>({key:o,value:Du({run:(c,d)=>{ab(c,d)&&a(c,d)}})}),Mh=(o,a,c)=>((d,p)=>xt(d,(v,w)=>{v.getSystem().getByUid(p).each(k=>{pc(k,k.element,d,w)})}))(o,a.partUids[c]),Ag=(o,a)=>xt(o,(c,d)=>{const p=d.event,v=c.getSystem().getByDom(p.target).getOrThunk(()=>kg(p.target,w=>c.getSystem().getByDom(w).toOptional(),Ce).getOr(c));a(c,v,d)}),fm=o=>xt(o,(a,c)=>{c.cut()}),jw=o=>xt(o,(a,c)=>{c.stop()}),af=(o,a)=>Bh(o)(a),Zs=Bh(Ga()),Nu=Bh(gc()),h1=Bh(tf()),Yc=(pm=al(),o=>xt(pm,o)),mm=o=>bt(o,a=>pu(a,"/*")?a.substring(0,a.length-2):a),Wl=(o,a)=>{const c=o.toString(),d=c.indexOf(")")+1,p=c.indexOf("("),v=c.substring(p+1,d-1).split(/,\s*/);return o.toFunctionAnnotation=()=>({name:a,parameters:mm(v)}),o},Ir=o=>({classes:F(o.classes)?[]:o.classes,attributes:F(o.attributes)?{}:o.attributes,styles:F(o.styles)?{}:o.styles}),fb=(o,a,c)=>h1((d,p)=>{c(d,o,a)}),ha=o=>({key:o,value:void 0}),p1=(o,a,c,d,p,v,w)=>{const k=L=>io(L,c)?L[c]():D.none(),E=En(p,(L,M)=>((H,q,Y)=>((re,ce,ve)=>{const ie=ve.toString(),ae=ie.indexOf(")")+1,ge=ie.indexOf("("),ye=ie.substring(ge+1,ae-1).split(/,\s*/);return re.toFunctionAnnotation=()=>({name:ce,parameters:mm(ye.slice(0,1).concat(ye.slice(3)))}),re})((re,...ce)=>{const ve=[re].concat(ce);return re.config({name:te(H)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+H+". Using API: "+Y)},ie=>{const ae=Array.prototype.slice.call(ve,1);return q.apply(void 0,[re,ie.config,ie.state].concat(ae))})},Y,q))(c,L,M)),O={...En(v,(L,M)=>Wl(L,M)),...E,revoke:Ge(ha,c),config:L=>{const M=ci(c+"-config",o,L);return{key:c,value:{config:M,me:O,configAsRaw:$a(()=>ci(c+"-config",o,L)),initialConfig:L,state:w}}},schema:te(a),exhibit:(L,M)=>Vt(k(L),un(d,"exhibit"),(H,q)=>q(M,H.config,H.state)).getOrThunk(()=>Ir({})),name:te(c),handlers:L=>k(L).map(M=>un(d,"events").getOr(()=>({}))(M.config,M.state)).getOr({})};return O},bc={init:()=>pa({readState:te("No State required")})},pa=o=>o,Ft=o=>dd(o),gm=aa([At("fields"),At("name"),et("active",{}),et("apis",{}),et("state",bc),et("extra",{})]),ba=o=>{const a=ci("Creating behaviour: "+o.name,gm,o);return((c,d,p,v,w,k)=>{const E=aa(c),O=hr(d,[(L=c,Dr("config",aa(L)))]);var L;return p1(E,O,d,p,v,w,k)})(a.fields,a.name,a.active,a.apis,a.extra,a.state)},Kw=aa([At("branchKey"),At("branches"),At("name"),et("active",{}),et("apis",{}),et("state",bc),et("extra",{})]),qw=o=>{const a=ci("Creating behaviour: "+o.name,Kw,o);return((c,d,p,v,w,k)=>{const E=c,O=hr(d,[Dr("config",c)]);return p1(E,O,d,p,v,w,k)})(ea(a.branchKey,a.branches),a.name,a.active,a.apis,a.extra,a.state)},xk=te(void 0),md=(o,a)=>{const c=wo(o,a);return c===void 0||c===""?[]:c.split(" ")},Tg=o=>o.dom.classList!==void 0,mb=o=>md(o,"class"),b1=(o,a)=>((c,d,p)=>{const v=md(c,d).concat([p]);return Qt(c,d,v.join(" ")),!0})(o,"class",a),My=(o,a)=>((c,d,p)=>{const v=ho(md(c,d),w=>w!==p);return v.length>0?Qt(c,d,v.join(" ")):fo(c,d),!1})(o,"class",a),ur=(o,a)=>{Tg(o)?o.dom.classList.add(a):b1(o,a)},gb=o=>{(Tg(o)?o.dom.classList:mb(o)).length===0&&fo(o,"class")},br=(o,a)=>{Tg(o)?o.dom.classList.remove(a):My(o,a),gb(o)},$i=(o,a)=>Tg(o)&&o.dom.classList.contains(a),Br=(o,a)=>{Zt(a,c=>{ur(o,c)})},Zl=(o,a)=>{Zt(a,c=>{br(o,c)})},gd=o=>Tg(o)?(a=>{const c=a.dom.classList,d=new Array(c.length);for(let p=0;p<c.length;p++){const v=c.item(p);v!==null&&(d[p]=v)}return d})(o):mb(o),Oa=(o,a,c,d,p)=>{const v=w=>w+"px";return{position:o,left:a.map(v),top:c.map(v),right:d.map(v),bottom:p.map(v)}},hb=(o,a)=>{nl(o,(c=>({...c,position:D.some(c.position)}))(a))},Ph=o=>(Ws(Tr(o,"position"),"fixed")?D.none():Fc(o)).orThunk(()=>{const a=fa("span");return ai(o).bind(c=>{xi(c,a);const d=Fc(a);return ka(a),d})}),lf=o=>Ph(o).map(wl).getOrThunk(()=>Ls(0,0)),Gw=(o,a)=>{const c=o.element;ur(c,a.transitionClass),br(c,a.fadeOutClass),ur(c,a.fadeInClass),a.onShow(o)},Lh=(o,a)=>{const c=o.element;ur(c,a.transitionClass),br(c,a.fadeInClass),ur(c,a.fadeOutClass),a.onHide(o)},Py=(o,a)=>o.y>=a.y,v1=(o,a)=>o.bottom<=a.bottom,pb=(o,a,c)=>({location:"top",leftX:a,topY:c.bounds.y-o.y}),y1=(o,a,c)=>({location:"bottom",leftX:a,bottomY:o.bottom-c.bounds.bottom}),Ly=o=>o.box.x-o.win.x,hm=(o,a,c)=>c.getInitialPos().map(d=>{const p=((v,w)=>{const k=w.optScrollEnv.fold(te(v.bounds.y),E=>E.scrollElmTop+(v.bounds.y-E.currentScrollTop));return Ls(v.bounds.x,k)})(d,a);return{box:bo(p.left,p.top,ma(o),gr(o)),location:d.location}}),wk=(o,a,c,d,p)=>{const v=((k,E)=>{const O=E.optScrollEnv.fold(te(k.y),L=>k.y+L.currentScrollTop-L.scrollElmTop);return Ls(k.x,O)})(a,c),w=bo(v.left,v.top,a.width,a.height);d.setInitialPos({style:Ud(o),position:ar(o,"position")||"static",bounds:w,location:p.location})},x1=(o,a,c)=>c.getInitialPos().bind(d=>{var p;switch(c.clearInitialPos(),d.position){case"static":return D.some({morph:"static"});case"absolute":const v=Ph(o).getOr(fn()),w=Kr(v),k=(p=v.dom.scrollTop)!==null&&p!==void 0?p:0;return D.some({morph:"absolute",positionCss:Oa("absolute",un(d.style,"left").map(E=>a.x-w.x),un(d.style,"top").map(E=>a.y-w.y+k),un(d.style,"right").map(E=>w.right-a.right),un(d.style,"bottom").map(E=>w.bottom-a.bottom))});default:return D.none()}}),w1=o=>{switch(o.location){case"top":return D.some({morph:"fixed",positionCss:Oa("fixed",D.some(o.leftX),D.some(o.topY),D.none(),D.none())});case"bottom":return D.some({morph:"fixed",positionCss:Oa("fixed",D.some(o.leftX),D.none(),D.none(),D.some(o.bottomY))});default:return D.none()}},Fy=(o,a,c)=>{const d=o.element;return Ws(Tr(d,"position"),"fixed")?((p,v,w)=>((k,E,O)=>hm(k,E,O).filter(({box:L})=>((M,H,q)=>si(M,Y=>{switch(Y){case"bottom":return v1(H,q.bounds);case"top":return Py(H,q.bounds)}}))(O.getModes(),L,E)).bind(({box:L})=>x1(k,L,O)))(p,v,w).orThunk(()=>v.optScrollEnv.bind(k=>hm(p,v,w)).bind(({box:k,location:E})=>{const O=Ea(),L=Ly({win:O,box:k}),M=E==="top"?pb(O,L,v):y1(O,L,v);return w1(M)})))(d,a,c):((p,v,w)=>{const k=Kr(p),E=Ea(),O=((L,M,H)=>{const q=M.win,Y=M.box,re=Ly(M);return It(L,ce=>{switch(ce){case"bottom":return v1(Y,H.bounds)?D.none():D.some(y1(q,re,H));case"top":return Py(Y,H.bounds)?D.none():D.some(pb(q,re,H));default:return D.none()}}).getOr({location:"no-dock"})})(w.getModes(),{win:E,box:k},v);return O.location==="top"||O.location==="bottom"?(wk(p,k,v,w,O),w1(O)):D.none()})(d,a,c)},zy=(o,a,c)=>{c.setDocked(!1),Zt(["left","right","top","bottom","position"],d=>os(o.element,d)),a.onUndocked(o)},bb=(o,a,c,d)=>{const p=d.position==="fixed";c.setDocked(p),hb(o.element,d),(p?a.onDocked:a.onUndocked)(o)},Hy=(o,a,c,d,p=!1)=>{a.contextual.each(v=>{v.lazyContext(o).each(w=>{const k=((E,O)=>E.y<O.bottom&&E.bottom>O.y)(w,d.bounds);k!==c.isVisible()&&(c.setVisible(k),p&&!k?(Br(o.element,[v.fadeOutClass]),v.onHide(o)):(k?Gw:Lh)(o,v))})})},Vy=(o,a,c,d,p)=>{Hy(o,a,c,d,!0),bb(o,a,c,p.positionCss)},vb=(o,a,c)=>{o.getSystem().isConnected()&&((d,p,v)=>{const w=p.lazyViewport(d);Hy(d,p,v,w),Fy(d,w,v).each(k=>{((E,O,L,M,H)=>{switch(H.morph){case"static":return zy(E,O,L);case"absolute":return bb(E,O,L,H.positionCss);case"fixed":Vy(E,O,L,M,H)}})(d,p,v,w,k)})})(o,a,c)},Fh=(o,a,c)=>{c.isDocked()&&((d,p,v)=>{const w=d.element;v.setDocked(!1);const k=p.lazyViewport(d);((E,O,L)=>{const M=E.element;return hm(M,O,L).bind(({box:H})=>x1(M,H,L))})(d,k,v).each(E=>{switch(E.morph){case"static":zy(d,p,v);break;case"absolute":bb(d,p,v,E.positionCss)}}),v.setVisible(!0),p.contextual.each(E=>{Zl(w,[E.fadeInClass,E.fadeOutClass,E.transitionClass]),E.onShow(d)}),vb(d,p,v)})(o,a,c)},$y=o=>(a,c,d)=>{const p=c.lazyViewport(a);((v,w,k,E)=>{const O=Kr(v),L=Ea(),M=E(L,Ly({win:L,box:O}),w);return M.location==="bottom"||M.location==="top"?(((H,q,Y,re,ce)=>{re.getInitialPos().fold(()=>wk(H,q,Y,re,ce),()=>he)})(v,O,w,k,M),w1(M)):D.none()})(a.element,p,d,o).each(v=>{Vy(a,c,d,p,v)})},yb=$y(pb),xb=$y(y1);var pm,zh=Object.freeze({__proto__:null,refresh:vb,reset:Fh,isDocked:(o,a,c)=>c.isDocked(),getModes:(o,a,c)=>c.getModes(),setModes:(o,a,c,d)=>c.setModes(d),forceDockToTop:yb,forceDockToBottom:xb}),Uy=Object.freeze({__proto__:null,events:(o,a)=>to([af(lb(),(c,d)=>{o.contextual.each(p=>{$i(c.element,p.transitionClass)&&(Zl(c.element,[p.transitionClass,p.fadeInClass]),(a.isVisible()?p.onShown:p.onHidden)(c)),d.stop()})}),xt(db(),(c,d)=>{vb(c,o,a)}),xt(Rh(),(c,d)=>{vb(c,o,a)}),xt(nf(),(c,d)=>{Fh(c,o,a)})])});const hd=o=>o.dom.innerHTML,Og=(o,a)=>{const c=jr(o).dom,d=en(c.createDocumentFragment()),p=((v,w)=>{const k=(w||document).createElement("div");return k.innerHTML=v,xs(en(k))})(a,c);Or(d,p),Ys(o),xi(o,d)},Dg=(o,a)=>en(o.dom.cloneNode(a)),pd=o=>(a=>{if(lt(a))return"#shadow-root";{const c=(d=>Dg(d,!1))(a);return(d=>{const p=fa("div"),v=en(d.dom.cloneNode(!0));return xi(p,v),hd(p)})(c)}})(o);var cf;(function(o){o[o.STOP=0]="STOP",o[o.NORMAL=1]="NORMAL",o[o.LOGGING=2]="LOGGING"})(cf||(cf={}));const wb=Dn({}),Ck=["alloy/data/Fields","alloy/debugging/Debugging"],Cb=(o,a,c)=>((d,p,v)=>{switch(un(wb.get(),d).orThunk(()=>{const w=sn(wb.get());return It(w,k=>d.indexOf(k)>-1?D.some(wb.get()[k]):D.none())}).getOr(cf.NORMAL)){case cf.NORMAL:return v(vc());case cf.LOGGING:{const w=((E,O)=>{const L=[],M=new Date().getTime();return{logEventCut:(H,q,Y)=>{L.push({outcome:"cut",target:q,purpose:Y})},logEventStopped:(H,q,Y)=>{L.push({outcome:"stopped",target:q,purpose:Y})},logNoParent:(H,q,Y)=>{L.push({outcome:"no-parent",target:q,purpose:Y})},logEventNoHandlers:(H,q)=>{L.push({outcome:"no-handlers-left",target:q})},logEventResponse:(H,q,Y)=>{L.push({outcome:"response",purpose:Y,target:q})},write:()=>{const H=new Date().getTime();Qe(["mousemove","mouseover","mouseout",tf()],E)||console.log(E,{event:E,time:H-M,target:O.dom,sequence:bt(L,q=>Qe(["cut","stopped","response"],q.outcome)?"{"+q.purpose+"} "+q.outcome+" at ("+pd(q.target)+")":q.outcome)})}}})(d,p),k=v(w);return w.write(),k}case cf.STOP:return!0}})(o,a,c),vc=te({logEventCut:he,logEventStopped:he,logNoParent:he,logEventNoHandlers:he,logEventResponse:he,write:he}),Yw=te([At("menu"),At("selectedMenu")]),Wy=te([At("item"),At("selectedItem")]);te(Pn(Wy().concat(Yw())));const Rg=te(Pn(Wy())),Ya=dc("initSize",[At("numColumns"),At("numRows")]),Ng=()=>dc("markers",[At("backgroundMenu")].concat(Yw()).concat(Wy())),Ig=o=>dc("markers",bt(o,At)),C1=(o,a,c)=>((()=>{const d=new Error;if(d.stack!==void 0){const p=d.stack.split(`
`);J(p,v=>v.indexOf("alloy")>0&&!On(Ck,w=>v.indexOf(w)>-1)).getOr("unknown")}})(),qr(a,a,c,Jd(d=>_o.value((...p)=>d.apply(void 0,p))))),Fo=o=>C1(0,o,Uc(he)),il=o=>C1(0,o,Uc(D.none)),Iu=o=>C1(0,o,{tag:"required",process:{}}),ui=o=>C1(0,o,{tag:"required",process:{}}),Is=(o,a)=>Aa(o,te(a)),_b=o=>Aa(o,Ae),Xw=te(Ya);var _k=[hr("contextual",[lr("fadeInClass"),lr("fadeOutClass"),lr("transitionClass"),Si("lazyContext"),Fo("onShow"),Fo("onShown"),Fo("onHide"),Fo("onHidden")]),zs("lazyViewport",()=>({bounds:Ea(),optScrollEnv:D.none()})),hs("modes",["top","bottom"],ia),Fo("onDocked"),Fo("onUndocked")];const Xs=ba({fields:_k,name:"docking",active:Uy,apis:zh,state:Object.freeze({__proto__:null,init:o=>{const a=Dn(!1),c=Dn(!0),d=us(),p=Dn(o.modes);return pa({isDocked:a.get,setDocked:a.set,getInitialPos:d.get,setInitialPos:d.set,clearInitialPos:d.clear,isVisible:c.get,setVisible:c.set,getModes:p.get,setModes:p.set,readState:()=>`docked:  ${a.get()}, visible: ${c.get()}, modes: ${p.get().join(",")}`})}})}),_1=to([((o,a)=>({key:o,value:Du({can:(c,d)=>{const p=d.event,v=p.originator,w=p.target;return!((k,E,O)=>Zo(E,k.element)&&!Zo(E,O))(c,v,w)||(console.warn(Ru()+` did not get interpreted by the desired target. 
Originator: `+pd(v)+`
Target: `+pd(w)+`
Check the `+Ru()+" event handlers"),!1)}})}))(Ru())]);var Zy=Object.freeze({__proto__:null,events:_1});const bm=(o,a,c,d)=>{const p=o+a;return p>d?c:p<c?d:p},yc=(o,a,c)=>Math.min(Math.max(o,a),c);let Hh=0;const mn=o=>{const a=new Date().getTime(),c=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return Hh++,o+"_"+c+Hh+String(a)},Xc=te("alloy-id-"),jy=te("data-alloy-id"),S1=Xc(),Vh=jy(),k1=(o,a)=>{Object.defineProperty(o.dom,Vh,{value:a,writable:!0})},Bg=o=>{const a=qs(o)?o.dom[Vh]:null;return D.from(a)},xc=o=>mn(o),Sk=Ae,E1=o=>{const a=p=>`The component must be in a context to execute: ${p}`+(o?`
`+pd(o().element)+" is not in context.":""),c=p=>()=>{throw new Error(a(p))},d=p=>()=>{console.warn(a(p))};return{debugInfo:te("fake"),triggerEvent:d("triggerEvent"),triggerFocus:d("triggerFocus"),triggerEscape:d("triggerEscape"),broadcast:d("broadcast"),broadcastOn:d("broadcastOn"),broadcastEvent:d("broadcastEvent"),build:c("build"),buildOrPatch:c("buildOrPatch"),addToWorld:c("addToWorld"),removeFromWorld:c("removeFromWorld"),addToGui:c("addToGui"),removeFromGui:c("removeFromGui"),getByUid:c("getByUid"),getByDom:c("getByDom"),isConnected:Ce}},Ky=E1(),A1=mn("alloy-premade"),qy=o=>(Object.defineProperty(o.element.dom,A1,{value:o.uid,writable:!0}),Kc(A1,o)),Gy=o=>un(o,A1),T1=o=>((a,c)=>{const d=c.toString(),p=d.indexOf(")")+1,v=d.indexOf("("),w=d.substring(v+1,p-1).split(/,\s*/);return a.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:mm(w.slice(1))}),a})((a,...c)=>o(a.getApis(),a,...c),o),Yy=(o,a)=>{const c={};return Cn(o,(d,p)=>{Cn(d,(v,w)=>{const k=un(c,w).getOr([]);c[w]=k.concat([a(p,v)])})}),c},Xy=o=>o.cHandler,Jw=(o,a)=>({name:o,handler:a}),kk=(o,a)=>{const c={};return Zt(o,d=>{c[d.name()]=d.handlers(a)}),c},Sb=(o,a,c)=>{const d=a[c];return d?((p,v,w,k)=>{try{const E=pe(w,(O,L)=>{const M=O[v],H=L[v],q=k.indexOf(M),Y=k.indexOf(H);if(q===-1)throw new Error("The ordering for "+p+" does not have an entry for "+M+`.
Order specified: `+JSON.stringify(k,null,2));if(Y===-1)throw new Error("The ordering for "+p+" does not have an entry for "+H+`.
Order specified: `+JSON.stringify(k,null,2));return q<Y?-1:Y<q?1:0});return _o.value(E)}catch(E){return _o.error([E])}})("Event: "+c,"name",o,d).map(p=>(v=>({can:((E,O)=>(...L)=>Rn(E,(M,H)=>M&&(q=>q.can)(H).apply(void 0,L),!0))(v),abort:((E,O)=>(...L)=>Rn(E,(M,H)=>M||(q=>q.abort)(H).apply(void 0,L),!1))(v),run:(...E)=>{Zt(v,O=>{O.run.apply(void 0,E)})}}))(bt(p,v=>v.handler))):((p,v)=>_o.error(["The event ("+p+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(bt(v,w=>w.name),null,2)]))(c,o)},Jy=(o,a)=>((c,d)=>{const p=(w=>{const k=[],E=[];return Zt(w,O=>{O.fold(L=>{k.push(L)},L=>{E.push(L)})}),{errors:k,values:E}})(c);return p.errors.length>0?(v=p.errors,_o.error(ys(v))):((w,k)=>w.length===0?_o.value(k):_o.value(ws(k,ob.apply(void 0,w))))(p.values,d);var v})(Ar(o,(c,d)=>(c.length===1?_o.value(c[0].handler):Sb(c,a,d)).map(p=>{const v=(k=>{const E=(O=>K(O)?{can:Ne,abort:Ce,run:O}:O)(k);return(O,L,...M)=>{const H=[O,L].concat(M);E.abort.apply(void 0,H)?L.stop():E.can.apply(void 0,H)&&E.run.apply(void 0,H)}})(p),w=c.length>1?ho(a[d],k=>On(c,E=>E.name===k)).join(" > "):c[0].name;return Kc(d,((k,E)=>({handler:k,purpose:E}))(v,w))})),{}),Mg="alloy.base.behaviour",Ek=Pn([qr("dom","dom",{tag:"required",process:{}},Pn([At("tag"),et("styles",{}),et("classes",[]),et("attributes",{}),Bo("value"),Bo("innerHtml")])),At("components"),At("uid"),et("events",{}),et("apis",{}),qr("eventOrder","eventOrder",(Pg={[al()]:["disabling",Mg,"toggling","typeaheadevents"],[Ru()]:[Mg,"focusing","keying"],[tf()]:[Mg,"disabling","toggling","representing","tooltipping"],[um()]:[Mg,"representing","streaming","invalidating"],[gc()]:[Mg,"representing","item-events","toolbar-button-events","tooltipping"],[Tt()]:["focusing",Mg,"item-type-events"],[Z()]:["focusing",Mg,"item-type-events"],[_n()]:["item-type-events","tooltipping"],[Ul()]:["receiving","reflecting","tooltipping"]},Lo(te(Pg))),_l()),Bo("domModification")]),Ak=o=>o.events,uf=o=>o.dom.value,vm=(o,a)=>{if(a===void 0)throw new Error("Value.set was undefined");o.dom.value=a},O1=(o,a,c)=>{c.fold(()=>xi(o,a),d=>{Zo(d,a)||(rd(d,a),ka(d))})},Qw=(o,a,c)=>{const d=bt(a,c),p=xs(o);return Zt(p.slice(d.length),ka),d},Qy=(o,a,c,d)=>{const p=Gs(o,a),v=d(c,p),w=((k,E,O)=>Gs(k,E).map(L=>{if(O.exists(M=>!Zo(M,L))){const M=O.map(Mi).getOr("span"),H=fa(M);return rd(L,H),H}return L}))(o,a,p);return O1(o,v.element,w),v},kb=(o,a)=>{const c=sn(o),d=sn(a),p=le(d,c),v=((w,k)=>{const E={},O={};return To(w,(L,M)=>!po(a,M)||L!==a[M],vo(E),vo(O)),{t:E,f:O}})(o).t;return{toRemove:p,toSet:v}},bd=(o,a)=>{const c=a.filter(d=>Mi(d)===o.tag&&!(p=>p.innerHtml.isSome()&&p.domChildren.length>0)(o)&&!(p=>po(p.dom,A1))(d)).bind(d=>((p,v)=>{try{const w=((k,E)=>{const{class:O,style:L,...M}=(ge=>Rn(ge.dom.attributes,(ye,_e)=>(ye[_e.name]=_e.value,ye),{}))(E),{toSet:H,toRemove:q}=kb(k.attributes,M),Y=Ud(E),{toSet:re,toRemove:ce}=kb(k.styles,Y),ve=gd(E),ie=le(ve,k.classes),ae=le(k.classes,ve);return Zt(q,ge=>fo(E,ge)),cs(E,H),Br(E,ae),Zl(E,ie),Zt(ce,ge=>os(E,ge)),Li(E,re),k.innerHtml.fold(()=>{const ge=k.domChildren;((ye,_e)=>{Qw(ye,_e,(Le,Xe)=>{const _t=Gs(ye,Xe);return O1(ye,Le,_t),Le})})(E,ge)},ge=>{Og(E,ge)}),(()=>{const ge=E,ye=k.value.getOrUndefined();ye!==uf(ge)&&vm(ge,ye??"")})(),E})(p,v);return D.some(w)}catch{return D.none()}})(o,d)).getOrThunk(()=>(d=>{const p=fa(d.tag);cs(p,d.attributes),Br(p,d.classes),Li(p,d.styles),d.innerHtml.each(w=>Og(p,w));const v=d.domChildren;return Or(p,v),d.value.each(w=>{vm(p,w)}),p})(o));return k1(c,o.uid),c},D1=o=>{const a=(c=>{const d=un(c,"behaviours").getOr({});return qo(sn(d),p=>{const v=d[p];return $(v)?[v.me]:[]})})(o);return((c,d)=>((p,v)=>{const w=bt(v,E=>hr(E.name(),[At("config"),et("state",bc)])),k=ir("component.behaviours",Pn(w),p.behaviours).fold(E=>{throw new Error(Hi(E)+`
Complete spec:
`+JSON.stringify(p,null,2))},Ae);return{list:v,data:En(k,E=>{const O=E.map(L=>({config:L.config,state:L.state.init(L.config)}));return te(O)})}})(c,d))(o,a)},na=(o,a)=>{const c=()=>H,d=Dn(Ky),p=_i((q=>ir("custom.definition",Ek,q))(o)),v=D1(o),w=(q=>q.list)(v),k=(q=>q.data)(v),E=((q,Y,re)=>{const ce={...(ve=q).dom,uid:ve.uid,domChildren:bt(ve.components,Le=>Le.element)};var ve;const ie=(Le=>Le.domModification.fold(()=>Ir({}),Ir))(q),ae={"alloy.base.modification":ie},ge=Y.length>0?((Le,Xe,_t,vt)=>{const gt={...Xe};Zt(_t,So=>{gt[So.name()]=So.exhibit(Le,vt)});const Bt=Yy(gt,(So,Vs)=>({name:So,modification:Vs})),an=So=>xn(So,(Vs,Qs)=>({...Qs.modification,...Vs}),{}),vn=xn(Bt.classes,(So,Vs)=>Vs.modification.concat(So),[]),In=an(Bt.attributes),qn=an(Bt.styles);return Ir({classes:vn,attributes:In,styles:qn})})(re,ae,Y,ce):ie;return ye=ce,_e=ge,{...ye,attributes:{...ye.attributes,..._e.attributes},styles:{...ye.styles,..._e.styles},classes:ye.classes.concat(_e.classes)};var ye,_e})(p,w,k),O=bd(E,a),L=((q,Y,re)=>{const ce={"alloy.base.behaviour":Ak(q)};return((ve,ie,ae,ge)=>{const ye=((_e,Le,Xe)=>{const _t={...Xe,...kk(Le,_e)};return Yy(_t,Jw)})(ve,ae,ge);return Jy(ye,ie)})(re,q.eventOrder,Y,ce).getOrDie()})(p,w,k),M=Dn(p.components),H={uid:o.uid,getSystem:d.get,config:q=>{const Y=k;return(K(Y[q.name()])?Y[q.name()]:()=>{throw new Error("Could not find "+q.name()+" in "+JSON.stringify(o,null,2))})()},hasConfigured:q=>K(k[q.name()]),spec:o,readState:q=>k[q]().map(Y=>Y.state.readState()).getOr("not enabled"),getApis:()=>p.apis,connect:q=>{d.set(q)},disconnect:()=>{d.set(E1(c))},element:O,syncComponents:()=>{const q=xs(O),Y=qo(q,re=>d.get().getByDom(re).fold(()=>[],Me));M.set(Y)},components:M.get,events:L};return H},_r=o=>{const a=vu(o);return df({element:a})},df=o=>{const a=ci("external.component",aa([At("element"),Bo("uid")]),o),c=Dn(E1()),d=a.uid.getOrThunk(()=>xc("external"));k1(a.element,d);const p={uid:d,getSystem:c.get,config:D.none,hasConfigured:Ce,connect:v=>{c.set(v)},disconnect:()=>{c.set(E1(()=>p))},getApis:()=>({}),element:a.element,spec:o,readState:te("No state"),syncComponents:he,components:te([]),events:{}};return qy(p)},ex=xc,R1=(o,a)=>Gy(o).getOrThunk(()=>((c,d)=>{const{events:p,...v}=Sk(c),w=((E,O)=>{const L=un(E,"components").getOr([]);return O.fold(()=>bt(L,Da),M=>bt(L,(H,q)=>R1(H,Gs(M,q))))})(v,d),k={...v,events:{...Zy,...p},components:w};return _o.value(na(k,d))})((c=>po(c,"uid"))(o)?o:{uid:ex(""),...o},a).getOrDie()),Da=o=>R1(o,D.none()),Ui=qy;var Pg,ff=(o,a,c,d,p)=>o(c,d)?D.some(c):K(p)&&p(c)?D.none():a(c,d,p);const ym=(o,a,c)=>{let d=o.dom;const p=K(c)?c:Ce;for(;d.parentNode;){d=d.parentNode;const v=en(d);if(a(v))return D.some(v);if(p(v))break}return D.none()},N1=(o,a,c)=>ff((d,p)=>p(d),ym,o,a,c),eC=(o,a)=>J(o.dom.childNodes,c=>a(en(c))).map(en),tx=(o,a,c)=>N1(o,a,c).isSome(),xm=(o,a,c)=>ym(o,d=>Pc(d,a),c),Bs=(o,a)=>((c,d)=>{const p=c.dom;return p.parentNode?eC(en(p.parentNode),v=>!Zo(c,v)&&Pc(v,a)):D.none()})(o),I1=(o,a)=>eC(o,c=>Pc(c,a)),Js=(o,a)=>nd(a,o),Bu=(o,a,c)=>ff((d,p)=>Pc(d,p),xm,o,a,c),Jc="aria-controls",Lg=()=>{const o=mn(Jc);return{id:o,link:a=>{Qt(a,Jc,o)},unlink:a=>{fo(a,Jc)}}},ll=(o,a)=>tx(a,c=>Zo(c,o.element),Ce)||((c,d)=>(p=>N1(p,v=>{if(!qs(v))return!1;const w=wo(v,"id");return w!==void 0&&w.indexOf(Jc)>-1}).bind(v=>{const w=wo(v,"id"),k=st(v);return Js(k,`[${Jc}="${w}"]`)}))(d).exists(p=>ll(c,p)))(o,a),Xa=(o,a,c,d,p,v,w,k=!1)=>({x:o,y:a,bubble:c,direction:d,placement:p,restriction:v,label:`${w}-${p}`,alwaysFit:k}),wm=Rl([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Eb=wm.southeast,Fg=wm.southwest,Ab=wm.northeast,zg=wm.northwest,tC=wm.south,nx=wm.north,ox=wm.east,nC=wm.west,Ja=(o,a)=>xe(["left","right","top","bottom"],c=>un(a,c).map(d=>((p,v)=>{switch(v){case 1:return p.x;case 0:return p.x+p.width;case 2:return p.y;case 3:return p.y+p.height}})(o,d))),Cm="layout",oC=o=>o.x,wc=(o,a)=>o.x+o.width/2-a.width/2,Wi=(o,a)=>o.x+o.width-a.width,Hg=(o,a)=>o.y-a.height,$h=o=>o.y+o.height,sC=(o,a)=>o.y+o.height/2-a.height/2,vr=(o,a,c)=>Xa(oC(o),$h(o),c.southeast(),Eb(),"southeast",Ja(o,{left:1,top:3}),Cm),yr=(o,a,c)=>Xa(Wi(o,a),$h(o),c.southwest(),Fg(),"southwest",Ja(o,{right:0,top:3}),Cm),$r=(o,a,c)=>Xa(oC(o),Hg(o,a),c.northeast(),Ab(),"northeast",Ja(o,{left:1,bottom:2}),Cm),Cs=(o,a,c)=>Xa(Wi(o,a),Hg(o,a),c.northwest(),zg(),"northwest",Ja(o,{right:0,bottom:2}),Cm),dr=(o,a,c)=>Xa(wc(o,a),Hg(o,a),c.north(),nx(),"north",Ja(o,{bottom:2}),Cm),Mr=(o,a,c)=>Xa(wc(o,a),$h(o),c.south(),tC(),"south",Ja(o,{top:3}),Cm),B1=(o,a,c)=>Xa((d=>d.x+d.width)(o),sC(o,a),c.east(),ox(),"east",Ja(o,{left:0}),Cm),M1=(o,a,c)=>Xa(((d,p)=>d.x-p.width)(o,a),sC(o,a),c.west(),nC(),"west",Ja(o,{right:1}),Cm),sx=()=>[vr,yr,$r,Cs,Mr,dr,B1,M1],Tb=()=>[yr,vr,Cs,$r,Mr,dr,B1,M1],rx=()=>[$r,Cs,vr,yr,dr,Mr],Vg=()=>[Cs,$r,yr,vr,dr,Mr],P1=()=>[vr,yr,$r,Cs,Mr,dr],L1=()=>[yr,vr,Cs,$r,Mr,dr];var ax=Object.freeze({__proto__:null,events:o=>to([xt(Ul(),(a,c)=>{const d=o.channels,p=sn(d),v=c,w=((k,E)=>E.universal?k:ho(k,O=>Qe(E.channels,O)))(p,v);Zt(w,k=>{const E=d[k],O=E.schema,L=ci("channel["+k+`] data
Receiver: `+pd(a.element),O,v.data);E.onReceive(a,L)})})])}),Ob=[Ta("channels",rb(_o.value,aa([Iu("onReceive"),et("schema",_l())])))];const cl=ba({fields:Ob,name:"receiving",active:ax});var ix=Object.freeze({__proto__:null,exhibit:(o,a)=>Ir({classes:[],styles:a.useFixed()?{}:{position:"relative"}})});const Ai=(o,a=!1)=>o.dom.focus({preventScroll:a}),Db=o=>o.dom.blur(),$g=o=>{const a=st(o).dom;return o.dom===a.activeElement},Qc=(o=wi())=>D.from(o.dom.activeElement).map(en),Pr=o=>Qc(st(o)).filter(a=>o.dom.contains(a.dom)),_m=(o,a)=>{const c=st(a),d=Qc(c).bind(v=>{const w=k=>Zo(v,k);return w(a)?D.some(a):((k,E)=>{const O=L=>{for(let M=0;M<L.childNodes.length;M++){const H=en(L.childNodes[M]);if(E(H))return D.some(H);const q=O(L.childNodes[M]);if(q.isSome())return q}return D.none()};return O(k.dom)})(a,w)}),p=o(a);return d.each(v=>{Qc(c).filter(w=>Zo(w,v)).fold(()=>{Ai(v)},he)}),p},lx=Rl([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),cx=(o,a,c,d,p,v)=>{const w=a.rect,k=w.x-c,E=w.y-d,O=p-(k+w.width),L=v-(E+w.height),M=D.some(k),H=D.some(E),q=D.some(O),Y=D.some(L),re=D.none();return a.direction.fold(()=>Oa(o,M,H,re,re),()=>Oa(o,re,H,q,re),()=>Oa(o,M,re,re,Y),()=>Oa(o,re,re,q,Y),()=>Oa(o,M,H,re,re),()=>Oa(o,M,re,re,Y),()=>Oa(o,M,H,re,re),()=>Oa(o,re,H,q,re))},Rb=(o,a)=>o.fold(()=>{const c=a.rect;return Oa("absolute",D.some(c.x),D.some(c.y),D.none(),D.none())},(c,d,p,v)=>cx("absolute",a,c,d,p,v),(c,d,p,v)=>cx("fixed",a,c,d,p,v)),vd=(o,a)=>{const c=Ge(ad,a),d=o.fold(c,c,()=>{const w=Fs();return ad(a).translate(-w.left,-w.top)}),p=Fi(a),v=lc(a);return bo(d.left,d.top,p,v)},Tk=(o,a)=>a.fold(()=>o.fold(Ea,Ea,bo),c=>o.fold(te(c),te(c),()=>{const d=Nb(o,c.x,c.y);return bo(d.left,d.top,c.width,c.height)})),Nb=(o,a,c)=>{const d=Ls(a,c);return o.fold(te(d),te(d),()=>{const p=Fs();return d.translate(-p.left,-p.top)})};lx.none;const Sm=lx.relative,rC=lx.fixed,Ib="data-alloy-placement",Bb=o=>Io(o,Ib),F1=Rl([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Uh=(o,a,c,d)=>{const p=o.bubble,v=p.offset,w=((ge,ye,_e)=>{const Le=(Bt,an)=>ye[Bt].map(vn=>{const In=Bt==="top"||Bt==="bottom",qn=In?_e.top:_e.left,So=(Bt==="left"||Bt==="top"?Math.max:Math.min)(vn,an)+qn;return In?yc(So,ge.y,ge.bottom):yc(So,ge.x,ge.right)}).getOr(an),Xe=Le("left",ge.x),_t=Le("top",ge.y),vt=Le("right",ge.right),gt=Le("bottom",ge.bottom);return bo(Xe,_t,vt-Xe,gt-_t)})(d,o.restriction,v),k=o.x+v.left,E=o.y+v.top,O=bo(k,E,a,c),{originInBounds:L,sizeInBounds:M,visibleW:H,visibleH:q}=((ge,ye)=>{const{x:_e,y:Le,right:Xe,bottom:_t}=ye,{x:vt,y:gt,right:Bt,bottom:an,width:vn,height:In}=ge;return{originInBounds:vt>=_e&&vt<=Xe&&gt>=Le&&gt<=_t,sizeInBounds:Bt<=Xe&&Bt>=_e&&an<=_t&&an>=Le,visibleW:Math.min(vn,vt>=_e?Xe-vt:Bt-_e),visibleH:Math.min(In,gt>=Le?_t-gt:an-Le)}})(O,w),Y=L&&M,re=Y?O:((ge,ye)=>{const{x:_e,y:Le,right:Xe,bottom:_t}=ye,{x:vt,y:gt,width:Bt,height:an}=ge,vn=Math.max(_e,Xe-Bt),In=Math.max(Le,_t-an),qn=yc(vt,_e,vn),So=yc(gt,Le,In),Vs=Math.min(qn+Bt,Xe)-qn,Qs=Math.min(So+an,_t)-So;return bo(qn,So,Vs,Qs)})(O,w),ce=re.width>0&&re.height>0,{maxWidth:ve,maxHeight:ie}=((ge,ye,_e)=>{const Le=te(ye.bottom-_e.y),Xe=te(_e.bottom-ye.y),_t=((an,vn,In,qn)=>an.fold(vn,vn,qn,qn,vn,qn,In,In))(ge,Xe,Xe,Le),vt=te(ye.right-_e.x),gt=te(_e.right-ye.x);return{maxWidth:((an,vn,In,qn)=>an.fold(vn,qn,vn,qn,In,In,vn,qn))(ge,gt,gt,vt),maxHeight:_t}})(o.direction,re,d),ae={rect:re,maxHeight:ie,maxWidth:ve,direction:o.direction,placement:o.placement,classes:{on:p.classesOn,off:p.classesOff},layout:o.label,testY:E};return Y||o.alwaysFit?F1.fit(ae):F1.nofit(ae,H,q,ce)},z1=Ne,Ti=(o,a,c)=>((d,p,v,w)=>yg(d,p,v,w,!1))(o,a,z1,c),ux=(o,a,c)=>((d,p,v,w)=>yg(d,p,v,w,!0))(o,a,z1,c),yd=sl,Mb=["top","bottom","right","left"],Mu="data-alloy-transition-timer",Pb=(o,a,c,d,p,v)=>{const w=((k,E,O)=>O.exists(L=>{const M=k.mode;return M==="all"||L[M]!==E[M]}))(d,p,v);if(w||((k,E)=>((O,L)=>si(L,M=>$i(O,M)))(k,E.classes))(o,d)){Qn(o,"position",c.position);const k=vd(a,o),E=Rb(a,{...p,rect:k}),O=xe(Mb,L=>E[L]);((L,M)=>{const H=q=>parseFloat(q).toFixed(3);return ms(M,(q,Y)=>!((re,ce,ve=ne)=>Vt(re,ce,ve).getOr(re.isNone()&&ce.isNone()))(L[Y].map(H),q.map(H))).isSome()})(c,O)&&(nl(o,O),w&&((L,M)=>{Br(L,M.classes),Io(L,Mu).each(H=>{clearTimeout(parseInt(H,10)),fo(L,Mu)}),((H,q)=>{const Y=uc(),re=uc();let ce;const ve=ye=>{var _e;const Le=(_e=ye.raw.pseudoElement)!==null&&_e!==void 0?_e:"";return Zo(ye.target,H)&&bu(Le)&&Qe(Mb,ye.raw.propertyName)},ie=ye=>{if(W(ye)||ve(ye)){Y.clear(),re.clear();const _e=ye==null?void 0:ye.raw.type;(W(_e)||_e===lb())&&(clearTimeout(ce),fo(H,Mu),Zl(H,q.classes))}},ae=Ti(H,m1(),ye=>{ve(ye)&&(ae.unbind(),Y.set(Ti(H,lb(),ie)),re.set(Ti(H,Ww(),ie)))}),ge=(ye=>{const _e=vt=>{const gt=ar(ye,vt).split(/\s*,\s*/);return ho(gt,el)},Le=vt=>{if(h(vt)&&/^[\d.]+/.test(vt)){const gt=parseFloat(vt);return pu(vt,"ms")?gt:1e3*gt}return 0},Xe=_e("transition-delay"),_t=_e("transition-duration");return Rn(_t,(vt,gt,Bt)=>{const an=Le(Xe[Bt])+Le(gt);return Math.max(vt,an)},0)})(H);requestAnimationFrame(()=>{ce=setTimeout(ie,ge+17),Qt(H,Mu,ce)})})(L,M)})(o,d),xu(o))}else Zl(o,d.classes)},Lb=(o,a)=>{((c,d)=>{const p=_h.max(c,d,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);Qn(c,"max-height",p+"px")})(o,Math.floor(a))},km=te((o,a)=>{Lb(o,a),Li(o,{"overflow-x":"hidden","overflow-y":"auto"})}),Ug=te((o,a)=>{Lb(o,a)}),Cc=(o,a,c)=>o[a]===void 0?c:o[a],Fb=(o,a,c,d)=>{const p=((v,w,k,E)=>{os(w,"max-height"),os(w,"max-width");const O={width:Fi(L=w),height:lc(L)};var L;return((M,H,q,Y,re,ce)=>{const ve=Y.width,ie=Y.height,ae=(ge,ye,_e,Le,Xe)=>{const _t=ge(q,Y,re,M,ce),vt=Uh(_t,ve,ie,ce);return vt.fold(te(vt),(gt,Bt,an,vn)=>(Xe===vn?an>Le||Bt>_e:!Xe&&vn)?vt:F1.nofit(ye,_e,Le,Xe))};return Rn(H,(ge,ye)=>{const _e=Ge(ae,ye);return ge.fold(te(ge),_e)},F1.nofit({rect:q,maxHeight:Y.height,maxWidth:Y.width,direction:Eb(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:q.y},-1,-1,!1)).fold(Ae,Ae)})(w,E.preference,v,O,k,E.bounds)})(o,a,c,d);return((v,w,k)=>{const E=Rb(k.origin,w);k.transition.each(O=>{Pb(v,k.origin,E,O,w,k.lastPlacement)}),hb(v,E)})(a,p,d),((v,w)=>{((k,E)=>{Qt(k,Ib,E)})(v,w.placement)})(a,p),((v,w)=>{const k=w.classes;Zl(v,k.off),Br(v,k.on)})(a,p),((v,w,k)=>{(0,k.maxHeightFunction)(v,w.maxHeight)})(a,p,d),((v,w,k)=>{(0,k.maxWidthFunction)(v,w.maxWidth)})(a,p,d),{layout:p.layout,placement:p.placement}},Ok=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],jl=(o,a,c,d=1)=>{const p=o*d,v=a*d,w=E=>un(c,E).getOr([]),k=(E,O,L)=>{const M=le(Ok,L);return{offset:Ls(E,O),classesOn:qo(L,w),classesOff:qo(M,w)}};return{southeast:()=>k(-o,a,["top","alignLeft"]),southwest:()=>k(o,a,["top","alignRight"]),south:()=>k(-o/2,a,["top","alignCentre"]),northeast:()=>k(-o,-a,["bottom","alignLeft"]),northwest:()=>k(o,-a,["bottom","alignRight"]),north:()=>k(-o/2,-a,["bottom","alignCentre"]),east:()=>k(o,-a/2,["valignCentre","left"]),west:()=>k(-o,-a/2,["valignCentre","right"]),insetNortheast:()=>k(p,v,["top","alignLeft","inset"]),insetNorthwest:()=>k(-p,v,["top","alignRight","inset"]),insetNorth:()=>k(-p/2,v,["top","alignCentre","inset"]),insetSoutheast:()=>k(p,-v,["bottom","alignLeft","inset"]),insetSouthwest:()=>k(-p,-v,["bottom","alignRight","inset"]),insetSouth:()=>k(-p/2,-v,["bottom","alignCentre","inset"]),insetEast:()=>k(-p,-v/2,["valignCentre","right","inset"]),insetWest:()=>k(p,-v/2,["valignCentre","left","inset"])}},xd=()=>jl(0,0,{}),_c=Ae,dx=(o,a)=>c=>la(c)==="rtl"?a:o,la=o=>ar(o,"direction")==="rtl"?"rtl":"ltr";var Sc;(function(o){o.TopToBottom="toptobottom",o.BottomToTop="bottomtotop"})(Sc||(Sc={}));const ul="data-alloy-vertical-dir",Dk=o=>tx(o,a=>qs(a)&&wo(a,"data-alloy-vertical-dir")===Sc.BottomToTop),mf=()=>hr("layouts",[At("onLtr"),At("onRtl"),Bo("onBottomLtr"),Bo("onBottomRtl")]),wd=(o,a,c,d,p,v,w)=>{const k=w.map(Dk).getOr(!1),E=a.layouts.map(H=>H.onLtr(o)),O=a.layouts.map(H=>H.onRtl(o)),L=k?a.layouts.bind(H=>H.onBottomLtr.map(q=>q(o))).or(E).getOr(p):E.getOr(c),M=k?a.layouts.bind(H=>H.onBottomRtl.map(q=>q(o))).or(O).getOr(v):O.getOr(d);return dx(L,M)(o)};var Wh=[At("hotspot"),Bo("bubble"),et("overrides",{}),mf(),Is("placement",(o,a,c)=>{const d=a.hotspot,p=vd(c,d.element),v=wd(o.element,a,P1(),L1(),rx(),Vg(),D.some(a.hotspot.element));return D.some(_c({anchorBox:p,bubble:a.bubble.getOr(xd()),overrides:a.overrides,layouts:v}))})],Em=[At("x"),At("y"),et("height",0),et("width",0),et("bubble",xd()),et("overrides",{}),mf(),Is("placement",(o,a,c)=>{const d=Nb(c,a.x,a.y),p=bo(d.left,d.top,a.width,a.height),v=wd(o.element,a,sx(),Tb(),sx(),Tb(),D.none());return D.some(_c({anchorBox:p,bubble:a.bubble,overrides:a.overrides,layouts:v}))})];const Nl=Rl([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),H1=o=>o.fold(Ae,(a,c,d)=>a.translate(-c,-d)),V1=o=>o.fold(Ae,Ae),zb=o=>Rn(o,(a,c)=>a.translate(c.left,c.top),Ls(0,0)),$1=o=>{const a=bt(o,V1);return zb(a)},aC=Nl.screen,Hb=Nl.absolute,Cd=(o,a,c)=>{const d=jr(o.element),p=Fs(d),v=((w,k,E)=>{const O=Lc(E.root).dom;return D.from(O.frameElement).map(en).filter(L=>{const M=jr(L),H=jr(w.element);return Zo(M,H)}).map(wl)})(o,0,c).getOr(p);return Hb(v,p.left,p.top)},Vb=(o,a,c,d)=>{const p=aC(Ls(o,a));return D.some(((v,w,k)=>({point:v,width:w,height:k}))(p,c,d))},Wg=(o,a,c,d,p)=>o.map(v=>{const w=[a,v.point],k=(E=()=>$1(w),O=()=>$1(w),L=()=>(ae=>{const ge=bt(ae,H1);return zb(ge)})(w),d.fold(E,O,L));var E,O,L;const M=(re=k.left,ce=k.top,ve=v.width,ie=v.height,{x:re,y:ce,width:ve,height:ie}),H=c.showAbove?rx():P1(),q=c.showAbove?Vg():L1(),Y=wd(p,c,H,q,H,q,D.none());var re,ce,ve,ie;return _c({anchorBox:M,bubble:c.bubble.getOr(xd()),overrides:c.overrides,layouts:Y})});var Zg=[At("node"),At("root"),Bo("bubble"),mf(),et("overrides",{}),et("showAbove",!1),Is("placement",(o,a,c)=>{const d=Cd(o,0,a);return a.node.filter(on).bind(p=>{const v=p.dom.getBoundingClientRect(),w=Vb(v.left,v.top,v.width,v.height),k=a.node.getOr(o.element);return Wg(w,d,a,c,k)})})];const gf=(o,a,c,d)=>({start:o,soffset:a,finish:c,foffset:d}),hf=Rl([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),$b=(hf.before,hf.on,hf.after,o=>o.fold(Ae,Ae,Ae)),pf=Rl([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),bf={domRange:pf.domRange,relative:pf.relative,exact:pf.exact,exactFromRange:o=>pf.exact(o.start,o.soffset,o.finish,o.foffset),getWin:o=>{const a=(c=>c.match({domRange:d=>en(d.startContainer),relative:(d,p)=>$b(d),exact:(d,p,v,w)=>d}))(o);return Lc(a)},range:gf},vf=(o,a,c)=>{const d=o.document.createRange();var p;return p=d,a.fold(v=>{p.setStartBefore(v.dom)},(v,w)=>{p.setStart(v.dom,w)},v=>{p.setStartAfter(v.dom)}),((v,w)=>{w.fold(k=>{v.setEndBefore(k.dom)},(k,E)=>{v.setEnd(k.dom,E)},k=>{v.setEndAfter(k.dom)})})(d,c),d},jg=(o,a,c,d,p)=>{const v=o.document.createRange();return v.setStart(a.dom,c),v.setEnd(d.dom,p),v},U1=o=>({left:o.left,top:o.top,right:o.right,bottom:o.bottom,width:o.width,height:o.height}),Zh=Rl([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),W1=(o,a,c)=>a(en(c.startContainer),c.startOffset,en(c.endContainer),c.endOffset),fx=(o,a)=>((c,d)=>{const p=((v,w)=>w.match({domRange:k=>({ltr:te(k),rtl:D.none}),relative:(k,E)=>({ltr:$a(()=>vf(v,k,E)),rtl:$a(()=>D.some(vf(v,E,k)))}),exact:(k,E,O,L)=>({ltr:$a(()=>jg(v,k,E,O,L)),rtl:$a(()=>D.some(jg(v,O,L,k,E)))})}))(c,d);return((v,w)=>{const k=w.ltr();return k.collapsed?w.rtl().filter(E=>E.collapsed===!1).map(E=>Zh.rtl(en(E.endContainer),E.endOffset,en(E.startContainer),E.startOffset)).getOrThunk(()=>W1(0,Zh.ltr,k)):W1(0,Zh.ltr,k)})(0,p)})(o,a).match({ltr:(c,d,p,v)=>{const w=o.document.createRange();return w.setStart(c.dom,d),w.setEnd(p.dom,v),w},rtl:(c,d,p,v)=>{const w=o.document.createRange();return w.setStart(p.dom,v),w.setEnd(c.dom,d),w}});Zh.ltr,Zh.rtl;const jh=(o,a,c)=>ho(((d,p)=>{const v=K(p)?p:Ce;let w=d.dom;const k=[];for(;w.parentNode!==null&&w.parentNode!==void 0;){const E=w.parentNode,O=en(E);if(k.push(O),v(O)===!0)break;w=E}return k})(o,c),a),ca=(o,a)=>((c,d)=>{const p=d===void 0?document:d.dom;return $d(p)?[]:bt(p.querySelectorAll(c),en)})(a,o),mx=o=>{if(o.rangeCount>0){const a=o.getRangeAt(0),c=o.getRangeAt(o.rangeCount-1);return D.some(gf(en(a.startContainer),a.startOffset,en(c.endContainer),c.endOffset))}return D.none()},iC=o=>{if(o.anchorNode===null||o.focusNode===null)return mx(o);{const a=en(o.anchorNode),c=en(o.focusNode);return((d,p,v,w)=>{const k=((O,L,M,H)=>{const q=jr(O).dom.createRange();return q.setStart(O.dom,L),q.setEnd(M.dom,H),q})(d,p,v,w),E=Zo(d,v)&&p===w;return k.collapsed&&!E})(a,o.anchorOffset,c,o.focusOffset)?D.some(gf(a,o.anchorOffset,c,o.focusOffset)):mx(o)}},gx=(o,a)=>(c=>{const d=c.getClientRects(),p=d.length>0?d[0]:c.getBoundingClientRect();return p.width>0||p.height>0?D.some(p).map(U1):D.none()})(fx(o,a)),hx=((o,a)=>{const c=d=>o(d)?D.from(d.dom.nodeValue):D.none();return{get:d=>{if(!o(d))throw new Error("Can only get text value of a text node");return c(d).getOr("")},getOption:c,set:(d,p)=>{if(!o(d))throw new Error("Can only set raw text value of a text node");d.dom.nodeValue=p}}})(ri),yf=(o,a)=>({element:o,offset:a}),Z1=(o,a)=>ri(o)?yf(o,a):((c,d)=>{const p=xs(c);if(p.length===0)return yf(c,d);if(d<p.length)return yf(p[d],0);{const v=p[p.length-1],w=ri(v)?(k=>hx.get(k))(v).length:xs(v).length;return yf(v,w)}})(o,a),Ub=o=>o.foffset!==void 0,px=(o,a)=>a.getSelection.getOrThunk(()=>()=>(c=>(d=>D.from(d.getSelection()))(c).filter(d=>d.rangeCount>0).bind(iC))(o))().map(c=>{if(Ub(c)){const d=Z1(c.start,c.soffset),p=Z1(c.finish,c.foffset);return bf.range(d.element,d.offset,p.element,p.offset)}return c});var Rk=[Bo("getSelection"),At("root"),Bo("bubble"),mf(),et("overrides",{}),et("showAbove",!1),Is("placement",(o,a,c)=>{const d=Lc(a.root).dom,p=Cd(o,0,a),v=px(d,a).bind(k=>{if(Ub(k))return((O,L)=>(M=>{const H=M.getBoundingClientRect();return H.width>0||H.height>0?D.some(H).map(U1):D.none()})(fx(O,L)))(d,bf.exactFromRange(k)).orThunk(()=>{const O=vu("\uFEFF");rd(k.start,O);const L=gx(d,bf.exact(O,0,O,1));return ka(O),L}).bind(O=>Vb(O.left,O.top,O.width,O.height));{const E=En(k,L=>L.dom.getBoundingClientRect()),O={left:Math.min(E.firstCell.left,E.lastCell.left),right:Math.max(E.firstCell.right,E.lastCell.right),top:Math.min(E.firstCell.top,E.lastCell.top),bottom:Math.max(E.firstCell.bottom,E.lastCell.bottom)};return Vb(O.left,O.top,O.right-O.left,O.bottom-O.top)}}),w=px(d,a).bind(k=>Ub(k)?qs(k.start)?D.some(k.start):ii(k.start):D.some(k.firstCell)).getOr(o.element);return Wg(v,p,a,c,w)})];const xf="link-layout",Wb=o=>o.x+o.width,lC=(o,a)=>o.x-a.width,cC=(o,a)=>o.y-a.height+o.height,eu=o=>o.y,bx=(o,a,c)=>Xa(Wb(o),eu(o),c.southeast(),Eb(),"southeast",Ja(o,{left:0,top:2}),xf),j1=(o,a,c)=>Xa(lC(o,a),eu(o),c.southwest(),Fg(),"southwest",Ja(o,{right:1,top:2}),xf),uC=(o,a,c)=>Xa(Wb(o),cC(o,a),c.northeast(),Ab(),"northeast",Ja(o,{left:0,bottom:3}),xf),Kg=(o,a,c)=>Xa(lC(o,a),cC(o,a),c.northwest(),zg(),"northwest",Ja(o,{right:1,bottom:3}),xf),Kh=()=>[bx,j1,uC,Kg],Zb=()=>[j1,bx,Kg,uC];var dC=[At("item"),mf(),et("overrides",{}),Is("placement",(o,a,c)=>{const d=vd(c,a.item.element),p=wd(o.element,a,Kh(),Zb(),Kh(),Zb(),D.none());return D.some(_c({anchorBox:d,bubble:xd(),overrides:a.overrides,layouts:p}))})],tu=ea("type",{selection:Rk,node:Zg,hotspot:Wh,submenu:dC,makeshift:Em});const Am=[Vi("classes",ia),fc("mode","all",["all","layout","placement"])],jb=[et("useFixed",Ce),Bo("getBounds")],Kb=[Ta("anchor",tu),hr("transition",Am)],K1=(o,a,c,d,p,v)=>{const w=ci("placement.info",Pn(Kb),p),k=w.anchor,E=d.element,O=c.get(d.uid);_m(()=>{Qn(E,"position","fixed");const L=Tr(E,"visibility");Qn(E,"visibility","hidden");const M=a.useFixed()?(()=>{const H=document.documentElement;return rC(0,0,H.clientWidth,H.clientHeight)})():(H=>{const q=wl(H.element),Y=H.element.dom.getBoundingClientRect();return Sm(q.left,q.top,Y.width,Y.height)})(o);k.placement(o,k,M).each(H=>{const q=v.orThunk(()=>a.getBounds.map(nt)),Y=((re,ce,ve,ie,ae,ge)=>((ye,_e,Le,Xe,_t,vt,gt,Bt)=>{const an=Cc(gt,"maxHeightFunction",km()),vn=Cc(gt,"maxWidthFunction",he),In=ye.anchorBox,qn=ye.origin,So={bounds:Tk(qn,vt),origin:qn,preference:Xe,maxHeightFunction:an,maxWidthFunction:vn,lastPlacement:_t,transition:Bt};return Fb(In,_e,Le,So)})(((ye,_e)=>((Le,Xe)=>({anchorBox:Le,origin:Xe}))(ye,_e))(ce.anchorBox,re),ie.element,ce.bubble,ce.layouts,ae,ve,ce.overrides,ge))(M,H,q,d,O,w.transition);c.set(d.uid,Y)}),L.fold(()=>{os(E,"visibility")},H=>{Qn(E,"visibility",H)}),Tr(E,"left").isNone()&&Tr(E,"top").isNone()&&Tr(E,"right").isNone()&&Tr(E,"bottom").isNone()&&Ws(Tr(E,"position"),"fixed")&&os(E,"position")},E)};var qb=Object.freeze({__proto__:null,position:(o,a,c,d,p)=>{const v=D.none();K1(o,a,c,d,p,v)},positionWithinBounds:K1,getMode:(o,a,c)=>a.useFixed()?"fixed":"absolute",reset:(o,a,c,d)=>{const p=d.element;Zt(["position","left","right","top","bottom"],v=>os(p,v)),(v=>{fo(v,Ib)})(p),c.clear(d.uid)}});const Qa=ba({fields:jb,name:"positioning",active:ix,apis:qb,state:Object.freeze({__proto__:null,init:()=>{let o={};return pa({readState:()=>o,clear:a=>{$(a)?delete o[a]:o={}},set:(a,c)=>{o[a]=c},get:a=>un(o,a)})}})}),q1=o=>o.getSystem().isConnected(),Tm=o=>{go(o,gc());const a=o.components();Zt(a,Tm)},Om=o=>{const a=o.components();Zt(a,Om),go(o,Ga())},Gb=(o,a)=>{o.getSystem().addToWorld(a),on(o.element)&&Om(a)},G1=o=>{Tm(o),o.getSystem().removeFromWorld(o)},qg=(o,a)=>{xi(o.element,a.element)},wf=(o,a)=>{vx(o,a,xi)},vx=(o,a,c)=>{o.getSystem().addToWorld(a),c(o.element,a.element),on(o.element)&&Om(a),o.syncComponents()},Y1=o=>{Tm(o),ka(o.element),o.getSystem().removeFromWorld(o)},Zi=o=>{const a=ai(o.element).bind(c=>o.getSystem().getByDom(c).toOptional());Y1(o),a.each(c=>{c.syncComponents()})},Cf=o=>{const a=o.components();Zt(a,Y1),Ys(o.element),o.syncComponents()},yx=(o,a)=>{qh(o,a,xi)},mt=(o,a)=>{qh(o,a,xg)},qh=(o,a,c)=>{c(o,a.element);const d=xs(a.element);Zt(d,p=>{a.getByDom(p).each(Om)})},Nk=o=>{const a=xs(o.element);Zt(a,c=>{o.getByDom(c).each(Tm)}),ka(o.element)},fC=(o,a,c,d)=>{c.get().each(w=>{Cf(o)});const p=a.getAttachPoint(o);wf(p,o);const v=o.getSystem().build(d);return wf(o,v),c.set(v),v},X1=(o,a,c,d)=>{const p=fC(o,a,c,d);return a.onOpen(o,p),p},nu=(o,a,c)=>{c.get().each(d=>{Cf(o),Zi(o),a.onClose(o,d),c.clear()})},J1=(o,a,c)=>c.isOpen(),Yb=(o,a,c)=>{const d=a.getAttachPoint(o);Qn(o.element,"position",Qa.getMode(d)),((p,v,w,k)=>{Tr(p.element,v).fold(()=>{fo(p.element,w)},E=>{Qt(p.element,w,E)}),Qn(p.element,v,"hidden")})(o,"visibility",a.cloakVisibilityAttr)},xx=(o,a,c)=>{(d=>On(["top","left","right","bottom"],p=>Tr(d,p).isSome()))(o.element)||os(o.element,"position"),((d,p,v)=>{Io(d.element,v).fold(()=>os(d.element,p),w=>Qn(d.element,p,w))})(o,"visibility",a.cloakVisibilityAttr)};var wx=Object.freeze({__proto__:null,cloak:Yb,decloak:xx,open:X1,openWhileCloaked:(o,a,c,d,p)=>{Yb(o,a),X1(o,a,c,d),p(),xx(o,a)},close:nu,isOpen:J1,isPartOf:(o,a,c,d)=>J1(0,0,c)&&c.get().exists(p=>a.isPartOf(o,p,d)),getState:(o,a,c)=>c.get(),setContent:(o,a,c,d)=>c.get().map(()=>fC(o,a,c,d))}),Ik=Object.freeze({__proto__:null,events:(o,a)=>to([xt(ub(),(c,d)=>{nu(c,o,a)})])}),y=[Fo("onOpen"),Fo("onClose"),At("isPartOf"),At("getAttachPoint"),et("cloakVisibilityAttr","data-precloak-visibility")],_=Object.freeze({__proto__:null,init:()=>{const o=us(),a=te("not-implemented");return pa({readState:a,isOpen:o.isSet,clear:o.clear,set:o.set,get:o.get})}});const T=ba({fields:y,name:"sandboxing",active:Ik,apis:wx,state:_}),P=te("dismiss.popups"),V=te("reposition.popups"),U=te("mouse.released"),Q=aa([et("isExtraPart",Ce),hr("fireEventInstead",[et("event",Eg())])]),se=o=>{const a=ci("Dismissal",Q,o);return{[P()]:{schema:aa([At("target")]),onReceive:(c,d)=>{T.isOpen(c)&&(T.isPartOf(c,d.target)||a.isExtraPart(c,d.target)||a.fireEventInstead.fold(()=>T.close(c),p=>go(c,p.event)))}}}},be=aa([hr("fireEventInstead",[et("event",of())]),Si("doReposition")]),De=o=>{const a=ci("Reposition",be,o);return{[V()]:{onReceive:c=>{T.isOpen(c)&&a.fireEventInstead.fold(()=>a.doReposition(c),d=>go(c,d.event))}}}},Ve=(o,a,c)=>{a.store.manager.onLoad(o,a,c)},Ee=(o,a,c)=>{a.store.manager.onUnload(o,a,c)};var Ie=Object.freeze({__proto__:null,onLoad:Ve,onUnload:Ee,setValue:(o,a,c,d)=>{a.store.manager.setValue(o,a,c,d)},getValue:(o,a,c)=>a.store.manager.getValue(o,a,c),getState:(o,a,c)=>c}),Pe=Object.freeze({__proto__:null,events:(o,a)=>{const c=o.resetOnDom?[Zs((d,p)=>{Ve(d,o,a)}),Nu((d,p)=>{Ee(d,o,a)})]:[fb(o,a,Ve)];return to(c)}});const Je=()=>{const o=Dn(null);return pa({set:o.set,get:o.get,isNotSet:()=>o.get()===null,clear:()=>{o.set(null)},readState:()=>({mode:"memory",value:o.get()})})},tt=()=>{const o=Dn({}),a=Dn({});return pa({readState:()=>({mode:"dataset",dataByValue:o.get(),dataByText:a.get()}),lookup:c=>un(o.get(),c).orThunk(()=>un(a.get(),c)),update:c=>{const d=o.get(),p=a.get(),v={},w={};Zt(c,k=>{v[k.value]=k,un(k,"meta").each(E=>{un(E,"text").each(O=>{w[O]=k})})}),o.set({...d,...v}),a.set({...p,...w})},clear:()=>{o.set({}),a.set({})}})};var Et=Object.freeze({__proto__:null,memory:Je,dataset:tt,manual:()=>pa({readState:he}),init:o=>o.store.manager.state(o)});const Ot=(o,a,c,d)=>{const p=a.store;c.update([d]),p.setValue(o,d),a.onSetValue(o,d)};var kt=[Bo("initialValue"),At("getFallbackEntry"),At("getDataKey"),At("setValue"),Is("manager",{setValue:Ot,getValue:(o,a,c)=>{const d=a.store,p=d.getDataKey(o);return c.lookup(p).getOrThunk(()=>d.getFallbackEntry(p))},onLoad:(o,a,c)=>{a.store.initialValue.each(d=>{Ot(o,a,c,d)})},onUnload:(o,a,c)=>{c.clear()},state:tt})],Rt=[At("getValue"),et("setValue",he),Bo("initialValue"),Is("manager",{setValue:(o,a,c,d)=>{a.store.setValue(o,d),a.onSetValue(o,d)},getValue:(o,a,c)=>a.store.getValue(o),onLoad:(o,a,c)=>{a.store.initialValue.each(d=>{a.store.setValue(o,d)})},onUnload:he,state:bc.init})],Ut=[Bo("initialValue"),Is("manager",{setValue:(o,a,c,d)=>{c.set(d),a.onSetValue(o,d)},getValue:(o,a,c)=>c.get(),onLoad:(o,a,c)=>{a.store.initialValue.each(d=>{c.isNotSet()&&c.set(d)})},onUnload:(o,a,c)=>{c.clear()},state:Je})],Gt=[ki("store",{mode:"memory"},ea("mode",{memory:Ut,manual:Rt,dataset:kt})),Fo("onSetValue"),et("resetOnDom",!1)];const ot=ba({fields:Gt,name:"representing",active:Pe,apis:Ie,extra:{setValueFrom:(o,a)=>{const c=ot.getValue(a);ot.setValue(o,c)}},state:Et}),gn=(o,a)=>Ei(o,{},bt(a,c=>{return d=c.name(),p="Cannot configure "+c.name()+" for "+o,qr(d,d,{tag:"option",process:{}},_u(v=>zi("The field: "+d+" is forbidden. "+p)));var d,p}).concat([Aa("dump",Ae)])),Vn=o=>o.dump,co=(o,a)=>({...Ft(a),...o.dump}),jn=gn,$n=co,lo="placeholder",Mo=Rl([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Ur=o=>po(o,"uiType"),di=(o,a,c,d)=>((p,v,w,k)=>Ur(w)&&w.uiType===lo?((E,O,L,M)=>E.exists(H=>H!==L.owner)?Mo.single(!0,te(L)):un(M,L.name).fold(()=>{throw new Error("Unknown placeholder component: "+L.name+`
Known: [`+sn(M)+`]
Namespace: `+E.getOr("none")+`
Spec: `+JSON.stringify(L,null,2))},H=>H.replace()))(p,0,w,k):Mo.single(!1,te(w)))(o,0,c,d).fold((p,v)=>{const w=Ur(c)?v(a,c.config,c.validated):v(a),k=un(w,"components").getOr([]),E=qo(k,O=>di(o,a,O,d));return[{...w,components:E}]},(p,v)=>{if(Ur(c)){const w=v(a,c.config,c.validated);return c.validated.preprocess.getOr(Ae)(w)}return v(a)}),Ra=Mo.single,Kl=Mo.multiple,Dm=te(lo),fi=Rl([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Pu=et("factory",{sketch:Ae}),Gh=et("schema",[]),_f=At("name"),Yh=qr("pname","pname",Cg(o=>"<alloy."+mn(o.name)+">"),_l()),Q1=Aa("schema",()=>[Bo("preprocess")]),Sf=et("defaults",te({})),mC=et("overrides",te({})),VM=Pn([Pu,Gh,_f,Yh,Sf,mC]),$M=Pn([Pu,Gh,_f,Sf,mC]),yO=Pn([Pu,Gh,_f,Yh,Sf,mC]),pn=Pn([Pu,Q1,_f,At("unit"),Yh,Sf,mC]),Cx=o=>o.fold(D.some,D.none,D.some,D.some),Bk=o=>{const a=c=>c.name;return o.fold(a,a,a,a)},gC=(o,a)=>c=>{const d=ci("Converting part type",a,c);return o(d)},dl=gC(fi.required,VM),_d=gC(fi.external,$M),ou=gC(fi.optional,yO),hC=gC(fi.group,pn),Mk=te("entirety");var xO=Object.freeze({__proto__:null,required:dl,external:_d,optional:ou,group:hC,asNamedPart:Cx,name:Bk,asCommon:o=>o.fold(Ae,Ae,Ae,Ae),original:Mk});const Pk=(o,a,c,d)=>ws(a.defaults(o,c,d),c,{uid:o.partUids[a.name]},a.overrides(o,c,d)),ji=(o,a)=>{const c={};return Zt(a,d=>{Cx(d).each(p=>{const v=_x(o,p.pname);c[p.name]=w=>{const k=ci("Part: "+p.name+" in "+o,Pn(p.schema),w);return{...v,config:w,validated:k}}})}),c},_x=(o,a)=>({uiType:Dm(),owner:o,name:a}),Lk=(o,a,c)=>({uiType:Dm(),owner:o,name:a,config:c,validated:{}}),wO=o=>qo(o,a=>a.fold(D.none,D.some,D.none,D.none).map(c=>dc(c.name,c.schema.concat([_b(Mk())]))).toArray()),CO=o=>bt(o,Bk),Fk=(o,a,c)=>((d,p,v)=>{const w={},k={};return Zt(v,E=>{E.fold(O=>{w[O.pname]=Ra(!0,(L,M,H)=>O.factory.sketch(Pk(L,O,M,H)))},O=>{const L=p.parts[O.name];k[O.name]=te(O.factory.sketch(Pk(p,O,L[Mk()]),L))},O=>{w[O.pname]=Ra(!1,(L,M,H)=>O.factory.sketch(Pk(L,O,M,H)))},O=>{w[O.pname]=Kl(!0,(L,M,H)=>{const q=L[O.name];return bt(q,Y=>O.factory.sketch(ws(O.defaults(L,Y,H),Y,O.overrides(L,Y))))})})}),{internals:te(w),externals:te(k)}})(0,a,c),zk=(o,a,c)=>((d,p,v,w)=>{const k=En(w,(O,L)=>((M,H)=>{let q=!1;return{name:te(M),required:()=>H.fold((Y,re)=>Y,(Y,re)=>Y),used:()=>q,replace:()=>{if(q)throw new Error("Trying to use the same placeholder more than once: "+M);return q=!0,H}}})(L,O)),E=((O,L,M,H)=>qo(M,q=>di(O,L,q,H)))(d,p,v,k);return Cn(k,O=>{if(O.used()===!1&&O.required())throw new Error("Placeholder: "+O.name()+` was not found in components list
Namespace: `+d.getOr("none")+`
Components: `+JSON.stringify(p.components,null,2))}),E})(D.some(o),a,a.components,c),Ms=(o,a,c)=>{const d=a.partUids[c];return o.getSystem().getByUid(d).toOptional()},Gg=(o,a,c)=>Ms(o,a,c).getOrDie("Could not find part: "+c),_O=(o,a,c)=>{const d={},p=a.partUids,v=o.getSystem();return Zt(c,w=>{d[w]=te(v.getByUid(p[w]))}),d},Hk=(o,a)=>{const c=o.getSystem();return En(a.partUids,(d,p)=>te(c.getByUid(d)))},SO=o=>sn(o.partUids),Vk=(o,a,c)=>{const d={},p=a.partUids,v=o.getSystem();return Zt(c,w=>{d[w]=te(v.getByUid(p[w]).getOrDie())}),d},kO=(o,a)=>{const c=CO(a);return dd(bt(c,d=>({key:d,value:o+"-"+d})))},$k=o=>qr("partUids","partUids",Lo(a=>kO(a.uid,o)),_l());var UM=Object.freeze({__proto__:null,generate:ji,generateOne:Lk,schemas:wO,names:CO,substitutes:Fk,components:zk,defaultUids:kO,defaultUidsSchema:$k,getAllParts:Hk,getAllPartNames:SO,getPart:Ms,getPartOrDie:Gg,getParts:_O,getPartsOrDie:Vk});const EO=(o,a,c,d,p)=>{const v=((w,k)=>(w.length>0?[dc("parts",w)]:[]).concat([At("uid"),et("dom",{}),et("components",[]),_b("originalSpec"),et("debug.sketcher",{})]).concat(k))(d,p);return ci(o+" [SpecSchema]",aa(v.concat(a)),c)},Sx=(o,a,c,d,p)=>{const v=Uk(p),w=wO(c),k=$k(c),E=EO(o,a,v,w,[k]),O=Fk(0,E,c);return d(E,zk(o,E,O.internals()),v,O.externals())},Uk=o=>(a=>po(a,"uid"))(o)?o:{...o,uid:xc("uid")},WM=aa([At("name"),At("factory"),At("configFields"),et("apis",{}),et("extraApis",{})]),AO=aa([At("name"),At("factory"),At("configFields"),At("partFields"),et("apis",{}),et("extraApis",{})]),su=o=>{const a=ci("Sketcher for "+o.name,WM,o),c=En(a.apis,T1),d=En(a.extraApis,(p,v)=>Wl(p,v));return{name:a.name,configFields:a.configFields,sketch:p=>((v,w,k,E)=>{const O=Uk(E);return k(EO(v,w,O,[],[]),O)})(a.name,a.configFields,a.factory,p),...c,...d}},Sl=o=>{const a=ci("Sketcher for "+o.name,AO,o),c=ji(a.name,a.partFields),d=En(a.apis,T1),p=En(a.extraApis,(v,w)=>Wl(v,w));return{name:a.name,partFields:a.partFields,configFields:a.configFields,sketch:v=>Sx(a.name,a.configFields,a.partFields,a.factory,v),parts:c,...d,...p}},ev=o=>Mc("input")(o)&&wo(o,"type")!=="radio"||Mc("textarea")(o);var TO=Object.freeze({__proto__:null,getCurrent:(o,a,c)=>a.find(o)});const ZM=[At("find")],Vo=ba({fields:ZM,name:"composing",apis:TO}),OO=["input","button","textarea","select"],DO=(o,a,c)=>{(a.disabled()?kx:Zk)(o,a)},Wk=(o,a)=>a.useNative===!0&&Qe(OO,Mi(o.element)),RO=o=>{Qt(o.element,"disabled","disabled")},jM=o=>{fo(o.element,"disabled")},tv=o=>{Qt(o.element,"aria-disabled","true")},KM=o=>{Qt(o.element,"aria-disabled","false")},kx=(o,a,c)=>{a.disableClass.each(d=>{ur(o.element,d)}),(Wk(o,a)?RO:tv)(o),a.onDisabled(o)},Zk=(o,a,c)=>{a.disableClass.each(d=>{br(o.element,d)}),(Wk(o,a)?jM:KM)(o),a.onEnabled(o)},nv=(o,a)=>Wk(o,a)?(c=>mr(c.element,"disabled"))(o):(c=>wo(c.element,"aria-disabled")==="true")(o);var qM=Object.freeze({__proto__:null,enable:Zk,disable:kx,isDisabled:nv,onLoad:DO,set:(o,a,c,d)=>{(d?kx:Zk)(o,a)}}),GM=Object.freeze({__proto__:null,exhibit:(o,a)=>Ir({classes:a.disabled()?a.disableClass.toArray():[]}),events:(o,a)=>to([Ih(al(),(c,d)=>nv(c,o)),fb(o,a,DO)])}),YM=[zs("disabled",Ce),et("useNative",!0),Bo("disableClass"),Fo("onDisabled"),Fo("onEnabled")];const Kn=ba({fields:YM,name:"disabling",active:GM,apis:qM}),NO=(o,a,c,d)=>{const p=ca(o.element,"."+a.highlightClass);Zt(p,v=>{On(d,w=>Zo(w.element,v))||(br(v,a.highlightClass),o.getSystem().getByDom(v).each(w=>{a.onDehighlight(o,w),go(w,sf())}))})},Xb=(o,a,c,d)=>{NO(o,a,0,[d]),jk(o,a,c,d)||(ur(d.element,a.highlightClass),a.onHighlight(o,d),go(d,Iy()))},jk=(o,a,c,d)=>$i(d.element,a.highlightClass),IO=(o,a,c)=>Js(o.element,"."+a.itemClass).bind(d=>o.getSystem().getByDom(d).toOptional()),BO=(o,a,c)=>{const d=ca(o.element,"."+a.itemClass);return(d.length>0?D.some(d[d.length-1]):D.none()).bind(p=>o.getSystem().getByDom(p).toOptional())},MO=(o,a,c,d)=>{const p=ca(o.element,"."+a.itemClass);return ls(p,v=>$i(v,a.highlightClass)).bind(v=>{const w=bm(v,d,0,p.length-1);return o.getSystem().getByDom(p[w]).toOptional()})},PO=(o,a,c)=>{const d=ca(o.element,"."+a.itemClass);return za(bt(d,p=>o.getSystem().getByDom(p).toOptional()))};var XM=Object.freeze({__proto__:null,dehighlightAll:(o,a,c)=>NO(o,a,0,[]),dehighlight:(o,a,c,d)=>{jk(o,a,c,d)&&(br(d.element,a.highlightClass),a.onDehighlight(o,d),go(d,sf()))},highlight:Xb,highlightFirst:(o,a,c)=>{IO(o,a).each(d=>{Xb(o,a,c,d)})},highlightLast:(o,a,c)=>{BO(o,a).each(d=>{Xb(o,a,c,d)})},highlightAt:(o,a,c,d)=>{((p,v,w,k)=>{const E=ca(p.element,"."+v.itemClass);return D.from(E[k]).fold(()=>_o.error(new Error("No element found with index "+k)),p.getSystem().getByDom)})(o,a,0,d).fold(p=>{throw p},p=>{Xb(o,a,c,p)})},highlightBy:(o,a,c,d)=>{const p=PO(o,a);J(p,d).each(v=>{Xb(o,a,c,v)})},isHighlighted:jk,getHighlighted:(o,a,c)=>Js(o.element,"."+a.highlightClass).bind(d=>o.getSystem().getByDom(d).toOptional()),getFirst:IO,getLast:BO,getPrevious:(o,a,c)=>MO(o,a,0,-1),getNext:(o,a,c)=>MO(o,a,0,1),getCandidates:PO}),LO=[At("highlightClass"),At("itemClass"),Fo("onHighlight"),Fo("onDehighlight")];const is=ba({fields:LO,name:"highlighting",apis:XM}),FO=[8],Sd=[9],Rm=[13],pC=[27],kc=[32],bC=[37],ov=[38],Ex=[39],sv=[40],JM=(o,a,c)=>{const d=Ke(o.slice(0,a)),p=Ke(o.slice(a+1));return J(d.concat(p),c)},QM=(o,a,c)=>{const d=Ke(o.slice(0,a));return J(d,c)},eP=(o,a,c)=>{const d=o.slice(0,a),p=o.slice(a+1);return J(p.concat(d),c)},tP=(o,a,c)=>{const d=o.slice(a+1);return J(d,c)},jo=o=>a=>{const c=a.raw;return Qe(o,c.which)},kf=o=>a=>si(o,c=>c(a)),Nm=o=>o.raw.shiftKey===!0,nP=o=>o.raw.ctrlKey===!0,Ax=$e(Nm),Yo=(o,a)=>({matches:o,classification:a}),zO=(o,a,c)=>{a.exists(d=>c.exists(p=>Zo(p,d)))||Sn(o,g1(),{prevFocus:a,newFocus:c})},Kk=()=>{const o=a=>Pr(a.element);return{get:o,set:(a,c)=>{const d=o(a);a.getSystem().triggerFocus(c,a.element);const p=o(a);zO(a,d,p)}}},oP=()=>{const o=a=>is.getHighlighted(a).map(c=>c.element);return{get:o,set:(a,c)=>{const d=o(a);a.getSystem().getByDom(c).fold(he,v=>{is.highlight(a,v)});const p=o(a);zO(a,d,p)}}};var Jb;(function(o){o.OnFocusMode="onFocus",o.OnEnterOrSpaceMode="onEnterOrSpace",o.OnApiMode="onApi"})(Jb||(Jb={}));const Qb=(o,a,c,d,p)=>{const v=(k,E,O,L,M)=>{return(H=O(k,E,L,M),q=E.event,J(H,Y=>Y.matches(q)).map(Y=>Y.classification)).bind(Y=>Y(k,E,L,M));var H,q},w={schema:()=>o.concat([et("focusManager",Kk()),ki("focusInside","onFocus",Jd(k=>Qe(["onFocus","onEnterOrSpace","onApi"],k)?_o.value(k):_o.error("Invalid value for focusInside"))),Is("handler",w),Is("state",a),Is("sendFocusIn",p)]),processKey:v,toEvents:(k,E)=>{const O=k.focusInside!==Jb.OnFocusMode?D.none():p(k).map(M=>xt(Ru(),(H,q)=>{M(H,k,E),q.stop()})),L=[xt(cr(),(M,H)=>{v(M,H,c,k,E).fold(()=>{((q,Y)=>{const re=jo(kc.concat(Rm))(Y.event);k.focusInside===Jb.OnEnterOrSpaceMode&&re&&ab(q,Y)&&p(k).each(ce=>{ce(q,k,E),Y.stop()})})(M,H)},q=>{H.stop()})}),xt(mc(),(M,H)=>{v(M,H,d,k,E).each(q=>{H.stop()})})];return to(O.toArray().concat(L))}};return w},HO=o=>{const a=[Bo("onEscape"),Bo("onEnter"),et("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),et("firstTabstop",0),et("useTabstopAt",Ne),Bo("visibilitySelector")].concat([o]),c=(L,M)=>{const H=L.visibilitySelector.bind(q=>Bu(M,q)).getOr(M);return gr(H)>0},d=(L,M)=>M.focusManager.get(L).bind(H=>Bu(H,M.selector)),p=(L,M,H)=>{((q,Y)=>{const re=ca(q.element,Y.selector),ce=ho(re,ve=>c(Y,ve));return D.from(ce[Y.firstTabstop])})(L,M).each(q=>{M.focusManager.set(L,q)})},v=(L,M,H,q)=>{const Y=ca(L.element,H.selector);return d(L,H).bind(re=>ls(Y,Ge(Zo,re)).bind(ce=>((ve,ie,ae,ge,ye)=>ye(ie,ae,_e=>((Le,Xe)=>c(Le,Xe)&&Le.useTabstopAt(Xe))(ge,_e)).fold(()=>ge.cyclic?D.some(!0):D.none(),_e=>(ge.focusManager.set(ve,_e),D.some(!0))))(L,Y,ce,H,q)))},w=(L,M,H)=>{const q=H.cyclic?JM:QM;return v(L,0,H,q)},k=(L,M,H)=>{const q=H.cyclic?eP:tP;return v(L,0,H,q)},E=te([Yo(kf([Nm,jo(Sd)]),w),Yo(jo(Sd),k),Yo(kf([Ax,jo(Rm)]),(L,M,H)=>H.onEnter.bind(q=>q(L,M)))]),O=te([Yo(jo(pC),(L,M,H)=>H.onEscape.bind(q=>q(L,M))),Yo(jo(Sd),(L,M,H)=>d(L,H).filter(q=>!H.useTabstopAt(q)).bind(q=>((Y=>(re=>ai(re))(Y).bind(Se).exists(re=>Zo(re,Y)))(q)?w:k)(L,M,H)))]);return Qb(a,bc.init,E,O,()=>D.some(p))};var sP=HO(Aa("cyclic",Ce)),rP=HO(Aa("cyclic",Ne));const Tx=(o,a,c)=>ev(c)&&jo(kc)(a.event)?D.none():((d,p,v)=>(or(d,v,al()),D.some(!0)))(o,0,c),e0=(o,a)=>D.some(!0),aP=[et("execute",Tx),et("useSpace",!1),et("useEnter",!0),et("useControlEnter",!1),et("useDown",!1)],VO=(o,a,c)=>c.execute(o,a,o.element);var iP=Qb(aP,bc.init,(o,a,c,d)=>{const p=c.useSpace&&!ev(o.element)?kc:[],v=c.useEnter?Rm:[],w=c.useDown?sv:[],k=p.concat(v).concat(w);return[Yo(jo(k),VO)].concat(c.useControlEnter?[Yo(kf([nP,jo(Rm)]),VO)]:[])},(o,a,c,d)=>c.useSpace&&!ev(o.element)?[Yo(jo(kc),e0)]:[],()=>D.none());const $O=()=>{const o=us();return pa({readState:()=>o.get().map(a=>({numRows:String(a.numRows),numColumns:String(a.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(a,c)=>{o.set({numRows:a,numColumns:c})},getNumRows:()=>o.get().map(a=>a.numRows),getNumColumns:()=>o.get().map(a=>a.numColumns)})};var UO=Object.freeze({__proto__:null,flatgrid:$O,init:o=>o.state(o)});const WO=o=>(a,c,d,p)=>{const v=o(a.element);return ZO(v,a,c,d,p)},qk=(o,a)=>{const c=dx(o,a);return WO(c)},Gk=(o,a)=>{const c=dx(a,o);return WO(c)},Yk=o=>(a,c,d,p)=>ZO(o,a,c,d,p),ZO=(o,a,c,d,p)=>d.focusManager.get(a).bind(v=>o(a.element,v,d,p)).map(v=>(d.focusManager.set(a,v),!0)),Xk=Yk,jO=Yk,vC=Yk,KO=o=>!(a=>a.offsetWidth<=0&&a.offsetHeight<=0)(o.dom),Jk=(o,a,c)=>{const d=ca(o,c);return((p,v)=>ls(p,w=>Zo(w,a)).map(w=>({index:w,candidates:p})))(ho(d,KO))},yC=(o,a)=>ls(o,c=>Zo(a,c)),qO=(o,a,c,d)=>d(Math.floor(a/c),a%c).bind(p=>{const v=p.row*c+p.column;return v>=0&&v<o.length?D.some(o[v]):D.none()}),GO=(o,a,c,d,p)=>qO(o,a,d,(v,w)=>{const k=v===c-1?o.length-v*d:d,E=bm(w,p,0,k-1);return D.some({row:v,column:E})}),YO=(o,a,c,d,p)=>qO(o,a,d,(v,w)=>{const k=bm(v,p,0,c-1),E=k===c-1?o.length-k*d:d,O=yc(w,0,E-1);return D.some({row:k,column:O})}),lP=[At("selector"),et("execute",Tx),il("onEscape"),et("captureTab",!1),Xw()],XO=(o,a,c)=>{Js(o.element,a.selector).each(d=>{a.focusManager.set(o,d)})},Ox=o=>(a,c,d,p)=>Jk(a,c,d.selector).bind(v=>o(v.candidates,v.index,p.getNumRows().getOr(d.initSize.numRows),p.getNumColumns().getOr(d.initSize.numColumns))),Qk=(o,a,c)=>c.captureTab?D.some(!0):D.none(),eE=Ox((o,a,c,d)=>GO(o,a,c,d,-1)),tE=Ox((o,a,c,d)=>GO(o,a,c,d,1)),cP=Ox((o,a,c,d)=>YO(o,a,c,d,-1)),uP=Ox((o,a,c,d)=>YO(o,a,c,d,1)),dP=te([Yo(jo(bC),qk(eE,tE)),Yo(jo(Ex),Gk(eE,tE)),Yo(jo(ov),Xk(cP)),Yo(jo(sv),jO(uP)),Yo(kf([Nm,jo(Sd)]),Qk),Yo(kf([Ax,jo(Sd)]),Qk),Yo(jo(kc.concat(Rm)),(o,a,c,d)=>((p,v)=>v.focusManager.get(p).bind(w=>Bu(w,v.selector)))(o,c).bind(p=>c.execute(o,a,p)))]),fP=te([Yo(jo(pC),(o,a,c)=>c.onEscape(o,a)),Yo(jo(kc),e0)]);var mP=Qb(lP,$O,dP,fP,()=>D.some(XO));const Xh=(o,a,c,d,p)=>{const v=(w,k,E)=>p(w,k,d,0,E.length-1,E[k],O=>{return L=E[O],Mi(L)==="button"&&wo(L,"disabled")==="disabled"?v(w,O,E):D.from(E[O]);var L});return Jk(o,c,a).bind(w=>{const k=w.index,E=w.candidates;return v(k,k,E)})},JO=(o,a,c,d)=>Xh(o,a,c,d,(p,v,w,k,E,O,L)=>{const M=yc(v+w,k,E);return M===p?D.from(O):L(M)}),xC=(o,a,c,d)=>Xh(o,a,c,d,(p,v,w,k,E,O,L)=>{const M=bm(v,w,k,E);return M===p?D.none():L(M)}),gP=[At("selector"),et("getInitial",D.none),et("execute",Tx),il("onEscape"),et("executeOnMove",!1),et("allowVertical",!0),et("allowHorizontal",!0),et("cycles",!0)],nE=(o,a,c)=>((d,p)=>p.focusManager.get(d).bind(v=>Bu(v,p.selector)))(o,c).bind(d=>c.execute(o,a,d)),QO=(o,a,c)=>{a.getInitial(o).orThunk(()=>Js(o.element,a.selector)).each(d=>{a.focusManager.set(o,d)})},e5=(o,a,c)=>(c.cycles?xC:JO)(o,c.selector,a,-1),t5=(o,a,c)=>(c.cycles?xC:JO)(o,c.selector,a,1),oE=o=>(a,c,d,p)=>o(a,c,d,p).bind(()=>d.executeOnMove?nE(a,c,d):D.some(!0)),Dx=te([Yo(jo(kc),e0),Yo(jo(pC),(o,a,c)=>c.onEscape(o,a))]);var Rx=Qb(gP,bc.init,(o,a,c,d)=>{const p=[...c.allowHorizontal?bC:[]].concat(c.allowVertical?ov:[]),v=[...c.allowHorizontal?Ex:[]].concat(c.allowVertical?sv:[]);return[Yo(jo(p),oE(qk(e5,t5))),Yo(jo(v),oE(Gk(e5,t5))),Yo(jo(Rm),nE),Yo(jo(kc),nE)]},Dx,()=>D.some(QO));const wC=(o,a,c)=>D.from(o[a]).bind(d=>D.from(d[c]).map(p=>({rowIndex:a,columnIndex:c,cell:p}))),CC=(o,a,c,d)=>{const p=o[a].length,v=bm(c,d,0,p-1);return wC(o,a,v)},n5=(o,a,c,d)=>{const p=bm(c,d,0,o.length-1),v=o[p].length,w=yc(a,0,v-1);return wC(o,p,w)},sE=(o,a,c,d)=>{const p=o[a].length,v=yc(c+d,0,p-1);return wC(o,a,v)},rE=(o,a,c,d)=>{const p=yc(c+d,0,o.length-1),v=o[p].length,w=yc(a,0,v-1);return wC(o,p,w)},o5=[dc("selectors",[At("row"),At("cell")]),et("cycles",!0),et("previousSelector",D.none),et("execute",Tx)],hP=(o,a,c)=>{a.previousSelector(o).orThunk(()=>{const d=a.selectors;return Js(o.element,d.cell)}).each(d=>{a.focusManager.set(o,d)})},_C=(o,a)=>(c,d,p)=>{const v=p.cycles?o:a;return Bu(d,p.selectors.row).bind(w=>{const k=ca(w,p.selectors.cell);return yC(k,d).bind(E=>{const O=ca(c,p.selectors.row);return yC(O,w).bind(L=>{const M=((H,q)=>bt(H,Y=>ca(Y,q.selectors.cell)))(O,p);return v(M,L,E).map(H=>H.cell)})})})},s5=_C((o,a,c)=>CC(o,a,c,-1),(o,a,c)=>sE(o,a,c,-1)),t0=_C((o,a,c)=>CC(o,a,c,1),(o,a,c)=>sE(o,a,c,1)),n0=_C((o,a,c)=>n5(o,c,a,-1),(o,a,c)=>rE(o,c,a,-1)),SC=_C((o,a,c)=>n5(o,c,a,1),(o,a,c)=>rE(o,c,a,1)),Nx=te([Yo(jo(bC),qk(s5,t0)),Yo(jo(Ex),Gk(s5,t0)),Yo(jo(ov),Xk(n0)),Yo(jo(sv),jO(SC)),Yo(jo(kc.concat(Rm)),(o,a,c)=>Pr(o.element).bind(d=>c.execute(o,a,d)))]),pP=te([Yo(jo(kc),e0)]);var Jh=Qb(o5,bc.init,Nx,pP,()=>D.some(hP));const Im=[At("selector"),et("execute",Tx),et("moveOnTab",!1)],kC=(o,a,c)=>c.focusManager.get(o).bind(d=>c.execute(o,a,d)),r5=(o,a,c)=>{Js(o.element,a.selector).each(d=>{a.focusManager.set(o,d)})},a5=(o,a,c)=>xC(o,c.selector,a,-1),aE=(o,a,c)=>xC(o,c.selector,a,1),Ix=te([Yo(jo(ov),vC(a5)),Yo(jo(sv),vC(aE)),Yo(kf([Nm,jo(Sd)]),(o,a,c,d)=>c.moveOnTab?vC(a5)(o,a,c,d):D.none()),Yo(kf([Ax,jo(Sd)]),(o,a,c,d)=>c.moveOnTab?vC(aE)(o,a,c,d):D.none()),Yo(jo(Rm),kC),Yo(jo(kc),kC)]),Bx=te([Yo(jo(kc),e0)]);var iE=Qb(Im,bc.init,Ix,Bx,()=>D.some(r5));const i5=[il("onSpace"),il("onEnter"),il("onShiftEnter"),il("onLeft"),il("onRight"),il("onTab"),il("onShiftTab"),il("onUp"),il("onDown"),il("onEscape"),et("stopSpaceKeyup",!1),Bo("focusIn")];var Mx=Qb(i5,bc.init,(o,a,c)=>[Yo(jo(kc),c.onSpace),Yo(kf([Ax,jo(Rm)]),c.onEnter),Yo(kf([Nm,jo(Rm)]),c.onShiftEnter),Yo(kf([Nm,jo(Sd)]),c.onShiftTab),Yo(kf([Ax,jo(Sd)]),c.onTab),Yo(jo(ov),c.onUp),Yo(jo(sv),c.onDown),Yo(jo(bC),c.onLeft),Yo(jo(Ex),c.onRight),Yo(jo(kc),c.onSpace)],(o,a,c)=>[...c.stopSpaceKeyup?[Yo(jo(kc),e0)]:[],Yo(jo(pC),c.onEscape)],o=>o.focusIn);const EC=sP.schema(),bP=rP.schema(),lE=Rx.schema(),AC=mP.schema(),Oi=Jh.schema(),vP=iP.schema(),Bm=iE.schema(),l5=Mx.schema(),An=qw({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:EC,cyclic:bP,flow:lE,flatgrid:AC,matrix:Oi,execution:vP,menu:Bm,special:l5}),name:"keying",active:{events:(o,a)=>o.handler.toEvents(o,a)},apis:{focusIn:(o,a,c)=>{a.sendFocusIn(a).fold(()=>{o.getSystem().triggerFocus(o.element,o.element)},d=>{d(o,a,c)})},setGridSize:(o,a,c,d,p)=>{(v=>io(v,"setGridSize"))(c)?c.setGridSize(d,p):console.error("Layout does not support setGridSize")}},state:UO}),o0=(o,a)=>{_m(()=>{((c,d,p)=>{const v=c.components();(E=>{Zt(E.components(),O=>ka(O.element)),Ys(E.element),E.syncComponents()})(c);const w=p(d),k=le(v,w);Zt(k,E=>{Tm(E),c.getSystem().removeFromWorld(E)}),Zt(w,E=>{q1(E)?qg(c,E):(c.getSystem().addToWorld(E),qg(c,E),on(c.element)&&Om(E))}),c.syncComponents()})(o,a,()=>bt(a,o.getSystem().build))},o.element)},cE=(o,a)=>{_m(()=>{((c,d,p)=>{const v=c.components(),w=qo(d,O=>Gy(O).toArray());Zt(v,O=>{Qe(w,O)||G1(O)});const k=((O,L,M)=>Qw(O,L,(H,q)=>Qy(O,q,H,M)))(o.element,a,o.getSystem().buildOrPatch),E=le(v,k);Zt(E,O=>{q1(O)&&G1(O)}),Zt(k,O=>{q1(O)||Gb(c,O)}),c.syncComponents()})(o,a)},o.element)},TC=(o,a,c,d)=>{G1(a);const p=Qy(o.element,c,d,o.getSystem().buildOrPatch);Gb(o,p),o.syncComponents()},uE=(o,a,c)=>{const d=o.getSystem().build(c);vx(o,d,a)},c5=(o,a,c,d)=>{Zi(a),uE(o,(p,v)=>((w,k,E)=>{Gs(w,E).fold(()=>{xi(w,k)},O=>{rd(O,k)})})(p,v,c),d)},Px=(o,a)=>o.components(),u5=(o,a,c,d,p)=>{const v=Px(o);return D.from(v[d]).map(w=>(p.fold(()=>Zi(w),k=>{(a.reuseDom?TC:c5)(o,w,d,k)}),w))};var dE=Object.freeze({__proto__:null,append:(o,a,c,d)=>{uE(o,xi,d)},prepend:(o,a,c,d)=>{uE(o,wg,d)},remove:(o,a,c,d)=>{const p=Px(o);J(p,w=>Zo(d.element,w.element)).each(Zi)},replaceAt:u5,replaceBy:(o,a,c,d,p)=>{const v=Px(o);return ls(v,d).bind(w=>u5(o,a,0,w,p))},set:(o,a,c,d)=>(a.reuseDom?cE:o0)(o,d),contents:Px});const zn=ba({fields:[Vr("reuseDom",!0)],name:"replacing",apis:dE}),uo=(o,a)=>{const c=((d,p)=>{const v=to(p);return ba({fields:[At("enabled")],name:d,active:{events:te(v)}})})(o,a);return{key:o,value:{config:{},me:c,configAsRaw:te({}),initialConfig:{},state:bc}}},d5=(o,a)=>{a.ignore||(Ai(o.element),a.onFocus(o))};var f5=Object.freeze({__proto__:null,focus:d5,blur:(o,a)=>{a.ignore||Db(o.element)},isFocused:o=>$g(o.element)}),m5=Object.freeze({__proto__:null,exhibit:(o,a)=>{const c=a.ignore?{}:{attributes:{tabindex:"-1"}};return Ir(c)},events:o=>to([xt(Ru(),(a,c)=>{d5(a,o),c.stop()})].concat(o.stopMousedown?[xt(Tt(),(a,c)=>{c.event.prevent()})]:[]))}),g5=[Fo("onFocus"),et("stopMousedown",!1),et("ignore",!1)];const Zn=ba({fields:g5,name:"focusing",active:m5,apis:f5}),Lx=(o,a,c,d)=>{const p=c.get();c.set(d),((v,w,k)=>{w.toggleClass.each(E=>{k.get()?ur(v.element,E):br(v.element,E)})})(o,a,c),((v,w,k)=>{const E=w.aria;E.update(v,E,k.get())})(o,a,c),p!==d&&a.onToggled(o,d)},ru=(o,a,c)=>{Lx(o,a,c,!c.get())},s0=(o,a,c)=>{Lx(o,a,c,a.selected)};var h5=Object.freeze({__proto__:null,onLoad:s0,toggle:ru,isOn:(o,a,c)=>c.get(),on:(o,a,c)=>{Lx(o,a,c,!0)},off:(o,a,c)=>{Lx(o,a,c,!1)},set:Lx}),rv=Object.freeze({__proto__:null,exhibit:()=>Ir({}),events:(o,a)=>{const c=(d=o,p=a,v=ru,Yc(k=>{v(k,d,p)}));var d,p,v;const w=fb(o,a,s0);return to(ys([o.toggleOnExecute?[c]:[],[w]]))}});const Il=(o,a,c)=>{Qt(o.element,"aria-expanded",c)};var Ec=[et("selected",!1),Bo("toggleClass"),et("toggleOnExecute",!0),Fo("onToggled"),ki("aria",{mode:"none"},ea("mode",{pressed:[et("syncWithExpanded",!1),Is("update",(o,a,c)=>{Qt(o.element,"aria-pressed",c),a.syncWithExpanded&&Il(o,0,c)})],checked:[Is("update",(o,a,c)=>{Qt(o.element,"aria-checked",c)})],expanded:[Is("update",Il)],selected:[Is("update",(o,a,c)=>{Qt(o.element,"aria-selected",c)})],none:[Is("update",he)]}))];const Un=ba({fields:Ec,name:"toggling",active:rv,apis:h5,state:{init:()=>{const o=Dn(!1);return{get:()=>o.get(),set:a=>o.set(a),clear:()=>o.set(!1),readState:()=>o.get()}}}}),Lu=()=>{const o=(a,c)=>{c.stop(),rf(a)};return[xt(ta(),o),xt(ef(),o),fm(Z()),fm(Tt())]},av=o=>to(ys([o.map(a=>Yc((c,d)=>{a(c),d.stop()})).toArray(),Lu()])),au="alloy.item-hover",Qh="alloy.item-focus",p5="alloy.item-toggled",b5=o=>{(Pr(o.element).isNone()||Zn.isFocused(o))&&(Zn.isFocused(o)||Zn.focus(o),Sn(o,au,{item:o}))},v5=o=>{Sn(o,Qh,{item:o})},fE=te(au),y5=te(Qh),OC=te(p5),x5=o=>o.role.fold(()=>o.toggling.map(a=>a.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),Ae),yP=[At("data"),At("components"),At("dom"),et("hasSubmenu",!1),Bo("toggling"),Bo("role"),jn("itemBehaviours",[Un,Zn,An,ot]),et("ignoreFocus",!1),et("domModification",{}),Is("builder",o=>({dom:o.dom,domModification:{...o.domModification,attributes:{role:x5(o),...o.domModification.attributes,"aria-haspopup":o.hasSubmenu,...o.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:$n(o.itemBehaviours,[o.toggling.fold(Un.revoke,a=>Un.config(((c,d)=>({aria:{mode:d?"selected":"checked"},...Do(c,(p,v)=>v!=="exclusive"),onToggled:(p,v)=>{K(c.onToggled)&&c.onToggled(p,v),((w,k)=>{Sn(w,p5,{item:w,state:k})})(p,v)}}))(a,o.role.exists(c=>c==="option")))),Zn.config({ignore:o.ignoreFocus,stopMousedown:o.ignoreFocus,onFocus:a=>{v5(a)}}),An.config({mode:"execution"}),ot.config({store:{mode:"memory",initialValue:o.data}}),uo("item-type-events",[...Lu(),xt(_n(),b5),xt(cb(),Zn.focus)])]),components:o.components,eventOrder:o.eventOrder})),et("eventOrder",{})],xP=[At("dom"),At("components"),Is("builder",o=>({dom:o.dom,components:o.components,events:to([jw(cb())])}))],mE=te("item-widget"),gE=te([dl({name:"widget",overrides:o=>({behaviours:Ft([ot.config({store:{mode:"manual",getValue:a=>o.data,setValue:he}})])})})]),w5=[At("uid"),At("data"),At("components"),At("dom"),et("autofocus",!1),et("ignoreFocus",!1),jn("widgetBehaviours",[ot,Zn,An]),et("domModification",{}),$k(gE()),Is("builder",o=>{const a=Fk(mE(),o,gE()),c=zk(mE(),o,a.internals()),d=v=>Ms(v,o,"widget").map(w=>(An.focusIn(w),w)),p=(v,w)=>(ev(w.event.target)||o.autofocus&&w.setSource(v.element),D.none());return{dom:o.dom,components:c,domModification:o.domModification,events:to([Yc((v,w)=>{d(v).each(k=>{w.stop()})}),xt(_n(),b5),xt(cb(),(v,w)=>{o.autofocus?d(v):Zn.focus(v)})]),behaviours:$n(o.widgetBehaviours,[ot.config({store:{mode:"memory",initialValue:o.data}}),Zn.config({ignore:o.ignoreFocus,onFocus:v=>{v5(v)}}),An.config({mode:"special",focusIn:o.autofocus?v=>{d(v)}:xk(),onLeft:p,onRight:p,onEscape:(v,w)=>Zn.isFocused(v)||o.autofocus?(o.autofocus&&w.setSource(v.element),D.none()):(Zn.focus(v),D.some(!0))})])}})],C5=ea("type",{widget:w5,item:yP,separator:xP}),hE=te([hC({factory:{sketch:o=>{const a=ci("menu.spec item",C5,o);return a.builder(a)}},name:"items",unit:"item",defaults:(o,a)=>po(a,"uid")?a:{...a,uid:xc("item")},overrides:(o,a)=>({type:a.type,ignoreFocus:o.fakeFocus,domModification:{classes:[o.markers.item]}})})]),_5=te([Cr("role"),At("value"),At("items"),At("dom"),At("components"),et("eventOrder",{}),gn("menuBehaviours",[is,ot,Vo,An]),ki("movement",{mode:"menu",moveOnTab:!0},ea("mode",{grid:[Xw(),Is("config",(o,a)=>({mode:"flatgrid",selector:"."+o.markers.item,initSize:{numColumns:a.initSize.numColumns,numRows:a.initSize.numRows},focusManager:o.focusManager}))],matrix:[Is("config",(o,a)=>({mode:"matrix",selectors:{row:a.rowSelector,cell:"."+o.markers.item},previousSelector:a.previousSelector,focusManager:o.focusManager})),At("rowSelector"),et("previousSelector",D.none)],menu:[et("moveOnTab",!0),Is("config",(o,a)=>({mode:"menu",selector:"."+o.markers.item,moveOnTab:a.moveOnTab,focusManager:o.focusManager}))]})),Ta("markers",Rg()),et("fakeFocus",!1),et("focusManager",Kk()),Fo("onHighlight"),Fo("onDehighlight"),et("showMenuRole",!0)]),S5=te("alloy.menu-focus"),r0=Sl({name:"Menu",configFields:_5(),partFields:hE(),factory:(o,a,c,d)=>({uid:o.uid,dom:o.dom,markers:o.markers,behaviours:co(o.menuBehaviours,[is.config({highlightClass:o.markers.selectedItem,itemClass:o.markers.item,onHighlight:o.onHighlight,onDehighlight:o.onDehighlight}),ot.config({store:{mode:"memory",initialValue:o.value}}),Vo.config({find:D.some}),An.config(o.movement.config(o,o.movement))]),events:to([xt(y5(),(p,v)=>{const w=v.event;p.getSystem().getByDom(w.target).each(k=>{is.highlight(p,k),v.stop(),Sn(p,S5(),{menu:p,item:k})})}),xt(fE(),(p,v)=>{const w=v.event.item;is.highlight(p,w)}),xt(OC(),(p,v)=>{const{item:w,state:k}=v.event;k&&wo(w.element,"role")==="menuitemradio"&&((E,O)=>{const L=ca(E.element,'[role="menuitemradio"][aria-checked="true"]');Zt(L,M=>{Zo(M,O.element)||E.getSystem().getByDom(M).each(H=>{Un.off(H)})})})(p,w)})]),components:a,eventOrder:o.eventOrder,...o.showMenuRole?{domModification:{attributes:{role:o.role.getOr("menu")}}}:{}})}),k5=(o,a,c,d)=>un(c,d).bind(p=>un(o,p).bind(v=>{const w=k5(o,a,c,v);return D.some([v].concat(w))})).getOr([]),E5=o=>o.type==="prepared"?D.some(o.menu):D.none(),wP=()=>{const o=Dn({}),a=Dn({}),c=Dn({}),d=us(),p=Dn({}),v=E=>w(E).bind(E5),w=E=>un(a.get(),E),k=E=>un(o.get(),E);return{setMenuBuilt:(E,O)=>{a.set({...a.get(),[E]:{type:"prepared",menu:O}})},setContents:(E,O,L,M)=>{d.set(E),o.set(L),a.set(O),p.set(M);const H=((q,Y)=>{const re={};Cn(q,(ae,ge)=>{Zt(ae,ye=>{re[ye]=ge})});const ce=Y,ve=ao(Y,(ae,ge)=>({k:ae,v:ge})),ie=En(ve,(ae,ge)=>[ge].concat(k5(re,ce,ve,ge)));return En(re,ae=>un(ie,ae).getOr([ae]))})(M,L);c.set(H)},expand:E=>un(o.get(),E).map(O=>{const L=un(c.get(),E).getOr([]);return[O].concat(L)}),refresh:E=>un(c.get(),E),collapse:E=>un(c.get(),E).bind(O=>O.length>1?D.some(O.slice(1)):D.none()),lookupMenu:w,lookupItem:k,otherMenus:E=>{const O=p.get();return le(sn(O),E)},getPrimary:()=>d.get().bind(v),getMenus:()=>a.get(),clear:()=>{o.set({}),a.set({}),c.set({}),d.clear()},isClear:()=>d.get().isNone(),getTriggeringPath:(E,O)=>{const L=ho(k(E).toArray(),M=>v(M).isSome());return un(c.get(),E).bind(M=>{const H=Ke(L.concat(M));return(q=>{const Y=[];for(let re=0;re<q.length;re++){const ce=q[re];if(!ce.isSome())return D.none();Y.push(ce.getOrDie())}return D.some(Y)})(qo(H,(q,Y)=>((re,ce,ve)=>v(re).bind(ie=>(ae=>ms(o.get(),(ge,ye)=>ge===ae))(re).bind(ae=>ce(ae).map(ge=>({triggeredMenu:ie,triggeringItem:ge,triggeringPath:ve})))))(q,O,H.slice(0,Y+1)).fold(()=>Ws(d.get(),q)?[]:[D.none()],re=>[D.some(re)])))})}}},CP=E5,iu=mn("tiered-menu-item-highlight"),_P=mn("tiered-menu-item-dehighlight");var Ki;(function(o){o[o.HighlightMenuAndItem=0]="HighlightMenuAndItem",o[o.HighlightJustMenu=1]="HighlightJustMenu",o[o.HighlightNone=2]="HighlightNone"})(Ki||(Ki={}));const a0=te("collapse-item"),Yg=su({name:"TieredMenu",configFields:[ui("onExecute"),ui("onEscape"),Iu("onOpenMenu"),Iu("onOpenSubmenu"),Fo("onRepositionMenu"),Fo("onCollapseMenu"),et("highlightOnOpen",Ki.HighlightMenuAndItem),dc("data",[At("primary"),At("menus"),At("expansions")]),et("fakeFocus",!1),Fo("onHighlightItem"),Fo("onDehighlightItem"),Fo("onHover"),Ng(),At("dom"),et("navigateOnHover",!0),et("stayInDom",!1),gn("tmenuBehaviours",[An,is,Vo,zn]),et("eventOrder",{})],apis:{collapseMenu:(o,a)=>{o.collapseMenu(a)},highlightPrimary:(o,a)=>{o.highlightPrimary(a)},repositionMenus:(o,a)=>{o.repositionMenus(a)}},factory:(o,a)=>{const c=us(),d=wP(),p=ae=>ot.getValue(ae).value,v=ae=>En(o.data.menus,(ge,ye)=>qo(ge.items,_e=>_e.type==="separator"?[]:[_e.data.value])),w=is.highlight,k=(ae,ge)=>{w(ae,ge),is.getHighlighted(ge).orThunk(()=>is.getFirst(ge)).each(ye=>{o.fakeFocus?is.highlight(ge,ye):or(ae,ye.element,cb())})},E=(ae,ge)=>za(bt(ge,ye=>ae.lookupMenu(ye).bind(_e=>_e.type==="prepared"?D.some(_e.menu):D.none()))),O=(ae,ge,ye)=>{const _e=E(ge,ge.otherMenus(ye));Zt(_e,Le=>{Zl(Le.element,[o.markers.backgroundMenu]),o.stayInDom||zn.remove(ae,Le)})},L=(ae,ge)=>{const ye=(_e=>c.get().getOrThunk(()=>{const Le={},Xe=ca(_e.element,`.${o.markers.item}`),_t=ho(Xe,vt=>wo(vt,"aria-haspopup")==="true");return Zt(_t,vt=>{_e.getSystem().getByDom(vt).each(gt=>{const Bt=p(gt);Le[Bt]=gt})}),c.set(Le),Le}))(ae);Cn(ye,(_e,Le)=>{const Xe=Qe(ge,Le);Qt(_e.element,"aria-expanded",Xe)})},M=(ae,ge,ye)=>D.from(ye[0]).bind(_e=>ge.lookupMenu(_e).bind(Le=>{if(Le.type==="notbuilt")return D.none();{const Xe=Le.menu,_t=E(ge,ye.slice(1));return Zt(_t,vt=>{ur(vt.element,o.markers.backgroundMenu)}),on(Xe.element)||zn.append(ae,Ui(Xe)),Zl(Xe.element,[o.markers.backgroundMenu]),k(ae,Xe),O(ae,ge,ye),D.some(Xe)}}));let H;(function(ae){ae[ae.HighlightSubmenu=0]="HighlightSubmenu",ae[ae.HighlightParent=1]="HighlightParent"})(H||(H={}));const q=(ae,ge,ye=H.HighlightSubmenu)=>{if(ge.hasConfigured(Kn)&&Kn.isDisabled(ge))return D.some(ge);{const _e=p(ge);return d.expand(_e).bind(Le=>(L(ae,Le),D.from(Le[0]).bind(Xe=>d.lookupMenu(Xe).bind(_t=>{const vt=((gt,Bt,an)=>{if(an.type==="notbuilt"){const vn=gt.getSystem().build(an.nbMenu());return d.setMenuBuilt(Bt,vn),vn}return an.menu})(ae,Xe,_t);return on(vt.element)||zn.append(ae,Ui(vt)),o.onOpenSubmenu(ae,ge,vt,Ke(Le)),ye===H.HighlightSubmenu?(is.highlightFirst(vt),M(ae,d,Le)):(is.dehighlightAll(vt),D.some(ge))}))))}},Y=(ae,ge)=>{const ye=p(ge);return d.collapse(ye).bind(_e=>(L(ae,_e),M(ae,d,_e).map(Le=>(o.onCollapseMenu(ae,ge,Le),Le))))},re=ae=>(ge,ye)=>Bu(ye.getSource(),`.${o.markers.item}`).bind(_e=>ge.getSystem().getByDom(_e).toOptional().bind(Le=>ae(ge,Le).map(Ne))),ce=to([xt(S5(),(ae,ge)=>{const ye=ge.event.item;d.lookupItem(p(ye)).each(()=>{const _e=ge.event.menu;is.highlight(ae,_e);const Le=p(ge.event.item);d.refresh(Le).each(Xe=>O(ae,d,Xe))})}),Yc((ae,ge)=>{const ye=ge.event.target;ae.getSystem().getByDom(ye).each(_e=>{p(_e).indexOf("collapse-item")===0&&Y(ae,_e),q(ae,_e,H.HighlightSubmenu).fold(()=>{o.onExecute(ae,_e)},he)})}),Zs((ae,ge)=>{(ye=>{const _e=((Xe,_t,vt)=>En(vt,(gt,Bt)=>{const an=()=>r0.sketch({...gt,value:Bt,markers:o.markers,fakeFocus:o.fakeFocus,onHighlight:(vn,In)=>{Sn(vn,iu,{menuComp:vn,itemComp:In})},onDehighlight:(vn,In)=>{Sn(vn,_P,{menuComp:vn,itemComp:In})},focusManager:o.fakeFocus?oP():Kk()});return Bt===_t?{type:"prepared",menu:Xe.getSystem().build(an())}:{type:"notbuilt",nbMenu:an}}))(ye,o.data.primary,o.data.menus),Le=v();return d.setContents(o.data.primary,_e,o.data.expansions,Le),d.getPrimary()})(ae).each(ye=>{zn.append(ae,Ui(ye)),o.onOpenMenu(ae,ye),o.highlightOnOpen===Ki.HighlightMenuAndItem?k(ae,ye):o.highlightOnOpen===Ki.HighlightJustMenu&&w(ae,ye)})}),xt(iu,(ae,ge)=>{o.onHighlightItem(ae,ge.event.menuComp,ge.event.itemComp)}),xt(_P,(ae,ge)=>{o.onDehighlightItem(ae,ge.event.menuComp,ge.event.itemComp)}),...o.navigateOnHover?[xt(fE(),(ae,ge)=>{const ye=ge.event.item;((_e,Le)=>{const Xe=p(Le);d.refresh(Xe).bind(_t=>(L(_e,_t),M(_e,d,_t)))})(ae,ye),q(ae,ye,H.HighlightParent),o.onHover(ae,ye)})]:[]]),ve=ae=>is.getHighlighted(ae).bind(is.getHighlighted),ie={collapseMenu:ae=>{ve(ae).each(ge=>{Y(ae,ge)})},highlightPrimary:ae=>{d.getPrimary().each(ge=>{k(ae,ge)})},repositionMenus:ae=>{d.getPrimary().bind(ye=>ve(ae).bind(_e=>{const Le=p(_e),Xe=yi(d.getMenus()),_t=za(bt(Xe,CP));return d.getTriggeringPath(Le,vt=>((gt,Bt,an)=>It(Bt,vn=>{if(!vn.getSystem().isConnected())return D.none();const In=is.getCandidates(vn);return J(In,qn=>p(qn)===an)}))(0,_t,vt))}).map(_e=>({primary:ye,triggeringPath:_e}))).fold(()=>{(ye=>D.from(ye.components()[0]).filter(_e=>wo(_e.element,"role")==="menu"))(ae).each(ye=>{o.onRepositionMenu(ae,ye,[])})},({primary:ye,triggeringPath:_e})=>{o.onRepositionMenu(ae,ye,_e)})}};return{uid:o.uid,dom:o.dom,markers:o.markers,behaviours:co(o.tmenuBehaviours,[An.config({mode:"special",onRight:re((ae,ge)=>ev(ge.element)?D.none():q(ae,ge,H.HighlightSubmenu)),onLeft:re((ae,ge)=>ev(ge.element)?D.none():Y(ae,ge)),onEscape:re((ae,ge)=>Y(ae,ge).orThunk(()=>o.onEscape(ae,ge).map(()=>ae))),focusIn:(ae,ge)=>{d.getPrimary().each(ye=>{or(ae,ye.element,cb())})}}),is.config({highlightClass:o.markers.selectedMenu,itemClass:o.markers.menu}),Vo.config({find:ae=>is.getHighlighted(ae)}),zn.config({})]),eventOrder:o.eventOrder,apis:ie,events:ce}},extraApis:{tieredData:(o,a,c)=>({primary:o,menus:a,expansions:c}),singleData:(o,a)=>({primary:o,menus:Kc(o,a),expansions:{}}),collapseItem:o=>({value:mn(a0()),meta:{text:o}})}}),sr=su({name:"InlineView",configFields:[At("lazySink"),Fo("onShow"),Fo("onHide"),jc("onEscape"),gn("inlineBehaviours",[T,ot,cl]),hr("fireDismissalEventInstead",[et("event",Eg())]),hr("fireRepositionEventInstead",[et("event",of())]),et("getRelated",D.none),et("isExtraPart",Ce),et("eventOrder",D.none)],factory:(o,a)=>{const c=(w,k,E,O)=>{const L=o.lazySink(w).getOrDie();T.openWhileCloaked(w,k,()=>Qa.positionWithinBounds(L,w,E,O())),ot.setValue(w,D.some({mode:"position",config:E,getBounds:O}))},d=(w,k,E,O)=>{const L=((M,H,q,Y,re)=>{const ce=()=>M.lazySink(H),ve=Y.type==="horizontal"?{layouts:{onLtr:()=>P1(),onRtl:()=>L1()}}:{},ie=ae=>(ge=>ge.length===2)(ae)?ve:{};return Yg.sketch({dom:{tag:"div"},data:Y.data,markers:Y.menu.markers,highlightOnOpen:Y.menu.highlightOnOpen,fakeFocus:Y.menu.fakeFocus,onEscape:()=>(T.close(H),M.onEscape.map(ae=>ae(H)),D.some(!0)),onExecute:()=>D.some(!0),onOpenMenu:(ae,ge)=>{Qa.positionWithinBounds(ce().getOrDie(),ge,q,re())},onOpenSubmenu:(ae,ge,ye,_e)=>{const Le=ce().getOrDie();Qa.position(Le,ye,{anchor:{type:"submenu",item:ge,...ie(_e)}})},onRepositionMenu:(ae,ge,ye)=>{const _e=ce().getOrDie();Qa.positionWithinBounds(_e,ge,q,re()),Zt(ye,Le=>{const Xe=ie(Le.triggeringPath);Qa.position(_e,Le.triggeredMenu,{anchor:{type:"submenu",item:Le.triggeringItem,...Xe}})})}})})(o,w,k,E,O);T.open(w,L),ot.setValue(w,D.some({mode:"menu",menu:L}))},p=w=>{T.isOpen(w)&&ot.getValue(w).each(k=>{switch(k.mode){case"menu":T.getState(w).each(Yg.repositionMenus);break;case"position":const E=o.lazySink(w).getOrDie();Qa.positionWithinBounds(E,w,k.config,k.getBounds())}})},v={setContent:(w,k)=>{T.setContent(w,k)},showAt:(w,k,E)=>{const O=D.none;c(w,k,E,O)},showWithinBounds:c,showMenuAt:(w,k,E)=>{d(w,k,E,D.none)},showMenuWithinBounds:d,hide:w=>{T.isOpen(w)&&(ot.setValue(w,D.none()),T.close(w))},getContent:w=>T.getState(w),reposition:p,isOpen:T.isOpen};return{uid:o.uid,dom:o.dom,behaviours:co(o.inlineBehaviours,[T.config({isPartOf:(w,k,E)=>ll(k,E)||((O,L)=>o.getRelated(O).exists(M=>ll(M,L)))(w,E),getAttachPoint:w=>o.lazySink(w).getOrDie(),onOpen:w=>{o.onShow(w)},onClose:w=>{o.onHide(w)}}),ot.config({store:{mode:"memory",initialValue:D.none()}}),cl.config({channels:{...se({isExtraPart:a.isExtraPart,...o.fireDismissalEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({})}),...De({...o.fireRepositionEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({}),doReposition:p})}})]),eventOrder:o.eventOrder,apis:v}},apis:{showAt:(o,a,c,d)=>{o.showAt(a,c,d)},showWithinBounds:(o,a,c,d,p)=>{o.showWithinBounds(a,c,d,p)},showMenuAt:(o,a,c,d)=>{o.showMenuAt(a,c,d)},showMenuWithinBounds:(o,a,c,d,p)=>{o.showMenuWithinBounds(a,c,d,p)},hide:(o,a)=>{o.hide(a)},isOpen:(o,a)=>o.isOpen(a),getContent:(o,a)=>o.getContent(a),setContent:(o,a,c)=>{o.setContent(a,c)},reposition:(o,a)=>{o.reposition(a)}}});var Fu,Fx,DC=tinymce.util.Tools.resolve("tinymce.util.Delay"),iv=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),A5=tinymce.util.Tools.resolve("tinymce.EditorManager"),Ef=tinymce.util.Tools.resolve("tinymce.Env");(function(o){o.default="wrap",o.floating="floating",o.sliding="sliding",o.scrolling="scrolling"})(Fu||(Fu={})),function(o){o.auto="auto",o.top="top",o.bottom="bottom"}(Fx||(Fx={}));const _s=o=>a=>a.options.get(o),zx=o=>a=>D.from(o(a)),T5=o=>{const a=Ef.deviceType.isPhone(),c=Ef.deviceType.isTablet()||a,d=o.options.register,p=w=>h(w)||w===!1,v=w=>h(w)||ee(w);d("skin",{processor:w=>h(w)||w===!1,default:"oxide"}),d("skin_url",{processor:"string"}),d("height",{processor:v,default:Math.max(o.getElement().offsetHeight,400)}),d("width",{processor:v,default:iv.DOM.getStyle(o.getElement(),"width")}),d("min_height",{processor:"number",default:100}),d("min_width",{processor:"number"}),d("max_height",{processor:"number"}),d("max_width",{processor:"number"}),d("style_formats",{processor:"object[]"}),d("style_formats_merge",{processor:"boolean",default:!1}),d("style_formats_autohide",{processor:"boolean",default:!1}),d("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),d("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),d("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),d("font_size_input_default_unit",{processor:"string",default:"pt"}),d("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),d("content_langs",{processor:"object[]"}),d("removed_menuitems",{processor:"string",default:""}),d("menubar",{processor:w=>h(w)||R(w),default:!a}),d("menu",{processor:"object",default:{}}),d("toolbar",{processor:w=>R(w)||h(w)||B(w)?{value:w,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),as(9,w=>{d("toolbar"+(w+1),{processor:"string"})}),d("toolbar_mode",{processor:"string",default:c?"scrolling":"floating"}),d("toolbar_groups",{processor:"object",default:{}}),d("toolbar_location",{processor:"string",default:Fx.auto}),d("toolbar_persist",{processor:"boolean",default:!1}),d("toolbar_sticky",{processor:"boolean",default:o.inline}),d("toolbar_sticky_offset",{processor:"number",default:0}),d("fixed_toolbar_container",{processor:"string",default:""}),d("fixed_toolbar_container_target",{processor:"object"}),d("ui_mode",{processor:"string",default:"combined"}),d("file_picker_callback",{processor:"function"}),d("file_picker_validator_handler",{processor:"function"}),d("file_picker_types",{processor:"string"}),d("typeahead_urls",{processor:"boolean",default:!0}),d("anchor_top",{processor:p,default:"#top"}),d("anchor_bottom",{processor:p,default:"#bottom"}),d("draggable_modal",{processor:"boolean",default:!1}),d("statusbar",{processor:"boolean",default:!0}),d("elementpath",{processor:"boolean",default:!0}),d("branding",{processor:"boolean",default:!0}),d("promotion",{processor:"boolean",default:!0}),d("resize",{processor:w=>w==="both"||R(w),default:!Ef.deviceType.isTouch()}),d("sidebar_show",{processor:"string"}),d("help_accessibility",{processor:"boolean",default:o.hasPlugin("help")}),d("default_font_stack",{processor:"string[]",default:[]})},pE=_s("readonly"),Hx=_s("height"),Vx=_s("width"),$x=zx(_s("min_width")),lv=zx(_s("min_height")),cv=zx(_s("max_width")),RC=zx(_s("max_height")),uv=zx(_s("style_formats")),NC=_s("style_formats_merge"),O5=_s("style_formats_autohide"),bE=_s("content_langs"),D5=_s("removed_menuitems"),i0=_s("toolbar_mode"),IC=_s("toolbar_groups"),ep=_s("toolbar_location"),vE=_s("fixed_toolbar_container"),SP=_s("fixed_toolbar_container_target"),R5=_s("toolbar_persist"),yE=_s("toolbar_sticky_offset"),Xg=_s("menubar"),dv=_s("toolbar"),BC=_s("file_picker_callback"),Ux=_s("file_picker_validator_handler"),xE=_s("font_size_input_default_unit"),Wx=_s("file_picker_types"),MC=_s("typeahead_urls"),N5=_s("anchor_top"),I5=_s("anchor_bottom"),Af=_s("draggable_modal"),B5=_s("statusbar"),M5=_s("elementpath"),Ac=_s("branding"),ei=_s("resize"),P5=_s("paste_as_text"),PC=_s("sidebar_show"),L5=_s("promotion"),wE=_s("help_accessibility"),LC=_s("default_font_stack"),tp=o=>o.options.get("skin")===!1,Zx=o=>o.options.get("menubar")!==!1,FC=o=>{const a=o.options.get("skin_url");if(tp(o))return a;if(a)return o.documentBaseURI.toAbsolute(a);{const c=o.options.get("skin");return A5.baseURL+"/skins/ui/"+c}},zC=o=>D.from(o.options.get("skin_url")),F5=o=>o.options.get("line_height_formats").split(" "),jx=o=>{const a=dv(o),c=h(a),d=B(a)&&a.length>0;return!Kx(o)&&(d||c||a===!0)},HC=o=>{const a=as(9,d=>o.options.get("toolbar"+(d+1))),c=ho(a,h);return Wo(c.length>0,c)},Kx=o=>HC(o).fold(()=>{const a=dv(o);return fe(a,h)&&a.length>0},Ne),CE=o=>ep(o)===Fx.bottom,_E=o=>{var a;if(!o.inline)return D.none();const c=(a=vE(o))!==null&&a!==void 0?a:"";if(c.length>0)return Js(fn(),c);const d=SP(o);return $(d)?D.some(en(d)):D.none()},l0=o=>o.inline&&_E(o).isSome(),VC=o=>_E(o).getOrThunk(()=>je(st(en(o.getElement())))),$C=o=>o.inline&&!Zx(o)&&!jx(o)&&!Kx(o),Jg=o=>(o.options.get("toolbar_sticky")||o.inline)&&!l0(o)&&!$C(o),Qg=o=>!l0(o)&&o.options.get("ui_mode")==="split",np=o=>{const a=o.options.get("menu");return En(a,c=>({...c,items:c.items}))};var qx=Object.freeze({__proto__:null,get ToolbarMode(){return Fu},get ToolbarLocation(){return Fx},register:T5,getSkinUrl:FC,getSkinUrlOption:zC,isReadOnly:pE,isSkinDisabled:tp,getHeightOption:Hx,getWidthOption:Vx,getMinWidthOption:$x,getMinHeightOption:lv,getMaxWidthOption:cv,getMaxHeightOption:RC,getUserStyleFormats:uv,shouldMergeStyleFormats:NC,shouldAutoHideStyleFormats:O5,getLineHeightFormats:F5,getContentLanguages:bE,getRemovedMenuItems:D5,isMenubarEnabled:Zx,isMultipleToolbars:Kx,isToolbarEnabled:jx,isToolbarPersist:R5,getMultipleToolbarsOption:HC,getUiContainer:VC,useFixedContainer:l0,isSplitUiMode:Qg,getToolbarMode:i0,isDraggableModal:Af,isDistractionFree:$C,isStickyToolbar:Jg,getStickyToolbarOffset:yE,getToolbarLocation:ep,isToolbarLocationBottom:CE,getToolbarGroups:IC,getMenus:np,getMenubar:Xg,getToolbar:dv,getFilePickerCallback:BC,getFilePickerTypes:Wx,useTypeaheadUrls:MC,getAnchorTop:N5,getAnchorBottom:I5,getFilePickerValidatorHandler:Ux,getFontSizeInputDefaultUnit:xE,useStatusBar:B5,useElementPath:M5,promotionEnabled:L5,useBranding:Ac,getResize:ei,getPasteAsText:P5,getSidebarShow:PC,useHelpAccessibility:wE,getDefaultFontStack:LC});const kP=["visible","hidden","clip"],z5=o=>ic(o).length>0&&!Qe(kP,o),H5=o=>{if(tl(o)){const a=ar(o,"overflow-x"),c=ar(o,"overflow-y");return z5(a)||z5(c)}return!1},op=(o,a)=>Qg(o)?((c,d)=>{const p=jh(d,H5),v=p.length===0?Lt(d).map(Xt).map(w=>jh(w,H5)).getOr([]):p;return $t(v).map(w=>({element:w,others:v.slice(1),isFullscreen:()=>(k=>k.plugins.fullscreen&&k.plugins.fullscreen.isFullscreen())(c)}))})(o,a):D.none(),sp=o=>{const a=[...bt(o.others,Kr),Ea()];return o.isFullscreen()?Ea():((c,d)=>Rn(d,(p,v)=>id(p,v),c))(Kr(o.element),a)},Di=su({name:"Button",factory:o=>{const a=av(o.action),c=o.dom.tag,d=p=>un(o.dom,"attributes").bind(v=>un(v,p));return{uid:o.uid,dom:o.dom,components:o.components,events:a,behaviours:$n(o.buttonBehaviours,[Zn.config({}),An.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:c==="button"?{type:d("type").getOr("button"),...d("role").map(p=>({role:p})).getOr({})}:{role:o.role.getOr(d("role").getOr("button"))}},eventOrder:o.eventOrder}},configFields:[et("uid",void 0),At("dom"),et("components",[]),jn("buttonBehaviours",[Zn,An]),Bo("action"),Bo("role"),et("eventOrder",{})]}),Mm=o=>{const a=Ol(o),c=xs(a),d=(w=>{const k=w.dom.attributes!==void 0?w.dom.attributes:[];return Rn(k,(E,O)=>O.name==="class"?E:{...E,[O.name]:O.value},{})})(a),p=(w=>Array.prototype.slice.call(w.dom.classList,0))(a),v=c.length===0?{}:{innerHtml:hd(a)};return{tag:Mi(a),classes:p,attributes:d,...v}},ss=o=>{const a=(c=>c.uid!==void 0)(o)&&io(o,"uid")?o.uid:xc("memento");return{get:c=>c.getSystem().getByUid(a).getOrDie(),getOpt:c=>c.getSystem().getByUid(a).toOptional(),asSpec:()=>({...o,uid:a})}};var EP=Object.freeze({__proto__:null,exhibit:(o,a)=>Ir({attributes:dd([{key:a.tabAttr,value:"true"}])})}),V5=[et("tabAttr","data-alloy-tabstop")];const Ns=ba({fields:V5,name:"tabstopping",active:EP}),SE=mn("tooltip.exclusive"),Gx=mn("tooltip.show"),Yx=mn("tooltip.hide"),Xx=mn("tooltip.immediateHide"),Jx=mn("tooltip.immediateShow"),$5=(o,a,c)=>{o.getSystem().broadcastOn([SE],{})};var AP=Object.freeze({__proto__:null,hideAllExclusive:$5,immediateOpenClose:(o,a,c,d)=>go(o,d?Jx:Xx),isEnabled:(o,a,c)=>c.isEnabled(),setComponents:(o,a,c,d)=>{c.getTooltip().each(p=>{p.getSystem().isConnected()&&zn.set(p,d)})},setEnabled:(o,a,c,d)=>c.setEnabled(d)}),TP=Object.freeze({__proto__:null,events:(o,a)=>{const c=v=>{a.getTooltip().each(w=>{w.getSystem().isConnected()&&(Zi(w),o.onHide(v,w),a.clearTooltip())}),a.clearTimer()},d=v=>{if(!a.isShowing()&&a.isEnabled()){$5(v);const w=o.lazySink(v).getOrDie(),k=v.getSystem().build({dom:o.tooltipDom,components:o.tooltipComponents,events:to(o.mode==="normal"?[xt(_n(),E=>{go(v,Gx)}),xt(ro(),E=>{go(v,Yx)})]:[]),behaviours:Ft([zn.config({})])});a.setTooltip(k),wf(w,k),o.onShow(v,k),Qa.position(w,k,{anchor:o.anchor(v)})}},p=v=>{a.getTooltip().each(w=>{const k=o.lazySink(v).getOrDie();Qa.position(k,w,{anchor:o.anchor(v)})})};return to(ys([[h1(v=>{o.onSetup(v)}),xt(Gx,v=>{a.resetTimer(()=>{d(v)},o.delayForShow())}),xt(Yx,v=>{a.resetTimer(()=>{c(v)},o.delayForHide())}),xt(Jx,v=>{a.resetTimer(()=>{d(v)},0)}),xt(Xx,v=>{a.resetTimer(()=>{c(v)},0)}),xt(Ul(),(v,w)=>{const k=w;k.universal||Qe(k.channels,SE)&&c(v)}),Nu(v=>{c(v)})],(()=>{switch(o.mode){case"normal":return[xt(es(),v=>{go(v,Jx)}),xt(Dh(),v=>{go(v,Xx)}),xt(_n(),v=>{go(v,Gx)}),xt(ro(),v=>{go(v,Yx)})];case"follow-highlight":return[xt(Iy(),(v,w)=>{go(v,Gx)}),xt(sf(),v=>{go(v,Yx)})];case"children-normal":return[xt(es(),(v,w)=>{Pr(v.element).each(k=>{Pc(w.event.target,"[data-mce-tooltip]")&&a.getTooltip().fold(()=>{go(v,Jx)},E=>{a.isShowing()&&(o.onShow(v,E),p(v))})})}),xt(Dh(),v=>{Pr(v.element).fold(()=>{go(v,Xx)},he)}),xt(_n(),v=>{Js(v.element,"[data-mce-tooltip]:hover").each(w=>{a.getTooltip().fold(()=>{go(v,Gx)},k=>{a.isShowing()&&(o.onShow(v,k),p(v))})})}),xt(ro(),v=>{Js(v.element,"[data-mce-tooltip]:hover").fold(()=>{go(v,Yx)},he)})];default:return[xt(es(),(v,w)=>{Pr(v.element).each(k=>{Pc(w.event.target,"[data-mce-tooltip]")&&a.getTooltip().fold(()=>{go(v,Jx)},E=>{a.isShowing()&&(o.onShow(v,E),p(v))})})}),xt(Dh(),v=>{Pr(v.element).fold(()=>{go(v,Xx)},he)})]}})()]))}}),OP=[At("lazySink"),At("tooltipDom"),et("exclusive",!0),et("tooltipComponents",[]),zs("delayForShow",te(300)),zs("delayForHide",te(300)),zs("onSetup",he),fc("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),et("anchor",o=>({type:"hotspot",hotspot:o,layouts:{onLtr:te([Mr,dr,vr,$r,yr,Cs]),onRtl:te([Mr,dr,vr,$r,yr,Cs])},bubble:jl(0,-2,{})})),Fo("onHide"),Fo("onShow")],DP=Object.freeze({__proto__:null,init:()=>{const o=Dn(!0),a=us(),c=us(),d=()=>{a.on(clearTimeout)},p=te("not-implemented");return pa({getTooltip:c.get,isShowing:c.isSet,setTooltip:c.set,clearTooltip:c.clear,clearTimer:d,resetTimer:(v,w)=>{d(),a.set(setTimeout(v,w))},readState:p,isEnabled:()=>o.get(),setEnabled:v=>o.set(v)})}});const Wr=ba({fields:OP,name:"tooltipping",active:TP,state:DP,apis:AP}),{entries:U5,setPrototypeOf:kE,isFrozen:W5,getPrototypeOf:Z5,getOwnPropertyDescriptor:RP}=Object;let{freeze:ql,seal:Tf,create:j5}=Object,{apply:EE,construct:AE}=typeof Reflect<"u"&&Reflect;EE||(EE=function(o,a,c){return o.apply(a,c)}),ql||(ql=function(o){return o}),Tf||(Tf=function(o){return o}),AE||(AE=function(o,a){return new o(...a)});const TE=kd(Array.prototype.forEach),NP=kd(Array.prototype.pop),Qx=kd(Array.prototype.push),UC=kd(String.prototype.toLowerCase),WC=kd(String.prototype.toString),IP=kd(String.prototype.match),rn=kd(String.prototype.replace),c0=kd(String.prototype.indexOf),BP=kd(String.prototype.trim),lu=kd(RegExp.prototype.test),rp=(ZC=TypeError,function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return AE(ZC,a)});var ZC;function kd(o){return function(a){for(var c=arguments.length,d=new Array(c>1?c-1:0),p=1;p<c;p++)d[p-1]=arguments[p];return EE(o,a,d)}}function ks(o,a,c){var d;c=(d=c)!==null&&d!==void 0?d:UC,kE&&kE(o,null);let p=a.length;for(;p--;){let v=a[p];if(typeof v=="string"){const w=c(v);w!==v&&(W5(a)||(a[p]=w),v=w)}o[v]=!0}return o}function fv(o){const a=j5(null);for(const[c,d]of U5(o))a[c]=d;return a}function jC(o,a){for(;o!==null;){const c=RP(o,a);if(c){if(c.get)return kd(c.get);if(typeof c.value=="function")return kd(c.value)}o=Z5(o)}return function(c){return console.warn("fallback value for",c),null}}const OE=ql(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),e2=ql(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),u0=ql(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),K5=ql(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),DE=ql(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),MP=ql(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),q5=ql(["#text"]),PP=ql(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),KC=ql(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),G5=ql(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),qC=ql(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),LP=Tf(/\{\{[\w\W]*|[\w\W]*\}\}/gm),FP=Tf(/<%[\w\W]*|[\w\W]*%>/gm),RE=Tf(/\${[\w\W]*}/gm),zP=Tf(/^data-[\-\w.\u00B7-\uFFFF]/),HP=Tf(/^aria-[\-\w]+$/),Y5=Tf(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),VP=Tf(/^(?:\w+script|data):/i),$P=Tf(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Pm=Tf(/^html$/i);var t2=Object.freeze({__proto__:null,MUSTACHE_EXPR:LP,ERB_EXPR:FP,TMPLIT_EXPR:RE,DATA_ATTR:zP,ARIA_ATTR:HP,IS_ALLOWED_URI:Y5,IS_SCRIPT_OR_DATA:VP,ATTR_WHITESPACE:$P,DOCTYPE_NAME:Pm});const UP=()=>typeof window>"u"?null:window;var WP=function o(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:UP();const c=it=>o(it);if(c.version="3.0.5",c.removed=[],!a||!a.document||a.document.nodeType!==9)return c.isSupported=!1,c;const d=a.document,p=d.currentScript;let{document:v}=a;const{DocumentFragment:w,HTMLTemplateElement:k,Node:E,Element:O,NodeFilter:L,NamedNodeMap:M=a.NamedNodeMap||a.MozNamedAttrMap,HTMLFormElement:H,DOMParser:q,trustedTypes:Y}=a,re=O.prototype,ce=jC(re,"cloneNode"),ve=jC(re,"nextSibling"),ie=jC(re,"childNodes"),ae=jC(re,"parentNode");if(typeof k=="function"){const it=v.createElement("template");it.content&&it.content.ownerDocument&&(v=it.content.ownerDocument)}let ge,ye="";const{implementation:_e,createNodeIterator:Le,createDocumentFragment:Xe,getElementsByTagName:_t}=v,{importNode:vt}=d;let gt={};c.isSupported=typeof U5=="function"&&typeof ae=="function"&&_e&&_e.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Bt,ERB_EXPR:an,TMPLIT_EXPR:vn,DATA_ATTR:In,ARIA_ATTR:qn,IS_SCRIPT_OR_DATA:So,ATTR_WHITESPACE:Vs}=t2;let{IS_ALLOWED_URI:Qs}=t2,mo=null;const zo=ks({},[...OE,...e2,...u0,...DE,...q5]);let Fn=null;const er=ks({},[...PP,...KC,...G5,...qC]);let Ss=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ri=null,Ni=null,Ia=!0,xa=!0,fh=!1,Uv=!0,Ap=!1,mh=!1,lw=!1,Tp=!1,Xm=!1,F0=!1,z0=!1,Wv=!0,IS=!1,cw=!0,Op=!1,Jm={},gh=null;const uw=ks({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let dw=null;const Xo=ks({},["audio","video","img","source","image","track"]);let Qm=null;const Id=ks({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),H0="http://www.w3.org/1998/Math/MathML",BS="http://www.w3.org/2000/svg",hh="http://www.w3.org/1999/xhtml";let Zv=hh,ST=!1,MS=null;const Yz=ks({},[H0,BS,hh],WC);let jv;const Xz=["application/xhtml+xml","text/html"];let gl,V0=null;const Jz=v.createElement("form"),_B=function(it){return it instanceof RegExp||it instanceof Function},PS=function(it){if(!V0||V0!==it){if(it&&typeof it=="object"||(it={}),it=fv(it),jv=jv=Xz.indexOf(it.PARSER_MEDIA_TYPE)===-1?"text/html":it.PARSER_MEDIA_TYPE,gl=jv==="application/xhtml+xml"?WC:UC,mo="ALLOWED_TAGS"in it?ks({},it.ALLOWED_TAGS,gl):zo,Fn="ALLOWED_ATTR"in it?ks({},it.ALLOWED_ATTR,gl):er,MS="ALLOWED_NAMESPACES"in it?ks({},it.ALLOWED_NAMESPACES,WC):Yz,Qm="ADD_URI_SAFE_ATTR"in it?ks(fv(Id),it.ADD_URI_SAFE_ATTR,gl):Id,dw="ADD_DATA_URI_TAGS"in it?ks(fv(Xo),it.ADD_DATA_URI_TAGS,gl):Xo,gh="FORBID_CONTENTS"in it?ks({},it.FORBID_CONTENTS,gl):uw,Ri="FORBID_TAGS"in it?ks({},it.FORBID_TAGS,gl):{},Ni="FORBID_ATTR"in it?ks({},it.FORBID_ATTR,gl):{},Jm="USE_PROFILES"in it&&it.USE_PROFILES,Ia=it.ALLOW_ARIA_ATTR!==!1,xa=it.ALLOW_DATA_ATTR!==!1,fh=it.ALLOW_UNKNOWN_PROTOCOLS||!1,Uv=it.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ap=it.SAFE_FOR_TEMPLATES||!1,mh=it.WHOLE_DOCUMENT||!1,Xm=it.RETURN_DOM||!1,F0=it.RETURN_DOM_FRAGMENT||!1,z0=it.RETURN_TRUSTED_TYPE||!1,Tp=it.FORCE_BODY||!1,Wv=it.SANITIZE_DOM!==!1,IS=it.SANITIZE_NAMED_PROPS||!1,cw=it.KEEP_CONTENT!==!1,Op=it.IN_PLACE||!1,Qs=it.ALLOWED_URI_REGEXP||Y5,Zv=it.NAMESPACE||hh,Ss=it.CUSTOM_ELEMENT_HANDLING||{},it.CUSTOM_ELEMENT_HANDLING&&_B(it.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ss.tagNameCheck=it.CUSTOM_ELEMENT_HANDLING.tagNameCheck),it.CUSTOM_ELEMENT_HANDLING&&_B(it.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ss.attributeNameCheck=it.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),it.CUSTOM_ELEMENT_HANDLING&&typeof it.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ss.allowCustomizedBuiltInElements=it.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ap&&(xa=!1),F0&&(Xm=!0),Jm&&(mo=ks({},[...q5]),Fn=[],Jm.html===!0&&(ks(mo,OE),ks(Fn,PP)),Jm.svg===!0&&(ks(mo,e2),ks(Fn,KC),ks(Fn,qC)),Jm.svgFilters===!0&&(ks(mo,u0),ks(Fn,KC),ks(Fn,qC)),Jm.mathMl===!0&&(ks(mo,DE),ks(Fn,G5),ks(Fn,qC))),it.ADD_TAGS&&(mo===zo&&(mo=fv(mo)),ks(mo,it.ADD_TAGS,gl)),it.ADD_ATTR&&(Fn===er&&(Fn=fv(Fn)),ks(Fn,it.ADD_ATTR,gl)),it.ADD_URI_SAFE_ATTR&&ks(Qm,it.ADD_URI_SAFE_ATTR,gl),it.FORBID_CONTENTS&&(gh===uw&&(gh=fv(gh)),ks(gh,it.FORBID_CONTENTS,gl)),cw&&(mo["#text"]=!0),mh&&ks(mo,["html","head","body"]),mo.table&&(ks(mo,["tbody"]),delete Ri.tbody),it.TRUSTED_TYPES_POLICY){if(typeof it.TRUSTED_TYPES_POLICY.createHTML!="function")throw rp('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof it.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw rp('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ge=it.TRUSTED_TYPES_POLICY,ye=ge.createHTML("")}else ge===void 0&&(ge=function(Bn,no){if(typeof Bn!="object"||typeof Bn.createPolicy!="function")return null;let $s=null;const Lr="data-tt-policy-suffix";no&&no.hasAttribute(Lr)&&($s=no.getAttribute(Lr));const Gr="dompurify"+($s?"#"+$s:"");try{return Bn.createPolicy(Gr,{createHTML:Zr=>Zr,createScriptURL:Zr=>Zr})}catch{return console.warn("TrustedTypes policy "+Gr+" could not be created."),null}}(Y,p)),ge!==null&&typeof ye=="string"&&(ye=ge.createHTML(""));ql&&ql(it),V0=it}},SB=ks({},["mi","mo","mn","ms","mtext"]),kB=ks({},["foreignobject","desc","title","annotation-xml"]),eo=ks({},["title","style","font","a","script"]),Dp=ks({},e2);ks(Dp,u0),ks(Dp,K5);const LS=ks({},DE);ks(LS,MP);const Rp=function(it){Qx(c.removed,{element:it});try{it.parentNode.removeChild(it)}catch{it.remove()}},Kv=function(it,Bn){try{Qx(c.removed,{attribute:Bn.getAttributeNode(it),from:Bn})}catch{Qx(c.removed,{attribute:null,from:Bn})}if(Bn.removeAttribute(it),it==="is"&&!Fn[it])if(Xm||F0)try{Rp(Bn)}catch{}else try{Bn.setAttribute(it,"")}catch{}},kT=function(it){let Bn,no;if(Tp)it="<remove></remove>"+it;else{const Gr=IP(it,/^[\r\n\t ]+/);no=Gr&&Gr[0]}jv==="application/xhtml+xml"&&Zv===hh&&(it='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+it+"</body></html>");const $s=ge?ge.createHTML(it):it;if(Zv===hh)try{Bn=new q().parseFromString($s,jv)}catch{}if(!Bn||!Bn.documentElement){Bn=_e.createDocument(Zv,"template",null);try{Bn.documentElement.innerHTML=ST?ye:$s}catch{}}const Lr=Bn.body||Bn.documentElement;return it&&no&&Lr.insertBefore(v.createTextNode(no),Lr.childNodes[0]||null),Zv===hh?_t.call(Bn,mh?"html":"body")[0]:mh?Bn.documentElement:Lr},ET=function(it){return Le.call(it.ownerDocument||it,it,L.SHOW_ELEMENT|L.SHOW_COMMENT|L.SHOW_TEXT,null,!1)},AT=function(it){return typeof E=="object"?it instanceof E:it&&typeof it=="object"&&typeof it.nodeType=="number"&&typeof it.nodeName=="string"},Yu=function(it,Bn,no){gt[it]&&TE(gt[it],$s=>{$s.call(c,Bn,no,V0)})},EB=function(it){let Bn;if(Yu("beforeSanitizeElements",it,null),(no=it)instanceof H&&(typeof no.nodeName!="string"||typeof no.textContent!="string"||typeof no.removeChild!="function"||!(no.attributes instanceof M)||typeof no.removeAttribute!="function"||typeof no.setAttribute!="function"||typeof no.namespaceURI!="string"||typeof no.insertBefore!="function"||typeof no.hasChildNodes!="function"))return Rp(it),!0;var no;const $s=gl(it.nodeName);if(Yu("uponSanitizeElement",it,{tagName:$s,allowedTags:mo}),it.hasChildNodes()&&!AT(it.firstElementChild)&&(!AT(it.content)||!AT(it.content.firstElementChild))&&lu(/<[/\w]/g,it.innerHTML)&&lu(/<[/\w]/g,it.textContent))return Rp(it),!0;if(!mo[$s]||Ri[$s]){if(!Ri[$s]&&AB($s)&&(Ss.tagNameCheck instanceof RegExp&&lu(Ss.tagNameCheck,$s)||Ss.tagNameCheck instanceof Function&&Ss.tagNameCheck($s)))return!1;if(cw&&!gh[$s]){const Lr=ae(it)||it.parentNode,Gr=ie(it)||it.childNodes;if(Gr&&Lr)for(let Zr=Gr.length-1;Zr>=0;--Zr)Lr.insertBefore(ce(Gr[Zr],!0),ve(it))}return Rp(it),!0}return it instanceof O&&!function(Lr){let Gr=ae(Lr);Gr&&Gr.tagName||(Gr={namespaceURI:Zv,tagName:"template"});const Zr=UC(Lr.tagName),ua=UC(Gr.tagName);return!!MS[Lr.namespaceURI]&&(Lr.namespaceURI===BS?Gr.namespaceURI===hh?Zr==="svg":Gr.namespaceURI===H0?Zr==="svg"&&(ua==="annotation-xml"||SB[ua]):!!Dp[Zr]:Lr.namespaceURI===H0?Gr.namespaceURI===hh?Zr==="math":Gr.namespaceURI===BS?Zr==="math"&&kB[ua]:!!LS[Zr]:Lr.namespaceURI===hh?!(Gr.namespaceURI===BS&&!kB[ua])&&!(Gr.namespaceURI===H0&&!SB[ua])&&!LS[Zr]&&(eo[Zr]||!Dp[Zr]):!(jv!=="application/xhtml+xml"||!MS[Lr.namespaceURI]))}(it)?(Rp(it),!0):$s!=="noscript"&&$s!=="noembed"&&$s!=="noframes"||!lu(/<\/no(script|embed|frames)/i,it.innerHTML)?(Ap&&it.nodeType===3&&(Bn=it.textContent,Bn=rn(Bn,Bt," "),Bn=rn(Bn,an," "),Bn=rn(Bn,vn," "),it.textContent!==Bn&&(Qx(c.removed,{element:it.cloneNode()}),it.textContent=Bn)),Yu("afterSanitizeElements",it,null),!1):(Rp(it),!0)},TT=function(it,Bn,no){if(Wv&&(Bn==="id"||Bn==="name")&&(no in v||no in Jz))return!1;if(!(xa&&!Ni[Bn]&&lu(In,Bn))){if(!(Ia&&lu(qn,Bn))){if(!Fn[Bn]||Ni[Bn]){if(!(AB(it)&&(Ss.tagNameCheck instanceof RegExp&&lu(Ss.tagNameCheck,it)||Ss.tagNameCheck instanceof Function&&Ss.tagNameCheck(it))&&(Ss.attributeNameCheck instanceof RegExp&&lu(Ss.attributeNameCheck,Bn)||Ss.attributeNameCheck instanceof Function&&Ss.attributeNameCheck(Bn))||Bn==="is"&&Ss.allowCustomizedBuiltInElements&&(Ss.tagNameCheck instanceof RegExp&&lu(Ss.tagNameCheck,no)||Ss.tagNameCheck instanceof Function&&Ss.tagNameCheck(no))))return!1}else if(!Qm[Bn]){if(!lu(Qs,rn(no,Vs,""))){if((Bn!=="src"&&Bn!=="xlink:href"&&Bn!=="href"||it==="script"||c0(no,"data:")!==0||!dw[it])&&!(fh&&!lu(So,rn(no,Vs,"")))){if(no)return!1}}}}}return!0},AB=function(it){return it.indexOf("-")>0},TB=function(it){let Bn,no,$s,Lr;Yu("beforeSanitizeAttributes",it,null);const{attributes:Gr}=it;if(!Gr)return;const Zr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Fn};for(Lr=Gr.length;Lr--;){Bn=Gr[Lr];const{name:ua,namespaceURI:qv}=Bn;no=ua==="value"?Bn.value:BP(Bn.value);const e9=no;if($s=gl(ua),Zr.attrName=$s,Zr.attrValue=no,Zr.keepAttr=!0,Zr.forceKeepAttr=void 0,Yu("uponSanitizeAttribute",it,Zr),no=Zr.attrValue,Zr.forceKeepAttr)continue;if(!Zr.keepAttr){Kv(ua,it);continue}if(!Uv&&lu(/\/>/i,no)){Kv(ua,it);continue}Ap&&(no=rn(no,Bt," "),no=rn(no,an," "),no=rn(no,vn," "));const OB=gl(it.nodeName);if(TT(OB,$s,no)){if(!IS||$s!=="id"&&$s!=="name"||(Kv(ua,it),no="user-content-"+no),ge&&typeof Y=="object"&&typeof Y.getAttributeType=="function"&&!qv)switch(Y.getAttributeType(OB,$s)){case"TrustedHTML":no=ge.createHTML(no);break;case"TrustedScriptURL":no=ge.createScriptURL(no)}if(no!==e9)try{qv?it.setAttributeNS(qv,ua,no):it.setAttribute(ua,no)}catch{Kv(ua,it)}}else Kv(ua,it)}Yu("afterSanitizeAttributes",it,null)},Qz=function it(Bn){let no;const $s=ET(Bn);for(Yu("beforeSanitizeShadowDOM",Bn,null);no=$s.nextNode();)Yu("uponSanitizeShadowNode",no,null),EB(no)||(no.content instanceof w&&it(no.content),TB(no));Yu("afterSanitizeShadowDOM",Bn,null)};return c.sanitize=function(it){let Bn,no,$s,Lr,Gr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ST=!it,ST&&(it="<!-->"),typeof it!="string"&&!AT(it)){if(typeof it.toString!="function")throw rp("toString is not a function");if(typeof(it=it.toString())!="string")throw rp("dirty is not a string, aborting")}if(!c.isSupported)return it;if(lw||PS(Gr),c.removed=[],typeof it=="string"&&(Op=!1),Op){if(it.nodeName){const qv=gl(it.nodeName);if(!mo[qv]||Ri[qv])throw rp("root node is forbidden and cannot be sanitized in-place")}}else if(it instanceof E)Bn=kT("<!---->"),no=Bn.ownerDocument.importNode(it,!0),no.nodeType===1&&no.nodeName==="BODY"||no.nodeName==="HTML"?Bn=no:Bn.appendChild(no);else{if(!Xm&&!Ap&&!mh&&it.indexOf("<")===-1)return ge&&z0?ge.createHTML(it):it;if(Bn=kT(it),!Bn)return Xm?null:z0?ye:""}Bn&&Tp&&Rp(Bn.firstChild);const Zr=ET(Op?it:Bn);for(;$s=Zr.nextNode();)EB($s)||($s.content instanceof w&&Qz($s.content),TB($s));if(Op)return it;if(Xm){if(F0)for(Lr=Xe.call(Bn.ownerDocument);Bn.firstChild;)Lr.appendChild(Bn.firstChild);else Lr=Bn;return(Fn.shadowroot||Fn.shadowrootmode)&&(Lr=vt.call(d,Lr,!0)),Lr}let ua=mh?Bn.outerHTML:Bn.innerHTML;return mh&&mo["!doctype"]&&Bn.ownerDocument&&Bn.ownerDocument.doctype&&Bn.ownerDocument.doctype.name&&lu(Pm,Bn.ownerDocument.doctype.name)&&(ua="<!DOCTYPE "+Bn.ownerDocument.doctype.name+`>
`+ua),Ap&&(ua=rn(ua,Bt," "),ua=rn(ua,an," "),ua=rn(ua,vn," ")),ge&&z0?ge.createHTML(ua):ua},c.setConfig=function(it){PS(it),lw=!0},c.clearConfig=function(){V0=null,lw=!1},c.isValidAttribute=function(it,Bn,no){V0||PS({});const $s=gl(it),Lr=gl(Bn);return TT($s,Lr,no)},c.addHook=function(it,Bn){typeof Bn=="function"&&(gt[it]=gt[it]||[],Qx(gt[it],Bn))},c.removeHook=function(it){if(gt[it])return NP(gt[it])},c.removeHooks=function(it){gt[it]&&(gt[it]=[])},c.removeAllHooks=function(){gt={}},c}();const X5=o=>WP().sanitize(o);var zu=tinymce.util.Tools.resolve("tinymce.util.I18n");const ZP={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},J5="temporary-placeholder",NE=o=>()=>un(o,J5).getOr("!not found!"),ap=(o,a)=>{const c=o.toLowerCase();if(zu.isRtl()){const d=((p,v)=>pu(p,v)?p:((w,k)=>w+k)(p,v))(c,"-rtl");return po(a,d)?d:c}return c},n2=(o,a)=>un(a,ap(o,a)),Q5=(o,a)=>{const c=a();return n2(o,c).getOrThunk(NE(c))},GC=()=>uo("add-focusable",[Zs(o=>{I1(o.element,"svg").each(a=>Qt(a,"focusable","false"))})]),eD=(o,a,c,d)=>{var p,v;const w=(E=>!!zu.isRtl()&&po(ZP,E))(a)?["tox-icon--flip"]:[],k=un(c,ap(a,c)).or(d).getOrThunk(NE(c));return{dom:{tag:o.tag,attributes:(p=o.attributes)!==null&&p!==void 0?p:{},classes:o.classes.concat(w),innerHtml:k},behaviours:Ft([...(v=o.behaviours)!==null&&v!==void 0?v:[],GC()])}},Tc=(o,a,c,d=D.none())=>eD(a,o,c(),d),jP={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},IE=su({name:"Notification",factory:o=>{const a=mn("notification-text"),c=ss({dom:Mm(`<p id=${a}>${X5(o.backstageProvider.translate(o.text))}</p>`),behaviours:Ft([zn.config({})])}),d=M=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${M}%`}}}),p=M=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${M}%`}}),v=ss({dom:{tag:"div",classes:o.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[d(0)]},p(0)],behaviours:Ft([zn.config({})])}),w={updateProgress:(M,H)=>{M.getSystem().isConnected()&&v.getOpt(M).each(q=>{zn.set(q,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[d(H)]},p(H)])})},updateText:(M,H)=>{if(M.getSystem().isConnected()){const q=c.get(M);zn.set(q,[_r(H)])}}},k=ys([o.icon.toArray(),o.level.toArray(),o.level.bind(M=>D.from(jP[M])).toArray()]),E=ss(Di.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":o.backstageProvider.translate("Close")}},components:[Tc("close",{tag:"span",classes:["tox-icon"]},o.iconProvider)],buttonBehaviours:Ft([Ns.config({}),Wr.config({...o.backstageProvider.tooltips.getConfig({tooltipText:o.backstageProvider.translate("Close")})})]),action:M=>{o.onAction(M)}})),O=((M,H,q)=>{const Y=q(),re=J(M,ce=>po(Y,ap(ce,Y)));return eD({tag:"div",classes:["tox-notification__icon"]},re.getOr(J5),Y,D.none())})(k,0,o.iconProvider),L=[O,{dom:{tag:"div",classes:["tox-notification__body"]},components:[c.asSpec()],behaviours:Ft([zn.config({})])}];return{uid:o.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":a},classes:o.level.map(M=>["tox-notification","tox-notification--in",`tox-notification--${M}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:Ft([Ns.config({}),Zn.config({}),An.config({mode:"special",onEscape:M=>(o.onAction(M),D.some(!0))})]),components:L.concat(o.progress?[v.asSpec()]:[]).concat([E.asSpec()]),apis:w}},configFields:[Bo("level"),At("progress"),Bo("icon"),At("onAction"),At("text"),At("iconProvider"),At("backstageProvider")],apis:{updateProgress:(o,a,c)=>{o.updateProgress(a,c)},updateText:(o,a,c)=>{o.updateText(a,c)}}});var tD=(o,a,c,d)=>{const p=a.backstage.shared,v=()=>en(o.queryCommandValue("ToggleView")===""?o.getContentAreaContainer():o.getContainer()),w=()=>{const E=Kr(v());return D.some(E)},k=E=>{w().each(O=>{Zt(E,L=>{os(L.element,"width"),ma(L.element)>O.width&&Qn(L.element,"width",O.width+"px")})})};return{open:(E,O,L)=>{const M=()=>{d.on(Y=>{O();const re=L();(ce=>{zn.remove(ce,H),q()})(Y),((ce,ve)=>{xs(ce.element).length===0?((ie,ae)=>{sr.hide(ie),d.clear(),ae&&o.focus()})(ce,ve):((ie,ae)=>{ae&&An.focusIn(ie)})(ce,ve)})(Y,re)})},H=Da(IE.sketch({text:E.text,level:Qe(["success","error","warning","warn","info"],E.type)?E.type:void 0,progress:E.progressBar===!0,icon:E.icon,onAction:M,iconProvider:p.providers.icons,backstageProvider:p.providers}));if(d.isSet()){const Y=Ui(H);d.on(re=>{zn.append(re,Y),sr.reposition(re),Xs.refresh(re),k(re.components())})}else{const Y=Da(sr.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:p.getSink,fireDismissalEventInstead:{},...p.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Ft([An.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),zn.config({}),...Jg(o)&&!p.header.isPositionedAtTop()?[]:[Xs.config({contextual:{lazyContext:()=>D.some(Kr(v())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:ie=>op(o,ie.element).map(ae=>({bounds:sp(ae),optScrollEnv:D.some({currentScrollTop:ae.element.dom.scrollTop,scrollElmTop:wl(ae.element).top})})).getOrThunk(()=>({bounds:Ea(),optScrollEnv:D.none()}))})]])})),re=Ui(H),ce={maxHeightFunction:Ug()},ve={...p.anchors.banner(),overrides:ce};d.set(Y),c.add(Y),sr.showWithinBounds(Y,re,{anchor:ve},w)}ee(E.timeout)&&E.timeout>0&&DC.setEditorTimeout(o,()=>{M()},E.timeout);const q=()=>{d.on(Y=>{sr.reposition(Y),Xs.refresh(Y),k(Y.components())})};return{close:M,reposition:q,text:Y=>{IE.updateText(H,Y)},settings:E,getEl:()=>H.element.dom,progressBar:{value:Y=>{IE.updateProgress(H,Y)}}}},close:E=>{E.close()},getArgs:E=>E.settings}},o2;(function(o){o[o.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",o[o.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(o2||(o2={}));var Of=o2;const YC="tox-menu-nav__js",XC="tox-collection__item",nD="tox-swatch",oD={normal:YC,color:nD},sD="tox-collection__item--enabled",rD="tox-collection__item-icon",s2="tox-collection__item-label",BE="tox-collection__item-caret",Lm="tox-collection__item--active",r2="tox-collection__item-container",a2="tox-collection__item-container--row",ip=o=>un(oD,o).getOr(YC),b$=o=>o==="color"?"tox-swatches":"tox-menu",ME=o=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:b$(o),tieredMenu:"tox-tiered-menu"}),d0=o=>{const a=ME(o);return{backgroundMenu:a.backgroundMenu,selectedMenu:a.selectedMenu,menu:a.menu,selectedItem:a.selectedItem,item:ip(o)}},aD=(o,a,c)=>{const d=ME(c);return{tag:"div",classes:ys([[d.menu,`tox-menu-${a}-column`],o?[d.hasIcons]:[]])}},iD=[r0.parts.items({})],JC=(o,a,c)=>{const d=ME(c);return{dom:{tag:"div",classes:ys([[d.tieredMenu]])},markers:d0(c)}},KP=te([Bo("data"),et("inputAttributes",{}),et("inputStyles",{}),et("tag","input"),et("inputClasses",[]),Fo("onSetValue"),et("styles",{}),et("eventOrder",{}),gn("inputBehaviours",[ot,Zn]),et("selectOnFocus",!0)]),qP=o=>Ft([Zn.config({onFocus:o.selectOnFocus?a=>{const c=a.element,d=uf(c);c.dom.setSelectionRange(0,d.length)}:he})]),GP=o=>({...qP(o),...co(o.inputBehaviours,[ot.config({store:{mode:"manual",...o.data.map(a=>({initialValue:a})).getOr({}),getValue:a=>uf(a.element),setValue:(a,c)=>{uf(a.element)!==c&&vm(a.element,c)}},onSetValue:o.onSetValue})])}),lD=o=>({tag:o.tag,attributes:{type:"text",...o.inputAttributes},styles:o.inputStyles,classes:o.inputClasses}),eh=su({name:"Input",configFields:KP(),factory:(o,a)=>({uid:o.uid,dom:lD(o),components:[],behaviours:GP(o),eventOrder:o.eventOrder})}),cD=mn("refetch-trigger-event"),uD=mn("redirect-menu-item-interaction"),dD="tox-menu__searcher",i2=o=>Js(o.element,`.${dD}`).bind(a=>o.getSystem().getByDom(a).toOptional()),fD=i2,mD=o=>({fetchPattern:ot.getValue(o),selectionStart:o.element.dom.selectionStart,selectionEnd:o.element.dom.selectionEnd}),gD=o=>{const a=(p,v)=>(v.cut(),D.none()),c=(p,v)=>{const w={interactionEvent:v.event,eventType:v.event.raw.type};return Sn(p,uD,w),D.some(!0)},d="searcher-events";return{dom:{tag:"div",classes:[XC]},components:[eh.sketch({inputClasses:[dD,"tox-textfield"],inputAttributes:{...o.placeholder.map(p=>({placeholder:o.i18n(p)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Ft([uo(d,[xt(um(),p=>{go(p,cD)}),xt(cr(),(p,v)=>{v.event.raw.key==="Escape"&&v.stop()})]),An.config({mode:"special",onLeft:a,onRight:a,onSpace:a,onEnter:c,onEscape:c,onUp:c,onDown:c})]),eventOrder:{keydown:[d,An.name()]}})]}},l2="tox-collection--results__js",hD=o=>{var a;return o.dom?{...o,dom:{...o.dom,attributes:{...(a=o.dom.attributes)!==null&&a!==void 0?a:{},id:mn("aria-item-search-result-id"),"aria-selected":"false"}}}:o},QC=(o,a)=>c=>{const d=pt(c,a);return bt(d,p=>({dom:o,components:p}))},pD=(o,a)=>{const c=[];let d=[];return Zt(o,(p,v)=>{a(p,v)?(d.length>0&&c.push(d),d=[],(po(p.dom,"innerHtml")||p.components&&p.components.length>0)&&d.push(p)):d.push(p)}),d.length>0&&c.push(d),bt(c,p=>({dom:{tag:"div",classes:["tox-collection__group"]},components:p}))},c2=(o,a,c)=>r0.parts.items({preprocess:d=>{const p=bt(d,c);return o!=="auto"&&o>1?QC({tag:"div",classes:["tox-collection__group"]},o)(p):pD(p,(v,w)=>a[w].type==="separator")}}),PE=(o,a,c=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(o===1?["tox-collection--list"]:["tox-collection--grid"])},components:[c2(o,a,Ae)]}),u2=o=>On(o,a=>"icon"in a&&a.icon!==void 0),Fm=o=>(console.error(Hi(o)),console.log(o),D.none()),YP=(o,a,c,d,p)=>{const v=(w=c,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[r0.parts.items({preprocess:k=>pD(k,(E,O)=>w[O].type==="separator")})]});var w;return{value:o,dom:v.dom,components:v.components,items:c}},LE=(o,a,c,d,p)=>{if(p.menuType==="color"){const v=(w=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[r0.parts.items({preprocess:w!=="auto"?QC({tag:"div",classes:["tox-swatches__row"]},w):Ae})]}]}))(d);return{value:o,dom:v.dom,components:v.components,items:c}}if(p.menuType==="normal"&&d==="auto"){const v=PE(d,c);return{value:o,dom:v.dom,components:v.components,items:c}}if(p.menuType==="normal"||p.menuType==="searchable"){const v=p.menuType!=="searchable"?PE(d,c):p.searchMode.searchMode==="search-with-field"?((w,k,E)=>{const O=mn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(w===1?["tox-collection--list"]:["tox-collection--grid"])},components:[gD({i18n:zu.translate,placeholder:E.placeholder}),{dom:{tag:"div",classes:[...w===1?["tox-collection--list"]:["tox-collection--grid"],l2],attributes:{id:O}},components:[c2(w,k,hD)]}]}})(d,c,p.searchMode):((w,k,E=!0)=>{const O=mn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",l2].concat(w===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:O}},components:[c2(w,k,hD)]}})(d,c);return{value:o,dom:v.dom,components:v.components,items:c}}if(p.menuType==="listpreview"&&d!=="auto"){const v=(w=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[r0.parts.items({preprocess:QC({tag:"div",classes:["tox-collection__group"]},w)})]}))(d);return{value:o,dom:v.dom,components:v.components,items:c}}return{value:o,dom:aD(a,d,p.menuType),components:iD,items:c}},oa=lr("type"),FE=lr("name"),zE=lr("label"),Hu=lr("text"),HE=lr("title"),VE=lr("icon"),f0=lr("value"),XP=Si("fetch"),bD=Si("getSubmenuItems"),mv=Si("onAction"),vD=Si("onItemAction"),lp=zs("onSetup",()=>he),JP=Cr("name"),cp=Cr("text"),QP=Cr("role"),Vu=Cr("icon"),d2=Cr("tooltip"),$E=Cr("label"),gv=Cr("shortcut"),UE=jc("select"),e_=Vr("active",!1),v$=Vr("borderless",!1),$u=Vr("enabled",!0),t_=Vr("primary",!1),yD=o=>et("columns",o),Oc=et("meta",{}),WE=zs("onAction",he),m0=o=>Dl("type",o),ZE=o=>qr("name","name",Cg(()=>mn(`${o}-name`)),ia),xD=Pn([oa,cp]),e7=Pn([m0("autocompleteitem"),e_,$u,Oc,f0,cp,Vu]),zm=[$u,d2,Vu,cp,lp],jE=Pn([oa,mv,gv].concat(zm)),wD=o=>ir("toolbarbutton",jE,o),f2=[e_].concat(zm),n_=Pn(f2.concat([oa,mv,gv])),o_=o=>ir("ToggleButton",n_,o),CD=[zs("predicate",Ce),fc("scope","node",["node","editor"]),fc("position","selection",["node","selection","line"])],t7=zm.concat([m0("contextformbutton"),t_,mv,Aa("original",Ae)]),n7=f2.concat([m0("contextformbutton"),t_,mv,Aa("original",Ae)]),o7=zm.concat([m0("contextformbutton")]),s7=f2.concat([m0("contextformtogglebutton")]),r7=ea("type",{contextformbutton:t7,contextformtogglebutton:n7}),a7=Pn([m0("contextform"),zs("initValue",te("")),$E,Vi("commands",r7),Dr("launch",ea("type",{contextformbutton:o7,contextformtogglebutton:s7}))].concat(CD)),_D=Pn([m0("contexttoolbar"),lr("items")].concat(CD)),s_=[oa,lr("src"),Cr("alt"),hs("classes",[],ia)],i7=Pn(s_),l7=[oa,Hu,JP,hs("classes",["tox-collection__item-label"],ia)],c7=Pn(l7),SD=rm(()=>Tu("type",{cardimage:i7,cardtext:c7,cardcontainer:hv})),hv=Pn([oa,Dl("direction","horizontal"),Dl("align","left"),Dl("valign","middle"),Vi("items",SD)]),g0=[$u,cp,QP,gv,qr("value","value",Cg(()=>mn("menuitem-value")),_l()),Oc],u7=Pn([oa,$E,Vi("items",SD),lp,WE].concat(g0)),KE=Pn([oa,e_,Vu].concat(g0)),kD=[oa,lr("fancytype"),WE],ED=[et("initData",{})].concat(kD),AD=[jc("select"),Ei("initData",{},[Vr("allowCustomColors",!0),Dl("storageKey","default"),f1("colors",_l())])].concat(kD),TD=ea("fancytype",{inserttable:ED,colorswatch:AD}),OD=Pn([oa,lp,WE,Vu].concat(g0)),DD=Pn([oa,bD,lp,Vu].concat(g0)),d7=Pn([oa,Vu,e_,lp,mv].concat(g0)),qE=(o,a,c)=>{const d=ca(o.element,"."+c);if(d.length>0){const p=ls(d,v=>{const w=v.dom.getBoundingClientRect().top,k=d[0].dom.getBoundingClientRect().top;return Math.abs(w-k)>a}).getOr(d.length);return D.some({numColumns:p,numRows:Math.ceil(d.length/p)})}return D.none()},m2=o=>((a,c)=>Ft([uo(a,c)]))(mn("unnamed-events"),o),r_="silver.readonly",f7=Pn([Ta("readonly",$l)]),h0=(o,a)=>{const c=o.mainUi.outerContainer.element,d=[o.mainUi.mothership,...o.uiMotherships];a&&Zt(d,p=>{p.broadcastOn([P()],{target:c})}),Zt(d,p=>{p.broadcastOn([r_],{readonly:a})})},RD=(o,a)=>{o.on("init",()=>{o.mode.isReadOnly()&&h0(a,!0)}),o.on("SwitchMode",()=>h0(a,o.mode.isReadOnly())),pE(o)&&o.mode.set("readonly")},va=()=>cl.config({channels:{[r_]:{schema:f7,onReceive:(o,a)=>{Kn.set(o,a.readonly)}}}}),mi=o=>Kn.config({disabled:o}),ND=o=>Kn.config({disabled:o,disableClass:"tox-tbtn--disabled"}),a_=o=>Kn.config({disabled:o,disableClass:"tox-tbtn--disabled",useNative:!1}),g2=(o,a)=>{const c=o.getApi(a);return d=>{d(c)}},up=(o,a)=>Zs(c=>{g2(o,c)(d=>{const p=o.onSetup(d);K(p)&&a.set(p)})}),th=(o,a)=>Nu(c=>g2(o,c)(a.get())),ID=(o,a)=>Yc((c,d)=>{g2(o,c)(o.onAction),o.triggersSubmenu||a!==Of.CLOSE_ON_EXECUTE||(c.getSystem().isConnected()&&go(c,ub()),d.stop())}),m7={[al()]:["disabling","alloy.base.behaviour","toggling","item-events"]},pv=za,bv=(o,a,c,d)=>{const p=Dn(he);return{type:"item",dom:a.dom,components:pv(a.optComponents),data:o.data,eventOrder:m7,hasSubmenu:o.triggersSubmenu,itemBehaviours:Ft([uo("item-events",[ID(o,c),up(o,p),th(o,p)]),(v=()=>!o.enabled||d.isDisabled(),Kn.config({disabled:v,disableClass:"tox-collection__item--state-disabled"})),va(),zn.config({})].concat(o.itemBehaviours))};var v},vv=o=>({value:o.value,meta:{text:o.text.getOr(""),...o.meta}}),i_=o=>{const a=Ef.os.isMacOS()||Ef.os.isiOS(),c=a?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},d=o.split("+"),p=bt(d,v=>{const w=v.toLowerCase().trim();return po(c,w)?c[w]:v});return a?p.join(""):p.join("+")},GE=(o,a,c=[rD])=>Tc(o,{tag:"div",classes:c},a),BD=o=>({dom:{tag:"div",classes:[s2]},components:[_r(zu.translate(o))]}),YE=(o,a)=>({dom:{tag:"div",classes:a,innerHtml:o}}),MD=(o,a)=>({dom:{tag:"div",classes:[s2]},components:[{dom:{tag:o.tag,styles:o.styles},components:[_r(zu.translate(a))]}]}),PD=o=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[_r(i_(o))]}),LD=o=>GE("checkmark",o,["tox-collection__item-checkmark"]),FD=o=>{const a=o.map(c=>({attributes:{id:mn("menu-item"),"aria-label":zu.translate(c)}})).getOr({});return{tag:"div",classes:[YC,XC],...a}},h2=(o,a,c,d=D.none())=>o.presets==="color"?((p,v,w)=>{const k=p.value,E=p.iconContent.map(L=>((M,H,q)=>{const Y=H();return n2(M,Y).or(q).getOrThunk(NE(Y))})(L,v.icons,w)),O=p.ariaLabel.map(L=>({"aria-label":v.translate(L),"data-mce-name":L})).getOr({});return{dom:(()=>{const L=nD,M=E.getOr(""),H={tag:"div",attributes:O,classes:[L]};return k==="custom"?{...H,tag:"button",classes:[...H.classes,"tox-swatches__picker-btn"],innerHtml:M}:k==="remove"?{...H,classes:[...H.classes,"tox-swatch--remove"],innerHtml:M}:$(k)?{...H,attributes:{...H.attributes,"data-mce-color":k},styles:{"background-color":k},innerHtml:M}:H})(),optComponents:[]}})(o,a,d):((p,v,w,k)=>{const E={tag:"div",classes:[rD]},O=w?p.iconContent.map(q=>Tc(q,E,v.icons,k)).orThunk(()=>D.some({dom:E})):D.none(),L=p.checkMark,M=D.from(p.meta).fold(()=>BD,q=>po(q,"style")?Ge(MD,q.style):BD),H=p.htmlContent.fold(()=>p.textContent.map(M),q=>D.some(YE(q,[s2])));return{dom:FD(p.ariaLabel),optComponents:[O,H,p.shortcutContent.map(PD),L,p.caret]}})(o,a,c,d),zD=(o,a,c)=>un(o,"tooltipWorker").map(d=>[Wr.config({lazySink:a.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:p=>({type:"submenu",item:p,overrides:{maxHeightFunction:Ug}}),mode:"follow-highlight",onShow:(p,v)=>{d(w=>{Wr.setComponents(p,[df({element:en(w)})])})}})]).getOrThunk(()=>c.map(d=>[Wr.config({...a.providers.tooltips.getConfig({tooltipText:d}),mode:"follow-highlight"})]).getOr([])),XE=(o,a)=>{const c=(d=>iv.DOM.encode(d))(zu.translate(o));if(a.length>0){const d=new RegExp((p=>p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(a),"gi");return c.replace(d,p=>`<span class="tox-autocompleter-highlight">${p}</span>`)}return c},JE=(o,a)=>bt(o,c=>{switch(c.type){case"cardcontainer":return((v,w)=>{const k=v.direction==="vertical"?"tox-collection__item-container--column":a2,E=v.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[r2,k,E,(()=>{switch(v.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:w}})(c,JE(c.items,a));case"cardimage":return((v,w,k)=>({dom:{tag:"img",classes:w,attributes:{src:v,alt:k.getOr("")}}}))(c.src,c.classes,c.alt);case"cardtext":const d=c.name.exists(v=>Qe(a.cardText.highlightOn,v)),p=d?D.from(a.cardText.matchText).getOr(""):"";return YE(XE(c.text,p),c.classes)}}),nh=ji(mE(),gE()),QE=o=>({value:p0(o)}),eA=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,tA=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,HD=o=>eA.test(o)||tA.test(o),p0=o=>Os(o,"#").toUpperCase(),nA=o=>{const a=o.toString(16);return(a.length===1?"0"+a:a).toUpperCase()},p2=o=>{const a=nA(o.red)+nA(o.green)+nA(o.blue);return QE(a)},oA=Math.min,VD=Math.max,l_=Math.round,g7=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,$D=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,oh=(o,a,c,d)=>({red:o,green:a,blue:c,alpha:d}),b2=o=>{const a=parseInt(o,10);return a.toString()===o&&a>=0&&a<=255},UD=o=>{let a,c,d;const p=(o.hue||0)%360;let v=o.saturation/100,w=o.value/100;if(v=VD(0,oA(v,1)),w=VD(0,oA(w,1)),v===0)return a=c=d=l_(255*w),oh(a,c,d,1);const k=p/60,E=w*v,O=E*(1-Math.abs(k%2-1)),L=w-E;switch(Math.floor(k)){case 0:a=E,c=O,d=0;break;case 1:a=O,c=E,d=0;break;case 2:a=0,c=E,d=O;break;case 3:a=0,c=O,d=E;break;case 4:a=O,c=0,d=E;break;case 5:a=E,c=0,d=O;break;default:a=c=d=0}return a=l_(255*(a+L)),c=l_(255*(c+L)),d=l_(255*(d+L)),oh(a,c,d,1)},Ed=o=>{const a=(v=>{const w=(E=>({value:E.value.replace(eA,(L,M,H,q)=>M+M+H+H+q+q)}))(v),k=tA.exec(w.value);return k===null?["FFFFFF","FF","FF","FF"]:k})(o),c=parseInt(a[1],16),d=parseInt(a[2],16),p=parseInt(a[3],16);return oh(c,d,p,1)},sA=(o,a,c,d)=>{const p=parseInt(o,10),v=parseInt(a,10),w=parseInt(c,10),k=parseFloat(d);return oh(p,v,w,k)},c_=o=>{const a=g7.exec(o);if(a!==null)return D.some(sA(a[1],a[2],a[3],"1"));const c=$D.exec(o);return c!==null?D.some(sA(c[1],c[2],c[3],c[4])):D.none()},WD=o=>`rgba(${o.red},${o.green},${o.blue},${o.alpha})`,ZD=oh(255,0,0,1),b0=(o,a)=>{o.dispatch("ResizeContent",a)},yv=(o,a)=>{o.dispatch("TextColorChange",a)},jD=(o,a)=>o.dispatch("ResolveName",{name:a.nodeName.toLowerCase(),target:a}),xv=(o,a)=>()=>{o(),a()},ya=o=>v0(o,"NodeChange",a=>{a.setEnabled(o.selection.isEditable())}),Df=(o,a)=>c=>{const d=ya(o)(c),p=((v,w)=>k=>{const E=uc(),O=()=>{k.setActive(v.formatter.match(w));const L=v.formatter.formatChanged(w,k.setActive);E.set(L)};return v.initialized?O():v.once("init",O),()=>{v.off("init",O),E.clear()}})(o,a)(c);return()=>{d(),p()}},v0=(o,a,c)=>d=>{const p=()=>c(d),v=()=>{c(d),o.on(a,p)};return o.initialized?v():o.once("init",v),()=>{o.off("init",v),o.off(a,p)}},KD=o=>a=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("mceToggleFormat",!1,a.format)})},Gl=(o,a)=>()=>o.execCommand(a);var Dc=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const u_={},qD=o=>un(u_,o).getOrThunk(()=>{const a=`tinymce-custom-colors-${o}`,c=Dc.getItem(a);if(W(c)){const p=Dc.getItem("tinymce-custom-colors");Dc.setItem(a,$(p)?p:"[]")}const d=((p,v=10)=>{const w=Dc.getItem(p),k=h(w)?JSON.parse(w):[],E=v-(O=k).length<0?O.slice(0,v):O;var O;const L=M=>{E.splice(M,1)};return{add:M=>{((H,q)=>{const Y=hn(H,q);return Y===-1?D.none():D.some(Y)})(E,M).each(L),E.unshift(M),E.length>v&&E.pop(),Dc.setItem(p,JSON.stringify(E))},state:()=>E.slice(0)}})(a,10);return u_[o]=d,d}),rA=(o,a)=>{qD(o).add(a)},wv=(o,a,c)=>({hue:o,saturation:a,value:c}),d_=o=>{let a=0,c=0,d=0;const p=o.red/255,v=o.green/255,w=o.blue/255,k=Math.min(p,Math.min(v,w)),E=Math.max(p,Math.max(v,w));return k===E?(d=k,wv(0,0,100*d)):(a=p===k?3:w===k?1:5,a=60*(a-(p===k?v-w:w===k?p-v:w-p)/(E-k)),c=(E-k)/E,d=E,wv(Math.round(a),Math.round(100*c),Math.round(100*d)))},f_=o=>p2(UD(o)),GD=o=>{return(a=o,HD(a)?D.some({value:p0(a)}):D.none()).orThunk(()=>c_(o).map(p2)).getOrThunk(()=>{const c=document.createElement("canvas");c.height=1,c.width=1;const d=c.getContext("2d");d.clearRect(0,0,c.width,c.height),d.fillStyle="#FFFFFF",d.fillStyle=o,d.fillRect(0,0,1,1);const p=d.getImageData(0,0,1,1).data,v=p[0],w=p[1],k=p[2],E=p[3];return p2(oh(v,w,k,E))});var a},aA="forecolor",iA="hilitecolor",h7=o=>{const a=[];for(let c=0;c<o.length;c+=2)a.push({text:o[c+1],value:"#"+GD(o[c]).value,icon:"checkmark",type:"choiceitem"});return a},Uu=o=>a=>a.options.get(o),v2="#000000",y0=(o,a)=>a===aA&&o.options.isSet("color_map_foreground")?Uu("color_map_foreground")(o):a===iA&&o.options.isSet("color_map_background")?Uu("color_map_background")(o):Uu("color_map")(o),m_=(o,a="default")=>Math.max(5,Math.ceil(Math.sqrt(y0(o,a).length))),YD=(o,a)=>{const c=Uu("color_cols")(o),d=m_(o,a);return c===m_(o)?d:c},lA=(o,a="default")=>Math.round(a===aA?Uu("color_cols_foreground")(o):a===iA?Uu("color_cols_background")(o):Uu("color_cols")(o)),cA=Uu("custom_colors"),XD=Uu("color_default_foreground"),JD=Uu("color_default_background"),QD=(o,a)=>{const c=en(o.selection.getStart()),d=a==="hilitecolor"?kg(c,p=>{if(qs(p)){const v=ar(p,"background-color");return Wo(c_(v).exists(w=>w.alpha!==0),v)}return D.none()}).getOr("rgba(0, 0, 0, 0)"):ar(c,"color");return c_(d).map(p=>"#"+p2(p).value)},g_=o=>{const a="choiceitem",c={type:a,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return o?[c,{type:a,text:"Custom color",icon:"color-picker",value:"custom"}]:[c]},uA=(o,a,c,d)=>{c==="custom"?nR(o)(p=>{p.each(v=>{rA(a,v),o.execCommand("mceApplyTextcolor",a,v),d(v)})},QD(o,a).getOr(v2)):c==="remove"?(d(""),o.execCommand("mceRemoveTextcolor",a)):(d(c),o.execCommand("mceApplyTextcolor",a,c))},dA=(o,a,c)=>o.concat((d=>bt(qD(d).state(),p=>({type:"choiceitem",text:p,icon:"checkmark",value:p})))(a).concat(g_(c))),eR=(o,a,c)=>d=>{d(dA(o,a,c))},fA=(o,a,c)=>{const d=a==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";o.setIconFill(d,c)},mA=(o,a)=>{o.setTooltip(a)},tR=(o,a)=>c=>{const d=QD(o,a);return Ws(d,c.toUpperCase())},gA=(o,a,c)=>{if(bu(c))return a==="forecolor"?"Text color":"Background color";const d=a==="forecolor"?"Text color {0}":"Background color {0}",p=dA(y0(o,a),a,!1),v=J(p,w=>w.value===c).getOr({text:""}).text;return o.translate([d,o.translate(v)])},hA=(o,a,c,d)=>{o.ui.registry.addSplitButton(a,{tooltip:gA(o,c,d.get()),presets:"color",icon:a==="forecolor"?"text-color":"highlight-bg-color",select:tR(o,c),columns:lA(o,c),fetch:eR(y0(o,c),c,cA(o)),onAction:p=>{uA(o,c,d.get(),he)},onItemAction:(p,v)=>{uA(o,c,v,w=>{d.set(w),yv(o,{name:a,color:w})})},onSetup:p=>{fA(p,a,d.get());const v=w=>{w.name===a&&(fA(p,w.name,w.color),mA(p,gA(o,c,w.color)))};return o.on("TextColorChange",v),xv(ya(o)(p),()=>{o.off("TextColorChange",v)})}})},Cv=(o,a,c,d,p)=>{o.ui.registry.addNestedMenuItem(a,{text:d,icon:a==="forecolor"?"text-color":"highlight-bg-color",onSetup:v=>(mA(v,gA(o,c,p.get())),fA(v,a,p.get()),ya(o)(v)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:tR(o,c),initData:{storageKey:c},onAction:v=>{uA(o,c,v.value,w=>{p.set(w),yv(o,{name:a,color:w})})}}]})},nR=o=>(a,c)=>{let d=!1;const p={colorpicker:c};o.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:p,onAction:(v,w)=>{w.name==="hex-valid"&&(d=w.value)},onSubmit:v=>{const w=v.getData().colorpicker;d?(a(D.from(w)),v.close()):o.windowManager.alert(o.translate(["Invalid hex color code: {0}",w]))},onClose:he,onCancel:()=>{a(D.none())}})},x0=(o,a,c,d,p,v,w,k)=>{const E=u2(a),O=pA(a,c,d,p!=="color"?"normal":"color",v,w,k);return LE(o,E,O,d,{menuType:p})},pA=(o,a,c,d,p,v,w)=>za(bt(o,k=>{return k.type==="choiceitem"?(E=k,ir("choicemenuitem",KE,E)).fold(Fm,O=>D.some(((L,M,H,q,Y,re,ce,ve=!0)=>{const ie=h2({presets:H,textContent:M?L.text:D.none(),htmlContent:D.none(),ariaLabel:L.text,iconContent:L.icon,shortcutContent:M?L.shortcut:D.none(),checkMark:M?D.some(LD(ce.icons)):D.none(),caret:D.none(),value:L.value},ce,ve),ae=L.text.filter(te(!M)).map(ge=>Wr.config(ce.tooltips.getConfig({tooltipText:ce.translate(ge)})));return ws(bv({data:vv(L),enabled:L.enabled,getApi:ge=>({setActive:ye=>{Un.set(ge,ye)},isActive:()=>Un.isOn(ge),isEnabled:()=>!Kn.isDisabled(ge),setEnabled:ye=>Kn.set(ge,!ye)}),onAction:ge=>q(L.value),onSetup:ge=>(ge.setActive(Y),he),triggersSubmenu:!1,itemBehaviours:[...ae.toArray()]},ie,re,ce),{toggling:{toggleClass:sD,toggleOnExecute:!1,selected:L.active,exclusive:!0}})})(O,c===1,d,a,v(O.value),p,w,u2(o)))):D.none();var E})),y2=(o,a)=>{const c=d0(a);return o===1?{mode:"menu",moveOnTab:!0}:o==="auto"?{mode:"grid",selector:"."+c.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(a==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:d=>a==="color"?Js(d.element,"[aria-checked=true]"):D.none()}},bA=mn("cell-over"),oR=mn("cell-execute"),p7=(o,a,c)=>{const d=v=>Sn(v,oR,{row:o,col:a}),p=(v,w)=>{w.stop(),d(v)};return Da({dom:{tag:"div",attributes:{role:"button","aria-label":c}},behaviours:Ft([uo("insert-table-picker-cell",[xt(_n(),Zn.focus),xt(al(),d),xt(ta(),p),xt(ef(),p)]),Un.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Zn.config({onFocus:v=>Sn(v,bA,{row:o,col:a})})])})},sR=o=>qo(o,a=>bt(a,Ui)),rR=(o,a)=>_r(`${a}x${o}`),aR={inserttable:(o,a)=>{const c=(w=>(k,E)=>w.shared.providers.translate(["{0} columns, {1} rows",E,k]))(a),d=((w,k,E)=>{const O=[];for(let L=0;L<10;L++){const M=[];for(let H=0;H<10;H++){const q=w(L+1,H+1);M.push(p7(L,H,q))}O.push(M)}return O})(c),p=rR(0,0),v=ss({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[p],behaviours:Ft([zn.config({})])});return{type:"widget",data:{value:mn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[nh.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:sR(d).concat(v.asSpec()),behaviours:Ft([uo("insert-table-picker",[Zs(w=>{zn.set(v.get(w),[p])}),Ag(bA,(w,k,E)=>{const{row:O,col:L}=E.event;((M,H,q,Y,re)=>{for(let ce=0;ce<10;ce++)for(let ve=0;ve<10;ve++)Un.set(M[ce][ve],ce<=H&&ve<=q)})(d,O,L),zn.set(v.get(w),[rR(O+1,L+1)])}),Ag(oR,(w,k,E)=>{const{row:O,col:L}=E.event;go(w,ub()),o.onAction({numRows:O+1,numColumns:L+1})})]),An.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(o,a)=>{const c=((w,k)=>{const E=w.initData.allowCustomColors&&k.colorinput.hasCustomColors();return w.initData.colors.fold(()=>dA(k.colorinput.getColors(w.initData.storageKey),w.initData.storageKey,E),O=>O.concat(g_(E)))})(o,a),d=a.colorinput.getColorCols(o.initData.storageKey),p="color",v={...x0(mn("menu-value"),c,w=>{o.onAction({value:w})},d,p,Of.CLOSE_ON_EXECUTE,o.select.getOr(Ce),a.shared.providers),markers:d0(p),movement:y2(d,p),showMenuRole:!1};return{type:"widget",data:{value:mn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[nh.widget(r0.sketch(v))]}}},iR=o=>({type:"separator",dom:{tag:"div",classes:[XC,"tox-collection__group-heading"]},components:o.text.map(_r).toArray()});var b7=Object.freeze({__proto__:null,getCoupled:(o,a,c,d)=>c.getOrCreate(o,a,d),getExistingCoupled:(o,a,c,d)=>c.getExisting(o,a,d)}),lR=[Ta("others",rb(_o.value,_l()))],h_=Object.freeze({__proto__:null,init:()=>{const o={},a=(d,p)=>{if(sn(d.others).length===0)throw new Error("Cannot find any known coupled components");return un(o,p)},c=te({});return pa({readState:c,getExisting:(d,p,v)=>a(p,v).orThunk(()=>(un(p.others,v).getOrDie("No information found for coupled component: "+v),D.none())),getOrCreate:(d,p,v)=>a(p,v).getOrThunk(()=>{const w=un(p.others,v).getOrDie("No information found for coupled component: "+v)(d),k=d.getSystem().build(w);return o[v]=k,k})})}});const Sr=ba({fields:lR,name:"coupling",apis:b7,state:h_}),x2=o=>{let a=D.none(),c=[];const d=w=>{p()?v(w):c.push(w)},p=()=>a.isSome(),v=w=>{a.each(k=>{setTimeout(()=>{w(k)},0)})};return o(w=>{p()||(a=D.some(w),Zt(c,v),c=[])}),{get:d,map:w=>x2(k=>{d(E=>{k(w(E))})}),isReady:p}},v7={nu:x2,pure:o=>x2(a=>{a(o)})},y7=o=>{setTimeout(()=>{throw o},0)},_v=o=>{const a=c=>{o().then(c,y7)};return{map:c=>_v(()=>o().then(c)),bind:c=>_v(()=>o().then(d=>c(d).toPromise())),anonBind:c=>_v(()=>o().then(()=>c.toPromise())),toLazy:()=>v7.nu(a),toCached:()=>{let c=null;return _v(()=>(c===null&&(c=o()),c))},toPromise:o,get:a}},dp=o=>_v(()=>new Promise(o)),Hm=o=>_v(()=>Promise.resolve(o)),vA=te("sink"),cR=te(ou({name:vA(),overrides:te({dom:{tag:"div"},behaviours:Ft([Qa.config({useFixed:Ne})]),events:to([fm(cr()),fm(Tt()),fm(ta())])})})),uR=(o,a)=>{const c=o.getHotspot(a).getOr(a),d="hotspot",p=o.getAnchorOverrides();return o.layouts.fold(()=>({type:d,hotspot:c,overrides:p}),v=>({type:d,hotspot:c,overrides:p,layouts:v}))},p_=(o,a,c,d,p,v,w)=>((E,O,L,M,H,q,Y)=>{const re=((ve,ie,ae)=>(0,ve.fetch)(ae).map(ie))(E,O,M),ce=dR(M,E);return re.map(ve=>ve.bind(ie=>{const ae=ie.menus[ie.primary];return D.from(ae).each(ge=>{E.listRole.each(ye=>{ge.role=ye})}),D.from(Yg.sketch({...q.menu(),uid:xc(""),data:ie,highlightOnOpen:Y,onOpenMenu:(ge,ye)=>{const _e=ce().getOrDie();Qa.position(_e,ye,{anchor:L}),T.decloak(H)},onOpenSubmenu:(ge,ye,_e)=>{const Le=ce().getOrDie();Qa.position(Le,_e,{anchor:{type:"submenu",item:ye}}),T.decloak(H)},onRepositionMenu:(ge,ye,_e)=>{const Le=ce().getOrDie();Qa.position(Le,ye,{anchor:L}),Zt(_e,Xe=>{Qa.position(Le,Xe.triggeredMenu,{anchor:{type:"submenu",item:Xe.triggeringItem}})})},onEscape:()=>(Zn.focus(M),T.close(H),D.some(!0))}))}))})(o,a,uR(o,c),c,d,p,w).map(E=>(E.fold(()=>{T.isOpen(d)&&T.close(d)},O=>{T.cloak(d),T.open(d,O),v(d)}),d)),x7=(o,a,c,d,p,v,w)=>(T.close(d),Hm(d)),yA=(o,a,c,d,p,v)=>{const w=Sr.getCoupled(c,"sandbox");return(T.isOpen(w)?x7:p_)(o,a,c,w,d,p,v)},dR=(o,a)=>o.getSystem().getByUid(a.uid+"-"+vA()).map(c=>()=>_o.value(c)).getOrThunk(()=>a.lazySink.fold(()=>()=>_o.error(new Error("No internal sink is specified, nor could an external sink be found")),c=>()=>c(o))),xA=o=>{T.getState(o).each(a=>{Yg.repositionMenus(a)})},wA=(o,a,c)=>{const d=Lg(),p=dR(a,o);return{dom:{tag:"div",classes:o.sandboxClasses,attributes:{id:d.id}},behaviours:$n(o.sandboxBehaviours,[ot.config({store:{mode:"memory",initialValue:a}}),T.config({onOpen:(v,w)=>{const k=uR(o,a);d.link(a.element),o.matchWidth&&((E,O,L)=>{const M=Vo.getCurrent(O).getOr(O),H=ma(E.element);L?Qn(M.element,"min-width",H+"px"):((q,Y)=>{pg.set(q,Y)})(M.element,H)})(k.hotspot,w,o.useMinWidth),o.onOpen(k,v,w),c!==void 0&&c.onOpen!==void 0&&c.onOpen(v,w)},onClose:(v,w)=>{d.unlink(a.element),p().getOr(w).element.dom.dispatchEvent(new window.FocusEvent("focusout")),c!==void 0&&c.onClose!==void 0&&c.onClose(v,w)},isPartOf:(v,w,k)=>ll(w,k)||ll(a,k),getAttachPoint:()=>p().getOrDie()}),Vo.config({find:v=>T.getState(v).bind(w=>Vo.getCurrent(w))}),cl.config({channels:{...se({isExtraPart:Ce}),...De({doReposition:xA})}})])}},fR=o=>{const a=Sr.getCoupled(o,"sandbox");xA(a)},CA=()=>[et("sandboxClasses",[]),jn("sandboxBehaviours",[Vo,cl,T,ot])],w7=te([At("dom"),At("fetch"),Fo("onOpen"),il("onExecute"),et("getHotspot",D.some),et("getAnchorOverrides",te({})),mf(),gn("dropdownBehaviours",[Un,Sr,An,Zn]),At("toggleClass"),et("eventOrder",{}),Bo("lazySink"),et("matchWidth",!1),et("useMinWidth",!1),Bo("role"),Bo("listRole")].concat(CA())),C7=te([_d({schema:[Ng(),et("fakeFocus",!1)],name:"menu",defaults:o=>({onExecute:o.onExecute})}),cR()]),fl=Sl({name:"Dropdown",configFields:w7(),partFields:C7(),factory:(o,a,c,d)=>{const p=E=>{T.getState(E).each(O=>{Yg.highlightPrimary(O)})},v=(E,O,L)=>yA(o,Ae,E,d,O,L),w={expand:E=>{Un.isOn(E)||v(E,he,Ki.HighlightNone).get(he)},open:E=>{Un.isOn(E)||v(E,he,Ki.HighlightMenuAndItem).get(he)},refetch:E=>Sr.getExistingCoupled(E,"sandbox").fold(()=>v(E,he,Ki.HighlightMenuAndItem).map(he),O=>p_(o,Ae,E,O,d,he,Ki.HighlightMenuAndItem).map(he)),isOpen:Un.isOn,close:E=>{Un.isOn(E)&&v(E,he,Ki.HighlightMenuAndItem).get(he)},repositionMenus:E=>{Un.isOn(E)&&fR(E)}},k=(E,O)=>(rf(E),D.some(!0));return{uid:o.uid,dom:o.dom,components:a,behaviours:co(o.dropdownBehaviours,[Un.config({toggleClass:o.toggleClass,aria:{mode:"expanded"}}),Sr.config({others:{sandbox:E=>wA(o,E,{onOpen:()=>Un.on(E),onClose:()=>Un.off(E)})}}),An.config({mode:"special",onSpace:k,onEnter:k,onDown:(E,O)=>{if(fl.isOpen(E)){const L=Sr.getCoupled(E,"sandbox");p(L)}else fl.open(E);return D.some(!0)},onEscape:(E,O)=>fl.isOpen(E)?(fl.close(E),D.some(!0)):D.none()}),Zn.config({})]),events:av(D.some(E=>{v(E,p,Ki.HighlightMenuAndItem).get(he)})),eventOrder:{...o.eventOrder,[al()]:["disabling","toggling","alloy.base.behaviour"]},apis:w,domModification:{attributes:{"aria-haspopup":o.listRole.getOr("true"),...o.role.fold(()=>({}),E=>({role:E})),...o.dom.tag==="button"?{type:un(o.dom,"attributes").bind(E=>un(E,"type")).getOr("button")}:{}}}}},apis:{open:(o,a)=>o.open(a),refetch:(o,a)=>o.refetch(a),expand:(o,a)=>o.expand(a),close:(o,a)=>o.close(a),isOpen:(o,a)=>o.isOpen(a),repositionMenus:(o,a)=>o.repositionMenus(a)}}),mR=(o,a,c)=>{fD(o).each(d=>{var p;((v,w)=>{Io(w.element,"id").each(k=>Qt(v.element,"aria-activedescendant",k))})(d,c),($i((p=a).element,l2)?D.some(p.element):Js(p.element,"."+l2)).each(v=>{Io(v,"id").each(w=>Qt(d.element,"aria-controls",w))})}),Qt(c.element,"aria-selected","true")},_7=(o,a,c)=>{Qt(c.element,"aria-selected","false")},w0=o=>Sr.getExistingCoupled(o,"sandbox").bind(i2).map(mD).map(a=>a.fetchPattern).getOr("");var w2;(function(o){o[o.ContentFocus=0]="ContentFocus",o[o.UiFocus=1]="UiFocus"})(w2||(w2={}));const S7=(o,a,c,d,p)=>{const v=c.shared.providers,w=E=>p?{...E,shortcut:D.none(),icon:E.text.isSome()?D.none():E.icon}:E;switch(o.type){case"menuitem":return(k=o,ir("menuitem",OD,k)).fold(Fm,E=>D.some(((O,L,M,H=!0)=>{const q=h2({presets:"normal",iconContent:O.icon,textContent:O.text,htmlContent:D.none(),ariaLabel:O.text,caret:D.none(),checkMark:D.none(),shortcutContent:O.shortcut},M,H);return bv({data:vv(O),getApi:Y=>({isEnabled:()=>!Kn.isDisabled(Y),setEnabled:re=>Kn.set(Y,!re)}),enabled:O.enabled,onAction:O.onAction,onSetup:O.onSetup,triggersSubmenu:!1,itemBehaviours:[]},q,L,M)})(w(E),a,v,d)));case"nestedmenuitem":return(E=>ir("nestedmenuitem",DD,E))(o).fold(Fm,E=>D.some(((O,L,M,H=!0,q=!1)=>{const Y=q?(re=M.icons,GE("chevron-down",re,[BE])):(ve=>GE("chevron-right",ve,[BE]))(M.icons);var re;const ce=h2({presets:"normal",iconContent:O.icon,textContent:O.text,htmlContent:D.none(),ariaLabel:O.text,caret:D.some(Y),checkMark:D.none(),shortcutContent:O.shortcut},M,H);return bv({data:vv(O),getApi:ve=>({isEnabled:()=>!Kn.isDisabled(ve),setEnabled:ie=>Kn.set(ve,!ie),setIconFill:(ie,ae)=>{Js(ve.element,`svg path[class="${ie}"], rect[class="${ie}"]`).each(ge=>{Qt(ge,"fill",ae)})},setTooltip:ie=>{const ae=M.translate(ie);Qt(ve.element,"aria-label",ae)}}),enabled:O.enabled,onAction:he,onSetup:O.onSetup,triggersSubmenu:!0,itemBehaviours:[]},ce,L,M)})(w(E),a,v,d,p)));case"togglemenuitem":return(E=>ir("togglemenuitem",d7,E))(o).fold(Fm,E=>D.some(((O,L,M,H=!0)=>{const q=h2({iconContent:O.icon,textContent:O.text,htmlContent:D.none(),ariaLabel:O.text,checkMark:D.some(LD(M.icons)),caret:D.none(),shortcutContent:O.shortcut,presets:"normal",meta:O.meta},M,H);return ws(bv({data:vv(O),enabled:O.enabled,getApi:Y=>({setActive:re=>{Un.set(Y,re)},isActive:()=>Un.isOn(Y),isEnabled:()=>!Kn.isDisabled(Y),setEnabled:re=>Kn.set(Y,!re)}),onAction:O.onAction,onSetup:O.onSetup,triggersSubmenu:!1,itemBehaviours:[]},q,L,M),{toggling:{toggleClass:sD,toggleOnExecute:!1,selected:O.active},role:O.role.getOrUndefined()})})(w(E),a,v,d)));case"separator":return(E=>ir("separatormenuitem",xD,E))(o).fold(Fm,E=>D.some(iR(E)));case"fancymenuitem":return(E=>ir("fancymenuitem",TD,E))(o).fold(Fm,E=>((O,L)=>un(aR,O.fancytype).map(M=>M(O,L)))(E,c));default:return console.error("Unknown item in general menu",o),D.none()}var k},fp=(o,a,c,d,p,v,w)=>{const k=d===1,E=!k||u2(o);return za(bt(o,O=>{switch(O.type){case"separator":return(L=O,ir("Autocompleter.Separator",xD,L)).fold(Fm,M=>D.some(iR(M)));case"cardmenuitem":return(M=>ir("cardmenuitem",u7,M))(O).fold(Fm,M=>D.some(((H,q,Y,re)=>{const ce={dom:FD(H.label),optComponents:[D.some({dom:{tag:"div",classes:[r2,a2]},components:JE(H.items,re)})]};return bv({data:vv({text:D.none(),...H}),enabled:H.enabled,getApi:ve=>({isEnabled:()=>!Kn.isDisabled(ve),setEnabled:ie=>{Kn.set(ve,!ie),Zt(ca(ve.element,"*"),ae=>{ve.getSystem().getByDom(ae).each(ge=>{ge.hasConfigured(Kn)&&Kn.set(ge,!ie)})})}}),onAction:H.onAction,onSetup:H.onSetup,triggersSubmenu:!1,itemBehaviours:D.from(re.itemBehaviours).getOr([])},ce,q,Y.providers)})({...M,onAction:H=>{M.onAction(H),c(M.value,M.meta)}},p,v,{itemBehaviours:zD(M.meta,v,D.none()),cardText:{matchText:a,highlightOn:w}})));default:return(M=>ir("Autocompleter.Item",e7,M))(O).fold(Fm,M=>D.some(((H,q,Y,re,ce,ve,ie,ae=!0)=>{const ge=h2({presets:re,textContent:D.none(),htmlContent:Y?H.text.map(_e=>XE(_e,q)):D.none(),ariaLabel:H.text,iconContent:H.icon,shortcutContent:D.none(),checkMark:D.none(),caret:D.none(),value:H.value},ie.providers,ae,H.icon),ye=H.text.filter(_e=>!Y&&_e!=="");return bv({data:vv(H),enabled:H.enabled,getApi:te({}),onAction:_e=>ce(H.value,H.meta),onSetup:te(he),triggersSubmenu:!1,itemBehaviours:zD(H,ie,ye)},ge,ve,ie.providers)})(M,a,k,"normal",c,p,v,E)))}var L}))},gR=(o,a,c,d,p,v)=>{const w=u2(a),k=za(bt(a,O=>{const L=M=>S7(M,c,d,(H=>p?!po(H,"text"):w)(M),p);return O.type==="nestedmenuitem"&&O.getSubmenuItems().length<=0?L({...O,enabled:!1}):L(O)})),E=(O=>O.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:O})(v);return(p?YP:LE)(o,w,k,1,E)},_A=o=>Yg.singleData(o.value,o),Wu=o=>gf(en(o.startContainer),o.startOffset,en(o.endContainer),o.endOffset),hR=(o,a)=>{const c=mn("autocompleter"),d=Dn(!1),p=Dn(!1),v=us(),w=Da(sr.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:c}},components:[],fireDismissalEventInstead:{},inlineBehaviours:Ft([uo("dismissAutocompleter",[xt(Eg(),()=>M()),xt(Iy(),(Y,re)=>{Io(re.event.target,"id").each(ce=>Qt(en(o.getBody()),"aria-activedescendant",ce))})])]),lazySink:a.getSink})),k=()=>sr.isOpen(w),E=p.get,O=()=>{if(k()){sr.hide(w),o.dom.remove(c,!1);const Y=en(o.getBody());Io(Y,"aria-owns").filter(re=>re===c).each(()=>{fo(Y,"aria-owns"),fo(Y,"aria-activedescendant")})}},L=()=>sr.getContent(w).bind(Y=>St(Y.components(),0)),M=()=>o.execCommand("mceAutocompleterClose"),H=Y=>{const re=(ce=>{const ve=It(ce,ie=>D.from(ie.columns)).getOr(1);return qo(ce,ie=>{const ae=ie.items;return fp(ae,ie.matchText,(ge,ye)=>{const _e={hide:()=>M(),reload:Le=>{O(),o.execCommand("mceAutocompleterReload",!1,{fetchOptions:Le})}};o.execCommand("mceAutocompleterRefreshActiveRange"),v.get().each(Le=>{d.set(!0),ie.onAction(_e,Le,ge,ye),d.set(!1)})},ve,Of.BUBBLE_TO_SANDBOX,a,ie.highlightOn)})})(Y);re.length>0?(((ce,ve)=>{const ie=It(ce,ae=>D.from(ae.columns)).getOr(1);sr.showMenuAt(w,{anchor:{type:"selection",getSelection:()=>v.get().map(Wu),root:en(o.getBody())}},((ae,ge,ye,_e)=>{const Le=y2(ge,_e),Xe=d0(_e);return{data:_A({...ae,movement:Le,menuBehaviours:m2(ge!=="auto"?[]:[Zs((_t,vt)=>{qE(_t,4,Xe.item).each(({numColumns:gt,numRows:Bt})=>{An.setGridSize(_t,Bt,gt)})})])}),menu:{markers:d0(_e),fakeFocus:ye===w2.ContentFocus}}})(LE("autocompleter-value",!0,ve,ie,{menuType:"normal"}),ie,w2.ContentFocus,"normal")),L().each(is.highlightFirst)})(Y,re),Qt(en(o.getBody()),"aria-owns",c),o.inline||q()):O()},q=()=>{o.dom.get(c)&&o.dom.remove(c,!1);const Y=o.getDoc().documentElement,re=o.selection.getNode(),ce=(ve=>Dg(ve,!0))(w.element);Li(ce,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${re.offsetTop}px`,left:`${re.offsetLeft}px`}),o.dom.add(Y,ce.dom),Js(ce,'[role="menu"]').each(ve=>{os(ve,"position"),os(ve,"max-height")})};o.on("AutocompleterStart",({lookupData:Y})=>{p.set(!0),d.set(!1),H(Y)}),o.on("AutocompleterUpdate",({lookupData:Y})=>H(Y)),o.on("AutocompleterUpdateActiveRange",({range:Y})=>v.set(Y)),o.on("AutocompleterEnd",()=>{O(),p.set(!1),d.set(!1),v.clear()}),((Y,re)=>{const ce=(ie,ae)=>{Sn(ie,cr(),{raw:ae})},ve=()=>Y.getMenu().bind(is.getHighlighted);re.on("keydown",ie=>{const ae=ie.which;Y.isActive()&&(Y.isMenuOpen()?ae===13?(ve().each(rf),ie.preventDefault()):ae===40?(ve().fold(()=>{Y.getMenu().each(is.highlightFirst)},ge=>{ce(ge,ie)}),ie.preventDefault(),ie.stopImmediatePropagation()):ae!==37&&ae!==38&&ae!==39||ve().each(ge=>{ce(ge,ie),ie.preventDefault(),ie.stopImmediatePropagation()}):ae!==13&&ae!==38&&ae!==40||Y.cancelIfNecessary())}),re.on("NodeChange",()=>{!Y.isActive()||Y.isProcessingAction()||re.queryCommandState("mceAutoCompleterInRange")||Y.cancelIfNecessary()})})({cancelIfNecessary:M,isMenuOpen:k,isActive:E,isProcessingAction:d.get,getMenu:L},o)},Sv=(o,a,c)=>Bu(o,a,c).isSome(),SA=(o,a)=>{let c=null;return{cancel:()=>{c!==null&&(clearTimeout(c),c=null)},schedule:(...d)=>{c=setTimeout(()=>{o.apply(null,d),c=null},a)}}},pR=o=>{const a=o.raw;return a.touches===void 0||a.touches.length!==1?D.none():D.some(a.touches[0])},b_=(o,a)=>{const c={stopBackspace:!0,...a},d=(M=>{const H=us(),q=Dn(!1),Y=SA(ce=>{M.triggerEvent(yk(),ce),q.set(!0)},400),re=dd([{key:Z(),value:ce=>(pR(ce).each(ve=>{Y.cancel();const ie={x:ve.clientX,y:ve.clientY,target:ce.target};Y.schedule(ce),q.set(!1),H.set(ie)}),D.none())},{key:oe(),value:ce=>(Y.cancel(),pR(ce).each(ve=>{H.on(ie=>{((ae,ge)=>{const ye=Math.abs(ae.clientX-ge.x),_e=Math.abs(ae.clientY-ge.y);return ye>5||_e>5})(ve,ie)&&H.clear()})}),D.none())},{key:Oe(),value:ce=>(Y.cancel(),H.get().filter(ve=>Zo(ve.target,ce.target)).map(ve=>q.get()?(ce.prevent(),!1):M.triggerEvent(ef(),ce)))}]);return{fireIfReady:(ce,ve)=>un(re,ve).bind(ie=>ie(ce))}})(c),p=bt(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),M=>Ti(o,M,H=>{d.fireIfReady(H,M).each(q=>{q&&H.kill()}),c.triggerEvent(M,H)&&H.kill()})),v=us(),w=Ti(o,"paste",M=>{d.fireIfReady(M,"paste").each(H=>{H&&M.kill()}),c.triggerEvent("paste",M)&&M.kill(),v.set(setTimeout(()=>{c.triggerEvent(Ny(),M)},0))}),k=Ti(o,"keydown",M=>{c.triggerEvent("keydown",M)?M.kill():c.stopBackspace&&(H=>H.raw.which===FO[0]&&!Qe(["input","textarea"],Mi(H.target))&&!Sv(H.target,'[contenteditable="true"]'))(M)&&M.prevent()}),E=Ti(o,"focusin",M=>{c.triggerEvent("focusin",M)&&M.kill()}),O=us(),L=Ti(o,"focusout",M=>{c.triggerEvent("focusout",M)&&M.kill(),O.set(setTimeout(()=>{c.triggerEvent(Dh(),M)},0))});return{unbind:()=>{Zt(p,M=>{M.unbind()}),k.unbind(),E.unbind(),L.unbind(),w.unbind(),v.on(clearTimeout),O.on(clearTimeout)}}},kA=(o,a)=>{const c=un(o,"target").getOr(a);return Dn(c)},C2=Rl([{stopped:[]},{resume:["element"]},{complete:[]}]),bR=(o,a,c,d,p,v)=>{const w=o(a,d),k=((E,O)=>{const L=Dn(!1),M=Dn(!1);return{stop:()=>{L.set(!0)},cut:()=>{M.set(!0)},isStopped:L.get,isCut:M.get,event:E,setSource:O.set,getSource:O.get}})(c,p);return w.fold(()=>(v.logEventNoHandlers(a,d),C2.complete()),E=>{const O=E.descHandler;return Xy(O)(k),k.isStopped()?(v.logEventStopped(a,E.element,O.purpose),C2.stopped()):k.isCut()?(v.logEventCut(a,E.element,O.purpose),C2.complete()):ai(E.element).fold(()=>(v.logNoParent(a,E.element,O.purpose),C2.complete()),L=>(v.logEventResponse(a,E.element,O.purpose),C2.resume(L)))})},_2=(o,a,c,d,p,v)=>bR(o,a,c,d,p,v).fold(Ne,w=>_2(o,a,c,w,p,v),Ce),v_=(o,a,c,d,p)=>{const v=kA(c,d);return _2(o,a,c,d,v,p)},vR=()=>{const o=(()=>{const d={};return{registerId:(p,v,w)=>{Cn(w,(k,E)=>{const O=d[E]!==void 0?d[E]:{};O[v]=((L,M)=>({cHandler:Ge.apply(void 0,[L.handler].concat(M)),purpose:L.purpose}))(k,p),d[E]=O})},unregisterId:p=>{Cn(d,(v,w)=>{po(v,p)&&delete v[p]})},filterByType:p=>un(d,p).map(v=>Ar(v,(w,k)=>((E,O)=>({id:E,descHandler:O}))(k,w))).getOr([]),find:(p,v,w)=>un(d,v).bind(k=>kg(w,E=>((O,L)=>Bg(L).bind(M=>un(O,M)).map(M=>((H,q)=>({element:H,descHandler:q}))(L,M)))(k,E),p))}})(),a={},c=d=>{Bg(d.element).each(p=>{delete a[p],o.unregisterId(p)})};return{find:(d,p,v)=>o.find(d,p,v),filter:d=>o.filterByType(d),register:d=>{const p=(w=>{const k=w.element;return Bg(k).getOrThunk(()=>((E,O)=>{const L=mn(S1+"uid-");return k1(O,L),L})(0,w.element))})(d);io(a,p)&&((w,k)=>{const E=a[k];if(E!==w)throw new Error('The tagId "'+k+'" is already used by: '+pd(E.element)+`
Cannot use it for: `+pd(w.element)+`
The conflicting element is`+(on(E.element)?" ":" not ")+"already in the DOM");c(w)})(d,p);const v=[d];o.registerId(v,p,d.events),a[p]=d},unregister:c,getById:d=>un(a,d)}},Ad=su({name:"Container",factory:o=>{const{attributes:a,...c}=o.dom;return{uid:o.uid,dom:{tag:"div",attributes:{role:"presentation",...a},...c},components:o.components,behaviours:Vn(o.containerBehaviours),events:o.events,domModification:o.domModification,eventOrder:o.eventOrder}},configFields:[et("components",[]),gn("containerBehaviours",[]),et("events",{}),et("domModification",{}),et("eventOrder",{})]}),y_=o=>{const a=ce=>ai(o.element).fold(Ne,ve=>Zo(ce,ve)),c=vR(),d=(ce,ve)=>c.find(a,ce,ve),p=b_(o.element,{triggerEvent:(ce,ve)=>Cb(ce,ve.target,ie=>((ae,ge,ye,_e)=>v_(ae,ge,ye,ye.target,_e))(d,ce,ve,ie))}),v={debugInfo:te("real"),triggerEvent:(ce,ve,ie)=>{Cb(ce,ve,ae=>v_(d,ce,ie,ve,ae))},triggerFocus:(ce,ve)=>{Bg(ce).fold(()=>{Ai(ce)},ie=>{Cb(Ru(),ce,ae=>(((ge,ye,_e,Le,Xe)=>{const _t=kA(_e,Le);bR(ge,ye,_e,Le,_t,Xe)})(d,Ru(),{originator:ve,kill:he,prevent:he,target:ce},ce,ae),!1))})},triggerEscape:(ce,ve)=>{v.triggerEvent("keydown",ce.element,ve.event)},getByUid:ce=>Y(ce),getByDom:ce=>re(ce),build:Da,buildOrPatch:R1,addToGui:ce=>{E(ce)},removeFromGui:ce=>{O(ce)},addToWorld:ce=>{w(ce)},removeFromWorld:ce=>{k(ce)},broadcast:ce=>{M(ce)},broadcastOn:(ce,ve)=>{H(ce,ve)},broadcastEvent:(ce,ve)=>{q(ce,ve)},isConnected:Ne},w=ce=>{ce.connect(v),ri(ce.element)||(c.register(ce),Zt(ce.components(),w),v.triggerEvent(tf(),ce.element,{target:ce.element}))},k=ce=>{ri(ce.element)||(Zt(ce.components(),k),c.unregister(ce)),ce.disconnect()},E=ce=>{wf(o,ce)},O=ce=>{Zi(ce)},L=ce=>{const ve=c.filter(Ul());Zt(ve,ie=>{const ae=ie.descHandler;Xy(ae)(ce)})},M=ce=>{L({universal:!0,data:ce})},H=(ce,ve)=>{L({universal:!1,channels:ce,data:ve})},q=(ce,ve)=>((ie,ae,ge)=>{const ye=(_e=>{const Le=Dn(!1);return{stop:()=>{Le.set(!0)},cut:he,isStopped:Le.get,isCut:Ce,event:_e,setSource:Ze("Cannot set source of a broadcasted event"),getSource:Ze("Cannot get source of a broadcasted event")}})(ae);return Zt(ie,_e=>{const Le=_e.descHandler;Xy(Le)(ye)}),ye.isStopped()})(c.filter(ce),ve),Y=ce=>c.getById(ce).fold(()=>_o.error(new Error('Could not find component with uid: "'+ce+'" in system.')),_o.value),re=ce=>{const ve=Bg(ce).getOr("not found");return Y(ve)};return w(o),{root:o,element:o.element,destroy:()=>{p.unbind(),ka(o.element)},add:E,remove:O,getByUid:Y,getByDom:re,addToWorld:w,removeFromWorld:k,broadcast:M,broadcastOn:H,broadcastEvent:q}},k7=te([et("prefix","form-field"),gn("fieldBehaviours",[Vo,ot])]),EA=te([ou({schema:[At("dom")],name:"label"}),ou({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[At("text")],name:"aria-descriptor"}),dl({factory:{sketch:o=>{const a=((c,d)=>{const p={};return Cn(c,(v,w)=>{Qe(d,w)||(p[w]=v)}),p})(o,["factory"]);return o.factory.sketch(a)}},schema:[At("factory")],name:"field"})]),ds=Sl({name:"FormField",configFields:k7(),partFields:EA(),factory:(o,a,c,d)=>{const p=co(o.fieldBehaviours,[Vo.config({find:k=>Ms(k,o,"field")}),ot.config({store:{mode:"manual",getValue:k=>Vo.getCurrent(k).bind(ot.getValue),setValue:(k,E)=>{Vo.getCurrent(k).each(O=>{ot.setValue(O,E)})}}})]),v=to([Zs((k,E)=>{const O=_O(k,o,["label","field","aria-descriptor"]);O.field().each(L=>{const M=mn(o.prefix);O.label().each(H=>{Qt(H.element,"for",M),Qt(L.element,"id",M)}),O["aria-descriptor"]().each(H=>{const q=mn(o.prefix);Qt(H.element,"id",q),Qt(L.element,"aria-describedby",q)})})})]),w={getField:k=>Ms(k,o,"field"),getLabel:k=>Ms(k,o,"label")};return{uid:o.uid,dom:o.dom,components:a,behaviours:p,events:v,apis:w}},apis:{getField:(o,a)=>o.getField(a),getLabel:(o,a)=>o.getLabel(a)}});var E7=tinymce.util.Tools.resolve("tinymce.html.Entities");const S2=(o,a,c,d)=>{const p=A7(o,a,c,d);return ds.sketch(p)},A7=(o,a,c,d)=>({dom:x_(c),components:o.toArray().concat([a]),fieldBehaviours:Ft(d)}),x_=o=>({tag:"div",classes:["tox-form__group"].concat(o)}),mp=(o,a)=>ds.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[_r(a.translate(o))]}),qi=mn("form-component-change"),gp=mn("form-close"),sh=mn("form-cancel"),Rf=mn("form-action"),k2=mn("form-submit"),AA=mn("form-block"),TA=mn("form-unblock"),yR=mn("form-tabchange"),w_=mn("form-resize"),xR=(o,a,c)=>{const d=o.label.map(M=>mp(M,a)),p=a.icons(),v=M=>(H,q)=>{Bu(q.event.target,"[data-collection-item-value]").each(Y=>{M(H,q,Y,wo(Y,"data-collection-item-value"))})},w=v((M,H,q,Y)=>{H.stop(),a.isDisabled()||Sn(M,Rf,{name:o.name,value:Y})}),k=[xt(_n(),v((M,H,q)=>{Ai(q)})),xt(ta(),w),xt(ef(),w),xt(es(),v((M,H,q)=>{Js(M.element,"."+Lm).each(Y=>{br(Y,Lm)}),ur(q,Lm)})),xt(Nr(),v(M=>{Js(M.element,"."+Lm).each(H=>{br(H,Lm),Db(H)})})),Yc(v((M,H,q,Y)=>{Sn(M,Rf,{name:o.name,value:Y})}))],E=(M,H)=>bt(ca(M.element,".tox-collection__item"),H),O=ds.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(o.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Ae},behaviours:Ft([Kn.config({disabled:a.isDisabled,onDisabled:M=>{E(M,H=>{ur(H,"tox-collection__item--state-disabled"),Qt(H,"aria-disabled",!0)})},onEnabled:M=>{E(M,H=>{br(H,"tox-collection__item--state-disabled"),fo(H,"aria-disabled")})}}),va(),zn.config({}),Wr.config({...a.tooltips.getConfig({tooltipText:"",onShow:M=>{Js(M.element,"."+Lm+"[data-mce-tooltip]").each(H=>{Io(H,"data-mce-tooltip").each(q=>{Wr.setComponents(M,a.tooltips.getComponents({tooltipText:q}))})})}}),mode:"children-keyboard-focus",anchor:M=>({type:"node",node:Js(M.element,"."+Lm).orThunk(()=>nd(".tox-collection__item")),root:M.element,layouts:{onLtr:te([Mr,dr,vr,$r,yr,Cs]),onRtl:te([Mr,dr,vr,$r,yr,Cs])},bubble:jl(0,-2,{})})}),ot.config({store:{mode:"memory",initialValue:c.getOr([])},onSetValue:(M,H)=>{((q,Y)=>{const re=bt(Y,ie=>{const ae=zu.translate(ie.text),ge=o.columns===1?`<div class="tox-collection__item-label">${ae}</div>`:"",ye=`<div class="tox-collection__item-icon">${(Xe=>{var _t;return(_t=p[Xe])!==null&&_t!==void 0?_t:Xe})(ie.icon)}</div>`,_e={_:" "," - ":" ","-":" "},Le=ae.replace(/\_| \- |\-/g,Xe=>_e[Xe]);return`<div data-mce-tooltip="${Le}" class="tox-collection__item${a.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${E7.encodeAllRaw(ie.value)}" aria-label="${Le}">${ye}${ge}</div>`}),ce=o.columns!=="auto"&&o.columns>1?pt(re,o.columns):[re],ve=bt(ce,ie=>`<div class="tox-collection__group">${ie.join("")}</div>`);Og(q.element,ve.join(""))})(M,H),o.columns==="auto"&&qE(M,5,"tox-collection__item").each(({numRows:q,numColumns:Y})=>{An.setGridSize(M,q,Y)}),go(M,w_)}}),Ns.config({}),An.config((L=o.columns,L===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:L==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${XC}`}})),uo("collection-events",k)]),eventOrder:{[al()]:["disabling","alloy.base.behaviour","collection-events"],[es()]:["collection-events","tooltipping"]}});var L;return S2(d,O,["tox-form__group--collection"],[])},wR=["input","textarea"],C_=o=>{const a=Mi(o);return Qe(wR,a)},CR=(o,a)=>{const c=a.getRoot(o).getOr(o.element);br(c,a.invalidClass),a.notify.each(d=>{C_(o.element)&&Qt(o.element,"aria-invalid",!1),d.getContainer(o).each(p=>{Og(p,d.validHtml)}),d.onValid(o)})},OA=(o,a,c,d)=>{const p=a.getRoot(o).getOr(o.element);ur(p,a.invalidClass),a.notify.each(v=>{C_(o.element)&&Qt(o.element,"aria-invalid",!0),v.getContainer(o).each(w=>{Og(w,d)}),v.onInvalid(o,d)})},_R=(o,a,c)=>a.validator.fold(()=>Hm(_o.value(!0)),d=>d.validate(o)),DA=(o,a,c)=>(a.notify.each(d=>{d.onValidate(o)}),_R(o,a).map(d=>o.getSystem().isConnected()?d.fold(p=>(OA(o,a,0,p),_o.error(p)),p=>(CR(o,a),_o.value(p))):_o.error("No longer in system")));var T7=Object.freeze({__proto__:null,markValid:CR,markInvalid:OA,query:_R,run:DA,isInvalid:(o,a)=>{const c=a.getRoot(o).getOr(o.element);return $i(c,a.invalidClass)}}),SR=Object.freeze({__proto__:null,events:(o,a)=>o.validator.map(c=>to([xt(c.onEvent,d=>{DA(d,o).get(Ae)})].concat(c.validateOnLoad?[Zs(d=>{DA(d,o).get(he)})]:[]))).getOr({})}),O7=[At("invalidClass"),et("getRoot",D.none),hr("notify",[et("aria","alert"),et("getContainer",D.none),et("validHtml",""),Fo("onValid"),Fo("onInvalid"),Fo("onValidate")]),hr("validator",[At("validate"),et("onEvent","input"),et("validateOnLoad",!0)])];const Vm=ba({fields:O7,name:"invalidating",active:SR,apis:T7,extra:{validation:o=>a=>{const c=ot.getValue(a);return Hm(o(c))}}}),C0=ba({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>to([Ih(qa(),Ne)]),exhibit:()=>Ir({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),RA=mn("color-input-change"),NA=mn("color-swatch-change"),kR=mn("color-picker-cancel"),IA=ou({schema:[At("dom")],name:"label"}),hp=o=>ou({name:o+"-edge",overrides:a=>a.model.manager.edgeActions[o].fold(()=>({}),c=>({events:to([By(Z(),(d,p,v)=>c(d,v),[a]),By(Tt(),(d,p,v)=>c(d,v),[a]),By(Ln(),(d,p,v)=>{v.mouseIsDown.get()&&c(d,v)},[a])])}))}),D7=hp("top-left"),R7=hp("top"),N7=hp("top-right"),I7=hp("right"),ER=hp("bottom-right"),BA=hp("bottom"),B7=hp("bottom-left"),__=hp("left"),M7=dl({name:"thumb",defaults:te({dom:{styles:{position:"absolute"}}}),overrides:o=>({events:to([Mh(Z(),o,"spectrum"),Mh(oe(),o,"spectrum"),Mh(Oe(),o,"spectrum"),Mh(Tt(),o,"spectrum"),Mh(Ln(),o,"spectrum"),Mh(Xn(),o,"spectrum")])})}),S_=o=>Nm(o.event);var P7=[IA,__,I7,R7,BA,D7,N7,B7,ER,M7,dl({schema:[Aa("mouseIsDown",()=>Dn(!1))],name:"spectrum",overrides:o=>{const a=o.model.manager,c=(d,p)=>a.getValueFromEvent(p).map(v=>a.setValueFrom(d,o,v));return{behaviours:Ft([An.config({mode:"special",onLeft:(d,p)=>a.onLeft(d,o,S_(p)),onRight:(d,p)=>a.onRight(d,o,S_(p)),onUp:(d,p)=>a.onUp(d,o,S_(p)),onDown:(d,p)=>a.onDown(d,o,S_(p))}),Ns.config({}),Zn.config({})]),events:to([xt(Z(),c),xt(oe(),c),xt(Tt(),c),xt(Ln(),(d,p)=>{o.mouseIsDown.get()&&c(d,p)})])}}})];const E2=te("slider.change.value"),MA=o=>{const a=o.event.raw;if((c=>c.type.indexOf("touch")!==-1)(a)){const c=a;return c.touches!==void 0&&c.touches.length===1?D.some(c.touches[0]).map(d=>Ls(d.clientX,d.clientY)):D.none()}{const c=a;return c.clientX!==void 0?D.some(c).map(d=>Ls(d.clientX,d.clientY)):D.none()}},_0=o=>o.model.minX,pp=o=>o.model.minY,k_=o=>o.model.minX-1,E_=o=>o.model.minY-1,rh=o=>o.model.maxX,Zu=o=>o.model.maxY,A_=o=>o.model.maxX+1,T_=o=>o.model.maxY+1,O_=(o,a,c)=>a(o)-c(o),D_=o=>O_(o,rh,_0),PA=o=>O_(o,Zu,pp),AR=o=>D_(o)/2,LA=o=>PA(o)/2,kv=(o,a)=>a?o.stepSize*o.speedMultiplier:o.stepSize,FA=o=>o.snapToGrid,zA=o=>o.snapStart,R_=o=>o.rounded,N_=(o,a)=>o[a+"-edge"]!==void 0,HA=o=>N_(o,"left"),TR=o=>N_(o,"right"),Ev=o=>N_(o,"top"),OR=o=>N_(o,"bottom"),ah=o=>o.model.value.get(),$m=(o,a)=>({x:o,y:a}),cu=(o,a)=>{Sn(o,E2(),{value:a})},VA=(o,a,c,d)=>o<a?o:o>c?c:o===a?a-1:Math.max(a,o-d),A2=(o,a,c,d)=>o>c?o:o<a?a:o===c?c+1:Math.min(c,o+d),DR=(o,a,c)=>Math.max(a,Math.min(c,o)),RR=o=>{const{min:a,max:c,range:d,value:p,step:v,snap:w,snapStart:k,rounded:E,hasMinEdge:O,hasMaxEdge:L,minBound:M,maxBound:H,screenRange:q}=o,Y=O?a-1:a,re=L?c+1:c;if(p<M)return Y;if(p>H)return re;{const ce=((ie,ae,ge)=>Math.min(ge,Math.max(ie,ae))-ae)(p,M,H),ve=DR(ce/q*d+a,Y,re);return w&&ve>=a&&ve<=c?((ie,ae,ge,ye,_e)=>_e.fold(()=>{const Le=ie-ae,Xe=Math.round(Le/ye)*ye;return DR(ae+Xe,ae-1,ge+1)},Le=>{const Xe=(ie-Le)%ye,_t=Math.round(Xe/ye),vt=Math.floor((ie-Le)/ye),gt=Math.floor((ge-Le)/ye),Bt=Le+Math.min(gt,vt+_t)*ye;return Math.max(Le,Bt)}))(ve,a,c,v,k):E?Math.round(ve):ve}},I_=o=>{const{min:a,max:c,range:d,value:p,hasMinEdge:v,hasMaxEdge:w,maxBound:k,maxOffset:E,centerMinEdge:O,centerMaxEdge:L}=o;return p<a?v?0:O:p>c?w?k:L:(p-a)/d*E},$A="top",NR="right",IR="bottom",UA="left",Um=o=>o.element.dom.getBoundingClientRect(),Td=(o,a)=>o[a],B_=o=>{const a=Um(o);return Td(a,UA)},BR=o=>{const a=Um(o);return Td(a,NR)},M_=o=>{const a=Um(o);return Td(a,$A)},MR=o=>{const a=Um(o);return Td(a,IR)},PR=o=>{const a=Um(o);return Td(a,"width")},LR=o=>{const a=Um(o);return Td(a,"height")},P_=(o,a,c)=>(o+a)/2-c,FR=(o,a)=>{const c=Um(o),d=Um(a),p=Td(c,UA),v=Td(c,NR),w=Td(d,UA);return P_(p,v,w)},zR=(o,a)=>{const c=Um(o),d=Um(a),p=Td(c,$A),v=Td(c,IR),w=Td(d,$A);return P_(p,v,w)},L_=(o,a)=>{Sn(o,E2(),{value:a})},F_=(o,a,c)=>{const d={min:_0(a),max:rh(a),range:D_(a),value:c,step:kv(a),snap:FA(a),snapStart:zA(a),rounded:R_(a),hasMinEdge:HA(a),hasMaxEdge:TR(a),minBound:B_(o),maxBound:BR(o),screenRange:PR(o)};return RR(d)},HR=o=>(a,c,d)=>((p,v,w,k)=>{const E=(p>0?A2:VA)(ah(w),_0(w),rh(w),kv(w,k));return L_(v,E),D.some(E)})(o,a,c,d).map(Ne),WA=(o,a,c,d,p,v)=>{const w=((k,E,O,L,M)=>{const H=PR(k),q=L.bind(ce=>D.some(FR(ce,k))).getOr(0),Y=M.bind(ce=>D.some(FR(ce,k))).getOr(H),re={min:_0(E),max:rh(E),range:D_(E),value:O,hasMinEdge:HA(E),hasMaxEdge:TR(E),minBound:B_(k),minOffset:0,maxBound:BR(k),maxOffset:H,centerMinEdge:q,centerMaxEdge:Y};return I_(re)})(a,v,c,d,p);return B_(a)-B_(o)+w},L7=HR(-1),F7=HR(1),z7=D.none,H7=D.none,ZA={"top-left":D.none(),top:D.none(),"top-right":D.none(),right:D.some((o,a)=>{cu(o,A_(a))}),"bottom-right":D.none(),bottom:D.none(),"bottom-left":D.none(),left:D.some((o,a)=>{cu(o,k_(a))})};var V7=Object.freeze({__proto__:null,setValueFrom:(o,a,c)=>{const d=F_(o,a,c);return L_(o,d),d},setToMin:(o,a)=>{const c=_0(a);L_(o,c)},setToMax:(o,a)=>{const c=rh(a);L_(o,c)},findValueOfOffset:F_,getValueFromEvent:o=>MA(o).map(a=>a.left),findPositionOfValue:WA,setPositionFromValue:(o,a,c,d)=>{const p=ah(c),v=WA(o,d.getSpectrum(o),p,d.getLeftEdge(o),d.getRightEdge(o),c),w=ma(a.element)/2;Qn(a.element,"left",v-w+"px")},onLeft:L7,onRight:F7,onUp:z7,onDown:H7,edgeActions:ZA});const z_=(o,a)=>{Sn(o,E2(),{value:a})},jA=(o,a,c)=>{const d={min:pp(a),max:Zu(a),range:PA(a),value:c,step:kv(a),snap:FA(a),snapStart:zA(a),rounded:R_(a),hasMinEdge:Ev(a),hasMaxEdge:OR(a),minBound:M_(o),maxBound:MR(o),screenRange:LR(o)};return RR(d)},VR=o=>(a,c,d)=>((p,v,w,k)=>{const E=(p>0?A2:VA)(ah(w),pp(w),Zu(w),kv(w,k));return z_(v,E),D.some(E)})(o,a,c,d).map(Ne),KA=(o,a,c,d,p,v)=>{const w=((k,E,O,L,M)=>{const H=LR(k),q=L.bind(ce=>D.some(zR(ce,k))).getOr(0),Y=M.bind(ce=>D.some(zR(ce,k))).getOr(H),re={min:pp(E),max:Zu(E),range:PA(E),value:O,hasMinEdge:Ev(E),hasMaxEdge:OR(E),minBound:M_(k),minOffset:0,maxBound:MR(k),maxOffset:H,centerMinEdge:q,centerMaxEdge:Y};return I_(re)})(a,v,c,d,p);return M_(a)-M_(o)+w},$7=D.none,U7=D.none,W7=VR(-1),Z7=VR(1),j7={"top-left":D.none(),top:D.some((o,a)=>{cu(o,E_(a))}),"top-right":D.none(),right:D.none(),"bottom-right":D.none(),bottom:D.some((o,a)=>{cu(o,T_(a))}),"bottom-left":D.none(),left:D.none()};var K7=Object.freeze({__proto__:null,setValueFrom:(o,a,c)=>{const d=jA(o,a,c);return z_(o,d),d},setToMin:(o,a)=>{const c=pp(a);z_(o,c)},setToMax:(o,a)=>{const c=Zu(a);z_(o,c)},findValueOfOffset:jA,getValueFromEvent:o=>MA(o).map(a=>a.top),findPositionOfValue:KA,setPositionFromValue:(o,a,c,d)=>{const p=ah(c),v=KA(o,d.getSpectrum(o),p,d.getTopEdge(o),d.getBottomEdge(o),c),w=gr(a.element)/2;Qn(a.element,"top",v-w+"px")},onLeft:$7,onRight:U7,onUp:W7,onDown:Z7,edgeActions:j7});const H_=(o,a)=>{Sn(o,E2(),{value:a})},V_=(o,a)=>({x:o,y:a}),S0=(o,a)=>(c,d,p)=>((v,w,k,E,O)=>{const L=v>0?A2:VA,M=w?ah(E).x:L(ah(E).x,_0(E),rh(E),kv(E,O)),H=w?L(ah(E).y,pp(E),Zu(E),kv(E,O)):ah(E).y;return H_(k,V_(M,H)),D.some(M)})(o,a,c,d,p).map(Ne),q7=S0(-1,!1),qA=S0(1,!1),G7=S0(-1,!0),Y7=S0(1,!0),X7={"top-left":D.some((o,a)=>{cu(o,$m(k_(a),E_(a)))}),top:D.some((o,a)=>{cu(o,$m(AR(a),E_(a)))}),"top-right":D.some((o,a)=>{cu(o,$m(A_(a),E_(a)))}),right:D.some((o,a)=>{cu(o,$m(A_(a),LA(a)))}),"bottom-right":D.some((o,a)=>{cu(o,$m(A_(a),T_(a)))}),bottom:D.some((o,a)=>{cu(o,$m(AR(a),T_(a)))}),"bottom-left":D.some((o,a)=>{cu(o,$m(k_(a),T_(a)))}),left:D.some((o,a)=>{cu(o,$m(k_(a),LA(a)))})};var $R=Object.freeze({__proto__:null,setValueFrom:(o,a,c)=>{const d=F_(o,a,c.left),p=jA(o,a,c.top),v=V_(d,p);return H_(o,v),v},setToMin:(o,a)=>{const c=_0(a),d=pp(a);H_(o,V_(c,d))},setToMax:(o,a)=>{const c=rh(a),d=Zu(a);H_(o,V_(c,d))},getValueFromEvent:o=>MA(o),setPositionFromValue:(o,a,c,d)=>{const p=ah(c),v=WA(o,d.getSpectrum(o),p.x,d.getLeftEdge(o),d.getRightEdge(o),c),w=KA(o,d.getSpectrum(o),p.y,d.getTopEdge(o),d.getBottomEdge(o),c),k=ma(a.element)/2,E=gr(a.element)/2;Qn(a.element,"left",v-k+"px"),Qn(a.element,"top",w-E+"px")},onLeft:q7,onRight:qA,onUp:G7,onDown:Y7,edgeActions:X7});const Od=Sl({name:"Slider",configFields:[et("stepSize",1),et("speedMultiplier",10),et("onChange",he),et("onChoose",he),et("onInit",he),et("onDragStart",he),et("onDragEnd",he),et("snapToGrid",!1),et("rounded",!0),Bo("snapStart"),Ta("model",ea("mode",{x:[et("minX",0),et("maxX",100),Aa("value",o=>Dn(o.mode.minX)),At("getInitialValue"),Is("manager",V7)],y:[et("minY",0),et("maxY",100),Aa("value",o=>Dn(o.mode.minY)),At("getInitialValue"),Is("manager",K7)],xy:[et("minX",0),et("maxX",100),et("minY",0),et("maxY",100),Aa("value",o=>Dn({x:o.mode.minX,y:o.mode.minY})),At("getInitialValue"),Is("manager",$R)]})),gn("sliderBehaviours",[An,ot]),Aa("mouseIsDown",()=>Dn(!1))],partFields:P7,factory:(o,a,c,d)=>{const p=ie=>Gg(ie,o,"thumb"),v=ie=>Gg(ie,o,"spectrum"),w=ie=>Ms(ie,o,"left-edge"),k=ie=>Ms(ie,o,"right-edge"),E=ie=>Ms(ie,o,"top-edge"),O=ie=>Ms(ie,o,"bottom-edge"),L=o.model,M=L.manager,H=(ie,ae)=>{M.setPositionFromValue(ie,ae,o,{getLeftEdge:w,getRightEdge:k,getTopEdge:E,getBottomEdge:O,getSpectrum:v})},q=(ie,ae)=>{L.value.set(ae);const ge=p(ie);H(ie,ge)},Y=ie=>{const ae=o.mouseIsDown.get();o.mouseIsDown.set(!1),ae&&Ms(ie,o,"thumb").each(ge=>{const ye=L.value.get();o.onChoose(ie,ge,ye)})},re=(ie,ae)=>{ae.stop(),o.mouseIsDown.set(!0),o.onDragStart(ie,p(ie))},ce=(ie,ae)=>{ae.stop(),o.onDragEnd(ie,p(ie)),Y(ie)},ve=ie=>{Ms(ie,o,"spectrum").map(An.focusIn)};return{uid:o.uid,dom:o.dom,components:a,behaviours:co(o.sliderBehaviours,[An.config({mode:"special",focusIn:ve}),ot.config({store:{mode:"manual",getValue:ie=>L.value.get(),setValue:q}}),cl.config({channels:{[U()]:{onReceive:Y}}})]),events:to([xt(E2(),(ie,ae)=>{((ge,ye)=>{q(ge,ye);const _e=p(ge);o.onChange(ge,_e,ye)})(ie,ae.event.value)}),Zs((ie,ae)=>{const ge=L.getInitialValue();L.value.set(ge);const ye=p(ie);H(ie,ye);const _e=v(ie);o.onInit(ie,ye,_e,L.value.get())}),xt(Z(),re),xt(Oe(),ce),xt(Tt(),(ie,ae)=>{ve(ie),re(ie,ae)}),xt(Xn(),ce)]),apis:{resetToMin:ie=>{M.setToMin(ie,o)},resetToMax:ie=>{M.setToMax(ie,o)},setValue:q,refresh:H},domModification:{styles:{position:"relative"}}}},apis:{setValue:(o,a,c)=>{o.setValue(a,c)},resetToMin:(o,a)=>{o.resetToMin(a)},resetToMax:(o,a)=>{o.resetToMax(a)},refresh:(o,a)=>{o.refresh(a)}}}),T2=mn("rgb-hex-update"),$_=mn("slider-update"),GA=mn("palette-update"),U_="form",W_=[gn("formBehaviours",[ot])],YA=o=>"<alloy.field."+o+">",Wm=(o,a)=>({uid:o.uid,dom:o.dom,components:a,behaviours:co(o.formBehaviours,[ot.config({store:{mode:"manual",getValue:c=>{const d=Hk(c,o);return En(d,(p,v)=>p().bind(w=>{return k=Vo.getCurrent(w),E=new Error(`Cannot find a current component to extract the value from for form part '${v}': `+pd(w.element)),k.fold(()=>_o.error(E),_o.value);var k,E}).map(ot.getValue))},setValue:(c,d)=>{Cn(d,(p,v)=>{Ms(c,o,v).each(w=>{Vo.getCurrent(w).each(k=>{ot.setValue(k,p)})})})}}})]),apis:{getField:(c,d)=>Ms(c,o,d).bind(Vo.getCurrent)}}),bp={getField:T1((o,a,c)=>o.getField(a,c)),sketch:o=>{const a=(()=>{const v=[];return{field:(w,k)=>(v.push(w),Lk(U_,YA(w),k)),record:te(v)}})(),c=o(a),d=a.record(),p=bt(d,v=>dl({name:v,pname:YA(v)}));return Sx(U_,W_,p,Wm,c)}},UR=mn("valid-input"),WR=mn("invalid-input"),ZR=mn("validating-input"),XA="colorcustom.rgb.",O2={isEnabled:Ne,setEnabled:he,immediatelyShow:he,immediatelyHide:he},J7=(o,a,c,d,p,v)=>{const w=(q,Y)=>{const re=Y.get();q!==re.isEnabled()&&(re.setEnabled(q),q?re.immediatelyShow():re.immediatelyHide())},k=(q,Y,re)=>Vm.config({invalidClass:a("invalid"),notify:{onValidate:ce=>{Sn(ce,ZR,{type:q})},onValid:ce=>{w(!1,re),Sn(ce,UR,{type:q,value:ot.getValue(ce)})},onInvalid:ce=>{w(!0,re),Sn(ce,WR,{type:q,value:ot.getValue(ce)})}},validator:{validate:ce=>{const ve=ot.getValue(ce),ie=Y(ve)?_o.value(!0):_o.error(o("aria.input.invalid"));return Hm(ie)},validateOnLoad:!1}}),E=(q,Y,re,ce,ve)=>{const ie=Dn(O2),ae=o(XA+"range"),ge=ds.parts.label({dom:{tag:"label",attributes:{"aria-label":ce}},components:[_r(re)]}),ye=ds.parts.field({data:ve,factory:eh,inputAttributes:{type:"text",...Y==="hex"?{"aria-live":"polite"}:{}},inputClasses:[a("textfield")],inputBehaviours:Ft([k(Y,q,ie),Ns.config({}),Wr.config({...p({tooltipText:"",onSetup:gt=>{ie.set({isEnabled:()=>Wr.isEnabled(gt),setEnabled:Bt=>Wr.setEnabled(gt,Bt),immediatelyShow:()=>Wr.immediateOpenClose(gt,!0),immediatelyHide:()=>Wr.immediateOpenClose(gt,!1)}),Wr.setEnabled(gt,!1)},onShow:(gt,Bt)=>{Wr.setComponents(gt,[{dom:{tag:"p",classes:[a("rgb-warning-note")]},components:[_r(o(Y==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:gt=>{Vm.isInvalid(gt)&&Vm.run(gt).get(he)}}),_e=mn("aria-invalid"),Le=ss(v("invalid",D.some(_e),"warning")),Xe=[ge,ye,ss({dom:{tag:"div",classes:[a("invalid-icon")]},components:[Le.asSpec()]}).asSpec()],_t=Y!=="hex"?[ds.parts["aria-descriptor"]({text:ae})]:[],vt=Xe.concat(_t);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[a("rgb-container")]},components:vt}},O=(q,Y)=>{const re=Y.red,ce=Y.green,ve=Y.blue;ot.setValue(q,{red:re,green:ce,blue:ve})},L=ss({dom:{tag:"div",classes:[a("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),M=(q,Y)=>{L.getOpt(q).each(re=>{Qn(re.element,"background-color","#"+Y.value)})};return su({factory:()=>{const q={red:Dn(D.some(255)),green:Dn(D.some(255)),blue:Dn(D.some(255)),hex:Dn(D.some("ffffff"))},Y=Xe=>q[Xe].get(),re=(Xe,_t)=>{q[Xe].set(_t)},ce=Xe=>{const _t=Xe.red,vt=Xe.green,gt=Xe.blue;re("red",D.some(_t)),re("green",D.some(vt)),re("blue",D.some(gt))},ve=(Xe,_t)=>{const vt=_t.event;vt.type!=="hex"?re(vt.type,D.none()):d(Xe)},ie=(Xe,_t)=>{const vt=_t.event;(gt=>gt.type==="hex")(vt)?((gt,Bt)=>{c(gt);const an=QE(Bt);re("hex",D.some(an.value));const vn=Ed(an);O(gt,vn),ce(vn),Sn(gt,T2,{hex:an}),M(gt,an)})(Xe,vt.value):((gt,Bt,an)=>{const vn=parseInt(an,10);re(Bt,D.some(vn)),Y("red").bind(In=>Y("green").bind(qn=>Y("blue").map(So=>oh(In,qn,So,1)))).each(In=>{const qn=((So,Vs)=>{const Qs=p2(Vs);return bp.getField(So,"hex").each(mo=>{Zn.isFocused(mo)||ot.setValue(So,{hex:Qs.value})}),Qs})(gt,In);Sn(gt,T2,{hex:qn}),M(gt,qn)})})(Xe,vt.type,vt.value)},ae=Xe=>({label:o(XA+Xe+".label"),description:o(XA+Xe+".description")}),ge=ae("red"),ye=ae("green"),_e=ae("blue"),Le=ae("hex");return ws(bp.sketch(Xe=>({dom:{tag:"form",classes:[a("rgb-form")],attributes:{"aria-label":o("aria.color.picker")}},components:[Xe.field("red",ds.sketch(E(b2,"red",ge.label,ge.description,255))),Xe.field("green",ds.sketch(E(b2,"green",ye.label,ye.description,255))),Xe.field("blue",ds.sketch(E(b2,"blue",_e.label,_e.description,255))),Xe.field("hex",ds.sketch(E(HD,"hex",Le.label,Le.description,"ffffff"))),L.asSpec()],formBehaviours:Ft([Vm.config({invalidClass:a("form-invalid")}),uo("rgb-form-events",[xt(UR,ie),xt(WR,ve),xt(ZR,ve)])])})),{apis:{updateHex:(Xe,_t)=>{ot.setValue(Xe,{hex:_t.value}),((vt,gt)=>{const Bt=Ed(gt);O(vt,Bt),ce(Bt)})(Xe,_t),M(Xe,_t)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(q,Y,re)=>{q.updateHex(Y,re)}},extraApis:{}})},jR=(o,a,c,d)=>su({name:"ColourPicker",configFields:[At("dom"),et("onValidHex",he),et("onInvalidHex",he)],factory:v=>{const w=J7(o,a,v.onValidHex,v.onInvalidHex,c,d),k=((ve,ie)=>{const ae=Od.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[ie("sv-palette-spectrum")]}}),ge=Od.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[ie("sv-palette-thumb")],innerHtml:`<div class=${ie("sv-palette-inner-thumb")} role="presentation"></div>`}}),ye=(_e,Le)=>{const{width:Xe,height:_t}=_e,vt=_e.getContext("2d");if(vt===null)return;vt.fillStyle=Le,vt.fillRect(0,0,Xe,_t);const gt=vt.createLinearGradient(0,0,Xe,0);gt.addColorStop(0,"rgba(255,255,255,1)"),gt.addColorStop(1,"rgba(255,255,255,0)"),vt.fillStyle=gt,vt.fillRect(0,0,Xe,_t);const Bt=vt.createLinearGradient(0,0,0,_t);Bt.addColorStop(0,"rgba(0,0,0,0)"),Bt.addColorStop(1,"rgba(0,0,0,1)"),vt.fillStyle=Bt,vt.fillRect(0,0,Xe,_t)};return su({factory:_e=>{const Le=te({x:0,y:0}),Xe=Ft([Vo.config({find:D.some}),Zn.config({})]);return Od.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":ve(["Saturation {0}%, Brightness {1}%",0,0])},classes:[ie("sv-palette")]},model:{mode:"xy",getInitialValue:Le},rounded:!1,components:[ae,ge],onChange:(_t,vt,gt)=>{ee(gt)||Qt(_t.element,"aria-valuetext",ve(["Saturation {0}%, Brightness {1}%",Math.floor(gt.x),Math.floor(100-gt.y)])),Sn(_t,GA,{value:gt})},onInit:(_t,vt,gt,Bt)=>{ye(gt.element.dom,WD(ZD))},sliderBehaviours:Xe})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(_e,Le,Xe)=>{((_t,vt)=>{const gt=_t.components()[0].element.dom,Bt=wv(vt,100,100),an=UD(Bt);ye(gt,WD(an))})(Le,Xe)},setThumb:(_e,Le,Xe)=>{((_t,vt)=>{const gt=d_(Ed(vt));Od.setValue(_t,{x:gt.saturation,y:100-gt.value}),Qt(_t.element,"aria-valuetext",ve(["Saturation {0}%, Brightness {1}%",gt.saturation,gt.value]))})(Le,Xe)}},extraApis:{}})})(o,a),E={paletteRgba:Dn(ZD),paletteHue:Dn(0)},O=ss(((ve,ie)=>{const ae=Od.parts.spectrum({dom:{tag:"div",classes:[ie("hue-slider-spectrum")],attributes:{role:"presentation"}}}),ge=Od.parts.thumb({dom:{tag:"div",classes:[ie("hue-slider-thumb")],attributes:{role:"presentation"}}});return Od.sketch({dom:{tag:"div",classes:[ie("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:te(0)},components:[ae,ge],sliderBehaviours:Ft([Zn.config({})]),onChange:(ye,_e,Le)=>{Qt(ye.element,"aria-valuenow",Math.floor(360-3.6*Le)),Sn(ye,$_,{value:Le})}})})(0,a)),L=ss(k.sketch({})),M=ss(w.sketch({})),H=(ve,ie,ae)=>{L.getOpt(ve).each(ge=>{k.setHue(ge,ae)})},q=(ve,ie)=>{M.getOpt(ve).each(ae=>{w.updateHex(ae,ie)})},Y=(ve,ie,ae)=>{O.getOpt(ve).each(ge=>{Od.setValue(ge,(ye=>100-ye/360*100)(ae))})},re=(ve,ie)=>{L.getOpt(ve).each(ae=>{k.setThumb(ae,ie)})},ce=(ve,ie,ae,ge)=>{((ye,_e)=>{const Le=Ed(ye);E.paletteRgba.set(Le),E.paletteHue.set(_e)})(ie,ae),Zt(ge,ye=>{ye(ve,ie,ae)})};return{uid:v.uid,dom:v.dom,components:[L.asSpec(),O.asSpec(),M.asSpec()],behaviours:Ft([uo("colour-picker-events",[xt(T2,(()=>{const ve=[H,Y,re];return(ie,ae)=>{const ge=ae.event.hex,ye=(_e=>d_(Ed(_e)))(ge);ce(ie,ge,ye.hue,ve)}})()),xt(GA,(()=>{const ve=[q];return(ie,ae)=>{const ge=ae.event.value,ye=E.paletteHue.get(),_e=wv(ye,ge.x,100-ge.y),Le=f_(_e);ce(ie,Le,ye,ve)}})()),xt($_,(()=>{const ve=[H,q];return(ie,ae)=>{const ge=(_t=>(100-_t)/100*360)(ae.event.value),ye=E.paletteRgba.get(),_e=d_(ye),Le=wv(ge,_e.saturation,_e.value),Xe=f_(Le);ce(ie,Xe,ge,ve)}})())]),Vo.config({find:ve=>M.getOpt(ve)}),An.config({mode:"acyclic"})])}}}),Zm=()=>Vo.config({find:D.some}),JA=o=>Vo.config({find:a=>Gs(a.element,o).bind(c=>a.getSystem().getByDom(c).toOptional())}),QA=Pn([et("preprocess",Ae),et("postprocess",Ae)]),e3=(o,a)=>{const c=ci("RepresentingConfigs.memento processors",QA,a);return ot.config({store:{mode:"manual",getValue:d=>{const p=o.get(d),v=ot.getValue(p);return c.postprocess(v)},setValue:(d,p)=>{const v=c.preprocess(p),w=o.get(d);ot.setValue(w,v)}}})},k0=(o,a,c)=>ot.config({store:{mode:"manual",...o.map(d=>({initialValue:d})).getOr({}),getValue:a,setValue:c}}),t3=(o,a,c)=>k0(o,d=>a(d.element),(d,p)=>c(d.element,p)),D2=o=>ot.config({store:{mode:"memory",initialValue:o}}),Q7={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var KR=tinymce.util.Tools.resolve("tinymce.Resource");const n3=o=>po(o,"init");var ih=tinymce.util.Tools.resolve("tinymce.util.Tools");const o3=(o,a)=>{let c=null;const d=()=>{N(c)||(clearTimeout(c),c=null)};return{cancel:d,throttle:(...p)=>{d(),c=setTimeout(()=>{c=null,o.apply(null,p)},a)}}},s3=mn("alloy-fake-before-tabstop"),r3=mn("alloy-fake-after-tabstop"),qR=o=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:o},behaviours:Ft([Zn.config({ignore:!0}),Ns.config({})])}),a3=(o,a)=>({dom:{tag:"div",classes:["tox-navobj",...o.getOr([])]},components:[qR([s3]),a,qR([r3])],behaviours:Ft([JA(1)])}),i3=(o,a)=>{Sn(o,cr(),{raw:{which:9,shiftKey:a}})},eL=(o,a)=>{const c=a.element;$i(c,s3)?i3(o,!0):$i(c,r3)&&i3(o,!1)},Av=o=>Sv(o,["."+s3,"."+r3].join(","),Ce),vp=mn("update-dialog"),l3=mn("update-title"),GR=mn("update-body"),YR=mn("update-footer"),c3=mn("body-send-message"),Z_=mn("dialog-focus-shifted"),u3=Wa().browser,Tv=u3.isSafari(),XR=u3.isFirefox(),d3=Tv||XR,JR=u3.isChromium(),tL=({scrollTop:o,scrollHeight:a,clientHeight:c})=>Math.ceil(o)+c>=a,QR=(o,a)=>o.scrollTo(0,a==="bottom"?99999999:a),f3=(o,a,c)=>{const d=o.dom;D.from(d.contentDocument).fold(c,p=>{let v=0;const w=((E,O)=>{const L=E.body;return D.from(!/^<!DOCTYPE (html|HTML)/.test(O)&&(!JR&&!Tv||$(L)&&(L.scrollTop!==0||Math.abs(L.scrollHeight-L.clientHeight)>1))?L:E.documentElement)})(p,a).map(E=>(v=E.scrollTop,E)).forall(tL),k=()=>{const E=d.contentWindow;$(E)&&(w?QR(E,"bottom"):!w&&d3&&v!==0&&QR(E,v))};Tv&&d.addEventListener("load",k,{once:!0}),p.open(),p.write(a),p.close(),Tv||k()})},m3=Wo(d3,Tv?500:200).map(o=>((a,c)=>{let d=null,p=null;return{cancel:()=>{N(d)||(clearTimeout(d),d=null,p=null)},throttle:(...v)=>{p=v,N(d)&&(d=setTimeout(()=>{const w=p;d=null,p=null,a.apply(null,w)},c))}}})(f3,o)),j_=mn("toolbar.button.execute"),yp=mn("common-button-display-events"),g3={[al()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[Ga()]:["toolbar-button-events",yp],[gc()]:["toolbar-button-events","dropdown-events","tooltipping"],[Tt()]:["focusing","alloy.base.behaviour",yp]},K_=o=>Qn(o.element,"width",ar(o.element,"width")),eN=(o,a,c)=>Tc(o,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:c},a),R2=(o,a)=>eN(o,a,[]),xp=(o,a)=>eN(o,a,[zn.config({})]),h3=(o,a,c)=>({dom:{tag:"span",classes:[`${a}__select-label`]},components:[_r(c.translate(o))],behaviours:Ft([zn.config({})])}),uu=mn("update-menu-text"),ju=mn("update-menu-icon"),p3=(o,a,c,d)=>{const p=Dn(he),v=o.text.map(re=>ss(h3(re,a,c.providers))),w=o.icon.map(re=>ss(xp(re,c.providers.icons))),k=(re,ce)=>{const ve=ot.getValue(re);return Zn.focus(ve),Sn(ve,"keydown",{raw:ce.event.raw}),fl.close(ve),D.some(!0)},E=o.role.fold(()=>({}),re=>({role:re})),O=D.from(o.listRole).map(re=>({listRole:re})).getOr({}),L=o.ariaLabel.fold(()=>({}),re=>({"aria-label":c.providers.translate(re)})),M=Tc("chevron-down",{tag:"div",classes:[`${a}__select-chevron`]},c.providers.icons),H=mn("common-button-display-events"),q="dropdown-events";return ss(fl.sketch({...o.uid?{uid:o.uid}:{},...E,...O,dom:{tag:"button",classes:[a,`${a}--select`].concat(bt(o.classes,re=>`${a}--${re}`)),attributes:{...L,...$(d)?{"data-mce-name":d}:{}}},components:pv([w.map(re=>re.asSpec()),v.map(re=>re.asSpec()),D.some(M)]),matchWidth:!0,useMinWidth:!0,onOpen:(re,ce,ve)=>{o.searchable&&(ie=>{fD(ie).each(ae=>Zn.focus(ae))})(ve)},dropdownBehaviours:Ft([...o.dropdownBehaviours,mi(()=>o.disabled||c.providers.isDisabled()),va(),C0.config({}),zn.config({}),...o.tooltip.map(re=>Wr.config(c.providers.tooltips.getConfig({tooltipText:c.providers.translate(re)}))).toArray(),uo(q,[up(o,p),th(o,p)]),uo(H,[Zs((re,ce)=>o.listRole==="listbox"?he:K_(re))]),uo("menubutton-update-display-text",[xt(uu,(re,ce)=>{v.bind(ve=>ve.getOpt(re)).each(ve=>{zn.set(ve,[_r(c.providers.translate(ce.event.text))])})}),xt(ju,(re,ce)=>{w.bind(ve=>ve.getOpt(re)).each(ve=>{zn.set(ve,[xp(ce.event.icon,c.providers.icons)])})})])]),eventOrder:ws(g3,{[Tt()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Ga()]:["toolbar-button-events",Wr.name(),q,H]}),sandboxBehaviours:Ft([An.config({mode:"special",onLeft:k,onRight:k}),uo("dropdown-sandbox-events",[xt(cD,(re,ce)=>{(ve=>{const ie=ot.getValue(ve),ae=i2(ve).map(mD);fl.refetch(ie).get(()=>{const ge=Sr.getCoupled(ie,"sandbox");ae.each(ye=>i2(ge).each(_e=>((Le,Xe)=>{ot.setValue(Le,Xe.fetchPattern),Le.element.dom.selectionStart=Xe.selectionStart,Le.element.dom.selectionEnd=Xe.selectionEnd})(_e,ye)))})})(re),ce.stop()}),xt(uD,(re,ce)=>{((ve,ie)=>{(ae=>T.getState(ae).bind(is.getHighlighted).bind(is.getHighlighted))(ve).each(ae=>{((ge,ye,_e,Le)=>{const Xe={...Le,target:ye};ge.getSystem().triggerEvent(_e,ye,Xe)})(ve,ae.element,ie.event.eventType,ie.event.interactionEvent)})})(re,ce),ce.stop()})])]),lazySink:c.getSink,toggleClass:`${a}--active`,parts:{menu:{...JC(0,o.columns,o.presets),fakeFocus:o.searchable,...o.listRole==="listbox"?{}:{onHighlightItem:mR,onCollapseMenu:(re,ce,ve)=>{is.getHighlighted(ve).each(ie=>{mR(re,ve,ie)})},onDehighlightItem:_7}}},getAnchorOverrides:()=>({maxHeightFunction:(re,ce)=>{km()(re,ce-10)}}),fetch:re=>dp(Ge(o.fetch,re))})).asSpec()},q_=o=>o.type==="separator",G_={type:"separator"},tN=(o,a)=>{const c=((d,p)=>{const v=Rn(d,(w,k)=>(E=>h(E))(k)?k===""?w:k==="|"?w.length>0&&!q_(w[w.length-1])?w.concat([G_]):w:po(p,k.toLowerCase())?w.concat([p[k.toLowerCase()]]):w:w.concat([k]),[]);return v.length>0&&q_(v[v.length-1])&&v.pop(),v})(h(o)?o.split(" "):o,a);return xn(c,(d,p)=>{if((v=>po(v,"getSubmenuItems"))(p)){const v=(k=>{const E=un(k,"value").getOrThunk(()=>mn("generated-menu-item"));return ws({value:E},k)})(p),w=((k,E)=>{const O=k.getSubmenuItems(),L=tN(O,E);return{item:k,menus:ws(L.menus,{[k.value]:L.items}),expansions:ws(L.expansions,{[k.value]:k.value})}})(v,a);return{menus:ws(d.menus,w.menus),items:[w.item,...d.items],expansions:ws(d.expansions,w.expansions)}}return{...d,items:[p,...d.items]}},{menus:{},expansions:{},items:[]})},E0=(o,a,c,d)=>{const p=mn("primary-menu"),v=tN(o,c.shared.providers.menuItems());if(v.items.length===0)return D.none();const w=(M=>M.search.fold(()=>({searchMode:"no-search"}),H=>({searchMode:"search-with-field",placeholder:H.placeholder})))(d),k=gR(p,v.items,a,c,d.isHorizontalMenu,w),E=(M=>M.search.fold(()=>({searchMode:"no-search"}),H=>({searchMode:"search-with-results"})))(d),O=En(v.menus,(M,H)=>gR(H,M,a,c,!1,E)),L=ws(O,Kc(p,k));return D.from(Yg.tieredData(p,L,v.expansions))},N2=o=>!po(o,"items"),b3="data-value",Y_=(o,a,c,d,p)=>bt(c,v=>N2(v)?{type:"togglemenuitem",...p?{}:{role:"option"},text:v.text,value:v.value,active:v.value===d,onAction:()=>{ot.setValue(o,v.value),Sn(o,qi,{name:a}),Zn.focus(o)}}:{type:"nestedmenuitem",text:v.text,getSubmenuItems:()=>Y_(o,a,v.items,d,p)}),X_=(o,a)=>It(o,c=>N2(c)?Wo(c.value===a,c):X_(c.items,a)),nL=su({name:"HtmlSelect",configFields:[At("options"),gn("selectBehaviours",[Zn,ot]),et("selectClasses",[]),et("selectAttributes",{}),Bo("data")],factory:(o,a)=>{const c=bt(o.options,p=>({dom:{tag:"option",value:p.value,innerHtml:p.text}})),d=o.data.map(p=>Kc("initialValue",p)).getOr({});return{uid:o.uid,dom:{tag:"select",classes:o.selectClasses,attributes:o.selectAttributes},components:c,behaviours:co(o.selectBehaviours,[Zn.config({}),ot.config({store:{mode:"manual",getValue:p=>uf(p.element),setValue:(p,v)=>{const w=$t(o.options);J(o.options,k=>k.value===v).isSome()?vm(p.element,v):p.element.dom.selectedIndex===-1&&v===""&&w.each(k=>vm(p.element,k.value))},...d}})])}}}),nN=te([et("field1Name","field1"),et("field2Name","field2"),Iu("onLockedChange"),Ig(["lockClass"]),et("locked",!1),jn("coupledFieldBehaviours",[Vo,ot])]),v3=(o,a)=>dl({factory:ds,name:o,overrides:c=>({fieldBehaviours:Ft([uo("coupled-input-behaviour",[xt(um(),d=>{((p,v,w)=>Ms(p,v,w).bind(Vo.getCurrent))(d,c,a).each(p=>{Ms(d,c,"lock").each(v=>{Un.isOn(v)&&c.onLockedChange(d,p,v)})})})])])})}),oN=te([v3("field1","field2"),v3("field2","field1"),dl({factory:Di,schema:[At("dom")],name:"lock",overrides:o=>({buttonBehaviours:Ft([Un.config({selected:o.locked,toggleClass:o.markers.lockClass,aria:{mode:"pressed"}})])})})]),Rc=Sl({name:"FormCoupledInputs",configFields:nN(),partFields:oN(),factory:(o,a,c,d)=>({uid:o.uid,dom:o.dom,components:a,behaviours:$n(o.coupledFieldBehaviours,[Vo.config({find:D.some}),ot.config({store:{mode:"manual",getValue:p=>{const v=Vk(p,o,["field1","field2"]);return{[o.field1Name]:ot.getValue(v.field1()),[o.field2Name]:ot.getValue(v.field2())}},setValue:(p,v)=>{const w=Vk(p,o,["field1","field2"]);io(v,o.field1Name)&&ot.setValue(w.field1(),v[o.field1Name]),io(v,o.field2Name)&&ot.setValue(w.field2(),v[o.field2Name])}}})]),apis:{getField1:p=>Ms(p,o,"field1"),getField2:p=>Ms(p,o,"field2"),getLock:p=>Ms(p,o,"lock")}}),apis:{getField1:(o,a)=>o.getField1(a),getField2:(o,a)=>o.getField2(a),getLock:(o,a)=>o.getLock(a)}}),y3=o=>{const a=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(o);if(a!==null){const c=parseFloat(a[1]),d=a[2];return _o.value({value:c,unit:d})}return _o.error(o)},x3=(o,a)=>{const c={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},d=p=>po(c,p);return o.unit===a?D.some(o.value):d(o.unit)&&d(a)?c[o.unit]===c[a]?D.some(o.value):D.some(o.value/c[o.unit]*c[a]):D.none()},w3=o=>D.none(),sN=(o,a)=>{const c=o.label.map(L=>mp(L,a)),d=[Kn.config({disabled:()=>o.disabled||a.isDisabled()}),va(),An.config({mode:"execution",useEnter:o.multiline!==!0,useControlEnter:o.multiline===!0,execute:L=>(go(L,k2),D.some(!0))}),uo("textfield-change",[xt(um(),(L,M)=>{Sn(L,qi,{name:o.name})}),xt(Ny(),(L,M)=>{Sn(L,qi,{name:o.name})})]),Ns.config({})],p=o.validation.map(L=>Vm.config({getRoot:M=>ii(M.element),invalidClass:"tox-invalid",validator:{validate:M=>{const H=ot.getValue(M),q=L.validator(H);return Hm(q===!0?_o.value(H):_o.error(q))},validateOnLoad:L.validateOnLoad}})).toArray(),v={...o.placeholder.fold(te({}),L=>({placeholder:a.translate(L)})),...o.inputMode.fold(te({}),L=>({inputmode:L})),"data-mce-name":o.name},w=ds.parts.field({tag:o.multiline===!0?"textarea":"input",...o.data.map(L=>({data:L})).getOr({}),inputAttributes:v,inputClasses:[o.classname],inputBehaviours:Ft(ys([d,p])),selectOnFocus:!1,factory:eh}),k=o.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[w]}:w,E=(o.flex?["tox-form__group--stretched"]:[]).concat(o.maximized?["tox-form-group--maximize"]:[]),O=[Kn.config({disabled:()=>o.disabled||a.isDisabled(),onDisabled:L=>{ds.getField(L).each(Kn.disable)},onEnabled:L=>{ds.getField(L).each(Kn.enable)}}),va()];return S2(c,k,E,O)},I2=(o,a)=>a.getAnimationRoot.fold(()=>o.element,c=>c(o)),lh=o=>o.dimension.property,wp=(o,a)=>o.dimension.getDimension(a),Cp=(o,a)=>{const c=I2(o,a);Zl(c,[a.shrinkingClass,a.growingClass])},J_=(o,a)=>{br(o.element,a.openClass),ur(o.element,a.closedClass),Qn(o.element,lh(a),"0px"),xu(o.element)},C3=(o,a)=>{br(o.element,a.closedClass),ur(o.element,a.openClass),os(o.element,lh(a))},rN=(o,a,c,d)=>{c.setCollapsed(),Qn(o.element,lh(a),wp(a,o.element)),Cp(o,a),J_(o,a),a.onStartShrink(o),a.onShrunk(o)},oL=(o,a,c,d)=>{const p=d.getOrThunk(()=>wp(a,o.element));c.setCollapsed(),Qn(o.element,lh(a),p),xu(o.element);const v=I2(o,a);br(v,a.growingClass),ur(v,a.shrinkingClass),J_(o,a),a.onStartShrink(o)},aN=(o,a,c)=>{const d=wp(a,o.element);(d==="0px"?rN:oL)(o,a,c,D.some(d))},iN=(o,a,c)=>{const d=I2(o,a),p=$i(d,a.shrinkingClass),v=wp(a,o.element);C3(o,a);const w=wp(a,o.element);(p?()=>{Qn(o.element,lh(a),v),xu(o.element)}:()=>{J_(o,a)})(),br(d,a.shrinkingClass),ur(d,a.growingClass),C3(o,a),Qn(o.element,lh(a),w),c.setExpanded(),a.onStartGrow(o)},B2=(o,a,c)=>{const d=I2(o,a);return $i(d,a.growingClass)===!0},lN=(o,a,c)=>{const d=I2(o,a);return $i(d,a.shrinkingClass)===!0};var cN=Object.freeze({__proto__:null,refresh:(o,a,c)=>{if(c.isExpanded()){os(o.element,lh(a));const d=wp(a,o.element);Qn(o.element,lh(a),d)}},grow:(o,a,c)=>{c.isExpanded()||iN(o,a,c)},shrink:(o,a,c)=>{c.isExpanded()&&aN(o,a,c)},immediateShrink:(o,a,c)=>{c.isExpanded()&&rN(o,a,c)},hasGrown:(o,a,c)=>c.isExpanded(),hasShrunk:(o,a,c)=>c.isCollapsed(),isGrowing:B2,isShrinking:lN,isTransitioning:(o,a,c)=>B2(o,a)||lN(o,a),toggleGrow:(o,a,c)=>{(c.isExpanded()?aN:iN)(o,a,c)},disableTransitions:Cp,immediateGrow:(o,a,c)=>{c.isExpanded()||(C3(o,a),Qn(o.element,lh(a),wp(a,o.element)),Cp(o,a),c.setExpanded(),a.onStartGrow(o),a.onGrown(o))}}),sL=Object.freeze({__proto__:null,exhibit:(o,a,c)=>{const d=a.expanded;return Ir(d?{classes:[a.openClass],styles:{}}:{classes:[a.closedClass],styles:Kc(a.dimension.property,"0px")})},events:(o,a)=>to([af(lb(),(c,d)=>{d.event.raw.propertyName===o.dimension.property&&(Cp(c,o),a.isExpanded()&&os(c.element,o.dimension.property),(a.isExpanded()?o.onGrown:o.onShrunk)(c))})])}),uN=[At("closedClass"),At("openClass"),At("shrinkingClass"),At("growingClass"),Bo("getAnimationRoot"),Fo("onShrunk"),Fo("onStartShrink"),Fo("onGrown"),Fo("onStartGrow"),et("expanded",!1),Ta("dimension",ea("property",{width:[Is("property","width"),Is("getDimension",o=>ma(o)+"px")],height:[Is("property","height"),Is("getDimension",o=>gr(o)+"px")]}))];const Bl=ba({fields:uN,name:"sliding",active:sL,apis:cN,state:Object.freeze({__proto__:null,init:o=>{const a=Dn(o.expanded);return pa({isExpanded:()=>a.get()===!0,isCollapsed:()=>a.get()===!1,setCollapsed:Ge(a.set,!1),setExpanded:Ge(a.set,!0),readState:()=>"expanded: "+a.get()})}})}),dN=o=>({isEnabled:()=>!Kn.isDisabled(o),setEnabled:a=>Kn.set(o,!a),setActive:a=>{const c=o.element;a?(ur(c,"tox-tbtn--enabled"),Qt(c,"aria-pressed",!0)):(br(c,"tox-tbtn--enabled"),fo(c,"aria-pressed"))},isActive:()=>$i(o.element,"tox-tbtn--enabled"),setText:a=>{Sn(o,uu,{text:a})},setIcon:a=>Sn(o,ju,{icon:a})}),Ov=(o,a,c,d,p=!0,v)=>p3({text:o.text,icon:o.icon,tooltip:o.tooltip,ariaLabel:o.tooltip,searchable:o.search.isSome(),role:d,fetch:(w,k)=>{const E={pattern:o.search.isSome()?w0(w):""};o.fetch(O=>{k(E0(O,Of.CLOSE_ON_EXECUTE,c,{isHorizontalMenu:!1,search:o.search}))},E,dN(w))},onSetup:o.onSetup,getApi:dN,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...p?[Ns.config({})]:[]]},a,c.shared,v),fN=(o,a,c)=>{const d=v=>w=>{const k=!w.isActive();w.setActive(k),v.storage.set(k),c.shared.getSink().each(E=>{a().getOpt(E).each(O=>{Ai(O.element),Sn(O,Rf,{name:v.name,value:v.storage.get()})})})},p=v=>w=>{w.setActive(v.storage.get())};return v=>{v(bt(o,w=>{const k=w.text.fold(()=>({}),E=>({text:E}));return{type:w.type,active:!1,...k,onAction:d(w),onSetup:p(w)}}))}},_3=o=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":o}},components:[_r(o)]}),S3=mn("leaf-label-event-id"),k3=({leaf:o,onLeafAction:a,visible:c,treeId:d,selectedId:p,backstage:v})=>{const w=o.menu.map(E=>Ov(E,"tox-mbtn",v,D.none(),c)),k=[_3(o.title)];return w.each(E=>k.push(E)),Di.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(c?["tox-tree--leaf__label--visible"]:[])},components:k,role:"treeitem",action:E=>{a(o.id),E.getSystem().broadcastOn([`update-active-item-${d}`],{value:o.id})},eventOrder:{[cr()]:[S3,"keying"]},buttonBehaviours:Ft([...c?[Ns.config({})]:[],Un.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),cl.config({channels:{[`update-active-item-${d}`]:{onReceive:(E,O)=>{(O.value===o.id?Un.on:Un.off)(E)}}}}),uo(S3,[Zs((E,O)=>{p.each(L=>{(L===o.id?Un.on:Un.off)(E)})}),xt(cr(),(E,O)=>{const L=O.event.raw.code==="ArrowLeft",M=O.event.raw.code==="ArrowRight";L?(xm(E.element,".tox-tree--directory").each(H=>{E.getSystem().getByDom(H).each(q=>{I1(H,".tox-tree--directory__label").each(Y=>{q.getSystem().getByDom(Y).each(Zn.focus)})})}),O.stop()):M&&O.stop()})])])})},mN=mn("directory-label-event-id"),rL=({directory:o,visible:a,noChildren:c,backstage:d})=>{const p=o.menu.map(O=>Ov(O,"tox-mbtn",d,D.none())),v=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(w="chevron-right",k=d.shared.providers.icons,((O,L,M)=>Tc(O,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},L))(w,k))]},_3(o.title)];var w,k;p.each(O=>{v.push(O)});const E=O=>{xm(O.element,".tox-tree--directory").each(L=>{O.getSystem().getByDom(L).each(M=>{const H=!Un.isOn(M);Un.toggle(M),Sn(O,"expand-tree-node",{expanded:H,node:o.id})})})};return Di.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(a?["tox-tree--directory__label--visible"]:[])},components:v,action:E,eventOrder:{[cr()]:[mN,"keying"]},buttonBehaviours:Ft([...a?[Ns.config({})]:[],uo(mN,[xt(cr(),(O,L)=>{const M=L.event.raw.code==="ArrowRight",H=L.event.raw.code==="ArrowLeft";M&&c&&L.stop(),(M||H)&&xm(O.element,".tox-tree--directory").each(q=>{O.getSystem().getByDom(q).each(Y=>{!Un.isOn(Y)&&M||Un.isOn(Y)&&H?(E(O),L.stop()):H&&!Un.isOn(Y)&&(xm(Y.element,".tox-tree--directory").each(re=>{I1(re,".tox-tree--directory__label").each(ce=>{Y.getSystem().getByDom(ce).each(Zn.focus)})}),L.stop())})})})])])})},aL=({children:o,onLeafAction:a,visible:c,treeId:d,expandedIds:p,selectedId:v,backstage:w})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:o.map(k=>k.type==="leaf"?k3({leaf:k,selectedId:v,onLeafAction:a,visible:c,treeId:d,backstage:w}):Q_({directory:k,expandedIds:p,selectedId:v,onLeafAction:a,labelTabstopping:c,treeId:d,backstage:w})),behaviours:Ft([Bl.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:c}),zn.config({})])}),gN=mn("directory-event-id"),Q_=({directory:o,onLeafAction:a,labelTabstopping:c,treeId:d,backstage:p,expandedIds:v,selectedId:w})=>{const{children:k}=o,E=Dn(v),O=v.includes(o.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[rL({directory:o,visible:c,noChildren:o.children.length===0,backstage:p}),aL({children:k,expandedIds:v,selectedId:w,onLeafAction:a,visible:O,treeId:d,backstage:p})],behaviours:Ft([uo(gN,[Zs((L,M)=>{Un.set(L,O)}),xt("expand-tree-node",(L,M)=>{const{expanded:H,node:q}=M.event;E.set(H?[...E.get(),q]:E.get().filter(Y=>Y!==q))})]),Un.config({...o.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(L,M)=>{const H=L.components()[1],q=(Y=M,k.map(re=>re.type==="leaf"?k3({leaf:re,selectedId:w,onLeafAction:a,visible:Y,treeId:d,backstage:p}):Q_({directory:re,expandedIds:E.get(),selectedId:w,onLeafAction:a,labelTabstopping:Y,treeId:d,backstage:p})));var Y;M?Bl.grow(H):Bl.shrink(H),zn.set(H,q)}})])}},iL=mn("tree-event-id");var lL=Object.freeze({__proto__:null,events:(o,a)=>{const c=o.stream.streams.setup(o,a);return to([xt(o.event,c),Nu(()=>a.cancel())].concat(o.cancelEvent.map(d=>[xt(d,()=>a.cancel())]).getOr([])))}});const hN=o=>{const a=Dn(null);return pa({readState:()=>({timer:a.get()!==null?"set":"unset"}),setTimer:c=>{a.set(c)},cancel:()=>{const c=a.get();c!==null&&c.cancel()}})};var cL=Object.freeze({__proto__:null,throttle:hN,init:o=>o.stream.streams.state(o)}),uL=[Ta("stream",ea("mode",{throttle:[At("delay"),et("stopEvent",!0),Is("streams",{setup:(o,a)=>{const c=o.stream,d=o3(o.onStream,c.delay);return a.setTimer(d),(p,v)=>{d.throttle(p,v),c.stopEvent&&v.stop()}},state:hN})]})),et("event","input"),Bo("cancelEvent"),Iu("onStream")];const E3=ba({fields:uL,name:"streaming",active:lL,state:cL}),eS=(o,a,c)=>{const d=ot.getValue(c);ot.setValue(a,d),A3(a)},tS=(o,a)=>{const c=o.element,d=uf(c),p=c.dom;wo(c,"type")!=="number"&&a(p,d)},A3=o=>{tS(o,(a,c)=>a.setSelectionRange(c.length,c.length))},T3=te("alloy.typeahead.itemexecute"),dL=te([Bo("lazySink"),At("fetch"),et("minChars",5),et("responseTime",1e3),Fo("onOpen"),et("getHotspot",D.some),et("getAnchorOverrides",te({})),et("layouts",D.none()),et("eventOrder",{}),Ei("model",{},[et("getDisplayText",o=>o.meta!==void 0&&o.meta.text!==void 0?o.meta.text:o.value),et("selectsOver",!0),et("populateFromBrowse",!0)]),Fo("onSetValue"),il("onExecute"),Fo("onItemExecute"),et("inputClasses",[]),et("inputAttributes",{}),et("inputStyles",{}),et("matchWidth",!0),et("useMinWidth",!1),et("dismissOnBlur",!0),Ig(["openClass"]),Bo("initialData"),Bo("listRole"),gn("typeaheadBehaviours",[Zn,ot,E3,An,Un,Sr]),Aa("lazyTypeaheadComp",()=>Dn(D.none)),Aa("previewing",()=>Dn(!0))].concat(KP()).concat(CA())),pN=te([_d({schema:[Ng()],name:"menu",overrides:o=>({fakeFocus:!0,onHighlightItem:(a,c,d)=>{o.previewing.get()?o.lazyTypeaheadComp.get().each(p=>{((v,w,k)=>{if(v.selectsOver){const E=ot.getValue(w),O=v.getDisplayText(E),L=ot.getValue(k);return v.getDisplayText(L).indexOf(O)===0?D.some(()=>{eS(0,w,k),((M,H)=>{tS(M,(q,Y)=>q.setSelectionRange(H,Y.length))})(w,O.length)}):D.none()}return D.none()})(o.model,p,d).fold(()=>{o.model.selectsOver?(is.dehighlight(c,d),o.previewing.set(!0)):o.previewing.set(!1)},v=>{v(),o.previewing.set(!1)})}):o.lazyTypeaheadComp.get().each(p=>{o.model.populateFromBrowse&&eS(o.model,p,d),Io(d.element,"id").each(v=>Qt(p.element,"aria-activedescendant",v))})},onExecute:(a,c)=>o.lazyTypeaheadComp.get().map(d=>(Sn(d,T3(),{item:c}),!0)),onHover:(a,c)=>{o.previewing.set(!1),o.lazyTypeaheadComp.get().each(d=>{o.model.populateFromBrowse&&eS(o.model,d,c)})}})})]),fL=Sl({name:"Typeahead",configFields:dL(),partFields:pN(),factory:(o,a,c,d)=>{const p=(M,H,q)=>{o.previewing.set(!1);const Y=Sr.getCoupled(M,"sandbox");if(T.isOpen(Y))Vo.getCurrent(Y).each(re=>{is.getHighlighted(re).fold(()=>{q(re)},()=>{pc(Y,re.element,"keydown",H)})});else{const re=ce=>{Vo.getCurrent(ce).each(q)};p_(o,w(M),M,Y,d,re,Ki.HighlightMenuAndItem).get(he)}},v=qP(o),w=M=>H=>H.map(q=>{const Y=yi(q.menus),re=qo(Y,ce=>ho(ce.items,ve=>ve.type==="item"));return ot.getState(M).update(bt(re,ce=>ce.data)),q}),k=M=>Vo.getCurrent(M),E="typeaheadevents",O=[Zn.config({}),ot.config({onSetValue:o.onSetValue,store:{mode:"dataset",getDataKey:M=>uf(M.element),getFallbackEntry:M=>({value:M,meta:{}}),setValue:(M,H)=>{vm(M.element,o.model.getDisplayText(H))},...o.initialData.map(M=>Kc("initialValue",M)).getOr({})}}),E3.config({stream:{mode:"throttle",delay:o.responseTime,stopEvent:!1},onStream:(M,H)=>{const q=Sr.getCoupled(M,"sandbox");if(Zn.isFocused(M)&&uf(M.element).length>=o.minChars){const Y=k(q).bind(ce=>is.getHighlighted(ce).map(ot.getValue));o.previewing.set(!0);const re=ce=>{k(q).each(ve=>{Y.fold(()=>{o.model.selectsOver&&is.highlightFirst(ve)},ie=>{is.highlightBy(ve,ae=>ot.getValue(ae).value===ie.value),is.getHighlighted(ve).orThunk(()=>(is.highlightFirst(ve),D.none()))})})};p_(o,w(M),M,q,d,re,Ki.HighlightJustMenu).get(he)}},cancelEvent:fd()}),An.config({mode:"special",onDown:(M,H)=>(p(M,H,is.highlightFirst),D.some(!0)),onEscape:M=>{const H=Sr.getCoupled(M,"sandbox");return T.isOpen(H)?(T.close(H),D.some(!0)):D.none()},onUp:(M,H)=>(p(M,H,is.highlightLast),D.some(!0)),onEnter:M=>{const H=Sr.getCoupled(M,"sandbox"),q=T.isOpen(H);if(q&&!o.previewing.get())return k(H).bind(Y=>is.getHighlighted(Y)).map(Y=>(Sn(M,T3(),{item:Y}),!0));{const Y=ot.getValue(M);return go(M,fd()),o.onExecute(H,M,Y),q&&T.close(H),D.some(!0)}}}),Un.config({toggleClass:o.markers.openClass,aria:{mode:"expanded"}}),Sr.config({others:{sandbox:M=>wA(o,M,{onOpen:()=>Un.on(M),onClose:()=>{o.lazyTypeaheadComp.get().each(H=>fo(H.element,"aria-activedescendant")),Un.off(M)}})}}),uo(E,[Zs(M=>{o.lazyTypeaheadComp.set(D.some(M))}),Nu(M=>{o.lazyTypeaheadComp.set(D.none())}),Yc(M=>{const H=he;yA(o,w(M),M,d,H,Ki.HighlightMenuAndItem).get(he)}),xt(T3(),(M,H)=>{const q=Sr.getCoupled(M,"sandbox");eS(o.model,M,H.event.item),go(M,fd()),o.onItemExecute(M,q,H.event.item,ot.getValue(M)),T.close(q),A3(M)})].concat(o.dismissOnBlur?[xt(Dh(),M=>{const H=Sr.getCoupled(M,"sandbox");Pr(H.element).isNone()&&T.close(H)})]:[]))],L={[gc()]:[ot.name(),E3.name(),E],...o.eventOrder};return{uid:o.uid,dom:lD(ws(o,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...v,...co(o.typeaheadBehaviours,O)},eventOrder:L}}}),A0=o=>({...o,toCached:()=>A0(o.toCached()),bindFuture:a=>A0(o.bind(c=>c.fold(d=>Hm(_o.error(d)),d=>a(d)))),bindResult:a=>A0(o.map(c=>c.bind(a))),mapResult:a=>A0(o.map(c=>c.map(a))),mapError:a=>A0(o.map(c=>c.mapError(a))),foldResult:(a,c)=>o.map(d=>d.fold(a,c)),withTimeout:(a,c)=>A0(dp(d=>{let p=!1;const v=setTimeout(()=>{p=!0,d(_o.error(c()))},a);o.get(w=>{p||(clearTimeout(v),d(w))})}))}),bN=o=>A0(dp(o)),M2=(o,a,c=[],d,p,v,w)=>{const k=a.fold(()=>({}),L=>({action:L})),E={buttonBehaviours:Ft([mi(()=>!o.enabled||w.isDisabled()),va(),Ns.config({}),...v.map(L=>Wr.config(w.tooltips.getConfig({tooltipText:w.translate(L)}))).toArray(),uo("button press",[Zw("click")])].concat(c)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...k},O=ws(E,{dom:d});return ws(O,{components:p})},vN=(o,a,c,d=[],p)=>{const v={tag:"button",classes:["tox-tbtn"],attributes:{...o.tooltip.map(E=>({"aria-label":c.translate(E)})).getOr({}),"data-mce-name":p}},w=o.icon.map(E=>R2(E,c.icons)),k=pv([w]);return M2(o,a,d,v,k,o.tooltip,c)},O3=o=>{switch(o){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},yN=(o,a,c,d=[],p=[])=>{const v=c.translate(o.text),w=o.icon.map(M=>R2(M,c.icons)),k=[w.getOrThunk(()=>_r(v))],E=o.buttonType.getOr(o.primary||o.borderless?"primary":"secondary"),O={tag:"button",classes:[...O3(E),...w.isSome()?["tox-button--icon"]:[],...o.borderless?["tox-button--naked"]:[],...p],attributes:{"aria-label":v,"data-mce-name":o.text}},L=o.icon.map(te(v));return M2(o,a,d,O,k,L,c)},xN=(o,a,c,d=[],p=[])=>{const v=yN(o,D.some(a),c,d,p);return Di.sketch(v)},D3=(o,a)=>c=>{a==="custom"?Sn(c,Rf,{name:o,value:{}}):a==="submit"?go(c,k2):a==="cancel"?go(c,sh):console.error("Unknown button type: ",a)},Dv=(o,a,c)=>{if(((d,p)=>p==="menu")(0,a)){const d=()=>w,p=o,v={...o,type:"menubutton",search:D.none(),onSetup:k=>(k.setEnabled(o.enabled),he),fetch:fN(p.items,d,c)},w=ss(Ov(v,"tox-tbtn",c,D.none(),!0,o.text.or(o.tooltip).getOrUndefined()));return w.asSpec()}if(((d,p)=>p==="custom"||p==="cancel"||p==="submit")(0,a)){const d=D3(o.name,a),p={...o,borderless:!1};return xN(p,d,c.shared.providers,[])}if(((d,p)=>p==="togglebutton")(0,a))return((d,p,v)=>{var w,k;const E=d.icon.map(ae=>xp(ae,p.icons)).map(ss),O=d.buttonType.getOr(d.primary?"primary":"secondary"),L={...d,name:(w=d.name)!==null&&w!==void 0?w:"",primary:O==="primary",tooltip:d.tooltip,enabled:(k=d.enabled)!==null&&k!==void 0&&k,borderless:!1},M=L.tooltip.or(d.text).map(ae=>({"aria-label":p.translate(ae)})).getOr({}),H=O3(O??"secondary"),q=d.icon.isSome()&&d.text.isSome(),Y={tag:"button",classes:[...H.concat(d.icon.isSome()?["tox-button--icon"]:[]),...d.active?["tox-button--enabled"]:[],...q?["tox-button--icon-and-text"]:[]],attributes:{...M,...$(v)?{"data-mce-name":v}:{}}},re=p.translate(d.text.getOr("")),ce=_r(re),ve=[...pv([E.map(ae=>ae.asSpec())]),...d.text.isSome()?[ce]:[]],ie=M2(L,D.some(ae=>{Sn(ae,Rf,{name:d.name,value:{setIcon:ge=>{E.map(ye=>ye.getOpt(ae).each(_e=>{zn.set(_e,[xp(ge,p.icons)])}))}}})}),[],Y,ve,d.tooltip,p);return Di.sketch(ie)})(o,c.shared.providers,o.text.or(o.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",a),new Error("Unknown footer button type")},mL={type:"separator"},gL=o=>({type:"menuitem",value:o.url,text:o.title,meta:{attach:o.attach},onAction:he}),R3=(o,a)=>({type:"menuitem",value:a,text:o,meta:{attach:void 0},onAction:he}),wN=(o,a)=>(c=>bt(c,gL))(((c,d)=>ho(d,p=>p.type===c))(o,a)),hL=o=>wN("header",o.targets),pL=o=>wN("anchor",o.targets),CN=o=>D.from(o.anchorTop).map(a=>R3("<top>",a)).toArray(),_N=o=>D.from(o.anchorBottom).map(a=>R3("<bottom>",a)).toArray(),N3=(o,a)=>{const c=o.toLowerCase();return ho(a,d=>{var p;const v=d.meta!==void 0&&d.meta.text!==void 0?d.meta.text:d.text,w=(p=d.value)!==null&&p!==void 0?p:"";return Hr(v.toLowerCase(),c)||Hr(w.toLowerCase(),c)})},SN=mn("aria-invalid"),bL=(o,a)=>{o.dom.checked=a},Nc=o=>o.dom.checked,rr=o=>(a,c,d,p,v)=>un(c,"name").fold(()=>o(c,p,D.none(),v),w=>a.field(w,o(c,p,un(d,w),v))),vL={bar:rr((o,a)=>((c,d)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:bt(c.items,d.interpreter)}))(o,a.shared)),collection:rr((o,a,c)=>xR(o,a.shared.providers,c)),alertbanner:rr((o,a)=>((c,d)=>{const p=Q5(c.icon,d.icons);return Ad.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${c.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:c.url?void 0:p},components:c.url?[Di.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:p,attributes:{title:d.translate(c.iconTooltip)}},action:v=>Sn(v,Rf,{name:"alert-banner",value:c.url}),buttonBehaviours:Ft([GC()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:d.translate(c.text)}}]})})(o,a.shared.providers)),input:rr((o,a,c)=>((d,p,v)=>sN({name:d.name,multiline:!1,label:d.label,inputMode:d.inputMode,placeholder:d.placeholder,flex:!1,disabled:!d.enabled,classname:"tox-textfield",validation:D.none(),maximized:d.maximized,data:v},p))(o,a.shared.providers,c)),textarea:rr((o,a,c)=>((d,p,v)=>sN({name:d.name,multiline:!0,label:d.label,inputMode:D.none(),placeholder:d.placeholder,flex:!0,disabled:!d.enabled,classname:"tox-textarea",validation:D.none(),maximized:d.maximized,data:v},p))(o,a.shared.providers,c)),label:rr((o,a,c,d)=>((p,v,w)=>{const k="tox-label",E=p.align==="center"?[`${k}--center`]:[],O=p.align==="end"?[`${k}--end`]:[],L=ss({dom:{tag:"label",classes:[k,...E,...O]},components:[_r(v.providers.translate(p.label))]}),M=bt(p.items,v.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[L.asSpec(),...M],behaviours:Ft([Zm(),zn.config({}),(H=D.none(),t3(H,hd,Og)),An.config({mode:"acyclic"}),uo("label",[Zs(q=>{p.for.each(Y=>{w(Y).each(re=>{L.getOpt(q).each(ce=>{var ve;const ie=(ve=wo(re.element,"id"))!==null&&ve!==void 0?ve:mn("form-field");Qt(re.element,"id",ie),Qt(ce.element,"for",ie)})})})})])])};var H})(o,a.shared,d)),iframe:(Q3=(o,a,c)=>((d,p,v)=>{const w="tox-dialog__iframe",k=d.transparent?[]:[`${w}--opaque`],E=d.border?["tox-navobj-bordered"]:[],O={...d.label.map(q=>({title:q})).getOr({}),...v.map(q=>({srcdoc:q})).getOr({}),...d.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},L=((q,Y)=>{const re=Dn(q.getOr(""));return{getValue:ce=>re.get(),setValue:(ce,ve)=>{if(re.get()!==ve){const ie=ce.element,ae=()=>Qt(ie,"srcdoc",ve);Y?m3.fold(te(f3),ge=>ge.throttle)(ie,ve,ae):ae()}re.set(ve)}}})(v,d.streamContent),M=d.label.map(q=>mp(q,p)),H=ds.parts.field({factory:{sketch:q=>a3(D.from(E),{uid:q.uid,dom:{tag:"iframe",attributes:O,classes:[w,...k]},behaviours:Ft([Ns.config({}),Zn.config({}),k0(v,L.getValue,L.setValue),cl.config({channels:{[Z_]:{onReceive:(Y,re)=>{re.newFocus.each(ce=>{ii(Y.element).each(ve=>{(Zo(Y.element,ce)?ur:br)(ve,"tox-navobj-bordered-focus")})})}}}})])})}});return S2(M,H,["tox-form__group--stretched"],[])})(o,a.shared.providers,c),(o,a,c,d,p)=>{const v=ws(a,{source:"dynamic"});return rr(Q3)(o,v,c,d,p)}),button:rr((o,a)=>((c,d)=>{const p=D3(c.name,"custom");return v=D.none(),w=ds.parts.field({factory:Di,...yN(c,D.some(p),d,[D2(""),Zm()])}),S2(v,w,[],[]);var v,w})(o,a.shared.providers)),checkbox:rr((o,a,c)=>((d,p,v)=>{const w=M=>(M.element.dom.click(),D.some(!0)),k=ds.parts.field({factory:{sketch:Ae},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Ft([Zm(),Kn.config({disabled:()=>!d.enabled||p.isDisabled(),onDisabled:M=>{ii(M.element).each(H=>ur(H,"tox-checkbox--disabled"))},onEnabled:M=>{ii(M.element).each(H=>br(H,"tox-checkbox--disabled"))}}),Ns.config({}),Zn.config({}),t3(v,Nc,bL),An.config({mode:"special",onEnter:w,onSpace:w,stopSpaceKeyup:!0}),uo("checkbox-events",[xt(dm(),(M,H)=>{Sn(M,qi,{name:d.name})})])])}),E=ds.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[_r(p.translate(d.label))],behaviours:Ft([C0.config({})])}),O=M=>Tc(M==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+M]},p.icons),L=ss({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[O("checked"),O("unchecked")]});return ds.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[k,L.asSpec(),E],fieldBehaviours:Ft([Kn.config({disabled:()=>!d.enabled||p.isDisabled()}),va()])})})(o,a.shared.providers,c)),colorinput:rr((o,a,c)=>((d,p,v,w)=>{const k=ds.parts.field({factory:eh,inputClasses:["tox-textfield"],data:w,onSetValue:M=>Vm.run(M).get(he),inputBehaviours:Ft([Kn.config({disabled:p.providers.isDisabled}),va(),Ns.config({}),Vm.config({invalidClass:"tox-textbox-field-invalid",getRoot:M=>ii(M.element),notify:{onValid:M=>{const H=ot.getValue(M);Sn(M,RA,{color:H})}},validator:{validateOnLoad:!1,validate:M=>{const H=ot.getValue(M);if(H.length===0)return Hm(_o.value(!0));{const q=fa("span");Qn(q,"background-color",H);const Y=Tr(q,"background-color").fold(()=>_o.error("blah"),re=>_o.value(H));return Hm(Y)}}}})]),selectOnFocus:!1}),E=d.label.map(M=>mp(M,p.providers)),O=(M,H)=>{Sn(M,NA,{value:H})},L=ss(((M,H)=>fl.sketch({dom:M.dom,components:M.components,toggleClass:"mce-active",dropdownBehaviours:Ft([mi(H.providers.isDisabled),va(),C0.config({}),Ns.config({})]),layouts:M.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:H.getSink,fetch:q=>dp(Y=>M.fetch(Y)).map(Y=>D.from(_A(ws(x0(mn("menu-value"),Y,re=>{M.onItemAction(q,re)},M.columns,M.presets,Of.CLOSE_ON_EXECUTE,Ce,H.providers),{movement:y2(M.columns,M.presets)})))),parts:{menu:JC(0,0,M.presets)}}))({dom:{tag:"span",attributes:{"aria-label":p.providers.translate("Color swatch")}},layouts:{onRtl:()=>[yr,vr,Mr],onLtr:()=>[vr,yr,Mr]},components:[],fetch:eR(v.getColors(d.storageKey),d.storageKey,v.hasCustomColors()),columns:v.getColorCols(d.storageKey),presets:"color",onItemAction:(M,H)=>{L.getOpt(M).each(q=>{H==="custom"?v.colorPicker(Y=>{Y.fold(()=>go(q,kR),re=>{O(q,re),rA(d.storageKey,re)})},"#ffffff"):O(q,H==="remove"?"":H)})}},p));return ds.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:E.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[k,L.asSpec()]}]),fieldBehaviours:Ft([uo("form-field-events",[xt(RA,(M,H)=>{L.getOpt(M).each(q=>{Qn(q.element,"background-color",H.event.color)}),Sn(M,qi,{name:d.name})}),xt(NA,(M,H)=>{ds.getField(M).each(q=>{ot.setValue(q,H.event.value),Vo.getCurrent(M).each(Zn.focus)})}),xt(kR,(M,H)=>{ds.getField(M).each(q=>{Vo.getCurrent(M).each(Zn.focus)})})])])})})(o,a.shared,a.colorinput,c)),colorpicker:rr((o,a,c)=>((d,p,v)=>{const w=O=>"tox-"+O,k=jR((O=>L=>h(L)?O.translate(Q7[L]):O.translate(L))(p),w,p.tooltips.getConfig,(O,L,M=O,H=O)=>Tc(M,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+O],attributes:{title:p.translate(H),"aria-live":"polite",...L.fold(()=>({}),q=>({id:q}))}},p.icons)),E=ss(k.sketch({dom:{tag:"div",classes:[w("color-picker-container")],attributes:{role:"presentation"}},onValidHex:O=>{Sn(O,Rf,{name:"hex-valid",value:!0})},onInvalidHex:O=>{Sn(O,Rf,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[E.asSpec()],behaviours:Ft([k0(v,O=>{const L=E.get(O);return Vo.getCurrent(L).bind(M=>ot.getValue(M).hex).map(M=>"#"+Os(M,"#")).getOr("")},(O,L)=>{const M=D.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(L)).bind(q=>St(q,1)),H=E.get(O);Vo.getCurrent(H).fold(()=>{console.log("Can not find form")},q=>{ot.setValue(q,{hex:M.getOr("")}),bp.getField(q,"hex").each(Y=>{go(Y,um())})})}),Zm()])}})(0,a.shared.providers,c)),dropzone:rr((o,a,c)=>((d,p,v)=>{const w=(Y,re)=>{re.stop()},k=Y=>(re,ce)=>{Zt(Y,ve=>{ve(re,ce)})},E=(Y,re)=>{var ce;if(!Kn.isDisabled(Y)){const ve=re.event.raw;L(Y,(ce=ve.dataTransfer)===null||ce===void 0?void 0:ce.files)}},O=(Y,re)=>{const ce=re.event.raw.target;L(Y,ce.files)},L=(Y,re)=>{re&&(ot.setValue(Y,((ce,ve)=>{const ie=ih.explode(ve.getOption("images_file_types"));return ho(zt(ce),ae=>On(ie,ge=>pu(ae.name.toLowerCase(),`.${ge.toLowerCase()}`)))})(re,p)),Sn(Y,qi,{name:d.name}))},M=ss({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Ft([uo("input-file-events",[fm(ta()),fm(ef())])])}),H=d.label.map(Y=>mp(Y,p)),q=ds.parts.field({factory:{sketch:Y=>({uid:Y.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Ft([D2(v.getOr([])),Zm(),Kn.config({}),Un.config({toggleClass:"dragenter",toggleOnExecute:!1}),uo("dropzone-events",[xt("dragenter",k([w,Un.toggle])),xt("dragleave",k([w,Un.toggle])),xt("dragover",w),xt("drop",k([w,E])),xt(dm(),O)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[_r(p.translate("Drop an image here"))]},Di.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[_r(p.translate("Browse for an image")),M.asSpec()],action:re=>{M.get(re).element.dom.click()},buttonBehaviours:Ft([Ns.config({}),mi(p.isDisabled),va()])})]}]})}});return S2(H,q,["tox-form__group--stretched"],[])})(o,a.shared.providers,c)),grid:rr((o,a)=>((c,d)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${c.columns}col`]},components:bt(c.items,d.interpreter)}))(o,a.shared)),listbox:rr((o,a,c)=>((d,p,v)=>{const w=On(d.items,H=>!N2(H)),k=p.shared.providers,E=v.bind(H=>X_(d.items,H)).orThunk(()=>$t(d.items).filter(N2)),O=d.label.map(H=>mp(H,k)),L=ds.parts.field({dom:{},factory:{sketch:H=>p3({uid:H.uid,text:E.map(q=>q.text),icon:D.none(),tooltip:D.none(),role:Wo(!w,"combobox"),...w?{}:{listRole:"listbox"},ariaLabel:d.label,fetch:(q,Y)=>{const re=Y_(q,d.name,d.items,ot.getValue(q),w);Y(E0(re,Of.CLOSE_ON_EXECUTE,p,{isHorizontalMenu:!1,search:D.none()}))},onSetup:te(he),getApi:te({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Ns.config({}),k0(E.map(q=>q.value),q=>wo(q.element,b3),(q,Y)=>{X_(d.items,Y).each(re=>{Qt(q.element,b3,re.value),Sn(q,uu,{text:re.text})})})]},"tox-listbox",p.shared)}}),M={dom:{tag:"div",classes:["tox-listboxfield"]},components:[L]};return ds.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:ys([O.toArray(),[M]]),fieldBehaviours:Ft([Kn.config({disabled:te(!d.enabled),onDisabled:H=>{ds.getField(H).each(Kn.disable)},onEnabled:H=>{ds.getField(H).each(Kn.enable)}})])})})(o,a,c)),selectbox:rr((o,a,c)=>((d,p,v)=>{const w=bt(d.items,M=>({text:p.translate(M.text),value:M.value})),k=d.label.map(M=>mp(M,p)),E=ds.parts.field({dom:{},...v.map(M=>({data:M})).getOr({}),selectAttributes:{size:d.size},options:w,factory:nL,selectBehaviours:Ft([Kn.config({disabled:()=>!d.enabled||p.isDisabled()}),Ns.config({}),uo("selectbox-change",[xt(dm(),(M,H)=>{Sn(M,qi,{name:d.name})})])])}),O=d.size>1?D.none():D.some(Tc("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},p.icons)),L={dom:{tag:"div",classes:["tox-selectfield"]},components:ys([[E],O.toArray()])};return ds.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:ys([k.toArray(),[L]]),fieldBehaviours:Ft([Kn.config({disabled:()=>!d.enabled||p.isDisabled(),onDisabled:M=>{ds.getField(M).each(Kn.disable)},onEnabled:M=>{ds.getField(M).each(Kn.enable)}}),va()])})})(o,a.shared.providers,c)),sizeinput:rr((o,a)=>((c,d)=>{let p=w3;const v=mn("ratio-event"),w=re=>Tc(re,{tag:"span",classes:["tox-icon","tox-lock-icon__"+re]},d.icons),k=c.label.getOr("Constrain proportions"),E=d.translate(k),O=Rc.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":E,"data-mce-name":k}},components:[w("lock"),w("unlock")],buttonBehaviours:Ft([Kn.config({disabled:()=>!c.enabled||d.isDisabled()}),va(),Ns.config({}),Wr.config(d.tooltips.getConfig({tooltipText:E}))])}),L=re=>({dom:{tag:"div",classes:["tox-form__group"]},components:re}),M=re=>ds.parts.field({factory:eh,inputClasses:["tox-textfield"],inputBehaviours:Ft([Kn.config({disabled:()=>!c.enabled||d.isDisabled()}),va(),Ns.config({}),uo("size-input-events",[xt(es(),(ce,ve)=>{Sn(ce,v,{isField1:re})}),xt(dm(),(ce,ve)=>{Sn(ce,qi,{name:c.name})})])]),selectOnFocus:!1}),H=re=>({dom:{tag:"label",classes:["tox-label"]},components:[_r(d.translate(re))]}),q=Rc.parts.field1(L([ds.parts.label(H("Width")),M(!0)])),Y=Rc.parts.field2(L([ds.parts.label(H("Height")),M(!1)]));return Rc.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[q,Y,L([H(""),O])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(re,ce,ve)=>{y3(ot.getValue(re)).each(ie=>{p(ie).each(ae=>{ot.setValue(ce,(ge=>{const ye={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let _e=ge.value.toFixed((Le=ge.unit)in ye?ye[Le]:1);var Le;return _e.indexOf(".")!==-1&&(_e=_e.replace(/\.?0*$/,"")),_e+ge.unit})(ae))})})},coupledFieldBehaviours:Ft([Kn.config({disabled:()=>!c.enabled||d.isDisabled(),onDisabled:re=>{Rc.getField1(re).bind(ds.getField).each(Kn.disable),Rc.getField2(re).bind(ds.getField).each(Kn.disable),Rc.getLock(re).each(Kn.disable)},onEnabled:re=>{Rc.getField1(re).bind(ds.getField).each(Kn.enable),Rc.getField2(re).bind(ds.getField).each(Kn.enable),Rc.getLock(re).each(Kn.enable)}}),va(),uo("size-input-events2",[xt(v,(re,ce)=>{const ve=ce.event.isField1,ie=ve?Rc.getField1(re):Rc.getField2(re),ae=ve?Rc.getField2(re):Rc.getField1(re),ge=ie.map(ot.getValue).getOr(""),ye=ae.map(ot.getValue).getOr("");p=((_e,Le)=>{const Xe=y3(_e).toOptional(),_t=y3(Le).toOptional();return Vt(Xe,_t,(vt,gt)=>x3(vt,gt.unit).map(Bt=>gt.value/Bt).map(Bt=>{return an=Bt,vn=gt.unit,In=>x3(In,vn).map(qn=>({value:qn*an,unit:vn}));var an,vn}).getOr(w3)).getOr(w3)})(ge,ye)})])])})})(o,a.shared.providers)),slider:rr((o,a,c)=>((d,p,v)=>{const w=Od.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[_r(p.translate(d.label))]}),k=Od.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),E=Od.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Od.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:d.min,maxX:d.max,getInitialValue:te(v.getOrThunk(()=>(Math.abs(d.max)-Math.abs(d.min))/2))},components:[w,k,E],sliderBehaviours:Ft([Zm(),Zn.config({})]),onChoose:(O,L,M)=>{Sn(O,qi,{name:d.name,value:M})},onChange:(O,L,M)=>{Sn(O,qi,{name:d.name,value:M})}})})(o,a.shared.providers,c)),urlinput:rr((o,a,c)=>((d,p,v,w)=>{const k=p.shared.providers,E=ie=>{const ae=ot.getValue(ie);v.addToHistory(ae.value,d.filetype)},O={...w.map(ie=>({initialData:ie})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":SN,type:"url"},minChars:0,responseTime:0,fetch:ie=>{const ae=((ye,_e,Le)=>{var Xe,_t;const vt=ot.getValue(_e),gt=(_t=(Xe=vt==null?void 0:vt.meta)===null||Xe===void 0?void 0:Xe.text)!==null&&_t!==void 0?_t:vt.value;return Le.getLinkInformation().fold(()=>[],Bt=>{const an=N3(gt,(In=>bt(In,qn=>R3(qn,qn)))(Le.getHistory(ye)));return ye==="file"?(vn=[an,N3(gt,hL(Bt)),N3(gt,ys([CN(Bt),pL(Bt),_N(Bt)]))],Rn(vn,(In,qn)=>In.length===0||qn.length===0?In.concat(qn):In.concat(mL,qn),[])):an;var vn})})(d.filetype,ie,v),ge=E0(ae,Of.BUBBLE_TO_SANDBOX,p,{isHorizontalMenu:!1,search:D.none()});return Hm(ge)},getHotspot:ie=>ce.getOpt(ie),onSetValue:(ie,ae)=>{ie.hasConfigured(Vm)&&Vm.run(ie).get(he)},typeaheadBehaviours:Ft([...v.getValidationHandler().map(ie=>Vm.config({getRoot:ae=>ii(ae.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(ae,ge)=>{H.getOpt(ae).each(ye=>{Qt(ye.element,"title",k.translate(ge))})}},validator:{validate:ae=>{const ge=ot.getValue(ae);return bN(ye=>{ie({type:d.filetype,url:ge.value},_e=>{if(_e.status==="invalid"){const Le=_o.error(_e.message);ye(Le)}else{const Le=_o.value(_e.message);ye(Le)}})})},validateOnLoad:!1}})).toArray(),Kn.config({disabled:()=>!d.enabled||k.isDisabled()}),Ns.config({}),uo("urlinput-events",[xt(um(),ie=>{const ae=uf(ie.element),ge=ae.trim();ge!==ae&&vm(ie.element,ge),d.filetype==="file"&&Sn(ie,qi,{name:d.name})}),xt(dm(),ie=>{Sn(ie,qi,{name:d.name}),E(ie)}),xt(Ny(),ie=>{Sn(ie,qi,{name:d.name}),E(ie)})])]),eventOrder:{[um()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:ie=>ie.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:p.shared.getSink,parts:{menu:JC(0,0,"normal")},onExecute:(ie,ae,ge)=>{Sn(ae,k2,{})},onItemExecute:(ie,ae,ge,ye)=>{E(ie),Sn(ie,qi,{name:d.name})}},L=ds.parts.field({...O,factory:fL}),M=d.label.map(ie=>mp(ie,k)),H=ss(((ie,ae,ge=ie,ye=ie)=>Tc(ge,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+ie],attributes:{title:k.translate(ye),"aria-live":"polite",...ae.fold(()=>({}),_e=>({id:_e}))}},k.icons))("invalid",D.some(SN),"warning")),q=ss({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[H.asSpec()]}),Y=v.getUrlPicker(d.filetype),re=mn("browser.url.event"),ce=ss({dom:{tag:"div",classes:["tox-control-wrap"]},components:[L,q.asSpec()],behaviours:Ft([Kn.config({disabled:()=>!d.enabled||k.isDisabled()})])}),ve=ss(xN({name:d.name,icon:D.some("browse"),text:d.picker_text.or(d.label).getOr(""),enabled:d.enabled,primary:!1,buttonType:D.none(),borderless:!0},ie=>go(ie,re),k,[],["tox-browse-url"]));return ds.sketch({dom:x_([]),components:M.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:ys([[ce.asSpec()],Y.map(()=>ve.asSpec()).toArray()])}]),fieldBehaviours:Ft([Kn.config({disabled:()=>!d.enabled||k.isDisabled(),onDisabled:ie=>{ds.getField(ie).each(Kn.disable),ve.getOpt(ie).each(Kn.disable)},onEnabled:ie=>{ds.getField(ie).each(Kn.enable),ve.getOpt(ie).each(Kn.enable)}}),va(),uo("url-input-events",[xt(re,ie=>{Vo.getCurrent(ie).each(ae=>{const ge=ot.getValue(ae),ye={fieldname:d.name,...ge};Y.each(_e=>{_e(ye).get(Le=>{ot.setValue(ae,Le),Sn(ie,qi,{name:d.name})})})})})])])})})(o,a,a.urlinput,c)),customeditor:rr(o=>{const a=us(),c=ss({dom:{tag:o.tag}}),d=us(),p=!n3(o)&&o.onFocus.isSome()?[Zn.config({onFocus:v=>{o.onFocus.each(w=>{w(v.element.dom)})}}),Ns.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Ft([uo("custom-editor-events",[Zs(v=>{c.getOpt(v).each(w=>{(n3(o)?o.init(w.element.dom):KR.load(o.scriptId,o.scriptUrl).then(k=>k(w.element.dom,o.settings))).then(k=>{d.on(E=>{k.setValue(E)}),d.clear(),a.set(k)})})})]),k0(D.none(),()=>a.get().fold(()=>d.get().getOr(""),v=>v.getValue()),(v,w)=>{a.get().fold(()=>d.set(w),k=>k.setValue(w))}),Zm()].concat(p)),components:[c.asSpec()]}}),htmlpanel:rr((o,a)=>((c,d)=>{const p=["tox-form__group",...c.stretched?["tox-form__group--stretched"]:[]],v=uo("htmlpanel",[Zs(w=>{c.onInit(w.element.dom)})]);return c.presets==="presentation"?Ad.sketch({dom:{tag:"div",classes:p,innerHtml:c.html},containerBehaviours:Ft([Wr.config({...d.tooltips.getConfig({tooltipText:"",onShow:w=>{Js(w.element,"[data-mce-tooltip]:hover").orThunk(()=>Pr(w.element)).each(k=>{Io(k,"data-mce-tooltip").each(E=>{Wr.setComponents(w,d.tooltips.getComponents({tooltipText:E}))})})}}),mode:"children-normal",anchor:w=>({type:"node",node:Js(w.element,"[data-mce-tooltip]:hover").orThunk(()=>Pr(w.element).filter(k=>Io(k,"data-mce-tooltip").isSome())),root:w.element,layouts:{onLtr:te([Mr,dr,vr,$r,yr,Cs]),onRtl:te([Mr,dr,vr,$r,yr,Cs])},bubble:jl(0,-2,{})})}),v])}):Ad.sketch({dom:{tag:"div",classes:p,innerHtml:c.html,attributes:{role:"document"}},containerBehaviours:Ft([Ns.config({}),Zn.config({}),v])})})(o,a.shared.providers)),imagepreview:rr((o,a,c)=>((d,p)=>{const v=Dn(p.getOr({url:""})),w=ss({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:p.map(L=>({src:L.url})).getOr({})}}),k=ss({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[w.asSpec()]}),E={};d.height.each(L=>E.height=L);const O=p.map(L=>({url:L.url,zoom:D.from(L.zoom),cachedWidth:D.from(L.cachedWidth),cachedHeight:D.from(L.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:E,attributes:{role:"presentation"}},components:[k.asSpec()],behaviours:Ft([Zm(),k0(O,()=>v.get(),(L,M)=>{const H={url:M.url};M.zoom.each(Y=>H.zoom=Y),M.cachedWidth.each(Y=>H.cachedWidth=Y),M.cachedHeight.each(Y=>H.cachedHeight=Y),v.set(H);const q=()=>{const{cachedWidth:Y,cachedHeight:re,zoom:ce}=H;if(!F(Y)&&!F(re)){if(F(ce)){const ie=((ae,ge,ye)=>{const _e=ma(ae),Le=gr(ae);return Math.min(_e/ge,Le/ye,1)})(L.element,Y,re);H.zoom=ie}const ve=((ie,ae,ge,ye,_e)=>{const Le=ge*_e,Xe=ye*_e,_t=Math.max(0,ie/2-Le/2),vt=Math.max(0,ae/2-Xe/2);return{left:_t.toString()+"px",top:vt.toString()+"px",width:Le.toString()+"px",height:Xe.toString()+"px"}})(ma(L.element),gr(L.element),Y,re,H.zoom);k.getOpt(L).each(ie=>{Li(ie.element,ve)})}};w.getOpt(L).each(Y=>{const re=Y.element;var ce;M.url!==wo(re,"src")&&(Qt(re,"src",M.url),br(L.element,"tox-imagepreview__loaded")),q(),(ce=re,new Promise((ve,ie)=>{const ae=()=>{ye(),ve(ce)},ge=[Ti(ce,"load",ae),Ti(ce,"error",()=>{ye(),ie("Unable to load data from image: "+ce.dom.src)})],ye=()=>Zt(ge,_e=>_e.unbind());ce.dom.complete&&ae()})).then(ve=>{L.getSystem().isConnected()&&(ur(L.element,"tox-imagepreview__loaded"),H.cachedWidth=ve.dom.naturalWidth,H.cachedHeight=ve.dom.naturalHeight,q())})})})])}})(o,c)),table:rr((o,a)=>((c,d)=>{const p=k=>({dom:{tag:"td",innerHtml:d.translate(k)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(w=c.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:bt(w,k=>({dom:{tag:"th",innerHtml:d.translate(k)}}))}]}),(v=c.cells,{dom:{tag:"tbody"},components:bt(v,k=>({dom:{tag:"tr"},components:bt(k,p)}))})],behaviours:Ft([Ns.config({}),Zn.config({})])};var v,w})(o,a.shared.providers)),tree:rr((o,a)=>((c,d)=>{const p=c.onLeafAction.getOr(he),v=c.onToggleExpand.getOr(he),w=c.defaultExpandedIds,k=Dn(w),E=Dn(c.defaultSelectedId),O=mn("tree-id"),L=(M,H)=>c.items.map(q=>q.type==="leaf"?k3({leaf:q,selectedId:M,onLeafAction:p,visible:!0,treeId:O,backstage:d}):Q_({directory:q,selectedId:M,onLeafAction:p,expandedIds:H,labelTabstopping:!0,treeId:O,backstage:d}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:L(E.get(),k.get()),behaviours:Ft([An.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),uo(iL,[xt("expand-tree-node",(M,H)=>{const{expanded:q,node:Y}=H.event;k.set(q?[...k.get(),Y]:k.get().filter(re=>re!==Y)),v(k.get(),{expanded:q,node:Y})})]),cl.config({channels:{[`update-active-item-${O}`]:{onReceive:(M,H)=>{E.set(D.some(H.value)),zn.set(M,L(D.some(H.value),k.get()))}}}}),zn.config({})])}})(o,a)),panel:rr((o,a)=>((c,d)=>({dom:{tag:"div",classes:c.classes},components:bt(c.items,d.shared.interpreter)}))(o,a))},I3={field:(o,a)=>a,record:te([])},nS=(o,a,c,d,p)=>{const v=ws(d,{shared:{interpreter:w=>B3(o,w,c,v,p)}});return B3(o,a,c,v,p)},B3=(o,a,c,d,p)=>un(vL,a.type).fold(()=>(console.error(`Unknown factory type "${a.type}", defaulting to container: `,a),a),v=>v(o,a,c,d,p)),kN=(o,a,c,d)=>B3(I3,o,a,c,d),Dd="layout-inset",Rv=o=>o.x,oS=(o,a)=>o.x+o.width/2-a.width/2,M3=(o,a)=>o.x+o.width-a.width,Ku=o=>o.y,P3=(o,a)=>o.y+o.height-a.height,EN=(o,a)=>o.y+o.height/2-a.height/2,Yl=(o,a,c)=>Xa(M3(o,a),P3(o,a),c.insetSouthwest(),zg(),"southwest",Ja(o,{right:0,bottom:3}),Dd),_p=(o,a,c)=>Xa(Rv(o),P3(o,a),c.insetSoutheast(),Ab(),"southeast",Ja(o,{left:1,bottom:3}),Dd),Xl=(o,a,c)=>Xa(M3(o,a),Ku(o),c.insetNorthwest(),Fg(),"northwest",Ja(o,{right:0,top:2}),Dd),P2=(o,a,c)=>Xa(Rv(o),Ku(o),c.insetNortheast(),Eb(),"northeast",Ja(o,{left:1,top:2}),Dd),$o=(o,a,c)=>Xa(oS(o,a),Ku(o),c.insetNorth(),tC(),"north",Ja(o,{top:2}),Dd),jm=(o,a,c)=>Xa(oS(o,a),P3(o,a),c.insetSouth(),nx(),"south",Ja(o,{bottom:3}),Dd),L2=(o,a,c)=>Xa(M3(o,a),EN(o,a),c.insetEast(),nC(),"east",Ja(o,{right:0}),Dd),L3=(o,a,c)=>Xa(Rv(o),EN(o,a),c.insetWest(),ox(),"west",Ja(o,{left:1}),Dd),F3=o=>{switch(o){case"north":return $o;case"northeast":return P2;case"northwest":return Xl;case"south":return jm;case"southeast":return _p;case"southwest":return Yl;case"east":return L2;case"west":return L3}},sS=(o,a,c,d,p)=>Bb(d).map(F3).getOr($o)(o,a,c,d,p),yL=o=>{switch(o){case"north":return jm;case"northeast":return _p;case"northwest":return Yl;case"south":return $o;case"southeast":return P2;case"southwest":return Xl;case"east":return L3;case"west":return L2}},z3=(o,a,c,d,p)=>Bb(d).map(yL).getOr($o)(o,a,c,d,p),F2={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},AN=(o,a,c)=>{const d={maxHeightFunction:Ug()};return()=>c()?{type:"node",root:je(st(o())),node:D.from(o()),bubble:jl(12,12,F2),layouts:{onRtl:()=>[P2],onLtr:()=>[Xl]},overrides:d}:{type:"hotspot",hotspot:a(),bubble:jl(-12,12,F2),layouts:{onRtl:()=>[vr,yr,Mr],onLtr:()=>[yr,vr,Mr]},overrides:d}},TN=(o,a,c,d)=>{const p={maxHeightFunction:Ug()};return()=>d()?{type:"node",root:je(st(a())),node:D.from(a()),bubble:jl(12,12,F2),layouts:{onRtl:()=>[$o],onLtr:()=>[$o]},overrides:p}:o?{type:"node",root:je(st(a())),node:D.from(a()),bubble:jl(0,-lc(a()),F2),layouts:{onRtl:()=>[dr],onLtr:()=>[dr]},overrides:p}:{type:"hotspot",hotspot:c(),bubble:jl(0,0,F2),layouts:{onRtl:()=>[dr],onLtr:()=>[dr]},overrides:p}},H3=(o,a,c)=>()=>c()?{type:"node",root:je(st(o())),node:D.from(o()),layouts:{onRtl:()=>[$o],onLtr:()=>[$o]}}:{type:"hotspot",hotspot:a(),layouts:{onRtl:()=>[Mr],onLtr:()=>[Mr]}},ON=(o,a)=>()=>({type:"selection",root:a(),getSelection:()=>{const c=o.selection.getRng(),d=o.model.table.getSelectedCells();if(d.length>1){const p=d[0],v=d[d.length-1],w={firstCell:en(p),lastCell:en(v)};return D.some(w)}return D.some(bf.range(en(c.startContainer),c.startOffset,en(c.endContainer),c.endOffset))}}),rS=o=>a=>({type:"node",root:o(),node:a}),xL=(o,a,c,d)=>{const p=l0(o),v=()=>en(o.getBody()),w=()=>en(o.getContentAreaContainer()),k=()=>p||!d();return{inlineDialog:AN(w,a,k),inlineBottomDialog:TN(o.inline,w,c,k),banner:H3(w,a,k),cursor:ON(o,v),node:rS(v)}},wL=o=>(a,c)=>{nR(o)(a,c)},CL=o=>()=>cA(o),_L=o=>a=>y0(o,a),SL=o=>a=>lA(o,a),DN=o=>()=>Af(o),RN=o=>io(o,"items"),NN=o=>io(o,"format"),V3=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],$3=o=>Rn(o,(a,c)=>{if(po(c,"items")){const d=$3(c.items);return{customFormats:a.customFormats.concat(d.customFormats),formats:a.formats.concat([{title:c.title,items:d.formats}])}}if(po(c,"inline")||(d=>po(d,"block"))(c)||(d=>po(d,"selector"))(c)){const d=`custom-${h(c.name)?c.name:c.title.toLowerCase()}`;return{customFormats:a.customFormats.concat([{name:d,format:c}]),formats:a.formats.concat([{title:c.title,format:d,icon:c.icon}])}}return{...a,formats:a.formats.concat(c)}},{customFormats:[],formats:[]}),IN=o=>uv(o).map(a=>{const c=((d,p)=>{const v=$3(p),w=k=>{Zt(k,E=>{d.formatter.has(E.name)||d.formatter.register(E.name,E.format)})};return d.formatter?w(v.customFormats):d.on("init",()=>{w(v.customFormats)}),v.formats})(o,a);return NC(o)?V3.concat(c):c}).getOr(V3),BN=(o,a,c)=>({...o,type:"formatter",isSelected:a(o.format),getStylePreview:c(o.format)}),U3=(o,a,c,d)=>{const p=v=>bt(v,w=>RN(w)?(k=>{const E=p(k.items);return{...k,type:"submenu",getStyleItems:te(E)}})(w):NN(w)?(k=>BN(k,c,d))(w):(k=>{const E=sn(k);return E.length===1&&Qe(E,"title")})(w)?{...w,type:"separator"}:(k=>{const E=h(k.name)?k.name:mn(k.title),O=`custom-${E}`,L={...k,type:"formatter",format:O,isSelected:c(O),getStylePreview:d(O)};return o.formatter.register(E,L),L})(w));return p(a)},W3=o=>{let a=0;const c=d=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[_r(d.tooltipText)]}];return{getConfig:d=>({delayForShow:()=>a>0?60:300,delayForHide:te(300),exclusive:!0,lazySink:o,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:c(d),onShow:(p,v)=>{a++,d.onShow&&d.onShow(p,v)},onHide:(p,v)=>{a--,d.onHide&&d.onHide(p,v)},onSetup:d.onSetup}),getComponents:c}},MN=ih.trim,PN=o=>a=>!!((c=>$(c)&&c.nodeType===1)(a)&&(a.contentEditable===o||a.getAttribute("data-mce-contenteditable")===o)),kL=PN("true"),EL=PN("false"),LN=(o,a,c,d,p)=>({type:o,title:a,url:c,level:d,attach:p}),FN=o=>o.innerText||o.textContent,AL=o=>(a=>a&&a.nodeName==="A"&&(a.id||a.name)!==void 0)(o)&&qu(o),Z3=o=>o&&/^(H[1-6])$/.test(o.nodeName),qu=o=>(a=>{let c=a;for(;c=c.parentNode;){const d=c.contentEditable;if(d&&d!=="inherit")return kL(c)}return!1})(o)&&!EL(o),TL=o=>Z3(o)&&qu(o),j3=o=>{var a;const c=(d=>d.id?d.id:mn("h"))(o);return LN("header",(a=FN(o))!==null&&a!==void 0?a:"","#"+c,(d=>Z3(d)?parseInt(d.nodeName.substr(1),10):0)(o),()=>{o.id=c})},zN=o=>{const a=o.id||o.name,c=FN(o);return LN("anchor",c||"#"+a,"#"+a,0,he)},HN=o=>MN(o.title).length>0,OL=o=>{const a=(c=>bt(ca(en(c),"h1,h2,h3,h4,h5,h6,a:not([href])"),p=>p.dom))(o);return ho((c=>bt(ho(c,TL),j3))(a).concat((c=>bt(ho(c,AL),zN))(a)),HN)},z2="tinymce-url-history",K3=o=>h(o)&&/^https?/.test(o),q3=o=>x(o)&&ms(o,a=>{return!(B(c=a)&&c.length<=5&&si(c,K3));var c}).isNone(),VN=()=>{const o=Dc.getItem(z2);if(o===null)return{};let a;try{a=JSON.parse(o)}catch(c){if(c instanceof SyntaxError)return console.log("Local storage "+z2+" was not valid JSON",c),{};throw c}return q3(a)?a:(console.log("Local storage "+z2+" was not valid format",a),{})},DL=o=>{const a=VN();return un(a,o).getOr([])},RL=(o,a)=>{if(!K3(o))return;const c=VN(),d=un(c,a).getOr([]),p=ho(d,v=>v!==o);c[a]=[o].concat(p).slice(0,5),(v=>{if(!q3(v))throw new Error(`Bad format for history:
`+JSON.stringify(v));Dc.setItem(z2,JSON.stringify(v))})(c)},$N=o=>!!o,NL=o=>En(ih.makeMap(o,/[, ]/),$N),aS=o=>D.from(BC(o)),G3=o=>D.from(o).filter(h).getOrUndefined(),UN=o=>({getHistory:DL,addToHistory:RL,getLinkInformation:()=>(a=>MC(a)?D.some({targets:OL(a.getBody()),anchorTop:G3(N5(a)),anchorBottom:G3(I5(a))}):D.none())(o),getValidationHandler:()=>(a=>D.from(Ux(a)))(o),getUrlPicker:a=>((c,d)=>((p,v)=>{const w=(k=>{const E=D.from(Wx(k)).filter($N).map(NL);return aS(k).fold(Ce,O=>E.fold(Ne,L=>sn(L).length>0&&L))})(p);return R(w)?w?aS(p):D.none():w[v]?aS(p):D.none()})(c,d).map(p=>v=>dp(w=>{const k={filetype:d,fieldname:v.fieldname,...D.from(v.meta).getOr({})};p.call(c,(E,O)=>{if(!h(E))throw new Error("Expected value to be string");if(O!==void 0&&!x(O))throw new Error("Expected meta to be a object");w({value:E,meta:O})},v.value,k)})))(o,a)}),ti=UM,Km=xO,IL=te([et("shell",!1),At("makeItem"),et("setupItem",he),jn("listBehaviours",[zn])]),Nv=ou({name:"items",overrides:()=>({behaviours:Ft([zn.config({})])})}),BL=te([Nv]),Y3=Sl({name:te("CustomList")(),configFields:IL(),partFields:BL(),factory:(o,a,c,d)=>{const p=o.shell?{behaviours:[zn.config({})],components:[]}:{behaviours:[],components:a};return{uid:o.uid,dom:o.dom,components:p.components,behaviours:co(o.listBehaviours,p.behaviours),apis:{setItems:(v,w)=>{var k;(k=v,o.shell?D.some(k):Ms(k,o,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},E=>{const O=zn.contents(E),L=w.length,M=L-O.length,H=M>0?as(M,()=>o.makeItem()):[],q=O.slice(L);Zt(q,re=>zn.remove(E,re)),Zt(H,re=>zn.append(E,re));const Y=zn.contents(E);Zt(Y,(re,ce)=>{o.setupItem(v,re,w[ce],ce)})})}}}},apis:{setItems:(o,a,c)=>{o.setItems(a,c)}}}),T0=te([At("dom"),et("shell",!0),gn("toolbarBehaviours",[zn])]),WN=te([ou({name:"groups",overrides:()=>({behaviours:Ft([zn.config({})])})})]),Rd=Sl({name:"Toolbar",configFields:T0(),partFields:WN(),factory:(o,a,c,d)=>{const p=o.shell?{behaviours:[zn.config({})],components:[]}:{behaviours:[],components:a};return{uid:o.uid,dom:o.dom,components:p.components,behaviours:co(o.toolbarBehaviours,p.behaviours),apis:{setGroups:(v,w)=>{var k;(k=v,o.shell?D.some(k):Ms(k,o,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},E=>{zn.set(E,w)})},refresh:he},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,a,c)=>{o.setGroups(a,c)}}}),X3=he,J3=Ce,iS=te([]);var Q3,ML=Object.freeze({__proto__:null,setup:X3,isDocked:J3,getBehaviours:iS});const lS=te(mn("toolbar-height-change")),qm={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},ZN="tox-tinymce--toolbar-sticky-on",jN="tox-tinymce--toolbar-sticky-off",H2=(o,a)=>Qe(Xs.getModes(o),a),cS=o=>{const a=o.element;ii(a).each(c=>{const d="padding-"+Xs.getModes(o)[0];if(Xs.isDocked(o)){const p=ma(c);Qn(a,"width",p+"px"),Qn(c,d,(v=>lc(v)+(parseInt(ar(v,"margin-top"),10)||0)+(parseInt(ar(v,"margin-bottom"),10)||0))(a)+"px")}else os(a,"width"),os(c,d)})},e4=(o,a)=>{a?(br(o,qm.fadeOutClass),Br(o,[qm.transitionClass,qm.fadeInClass])):(br(o,qm.fadeInClass),Br(o,[qm.fadeOutClass,qm.transitionClass]))},KN=(o,a)=>{const c=en(o.getContainer());a?(ur(c,ZN),br(c,jN)):(ur(c,jN),br(c,ZN))},qN=(o,a)=>{const c=us(),d=a.getSink,p=k=>{d().each(E=>k(E.element))},v=k=>{o.inline||cS(k),KN(o,Xs.isDocked(k)),k.getSystem().broadcastOn([V()],{}),d().each(E=>E.getSystem().broadcastOn([V()],{}))},w=o.inline?[]:[cl.config({channels:{[lS()]:{onReceive:cS}}})];return[Zn.config({}),Xs.config({contextual:{lazyContext:k=>{const E=lc(k.element),O=o.inline?o.getContentAreaContainer():o.getContainer();return D.from(O).map(L=>{const M=Kr(en(L));return op(o,k.element).fold(()=>{const H=M.height-E,q=M.y+(H2(k,"top")?0:E);return bo(M.x,q,M.width,H)},H=>{const q=id(M,sp(H)),Y=H2(k,"top")?q.y:q.y+E;return bo(q.x,Y,q.width,q.height-E)})})},onShow:()=>{p(k=>e4(k,!0))},onShown:k=>{p(E=>Zl(E,[qm.transitionClass,qm.fadeInClass])),c.get().each(E=>{((O,L)=>{const M=jr(L);Qc(M).filter(H=>!Zo(L,H)).filter(H=>Zo(H,en(M.dom.body))||wr(O,H)).each(()=>Ai(L))})(k.element,E),c.clear()})},onHide:k=>{((E,O)=>Pr(E).orThunk(()=>O().toOptional().bind(L=>Pr(L.element))))(k.element,d).fold(c.clear,c.set),p(E=>e4(E,!1))},onHidden:()=>{p(k=>Zl(k,[qm.transitionClass]))},...qm},lazyViewport:k=>op(o,k.element).fold(()=>{const E=Ea(),O=yE(o),L=E.y+(H2(k,"top")?O:0),M=E.height-(H2(k,"bottom")?O:0);return{bounds:bo(E.x,L,E.width,M),optScrollEnv:D.none()}},E=>({bounds:sp(E),optScrollEnv:D.some({currentScrollTop:E.element.dom.scrollTop,scrollElmTop:wl(E.element).top})})),modes:[a.header.getDockingMode()],onDocked:v,onUndocked:v}),...w]};var PL=Object.freeze({__proto__:null,setup:(o,a,c)=>{o.inline||(a.header.isPositionedAtTop()||o.on("ResizeEditor",()=>{c().each(Xs.reset)}),o.on("ResizeWindow ResizeEditor",()=>{c().each(cS)}),o.on("SkinLoaded",()=>{c().each(d=>{Xs.isDocked(d)?Xs.reset(d):Xs.refresh(d)})}),o.on("FullscreenStateChanged",()=>{c().each(Xs.reset)})),o.on("AfterScrollIntoView",d=>{c().each(p=>{Xs.refresh(p);const v=p.element;KO(v)&&((w,k)=>{const E=jr(k),O=Lc(k).dom.innerHeight,L=Fs(E),M=en(w.elm),H=rl(M),q=gr(M),Y=H.y,re=Y+q,ce=wl(k),ve=gr(k),ie=ce.top,ae=ie+ve,ge=Math.abs(ie-L.top)<2,ye=Math.abs(ae-(L.top+O))<2;if(ge&&Y<ae)Gd(L.left,Y-ve,E);else if(ye&&re>ie){const _e=Y-O+q+ve;Gd(L.left,_e,E)}})(d,v)})}),o.on("PostRender",()=>{KN(o,!1)})},isDocked:o=>o().map(Xs.isDocked).getOr(!1),getBehaviours:qN});const LL=Pn([oa,Ta("items",am([Eu([FE,Vi("items",ia)]),ia]))].concat(zm)),FL=[Cr("text"),Cr("tooltip"),Cr("icon"),ki("search",!1,am([$l,Pn([Cr("placeholder")])],o=>R(o)?o?D.some({placeholder:D.none()}):D.none():D.some(o))),Si("fetch"),zs("onSetup",()=>he)],GN=Pn([oa,...FL]),YN=o=>ir("menubutton",GN,o),zL=Pn([oa,d2,Vu,cp,UE,XP,lp,fc("presets","normal",["normal","color","listpreview"]),yD(1),mv,vD]);var t4=su({factory:(o,a)=>{const c={focus:An.focusIn,setMenus:(d,p)=>{const v=bt(p,w=>{const k={type:"menubutton",text:w.text,fetch:O=>{O(w.getItems())}},E=YN(k).mapError(O=>Hi(O)).getOrDie();return Ov(E,"tox-mbtn",a.backstage,D.some("menuitem"))});zn.set(d,v)}};return{uid:o.uid,dom:o.dom,components:[],behaviours:Ft([zn.config({}),uo("menubar-events",[Zs(d=>{o.onSetup(d)}),xt(_n(),(d,p)=>{Js(d.element,".tox-mbtn--active").each(v=>{Bu(p.event.target,".tox-mbtn").each(w=>{Zo(v,w)||d.getSystem().getByDom(v).each(k=>{d.getSystem().getByDom(w).each(E=>{fl.expand(E),fl.close(k),Zn.focus(E)})})})})}),xt(g1(),(d,p)=>{p.event.prevFocus.bind(v=>d.getSystem().getByDom(v).toOptional()).each(v=>{p.event.newFocus.bind(w=>d.getSystem().getByDom(w).toOptional()).each(w=>{fl.isOpen(v)&&(fl.expand(w),fl.close(v))})})})]),An.config({mode:"flow",selector:".tox-mbtn",onEscape:d=>(o.onEscape(d),D.some(!0))}),Ns.config({})]),apis:c,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[At("dom"),At("uid"),At("onEscape"),At("backstage"),et("onSetup",he)],apis:{focus:(o,a)=>{o.focus(a)},setMenus:(o,a,c)=>{o.setMenus(a,c)}}});const XN="container",HL=[gn("slotBehaviours",[])],n4=o=>"<alloy.field."+o+">",VL=(o,a)=>{const c=L=>SO(o),d=(L,M)=>(H,q)=>Ms(H,o,q).map(Y=>L(Y,q)).getOr(M),p=(L,M)=>wo(L.element,"aria-hidden")!=="true",v=d(p,!1),w=d((L,M)=>{if(p(L)){const H=L.element;Qn(H,"display","none"),Qt(H,"aria-hidden","true"),Sn(L,Gc(),{name:M,visible:!1})}}),k=(L=>(M,H)=>{Zt(H,q=>L(M,q))})(w),E=d((L,M)=>{if(!p(L)){const H=L.element;os(H,"display"),fo(H,"aria-hidden"),Sn(L,Gc(),{name:M,visible:!0})}}),O={getSlotNames:c,getSlot:(L,M)=>Ms(L,o,M),isShowing:v,hideSlot:w,hideAllSlots:L=>k(L,c()),showSlot:E};return{uid:o.uid,dom:o.dom,components:a,behaviours:Vn(o.slotBehaviours),apis:O}},$L=En({getSlotNames:(o,a)=>o.getSlotNames(a),getSlot:(o,a,c)=>o.getSlot(a,c),isShowing:(o,a,c)=>o.isShowing(a,c),hideSlot:(o,a,c)=>o.hideSlot(a,c),hideAllSlots:(o,a)=>o.hideAllSlots(a),showSlot:(o,a,c)=>o.showSlot(a,c)},o=>T1(o)),ml={...$L,sketch:o=>{const a=(()=>{const v=[];return{slot:(w,k)=>(v.push(w),Lk(XN,n4(w),k)),record:te(v)}})(),c=o(a),d=a.record(),p=bt(d,v=>dl({name:v,pname:n4(v)}));return Sx(XN,HL,p,VL,c)}},UL=Pn([Vu,d2,zs("onShow",he),zs("onHide",he),lp]),WL=o=>({element:()=>o.element.dom}),uS=(o,a)=>{const c=bt(sn(a),d=>{const p=a[d],v=_i((w=>ir("sidebar",UL,w))(p));return{name:d,getApi:WL,onSetup:v.onSetup,onShow:v.onShow,onHide:v.onHide}});return bt(c,d=>{const p=Dn(he);return o.slot(d.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:m2([up(d,p),th(d,p),xt(Gc(),(v,w)=>{const k=w.event;J(c,O=>O.name===k.name).each(O=>{(k.visible?O.onShow:O.onHide)(O.getApi(v))})})])})})},JN=o=>ml.sketch(a=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:uS(a,o),slotBehaviours:m2([Zs(c=>ml.hideAllSlots(c))])})),dS=(o,a)=>{Qt(o,"role",a)},ZL=o=>Vo.getCurrent(o).bind(a=>Bl.isGrowing(a)||Bl.hasGrown(a)?Vo.getCurrent(a).bind(c=>J(ml.getSlotNames(c),d=>ml.isShowing(c,d))):D.none()),o4=mn("FixSizeEvent"),s4=mn("AutoSizeEvent");var jL=Object.freeze({__proto__:null,block:(o,a,c,d)=>{Qt(o.element,"aria-busy",!0);const p=a.getRoot(o).getOr(o),v=Ft([An.config({mode:"special",onTab:()=>D.some(!0),onShiftTab:()=>D.some(!0)}),Zn.config({})]),w=d(p,v),k=p.getSystem().build(w);zn.append(p,Ui(k)),k.hasConfigured(An)&&a.focus&&An.focusIn(k),c.isBlocked()||a.onBlock(o),c.blockWith(()=>zn.remove(p,k))},unblock:(o,a,c)=>{fo(o.element,"aria-busy"),c.isBlocked()&&a.onUnblock(o),c.clear()},isBlocked:(o,a,c)=>c.isBlocked()}),KL=[zs("getRoot",D.none),Vr("focus",!0),Fo("onBlock"),Fo("onUnblock")];const Gu=ba({fields:KL,name:"blocking",apis:jL,state:Object.freeze({__proto__:null,init:()=>{const o=cc(a=>a.destroy());return pa({readState:o.isSet,blockWith:a=>{o.set({destroy:a})},clear:o.clear,isBlocked:o.isSet})}})}),r4=o=>Vo.getCurrent(o).each(a=>Ai(a.element,!0)),QN=(o,a,c)=>{const d=Dn(!1),p=us(),v=k=>{var E;d.get()&&(!(O=>O.type==="focusin")(E=k)||!(E.composed?$t(E.composedPath()):D.from(E.target)).map(en).filter(qs).exists(O=>$i(O,"mce-pastebin")))&&(k.preventDefault(),r4(a()),o.editorManager.setActive(o))};o.inline||o.on("PreInit",()=>{o.dom.bind(o.getWin(),"focusin",v),o.on("BeforeExecCommand",k=>{k.command.toLowerCase()==="mcefocus"&&k.value!==!0&&v(k)})});const w=k=>{k!==d.get()&&(d.set(k),((E,O,L,M)=>{const H=O.element;if(((q,Y)=>{const re="tabindex",ce=`data-mce-${re}`;D.from(q.iframeElement).map(en).each(ve=>{Y?(Io(ve,re).each(ie=>Qt(ve,ce,ie)),Qt(ve,re,-1)):(fo(ve,re),Io(ve,ce).each(ie=>{Qt(ve,re,ie),fo(ve,ce)}))})})(E,L),L)Gu.block(O,(q=>(Y,re)=>({dom:{tag:"div",attributes:{"aria-label":q.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Mm('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(M)),os(H,"display"),fo(H,"aria-hidden"),E.hasFocus()&&r4(O);else{const q=Vo.getCurrent(O).exists(Y=>$g(Y.element));Gu.unblock(O),Qn(H,"display","none"),Qt(H,"aria-hidden","true"),q&&E.focus()}})(o,a(),k,c.providers),((E,O)=>{E.dispatch("AfterProgressState",{state:O})})(o,k))};o.on("ProgressState",k=>{if(p.on(clearTimeout),ee(k.time)){const E=DC.setEditorTimeout(o,()=>w(k.state),k.time);p.set(E)}else w(k.state),p.clear()})},a4=(o,a,c)=>({within:o,extra:a,withinWidth:c}),i4=(o,a,c)=>{const d=Rn(o,(w,k)=>((E,O)=>{const L=c(E);return D.some({element:E,start:O,finish:O+L,width:L})})(k,w.len).fold(te(w),E=>({len:E.finish,list:w.list.concat([E])})),{len:0,list:[]}).list,p=ho(d,w=>w.finish<=a),v=xn(p,(w,k)=>w+k.width,0);return{within:p,extra:d.slice(p.length),withinWidth:v}},fS=o=>bt(o,a=>a.element),e6=(o,a)=>{const c=bt(a,d=>Ui(d));Rd.setGroups(o,c)},t6=(o,a,c)=>{const d=a.builtGroups.get();if(d.length===0)return;const p=Gg(o,a,"primary"),v=Sr.getCoupled(o,"overflowGroup");Qn(p.element,"visibility","hidden");const w=d.concat([v]),k=It(w,O=>Pr(O.element).bind(L=>O.getSystem().getByDom(L).toOptional()));c([]),e6(p,w);const E=((O,L,M,H)=>{const q=((ve,ie,ae)=>{const ge=i4(ie,ve,ae);return ge.extra.length===0?D.some(ge):D.none()})(O,L,M).getOrThunk(()=>i4(L,O-M(H),M)),Y=q.within,re=q.extra,ce=q.withinWidth;return re.length===1&&re[0].width<=M(H)?((ve,ie,ae)=>{const ge=fS(ve.concat(ie));return a4(ge,[],ae)})(Y,re,ce):re.length>=1?((ve,ie,ae,ge)=>{const ye=fS(ve).concat([ae]);return a4(ye,fS(ie),ge)})(Y,re,H,ce):((ve,ie,ae)=>a4(fS(ve),[],ae))(Y,0,ce)})(ma(p.element),a.builtGroups.get(),O=>Math.ceil(O.element.dom.getBoundingClientRect().width),v);E.extra.length===0?(zn.remove(p,v),c([])):(e6(p,E.within),c(E.extra)),os(p.element,"visibility"),xu(p.element),k.each(Zn.focus)},n6=te([gn("splitToolbarBehaviours",[Sr]),Aa("builtGroups",()=>Dn([]))]),qL=te([Ig(["overflowToggledClass"]),jc("getOverflowBounds"),At("lazySink"),Aa("overflowGroups",()=>Dn([])),Fo("onOpened"),Fo("onClosed")].concat(n6())),GL=te([dl({factory:Rd,schema:T0(),name:"primary"}),_d({schema:T0(),name:"overflow"}),_d({name:"overflow-button"}),_d({name:"overflow-group"})]),l4=te((o,a)=>{((c,d)=>{const p=pg.max(c,d,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);Qn(c,"max-width",p+"px")})(o,Math.floor(a))}),YL=te([Ig(["toggledClass"]),At("lazySink"),Si("fetch"),jc("getBounds"),hr("fireDismissalEventInstead",[et("event",Eg())]),mf(),Fo("onToggled")]),XL=te([_d({name:"button",overrides:o=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Ft([Un.config({toggleClass:o.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:o.onToggled})])})}),_d({factory:Rd,schema:T0(),name:"toolbar",overrides:o=>({toolbarBehaviours:Ft([An.config({mode:"cyclic",onEscape:a=>(Ms(a,o,"button").each(Zn.focus),D.none())})])})})]),mS=us(),Iv=(o,a)=>{const c=Sr.getCoupled(o,"toolbarSandbox");T.isOpen(c)?T.close(c):T.open(c,a.toolbar())},V2=(o,a,c,d)=>{const p=c.getBounds.map(w=>w()),v=c.lazySink(o).getOrDie();Qa.positionWithinBounds(v,a,{anchor:{type:"hotspot",hotspot:o,layouts:d,overrides:{maxWidthFunction:l4()}}},p)},gS=(o,a,c,d,p)=>{Rd.setGroups(a,p),V2(o,a,c,d),Un.on(o)},ch=Sl({name:"FloatingToolbarButton",factory:(o,a,c,d)=>({...Di.sketch({...d.button(),action:p=>{Iv(p,d)},buttonBehaviours:$n({dump:d.button().buttonBehaviours},[Sr.config({others:{toolbarSandbox:p=>((v,w,k)=>{const E=Lg();return{dom:{tag:"div",attributes:{id:E.id}},behaviours:Ft([An.config({mode:"special",onEscape:O=>(T.close(O),D.some(!0))}),T.config({onOpen:(O,L)=>{const M=mS.get().getOr(!1);k.fetch().get(H=>{gS(v,L,k,w.layouts,H),E.link(v.element),M||An.focusIn(L)})},onClose:()=>{Un.off(v),mS.get().getOr(!1)||Zn.focus(v),E.unlink(v.element)},isPartOf:(O,L,M)=>ll(L,M)||ll(v,M),getAttachPoint:()=>k.lazySink(v).getOrDie()}),cl.config({channels:{...se({isExtraPart:Ce,...k.fireDismissalEventInstead.map(O=>({fireEventInstead:{event:O.event}})).getOr({})}),...De({doReposition:()=>{T.getState(Sr.getCoupled(v,"toolbarSandbox")).each(O=>{V2(v,O,k,w.layouts)})}})}})])}})(p,c,o)}})])}),apis:{setGroups:(p,v)=>{T.getState(Sr.getCoupled(p,"toolbarSandbox")).each(w=>{gS(p,w,o,c.layouts,v)})},reposition:p=>{T.getState(Sr.getCoupled(p,"toolbarSandbox")).each(v=>{V2(p,v,o,c.layouts)})},toggle:p=>{Iv(p,d)},toggleWithoutFocusing:p=>{((v,w)=>{mS.set(!0),Iv(v,w),mS.clear()})(p,d)},getToolbar:p=>T.getState(Sr.getCoupled(p,"toolbarSandbox")),isOpen:p=>T.isOpen(Sr.getCoupled(p,"toolbarSandbox"))}}),configFields:YL(),partFields:XL(),apis:{setGroups:(o,a,c)=>{o.setGroups(a,c)},reposition:(o,a)=>{o.reposition(a)},toggle:(o,a)=>{o.toggle(a)},toggleWithoutFocusing:(o,a)=>{o.toggleWithoutFocusing(a)},getToolbar:(o,a)=>o.getToolbar(a),isOpen:(o,a)=>o.isOpen(a)}}),JL=te([At("items"),Ig(["itemSelector"]),gn("tgroupBehaviours",[An])]),QL=te([hC({name:"items",unit:"item"})]),Bv=Sl({name:"ToolbarGroup",configFields:JL(),partFields:QL(),factory:(o,a,c,d)=>({uid:o.uid,dom:o.dom,components:a,behaviours:co(o.tgroupBehaviours,[An.config({mode:"flow",selector:o.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),hS=o=>bt(o,a=>Ui(a)),$2=(o,a,c)=>{t6(o,c,d=>{c.overflowGroups.set(d),a.getOpt(o).each(p=>{ch.setGroups(p,hS(d))})})},c4=Sl({name:"SplitFloatingToolbar",configFields:qL(),partFields:GL(),factory:(o,a,c,d)=>{const p=ss(ch.sketch({fetch:()=>dp(v=>{v(hS(o.overflowGroups.get()))}),layouts:{onLtr:()=>[yr,vr],onRtl:()=>[vr,yr],onBottomLtr:()=>[Cs,$r],onBottomRtl:()=>[$r,Cs]},getBounds:c.getOverflowBounds,lazySink:o.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:o.markers.overflowToggledClass},parts:{button:d["overflow-button"](),toolbar:d.overflow()},onToggled:(v,w)=>o[w?"onOpened":"onClosed"](v)}));return{uid:o.uid,dom:o.dom,components:a,behaviours:co(o.splitToolbarBehaviours,[Sr.config({others:{overflowGroup:()=>Bv.sketch({...d["overflow-group"](),items:[p.asSpec()]})}})]),apis:{setGroups:(v,w)=>{o.builtGroups.set(bt(w,v.getSystem().build)),$2(v,p,o)},refresh:v=>$2(v,p,o),toggle:v=>{p.getOpt(v).each(w=>{ch.toggle(w)})},toggleWithoutFocusing:v=>{p.getOpt(v).each(ch.toggleWithoutFocusing)},isOpen:v=>p.getOpt(v).map(ch.isOpen).getOr(!1),reposition:v=>{p.getOpt(v).each(w=>{ch.reposition(w)})},getOverflow:v=>p.getOpt(v).bind(ch.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,a,c)=>{o.setGroups(a,c)},refresh:(o,a)=>{o.refresh(a)},reposition:(o,a)=>{o.reposition(a)},toggle:(o,a)=>{o.toggle(a)},toggleWithoutFocusing:(o,a)=>{o.toggle(a)},isOpen:(o,a)=>o.isOpen(a),getOverflow:(o,a)=>o.getOverflow(a)}}),eF=te([Ig(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Fo("onOpened"),Fo("onClosed")].concat(n6())),tF=te([dl({factory:Rd,schema:T0(),name:"primary"}),dl({factory:Rd,schema:T0(),name:"overflow",overrides:o=>({toolbarBehaviours:Ft([Bl.config({dimension:{property:"height"},closedClass:o.markers.closedClass,openClass:o.markers.openClass,shrinkingClass:o.markers.shrinkingClass,growingClass:o.markers.growingClass,onShrunk:a=>{Ms(a,o,"overflow-button").each(c=>{Un.off(c)}),o.onClosed(a)},onGrown:a=>{o.onOpened(a)},onStartGrow:a=>{Ms(a,o,"overflow-button").each(Un.on)}}),An.config({mode:"acyclic",onEscape:a=>(Ms(a,o,"overflow-button").each(Zn.focus),D.some(!0))})])})}),_d({name:"overflow-button",overrides:o=>({buttonBehaviours:Ft([Un.config({toggleClass:o.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),_d({name:"overflow-group"})]),u4=(o,a,c)=>{Ms(o,a,"overflow-button").each(d=>{Ms(o,a,"overflow").each(p=>{if(d4(o,a),Bl.hasShrunk(p)){const v=a.onOpened;a.onOpened=w=>{c||An.focusIn(p),v(w),a.onOpened=v}}else{const v=a.onClosed;a.onClosed=w=>{c||Zn.focus(d),v(w),a.onClosed=v}}Bl.toggleGrow(p)})})},d4=(o,a)=>{Ms(o,a,"overflow").each(c=>{t6(o,a,d=>{const p=bt(d,v=>Ui(v));Rd.setGroups(c,p)}),Ms(o,a,"overflow-button").each(d=>{Bl.hasGrown(c)&&Un.on(d)}),Bl.refresh(c)})},f4=Sl({name:"SplitSlidingToolbar",configFields:eF(),partFields:tF(),factory:(o,a,c,d)=>{const p="alloy.toolbar.toggle";return{uid:o.uid,dom:o.dom,components:a,behaviours:co(o.splitToolbarBehaviours,[Sr.config({others:{overflowGroup:v=>Bv.sketch({...d["overflow-group"](),items:[Di.sketch({...d["overflow-button"](),action:w=>{go(v,p)}})]})}}),uo("toolbar-toggle-events",[xt(p,v=>{u4(v,o,!1)})])]),apis:{setGroups:(v,w)=>{((k,E)=>{const O=bt(E,k.getSystem().build);o.builtGroups.set(O)})(v,w),d4(v,o)},refresh:v=>d4(v,o),toggle:v=>{u4(v,o,!1)},toggleWithoutFocusing:v=>{u4(v,o,!0)},isOpen:v=>((w,k)=>Ms(w,k,"overflow").map(Bl.hasGrown).getOr(!1))(v,o)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,a,c)=>{o.setGroups(a,c)},refresh:(o,a)=>{o.refresh(a)},toggle:(o,a)=>{o.toggle(a)},isOpen:(o,a)=>o.isOpen(a)}}),o6=o=>{const a=o.title.fold(()=>({}),c=>({attributes:{title:c}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...a},components:[Bv.parts.items({})],items:o.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Ft([Ns.config({}),Zn.config({})])}},pS=o=>Bv.sketch(o6(o)),s6=(o,a)=>{const c=Zs(d=>{const p=bt(o.initGroups,pS);Rd.setGroups(d,p)});return Ft([a_(o.providers.isDisabled),va(),An.config({mode:a,onEscape:o.onEscape,selector:".tox-toolbar__group"}),uo("toolbar-events",[c])])},r6=o=>{const a=o.cyclicKeying?"cyclic":"acyclic";return{uid:o.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":o6({title:D.none(),items:[]}),"overflow-button":vN({name:"more",icon:D.some("more-drawer"),enabled:!0,tooltip:D.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:D.none(),borderless:!1},D.none(),o.providers,[],"overflow-button")},splitToolbarBehaviours:s6(o,a)}},nF=o=>{const a=r6(o),c=c4.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return c4.sketch({...a,lazySink:o.getSink,getOverflowBounds:()=>{const d=o.moreDrawerData.lazyHeader().element,p=rl(d),v=Pi(d),w=rl(v),k=Math.max(v.dom.scrollHeight,w.height);return bo(p.x+4,w.y,p.width-8,k)},parts:{...a.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o.attributes}}},components:[c],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:d=>o.onToggled(d,!0),onClosed:d=>o.onToggled(d,!1)})},oF=o=>{const a=f4.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),c=f4.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),d=r6(o);return f4.sketch({...d,components:[a,c],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:p=>{p.getSystem().broadcastOn([lS()],{type:"opened"}),o.onToggled(p,!0)},onClosed:p=>{p.getSystem().broadcastOn([lS()],{type:"closed"}),o.onToggled(p,!1)}})},m4=o=>{const a=o.cyclicKeying?"cyclic":"acyclic";return Rd.sketch({uid:o.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(o.type===Fu.scrolling?["tox-toolbar--scrolling"]:[])},components:[Rd.parts.groups({})],toolbarBehaviours:s6(o,a)})},a6=[cp,Vu,Cr("tooltip"),fc("buttonType","secondary",["primary","secondary"]),Vr("borderless",!1),Si("onAction")],g4={button:[...a6,Hu,Ou("type",["button"])],togglebutton:[...a6,Vr("active",!1),Ou("type",["togglebutton"])]},sF=[Ou("type",["group"]),hs("buttons",[],ea("type",g4))],rF=ea("type",{...g4,group:sF}),Gm=Pn([hs("buttons",[],rF),Si("onShow"),Si("onHide")]),i6=(o,a)=>((c,d)=>{var p,v;const w=c.type==="togglebutton",k=c.icon.map(ie=>xp(ie,d.icons)).map(ss),E={...c,name:w?c.text.getOr(c.icon.getOr("")):(p=c.text)!==null&&p!==void 0?p:c.icon.getOr(""),primary:c.buttonType==="primary",buttonType:D.from(c.buttonType),tooltip:c.tooltip,icon:c.icon,enabled:!0,borderless:c.borderless},O=O3((v=c.buttonType)!==null&&v!==void 0?v:"secondary"),L=w?c.text.map(d.translate):D.some(d.translate(c.text)),M=L.map(_r),H=E.tooltip.or(L).map(ie=>({"aria-label":d.translate(ie)})).getOr({}),q=k.map(ie=>ie.asSpec()),Y=pv([q,M]),re=c.icon.isSome()&&M.isSome(),ce={tag:"button",classes:O.concat(...c.icon.isSome()&&!re?["tox-button--icon"]:[]).concat(...re?["tox-button--icon-and-text"]:[]).concat(...c.borderless?["tox-button--naked"]:[]).concat(...c.type==="togglebutton"&&c.active?["tox-button--enabled"]:[]),attributes:H},ve=M2(E,D.some(ie=>{const ae=ge=>{k.map(ye=>ye.getOpt(ie).each(_e=>{zn.set(_e,[xp(ge,d.icons)])}))};return w?c.onAction({setIcon:ae,setActive:ge=>{const ye=ie.element;ge?(ur(ye,"tox-button--enabled"),Qt(ye,"aria-pressed",!0)):(br(ye,"tox-button--enabled"),fo(ye,"aria-pressed"))},isActive:()=>$i(ie.element,"tox-button--enabled")}):c.type==="button"?c.onAction({setIcon:ae}):void 0}),[],ce,Y,c.tooltip,d);return Di.sketch(ve)})(o,a),l6=Wa().deviceType,h4=l6.isPhone(),ni=l6.isTablet();var Mv=Sl({name:"silver.View",configFields:[At("viewConfig")],partFields:[ou({factory:{sketch:o=>{let a=!1;const c=bt(o.buttons,d=>d.type==="group"?(a=!0,((p,v)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:bt(p.buttons,w=>i6(w,v))}))(d,o.providers)):i6(d,o.providers));return{uid:o.uid,dom:{tag:"div",classes:[a?"tox-view__toolbar":"tox-view__header",...h4||ni?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Ft([Zn.config({}),An.config({mode:"flow",selector:"button, .tox-button",focusInside:Jb.OnEnterOrSpaceMode})]),components:a?c:[Ad.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Ad.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:c})]}}},schema:[At("buttons"),At("providers")],name:"header"}),ou({factory:{sketch:o=>({uid:o.uid,behaviours:Ft([Zn.config({}),Ns.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(o,a,c,d)=>{const p={getPane:v=>ti.getPart(v,o,"pane"),getOnShow:v=>o.viewConfig.onShow,getOnHide:v=>o.viewConfig.onHide};return{uid:o.uid,dom:o.dom,components:a,behaviours:Ft([Zn.config({}),An.config({mode:"cyclic",focusInside:Jb.OnEnterOrSpaceMode})]),apis:p}},apis:{getPane:(o,a)=>o.getPane(a),getOnShow:(o,a)=>o.getOnShow(a),getOnHide:(o,a)=>o.getOnHide(a)}});const aF=(o,a,c)=>Ar(a,(d,p)=>{const v=_i(ir("view",Gm,d));return o.slot(p,Mv.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:v,components:[...v.buttons.length>0?[Mv.parts.header({buttons:v.buttons,providers:c})]:[],Mv.parts.pane({})]}))}),iF=(o,a)=>ml.sketch(c=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:aF(c,o,a),slotBehaviours:m2([Zs(d=>ml.hideAllSlots(d))])})),c6=o=>J(ml.getSlotNames(o),a=>ml.isShowing(o,a)),u6=(o,a,c)=>{ml.getSlot(o,a).each(d=>{Mv.getPane(d).each(p=>{var v;c(d)((v=p.element.dom,{getContainer:te(v)}))})})};var bS=su({factory:(o,a)=>{const c={setViews:(d,p)=>{zn.set(d,[iF(p,a.backstage.shared.providers)])},whichView:d=>Vo.getCurrent(d).bind(c6),toggleView:(d,p,v,w)=>Vo.getCurrent(d).exists(k=>{const E=c6(k),O=E.exists(M=>w===M),L=ml.getSlot(k,w).isSome();return L&&(ml.hideAllSlots(k),O?((M=>{const H=M.element;Qn(H,"display","none"),Qt(H,"aria-hidden","true")})(d),p()):(v(),(M=>{const H=M.element;os(H,"display"),fo(H,"aria-hidden")})(d),ml.showSlot(k,w),((M,H)=>{u6(M,H,Mv.getOnShow)})(k,w)),E.each(M=>((H,q)=>u6(H,q,Mv.getOnHide))(k,M))),L})};return{uid:o.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Ft([zn.config({}),Vo.config({find:d=>{const p=zn.contents(d);return $t(p)}})]),apis:c}},name:"silver.ViewWrapper",configFields:[At("backstage")],apis:{setViews:(o,a,c)=>o.setViews(a,c),toggleView:(o,a,c,d,p)=>o.toggleView(a,c,d,p),whichView:(o,a)=>o.whichView(a)}});const lF=Km.optional({factory:t4,name:"menubar",schema:[At("backstage")]}),cF=Km.optional({factory:{sketch:o=>Y3.sketch({uid:o.uid,dom:o.dom,listBehaviours:Ft([An.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>m4({type:o.type,uid:mn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:o.providers,onEscape:()=>(o.onEscape(),D.some(!0))}),setupItem:(a,c,d,p)=>{Rd.setGroups(c,d)},shell:!0})},name:"multiple-toolbar",schema:[At("dom"),At("onEscape")]}),uF=Km.optional({factory:{sketch:o=>(c=>c.type===Fu.sliding?oF:c.type===Fu.floating?nF:m4)(o)({type:o.type,uid:o.uid,onEscape:()=>(o.onEscape(),D.some(!0)),onToggled:(c,d)=>o.onToolbarToggled(d),cyclicKeying:!1,initGroups:[],getSink:o.getSink,providers:o.providers,moreDrawerData:{lazyToolbar:o.lazyToolbar,lazyMoreButton:o.lazyMoreButton,lazyHeader:o.lazyHeader},attributes:o.attributes})},name:"toolbar",schema:[At("dom"),At("onEscape"),At("getSink")]}),dF=Km.optional({factory:{sketch:o=>{const a=o.editor,c=o.sticky?qN:iS;return{uid:o.uid,dom:o.dom,components:o.components,behaviours:Ft(c(a,o.sharedBackstage))}}},name:"header",schema:[At("dom")]}),fF=Km.optional({factory:{sketch:o=>({uid:o.uid,dom:o.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"Upgrade"}}]})},name:"promotion",schema:[At("dom")]}),mF=Km.optional({name:"socket",schema:[At("dom")]}),gF=Km.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Ft([Ns.config({}),Zn.config({}),Bl.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:a=>{Vo.getCurrent(a).each(ml.hideAllSlots),go(a,s4)},onGrown:a=>{go(a,s4)},onStartGrow:a=>{Sn(a,o4,{width:Tr(a.element,"width").getOr("")})},onStartShrink:a=>{Sn(a,o4,{width:ma(a.element)+"px"})}}),zn.config({}),Vo.config({find:a=>{const c=zn.contents(a);return $t(c)}})])}],behaviours:Ft([JA(0),uo("sidebar-sliding-events",[xt(o4,(a,c)=>{Qn(a.element,"width",c.event.width)}),xt(s4,(a,c)=>{os(a.element,"width")})])])})},name:"sidebar",schema:[At("dom")]}),hF=Km.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Ft([zn.config({}),Gu.config({focus:!1}),Vo.config({find:a=>$t(a.components())})]),components:[]})},name:"throbber",schema:[At("dom")]}),pF=Km.optional({factory:bS,name:"viewWrapper",schema:[At("backstage")]}),bF=Km.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:o.components})},name:"editorContainer",schema:[]});var Hs=Sl({name:"OuterContainer",factory:(o,a,c)=>{let d=!1;const p=w=>{Bs(w,".tox-statusbar").each(k=>{ar(k,"display")==="none"&&wo(k,"aria-hidden")==="true"?(os(k,"display"),fo(k,"aria-hidden")):(Qn(k,"display","none"),Qt(k,"aria-hidden","true"))})},v={getSocket:w=>ti.getPart(w,o,"socket"),setSidebar:(w,k,E)=>{ti.getPart(w,o,"sidebar").each(O=>((L,M,H)=>{Vo.getCurrent(L).each(q=>{zn.set(q,[JN(M)]);const Y=H==null?void 0:H.toLowerCase();h(Y)&&po(M,Y)&&Vo.getCurrent(q).each(re=>{ml.showSlot(re,Y),Bl.immediateGrow(q),os(q.element,"width"),dS(L.element,"region")})})})(O,k,E))},toggleSidebar:(w,k)=>{ti.getPart(w,o,"sidebar").each(E=>((O,L)=>{Vo.getCurrent(O).each(M=>{Vo.getCurrent(M).each(H=>{Bl.hasGrown(M)?ml.isShowing(H,L)?(Bl.shrink(M),dS(O.element,"presentation")):(ml.hideAllSlots(H),ml.showSlot(H,L),dS(O.element,"region")):(ml.hideAllSlots(H),ml.showSlot(H,L),Bl.grow(M),dS(O.element,"region"))})})})(E,k))},whichSidebar:w=>ti.getPart(w,o,"sidebar").bind(ZL).getOrNull(),getHeader:w=>ti.getPart(w,o,"header"),getToolbar:w=>ti.getPart(w,o,"toolbar"),setToolbar:(w,k)=>{ti.getPart(w,o,"toolbar").each(E=>{const O=bt(k,pS);E.getApis().setGroups(E,O)})},setToolbars:(w,k)=>{ti.getPart(w,o,"multiple-toolbar").each(E=>{const O=bt(k,L=>bt(L,pS));Y3.setItems(E,O)})},refreshToolbar:w=>{ti.getPart(w,o,"toolbar").each(k=>k.getApis().refresh(k))},toggleToolbarDrawer:w=>{ti.getPart(w,o,"toolbar").each(k=>{Qr(k.getApis().toggle,E=>E(k))})},toggleToolbarDrawerWithoutFocusing:w=>{ti.getPart(w,o,"toolbar").each(k=>{Qr(k.getApis().toggleWithoutFocusing,E=>E(k))})},isToolbarDrawerToggled:w=>ti.getPart(w,o,"toolbar").bind(k=>D.from(k.getApis().isOpen).map(E=>E(k))).getOr(!1),getThrobber:w=>ti.getPart(w,o,"throbber"),focusToolbar:w=>{ti.getPart(w,o,"toolbar").orThunk(()=>ti.getPart(w,o,"multiple-toolbar")).each(k=>{An.focusIn(k)})},setMenubar:(w,k)=>{ti.getPart(w,o,"menubar").each(E=>{t4.setMenus(E,k)})},focusMenubar:w=>{ti.getPart(w,o,"menubar").each(k=>{t4.focus(k)})},setViews:(w,k)=>{ti.getPart(w,o,"viewWrapper").each(E=>{bS.setViews(E,k)})},toggleView:(w,k)=>ti.getPart(w,o,"viewWrapper").exists(E=>bS.toggleView(E,()=>v.showMainView(w),()=>v.hideMainView(w),k)),whichView:w=>ti.getPart(w,o,"viewWrapper").bind(bS.whichView).getOrNull(),hideMainView:w=>{d=v.isToolbarDrawerToggled(w),d&&v.toggleToolbarDrawer(w),ti.getPart(w,o,"editorContainer").each(k=>{const E=k.element;p(E),Qn(E,"display","none"),Qt(E,"aria-hidden","true")})},showMainView:w=>{d&&v.toggleToolbarDrawer(w),ti.getPart(w,o,"editorContainer").each(k=>{const E=k.element;p(E),os(E,"display"),fo(E,"aria-hidden")})}};return{uid:o.uid,dom:o.dom,components:a,apis:v,behaviours:o.behaviours}},configFields:[At("dom"),At("behaviours")],partFields:[dF,lF,uF,cF,mF,gF,fF,hF,pF,bF],apis:{getSocket:(o,a)=>o.getSocket(a),setSidebar:(o,a,c,d)=>{o.setSidebar(a,c,d)},toggleSidebar:(o,a,c)=>{o.toggleSidebar(a,c)},whichSidebar:(o,a)=>o.whichSidebar(a),getHeader:(o,a)=>o.getHeader(a),getToolbar:(o,a)=>o.getToolbar(a),setToolbar:(o,a,c)=>{o.setToolbar(a,c)},setToolbars:(o,a,c)=>{o.setToolbars(a,c)},refreshToolbar:(o,a)=>o.refreshToolbar(a),toggleToolbarDrawer:(o,a)=>{o.toggleToolbarDrawer(a)},toggleToolbarDrawerWithoutFocusing:(o,a)=>{o.toggleToolbarDrawerWithoutFocusing(a)},isToolbarDrawerToggled:(o,a)=>o.isToolbarDrawerToggled(a),getThrobber:(o,a)=>o.getThrobber(a),setMenubar:(o,a,c)=>{o.setMenubar(a,c)},focusMenubar:(o,a)=>{o.focusMenubar(a)},focusToolbar:(o,a)=>{o.focusToolbar(a)},setViews:(o,a,c)=>{o.setViews(a,c)},toggleView:(o,a,c)=>o.toggleView(a,c),whichView:(o,a)=>o.whichView(a)}});const d6={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},p4=o=>o.split(" "),f6=(o,a)=>{const c={...d6,...a.menus},d=sn(a.menus).length>0,p=a.menubar===void 0||a.menubar===!0?p4("file edit view insert format tools table help"):p4(a.menubar===!1?"":a.menubar),v=ho(p,k=>{const E=po(d6,k);return d?E||un(a.menus,k).exists(O=>po(O,"items")):E}),w=bt(v,k=>{const E=c[k];return((O,L,M)=>{const H=D5(M).split(/[ ,]/);return{text:O.title,getItems:()=>qo(O.items,q=>{const Y=q.toLowerCase();return Y.trim().length===0||On(H,re=>re===Y)?[]:Y==="separator"||Y==="|"?[{type:"separator"}]:L.menuItems[Y]?[L.menuItems[Y]]:[]})}})({title:E.title,items:p4(E.items)},a,o)});return ho(w,k=>k.getItems().length>0&&On(k.getItems(),E=>h(E)||E.type!=="separator"))},m6=(o,a,c)=>(o.on("remove",()=>c.unload(a)),c.load(a)),b4=(o,a,c,d)=>(o.on("remove",()=>d.unloadRawCss(a)),d.loadRawCss(a,c)),vF=async(o,a)=>{const c="ui/"+zC(o).getOr("default")+"/skin.css",d=tinymce.Resource.get(c);if(!h(d)){const p=o.editorManager.suffix;return m6(o,a+`/skin${p}.css`,o.ui.styleSheetLoader)}b4(o,c,d,o.ui.styleSheetLoader)},yF=async(o,a)=>{var c;if(c=en(o.getElement()),Lt(c).isSome()){const d="ui/"+zC(o).getOr("default")+"/skin.shadowdom.css",p=tinymce.Resource.get(d);if(!h(p)){const v=o.editorManager.suffix;return m6(o,a+`/skin.shadowdom${v}.css`,iv.DOM.styleSheetLoader)}b4(o,d,p,iv.DOM.styleSheetLoader)}},g6=(o,a)=>(async(c,d)=>{const p=()=>{const w=FC(d),k=d.editorManager.suffix;w&&d.contentCSS.push(w+(c?"/content.inline":"/content")+`${k}.css`)};zC(d).fold(p,w=>{const k="ui/"+w+(c?"/content.inline":"/content")+".css",E=tinymce.Resource.get(k);h(E)?b4(d,k,E,d.ui.styleSheetLoader):p()});const v=FC(d);if(!tp(d)&&h(v))return Promise.all([vF(d,v),yF(d,v)]).then()})(o,a).then((c=>{const d=()=>{c._skinLoaded=!0,(p=>{p.dispatch("SkinLoaded")})(c)};return()=>{c.initialized?d():c.on("init",d)}})(a),((c,d)=>()=>((p,v)=>{p.dispatch("SkinLoadError",v)})(c,{message:"Skin could not be loaded"}))(a)),h6=Ge(g6,!1),xF=Ge(g6,!0),O0=(o,a,c)=>bu(c)?o.translate(a):o.translate([a,o.translate(c)]),wF=(o,a)=>{const c=(v,w,k,E)=>{const O=o.shared.providers.translate(v.title);if(v.type==="separator")return D.some({type:"separator",text:O});if(v.type==="submenu"){const L=qo(v.getStyleItems(),M=>d(M,w,E));return w===0&&L.length<=0?D.none():D.some({type:"nestedmenuitem",text:O,enabled:L.length>0,getSubmenuItems:()=>qo(v.getStyleItems(),M=>d(M,w,E))})}return D.some({type:"togglemenuitem",text:O,icon:v.icon,active:v.isSelected(E),enabled:!k,onAction:a.onAction(v),...v.getStylePreview().fold(()=>({}),L=>({meta:{style:L}}))})},d=(v,w,k)=>{const E=v.type==="formatter"&&a.isInvalid(v);return w===0?E?[]:c(v,w,!1,k).toArray():c(v,w,E,k).toArray()},p=v=>{const w=a.getCurrentValue(),k=a.shouldHide?0:1;return qo(v,E=>d(E,k,w))};return{validateItems:p,getFetch:(v,w)=>(k,E)=>{const O=w(),L=p(O);E(E0(L,Of.CLOSE_ON_EXECUTE,v,{isHorizontalMenu:!1,search:D.none()}))}}},Pv=(o,a)=>{const c=a.dataset,d=c.type==="basic"?()=>bt(c.data,p=>BN(p,a.isSelectedFor,a.getPreviewFor)):c.getData;return{items:wF(o,a),getStyleItems:d}},U2=(o,a,c,d,p,v)=>{const{items:w,getStyleItems:k}=Pv(a,c),E=Dn(c.tooltip);return p3({text:c.icon.isSome()?D.none():c.text,icon:c.icon,ariaLabel:D.some(c.tooltip),tooltip:D.none(),role:D.none(),fetch:w.getFetch(a,k),onSetup:O=>{const L=M=>O.setTooltip(O0(o,d(M.value),M.value));return o.on(p,L),xv(v0(o,"NodeChange",M=>{const H=M.getComponent();c.updateText(H),Kn.set(M.getComponent(),!o.selection.isEditable())})(O),()=>o.off(p,L))},getApi:O=>({getComponent:te(O),setTooltip:L=>{const M=a.shared.providers.translate(L);Qt(O.element,"aria-label",M),E.set(L)}}),columns:1,presets:"normal",classes:c.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Wr.config({...a.shared.providers.tooltips.getConfig({tooltipText:a.shared.providers.translate(c.tooltip),onShow:O=>{if(c.tooltip!==E.get()){const L=a.shared.providers.translate(E.get());Wr.setComponents(O,a.shared.providers.tooltips.getComponents({tooltipText:L}))}}})})]},"tox-tbtn",a.shared,v)};var D0;(function(o){o[o.SemiColon=0]="SemiColon",o[o.Space=1]="Space"})(D0||(D0={}));const v4=(o,a,c)=>{const d=(p=((v,w)=>w===D0.SemiColon?v.replace(/;$/,"").split(";"):v.split(" "))(o.options.get(a),c),bt(p,v=>{let w=v,k=v;const E=v.split("=");return E.length>1&&(w=E[0],k=E[1]),{title:w,format:k}}));var p;return{type:"basic",data:d}},p6=te("Alignment {0}"),b6="left",y4=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],x4=o=>{const a={type:"basic",data:y4};return{tooltip:O0(o,p6(),b6),text:D.none(),icon:D.some("align-left"),isSelectedFor:c=>()=>o.formatter.match(c),getCurrentValue:D.none,getPreviewFor:c=>D.none,onAction:c=>()=>J(y4,d=>d.format===c.format).each(d=>o.execCommand(d.command)),updateText:c=>{const d=J(y4,p=>o.formatter.match(p.format)).fold(te(b6),p=>p.title.toLowerCase());Sn(c,ju,{icon:`align-${d}`}),((p,v)=>{p.dispatch("AlignTextUpdate",v)})(o,{value:d})},dataset:a,shouldHide:!1,isInvalid:c=>!o.formatter.canApply(c.format)}},v6=(o,a)=>{const c=a(),d=bt(c,p=>p.format);return D.from(o.formatter.closest(d)).bind(p=>J(c,v=>v.format===p))},w4=te("Block {0}"),C4="Paragraph",_4=o=>{const a=v4(o,"block_formats",D0.SemiColon);return{tooltip:O0(o,w4(),C4),text:D.some(C4),icon:D.none(),isSelectedFor:c=>()=>o.formatter.match(c),getCurrentValue:D.none,getPreviewFor:c=>()=>{const d=o.formatter.get(c);return d?D.some({tag:d.length>0&&(d[0].inline||d[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(c))}):D.none()},onAction:KD(o),updateText:c=>{const d=v6(o,()=>a.data).fold(te(C4),p=>p.title);Sn(c,uu,{text:d}),((p,v)=>{p.dispatch("BlocksTextUpdate",v)})(o,{value:d})},dataset:a,shouldHide:!1,isInvalid:c=>!o.formatter.canApply(c.format)}},y6=te("Font {0}"),S4="System Font",CF=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],x6=o=>{const a=o.split(/\s*,\s*/);return bt(a,c=>c.replace(/^['"]+|['"]+$/g,""))},w6=(o,a)=>a.length>0&&si(a,c=>o.indexOf(c.toLowerCase())>-1),C6=o=>{const a=()=>{const d=O=>O?x6(O)[0]:"",p=o.queryCommandValue("FontName"),v=c.data,w=p?p.toLowerCase():"",k=LC(o);return{matchOpt:J(v,O=>{const L=O.format;return L.toLowerCase()===w||d(L).toLowerCase()===d(w).toLowerCase()}).orThunk(()=>Wo(((O,L)=>{if(O.indexOf("-apple-system")===0||L.length>0){const M=x6(O.toLowerCase());return w6(M,CF)||w6(M,L)}return!1})(w,k),{title:S4,format:w})),font:p}},c=v4(o,"font_family_formats",D0.SemiColon);return{tooltip:O0(o,y6(),S4),text:D.some(S4),icon:D.none(),isSelectedFor:d=>p=>p.exists(v=>v.format===d),getCurrentValue:()=>{const{matchOpt:d}=a();return d},getPreviewFor:d=>()=>D.some({tag:"div",styles:d.indexOf("dings")===-1?{"font-family":d}:{}}),onAction:d=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontName",!1,d.format)})},updateText:d=>{const{matchOpt:p,font:v}=a(),w=p.fold(te(v),k=>k.title);Sn(d,uu,{text:w}),((k,E)=>{k.dispatch("FontFamilyTextUpdate",E)})(o,{value:w})},dataset:c,shouldHide:!1,isInvalid:Ce}},_F={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},SF=(()=>{const o="[0-9]+",a="[eE][+-]?"+o,c=p=>`(?:${p})?`,d=["Infinity",o+"\\."+c(o)+c(a),"\\."+o+c(a),o+c(a)].join("|");return new RegExp(`^([+-]?(?:${d}))(.*)$`)})(),vS=(o,a)=>D.from(SF.exec(o)).bind(c=>{const d=Number(c[1]),p=c[2];return((v,w)=>On(w,k=>On(_F[k],E=>v===E)))(p,a)?D.some({value:d,unit:p}):D.none()}),_6={tab:te(9),escape:te(27),enter:te(13),backspace:te(8),delete:te(46),left:te(37),up:te(38),right:te(39),down:te(40),space:te(32),home:te(36),end:te(35),pageUp:te(33),pageDown:te(34)},S6=te("Font size {0}"),k6="12pt",kF={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},E6={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},EF=(o,a)=>/[0-9.]+px$/.test(o)?((c,d)=>{const p=Math.pow(10,d);return Math.round(c*p)/p})(72*parseInt(o,10)/96,a||0)+"pt":un(E6,o).getOr(o),AF=o=>un(kF,o).getOr(""),A6=o=>{const a=()=>{let p=D.none();const v=d.data,w=o.queryCommandValue("FontSize");if(w)for(let k=3;p.isNone()&&k>=0;k--){const E=EF(w,k),O=AF(E);p=J(v,L=>L.format===w||L.format===E||L.format===O)}return{matchOpt:p,size:w}},c=te(D.none),d=v4(o,"font_size_formats",D0.Space);return{tooltip:O0(o,S6(),k6),text:D.some(k6),icon:D.none(),isSelectedFor:p=>v=>v.exists(w=>w.format===p),getPreviewFor:c,getCurrentValue:()=>{const{matchOpt:p}=a();return p},onAction:p=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontSize",!1,p.format)})},updateText:p=>{const{matchOpt:v,size:w}=a(),k=v.fold(te(w),E=>E.title);Sn(p,uu,{text:k}),((E,O)=>{E.dispatch("FontSizeTextUpdate",O)})(o,{value:k})},dataset:d,shouldHide:!1,isInvalid:Ce}},T6=o=>bu(o)?"Formats":"Format {0}",O6=(o,a)=>{const c="Formats";return{tooltip:O0(o,T6(""),""),text:D.some(c),icon:D.none(),isSelectedFor:d=>()=>o.formatter.match(d),getCurrentValue:D.none,getPreviewFor:d=>()=>{const p=o.formatter.get(d);return p!==void 0?D.some({tag:p.length>0&&(p[0].inline||p[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(d))}):D.none()},onAction:KD(o),updateText:d=>{const p=k=>RN(k)?qo(k.items,p):NN(k)?[{title:k.title,format:k.format}]:[],v=qo(IN(o),p),w=v6(o,te(v)).fold(te({title:c,tooltipLabel:""}),k=>({title:k.title,tooltipLabel:k.title}));Sn(d,uu,{text:w.title}),((k,E)=>{k.dispatch("StylesTextUpdate",E)})(o,{value:w.tooltipLabel})},shouldHide:O5(o),isInvalid:d=>!o.formatter.canApply(d.format),dataset:a}},k4=te([At("toggleClass"),At("fetch"),Iu("onExecute"),et("getHotspot",D.some),et("getAnchorOverrides",te({})),mf(),Iu("onItemExecute"),Bo("lazySink"),At("dom"),Fo("onOpen"),gn("splitDropdownBehaviours",[Sr,An,Zn]),et("matchWidth",!1),et("useMinWidth",!1),et("eventOrder",{}),Bo("role"),Bo("listRole")].concat(CA())),TF=dl({factory:Di,schema:[At("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Ft([Zn.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:a=>{a.getSystem().getByUid(o.uid).each(rf)},buttonBehaviours:Ft([Un.config({toggleOnExecute:!1,toggleClass:o.toggleClass})])})}),OF=dl({factory:Di,schema:[At("dom")],name:"button",defaults:()=>({buttonBehaviours:Ft([Zn.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:a=>{a.getSystem().getByUid(o.uid).each(c=>{o.onExecute(c,a)})}})}),DF=te([TF,OF,ou({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[At("text")],name:"aria-descriptor"}),_d({schema:[Ng()],name:"menu",defaults:o=>({onExecute:(a,c)=>{a.getSystem().getByUid(o.uid).each(d=>{o.onItemExecute(d,a,c)})}})}),cR()]),W2=Sl({name:"SplitDropdown",configFields:k4(),partFields:DF(),factory:(o,a,c,d)=>{const p=O=>{Vo.getCurrent(O).each(L=>{is.highlightFirst(L),An.focusIn(L)})},v=O=>{yA(o,Ae,O,d,p,Ki.HighlightMenuAndItem).get(he)},w=O=>{const L=Gg(O,o,"button");return rf(L),D.some(!0)},k={...to([Zs((O,L)=>{Ms(O,o,"aria-descriptor").each(M=>{const H=mn("aria");Qt(M.element,"id",H),Qt(O.element,"aria-describedby",H)})})]),...av(D.some(v))},E={repositionMenus:O=>{Un.isOn(O)&&fR(O)}};return{uid:o.uid,dom:o.dom,components:a,apis:E,eventOrder:{...o.eventOrder,[al()]:["disabling","toggling","alloy.base.behaviour"]},events:k,behaviours:co(o.splitDropdownBehaviours,[Sr.config({others:{sandbox:O=>{const L=Gg(O,o,"arrow");return wA(o,O,{onOpen:()=>{Un.on(L),Un.on(O)},onClose:()=>{Un.off(L),Un.off(O)}})}}}),An.config({mode:"special",onSpace:w,onEnter:w,onDown:O=>(v(O),D.some(!0))}),Zn.config({}),Un.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:o.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(o,a)=>o.repositionMenus(a)}}),E4=o=>({isEnabled:()=>!Kn.isDisabled(o),setEnabled:a=>Kn.set(o,!a),setText:a=>Sn(o,uu,{text:a}),setIcon:a=>Sn(o,ju,{icon:a})}),RF=o=>({setActive:a=>{Un.set(o,a)},isActive:()=>Un.isOn(o),isEnabled:()=>!Kn.isDisabled(o),setEnabled:a=>Kn.set(o,!a),setText:a=>Sn(o,uu,{text:a}),setIcon:a=>Sn(o,ju,{icon:a})}),D6=(o,a)=>o.map(c=>({"aria-label":a.translate(c)})).getOr({}),A4=mn("focus-button"),T4=(o,a,c,d,p,v)=>{const w=a.map(E=>ss(h3(E,"tox-tbtn",p))),k=o.map(E=>ss(xp(E,p.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(a.isSome()?["tox-tbtn--select"]:[]),attributes:{...D6(c,p),...$(v)?{"data-mce-name":v}:{}}},components:pv([k.map(E=>E.asSpec()),w.map(E=>E.asSpec())]),eventOrder:{[Tt()]:["focusing","alloy.base.behaviour",yp],[Ga()]:[yp,"toolbar-group-button-events"]},buttonBehaviours:Ft([a_(p.isDisabled),va(),uo(yp,[Zs((E,O)=>K_(E)),xt(uu,(E,O)=>{w.bind(L=>L.getOpt(E)).each(L=>{zn.set(L,[_r(p.translate(O.event.text))])})}),xt(ju,(E,O)=>{k.bind(L=>L.getOpt(E)).each(L=>{zn.set(L,[xp(O.event.icon,p.icons)])})}),xt(Tt(),(E,O)=>{O.event.prevent(),go(E,A4)})])].concat(d.getOr([])))}},R6=(o,a,c,d)=>{var p;const v=Dn(he),w=T4(o.icon,o.text,o.tooltip,D.none(),c,d);return Di.sketch({dom:w.dom,components:w.components,eventOrder:g3,buttonBehaviours:{...Ft([uo("toolbar-button-events",[(k={onAction:o.onAction,getApi:a.getApi},Yc((E,O)=>{g2(k,E)(L=>{Sn(E,j_,{buttonApi:L}),k.onAction(L)})})),up(a,v),th(a,v)]),...o.tooltip.map(E=>Wr.config(c.tooltips.getConfig({tooltipText:c.translate(E)+o.shortcut.map(O=>` (${i_(O)})`).getOr("")}))).toArray(),a_(()=>!o.enabled||c.isDisabled()),va()].concat(a.toolbarButtonBehaviours)),[yp]:(p=w.buttonBehaviours)===null||p===void 0?void 0:p[yp]}});var k},N6=(o,a,c,d)=>R6(o,{toolbarButtonBehaviours:c.length>0?[uo("toolbarButtonWith",c)]:[],getApi:E4,onSetup:o.onSetup},a,d),I6=(o,a,c,d)=>R6(o,{toolbarButtonBehaviours:[zn.config({}),Un.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(c.length>0?[uo("toolbarToggleButtonWith",c)]:[]),getApi:RF,onSetup:o.onSetup},a,d),NF=(o,a,c)=>d=>dp(p=>a.fetch(p)).map(p=>D.from(_A(ws(x0(mn("menu-value"),p,v=>{a.onItemAction(o(d),v)},a.columns,a.presets,Of.CLOSE_ON_EXECUTE,a.select.getOr(Ce),c),{movement:y2(a.columns,a.presets),menuBehaviours:m2(a.columns!=="auto"?[]:[Zs((v,w)=>{qE(v,4,ip(a.presets)).each(({numRows:k,numColumns:E})=>{An.setGridSize(v,k,E)})})])})))),IF=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Sp=(o,a)=>(c,d,p,v)=>{const w=o(c).mapError(k=>Hi(k)).getOrDie();return a(w,d,p,v)},BF={button:Sp(wD,(o,a,c,d)=>((p,v,w)=>N6(p,v,[],w))(o,a.shared.providers,d)),togglebutton:Sp(o_,(o,a,c,d)=>((p,v,w)=>I6(p,v,[],w))(o,a.shared.providers,d)),menubutton:Sp(YN,(o,a,c,d)=>Ov(o,"tox-tbtn",a,D.none(),!1,d)),splitbutton:Sp(o=>ir("SplitButton",zL,o),(o,a,c,d)=>((p,v,w)=>{const k=Dn(p.tooltip.getOr("")),E=M=>({isEnabled:()=>!Kn.isDisabled(M),setEnabled:H=>Kn.set(M,!H),setIconFill:(H,q)=>{Js(M.element,`svg path[class="${H}"], rect[class="${H}"]`).each(Y=>{Qt(Y,"fill",q)})},setActive:H=>{Qt(M.element,"aria-pressed",H),Js(M.element,"span").each(q=>{M.getSystem().getByDom(q).each(Y=>Un.set(Y,H))})},isActive:()=>Js(M.element,"span").exists(H=>M.getSystem().getByDom(H).exists(Un.isOn)),setText:H=>Js(M.element,"span").each(q=>M.getSystem().getByDom(q).each(Y=>Sn(Y,uu,{text:H}))),setIcon:H=>Js(M.element,"span").each(q=>M.getSystem().getByDom(q).each(Y=>Sn(Y,ju,{icon:H}))),setTooltip:H=>{const q=v.providers.translate(H);Qt(M.element,"aria-label",q),k.set(H)}}),O=Dn(he),L={getApi:E,onSetup:p.onSetup};return W2.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...D6(p.tooltip,v.providers),...$(w)?{"data-mce-name":w}:{}}},onExecute:M=>{const H=E(M);H.isEnabled()&&p.onAction(H)},onItemExecute:(M,H,q)=>{},splitDropdownBehaviours:Ft([ND(v.providers.isDisabled),va(),uo("split-dropdown-events",[Zs((M,H)=>K_(M)),xt(A4,Zn.focus),up(L,O),th(L,O)]),C0.config({}),...p.tooltip.map(M=>Wr.config({...v.providers.tooltips.getConfig({tooltipText:v.providers.translate(M),onShow:H=>{if(k.get()!==M){const q=v.providers.translate(k.get());Wr.setComponents(H,v.providers.tooltips.getComponents({tooltipText:q}))}}})})).toArray()]),eventOrder:{[Ga()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[gc()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:v.getSink,fetch:NF(E,p,v.providers),parts:{menu:JC(0,p.columns,p.presets)},components:[W2.parts.button(T4(p.icon,p.text,D.none(),D.some([Un.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),v.providers)),W2.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:Q5("chevron-down",v.providers.icons)},buttonBehaviours:Ft([ND(v.providers.isDisabled),va(),GC()])}),W2.parts["aria-descriptor"]({text:v.providers.translate("To open the popup, press Shift+Enter")})]})})(o,a.shared,d)),grouptoolbarbutton:Sp(o=>ir("GroupToolbarButton",LL,o),(o,a,c,d)=>{const p=c.ui.registry.getAll().buttons,v={[ul]:a.shared.header.isPositionedAtTop()?Sc.TopToBottom:Sc.BottomToTop};if(i0(c)===Fu.floating)return((w,k,E,O,L)=>{const M=k.shared,H=Dn(he),q={toolbarButtonBehaviours:[],getApi:E4,onSetup:w.onSetup},Y=[uo("toolbar-group-button-events",[up(q,H),th(q,H)])];return ch.sketch({lazySink:M.getSink,fetch:()=>dp(re=>{re(bt(E(w.items),pS))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:T4(w.icon,w.text,w.tooltip,D.some(Y),M.providers,L),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:O}}}})})(o,a,w=>yS(c,{buttons:p,toolbar:w,allowToolbarGroups:!1},a,D.none()),v,d);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},Z2={styles:(o,a)=>{const c={type:"advanced",...a.styles};return U2(o,a,O6(o,c),T6,"StylesTextUpdate","styles")},fontsize:(o,a)=>U2(o,a,A6(o),S6,"FontSizeTextUpdate","fontsize"),fontsizeinput:(o,a)=>((c,d,p,v)=>{let w=D.none();const k=v0(c,"NodeChange SwitchMode",ge=>{const ye=ge.getComponent();w=D.some(ye),p.updateInputValue(ye),Kn.set(ye,!c.selection.isEditable())}),E=ge=>({getComponent:te(ge)}),O=Dn(he),L=mn("custom-number-input-events"),M=(ge,ye,_e)=>{const Le=w.map(Bt=>ot.getValue(Bt)).getOr(""),Xe=p.getNewValue(Le,ge),_t=Le.length-`${Xe}`.length,vt=w.map(Bt=>Bt.element.dom.selectionStart-_t),gt=w.map(Bt=>Bt.element.dom.selectionEnd-_t);p.onAction(Xe,_e),w.each(Bt=>{ot.setValue(Bt,Xe),ye&&(vt.each(an=>Bt.element.dom.selectionStart=an),gt.each(an=>Bt.element.dom.selectionEnd=an))})},H=(ge,ye)=>M((_e,Le)=>_e-Le,ge,ye),q=(ge,ye)=>M((_e,Le)=>_e+Le,ge,ye),Y=ge=>ii(ge.element).fold(D.none,ye=>(Ai(ye),D.some(!0))),re=ge=>$g(ge.element)?(Se(ge.element).each(ye=>Ai(ye)),D.some(!0)):D.none(),ce=(ge,ye,_e,Le)=>{const Xe=Dn(he),_t=d.shared.providers.translate(_e),vt=mn("altExecuting"),gt=v0(c,"NodeChange SwitchMode",an=>{Kn.set(an.getComponent(),!c.selection.isEditable())}),Bt=an=>{Kn.isDisabled(an)||ge(!0)};return Di.sketch({dom:{tag:"button",attributes:{"aria-label":_t,"data-mce-name":ye},classes:Le.concat(ye)},components:[R2(ye,d.shared.providers.icons)],buttonBehaviours:Ft([Kn.config({}),Wr.config(d.shared.providers.tooltips.getConfig({tooltipText:_t})),uo(vt,[up({onSetup:gt,getApi:E},Xe),th({getApi:E},Xe),xt(cr(),(an,vn)=>{vn.event.raw.keyCode!==_6.space()&&vn.event.raw.keyCode!==_6.enter()||Kn.isDisabled(an)||ge(!1)}),xt(ta(),Bt),xt(Oe(),Bt)])]),eventOrder:{[cr()]:[vt,"keying"],[ta()]:[vt,"alloy.base.behaviour"],[Oe()]:[vt,"alloy.base.behaviour"],[Ga()]:["alloy.base.behaviour",vt,"tooltipping"],[gc()]:[vt,"tooltipping"]}})},ve=ss(ce(ge=>H(!1,ge),"minus","Decrease font size",[])),ie=ss(ce(ge=>q(!1,ge),"plus","Increase font size",[])),ae=ss({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[eh.sketch({inputBehaviours:Ft([Kn.config({}),uo(L,[up({onSetup:k,getApi:E},O),th({getApi:E},O)]),uo("input-update-display-text",[xt(uu,(ge,ye)=>{ot.setValue(ge,ye.event.text)}),xt(Nr(),ge=>{p.onAction(ot.getValue(ge))}),xt(dm(),ge=>{p.onAction(ot.getValue(ge))})]),An.config({mode:"special",onEnter:ge=>(M(Ae,!0,!0),D.some(!0)),onEscape:Y,onUp:ge=>(q(!0,!1),D.some(!0)),onDown:ge=>(H(!0,!1),D.some(!0)),onLeft:(ge,ye)=>(ye.cut(),D.none()),onRight:(ge,ye)=>(ye.cut(),D.none())})])})],behaviours:Ft([Zn.config({}),An.config({mode:"special",onEnter:re,onSpace:re,onEscape:Y}),uo("input-wrapper-events",[xt(_n(),ge=>{Zt([ve,ie],ye=>{const _e=en(ye.get(ge).element.dom);$g(_e)&&Db(_e)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...$(v)?{"data-mce-name":v}:{}}},components:[ve.asSpec(),ae.asSpec(),ie.asSpec()],behaviours:Ft([Zn.config({}),An.config({mode:"flow",focusInside:Jb.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:ge=>$g(ge.element)?D.none():(Ai(ge.element),D.some(!0))})])}})(o,a,(c=>{const d=()=>c.queryCommandValue("FontSize");return{updateInputValue:p=>Sn(p,uu,{text:d()}),onAction:(p,v)=>c.execCommand("FontSize",!1,p,{skip_focus:!v}),getNewValue:(p,v)=>{vS(p,["unsupportedLength","empty"]);const w=d(),k=vS(p,["unsupportedLength","empty"]).or(vS(w,["unsupportedLength","empty"])),E=k.map(q=>q.value).getOr(16),O=xE(c),L=k.map(q=>q.unit).filter(q=>q!=="").getOr(O),M=v(E,(q=>{var Y;return(Y={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[q])!==null&&Y!==void 0?Y:{step:1}})(L).step),H=`${(q=>q>=0)(M)?M:E}${L}`;return H!==w&&((q,Y)=>{q.dispatch("FontSizeInputTextUpdate",Y)})(c,{value:H}),H}}})(o),"fontsizeinput"),fontfamily:(o,a)=>U2(o,a,C6(o),y6,"FontFamilyTextUpdate","fontfamily"),blocks:(o,a)=>U2(o,a,_4(o),w4,"BlocksTextUpdate","blocks"),align:(o,a)=>U2(o,a,x4(o),p6,"AlignTextUpdate","align")},yS=(o,a,c,d)=>{const p=(w=>{const k=w.toolbar,E=w.buttons;return k===!1?[]:k===void 0||k===!0?(O=>{const L=bt(IF,M=>{const H=ho(M.items,q=>po(O,q)||po(Z2,q));return{name:M.name,items:H}});return ho(L,M=>M.items.length>0)})(E):h(k)?(O=>{const L=O.split("|");return bt(L,M=>({items:M.trim().split(" ")}))})(k):(O=>fe(O,L=>po(L,"name")&&po(L,"items")))(k)?k:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(a),v=bt(p,w=>{const k=qo(w.items,E=>E.trim().length===0?[]:((O,L,M,H,q,Y)=>un(L,M.toLowerCase()).orThunk(()=>Y.bind(re=>It(re,ce=>un(L,ce+M.toLowerCase())))).fold(()=>un(Z2,M.toLowerCase()).map(re=>re(O,q)),re=>re.type!=="grouptoolbarbutton"||H?((ce,ve,ie,ae)=>un(BF,ce.type).fold(()=>(console.error("skipping button defined by",ce),D.none()),ge=>D.some(ge(ce,ve,ie,ae))))(re,q,O,M.toLowerCase()):(console.warn(`Ignoring the '${M}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),D.none())))(o,a.buttons,E,a.allowToolbarGroups,c,d).toArray());return{title:D.from(o.translate(w.name)),items:k}});return ho(v,w=>w.items.length>0)},B6=(o,a,c,d)=>{const p=a.mainUi.outerContainer,v=c.toolbar,w=c.buttons;if(fe(v,h)){const k=v.map(E=>{const O={toolbar:E,buttons:w,allowToolbarGroups:c.allowToolbarGroups};return yS(o,O,d,D.none())});Hs.setToolbars(p,k)}else Hs.setToolbar(p,yS(o,c,d,D.none()))},M6=Wa(),MF=M6.os.isiOS()&&M6.os.version.major<=12;var y$=Object.freeze({__proto__:null,render:(o,a,c,d,p)=>{const{mainUi:v,uiMotherships:w}=a,k=Dn(0),E=v.outerContainer;h6(o);const O=en(p.targetNode),L=je(st(O));mt(O,v.mothership),((Y,re,ce)=>{Qg(Y)&&mt(ce.mainUi.mothership.element,ce.popupUi.mothership),yx(re,ce.dialogUi.mothership)})(o,L,a),o.on("SkinLoaded",()=>{Hs.setSidebar(E,c.sidebar,PC(o)),B6(o,a,c,d),k.set(o.getWin().innerWidth),Hs.setMenubar(E,f6(o,c)),Hs.setViews(E,c.views),((Y,re)=>{const{uiMotherships:ce}=re,ve=Y.dom;let ie=Y.getWin();const ae=Y.getDoc().documentElement,ge=Dn(Ls(ie.innerWidth,ie.innerHeight)),ye=Dn(Ls(ae.offsetWidth,ae.offsetHeight)),_e=()=>{const vt=ge.get();vt.left===ie.innerWidth&&vt.top===ie.innerHeight||(ge.set(Ls(ie.innerWidth,ie.innerHeight)),b0(Y))},Le=()=>{const vt=Y.getDoc().documentElement,gt=ye.get();gt.left===vt.offsetWidth&&gt.top===vt.offsetHeight||(ye.set(Ls(vt.offsetWidth,vt.offsetHeight)),b0(Y))},Xe=vt=>{((gt,Bt)=>{gt.dispatch("ScrollContent",Bt)})(Y,vt)};ve.bind(ie,"resize",_e),ve.bind(ie,"scroll",Xe);const _t=ux(en(Y.getBody()),"load",Le);Y.on("hide",()=>{Zt(ce,vt=>{Qn(vt.element,"display","none")})}),Y.on("show",()=>{Zt(ce,vt=>{os(vt.element,"display")})}),Y.on("NodeChange",Le),Y.on("remove",()=>{_t.unbind(),ve.unbind(ie,"resize",_e),ve.unbind(ie,"scroll",Xe),ie=null})})(o,a)});const M=Hs.getSocket(E).getOrDie("Could not find expected socket element");if(MF){Li(M.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const Y=((ce,ve)=>{let ie=null;return{cancel:()=>{N(ie)||(clearTimeout(ie),ie=null)},throttle:(...ae)=>{N(ie)&&(ie=setTimeout(()=>{ie=null,ce.apply(null,ae)},20))}}})(()=>{o.dispatch("ScrollContent")}),re=Ti(M.element,"scroll",Y.throttle);o.on("remove",re.unbind)}RD(o,a),o.addCommand("ToggleSidebar",(Y,re)=>{Hs.toggleSidebar(E,re),(ce=>{ce.dispatch("ToggleSidebar")})(o)}),o.addQueryValueHandler("ToggleSidebar",()=>{var Y;return(Y=Hs.whichSidebar(E))!==null&&Y!==void 0?Y:""}),o.addCommand("ToggleView",(Y,re)=>{if(Hs.toggleView(E,re)){const ce=E.element;v.mothership.broadcastOn([P()],{target:ce}),Zt(w,ve=>{ve.broadcastOn([P()],{target:ce})}),N(Hs.whichView(E))&&(o.focus(),o.nodeChanged(),Hs.refreshToolbar(E)),(ve=>{ve.dispatch("ToggleView")})(o)}}),o.addQueryValueHandler("ToggleView",()=>{var Y;return(Y=Hs.whichView(E))!==null&&Y!==void 0?Y:""});const H=i0(o);H!==Fu.sliding&&H!==Fu.floating||o.on("ResizeWindow ResizeEditor ResizeContent",()=>{const Y=o.getWin().innerWidth;Y!==k.get()&&(Hs.refreshToolbar(a.mainUi.outerContainer),k.set(Y))});const q={setEnabled:Y=>{h0(a,!Y)},isEnabled:()=>!Kn.isDisabled(E)};return{iframeContainer:M.element.dom,editorContainer:E.element.dom,api:q}}});const j2=o=>/^[0-9\.]+(|px)$/i.test(""+o)?D.some(parseInt(""+o,10)):D.none(),kp=o=>ee(o)?o+"px":o,K2=(o,a,c)=>{const d=a.filter(v=>o<v),p=c.filter(v=>o>v);return d.or(p).getOr(o)},O4=o=>{const a=Vx(o),c=$x(o),d=cv(o);return j2(a).map(p=>K2(p,c,d))},{ToolbarLocation:D4,ToolbarMode:P6}=qx,PF=(o,a,c,d,p)=>{const{mainUi:v,uiMotherships:w}=c,k=iv.DOM,E=l0(o),O=Jg(o),L=cv(o).or(O4(o)),M=d.shared.header,H=M.isPositionedAtTop,q=i0(o),Y=q===P6.sliding||q===P6.floating,re=Dn(!1),ce=()=>re.get()&&!o.removed,ve=ye=>Y?ye.fold(te(0),_e=>_e.components().length>1?gr(_e.components()[1].element):0):0,ie=()=>{Zt(w,ye=>{ye.broadcastOn([V()],{})})},ae=ye=>{if(!ce())return;E||p.on(Xe=>{const _t=L.getOrThunk(()=>ra().width-Va(a).left-10);Qn(Xe.element,"max-width",_t+"px")});const _e=Fs(),Le=!(E||E||!(wl(v.outerContainer.element).left+Fi(v.outerContainer.element)>=window.innerWidth-40||Tr(v.outerContainer.element,"width").isSome())||(Qn(v.outerContainer.element,"position","absolute"),Qn(v.outerContainer.element,"left","0px"),os(v.outerContainer.element,"width"),0));if(Y&&Hs.refreshToolbar(v.outerContainer),!E){const Xe=Fs(),_t=Wo(_e.left!==Xe.left,_e);((vt,gt)=>{p.on(Bt=>{const an=Hs.getToolbar(v.outerContainer),vn=ve(an),In=Kr(a),qn=((mo,zo)=>Qg(mo)?Ph(zo):D.none())(o,v.outerContainer.element),So=qn.fold(()=>In.x,mo=>{const zo=Kr(mo);return Zo(mo,fn())?In.x:In.x-zo.x}),Vs=Wo(vt,Math.ceil(v.outerContainer.element.dom.getBoundingClientRect().width)).filter(mo=>mo>150).map(mo=>{const zo=gt.getOr(Fs()),Fn=window.innerWidth-(So-zo.left),er=Math.max(Math.min(mo,Fn),150);return Fn<mo&&Qn(v.outerContainer.element,"width",er+"px"),{width:er+"px"}}).getOr({width:"max-content"}),Qs={position:"absolute",left:Math.round(So)+"px",top:qn.fold(()=>H()?Math.max(In.y-gr(Bt.element)+vn,0):In.bottom,mo=>{var zo;const Fn=Kr(mo),er=(zo=mo.dom.scrollTop)!==null&&zo!==void 0?zo:0,Ss=Zo(mo,fn())?Math.max(In.y-gr(Bt.element)+vn,0):In.y-Fn.y+er-gr(Bt.element)+vn;return H()?Ss:In.bottom})+"px"};Li(v.outerContainer.element,{...Qs,...Vs})})})(Le,_t),_t.each(vt=>{Gd(vt.left,Xe.top)})}O&&p.on(ye),ie()},ge=()=>!(E||!O||!ce())&&p.get().exists(ye=>{const _e=M.getDockingMode(),Le=(_t=>{switch(ep(o)){case D4.auto:const vt=Hs.getToolbar(v.outerContainer),gt=ve(vt),Bt=gr(_t.element)-gt,an=Kr(a);if(an.y>Bt)return"top";{const vn=Pi(a),In=Math.max(vn.dom.scrollHeight,gr(vn));return an.bottom<In-Bt||Ea().bottom<an.bottom-Bt?"bottom":"top"}case D4.bottom:return"bottom";case D4.top:default:return"top"}})(ye);return Le!==_e&&(Xe=Le,p.on(_t=>{Xs.setModes(_t,[Xe]),M.setDockingMode(Xe);const vt=H()?Sc.TopToBottom:Sc.BottomToTop;Qt(_t.element,ul,vt)}),!0);var Xe});return{isVisible:ce,isPositionedAtTop:H,show:()=>{re.set(!0),Qn(v.outerContainer.element,"display","flex"),k.addClass(o.getBody(),"mce-edit-focus"),Zt(w,ye=>{os(ye.element,"display")}),ge(),Qg(o)?ae(ye=>Xs.isDocked(ye)?Xs.reset(ye):Xs.refresh(ye)):ae(Xs.refresh)},hide:()=>{re.set(!1),Qn(v.outerContainer.element,"display","none"),k.removeClass(o.getBody(),"mce-edit-focus"),Zt(w,ye=>{Qn(ye.element,"display","none")})},update:ae,updateMode:()=>{ge()&&ae(Xs.reset)},repositionPopups:ie}},L6=(o,a)=>{const c=Kr(o);return{pos:a?c.y:c.bottom,bounds:c}};var LF=Object.freeze({__proto__:null,render:(o,a,c,d,p)=>{const{mainUi:v}=a,w=us(),k=en(p.targetNode),E=PF(o,k,a,d,w),O=R5(o);xF(o);const L=()=>{if(w.isSet())return void E.show();w.set(Hs.getHeader(v.outerContainer).getOrDie());const H=VC(o);Qg(o)?(mt(k,v.mothership),mt(k,a.popupUi.mothership)):yx(H,v.mothership),yx(H,a.dialogUi.mothership);const q=()=>{B6(o,a,c,d),Hs.setMenubar(v.outerContainer,f6(o,c)),E.show(),((Y,re,ce,ve)=>{const ie=Dn(L6(re,ce.isPositionedAtTop())),ae=Le=>{const{pos:Xe,bounds:_t}=L6(re,ce.isPositionedAtTop()),{pos:vt,bounds:gt}=ie.get(),Bt=_t.height!==gt.height||_t.width!==gt.width;ie.set({pos:Xe,bounds:_t}),Bt&&b0(Y,Le),ce.isVisible()&&(vt!==Xe?ce.update(Xs.reset):Bt&&(ce.updateMode(),ce.repositionPopups()))};ve||(Y.on("activate",ce.show),Y.on("deactivate",ce.hide)),Y.on("SkinLoaded ResizeWindow",()=>ce.update(Xs.reset)),Y.on("NodeChange keydown",Le=>{requestAnimationFrame(()=>ae(Le))});let ge=0;const ye=o3(()=>ce.update(Xs.refresh),33);Y.on("ScrollWindow",()=>{const Le=Fs().left;Le!==ge&&(ge=Le,ye.throttle()),ce.updateMode()}),Qg(Y)&&Y.on("ElementScroll",Le=>{ce.update(Xs.refresh)});const _e=uc();_e.set(ux(en(Y.getBody()),"load",Le=>ae(Le.raw))),Y.on("remove",()=>{_e.clear()})})(o,k,E,O),o.nodeChanged()};O?o.once("SkinLoaded",q):q()};o.on("show",L),o.on("hide",E.hide),O||(o.on("focus",L),o.on("blur",E.hide)),o.on("init",()=>{(o.hasFocus()||O)&&L()}),RD(o,a);const M={show:L,hide:E.hide,setEnabled:H=>{h0(a,!H)},isEnabled:()=>!Kn.isDisabled(v.outerContainer)};return{editorContainer:v.outerContainer.element.dom,api:M}}});const F6="contexttoolbar-hide",z6=(o,a)=>xt(j_,(c,d)=>{const p=(v=>({hide:()=>go(v,ub()),getValue:()=>ot.getValue(v)}))(o.get(c));a.onAction(p,d.event.buttonApi)}),FF=(o,a)=>{const c=o.label.fold(()=>({}),v=>({"aria-label":v})),d=ss(eh.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:o.initValue(),inputAttributes:c,selectOnFocus:!0,inputBehaviours:Ft([An.config({mode:"special",onEnter:v=>p.findPrimary(v).map(w=>(rf(w),!0)),onLeft:(v,w)=>(w.cut(),D.none()),onRight:(v,w)=>(w.cut(),D.none())})])})),p=((v,w,k)=>{const E=bt(w,O=>ss(((L,M,H)=>(q=>q.type==="contextformtogglebutton")(M)?((q,Y,re)=>{const{primary:ce,...ve}=Y.original,ie=_i(o_({...ve,type:"togglebutton",onAction:he}));return I6(ie,re,[z6(q,Y)])})(L,M,H):((q,Y,re)=>{const{primary:ce,...ve}=Y.original,ie=_i(wD({...ve,type:"button",onAction:he}));return N6(ie,re,[z6(q,Y)])})(L,M,H))(v,O,k)));return{asSpecs:()=>bt(E,O=>O.asSpec()),findPrimary:O=>It(w,(L,M)=>L.primary?D.from(E[M]).bind(H=>H.getOpt(O)).filter($e(Kn.isDisabled)):D.none())}})(d,o.commands,a);return[{title:D.none(),items:[d.asSpec()]},{title:D.none(),items:p.asSpecs()}]},H6=(o,a,c)=>a.bottom-o.y>=c&&o.bottom-a.y>=c,R4=o=>{const a=(c=>{const d=c.getBoundingClientRect();if(d.height<=0&&d.width<=0){const p=Re(en(c.startContainer),c.startOffset).element;return(ri(p)?ai(p):D.some(p)).filter(qs).map(v=>v.dom.getBoundingClientRect()).getOr(d)}return d})(o.selection.getRng());if(o.inline){const c=Fs();return bo(c.left+a.left,c.top+a.top,a.width,a.height)}{const c=rl(en(o.getBody()));return bo(c.x+a.left,c.y+a.top,a.width,a.height)}},V6=(o,a,c,d=0)=>{const p=ra(window),v=Kr(en(o.getContentAreaContainer())),w=Zx(o)||jx(o)||Kx(o),{x:k,width:E}=((O,L,M)=>{const H=Math.max(O.x+M,L.x);return{x:H,width:Math.min(O.right-M,L.right)-H}})(v,p,d);if(o.inline&&!w)return bo(k,p.y,E,p.height);{const O=a.header.isPositionedAtTop(),{y:L,bottom:M}=((H,q,Y,re,ce,ve)=>{const ie=en(H.getContainer()),ae=Js(ie,".tox-editor-header").getOr(ie),ge=Kr(ae),ye=ge.y>=q.bottom,_e=re&&!ye;if(H.inline&&_e)return{y:Math.max(ge.bottom+ve,Y.y),bottom:Y.bottom};if(H.inline&&!_e)return{y:Y.y,bottom:Math.min(ge.y-ve,Y.bottom)};const Le=ce==="line"?Kr(ie):q;return _e?{y:Math.max(ge.bottom+ve,Y.y),bottom:Math.min(Le.bottom-ve,Y.bottom)}:{y:Math.max(Le.y+ve,Y.y),bottom:Math.min(ge.y-ve,Y.bottom)}})(o,v,p,O,c,d);return bo(k,L,E,M-L)}},N4={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},R0={maxHeightFunction:Ug(),maxWidthFunction:l4()},Ep=o=>o==="node",zF=(o,a,c,d,p)=>{const v=R4(o),w=d.lastElement().exists(k=>Zo(c,k));return((k,E)=>{const O=k.selection.getRng(),L=Re(en(O.startContainer),O.startOffset);return O.startContainer===O.endContainer&&O.startOffset===O.endOffset-1&&Zo(L.element,E)})(o,c)?w?sS:$o:w?((k,E,O)=>{const L=Tr(k,"position");Qn(k,"position",E);const M=H6(v,Kr(a),-20)&&!d.isReposition()?z3:sS;return L.each(H=>Qn(k,"position",H)),M})(a,d.getMode()):(d.getMode()==="fixed"?p.y+Fs().top:p.y)+(gr(a)+12)<=v.y?$o:jm},$6=(o,a,c,d)=>{const p=w=>(k,E,O,L,M)=>({...zF(o,L,w,c,M)({...k,y:M.y,height:M.height},E,O,L,M),alwaysFit:!0}),v=w=>Ep(d)?[p(w)]:[];return a?{onLtr:w=>[Mr,vr,yr,$r,Cs,dr].concat(v(w)),onRtl:w=>[Mr,yr,vr,Cs,$r,dr].concat(v(w))}:{onLtr:w=>[dr,Mr,$r,vr,Cs,yr].concat(v(w)),onRtl:w=>[dr,Mr,Cs,yr,$r,vr].concat(v(w))}},xS=(o,a)=>{const c=ho(a,v=>v.predicate(o.dom)),{pass:d,fail:p}=Us(c,v=>v.type==="contexttoolbar");return{contextToolbars:d,contextForms:p}},wS=(o,a)=>{const c={},d=[],p=[],v={},w={},k=sn(o);return Zt(k,E=>{const O=o[E];O.type==="contextform"?((L,M)=>{const H=_i(ir("ContextForm",a7,M));c[L]=H,H.launch.map(q=>{v["form:"+L]={...M.launch,type:q.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{a(H)}}}),H.scope==="editor"?p.push(H):d.push(H),w[L]=H})(E,O):O.type==="contexttoolbar"&&((L,M)=>{var H;(H=M,ir("ContextToolbar",_D,H)).each(q=>{M.scope==="editor"?p.push(q):d.push(q),w[L]=q})})(E,O)}),{forms:c,inNodeScope:d,inEditorScope:p,lookupTable:w,formNavigators:v}},U6=mn("forward-slide"),Lv=mn("backward-slide"),N0=mn("change-slide-event"),I4="tox-pop--resizing",B4="tox-pop--transition",HF=(o,a,c,d)=>{const p=d.backstage,v=p.shared,w=Wa().deviceType.isTouch,k=us(),E=us(),O=us(),L=Da((_e=>{const Le=Dn([]);return sr.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:Xe=>{Le.set([]),sr.getContent(Xe).each(_t=>{os(_t.element,"visibility")}),br(Xe.element,I4),os(Xe.element,"width")},inlineBehaviours:Ft([uo("context-toolbar-events",[af(lb(),(Xe,_t)=>{_t.event.raw.propertyName==="width"&&(br(Xe.element,I4),os(Xe.element,"width"))}),xt(N0,(Xe,_t)=>{const vt=Xe.element;os(vt,"width");const gt=ma(vt);sr.setContent(Xe,_t.event.contents),ur(vt,I4);const Bt=ma(vt);Qn(vt,"width",gt+"px"),sr.getContent(Xe).each(an=>{_t.event.focus.bind(vn=>(Ai(vn),Pr(vt))).orThunk(()=>(An.focusIn(an),Qc(st(vt))))}),setTimeout(()=>{Qn(Xe.element,"width",Bt+"px")},0)}),xt(U6,(Xe,_t)=>{sr.getContent(Xe).each(vt=>{Le.set(Le.get().concat([{bar:vt,focus:Qc(st(Xe.element))}]))}),Sn(Xe,N0,{contents:_t.event.forwardContents,focus:D.none()})}),xt(Lv,(Xe,_t)=>{Ct(Le.get()).each(vt=>{Le.set(Le.get().slice(0,Le.get().length-1)),Sn(Xe,N0,{contents:Ui(vt.bar),focus:vt.focus})})})]),An.config({mode:"special",onEscape:Xe=>Ct(Le.get()).fold(()=>_e.onEscape(),_t=>(go(Xe,Lv),D.some(!0)))})]),lazySink:()=>_o.value(_e.sink)})})({sink:c,onEscape:()=>(o.focus(),D.some(!0))})),M=()=>{const _e=O.get().getOr("node"),Le=Ep(_e)?1:0;return V6(o,v,_e,Le)},H=()=>!(o.removed||w()&&p.isContextMenuOpen()),q=()=>{if(H()){const _e=M(),Le=Ws(O.get(),"node")?((Xe,_t)=>_t.filter(vt=>on(vt)&&tl(vt)).map(rl).getOrThunk(()=>R4(Xe)))(o,k.get()):R4(o);return _e.height<=0||!H6(Le,_e,.01)}return!0},Y=()=>{k.clear(),E.clear(),O.clear(),sr.hide(L)},re=()=>{if(sr.isOpen(L)){const _e=L.element;os(_e,"display"),q()?Qn(_e,"display","none"):(E.set(0),sr.reposition(L))}},ce=_e=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[_e],behaviours:Ft([An.config({mode:"acyclic"}),uo("pop-dialog-wrap-events",[Zs(Le=>{o.shortcuts.add("ctrl+F9","focus statusbar",()=>An.focusIn(Le))}),Nu(Le=>{o.shortcuts.remove("ctrl+F9")})])])}),ve=$a(()=>wS(a,_e=>{const Le=ie([_e]);Sn(L,U6,{forwardContents:ce(Le)})})),ie=_e=>{const{buttons:Le}=o.ui.registry.getAll(),Xe={...Le,...ve().formNavigators},_t=i0(o)===Fu.scrolling?Fu.scrolling:Fu.default,vt=ys(bt(_e,gt=>gt.type==="contexttoolbar"?((Bt,an)=>yS(o,{buttons:Bt,toolbar:an.items,allowToolbarGroups:!1},d.backstage,D.some(["form:"])))(Xe,gt):((Bt,an)=>FF(Bt,an))(gt,v.providers)));return m4({type:_t,uid:mn("context-toolbar"),initGroups:vt,onEscape:D.none,cyclicKeying:!0,providers:v.providers})},ae=(_e,Le)=>{if(ye.cancel(),!H())return;const Xe=ie(_e),_t=_e[0].position,vt=((Bt,an)=>{const vn=Bt==="node"?v.anchors.node(an):v.anchors.cursor(),In=((qn,So,Vs,Qs)=>So==="line"?{bubble:jl(12,0,N4),layouts:{onLtr:()=>[B1],onRtl:()=>[M1]},overrides:R0}:{bubble:jl(0,12,N4,1/12),layouts:$6(qn,Vs,Qs,So),overrides:R0})(o,Bt,w(),{lastElement:k.get,isReposition:()=>Ws(E.get(),0),getMode:()=>Qa.getMode(c)});return ws(vn,In)})(_t,Le);O.set(_t),E.set(1);const gt=L.element;os(gt,"display"),(Bt=>Ws(Vt(Bt,k.get(),Zo),!0))(Le)||(br(gt,B4),Qa.reset(c,L)),sr.showWithinBounds(L,ce(Xe),{anchor:vt,transition:{classes:[B4],mode:"placement"}},()=>D.some(M())),Le.fold(k.clear,k.set),q()&&Qn(gt,"display","none")};let ge=!1;const ye=o3(()=>{!o.hasFocus()||o.removed||ge||($i(L.element,B4)?ye.throttle():((_e,Le)=>{const Xe=en(Le.getBody()),_t=gt=>Zo(gt,Xe),vt=en(Le.selection.getNode());return(gt=>!_t(gt)&&!wr(Xe,gt))(vt)?D.none():((gt,Bt,an)=>{const vn=xS(gt,Bt);if(vn.contextForms.length>0)return D.some({elem:gt,toolbars:[vn.contextForms[0]]});{const In=xS(gt,an);if(In.contextForms.length>0)return D.some({elem:gt,toolbars:[In.contextForms[0]]});if(vn.contextToolbars.length>0||In.contextToolbars.length>0){const qn=(So=>{if(So.length<=1)return So;{const Vs=Fn=>On(So,er=>er.position===Fn),Qs=Fn=>ho(So,er=>er.position===Fn),mo=Vs("selection"),zo=Vs("node");if(mo||zo){if(zo&&mo){const Fn=Qs("node"),er=bt(Qs("selection"),Ss=>({...Ss,position:"node"}));return Fn.concat(er)}return Qs(mo?"selection":"node")}return Qs("line")}})(vn.contextToolbars.concat(In.contextToolbars));return D.some({elem:gt,toolbars:qn})}return D.none()}})(vt,_e.inNodeScope,_e.inEditorScope).orThunk(()=>((gt,Bt,an)=>gt(Bt)?D.none():Sg(Bt,vn=>{if(qs(vn)){const{contextToolbars:In,contextForms:qn}=xS(vn,an.inNodeScope),So=qn.length>0?qn:(Vs=>{if(Vs.length<=1)return Vs;{const Qs=mo=>J(Vs,zo=>zo.position===mo);return Qs("selection").orThunk(()=>Qs("node")).orThunk(()=>Qs("line")).map(mo=>mo.position).fold(()=>[],mo=>ho(Vs,zo=>zo.position===mo))}})(In);return So.length>0?D.some({elem:vn,toolbars:So}):D.none()}return D.none()},gt))(_t,vt,_e))})(ve(),o).fold(Y,_e=>{ae(_e.toolbars,D.some(_e.elem))}))},17);o.on("init",()=>{o.on("remove",Y),o.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",re),o.on("click keyup focus SetContent",ye.throttle),o.on(F6,Y),o.on("contexttoolbar-show",_e=>{const Le=ve();un(Le.lookupTable,_e.toolbarKey).each(Xe=>{ae([Xe],Wo(_e.target!==o,_e.target)),sr.getContent(L).each(An.focusIn)})}),o.on("focusout",_e=>{DC.setEditorTimeout(o,()=>{Pr(c.element).isNone()&&Pr(L.element).isNone()&&Y()},0)}),o.on("SwitchMode",()=>{o.mode.isReadOnly()&&Y()}),o.on("ExecCommand",({command:_e})=>{_e.toLowerCase()==="toggleview"&&Y()}),o.on("AfterProgressState",_e=>{_e.state?Y():o.hasFocus()&&ye.throttle()}),o.on("dragstart",()=>{ge=!0}),o.on("dragend drop",()=>{ge=!1}),o.on("NodeChange",_e=>{Pr(L.element).fold(ye.throttle,he)})})},W6=(o,a)=>{const c=()=>{const d=a.getOptions(o),p=a.getCurrent(o).map(a.hash),v=us();return bt(d,w=>({type:"togglemenuitem",text:a.display(w),onSetup:k=>{const E=L=>{L&&(v.on(M=>M.setActive(!1)),v.set(k)),k.setActive(L)};E(Ws(p,a.hash(w)));const O=a.watcher(o,w,E);return()=>{v.clear(),O()}},onAction:()=>a.setCurrent(o,w)}))};o.ui.registry.addMenuButton(a.name,{tooltip:a.text,icon:a.icon,fetch:d=>d(c()),onSetup:a.onToolbarSetup}),o.ui.registry.addNestedMenuItem(a.name,{type:"nestedmenuitem",text:a.text,getSubmenuItems:c,onSetup:a.onMenuSetup})},VF=o=>{W6(o,(a=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:F5,hash:c=>((d,p)=>vS(d,["fixed","relative","empty"]).map(({value:v,unit:w})=>v+w))(c).getOr(c),display:Ae,watcher:(c,d,p)=>c.formatter.formatChanged("lineheight",p,!1,{value:d}).unbind,getCurrent:c=>D.from(c.queryCommandValue("LineHeight")),setCurrent:(c,d)=>c.execCommand("LineHeight",!1,d),onToolbarSetup:ya(a),onMenuSetup:ya(a)}))(o)),(a=>D.from(bE(a)).map(c=>({name:"language",text:"Language",icon:"language",getOptions:te(c),hash:d=>F(d.customCode)?d.code:`${d.code}/${d.customCode}`,display:d=>d.title,watcher:(d,p,v)=>{var w;return d.formatter.formatChanged("lang",v,!1,{value:p.code,customValue:(w=p.customCode)!==null&&w!==void 0?w:null}).unbind},getCurrent:d=>{const p=en(d.selection.getNode());return kg(p,v=>D.some(v).filter(qs).bind(w=>Io(w,"lang").map(k=>({code:k,customCode:Io(w,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(d,p)=>d.execCommand("Lang",!1,p),onToolbarSetup:d=>{const p=uc();return d.setActive(a.formatter.match("lang",{},void 0,!0)),p.set(a.formatter.formatChanged("lang",d.setActive,!0)),xv(p.clear,ya(a)(d))},onMenuSetup:ya(a)})))(o).each(a=>W6(o,a))},$F=o=>v0(o,"NodeChange",a=>{a.setEnabled(o.queryCommandState("outdent")&&o.selection.isEditable())}),q2=(o,a)=>c=>{c.setActive(a.get());const d=p=>{a.set(p.state),c.setActive(p.state)};return o.on("PastePlainTextToggle",d),xv(()=>o.off("PastePlainTextToggle",d),ya(o)(c))},M4=(o,a)=>()=>{o.execCommand("mceToggleFormat",!1,a)},P4=o=>{(a=>{(c=>{ih.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(d,p)=>{c.ui.registry.addToggleButton(d.name,{tooltip:d.text,icon:d.icon,onSetup:Df(c,d.name),onAction:M4(c,d.name),shortcut:d.shortcut})});for(let d=1;d<=6;d++){const p="h"+d,v=`Access+${d}`;c.ui.registry.addToggleButton(p,{text:p.toUpperCase(),tooltip:"Heading "+d,onSetup:Df(c,p),onAction:M4(c,p),shortcut:v})}})(a),(c=>{ih.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],d=>{c.ui.registry.addButton(d.name,{tooltip:d.text,icon:d.icon,onAction:Gl(c,d.action),shortcut:d.shortcut})}),ih.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],d=>{c.ui.registry.addButton(d.name,{tooltip:d.text,icon:d.icon,onSetup:ya(c),onAction:Gl(c,d.action)})})})(a),(c=>{ih.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],d=>{c.ui.registry.addToggleButton(d.name,{tooltip:d.text,icon:d.icon,onAction:Gl(c,d.action),onSetup:Df(c,d.name)})})})(a)})(o),(a=>{ih.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],c=>{a.ui.registry.addMenuItem(c.name,{text:c.text,icon:c.icon,shortcut:c.shortcut,onAction:Gl(a,c.action)})}),ih.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],c=>{a.ui.registry.addMenuItem(c.name,{text:c.text,icon:c.icon,shortcut:c.shortcut,onSetup:ya(a),onAction:Gl(a,c.action)})}),a.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:ya(a),onAction:M4(a,"code")})})(o)},CS=(o,a)=>v0(o,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",c=>{c.setEnabled(!o.mode.isReadOnly()&&o.undoManager[a]())}),UF=o=>v0(o,"VisualAid",a=>{a.setActive(o.hasVisual)}),WF=(o,a)=>{(c=>{Zt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],d=>{c.ui.registry.addToggleButton(d.name,{tooltip:d.text,icon:d.icon,onAction:Gl(c,d.cmd),onSetup:Df(c,d.name)})}),c.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:ya(c),onAction:Gl(c,"JustifyNone")})})(o),P4(o),((c,d)=>{((p,v)=>{const w=Pv(v,x4(p));p.ui.registry.addNestedMenuItem("align",{text:v.shared.providers.translate("Align"),onSetup:ya(p),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(c,d),((p,v)=>{const w=Pv(v,C6(p));p.ui.registry.addNestedMenuItem("fontfamily",{text:v.shared.providers.translate("Fonts"),onSetup:ya(p),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(c,d),((p,v)=>{const w={type:"advanced",...v.styles},k=Pv(v,O6(p,w));p.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:ya(p),getSubmenuItems:()=>k.items.validateItems(k.getStyleItems())})})(c,d),((p,v)=>{const w=Pv(v,_4(p));p.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:ya(p),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(c,d),((p,v)=>{const w=Pv(v,A6(p));p.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:ya(p),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(c,d)})(o,a),(c=>{(d=>{d.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:CS(d,"hasUndo"),onAction:Gl(d,"undo")}),d.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:CS(d,"hasRedo"),onAction:Gl(d,"redo")})})(c),(d=>{d.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:CS(d,"hasUndo"),onAction:Gl(d,"undo"),shortcut:"Meta+Z"}),d.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:CS(d,"hasRedo"),onAction:Gl(d,"redo"),shortcut:"Meta+Y"})})(c)})(o),(c=>{(k=>{k.addCommand("mceApplyTextcolor",(E,O)=>{((L,M,H)=>{L.undoManager.transact(()=>{L.focus(),L.formatter.apply(M,{value:H}),L.nodeChanged()})})(k,E,O)}),k.addCommand("mceRemoveTextcolor",E=>{((O,L)=>{O.undoManager.transact(()=>{O.focus(),O.formatter.remove(L,{value:null},void 0,!0),O.nodeChanged()})})(k,E)})})(c);const d=XD(c),p=JD(c),v=Dn(d),w=Dn(p);hA(c,"forecolor","forecolor",v),hA(c,"backcolor","hilitecolor",w),Cv(c,"forecolor","forecolor","Text color",v),Cv(c,"backcolor","hilitecolor","Background color",w)})(o),(c=>{(d=>{d.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Gl(d,"mceToggleVisualAid")})})(c),(d=>{d.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:UF(d),onAction:Gl(d,"mceToggleVisualAid")})})(c)})(o),(c=>{(d=>{d.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:$F(d),onAction:Gl(d,"outdent")}),d.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:ya(d),onAction:Gl(d,"indent")})})(c)})(o),VF(o),(c=>{const d=Dn(P5(c)),p=()=>c.execCommand("mceTogglePlainTextPaste");c.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:p,onSetup:q2(c,d)}),c.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:p,onSetup:q2(c,d)})})(o)},Z6=o=>h(o)?o.split(/[ ,]/):o,j6=o=>a=>a.options.get(o),K6=j6("contextmenu_never_use_native"),ZF=j6("contextmenu_avoid_overlap"),L4=o=>{const a=o.ui.registry.getAll().contextMenus,c=o.options.get("contextmenu");return o.options.isSet("contextmenu")?c:ho(c,d=>po(a,d))},G2=(o,a)=>({type:"makeshift",x:o,y:a}),q6=o=>o.type==="longpress"||o.type.indexOf("touch")===0,jF=(o,a)=>a.type==="contextmenu"||a.type==="longpress"?o.inline?(c=>{if(q6(c)){const d=c.touches[0];return G2(d.pageX,d.pageY)}return G2(c.pageX,c.pageY)})(a):((c,d)=>{const p=iv.DOM.getPos(c);return((v,w,k)=>G2(v.x+w,v.y+k))(d,p.x,p.y)})(o.getContentAreaContainer(),(c=>{if(q6(c)){const d=c.touches[0];return G2(d.clientX,d.clientY)}return G2(c.clientX,c.clientY)})(a)):G6(o),G6=o=>({type:"selection",root:en(o.selection.getNode())}),Y6=(o,a,c)=>{switch(c){case"node":return(d=>({type:"node",node:D.some(en(d.selection.getNode())),root:en(d.getBody())}))(o);case"point":return jF(o,a);case"selection":return G6(o)}},X6=(o,a,c,d,p,v)=>{const w=c(),k=Y6(o,a,v);E0(w,Of.CLOSE_ON_EXECUTE,d,{isHorizontalMenu:!1,search:D.none()}).map(E=>{a.preventDefault(),sr.showMenuAt(p,{anchor:k},{menu:{markers:d0("normal")},data:E})})},J6={onLtr:()=>[Mr,vr,yr,$r,Cs,dr,$o,jm,P2,_p,Xl,Yl],onRtl:()=>[Mr,yr,vr,Cs,$r,dr,$o,jm,Xl,Yl,P2,_p]},KF={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},qF=(o,a,c,d,p,v)=>{const w=Wa(),k=w.os.isiOS(),E=w.os.isMacOS(),O=w.os.isAndroid(),L=w.deviceType.isTouch(),M=()=>{const H=c();((q,Y,re,ce,ve,ie,ae)=>{const ge=((ye,_e,Le)=>{const Xe=Y6(ye,_e,Le);return{bubble:jl(0,Le==="point"?12:0,KF),layouts:J6,overrides:{maxWidthFunction:l4(),maxHeightFunction:Ug()},...Xe}})(q,Y,ie);E0(re,Of.CLOSE_ON_EXECUTE,ce,{isHorizontalMenu:!0,search:D.none()}).map(ye=>{Y.preventDefault();const _e=ae?Ki.HighlightMenuAndItem:Ki.HighlightNone;sr.showMenuWithinBounds(ve,{anchor:ge},{menu:{markers:d0("normal"),highlightOnOpen:_e},data:ye,type:"horizontal"},()=>D.some(V6(q,ce.shared,ie==="node"?"node":"selection"))),q.dispatch(F6)})})(o,a,H,d,p,v,!(O||k||E&&L))};if((E||k)&&v!=="node"){const H=()=>{(q=>{const Y=q.selection.getRng(),re=()=>{DC.setEditorTimeout(q,()=>{q.selection.setRng(Y)},10),ie()};q.once("touchend",re);const ce=ae=>{ae.preventDefault(),ae.stopImmediatePropagation()};q.on("mousedown",ce,!0);const ve=()=>ie();q.once("longpresscancel",ve);const ie=()=>{q.off("touchend",re),q.off("longpresscancel",ve),q.off("mousedown",ce)}})(o),M()};((q,Y)=>{const re=q.selection;if(re.isCollapsed()||Y.touches.length<1)return!1;{const ce=Y.touches[0],ve=re.getRng();return gx(q.getWin(),bf.domRange(ve)).exists(ie=>ie.left<=ce.clientX&&ie.right>=ce.clientX&&ie.top<=ce.clientY&&ie.bottom>=ce.clientY)}})(o,a)?H():(o.once("selectionchange",H),o.once("touchend",()=>o.off("selectionchange",H)))}else M()},Q6=o=>h(o)?o==="|":o.type==="separator",F4={type:"separator"},eI=o=>{const a=c=>({text:c.text,icon:c.icon,enabled:c.enabled,shortcut:c.shortcut});if(h(o))return o;switch(o.type){case"separator":return F4;case"submenu":return{type:"nestedmenuitem",...a(o),getSubmenuItems:()=>{const d=o.getSubmenuItems();return h(d)?d:bt(d,eI)}};default:const c=o;return{type:"menuitem",...a(c),onAction:Ue(c.onAction)}}},z4=(o,a)=>{if(a.length===0)return o;const c=Ct(o).filter(d=>!Q6(d)).fold(()=>[],d=>[F4]);return o.concat(c).concat(a).concat([F4])},I0=(o,a)=>!(c=>c.type==="longpress"||po(c,"touches"))(a)&&(a.button!==2||a.target===o.getBody()&&a.pointerType===""),tI=(o,a)=>I0(o,a)?o.selection.getStart(!0):a.target,GF=(o,a,c)=>{const d=Wa().deviceType.isTouch,p=Da(sr.sketch({dom:{tag:"div"},lazySink:a,onEscape:()=>o.focus(),onShow:()=>c.setContextMenuState(!0),onHide:()=>c.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Ft([uo("dismissContextMenu",[xt(Eg(),(k,E)=>{T.close(k),o.focus()})])])})),v=()=>sr.hide(p),w=k=>{if(K6(o)&&k.preventDefault(),((O,L)=>L.ctrlKey&&!K6(O))(o,k)||(O=>L4(O).length===0)(o))return;const E=((O,L)=>{const M=ZF(O),H=I0(O,L)?"selection":"point";if(el(M)){const q=tI(O,L);return Sv(en(q),M)?"node":H}return H})(o,k);(d()?qF:X6)(o,k,()=>{const O=tI(o,k),L=o.ui.registry.getAll(),M=L4(o);return((H,q,Y)=>{const re=Rn(q,(ce,ve)=>un(H,ve.toLowerCase()).map(ie=>{const ae=ie.update(Y);if(h(ae)&&el(ic(ae)))return z4(ce,ae.split(" "));if(B(ae)&&ae.length>0){const ge=bt(ae,eI);return z4(ce,ge)}return ce}).getOrThunk(()=>ce.concat([ve])),[]);return re.length>0&&Q6(re[re.length-1])&&re.pop(),re})(L.contextMenus,M,O)},c,p,E)};o.on("init",()=>{const k="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(d()?"":" ResizeWindow");o.on(k,v),o.on("longpress contextmenu",w)})},H4=Rl([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),B0=o=>a=>a.translate(-o.left,-o.top),Jl=o=>a=>a.translate(o.left,o.top),Nf=o=>(a,c)=>Rn(o,(d,p)=>p(d),Ls(a,c)),Y2=(o,a,c)=>o.fold(Nf([Jl(c),B0(a)]),Nf([B0(a)]),Nf([])),Fv=(o,a,c)=>o.fold(Nf([Jl(c)]),Nf([]),Nf([Jl(a)])),nI=(o,a,c)=>o.fold(Nf([]),Nf([B0(c)]),Nf([Jl(a),B0(c)])),oI=(o,a,c)=>{const d=o.fold((p,v)=>({position:D.some("absolute"),left:D.some(p+"px"),top:D.some(v+"px")}),(p,v)=>({position:D.some("absolute"),left:D.some(p-c.left+"px"),top:D.some(v-c.top+"px")}),(p,v)=>({position:D.some("fixed"),left:D.some(p+"px"),top:D.some(v+"px")}));return{right:D.none(),bottom:D.none(),...d}},V4=(o,a,c,d)=>{const p=(v,w)=>(k,E)=>{const O=v(a,c,d);return w(k.getOr(O.left),E.getOr(O.top))};return o.fold(p(nI,X2),p(Fv,uh),p(Y2,M0))},X2=H4.offset,uh=H4.absolute,M0=H4.fixed,sI=(o,a)=>{const c=wo(o,a);return F(c)?NaN:parseInt(c,10)},rI=(o,a,c,d,p,v)=>{const w=((O,L,M,H)=>((q,Y)=>{const re=q.element,ce=sI(re,Y.leftAttr),ve=sI(re,Y.topAttr);return isNaN(ce)||isNaN(ve)?D.none():D.some(Ls(ce,ve))})(O,L).fold(()=>M,q=>M0(q.left+H.left,q.top+H.top)))(o,a,c,d),k=a.mustSnap?iI(o,a,w,p,v):lI(o,a,w,p,v),E=Y2(w,p,v);return((O,L,M)=>{const H=O.element;Qt(H,L.leftAttr,M.left+"px"),Qt(H,L.topAttr,M.top+"px")})(o,a,E),k.fold(()=>({coord:M0(E.left,E.top),extra:D.none()}),O=>({coord:O.output,extra:O.extra}))},aI=(o,a,c,d)=>It(o,p=>{const v=p.sensor;return((k,E,O,L,M,H)=>{const q=Fv(k,M,H),Y=Fv(E,M,H);return Math.abs(q.left-Y.left)<=O&&Math.abs(q.top-Y.top)<=L})(a,v,p.range.left,p.range.top,c,d)?D.some({output:V4(p.output,a,c,d),extra:p.extra}):D.none()}),iI=(o,a,c,d,p)=>{const v=a.getSnapPoints(o);return aI(v,c,d,p).orThunk(()=>Rn(v,(k,E)=>{const O=E.sensor,L=((M,H,q,Y,re,ce)=>{const ve=Fv(M,re,ce),ie=Fv(H,re,ce),ae=Math.abs(ve.left-ie.left),ge=Math.abs(ve.top-ie.top);return Ls(ae,ge)})(c,O,E.range.left,E.range.top,d,p);return k.deltas.fold(()=>({deltas:D.some(L),snap:D.some(E)}),M=>(L.left+L.top)/2<=(M.left+M.top)/2?{deltas:D.some(L),snap:D.some(E)}:k)},{deltas:D.none(),snap:D.none()}).snap.map(k=>({output:V4(k.output,c,d,p),extra:k.extra})))},lI=(o,a,c,d,p)=>{const v=a.getSnapPoints(o);return aI(v,c,d,p)};var cI=Object.freeze({__proto__:null,snapTo:(o,a,c,d)=>{const p=a.getTarget(o.element);if(a.repositionTarget){const v=jr(o.element),w=Fs(v),k=lf(p),E=((L,M,H)=>({coord:V4(L.output,L.output,M,H),extra:L.extra}))(d,w,k),O=oI(E.coord,0,k);nl(p,O)}}});const $4="data-initial-z-index",uI=(o,a)=>{o.getSystem().addToGui(a),(c=>{ai(c.element).filter(qs).each(d=>{Tr(d,"z-index").each(p=>{Qt(d,$4,p)}),Qn(d,"z-index",ar(c.element,"z-index"))})})(a)},YF=o=>{(a=>{ai(a.element).filter(qs).each(c=>{Io(c,$4).fold(()=>os(c,"z-index"),d=>Qn(c,"z-index",d)),fo(c,$4)})})(o),o.getSystem().removeFromGui(o)},dI=(o,a,c)=>o.getSystem().build(Ad.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[a]},events:c}));var XF=hr("snaps",[At("getSnapPoints"),Fo("onSensor"),At("leftAttr"),At("topAttr"),et("lazyViewport",Ea),et("mustSnap",!1)]);const U4=[et("useFixed",Ce),At("blockerClass"),et("getTarget",Ae),et("onDrag",he),et("repositionTarget",!0),et("onDrop",he),zs("getBounds",Ea),XF],W4=o=>{return(a=Tr(o,"left"),c=Tr(o,"top"),d=Tr(o,"position"),a.isSome()&&c.isSome()&&d.isSome()?D.some(((p,v,w)=>(w==="fixed"?M0:X2)(parseInt(p,10),parseInt(v,10)))(a.getOrDie(),c.getOrDie(),d.getOrDie())):D.none()).getOrThunk(()=>{const p=wl(o);return uh(p.left,p.top)});var a,c,d},fI=(o,a)=>({bounds:o.getBounds(),height:lc(a.element),width:Fi(a.element)}),Z4=(o,a,c,d,p)=>{const v=c.update(d,p),w=c.getStartData().getOrThunk(()=>fI(a,o));v.each(k=>{((E,O,L,M)=>{const H=O.getTarget(E.element);if(O.repositionTarget){const q=jr(E.element),Y=Fs(q),re=lf(H),ce=W4(H),ve=((ae,ge,ye,_e,Le,Xe,_t)=>((vt,gt,Bt,an,vn)=>{const In=vn.bounds,qn=Fv(gt,Bt,an),So=yc(qn.left,In.x,In.x+In.width-vn.width),Vs=yc(qn.top,In.y,In.y+In.height-vn.height),Qs=uh(So,Vs);return gt.fold(()=>{const mo=nI(Qs,Bt,an);return X2(mo.left,mo.top)},te(Qs),()=>{const mo=Y2(Qs,Bt,an);return M0(mo.left,mo.top)})})(0,ge.fold(()=>{const vt=(gt=ye,Bt=Xe.left,an=Xe.top,gt.fold((In,qn)=>X2(In+Bt,qn+an),(In,qn)=>uh(In+Bt,qn+an),(In,qn)=>M0(In+Bt,qn+an)));var gt,Bt,an;const vn=Y2(vt,_e,Le);return M0(vn.left,vn.top)},vt=>{const gt=rI(ae,vt,ye,Xe,_e,Le);return gt.extra.each(Bt=>{vt.onSensor(ae,Bt)}),gt.coord}),_e,Le,_t))(E,O.snaps,ce,Y,re,M,L),ie=oI(ve,0,re);nl(H,ie)}O.onDrag(E,H,M)})(o,a,w,k)})},j4=(o,a,c,d)=>{a.each(YF),c.snaps.each(v=>{((w,k)=>{((E,O)=>{const L=E.element;fo(L,O.leftAttr),fo(L,O.topAttr)})(w,k)})(o,v)});const p=c.getTarget(o.element);d.reset(),c.onDrop(o,p)},K4=o=>(a,c)=>{const d=p=>{c.setStartData(fI(a,p))};return to([xt(db(),p=>{c.getStartData().each(()=>d(p))}),...o(a,c,d)])};var JF=Object.freeze({__proto__:null,getData:o=>D.from(Ls(o.x,o.y)),getDelta:(o,a)=>Ls(a.left-o.left,a.top-o.top)});const mI=(o,a,c)=>[xt(Tt(),(d,p)=>{if(p.event.raw.button!==0)return;p.stop();const v=()=>j4(d,D.some(E),o,a),w=SA(v,200),k={drop:v,delayDrop:w.schedule,forceDrop:v,move:O=>{w.cancel(),Z4(d,o,a,JF,O)}},E=dI(d,o.blockerClass,(O=>to([xt(Tt(),O.forceDrop),xt(Xn(),O.drop),xt(Ln(),(L,M)=>{O.move(M.event)}),xt(ro(),O.delayDrop)]))(k));c(d),uI(d,E)})],QF=[...U4,Is("dragger",{handlers:K4(mI)})];var gI=Object.freeze({__proto__:null,getData:o=>{const a=o.raw.touches;return a.length===1?(c=>{const d=c[0];return D.some(Ls(d.clientX,d.clientY))})(a):D.none()},getDelta:(o,a)=>Ls(a.left-o.left,a.top-o.top)});const hI=(o,a,c)=>{const d=us(),p=v=>{j4(v,d.get(),o,a),d.clear()};return[xt(Z(),(v,w)=>{w.stop();const k=()=>p(v),E={drop:k,delayDrop:he,forceDrop:k,move:L=>{Z4(v,o,a,gI,L)}},O=dI(v,o.blockerClass,(L=>to([xt(Z(),L.forceDrop),xt(Oe(),L.drop),xt(ze(),L.drop),xt(oe(),(M,H)=>{L.move(H.event)})]))(E));d.set(O),c(v),uI(v,O)}),xt(oe(),(v,w)=>{w.stop(),Z4(v,o,a,gI,w.event)}),xt(Oe(),(v,w)=>{w.stop(),p(v)}),xt(ze(),p)]},ez=QF,pI=[...U4,Is("dragger",{handlers:K4(hI)})],bI=[...U4,Is("dragger",{handlers:K4((o,a,c)=>[...mI(o,a,c),...hI(o,a,c)])})];var tz=Object.freeze({__proto__:null,mouse:ez,touch:pI,mouseOrTouch:bI}),nz=Object.freeze({__proto__:null,init:()=>{let o=D.none(),a=D.none();const c=te({});return pa({readState:c,reset:()=>{o=D.none(),a=D.none()},update:(d,p)=>d.getData(p).bind(v=>((w,k)=>{const E=o.map(O=>w.getDelta(O,k));return o=D.some(k),E})(d,v)),getStartData:()=>a,setStartData:d=>{a=D.some(d)}})}});const P0=qw({branchKey:"mode",branches:tz,name:"dragging",active:{events:(o,a)=>o.dragger.handlers(o,a)},extra:{snap:o=>({sensor:o.sensor,range:o.range,output:o.output,extra:D.from(o.extra)})},state:nz,apis:cI}),vI=(o,a,c,d,p,v)=>o.fold(()=>P0.snap({sensor:uh(c-20,d-20),range:Ls(p,v),output:uh(D.some(c),D.some(d)),extra:{td:a}}),w=>{const k=c-20,E=d-20,O=w.element.dom.getBoundingClientRect();return P0.snap({sensor:uh(k,E),range:Ls(40,40),output:uh(D.some(c-O.width/2),D.some(d-O.height/2)),extra:{td:a}})}),yI=(o,a,c)=>({getSnapPoints:o,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(d,p)=>{const v=p.td;((w,k)=>w.exists(E=>Zo(E,k)))(a.get(),v)||(a.set(v),c(v))},mustSnap:!0}),xI=o=>ss(Di.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Ft([P0.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:o}),C0.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),wI=(o,a)=>{const c=Dn([]),d=Dn([]),p=Dn(!1),v=us(),w=us(),k=ie=>{const ae=rl(ie);return vI(M.getOpt(a),ie,ae.x,ae.y,ae.width,ae.height)},E=ie=>{const ae=rl(ie);return vI(H.getOpt(a),ie,ae.right,ae.bottom,ae.width,ae.height)},O=yI(()=>bt(c.get(),ie=>k(ie)),v,ie=>{w.get().each(ae=>{o.dispatch("TableSelectorChange",{start:ie,finish:ae})})}),L=yI(()=>bt(d.get(),ie=>E(ie)),w,ie=>{v.get().each(ae=>{o.dispatch("TableSelectorChange",{start:ae,finish:ie})})}),M=xI(O),H=xI(L),q=Da(M.asSpec()),Y=Da(H.asSpec()),re=(ie,ae,ge,ye)=>{const _e=ge(ae);P0.snapTo(ie,_e),((Le,Xe,_t,vt)=>{const gt=Xe.dom.getBoundingClientRect();os(Le.element,"display");const Bt=Lc(en(o.getBody())).dom.innerHeight,an=gt[ye]<0,vn=((In,qn)=>In[ye]>qn)(gt,Bt);(an||vn)&&Qn(Le.element,"display","none")})(ie,ae)},ce=ie=>re(q,ie,k,"top"),ve=ie=>re(Y,ie,E,"bottom");if(Wa().deviceType.isTouch()){const ie=ae=>bt(ae,en);o.on("TableSelectionChange",ae=>{p.get()||(wf(a,q),wf(a,Y),p.set(!0));const ge=en(ae.start),ye=en(ae.finish);v.set(ge),w.set(ye),D.from(ae.otherCells).each(_e=>{c.set(ie(_e.upOrLeftCells)),d.set(ie(_e.downOrRightCells)),ce(ge),ve(ye)})}),o.on("ResizeEditor ResizeWindow ScrollContent",()=>{v.get().each(ce),w.get().each(ve)}),o.on("TableSelectionClear",()=>{p.get()&&(Zi(q),Zi(Y),p.set(!1)),v.clear(),w.clear()})}},CI=(o,a,c)=>{var d;const p=(d=a.delimiter)!==null&&d!==void 0?d:"";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Ft([An.config({mode:"flow",selector:"div[role=button]"}),Kn.config({disabled:c.isDisabled}),va(),Ns.config({}),zn.config({}),uo("elementPathEvents",[Zs((v,w)=>{o.shortcuts.add("alt+F11","focus statusbar elementpath",()=>An.focusIn(v)),o.on("NodeChange",k=>{const E=(L=>{const M=[];let H=L.length;for(;H-- >0;){const Y=L[H];if(Y.nodeType===1&&(q=Y).nodeName!=="BR"&&!q.getAttribute("data-mce-bogus")&&q.getAttribute("data-mce-type")!=="bookmark"){const re=jD(o,Y);if(re.isDefaultPrevented()||M.push({name:re.name,element:Y}),re.isPropagationStopped())break}}var q;return M})(k.parents),O=E.length>0?Rn(E,(L,M,H)=>{const q=((Y,re,ce)=>Di.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":ce}},components:[_r(Y)],action:ve=>{o.focus(),o.selection.select(re),o.nodeChanged()},buttonBehaviours:Ft([Wr.config({...c.tooltips.getConfig({tooltipText:c.translate(["Select the {0} element",re.nodeName.toLowerCase()]),onShow:(ve,ie)=>{((ae,ge)=>{const ye=D.from(wo(ae,"id")).getOrThunk(()=>{const _e=mn("aria");return Qt(ge,"id",_e),_e});Qt(ae,"aria-describedby",ye)})(ve.element,ie.element)},onHide:ve=>{var ie;ie=ve.element,fo(ie,"aria-describedby")}})}),mi(c.isDisabled),va()])}))(M.name,M.element,H);return H===0?L.concat([q]):L.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[_r(` ${p} `)]},q])},[]):[];zn.set(v,O)})})])]),components:[]}};var dh;(function(o){o[o.None=0]="None",o[o.Both=1]="Both",o[o.Vertical=2]="Vertical"})(dh||(dh={}));const _S=(o,a,c)=>{const d=en(o.getContainer()),p=((v,w,k,E,O)=>{const L={height:K2(E+w.top,lv(v),RC(v))};return k===dh.Both&&(L.width=K2(O+w.left,$x(v),cv(v))),L})(o,a,c,gr(d),ma(d));Cn(p,(v,w)=>{ee(v)&&Qn(d,w,kp(v))}),(v=>{v.dispatch("ResizeEditor")})(o)},SS=(o,a,c,d)=>{const p=Ls(20*c,20*d);return _S(o,p,a),D.some(!0)},_I=(o,a)=>{const c=()=>{const d=[],p=wE(o),v=M5(o),w=Ac(o)||o.hasPlugin("wordcount");return v&&d.push(CI(o,{},a)),p&&d.push((()=>{const k=i_("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[_r(zu.translate(["Press {0} for help",k]))]}})()),w&&d.push((()=>{const k=[];return o.hasPlugin("wordcount")&&k.push(((E,O)=>{const L=(M,H,q)=>zn.set(M,[_r(O.translate(["{0} "+q,H[q]]))]);return Di.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Ft([mi(O.isDisabled),va(),Ns.config({}),zn.config({}),ot.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),uo("wordcount-events",[Yc(M=>{const H=ot.getValue(M),q=H.mode==="words"?"characters":"words";ot.setValue(M,{mode:q,count:H.count}),L(M,H.count,q)}),Zs(M=>{E.on("wordCountUpdate",H=>{const{mode:q}=ot.getValue(M);ot.setValue(M,{mode:q,count:H.wordCount}),L(M,H.wordCount,q)})})])]),eventOrder:{[al()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(o,a)),Ac(o)&&k.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":o.translate(["Build with {0}","TinyMCE"])},innerHtml:o.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:Ft([Zn.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:k}})()),d.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const k="tox-statusbar__text-container--flex-start",E="tox-statusbar__text-container--flex-end";if(p){const O="tox-statusbar__text-container-3-cols";return w||v?w&&!v?[O,E]:[O,k]:[O,"tox-statusbar__text-container--space-around"]}return[w&&!v?E:k]})()]},components:d}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const d=c(),p=((v,w)=>{const k=(O=>{const L=ei(O);return L===!1?dh.None:L==="both"?dh.Both:dh.Vertical})(v);if(k===dh.None)return D.none();const E=k===dh.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return D.some(Tc("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":w.translate(E),"data-mce-name":"resize-handle"},behaviours:[P0.config({mode:"mouse",repositionTarget:!1,onDrag:(O,L,M)=>_S(v,M,k),blockerClass:"tox-blocker"}),An.config({mode:"special",onLeft:()=>SS(v,k,-1,0),onRight:()=>SS(v,k,1,0),onUp:()=>SS(v,k,0,-1),onDown:()=>SS(v,k,0,1)}),Ns.config({}),Zn.config({}),Wr.config(w.tooltips.getConfig({tooltipText:w.translate("Resize")}))]},w.icons))})(o,a);return d.concat(p.toArray())})()}},SI=(o,a)=>a.get().getOrDie(`UI for ${o} has not been rendered`),oz=(o,a)=>{const c=o.inline,d=c?LF:y$,p=Jg(o)?PL:ML,v=(()=>{const _e=us(),Le=us(),Xe=us();return{dialogUi:_e,popupUi:Le,mainUi:Xe,getUiMotherships:()=>{const _t=_e.get().map(gt=>gt.mothership),vt=Le.get().map(gt=>gt.mothership);return _t.fold(()=>vt.toArray(),gt=>vt.fold(()=>[gt],Bt=>Zo(gt.element,Bt.element)?[gt]:[gt,Bt]))},lazyGetInOuterOrDie:(_t,vt)=>()=>Xe.get().bind(gt=>vt(gt.outerContainer)).getOrDie(`Could not find ${_t} element in OuterContainer`)}})(),w=us(),k=us(),E=us(),O=Wa().deviceType.isTouch()?["tox-platform-touch"]:[],L=CE(o),M=i0(o),H=ss({dom:{tag:"div",classes:["tox-anchorbar"]}}),q=ss({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),Y=()=>v.mainUi.get().map(_e=>_e.outerContainer).bind(Hs.getHeader),re=v.lazyGetInOuterOrDie("anchor bar",H.getOpt),ce=v.lazyGetInOuterOrDie("bottom anchor bar",q.getOpt),ve=v.lazyGetInOuterOrDie("toolbar",Hs.getToolbar),ie=v.lazyGetInOuterOrDie("throbber",Hs.getThrobber),ae=((_e,Le,Xe,_t)=>{const vt=Dn(!1),gt=(zo=>{const Fn=Dn(CE(zo)?"bottom":"top");return{isPositionedAtTop:()=>Fn.get()==="top",getDockingMode:Fn.get,setDockingMode:Fn.set}})(Le),Bt={icons:()=>Le.ui.registry.getAll().icons,menuItems:()=>Le.ui.registry.getAll().menuItems,translate:zu.translate,isDisabled:()=>Le.mode.isReadOnly()||!Le.ui.isEnabled(),getOption:Le.options.get,tooltips:W3(_e.dialog)},an=UN(Le),vn=(zo=>{const Fn=Ia=>()=>zo.formatter.match(Ia),er=Ia=>()=>{const xa=zo.formatter.get(Ia);return xa!==void 0?D.some({tag:xa.length>0&&(xa[0].inline||xa[0].block)||"div",styles:zo.dom.parseStyle(zo.formatter.getCssText(Ia))}):D.none()},Ss=Dn([]),Ri=Dn([]),Ni=Dn(!1);return zo.on("PreInit",Ia=>{const xa=IN(zo),fh=U3(zo,xa,Fn,er);Ss.set(fh)}),zo.on("addStyleModifications",Ia=>{const xa=U3(zo,Ia.items,Fn,er);Ri.set(xa),Ni.set(Ia.replace)}),{getData:()=>{const Ia=Ni.get()?[]:Ss.get(),xa=Ri.get();return Ia.concat(xa)}}})(Le),In=(zo=>({colorPicker:wL(zo),hasCustomColors:CL(zo),getColors:_L(zo),getColorCols:SL(zo)}))(Le),qn=(zo=>({isDraggableModal:DN(zo)}))(Le),So={shared:{providers:Bt,anchors:xL(Le,Xe,_t,gt.isPositionedAtTop),header:gt},urlinput:an,styles:vn,colorinput:In,dialog:qn,isContextMenuOpen:()=>vt.get(),setContextMenuState:zo=>vt.set(zo)},Vs=zo=>D.none(),Qs={...So,shared:{...So.shared,interpreter:zo=>kN(zo,{},Qs,Vs),getSink:_e.popup}},mo={...So,shared:{...So.shared,interpreter:zo=>kN(zo,{},mo,Vs),getSink:_e.dialog}};return{popup:Qs,dialog:mo}})({popup:()=>_o.fromOption(v.popupUi.get().map(_e=>_e.sink),"(popup) UI has not been rendered"),dialog:()=>_o.fromOption(v.dialogUi.get().map(_e=>_e.sink),"UI has not been rendered")},o,re,ce),ge=()=>{const _e=(()=>{const So={attributes:{[ul]:L?Sc.BottomToTop:Sc.TopToBottom}},Vs=Hs.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:ae.popup,onEscape:()=>{o.focus()}}),Qs=Hs.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:ae.popup.shared.getSink,providers:ae.popup.shared.providers,onEscape:()=>{o.focus()},onToolbarToggled:xa=>{((fh,Uv)=>{fh.dispatch("ToggleToolbarDrawer",{state:Uv})})(o,xa)},type:M,lazyToolbar:ve,lazyHeader:()=>Y().getOrDie("Could not find header element"),...So}),mo=Hs.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:ae.popup.shared.providers,onEscape:()=>{o.focus()},type:M}),zo=Kx(o),Fn=jx(o),er=Zx(o),Ss=L5(o),Ri=Hs.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Ni=zo||Fn||er,Ia=Ss?[Ri,Vs]:[Vs];return Hs.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Ni?[]:["tox-editor-header--empty"]),...So},components:ys([er?Ia:[],zo?[mo]:Fn?[Qs]:[],l0(o)?[]:[H.asSpec()]]),sticky:Jg(o),editor:o,sharedBackstage:ae.popup.shared})})(),Le={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Hs.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Hs.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},Xe=Hs.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:ae.popup}),_t=Hs.parts.viewWrapper({backstage:ae.popup}),vt=B5(o)&&!c?D.some(_I(o,ae.popup.shared.providers)):D.none(),gt=ys([L?[]:[_e],c?[]:[Le],L?[_e]:[]]),Bt=Hs.parts.editorContainer({components:ys([gt,c?[]:[q.asSpec()]])}),an=$C(o),vn={role:"application",...zu.isRtl()?{dir:"rtl"}:{},...an?{"aria-hidden":"true"}:{}},In=Da(Hs.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(c?["tox-tinymce-inline"]:[]).concat(L?["tox-tinymce--toolbar-bottom"]:[]).concat(O),styles:{visibility:"hidden",...an?{opacity:"0",border:"0"}:{}},attributes:vn},components:[Bt,...c?[]:[_t,...vt.toArray()],Xe],behaviours:Ft([va(),Kn.config({disableClass:"tox-tinymce--disabled"}),An.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),qn=y_(In);return w.set(qn),{mothership:qn,outerContainer:In}},ye=_e=>{const Le=kp((_t=>(gt=>{const Bt=Hx(gt),an=lv(gt),vn=RC(gt);return j2(Bt).map(In=>K2(In,an,vn))})(_t).getOr(Hx(_t)))(o)),Xe=kp((_t=>O4(_t).getOr(Vx(_t)))(o));return o.inline||(xl("div","width",Xe)&&Qn(_e.element,"width",Xe),xl("div","height",Le)?Qn(_e.element,"height",Le):Qn(_e.element,"height","400px")),Le};return{popups:{backstage:ae.popup,getMothership:()=>SI("popups",E)},dialogs:{backstage:ae.dialog,getMothership:()=>SI("dialogs",k)},renderUI:()=>{const _e=ge(),Le=(()=>{const _t=VC(o),vt=Zo(fn(),_t)&&ar(_t,"display")==="grid",gt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(O),attributes:{...zu.isRtl()?{dir:"rtl"}:{}}},behaviours:Ft([Qa.config({useFixed:()=>p.isDocked(Y)})])},Bt={dom:{styles:{width:document.body.clientWidth+"px"}},events:to([xt(nf(),In=>{Qn(In.element,"width",document.body.clientWidth+"px")})])},an=Da(ws(gt,vt?Bt:{})),vn=y_(an);return k.set(vn),{sink:an,mothership:vn}})(),Xe=Qg(o)?(()=>{const _t={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(O),attributes:{...zu.isRtl()?{dir:"rtl"}:{}}},behaviours:Ft([Qa.config({useFixed:()=>p.isDocked(Y),getBounds:()=>a.getPopupSinkBounds()})])},vt=Da(_t),gt=y_(vt);return E.set(gt),{sink:vt,mothership:gt}})():(_t=>(E.set(_t.mothership),_t))(Le);return v.dialogUi.set(Le),v.popupUi.set(Xe),v.mainUi.set(_e),(_t=>{const{mainUi:vt,popupUi:gt,uiMotherships:Bt}=_t;En(IC(o),(Fn,er)=>{o.ui.registry.addGroupToolbarButton(er,Fn)});const{buttons:an,menuItems:vn,contextToolbars:In,sidebars:qn,views:So}=o.ui.registry.getAll(),Vs=HC(o),Qs={menuItems:vn,menus:np(o),menubar:Xg(o),toolbar:Vs.getOrThunk(()=>dv(o)),allowToolbarGroups:M===Fu.floating,buttons:an,sidebar:qn,views:So};var mo;mo=vt.outerContainer,o.addShortcut("alt+F9","focus menubar",()=>{Hs.focusMenubar(mo)}),o.addShortcut("alt+F10","focus toolbar",()=>{Hs.focusToolbar(mo)}),o.addCommand("ToggleToolbarDrawer",(Fn,er)=>{er!=null&&er.skipFocus?Hs.toggleToolbarDrawerWithoutFocusing(mo):Hs.toggleToolbarDrawer(mo)}),o.addQueryStateHandler("ToggleToolbarDrawer",()=>Hs.isToolbarDrawerToggled(mo)),((Fn,er,Ss)=>{const Ri=(Xo,Qm)=>{Zt([er,...Ss],Id=>{Id.broadcastEvent(Xo,Qm)})},Ni=(Xo,Qm)=>{Zt([er,...Ss],Id=>{Id.broadcastOn([Xo],Qm)})},Ia=Xo=>Ni(P(),{target:Xo.target}),xa=wi(),fh=Ti(xa,"touchstart",Ia),Uv=Ti(xa,"touchmove",Xo=>Ri(yn(),Xo)),Ap=Ti(xa,"touchend",Xo=>Ri(qc(),Xo)),mh=Ti(xa,"mousedown",Ia),lw=Ti(xa,"mouseup",Xo=>{Xo.raw.button===0&&Ni(U(),{target:Xo.target})}),Tp=Xo=>Ni(P(),{target:en(Xo.target)}),Xm=Xo=>{Xo.button===0&&Ni(U(),{target:en(Xo.target)})},F0=()=>{Zt(Fn.editorManager.get(),Xo=>{Fn!==Xo&&Xo.dispatch("DismissPopups",{relatedTarget:Fn})})},z0=Xo=>Ri(db(),yd(Xo)),Wv=Xo=>{Ni(V(),{}),Ri(nf(),yd(Xo))},IS=st(en(Fn.getElement())),cw=ux(IS,"scroll",Xo=>{requestAnimationFrame(()=>{if(Fn.getContainer()!=null){const Qm=op(Fn,er.element).map(Id=>[Id.element,...Id.others]).getOr([]);On(Qm,Id=>Zo(Id,Xo.target))&&(Fn.dispatch("ElementScroll",{target:Xo.target.dom}),Ri(Rh(),Xo))}})}),Op=()=>Ni(V(),{}),Jm=Xo=>{Xo.state&&Ni(P(),{target:en(Fn.getContainer())})},gh=Xo=>{Ni(P(),{target:en(Xo.relatedTarget.getContainer())})},uw=Xo=>Fn.dispatch("focusin",Xo),dw=Xo=>Fn.dispatch("focusout",Xo);Fn.on("PostRender",()=>{Fn.on("click",Tp),Fn.on("tap",Tp),Fn.on("mouseup",Xm),Fn.on("mousedown",F0),Fn.on("ScrollWindow",z0),Fn.on("ResizeWindow",Wv),Fn.on("ResizeEditor",Op),Fn.on("AfterProgressState",Jm),Fn.on("DismissPopups",gh),Zt([er,...Ss],Xo=>{Xo.element.dom.addEventListener("focusin",uw),Xo.element.dom.addEventListener("focusout",dw)})}),Fn.on("remove",()=>{Fn.off("click",Tp),Fn.off("tap",Tp),Fn.off("mouseup",Xm),Fn.off("mousedown",F0),Fn.off("ScrollWindow",z0),Fn.off("ResizeWindow",Wv),Fn.off("ResizeEditor",Op),Fn.off("AfterProgressState",Jm),Fn.off("DismissPopups",gh),Zt([er,...Ss],Xo=>{Xo.element.dom.removeEventListener("focusin",uw),Xo.element.dom.removeEventListener("focusout",dw)}),mh.unbind(),fh.unbind(),Uv.unbind(),Ap.unbind(),lw.unbind(),cw.unbind()}),Fn.on("detach",()=>{Zt([er,...Ss],Nk),Zt([er,...Ss],Xo=>Xo.destroy())})})(o,vt.mothership,Bt),p.setup(o,ae.popup.shared,Y),WF(o,ae.popup),GF(o,ae.popup.shared.getSink,ae.popup),(Fn=>{const{sidebars:er}=Fn.ui.registry.getAll();Zt(sn(er),Ss=>{const Ri=er[Ss],Ni=()=>Ws(D.from(Fn.queryCommandValue("ToggleSidebar")),Ss);Fn.ui.registry.addToggleButton(Ss,{icon:Ri.icon,tooltip:Ri.tooltip,onAction:Ia=>{Fn.execCommand("ToggleSidebar",!1,Ss),Ia.setActive(Ni())},onSetup:Ia=>{Ia.setActive(Ni());const xa=()=>Ia.setActive(Ni());return Fn.on("ToggleSidebar",xa),()=>{Fn.off("ToggleSidebar",xa)}}})})})(o),QN(o,ie,ae.popup.shared),HF(o,In,gt.sink,{backstage:ae.popup}),wI(o,gt.sink);const zo={targetNode:o.getElement(),height:ye(vt.outerContainer)};return d.render(o,_t,Qs,ae.popup,zo)})({popupUi:Xe,dialogUi:Le,mainUi:_e,uiMotherships:v.getUiMotherships()})}}},sz=te([At("lazySink"),Bo("dragBlockClass"),zs("getBounds",Ea),et("useTabstopAt",Ne),et("firstTabstop",0),et("eventOrder",{}),gn("modalBehaviours",[An]),il("onExecute"),ui("onEscape")]),q4={sketch:Ae},G4=te([ou({name:"draghandle",overrides:(o,a)=>({behaviours:Ft([P0.config({mode:"mouse",getTarget:c=>xm(c,'[role="dialog"]').getOr(c),blockerClass:o.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(a,null,2)).message),getBounds:o.getDragBounds})])})}),dl({schema:[At("dom")],name:"title"}),dl({factory:q4,schema:[At("dom")],name:"close"}),dl({factory:q4,schema:[At("dom")],name:"body"}),ou({factory:q4,schema:[At("dom")],name:"footer"}),_d({factory:{sketch:(o,a)=>({...o,dom:a.dom,components:a.components})},schema:[et("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),et("components",[])],name:"blocker"})]),xr=Sl({name:"ModalDialog",configFields:sz(),partFields:G4(),factory:(o,a,c,d)=>{const p=us(),v=mn("modal-events"),w={...o.eventOrder,[Ga()]:[v].concat(o.eventOrder["alloy.system.attached"]||[])},k=Wa();return{uid:o.uid,dom:o.dom,components:a,apis:{show:E=>{p.set(E);const O=o.lazySink(E).getOrDie(),L=d.blocker(),M=O.getSystem().build({...L,components:L.components.concat([Ui(E)]),behaviours:Ft([Zn.config({}),uo("dialog-blocker-events",[af(es(),()=>{Gu.isBlocked(E)||An.focusIn(E)})])])});wf(O,M),An.focusIn(E)},hide:E=>{p.clear(),ai(E.element).each(O=>{E.getSystem().getByDom(O).each(L=>{Zi(L)})})},getBody:E=>Gg(E,o,"body"),getFooter:E=>Ms(E,o,"footer"),setIdle:E=>{Gu.unblock(E)},setBusy:(E,O)=>{Gu.block(E,O)}},eventOrder:w,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:co(o.modalBehaviours,[zn.config({}),An.config({mode:"cyclic",onEnter:o.onExecute,onEscape:o.onEscape,useTabstopAt:o.useTabstopAt,firstTabstop:o.firstTabstop}),Gu.config({getRoot:p.get}),uo(v,[Zs(E=>{const O=Gg(E,o,"title").element,L=(M=>M.dom.textContent)(O);k.os.isMacOS()&&$(L)?Qt(E.element,"aria-label",L):((M,H)=>{const q=Io(M,"id").fold(()=>{const Y=mn("dialog-label");return Qt(H,"id",Y),Y},Ae);Qt(M,"aria-labelledby",q)})(E.element,O)})])])}},apis:{show:(o,a)=>{o.show(a)},hide:(o,a)=>{o.hide(a)},getBody:(o,a)=>o.getBody(a),getFooter:(o,a)=>o.getFooter(a),setBusy:(o,a,c)=>{o.setBusy(a,c)},setIdle:(o,a)=>{o.setIdle(a)}}}),rz=Pn([oa,FE].concat(g0)),J2=$l,Y4=[ZE("button"),Vu,fc("align","end",["start","end"]),t_,$u,_g("buttonType",["primary","secondary"])],kS=[...Y4,Hu],X4=[Ou("type",["submit","cancel","custom"]),...kS],az=[Ou("type",["menu"]),cp,d2,Vu,Vi("items",rz),...Y4],iz=[...Y4,Ou("type",["togglebutton"]),d2,Vu,cp,Vr("active",!1)],kI=ea("type",{submit:X4,cancel:X4,custom:X4,menu:az,togglebutton:iz}),lz=[oa,Hu,Ou("level",["info","warn","error","success"]),VE,et("url","")],J4=Pn(lz),Q4=[oa,Hu,$u,ZE("button"),Vu,v$,_g("buttonType",["primary","secondary","toolbar"]),t_],eT=Pn(Q4),zv=[oa,FE],Na=zv.concat([$E]),cz=zv.concat([zE,$u]),uz=Pn(cz),EI=$l,AI=Na.concat([yD("auto")]),dz=Pn(AI),fz=Eu([f0,Hu,VE]),mz=Na.concat([Dl("storageKey","default")]),gz=Pn(mz),hz=ia,pz=Pn(Na),bz=ia,TI=zv.concat([Dl("tag","textarea"),lr("scriptId"),lr("scriptUrl"),jc("onFocus"),ki("settings",void 0,d1)]),vz=zv.concat([Dl("tag","textarea"),Si("init")]),yz=Jd(o=>ir("customeditor.old",aa(vz),o).orThunk(()=>ir("customeditor.new",aa(TI),o))),xz=ia,OI=Pn(Na),tT=ku(Su),DI=o=>[oa,Oh("columns"),o],RI=[oa,lr("html"),fc("presets","presentation",["presentation","document"]),zs("onInit",he),Vr("stretched",!1)],NI=Pn(RI),II=Na.concat([Vr("border",!1),Vr("sandboxed",!0),Vr("streamContent",!1),Vr("transparent",!0)]),nT=Pn(II),wz=ia,oT=Pn(zv.concat([Cr("height")])),Hv=Pn([lr("url"),Qd("zoom"),Qd("cachedWidth"),Qd("cachedHeight")]),BI=Na.concat([Cr("inputMode"),Cr("placeholder"),Vr("maximized",!1),$u]),MI=Pn(BI),PI=ia,Cz=o=>[oa,zE,o,fc("align","start",["start","center","end"]),Cr("for")],_z=[Hu,f0],ES=[Hu,Vi("items",Th(0,()=>LI))],LI=am([Pn(_z),Pn(ES)]),Sz=Na.concat([Vi("items",LI),$u]),FI=Pn(Sz),zI=ia,sT=Na.concat([lm("items",[Hu,f0]),Rr("size",1),$u]),HI=Pn(sT),Ml=ia,VI=Na.concat([Vr("constrain",!0),$u]),kz=Pn(VI),$I=Pn([lr("width"),lr("height")]),UI=zv.concat([zE,Rr("min",0),Rr("max",0)]),Ez=Pn(UI),Az=ud,Tz=[oa,Vi("header",ia),Vi("cells",ku(ia))],WI=Pn(Tz),Ym=Na.concat([Cr("placeholder"),Vr("maximized",!1),$u]),rT=Pn(Ym),ZI=ia,Q2=[Ou("type",["directory","leaf"]),HE,lr("id"),Dr("menu",GN)],AS=Pn(Q2),Oz=Q2.concat([Vi("children",Th(0,()=>Tu("type",{directory:jI,leaf:AS})))]),jI=Pn(Oz),Dz=Tu("type",{directory:jI,leaf:AS}),Rz=[oa,Vi("items",Dz),jc("onLeafAction"),jc("onToggleExpand"),hs("defaultExpandedIds",[],ia),Cr("defaultSelectedId")],Nz=Pn(Rz),Iz=Na.concat([fc("filetype","file",["image","media","file"]),$u,Cr("picker_text")]),Bz=Pn(Iz),KI=Pn([f0,Oc]),aT=o=>qr("items","items",{tag:"required",process:{}},ku(Jd(a=>ir(`Checking item of ${o}`,Nd,a).fold(c=>_o.error(Hi(c)),c=>_o.value(c))))),Nd=rm(()=>{return Tu("type",{alertbanner:J4,bar:Pn((o=aT("bar"),[oa,o])),button:eT,checkbox:uz,colorinput:gz,colorpicker:pz,dropzone:OI,grid:Pn(DI(aT("grid"))),iframe:nT,input:MI,listbox:FI,selectbox:HI,sizeinput:kz,slider:Ez,textarea:rT,urlinput:Bz,customeditor:yz,htmlpanel:NI,imagepreview:oT,collection:dz,label:Pn(Cz(aT("label"))),table:WI,tree:Nz,panel:qI});var o}),TS=[oa,et("classes",[]),Vi("items",Nd)],qI=Pn(TS),Mz=[ZE("tab"),HE,Vi("items",Nd)],GI=[oa,lm("tabs",Mz)],YI=Pn(GI),iT=kS,OS=kI,ew=Pn([lr("title"),Ta("body",Tu("type",{panel:qI,tabpanel:YI})),Dl("size","normal"),hs("buttons",[],OS),et("initialData",{}),zs("onAction",he),zs("onChange",he),zs("onSubmit",he),zs("onClose",he),zs("onCancel",he),zs("onTabChange",he)]),tw=Pn([Ou("type",["cancel","custom"]),...iT]),XI=Pn([lr("title"),lr("url"),Qd("height"),Qd("width"),f1("buttons",tw),zs("onAction",he),zs("onCancel",he),zs("onClose",he),zs("onMessage",he)]),DS=o=>x(o)?[o].concat(qo(yi(o),DS)):B(o)?qo(o,DS):[],JI=o=>h(o.type)&&h(o.name),QI={checkbox:EI,colorinput:hz,colorpicker:bz,dropzone:tT,input:PI,iframe:wz,imagepreview:Hv,selectbox:Ml,sizeinput:$I,slider:Az,listbox:zI,size:$I,textarea:ZI,urlinput:KI,customeditor:xz,collection:fz,togglemenuitem:J2},Pz=o=>{const a=(d=>ho(DS(d),JI))(o),c=qo(a,d=>(p=>D.from(QI[p.type]))(d).fold(()=>[],p=>[Ta(d.name,p)]));return Pn(c)},eB=o=>{var a;return{internalDialog:_i(ir("dialog",ew,o)),dataValidator:Pz(o),initialData:(a=o.initialData)!==null&&a!==void 0?a:{}}},L0={open:(o,a)=>{const c=eB(a);return o(c.internalDialog,c.initialData,c.dataValidator)},openUrl:(o,a)=>o(_i(ir("dialog",XI,a))),redial:o=>eB(o)};var Lz=Object.freeze({__proto__:null,events:(o,a)=>{const c=(d,p)=>{o.updateState.each(v=>{const w=v(d,p);a.set(w)}),o.renderComponents.each(v=>{const w=v(p,a.get());(o.reuseDom?cE:o0)(d,w)})};return to([xt(Ul(),(d,p)=>{const v=p;if(!v.universal){const w=o.channel;Qe(v.channels,w)&&c(d,v.data)}}),Zs((d,p)=>{o.initialData.each(v=>{c(d,v)})})])}}),Fz=Object.freeze({__proto__:null,getState:(o,a,c)=>c}),tB=[At("channel"),Bo("renderComponents"),Bo("updateState"),Bo("initialData"),Vr("reuseDom",!0)];const Ql=ba({fields:tB,name:"reflecting",active:Lz,apis:Fz,state:Object.freeze({__proto__:null,init:()=>{const o=Dn(D.none());return{readState:()=>o.get().getOr("none"),get:o.get,set:o.set,clear:()=>o.set(D.none())}}})}),nB=o=>{const a=[],c={};return Cn(o,(d,p)=>{d.fold(()=>{a.push(p)},v=>{c[p]=v})}),a.length>0?_o.error(a):_o.value(c)},oB=(o,a,c,d)=>{const p=ss(bp.sketch(w=>({dom:{tag:"div",classes:["tox-form"].concat(o.classes)},components:bt(o.items,k=>nS(w,k,a,c,d))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[p.asSpec()]}],behaviours:Ft([An.config({mode:"acyclic",useTabstopAt:$e(Av)}),(v=p,Vo.config({find:v.getOpt})),e3(p,{postprocess:w=>nB(w).fold(k=>(console.error(k),{}),Ae)}),uo("dialog-body-panel",[xt(es(),(w,k)=>{w.getSystem().broadcastOn([Z_],{newFocus:D.some(k.event.target)})})])])};var v},zz=su({name:"TabButton",configFields:[et("uid",void 0),At("value"),qr("dom","dom",Lo(()=>({attributes:{role:"tab",id:mn("aria"),"aria-selected":"false"}})),_l()),Bo("action"),et("domModification",{}),gn("tabButtonBehaviours",[Zn,An,ot]),At("view")],factory:(o,a)=>({uid:o.uid,dom:o.dom,components:o.components,events:av(o.action),behaviours:co(o.tabButtonBehaviours,[Zn.config({}),An.config({mode:"execution",useSpace:!0,useEnter:!0}),ot.config({store:{mode:"memory",initialValue:o.value}})]),domModification:o.domModification})}),sB=te([At("tabs"),At("dom"),et("clickToDismiss",!1),gn("tabbarBehaviours",[is,An]),Ig(["tabClass","selectedClass"])]),nw=hC({factory:zz,name:"tabs",unit:"tab",overrides:o=>{const a=(d,p)=>{is.dehighlight(d,p),Sn(d,Mt(),{tabbar:d,button:p})},c=(d,p)=>{is.highlight(d,p),Sn(d,Nh(),{tabbar:d,button:p})};return{action:d=>{const p=d.getSystem().getByUid(o.uid).getOrDie(),v=is.isHighlighted(p,d);(v&&o.clickToDismiss?a:v?he:c)(p,d)},domModification:{classes:[o.markers.tabClass]}}}}),Hz=te([nw]),lT=Sl({name:"Tabbar",configFields:sB(),partFields:Hz(),factory:(o,a,c,d)=>({uid:o.uid,dom:o.dom,components:a,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:co(o.tabbarBehaviours,[is.config({highlightClass:o.markers.selectedClass,itemClass:o.markers.tabClass,onHighlight:(p,v)=>{Qt(v.element,"aria-selected","true")},onDehighlight:(p,v)=>{Qt(v.element,"aria-selected","false")}}),An.config({mode:"flow",getInitial:p=>is.getHighlighted(p).map(v=>v.element),selector:"."+o.markers.tabClass,executeOnMove:!0})])})}),Vz=su({name:"Tabview",configFields:[gn("tabviewBehaviours",[zn])],factory:(o,a)=>({uid:o.uid,dom:o.dom,behaviours:co(o.tabviewBehaviours,[zn.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),$z=te([et("selectFirst",!0),Fo("onChangeTab"),Fo("onDismissTab"),et("tabs",[]),gn("tabSectionBehaviours",[])]),Uz=dl({factory:lT,schema:[At("dom"),dc("markers",[At("tabClass"),At("selectedClass")])],name:"tabbar",defaults:o=>({tabs:o.tabs})}),Wz=dl({factory:Vz,name:"tabview"}),rB=te([Uz,Wz]),Vv=Sl({name:"TabSection",configFields:$z(),partFields:rB(),factory:(o,a,c,d)=>{const p=(v,w)=>{Ms(v,o,"tabbar").each(k=>{w(k).each(rf)})};return{uid:o.uid,dom:o.dom,components:a,behaviours:Vn(o.tabSectionBehaviours),events:to(ys([o.selectFirst?[Zs((v,w)=>{p(v,is.getFirst)})]:[],[xt(Nh(),(v,w)=>{(k=>{const E=ot.getValue(k);Ms(k,o,"tabview").each(O=>{J(o.tabs,L=>L.value===E).each(L=>{const M=L.view();Io(k.element,"id").each(H=>{Qt(O.element,"aria-labelledby",H)}),zn.set(O,M),o.onChangeTab(O,k,M)})})})(w.event.button)}),xt(Mt(),(v,w)=>{const k=w.event.button;o.onDismissTab(v,k)})]])),apis:{getViewItems:v=>Ms(v,o,"tabview").map(w=>zn.contents(w)).getOr([]),showTab:(v,w)=>{p(v,k=>{const E=is.getCandidates(k);return J(E,O=>ot.getValue(O)===w).filter(O=>!is.isHighlighted(k,O))})}}}},apis:{getViewItems:(o,a)=>o.getViewItems(a),showTab:(o,a,c)=>{o.showTab(a,c)}}}),cT=(o,a)=>{Qn(o,"height",a+"px"),Qn(o,"flex-basis",a+"px")},$v=(o,a,c)=>{xm(o,'[role="dialog"]').each(d=>{Js(d,'[role="tablist"]').each(p=>{c.get().map(v=>(Qn(a,"height","0"),Qn(a,"flex-basis","0"),Math.min(v,((w,k,E)=>{const O=Pi(w).dom,L=xm(w,".tox-dialog-wrap").getOr(w);let M;M=ar(L,"position")==="fixed"?Math.max(O.clientHeight,window.innerHeight):Math.max(O.offsetHeight,O.scrollHeight);const H=gr(k),q=k.dom.offsetLeft>=E.dom.offsetLeft+ma(E)?Math.max(gr(E),H):H,Y=parseInt(ar(w,"margin-top"),10)||0,re=parseInt(ar(w,"margin-bottom"),10)||0;return M-(gr(w)+Y+re-q)})(d,a,p)))).each(v=>{cT(a,v)})})})},If=o=>Js(o,'[role="tabpanel"]'),RS="send-data-to-section",uT="send-data-to-view",aB=(o,a,c,d)=>{const p=Dn({}),v=L=>{const M=ot.getValue(L),H=nB(M).getOr({}),q=p.get(),Y=ws(q,H);p.set(Y)},w=L=>{const M=p.get();ot.setValue(L,M)},k=Dn(null),E=bt(o.tabs,L=>({value:L.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[_r(c.shared.providers.translate(L.title))],view:()=>[bp.sketch(M=>({dom:{tag:"div",classes:["tox-form"]},components:bt(L.items,H=>nS(M,H,a,c,d)),formBehaviours:Ft([An.config({mode:"acyclic",useTabstopAt:$e(Av)}),uo("TabView.form.events",[Zs(w),Nu(v)]),cl.config({channels:dd([{key:RS,value:{onReceive:v}},{key:uT,value:{onReceive:w}}])})])}))]})),O=(L=>{const M=us();return{extraEvents:[Zs(q=>{const Y=q.element;If(Y).each(re=>{Qn(re,"visibility","hidden"),q.getSystem().getByDom(re).toOptional().each(ce=>{const ve=((ae,ge,ye)=>bt(ae,(_e,Le)=>{zn.set(ye,ae[Le].view());const Xe=ge.dom.getBoundingClientRect();return zn.set(ye,[]),Xe.height}))(L,re,ce);(ae=>$t(pe(ae,(ge,ye)=>ge>ye?-1:ge<ye?1:0)))(ve).fold(M.clear,M.set)}),$v(Y,re,M),os(re,"visibility"),((ce,ve)=>{$t(ce).each(ie=>Vv.showTab(ve,ie.value))})(L,q),requestAnimationFrame(()=>{$v(Y,re,M)})})}),xt(nf(),q=>{const Y=q.element;If(Y).each(re=>{$v(Y,re,M)})}),xt(w_,(q,Y)=>{const re=q.element;If(re).each(ce=>{const ve=Qc(st(ce));Qn(ce,"visibility","hidden");const ie=Tr(ce,"height").map(ge=>parseInt(ge,10));os(ce,"height"),os(ce,"flex-basis");const ae=ce.dom.getBoundingClientRect().height;ie.forall(ge=>ae>ge)?(M.set(ae),$v(re,ce,M)):ie.each(ge=>{cT(ce,ge)}),os(ce,"visibility"),ve.each(Ai)})})],selectFirst:!1}})(E);return Vv.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(L,M,H)=>{const q=ot.getValue(M);Sn(L,yR,{name:q,oldName:k.get()}),k.set(q)},tabs:E,components:[Vv.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[lT.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Ft([Ns.config({})])}),Vv.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:O.selectFirst,tabSectionBehaviours:Ft([uo("tabpanel",O.extraEvents),An.config({mode:"acyclic"}),Vo.config({find:L=>$t(Vv.getViewItems(L))}),k0(D.none(),L=>(L.getSystem().broadcastOn([RS],{}),p.get()),(L,M)=>{p.set(M),L.getSystem().broadcastOn([uT],{})})])})},NS=(o,a,c,d,p,v)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...c.map(w=>({id:w})).getOr({}),...p?{"aria-live":"polite"}:{}}},components:[],behaviours:Ft([JA(0),Ql.config({channel:`${GR}-${a}`,updateState:(w,k)=>D.some({isTabPanel:()=>k.body.type==="tabpanel"}),renderComponents:w=>{const k=w.body;return k.type==="tabpanel"?[aB(k,w.initialData,d,v)]:[oB(k,w.initialData,d,v)]},initialData:o})])}),iB=Ef.deviceType.isTouch(),ow=(o,a)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[o,a]}),dT=(o,a)=>xr.parts.close(Di.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":a.translate("Close")}},action:o,buttonBehaviours:Ft([Ns.config({})])})),fT=()=>xr.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),lB=(o,a)=>xr.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Mm(`<p>${X5(a.translate(o))}</p>`)}]}]}),cB=o=>xr.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:o}),uB=(o,a)=>[Ad.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:o}),Ad.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:a})],mT=o=>{const a="tox-dialog",c=a+"-wrap",d=c+"__backdrop",p=a+"__disable-scroll";return xr.sketch({lazySink:o.lazySink,onEscape:v=>(o.onEscape(v),D.some(!0)),useTabstopAt:v=>!Av(v),firstTabstop:o.firstTabstop,dom:{tag:"div",classes:[a].concat(o.extraClasses),styles:{position:"relative",...o.extraStyles}},components:[o.header,o.body,...o.footer.toArray()],parts:{blocker:{dom:Mm(`<div class="${c}"></div>`),components:[{dom:{tag:"div",classes:iB?[d,d+"--opaque"]:[d]}}]}},dragBlockClass:c,modalBehaviours:Ft([Zn.config({}),uo("dialog-events",o.dialogEvents.concat([af(es(),(v,w)=>{Gu.isBlocked(v)||An.focusIn(v)}),xt(g1(),(v,w)=>{v.getSystem().broadcastOn([Z_],{newFocus:w.event.newFocus})})])),uo("scroll-lock",[Zs(()=>{ur(fn(),p)}),Nu(()=>{br(fn(),p)})]),...o.extraBehaviours]),eventOrder:{[al()]:["dialog-events"],[Ga()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[gc()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...o.eventOrder}})},dB=o=>Di.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":o.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:Ft([Ns.config({}),Wr.config(o.tooltips.getConfig({tooltipText:o.translate("Close")}))]),components:[Tc("close",{tag:"span",classes:["tox-icon"]},o.icons)],action:a=>{go(a,sh)}}),gT=(o,a,c,d)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...c.map(p=>({id:p})).getOr({})}},components:[],behaviours:Ft([Ql.config({channel:`${l3}-${a}`,initialData:o,renderComponents:p=>[_r(d.translate(p.title))]})])}),hT=()=>({dom:Mm('<div class="tox-dialog__draghandle"></div>')}),fB=(o,a,c)=>((d,p,v)=>{const w=xr.parts.title(gT(d,p,D.none(),v)),k=xr.parts.draghandle(hT()),E=xr.parts.close(dB(v)),O=[w].concat(d.draggable?[k]:[]).concat([E]);return Ad.sketch({dom:Mm('<div class="tox-dialog__header"></div>'),components:O})})({title:c.shared.providers.translate(o),draggable:c.dialog.isDraggableModal()},a,c.shared.providers),mB=(o,a,c,d)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":c.translate(o)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${d.getOr(0)}px`,position:"absolute"}},behaviours:a,components:[{dom:Mm('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),gB=(o,a,c)=>({onClose:()=>c.closeWindow(),onBlock:d=>{const p=Js(o().element,".tox-dialog__header").map(v=>gr(v));xr.setBusy(o(),(v,w)=>mB(d.message,w,a,p))},onUnblock:()=>{xr.setIdle(o())}}),sw="tox-dialog--fullscreen",pT="tox-dialog--width-lg",bT="tox-dialog--width-md",rw=o=>{switch(o){case"large":return D.some(pT);case"medium":return D.some(bT);default:return D.none()}},vT=(o,a)=>{const c=en(a.element.dom);$i(c,sw)||(Zl(c,[pT,bT]),rw(o).each(d=>ur(c,d)))},hB=(o,a)=>{const c=en(o.element.dom),d=gd(c),p=J(d,v=>v===pT||v===bT).or(rw(a));((v,w)=>{Zt(w,k=>{((E,O)=>{Tg(E)?E.dom.classList.toggle(O):((L,M)=>Qe(mb(L),M)?My(L,M):b1(L,M))(E,O),gb(E)})(v,k)})})(c,[sw,...p.toArray()])},pB=(o,a,c)=>Da(mT({...o,firstTabstop:1,lazySink:c.shared.getSink,extraBehaviours:[D2({}),...o.extraBehaviours],onEscape:d=>{go(d,sh)},dialogEvents:a,eventOrder:{[Ul()]:[Ql.name(),cl.name()],[Ga()]:["scroll-lock",Ql.name(),"messages","dialog-events","alloy.base.behaviour"],[gc()]:["alloy.base.behaviour","dialog-events","messages",Ql.name(),"scroll-lock"]}})),aw=(o,a={})=>bt(o,c=>c.type==="menu"?(d=>{const p=bt(d.items,v=>{const w=un(a,v.name).getOr(Dn(!1));return{...v,storage:w}});return{...d,items:p}})(c):c),bB=o=>Rn(o,(a,c)=>c.type==="menu"?Rn(c.items,(d,p)=>(d[p.name]=p.storage,d),a):a,{}),yT=(o,a)=>[Ag(es(),eL),o(gp,(c,d,p,v)=>{Qc(st(v.element)).fold(he,Db),a.onClose(),d.onClose()}),o(sh,(c,d,p,v)=>{d.onCancel(c),go(v,gp)}),xt(TA,(c,d)=>a.onUnblock()),xt(AA,(c,d)=>a.onBlock(d.event))],vB=(o,a,c)=>{const d=(v,w)=>xt(v,(k,E)=>{p(k,(O,L)=>{w(o(),O,E.event,k)})}),p=(v,w)=>{Ql.getState(v).get().each(k=>{w(k.internalDialog,v)})};return[...yT(d,a),d(k2,(v,w)=>w.onSubmit(v)),d(qi,(v,w,k)=>{w.onChange(v,{name:k.name})}),d(Rf,(v,w,k,E)=>{const O=()=>E.getSystem().isConnected()?An.focusIn(E):void 0,L=q=>mr(q,"disabled")||Io(q,"aria-disabled").exists(Y=>Y==="true"),M=st(E.element),H=Qc(M);w.onAction(v,{name:k.name,value:k.value}),Qc(M).fold(O,q=>{L(q)||H.exists(Y=>wr(q,Y)&&L(Y))?O():c().toOptional().filter(Y=>!wr(Y.element,q)).each(O)})}),d(yR,(v,w,k)=>{w.onTabChange(v,{newTabName:k.name,oldTabName:k.oldName})}),Nu(v=>{const w=o();ot.setValue(v,w.getData())})]},Zz=(o,a)=>{const c=a.map(v=>v.footerButtons).getOr([]),d=Us(c,v=>v.align==="start"),p=(v,w)=>Ad.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${v}`]},components:bt(w,k=>k.memento.asSpec())});return[p("start",d.pass),p("end",d.fail)]},yB=(o,a,c)=>({dom:Mm('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Ft([Ql.config({channel:`${YR}-${a}`,initialData:o,updateState:(d,p)=>{const v=bt(p.buttons,w=>{const k=ss(((E,O)=>Dv(E,E.type,O))(w,c));return{name:w.name,align:w.align,memento:k}});return D.some({lookupByName:w=>((k,E,O)=>J(E,L=>L.name===O).bind(L=>L.memento.getOpt(k)))(d,v,w),footerButtons:v})},renderComponents:Zz})])}),xT=(o,a,c)=>xr.parts.footer(yB(o,a,c)),iw=(o,a)=>{if(o.getRoot().getSystem().isConnected()){const c=Vo.getCurrent(o.getFormWrapper()).getOr(o.getFormWrapper());return bp.getField(c,a).orThunk(()=>o.getFooter().bind(p=>Ql.getState(p).get()).bind(p=>p.lookupByName(a)))}return D.none()},xB=(o,a,c)=>{const d=v=>{const w=o.getRoot();w.getSystem().isConnected()&&v(w)},p={getData:()=>{const v=o.getRoot(),w=v.getSystem().isConnected()?o.getFormWrapper():v;return{...ot.getValue(w),...En(c,k=>k.get())}},setData:v=>{d(w=>{const k=p.getData(),E=ws(k,v),O=((M,H)=>{const q=M.getRoot();return Ql.getState(q).get().map(Y=>_i(ir("data",Y.dataValidator,H))).getOr(H)})(o,E),L=o.getFormWrapper();ot.setValue(L,O),Cn(c,(M,H)=>{po(E,H)&&M.set(E[H])})})},setEnabled:(v,w)=>{iw(o,v).each(w?Kn.enable:Kn.disable)},focus:v=>{iw(o,v).each(Zn.focus)},block:v=>{if(!h(v))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");d(w=>{Sn(w,AA,{message:v})})},unblock:()=>{d(v=>{go(v,TA)})},showTab:v=>{d(w=>{const k=o.getBody();Ql.getState(k).get().exists(E=>E.isTabPanel())&&Vo.getCurrent(k).each(E=>{Vv.showTab(E,v)})})},redial:v=>{d(w=>{const k=o.getId(),E=a(v),O=aw(E.internalDialog.buttons,c);w.getSystem().broadcastOn([`${vp}-${k}`],E),w.getSystem().broadcastOn([`${l3}-${k}`],E.internalDialog),w.getSystem().broadcastOn([`${GR}-${k}`],E.internalDialog),w.getSystem().broadcastOn([`${YR}-${k}`],{...E.internalDialog,buttons:O}),p.setData(E.initialData)})},close:()=>{d(v=>{go(v,gp)})},toggleFullscreen:o.toggleFullscreen};return p},wB=(o,a,c,d=!1,p)=>{const v=mn("dialog"),w=mn("dialog-label"),k=mn("dialog-content"),E=o.internalDialog,O=Dn(E.size),L=rw(O.get()).toArray(),M=ss(((ye,_e,Le,Xe)=>Ad.sketch({dom:Mm('<div class="tox-dialog__header"></div>'),components:[gT(ye,_e,D.some(Le),Xe),hT(),dB(Xe)],containerBehaviours:Ft([P0.config({mode:"mouse",blockerClass:"blocker",getTarget:_t=>Bu(_t,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:E.title,draggable:!0},v,w,c.shared.providers)),H=ss(((ye,_e,Le,Xe,_t,vt)=>NS(ye,_e,D.some(Le),Xe,_t,vt))({body:E.body,initialData:E.initialData},v,k,c,d,ye=>iw(ae,ye))),q=aw(E.buttons),Y=bB(q),re=Wo(q.length!==0,ss(((ye,_e,Le)=>yB(ye,_e,Le))({buttons:q},v,c))),ce=vB(()=>ge,{onBlock:ye=>{Gu.block(ie,(_e,Le)=>{const Xe=M.getOpt(ie).map(_t=>gr(_t.element));return mB(ye.message,Le,c.shared.providers,Xe)})},onUnblock:()=>{Gu.unblock(ie)},onClose:()=>a.closeWindow()},c.shared.getSink),ve=Wa().os,ie=Da({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...L],attributes:{role:"dialog",...ve.isMacOS()?{"aria-label":E.title}:{"aria-labelledby":w}}},eventOrder:{[Ul()]:[Ql.name(),cl.name()],[al()]:["execute-on-form"],[Ga()]:["reflecting","execute-on-form"]},behaviours:Ft([An.config({mode:"cyclic",onEscape:ye=>(go(ye,gp),D.some(!0)),useTabstopAt:ye=>!Av(ye)&&(Mi(ye)!=="button"||wo(ye,"disabled")!=="disabled"),firstTabstop:1}),Ql.config({channel:`${vp}-${v}`,updateState:(ye,_e)=>(O.set(_e.internalDialog.size),vT(_e.internalDialog.size,ye),p(),D.some(_e)),initialData:o}),Zn.config({}),uo("execute-on-form",ce.concat([af(es(),(ye,_e)=>{An.focusIn(ye)}),xt(g1(),(ye,_e)=>{ye.getSystem().broadcastOn([Z_],{newFocus:_e.event.newFocus})})])),Gu.config({getRoot:()=>D.some(ie)}),zn.config({}),D2({})]),components:[M.asSpec(),H.asSpec(),...re.map(ye=>ye.asSpec()).toArray()]}),ae={getId:te(v),getRoot:te(ie),getFooter:()=>re.map(ye=>ye.get(ie)),getBody:()=>H.get(ie),getFormWrapper:()=>{const ye=H.get(ie);return Vo.getCurrent(ye).getOr(ye)},toggleFullscreen:()=>{hB(ie,O.get())}},ge=xB(ae,a.redial,Y);return{dialog:ie,instanceApi:ge}};var wT=tinymce.util.Tools.resolve("tinymce.util.URI");const jz=["insertContent","setContent","execCommand","close","block","unblock"],CT=o=>x(o)&&jz.indexOf(o.mceAction)!==-1,Kz=(o,a,c,d)=>{const p=mn("dialog"),v=fB(o.title,p,d),w=(ve=>{const ie={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[a3(D.none(),{dom:{tag:"iframe",attributes:{src:ve.url}},behaviours:Ft([Ns.config({}),Zn.config({})])})]}],behaviours:Ft([An.config({mode:"acyclic",useTabstopAt:$e(Av)})])};return xr.parts.body(ie)})(o),k=o.buttons.bind(ve=>ve.length===0?D.none():D.some(xT({buttons:ve},p,d))),E=((ve,ie)=>{const ae=(ye,_e)=>xt(ye,(Le,Xe)=>{ge(Le,(_t,vt)=>{_e(ce,_t,Xe.event,Le)})}),ge=(ye,_e)=>{Ql.getState(ye).get().each(Le=>{_e(Le,ye)})};return[...yT(ae,ie),ae(Rf,(ye,_e,Le)=>{_e.onAction(ye,{name:Le.name})})]})(0,gB(()=>re,d.shared.providers,a)),O={...o.height.fold(()=>({}),ve=>({height:ve+"px","max-height":ve+"px"})),...o.width.fold(()=>({}),ve=>({width:ve+"px","max-width":ve+"px"}))},L=o.width.isNone()&&o.height.isNone()?["tox-dialog--width-lg"]:[],M=new wT(o.url,{base_uri:new wT(window.location.href)}),H=`${M.protocol}://${M.host}${M.port?":"+M.port:""}`,q=uc(),Y=[Ql.config({channel:`${vp}-${p}`,updateState:(ve,ie)=>D.some(ie),initialData:o}),uo("messages",[Zs(()=>{const ve=Ti(en(window),"message",ie=>{if(M.isSameOrigin(new wT(ie.raw.origin))){const ae=ie.raw.data;CT(ae)?((ge,ye,_e)=>{switch(_e.mceAction){case"insertContent":ge.insertContent(_e.content);break;case"setContent":ge.setContent(_e.content);break;case"execCommand":const Le=!!R(_e.ui)&&_e.ui;ge.execCommand(_e.cmd,Le,_e.value);break;case"close":ye.close();break;case"block":ye.block(_e.message);break;case"unblock":ye.unblock()}})(c,ce,ae):(ge=>!CT(ge)&&x(ge)&&po(ge,"mceAction"))(ae)&&o.onMessage(ce,ae)}});q.set(ve)}),Nu(q.clear)]),cl.config({channels:{[c3]:{onReceive:(ve,ie)=>{Js(ve.element,"iframe").each(ae=>{const ge=ae.dom.contentWindow;$(ge)&&ge.postMessage(ie,H)})}}}})],re=pB({id:p,header:v,body:w,footer:k,extraClasses:L,extraBehaviours:Y,extraStyles:O},E,d),ce=(ve=>{const ie=ae=>{ve.getSystem().isConnected()&&ae(ve)};return{block:ae=>{if(!h(ae))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");ie(ge=>{Sn(ge,AA,{message:ae})})},unblock:()=>{ie(ae=>{go(ae,TA)})},close:()=>{ie(ae=>{go(ae,gp)})},sendMessage:ae=>{ie(ge=>{ge.getSystem().broadcastOn([c3],ae)})}}})(re);return{dialog:re,instanceApi:ce}},_T=(o,a)=>_i(ir("data",a,o)),CB=o=>Sv(o,".tox-alert-dialog")||Sv(o,".tox-confirm-dialog"),qz=(o,a,c)=>a&&c?[]:[Xs.config({contextual:{lazyContext:()=>D.some(Kr(en(o.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:d=>op(o,d.element).map(p=>({bounds:sp(p),optScrollEnv:D.some({currentScrollTop:p.element.dom.scrollTop,scrollElmTop:wl(p.element).top})})).getOrThunk(()=>({bounds:Ea(),optScrollEnv:D.none()}))})],Gz=o=>{const a=o.editor,c=Jg(a),d=(E=>{const O=E.shared;return{open:(L,M)=>{const H=()=>{xr.hide(ce),M()},q=ss(Dv({name:"close-alert",text:"OK",primary:!0,buttonType:D.some("primary"),align:"end",enabled:!0,icon:D.none()},"cancel",E)),Y=fT(),re=dT(H,O.providers),ce=Da(mT({lazySink:()=>O.getSink(),header:ow(Y,re),body:lB(L,O.providers),footer:D.some(cB(uB([],[q.asSpec()]))),onEscape:H,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[xt(sh,H)],eventOrder:{}}));xr.show(ce);const ve=q.get(ce);Zn.focus(ve)}}})(o.backstages.dialog),p=(E=>{const O=E.shared;return{open:(L,M)=>{const H=ae=>{xr.hide(ve),M(ae)},q=ss(Dv({name:"yes",text:"Yes",primary:!0,buttonType:D.some("primary"),align:"end",enabled:!0,icon:D.none()},"submit",E)),Y=Dv({name:"no",text:"No",primary:!1,buttonType:D.some("secondary"),align:"end",enabled:!0,icon:D.none()},"cancel",E),re=fT(),ce=dT(()=>H(!1),O.providers),ve=Da(mT({lazySink:()=>O.getSink(),header:ow(re,ce),body:lB(L,O.providers),footer:D.some(cB(uB([],[Y,q.asSpec()]))),onEscape:()=>H(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[xt(sh,()=>H(!1)),xt(k2,()=>H(!0))],eventOrder:{}}));xr.show(ve);const ie=q.get(ve);Zn.focus(ie)}}})(o.backstages.dialog),v=(E,O)=>L0.open((L,M,H)=>{const q=M,Y=((re,ce,ve)=>{const ie=mn("dialog"),ae=re.internalDialog,ge=fB(ae.title,ie,ve),ye=Dn(ae.size),_e=rw(ye.get()).toArray(),Le=((qn,So,Vs,Qs)=>{const mo=NS(qn,So,D.none(),Vs,!1,Qs);return xr.parts.body(mo)})({body:ae.body,initialData:ae.initialData},ie,ve,qn=>iw(vn,qn)),Xe=aw(ae.buttons),_t=bB(Xe),vt=Wo(Xe.length!==0,xT({buttons:Xe},ie,ve)),gt=vB(()=>In,gB(()=>an,ve.shared.providers,ce),ve.shared.getSink),Bt={id:ie,header:ge,body:Le,footer:vt,extraClasses:_e,extraBehaviours:[Ql.config({channel:`${vp}-${ie}`,updateState:(qn,So)=>(ye.set(So.internalDialog.size),vT(So.internalDialog.size,qn),D.some(So)),initialData:re})],extraStyles:{}},an=pB(Bt,gt,ve),vn={getId:te(ie),getRoot:te(an),getBody:()=>xr.getBody(an),getFooter:()=>xr.getFooter(an),getFormWrapper:()=>{const qn=xr.getBody(an);return Vo.getCurrent(qn).getOr(qn)},toggleFullscreen:()=>{hB(an,ye.get())}},In=xB(vn,ce.redial,_t);return{dialog:an,instanceApi:In}})({dataValidator:H,initialData:q,internalDialog:L},{redial:L0.redial,closeWindow:()=>{xr.hide(Y.dialog),O(Y.instanceApi)}},o.backstages.dialog);return xr.show(Y.dialog),Y.instanceApi.setData(q),Y.instanceApi},E),w=(E,O,L,M)=>L0.open((H,q,Y)=>{const re=_T(q,Y),ce=us(),ve=o.backstages.popup.shared.header.isPositionedAtTop(),ie=()=>ce.on(ye=>{sr.reposition(ye),c&&ve||Xs.refresh(ye)}),ae=wB({dataValidator:Y,initialData:re,internalDialog:H},{redial:L0.redial,closeWindow:()=>{ce.on(sr.hide),a.off("ResizeEditor",ie),ce.clear(),L(ae.instanceApi)}},o.backstages.popup,M.ariaAttrs,ie),ge=Da(sr.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:M.persistent?{event:"doNotDismissYet"}:{},...ve?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Ft([uo("window-manager-inline-events",[xt(Eg(),(ye,_e)=>{go(ae.dialog,sh)})]),...qz(a,c,ve)]),isExtraPart:(ye,_e)=>CB(_e)}));return ce.set(ge),sr.showWithinBounds(ge,Ui(ae.dialog),{anchor:O},()=>{const ye=a.inline?fn():en(a.getContainer()),_e=Kr(ye);return D.some(_e)}),c&&ve||(Xs.refresh(ge),a.on("ResizeEditor",ie)),ae.instanceApi.setData(re),An.focusIn(ae.dialog),ae.instanceApi},E),k=(E,O,L,M)=>L0.open((H,q,Y)=>{const re=_T(q,Y),ce=us(),ve=o.backstages.popup.shared.header.isPositionedAtTop(),ie=()=>ce.on(ye=>{sr.reposition(ye),Xs.refresh(ye)}),ae=wB({dataValidator:Y,initialData:re,internalDialog:H},{redial:L0.redial,closeWindow:()=>{ce.on(sr.hide),a.off("ResizeEditor ScrollWindow ElementScroll",ie),ce.clear(),L(ae.instanceApi)}},o.backstages.popup,M.ariaAttrs,ie),ge=Da(sr.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:M.persistent?{event:"doNotDismissYet"}:{},...ve?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Ft([uo("window-manager-inline-events",[xt(Eg(),(ye,_e)=>{go(ae.dialog,sh)})]),Xs.config({contextual:{lazyContext:()=>D.some(Kr(en(a.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:ye=>op(a,ye.element).map(_e=>({bounds:sp(_e),optScrollEnv:D.some({currentScrollTop:_e.element.dom.scrollTop,scrollElmTop:wl(_e.element).top})})).getOrThunk(()=>({bounds:Ea(),optScrollEnv:D.none()}))})]),isExtraPart:(ye,_e)=>CB(_e)}));return ce.set(ge),sr.showWithinBounds(ge,Ui(ae.dialog),{anchor:O},()=>o.backstages.popup.shared.getSink().toOptional().bind(ye=>{const _e=op(a,ye.element).map(_t=>sp(_t)).getOr(Ea()),Le=Kr(en(a.getContentAreaContainer())),Xe=id(Le,_e);return D.some(bo(Xe.x,Xe.y,Xe.width,Xe.height-15))})),Xs.refresh(ge),a.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",ie),ae.instanceApi.setData(re),An.focusIn(ae.dialog),ae.instanceApi},E);return{open:(E,O,L)=>{if(!F(O)){if(O.inline==="toolbar")return w(E,o.backstages.popup.shared.anchors.inlineDialog(),L,O);if(O.inline==="bottom")return k(E,o.backstages.popup.shared.anchors.inlineBottomDialog(),L,O);if(O.inline==="cursor")return w(E,o.backstages.popup.shared.anchors.cursor(),L,O)}return v(E,L)},openUrl:(E,O)=>((L,M)=>L0.openUrl(H=>{const q=Kz(H,{closeWindow:()=>{xr.hide(q.dialog),M(q.instanceApi)}},a,o.backstages.dialog);return xr.show(q.dialog),q.instanceApi},L))(E,O),alert:(E,O)=>{d.open(E,O)},close:E=>{E.close()},confirm:(E,O)=>{p.open(E,O)}}};Eh.add("silver",o=>{(k=>{T5(k),(E=>{const O=E.options.register,L=H=>fe(H,h)?{value:h7(H),valid:!0}:{valid:!1,message:"Must be an array of strings."},M=H=>ee(H)&&H>0?{value:H,valid:!0}:{valid:!1,message:"Must be a positive number."};O("color_map",{processor:L,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),O("color_map_background",{processor:L}),O("color_map_foreground",{processor:L}),O("color_cols",{processor:M,default:m_(E)}),O("color_cols_foreground",{processor:M,default:YD(E,aA)}),O("color_cols_background",{processor:M,default:YD(E,iA)}),O("custom_colors",{processor:"boolean",default:!0}),O("color_default_foreground",{processor:"string",default:v2}),O("color_default_background",{processor:"string",default:v2})})(k),(E=>{const O=E.options.register;O("contextmenu_avoid_overlap",{processor:"string",default:""}),O("contextmenu_never_use_native",{processor:"boolean",default:!1}),O("contextmenu",{processor:L=>L===!1?{value:[],valid:!0}:h(L)||fe(L,h)?{value:Z6(L),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(k)})(o);let a=()=>Ea();const{dialogs:c,popups:d,renderUI:p}=oz(o,{getPopupSinkBounds:()=>a()});hR(o,d.backstage.shared);const v=Gz({editor:o,backstages:{popup:d.backstage,dialog:c.backstage}}),w=us();return{renderUI:()=>{const k=p();return op(o,d.getMothership().element).each(E=>{a=()=>sp(E)}),k},getWindowManagerImpl:te(v),getNotificationManagerImpl:()=>tD(o,{backstage:d.backstage},d.getMothership(),w)}})})();(function(){var s=tinymce.util.Tools.resolve("tinymce.ModelManager");const i=y=>_=>(T=>{const P=typeof T;return T===null?"null":P==="object"&&Array.isArray(T)?"array":P==="object"&&(V=U=T,(Q=String).prototype.isPrototypeOf(V)||((se=U.constructor)===null||se===void 0?void 0:se.name)===Q.name)?"string":P;var V,U,Q,se})(_)===y,u=y=>_=>typeof _===y,m=y=>_=>y===_,b=i("string"),h=i("object"),x=i("array"),S=m(null),B=u("boolean"),N=m(void 0),R=y=>!(_=>_==null)(y),F=u("function"),W=u("number"),$=()=>{},K=y=>()=>y,ee=y=>y,fe=(y,_)=>y===_;function he(y,..._){return(...T)=>{const P=_.concat(T);return y.apply(null,P)}}const Ue=y=>_=>!y(_),Te=y=>y(),te=K(!1),Ae=K(!0);class ne{constructor(_,T){this.tag=_,this.value=T}static some(_){return new ne(!0,_)}static none(){return ne.singletonNone}fold(_,T){return this.tag?T(this.value):_()}isSome(){return this.tag}isNone(){return!this.tag}map(_){return this.tag?ne.some(_(this.value)):ne.none()}bind(_){return this.tag?_(this.value):ne.none()}exists(_){return this.tag&&_(this.value)}forall(_){return!this.tag||_(this.value)}filter(_){return!this.tag||_(this.value)?this:ne.none()}getOr(_){return this.tag?this.value:_}or(_){return this.tag?this:_}getOrThunk(_){return this.tag?this.value:_()}orThunk(_){return this.tag?this:_()}getOrDie(_){if(this.tag)return this.value;throw new Error(_??"Called getOrDie on None")}static from(_){return R(_)?ne.some(_):ne.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(_){this.tag&&_(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ne.singletonNone=new ne(!1);const Ge=Array.prototype.slice,$e=Array.prototype.indexOf,Ze=Array.prototype.push,nt=(y,_)=>{return T=y,P=_,$e.call(T,P)>-1;var T,P},Ce=(y,_)=>{for(let T=0,P=y.length;T<P;T++)if(_(y[T],T))return!0;return!1},Ne=(y,_)=>{const T=[];for(let P=0;P<y;P++)T.push(_(P));return T},D=(y,_)=>{const T=y.length,P=new Array(T);for(let V=0;V<T;V++){const U=y[V];P[V]=_(U,V)}return P},yt=(y,_)=>{for(let T=0,P=y.length;T<P;T++)_(y[T],T)},Pt=(y,_)=>{const T=[],P=[];for(let V=0,U=y.length;V<U;V++){const Q=y[V];(_(Q,V)?T:P).push(Q)}return{pass:T,fail:P}},cn=(y,_)=>{const T=[];for(let P=0,V=y.length;P<V;P++){const U=y[P];_(U,P)&&T.push(U)}return T},hn=(y,_,T)=>(((P,V)=>{for(let U=P.length-1;U>=0;U--)V(P[U],U)})(y,(P,V)=>{T=_(T,P,V)}),T),Qe=(y,_,T)=>(yt(y,(P,V)=>{T=_(T,P,V)}),T),On=(y,_)=>((T,P,V)=>{for(let U=0,Q=T.length;U<Q;U++){const se=T[U];if(P(se,U))return ne.some(se);if(V(se,U))break}return ne.none()})(y,_,te),as=(y,_)=>{for(let T=0,P=y.length;T<P;T++)if(_(y[T],T))return ne.some(T);return ne.none()},pt=y=>{const _=[];for(let T=0,P=y.length;T<P;++T){if(!x(y[T]))throw new Error("Arr.flatten item "+T+" was not an array, input: "+y);Ze.apply(_,y[T])}return _},bt=(y,_)=>pt(D(y,_)),Zt=(y,_)=>{for(let T=0,P=y.length;T<P;++T)if(_(y[T],T)!==!0)return!1;return!0},Us=(y,_)=>{const T={};for(let P=0,V=y.length;P<V;P++){const U=y[P];T[String(U)]=_(U,P)}return T},ho=(y,_)=>_>=0&&_<y.length?ne.some(y[_]):ne.none(),xn=y=>ho(y,0),Rn=y=>ho(y,y.length-1),J=(y,_)=>{for(let T=0;T<y.length;T++){const P=_(y[T],T);if(P.isSome())return P}return ne.none()},ls=Object.keys,ys=Object.hasOwnProperty,qo=(y,_)=>{const T=ls(y);for(let P=0,V=T.length;P<V;P++){const U=T[P];_(y[U],U)}},si=(y,_)=>Ke(y,(T,P)=>({k:P,v:_(T,P)})),Ke=(y,_)=>{const T={};return qo(y,(P,V)=>{const U=_(P,V);T[U.k]=U.v}),T},le=(y,_)=>{const T=[];return qo(y,(P,V)=>{T.push(_(P,V))}),T},xe=y=>le(y,ee),Me=(y,_)=>ys.call(y,_),pe=typeof window<"u"?window:Function("return this;")(),St=(y,_)=>((T,P)=>{let V=P??pe;for(let U=0;U<T.length&&V!=null;++U)V=V[T[U]];return V})(y.split("."),_),$t=Object.getPrototypeOf,Ct=y=>{const _=St("ownerDocument.defaultView",y);return h(y)&&((T=>((P,V)=>{const U=((Q,se)=>St(Q,se))(P,V);if(U==null)throw new Error(P+" not available on this browser");return U})("HTMLElement",T))(_).prototype.isPrototypeOf(y)||/^HTML\w*Element$/.test($t(y).constructor.name))},zt=y=>y.dom.nodeName.toLowerCase(),It=y=>y.dom.nodeType,sn=y=>_=>It(_)===y,wn=y=>It(y)===8||zt(y)==="#comment",Cn=y=>En(y)&&Ct(y.dom),En=sn(1),ao=sn(3),vo=sn(9),To=sn(11),Do=y=>_=>En(_)&&zt(_)===y,Ar=(y,_,T)=>{if(!(b(T)||B(T)||W(T)))throw console.error("Invalid call to Attribute.set. Key ",_,":: Value ",T,":: Element ",y),new Error("Attribute value was not simple");y.setAttribute(_,T+"")},ms=(y,_,T)=>{Ar(y.dom,_,T)},yi=(y,_)=>{const T=y.dom;qo(_,(P,V)=>{Ar(T,V,P)})},un=(y,_)=>{const T=y.dom.getAttribute(_);return T===null?void 0:T},po=(y,_)=>ne.from(un(y,_)),io=(y,_)=>{y.dom.removeAttribute(_)},Ws=y=>Qe(y.dom.attributes,(_,T)=>(_[T.name]=T.value,_),{}),za=y=>{if(y==null)throw new Error("Node cannot be null or undefined");return{dom:y}},Vt={fromHtml:(y,_)=>{const T=(_||document).createElement("div");if(T.innerHTML=y,!T.hasChildNodes()||T.childNodes.length>1){const P="HTML does not have a single root node";throw console.error(P,y),new Error(P)}return za(T.childNodes[0])},fromTag:(y,_)=>{const T=(_||document).createElement(y);return za(T)},fromText:(y,_)=>{const T=(_||document).createTextNode(y);return za(T)},fromDom:za,fromPoint:(y,_,T)=>ne.from(y.dom.elementFromPoint(_,T)).map(za)},Qr=(y,_)=>{const T=y.dom;if(T.nodeType!==1)return!1;{const P=T;if(P.matches!==void 0)return P.matches(_);if(P.msMatchesSelector!==void 0)return P.msMatchesSelector(_);if(P.webkitMatchesSelector!==void 0)return P.webkitMatchesSelector(_);if(P.mozMatchesSelector!==void 0)return P.mozMatchesSelector(_);throw new Error("Browser lacks native selectors")}},Wo=y=>y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11||y.childElementCount===0,Tl=(y,_)=>{const T=_===void 0?document:_.dom;return Wo(T)?ne.none():ne.from(T.querySelector(y)).map(Vt.fromDom)},Os=(y,_)=>y.dom===_.dom,Hr=(y,_)=>{const T=y.dom,P=_.dom;return T!==P&&T.contains(P)},Yf=Qr,pu=y=>Vt.fromDom(y.dom.ownerDocument),ic=y=>vo(y)?y:pu(y),el=y=>ne.from(y.dom.parentNode).map(Vt.fromDom),bu=y=>ne.from(y.dom.parentElement).map(Vt.fromDom),gs=(y,_)=>{const T=F(_)?_:te;let P=y.dom;const V=[];for(;P.parentNode!==null&&P.parentNode!==void 0;){const U=P.parentNode,Q=Vt.fromDom(U);if(V.push(Q),T(Q)===!0)break;P=U}return V},Yn=y=>ne.from(y.dom.previousSibling).map(Vt.fromDom),Ol=y=>ne.from(y.dom.nextSibling).map(Vt.fromDom),fa=y=>D(y.dom.childNodes,Vt.fromDom),vu=(y,_)=>{const T=y.dom.childNodes;return ne.from(T[_]).map(Vt.fromDom)},en=(y,_)=>{el(y).each(T=>{T.dom.insertBefore(_.dom,y.dom)})},yu=(y,_)=>{Ol(y).fold(()=>{el(y).each(T=>{nr(T,_)})},T=>{en(T,_)})},Xf=(y,_)=>{(P=>vu(P,0))(y).fold(()=>{nr(y,_)},P=>{y.dom.insertBefore(_.dom,P.dom)})},nr=(y,_)=>{y.dom.appendChild(_.dom)},Jf=(y,_)=>{en(y,_),nr(_,y)},Mi=(y,_)=>{yt(_,(T,P)=>{const V=P===0?y:_[P-1];yu(V,T)})},bl=(y,_)=>{yt(_,T=>{nr(y,T)})},tl=y=>{y.dom.textContent="",yt(fa(y),_=>{qs(_)})},qs=y=>{const _=y.dom;_.parentNode!==null&&_.parentNode.removeChild(_)},ri=y=>{const _=fa(y);_.length>0&&Mi(y,_),qs(y)},vl=(y,_)=>Vt.fromDom(y.dom.cloneNode(_)),Qf=y=>vl(y,!1),Mc=y=>vl(y,!0),Pc=(y,_)=>{const T=Vt.fromTag(_),P=Ws(y);return yi(T,P),T},$d=["tfoot","thead","tbody","colgroup"],nd=(y,_,T)=>({element:y,rowspan:_,colspan:T}),Zo=(y,_,T)=>({element:y,cells:_,section:T}),wr=(y,_,T)=>({element:y,isNew:_,isLocked:T}),jr=(y,_,T,P)=>({element:y,cells:_,section:T,isNew:P}),em=y=>Vt.fromDom(y.dom.host),Pi=y=>{const _=ao(y)?y.dom.parentNode:y.dom;if(_==null||_.ownerDocument===null)return!1;const T=_.ownerDocument;return(U=>{const Q=(be=>Vt.fromDom(be.dom.getRootNode()))(U);return To(se=Q)&&R(se.dom.host)?ne.some(Q):ne.none();var se})(Vt.fromDom(_)).fold(()=>T.body.contains(_),(P=Pi,V=em,U=>P(V(U))));var P,V},Lc=y=>{const _=y.dom.body;if(_==null)throw new Error("Body is not available yet");return Vt.fromDom(_)},ai=(y,_)=>{let T=[];return yt(fa(y),P=>{_(P)&&(T=T.concat([P])),T=T.concat(ai(P,_))}),T},ii=(y,_,T)=>((P,V,U)=>cn(gs(P,U),Q=>Qr(Q,_)))(y,0,T),Fc=(y,_)=>((T,P)=>cn(fa(T),V=>Qr(V,_)))(y),xs=(y,_)=>((T,P)=>{const V=P===void 0?document:P.dom;return Wo(V)?[]:D(V.querySelectorAll(T),Vt.fromDom)})(_,y);var Gs=(y,_,T,P,V)=>y(T,P)?ne.some(T):F(V)&&V(T)?ne.none():_(T,P,V);const Se=(y,_,T)=>{let P=y.dom;const V=F(T)?T:te;for(;P.parentNode;){P=P.parentNode;const U=Vt.fromDom(P);if(_(U))return ne.some(U);if(V(U))break}return ne.none()},Ye=(y,_,T)=>Gs((P,V)=>V(P),Se,y,_,T),Re=(y,_,T)=>Se(y,P=>Qr(P,_),T),lt=(y,_)=>((T,P)=>On(T.dom.childNodes,V=>{return U=Vt.fromDom(V),Qr(U,_);var U}).map(Vt.fromDom))(y),st=(y,_)=>Tl(_,y),je=(y,_,T)=>Gs((P,V)=>Qr(P,V),Re,y,_,T),Lt=(y,_,T=fe)=>y.exists(P=>T(P,_)),Xt=y=>{const _=[],T=P=>{_.push(P)};for(let P=0;P<y.length;P++)y[P].each(T);return _},on=(y,_)=>y?ne.some(_):ne.none(),fn=(y,_,T)=>_===""||y.length>=_.length&&y.substr(T,T+_.length)===_,tn=(y,_,T=0,P)=>{const V=y.indexOf(_,T);return V!==-1&&(!!N(P)||V+_.length<=P)},so=(y,_)=>fn(y,_,0),Qt=(y,_)=>fn(y,_,y.length-_.length),cs=(y=>_=>_.replace(y,""))(/^\s+|\s+$/g),wo=y=>y.length>0,Io=y=>y.style!==void 0&&F(y.style.getPropertyValue),mr=(y,_,T)=>{if(!b(T))throw console.error("Invalid call to CSS.set. Property ",_,":: Value ",T,":: Element ",y),new Error("CSS value must be a string: "+T);Io(y)&&y.style.setProperty(_,T)},fo=(y,_,T)=>{const P=y.dom;mr(P,_,T)},yl=(y,_)=>{const T=y.dom;qo(_,(P,V)=>{mr(T,V,P)})},Ha=(y,_)=>{const T=y.dom,P=window.getComputedStyle(T).getPropertyValue(_);return P!==""||Pi(y)?P:Qn(T,_)},Qn=(y,_)=>Io(y)?y.style.getPropertyValue(_):"",Li=(y,_)=>{const T=y.dom,P=Qn(T,_);return ne.from(P).filter(V=>V.length>0)},nl=(y,_)=>{((T,P)=>{Io(T)&&T.style.removeProperty(P)})(y.dom,_),Lt(po(y,"style").map(cs),"")&&io(y,"style")},ar=(y,_,T=0)=>po(y,_).map(P=>parseInt(P,10)).getOr(T),od=(y,_)=>ar(y,_,1),Tr=y=>Do("col")(y)?ar(y,"span",1)>1:od(y,"colspan")>1,Ud=(y,_)=>parseInt(Ha(y,_),10),xl=K(10),os=K(10),xu=(y,_)=>tm(y,_,Ae),tm=(y,_,T)=>bt(fa(y),P=>Qr(P,_)?T(P)?[P]:[]:tm(P,_,T)),_h=(y,_)=>((T,P,V=te)=>V(P)?ne.none():nt(T,zt(P))?ne.some(P):Re(P,T.join(","),U=>Qr(U,"table")||V(U)))(["td","th"],y,_),gr=y=>xu(y,"th,td"),lc=y=>Qr(y,"colgroup")?Fc(y,"col"):bt(nm(y),_=>Fc(_,"col")),ol=(y,_)=>je(y,"table",_),Ls=y=>xu(y,"tr"),nm=y=>ol(y).fold(K([]),_=>Fc(_,"colgroup")),wl=(y,_)=>D(y,T=>{if(zt(T)==="colgroup"){const P=D(lc(T),V=>{const U=ar(V,"span",1);return nd(V,1,U)});return Zo(T,P,"colgroup")}{const P=D(gr(T),V=>{const U=ar(V,"rowspan",1),Q=ar(V,"colspan",1);return nd(V,U,Q)});return Zo(T,P,_(T))}}),Va=y=>el(y).map(_=>{const T=zt(_);return(P=>nt($d,P))(T)?T:"tbody"}).getOr("tbody"),pg=y=>{const _=Ls(y),T=[...nm(y),..._];return wl(T,Va)},ma=y=>{let _,T=!1;return(...P)=>(T||(T=!0,_=y.apply(null,P)),_)},Fi=()=>$a(0,0),$a=(y,_)=>({major:y,minor:_}),Cl={nu:$a,detect:(y,_)=>{const T=String(_).toLowerCase();return y.length===0?Fi():((P,V)=>{const U=((se,be)=>{for(let De=0;De<se.length;De++){const Ve=se[De];if(Ve.test(be))return Ve}})(P,V);if(!U)return{major:0,minor:0};const Q=se=>Number(V.replace(U,"$"+se));return $a(Q(1),Q(2))})(y,T)},unknown:Fi},Sh=(y,_)=>{const T=String(_).toLowerCase();return On(y,P=>P.search(T))},Co=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,zc=y=>_=>tn(_,y),sd=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:y=>tn(y,"edge/")&&tn(y,"chrome")&&tn(y,"safari")&&tn(y,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Co],search:y=>tn(y,"chrome")&&!tn(y,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:y=>tn(y,"msie")||tn(y,"trident")},{name:"Opera",versionRegexes:[Co,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:zc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:zc("firefox")},{name:"Safari",versionRegexes:[Co,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:y=>(tn(y,"safari")||tn(y,"mobile/"))&&tn(y,"applewebkit")}],wu=[{name:"Windows",search:zc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:y=>tn(y,"iphone")||tn(y,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:zc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:zc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:zc("linux"),versionRegexes:[]},{name:"Solaris",search:zc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:zc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:zc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Qp={browsers:K(sd),oses:K(wu)},Ay="Edge",r1="Chromium",a1="Opera",Uw="Firefox",kh="Safari",i1=y=>{const _=y.current,T=y.version,P=V=>()=>_===V;return{current:_,version:T,isEdge:P(Ay),isChromium:P(r1),isIE:P("IE"),isOpera:P(a1),isFirefox:P(Uw),isSafari:P(kh)}},Kt=()=>i1({current:void 0,version:Cl.unknown()}),Wd=i1,Zd="Windows",l1="Android",Ua="Linux",jd="macOS",bg="Solaris",Ty="FreeBSD",Oy="ChromeOS",eb=y=>{const _=y.current,T=y.version,P=V=>()=>_===V;return{current:_,version:T,isWindows:P(Zd),isiOS:P("iOS"),isAndroid:P(l1),isMacOS:P(jd),isLinux:P(Ua),isSolaris:P(bg),isFreeBSD:P(Ty),isChromeOS:P(Oy)}},Dy=()=>eb({current:void 0,version:Cl.unknown()}),c1=eb,Ry=y=>window.matchMedia(y).matches;let vg=ma(()=>((y,_,T)=>{const P=Qp.browsers(),V=Qp.oses(),U=_.bind(be=>((De,Ve)=>J(Ve.brands,Ee=>{const Ie=Ee.brand.toLowerCase();return On(De,Pe=>{var Je;return Ie===((Je=Pe.brand)===null||Je===void 0?void 0:Je.toLowerCase())}).map(Pe=>({current:Pe.name,version:Cl.nu(parseInt(Ee.version,10),0)}))}))(P,be)).orThunk(()=>((be,De)=>Sh(be,De).map(Ve=>{const Ee=Cl.detect(Ve.versionRegexes,De);return{current:Ve.name,version:Ee}}))(P,y)).fold(Kt,Wd),Q=((be,De)=>Sh(be,De).map(Ve=>{const Ee=Cl.detect(Ve.versionRegexes,De);return{current:Ve.name,version:Ee}}))(V,y).fold(Dy,c1),se=((be,De,Ve,Ee)=>{const Ie=be.isiOS()&&/ipad/i.test(Ve)===!0,Pe=be.isiOS()&&!Ie,Je=be.isiOS()||be.isAndroid(),tt=Je||Ee("(pointer:coarse)"),Et=Ie||!Pe&&Je&&Ee("(min-device-width:768px)"),Ot=Pe||Je&&!Et,kt=De.isSafari()&&be.isiOS()&&/safari/i.test(Ve)===!1,Rt=!Ot&&!Et&&!kt;return{isiPad:K(Ie),isiPhone:K(Pe),isTablet:K(Et),isPhone:K(Ot),isTouch:K(tt),isAndroid:be.isAndroid,isiOS:be.isiOS,isWebView:K(kt),isDesktop:K(Rt)}})(Q,U,y,T);return{browser:U,os:Q,deviceType:se}})(window.navigator.userAgent,ne.from(window.navigator.userAgentData),Ry));const u1=()=>vg(),Kd=(y,_)=>{const T=V=>{const U=_(V);if(U<=0||U===null){const Q=Ha(V,y);return parseFloat(Q)||0}return U},P=(V,U)=>Qe(U,(Q,se)=>{const be=Ha(V,se),De=be===void 0?0:parseInt(be,10);return isNaN(De)?Q:Q+De},0);return{set:(V,U)=>{if(!W(U)&&!U.match(/^[0-9]+$/))throw new Error(y+".set accepts only positive integer values. Value was "+U);const Q=V.dom;Io(Q)&&(Q.style[y]=U+"px")},get:T,getOuter:T,aggregate:P,max:(V,U,Q)=>{const se=P(V,Q);return U>se?U-se:0}}},qd=(y,_,T)=>((P,V)=>(U=>{const Q=parseFloat(U);return isNaN(Q)?ne.none():ne.some(Q)})(P).getOr(V))(Ha(y,_),T),Wa=Kd("width",y=>y.dom.offsetWidth),sl=y=>Wa.get(y),yg=y=>Wa.getOuter(y),Po=y=>((_,T)=>{const P=_.dom,V=P.getBoundingClientRect().width||P.offsetWidth;return T==="border-box"?V:((U,Q,se,be)=>Q-qd(U,`padding-${se}`,0)-qd(U,`padding-${be}`,0)-qd(U,`border-${se}-width`,0)-qd(U,`border-${be}-width`,0))(_,V,"left","right")})(y,"content-box"),rd=(y,_,T)=>{const P=y.cells,V=P.slice(0,_),U=P.slice(_),Q=V.concat(T).concat(U);return xi(y,Q)},xg=(y,_,T)=>rd(y,_,[T]),wg=(y,_,T)=>{y.cells[_]=T},xi=(y,_)=>jr(y.element,_,y.section,y.isNew),Or=(y,_)=>y.cells[_],Ys=(y,_)=>Or(y,_).element,ka=y=>y.cells.length,Fs=y=>{const _=Pt(y,T=>T.section==="colgroup");return{rows:_.fail,cols:_.pass}},Gd=(y,_,T)=>{const P=D(y.cells,T);return jr(_(y.element),P,y.section,!0)},om="data-snooker-locked-cols",ra=y=>po(y,om).bind(_=>ne.from(_.match(/\d+/g))).map(_=>Us(_,Ae)),wi=y=>{const _=Qe(Fs(y).rows,(P,V)=>(yt(V.cells,(U,Q)=>{U.isLocked&&(P[Q]=!0)}),P),{}),T=le(_,(P,V)=>parseInt(V,10));return((P,V)=>{const U=Ge.call(P,0);return U.sort(void 0),U})(T)},li=(y,_)=>y+","+_,Hc=(y,_)=>{const T=bt(y.all,P=>P.cells);return cn(T,_)},ad=y=>{const _={},T=[],P=xn(y).map(Ie=>Ie.element).bind(ol).bind(ra).getOr({});let V=0,U=0,Q=0;const{pass:se,fail:be}=Pt(y,Ie=>Ie.section==="colgroup");yt(be,Ie=>{const Pe=[];yt(Ie.cells,Je=>{let tt=0;for(;_[li(Q,tt)]!==void 0;)tt++;const Et=((kt,Rt)=>Me(kt,Rt)&&kt[Rt]!==void 0&&kt[Rt]!==null)(P,tt.toString()),Ot=((kt,Rt,Ut,Gt,ot,gn)=>({element:kt,rowspan:Rt,colspan:Ut,row:Gt,column:ot,isLocked:gn}))(Je.element,Je.rowspan,Je.colspan,Q,tt,Et);for(let kt=0;kt<Je.colspan;kt++)for(let Rt=0;Rt<Je.rowspan;Rt++){const Ut=tt+kt,Gt=li(Q+Rt,Ut);_[Gt]=Ot,U=Math.max(U,Ut+1)}Pe.push(Ot)}),V++,T.push(Zo(Ie.element,Pe,Ie.section)),Q++});const{columns:De,colgroups:Ve}=Rn(se).map(Ie=>{const Pe=(tt=>{const Et={};let Ot=0;return yt(tt.cells,kt=>{const Rt=kt.colspan;Ne(Rt,Ut=>{const Gt=Ot+Ut;Et[Gt]=((ot,gn,Vn)=>({element:ot,colspan:gn,column:Vn}))(kt.element,Rt,Gt)}),Ot+=Rt}),Et})(Ie);return{colgroups:[((tt,Et)=>({element:tt,columns:Et}))(Ie.element,xe(Pe))],columns:Pe}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((Ie,Pe)=>({rows:Ie,columns:Pe}))(V,U),access:_,all:T,columns:De,colgroups:Ve}},bo=y=>{const _=pg(y);return ad(_)},Kr=ad,rl=(y,_,T)=>ne.from(y.access[li(_,T)]),id=(y,_,T)=>{const P=Hc(y,V=>T(_,V.element));return P.length>0?ne.some(P[0]):ne.none()},Ea=Hc,Dn=y=>bt(y.all,_=>_.cells),cc=y=>xe(y.columns),uc=y=>ls(y.columns).length>0,us=(y,_)=>ne.from(y.columns[_]),Eh=(y,_=Ae)=>{const T=y.grid,P=Ne(T.columns,ee),V=Ne(T.rows,ee);return D(P,U=>tb(()=>bt(V,Q=>rl(y,Q,U).filter(se=>se.column===U).toArray()),Q=>Q.colspan===1&&_(Q.element),()=>rl(y,0,U)))},tb=(y,_,T)=>{const P=y();return On(P,_).orThunk(()=>ne.from(P[0]).orThunk(T)).map(V=>V.element)},ld=y=>{const _=y.grid,T=Ne(_.rows,ee),P=Ne(_.columns,ee);return D(T,V=>tb(()=>bt(P,U=>rl(y,V,U).filter(Q=>Q.row===V).fold(K([]),Q=>[Q])),U=>U.rowspan===1,()=>rl(y,V,0)))},_o=(y,_)=>T=>Ci(T)==="rtl"?_:y,Ci=y=>Ha(y,"direction")==="rtl"?"rtl":"ltr",Ah=Kd("height",y=>{const _=y.dom;return Pi(y)?_.getBoundingClientRect().height:_.offsetHeight}),cd=y=>Ah.get(y),nb=y=>Ah.getOuter(y),Vc=(y,_)=>({left:y,top:_,translate:(T,P)=>Vc(y+T,_+P)}),zi=Vc,$c=(y,_)=>y!==void 0?y:_!==void 0?_:0,Yd=y=>{const _=y.dom.ownerDocument,T=_.body,P=_.defaultView,V=_.documentElement;if(T===y.dom)return zi(T.offsetLeft,T.offsetTop);const U=$c(P==null?void 0:P.pageYOffset,V.scrollTop),Q=$c(P==null?void 0:P.pageXOffset,V.scrollLeft),se=$c(V.clientTop,T.clientTop),be=$c(V.clientLeft,T.clientLeft);return Be(y).translate(Q-be,U-se)},Be=y=>{const _=y.dom,T=_.ownerDocument.body;return T===_?zi(T.offsetLeft,T.offsetTop):Pi(y)?(P=>{const V=P.getBoundingClientRect();return zi(V.left,V.top)})(_):zi(0,0)},sm=(y,_)=>({row:y,y:_}),ws=(y,_)=>({col:y,x:_}),ob=y=>Yd(y).left+yg(y),Cg=y=>Yd(y).left,Uc=(y,_)=>ws(y,Cg(_)),Lo=(y,_)=>ws(y,ob(_)),Za=y=>Yd(y).top,Cu=(y,_)=>sm(y,Za(_)),Vl=(y,_)=>sm(y,Za(_)+nb(_)),_u=(y,_,T)=>{if(T.length===0)return[];const P=D(T.slice(1),(U,Q)=>U.map(se=>y(Q,se))),V=T[T.length-1].map(U=>_(T.length-1,U));return P.concat([V])},Su={delta:ee,positions:y=>_u(Cu,Vl,y),edge:Za},ja=_o({delta:ee,edge:Cg,positions:y=>_u(Uc,Lo,y)},{delta:y=>-y,edge:ob,positions:y=>_u(Lo,Uc,y)}),Xd={delta:(y,_)=>ja(_).delta(y,_),positions:(y,_)=>ja(_).positions(y,_),edge:y=>ja(y).edge(y)},rm={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},sb=(()=>{const y="[0-9]+",_="[eE][+-]?"+y,T=V=>`(?:${V})?`,P=["Infinity",y+"\\."+T(y)+T(_),"\\."+y+T(_),y+T(_)].join("|");return new RegExp(`^([+-]?(?:${P}))(.*)$`)})(),aa=/(\d+(\.\d+)?)%/,Pn=/(\d+(\.\d+)?)px|em/,ku=Do("col"),am=Do("tr"),Ka=(y,_,T)=>{const P=bu(y).getOrThunk(()=>Lc(pu(y)));return _(y)/T(P)*100},Eu=(y,_)=>{fo(y,"width",_+"px")},_l=(y,_)=>{fo(y,"width",_+"%")},Au=(y,_)=>{fo(y,"height",_+"px")},ud=y=>{const _=(T=>{return qd(P=T,"height",P.dom.offsetHeight)+"px";var P})(y);return _?((T,P,V,U)=>{const Q=parseFloat(T);return Qt(T,"%")&&zt(P)!=="table"?((se,be,De,Ve)=>{const Ee=ol(se).map(Ie=>{const Pe=De(Ie);return Math.floor(be/100*Pe)}).getOr(be);return Ve(se,Ee),Ee})(P,Q,V,U):Q})(_,y,cd,Au):cd(y)},ia=(y,_)=>Li(y,_).orThunk(()=>po(y,_).map(T=>T+"px")),$l=y=>ia(y,"width"),Wc=y=>Ka(y,sl,Po),im=y=>{return ku(y)?sl(y):qd(_=y,"width",_.dom.offsetWidth);var _},d1=y=>am(y)?cd(y):((_,T,P)=>P(_)/od(_,"rowspan"))(y,0,ud),Tu=(y,_,T)=>{fo(y,"width",_+T)},Jd=y=>Ka(y,sl,Po)+"%",rb=K(aa),ir=Do("col"),_i=y=>$l(y).getOrThunk(()=>im(y)+"px"),ci=y=>{return(_=y,ia(_,"height")).getOrThunk(()=>d1(y)+"px");var _},Hi=(y,_,T,P,V,U)=>y.filter(P).fold(()=>U(((Q,se)=>{if(se<0||se>=Q.length-1)return ne.none();const be=Q[se].fold(()=>{const Ve=(Ee=>{const Ie=Ge.call(Ee,0);return Ie.reverse(),Ie})(Q.slice(0,se));return J(Ve,(Ee,Ie)=>Ee.map(Pe=>({value:Pe,delta:Ie+1})))},Ve=>ne.some({value:Ve,delta:0})),De=Q[se+1].fold(()=>{const Ve=Q.slice(se+1);return J(Ve,(Ee,Ie)=>Ee.map(Pe=>({value:Pe,delta:Ie+1})))},Ve=>ne.some({value:Ve,delta:1}));return be.bind(Ve=>De.map(Ee=>{const Ie=Ee.delta+Ve.delta;return Math.abs(Ee.value-Ve.value)/Ie}))})(T,_)),Q=>V(Q)),ea=(y,_,T,P)=>{const V=Eh(y),U=uc(y)?(be=>D(cc(be),De=>ne.from(De.element)))(y):V,Q=[ne.some(Xd.edge(_))].concat(D(Xd.positions(V,_),be=>be.map(De=>De.x))),se=Ue(Tr);return D(U,(be,De)=>Hi(be,De,Q,se,Ve=>{if((Ie=>{const Pe=u1().browser,Je=Pe.isChromium()||Pe.isFirefox();return!ir(Ie)||Je})(Ve))return T(Ve);{const Ie=(Ee=V[De])!=null?ee(Ee):ne.none();return Hi(Ie,De,Q,se,Pe=>P(ne.some(sl(Pe))),P)}var Ee},P))},Th=y=>y.map(_=>_+"px").getOr(""),qr=(y,_,T)=>ea(y,_,im,P=>P.getOrThunk(T.minCellWidth)),Aa=(y,_,T,P)=>{const V=ld(y),U=D(y.all,se=>ne.some(se.element)),Q=[ne.some(Su.edge(_))].concat(D(Su.positions(V,_),se=>se.map(be=>be.y)));return D(U,(se,be)=>Hi(se,be,Q,Ae,T,P))},Zc=(y,_)=>()=>Pi(y)?_(y):parseFloat(Li(y,"width").getOr("0")),At=y=>{const _=Zc(y,P=>parseFloat(Jd(P))),T=Zc(y,sl);return{width:_,pixelWidth:T,getWidths:(P,V)=>((U,Q,se)=>ea(U,Q,Wc,be=>be.fold(()=>se.minCellWidth(),De=>De/se.pixelWidth()*100)))(P,y,V),getCellDelta:P=>P/T()*100,singleColumnWidth:(P,V)=>[100-P],minCellWidth:()=>xl()/T()*100,setElementWidth:_l,adjustTableWidth:P=>{const V=_();_l(y,V+P/100*V)},isRelative:!0,label:"percent"}},Ta=y=>{const _=Zc(y,sl);return{width:_,pixelWidth:_,getWidths:(T,P)=>qr(T,y,P),getCellDelta:ee,singleColumnWidth:(T,P)=>[Math.max(xl(),T+P)-T],minCellWidth:xl,setElementWidth:Eu,adjustTableWidth:T=>{const P=_()+T;Eu(y,P)},isRelative:!1,label:"pixel"}},Oh=y=>$l(y).fold(()=>(_=>{const T=Zc(_,sl),P=K(0);return{width:T,pixelWidth:T,getWidths:(V,U)=>qr(V,_,U),getCellDelta:P,singleColumnWidth:K([0]),minCellWidth:P,setElementWidth:$,adjustTableWidth:$,isRelative:!0,label:"none"}})(y),_=>((T,P)=>rb().exec(P)!==null?At(T):Ta(T))(y,_)),lr=Ta,Ou=At,Si=(y,_,T)=>{const P=y[T].element,V=Vt.fromTag("td");nr(V,Vt.fromTag("br")),(_?nr:Xf)(P,V)},dc=((y,_)=>{const T=P=>y(P)?ne.from(P.dom.nodeValue):ne.none();return{get:P=>{if(!y(P))throw new Error("Can only get text value of a text node");return T(P).getOr("")},getOption:T,set:(P,V)=>{if(!y(P))throw new Error("Can only set raw text value of a text node");P.dom.nodeValue=V}}})(ao),lm=y=>dc.get(y),Vi=y=>dc.getOption(y),Bo=(y,_)=>dc.set(y,_),Dr=y=>zt(y)==="img"?1:Vi(y).fold(()=>fa(y).length,_=>_.length),Qd=["img","br"],Cr=y=>Vi(y).filter(_=>_.trim().length!==0||_.indexOf("")>-1).isSome()||nt(Qd,zt(y))||(_=>Cn(_)&&un(_,"contenteditable")==="false")(y),_g=y=>((_,T)=>{const P=V=>{for(let U=0;U<V.childNodes.length;U++){const Q=Vt.fromDom(V.childNodes[U]);if(T(Q))return ne.some(Q);const se=P(V.childNodes[U]);if(se.isSome())return se}return ne.none()};return P(_.dom)})(y,Cr),jc=y=>f1(y,Cr),f1=(y,_)=>{const T=P=>{const V=fa(P);for(let U=V.length-1;U>=0;U--){const Q=V[U];if(_(Q))return ne.some(Q);const se=T(Q);if(se.isSome())return se}return ne.none()};return T(y)},hr={scope:["row","col"]},et=y=>()=>{const _=Vt.fromTag("td",y.dom);return nr(_,Vt.fromTag("br",y.dom)),_},ki=y=>()=>Vt.fromTag("col",y.dom),Rr=y=>()=>Vt.fromTag("colgroup",y.dom),Dl=y=>()=>Vt.fromTag("tr",y.dom),fc=(y,_,T)=>{const P=((V,U)=>{const Q=Pc(V,U),se=fa(Mc(V));return bl(Q,se),Q})(y,_);return qo(T,(V,U)=>{V===null?io(P,U):ms(P,U,V)}),P},Vr=y=>y,zs=(y,_,T)=>{const P=(V,U)=>{((Q,se)=>{const be=Q.dom,De=se.dom;Io(be)&&Io(De)&&(De.style.cssText=be.style.cssText)})(V.element,U),nl(U,"height"),V.colspan!==1&&nl(U,"width")};return{col:V=>{const U=Vt.fromTag(zt(V.element),_.dom);return P(V,U),y(V.element,U),U},colgroup:Rr(_),row:Dl(_),cell:V=>{const U=Vt.fromTag(zt(V.element),_.dom),Q=T.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),se=Q.length>0?((be,De,Ve)=>_g(be).map(Ee=>{const Ie=Ve.join(","),Pe=ii(Ee,Ie,Je=>Os(Je,be));return hn(Pe,(Je,tt)=>{const Et=Qf(tt);return nr(Je,Et),Et},De)}).getOr(De))(V.element,U,Q):U;return nr(se,Vt.fromTag("br")),P(V,U),((be,De)=>{qo(hr,(Ve,Ee)=>po(be,Ee).filter(Ie=>nt(Ve,Ie)).each(Ie=>ms(De,Ee,Ie)))})(V.element,U),y(V.element,U),U},replace:fc,colGap:ki(_),gap:et(_)}},hs=y=>({col:ki(y),colgroup:Rr(y),row:Dl(y),cell:et(y),replace:Vr,colGap:ki(y),gap:et(y)}),Ei=y=>_=>_.options.get(y),Rl="100%",Kc=y=>{var _;const T=y.dom,P=(_=T.getParent(y.selection.getStart(),T.isBlock))!==null&&_!==void 0?_:y.getBody();return Po(Vt.fromDom(P))+"px"},dd=y=>ne.from(y.options.get("table_clone_elements")),cm=Ei("table_header_type"),Sg=Ei("table_column_resizing"),kg=y=>Sg(y)==="preservetable",ab=y=>Sg(y)==="resizetable",ib=Ei("table_sizing_mode"),Du=y=>ib(y)==="relative",I=y=>ib(y)==="fixed",Z=y=>ib(y)==="responsive",oe=Ei("table_resize_bars"),Oe=Ei("table_style_by_css"),ze=Ei("table_merge_content_on_paste"),Tt=y=>{const _=y.options,T=_.get("table_default_attributes");return _.isSet("table_default_attributes")?T:((P,V)=>Z(P)||Oe(P)?V:I(P)?{...V,width:Kc(P)}:{...V,width:Rl})(y,T)},Ln=Ei("table_use_colgroups"),ro=y=>je(y,"[contenteditable]"),Xn=(y,_=!1)=>Pi(y)?y.dom.isContentEditable:ro(y).fold(K(_),T=>_n(T)==="true"),_n=y=>y.dom.contentEditable,es=y=>Vt.fromDom(y.getBody()),Nr=y=>_=>Os(_,es(y)),cr=y=>{io(y,"data-mce-style");const _=T=>io(T,"data-mce-style");yt(gr(y),_),yt(lc(y),_),yt(Ls(y),_)},mc=y=>Vt.fromDom(y.selection.getStart()),um=y=>y.getBoundingClientRect().width,dm=y=>y.getBoundingClientRect().height,ta=y=>(_,T)=>{const P=_.dom.getStyle(T,y)||_.dom.getAttrib(T,y);return ne.from(P).filter(wo)},Ww=ta("width"),lb=ta("height"),m1=y=>Ye(y,Do("table")).exists(Xn),qa=(y,_)=>{const T=_.column,P=_.column+_.colspan-1,V=_.row,U=_.row+_.rowspan-1;return T<=y.finishCol&&P>=y.startCol&&V<=y.finishRow&&U>=y.startRow},pr=(y,_)=>_.column>=y.startCol&&_.column+_.colspan-1<=y.finishCol&&_.row>=y.startRow&&_.row+_.rowspan-1<=y.finishRow,ga=(y,_,T)=>{const P=id(y,_,Os),V=id(y,T,Os);return P.bind(U=>V.map(Q=>{return se=U,be=Q,{startRow:Math.min(se.row,be.row),startCol:Math.min(se.column,be.column),finishRow:Math.max(se.row+se.rowspan-1,be.row+be.rowspan-1),finishCol:Math.max(se.column+se.colspan-1,be.column+be.colspan-1)};var se,be}))},Ru=(y,_,T)=>ga(y,_,T).map(P=>{const V=Ea(y,he(qa,P));return D(V,U=>U.element)}),Dh=(y,_)=>id(y,_,(T,P)=>Hr(P,T)).map(T=>T.element),Ny=(y,_,T)=>{const P=al(y);return Ru(P,_,T)},Ul=(y,_,T,P,V)=>{const U=al(y),Q=Os(y,T)?ne.some(_):Dh(U,_),se=Os(y,V)?ne.some(P):Dh(U,P);return Q.bind(be=>se.bind(De=>Ru(U,be,De)))},al=bo;var cb=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],ef=()=>({up:K({selector:Re,closest:je,predicate:Se,all:gs}),down:K({selector:xs,predicate:ai}),styles:K({get:Ha,getRaw:Li,set:fo,remove:nl}),attrs:K({get:un,set:ms,remove:io,copyTo:(y,_)=>{const T=Ws(y);yi(_,T)}}),insert:K({before:en,after:yu,afterAll:Mi,append:nr,appendAll:bl,prepend:Xf,wrap:Jf}),remove:K({unwrap:ri,remove:qs}),create:K({nu:Vt.fromTag,clone:y=>Vt.fromDom(y.dom.cloneNode(!1)),text:Vt.fromText}),query:K({comparePosition:(y,_)=>y.dom.compareDocumentPosition(_.dom),prevSibling:Yn,nextSibling:Ol}),property:K({children:fa,name:zt,parent:el,document:y=>ic(y).dom,isText:ao,isComment:wn,isElement:En,isSpecial:y=>{const _=zt(y);return nt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],_)},getLanguage:y=>En(y)?po(y,"lang"):ne.none(),getText:lm,setText:Bo,isBoundary:y=>!!En(y)&&(zt(y)==="body"||nt(cb,zt(y))),isEmptyTag:y=>!!En(y)&&nt(["br","img","hr","input"],zt(y)),isNonEditable:y=>En(y)&&un(y,"contenteditable")==="false"}),eq:Os,is:Yf});const yk=(y,_,T,P)=>{const V=_(y,T);return hn(P,(U,Q)=>{const se=_(y,Q);return ub(y,U,se)},V)},ub=(y,_,T)=>_.bind(P=>T.filter(he(y.eq,P))),fd=ef(),tf=(y,_)=>((T,P,V)=>V.length>0?((U,Q,se,be)=>be(U,Q,se[0],se.slice(1)))(T,P,V,yk):ne.none())(fd,(T,P)=>y(P),_),yn=y=>Re(y,"table"),qc=(y,_,T)=>{const P=V=>U=>T!==void 0&&T(U)||Os(U,V);return Os(y,_)?ne.some({boxes:ne.some([y]),start:y,finish:_}):yn(y).bind(V=>yn(_).bind(U=>{if(Os(V,U))return ne.some({boxes:Ny(V,y,_),start:y,finish:_});if(Hr(V,U)){const Q=ii(_,"td,th",P(V)),se=Q.length>0?Q[Q.length-1]:_;return ne.some({boxes:Ul(V,y,V,_,U),start:y,finish:se})}if(Hr(U,V)){const Q=ii(y,"td,th",P(U)),se=Q.length>0?Q[Q.length-1]:y;return ne.some({boxes:Ul(U,y,V,_,U),start:y,finish:se})}return((Q,se,be)=>((De,Ve,Ee,Ie=te)=>{const Pe=[Ve].concat(De.up().all(Ve)),Je=[Ee].concat(De.up().all(Ee)),tt=Rt=>as(Rt,Ie).fold(()=>Rt,Ut=>Rt.slice(0,Ut+1)),Et=tt(Pe),Ot=tt(Je),kt=On(Et,Rt=>Ce(Ot,((Ut,Gt)=>he(Ut.eq,Gt))(De,Rt)));return{firstpath:Et,secondpath:Ot,shared:kt}})(fd,Q,se,void 0))(y,_).shared.bind(Q=>je(Q,"table",T).bind(se=>{const be=ii(_,"td,th",P(se)),De=be.length>0?be[be.length-1]:_,Ve=ii(y,"td,th",P(se)),Ee=Ve.length>0?Ve[Ve.length-1]:y;return ne.some({boxes:Ul(se,y,V,_,U),start:Ee,finish:De})}))}))},db=(y,_)=>{const T=xs(y,_);return T.length>0?ne.some(T):ne.none()},nf=(y,_,T)=>st(y,_).bind(P=>st(y,T).bind(V=>tf(yn,[P,V]).map(U=>({first:P,last:V,table:U})))),Ga=(y,_,T,P,V)=>((U,Q)=>On(U,se=>Qr(se,Q)))(y,V).bind(U=>((Q,se,be)=>ol(Q).bind(De=>((Ve,Ee,Ie,Pe)=>id(Ve,Ee,Os).bind(Je=>{const tt=Ie>0?Je.row+Je.rowspan-1:Je.row,Et=Pe>0?Je.column+Je.colspan-1:Je.column;return rl(Ve,tt+Ie,Et+Pe).map(Ot=>Ot.element)}))(al(De),Q,se,be)))(U,_,T).bind(Q=>((se,be)=>Re(se,"table").bind(De=>st(De,be).bind(Ve=>qc(Ve,se).bind(Ee=>Ee.boxes.map(Ie=>({boxes:Ie,start:Ee.start,finish:Ee.finish}))))))(Q,P))),gc=(y,_)=>db(y,_),Eg=(y,_,T)=>nf(y,_,T).bind(P=>{const V=be=>Os(y,be),U="thead,tfoot,tbody,table",Q=Re(P.first,U,V),se=Re(P.last,U,V);return Q.bind(be=>se.bind(De=>Os(be,De)?((Ve,Ee,Ie)=>((Pe,Je,tt)=>ga(Pe,Je,tt).bind(Et=>((Ot,kt)=>{let Rt=!0;const Ut=he(pr,kt);for(let Gt=kt.startRow;Gt<=kt.finishRow;Gt++)for(let ot=kt.startCol;ot<=kt.finishCol;ot++)Rt=Rt&&rl(Ot,Gt,ot).exists(Ut);return Rt?ne.some(kt):ne.none()})(Pe,Et)))(al(Ve),Ee,Ie))(P.table,P.first,P.last):ne.none()))}),of=ee,g1=y=>{const _=(T,P)=>po(T,P).exists(V=>parseInt(V,10)>1);return y.length>0&&Zt(y,T=>_(T,"rowspan")||_(T,"colspan"))?ne.some(y):ne.none()},Gc=(y,_,T)=>_.length<=1?ne.none():Eg(y,T.firstSelectedSelector,T.lastSelectedSelector).map(P=>({bounds:P,cells:_})),Rh="data-mce-selected",Nh="data-mce-first-selected",Mt="data-mce-last-selected",Iy="["+Rh+"]",sf={selected:Rh,selectedSelector:"td["+Rh+"],th["+Rh+"]",firstSelected:Nh,firstSelectedSelector:"td["+Nh+"],th["+Nh+"]",lastSelected:Mt,lastSelectedSelector:"td["+Mt+"],th["+Mt+"]"},go=(y,_,T)=>({element:T,mergable:Gc(_,y,sf),unmergable:g1(y),selection:of(y)}),Sn=y=>(_,T)=>{const P=zt(_),V=P==="col"||P==="colgroup"?ol(U=_).bind(Q=>gc(Q,sf.firstSelectedSelector)).fold(K(U),Q=>Q[0]):_;var U;return je(V,y,T)},rf=Sn("th,td,caption"),or=Sn("th,td"),hc=y=>{return _=y.model.table.getSelectedCells(),D(_,Vt.fromDom);var _},pc=(y,_)=>{y.on("BeforeGetContent",T=>{const P=V=>{T.preventDefault(),(U=>ol(U[0]).map(Q=>{const se=((be,De)=>{const Ve=Rt=>Qr(Rt.element,De),Ee=Mc(be),Ie=pg(Ee),Pe=Oh(be),Je=Kr(Ie),tt=((Rt,Ut)=>{const Gt=Rt.grid.columns;let ot=Rt.grid.rows,gn=Gt,Vn=0,co=0;const jn=[],$n=[];return qo(Rt.access,lo=>{if(jn.push(lo),Ut(lo)){$n.push(lo);const Mo=lo.row,Ur=Mo+lo.rowspan-1,di=lo.column,Ra=di+lo.colspan-1;Mo<ot?ot=Mo:Ur>Vn&&(Vn=Ur),di<gn?gn=di:Ra>co&&(co=Ra)}}),((lo,Mo,Ur,di,Ra,Kl)=>({minRow:lo,minCol:Mo,maxRow:Ur,maxCol:di,allCells:Ra,selectedCells:Kl}))(ot,gn,Vn,co,jn,$n)})(Je,Ve),Et="th:not("+De+"),td:not("+De+")",Ot=tm(Ee,"th,td",Rt=>Qr(Rt,Et));yt(Ot,qs),((Rt,Ut,Gt,ot)=>{const gn=cn(Rt,jn=>jn.section!=="colgroup"),Vn=Ut.grid.columns,co=Ut.grid.rows;for(let jn=0;jn<co;jn++){let $n=!1;for(let lo=0;lo<Vn;lo++)jn<Gt.minRow||jn>Gt.maxRow||lo<Gt.minCol||lo>Gt.maxCol||(rl(Ut,jn,lo).filter(ot).isNone()?Si(gn,$n,jn):$n=!0)}})(Ie,Je,tt,Ve);const kt=((Rt,Ut,Gt,ot)=>{if(ot.minCol===0&&Ut.grid.columns===ot.maxCol+1)return 0;const gn=qr(Ut,Rt,Gt),Vn=Qe(gn,($n,lo)=>$n+lo,0),co=Qe(gn.slice(ot.minCol,ot.maxCol+1),($n,lo)=>$n+lo,0),jn=co/Vn*Gt.pixelWidth()-Gt.pixelWidth();return Gt.getCellDelta(jn)})(be,bo(be),Pe,tt);return((Rt,Ut,Gt,ot)=>{qo(Gt.columns,Vn=>{(Vn.column<Ut.minCol||Vn.column>Ut.maxCol)&&qs(Vn.element)});const gn=cn(xu(Rt,"tr"),Vn=>Vn.dom.childElementCount===0);yt(gn,qs),Ut.minCol!==Ut.maxCol&&Ut.minRow!==Ut.maxRow||yt(xu(Rt,"th,td"),Vn=>{io(Vn,"rowspan"),io(Vn,"colspan")}),io(Rt,om),io(Rt,"data-snooker-col-series"),Oh(Rt).adjustTableWidth(ot)})(Ee,tt,Je,kt),Ee})(Q,Iy);return cr(se),[se]}))(V).each(U=>{T.content=T.format==="text"?(Q=>D(Q,se=>se.dom.innerText).join(""))(U):((Q,se)=>D(se,be=>Q.selection.serializer.serialize(be.dom,{})).join(""))(y,U)})};if(T.selection===!0){const V=(U=>cn(hc(U),Q=>Qr(Q,sf.selectedSelector)))(y);V.length>=1&&P(V)}}),y.on("BeforeSetContent",T=>{if(T.selection===!0&&T.paste===!0){const P=hc(y);xn(P).each(V=>{ol(V).each(U=>{const Q=cn(((be,De)=>{const Ve=document.createElement("div");return Ve.innerHTML=be,fa(Vt.fromDom(Ve))})(T.content),be=>zt(be)!=="meta"),se=Do("table");if(ze(y)&&Q.length===1&&se(Q[0])){T.preventDefault();const be=Vt.fromDom(y.getDoc()),De=hs(be),Ve=((Ee,Ie,Pe)=>({element:Ee,clipboard:Ie,generators:Pe}))(V,Q[0],De);_.pasteCells(U,Ve).each(()=>{y.focus()})}})})}})},to=(y,_)=>({element:y,offset:_}),Ih=(y,_,T)=>y.property().isText(_)&&y.property().getText(_).trim().length===0||y.property().isComment(_)?T(_).bind(P=>Ih(y,P,T).orThunk(()=>ne.some(P))):ne.none(),Zw=(y,_)=>y.property().isText(_)?y.property().getText(_).length:y.property().children(_).length,xt=(y,_)=>{const T=Ih(y,_,y.query().prevSibling).getOr(_);if(y.property().isText(T))return to(T,Zw(y,T));const P=y.property().children(T);return P.length>0?xt(y,P[P.length-1]):to(T,Zw(y,T))},By=xt,Bh=ef(),Mh=(y,_)=>{Tr(y)||(P=>$l(P).bind(V=>{return U=V,Q=["fixed","relative","empty"],ne.from(sb.exec(U)).bind(se=>{const be=Number(se[1]),De=se[2];return((Ve,Ee)=>Ce(Ee,Ie=>Ce(rm[Ie],Pe=>Ve===Pe)))(De,Q)?ne.some({value:be,unit:De}):ne.none()});var U,Q}))(y).each(P=>{const V=P.value/2;Tu(y,V,P.unit),Tu(_,V,P.unit)})},Ag=y=>D(y,K(0)),fm=(y,_,T,P,V)=>V(y.slice(0,_)).concat(P).concat(V(y.slice(T))),jw=y=>(_,T,P,V)=>{if(y(P)){const U=Math.max(V,_[T]-Math.abs(P)),Q=Math.abs(U-_[T]);return P>=0?Q:-Q}return P},af=jw(y=>y<0),Zs=jw(Ae),Nu=()=>{const y=(T,P,V,U)=>{const Q=(100+V)/100,se=Math.max(U,(T[P]+V)/Q);return D(T,(be,De)=>(De===P?se:be/Q)-be)},_=(T,P,V,U,Q,se)=>se?y(T,P,U,Q):((be,De,Ve,Ee,Ie)=>{const Pe=af(be,De,Ee,Ie);return fm(be,De,Ve+1,[Pe,0],Ag)})(T,P,V,U,Q);return{resizeTable:(T,P)=>T(P),clampTableDelta:af,calcLeftEdgeDeltas:_,calcMiddleDeltas:(T,P,V,U,Q,se,be)=>_(T,V,U,Q,se,be),calcRightEdgeDeltas:(T,P,V,U,Q,se)=>{if(se)return y(T,V,U,Q);{const be=af(T,V,U,Q);return Ag(T.slice(0,V)).concat([be])}},calcRedestributedWidths:(T,P,V,U)=>{if(U){const Q=(P+V)/P,se=D(T,be=>be/Q);return{delta:100*Q-100,newSizes:se}}return{delta:V,newSizes:T}}}},h1=()=>{const y=(_,T,P,V,U)=>{const Q=Zs(_,V>=0?P:T,V,U);return fm(_,T,P+1,[Q,-Q],Ag)};return{resizeTable:(_,T,P)=>{P&&_(T)},clampTableDelta:(_,T,P,V,U)=>{if(U){if(P>=0)return P;{const Q=Qe(_,(se,be)=>se+be-V,0);return Math.max(-Q,P)}}return af(_,T,P,V)},calcLeftEdgeDeltas:y,calcMiddleDeltas:(_,T,P,V,U,Q)=>y(_,P,V,U,Q),calcRightEdgeDeltas:(_,T,P,V,U,Q)=>{if(Q)return Ag(_);{const se=V/_.length;return D(_,K(se))}},calcRedestributedWidths:(_,T,P,V)=>({delta:0,newSizes:_})}},Yc=y=>bo(y).grid,mm=Do("th"),Wl=y=>Zt(y,_=>mm(_.element)),Ir=(y,_)=>y&&_?"sectionCells":y?"section":"cells",fb=y=>{const _=y.section==="thead",T=Lt(ha(y.cells),"th");return y.section==="tfoot"?{type:"footer"}:_||T?{type:"header",subType:Ir(_,T)}:{type:"body"}},ha=y=>{const _=cn(y,T=>mm(T.element));return _.length===0?ne.some("td"):_.length===y.length?ne.some("th"):ne.none()},p1=(y,_,T)=>wr(T(y.element,_),!0,y.isLocked),bc=(y,_)=>y.section!==_?jr(y.element,y.cells,_,y.isNew):y,pa=()=>({transformRow:bc,transformCell:(y,_,T)=>{const P=T(y.element,_),V=zt(P)!=="td"?((U,Q)=>{const se=Pc(U,"td");yu(U,se);const be=fa(U);return bl(se,be),qs(U),se})(P):P;return wr(V,y.isNew,y.isLocked)}}),Ft=()=>({transformRow:bc,transformCell:p1}),gm=()=>({transformRow:(y,_)=>bc(y,_==="thead"?"tbody":_),transformCell:p1}),ba=pa,Kw=Ft,qw=gm,xk=()=>({transformRow:ee,transformCell:p1}),md=(y,_,T,P)=>{T===P?io(y,_):ms(y,_,T)},Tg=(y,_,T)=>{Rn(Fc(y,_)).fold(()=>Xf(y,T),P=>yu(P,T))},mb=(y,_)=>{const T=[],P=[],V=Ie=>D(Ie,Pe=>{Pe.isNew&&T.push(Pe.element);const Je=Pe.element;return tl(Je),yt(Pe.cells,tt=>{tt.isNew&&P.push(tt.element),md(tt.element,"colspan",tt.colspan,1),md(tt.element,"rowspan",tt.rowspan,1),nr(Je,tt.element)}),Je}),U=Ie=>bt(Ie,Pe=>D(Pe.cells,Je=>(md(Je.element,"span",Je.colspan,1),Je.element))),Q=(Ie,Pe)=>{const Je=((Et,Ot)=>{const kt=lt(Et,Ot).getOrThunk(()=>{const Rt=Vt.fromTag(Ot,pu(Et).dom);return Ot==="thead"?Tg(Et,"caption,colgroup",Rt):Ot==="colgroup"?Tg(Et,"caption",Rt):nr(Et,Rt),Rt});return tl(kt),kt})(y,Pe),tt=(Pe==="colgroup"?U:V)(Ie);bl(Je,tt)},se=(Ie,Pe)=>{Ie.length>0?Q(Ie,Pe):(Je=>{lt(y,Je).each(qs)})(Pe)},be=[],De=[],Ve=[],Ee=[];return yt(_,Ie=>{switch(Ie.section){case"thead":be.push(Ie);break;case"tbody":De.push(Ie);break;case"tfoot":Ve.push(Ie);break;case"colgroup":Ee.push(Ie)}}),se(Ee,"colgroup"),se(be,"thead"),se(De,"tbody"),se(Ve,"tfoot"),{newRows:T,newCells:P}},b1=(y,_)=>{if(y.length===0)return 0;const T=y[0];return as(y,P=>!_(T.element,P.element)).getOr(y.length)},My=(y,_)=>{const T=D(y,P=>D(P.cells,te));return D(y,(P,V)=>{const U=bt(P.cells,(Q,se)=>{if(T[V][se]===!1){const Ie=((Pe,Je,tt,Et)=>{const Ot=((Gt,ot)=>Gt[ot])(Pe,Je),kt=Ot.section==="colgroup",Rt=b1(Ot.cells.slice(tt),Et),Ut=kt?1:b1(((Gt,ot)=>D(Gt,gn=>Or(gn,ot)))(Pe.slice(Je),tt),Et);return{colspan:Rt,rowspan:Ut}})(y,V,se,_);return((Pe,Je,tt,Et)=>{for(let Ot=Pe;Ot<Pe+tt;Ot++)for(let kt=Je;kt<Je+Et;kt++)T[Ot][kt]=!0})(V,se,Ie.rowspan,Ie.colspan),[(be=Q.element,De=Ie.rowspan,Ve=Ie.colspan,Ee=Q.isNew,{element:be,rowspan:De,colspan:Ve,isNew:Ee})]}return[];var be,De,Ve,Ee});return((Q,se,be,De)=>({element:Q,cells:se,section:be,isNew:De}))(P.element,U,P.section,P.isNew)})},ur=(y,_,T)=>{const P=[];yt(y.colgroups,V=>{const U=[];for(let Q=0;Q<y.grid.columns;Q++){const se=us(y,Q).map(be=>wr(be.element,T,!1)).getOrThunk(()=>wr(_.colGap(),!0,!1));U.push(se)}P.push(jr(V.element,U,"colgroup",T))});for(let V=0;V<y.grid.rows;V++){const U=[];for(let be=0;be<y.grid.columns;be++){const De=rl(y,V,be).map(Ve=>wr(Ve.element,T,Ve.isLocked)).getOrThunk(()=>wr(_.gap(),!0,!1));U.push(De)}const Q=y.all[V],se=jr(Q.element,U,Q.section,T);P.push(se)}return P},gb=y=>My(y,Os),br=(y,_)=>J(y.all,T=>On(T.cells,P=>Os(_,P.element))),$i=(y,_,T)=>{const P=D(_.selection,U=>_h(U).bind(Q=>br(y,Q)).filter(T)),V=Xt(P);return on(V.length>0,V)},Br=(y,_,T,P,V)=>(U,Q,se,be)=>{const De=bo(U),Ve=ne.from(be==null?void 0:be.section).getOrThunk(xk);return _(De,Q).map(Ee=>{const Ie=((tt,Et)=>ur(tt,Et,!1))(De,se),Pe=y(Ie,Ee,Os,V(se),Ve),Je=wi(Pe.grid);return{info:Ee,grid:gb(Pe.grid),cursor:Pe.cursor,lockedColumns:Je}}).bind(Ee=>{const Ie=mb(U,Ee.grid),Pe=ne.from(be==null?void 0:be.sizing).getOrThunk(()=>Oh(U)),Je=ne.from(be==null?void 0:be.resize).getOrThunk(h1);return T(U,Ee.grid,Ee.info,{sizing:Pe,resize:Je,section:Ve}),P(U),io(U,om),Ee.lockedColumns.length>0&&ms(U,om,Ee.lockedColumns.join(",")),ne.some({cursor:Ee.cursor,newRows:Ie.newRows,newCells:Ie.newCells})})},Zl=(y,_)=>$i(y,_,Ae).map(T=>({cells:T,generators:_.generators,clipboard:_.clipboard})),gd=(y,_)=>$i(y,_,Ae),Oa=(y,_)=>$i(y,_,T=>!T.isLocked),hb=(y,_)=>Zt(_,T=>((P,V)=>br(P,V).exists(U=>!U.isLocked))(y,T)),Ph=(y,_,T,P)=>{const V=Fs(y).rows;let U=!0;for(let Q=0;Q<V.length;Q++)for(let se=0;se<ka(V[0]);se++){const be=V[Q],De=Or(be,se),Ve=T(De.element,_);Ve&&!U?wg(be,se,wr(P(),!0,De.isLocked)):Ve&&(U=!1)}return y},lf=y=>{const _=U=>U(y),T=K(y),P=()=>V,V={tag:!0,inner:y,fold:(U,Q)=>Q(y),isValue:Ae,isError:te,map:U=>Lh.value(U(y)),mapError:P,bind:_,exists:_,forall:_,getOr:T,or:P,getOrThunk:T,orThunk:P,getOrDie:T,each:U=>{U(y)},toOptional:()=>ne.some(y)};return V},Gw=y=>{const _=()=>T,T={tag:!1,inner:y,fold:(V,U)=>V(y),isValue:te,isError:Ae,map:_,mapError:V=>Lh.error(V(y)),bind:_,exists:te,forall:Ae,getOr:ee,or:ee,getOrThunk:Te,orThunk:Te,getOrDie:(P=String(y),()=>{throw new Error(P)}),each:$,toOptional:ne.none};var P;return T},Lh={value:lf,error:Gw,fromOption:(y,_)=>y.fold(()=>Gw(_),lf)},Py=(y,_)=>({rowDelta:0,colDelta:ka(y[0])-ka(_[0])}),v1=(y,_)=>({rowDelta:y.length-_.length,colDelta:0}),pb=(y,_,T,P)=>{const V=_.section==="colgroup"?T.col:T.cell;return Ne(y,U=>wr(V(),!0,P(U)))},y1=(y,_,T,P)=>{const V=y[y.length-1];return y.concat(Ne(_,()=>{const U=V.section==="colgroup"?T.colgroup:T.row,Q=Gd(V,U,ee),se=pb(Q.cells.length,Q,T,be=>Me(P,be.toString()));return xi(Q,se)}))},Ly=(y,_,T,P)=>D(y,V=>{const U=pb(_,V,T,te);return rd(V,P,U)}),hm=(y,_,T)=>{const P=_.colDelta<0?Ly:ee,V=_.rowDelta<0?y1:ee,U=wi(y),Q=ka(y[0]),se=Ce(U,Ve=>Ve===Q-1),be=P(y,Math.abs(_.colDelta),T,se?Q-1:Q),De=wi(be);return V(be,Math.abs(_.rowDelta),T,Us(De,Ae))},wk=(y,_,T,P)=>{const V=he(P,Or(y[_],T).element),U=y[_];return y.length>1&&ka(U)>1&&(T>0&&V(Ys(U,T-1))||T<U.cells.length-1&&V(Ys(U,T+1))||_>0&&V(Ys(y[_-1],T))||_<y.length-1&&V(Ys(y[_+1],T)))},x1=(y,_,T)=>cn(T,P=>P>=y.column&&P<=ka(_[0])+y.column),w1=(y,_,T,P,V)=>{((De,Ve,Ee,Ie)=>{Ve>0&&Ve<De[0].cells.length&&yt(De,Pe=>{const Je=Pe.cells[Ve-1];let tt=0;const Et=Ie();for(;Pe.cells.length>Ve+tt&&Ee(Je.element,Pe.cells[Ve+tt].element);)wg(Pe,Ve+tt,wr(Et,!0,Pe.cells[Ve+tt].isLocked)),tt++})})(_,y,V,P.cell);const U=v1(T,_),Q=hm(T,U,P),se=v1(_,Q),be=hm(_,se,P);return D(be,(De,Ve)=>rd(De,y,Q[Ve].cells))},Fy=(y,_,T,P,V)=>{((kt,Rt,Ut,Gt)=>{const ot=Fs(kt).rows;if(Rt>0&&Rt<ot.length){const gn=((Vn,co)=>Qe(Vn,(jn,$n)=>Ce(jn,lo=>co(lo.element,$n.element))?jn:jn.concat([$n]),[]))(ot[Rt-1].cells,Ut);yt(gn,Vn=>{let co=ne.none();for(let jn=Rt;jn<ot.length;jn++)for(let $n=0;$n<ka(ot[0]);$n++){const lo=ot[jn],Mo=Or(lo,$n);Ut(Mo.element,Vn.element)&&(co.isNone()&&(co=ne.some(Gt())),co.each(Ur=>{wg(lo,$n,wr(Ur,!0,Mo.isLocked))}))}})}})(_,y,V,P.cell);const U=wi(_),Q=Py(_,T),se={...Q,colDelta:Q.colDelta-U.length},be=hm(_,se,P),{cols:De,rows:Ve}=Fs(be),Ee=wi(be),Ie=Py(T,_),Pe={...Ie,colDelta:Ie.colDelta+Ee.length},Je=(Et=P,Ot=Ee,D(T,kt=>Qe(Ot,(Rt,Ut)=>{const Gt=pb(1,kt,Et,Ae)[0];return xg(Rt,Ut,Gt)},kt))),tt=hm(Je,Pe,P);var Et,Ot;return[...De,...Ve.slice(0,y),...tt,...Ve.slice(y,Ve.length)]},zy=(y,_,T,P,V)=>{const{rows:U,cols:Q}=Fs(y),se=U.slice(0,_),be=U.slice(_);return[...Q,...se,((De,Ve,Ee,Ie)=>Gd(De,Pe=>Ie(Pe,Ee),Ve))(U[T],(De,Ve)=>_>0&&_<U.length&&P(Ys(U[_-1],Ve),Ys(U[_],Ve))?Or(U[_],Ve):wr(V(De.element,P),!0,De.isLocked),P,V),...be]},bb=(y,_,T,P,V)=>D(y,U=>{const Q=_>0&&_<ka(U)&&P(Ys(U,_-1),Ys(U,_)),se=((be,De,Ve,Ee,Ie,Pe,Je)=>{if(Ve!=="colgroup"&&Ee)return Or(be,De);{const tt=Or(be,Ie);return wr(Je(tt.element,Pe),!0,!1)}})(U,_,U.section,Q,T,P,V);return xg(U,_,se)}),Hy=(y,_,T,P)=>((V,U,Q,se)=>Ys(V[U],Q)!==void 0&&U>0&&se(Ys(V[U-1],Q),Ys(V[U],Q)))(y,_,T,P)||((V,U,Q)=>U>0&&Q(Ys(V,U-1),Ys(V,U)))(y[_],T,P),Vy=(y,_,T,P)=>{const V=U=>(Q=>Q==="row"?(se=>od(se,"rowspan")>1)(_):Tr(_))(U)?`${U}group`:U;return y?mm(_)?V(T):null:P&&mm(_)?V(T==="row"?"col":"row"):null},vb=(y,_,T)=>wr(T(y.element,_),!0,y.isLocked),Fh=(y,_,T,P,V,U,Q)=>D(y,(se,be)=>((De,Ve)=>{const Ee=De.cells,Ie=D(Ee,(Pe,Je)=>{if((tt=>Ce(_,Et=>T(tt.element,Et.element)))(Pe)){const tt=Q(Pe,be,Je)?V(Pe,T,P):Pe;return U(tt,be,Je).each(Et=>{var Ot,kt;Ot=tt.element,kt={scope:ne.from(Et)},qo(kt,(Rt,Ut)=>{Rt.fold(()=>{io(Ot,Ut)},Gt=>{Ar(Ot.dom,Ut,Gt)})})}),tt}return Pe});return jr(De.element,Ie,De.section,De.isNew)})(se)),$y=(y,_,T)=>bt(y,(P,V)=>Hy(y,V,_,T)?[]:[Or(P,_)]),yb=(y,_,T,P,V)=>{const U=Fs(y).rows,Q=bt(_,Ve=>$y(U,Ve,P)),se=D(U,Ve=>Wl(Ve.cells)),be=((Ve,Ee)=>Zt(Ee,ee)&&Wl(Ve)?Ae:(Ie,Pe,Je)=>!(zt(Ie.element)==="th"&&Ee[Pe]))(Q,se);return Fh(y,Q,P,V,vb,((Ve,Ee)=>(Ie,Pe)=>ne.some(Vy(Ve,Ie.element,"row",Ee[Pe])))(T,se),be)},xb=(y,_,T,P)=>{const V=Fs(y).rows,U=D(_,Q=>Or(V[Q.row],Q.column));return Fh(y,U,T,P,vb,ne.none,Ae)},pm=y=>{if(!x(y))throw new Error("cases must be an array");if(y.length===0)throw new Error("there must be at least one case");const _=[],T={};return yt(y,(P,V)=>{const U=ls(P);if(U.length!==1)throw new Error("one and only one name per case");const Q=U[0],se=P[Q];if(T[Q]!==void 0)throw new Error("duplicate key detected:"+Q);if(Q==="cata")throw new Error("cannot have a case named cata (sorry)");if(!x(se))throw new Error("case arguments must be an array");_.push(Q),T[Q]=(...be)=>{const De=be.length;if(De!==se.length)throw new Error("Wrong number of arguments to case "+Q+". Expected "+se.length+" ("+se+"), got "+De);return{fold:(...Ve)=>{if(Ve.length!==y.length)throw new Error("Wrong number of arguments to fold. Expected "+y.length+", got "+Ve.length);return Ve[V].apply(null,be)},match:Ve=>{const Ee=ls(Ve);if(_.length!==Ee.length)throw new Error("Wrong number of arguments to match. Expected: "+_.join(",")+`
Actual: `+Ee.join(","));if(!Zt(_,Ie=>nt(Ee,Ie)))throw new Error("Not all branches were specified when using match. Specified: "+Ee.join(", ")+`
Required: `+_.join(", "));return Ve[Q].apply(null,be)},log:Ve=>{console.log(Ve,{constructors:_,constructor:Q,params:be})}}}}),T},zh={...pm([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Uy=(y,_,T)=>{const P=((V,U)=>uc(V)?((Q,se)=>{const be=cc(Q);return D(be,(De,Ve)=>({element:De.element,width:se[Ve],colspan:De.colspan}))})(V,U):((Q,se)=>{const be=Dn(Q);return D(be,De=>{const Ve=((Ee,Ie,Pe)=>{let Je=0;for(let tt=Ee;tt<Ie;tt++)Je+=Pe[tt]!==void 0?Pe[tt]:0;return Je})(De.column,De.column+De.colspan,se);return{element:De.element,width:Ve,colspan:De.colspan}})})(V,U))(y,_);yt(P,V=>{T.setElementWidth(V.element,V.width)})},hd=(y,_,T,P,V)=>{const U=bo(y),Q=V.getCellDelta(_),se=V.getWidths(U,V),be=T===U.grid.columns-1,De=P.clampTableDelta(se,T,Q,V.minCellWidth(),be),Ve=((Ie,Pe,Je,tt,Et)=>{const Ot=Ie.slice(0),kt=((Ut,Gt)=>Ut.length===0?zh.none():Ut.length===1?zh.only(0):Gt===0?zh.left(0,1):Gt===Ut.length-1?zh.right(Gt-1,Gt):Gt>0&&Gt<Ut.length-1?zh.middle(Gt-1,Gt,Gt+1):zh.none())(Ie,Pe),Rt=K(D(Ot,K(0)));return kt.fold(Rt,Ut=>tt.singleColumnWidth(Ot[Ut],Je),(Ut,Gt)=>Et.calcLeftEdgeDeltas(Ot,Ut,Gt,Je,tt.minCellWidth(),tt.isRelative),(Ut,Gt,ot)=>Et.calcMiddleDeltas(Ot,Ut,Gt,ot,Je,tt.minCellWidth(),tt.isRelative),(Ut,Gt)=>Et.calcRightEdgeDeltas(Ot,Ut,Gt,Je,tt.minCellWidth(),tt.isRelative))})(se,T,De,V,P),Ee=D(Ve,(Ie,Pe)=>Ie+se[Pe]);Uy(U,Ee,V),P.resizeTable(V.adjustTableWidth,De,be)},Og=(y,_,T)=>{const P=bo(y),V=((be,De)=>Aa(be,De,d1,Ve=>Ve.getOrThunk(os)))(P,y),U=D(V,(be,De)=>T===De?Math.max(_+be,os()):be),Q=((be,De)=>D(be.all,(Ve,Ee)=>({element:Ve.element,height:De[Ee]})))(P,U);yt(Q,be=>{Au(be.element,be.height)}),yt(Dn(P),be=>{(De=>{nl(De,"height")})(be.element)});const se=hn(U,(be,De)=>be+De,0);Au(y,se)},Dg=y=>Qe(y,(_,T)=>Ce(_,P=>P.column===T.column)?_:_.concat([T]),[]).sort((_,T)=>_.column-T.column),pd=Do("col"),cf=Do("colgroup"),wb=y=>zt(y)==="tr"||cf(y),Ck=y=>({element:y,colspan:ar(y,"colspan",1),rowspan:ar(y,"rowspan",1)}),Cb=y=>po(y,"scope").map(_=>_.substr(0,3)),vc=(y,_=Ck)=>{const T=V=>{if(wb(V))return cf((U={element:V}).element)?y.colgroup(U):y.row(U);{const Q=V,se=(be=>pd(be.element)?y.col(be):y.cell(be))(_(Q));return P=ne.some({item:Q,replacement:se}),se}var U};let P=ne.none();return{getOrInit:(V,U)=>P.fold(()=>T(V),Q=>U(V,Q.item)?Q.replacement:T(V))}},Yw=y=>_=>{const T=[],P=V=>{const U=y==="td"?{scope:null}:{},Q=_.replace(V,y,U);return T.push({item:V,sub:Q}),Q};return{replaceOrInit:(V,U)=>{if(wb(V)||pd(V))return V;{const Q=V;return((se,be)=>On(T,De=>be(De.item,se)))(Q,U).fold(()=>P(Q),se=>U(V,se.item)?se.sub:P(Q))}}}},Wy=y=>({unmerge:_=>{const T=Cb(_);return T.each(P=>ms(_,"scope",P)),()=>{const P=y.cell({element:_,colspan:1,rowspan:1});return nl(P,"width"),nl(_,"width"),T.each(V=>ms(P,"scope",V)),P}},merge:_=>(nl(_[0],"width"),(()=>{const T=Xt(D(_,Cb));if(T.length===0)return ne.none();{const P=T[0],V=["row","col"];return Ce(T,U=>U!==P&&nt(V,U))?ne.none():ne.from(P)}})().fold(()=>io(_[0],"scope"),T=>ms(_[0],"scope",T+"group")),K(_[0]))}),Rg=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Ya=ef(),Ng=y=>((_,T)=>{const P=_.property().name(T);return nt(Rg,P)})(Ya,y),Ig=y=>((_,T)=>{const P=_.property().name(T);return nt(["ol","ul"],P)})(Ya,y),C1=y=>{const _=Do("br"),T=V=>jc(V).bind(U=>{const Q=Ol(U).map(se=>!!Ng(se)||!!((be,De)=>nt(["br","img","hr","input"],be.property().name(De)))(Ya,se)&&zt(se)!=="img").getOr(!1);return el(U).map(se=>{return Q===!0||zt(be=se)==="li"||Se(be,Ig).isSome()||_(U)||Ng(se)&&!Os(V,se)?[]:[Vt.fromTag("br")];var be})}).getOr([]),P=(()=>{const V=bt(y,U=>{const Q=fa(U);return(se=>Zt(se,be=>_(be)||ao(be)&&lm(be).trim().length===0))(Q)?[]:Q.concat(T(U))});return V.length===0?[Vt.fromTag("br")]:V})();tl(y[0]),bl(y[0],P)},Fo=y=>Xn(y,!0),il=y=>{gr(y).length===0&&qs(y)},Iu=(y,_)=>({grid:y,cursor:_}),ui=(y,_,T)=>{const P=((V,U,Q)=>{var se,be;const De=Fs(V).rows;return ne.from((be=(se=De[U])===null||se===void 0?void 0:se.cells[Q])===null||be===void 0?void 0:be.element).filter(Fo).orThunk(()=>(Ve=>J(Ve,Ee=>J(Ee.cells,Ie=>{const Pe=Ie.element;return on(Fo(Pe),Pe)})))(De))})(y,_,T);return Iu(y,P)},Is=y=>Qe(y,(_,T)=>Ce(_,P=>P.row===T.row)?_:_.concat([T]),[]).sort((_,T)=>_.row-T.row),_b=(y,_)=>(T,P,V,U,Q)=>{const se=Is(P),be=D(se,Ve=>Ve.row),De=((Ve,Ee,Ie,Pe,Je,tt,Et)=>{const{cols:Ot,rows:kt}=Fs(Ve),Rt=kt[Ee[0]],Ut=bt(Ee,jn=>(($n,lo,Mo)=>{const Ur=$n[lo];return bt(Ur.cells,(di,Ra)=>Hy($n,lo,Ra,Mo)?[]:[di])})(kt,jn,Je)),Gt=D(Rt.cells,(jn,$n)=>Wl($y(kt,$n,Je))),ot=[...kt];yt(Ee,jn=>{ot[jn]=Et.transformRow(kt[jn],Ie)});const gn=[...Ot,...ot],Vn=((jn,$n)=>Zt($n,ee)&&Wl(jn.cells)?Ae:(lo,Mo,Ur)=>!(zt(lo.element)==="th"&&$n[Ur]))(Rt,Gt),co=((jn,$n)=>(lo,Mo,Ur)=>ne.some(Vy(jn,lo.element,"col",$n[Ur])))(Pe,Gt);return Fh(gn,Ut,Je,tt,Et.transformCell,co,Vn)})(T,be,y,_,V,U.replaceOrInit,Q);return ui(De,P[0].row,P[0].column)},Xw=_b("thead",!0),_k=_b("tbody",!1),Xs=_b("tfoot",!1),_1=(y,_,T)=>{const P=((U,Q)=>wl(U,()=>Q))(y,T.section),V=Kr(P);return ur(V,_,!0)},Zy=(y,_,T,P)=>((V,U,Q,se)=>{const be=Kr(U),De=se.getWidths(be,se);Uy(be,De,se)})(0,_,0,P.sizing),bm=(y,_,T,P)=>((V,U,Q,se,be)=>{const De=Kr(U),Ve=se.getWidths(De,se),Ee=se.pixelWidth(),{newSizes:Ie,delta:Pe}=be.calcRedestributedWidths(Ve,Ee,Q.pixelDelta,se.isRelative);Uy(De,Ie,se),se.adjustTableWidth(Pe)})(0,_,T,P.sizing,P.resize),yc=(y,_)=>Ce(_,T=>T.column===0&&T.isLocked),Hh=(y,_)=>Ce(_,T=>T.column+T.colspan>=y.grid.columns&&T.isLocked),mn=(y,_)=>{const T=Eh(y),P=Dg(_);return Qe(P,(V,U)=>V+T[U.column].map(yg).getOr(0),0)},Xc=y=>(_,T)=>gd(_,T).filter(P=>!(y?yc:Hh)(_,P)).map(P=>({details:P,pixelDelta:mn(_,P)})),jy=y=>(_,T)=>Zl(_,T).filter(P=>!(y?yc:Hh)(_,P.cells)),S1=Yw("th"),Vh=Yw("td"),k1=Br((y,_,T,P)=>{const V=_[0].row,U=Is(_),Q=hn(U,(se,be)=>({grid:zy(se.grid,V,be.row+se.delta,T,P.getOrInit),delta:se.delta+1}),{grid:y,delta:0}).grid;return ui(Q,V,_[0].column)},gd,$,$,vc),Bg=Br((y,_,T,P)=>{const V=Is(_),U=V[V.length-1],Q=U.row+U.rowspan,se=hn(V,(be,De)=>zy(be,Q,De.row,T,P.getOrInit),y);return ui(se,Q,_[0].column)},gd,$,$,vc),xc=Br((y,_,T,P)=>{const V=_.details,U=Dg(V),Q=U[0].column,se=hn(U,(be,De)=>({grid:bb(be.grid,Q,De.column+be.delta,T,P.getOrInit),delta:be.delta+1}),{grid:y,delta:0}).grid;return ui(se,V[0].row,Q)},Xc(!0),bm,$,vc),Sk=Br((y,_,T,P)=>{const V=_.details,U=V[V.length-1],Q=U.column+U.colspan,se=Dg(V),be=hn(se,(De,Ve)=>bb(De,Q,Ve.column,T,P.getOrInit),y);return ui(be,V[0].row,Q)},Xc(!1),bm,$,vc),E1=Br((y,_,T,P)=>{const V=Dg(_.details),U=((se,be)=>bt(se,De=>{const Ve=De.cells,Ee=hn(be,(Ie,Pe)=>Pe>=0&&Pe<Ie.length?Ie.slice(0,Pe).concat(Ie.slice(Pe+1)):Ie,Ve);return Ee.length>0?[jr(De.element,Ee,De.section,De.isNew)]:[]}))(y,D(V,se=>se.column)),Q=U.length>0?U[0].cells.length-1:0;return ui(U,V[0].row,Math.min(V[0].column,Q))},(y,_)=>Oa(y,_).map(T=>({details:T,pixelDelta:-mn(y,T)})),bm,il,vc),Ky=Br((y,_,T,P)=>{const V=Is(_),U=((se,be,De)=>{const{rows:Ve,cols:Ee}=Fs(se);return[...Ee,...Ve.slice(0,be),...Ve.slice(De+1)]})(y,V[0].row,V[V.length-1].row),Q=Math.max(Fs(U).rows.length-1,0);return ui(U,Math.min(_[0].row,Q),_[0].column)},gd,$,il,vc),A1=Br((y,_,T,P)=>{const V=Dg(_),U=D(V,se=>se.column),Q=yb(y,U,!0,T,P.replaceOrInit);return ui(Q,_[0].row,_[0].column)},Oa,$,$,S1),qy=Br((y,_,T,P)=>{const V=Dg(_),U=D(V,se=>se.column),Q=yb(y,U,!1,T,P.replaceOrInit);return ui(Q,_[0].row,_[0].column)},Oa,$,$,Vh),Gy=Br(Xw,Oa,$,$,S1),T1=Br(_k,Oa,$,$,Vh),Yy=Br(Xs,Oa,$,$,Vh),Xy=Br((y,_,T,P)=>{const V=xb(y,_,T,P.replaceOrInit);return ui(V,_[0].row,_[0].column)},Oa,$,$,S1),Jw=Br((y,_,T,P)=>{const V=xb(y,_,T,P.replaceOrInit);return ui(V,_[0].row,_[0].column)},Oa,$,$,Vh),kk=Br((y,_,T,P)=>{const V=_.cells;C1(V);const U=((Q,se,be,De)=>{const Ve=Fs(Q).rows;if(Ve.length===0)return Q;for(let Ee=se.startRow;Ee<=se.finishRow;Ee++)for(let Ie=se.startCol;Ie<=se.finishCol;Ie++){const Pe=Ve[Ee],Je=Or(Pe,Ie).isLocked;wg(Pe,Ie,wr(De(),!1,Je))}return Q})(y,_.bounds,0,P.merge(V));return Iu(U,ne.from(V[0]))},(y,_)=>((T,P)=>P.mergable)(0,_).filter(T=>hb(y,T.cells)),Zy,$,Wy),Sb=Br((y,_,T,P)=>{const V=hn(_,(U,Q)=>Ph(U,Q,T,P.unmerge(Q)),y);return Iu(V,ne.from(_[0]))},(y,_)=>((T,P)=>P.unmergable)(0,_).filter(T=>hb(y,T)),Zy,$,Wy),Jy=Br((y,_,T,P)=>{const V=((se,be)=>{const De=bo(se);return ur(De,be,!0)})(_.clipboard,_.generators);var U,Q;return((se,be,De,Ve,Ee)=>{const Ie=wi(be),Pe=((Ot,kt,Rt)=>{const Ut=ka(kt[0]),Gt=Fs(kt).cols.length+Ot.row,ot=Ne(Ut-Ot.column,gn=>gn+Ot.column);return{row:Gt,column:On(ot,gn=>Zt(Rt,Vn=>Vn!==gn)).getOr(Ut-1)}})(se,be,Ie),Je=Fs(De).rows,tt=x1(Pe,Je,Ie);return((Ot,kt,Rt)=>{if(Ot.row>=kt.length||Ot.column>ka(kt[0]))return Lh.error("invalid start address out of table bounds, row: "+Ot.row+", column: "+Ot.column);const Ut=kt.slice(Ot.row),Gt=Ut[0].cells.slice(Ot.column),ot=ka(Rt[0]),gn=Rt.length;return Lh.value({rowDelta:Ut.length-gn,colDelta:Gt.length-ot})})(Pe,be,Je).map(Ot=>{const kt={...Ot,colDelta:Ot.colDelta-tt.length},Rt=hm(be,kt,Ve),Ut=wi(Rt),Gt=x1(Pe,Je,Ut);return((ot,gn,Vn,co,jn,$n)=>{const lo=ot.row,Mo=ot.column,Ur=lo+Vn.length,di=Mo+ka(Vn[0])+$n.length,Ra=Us($n,Ae);for(let Kl=lo;Kl<Ur;Kl++){let Dm=0;for(let fi=Mo;fi<di;fi++){if(Ra[fi]){Dm++;continue}wk(gn,Kl,fi,jn)&&Ph(gn,Ys(gn[Kl],fi),jn,co.cell);const Pu=fi-Mo-Dm,Gh=Or(Vn[Kl-lo],Pu),_f=Gh.element,Yh=co.replace(_f);wg(gn[Kl],fi,wr(Yh,!0,Gh.isLocked))}}return gn})(Pe,Rt,Je,Ve,Ee,Gt)})})((U=_.row,Q=_.column,{row:U,column:Q}),y,V,_.generators,T).fold(()=>Iu(y,ne.some(_.element)),se=>ui(se,_.row,_.column))},(y,_)=>_h(_.element).bind(T=>br(y,T).map(P=>({...P,generators:_.generators,clipboard:_.clipboard}))),Zy,$,vc),Mg=Br((y,_,T,P)=>{const V=Fs(y).rows,U=_.cells[0].column,Q=V[_.cells[0].row],se=_1(_.clipboard,_.generators,Q),be=w1(U,y,se,_.generators,T);return ui(be,_.cells[0].row,_.cells[0].column)},jy(!0),$,$,vc),Ek=Br((y,_,T,P)=>{const V=Fs(y).rows,U=_.cells[_.cells.length-1].column+_.cells[_.cells.length-1].colspan,Q=V[_.cells[0].row],se=_1(_.clipboard,_.generators,Q),be=w1(U,y,se,_.generators,T);return ui(be,_.cells[0].row,U)},jy(!1),$,$,vc),Ak=Br((y,_,T,P)=>{const V=Fs(y).rows,U=_.cells[0].row,Q=V[U],se=_1(_.clipboard,_.generators,Q),be=Fy(U,y,se,_.generators,T);return ui(be,_.cells[0].row,_.cells[0].column)},Zl,$,$,vc),uf=Br((y,_,T,P)=>{const V=Fs(y).rows,U=_.cells[_.cells.length-1].row+_.cells[_.cells.length-1].rowspan,Q=V[_.cells[0].row],se=_1(_.clipboard,_.generators,Q),be=Fy(U,y,se,_.generators,T);return ui(be,U,_.cells[0].column)},Zl,$,$,vc),vm=(y,_)=>{const T=bo(y);return gd(T,_).bind(P=>{const V=P[P.length-1],U=P[0].column,Q=V.column+V.colspan,se=pt(D(T.all,be=>cn(be.cells,De=>De.column>=U&&De.column<Q)));return ha(se)}).getOr("")},O1=(y,_)=>{const T=bo(y);return gd(T,_).bind(ha).getOr("")},Qw=(y,_)=>{const T=bo(y);return gd(T,_).bind(P=>{const V=P[P.length-1],U=P[0].row,Q=V.row+V.rowspan;return(se=>{const be=D(se,Ee=>fb(Ee).type),De=nt(be,"header"),Ve=nt(be,"footer");if(De||Ve){const Ee=nt(be,"body");return!De||Ee||Ve?De||Ee||!Ve?ne.none():ne.some("footer"):ne.some("header")}return ne.some("body")})(T.all.slice(U,Q))}).getOr("")},Qy=(y,_)=>y.dispatch("NewRow",{node:_}),kb=(y,_)=>y.dispatch("NewCell",{node:_}),bd=(y,_,T)=>{y.dispatch("TableModified",{...T,table:_})},D1={structure:!1,style:!0},na={structure:!0,style:!1},_r={structure:!0,style:!0},df=(y,_)=>Du(y)?Ou(_):I(y)?lr(_):Oh(_),ex=(y,_,T)=>{const P=Ve=>zt(es(Ve))==="table",V=dd(y),U=ab(y)?$:Mh,Q=Ve=>{switch(cm(y)){case"section":return ba();case"sectionCells":return Kw();case"cells":return qw();default:return((Ee,Ie)=>{var Pe;switch((Pe=bo(Ee),J(Pe.all,Je=>{const tt=fb(Je);return tt.type==="header"?ne.from(tt.subType):ne.none()})).getOr(Ie)){case"section":return pa();case"sectionCells":return Ft();case"cells":return gm()}})(Ve,"section")}},se=(Ve,Ee,Ie,Pe)=>(Je,tt,Et=!1)=>{cr(Je);const Ot=Vt.fromDom(y.getDoc()),kt=zs(Ie,Ot,V),Rt={sizing:df(y,Je),resize:ab(y)?Nu():h1(),section:Q(Je)};return Ee(Je)?Ve(Je,tt,kt,Rt).bind(Ut=>{_.refresh(Je.dom),yt(Ut.newRows,ot=>{Qy(y,ot.dom)}),yt(Ut.newCells,ot=>{kb(y,ot.dom)});const Gt=((ot,gn)=>gn.cursor.fold(()=>{const Vn=gr(ot);return xn(Vn).filter(Pi).map(co=>{T.clearSelectedCells(ot.dom);const jn=y.dom.createRng();return jn.selectNode(co.dom),y.selection.setRng(jn),ms(co,"data-mce-selected","1"),jn})},Vn=>{const co=By(Bh,Vn),jn=y.dom.createRng();return jn.setStart(co.element.dom,co.offset),jn.setEnd(co.element.dom,co.offset),y.selection.setRng(jn),T.clearSelectedCells(ot.dom),ne.some(jn)}))(Je,Ut);return Pi(Je)&&(cr(Je),Et||bd(y,Je.dom,Pe)),Gt.map(ot=>({rng:ot,effect:Pe}))}):ne.none()},be=se(Ky,Ve=>!P(y)||Yc(Ve).rows>1,$,na),De=se(E1,Ve=>!P(y)||Yc(Ve).columns>1,$,na);return{deleteRow:be,deleteColumn:De,insertRowsBefore:se(k1,Ae,$,na),insertRowsAfter:se(Bg,Ae,$,na),insertColumnsBefore:se(xc,Ae,U,na),insertColumnsAfter:se(Sk,Ae,U,na),mergeCells:se(kk,Ae,$,na),unmergeCells:se(Sb,Ae,$,na),pasteColsBefore:se(Mg,Ae,$,na),pasteColsAfter:se(Ek,Ae,$,na),pasteRowsBefore:se(Ak,Ae,$,na),pasteRowsAfter:se(uf,Ae,$,na),pasteCells:se(Jy,Ae,$,_r),makeCellsHeader:se(Xy,Ae,$,na),unmakeCellsHeader:se(Jw,Ae,$,na),makeColumnsHeader:se(A1,Ae,$,na),unmakeColumnsHeader:se(qy,Ae,$,na),makeRowsHeader:se(Gy,Ae,$,na),makeRowsBody:se(T1,Ae,$,na),makeRowsFooter:se(Yy,Ae,$,na),getTableRowType:Qw,getTableCellType:O1,getTableColType:vm}},R1=(y,_,T)=>{const P=ar(y,_,1);T===1||P<=1?io(y,_):ms(y,_,Math.min(T,P))},Da=(y,_)=>T=>{const P=T.column+T.colspan-1,V=T.column;return P>=y&&V<_},Ui=pm([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Pg=(y,_,T)=>{const P=T.substring(0,T.length-y.length),V=parseFloat(P);return P===V.toString()?_(V):Ui.invalid(T)},ff={...Ui,from:y=>Qt(y,"%")?Pg("%",Ui.percent,y):Qt(y,"px")?Pg("px",Ui.pixels,y):Ui.invalid(y)},ym=(y,_,T)=>{const P=ff.from(T),V=Zt(y,U=>U==="0px")?((U,Q)=>{const se=U.fold(()=>K(""),be=>K(be/Q+"px"),()=>K(100/Q+"%"));return Ne(Q,se)})(P,y.length):((U,Q,se)=>U.fold(()=>Q,be=>((De,Ve,Ee)=>{const Ie=Ee/Ve;return D(De,Pe=>ff.from(Pe).fold(()=>Pe,Je=>Je*Ie+"px",Je=>Je/100*Ee+"px"))})(Q,se,be),be=>((De,Ve)=>D(De,Ee=>ff.from(Ee).fold(()=>Ee,Ie=>Ie/Ve*100+"%",Ie=>Ie+"%")))(Q,se)))(P,y,_);return tx(V)},N1=(y,_)=>y.length===0?_:hn(y,(T,P)=>ff.from(P).fold(K(0),ee,ee)+T,0),eC=(y,_)=>ff.from(y).fold(K(y),T=>T+_+"px",T=>T+_+"%"),tx=y=>{if(y.length===0)return y;const _=hn(y,(P,V)=>{const U=ff.from(V).fold(()=>({value:V,remainder:0}),Q=>((se,be)=>{const De=Math.floor(se);return{value:De+"px",remainder:se-De}})(Q),Q=>({value:Q+"%",remainder:0}));return{output:[U.value].concat(P.output),remainder:P.remainder+U.remainder}},{output:[],remainder:0}),T=_.output;return T.slice(0,T.length-1).concat([eC(T[T.length-1],Math.round(_.remainder))])},xm=ff.from,Bs=(y,_,T)=>{const P=bo(y),V=P.all,U=Dn(P),Q=cc(P);_.each(se=>{const be=xm(se).fold(K("px"),K("px"),K("%")),De=sl(y),Ve=((Ie,Pe)=>ea(Ie,Pe,_i,Th))(P,y),Ee=ym(Ve,De,se);uc(P)?((Ie,Pe,Je)=>{yt(Pe,(tt,Et)=>{const Ot=N1([Ie[Et]],xl());fo(tt.element,"width",Ot+Je)})})(Ee,Q,be):((Ie,Pe,Je)=>{yt(Pe,tt=>{const Et=Ie.slice(tt.column,tt.colspan+tt.column),Ot=N1(Et,xl());fo(tt.element,"width",Ot+Je)})})(Ee,U,be),fo(y,"width",se)}),T.each(se=>{const be=cd(y),De=((Ve,Ee)=>Aa(Ve,Ee,ci,Th))(P,y);((Ve,Ee,Ie)=>{yt(Ie,Pe=>{nl(Pe.element,"height")}),yt(Ee,(Pe,Je)=>{fo(Pe.element,"height",Ve[Je])})})(ym(De,be,se),V,U),fo(y,"height",se)})},I1=y=>$l(y).exists(_=>aa.test(_)),Js=y=>$l(y).exists(_=>Pn.test(_)),Bu=y=>$l(y).isNone(),Jc=y=>{io(y,"width"),io(y,"height")},Lg=y=>{const _=Jd(y);Bs(y,ne.some(_),ne.none()),Jc(y)},ll=y=>{const _=(T=>sl(T)+"px")(y);Bs(y,ne.some(_),ne.none()),Jc(y)},Xa=y=>{nl(y,"width");const _=lc(y),T=_.length>0?_:gr(y);yt(T,P=>{nl(P,"width"),Jc(P)}),Jc(y)},wm={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Eb=(y,_,T,P)=>Ne(y,V=>((U,Q,se,be)=>{const De=Vt.fromTag("tr");for(let Ve=0;Ve<U;Ve++){const Ee=Vt.fromTag(be<Q||Ve<se?"th":"td");Ve<se&&ms(Ee,"scope","row"),be<Q&&ms(Ee,"scope","col"),nr(Ee,Vt.fromTag("br")),nr(De,Ee)}return De})(_,T,P,V)),Fg=(y,_)=>{y.selection.select(_.dom,!0),y.selection.collapse(!0)},Ab=(y,_,T,P,V)=>{const U=(se=>{const be=se.options,De=be.get("table_default_styles");return be.isSet("table_default_styles")?De:((Ve,Ee)=>Z(Ve)||!Oe(Ve)?Ee:I(Ve)?{...Ee,width:Kc(Ve)}:{...Ee,width:Rl})(se,De)})(y),Q={styles:U,attributes:Tt(y),colGroups:Ln(y)};return y.undoManager.ignore(()=>{const se=((De,Ve,Ee,Ie,Pe,Je=wm)=>{const tt=Vt.fromTag("table"),Et=Pe!=="cells";yl(tt,Je.styles),yi(tt,Je.attributes),Je.colGroups&&nr(tt,(Ut=>{const Gt=Vt.fromTag("colgroup");return Ne(Ut,()=>nr(Gt,Vt.fromTag("col"))),Gt})(Ve));const Ot=Math.min(De,Ee);if(Et&&Ee>0){const Ut=Vt.fromTag("thead");nr(tt,Ut);const Gt=Eb(Ee,Ve,Pe==="sectionCells"?Ot:0,Ie);bl(Ut,Gt)}const kt=Vt.fromTag("tbody");nr(tt,kt);const Rt=Eb(Et?De-Ot:De,Ve,Et?0:Ee,Ie);return bl(kt,Rt),tt})(T,_,V,P,cm(y),Q);ms(se,"data-mce-id","__mce");const be=(De=>{const Ve=Vt.fromTag("div"),Ee=Vt.fromDom(De.dom.cloneNode(!0));return nr(Ve,Ee),(Ie=>Ie.dom.innerHTML)(Ve)})(se);y.insertContent(be),y.addVisual()}),st(es(y),'table[data-mce-id="__mce"]').map(se=>(I(y)?ll(se):Z(y)?Xa(se):(Du(y)||(be=>b(be)&&be.indexOf("%")!==-1)(U.width))&&Lg(se),cr(se),io(se,"data-mce-id"),((be,De)=>{yt(xs(De,"tr"),Ve=>{Qy(be,Ve.dom),yt(xs(Ve,"th,td"),Ee=>{kb(be,Ee.dom)})})})(y,se),((be,De)=>{st(De,"td,th").each(he(Fg,be))})(y,se),se.dom)).getOrNull()};var zg=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const tC="x-tinymce/dom-table-",nx=tC+"rows",ox=tC+"columns",nC=y=>{const _=zg.FakeClipboardItem(y);zg.write([_])},Ja=y=>{var _;const T=(_=zg.read())!==null&&_!==void 0?_:[];return J(T,P=>ne.from(P.getType(y)))},Cm=y=>{Ja(y).isSome()&&zg.clear()},oC=y=>{y.fold(Wi,_=>nC({[nx]:_}))},wc=()=>Ja(nx),Wi=()=>Cm(nx),Hg=y=>{y.fold(sC,_=>nC({[ox]:_}))},$h=()=>Ja(ox),sC=()=>Cm(ox),vr=y=>rf(mc(y),Nr(y)).filter(m1),yr=(y,_)=>{const T=Nr(y),P=Ee=>ol(Ee,T),V=Ee=>(Ie=>or(mc(Ie),Nr(Ie)).filter(m1))(y).bind(Ie=>P(Ie).map(Pe=>Ee(Pe,Ie))),U=Ee=>{y.focus()},Q=(Ee,Ie=!1)=>V((Pe,Je)=>{const tt=go(hc(y),Pe,Je);Ee(Pe,tt,Ie).each(U)}),se=()=>V((Ee,Ie)=>((Pe,Je,tt)=>{const Et=bo(Pe);return gd(Et,Je).bind(Ot=>{const kt=ur(Et,tt,!1),Rt=Fs(kt).rows.slice(Ot[0].row,Ot[Ot.length-1].row+Ot[Ot.length-1].rowspan),Ut=bt(Rt,ot=>{const gn=cn(ot.cells,Vn=>!Vn.isLocked);return gn.length>0?[{...ot,cells:gn}]:[]}),Gt=gb(Ut);return on(Gt.length>0,Gt)}).map(Ot=>D(Ot,kt=>{const Rt=Qf(kt.element);return yt(kt.cells,Ut=>{const Gt=Mc(Ut.element);md(Gt,"colspan",Ut.colspan,1),md(Gt,"rowspan",Ut.rowspan,1),nr(Rt,Gt)}),Rt}))})(Ee,go(hc(y),Ee,Ie),zs($,Vt.fromDom(y.getDoc()),ne.none()))),be=()=>V((Ee,Ie)=>((Pe,Je)=>{const tt=bo(Pe);return Oa(tt,Je).map(Et=>{const Ot=Et[Et.length-1],kt=Et[0].column,Rt=Ot.column+Ot.colspan,Ut=((ot,gn,Vn)=>{if(uc(ot)){const co=cn(cc(ot),Da(gn,Vn)),jn=D(co,lo=>{const Mo=Mc(lo.element);return R1(Mo,"span",Vn-gn),Mo}),$n=Vt.fromTag("colgroup");return bl($n,jn),[$n]}return[]})(tt,kt,Rt),Gt=((ot,gn,Vn)=>D(ot.all,co=>{const jn=cn(co.cells,Da(gn,Vn)),$n=D(jn,Mo=>{const Ur=Mc(Mo.element);return R1(Ur,"colspan",Vn-gn),Ur}),lo=Vt.fromTag("tr");return bl(lo,$n),lo}))(tt,kt,Rt);return[...Ut,...Gt]})})(Ee,go(hc(y),Ee,Ie))),De=(Ee,Ie)=>Ie().each(Pe=>{const Je=D(Pe,tt=>Mc(tt));V((tt,Et)=>{const Ot=hs(Vt.fromDom(y.getDoc())),kt=((Rt,Ut,Gt,ot)=>({selection:of(Rt),clipboard:Gt,generators:ot}))(hc(y),0,Je,Ot);Ee(tt,kt).each(U)})}),Ve=Ee=>(Ie,Pe)=>((Je,tt)=>Me(Je,tt)?ne.from(Je[tt]):ne.none())(Pe,"type").each(Je=>{Q(Ee(Je),Pe.no_events)});qo({mceTableSplitCells:()=>Q(_.unmergeCells),mceTableMergeCells:()=>Q(_.mergeCells),mceTableInsertRowBefore:()=>Q(_.insertRowsBefore),mceTableInsertRowAfter:()=>Q(_.insertRowsAfter),mceTableInsertColBefore:()=>Q(_.insertColumnsBefore),mceTableInsertColAfter:()=>Q(_.insertColumnsAfter),mceTableDeleteCol:()=>Q(_.deleteColumn),mceTableDeleteRow:()=>Q(_.deleteRow),mceTableCutCol:()=>be().each(Ee=>{Hg(Ee),Q(_.deleteColumn)}),mceTableCutRow:()=>se().each(Ee=>{oC(Ee),Q(_.deleteRow)}),mceTableCopyCol:()=>be().each(Ee=>Hg(Ee)),mceTableCopyRow:()=>se().each(Ee=>oC(Ee)),mceTablePasteColBefore:()=>De(_.pasteColsBefore,$h),mceTablePasteColAfter:()=>De(_.pasteColsAfter,$h),mceTablePasteRowBefore:()=>De(_.pasteRowsBefore,wc),mceTablePasteRowAfter:()=>De(_.pasteRowsAfter,wc),mceTableDelete:()=>vr(y).each(Ee=>{ol(Ee,T).filter(Ue(T)).each(Ie=>{const Pe=Vt.fromText("");if(yu(Ie,Pe),qs(Ie),y.dom.isEmpty(y.getBody()))y.setContent(""),y.selection.setCursorLocation();else{const Je=y.dom.createRng();Je.setStart(Pe.dom,0),Je.setEnd(Pe.dom,0),y.selection.setRng(Je),y.nodeChanged()}})}),mceTableCellToggleClass:(Ee,Ie)=>{V(Pe=>{const Je=hc(y),tt=Zt(Je,Ot=>y.formatter.match("tablecellclass",{value:Ie},Ot.dom)),Et=tt?y.formatter.remove:y.formatter.apply;yt(Je,Ot=>Et("tablecellclass",{value:Ie},Ot.dom)),bd(y,Pe.dom,D1)})},mceTableToggleClass:(Ee,Ie)=>{V(Pe=>{y.formatter.toggle("tableclass",{value:Ie},Pe.dom),bd(y,Pe.dom,D1)})},mceTableToggleCaption:()=>{vr(y).each(Ee=>{ol(Ee,T).each(Ie=>{lt(Ie,"caption").fold(()=>{const Pe=Vt.fromTag("caption");nr(Pe,Vt.fromText("Caption")),((Je,tt,Et)=>{vu(Je,0).fold(()=>{nr(Je,tt)},Ot=>{en(Ot,tt)})})(Ie,Pe),y.selection.setCursorLocation(Pe.dom,0)},Pe=>{Do("caption")(Ee)&&Tl("td",Ie).each(Je=>y.selection.setCursorLocation(Je.dom,0)),qs(Pe)}),bd(y,Ie.dom,na)})})},mceTableSizingMode:(Ee,Ie)=>(Pe=>vr(y).each(Je=>{Z(y)||I(y)||Du(y)||ol(Je,T).each(tt=>{Pe!=="relative"||I1(tt)?Pe!=="fixed"||Js(tt)?Pe!=="responsive"||Bu(tt)||Xa(tt):ll(tt):Lg(tt),cr(tt),bd(y,tt.dom,na)})}))(Ie),mceTableCellType:Ve(Ee=>Ee==="th"?_.makeCellsHeader:_.unmakeCellsHeader),mceTableColType:Ve(Ee=>Ee==="th"?_.makeColumnsHeader:_.unmakeColumnsHeader),mceTableRowType:Ve(Ee=>{switch(Ee){case"header":return _.makeRowsHeader;case"footer":return _.makeRowsFooter;default:return _.makeRowsBody}})},(Ee,Ie)=>y.addCommand(Ie,Ee)),y.addCommand("mceInsertTable",(Ee,Ie)=>{((Pe,Je,tt,Et={})=>{const Ot=kt=>W(kt)&&kt>0;if(Ot(Je)&&Ot(tt)){const kt=Et.headerRows||0,Rt=Et.headerColumns||0;return Ab(Pe,tt,Je,Rt,kt)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(y,Ie.rows,Ie.columns,Ie.options)}),y.addCommand("mceTableApplyCellStyle",(Ee,Ie)=>{const Pe=Et=>"tablecell"+Et.toLowerCase().replace("-","");if(!h(Ie))return;const Je=cn(hc(y),m1);if(Je.length===0)return;const tt=((Et,Ot)=>{const kt={};return((Rt,Ut,Gt,ot)=>{qo(Rt,(gn,Vn)=>{(Ut(gn,Vn)?Gt:ot)(gn,Vn)})})(Et,Ot,(Rt=>(Ut,Gt)=>{Rt[Gt]=Ut})(kt),$),kt})(Ie,(Et,Ot)=>y.formatter.has(Pe(Ot))&&b(Et));(Et=>{for(const Ot in Et)if(ys.call(Et,Ot))return!1;return!0})(tt)||(qo(tt,(Et,Ot)=>{const kt=Pe(Ot);yt(Je,Rt=>{Et===""?y.formatter.remove(kt,{value:null},Rt.dom,!0):y.formatter.apply(kt,{value:Et},Rt.dom)})}),P(Je[0]).each(Et=>bd(y,Et.dom,D1)))})},$r=pm([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Cs={before:$r.before,on:$r.on,after:$r.after,cata:(y,_,T,P)=>y.fold(_,T,P),getStart:y=>y.fold(ee,ee,ee)},dr=(y,_)=>({selection:y,kill:_}),Mr=(y,_)=>{const T=y.document.createRange();return T.selectNode(_.dom),T},B1=(y,_)=>{const T=y.document.createRange();return M1(T,_),T},M1=(y,_)=>y.selectNodeContents(_.dom),sx=(y,_,T)=>{const P=y.document.createRange();var V;return V=P,_.fold(U=>{V.setStartBefore(U.dom)},(U,Q)=>{V.setStart(U.dom,Q)},U=>{V.setStartAfter(U.dom)}),((U,Q)=>{Q.fold(se=>{U.setEndBefore(se.dom)},(se,be)=>{U.setEnd(se.dom,be)},se=>{U.setEndAfter(se.dom)})})(P,T),P},Tb=(y,_,T,P,V)=>{const U=y.document.createRange();return U.setStart(_.dom,T),U.setEnd(P.dom,V),U},rx=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom,width:y.width,height:y.height}),Vg=pm([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),P1=(y,_,T)=>_(Vt.fromDom(T.startContainer),T.startOffset,Vt.fromDom(T.endContainer),T.endOffset),L1=(y,_)=>{const T=((P,V)=>V.match({domRange:U=>({ltr:K(U),rtl:ne.none}),relative:(U,Q)=>({ltr:ma(()=>sx(P,U,Q)),rtl:ma(()=>ne.some(sx(P,Q,U)))}),exact:(U,Q,se,be)=>({ltr:ma(()=>Tb(P,U,Q,se,be)),rtl:ma(()=>ne.some(Tb(P,se,be,U,Q)))})}))(y,_);return((P,V)=>{const U=V.ltr();return U.collapsed?V.rtl().filter(Q=>Q.collapsed===!1).map(Q=>Vg.rtl(Vt.fromDom(Q.endContainer),Q.endOffset,Vt.fromDom(Q.startContainer),Q.startOffset)).getOrThunk(()=>P1(0,Vg.ltr,U)):P1(0,Vg.ltr,U)})(0,T)},ax=(y,_)=>L1(y,_).match({ltr:(T,P,V,U)=>{const Q=y.document.createRange();return Q.setStart(T.dom,P),Q.setEnd(V.dom,U),Q},rtl:(T,P,V,U)=>{const Q=y.document.createRange();return Q.setStart(V.dom,U),Q.setEnd(T.dom,P),Q}});Vg.ltr,Vg.rtl;const Ob=(y,_,T,P)=>({start:y,soffset:_,finish:T,foffset:P}),cl=(y,_,T,P)=>({start:Cs.on(y,_),finish:Cs.on(T,P)}),ix=(y,_)=>{const T=ax(y,_);return Ob(Vt.fromDom(T.startContainer),T.startOffset,Vt.fromDom(T.endContainer),T.endOffset)},Ai=cl,Db=(y,_,T,P,V)=>Os(T,P)?ne.none():qc(T,P,_).bind(U=>{const Q=U.boxes.getOr([]);return Q.length>1?(V(y,Q,U.start,U.finish),ne.some(dr(ne.some(Ai(T,0,T,Dr(T))),!0))):ne.none()}),$g=(y,_)=>({item:y,mode:_}),Qc=(y,_,T,P=Pr)=>y.property().parent(_).map(V=>$g(V,P)),Pr=(y,_,T,P=_m)=>T.sibling(y,_).map(V=>$g(V,P)),_m=(y,_,T,P=_m)=>{const V=y.property().children(_);return T.first(V).map(U=>$g(U,P))},lx=[{current:Qc,next:Pr,fallback:ne.none()},{current:Pr,next:_m,fallback:ne.some(Qc)},{current:_m,next:_m,fallback:ne.some(Pr)}],cx=(y,_,T,P,V=lx)=>On(V,U=>U.current===T).bind(U=>U.current(y,_,P,U.next).orThunk(()=>U.fallback.bind(Q=>cx(y,_,Q,P)))),Rb=(y,_,T,P,V,U)=>cx(y,_,P,V).bind(Q=>U(Q.item)?ne.none():T(Q.item)?ne.some(Q.item):Rb(y,Q.item,T,Q.mode,V,U)),vd=y=>_=>y.property().children(_).length===0,Tk=(y,_,T,P)=>Rb(y,_,T,Pr,{sibling:(V,U)=>V.query().prevSibling(U),first:V=>V.length>0?ne.some(V[V.length-1]):ne.none()},P),Nb=(y,_,T,P)=>Rb(y,_,T,Pr,{sibling:(V,U)=>V.query().nextSibling(U),first:V=>V.length>0?ne.some(V[0]):ne.none()},P),Sm=ef(),rC=(y,_)=>((T,P,V)=>Tk(T,P,vd(T),V))(Sm,y,_),Ib=(y,_)=>((T,P,V)=>Nb(T,P,vd(T),V))(Sm,y,_),Bb=pm([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),F1=y=>je(y,"tr"),Uh={...Bb,verify:(y,_,T,P,V,U,Q)=>je(P,"td,th",Q).bind(se=>je(_,"td,th",Q).map(be=>Os(se,be)?Os(P,se)&&Dr(se)===V?U(be):Bb.none("in same cell"):tf(F1,[se,be]).fold(()=>((De,Ve,Ee)=>{const Ie=De.getRect(Ve),Pe=De.getRect(Ee);return Pe.right>Ie.left&&Pe.left<Ie.right})(y,be,se)?Bb.success():U(be),De=>U(be)))).getOr(Bb.none("default")),cata:(y,_,T,P,V)=>y.fold(_,T,P,V)},z1=Do("br"),Ti=(y,_,T)=>_(y,T).bind(P=>ao(P)&&lm(P).trim().length===0?Ti(P,_,T):ne.some(P)),ux=(y,_,T,P)=>((V,U)=>vu(V,U).filter(z1).orThunk(()=>vu(V,U-1).filter(z1)))(_,T).bind(V=>P.traverse(V).fold(()=>Ti(V,P.gather,y).map(P.relative),U=>(Q=>el(Q).bind(se=>{const be=fa(se);return((De,Ve)=>as(De,he(Os,Ve)))(be,Q).map(De=>((Ve,Ee,Ie,Pe)=>({parent:Ve,children:Ee,element:Ie,index:Pe}))(se,be,Q,De))}))(U).map(Q=>Cs.on(Q.parent,Q.index)))),yd=(y,_)=>({left:y.left,top:y.top+_,right:y.right,bottom:y.bottom+_}),Mb=(y,_)=>({left:y.left,top:y.top-_,right:y.right,bottom:y.bottom-_}),Mu=(y,_,T)=>({left:y.left+_,top:y.top+T,right:y.right+_,bottom:y.bottom+T}),Pb=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom}),Lb=(y,_)=>ne.some(y.getRect(_)),km=(y,_,T)=>En(_)?Lb(y,_).map(Pb):ao(_)?((P,V,U)=>U>=0&&U<Dr(V)?P.getRangedRect(V,U,V,U+1):U>0?P.getRangedRect(V,U-1,V,U):ne.none())(y,_,T).map(Pb):ne.none(),Ug=(y,_)=>En(_)?Lb(y,_).map(Pb):ao(_)?y.getRangedRect(_,0,_,Dr(_)).map(Pb):ne.none(),Cc=pm([{none:[]},{retry:["caret"]}]),Fb=(y,_,T)=>Ye(_,Ng).fold(te,P=>Ug(y,P).exists(V=>((U,Q)=>U.left<Q.left||Math.abs(Q.right-U.left)<1||U.left>Q.right)(T,V))),Ok={point:y=>y.bottom,adjuster:(y,_,T,P,V)=>{const U=yd(V,5);return Math.abs(T.bottom-P.bottom)<1||T.top>V.bottom?Cc.retry(U):T.top===V.bottom?Cc.retry(yd(V,1)):Fb(y,_,V)?Cc.retry(Mu(U,5,0)):Cc.none()},move:yd,gather:Ib},jl=(y,_,T,P,V)=>V===0?ne.some(P):((U,Q,se)=>U.elementFromPoint(Q,se).filter(be=>zt(be)==="table").isSome())(y,P.left,_.point(P))?((U,Q,se,be,De)=>jl(U,Q,se,Q.move(be,5),De))(y,_,T,P,V-1):y.situsFromPoint(P.left,_.point(P)).bind(U=>U.start.fold(ne.none,Q=>Ug(y,Q).bind(se=>_.adjuster(y,Q,se,T,P).fold(ne.none,be=>jl(y,_,T,be,V-1))).orThunk(()=>ne.some(P)),ne.none)),xd=(y,_,T)=>{const P=y.move(T,5),V=jl(_,y,T,P,100).getOr(P);return((U,Q,se)=>U.point(Q)>se.getInnerHeight()?ne.some(U.point(Q)-se.getInnerHeight()):U.point(Q)<0?ne.some(-U.point(Q)):ne.none())(y,V,_).fold(()=>_.situsFromPoint(V.left,y.point(V)),U=>(_.scrollBy(0,U),_.situsFromPoint(V.left,y.point(V)-U)))},_c={tryUp:he(xd,{point:y=>y.top,adjuster:(y,_,T,P,V)=>{const U=Mb(V,5);return Math.abs(T.top-P.top)<1||T.bottom<V.top?Cc.retry(U):T.bottom===V.top?Cc.retry(Mb(V,1)):Fb(y,_,V)?Cc.retry(Mu(U,5,0)):Cc.none()},move:Mb,gather:rC}),tryDown:he(xd,Ok),getJumpSize:K(5)},dx=(y,_,T)=>y.getSelection().bind(P=>((V,U,Q,se)=>(z1(U)?((De,Ve,Ee)=>Ee.traverse(Ve).orThunk(()=>Ti(Ve,Ee.gather,De)).map(Ee.relative))(V,U,se):ux(V,U,Q,se)).map(De=>({start:De,finish:De})))(_,P.finish,P.foffset,T).fold(()=>ne.some(to(P.finish,P.foffset)),V=>{const U=y.fromSitus(V);return Q=Uh.verify(y,P.finish,P.foffset,U.finish,U.foffset,T.failure,_),Uh.cata(Q,se=>ne.none(),()=>ne.none(),se=>ne.some(to(se,0)),se=>ne.some(to(se,Dr(se))));var Q})),la=(y,_,T,P,V,U)=>U===0?ne.none():Dk(y,_,T,P,V).bind(Q=>{const se=y.fromSitus(Q),be=Uh.verify(y,T,P,se.finish,se.foffset,V.failure,_);return Uh.cata(be,()=>ne.none(),()=>ne.some(Q),De=>Os(T,De)&&P===0?Sc(y,T,P,Mb,V):la(y,_,De,0,V,U-1),De=>Os(T,De)&&P===Dr(De)?Sc(y,T,P,yd,V):la(y,_,De,Dr(De),V,U-1))}),Sc=(y,_,T,P,V)=>km(y,_,T).bind(U=>ul(y,V,P(U,_c.getJumpSize()))),ul=(y,_,T)=>{const P=u1().browser;return P.isChromium()||P.isSafari()||P.isFirefox()?_.retry(y,T):ne.none()},Dk=(y,_,T,P,V)=>km(y,T,P).bind(U=>ul(y,V,U)),mf=(y,_,T,P,V)=>je(P,"td,th",_).bind(U=>je(U,"table",_).bind(Q=>((se,be)=>Se(se,De=>el(De).exists(Ve=>Os(Ve,be)),void 0).isSome())(V,Q)?((se,be,De)=>dx(se,be,De).bind(Ve=>la(se,be,Ve.element,Ve.offset,De,20).map(se.fromSitus)))(y,_,T).bind(se=>je(se.finish,"td,th",_).map(be=>({start:U,finish:be,range:se}))):ne.none())),wd=(y,_,T,P,V,U)=>U(P,_).orThunk(()=>mf(y,_,T,P,V).map(Q=>{const se=Q.range;return dr(ne.some(Ai(se.start,se.soffset,se.finish,se.foffset)),!0)})),Wh=(y,_)=>je(y,"tr",_).bind(T=>je(T,"table",_).bind(P=>{const V=xs(P,"tr");return Os(T,V[0])?((U,Q,se)=>Tk(Sm,U,be=>jc(be).isSome(),se))(P,0,_).map(U=>{const Q=Dr(U);return dr(ne.some(Ai(U,Q,U,Q)),!0)}):ne.none()})),Em=(y,_)=>je(y,"tr",_).bind(T=>je(T,"table",_).bind(P=>{const V=xs(P,"tr");return Os(T,V[V.length-1])?((U,Q,se)=>Nb(Sm,U,be=>_g(be).isSome(),se))(P,0,_).map(U=>dr(ne.some(Ai(U,0,U,0)),!0)):ne.none()})),Nl=(y,_,T,P,V,U,Q)=>mf(y,T,P,V,U).bind(se=>Db(_,T,se.start,se.finish,Q)),H1=y=>{let _=y;return{get:()=>_,set:T=>{_=T}}},V1=()=>{const y=(_=>{const T=H1(ne.none()),P=()=>T.get().each(_);return{clear:()=>{P(),T.set(ne.none())},isSet:()=>T.get().isSome(),get:()=>T.get(),set:V=>{P(),T.set(ne.some(V))}}})($);return{...y,on:_=>y.get().each(_)}},zb=(y,_)=>je(y,"td,th",_),$1=y=>bu(y).exists(Xn),aC={traverse:Ol,gather:Ib,relative:Cs.before,retry:_c.tryDown,failure:Uh.failedDown},Hb={traverse:Yn,gather:rC,relative:Cs.before,retry:_c.tryUp,failure:Uh.failedUp},Cd=y=>_=>_===y,Vb=Cd(38),Wg=Cd(40),Zg=y=>y>=37&&y<=40,gf={isBackward:Cd(37),isForward:Cd(39)},hf={isBackward:Cd(39),isForward:Cd(37)},$b=pm([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),pf={domRange:$b.domRange,relative:$b.relative,exact:$b.exact,exactFromRange:y=>$b.exact(y.start,y.soffset,y.finish,y.foffset),getWin:y=>{const _=(T=>T.match({domRange:P=>Vt.fromDom(P.startContainer),relative:(P,V)=>Cs.getStart(P),exact:(P,V,U,Q)=>P}))(y);return Vt.fromDom(ic(_).dom.defaultView)},range:Ob},bf=(y,_)=>{const T=zt(y);return T==="input"?Cs.after(y):nt(["br","img"],T)?_===0?Cs.before(y):Cs.after(y):Cs.on(y,_)},vf=y=>ne.from(y.getSelection()),jg=(y,_)=>{vf(y).each(T=>{T.removeAllRanges(),T.addRange(_)})},U1=(y,_,T,P,V)=>{const U=Tb(y,_,T,P,V);jg(y,U)},Zh=(y,_)=>L1(y,_).match({ltr:(T,P,V,U)=>{U1(y,T,P,V,U)},rtl:(T,P,V,U)=>{vf(y).each(Q=>{if(Q.setBaseAndExtent)Q.setBaseAndExtent(T.dom,P,V.dom,U);else if(Q.extend)try{((se,be,De,Ve,Ee,Ie)=>{be.collapse(De.dom,Ve),be.extend(Ee.dom,Ie)})(0,Q,T,P,V,U)}catch{U1(y,V,U,T,P)}else U1(y,V,U,T,P)})}}),W1=(y,_,T,P,V)=>{const U=((Q,se,be,De)=>{const Ve=bf(Q,se),Ee=bf(be,De);return pf.relative(Ve,Ee)})(_,T,P,V);Zh(y,U)},fx=(y,_,T)=>{const P=((V,U)=>{const Q=V.fold(Cs.before,bf,Cs.after),se=U.fold(Cs.before,bf,Cs.after);return pf.relative(Q,se)})(_,T);Zh(y,P)},jh=y=>{if(y.rangeCount>0){const _=y.getRangeAt(0),T=y.getRangeAt(y.rangeCount-1);return ne.some(Ob(Vt.fromDom(_.startContainer),_.startOffset,Vt.fromDom(T.endContainer),T.endOffset))}return ne.none()},ca=y=>{if(y.anchorNode===null||y.focusNode===null)return jh(y);{const _=Vt.fromDom(y.anchorNode),T=Vt.fromDom(y.focusNode);return((P,V,U,Q)=>{const se=((De,Ve,Ee,Ie)=>{const Pe=pu(De).dom.createRange();return Pe.setStart(De.dom,Ve),Pe.setEnd(Ee.dom,Ie),Pe})(P,V,U,Q),be=Os(P,U)&&V===Q;return se.collapsed&&!be})(_,y.anchorOffset,T,y.focusOffset)?ne.some(Ob(_,y.anchorOffset,T,y.focusOffset)):jh(y)}},mx=(y,_,T=!0)=>{const P=(T?B1:Mr)(y,_);jg(y,P)},iC=y=>(_=>vf(_).filter(T=>T.rangeCount>0).bind(ca))(y).map(_=>pf.exact(_.start,_.soffset,_.finish,_.foffset)),gx=(y,_,T)=>((P,V,U)=>((Q,se,be)=>Q.caretPositionFromPoint?((De,Ve,Ee)=>{var Ie;return ne.from((Ie=De.caretPositionFromPoint)===null||Ie===void 0?void 0:Ie.call(De,Ve,Ee)).bind(Pe=>{if(Pe.offsetNode===null)return ne.none();const Je=De.createRange();return Je.setStart(Pe.offsetNode,Pe.offset),Je.collapse(),ne.some(Je)})})(Q,se,be):Q.caretRangeFromPoint?((De,Ve,Ee)=>{var Ie;return ne.from((Ie=De.caretRangeFromPoint)===null||Ie===void 0?void 0:Ie.call(De,Ve,Ee))})(Q,se,be):ne.none())(P.document,V,U).map(Q=>Ob(Vt.fromDom(Q.startContainer),Q.startOffset,Vt.fromDom(Q.endContainer),Q.endOffset)))(y,_,T),hx=y=>({elementFromPoint:(_,T)=>Vt.fromPoint(Vt.fromDom(y.document),_,T),getRect:_=>_.dom.getBoundingClientRect(),getRangedRect:(_,T,P,V)=>{const U=pf.exact(_,T,P,V);return((Q,se)=>(be=>{const De=be.getClientRects(),Ve=De.length>0?De[0]:be.getBoundingClientRect();return Ve.width>0||Ve.height>0?ne.some(Ve).map(rx):ne.none()})(ax(Q,se)))(y,U)},getSelection:()=>iC(y).map(_=>ix(y,_)),fromSitus:_=>{const T=pf.relative(_.start,_.finish);return ix(y,T)},situsFromPoint:(_,T)=>gx(y,_,T).map(P=>cl(P.start,P.soffset,P.finish,P.foffset)),clearSelection:()=>{(_=>{vf(_).each(T=>T.removeAllRanges())})(y)},collapseSelection:(_=!1)=>{iC(y).each(T=>T.fold(P=>P.collapse(_),(P,V)=>{const U=_?P:V;fx(y,U,U)},(P,V,U,Q)=>{const se=_?P:U,be=_?V:Q;W1(y,se,be,se,be)}))},setSelection:_=>{W1(y,_.start,_.soffset,_.finish,_.foffset)},setRelativeSelection:(_,T)=>{fx(y,_,T)},selectNode:_=>{mx(y,_,!1)},selectContents:_=>{mx(y,_)},getInnerHeight:()=>y.innerHeight,getScrollY:()=>(_=>{const T=_!==void 0?_.dom:document,P=T.body.scrollLeft||T.documentElement.scrollLeft,V=T.body.scrollTop||T.documentElement.scrollTop;return zi(P,V)})(Vt.fromDom(y.document)).top,scrollBy:(_,T)=>{((P,V,U)=>{const Q=(U!==void 0?U.dom:document).defaultView;Q&&Q.scrollBy(P,V)})(_,T,Vt.fromDom(y.document))}}),yf=(y,_)=>({rows:y,cols:_}),Z1=y=>Ye(y,Cn).exists(Xn),Ub=(y,_)=>Z1(y)||Z1(_),px=y=>y.dom.classList!==void 0,Rk=(y,_)=>((T,P,V)=>{const U=((Q,se)=>{const be=un(Q,se);return be===void 0||be===""?[]:be.split(" ")})(T,P).concat([V]);return ms(T,P,U.join(" ")),!0})(y,"class",_),xf=(y,_)=>{px(y)?y.dom.classList.add(_):Rk(y,_)},Wb=(y,_)=>px(y)&&y.dom.classList.contains(_),lC=()=>({tag:"none"}),cC=y=>({tag:"multiple",elements:y}),eu=y=>({tag:"single",element:y}),bx=y=>{const _=Vt.fromDom((se=>{if(R(se.target)){const be=Vt.fromDom(se.target);if(En(be)&&R(be.dom.shadowRoot)&&se.composed&&se.composedPath){const De=se.composedPath();if(De)return xn(De)}}return ne.from(se.target)})(y).getOr(y.target)),T=()=>y.stopPropagation(),P=()=>y.preventDefault(),V=(U=P,Q=T,(...se)=>U(Q.apply(null,se)));var U,Q;return((se,be,De,Ve,Ee,Ie,Pe)=>({target:se,x:be,y:De,stop:Ve,prevent:Ee,kill:Ie,raw:Pe}))(_,y.clientX,y.clientY,T,P,V,y)},j1=(y,_,T,P)=>{y.dom.removeEventListener(_,T,P)},uC=Ae,Kg=(y,_,T)=>((P,V,U,Q)=>((se,be,De,Ve,Ee)=>{const Ie=((Pe,Je)=>tt=>{Pe(tt)&&Je(bx(tt))})(De,Ve);return se.dom.addEventListener(be,Ie,Ee),{unbind:he(j1,se,be,Ie,Ee)}})(P,V,U,Q,!1))(y,_,uC,T),Kh=bx,Zb=y=>!Wb(Vt.fromDom(y.target),"ephox-snooker-resizer-bar"),dC=(y,_)=>{const T=(V=sf.selectedSelector,{get:()=>gc(Vt.fromDom(y.getBody()),V).fold(()=>or(mc(y),Nr(y)).fold(lC,eu),cC)}),P=((U,Q,se)=>{const be=Ie=>{io(Ie,U.selected),io(Ie,U.firstSelected),io(Ie,U.lastSelected)},De=Ie=>{ms(Ie,U.selected,"1")},Ve=Ie=>{Ee(Ie),se()},Ee=Ie=>{const Pe=xs(Ie,`${U.selectedSelector},${U.firstSelectedSelector},${U.lastSelectedSelector}`);yt(Pe,be)};return{clearBeforeUpdate:Ee,clear:Ve,selectRange:(Ie,Pe,Je,tt)=>{Ve(Ie),yt(Pe,De),ms(Je,U.firstSelected,"1"),ms(tt,U.lastSelected,"1"),Q(Pe,Je,tt)},selectedSelector:U.selectedSelector,firstSelectedSelector:U.firstSelectedSelector,lastSelectedSelector:U.lastSelectedSelector}})(sf,(U,Q,se)=>{ol(Q).each(be=>{const De=D(U,Pe=>Pe.dom),Ve=dd(y),Ee=zs($,Vt.fromDom(y.getDoc()),Ve),Ie=((Pe,Je,tt)=>{const Et=bo(Pe);return gd(Et,Je).map(Ot=>{const kt=ur(Et,tt,!1),{rows:Rt}=Fs(kt),Ut=((ot,gn)=>{const Vn=ot.slice(0,gn[gn.length-1].row+1),co=gb(Vn);return bt(co,jn=>{const $n=jn.cells.slice(0,gn[gn.length-1].column+1);return D($n,lo=>lo.element)})})(Rt,Ot),Gt=((ot,gn)=>{const Vn=ot.slice(gn[0].row+gn[0].rowspan-1,ot.length),co=gb(Vn);return bt(co,jn=>{const $n=jn.cells.slice(gn[0].column+gn[0].colspan-1,jn.cells.length);return D($n,lo=>lo.element)})})(Rt,Ot);return{upOrLeftCells:Ut,downOrRightCells:Gt}})})(be,{selection:hc(y)},Ee).map(Pe=>si(Pe,Je=>D(Je,tt=>tt.dom))).getOrUndefined();((Pe,Je,tt,Et,Ot)=>{Pe.dispatch("TableSelectionChange",{cells:Je,start:tt,finish:Et,otherCells:Ot})})(y,De,Q.dom,se.dom,Ie)})},()=>(U=>{U.dispatch("TableSelectionClear")})(y));var V;return y.on("init",U=>{const Q=y.getWin(),se=es(y),be=Nr(y),De=((tt,Et,Ot,kt)=>{const Rt=((Ut,Gt,ot,gn)=>{const Vn=V1(),co=Vn.clear,jn=$n=>{Vn.on(lo=>{gn.clearBeforeUpdate(Gt),zb($n.target,ot).each(Mo=>{qc(lo,Mo,ot).each(Ur=>{const di=Ur.boxes.getOr([]);if(di.length===1){const Ra=di[0],Kl=_n(Ra)==="false",Dm=Lt(ro($n.target),Ra,Os);Kl&&Dm&&gn.selectRange(Gt,di,Ra,Ra)}else di.length>1&&(gn.selectRange(Gt,di,Ur.start,Ur.finish),Ut.selectContents(Mo))})})})};return{clearstate:co,mousedown:$n=>{gn.clear(Gt),zb($n.target,ot).filter($1).each(Vn.set)},mouseover:$n=>{jn($n)},mouseup:$n=>{jn($n),co()}}})(hx(tt),Et,Ot,kt);return{clearstate:Rt.clearstate,mousedown:Rt.mousedown,mouseover:Rt.mouseover,mouseup:Rt.mouseup}})(Q,se,be,P),Ve=((tt,Et,Ot,kt)=>{const Rt=hx(tt),Ut=()=>(kt.clear(Et),ne.none());return{keydown:(Gt,ot,gn,Vn,co,jn)=>{const $n=Gt.raw,lo=$n.which,Mo=$n.shiftKey===!0;return db(Et,kt.selectedSelector).fold(()=>(Zg(lo)&&!Mo&&kt.clearBeforeUpdate(Et),Zg(lo)&&Mo&&!Ub(ot,Vn)?ne.none:Wg(lo)&&Mo?he(Nl,Rt,Et,Ot,aC,Vn,ot,kt.selectRange):Vb(lo)&&Mo?he(Nl,Rt,Et,Ot,Hb,Vn,ot,kt.selectRange):Wg(lo)?he(wd,Rt,Ot,aC,Vn,ot,Em):Vb(lo)?he(wd,Rt,Ot,Hb,Vn,ot,Wh):ne.none),di=>{const Ra=Kl=>()=>J(Kl,fi=>((Pu,Gh,_f,Yh,Q1)=>Ga(Yh,Pu,Gh,Q1.firstSelectedSelector,Q1.lastSelectedSelector).map(Sf=>(Q1.clearBeforeUpdate(_f),Q1.selectRange(_f,Sf.boxes,Sf.start,Sf.finish),Sf.boxes)))(fi.rows,fi.cols,Et,di,kt)).fold(()=>nf(Et,kt.firstSelectedSelector,kt.lastSelectedSelector).map(fi=>{const Pu=Wg(lo)||jn.isForward(lo)?Cs.after:Cs.before;return Rt.setRelativeSelection(Cs.on(fi.first,0),Pu(fi.table)),kt.clear(Et),dr(ne.none(),!0)}),fi=>ne.some(dr(ne.none(),!0)));return Zg(lo)&&Mo&&!Ub(ot,Vn)?ne.none:Wg(lo)&&Mo?Ra([yf(1,0)]):Vb(lo)&&Mo?Ra([yf(-1,0)]):jn.isBackward(lo)&&Mo?Ra([yf(0,-1),yf(-1,0)]):jn.isForward(lo)&&Mo?Ra([yf(0,1),yf(1,0)]):Zg(lo)&&!Mo?Ut:ne.none})()},keyup:(Gt,ot,gn,Vn,co)=>db(Et,kt.selectedSelector).fold(()=>{const jn=Gt.raw,$n=jn.which;return jn.shiftKey===!0&&Zg($n)&&Ub(ot,Vn)?((lo,Mo,Ur,di,Ra,Kl,Dm)=>Os(Ur,Ra)&&di===Kl?ne.none():je(Ur,"td,th",Mo).bind(fi=>je(Ra,"td,th",Mo).bind(Pu=>Db(lo,Mo,fi,Pu,Dm))))(Et,Ot,ot,gn,Vn,co,kt.selectRange):ne.none()},ne.none)}})(Q,se,be,P),Ee=((tt,Et,Ot,kt)=>{const Rt=hx(tt);return(Ut,Gt)=>{kt.clearBeforeUpdate(Et),qc(Ut,Gt,Ot).each(ot=>{const gn=ot.boxes.getOr([]);kt.selectRange(Et,gn,ot.start,ot.finish),Rt.selectContents(Gt),Rt.collapseSelection()})}})(Q,se,be,P);y.on("TableSelectorChange",tt=>Ee(tt.start,tt.finish));const Ie=(tt,Et)=>{(Ot=>Ot.raw.shiftKey===!0)(tt)&&(Et.kill&&tt.kill(),Et.selection.each(Ot=>{const kt=pf.relative(Ot.start,Ot.finish),Rt=ax(Q,kt);y.selection.setRng(Rt)}))},Pe=tt=>tt.button===0,Je=(()=>{const tt=H1(Vt.fromDom(se)),Et=H1(0);return{touchEnd:Ot=>{const kt=Vt.fromDom(Ot.target);if(Do("td")(kt)||Do("th")(kt)){const Rt=tt.get(),Ut=Et.get();Os(Rt,kt)&&Ot.timeStamp-Ut<300&&(Ot.preventDefault(),Ee(kt,kt))}tt.set(kt),Et.set(Ot.timeStamp)}}})();y.on("dragstart",tt=>{De.clearstate()}),y.on("mousedown",tt=>{Pe(tt)&&Zb(tt)&&De.mousedown(Kh(tt))}),y.on("mouseover",tt=>{var Et;(Et=tt).buttons!==void 0&&!(1&Et.buttons)||!Zb(tt)||De.mouseover(Kh(tt))}),y.on("mouseup",tt=>{Pe(tt)&&Zb(tt)&&De.mouseup(Kh(tt))}),y.on("touchend",Je.touchEnd),y.on("keyup",tt=>{const Et=Kh(tt);if(Et.raw.shiftKey&&Zg(Et.raw.which)){const Ot=y.selection.getRng(),kt=Vt.fromDom(Ot.startContainer),Rt=Vt.fromDom(Ot.endContainer);Ve.keyup(Et,kt,Ot.startOffset,Rt,Ot.endOffset).each(Ut=>{Ie(Et,Ut)})}}),y.on("keydown",tt=>{const Et=Kh(tt);_.hide();const Ot=y.selection.getRng(),kt=Vt.fromDom(Ot.startContainer),Rt=Vt.fromDom(Ot.endContainer),Ut=_o(gf,hf)(Vt.fromDom(y.selection.getStart()));Ve.keydown(Et,kt,Ot.startOffset,Rt,Ot.endOffset,Ut).each(Gt=>{Ie(Et,Gt)}),_.show()}),y.on("NodeChange",()=>{const tt=y.selection,Et=Vt.fromDom(tt.getStart()),Ot=Vt.fromDom(tt.getEnd());tf(ol,[Et,Ot]).fold(()=>P.clear(se),$)})}),y.on("PreInit",()=>{y.serializer.addTempAttr(sf.firstSelected),y.serializer.addTempAttr(sf.lastSelected)}),{getSelectedCells:()=>((U,Q,se,be)=>{switch(U.tag){case"none":return Q();case"single":return(De=>[De.dom])(U.element);case"multiple":return(De=>D(De,Ve=>Ve.dom))(U.elements)}})(T.get(),K([])),clearSelectedCells:U=>P.clear(Vt.fromDom(U))}},tu=y=>{let _=[];return{bind:T=>{if(T===void 0)throw new Error("Event bind error: undefined handler");_.push(T)},unbind:T=>{_=cn(_,P=>P!==T)},trigger:(...T)=>{const P={};yt(y,(V,U)=>{P[V]=T[U]}),yt(_,V=>{V(P)})}}},Am=y=>({registry:si(y,_=>({bind:_.bind,unbind:_.unbind})),trigger:si(y,_=>_.trigger)}),jb=y=>y.slice(0).sort(),Kb=(y,_)=>{const T=cn(_,P=>!nt(y,P));T.length>0&&(P=>{throw new Error("Unsupported keys for object: "+jb(P).join(", "))})(T)},K1=y=>((_,T)=>((P,V,U)=>{if(V.length===0)throw new Error("You must specify at least one required field.");return((Q,se)=>{if(!x(se))throw new Error("The "+Q+" fields must be an array. Was: "+se+".");yt(se,be=>{if(!b(be))throw new Error("The value "+be+" in the "+Q+" fields was not a string.")})})("required",V),(Q=>{const se=jb(Q);On(se,(be,De)=>De<se.length-1&&be===se[De+1]).each(be=>{throw new Error("The field: "+be+" occurs more than once in the combined fields: ["+se.join(", ")+"].")})})(V),Q=>{const se=ls(Q);Zt(V,De=>nt(se,De))||((De,Ve)=>{throw new Error("All required keys ("+jb(De).join(", ")+") were not specified. Specified keys were: "+jb(Ve).join(", ")+".")})(V,se),P(V,se);const be=cn(V,De=>!U.validate(Q[De],De));return be.length>0&&((De,Ve)=>{throw new Error("All values need to be of type: "+Ve+". Keys ("+jb(De).join(", ")+") were not.")})(be,U.label),Q}})(_,T,{validate:F,label:"function"}))(Kb,y),qb=K1(["compare","extract","mutate","sink"]),Qa=K1(["element","start","stop","destroy"]),q1=K1(["forceDrop","drop","move","delayDrop"]),Tm=()=>{const y=(()=>{const P=Am({move:tu(["info"])});return{onEvent:$,reset:$,events:P.registry}})(),_=(()=>{let P=ne.none();const V=Am({move:tu(["info"])});return{onEvent:(U,Q)=>{Q.extract(U).each(se=>{((De,Ve)=>{const Ee=P.map(Ie=>De.compare(Ie,Ve));return P=ne.some(Ve),Ee})(Q,se).each(De=>{V.trigger.move(De)})})},reset:()=>{P=ne.none()},events:V.registry}})();let T=y;return{on:()=>{T.reset(),T=_},off:()=>{T.reset(),T=y},isOn:()=>T===_,onEvent:(P,V)=>{T.onEvent(P,V)},events:_.events}},Om=y=>{const _=y.replace(/\./g,"-");return{resolve:T=>_+"-"+T}},Gb=Om("ephox-dragster").resolve;var G1=qb({compare:(y,_)=>zi(_.left-y.left,_.top-y.top),extract:y=>ne.some(zi(y.x,y.y)),sink:(y,_)=>{const T=(se=>{const be={layerClass:Gb("blocker"),...se},De=Vt.fromTag("div");return ms(De,"role","presentation"),yl(De,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),xf(De,Gb("blocker")),xf(De,be.layerClass),{element:K(De),destroy:()=>{qs(De)}}})(_),P=Kg(T.element(),"mousedown",y.forceDrop),V=Kg(T.element(),"mouseup",y.drop),U=Kg(T.element(),"mousemove",y.move),Q=Kg(T.element(),"mouseout",y.delayDrop);return Qa({element:T.element,start:se=>{nr(se,T.element())},stop:()=>{qs(T.element())},destroy:()=>{T.destroy(),V.unbind(),U.unbind(),Q.unbind(),P.unbind()}})},mutate:(y,_)=>{y.mutate(_.left,_.top)}});const qg=Om("ephox-snooker").resolve,wf=qg("resizer-bar"),vx=qg("resizer-rows"),Y1=qg("resizer-cols"),Zi=y=>{const _=xs(y.parent(),"."+wf);yt(_,qs)},Cf=(y,_,T)=>{const P=y.origin();yt(_,V=>{V.each(U=>{const Q=T(P,U);xf(Q,wf),nr(y.parent(),Q)})})},yx=(y,_,T,P,V)=>{const U=Yd(T),Q=_.isResizable,se=P.length>0?Su.positions(P,T):[],be=se.length>0?((Ee,Ie)=>bt(Ee.all,(Pe,Je)=>Ie(Pe.element)?[Je]:[]))(y,Q):[];((Ee,Ie,Pe,Je)=>{Cf(Ee,Ie,(tt,Et)=>{const Ot=((kt,Rt,Ut,Gt,ot)=>{const gn=Vt.fromTag("div");return yl(gn,{position:"absolute",left:Rt+"px",top:Ut-3.5+"px",height:"7px",width:Gt+"px"}),yi(gn,{"data-row":kt,role:"presentation"}),gn})(Et.row,Pe.left-tt.left,Et.y-tt.top,Je);return xf(Ot,vx),Ot})})(_,cn(se,(Ee,Ie)=>Ce(be,Pe=>Ie===Pe)),U,yg(T));const De=V.length>0?Xd.positions(V,T):[],Ve=De.length>0?((Ee,Ie)=>{const Pe=[];return Ne(Ee.grid.columns,Je=>{us(Ee,Je).map(tt=>tt.element).forall(Ie)&&Pe.push(Je)}),cn(Pe,Je=>{const tt=Ea(Ee,Et=>Et.column===Je);return Zt(tt,Et=>Ie(Et.element))})})(y,Q):[];((Ee,Ie,Pe,Je)=>{Cf(Ee,Ie,(tt,Et)=>{const Ot=((kt,Rt,Ut,Gt,ot)=>{const gn=Vt.fromTag("div");return yl(gn,{position:"absolute",left:Rt-3.5+"px",top:Ut+"px",height:ot+"px",width:"7px"}),yi(gn,{"data-column":kt,role:"presentation"}),gn})(Et.col,Et.x-tt.left,Pe.top-tt.top,0,Je);return xf(Ot,Y1),Ot})})(_,cn(De,(Ee,Ie)=>Ce(Ve,Pe=>Ie===Pe)),U,nb(T))},mt=(y,_)=>{if(Zi(y),y.isResizable(_)){const T=bo(_),P=ld(T),V=Eh(T);yx(T,y,_,P,V)}},qh=(y,_)=>{const T=xs(y.parent(),"."+wf);yt(T,_)},Nk=y=>{qh(y,_=>{fo(_,"display","none")})},fC=y=>{qh(y,_=>{fo(_,"display","block")})},X1=qg("resizer-bar-dragging"),nu=y=>{const _=(()=>{const Ee=Am({drag:tu(["xDelta","yDelta","target"])});let Ie=ne.none();const Pe=(()=>{const Je=Am({drag:tu(["xDelta","yDelta"])});return{mutate:(tt,Et)=>{Je.trigger.drag(tt,Et)},events:Je.registry}})();return Pe.events.drag.bind(Je=>{Ie.each(tt=>{Ee.trigger.drag(Je.xDelta,Je.yDelta,tt)})}),{assign:Je=>{Ie=ne.some(Je)},get:()=>Ie,mutate:Pe.mutate,events:Ee.registry}})(),T=((Ee,Ie={})=>{var Pe;return((Je,tt,Et)=>{let Ot=!1;const kt=Am({start:tu([]),stop:tu([])}),Rt=Tm(),Ut=()=>{gn.stop(),Rt.isOn()&&(Rt.off(),kt.trigger.stop())},Gt=((Vn,co)=>{let jn=null;const $n=()=>{S(jn)||(clearTimeout(jn),jn=null)};return{cancel:$n,throttle:(...lo)=>{$n(),jn=setTimeout(()=>{jn=null,Vn.apply(null,lo)},200)}}})(Ut);Rt.events.move.bind(Vn=>{tt.mutate(Je,Vn.info)});const ot=Vn=>(...co)=>{Ot&&Vn.apply(null,co)},gn=tt.sink(q1({forceDrop:Ut,drop:ot(Ut),move:ot(Vn=>{Gt.cancel(),Rt.onEvent(Vn,tt)}),delayDrop:ot(Gt.throttle)}),Et);return{element:gn.element,go:Vn=>{gn.start(Vn),Rt.on(),kt.trigger.start()},on:()=>{Ot=!0},off:()=>{Ot=!1},isActive:()=>Ot,destroy:()=>{gn.destroy()},events:kt.registry}})(Ee,(Pe=Ie.mode)!==null&&Pe!==void 0?Pe:G1,Ie)})(_,{});let P=ne.none();const V=(Ee,Ie)=>ne.from(un(Ee,Ie));_.events.drag.bind(Ee=>{V(Ee.target,"data-row").each(Ie=>{const Pe=Ud(Ee.target,"top");fo(Ee.target,"top",Pe+Ee.yDelta+"px")}),V(Ee.target,"data-column").each(Ie=>{const Pe=Ud(Ee.target,"left");fo(Ee.target,"left",Pe+Ee.xDelta+"px")})});const U=(Ee,Ie)=>Ud(Ee,Ie)-ar(Ee,"data-initial-"+Ie,0);T.events.stop.bind(()=>{_.get().each(Ee=>{P.each(Ie=>{V(Ee,"data-row").each(Pe=>{const Je=U(Ee,"top");io(Ee,"data-initial-top"),Ve.trigger.adjustHeight(Ie,Je,parseInt(Pe,10))}),V(Ee,"data-column").each(Pe=>{const Je=U(Ee,"left");io(Ee,"data-initial-left"),Ve.trigger.adjustWidth(Ie,Je,parseInt(Pe,10))}),mt(y,Ie)})})});const Q=(Ee,Ie)=>{Ve.trigger.startAdjust(),_.assign(Ee),ms(Ee,"data-initial-"+Ie,Ud(Ee,Ie)),xf(Ee,X1),fo(Ee,"opacity","0.2"),T.go(y.parent())},se=Kg(y.parent(),"mousedown",Ee=>{var Ie;Ie=Ee.target,Wb(Ie,vx)&&Q(Ee.target,"top"),(Pe=>Wb(Pe,Y1))(Ee.target)&&Q(Ee.target,"left")}),be=Ee=>Os(Ee,y.view()),De=Kg(y.view(),"mouseover",Ee=>{var Ie;(Ie=Ee.target,je(Ie,"table",be).filter(Xn)).fold(()=>{Pi(Ee.target)&&Zi(y)},Pe=>{T.isActive()&&(P=ne.some(Pe),mt(y,Pe))})}),Ve=Am({adjustHeight:tu(["table","delta","row"]),adjustWidth:tu(["table","delta","column"]),startAdjust:tu([])});return{destroy:()=>{se.unbind(),De.unbind(),T.destroy(),Zi(y)},refresh:Ee=>{mt(y,Ee)},on:T.on,off:T.off,hideBars:he(Nk,y),showBars:he(fC,y),events:Ve.registry}},J1=y=>R(y)&&y.nodeName==="TABLE",Yb="bar-",xx=y=>un(y,"data-mce-resize")!=="false",wx=y=>{const _=V1(),T=V1(),P=V1();let V,U,Q,se;const be=Ee=>df(y,Ee),De=()=>kg(y)?h1():Nu(),Ve=(Ee,Ie,Pe,Je)=>{const tt=(kt=>{return so(Rt=kt,"corner-")?((Ut,Gt)=>Ut.substring(7))(Rt):Rt;var Rt})(Ie),Et=Qt(tt,"e"),Ot=so(tt,"n");if(U===""&&Lg(Ee),se===""&&(kt=>{const Rt=(Ut=>cd(Ut)+"px")(kt);Bs(kt,ne.none(),ne.some(Rt)),Jc(kt)})(Ee),Pe!==V&&U!==""){fo(Ee,"width",U);const kt=De(),Rt=be(Ee),Ut=kg(y)||Et?(Gt=>Yc(Gt).columns)(Ee)-1:0;hd(Ee,Pe-V,Ut,kt,Rt)}else if((kt=>/^(\d+(\.\d+)?)%$/.test(kt))(U)){const kt=parseFloat(U.replace("%",""));fo(Ee,"width",Pe*kt/V+"%")}if((kt=>/^(\d+(\.\d+)?)px$/.test(kt))(U)&&(kt=>{const Rt=bo(kt);uc(Rt)||yt(gr(kt),Ut=>{const Gt=Ha(Ut,"width");fo(Ut,"width",Gt),io(Ut,"width")})})(Ee),Je!==Q&&se!==""){fo(Ee,"height",se);const kt=Ot?0:(Rt=>Yc(Rt).rows)(Ee)-1;Og(Ee,Je-Q,kt)}};return y.on("init",()=>{const Ee=((Ie,Pe)=>Ie.inline?((Je,tt,Et)=>({parent:K(tt),view:K(Je),origin:K(zi(0,0)),isResizable:Et}))(Vt.fromDom(Ie.getBody()),(()=>{const Je=Vt.fromTag("div");return yl(Je,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),nr(Lc(Vt.fromDom(document)),Je),Je})(),Pe):((Je,tt)=>{const Et=vo(Je)?(Ot=>Vt.fromDom(ic(Ot).dom.documentElement))(Je):Je;return{parent:K(Et),view:K(Je),origin:K(zi(0,0)),isResizable:tt}})(Vt.fromDom(Ie.getDoc()),Pe))(y,xx);if(P.set(Ee),(Ie=>{const Pe=Ie.options.get("object_resizing");return nt(Pe.split(","),"table")})(y)&&oe(y)){const Ie=((Pe,Je,tt)=>{const Et=Su,Ot=Xd,kt=nu(Pe),Rt=Am({beforeResize:tu(["table","type"]),afterResize:tu(["table","type"]),startDrag:tu([])});return kt.events.adjustHeight.bind(Ut=>{const Gt=Ut.table;Rt.trigger.beforeResize(Gt,"row");const ot=Et.delta(Ut.delta,Gt);Og(Gt,ot,Ut.row),Rt.trigger.afterResize(Gt,"row")}),kt.events.startAdjust.bind(Ut=>{Rt.trigger.startDrag()}),kt.events.adjustWidth.bind(Ut=>{const Gt=Ut.table;Rt.trigger.beforeResize(Gt,"col");const ot=Ot.delta(Ut.delta,Gt),gn=tt(Gt);hd(Gt,ot,Ut.column,Je,gn),Rt.trigger.afterResize(Gt,"col")}),{on:kt.on,off:kt.off,refreshBars:kt.refresh,hideBars:kt.hideBars,showBars:kt.showBars,destroy:kt.destroy,events:Rt.registry}})(Ee,De(),be);Ie.on(),Ie.events.startDrag.bind(Pe=>{_.set(y.selection.getRng())}),Ie.events.beforeResize.bind(Pe=>{const Je=Pe.table.dom;((tt,Et,Ot,kt,Rt)=>{tt.dispatch("ObjectResizeStart",{target:Et,width:Ot,height:kt,origin:Rt})})(y,Je,um(Je),dm(Je),Yb+Pe.type)}),Ie.events.afterResize.bind(Pe=>{const Je=Pe.table,tt=Je.dom;cr(Je),_.on(Et=>{y.selection.setRng(Et),y.focus()}),((Et,Ot,kt,Rt,Ut)=>{Et.dispatch("ObjectResized",{target:Ot,width:kt,height:Rt,origin:Ut})})(y,tt,um(tt),dm(tt),Yb+Pe.type),y.undoManager.add()}),T.set(Ie)}}),y.on("ObjectResizeStart",Ee=>{const Ie=Ee.target;if(J1(Ie)){const Pe=Vt.fromDom(Ie);yt(y.dom.select(".mce-clonedresizable"),Je=>{y.dom.addClass(Je,"mce-"+Sg(y)+"-columns")}),!Js(Pe)&&I(y)?ll(Pe):!I1(Pe)&&Du(y)&&Lg(Pe),Bu(Pe)&&so(Ee.origin,Yb)&&Lg(Pe),V=Ee.width,U=Z(y)?"":Ww(y,Ie).getOr(""),Q=Ee.height,se=lb(y,Ie).getOr("")}}),y.on("ObjectResized",Ee=>{const Ie=Ee.target;if(J1(Ie)){const Pe=Vt.fromDom(Ie),Je=Ee.origin;(tt=>so(tt,"corner-"))(Je)&&Ve(Pe,Je,Ee.width,Ee.height),cr(Pe),bd(y,Pe.dom,D1)}}),y.on("SwitchMode",()=>{T.on(Ee=>{y.mode.isReadOnly()?Ee.hideBars():Ee.showBars()})}),y.on("dragstart dragend",Ee=>{T.on(Ie=>{Ee.type==="dragstart"?(Ie.hideBars(),Ie.off()):(Ie.on(),Ie.showBars())})}),y.on("remove",()=>{T.on(Ee=>{Ee.destroy()}),P.on(Ee=>{((Ie,Pe)=>{Ie.inline&&qs(Pe.parent())})(y,Ee)})}),{refresh:Ee=>{T.on(Ie=>Ie.refreshBars(Vt.fromDom(Ee)))},hide:()=>{T.on(Ee=>Ee.hideBars())},show:()=>{T.on(Ee=>Ee.showBars())}}},Ik=y=>{(V=>{const U=V.options.register;U("table_clone_elements",{processor:"string[]"}),U("table_use_colgroups",{processor:"boolean",default:!0}),U("table_header_type",{processor:Q=>{const se=nt(["section","cells","sectionCells","auto"],Q);return se?{value:Q,valid:se}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),U("table_sizing_mode",{processor:"string",default:"auto"}),U("table_default_attributes",{processor:"object",default:{border:"1"}}),U("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),U("table_column_resizing",{processor:Q=>{const se=nt(["preservetable","resizetable"],Q);return se?{value:Q,valid:se}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),U("table_resize_bars",{processor:"boolean",default:!0}),U("table_style_by_css",{processor:"boolean",default:!0}),U("table_merge_content_on_paste",{processor:"boolean",default:!0})})(y);const _=wx(y),T=dC(y,_),P=ex(y,_,T);return yr(y,P),((V,U)=>{const Q=Nr(V),se=be=>or(mc(V)).bind(De=>ol(De,Q).map(Ve=>{const Ee=go(hc(V),Ve,De);return be(Ve,Ee)})).getOr("");qo({mceTableRowType:()=>se(U.getTableRowType),mceTableCellType:()=>se(U.getTableCellType),mceTableColType:()=>se(U.getTableColType)},(be,De)=>V.addQueryValueHandler(De,be))})(y,P),pc(y,P),{getSelectedCells:T.getSelectedCells,clearSelectedCells:T.clearSelectedCells}};s.add("dom",y=>({table:Ik(y)}))})();tinymce.Resource.add("ui/default/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(0,101,216,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255,165,0,.08);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204,0,0,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{font-size:14px;margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active{background-color:#006ce7}.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border:2px solid highlight}}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#fff;position:relative}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment{background:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 8px 16px 8px;position:relative}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #006ce7;color:#006ce7}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#006ce7;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#003c81;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #006ce7;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#00244e;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#fff;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between;overflow:hidden}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:first-child{border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-text-color__color{opacity:.6}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);tinymce.addI18n("de",{"#":"#",Accessibility:"Barrierefreiheit",Accordion:"","Accordion body...":"","Accordion summary...":"",Action:"Aktion",Activity:"Aktivitt",Address:"Adresse",Advanced:"Erweitert",Align:"Ausrichtung","Align center":"Zentrieren","Align left":"Linksbndig ausrichten","Align right":"Rechtsbndig ausrichten",Alignment:"Ausrichtung","Alignment {0}":"",All:"Alle","Alternative description":"Alternative Beschreibung","Alternative source":"Alternative Quelle","Alternative source URL":"URL der alternativen Quelle",Anchor:"Anker","Anchor...":"Textmarke",Anchors:"Anker","Animals and Nature":"Tiere und Natur",Arrows:"Pfeile",B:"B","Background color":"Hintergrundfarbe","Background color {0}":"",Black:"Schwarz",Block:"Blocksatz","Block {0}":"",Blockquote:"Blockzitat",Blocks:"Blcke",Blue:"Blau","Blue component":"Blauanteil",Body:"Inhalt",Bold:"Fett",Border:"Rahmen","Border color":"Rahmenfarbe","Border style":"Rahmenstil","Border width":"Rahmenbreite",Bottom:"Unten","Browse files":"","Browse for an image":"Bild...","Browse links":"","Bullet list":"Aufzhlung",Cancel:"Abbrechen",Caption:"Beschriftung",Cell:"Zelle","Cell padding":"Zelleninnenabstand","Cell properties":"Zelleigenschaften","Cell spacing":"Zellenabstand","Cell styles":"Zellstil","Cell type":"Zelltyp",Center:"Zentriert",Characters:"Zeichen","Characters (no spaces)":"Zeichen (ohne Leerzeichen)",Circle:"Kreis",Class:"Klasse","Clear formatting":"Formatierung entfernen",Close:"Schlieen",Code:"Code","Code sample...":"Codebeispiel...","Code view":"Code Ansicht","Color Picker":"Farbwahl","Color swatch":"Farbpalette",Cols:"Spalten",Column:"Spalte","Column clipboard actions":"Spalten-Zwischenablage-Aktionen","Column group":"Spaltengruppe","Column header":"Spaltenkopf","Constrain proportions":"Seitenverhltnis beibehalten",Copy:"Kopieren","Copy column":"Spalte kopieren","Copy row":"Zeile kopieren","Could not find the specified string.":"Die angegebene Zeichenfolge wurde nicht gefunden.","Could not load emojis":"Emojis konnten nicht geladen werden",Count:"Anzahl",Currency:"Whrung","Current window":"Aktuelles Fenster","Custom color":"Benutzerdefinierte Farbe","Custom...":"Benutzerdefiniert...",Cut:"Ausschneiden","Cut column":"Spalte ausschneiden","Cut row":"Zeile ausschneiden","Dark Blue":"Dunkelblau","Dark Gray":"Dunkelgrau","Dark Green":"Dunkelgrn","Dark Orange":"Dunkelorange","Dark Purple":"Dunkellila","Dark Red":"Dunkelrot","Dark Turquoise":"Dunkeltrkis","Dark Yellow":"Dunkelgelb",Dashed:"Gestrichelt","Date/time":"Datum/Uhrzeit","Decrease indent":"Einzug verkleinern",Default:"Standard","Delete accordion":"","Delete column":"Spalte lschen","Delete row":"Zeile lschen","Delete table":"Tabelle lschen",Dimensions:"Abmessungen",Disc:"Scheibe",Div:"Div",Document:"Dokument",Dotted:"Gepunktet",Double:"Doppelt","Drop an image here":"Bild hier ablegen","Dropped file type is not supported":"Hereingezogener Dateityp wird nicht untersttzt",Edit:"Bearbeiten",Embed:"Einbettung",Emojis:"Emojis","Emojis...":"Emojis...",Error:"Fehler","Error: Form submit field collision.":"Fehler: Kollision der Formularbesttigungsfelder.","Error: No form element found.":"Fehler: Kein Formularelement gefunden.","Extended Latin":"Erweitertes Latein","Failed to initialize plugin: {0}":"Plugin konnte nicht initialisiert werden: {0}","Failed to load plugin url: {0}":"Plugin-URL konnte nicht geladen werden: {0}","Failed to load plugin: {0} from url {1}":"Plugin konnte nicht geladen werden: {0} von URL {1}","Failed to upload image: {0}":"Bild konnte nicht hochgeladen werden: {0}",File:"Datei",Find:"Suchen","Find (if searchreplace plugin activated)":"Suchen (wenn Suchen/Ersetzen-Plugin aktiviert ist)","Find and Replace":"Suchen und Ersetzen","Find and replace...":"Suchen und ersetzen...","Find in selection":"In Auswahl suchen","Find whole words only":"Nur ganze Wrter suchen",Flags:"Flaggen","Focus to contextual toolbar":"Fokus auf kontextbezogene Symbolleiste","Focus to element path":"Fokus auf Elementpfad","Focus to menubar":"Fokus auf Menleiste","Focus to toolbar":"Fokus auf Symbolleiste",Font:"Schriftart","Font size {0}":"","Font sizes":"Schriftgren","Font {0}":"",Fonts:"Schriftarten","Food and Drink":"Essen und Trinken",Footer:"Fuzeile",Format:"Format","Format {0}":"",Formats:"Formate",Fullscreen:"Vollbild",G:"G",General:"Allgemein",Gray:"Grau",Green:"Grn","Green component":"Grnanteil",Groove:"Gekantet","Handy Shortcuts":"Praktische Tastenkombinationen",Header:"Kopfzeile","Header cell":"Kopfzelle","Heading 1":"berschrift 1","Heading 2":"berschrift 2","Heading 3":"berschrift 3","Heading 4":"berschrift 4","Heading 5":"berschrift 5","Heading 6":"berschrift 6",Headings:"berschriften",Height:"Hhe",Help:"Hilfe","Hex color code":"Hexadezimal-Farbwert",Hidden:"Unsichtbar","Horizontal align":"Horizontal ausrichten","Horizontal line":"Horizontale Linie","Horizontal space":"Horizontaler Raum",ID:"ID","ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"Die ID muss mit einem Buchstaben beginnen gefolgt von Buchstaben, Zahlen, Bindestrichen, Punkten, Doppelpunkten oder Unterstrichen.","Image is decorative":"Bild ist dekorativ","Image list":"Bildliste","Image title":"Bildtitel","Image...":"Bild...","ImageProxy HTTP error: Could not find Image Proxy":"Image Proxy HTTP Fehler: Kann Image Proxy nicht finden","ImageProxy HTTP error: Incorrect Image Proxy URL":"Image Proxy HTTP Fehler: Falsche Image Proxy URL","ImageProxy HTTP error: Rejected request":"Image Proxy HTTP Fehler: Abgewiesene Anfrage","ImageProxy HTTP error: Unknown ImageProxy error":"Image Proxy HTTP Fehler: Unbekannter Image Proxy Fehler","Increase indent":"Einzug vergrern",Inline:"Zeichenformate",Insert:"Einfgen","Insert Template":"Vorlage einfgen","Insert accordion":"","Insert column after":"Neue Spalte danach einfgen","Insert column before":"Neue Spalte davor einfgen","Insert date/time":"Datum/Uhrzeit einfgen","Insert image":"Bild einfgen","Insert link (if link plugin activated)":"Link einfgen (wenn Link-Plugin aktiviert ist)","Insert row after":"Neue Zeile danach einfgen","Insert row before":"Neue Zeile davor einfgen","Insert table":"Tabelle einfgen","Insert template...":"Vorlage einfgen...","Insert video":"Video einfgen","Insert/Edit code sample":"Codebeispiel einfgen/bearbeiten","Insert/edit image":"Bild einfgen/bearbeiten","Insert/edit link":"Link einfgen/bearbeiten","Insert/edit media":"Medien einfgen/bearbeiten","Insert/edit video":"Video einfgen/bearbeiten",Inset:"Eingelassen","Invalid hex color code: {0}":"Ungltiger Hexadezimal-Farbwert: {0}","Invalid input":"Ungltige Eingabe",Italic:"Kursiv",Justify:"Blocksatz","Keyboard Navigation":"Tastaturnavigation",Language:"Sprache","Learn more...":"Erfahren Sie mehr dazu...",Left:"Links","Left to right":"Von links nach rechts","Light Blue":"Hellblau","Light Gray":"Hellgrau","Light Green":"Hellgrn","Light Purple":"Helllila","Light Red":"Hellrot","Light Yellow":"Hellgelb","Line height":"Liniendicke","Link list":"Linkliste","Link...":"Link...","List Properties":"Liste Eigenschaften","List properties...":"Liste Eigenschaften","Loading emojis...":"Lade Emojis...","Loading...":"Wird geladen...","Lower Alpha":"Lateinisches Alphabet in Kleinbuchstaben","Lower Greek":"Griechische Kleinbuchstaben","Lower Roman":"Kleiner rmischer Buchstabe","Match case":"Gro-/Kleinschreibung beachten",Mathematical:"Mathematisch","Media poster (Image URL)":"Medienposter (Bild-URL)","Media...":"Medien...","Medium Blue":"Mittleres Blau","Medium Gray":"Mittelgrau","Medium Purple":"Mittelviolett","Merge cells":"Zellen verbinden",Middle:"Mitte","Midnight Blue":"Mitternachtsblau","More...":"Mehr...",Name:"Name","Navy Blue":"Marineblau","New document":"Neues Dokument","New window":"Neues Fenster",Next:"Nchste",No:"Nein","No alignment":"Keine Ausrichtung","No color":"Keine Farbe","Nonbreaking space":"Geschtztes Leerzeichen",None:"Keine","Numbered list":"Nummerierte Liste",OR:"ODER",Objects:"Objekte",Ok:"Ok","Open help dialog":"Hilfe-Dialog ffnen","Open link":"Link ffnen","Open link in...":"Link ffnen in...","Open popup menu for split buttons":"ffne Popup Menge um Buttons zu trennen",Orange:"Orange",Outset:"Hervorstehend","Page break":"Seitenumbruch",Paragraph:"Absatz",Paste:"Einfgen","Paste as text":"Als Text einfgen","Paste column after":"Spalte danach einfgen","Paste column before":"Spalte davor einfgen","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"Einfgen ist nun im unformatierten Textmodus. Inhalte werden ab jetzt als unformatierter Text eingefgt, bis Sie diese Einstellung wieder deaktivieren.","Paste or type a link":"Link einfgen oder eingeben","Paste row after":"Zeile danach einfgen","Paste row before":"Zeile davor einfgen","Paste your embed code below:":"Fgen Sie Ihren Einbettungscode unten ein:",People:"Menschen",Plugins:"Plugins","Plugins installed ({0}):":"Installierte Plugins ({0}):","Powered by {0}":"Betrieben von {0}",Pre:"Pre",Preferences:"Einstellungen",Preformatted:"Vorformatiert","Premium plugins:":"Premium-Plugins:","Press the Up and Down arrow keys to resize the editor.":"","Press the arrow keys to resize the editor.":"","Press {0} for help":"",Preview:"Vorschau",Previous:"Vorherige",Print:"Drucken","Print...":"Drucken...",Purple:"Violett",Quotations:"Anfhrungszeichen",R:"R","Range 0 to 255":"Spanne 0 bis 255",Red:"Rot","Red component":"Rotanteil",Redo:"Wiederholen",Remove:"Entfernen","Remove color":"Farbauswahl aufheben","Remove link":"Link entfernen",Replace:"Ersetzen","Replace all":"Alle ersetzen","Replace with":"Ersetzen durch",Resize:"Skalieren","Restore last draft":"Letzten Entwurf wiederherstellen","Reveal or hide additional toolbar items":"","Rich Text Area":"Rich-Text-Area","Rich Text Area. Press ALT-0 for help.":"Rich-Text-Bereich. Drcken Sie Alt+0 fr Hilfe.","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"Rich-Text-Bereich. Drcken Sie Alt+F9 fr das Men. Drcken Sie Alt+F10 fr die Symbolleiste. Drcken Sie Alt+0 fr Hilfe.",Ridge:"Eingeritzt",Right:"Rechts","Right to left":"Von rechts nach links",Row:"Zeile","Row clipboard actions":"Zeilen-Zwischenablage-Aktionen","Row group":"Zeilengruppe","Row header":"Zeilenkopf","Row properties":"Zeileneigenschaften","Row type":"Zeilentyp",Rows:"Zeilen",Save:"Speichern","Save (if save plugin activated)":"Speichern (wenn Save-Plugin aktiviert ist)",Scope:"Bereich",Search:"Suchen","Select all":"Alles auswhlen","Select...":"Auswahl...",Selection:"Auswahl",Shortcut:"Tastenkombination","Show blocks":"Blcke anzeigen","Show caption":"Beschriftung anzeigen","Show invisible characters":"Unsichtbare Zeichen anzeigen",Size:"Schriftgre",Solid:"Durchgezogen",Source:"Quelle","Source code":"Quellcode","Special Character":"Sonderzeichen","Special character...":"Sonderzeichen...","Split cell":"Zelle aufteilen",Square:"Rechteck","Start list at number":"Beginne Liste mit Nummer",Strikethrough:"Durchgestrichen",Style:"Formatvorlage",Subscript:"Tiefgestellt",Superscript:"Hochgestellt","Switch to or from fullscreen mode":"Vollbildmodus umschalten",Symbols:"Symbole","System Font":"Betriebssystemschriftart",Table:"Tabelle","Table caption":"Tabellenbeschriftung","Table properties":"Tabelleneigenschaften","Table styles":"Tabellenstil",Template:"Vorlage",Templates:"Vorlagen",Text:"Text","Text color":"Textfarbe","Text color {0}":"","Text to display":"Anzuzeigender Text","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"Diese URL scheint eine E-Mail-Adresse zu sein. Mchten Sie das dazu bentigte mailto: voranstellen?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"Diese URL scheint ein externer Link zu sein. Mchten Sie das dazu bentigte http:// voranstellen?","The URL you entered seems to be an external link. Do you want to add the required https:// prefix?":"Die eingegebene URL scheint ein externer Link zu sein. Soll das fehlende https:// davor ergnzt werden?",Title:"Titel","To open the popup, press Shift+Enter":"Drcken Sie Umschalt+Eingabe, um das Popup-Fenster zu ffnen.","Toggle accordion":"",Tools:"Werkzeuge",Top:"Oben","Travel and Places":"Reisen und Orte",Turquoise:"Trkis",Underline:"Unterstrichen",Undo:"Rckgngig machen",Upload:"Hochladen","Uploading image":"Bild wird hochgeladen","Upper Alpha":"Lateinisches Alphabet in Grobuchstaben","Upper Roman":"Groer rmischer Buchstabe",Url:"URL","User Defined":"Benutzerdefiniert",Valid:"Gltig",Version:"Version","Vertical align":"Vertikal ausrichten","Vertical space":"Vertikaler Raum",View:"Ansicht","Visual aids":"Visuelle Hilfen",Warn:"Warnung",White:"Wei",Width:"Breite","Word count":"Anzahl der Wrter",Words:"Wrter","Words: {0}":"Wortzahl: {0}",Yellow:"Gelb",Yes:"Ja","You are using {0}":"Sie verwenden {0}","You have unsaved changes are you sure you want to navigate away?":"Die nderungen wurden noch nicht gespeichert. Sind Sie sicher, dass Sie diese Seite verlassen wollen?","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"Ihr Browser untersttzt leider keinen direkten Zugriff auf die Zwischenablage. Bitte benutzen Sie die Tastenkombinationen Strg+X/C/V.",alignment:"Ausrichtung","austral sign":"Australzeichen","cedi sign":"Cedizeichen","colon sign":"Doppelpunkt","cruzeiro sign":"Cruzeirozeichen","currency sign":"Whrungssymbol","dollar sign":"Dollarzeichen","dong sign":"Dongzeichen","drachma sign":"Drachmezeichen","euro-currency sign":"Eurozeichen",example:"Beispiel",formatting:"Formatierung","french franc sign":"Franczeichen","german penny symbol":"Pfennigzeichen","guarani sign":"Guaranizeichen",history:"Historie","hryvnia sign":"Hrywnjazeichen",indentation:"Einrckungen","indian rupee sign":"Indisches Rupiezeichen","kip sign":"Kipzeichen","lira sign":"Lirezeichen","livre tournois sign":"Livrezeichen","manat sign":"Manatzeichen","mill sign":"Millzeichen","naira sign":"Nairazeichen","new sheqel sign":"Schekelzeichen","nordic mark sign":"Zeichen nordische Mark","peseta sign":"Pesetazeichen","peso sign":"Pesozeichen","ruble sign":"Rubelzeichen","rupee sign":"Rupiezeichen","spesmilo sign":"Spesmilozeichen",styles:"Stile","tenge sign":"Tengezeichen","tugrik sign":"Tugrikzeichen","turkish lira sign":"Trkisches Lirazeichen","won sign":"Wonzeichen","yen character":"Yenzeichen","yen/yuan character variant one":"Yen-/Yuanzeichen Variante 1","yuan character":"Yuanzeichen","yuan character, in hong kong and taiwan":"Yuanzeichen in Hongkong und Taiwan","{0} characters":"{0}Zeichen","{0} columns, {1} rows":"","{0} words":"{0} Wrter"});(function(){var s=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(I,Z,oe)=>{var Oe;return oe(I,Z.prototype)?!0:((Oe=I.constructor)===null||Oe===void 0?void 0:Oe.name)===Z.name},u=I=>{const Z=typeof I;return I===null?"null":Z==="object"&&Array.isArray(I)?"array":Z==="object"&&i(I,String,(oe,Oe)=>Oe.isPrototypeOf(oe))?"string":Z},m=I=>Z=>u(Z)===I,b=I=>Z=>typeof Z===I,h=m("string"),x=m("object"),S=m("array"),B=b("boolean"),N=I=>I==null,R=I=>!N(I),F=b("function"),W=b("number"),$=()=>{},K=(I,Z)=>oe=>I(Z(oe)),ee=I=>()=>I,fe=(I,Z)=>I===Z;function he(I,...Z){return(...oe)=>{const Oe=Z.concat(oe);return I.apply(null,Oe)}}const Ue=I=>Z=>!I(Z),Te=ee(!1);class te{constructor(Z,oe){this.tag=Z,this.value=oe}static some(Z){return new te(!0,Z)}static none(){return te.singletonNone}fold(Z,oe){return this.tag?oe(this.value):Z()}isSome(){return this.tag}isNone(){return!this.tag}map(Z){return this.tag?te.some(Z(this.value)):te.none()}bind(Z){return this.tag?Z(this.value):te.none()}exists(Z){return this.tag&&Z(this.value)}forall(Z){return!this.tag||Z(this.value)}filter(Z){return!this.tag||Z(this.value)?this:te.none()}getOr(Z){return this.tag?this.value:Z}or(Z){return this.tag?this:Z}getOrThunk(Z){return this.tag?this.value:Z()}orThunk(Z){return this.tag?this:Z()}getOrDie(Z){if(this.tag)return this.value;throw new Error(Z??"Called getOrDie on None")}static from(Z){return R(Z)?te.some(Z):te.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Z){this.tag&&Z(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}te.singletonNone=new te(!1);const Ae=Array.prototype.slice,ne=Array.prototype.indexOf,Ge=Array.prototype.push,$e=(I,Z)=>ne.call(I,Z),Ze=(I,Z)=>$e(I,Z)>-1,nt=(I,Z)=>{for(let oe=0,Oe=I.length;oe<Oe;oe++){const ze=I[oe];if(Z(ze,oe))return!0}return!1},Ce=(I,Z)=>{const oe=I.length,Oe=new Array(oe);for(let ze=0;ze<oe;ze++){const Tt=I[ze];Oe[ze]=Z(Tt,ze)}return Oe},Ne=(I,Z)=>{for(let oe=0,Oe=I.length;oe<Oe;oe++){const ze=I[oe];Z(ze,oe)}},D=(I,Z)=>{const oe=[];for(let Oe=0,ze=I.length;Oe<ze;Oe++){const Tt=I[Oe];Z(Tt,Oe)&&oe.push(Tt)}return oe},yt=(I,Z)=>{if(I.length===0)return[];{let oe=Z(I[0]);const Oe=[];let ze=[];for(let Tt=0,Ln=I.length;Tt<Ln;Tt++){const ro=I[Tt],Xn=Z(ro);Xn!==oe&&(Oe.push(ze),ze=[]),oe=Xn,ze.push(ro)}return ze.length!==0&&Oe.push(ze),Oe}},Pt=(I,Z,oe)=>(Ne(I,(Oe,ze)=>{oe=Z(oe,Oe,ze)}),oe),cn=(I,Z,oe)=>{for(let Oe=0,ze=I.length;Oe<ze;Oe++){const Tt=I[Oe];if(Z(Tt,Oe))return te.some(Tt);if(oe(Tt,Oe))break}return te.none()},hn=(I,Z)=>cn(I,Z,Te),Qe=I=>{const Z=[];for(let oe=0,Oe=I.length;oe<Oe;++oe){if(!S(I[oe]))throw new Error("Arr.flatten item "+oe+" was not an array, input: "+I);Ge.apply(Z,I[oe])}return Z},On=(I,Z)=>Qe(Ce(I,Z)),as=I=>{const Z=Ae.call(I,0);return Z.reverse(),Z},pt=(I,Z)=>Z>=0&&Z<I.length?te.some(I[Z]):te.none(),bt=I=>pt(I,0),Zt=I=>pt(I,I.length-1),Us=(I,Z)=>{const oe=[],Oe=F(Z)?ze=>nt(oe,Tt=>Z(Tt,ze)):ze=>Ze(oe,ze);for(let ze=0,Tt=I.length;ze<Tt;ze++){const Ln=I[ze];Oe(Ln)||oe.push(Ln)}return oe},ho=(I,Z,oe=fe)=>I.exists(Oe=>oe(Oe,Z)),xn=(I,Z,oe=fe)=>Rn(I,Z,oe).getOr(I.isNone()&&Z.isNone()),Rn=(I,Z,oe)=>I.isSome()&&Z.isSome()?te.some(oe(I.getOrDie(),Z.getOrDie())):te.none(),J=8,ls=11,ys=1,qo=3,si=(I,Z)=>{const Oe=(Z||document).createElement("div");if(Oe.innerHTML=I,!Oe.hasChildNodes()||Oe.childNodes.length>1){const ze="HTML does not have a single root node";throw console.error(ze,I),new Error(ze)}return xe(Oe.childNodes[0])},Ke=(I,Z)=>{const Oe=(Z||document).createElement(I);return xe(Oe)},le=(I,Z)=>{const Oe=(Z||document).createTextNode(I);return xe(Oe)},xe=I=>{if(I==null)throw new Error("Node cannot be null or undefined");return{dom:I}},pe={fromHtml:si,fromTag:Ke,fromText:le,fromDom:xe,fromPoint:(I,Z,oe)=>te.from(I.dom.elementFromPoint(Z,oe)).map(xe)},St=(I,Z)=>{const oe=I.dom;if(oe.nodeType!==ys)return!1;{const Oe=oe;if(Oe.matches!==void 0)return Oe.matches(Z);if(Oe.msMatchesSelector!==void 0)return Oe.msMatchesSelector(Z);if(Oe.webkitMatchesSelector!==void 0)return Oe.webkitMatchesSelector(Z);if(Oe.mozMatchesSelector!==void 0)return Oe.mozMatchesSelector(Z);throw new Error("Browser lacks native selectors")}},$t=(I,Z)=>I.dom===Z.dom,Ct=(I,Z)=>{const oe=I.dom,Oe=Z.dom;return oe===Oe?!1:oe.contains(Oe)},zt=St,It=typeof window<"u"?window:Function("return this;")(),sn=(I,Z)=>{let oe=Z??It;for(let Oe=0;Oe<I.length&&oe!==void 0&&oe!==null;++Oe)oe=oe[I[Oe]];return oe},wn=(I,Z)=>{const oe=I.split(".");return sn(oe,Z)},Cn=(I,Z)=>wn(I,Z),En=(I,Z)=>{const oe=Cn(I,Z);if(oe==null)throw new Error(I+" not available on this browser");return oe},ao=Object.getPrototypeOf,vo=I=>En("HTMLElement",I),To=I=>{const Z=wn("ownerDocument.defaultView",I);return x(I)&&(vo(Z).prototype.isPrototypeOf(I)||/^HTML\w*Element$/.test(ao(I).constructor.name))},Do=I=>I.dom.nodeName.toLowerCase(),Ar=I=>I.dom.nodeType,ms=I=>Z=>Ar(Z)===I,yi=I=>Ar(I)===J||Do(I)==="#comment",un=I=>po(I)&&To(I.dom),po=ms(ys),io=ms(qo),Ws=ms(ls),za=I=>Z=>po(Z)&&Do(Z)===I,Vt=I=>te.from(I.dom.parentNode).map(pe.fromDom),Qr=I=>te.from(I.dom.parentElement).map(pe.fromDom),Wo=I=>te.from(I.dom.nextSibling).map(pe.fromDom),Tl=I=>Ce(I.dom.childNodes,pe.fromDom),Os=(I,Z)=>{const oe=I.dom.childNodes;return te.from(oe[Z]).map(pe.fromDom)},Hr=I=>Os(I,0),Yf=I=>Os(I,I.dom.childNodes.length-1),pu=I=>Ws(I)&&R(I.dom.host),ic=I=>pe.fromDom(I.dom.getRootNode()),el=I=>{const Z=ic(I);return pu(Z)?te.some(Z):te.none()},bu=I=>pe.fromDom(I.dom.host),gs=I=>{const Z=io(I)?I.dom.parentNode:I.dom;if(Z==null||Z.ownerDocument===null)return!1;const oe=Z.ownerDocument;return el(pe.fromDom(Z)).fold(()=>oe.body.contains(Z),K(gs,bu))};var Yn=(I,Z,oe,Oe,ze)=>I(oe,Oe)?te.some(oe):F(ze)&&ze(oe)?te.none():Z(oe,Oe,ze);const Ol=(I,Z,oe)=>{let Oe=I.dom;const ze=F(oe)?oe:Te;for(;Oe.parentNode;){Oe=Oe.parentNode;const Tt=pe.fromDom(Oe);if(Z(Tt))return te.some(Tt);if(ze(Tt))break}return te.none()},fa=(I,Z,oe)=>Yn((ze,Tt)=>Tt(ze),Ol,I,Z,oe),vu=(I,Z,oe)=>Ol(I,Oe=>St(Oe,Z),oe),en=(I,Z,oe)=>Yn((ze,Tt)=>St(ze,Tt),vu,I,Z,oe),yu=I=>en(I,"[contenteditable]"),Xf=(I,Z=!1)=>gs(I)?I.dom.isContentEditable:yu(I).fold(ee(Z),oe=>nr(oe)==="true"),nr=I=>I.dom.contentEditable,Jf=(I,Z)=>{Vt(I).each(Oe=>{Oe.dom.insertBefore(Z.dom,I.dom)})},Mi=(I,Z)=>{Wo(I).fold(()=>{Vt(I).each(ze=>{tl(ze,Z)})},Oe=>{Jf(Oe,Z)})},bl=(I,Z)=>{Hr(I).fold(()=>{tl(I,Z)},Oe=>{I.dom.insertBefore(Z.dom,Oe.dom)})},tl=(I,Z)=>{I.dom.appendChild(Z.dom)},qs=(I,Z)=>{Ne(Z,oe=>{Jf(I,oe)})},ri=(I,Z)=>{Ne(Z,oe=>{tl(I,oe)})},vl=I=>{I.dom.textContent="",Ne(Tl(I),Z=>{Qf(Z)})},Qf=I=>{const Z=I.dom;Z.parentNode!==null&&Z.parentNode.removeChild(Z)};var Mc=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Pc=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),$d=tinymce.util.Tools.resolve("tinymce.util.VK");const nd=I=>Ce(I,pe.fromDom),Zo=Object.keys,wr=(I,Z)=>{const oe=Zo(I);for(let Oe=0,ze=oe.length;Oe<ze;Oe++){const Tt=oe[Oe],Ln=I[Tt];Z(Ln,Tt)}},jr=I=>(Z,oe)=>{I[oe]=Z},em=(I,Z,oe,Oe)=>{wr(I,(ze,Tt)=>{(Z(ze,Tt)?oe:Oe)(ze,Tt)})},Pi=(I,Z)=>{const oe={};return em(I,Z,jr(oe),$),oe},Lc=(I,Z,oe)=>{if(h(oe)||B(oe)||W(oe))I.setAttribute(Z,oe+"");else throw console.error("Invalid call to Attribute.set. Key ",Z,":: Value ",oe,":: Element ",I),new Error("Attribute value was not simple")},ai=(I,Z)=>{const oe=I.dom;wr(Z,(Oe,ze)=>{Lc(oe,ze,Oe)})},ii=I=>Pt(I.dom.attributes,(Z,oe)=>(Z[oe.name]=oe.value,Z),{}),Fc=(I,Z)=>pe.fromDom(I.dom.cloneNode(Z)),xs=I=>Fc(I,!0),Gs=(I,Z)=>{const oe=pe.fromTag(Z),Oe=ii(I);return ai(oe,Oe),oe},Se=(I,Z)=>{const oe=Gs(I,Z);Mi(I,oe);const Oe=Tl(I);return ri(oe,Oe),Qf(I),oe};var Ye=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Re=tinymce.util.Tools.resolve("tinymce.util.Tools");const lt=I=>Z=>R(Z)&&Z.nodeName.toLowerCase()===I,st=I=>Z=>R(Z)&&I.test(Z.nodeName),je=I=>R(I)&&I.nodeType===3,Lt=I=>R(I)&&I.nodeType===1,Xt=st(/^(OL|UL|DL)$/),on=st(/^(OL|UL)$/),fn=lt("ol"),tn=st(/^(LI|DT|DD)$/),so=st(/^(DT|DD)$/),Qt=st(/^(TH|TD)$/),cs=lt("br"),wo=I=>{var Z;return((Z=I.parentNode)===null||Z===void 0?void 0:Z.firstChild)===I},Io=(I,Z)=>R(Z)&&Z.nodeName in I.schema.getTextBlockElements(),mr=(I,Z)=>R(I)&&I.nodeName in Z,fo=(I,Z)=>R(Z)&&Z.nodeName in I.schema.getVoidElements(),yl=(I,Z)=>cs(Z)?I.isBlock(Z.nextSibling)&&!cs(Z.previousSibling):!1,Ha=(I,Z,oe)=>{const Oe=I.isEmpty(Z);return oe&&I.select("span[data-mce-type=bookmark]",Z).length>0?!1:Oe},Qn=(I,Z)=>I.isChildOf(Z,I.getRoot()),Li=I=>Z=>Z.options.get(I),nl=I=>{const Z=I.options.register;Z("lists_indent_on_tab",{processor:"boolean",default:!0})},ar=Li("lists_indent_on_tab"),od=Li("forced_root_block"),Tr=Li("forced_root_block_attrs"),Ud=(I,Z,oe={})=>{const Oe=I.dom,ze=I.schema.getBlockElements(),Tt=Oe.createFragment(),Ln=od(I),ro=Tr(I);let Xn,_n,es=!1;for(_n=Oe.create(Ln,{...ro,...oe.style?{style:oe.style}:{}}),mr(Z.firstChild,ze)||Tt.appendChild(_n);Xn=Z.firstChild;){const Nr=Xn.nodeName;!es&&(Nr!=="SPAN"||Xn.getAttribute("data-mce-type")!=="bookmark")&&(es=!0),mr(Xn,ze)?(Tt.appendChild(Xn),_n=null):(_n||(_n=Oe.create(Ln,ro),Tt.appendChild(_n)),_n.appendChild(Xn))}return!es&&_n&&_n.appendChild(Oe.create("br",{"data-mce-bogus":"1"})),Tt},xl=Ye.DOM,os=(I,Z,oe)=>{const Oe=_n=>{const es=_n.parentNode;es&&Re.each(ze,Nr=>{es.insertBefore(Nr,oe.parentNode)}),xl.remove(_n)},ze=xl.select('span[data-mce-type="bookmark"]',Z),Tt=Ud(I,oe),Ln=xl.createRng();Ln.setStartAfter(oe),Ln.setEndAfter(Z);const ro=Ln.extractContents();for(let _n=ro.firstChild;_n;_n=_n.firstChild)if(_n.nodeName==="LI"&&I.dom.isEmpty(_n)){xl.remove(_n);break}I.dom.isEmpty(ro)||xl.insertAfter(ro,Z),xl.insertAfter(Tt,Z);const Xn=oe.parentElement;Xn&&Ha(I.dom,Xn)&&Oe(Xn),xl.remove(oe),Ha(I.dom,Z)&&xl.remove(Z)},xu=za("dd"),tm=za("dt"),_h=(I,Z)=>{xu(Z)?Se(Z,"dt"):tm(Z)&&Qr(Z).each(oe=>os(I,oe.dom,Z.dom))},gr=I=>{tm(I)&&Se(I,"dd")},lc=(I,Z,oe)=>{Z==="Indent"?Ne(oe,gr):Ne(oe,Oe=>_h(I,Oe))},ol=(I,Z)=>{if(je(I))return{container:I,offset:Z};const oe=Mc.getNode(I,Z);return je(oe)?{container:oe,offset:Z>=I.childNodes.length?oe.data.length:0}:oe.previousSibling&&je(oe.previousSibling)?{container:oe.previousSibling,offset:oe.previousSibling.data.length}:oe.nextSibling&&je(oe.nextSibling)?{container:oe.nextSibling,offset:0}:{container:I,offset:Z}},Ls=I=>{const Z=I.cloneRange(),oe=ol(I.startContainer,I.startOffset);Z.setStart(oe.container,oe.offset);const Oe=ol(I.endContainer,I.endOffset);return Z.setEnd(Oe.container,Oe.offset),Z},nm=["OL","UL","DL"],wl=nm.join(","),Va=(I,Z)=>{const oe=Z||I.selection.getStart(!0);return I.dom.getParent(oe,wl,sd(I,oe))},pg=(I,Z)=>R(I)&&Z.length===1&&Z[0]===I,ma=I=>D(I.querySelectorAll(wl),Xt),Fi=I=>{const Z=Va(I),oe=I.selection.getSelectedBlocks();return pg(Z,oe)?ma(Z):D(oe,Oe=>Xt(Oe)&&Z!==Oe)},$a=(I,Z)=>{const oe=Re.map(Z,Oe=>{const ze=I.dom.getParent(Oe,"li,dd,dt",sd(I,Oe));return ze||Oe});return Us(oe)},Cl=I=>{const Z=I.selection.getSelectedBlocks();return D($a(I,Z),tn)},Sh=I=>D(Cl(I),so),Co=(I,Z)=>{const oe=I.dom.getParents(Z,"TD,TH");return oe.length>0?oe[0]:I.getBody()},zc=(I,Z)=>!Xt(Z)&&!tn(Z)&&nt(nm,oe=>I.isValidChild(Z.nodeName,oe)),sd=(I,Z)=>{const oe=I.dom.getParents(Z,I.dom.isBlock),Oe=Tt=>Tt.nodeName.toLowerCase()!==od(I);return hn(oe,Tt=>Oe(Tt)&&zc(I.schema,Tt)).getOr(I.getBody())},wu=I=>Vt(I).exists(Z=>tn(Z.dom)&&Hr(Z).exists(oe=>!Xt(oe.dom))&&Yf(Z).exists(oe=>!Xt(oe.dom))),Qp=(I,Z)=>{const oe=I.dom.getParents(Z,"ol,ul",sd(I,Z));return Zt(oe)},Ay=I=>{const Z=Qp(I,I.selection.getStart()),oe=D(I.selection.getSelectedBlocks(),on);return Z.toArray().concat(oe)},r1=I=>{const Z=I.selection.getStart();return I.dom.getParents(Z,"ol,ul",sd(I,Z))},a1=I=>{const Z=Ay(I),oe=r1(I);return hn(oe,Oe=>wu(pe.fromDom(Oe))).fold(()=>Uw(I,Z),Oe=>[Oe])},Uw=(I,Z)=>{const oe=Ce(Z,Oe=>Qp(I,Oe).getOr(Oe));return Us(oe)},kh=I=>/\btox\-/.test(I.className),i1=(I,Z)=>cn(I,Xt,Qt).exists(oe=>oe.nodeName===Z&&!kh(oe)),Kt=(I,Z)=>Z!==null&&!I.dom.isEditable(Z),Wd=I=>{const Z=Va(I);return Kt(I,Z)},Zd=(I,Z)=>{const oe=I.dom.getParent(Z,"ol,ul,dl");return Kt(I,oe)},l1=(I,Z)=>{const oe=I.selection.getNode();return Z({parents:I.dom.getParents(oe),element:oe}),I.on("NodeChange",Z),()=>I.off("NodeChange",Z)},Ua=(I,Z)=>{const Oe=document.createDocumentFragment();return Ne(I,ze=>{Oe.appendChild(ze.dom)}),pe.fromDom(Oe)},jd=(I,Z,oe)=>I.dispatch("ListMutation",{action:Z,element:oe}),Ty=(I=>Z=>Z.replace(I,""))(/^\s+|\s+$/g),Oy=I=>I.length>0,eb=I=>!Oy(I),Dy=I=>I.style!==void 0&&F(I.style.getPropertyValue),c1=(I,Z,oe)=>{if(!h(oe))throw console.error("Invalid call to CSS.set. Property ",Z,":: Value ",oe,":: Element ",I),new Error("CSS value must be a string: "+oe);Dy(I)&&I.style.setProperty(Z,oe)},Ry=(I,Z,oe)=>{const Oe=I.dom;c1(Oe,Z,oe)},vg=I=>zt(I,"OL,UL"),u1=I=>zt(I,"LI"),Kd=I=>Hr(I).exists(vg),qd=I=>Yf(I).exists(vg),Wa=I=>"listAttributes"in I,sl=I=>"isComment"in I,yg=I=>"isFragment"in I,Po=I=>I.depth>0,rd=I=>I.isSelected,xg=I=>{const Z=Tl(I),oe=qd(I)?Z.slice(0,-1):Z;return Ce(oe,xs)},wg=(I,Z,oe)=>Vt(I).filter(po).map(Oe=>({depth:Z,dirty:!1,isSelected:oe,content:xg(I),itemAttributes:ii(I),listAttributes:ii(Oe),listType:Do(Oe),isInPreviousLi:!1})),xi=(I,Z)=>{tl(I.item,Z.list)},Or=I=>{for(let Z=1;Z<I.length;Z++)xi(I[Z-1],I[Z])},Ys=(I,Z)=>{Rn(Zt(I),bt(Z),xi)},ka=(I,Z)=>{const oe={list:pe.fromTag(Z,I),item:pe.fromTag("li",I)};return tl(oe.list,oe.item),oe},Fs=(I,Z,oe)=>{const Oe=[];for(let ze=0;ze<oe;ze++)Oe.push(ka(I,Wa(Z)?Z.listType:Z.parentListType));return Oe},Gd=(I,Z)=>{for(let oe=0;oe<I.length-1;oe++)Ry(I[oe].item,"list-style-type","none");Zt(I).each(oe=>{Wa(Z)&&(ai(oe.list,Z.listAttributes),ai(oe.item,Z.itemAttributes)),ri(oe.item,Z.content)})},om=(I,Z)=>{Do(I.list)!==Z.listType&&(I.list=Se(I.list,Z.listType)),ai(I.list,Z.listAttributes)},ra=(I,Z,oe)=>{const Oe=pe.fromTag("li",I);return ai(Oe,Z),ri(Oe,oe),Oe},wi=(I,Z)=>{tl(I.list,Z),I.item=Z},li=(I,Z,oe)=>{const Oe=Z.slice(0,oe.depth);return Zt(Oe).each(ze=>{if(Wa(oe)){const Tt=ra(I,oe.itemAttributes,oe.content);wi(ze,Tt),om(ze,oe)}else if(yg(oe))ri(ze.item,oe.content);else{const Tt=pe.fromHtml(`<!--${oe.content}-->`);tl(ze.list,Tt)}}),Oe},Hc=(I,Z,oe)=>{const Oe=Fs(I,oe,oe.depth-Z.length);return Or(Oe),Gd(Oe,oe),Ys(Z,Oe),Z.concat(Oe)},ad=(I,Z)=>{let oe=te.none();const Oe=Pt(Z,(ze,Tt,Ln)=>sl(Tt)?Ln===0?(oe=te.some(Tt),ze):li(I,ze,Tt):Tt.depth>ze.length?Hc(I,ze,Tt):li(I,ze,Tt),[]);return oe.each(ze=>{const Tt=pe.fromHtml(`<!--${ze.content}-->`);bt(Oe).each(Ln=>{bl(Ln.list,Tt)})}),bt(Oe).map(ze=>ze.list)},bo=(I,Z)=>{switch(I){case"Indent":Z.depth++;break;case"Outdent":Z.depth--;break;case"Flatten":Z.depth=0}Z.dirty=!0},Kr=(I,Z)=>{Wa(I)&&Wa(Z)&&(I.listType=Z.listType,I.listAttributes={...Z.listAttributes})},rl=I=>{I.listAttributes=Pi(I.listAttributes,(Z,oe)=>oe!=="start")},id=(I,Z)=>{const oe=I[Z].depth,Oe=Tt=>Tt.depth===oe&&!Tt.dirty,ze=Tt=>Tt.depth<oe;return cn(as(I.slice(0,Z)),Oe,ze).orThunk(()=>cn(I.slice(Z+1),Oe,ze))},Ea=I=>(Ne(I,(Z,oe)=>{id(I,oe).fold(()=>{Z.dirty&&Wa(Z)&&rl(Z)},Oe=>Kr(Z,Oe))}),I),Dn=I=>{let Z=I;return{get:()=>Z,set:ze=>{Z=ze}}},cc=(I,Z,oe,Oe)=>{var ze;if(yi(Oe))return[{depth:I+1,content:(ze=Oe.dom.nodeValue)!==null&&ze!==void 0?ze:"",dirty:!1,isSelected:!1,isComment:!0}];Z.each(ro=>{$t(ro.start,Oe)&&oe.set(!0)});const Tt=wg(Oe,I,oe.get());Z.each(ro=>{$t(ro.end,Oe)&&oe.set(!1)});const Ln=Yf(Oe).filter(vg).map(ro=>us(I,Z,oe,ro)).getOr([]);return Tt.toArray().concat(Ln)},uc=(I,Z,oe,Oe)=>Hr(Oe).filter(vg).fold(()=>cc(I,Z,oe,Oe),ze=>{const Tt=Pt(Tl(Oe),(Ln,ro,Xn)=>{if(Xn===0)return Ln;if(u1(ro))return Ln.concat(cc(I,Z,oe,ro));{const _n={isFragment:!0,depth:I,content:[ro],isSelected:!1,dirty:!1,parentListType:Do(ze)};return Ln.concat(_n)}},[]);return us(I,Z,oe,ze).concat(Tt)}),us=(I,Z,oe,Oe)=>On(Tl(Oe),ze=>{const Tt=vg(ze)?us:uc,Ln=I+1;return Tt(Ln,Z,oe,ze)}),Eh=(I,Z)=>{const oe=Dn(!1),Oe=0;return Ce(I,ze=>({sourceList:ze,entries:us(Oe,Z,oe,ze)}))},tb=(I,Z)=>{const oe=Ea(Z);return Ce(oe,Oe=>{const ze=sl(Oe)?Ua([pe.fromHtml(`<!--${Oe.content}-->`)]):Ua(Oe.content),Tt=Wa(Oe)?Oe.itemAttributes:{};return pe.fromDom(Ud(I,ze.dom,Tt))})},ld=(I,Z)=>{const oe=Ea(Z);return ad(I.contentDocument,oe).toArray()},_o=(I,Z)=>On(yt(Z,Po),oe=>bt(oe).exists(Po)?ld(I,oe):tb(I,oe)),Ci=(I,Z)=>{Ne(D(I,rd),oe=>bo(Z,oe))},Ah=I=>{const Z=Ce(Cl(I),pe.fromDom);return Rn(hn(Z,Ue(Kd)),hn(as(Z),Ue(Kd)),(oe,Oe)=>({start:oe,end:Oe}))},cd=(I,Z,oe)=>{const Oe=Eh(Z,Ah(I));Ne(Oe,ze=>{Ci(ze.entries,oe);const Tt=_o(I,ze.entries);Ne(Tt,Ln=>{jd(I,oe==="Indent"?"IndentList":"OutdentList",Ln.dom)}),qs(ze.sourceList,Tt),Qf(ze.sourceList)})},nb=(I,Z)=>{const oe=nd(a1(I)),Oe=nd(Sh(I));let ze=!1;if(oe.length||Oe.length){const Tt=I.selection.getBookmark();cd(I,oe,Z),lc(I,Z,Oe),I.selection.moveToBookmark(Tt),I.selection.setRng(Ls(I.selection.getRng())),I.nodeChanged(),ze=!0}return ze},Vc=(I,Z)=>!Wd(I)&&nb(I,Z),zi=I=>Vc(I,"Indent"),$c=I=>Vc(I,"Outdent"),Yd=I=>Vc(I,"Flatten"),Be="\uFEFF",sm=I=>I===Be,ws=(I,Z,oe)=>Ol(I,Z,oe).isSome(),ob=(I,Z)=>ws(I,he($t,Z));var Cg=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Uc=Ye.DOM,Lo=I=>{const Z={},oe=Oe=>{let ze=I[Oe?"startContainer":"endContainer"],Tt=I[Oe?"startOffset":"endOffset"];if(Lt(ze)){const Ln=Uc.create("span",{"data-mce-type":"bookmark"});ze.hasChildNodes()?(Tt=Math.min(Tt,ze.childNodes.length-1),Oe?ze.insertBefore(Ln,ze.childNodes[Tt]):Uc.insertAfter(Ln,ze.childNodes[Tt])):ze.appendChild(Ln),ze=Ln,Tt=0}Z[Oe?"startContainer":"endContainer"]=ze,Z[Oe?"startOffset":"endOffset"]=Tt};return oe(!0),I.collapsed||oe(),Z},Za=I=>{const Z=Oe=>{const ze=ro=>{var Xn;let _n=(Xn=ro.parentNode)===null||Xn===void 0?void 0:Xn.firstChild,es=0;for(;_n;){if(_n===ro)return es;(!Lt(_n)||_n.getAttribute("data-mce-type")!=="bookmark")&&es++,_n=_n.nextSibling}return-1};let Tt=I[Oe?"startContainer":"endContainer"],Ln=I[Oe?"startOffset":"endOffset"];if(Tt){if(Lt(Tt)&&Tt.parentNode){const ro=Tt;Ln=ze(Tt),Tt=Tt.parentNode,Uc.remove(ro),!Tt.hasChildNodes()&&Uc.isBlock(Tt)&&Tt.appendChild(Uc.create("br"))}I[Oe?"startContainer":"endContainer"]=Tt,I[Oe?"startOffset":"endOffset"]=Ln}};Z(!0),Z();const oe=Uc.createRng();return oe.setStart(I.startContainer,I.startOffset),I.endContainer&&oe.setEnd(I.endContainer,I.endOffset),Ls(oe)},Cu=I=>{switch(I){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Vl=(I,Z,oe)=>{const Oe=oe["list-style-type"]?oe["list-style-type"]:null;I.setStyle(Z,"list-style-type",Oe)},_u=(I,Z)=>{Re.each(Z,(oe,Oe)=>{I.setAttribute(Oe,oe)})},Su=(I,Z,oe)=>{_u(Z,oe["list-attributes"]),Re.each(I.select("li",Z),Oe=>{_u(Oe,oe["list-item-attributes"])})},ja=(I,Z,oe)=>{Vl(I,Z,oe),Su(I,Z,oe)},Xd=(I,Z,oe)=>{Re.each(oe,Oe=>I.setStyle(Z,Oe,""))},rm=(I,Z)=>R(Z)&&!mr(Z,I.schema.getBlockElements()),sb=(I,Z,oe,Oe)=>{let ze=Z[oe?"startContainer":"endContainer"];const Tt=Z[oe?"startOffset":"endOffset"];Lt(ze)&&(ze=ze.childNodes[Math.min(Tt,ze.childNodes.length-1)]||ze),!oe&&cs(ze.nextSibling)&&(ze=ze.nextSibling);const Ln=Xn=>{for(;!I.dom.isBlock(Xn)&&Xn.parentNode&&Oe!==Xn;)Xn=Xn.parentNode;return Xn},ro=(Xn,_n)=>{var es;const Nr=new Pc(Xn,Ln(Xn)),cr=_n?"next":"prev";let mc;for(;mc=Nr[cr]();)if(!(fo(I,mc)||sm(mc.textContent)||((es=mc.textContent)===null||es===void 0?void 0:es.length)===0))return te.some(mc);return te.none()};if(oe&&je(ze))if(sm(ze.textContent))ze=ro(ze,!1).getOr(ze);else for(ze.parentNode!==null&&rm(I,ze.parentNode)&&(ze=ze.parentNode);ze.previousSibling!==null&&(rm(I,ze.previousSibling)||je(ze.previousSibling));)ze=ze.previousSibling;if(!oe&&je(ze))if(sm(ze.textContent))ze=ro(ze,!0).getOr(ze);else for(ze.parentNode!==null&&rm(I,ze.parentNode)&&(ze=ze.parentNode);ze.nextSibling!==null&&(rm(I,ze.nextSibling)||je(ze.nextSibling));)ze=ze.nextSibling;for(;ze.parentNode!==Oe;){const Xn=ze.parentNode;if(Io(I,ze)||/^(TD|TH)$/.test(Xn.nodeName))return ze;ze=Xn}return ze},aa=(I,Z,oe)=>{const Oe=[],ze=I.dom,Tt=sb(I,Z,!0,oe),Ln=sb(I,Z,!1,oe);let ro;const Xn=[];for(let _n=Tt;_n&&(Xn.push(_n),_n!==Ln);_n=_n.nextSibling);return Re.each(Xn,_n=>{var es;if(Io(I,_n)){Oe.push(_n),ro=null;return}if(ze.isBlock(_n)||cs(_n)){cs(_n)&&ze.remove(_n),ro=null;return}const Nr=_n.nextSibling;if(Cg.isBookmarkNode(_n)&&(Xt(Nr)||Io(I,Nr)||!Nr&&_n.parentNode===oe)){ro=null;return}ro||(ro=ze.create("p"),(es=_n.parentNode)===null||es===void 0||es.insertBefore(ro,_n),Oe.push(ro)),ro.appendChild(_n)}),Oe},Pn=(I,Z,oe)=>{const Oe=I.getStyle(Z,"list-style-type");let ze=oe?oe["list-style-type"]:"";return ze=ze===null?"":ze,Oe===ze},ku=(I,Z)=>{const oe=I.selection.getStart(!0),Oe=sb(I,Z,!0,I.getBody());return ob(pe.fromDom(Oe),pe.fromDom(Z.commonAncestorContainer))?Z.commonAncestorContainer:oe},am=(I,Z,oe)=>{const Oe=I.selection.getRng();let ze="LI";const Tt=sd(I,ku(I,Oe)),Ln=I.dom;if(Ln.getContentEditable(I.selection.getNode())==="false")return;Z=Z.toUpperCase(),Z==="DL"&&(ze="DT");const ro=Lo(Oe),Xn=D(aa(I,Oe,Tt),I.dom.isEditable);Re.each(Xn,_n=>{let es;const Nr=_n.previousSibling,cr=_n.parentNode;tn(cr)||(Nr&&Xt(Nr)&&Nr.nodeName===Z&&Pn(Ln,Nr,oe)?(es=Nr,_n=Ln.rename(_n,ze),Nr.appendChild(_n)):(es=Ln.create(Z),cr.insertBefore(es,_n),es.appendChild(_n),_n=Ln.rename(_n,ze)),Xd(Ln,_n,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),ja(Ln,es,oe),ud(I.dom,es))}),I.selection.setRng(Za(ro))},Ka=(I,Z)=>Xt(I)&&I.nodeName===(Z==null?void 0:Z.nodeName),Eu=(I,Z,oe)=>{const Oe=I.getStyle(Z,"list-style-type",!0),ze=I.getStyle(oe,"list-style-type",!0);return Oe===ze},_l=(I,Z)=>I.className===Z.className,Au=(I,Z,oe)=>Ka(Z,oe)&&Eu(I,Z,oe)&&_l(Z,oe),ud=(I,Z)=>{let oe,Oe=Z.nextSibling;if(Au(I,Z,Oe)){const ze=Oe;for(;oe=ze.firstChild;)Z.appendChild(oe);I.remove(ze)}if(Oe=Z.previousSibling,Au(I,Z,Oe)){const ze=Oe;for(;oe=ze.lastChild;)Z.insertBefore(oe,Z.firstChild);I.remove(ze)}},ia=(I,Z,oe,Oe)=>{if(Z.nodeName!==oe){const ze=I.dom.rename(Z,oe);ja(I.dom,ze,Oe),jd(I,Cu(oe),ze)}else ja(I.dom,Z,Oe),jd(I,Cu(oe),Z)},$l=(I,Z,oe,Oe)=>{if(Z.classList.forEach((ze,Tt,Ln)=>{ze.startsWith("tox-")&&(Ln.remove(ze),Ln.length===0&&Z.removeAttribute("class"))}),Z.nodeName!==oe){const ze=I.dom.rename(Z,oe);ja(I.dom,ze,Oe),jd(I,Cu(oe),ze)}else ja(I.dom,Z,Oe),jd(I,Cu(oe),Z)},Wc=(I,Z,oe,Oe,ze)=>{const Tt=Xt(Z);if(Tt&&Z.nodeName===Oe&&!im(ze)&&!kh(Z))Yd(I);else{am(I,Oe,ze);const Ln=Lo(I.selection.getRng()),ro=Tt?[Z,...oe]:oe,Xn=Tt&&kh(Z)?$l:ia;Re.each(ro,_n=>{Xn(I,_n,Oe,ze)}),I.selection.setRng(Za(Ln))}},im=I=>"list-style-type"in I,d1=(I,Z,oe,Oe)=>{if(Z!==I.getBody())if(Z)if(Z.nodeName===oe&&!im(Oe)&&!kh(Z))Yd(I);else{const ze=Lo(I.selection.getRng());kh(Z)&&Z.classList.forEach((Ln,ro,Xn)=>{Ln.startsWith("tox-")&&(Xn.remove(Ln),Xn.length===0&&Z.removeAttribute("class"))}),ja(I.dom,Z,Oe);const Tt=I.dom.rename(Z,oe);ud(I.dom,Tt),I.selection.setRng(Za(ze)),am(I,oe,Oe),jd(I,Cu(oe),Tt)}else am(I,oe,Oe),jd(I,Cu(oe),Z)},Tu=(I,Z,oe)=>{const Oe=Va(I);if(Zd(I,Oe))return;const ze=Fi(I),Tt=x(oe)?oe:{};ze.length>0?Wc(I,Oe,ze,Z,Tt):d1(I,Oe,Z,Tt)},Jd=Ye.DOM,rb=(I,Z)=>{const oe=Z.parentElement;if(oe&&oe.nodeName==="LI"&&oe.firstChild===Z){const Oe=oe.previousSibling;Oe&&Oe.nodeName==="LI"?(Oe.appendChild(Z),Ha(I,oe)&&Jd.remove(oe)):Jd.setStyle(oe,"listStyleType","none")}if(Xt(oe)){const Oe=oe.previousSibling;Oe&&Oe.nodeName==="LI"&&Oe.appendChild(Z)}},ir=(I,Z)=>{const oe=Re.grep(I.select("ol,ul",Z));Re.each(oe,Oe=>{rb(I,Oe)})},_i=(I,Z,oe,Oe)=>{let ze=Z.startContainer;const Tt=Z.startOffset;if(je(ze)&&(oe?Tt<ze.data.length:Tt>0))return ze;const Ln=I.schema.getNonEmptyElements();Lt(ze)&&(ze=Mc.getNode(ze,Tt));const ro=new Pc(ze,Oe);oe&&yl(I.dom,ze)&&ro.next();const Xn=oe?ro.next.bind(ro):ro.prev2.bind(ro);for(;ze=Xn();)if(ze.nodeName==="LI"&&!ze.hasChildNodes()||Ln[ze.nodeName]||je(ze)&&ze.data.length>0)return ze;return null},ci=(I,Z)=>{const oe=Z.childNodes;return oe.length===1&&!Xt(oe[0])&&I.isBlock(oe[0])},Hi=I=>te.from(I).map(pe.fromDom).filter(un).exists(Z=>Xf(Z)&&!Ze(["details"],Do(Z))),ea=(I,Z)=>{ci(I,Z)&&Hi(Z.firstChild)&&I.remove(Z.firstChild,!0)},Th=(I,Z,oe)=>{let Oe;const ze=ci(I,oe)?oe.firstChild:oe;if(ea(I,Z),!Ha(I,Z,!0))for(;Oe=Z.firstChild;)ze.appendChild(Oe)},qr=(I,Z,oe)=>{let Oe;const ze=Z.parentNode;if(!Qn(I,Z)||!Qn(I,oe))return;Xt(oe.lastChild)&&(Oe=oe.lastChild),ze===oe.lastChild&&cs(ze.previousSibling)&&I.remove(ze.previousSibling);const Tt=oe.lastChild;Tt&&cs(Tt)&&Z.hasChildNodes()&&I.remove(Tt),Ha(I,oe,!0)&&vl(pe.fromDom(oe)),Th(I,Z,oe),Oe&&oe.appendChild(Oe);const ro=Ct(pe.fromDom(oe),pe.fromDom(Z))?I.getParents(Z,Xt,oe):[];I.remove(Z),Ne(ro,Xn=>{Ha(I,Xn)&&Xn!==I.getRoot()&&I.remove(Xn)})},Aa=(I,Z,oe)=>{vl(pe.fromDom(oe)),qr(I.dom,Z,oe),I.selection.setCursorLocation(oe,0)},Zc=(I,Z,oe,Oe)=>{const ze=I.dom;if(ze.isEmpty(Oe))Aa(I,oe,Oe);else{const Tt=Lo(Z);qr(ze,oe,Oe),I.selection.setRng(Za(Tt))}},At=(I,Z,oe,Oe)=>{const ze=Lo(Z);qr(I.dom,oe,Oe);const Tt=Za(ze);I.selection.setRng(Tt)},Ta=(I,Z)=>{const oe=I.dom,Oe=I.selection,ze=Oe.getStart(),Tt=Co(I,ze),Ln=oe.getParent(Oe.getStart(),"LI",Tt);if(Ln){const ro=Ln.parentElement;if(ro===I.getBody()&&Ha(oe,ro))return!0;const Xn=Ls(Oe.getRng()),_n=oe.getParent(_i(I,Xn,Z,Tt),"LI",Tt),es=_n&&(Z?oe.isChildOf(Ln,_n):oe.isChildOf(_n,Ln));if(_n&&_n!==Ln&&!es)return I.undoManager.transact(()=>{Z?Zc(I,Xn,_n,Ln):wo(Ln)?$c(I):At(I,Xn,Ln,_n)}),!0;if(es&&!Z&&_n!==Ln)return I.undoManager.transact(()=>{if(Xn.commonAncestorContainer.parentElement){const Nr=Lo(Xn),cr=Xn.commonAncestorContainer.parentElement;Th(oe,Xn.commonAncestorContainer.parentElement,_n),cr.remove();const mc=Za(Nr);I.selection.setRng(mc)}}),!0;if(!_n&&!Z&&Xn.startOffset===0&&Xn.endOffset===0)return I.undoManager.transact(()=>{Yd(I)}),!0}return!1},Oh=(I,Z,oe)=>{const Oe=I.getParent(Z.parentNode,I.isBlock,oe);I.remove(Z),Oe&&I.isEmpty(Oe)&&I.remove(Oe)},lr=(I,Z)=>{const oe=I.dom,Oe=I.selection.getStart(),ze=Co(I,Oe),Tt=oe.getParent(Oe,oe.isBlock,ze);if(Tt&&oe.isEmpty(Tt,void 0,{checkRootAsContent:!0})){const Ln=Ls(I.selection.getRng()),ro=oe.getParent(_i(I,Ln,Z,ze),"LI",ze);if(ro){const Xn=cr=>Ze(["td","th","caption"],Do(cr)),_n=cr=>cr.dom===ze,es=fa(pe.fromDom(ro),Xn,_n),Nr=fa(pe.fromDom(Ln.startContainer),Xn,_n);return xn(es,Nr,$t)?(I.undoManager.transact(()=>{const cr=ro.parentNode;Oh(oe,Tt,ze),ud(oe,cr),I.selection.select(ro,!0),I.selection.collapse(Z)}),!0):!1}}return!1},Ou=(I,Z)=>Ta(I,Z)||lr(I,Z),Si=I=>{const Z=I.selection.getStart(),oe=Co(I,Z);return I.dom.getParent(Z,"LI,DT,DD",oe)||Cl(I).length>0},dc=I=>Si(I)?(I.undoManager.transact(()=>{I.execCommand("Delete"),ir(I.dom,I.getBody())}),!0):!1,lm=(I,Z)=>{const oe=I.selection;return!Zd(I,oe.getNode())&&(oe.isCollapsed()?Ou(I,Z):dc(I))},Vi=I=>{I.on("ExecCommand",Z=>{const oe=Z.command.toLowerCase();(oe==="delete"||oe==="forwarddelete")&&Si(I)&&ir(I.dom,I.getBody())}),I.on("keydown",Z=>{Z.keyCode===$d.BACKSPACE?lm(I,!1)&&Z.preventDefault():Z.keyCode===$d.DELETE&&lm(I,!0)&&Z.preventDefault()})},Bo=I=>({backspaceDelete:Z=>{lm(I,Z)}}),Dr=(I,Z)=>{const oe=Va(I);oe===null||Zd(I,oe)||I.undoManager.transact(()=>{x(Z.styles)&&I.dom.setStyles(oe,Z.styles),x(Z.attrs)&&wr(Z.attrs,(Oe,ze)=>I.dom.setAttrib(oe,ze,Oe))})},Qd=I=>{const Z=as(Ty(I).split("")),oe=Ce(Z,(Oe,ze)=>{const Tt=Oe.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,ze)*Tt});return Pt(oe,(Oe,ze)=>Oe+ze,0)},Cr=I=>{if(I--,I<0)return"";{const Z=I%26,oe=Math.floor(I/26),Oe=Cr(oe),ze=String.fromCharCode(65+Z);return Oe+ze}},_g=I=>/^[A-Z]+$/.test(I),jc=I=>/^[a-z]+$/.test(I),f1=I=>/^[0-9]+$/.test(I),hr=I=>f1(I)?2:_g(I)?0:jc(I)?1:eb(I)?3:4,et=I=>{switch(hr(I)){case 2:return te.some({listStyleType:te.none(),start:I});case 0:return te.some({listStyleType:te.some("upper-alpha"),start:Qd(I).toString()});case 1:return te.some({listStyleType:te.some("lower-alpha"),start:Qd(I).toString()});case 3:return te.some({listStyleType:te.none(),start:""});case 4:return te.none()}},ki=I=>{const Z=parseInt(I.start,10);return ho(I.listStyleType,"upper-alpha")?Cr(Z):ho(I.listStyleType,"lower-alpha")?Cr(Z).toLowerCase():I.start},Rr=I=>{const Z=Va(I);!fn(Z)||Zd(I,Z)||I.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:ki({start:I.dom.getAttrib(Z,"start","1"),listStyleType:te.from(I.dom.getStyle(Z,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:oe=>{const Oe=oe.getData();et(Oe.start).each(ze=>{I.execCommand("mceListUpdate",!1,{attrs:{start:ze.start==="1"?"":ze.start},styles:{"list-style-type":ze.listStyleType.getOr("")}})}),oe.close()}})},Dl=(I,Z)=>()=>{const oe=Va(I);return R(oe)&&oe.nodeName===Z},fc=I=>{I.addCommand("mceListProps",()=>{Rr(I)})},Vr=I=>{I.on("BeforeExecCommand",Z=>{const oe=Z.command.toLowerCase();oe==="indent"?zi(I):oe==="outdent"&&$c(I)}),I.addCommand("InsertUnorderedList",(Z,oe)=>{Tu(I,"UL",oe)}),I.addCommand("InsertOrderedList",(Z,oe)=>{Tu(I,"OL",oe)}),I.addCommand("InsertDefinitionList",(Z,oe)=>{Tu(I,"DL",oe)}),I.addCommand("RemoveList",()=>{Yd(I)}),fc(I),I.addCommand("mceListUpdate",(Z,oe)=>{x(oe)&&Dr(I,oe)}),I.addQueryStateHandler("InsertUnorderedList",Dl(I,"UL")),I.addQueryStateHandler("InsertOrderedList",Dl(I,"OL")),I.addQueryStateHandler("InsertDefinitionList",Dl(I,"DL"))};var zs=tinymce.util.Tools.resolve("tinymce.html.Node");const hs=I=>I.type===3,Ei=I=>I.length===0,Rl=I=>{const Z=(ze,Tt)=>{const Ln=zs.create("li");Ne(ze,ro=>Ln.append(ro)),Tt?I.insert(Ln,Tt,!0):I.append(Ln)},oe=(ze,Tt)=>hs(Tt)?[...ze,Tt]:!Ei(ze)&&!hs(Tt)?(Z(ze,Tt),[]):ze,Oe=Pt(I.children(),oe,[]);Ei(Oe)||Z(Oe)},Kc=I=>{I.on("PreInit",()=>{const{parser:Z}=I;Z.addNodeFilter("ul,ol",oe=>Ne(oe,Rl))})},dd=I=>{I.on("keydown",Z=>{Z.keyCode!==$d.TAB||$d.metaKeyPressed(Z)||I.undoManager.transact(()=>{(Z.shiftKey?$c(I):zi(I))&&Z.preventDefault()})})},cm=I=>{ar(I)&&dd(I),Vi(I)},Sg=(I,Z)=>oe=>{const Oe=ze=>{oe.setActive(i1(ze.parents,Z)),oe.setEnabled(!Zd(I,ze.element)&&I.selection.isEditable())};return oe.setEnabled(I.selection.isEditable()),l1(I,Oe)},kg=I=>{const Z=oe=>()=>I.execCommand(oe);I.hasPlugin("advlist")||(I.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:Z("InsertOrderedList"),onSetup:Sg(I,"OL")}),I.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:Z("InsertUnorderedList"),onSetup:Sg(I,"UL")}))},ab=(I,Z)=>oe=>l1(I,ze=>oe.setEnabled(i1(ze.parents,Z)&&!Zd(I,ze.element))),ib=I=>{const Z={text:"List properties...",icon:"ordered-list",onAction:()=>I.execCommand("mceListProps"),onSetup:ab(I,"OL")};I.ui.registry.addMenuItem("listprops",Z),I.ui.registry.addContextMenu("lists",{update:oe=>{const Oe=Va(I,oe);return fn(Oe)?["listprops"]:[]}})};var Du=()=>{s.add("lists",I=>(nl(I),Kc(I),I.hasPlugin("rtc",!0)?fc(I):(cm(I),Vr(I)),kg(I),ib(I),Bo(I)))};Du()})();(function(){var s=tinymce.util.Tools.resolve("tinymce.PluginManager");const i=(le,xe)=>le.dispatch("insertCustomChar",{chr:xe}),u=(le,xe)=>{const Me=i(le,xe).chr;le.execCommand("mceInsertContent",!1,Me)},m=(le,xe,Me)=>{var pe;return Me(le,xe.prototype)?!0:((pe=le.constructor)===null||pe===void 0?void 0:pe.name)===xe.name},b=le=>{const xe=typeof le;return le===null?"null":xe==="object"&&Array.isArray(le)?"array":xe==="object"&&m(le,String,(Me,pe)=>pe.isPrototypeOf(Me))?"string":xe},h=le=>xe=>b(xe)===le,x=le=>xe=>typeof xe===le,S=le=>xe=>le===xe,B=h("array"),N=S(null),R=S(void 0),F=le=>le==null,W=le=>!F(le),$=x("function"),ee=(le=>()=>le)(!1);class fe{constructor(xe,Me){this.tag=xe,this.value=Me}static some(xe){return new fe(!0,xe)}static none(){return fe.singletonNone}fold(xe,Me){return this.tag?Me(this.value):xe()}isSome(){return this.tag}isNone(){return!this.tag}map(xe){return this.tag?fe.some(xe(this.value)):fe.none()}bind(xe){return this.tag?xe(this.value):fe.none()}exists(xe){return this.tag&&xe(this.value)}forall(xe){return!this.tag||xe(this.value)}filter(xe){return!this.tag||xe(this.value)?this:fe.none()}getOr(xe){return this.tag?this.value:xe}or(xe){return this.tag?this:xe}getOrThunk(xe){return this.tag?this.value:xe()}orThunk(xe){return this.tag?this:xe()}getOrDie(xe){if(this.tag)return this.value;throw new Error(xe??"Called getOrDie on None")}static from(xe){return W(xe)?fe.some(xe):fe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(xe){this.tag&&xe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}fe.singletonNone=new fe(!1);const he=Array.prototype.push,Ue=(le,xe)=>{const Me=le.length,pe=new Array(Me);for(let St=0;St<Me;St++){const $t=le[St];pe[St]=xe($t,St)}return pe},Te=(le,xe)=>{for(let Me=0,pe=le.length;Me<pe;Me++){const St=le[Me];xe(St,Me)}},te=(le,xe,Me)=>{for(let pe=0,St=le.length;pe<St;pe++){const $t=le[pe];if(xe($t,pe))return fe.some($t);if(Me($t,pe))break}return fe.none()},Ae=(le,xe)=>te(le,xe,ee),ne=le=>{const xe=[];for(let Me=0,pe=le.length;Me<pe;++Me){if(!B(le[Me]))throw new Error("Arr.flatten item "+Me+" was not an array, input: "+le);he.apply(xe,le[Me])}return xe},Ge=(le,xe)=>ne(Ue(le,xe));var $e=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ze=le=>xe=>xe.options.get(le),nt=le=>{const xe=le.options.register,Me=pe=>$(pe)||B(pe);xe("charmap",{processor:Me}),xe("charmap_append",{processor:Me})},Ce=Ze("charmap"),Ne=Ze("charmap_append"),D=$e.isArray,yt="User Defined",Pt=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],cn=le=>$e.grep(le,xe=>D(xe)&&xe.length===2),hn=le=>D(le)?cn(le):typeof le=="function"?le():[],Qe=(le,xe)=>{const Me=Ce(le);Me&&(xe=[{name:yt,characters:hn(Me)}]);const pe=Ne(le);if(pe){const St=$e.grep(xe,$t=>$t.name===yt);return St.length?(St[0].characters=[...St[0].characters,...hn(pe)],xe):xe.concat({name:yt,characters:hn(pe)})}return xe},On=le=>{const xe=Qe(le,Pt());return xe.length>1?[{name:"All",characters:Ge(xe,Me=>Me.characters)}].concat(xe):xe},as=le=>({getCharMap:()=>On(le),insertChar:pe=>{u(le,pe)}}),pt=le=>{let xe=le;return{get:()=>xe,set:St=>{xe=St}}},bt=(le,xe)=>{let Me=null;const pe=()=>{N(Me)||(clearTimeout(Me),Me=null)};return{cancel:pe,throttle:(...$t)=>{pe(),Me=setTimeout(()=>{Me=null,le.apply(null,$t)},xe)}}},Zt=(le,xe,Me=0,pe)=>{const St=le.indexOf(xe,Me);return St!==-1?R(pe)?!0:St+xe.length<=pe:!1},Us=String.fromCodePoint,ho=(le,xe,Me)=>Zt(Us(le).toLowerCase(),Me)?!0:Zt(xe.toLowerCase(),Me)||Zt(xe.toLowerCase().replace(/\s+/g,""),Me),xn=(le,xe)=>{const Me=[],pe=xe.toLowerCase();return Te(le.characters,St=>{ho(St[0],St[1],pe)&&Me.push(St)}),Ue(Me,St=>({text:St[1],value:Us(St[0]),icon:Us(St[0])}))},Rn="pattern",J=(le,xe)=>{const Me=()=>[{label:"Search",type:"input",name:Rn},{type:"collection",name:"results"}],pe=()=>Ue(xe,vo=>({title:vo.name,name:vo.name,items:Me()})),St=()=>({type:"panel",items:Me()}),$t=()=>({type:"tabpanel",tabs:pe()}),Ct=xe.length===1?pt(yt):pt("All"),zt=(vo,To)=>{Ae(xe,Do=>Do.name===Ct.get()).each(Do=>{const Ar=xn(Do,To);vo.setData({results:Ar})})},sn=bt(vo=>{const To=vo.getData().pattern;zt(vo,To)},40),wn=xe.length===1?St():$t(),Cn={pattern:"",results:xn(xe[0],"")},En={title:"Special Character",size:"normal",body:wn,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:Cn,onAction:(vo,To)=>{To.name==="results"&&(u(le,To.value),vo.close())},onTabChange:(vo,To)=>{Ct.set(To.newTabName),sn.throttle(vo)},onChange:(vo,To)=>{To.name===Rn&&sn.throttle(vo)}};le.windowManager.open(En).focus(Rn)},ls=(le,xe)=>{le.addCommand("mceShowCharmap",()=>{J(le,xe)})},ys=(le,xe)=>{le.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(Me,pe)=>new Promise((St,$t)=>{St(xn(xe,Me))}),onAction:(Me,pe,St)=>{le.selection.setRng(pe),le.insertContent(St),Me.hide()}})},qo=le=>xe=>{const Me=()=>{xe.setEnabled(le.selection.isEditable())};return le.on("NodeChange",Me),Me(),()=>{le.off("NodeChange",Me)}},si=le=>{const xe=()=>le.execCommand("mceShowCharmap");le.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:xe,onSetup:qo(le)}),le.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:xe,onSetup:qo(le)})};var Ke=()=>{s.add("charmap",le=>{nt(le);const xe=On(le);return ls(le,xe),si(le),ys(le,xe[0]),as(le)})};Ke()})();(function(){var s=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=(le=>xe=>le===xe)(null),m=le=>le,b=(le,xe)=>{const Me=le.length,pe=new Array(Me);for(let St=0;St<Me;St++){const $t=le[St];pe[St]=xe($t,St)}return pe},x={aletter:"[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]",midnumlet:"[-'\\.]",midletter:"[:]",midnum:"[+*/,;;]",numeric:"[0-9---------------------------------]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[------------------------------------------------------------------------------------------------------]",format:"[----\uFEFF-]",katakana:"[-------]",extendnumlet:"[=_--<>]",punctuation:"[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]"},S={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},B=[new RegExp(x.aletter),new RegExp(x.midnumlet),new RegExp(x.midletter),new RegExp(x.midnum),new RegExp(x.numeric),new RegExp(x.cr),new RegExp(x.lf),new RegExp(x.newline),new RegExp(x.extend),new RegExp(x.format),new RegExp(x.katakana),new RegExp(x.extendnumlet),new RegExp("@")],N="",R=new RegExp("^"+x.punctuation+"$"),F=/^\s+$/,W=B,$=S.OTHER,K=le=>{let xe=$;const Me=W.length;for(let pe=0;pe<Me;++pe){const St=W[pe];if(St&&St.test(le)){xe=pe;break}}return xe},ee=le=>{const xe={};return Me=>{if(xe[Me])return xe[Me];{const pe=le(Me);return xe[Me]=pe,pe}}},fe=le=>{const xe=ee(K);return b(le,xe)},he=(le,xe)=>{const Me=le[xe],pe=le[xe+1];if(xe<0||xe>le.length-1&&xe!==0||Me===S.ALETTER&&pe===S.ALETTER)return!1;const St=le[xe+2];if(Me===S.ALETTER&&(pe===S.MIDLETTER||pe===S.MIDNUMLET||pe===S.AT)&&St===S.ALETTER)return!1;const $t=le[xe-1];return(Me===S.MIDLETTER||Me===S.MIDNUMLET||pe===S.AT)&&pe===S.ALETTER&&$t===S.ALETTER||(Me===S.NUMERIC||Me===S.ALETTER)&&(pe===S.NUMERIC||pe===S.ALETTER)||(Me===S.MIDNUM||Me===S.MIDNUMLET)&&pe===S.NUMERIC&&$t===S.NUMERIC||Me===S.NUMERIC&&(pe===S.MIDNUM||pe===S.MIDNUMLET)&&St===S.NUMERIC||(Me===S.EXTEND||Me===S.FORMAT)&&(pe===S.ALETTER||pe===S.NUMERIC||pe===S.KATAKANA||pe===S.EXTEND||pe===S.FORMAT)||(pe===S.EXTEND||pe===S.FORMAT&&(St===S.ALETTER||St===S.NUMERIC||St===S.KATAKANA||St===S.EXTEND||St===S.FORMAT))&&(Me===S.ALETTER||Me===S.NUMERIC||Me===S.KATAKANA||Me===S.EXTEND||Me===S.FORMAT)||Me===S.CR&&pe===S.LF?!1:Me===S.NEWLINE||Me===S.CR||Me===S.LF||pe===S.NEWLINE||pe===S.CR||pe===S.LF?!0:!(Me===S.KATAKANA&&pe===S.KATAKANA||pe===S.EXTENDNUMLET&&(Me===S.ALETTER||Me===S.NUMERIC||Me===S.KATAKANA||Me===S.EXTENDNUMLET)||Me===S.EXTENDNUMLET&&(pe===S.ALETTER||pe===S.NUMERIC||pe===S.KATAKANA)||Me===S.AT)},Ue=N,Te=F,te=R,Ae=le=>le==="http"||le==="https",ne=(le,xe)=>{let Me;for(Me=xe;Me<le.length&&!Te.test(le[Me]);Me++);return Me},Ge=(le,xe)=>{const Me=ne(le,xe+1);return le.slice(xe+1,Me).join(Ue).substr(0,3)==="://"?Me:xe},$e=(le,xe,Me,pe)=>{const St=[],$t=[];let Ct=[];for(let zt=0;zt<Me.length;++zt)if(Ct.push(le[zt]),he(Me,zt)){const It=xe[zt];if((pe.includeWhitespace||!Te.test(It))&&(pe.includePunctuation||!te.test(It))){const sn=zt-Ct.length+1,wn=zt+1,Cn=xe.slice(sn,wn).join(Ue);if(Ae(Cn)){const En=Ge(xe,zt),ao=le.slice(wn,En);Array.prototype.push.apply(Ct,ao),zt=En}xe[zt+1]==="."&&/^([a-zA-Z]\.)+$/.test(Cn+".")?(Ct.push(le[zt+1]),$t.push({start:sn,end:wn+1})):$t.push({start:sn,end:wn}),St.push(Ct)}Ct=[]}return{words:St,indices:$t}},Ze=()=>({includeWhitespace:!1,includePunctuation:!1}),nt=(le,xe,Me)=>{Me={...Ze(),...Me};const pe=b(le,xe),St=fe(pe);return $e(le,pe,St,Me)},Ne=(le,xe,Me)=>nt(le,xe,Me).words,D=le=>le.replace(/\uFEFF/g,"");var yt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const Pt=(le,xe)=>{const Me=xe.getBlockElements(),pe=xe.getVoidElements(),St=sn=>Me[sn.nodeName]||pe[sn.nodeName],$t=[];let Ct="";const zt=new yt(le,le);let It;for(;It=zt.next();)It.nodeType===3?Ct+=D(It.data):St(It)&&Ct.length&&($t.push(Ct),Ct="");return Ct.length&&$t.push(Ct),$t},cn=le=>le.replace(/\u200B/g,""),hn=le=>le.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,Qe=(le,xe)=>{const Me=cn(Pt(le,xe).join(`
`));return Ne(Me.split(""),m).length},On=(le,xe)=>{const Me=Pt(le,xe).join("");return hn(Me)},as=(le,xe)=>{const Me=Pt(le,xe).join("").replace(/\s/g,"");return hn(Me)},pt=(le,xe)=>()=>xe(le.getBody(),le.schema),bt=(le,xe)=>()=>xe(le.selection.getRng().cloneContents(),le.schema),Zt=le=>pt(le,Qe),Us=le=>({body:{getWordCount:Zt(le),getCharacterCount:pt(le,On),getCharacterCountWithoutSpaces:pt(le,as)},selection:{getWordCount:bt(le,Qe),getCharacterCount:bt(le,On),getCharacterCountWithoutSpaces:bt(le,as)},getCount:Zt(le)}),ho=(le,xe)=>{le.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(xe.body.getWordCount()),String(xe.selection.getWordCount())],["Characters (no spaces)",String(xe.body.getCharacterCountWithoutSpaces()),String(xe.selection.getCharacterCountWithoutSpaces())],["Characters",String(xe.body.getCharacterCount()),String(xe.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},xn=(le,xe)=>{le.addCommand("mceWordCount",()=>ho(le,xe))},Rn=(le,xe)=>{let Me=null;return{cancel:()=>{u(Me)||(clearTimeout(Me),Me=null)},throttle:(...$t)=>{u(Me)&&(Me=setTimeout(()=>{Me=null,le.apply(null,$t)},xe))}}};var J=tinymce.util.Tools.resolve("tinymce.util.Delay");const ls=(le,xe)=>{le.dispatch("wordCountUpdate",{wordCount:{words:xe.body.getWordCount(),characters:xe.body.getCharacterCount(),charactersWithoutSpaces:xe.body.getCharacterCountWithoutSpaces()}})},ys=(le,xe)=>{ls(le,xe)},qo=(le,xe,Me)=>{const pe=Rn(()=>ys(le,xe),Me);le.on("init",()=>{ys(le,xe),J.setEditorTimeout(le,()=>{le.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",pe.throttle)},0),le.on("remove",pe.cancel)})},si=le=>{const xe=()=>le.execCommand("mceWordCount");le.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:xe}),le.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:xe})};var Ke=(le=300)=>{s.add("wordcount",xe=>{const Me=Us(xe);return xn(xe,Me),si(xe),qo(xe,Me,le),Me})};Ke()})();tinymce.Resource.add("ui/default/content.css",`.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe89d}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe89d;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#fed635}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly [contentEditable=true]:focus,.mce-content-body.mce-content-readonly [contentEditable=true]:hover{outline:0}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0,84,180,.7)}}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}body{font-family:sans-serif}table{border-collapse:collapse}`);tinymce.Resource.add("content/default/content.css",`body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) td,table[border]:not([border="0"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) td,table[border]:not([border="0"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) td,table[border]:not([border="0"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}`);var epe=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],tpe=function(s){return epe.map(function(i){return i.toLowerCase()}).indexOf(s.toLowerCase())!==-1},npe=function(s,i,u){Object.keys(i).filter(tpe).forEach(function(m){var b=i[m];typeof b=="function"&&(m==="onInit"?b(s,u):u.on(m.substring(2),function(h){return b(h,u)}))})},ope=function(s,i,u,m){var b=s.modelEvents?s.modelEvents:null,h=Array.isArray(b)?b.join(" "):b;Gn(m,function(x,S){u&&typeof x=="string"&&x!==S&&x!==u.getContent({format:s.outputFormat})&&u.setContent(x)}),u.on(h||"change input undo redo",function(){i.emit("update:modelValue",u.getContent({format:s.outputFormat}))})},spe=function(s,i,u,m,b,h){m.setContent(h()),u.attrs["onUpdate:modelValue"]&&ope(i,u,m,b),npe(s,u.attrs,m)},_K=0,rX=function(s){var i=Date.now(),u=Math.floor(Math.random()*1e9);return _K++,s+"_"+u+_K+String(i)},rpe=function(s){return s!==null&&s.tagName.toLowerCase()==="textarea"},SK=function(s){return typeof s>"u"||s===""?[]:Array.isArray(s)?s:s.split(" ")},ape=function(s,i){return SK(s).concat(SK(i))},ipe=function(s){return s==null},kK=function(){return{listeners:[],scriptId:rX("tiny-script"),scriptLoaded:!1}},lpe=function(){var s=kK(),i=function(b,h,x,S){var B=h.createElement("script");B.referrerPolicy="origin",B.type="application/javascript",B.id=b,B.src=x;var N=function(){B.removeEventListener("load",N),S()};B.addEventListener("load",N),h.head&&h.head.appendChild(B)},u=function(b,h,x){s.scriptLoaded?x():(s.listeners.push(x),b.getElementById(s.scriptId)||i(s.scriptId,b,h,function(){s.listeners.forEach(function(S){return S()}),s.scriptLoaded=!0}))},m=function(){s=kK()};return{load:u,reinitialize:m}},cpe=lpe(),upe=function(){return typeof window<"u"?window:global},kw=function(){var s=upe();return s&&s.tinymce?s.tinymce:null},dpe={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(s){return s==="html"||s==="text"}}},Pp=function(){return Pp=Object.assign||function(s){for(var i,u=1,m=arguments.length;u<m;u++){i=arguments[u];for(var b in i)Object.prototype.hasOwnProperty.call(i,b)&&(s[b]=i[b])}return s},Pp.apply(this,arguments)},fpe=function(s,i,u,m){return s(m||"div",{id:i,ref:u})},mpe=function(s,i,u){return s("textarea",{id:i,visibility:"hidden",ref:u})},DH={selector:void 0,target:void 0},aX=cq({props:dpe,setup:function(s,i){var u=s.init?Pp(Pp({},s.init),DH):Pp({},DH),m=uO(s),b=m.disabled,h=m.modelValue,x=m.tagName,S=Eo(null),B=null,N=s.id||rX("tiny-vue"),R=s.init&&s.init.inline||s.inline,F=!!i.attrs["onUpdate:modelValue"],W=!0,$=s.initialValue?s.initialValue:"",K="",ee=function(Ue){return F?function(){return h!=null&&h.value?h.value:""}:function(){return Ue?$:K}},fe=function(){var Ue=ee(W),Te=Pp(Pp({},u),{readonly:s.disabled,target:S.value,plugins:ape(u.plugins,s.plugins),toolbar:s.toolbar||u.toolbar,inline:R,setup:function(te){B=te,te.on("init",function(Ae){return spe(Ae,s,i,te,h,Ue)}),typeof u.setup=="function"&&u.setup(te)}});rpe(S.value)&&(S.value.style.visibility=""),kw().init(Te),W=!1};Gn(b,function(Ue){var Te;B!==null&&(typeof((Te=B.mode)===null||Te===void 0?void 0:Te.set)=="function"?B.mode.set(Ue?"readonly":"design"):B.setMode(Ue?"readonly":"design"))}),Gn(x,function(Ue){var Te;F||(K=B.getContent()),(Te=kw())===null||Te===void 0||Te.remove(B),Pa(function(){return fe()})}),Ic(function(){if(kw()!==null)fe();else if(S.value&&S.value.ownerDocument){var Ue=s.cloudChannel?s.cloudChannel:"7",Te=s.apiKey?s.apiKey:"no-api-key",te=ipe(s.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(Te,"/tinymce/").concat(Ue,"/tinymce.min.js"):s.tinymceScriptSrc;cpe.load(S.value.ownerDocument,te,fe)}}),Bc(function(){kw()!==null&&kw().remove(B)}),R||(NV(function(){W||fe()}),IV(function(){var Ue;F||(K=B.getContent()),(Ue=kw())===null||Ue===void 0||Ue.remove(B)}));var he=function(Ue){var Te;K=B.getContent(),(Te=kw())===null||Te===void 0||Te.remove(B),u=Pp(Pp(Pp({},u),Ue),DH),Pa(function(){return fe()})};return i.expose({rerender:he,getEditor:function(){return B}}),function(){return R?fpe(Zp,N,S,s.tagName):mpe(Zp,N,S)}}});let Mp,I8,ny;class iX{constructor(i){Uo(this,"editor_id",null);Uo(this,"editor",null);Uo(this,"wordCount",Eo(0));Uo(this,"characterCount",Eo(0));this.editor_id=i,Mp=yh(),I8=h$(),ny=X0()}getInit(){return{license_key:"gpl",language:"de",height:"100%",menubar:!1,statusbar:!1,plugins:"lists charmap wordcount",toolbar:Mp.tinyToolbar,valid_elements:Mp.tinyValidElements,formats:Mp.tinyFormats,style_formats:Mp.tinyStyles,custom_undo_redo_levels:10,text_patterns:!1,skin:"default",content_css:"default",content_style:Mp.tinyContentStyle,browser_spellcheck:Mp.allow_spellcheck,highlight_on_focus:!0,iframe_aria_text:"Editor Abgabe-Text",paste_as_text:!1,paste_block_drop:!0,paste_merge_formats:!0,paste_tab_spaces:4,smart_paste:!1,paste_data_images:!1,paste_remove_styles_if_webkit:!0,paste_webkit_styles:"none",paste_preprocess:this.handlePaste}}init(){this.editor=Qhe.get(this.editor_id),this.applyZoom(),this.applyFormat(),this.applyWordCount()}handleCopy(i){I8.setContent(i.clipboardData.getData("text/html"))}handlePaste(i,u){I8.getPasteAllowed(u.content)||(u.content="",I8.showWarning())}async applyFocus(){try{await Pa(),this.editor.focus()}catch{}}applyFormat(){for(const i of document.getElementsByClassName("tox-tinymce-aux"))i.classList.add(Mp.contentClass)}applyZoom(){try{this.editor.dom.setStyle(this.editor.dom.doc.body,"font-size",ny.editor_zoom+"rem"),this.editor.dom.setStyle(this.editor.dom.select("h1"),"font-size",ny.editor_zoom*Mp.tinyH1Size+"rem"),this.editor.dom.setStyle(this.editor.dom.select("h2"),"font-size",ny.editor_zoom*Mp.tinyH2Size+"rem"),this.editor.dom.setStyle(this.editor.dom.select("h3"),"font-size",ny.editor_zoom+"rem"),this.editor.dom.setStyle(this.editor.dom.select("h4"),"font-size",ny.editor_zoom+"rem"),this.editor.dom.setStyle(this.editor.dom.select("h5"),"font-size",ny.editor_zoom+"rem"),this.editor.dom.setStyle(this.editor.dom.select("h6"),"font-size",ny.editor_zoom+"rem")}catch{}}applyScrolling(){try{this.editor.selection.getNode().scrollIntoView(!1)}catch{}}applyWordCount(){try{const i=this.editor.plugins.wordcount;this.wordCount.value=i.body.getWordCount(),this.characterCount.value=i.body.getCharacterCount()}catch{}}}const gpe={id:"app-note-edit-wrapper"},hpe=["for"],ppe={class:"tinyWrapper"},bpe={class:"wordCountWrapper"},vpe={__name:"EditNote",props:["noteKey","noteLabel"],setup(s){const i=cy(),u=yh(),m=X0(),b=Fl(),h=s,x=new iX("app-note-"+h.noteKey);Gn(()=>u.contentClass,x.applyFormat.bind(x)),Gn(()=>m.editor_zoom,x.applyZoom.bind(x)),Gn(()=>b.focusChange,S);async function S(){b.focusTarget=="right"&&b.isNotesSelected&&i.activeKey==h.noteKey&&x.applyFocus()}function B(){x.init()}function N(){i.updateContent(!0),x.applyZoom(),x.applyWordCount(),x.applyScrolling()}function R(){i.updateContent(!0),x.applyWordCount(),x.applyScrolling()}return(F,W)=>(Jo(),El("div",gpe,[rt("label",{class:"hidden",for:"app-note-"+h.noteKey},Xi("Verborgenes Feld zur "+h.noteLabel),9,hpe),rt("div",ppe,[ue(He(aX),{id:"app-note-"+h.noteKey,modelValue:He(i).editNotes[h.noteKey].note_text,"onUpdate:modelValue":W[0]||(W[0]=$=>He(i).editNotes[h.noteKey].note_text=$),onInit:B,onChange:N,onKeyup:R,onKeydown:He(b).handleKeyDown,onCopy:He(x).handleCopy,onCut:He(x).handleCopy,"api-key":"no-api-key",init:He(x).getInit()},null,8,["id","modelValue","onKeydown","onCopy","onCut","init"])]),Go(rt("div",bpe,[ue(As,{variant:"text",size:"small",onClick:W[1]||(W[1]=$=>He(m).toggleWordCountCharacters()),text:He(m).word_count_characters?He(x).characterCount.value+" Zeichen":He(x).wordCount.value+" Wrter"},null,8,["text"])],512),[[bs,He(m).word_count_enabled]])]))}},ype=hg(vpe,[["__scopeId","data-v-9e2cf43c"]]),xpe=s=>(xy("data-v-ae54263f"),s=s(),wy(),s),wpe={id:"app-essay-edit-wrapper"},Cpe=xpe(()=>rt("label",{for:"app-essay",class:"hidden"},"Verborgenes Feld zum Abgabe-Text",-1)),_pe={class:"tinyWrapper"},Spe={class:"wordCountWrapper"},kpe={__name:"EditEssay",setup(s){const i=Fp(),u=yh(),m=X0(),b=Fl(),h=new iX("app-essay");Gn(()=>u.contentClass,h.applyFormat.bind(h)),Gn(()=>m.editor_zoom,h.applyZoom.bind(h)),Gn(()=>b.focusChange,x);async function x(){b.focusTarget=="right"&&b.isEssayVisible&&h.applyFocus()}function S(){h.init()}function B(){i.updateContent(!0),h.applyZoom(),h.applyWordCount(),h.applyScrolling()}function N(){i.updateContent(!0),h.applyWordCount(),h.applyScrolling()}return(R,F)=>(Jo(),El("div",wpe,[Cpe,rt("div",_pe,[ue(He(aX),{id:"app-essay",modelValue:He(i).currentContent,"onUpdate:modelValue":F[0]||(F[0]=W=>He(i).currentContent=W),onInit:S,onChange:B,onKeyup:N,onKeydown:He(b).handleKeyDown,onCopy:He(h).handleCopy,onCut:He(h).handleCopy,"api-key":"no-api-key",init:He(h).getInit()},null,8,["modelValue","onKeydown","onCopy","onCut","init"])]),Go(rt("div",Spe,[ue(As,{variant:"text",size:"small",onClick:F[1]||(F[1]=W=>He(m).toggleWordCountCharacters()),text:He(m).word_count_characters?He(h).characterCount.value+" Zeichen":He(h).wordCount.value+" Wrter"},null,8,["text"])],512),[[bs,He(m).word_count_enabled]])]))}},Epe=hg(kpe,[["__scopeId","data-v-ae54263f"]]),Ape=Jn({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...tr(),...LM({transition:{component:_Y}})},"VCounter"),Tpe=rs()({name:"VCounter",functional:!0,props:Ape(),setup(s,i){let{slots:u}=i;const m=ct(()=>s.max?`${s.value} / ${s.max}`:String(s.value));return Ks(()=>ue(uy,{transition:s.transition},{default:()=>[Go(ue("div",{class:["v-counter",{"text-error":s.max&&!s.disabled&&parseFloat(s.value)>parseFloat(s.max)},s.class],style:s.style},[u.default?u.default({counter:m.value,max:s.max,value:s.value}):m.value]),[[bs,s.active]])]})),{}}}),Ope=Jn({text:String,onClick:dg(),...tr(),...Hl()},"VLabel"),Dpe=rs()({name:"VLabel",props:Ope(),setup(s,i){let{slots:u}=i;return Ks(()=>{var m;return ue("label",{class:["v-label",{"v-label--clickable":!!s.onClick},s.class],style:s.style,onClick:s.onClick},[s.text,(m=u.default)==null?void 0:m.call(u)])}),{}}}),Rpe=Jn({floating:Boolean,...tr()},"VFieldLabel"),B8=rs()({name:"VFieldLabel",props:Rpe(),setup(s,i){let{slots:u}=i;return Ks(()=>ue(Dpe,{class:["v-field-label",{"v-field-label--floating":s.floating},s.class],style:s.style,"aria-hidden":s.floating||void 0},u)),{}}});function lX(s){const{t:i}=dG();function u(m){let{name:b}=m;const h={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[b],x=s[`onClick:${b}`],S=x&&h?i(`$vuetify.input.${h}`,s.label??""):void 0;return ue(ns,{icon:s[`${b}Icon`],"aria-label":S,onClick:x},null)}return{InputIcon:u}}const cX=Jn({focused:Boolean,"onUpdate:focused":dg()},"focus");function uX(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kp();const u=Ld(s,"focused"),m=ct(()=>({[`${i}--focused`]:u.value}));function b(){u.value=!0}function h(){u.value=!1}return{focusClasses:m,isFocused:u,focus:b,blur:h}}const Npe=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],dX=Jn({appendInnerIcon:pl,bgColor:String,clearable:Boolean,clearIcon:{type:pl,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:pl,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:s=>Npe.includes(s)},"onClick:clear":dg(),"onClick:appendInner":dg(),"onClick:prependInner":dg(),...tr(),...n$(),...mg(),...Hl()},"VField"),fX=rs()({name:"VField",inheritAttrs:!1,props:{id:String,...cX(),...dX()},emits:{"update:focused":s=>!0,"update:modelValue":s=>!0},setup(s,i){let{attrs:u,emit:m,slots:b}=i;const{themeClasses:h}=ac(s),{loaderClasses:x}=o$(s),{focusClasses:S,isFocused:B,focus:N,blur:R}=uX(s),{InputIcon:F}=lX(s),{roundedClasses:W}=gg(s),{rtlClasses:$}=o1(),K=ct(()=>s.dirty||s.active),ee=ct(()=>!s.singleLine&&!!(s.label||b.label)),fe=Cy(),he=ct(()=>s.id||`input-${fe}`),Ue=ct(()=>`${he.value}-messages`),Te=Eo(),te=Eo(),Ae=Eo(),ne=ct(()=>["plain","underlined"].includes(s.variant)),{backgroundColorClasses:Ge,backgroundColorStyles:$e}=$p(js(s,"bgColor")),{textColorClasses:Ze,textColorStyles:nt}=e1(ct(()=>s.error||s.disabled?void 0:K.value&&B.value?s.color:s.baseColor));Gn(K,yt=>{if(ee.value){const Pt=Te.value.$el,cn=te.value.$el;requestAnimationFrame(()=>{const hn=jV(Pt),Qe=cn.getBoundingClientRect(),On=Qe.x-hn.x,as=Qe.y-hn.y-(hn.height/2-Qe.height/2),pt=Qe.width/.75,bt=Math.abs(pt-hn.width)>1?{maxWidth:fs(pt)}:void 0,Zt=getComputedStyle(Pt),Us=getComputedStyle(cn),ho=parseFloat(Zt.transitionDuration)*1e3||150,xn=parseFloat(Us.getPropertyValue("--v-field-label-scale")),Rn=Us.getPropertyValue("color");Pt.style.visibility="visible",cn.style.visibility="hidden",ok(Pt,{transform:`translate(${On}px, ${as}px) scale(${xn})`,color:Rn,...bt},{duration:ho,easing:Q8,direction:yt?"normal":"reverse"}).finished.then(()=>{Pt.style.removeProperty("visibility"),cn.style.removeProperty("visibility")})})}},{flush:"post"});const Ce=ct(()=>({isActive:K,isFocused:B,controlRef:Ae,blur:R,focus:N}));function Ne(yt){yt.target!==document.activeElement&&yt.preventDefault()}function D(yt){var Pt;yt.key!=="Enter"&&yt.key!==" "||(yt.preventDefault(),yt.stopPropagation(),(Pt=s["onClick:clear"])==null||Pt.call(s,new MouseEvent("click")))}return Ks(()=>{var On,as,pt;const yt=s.variant==="outlined",Pt=!!(b["prepend-inner"]||s.prependInnerIcon),cn=!!(s.clearable||b.clear),hn=!!(b["append-inner"]||s.appendInnerIcon||cn),Qe=()=>b.label?b.label({...Ce.value,label:s.label,props:{for:he.value}}):s.label;return ue("div",Sa({class:["v-field",{"v-field--active":K.value,"v-field--appended":hn,"v-field--center-affix":s.centerAffix??!ne.value,"v-field--disabled":s.disabled,"v-field--dirty":s.dirty,"v-field--error":s.error,"v-field--flat":s.flat,"v-field--has-background":!!s.bgColor,"v-field--persistent-clear":s.persistentClear,"v-field--prepended":Pt,"v-field--reverse":s.reverse,"v-field--single-line":s.singleLine,"v-field--no-label":!Qe(),[`v-field--variant-${s.variant}`]:!0},h.value,Ge.value,S.value,x.value,W.value,$.value,s.class],style:[$e.value,s.style],onClick:Ne},u),[ue("div",{class:"v-field__overlay"},null),ue(lY,{name:"v-field",active:!!s.loading,color:s.error?"error":typeof s.loading=="string"?s.loading:s.color},{default:b.loader}),Pt&&ue("div",{key:"prepend",class:"v-field__prepend-inner"},[s.prependInnerIcon&&ue(F,{key:"prepend-icon",name:"prependInner"},null),(On=b["prepend-inner"])==null?void 0:On.call(b,Ce.value)]),ue("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(s.variant)&&ee.value&&ue(B8,{key:"floating-label",ref:te,class:[Ze.value],floating:!0,for:he.value,style:nt.value},{default:()=>[Qe()]}),ue(B8,{ref:Te,for:he.value},{default:()=>[Qe()]}),(as=b.default)==null?void 0:as.call(b,{...Ce.value,props:{id:he.value,class:"v-field__input","aria-describedby":Ue.value},focus:N,blur:R})]),cn&&ue(Ome,{key:"clear"},{default:()=>[Go(ue("div",{class:"v-field__clearable",onMousedown:bt=>{bt.preventDefault(),bt.stopPropagation()}},[ue(rc,{defaults:{VIcon:{icon:s.clearIcon}}},{default:()=>[b.clear?b.clear({...Ce.value,props:{onKeydown:D,onFocus:N,onBlur:R,onClick:s["onClick:clear"]}}):ue(F,{name:"clear",onKeydown:D,onFocus:N,onBlur:R},null)]})]),[[bs,s.dirty]])]}),hn&&ue("div",{key:"append",class:"v-field__append-inner"},[(pt=b["append-inner"])==null?void 0:pt.call(b,Ce.value),s.appendInnerIcon&&ue(F,{key:"append-icon",name:"appendInner"},null)]),ue("div",{class:["v-field__outline",Ze.value],style:nt.value},[yt&&ue(Er,null,[ue("div",{class:"v-field__outline__start"},null),ee.value&&ue("div",{class:"v-field__outline__notch"},[ue(B8,{ref:te,floating:!0,for:he.value},{default:()=>[Qe()]})]),ue("div",{class:"v-field__outline__end"},null)]),ne.value&&ee.value&&ue(B8,{ref:te,floating:!0,for:he.value},{default:()=>[Qe()]})])])}),{controlRef:Ae}}});function Ipe(s){const i=Object.keys(fX.props).filter(u=>!WV(u)&&u!=="class"&&u!=="style");return jq(s,i)}const Bpe=Jn({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...tr(),...LM({transition:{component:_Y,leaveAbsolute:!0,group:!0}})},"VMessages"),Mpe=rs()({name:"VMessages",props:Bpe(),setup(s,i){let{slots:u}=i;const m=ct(()=>Bw(s.messages)),{textColorClasses:b,textColorStyles:h}=e1(ct(()=>s.color));return Ks(()=>ue(uy,{transition:s.transition,tag:"div",class:["v-messages",b.value,s.class],style:[h.value,s.style],role:"alert","aria-live":"polite"},{default:()=>[s.active&&m.value.map((x,S)=>ue("div",{class:"v-messages__message",key:`${S}-${m.value}`},[u.message?u.message({message:x}):x]))]})),{}}}),Ppe=Symbol.for("vuetify:form");function Lpe(){return Ji(Ppe,null)}const Fpe=Jn({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...cX()},"validation");function zpe(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kp(),u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Cy();const m=Ld(s,"modelValue"),b=ct(()=>s.validationValue===void 0?m.value:s.validationValue),h=Lpe(),x=Eo([]),S=Ts(!0),B=ct(()=>!!(Bw(m.value===""?null:m.value).length||Bw(b.value===""?null:b.value).length)),N=ct(()=>!!(s.disabled??(h==null?void 0:h.isDisabled.value))),R=ct(()=>!!(s.readonly??(h==null?void 0:h.isReadonly.value))),F=ct(()=>{var Ae;return(Ae=s.errorMessages)!=null&&Ae.length?Bw(s.errorMessages).concat(x.value).slice(0,Math.max(0,+s.maxErrors)):x.value}),W=ct(()=>{let Ae=(s.validateOn??(h==null?void 0:h.validateOn.value))||"input";Ae==="lazy"&&(Ae="input lazy"),Ae==="eager"&&(Ae="input eager");const ne=new Set((Ae==null?void 0:Ae.split(" "))??[]);return{input:ne.has("input"),blur:ne.has("blur")||ne.has("input")||ne.has("invalid-input"),invalidInput:ne.has("invalid-input"),lazy:ne.has("lazy"),eager:ne.has("eager")}}),$=ct(()=>{var Ae;return s.error||(Ae=s.errorMessages)!=null&&Ae.length?!1:s.rules.length?S.value?x.value.length||W.value.lazy?null:!0:!x.value.length:!0}),K=Ts(!1),ee=ct(()=>({[`${i}--error`]:$.value===!1,[`${i}--dirty`]:B.value,[`${i}--disabled`]:N.value,[`${i}--readonly`]:R.value})),fe=Al("validation"),he=ct(()=>s.name??He(u));BV(()=>{h==null||h.register({id:he.value,vm:fe,validate:te,reset:Ue,resetValidation:Te})}),Bc(()=>{h==null||h.unregister(he.value)}),Ic(async()=>{W.value.lazy||await te(!W.value.eager),h==null||h.update(he.value,$.value,F.value)}),xh(()=>W.value.input||W.value.invalidInput&&$.value===!1,()=>{Gn(b,()=>{if(b.value!=null)te();else if(s.focused){const Ae=Gn(()=>s.focused,ne=>{ne||te(),Ae()})}})}),xh(()=>W.value.blur,()=>{Gn(()=>s.focused,Ae=>{Ae||te()})}),Gn([$,F],()=>{h==null||h.update(he.value,$.value,F.value)});async function Ue(){m.value=null,await Pa(),await Te()}async function Te(){S.value=!0,W.value.lazy?x.value=[]:await te(!W.value.eager)}async function te(){let Ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const ne=[];K.value=!0;for(const Ge of s.rules){if(ne.length>=+(s.maxErrors??1))break;const Ze=await(typeof Ge=="function"?Ge:()=>Ge)(b.value);if(Ze!==!0){if(Ze!==!1&&typeof Ze!="string"){console.warn(`${Ze} is not a valid value. Rule functions must return boolean true or a string.`);continue}ne.push(Ze||"")}}return x.value=ne,K.value=!1,S.value=Ae,x.value}return{errorMessages:F,isDirty:B,isDisabled:N,isReadonly:R,isPristine:S,isValid:$,isValidating:K,reset:Ue,resetValidation:Te,validate:te,validationClasses:ee}}const mX=Jn({id:String,appendIcon:pl,centerAffix:{type:Boolean,default:!0},prependIcon:pl,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:s=>["horizontal","vertical"].includes(s)},"onClick:prepend":dg(),"onClick:append":dg(),...tr(),...Gp(),...Fle(Yp(),["maxWidth","minWidth","width"]),...Hl(),...Fpe()},"VInput"),EK=rs()({name:"VInput",props:{...mX()},emits:{"update:modelValue":s=>!0},setup(s,i){let{attrs:u,slots:m,emit:b}=i;const{densityClasses:h}=s1(s),{dimensionStyles:x}=Xp(s),{themeClasses:S}=ac(s),{rtlClasses:B}=o1(),{InputIcon:N}=lX(s),R=Cy(),F=ct(()=>s.id||`input-${R}`),W=ct(()=>`${F.value}-messages`),{errorMessages:$,isDirty:K,isDisabled:ee,isReadonly:fe,isPristine:he,isValid:Ue,isValidating:Te,reset:te,resetValidation:Ae,validate:ne,validationClasses:Ge}=zpe(s,"v-input",F),$e=ct(()=>({id:F,messagesId:W,isDirty:K,isDisabled:ee,isReadonly:fe,isPristine:he,isValid:Ue,isValidating:Te,reset:te,resetValidation:Ae,validate:ne})),Ze=ct(()=>{var nt;return(nt=s.errorMessages)!=null&&nt.length||!he.value&&$.value.length?$.value:s.hint&&(s.persistentHint||s.focused)?s.hint:s.messages});return Ks(()=>{var yt,Pt,cn,hn;const nt=!!(m.prepend||s.prependIcon),Ce=!!(m.append||s.appendIcon),Ne=Ze.value.length>0,D=!s.hideDetails||s.hideDetails==="auto"&&(Ne||!!m.details);return ue("div",{class:["v-input",`v-input--${s.direction}`,{"v-input--center-affix":s.centerAffix,"v-input--hide-spin-buttons":s.hideSpinButtons},h.value,S.value,B.value,Ge.value,s.class],style:[x.value,s.style]},[nt&&ue("div",{key:"prepend",class:"v-input__prepend"},[(yt=m.prepend)==null?void 0:yt.call(m,$e.value),s.prependIcon&&ue(N,{key:"prepend-icon",name:"prepend"},null)]),m.default&&ue("div",{class:"v-input__control"},[(Pt=m.default)==null?void 0:Pt.call(m,$e.value)]),Ce&&ue("div",{key:"append",class:"v-input__append"},[s.appendIcon&&ue(N,{key:"append-icon",name:"append"},null),(cn=m.append)==null?void 0:cn.call(m,$e.value)]),D&&ue("div",{class:"v-input__details"},[ue(Mpe,{id:W.value,active:Ne,messages:Ze.value},{message:m.message}),(hn=m.details)==null?void 0:hn.call(m,$e.value)])])}),{reset:te,resetValidation:Ae,validate:ne,isValid:Ue,errorMessages:$}}}),Hpe=Jn({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:s=>!isNaN(parseFloat(s))},maxRows:{type:[Number,String],validator:s=>!isNaN(parseFloat(s))},suffix:String,modelModifiers:Object,...mX(),...dX()},"VTextarea"),Vpe=rs()({name:"VTextarea",directives:{Intersect:xY},inheritAttrs:!1,props:Hpe(),emits:{"click:control":s=>!0,"mousedown:control":s=>!0,"update:focused":s=>!0,"update:modelValue":s=>!0},setup(s,i){let{attrs:u,emit:m,slots:b}=i;const h=Ld(s,"modelValue"),{isFocused:x,focus:S,blur:B}=uX(s),N=ct(()=>typeof s.counterValue=="function"?s.counterValue(h.value):(h.value||"").toString().length),R=ct(()=>{if(u.maxlength)return u.maxlength;if(!(!s.counter||typeof s.counter!="number"&&typeof s.counter!="string"))return s.counter});function F(Ce,Ne){var D,yt;!s.autofocus||!Ce||(yt=(D=Ne[0].target)==null?void 0:D.focus)==null||yt.call(D)}const W=Eo(),$=Eo(),K=Ts(""),ee=Eo(),fe=ct(()=>s.persistentPlaceholder||x.value||s.active);function he(){var Ce;ee.value!==document.activeElement&&((Ce=ee.value)==null||Ce.focus()),x.value||S()}function Ue(Ce){he(),m("click:control",Ce)}function Te(Ce){m("mousedown:control",Ce)}function te(Ce){Ce.stopPropagation(),he(),Pa(()=>{h.value="",Ule(s["onClick:clear"],Ce)})}function Ae(Ce){var D;const Ne=Ce.target;if(h.value=Ne.value,(D=s.modelModifiers)!=null&&D.trim){const yt=[Ne.selectionStart,Ne.selectionEnd];Pa(()=>{Ne.selectionStart=yt[0],Ne.selectionEnd=yt[1]})}}const ne=Eo(),Ge=Eo(+s.rows),$e=ct(()=>["plain","underlined"].includes(s.variant));wh(()=>{s.autoGrow||(Ge.value=+s.rows)});function Ze(){s.autoGrow&&Pa(()=>{if(!ne.value||!$.value)return;const Ce=getComputedStyle(ne.value),Ne=getComputedStyle($.value.$el),D=parseFloat(Ce.getPropertyValue("--v-field-padding-top"))+parseFloat(Ce.getPropertyValue("--v-input-padding-top"))+parseFloat(Ce.getPropertyValue("--v-field-padding-bottom")),yt=ne.value.scrollHeight,Pt=parseFloat(Ce.lineHeight),cn=Math.max(parseFloat(s.rows)*Pt+D,parseFloat(Ne.getPropertyValue("--v-input-control-height"))),hn=parseFloat(s.maxRows)*Pt+D||1/0,Qe=zw(yt??0,cn,hn);Ge.value=Math.floor((Qe-D)/Pt),K.value=fs(Qe)})}Ic(Ze),Gn(h,Ze),Gn(()=>s.rows,Ze),Gn(()=>s.maxRows,Ze),Gn(()=>s.density,Ze);let nt;return Gn(ne,Ce=>{Ce?(nt=new ResizeObserver(Ze),nt.observe(ne.value)):nt==null||nt.disconnect()}),Bc(()=>{nt==null||nt.disconnect()}),Ks(()=>{const Ce=!!(b.counter||s.counter||s.counterValue),Ne=!!(Ce||b.details),[D,yt]=Hle(u),{modelValue:Pt,...cn}=EK.filterProps(s),hn=Ipe(s);return ue(EK,Sa({ref:W,modelValue:h.value,"onUpdate:modelValue":Qe=>h.value=Qe,class:["v-textarea v-text-field",{"v-textarea--prefixed":s.prefix,"v-textarea--suffixed":s.suffix,"v-text-field--prefixed":s.prefix,"v-text-field--suffixed":s.suffix,"v-textarea--auto-grow":s.autoGrow,"v-textarea--no-resize":s.noResize||s.autoGrow,"v-input--plain-underlined":$e.value},s.class],style:s.style},D,cn,{centerAffix:Ge.value===1&&!$e.value,focused:x.value}),{...b,default:Qe=>{let{id:On,isDisabled:as,isDirty:pt,isReadonly:bt,isValid:Zt}=Qe;return ue(fX,Sa({ref:$,style:{"--v-textarea-control-height":K.value},onClick:Ue,onMousedown:Te,"onClick:clear":te,"onClick:prependInner":s["onClick:prependInner"],"onClick:appendInner":s["onClick:appendInner"]},hn,{id:On.value,active:fe.value||pt.value,centerAffix:Ge.value===1&&!$e.value,dirty:pt.value||s.dirty,disabled:as.value,focused:x.value,error:Zt.value===!1}),{...b,default:Us=>{let{props:{class:ho,...xn}}=Us;return ue(Er,null,[s.prefix&&ue("span",{class:"v-text-field__prefix"},[s.prefix]),Go(ue("textarea",Sa({ref:ee,class:ho,value:h.value,onInput:Ae,autofocus:s.autofocus,readonly:bt.value,disabled:as.value,placeholder:s.placeholder,rows:s.rows,name:s.name,onFocus:he,onBlur:B},xn,yt),null),[[dO("intersect"),{handler:F},null,{once:!0}]]),s.autoGrow&&Go(ue("textarea",{class:[ho,"v-textarea__sizer"],id:`${xn.id}-sizer`,"onUpdate:modelValue":Rn=>h.value=Rn,ref:ne,readonly:!0,"aria-hidden":"true"},null),[[Ale,h.value]]),s.suffix&&ue("span",{class:"v-text-field__suffix"},[s.suffix])])}})},details:Ne?Qe=>{var On;return ue(Er,null,[(On=b.details)==null?void 0:On.call(b,Qe),Ce&&ue(Er,null,[ue("span",null,null),ue(Tpe,{active:s.persistentCounter||x.value,value:N.value,max:R.value,disabled:s.disabled},b.counter)])])}:void 0})}),IY({},W,$,ee)}}),$pe=s=>(xy("data-v-d4f402e1"),s=s(),wy(),s),Upe=$pe(()=>rt("span",{class:"sr-only"},"Anmerkung lschen",-1)),Wpe={__name:"Annotation",props:["annotation"],setup(s){vi();const i=my(),u=Fl(),b=s.annotation;function h(B){return B.getKey()==i.selectedKey}Ic(()=>{const B=document.getElementById("appAnnotationContainer"+b.getKey());for(const N of B.getElementsByTagName("label"))N.getAttribute("for").includes("app-annotation-")&&(N.classList.add("sr-only"),N.getAttribute("aria-hidden")=="true"?N.getAttribute("for").includes("-sizer")||N.setAttribute("for",N.getAttribute("for")+"-sizer"):N.setAttribute("id","app-annotation-"+b.getKey()+"-messages"));for(const N of B.getElementsByTagName("textarea"))N.style.marginTop="-15px",N.style.fontSize="0.9rem";for(const N of B.getElementsByClassName("v-input__details"))N.style.display="none"});function x(B){return"#F5F7FB"}async function S(){if(event.altKey)switch(event.key){case"Enter":event.preventDefault(),u.showForResourceKey(),await Pa(),i.setCaretRequest();break;case"Delete":event.preventDefault(),i.deleteAnnotation(i.selectedKey);break}}return(B,N)=>(Jo(),Jr(pV,{id:"appAnnotationContainer"+He(b).getKey(),key:He(b).getKey(),class:"annotationContainer"},{default:qt(()=>[ue(Ew,{dense:""},{default:qt(()=>[ue(fu,{cols:"1"},{default:qt(()=>[rt("button",{tabindex:"0",class:hy("v-btn annotationLabel "+(h(He(b))?"selected":"")),onClick:N[0]||(N[0]=R=>He(i).selectAnnotation(He(b).getKey()))},Xi(He(b).label),3)]),_:1}),Go(ue(fu,{cols:"10"},{default:qt(()=>[ue(Vpe,{class:"annotationInput","bg-color":x(He(b)),rounded:"0",density:"compact",variant:"solo",id:"app-annotation-"+He(b).getKey(),label:"Anmerkung zu Markierung "+He(b).label,rows:"1","auto-grow":"",onClick:N[1]||(N[1]=R=>He(i).selectAnnotation(He(b).getKey())),onChange:N[2]||(N[2]=R=>He(i).updateAnnotation(He(b))),onKeyup:N[3]||(N[3]=R=>He(i).updateAnnotation(He(b))),onKeydown:N[4]||(N[4]=R=>S()),modelValue:He(b).comment,"onUpdate:modelValue":N[5]||(N[5]=R=>He(b).comment=R)},null,8,["bg-color","id","label","modelValue"])]),_:1},512),[[bs,h(He(b))]]),Go(ue(fu,{cols:"10"},{default:qt(()=>[Go(rt("div",{class:"annotationDisplay",style:q0("background-color: "+x(He(b))+";"),onClick:N[6]||(N[6]=R=>He(i).selectAnnotation(He(b).getKey()))},Xi(He(b).comment),5),[[bs,He(b).comment]])]),_:1},512),[[bs,!h(He(b))]]),ue(fu,{cols:"1",class:"trashColumn"},{default:qt(()=>[ue(As,{class:"trashButton",density:"compact",size:"small",variant:"text","prepend-icon":"mdi-delete-outline",tabindex:h(He(b))?0:-1,onClick:N[7]||(N[7]=R=>He(i).deleteAnnotation(He(b).getKey())),onKeydown:N[8]||(N[8]=R=>S())},{default:qt(()=>[Upe]),_:1},8,["tabindex"])]),_:1})]),_:1})]),_:1},8,["id"]))}},Zpe=hg(Wpe,[["__scopeId","data-v-d4f402e1"]]),jpe={id:"appAnnotations"},Kpe={__name:"Annotations",setup(s){const i=my(),u=Fl();async function m(){await Pa();let h=document.getElementById("appAnnotationContainer"+i.selectedKey);if(h){let x=h.querySelector("textarea");x&&x.focus()}}Gn(()=>i.selectionChange,m),Gn(()=>u.focusChange,m);async function b(){await Pa();let h=document.getElementById("appAnnotationContainer"+i.firstVisibleKey);h&&h.scrollIntoView()}return Gn(()=>i.firstVisibleKey,b),(h,x)=>(Jo(),El("div",jpe,[(Jo(!0),El(Er,null,dk(He(i).activeAnnotations,S=>(Jo(),Jr(Zpe,{key:S.getKey(),annotation:S},null,8,["annotation"]))),128))]))}},qpe=hg(Kpe,[["__scopeId","data-v-0f0eb080"]]),HM=s=>(xy("data-v-d20e0a70"),s=s(),wy(),s),Gpe={id:"app-edit-select-wrapper"},Ype={class:"appEditChoices"},Xpe=HM(()=>rt("span",{class:"sr-only",id:"app-edit-select-annotations"},"Anmerkungen",-1)),Jpe=HM(()=>rt("span",{"aria-hidden":"true"},"Anmerkungen",-1)),Qpe=HM(()=>rt("span",{class:"sr-only",id:"app-edit-select-text"},"Abgabe Text bearbeiten",-1)),ebe=HM(()=>rt("span",{"aria-hidden":"true"},"Text",-1)),tbe=["id"],nbe={"aria-hidden":"true"},obe={key:1,"aria-hidden":"true"},sbe={__name:"EditSelect",setup(s){const i=Fl(),u=cy(),m=yh(),b=X0(),h=my(),x=Wf(),S=Pd(),B=Eo("essay");N();function N(){switch(i.rightContent){case"annotations":B.value="annotations";break;case"essay":B.value="essay";break;case"notes":B.value=u.activeKey;break}}Gn(()=>i.rightContent,N),Gn(()=>u.activeKey,N);function R(){switch(B.value){case void 0:N();break;case"annotations":i.showAnnotations();break;case"essay":i.showEssay();break;default:i.showNotes(),u.activeKey=B.value;break}}function F(){B.value="annotations",R()}return Gn(()=>h.selectionChange,F),(W,$)=>(Jo(),El("div",Gpe,[rt("div",Ype,[He(m).hasNotes||He(S).hasInstructions||He(x).hasAnnotatableResource?(Jo(),Jr(aY,{key:0,density:"comfortable",variant:"outlined",divided:"",modelValue:B.value,"onUpdate:modelValue":$[0]||($[0]=K=>B.value=K),onClick:$[1]||($[1]=K=>R())},{default:qt(()=>[He(S).hasInstructions||He(x).hasAnnotatableResource?(Jo(),Jr(As,{key:0,"aria-labelledby":"app-edit-select-annotations",size:"small",value:"annotations"},{default:qt(()=>[ue(ns,{icon:"mdi-marker"}),Xpe,Jpe]),_:1})):Ll("",!0),ue(As,{"aria-labelledby":"app-edit-select-text",size:"small",value:"essay"},{default:qt(()=>[ue(ns,{icon:"mdi-file-edit-outline"}),Qpe,ebe]),_:1}),(Jo(!0),El(Er,null,dk(He(u).keys,K=>(Jo(),Jr(As,{size:"small","aria-labelledby":"app-edit-select-note"+He(u).notes[K].note_no,key:K,value:K},{default:qt(()=>[ue(ns,{icon:"mdi-clipboard-outline"}),rt("span",{class:"sr-only",id:"app-edit-select-note"+He(u).notes[K].note_no},Xi(He(m).notice_boards==1?"Notizen bearbeiten":"Notiz "+(He(u).notes[K].note_no+1)+" bearbeiten"),9,tbe),rt("span",nbe,Xi(He(m).notice_boards==1?"Notizen":He(u).notes[K].note_no+1),1)]),_:2},1032,["aria-labelledby","value"]))),128))]),_:1},8,["modelValue"])):Ll("",!0),Xr("  "),He(m).hasNotes?(Jo(),El("span",obe,"")):Ll("",!0),ue(gk,{density:"comfortable",variant:"outlined",divided:""},{default:qt(()=>[ue(As,{title:"Editor Text verkleinern",size:"small",icon:"mdi-magnify-minus-outline",onClick:$[2]||($[2]=K=>He(b).zoomEditorOut())}),ue(As,{title:"Editor Text vergrern",size:"small",icon:"mdi-magnify-plus-outline",onClick:$[3]||($[3]=K=>He(b).zoomEditorIn())}),ue(As,{title:He(b).word_count_enabled?"Zhler verbergen":"Zhler anzeigen",size:"small",icon:He(b).word_count_enabled?"mdi-numeric":"mdi-numeric-off",onClick:$[4]||($[4]=K=>He(b).toggleWordCountEnabled())},null,8,["title","icon"])]),_:1})]),Go(ue(qpe,{class:"appEditors"},null,512),[[bs,He(i).isAnnotationsSelected]]),Go(ue(Epe,{class:"appEditors"},null,512),[[bs,He(i).isEssaySelected]]),He(m).notice_boards>0?(Jo(!0),El(Er,{key:0},dk(He(u).keys,K=>Go((Jo(),Jr(ype,{class:"appEditors",key:K,noteKey:K,noteLabel:He(m).notice_boards==1?"Notizen":"Notiz "+(He(u).notes[K].note_no+1)},null,8,["noteKey","noteLabel"])),[[bs,He(i).isNotesSelected&&He(u).activeKey==K]])),128)):Ll("",!0)]))}},rbe=hg(sbe,[["__scopeId","data-v-d20e0a70"]]),abe=Jn({scrollable:Boolean,...tr(),...Yp(),...Bi({tag:"main"})},"VMain"),p$=rs()({name:"VMain",props:abe(),setup(s,i){let{slots:u}=i;const{dimensionStyles:m}=Xp(s),{mainStyles:b}=Bue(),{ssrBootStyles:h}=zM();return Ks(()=>ue(s.tag,{class:["v-main",{"v-main--scrollable":s.scrollable},s.class],style:[b.value,h.value,m.value,s.style]},{default:()=>{var x,S;return[s.scrollable?ue("div",{class:"v-main__scroller"},[(x=u.default)==null?void 0:x.call(u)]):(S=u.default)==null?void 0:S.call(u)]}})),{}}}),vO=s=>(xy("data-v-35686870"),s=s(),wy(),s),ibe={id:"app-main-container"},lbe={class:"col-header"},cbe={class:"headline"},ube=vO(()=>rt("span",{"aria-hidden":"true"},"Erweitern",-1)),dbe=vO(()=>rt("span",{id:"app-expand-left-column",class:"sr-only"},"Linke Spalte erweitern",-1)),fbe={class:"col-content"},mbe={class:"col-header"},gbe={class:"headline"},hbe=vO(()=>rt("span",{"aria-hidden":"true"},"Erweitern",-1)),pbe=vO(()=>rt("span",{id:"app-expand-right-column",class:"sr-only"},"Rechte Spalte erweitern",-1)),bbe={class:"col-content"},vbe=vO(()=>rt("p",null,"Sie knnen nur selbst geschriebenen Text oder Teile aus der Aufgabenstellung kopieren und einfgen.",-1)),ybe={__name:"MainContent",setup(s){const i=Fl(),u=Wf(),m=h$();return document.addEventListener("keydown",i.handleKeyDown),Ic(async()=>{i.setFocusChange("header")}),(b,h)=>(Jo(),Jr(p$,{"fill-height":""},{default:qt(()=>[rt("div",ibe,[Go(rt("section",{"aria-label":"Linke Spalte",class:hy(["column",{colExpanded:He(i).isLeftExpanded,colNormal:!He(i).isLeftExpanded}])},[rt("div",lbe,[rt("h1",cbe,Xi(He(i).isInstructionsSelected?"Aufgabenstellung":He(i).isInstructionsPdfSelected?"Aufgabenstellung (PDF)":He(i).isResourcesSelected?He(u).activeTitle:"Linke Spalte"),1),ue(gk,{density:"comfortable"},{default:qt(()=>[Go(ue(As,{size:"small",onClick:h[0]||(h[0]=x=>He(i).setLeftExpanded(!1))},{default:qt(()=>[ue(ns,{icon:"mdi-chevron-left"}),rt("span",null,Xi(He(i).isAnnotationsSelected?"Anmerkungen":He(i).isEssaySelected?"Abgabe-Text":He(i).isNotesSelected?"Notizen":"Rechte Spalte erweitern"),1)]),_:1},512),[[bs,He(i).isLeftExpanded]]),Go(ue(As,{"aria-labelledby":"app-expand-left-column",size:"small",onClick:h[1]||(h[1]=x=>He(i).setLeftExpanded(!0))},{default:qt(()=>[ube,dbe,ue(ns,{icon:"mdi-chevron-right"})]),_:1},512),[[bs,!He(i).isLeftExpanded]])]),_:1})]),rt("div",fbe,[Go(ue(Phe,null,null,512),[[bs,He(i).isInstructionsVisible]]),Go(ue(Xhe,null,null,512),[[bs,He(i).isInstructionsPdfVisible||He(i).isResourcesVisible]])])],2),[[bs,He(i).isLeftVisible]]),Go(rt("section",{"aria-label":"Rechte Spalte",class:hy(["column",{colExpanded:He(i).isRightExpanded,colNormal:!He(i).isRightExpanded}])},[rt("div",mbe,[rt("h1",gbe,Xi(He(i).isAnnotationsSelected?"Anmerkungen":He(i).isEssayVisible?"Abgabe-Text":He(i).isNotesVisible?"Notizen (werden bei der Abgabe verworfen)":"Rechte Spalte"),1),ue(gk,{density:"comfortable"},{default:qt(()=>[Go(ue(As,{size:"small",onClick:h[2]||(h[2]=x=>He(i).setRightExpanded(!1))},{default:qt(()=>[rt("span",null,Xi(He(i).isInstructionsSelected?"Aufgabenstellung":He(i).isInstructionsPdfSelected?"Aufgabenstellung (PDF)":He(i).isResourcesSelected?He(u).activeTitle:"Linke Spalte erweitern"),1),ue(ns,{icon:"mdi-chevron-right"})]),_:1},512),[[bs,He(i).isRightExpanded]]),Go(ue(As,{"aria-labelledby":"app-expand-right-column",size:"small",onClick:h[3]||(h[3]=x=>He(i).setRightExpanded(!0))},{default:qt(()=>[ue(ns,{icon:"mdi-chevron-left"}),hbe,pbe]),_:1},512),[[bs,!He(i).isRightExpanded]])]),_:1})]),rt("div",bbe,[ue(rbe)])],2),[[bs,He(i).isRightVisible]])]),ue(Q0,{width:"500",persistent:"",modelValue:He(m).show_warning,"onUpdate:modelValue":h[5]||(h[5]=x=>He(m).show_warning=x)},{default:qt(()=>[ue(J0,null,{default:qt(()=>[ue(Wp,null,{default:qt(()=>[vbe]),_:1}),ue(Up,null,{default:qt(()=>[ue(g$),ue(As,{onClick:h[4]||(h[4]=x=>He(m).hideWarning())},{default:qt(()=>[Xr(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},xbe=hg(ybe,[["__scopeId","data-v-35686870"]]),wbe=rt("p",null,"Lade Daten...",-1),Cbe=rt("span",null,"Beenden ...",-1),_be=rt("p",null,"Beim Laden der Daten ist ein Fehler aufgetreten. Die Anwendung kann nicht gestartet werden.",-1),Sbe=rt("span",null,"Beenden",-1),kbe=rt("p",null,"In Ihrem Browser sind Eingaben eines anderen Benutzers oder einer anderen Aufgabe vorhanden, die noch nicht bertragen wurden. Durch das Laden werden diese Eingaben gelscht.",-1),Ebe=rt("p",null,"Mchten Sie die neue Aufgabe laden?",-1),Abe=rt("span",null,"Laden",-1),Tbe=rt("span",null,"Abbrechen",-1),Obe=rt("p",null,"In Ihrem Browser sind Eingaben vorhanden, die noch nicht bertragen wurden. Die letzte im System gespeicherte Eingabe scheint aber nicht aus diesem Browser zu stammen. Das kann z.B. passieren, wenn Ihre Netzverbindung unterbrochen wurde und Sie anschlieend in einem anderen Browser weitergearbeitet haben. Durch das Laden werden Ihre Eingaben im Browser berschrieben.",-1),Dbe=rt("p",null,"Mchten Sie die Eingabe vom System laden?",-1),Rbe=rt("span",null,"Laden",-1),Nbe=rt("span",null,"Abbrechen",-1),Ibe={__name:"StartupContent",setup(s){const i=vi();return(u,m)=>(Jo(),Jr(p$,{"fill-height":""},{default:qt(()=>[ue(KY,{elevation:"1",color:"white",density:"compact"},{default:qt(()=>[wbe,ue(g$),ue(As,{href:He(i).returnUrl},{default:qt(()=>[ue(ns,{left:"",icon:"mdi-logout-variant"}),Cbe]),_:1},8,["href"])]),_:1}),ue(Q0,{persistent:"",modelValue:He(i).showInitFailure,"onUpdate:modelValue":m[0]||(m[0]=b=>He(i).showInitFailure=b)},{default:qt(()=>[ue(J0,null,{default:qt(()=>[ue(Wp,null,{default:qt(()=>[_be]),_:1}),ue(Up,null,{default:qt(()=>[ue(As,{href:He(i).returnUrl},{default:qt(()=>[ue(ns,{left:"",icon:"mdi-logout-variant"}),Sbe]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ue(Q0,{persistent:"",modelValue:He(i).showReplaceConfirmation,"onUpdate:modelValue":m[2]||(m[2]=b=>He(i).showReplaceConfirmation=b)},{default:qt(()=>[ue(J0,null,{default:qt(()=>[ue(Wp,null,{default:qt(()=>[kbe,Ebe]),_:1}),ue(Up,null,{default:qt(()=>[ue(As,{onClick:m[1]||(m[1]=b=>He(i).loadDataFromBackend())},{default:qt(()=>[ue(ns,{left:"",icon:"mdi-reload"}),Abe]),_:1}),ue(As,{href:He(i).returnUrl},{default:qt(()=>[ue(ns,{left:"",icon:"mdi-logout-variant"}),Tbe]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ue(Q0,{persistent:"",modelValue:He(i).showReloadConfirmation,"onUpdate:modelValue":m[4]||(m[4]=b=>He(i).showReloadConfirmation=b)},{default:qt(()=>[ue(J0,null,{default:qt(()=>[ue(Wp,null,{default:qt(()=>[Obe,Dbe]),_:1}),ue(Up,null,{default:qt(()=>[ue(As,{onClick:m[3]||(m[3]=b=>He(i).loadDataFromBackend())},{default:qt(()=>[ue(ns,{left:"",icon:"mdi-reload"}),Rbe]),_:1}),ue(As,{href:He(i).returnUrl},{default:qt(()=>[ue(ns,{left:"",icon:"mdi-logout-variant"}),Nbe]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},Vd=s=>(xy("data-v-83558a5a"),s=s(),wy(),s),Bbe={class:"column"},Mbe=Vd(()=>rt("div",{class:"col-header bg-grey-lighten-4"},[rt("h2",{class:"text-h6",style:{color:"#f00000"}},"Ihre letzten Eingaben wurden noch nicht bertragen, sind aber lokal gesichert!"),rt("p",null,"Bitte versuchen Sie die bertragung nach einer Minute erneut. Wenden Sie sich gegebenenfalls an die Aufsicht.")],-1)),Pbe={class:"col-content"},Lbe=["innerHTML"],Fbe={class:"col-footer bg-grey-lighten-4"},zbe=Vd(()=>rt("span",null,"Weiter bearbeiten",-1)),Hbe={class:"column"},Vbe={class:"col-header bg-grey-lighten-4"},$be=Vd(()=>rt("h2",{class:"text-h6"},"Sie wurden von der Bearbeitung ausgeschlossen.",-1)),Ube=Vd(()=>rt("p",null,"Es ist keine weitere Eingabe mglich.",-1)),Wbe=[$be,Ube],Zbe={class:"col-header bg-grey-lighten-4"},jbe=Vd(()=>rt("h2",{class:"text-h6"},"Ihre Bearbeitungszeit ist beendet",-1)),Kbe={key:0},qbe={class:"col-header bg-grey-lighten-4"},Gbe=Vd(()=>rt("h2",{class:"text-h6"},"Abgabe-Text",-1)),Ybe={key:0},Xbe={class:"col-content"},Jbe=["innerHTML"],Qbe={class:"col-footer bg-grey-lighten-4"},e0e=Vd(()=>rt("span",null,"Meine Bearbeitung nicht bewerten",-1)),t0e=Vd(()=>rt("span",null,"Weiter bearbeiten",-1)),n0e=Vd(()=>rt("p",null,"Bei der bertragung ihres Texts ist ein Netzwerkproblem aufgetreten. Ihre Eingaben sind lokal gesichert.",-1)),o0e=Vd(()=>rt("p",null,[rt("br"),Xr(" Sie knnen die Klausur auch ohne bertragung verlassen und spter wieder aufrufen, um die bertragung nachzuholen. ")],-1)),s0e=Vd(()=>rt("br",null,null,-1)),r0e=Vd(()=>rt("br",null,null,-1)),a0e=Vd(()=>rt("span",null,"Meldung schlieen",-1)),i0e=Vd(()=>rt("span",null,"Ohne bertragung verlassen",-1)),l0e={__name:"ReviewContent",setup(s){const i=vi(),u=Fp(),m=cy(),b=Pd(),h=yh(),x=X0();return(S,B)=>(Jo(),Jr(p$,{"fill-height":""},{default:qt(()=>[Go(rt("div",Bbe,[Mbe,rt("div",Pbe,[rt("div",{class:hy("long-essay-content "+He(h).contentClass),style:q0("font-size:"+He(x).editor_zoom+"rem;"),innerHTML:He(u).storedContent},null,14,Lbe)]),rt("div",Fbe,[ue(As,{class:"ma-2",color:He(h).primaryColorCss,onClick:B[0]||(B[0]=N=>He(i).retry())},{default:qt(()=>[ue(ns,{color:He(h).primaryTextColorCss,icon:"mdi-refresh"},null,8,["color"]),rt("span",{style:q0(He(h).primaryTextColorFullCss)},"Erneut versuchen",4)]),_:1},8,["color"]),Go(ue(As,{class:"ma-2",onClick:B[1]||(B[1]=N=>He(i).review=!1)},{default:qt(()=>[ue(ns,{icon:"mdi-file-edit-outline"}),zbe]),_:1},512),[[bs,!He(b).writingEndReached&&!He(b).isExcluded]])])],512),[[bs,He(u).openSendings>0]]),Go(rt("div",Hbe,[Go(rt("div",Vbe,Wbe,512),[[bs,He(b).isExcluded]]),Go(rt("div",Zbe,[jbe,rt("p",null,[Xr("Es ist keine weitere Eingabe mglich. Bitte berprfen Sie, ob Sie den Text in dieser Form zur Bewertung abgeben mchten. Eventuell mssen Sie scrollen um alle Teile ihres Textes sehen zu knnen! "),He(m).hasWrittenNotes?(Jo(),El("span",Kbe,"Ihre Notizen werden verworfen.")):Ll("",!0)])],512),[[bs,He(b).writingEndReached&&!He(b).isExcluded]]),Go(rt("div",qbe,[Gbe,rt("p",null,[Xr("Bitte berprfen Sie, ob Sie den Text in dieser Form zur Bewertung abgeben mchten. "),He(m).hasWrittenNotes?(Jo(),El("span",Ybe,"Ihre Notizen werden verworfen. Falls Teile davon bewertet werden sollen, kopieren Sie sie bitte in den Abgabetext.")):Ll("",!0),Xr(" Nach der Abgabe ist keine weitere Bearbeitung mehr mglich. Eventuell mssen Sie scrollen um alle Teile ihres Textes sehen zu knnen!")])],512),[[bs,!He(b).writingEndReached&&!He(b).isExcluded]]),rt("div",Xbe,[rt("div",{class:hy("long-essay-content "+He(h).contentClass),style:q0("font-size:"+He(x).editor_zoom*16+"px;"),innerHTML:He(u).storedContent},null,14,Jbe)]),rt("div",Qbe,[Go(ue(As,{class:"ma-2 primary",onClick:B[2]||(B[2]=N=>He(i).finalize(!0)),color:He(h).primaryColorCss},{default:qt(()=>[ue(ns,{color:He(h).primaryTextColorCss,icon:"mdi-file-send-outline"},null,8,["color"]),rt("span",{style:q0(He(h).primaryTextColorFullCss)},"Zur Bewertung abgeben",4)]),_:1},8,["color"]),[[bs,!He(b).isExcluded]]),Go(ue(As,{class:"ma-2",onClick:B[3]||(B[3]=N=>He(i).finalize(!1))},{default:qt(()=>[ue(ns,{icon:"mdi-logout-variant"}),e0e]),_:1},512),[[bs,He(b).writingEndReached||He(b).isExcluded]]),Go(ue(As,{class:"ma-2",onClick:B[4]||(B[4]=N=>He(i).review=!1)},{default:qt(()=>[ue(ns,{icon:"mdi-file-edit-outline"}),t0e]),_:1},512),[[bs,!He(b).writingEndReached&&!He(b).isExcluded]])])],512),[[bs,He(u).openSendings<=0]]),ue(Q0,{persistent:"",modelValue:He(i).showFinalizeFailure,"onUpdate:modelValue":B[6]||(B[6]=N=>He(i).showFinalizeFailure=N)},{default:qt(()=>[ue(J0,null,{default:qt(()=>[ue(Wp,null,{default:qt(()=>[n0e,o0e,Go(rt("p",null,[s0e,Xr(" Melden Sie sich bei der Aufsicht, um Ihre Klausur zur Korrektur abzugeben. ")],512),[[bs,He(i).showAuthorizeFailure]]),Go(rt("p",null,[r0e,Xr(" Melden Sie sich bei der Aufsicht, um Hilfe zu erhalten. ")],512),[[bs,!He(i).showAuthorizeFailure]])]),_:1}),ue(Up,null,{default:qt(()=>[ue(As,{onClick:B[5]||(B[5]=N=>He(i).showFinalizeFailure=!1)},{default:qt(()=>[ue(ns,{left:"",icon:"mdi-close"}),a0e]),_:1}),ue(As,{href:He(i).returnUrl},{default:qt(()=>[ue(ns,{left:"",icon:"mdi-logout-variant"}),i0e]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},c0e=hg(l0e,[["__scopeId","data-v-83558a5a"]]),u0e=Jn({...tr(),...Iue({fullHeight:!0}),...Hl()},"VApp"),d0e=rs()({name:"VApp",props:u0e(),setup(s,i){let{slots:u}=i;const m=ac(s),{layoutClasses:b,getLayoutItem:h,items:x,layoutRef:S}=Pue(s),{rtlClasses:B}=o1();return Ks(()=>{var N;return ue("div",{ref:S,class:["v-application",m.themeClasses.value,b.value,B.value,s.class],style:[s.style]},[ue("div",{class:"v-application__wrap"},[(N=u.default)==null?void 0:N.call(u)])])}),{getLayoutItem:h,items:x,theme:m}}}),f0e={__name:"App",setup(s){const i=vi();return i.init(),(u,m)=>(Jo(),Jr(d0e,{"fill-height":""},{default:qt(()=>[He(i).initialized?Ll("",!0):(Jo(),Jr(Ibe,{key:0})),He(i).initialized?(Jo(),Jr(ahe,{key:1})):Ll("",!0),He(i).initialized&&!He(i).review?(Jo(),Jr(Ohe,{key:2})):Ll("",!0),He(i).initialized&&!He(i).review?(Jo(),Jr(xbe,{key:3})):Ll("",!0),He(i).initialized&&He(i).review?(Jo(),Jr(c0e,{key:4})):Ll("",!0)]),_:1}))}},gX=Dle(f0e);Kue(gX);gX.mount("#app");
